<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üï£ ‚úäüèΩ üßïüèΩ Ein langweiliges NumPy-Tutorial üé∞ üë± ‚è∏Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mein Name ist Vyacheslav, ich bin ein chronischer Mathematiker und seit einigen Jahren habe ich keine Zyklen mehr verwendet, wenn ich mit Arrays gearb...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ein langweiliges NumPy-Tutorial</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469355/">  Mein Name ist Vyacheslav, ich bin ein chronischer Mathematiker und seit einigen Jahren habe ich keine Zyklen mehr verwendet, wenn ich mit Arrays gearbeitet habe ... <br><br>  Genau seit ich Vektoroperationen in NumPy entdeckt habe.  Ich m√∂chte Ihnen die NumPy-Funktionen vorstellen, mit denen ich am h√§ufigsten Arrays von Daten und Bildern verarbeite.  Am Ende des Artikels werde ich zeigen, wie Sie das NumPy-Toolkit verwenden k√∂nnen, um Bilder ohne Iterationen zu falten (= sehr schnell). <br><br>  Vergiss nicht <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np</code> </pre> <br>  und lass uns gehen! <a name="habracut"></a><br><br><a name="top"></a><br>  Inhalt <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Was ist numpy?</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Array-Erstellung</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Zugriff auf Elemente, Slices</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die Form des Arrays und seine √Ñnderung</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Achsenumlagerung und Transposition</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Array-Join</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Klonen von Daten</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mathematische Operationen an Array-Elementen</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Matrixmultiplikation</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Aggregatoren</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Anstelle einer Schlussfolgerung - ein Beispiel</a> <br><a name="p1"></a><br><h1>  Was ist numpy? </h1><br>  Dies ist eine Open Source-Bibliothek, die sich einmal vom SciPy-Projekt getrennt hat.  NumPy ist der Nachkomme von Numeric und NumArray.  NumPy basiert auf der LAPAC-Bibliothek, die in Fortran geschrieben ist.  Eine Nicht-Python-Alternative f√ºr NumPy ist Matlab. <br><br>  Aufgrund der Tatsache, dass NumPy auf Fortran basiert, ist es eine schnelle Bibliothek.  Und aufgrund der Tatsache, dass es Vektoroperationen mit mehrdimensionalen Arrays unterst√ºtzt, ist es √§u√üerst praktisch. <br><br>  Zus√§tzlich zur Basisversion (mehrdimensionale Arrays in der Basisversion) enth√§lt NumPy eine Reihe von Paketen zur L√∂sung spezieller Aufgaben, zum Beispiel: <br><br><ul><li>  numpy.linalg - implementiert Operationen der linearen Algebra (eine einfache Multiplikation von Vektoren und Matrizen ist in der Basisversion enthalten); </li><li>  numpy.random - implementiert Funktionen zum Arbeiten mit Zufallsvariablen; </li><li>  numpy.fft - implementiert die direkte und inverse Fourier-Transformation. </li></ul><br>  Daher schlage ich vor, nur einige NumPy-Funktionen und Beispiele f√ºr deren Verwendung im Detail zu betrachten, damit Sie verstehen, wie leistungsf√§hig dieses Tool ist! <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">&lt;up&gt;</a> <br><br><a name="p2"></a><br><h1>  Array-Erstellung </h1><br>  Es gibt verschiedene M√∂glichkeiten, ein Array zu erstellen: <br><br><ol><li>  Liste in Array konvertieren: <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], [<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]]) A Out: array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], [<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]])</code> </pre> </li><li>  Kopieren Sie das Array (Kopie und Deep Copy erforderlich !!!): <br><br><pre> <code class="python hljs">B = A.copy() B Out: array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], [<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]])</code> </pre> </li><li>  Erstellen Sie ein Null- oder Ein-Array einer bestimmten Gr√∂√üe: <br><br><pre> <code class="python hljs">A = np.zeros((<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>)) A Out: array([[<span class="hljs-number"><span class="hljs-number">0.</span></span>, <span class="hljs-number"><span class="hljs-number">0.</span></span>, <span class="hljs-number"><span class="hljs-number">0.</span></span>], [<span class="hljs-number"><span class="hljs-number">0.</span></span>, <span class="hljs-number"><span class="hljs-number">0.</span></span>, <span class="hljs-number"><span class="hljs-number">0.</span></span>]])</code> </pre><br><pre> <code class="python hljs">B = np.ones((<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)) B Out: array([[<span class="hljs-number"><span class="hljs-number">1.</span></span>, <span class="hljs-number"><span class="hljs-number">1.</span></span>], [<span class="hljs-number"><span class="hljs-number">1.</span></span>, <span class="hljs-number"><span class="hljs-number">1.</span></span>], [<span class="hljs-number"><span class="hljs-number">1.</span></span>, <span class="hljs-number"><span class="hljs-number">1.</span></span>]])</code> </pre> <br>  Oder nehmen Sie die Dimensionen eines vorhandenen Arrays: <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], [<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]]) B = np.zeros_like(A) B Out: array([[<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>], [<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>]])</code> </pre><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], [<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]]) B = np.ones_like(A) B Out: array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>], [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>]])</code> </pre> <br></li><li>  Wenn Sie ein zweidimensionales quadratisches Array erstellen, k√∂nnen Sie es zu einer Einheitsdiagonalmatrix machen: <br><br><pre> <code class="python hljs">A = np.eye(<span class="hljs-number"><span class="hljs-number">3</span></span>) A Out: array([[<span class="hljs-number"><span class="hljs-number">1.</span></span>, <span class="hljs-number"><span class="hljs-number">0.</span></span>, <span class="hljs-number"><span class="hljs-number">0.</span></span>], [<span class="hljs-number"><span class="hljs-number">0.</span></span>, <span class="hljs-number"><span class="hljs-number">1.</span></span>, <span class="hljs-number"><span class="hljs-number">0.</span></span>], [<span class="hljs-number"><span class="hljs-number">0.</span></span>, <span class="hljs-number"><span class="hljs-number">0.</span></span>, <span class="hljs-number"><span class="hljs-number">1.</span></span>]])</code> </pre> </li><li>  Erstellen Sie mit Schritt Schritt ein Array von Zahlen von Von (einschlie√ülich) bis Bis (nicht einschlie√ülich): <br><br><pre> <code class="python hljs">From = <span class="hljs-number"><span class="hljs-number">2.5</span></span> To = <span class="hljs-number"><span class="hljs-number">7</span></span> Step = <span class="hljs-number"><span class="hljs-number">0.5</span></span> A = np.arange(From, To, Step) A Out: array([<span class="hljs-number"><span class="hljs-number">2.5</span></span>, <span class="hljs-number"><span class="hljs-number">3.</span></span> , <span class="hljs-number"><span class="hljs-number">3.5</span></span>, <span class="hljs-number"><span class="hljs-number">4.</span></span> , <span class="hljs-number"><span class="hljs-number">4.5</span></span>, <span class="hljs-number"><span class="hljs-number">5.</span></span> , <span class="hljs-number"><span class="hljs-number">5.5</span></span>, <span class="hljs-number"><span class="hljs-number">6.</span></span> , <span class="hljs-number"><span class="hljs-number">6.5</span></span>])</code> </pre> <br>  Standardm√§√üig ist ab = 0, Schritt = 1, sodass eine Variante mit einem Parameter als An interpretiert wird: <br><br><pre> <code class="python hljs">A = np.arange(<span class="hljs-number"><span class="hljs-number">5</span></span>) A Out: array([<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>])</code> </pre> <br>  Oder mit zwei - wie Von und Bis: <br><br><pre> <code class="python hljs">A = np.arange(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>) A Out: array([<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>, <span class="hljs-number"><span class="hljs-number">14</span></span>])</code> </pre> </li></ol><br>  Beachten Sie, dass in Methode Nr. 3 die Abmessungen des Arrays als <b>ein</b> Parameter (ein Tupel von Gr√∂√üen) √ºbergeben wurden.  Mit dem zweiten Parameter in den Methoden Nr. 3 und Nr. 4 k√∂nnen Sie den gew√ºnschten Typ von Array-Elementen angeben: <br><br><pre> <code class="python hljs">A = np.zeros((<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>), <span class="hljs-string"><span class="hljs-string">'int'</span></span>) A Out: array([[<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>], [<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>]])</code> </pre> <br><pre> <code class="python hljs">B = np.ones((<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>), <span class="hljs-string"><span class="hljs-string">'complex'</span></span>) B Out: array([[<span class="hljs-number"><span class="hljs-number">1.</span></span>+<span class="hljs-number"><span class="hljs-number">0.j</span></span>, <span class="hljs-number"><span class="hljs-number">1.</span></span>+<span class="hljs-number"><span class="hljs-number">0.j</span></span>], [<span class="hljs-number"><span class="hljs-number">1.</span></span>+<span class="hljs-number"><span class="hljs-number">0.j</span></span>, <span class="hljs-number"><span class="hljs-number">1.</span></span>+<span class="hljs-number"><span class="hljs-number">0.j</span></span>], [<span class="hljs-number"><span class="hljs-number">1.</span></span>+<span class="hljs-number"><span class="hljs-number">0.j</span></span>, <span class="hljs-number"><span class="hljs-number">1.</span></span>+<span class="hljs-number"><span class="hljs-number">0.j</span></span>]])</code> </pre> <br>  Mit der Astype-Methode k√∂nnen Sie das Array in einen anderen Typ umwandeln.  Der gew√ºnschte Typ wird als Parameter angegeben: <br><br><pre> <code class="python hljs">A = np.ones((<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)) B = A.astype(<span class="hljs-string"><span class="hljs-string">'str'</span></span>) B Out: array([[<span class="hljs-string"><span class="hljs-string">'1.0'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.0'</span></span>], [<span class="hljs-string"><span class="hljs-string">'1.0'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.0'</span></span>], [<span class="hljs-string"><span class="hljs-string">'1.0'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.0'</span></span>]], dtype=<span class="hljs-string"><span class="hljs-string">'&lt;U32'</span></span>)</code> </pre> <br>  Alle verf√ºgbaren Typen finden Sie im sctypes-W√∂rterbuch: <br><br><pre> <code class="python hljs">np.sctypes Out: {<span class="hljs-string"><span class="hljs-string">'int'</span></span>: [numpy.int8, numpy.int16, numpy.int32, numpy.int64], <span class="hljs-string"><span class="hljs-string">'uint'</span></span>: [numpy.uint8, numpy.uint16, numpy.uint32, numpy.uint64], <span class="hljs-string"><span class="hljs-string">'float'</span></span>: [numpy.float16, numpy.float32, numpy.float64, numpy.float128], <span class="hljs-string"><span class="hljs-string">'complex'</span></span>: [numpy.complex64, numpy.complex128, numpy.complex256], <span class="hljs-string"><span class="hljs-string">'others'</span></span>: [bool, object, bytes, str, numpy.void]}</code> </pre> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">&lt;up&gt;</a> <br><br><a name="p3"></a><br><h1>  Zugriff auf Elemente, Slices </h1><br>  Der Zugriff auf die Elemente des Arrays erfolgt √ºber ganzzahlige Indizes. Der Countdown beginnt bei 0: <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], [<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]]) A[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>] Out: <span class="hljs-number"><span class="hljs-number">5</span></span></code> </pre> <br>  Wenn Sie sich ein mehrdimensionales Array als ein System verschachtelter eindimensionaler Arrays vorstellen (ein lineares Array, dessen Elemente lineare Arrays sein k√∂nnen), wird deutlich, dass Sie mit einem unvollst√§ndigen Satz von Indizes auf Subarrays zugreifen k√∂nnen: <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], [<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]]) A[<span class="hljs-number"><span class="hljs-number">1</span></span>] Out: array([<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>])</code> </pre> <br>  Angesichts dieses Paradigmas k√∂nnen wir das Beispiel des Zugriffs auf ein Element umschreiben: <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], [<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]]) A[<span class="hljs-number"><span class="hljs-number">1</span></span>][<span class="hljs-number"><span class="hljs-number">1</span></span>] Out: <span class="hljs-number"><span class="hljs-number">5</span></span></code> </pre> <br>  Bei Verwendung eines unvollst√§ndigen Satzes von Indizes werden die fehlenden Indizes implizit durch eine Liste aller m√∂glichen Indizes entlang der entsprechenden Achse ersetzt.  Sie k√∂nnen dies explizit tun, indem Sie ":" setzen.  Das vorherige Beispiel mit einem Index kann wie folgt umgeschrieben werden: <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], [<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]]) A[<span class="hljs-number"><span class="hljs-number">1</span></span>, :] Out: array([<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>])</code> </pre> <br>  Sie k√∂nnen einen Index entlang einer beliebigen Achse oder Achsen √ºberspringen. Wenn auf die Achse Achsen mit Indexierung folgen, muss ":": <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], [<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]]) A[:, <span class="hljs-number"><span class="hljs-number">1</span></span>] Out: array([<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>])</code> </pre> <br>  Indizes k√∂nnen negative ganzzahlige Werte annehmen.  In diesem Fall ist die Anzahl vom Ende des Arrays: <br><br><pre> <code class="python hljs">A = np.arange(<span class="hljs-number"><span class="hljs-number">5</span></span>) print(A) A[<span class="hljs-number"><span class="hljs-number">-1</span></span>] Out: [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>] <span class="hljs-number"><span class="hljs-number">4</span></span></code> </pre> <br>  Sie k√∂nnen nicht einzelne Indizes verwenden, sondern Listen von Indizes entlang jeder Achse: <br><br><pre> <code class="python hljs">A = np.arange(<span class="hljs-number"><span class="hljs-number">5</span></span>) print(A) A[[<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">-1</span></span>]] Out: [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>] array([<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>])</code> </pre> <br>  Oder Indexbereiche in Form von "Von: Bis: Schritt".  Dieser Entwurf wird eine Scheibe genannt.  Alle Elemente werden gem√§√ü der Liste der Indizes ausgew√§hlt, beginnend vom From-Index einschlie√ülich bis zum To-Index, der im Schritt Schritt nicht enthalten ist: <br><br><pre> <code class="python hljs">A = np.arange(<span class="hljs-number"><span class="hljs-number">5</span></span>) print(A) A[<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">4</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>] Out: [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>] array([<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>])</code> </pre> <br>  Der Indexschritt hat den Standardwert 1 und kann √ºbersprungen werden: <br><br><pre> <code class="python hljs">A = np.arange(<span class="hljs-number"><span class="hljs-number">5</span></span>) print(A) A[<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">4</span></span>] Out: [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>] array([<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>])</code> </pre> <br>  Die Werte Von und Bis haben auch Standardwerte: 0 und die Gr√∂√üe des Arrays entlang der Indexachse: <br><br><pre> <code class="python hljs">A = np.arange(<span class="hljs-number"><span class="hljs-number">5</span></span>) print(A) A[:<span class="hljs-number"><span class="hljs-number">4</span></span>] Out: [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>] array([<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>])</code> </pre> <br><pre> <code class="python hljs">A = np.arange(<span class="hljs-number"><span class="hljs-number">5</span></span>) print(A) A[<span class="hljs-number"><span class="hljs-number">-3</span></span>:] Out: [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>] array([<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>])</code> </pre> <br>  Wenn Sie standardm√§√üig Von und Bis verwenden m√∂chten (alle Indizes auf dieser Achse) und der Schritt von 1 abweicht, m√ºssen Sie zwei Doppelpunktpaare verwenden, damit der Interpreter einen einzelnen Parameter als Schritt identifizieren kann.  Der folgende Code "erweitert" das Array entlang der zweiten Achse, √§ndert sich jedoch nicht entlang der ersten: <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], [<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]]) B = A[:, ::<span class="hljs-number"><span class="hljs-number">-1</span></span>] print(<span class="hljs-string"><span class="hljs-string">"A"</span></span>, A) print(<span class="hljs-string"><span class="hljs-string">"B"</span></span>, B) Out: A [[<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>] [<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>]] B [[<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>] [<span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>]]</code> </pre> <br>  Jetzt lass es uns tun <br><br><pre> <code class="python hljs">print(A) B[<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>] = <span class="hljs-number"><span class="hljs-number">0</span></span> print(A) Out: [[<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>] [<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>]] [[<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>] [<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>]]</code> </pre> <br>  Wie Sie sehen k√∂nnen, haben wir durch B die Daten in A ge√§ndert. Deshalb ist es wichtig, Kopien in realen Aufgaben zu verwenden.  Das obige Beispiel sollte folgenderma√üen aussehen: <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], [<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]]) B = A.copy()[:, ::<span class="hljs-number"><span class="hljs-number">-1</span></span>] print(<span class="hljs-string"><span class="hljs-string">"A"</span></span>, A) print(<span class="hljs-string"><span class="hljs-string">"B"</span></span>, B) Out: A [[<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>] [<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>]] B [[<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>] [<span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>]]</code> </pre> <br>  NumPy bietet auch die M√∂glichkeit, √ºber ein boolesches Indexarray auf mehrere Array-Elemente zuzugreifen.  Das Indexarray muss mit der Form des indizierten Arrays √ºbereinstimmen. <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], [<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]]) I = np.array([[<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>], [ <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>]]) A[I] Out: array([<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>])</code> </pre> <br>  Wie Sie sehen k√∂nnen, gibt eine solche Konstruktion ein flaches Array zur√ºck, das aus Elementen des indizierten Arrays besteht, die echten Indizes entsprechen.  Wenn wir jedoch einen solchen Zugriff auf die Elemente des Arrays verwenden, um deren Werte zu √§ndern, bleibt die Form des Arrays erhalten: <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], [<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]]) I = np.array([[<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>], [ <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>]]) A[I] = <span class="hljs-number"><span class="hljs-number">0</span></span> print(A) Out: [[<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>] [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>]]</code> </pre> <br>  Logische Operationen logisch_und, logisch_oder und logisch_nicht werden √ºber die Indizierung von Booleschen Arrays definiert und f√ºhren logische Operationen AND, OR und NOT elementweise aus: <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], [<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]]) I1 = np.array([[<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>], [<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>]]) I2 = np.array([[<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>], [<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>]]) B = A.copy() C = A.copy() D = A.copy() B[np.logical_and(I1, I2)] = <span class="hljs-number"><span class="hljs-number">0</span></span> C[np.logical_or(I1, I2)] = <span class="hljs-number"><span class="hljs-number">0</span></span> D[np.logical_not(I1)] = <span class="hljs-number"><span class="hljs-number">0</span></span> print(<span class="hljs-string"><span class="hljs-string">'B\n'</span></span>, B) print(<span class="hljs-string"><span class="hljs-string">'\nC\n'</span></span>, C) print(<span class="hljs-string"><span class="hljs-string">'\nD\n'</span></span>, D) Out: B [[<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>] [<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>]] C [[<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>] [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>]] D [[<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>] [<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>]]</code> </pre> <br>  logisch_und und logisch_oder nehmen 2 Operanden, logisch_nicht einen.  Sie k√∂nnen die Operatoren &amp;, | verwenden  und ~, um AND, OR bzw. NOT mit einer beliebigen Anzahl von Operanden auszuf√ºhren: <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], [<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]]) I1 = np.array([[<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>], [<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>]]) I2 = np.array([[<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>], [<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>]]) A[I1 &amp; (I1 | ~ I2)] = <span class="hljs-number"><span class="hljs-number">0</span></span> print(A) Out: [[<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>] [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>]]</code> </pre> <br>  Das entspricht der Verwendung von nur I1. <br><br>  Es ist m√∂glich, ein logisches Indexarray zu erhalten, das in seiner Form einem Array von Werten entspricht, indem eine logische Bedingung mit dem Namen des Arrays als Operand geschrieben wird.  Der boolesche Wert des Index wird als die Wahrheit des Ausdrucks f√ºr das entsprechende Array-Element berechnet. <br><br>  Suchen Sie ein Indexarray von I-Elementen, die gr√∂√üer als 3 sind, und Elemente mit Werten von weniger als 2 und mehr als 4 - werden auf Null zur√ºckgesetzt: <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], [<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]]) print(<span class="hljs-string"><span class="hljs-string">'A before\n'</span></span>, A) I = A &gt; <span class="hljs-number"><span class="hljs-number">3</span></span> print(<span class="hljs-string"><span class="hljs-string">'I\n'</span></span>, I) A[np.logical_or(A &lt; <span class="hljs-number"><span class="hljs-number">2</span></span>, A &gt; <span class="hljs-number"><span class="hljs-number">4</span></span>)] = <span class="hljs-number"><span class="hljs-number">0</span></span> print(<span class="hljs-string"><span class="hljs-string">'A after\n'</span></span>, A) Out: A before [[<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>] [<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>]] I [[<span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>] [ <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>]] A after [[<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>] [<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>]]</code> </pre> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">&lt;up&gt;</a> <br><br><a name="p4"></a><br><h1>  Die Form des Arrays und seine √Ñnderung </h1><br>  Ein mehrdimensionales Array kann als eindimensionales Array maximaler L√§nge dargestellt, entlang der L√§nge der allerletzten Achse in Fragmente geschnitten und beginnend mit letzterer in Schichten entlang der Achsen gelegt werden. <br><br>  Betrachten Sie zur Verdeutlichung ein Beispiel: <br><br><pre> <code class="python hljs">A = np.arange(<span class="hljs-number"><span class="hljs-number">24</span></span>) B = A.reshape(<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>) C = A.reshape(<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) print(<span class="hljs-string"><span class="hljs-string">'B\n'</span></span>, B) print(<span class="hljs-string"><span class="hljs-string">'\nC\n'</span></span>, C) Out: B [[ <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>] [ <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>] [<span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-number"><span class="hljs-number">17</span></span>] [<span class="hljs-number"><span class="hljs-number">18</span></span> <span class="hljs-number"><span class="hljs-number">19</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span> <span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-number"><span class="hljs-number">23</span></span>]] C [[[ <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>] [ <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>] [ <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>]] [[ <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span>] [ <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span>] [<span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>]] [[<span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span>] [<span class="hljs-number"><span class="hljs-number">14</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span>] [<span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-number"><span class="hljs-number">17</span></span>]] [[<span class="hljs-number"><span class="hljs-number">18</span></span> <span class="hljs-number"><span class="hljs-number">19</span></span>] [<span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span>] [<span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-number"><span class="hljs-number">23</span></span>]]]</code> </pre> <br>  In diesem Beispiel haben wir zwei neue Arrays aus einem eindimensionalen Array mit einer L√§nge von 24 Elementen gebildet.  Array B, Gr√∂√üe 4 x 6. Wenn Sie sich die Reihenfolge der Werte ansehen, sehen Sie, dass sich entlang der zweiten Dimension Ketten aufeinanderfolgender Werte befinden. <br><br>  In Array C, 4 mal 3 mal 2, verlaufen kontinuierliche Werte entlang der letzten Achse.  Entlang der zweiten Achse befinden sich Bl√∂cke in Reihe, deren Kombination zu einer Reihe entlang der zweiten Achse des Arrays B f√ºhren w√ºrde. <br><br>  Und da wir keine Kopien erstellt haben, wird deutlich, dass es sich um unterschiedliche Darstellungsformen desselben Datenarrays handelt.  Daher k√∂nnen Sie die Form des Arrays einfach und schnell √§ndern, ohne die Daten selbst zu √§ndern. <br><br>  Um die Dimension des Arrays (Anzahl der Achsen) herauszufinden, k√∂nnen Sie das Feld ndim (Anzahl) verwenden und die Gr√∂√üe entlang jeder Achsenform (Tupel) ermitteln.  Die Bema√üung kann auch an der L√§nge der Form erkannt werden.  Um die Gesamtzahl der Elemente in einem Array zu ermitteln, k√∂nnen Sie den Gr√∂√üenwert verwenden: <br><br><pre> <code class="python hljs">A = np.arange(<span class="hljs-number"><span class="hljs-number">24</span></span>) C = A.reshape(<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) print(C.ndim, C.shape, len(C.shape), A.size) Out: <span class="hljs-number"><span class="hljs-number">3</span></span> (<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">24</span></span></code> </pre> <br>  Beachten Sie, dass ndim und shape Attribute sind, keine Methoden! <br><br>  Um das Array eindimensional anzuzeigen, k√∂nnen Sie die Ravel-Funktion verwenden: <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], [<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]]) A.ravel() Out: array([<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>])</code> </pre> <br>  Verwenden Sie die Umformungsmethode, um die Gr√∂√üe entlang der Achsen oder Bema√üungen zu √§ndern: <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], [<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]]) A.reshape(<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) Out: array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>], [<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>], [<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]])</code> </pre> <br>  Es ist wichtig, dass die Anzahl der Elemente erhalten bleibt.  Andernfalls tritt ein Fehler auf: <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], [<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]]) A.reshape(<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) Out: ValueError Traceback (most recent call last) &lt;ipython-input<span class="hljs-number"><span class="hljs-number">-73</span></span>-d204e18427d9&gt; <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> &lt;module&gt; <span class="hljs-number"><span class="hljs-number">1</span></span> A = np.array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], [<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]]) ----&gt; <span class="hljs-number"><span class="hljs-number">2</span></span> A.reshape(<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) ValueError: cannot reshape array of size <span class="hljs-number"><span class="hljs-number">6</span></span> into shape (<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>)</code> </pre> <br>  Da die Anzahl der Elemente konstant ist, kann die Gr√∂√üe entlang einer beliebigen Achse beim Umformen aus den L√§ngenwerten entlang anderer Achsen berechnet werden.  Die Gr√∂√üe entlang einer Achse kann mit -1 bezeichnet werden und wird dann automatisch berechnet: <br><br><pre> <code class="python hljs">A = np.arange(<span class="hljs-number"><span class="hljs-number">24</span></span>) B = A.reshape(<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">-1</span></span>) C = A.reshape(<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) print(B.shape, C.shape) Out: (<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>) (<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)</code> </pre> <br>  Sie k√∂nnen Reshape anstelle von Ravel verwenden: <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], [<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]]) B = A.reshape(<span class="hljs-number"><span class="hljs-number">-1</span></span>) print(B.shape) Out: (<span class="hljs-number"><span class="hljs-number">6</span></span>,)</code> </pre> <br>  Betrachten Sie die praktische Anwendung einiger Funktionen f√ºr die Bildverarbeitung.  Als Forschungsgegenstand verwenden wir ein Foto: <br><br><img src="https://habrastorage.org/webt/s4/_x/kd/s4_xkde-zkxl7hxntuvj6b9rulo.jpeg"><br><br>  Versuchen wir, es mit Python herunterzuladen und zu visualisieren.  Daf√ºr ben√∂tigen wir OpenCV und Matplotlib: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> cv2 <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> matplotlib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt I = cv2.imread(<span class="hljs-string"><span class="hljs-string">'sarajevo.jpg'</span></span>)[:, :, ::<span class="hljs-number"><span class="hljs-number">-1</span></span>] plt.figure(num=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, figsize=(<span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>), dpi=<span class="hljs-number"><span class="hljs-number">80</span></span>, facecolor=<span class="hljs-string"><span class="hljs-string">'w'</span></span>, edgecolor=<span class="hljs-string"><span class="hljs-string">'k'</span></span>) plt.imshow(I) plt.show()</code> </pre> <br>  Das Ergebnis wird folgenderma√üen aussehen: <br><br><img src="https://habrastorage.org/webt/a3/z7/05/a3z705cacyhqxhtwmxdcngq88hu.png"><br><br>  Beachten Sie die Download-Leiste: <br><br><pre> <code class="python hljs">I = cv2.imread(<span class="hljs-string"><span class="hljs-string">'sarajevo.jpg'</span></span>)[:, :, ::<span class="hljs-number"><span class="hljs-number">-1</span></span>] print(I.shape) Out: (<span class="hljs-number"><span class="hljs-number">1280</span></span>, <span class="hljs-number"><span class="hljs-number">1920</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>)</code> </pre> <br>  OpenCV arbeitet mit Bildern im BGR-Format, und wir sind mit RGB vertraut.  Wir √§ndern die Bytereihenfolge entlang der Farbachse, ohne mit dem Konstrukt auf die OpenCV-Funktionen zuzugreifen <br>  "[:,:, :: :: 1]". <br><br>  Reduzieren Sie das Bild auf jeder Achse um das Zweifache.  Unser Bild hat gleichm√§√üige Abmessungen entlang der Achsen, die ohne Interpolation reduziert werden k√∂nnen: <br><br><pre> <code class="python hljs">I_ = I.reshape(I.shape[<span class="hljs-number"><span class="hljs-number">0</span></span>] // <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, I.shape[<span class="hljs-number"><span class="hljs-number">1</span></span>] // <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">-1</span></span>) print(I_.shape) plt.figure(num=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, figsize=(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>), dpi=<span class="hljs-number"><span class="hljs-number">80</span></span>, facecolor=<span class="hljs-string"><span class="hljs-string">'w'</span></span>, edgecolor=<span class="hljs-string"><span class="hljs-string">'k'</span></span>) plt.imshow(I_[:, <span class="hljs-number"><span class="hljs-number">0</span></span>, :, <span class="hljs-number"><span class="hljs-number">0</span></span>]) plt.show()</code> </pre> <br><img src="https://habrastorage.org/webt/9z/ig/12/9zig12b_iqus6ymezttmqu7poga.png"><br><br>  Wenn wir die Form des Arrays √§ndern, erhalten wir 2 neue Achsen mit jeweils 2 Werten. Sie entsprechen Frames, die aus ungeraden und geraden Zeilen und Spalten des Originalbilds bestehen. <br>  Eine schlechte Qualit√§t ist auf die Verwendung von Matplotlib zur√ºckzuf√ºhren, da dort die axialen Abmessungen sichtbar sind.  In der Tat ist die Qualit√§t der Miniaturansicht: <br><br><img src="https://habrastorage.org/webt/__/32/cp/__32cpcj6xlm1n5efxcwkp4lhxw.jpeg"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">&lt;up&gt;</a> <br><br><a name="p5"></a><br><h1>  Achsenumlagerung und Transposition </h1><br>  Zus√§tzlich zum √Ñndern der Form des Arrays mit derselben Reihenfolge von Dateneinheiten ist es h√§ufig erforderlich, die Reihenfolge der Achsen zu √§ndern, was nat√ºrlich eine Permutation der Datenbl√∂cke zur Folge hat. <br><br>  Ein Beispiel f√ºr eine solche Transformation ist die Transposition einer Matrix: Vertauschen von Zeilen und Spalten. <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], [<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]]) print(<span class="hljs-string"><span class="hljs-string">'A\n'</span></span>, A) print(<span class="hljs-string"><span class="hljs-string">'\nA data\n'</span></span>, A.ravel()) B = AT print(<span class="hljs-string"><span class="hljs-string">'\nB\n'</span></span>, B) print(<span class="hljs-string"><span class="hljs-string">'\nB data\n'</span></span>, B.ravel()) Out: A [[<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>] [<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>]] A data [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>] B [[<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>] [<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>]] B data [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>]</code> </pre><br>  In diesem Beispiel wurde das AT-Konstrukt verwendet, um die Matrix A zu transponieren. Der Transponierungsoperator invertiert die Achsenreihenfolge.  Betrachten Sie ein weiteres Beispiel mit drei Achsen: <br><br><pre> <code class="python hljs">C = np.arange(<span class="hljs-number"><span class="hljs-number">24</span></span>).reshape(<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) print(C.shape, np.transpose(C).shape) print() print(C[<span class="hljs-number"><span class="hljs-number">0</span></span>]) print() print(CT[:, :, <span class="hljs-number"><span class="hljs-number">0</span></span>]) Out: [[<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>] [<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>]] [[<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>]]</code> </pre><br>  Dieser kurze Eintrag hat ein l√§ngeres Gegenst√ºck: np.transpose (A).  Dies ist ein vielseitigeres Werkzeug zum Ersetzen der Achsenreihenfolge.  Mit dem zweiten Parameter k√∂nnen Sie ein Tupel von Achsnummern des Quellarrays angeben, das die Reihenfolge ihrer Position im resultierenden Array bestimmt. <br><br>  Ordnen Sie beispielsweise die ersten beiden Achsen des Bildes neu an.  Das Bild sollte umdrehen, aber die Farbachse unver√§ndert lassen: <br><br><pre> <code class="python hljs">I_ = np.transpose(I, (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)) plt.figure(num=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, figsize=(<span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>), dpi=<span class="hljs-number"><span class="hljs-number">80</span></span>, facecolor=<span class="hljs-string"><span class="hljs-string">'w'</span></span>, edgecolor=<span class="hljs-string"><span class="hljs-string">'k'</span></span>) plt.imshow(I_) plt.show()</code> </pre><br><img src="https://habrastorage.org/webt/qm/am/ej/qmamejo5ghalkut44wbbfmeliaq.png"><br><br>  In diesem Beispiel k√∂nnte ein anderes Swapaxes-Tool verwendet werden.  Diese Methode vertauscht die beiden in den Parametern angegebenen Achsen.  Das obige Beispiel k√∂nnte folgenderma√üen implementiert werden: <br><br><pre> <code class="python hljs">I_ = np.swapaxes(I, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)</code> </pre><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">&lt;up&gt;</a> <br><br><a name="p45"></a><br><h1>  Array-Join </h1><br>  Zusammengef√ºhrte Arrays m√ºssen dieselbe Anzahl von Achsen haben.  Arrays k√∂nnen mit der Bildung einer neuen Achse oder entlang einer vorhandenen Achse kombiniert werden. <br><br>  Um mit der Bildung einer neuen Achse kombiniert zu werden, m√ºssen die urspr√ºnglichen Arrays entlang aller Achsen die gleichen Abmessungen haben: <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>], [<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>]]) B = A[::<span class="hljs-number"><span class="hljs-number">-1</span></span>] C = A[:, ::<span class="hljs-number"><span class="hljs-number">-1</span></span>] D = np.stack((A, B, C)) print(D.shape) D Out: (<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>) array([[[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>], [<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>]], [[<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>], [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>]], [[<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>], [<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>]]])</code> </pre><br>  Wie Sie dem Beispiel entnehmen k√∂nnen, wurden die Operandenarrays zu Unterarrays des neuen Objekts und wurden entlang der neuen Achse ausgerichtet, die die allererste in der Reihenfolge ist. <br><br>  Um Arrays entlang einer vorhandenen Achse zu kombinieren, m√ºssen sie auf allen Achsen dieselbe Gr√∂√üe haben, mit Ausnahme derjenigen, die zum Verbinden ausgew√§hlt wurde, und sie k√∂nnen entlang dieser Achse beliebige Gr√∂√üen haben: <br><br><pre> <code class="python hljs">A = np.ones((<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)) B = np.zeros((<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)) C = np.concatenate((A, B), <span class="hljs-number"><span class="hljs-number">1</span></span>) print(C.shape) C Out: (<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) array([[[<span class="hljs-number"><span class="hljs-number">1.</span></span>, <span class="hljs-number"><span class="hljs-number">1.</span></span>], [<span class="hljs-number"><span class="hljs-number">0.</span></span>, <span class="hljs-number"><span class="hljs-number">0.</span></span>], [<span class="hljs-number"><span class="hljs-number">0.</span></span>, <span class="hljs-number"><span class="hljs-number">0.</span></span>], [<span class="hljs-number"><span class="hljs-number">0.</span></span>, <span class="hljs-number"><span class="hljs-number">0.</span></span>]], [[<span class="hljs-number"><span class="hljs-number">1.</span></span>, <span class="hljs-number"><span class="hljs-number">1.</span></span>], [<span class="hljs-number"><span class="hljs-number">0.</span></span>, <span class="hljs-number"><span class="hljs-number">0.</span></span>], [<span class="hljs-number"><span class="hljs-number">0.</span></span>, <span class="hljs-number"><span class="hljs-number">0.</span></span>], [<span class="hljs-number"><span class="hljs-number">0.</span></span>, <span class="hljs-number"><span class="hljs-number">0.</span></span>]]])</code> </pre><br>  Zum Kombinieren entlang der ersten oder zweiten Achse k√∂nnen Sie die Methoden vstack bzw. hstack verwenden.  Wir zeigen dies anhand eines Beispiels von Bildern.  vstack kombiniert Bilder mit derselben Breite in der H√∂he und hsstack kombiniert Bilder mit derselben H√∂he in einer Breite: <br><br><pre> <code class="python hljs">I = cv2.imread(<span class="hljs-string"><span class="hljs-string">'sarajevo.jpg'</span></span>)[:, :, ::<span class="hljs-number"><span class="hljs-number">-1</span></span>] I_ = I.reshape(I.shape[<span class="hljs-number"><span class="hljs-number">0</span></span>] // <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, I.shape[<span class="hljs-number"><span class="hljs-number">1</span></span>] // <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">-1</span></span>) Ih = np.hstack((I_[:, <span class="hljs-number"><span class="hljs-number">0</span></span>, :, <span class="hljs-number"><span class="hljs-number">0</span></span>], I_[:, <span class="hljs-number"><span class="hljs-number">0</span></span>, :, <span class="hljs-number"><span class="hljs-number">1</span></span>])) Iv = np.vstack((I_[:, <span class="hljs-number"><span class="hljs-number">0</span></span>, :, <span class="hljs-number"><span class="hljs-number">0</span></span>], I_[:, <span class="hljs-number"><span class="hljs-number">1</span></span>, :, <span class="hljs-number"><span class="hljs-number">0</span></span>])) plt.figure(num=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, figsize=(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>), dpi=<span class="hljs-number"><span class="hljs-number">80</span></span>, facecolor=<span class="hljs-string"><span class="hljs-string">'w'</span></span>, edgecolor=<span class="hljs-string"><span class="hljs-string">'k'</span></span>) plt.imshow(Ih) plt.show() plt.figure(num=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, figsize=(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>), dpi=<span class="hljs-number"><span class="hljs-number">80</span></span>, facecolor=<span class="hljs-string"><span class="hljs-string">'w'</span></span>, edgecolor=<span class="hljs-string"><span class="hljs-string">'k'</span></span>) plt.imshow(Iv) plt.show()</code> </pre><br><img src="https://habrastorage.org/webt/-6/ob/95/-6ob95gddbk6k3cphy4jxmkz4de.png"><br><br><img src="https://habrastorage.org/webt/up/ik/dw/upikdwlnydr1bcnun2rtkcniebq.png"><br><br>  Bitte beachten Sie, dass in allen Beispielen dieses Abschnitts die verkn√ºpften Arrays von einem Parameter (Tupel) √ºbergeben werden.  Die Anzahl der Operanden kann beliebig sein, aber nicht unbedingt nur 2. <br><br>  Achten Sie beim Kombinieren von Arrays auch darauf, was mit dem Speicher passiert: <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>], [<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>]]) B = A[::<span class="hljs-number"><span class="hljs-number">-1</span></span>] C = A[:, ::<span class="hljs-number"><span class="hljs-number">-1</span></span>] D = np.stack((A, B, C)) D[<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>] = <span class="hljs-number"><span class="hljs-number">0</span></span> print(A) Out: [[<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>] [<span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>]]</code> </pre><br>  Da ein neues Objekt erstellt wird, werden die darin enthaltenen Daten aus den urspr√ºnglichen Arrays kopiert, sodass √Ñnderungen an den neuen Daten keine Auswirkungen auf das Original haben. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">&lt;up&gt;</a> <br><br><a name="p6"></a><br><h1>  Klonen von Daten </h1><br>  Der Operator np.repeat (A, n) gibt ein eindimensionales Array mit Elementen des Arrays A zur√ºck, von denen jedes n-mal wiederholt wird. <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>], [<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>]]) print(np.repeat(A, <span class="hljs-number"><span class="hljs-number">2</span></span>)) Out: [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>]</code> </pre><br>  Nach dieser Konvertierung k√∂nnen Sie die Geometrie des Arrays neu erstellen und doppelte Daten auf einer Achse erfassen: <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>], [<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>]]) B = np.repeat(A, <span class="hljs-number"><span class="hljs-number">2</span></span>).reshape(A.shape[<span class="hljs-number"><span class="hljs-number">0</span></span>], A.shape[<span class="hljs-number"><span class="hljs-number">1</span></span>], <span class="hljs-number"><span class="hljs-number">-1</span></span>) print(B) Out: [[[<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>] [<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>] [<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>]] [[<span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>] [<span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>] [<span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span>] [<span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>]]]</code> </pre><br>  Diese Option unterscheidet sich von der Kombination des Arrays mit dem Stapeloperator selbst nur an der Position der Achse, entlang der sich dieselben Daten befinden.  Im obigen Beispiel ist dies die letzte Achse, wenn Sie den Stapel verwenden - die erste: <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>], [<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>]]) B = np.stack((A, A)) print(B) Out: [[[<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>] [<span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>]] [[<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>] [<span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>]]]</code> </pre><br>  Unabh√§ngig davon, wie die Daten geklont werden, besteht der n√§chste Schritt darin, die Achse, entlang der dieselben Werte stehen, an eine beliebige Position mit dem Achsensystem zu verschieben: <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>], [<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>]]) B = np.transpose(np.stack((A, A)), (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)) C = np.transpose(np.repeat(A, <span class="hljs-number"><span class="hljs-number">2</span></span>).reshape(A.shape[<span class="hljs-number"><span class="hljs-number">0</span></span>], A.shape[<span class="hljs-number"><span class="hljs-number">1</span></span>], <span class="hljs-number"><span class="hljs-number">-1</span></span>), (<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)) print(<span class="hljs-string"><span class="hljs-string">'B\n'</span></span>, B) print(<span class="hljs-string"><span class="hljs-string">'\nC\n'</span></span>, C) Out: B [[[<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>]] [[<span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>] [<span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>]]] C [[[<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>]] [[<span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>] [<span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>]]]</code> </pre><br>  Wenn wir eine Achse mithilfe der Wiederholung von Elementen ‚Äûstrecken‚Äú m√∂chten, muss die Achse mit denselben Werten <b>nach dem</b> Erweiterbaren (mithilfe der Transponierung) platziert und dann diese beiden Achsen (mithilfe der Umformung) kombiniert werden.  Betrachten Sie ein Beispiel f√ºr das Strecken eines Bildes entlang einer vertikalen Achse durch Duplizieren von Zeilen: <br><br><pre> <code class="python hljs">I0 = cv2.imread(<span class="hljs-string"><span class="hljs-string">'sarajevo.jpg'</span></span>)[:, :, ::<span class="hljs-number"><span class="hljs-number">-1</span></span>] <span class="hljs-comment"><span class="hljs-comment">#    I1 = I.reshape(I.shape[0] // 2, 2, I.shape[1] // 2, 2, -1)[:, 0, :, 0] #      I2 = np.repeat(I1, 2) #   I3 = I2.reshape(I1.shape[0], I1.shape[1], I1.shape[2], -1) I4 = np.transpose(I3, (0, 3, 1, 2)) #    I5 = I4.reshape(-1, I1.shape[1], I1.shape[2]) #   print('I0', I0.shape) print('I1', I1.shape) print('I2', I2.shape) print('I3', I3.shape) print('I4', I4.shape) print('I5', I5.shape) plt.figure(num=None, figsize=(10, 10), dpi=80, facecolor='w', edgecolor='k') plt.imshow(I5) plt.show() Out: I0 (1280, 1920, 3) I1 (640, 960, 3) I2 (3686400,) I3 (640, 960, 3, 2) I4 (640, 2, 960, 3) I5 (1280, 960, 3)</span></span></code> </pre><br><img src="https://habrastorage.org/webt/e1/kx/0w/e1kx0wvkavizpfamsclewgm8wj8.png"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">&lt;up&gt;</a> <br><br><a name="p7"></a><br><h1>  Mathematische Operationen an Array-Elementen </h1><br>  Wenn A und B Arrays gleicher Gr√∂√üe sind, k√∂nnen sie addiert, multipliziert, subtrahiert, geteilt und zu einer Potenz erhoben werden.  Diese Operationen werden <b>Element f√ºr Element ausgef√ºhrt</b> , das resultierende Array stimmt in der Geometrie mit den urspr√ºnglichen Arrays √ºberein, und jedes seiner Elemente ist das Ergebnis der entsprechenden Operation an einem Elementpaar aus den urspr√ºnglichen Arrays: <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">-1.</span></span>, <span class="hljs-number"><span class="hljs-number">2.</span></span>, <span class="hljs-number"><span class="hljs-number">3.</span></span>], [<span class="hljs-number"><span class="hljs-number">4.</span></span>, <span class="hljs-number"><span class="hljs-number">5.</span></span>, <span class="hljs-number"><span class="hljs-number">6.</span></span>], [<span class="hljs-number"><span class="hljs-number">7.</span></span>, <span class="hljs-number"><span class="hljs-number">8.</span></span>, <span class="hljs-number"><span class="hljs-number">9.</span></span>]]) B = np.array([[<span class="hljs-number"><span class="hljs-number">1.</span></span>, <span class="hljs-number"><span class="hljs-number">-2.</span></span>, <span class="hljs-number"><span class="hljs-number">-3.</span></span>], [<span class="hljs-number"><span class="hljs-number">7.</span></span>, <span class="hljs-number"><span class="hljs-number">8.</span></span>, <span class="hljs-number"><span class="hljs-number">9.</span></span>], [<span class="hljs-number"><span class="hljs-number">4.</span></span>, <span class="hljs-number"><span class="hljs-number">5.</span></span>, <span class="hljs-number"><span class="hljs-number">6.</span></span>], ]) C = A + B D = A - B E = A * B F = A / B G = A ** B print(<span class="hljs-string"><span class="hljs-string">'+\n'</span></span>, C, <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'-\n'</span></span>, D, <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'*\n'</span></span>, E, <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'/\n'</span></span>, F, <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'**\n'</span></span>, G, <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) Out: + [[ <span class="hljs-number"><span class="hljs-number">0.</span></span> <span class="hljs-number"><span class="hljs-number">0.</span></span> <span class="hljs-number"><span class="hljs-number">0.</span></span>] [<span class="hljs-number"><span class="hljs-number">11.</span></span> <span class="hljs-number"><span class="hljs-number">13.</span></span> <span class="hljs-number"><span class="hljs-number">15.</span></span>] [<span class="hljs-number"><span class="hljs-number">11.</span></span> <span class="hljs-number"><span class="hljs-number">13.</span></span> <span class="hljs-number"><span class="hljs-number">15.</span></span>]] - [[<span class="hljs-number"><span class="hljs-number">-2.</span></span> <span class="hljs-number"><span class="hljs-number">4.</span></span> <span class="hljs-number"><span class="hljs-number">6.</span></span>] [<span class="hljs-number"><span class="hljs-number">-3.</span></span> <span class="hljs-number"><span class="hljs-number">-3.</span></span> <span class="hljs-number"><span class="hljs-number">-3.</span></span>] [ <span class="hljs-number"><span class="hljs-number">3.</span></span> <span class="hljs-number"><span class="hljs-number">3.</span></span> <span class="hljs-number"><span class="hljs-number">3.</span></span>]] * [[<span class="hljs-number"><span class="hljs-number">-1.</span></span> <span class="hljs-number"><span class="hljs-number">-4.</span></span> <span class="hljs-number"><span class="hljs-number">-9.</span></span>] [<span class="hljs-number"><span class="hljs-number">28.</span></span> <span class="hljs-number"><span class="hljs-number">40.</span></span> <span class="hljs-number"><span class="hljs-number">54.</span></span>] [<span class="hljs-number"><span class="hljs-number">28.</span></span> <span class="hljs-number"><span class="hljs-number">40.</span></span> <span class="hljs-number"><span class="hljs-number">54.</span></span>]] / [[<span class="hljs-number"><span class="hljs-number">-1.</span></span> <span class="hljs-number"><span class="hljs-number">-1.</span></span> <span class="hljs-number"><span class="hljs-number">-1.</span></span> ] [ <span class="hljs-number"><span class="hljs-number">0.57142857</span></span> <span class="hljs-number"><span class="hljs-number">0.625</span></span> <span class="hljs-number"><span class="hljs-number">0.66666667</span></span>] [ <span class="hljs-number"><span class="hljs-number">1.75</span></span> <span class="hljs-number"><span class="hljs-number">1.6</span></span> <span class="hljs-number"><span class="hljs-number">1.5</span></span> ]] ** [[<span class="hljs-number"><span class="hljs-number">-1.0000000e+00</span></span> <span class="hljs-number"><span class="hljs-number">2.5000000e-01</span></span> <span class="hljs-number"><span class="hljs-number">3.7037037e-02</span></span>] [ <span class="hljs-number"><span class="hljs-number">1.6384000e+04</span></span> <span class="hljs-number"><span class="hljs-number">3.9062500e+05</span></span> <span class="hljs-number"><span class="hljs-number">1.0077696e+07</span></span>] [ <span class="hljs-number"><span class="hljs-number">2.4010000e+03</span></span> <span class="hljs-number"><span class="hljs-number">3.2768000e+04</span></span> <span class="hljs-number"><span class="hljs-number">5.3144100e+05</span></span>]]</code> </pre><br>  Sie k√∂nnen eine beliebige Operation von oben f√ºr das Array und die Nummer ausf√ºhren.  In diesem Fall wird die Operation auch f√ºr jedes der Elemente des Arrays ausgef√ºhrt: <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">-1.</span></span>, <span class="hljs-number"><span class="hljs-number">2.</span></span>, <span class="hljs-number"><span class="hljs-number">3.</span></span>], [<span class="hljs-number"><span class="hljs-number">4.</span></span>, <span class="hljs-number"><span class="hljs-number">5.</span></span>, <span class="hljs-number"><span class="hljs-number">6.</span></span>], [<span class="hljs-number"><span class="hljs-number">7.</span></span>, <span class="hljs-number"><span class="hljs-number">8.</span></span>, <span class="hljs-number"><span class="hljs-number">9.</span></span>]]) B = <span class="hljs-number"><span class="hljs-number">-2.</span></span> C = A + B D = A - B E = A * B F = A / B G = A ** B print(<span class="hljs-string"><span class="hljs-string">'+\n'</span></span>, C, <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'-\n'</span></span>, D, <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'*\n'</span></span>, E, <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'/\n'</span></span>, F, <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'**\n'</span></span>, G, <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) Out: + [[<span class="hljs-number"><span class="hljs-number">-3.</span></span> <span class="hljs-number"><span class="hljs-number">0.</span></span> <span class="hljs-number"><span class="hljs-number">1.</span></span>] [ <span class="hljs-number"><span class="hljs-number">2.</span></span> <span class="hljs-number"><span class="hljs-number">3.</span></span> <span class="hljs-number"><span class="hljs-number">4.</span></span>] [ <span class="hljs-number"><span class="hljs-number">5.</span></span> <span class="hljs-number"><span class="hljs-number">6.</span></span> <span class="hljs-number"><span class="hljs-number">7.</span></span>]] - [[ <span class="hljs-number"><span class="hljs-number">1.</span></span> <span class="hljs-number"><span class="hljs-number">4.</span></span> <span class="hljs-number"><span class="hljs-number">5.</span></span>] [ <span class="hljs-number"><span class="hljs-number">6.</span></span> <span class="hljs-number"><span class="hljs-number">7.</span></span> <span class="hljs-number"><span class="hljs-number">8.</span></span>] [ <span class="hljs-number"><span class="hljs-number">9.</span></span> <span class="hljs-number"><span class="hljs-number">10.</span></span> <span class="hljs-number"><span class="hljs-number">11.</span></span>]] * [[ <span class="hljs-number"><span class="hljs-number">2.</span></span> <span class="hljs-number"><span class="hljs-number">-4.</span></span> <span class="hljs-number"><span class="hljs-number">-6.</span></span>] [ <span class="hljs-number"><span class="hljs-number">-8.</span></span> <span class="hljs-number"><span class="hljs-number">-10.</span></span> <span class="hljs-number"><span class="hljs-number">-12.</span></span>] [<span class="hljs-number"><span class="hljs-number">-14.</span></span> <span class="hljs-number"><span class="hljs-number">-16.</span></span> <span class="hljs-number"><span class="hljs-number">-18.</span></span>]] / [[ <span class="hljs-number"><span class="hljs-number">0.5</span></span> <span class="hljs-number"><span class="hljs-number">-1.</span></span> <span class="hljs-number"><span class="hljs-number">-1.5</span></span>] [<span class="hljs-number"><span class="hljs-number">-2.</span></span> <span class="hljs-number"><span class="hljs-number">-2.5</span></span> <span class="hljs-number"><span class="hljs-number">-3.</span></span> ] [<span class="hljs-number"><span class="hljs-number">-3.5</span></span> <span class="hljs-number"><span class="hljs-number">-4.</span></span> <span class="hljs-number"><span class="hljs-number">-4.5</span></span>]] ** [[<span class="hljs-number"><span class="hljs-number">1.</span></span> <span class="hljs-number"><span class="hljs-number">0.25</span></span> <span class="hljs-number"><span class="hljs-number">0.11111111</span></span>] [<span class="hljs-number"><span class="hljs-number">0.0625</span></span> <span class="hljs-number"><span class="hljs-number">0.04</span></span> <span class="hljs-number"><span class="hljs-number">0.02777778</span></span>] [<span class="hljs-number"><span class="hljs-number">0.02040816</span></span> <span class="hljs-number"><span class="hljs-number">0.015625</span></span> <span class="hljs-number"><span class="hljs-number">0.01234568</span></span>]]</code> </pre><br>  Da ein mehrdimensionales Array als flaches Array (erste Achse) betrachtet werden kann, dessen Elemente Arrays (andere Achsen) sind, ist es m√∂glich, die betrachteten Operationen an den Arrays A und B auszuf√ºhren, wenn die Geometrie von B mit der Geometrie der Subarrays von A mit einem festen Wert entlang der ersten Achse √ºbereinstimmt .  Mit anderen Worten, mit der gleichen Anzahl von Achsen und Gr√∂√üen A [i] und B. In diesem Fall ist jedes der Arrays A [i] und B Operanden f√ºr Operationen, die auf Arrays definiert sind. <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1.</span></span>, <span class="hljs-number"><span class="hljs-number">2.</span></span>, <span class="hljs-number"><span class="hljs-number">3.</span></span>], [<span class="hljs-number"><span class="hljs-number">4.</span></span>, <span class="hljs-number"><span class="hljs-number">5.</span></span>, <span class="hljs-number"><span class="hljs-number">6.</span></span>], [<span class="hljs-number"><span class="hljs-number">7.</span></span>, <span class="hljs-number"><span class="hljs-number">8.</span></span>, <span class="hljs-number"><span class="hljs-number">9.</span></span>]]) B = np.array([<span class="hljs-number"><span class="hljs-number">-1.1</span></span>, <span class="hljs-number"><span class="hljs-number">-1.2</span></span>, <span class="hljs-number"><span class="hljs-number">-1.3</span></span>]) C = AT + B D = AT - B E = AT * B F = AT / B G = AT ** B print(<span class="hljs-string"><span class="hljs-string">'+\n'</span></span>, C, <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'-\n'</span></span>, D, <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'*\n'</span></span>, E, <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'/\n'</span></span>, F, <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'**\n'</span></span>, G, <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) Out: + [[<span class="hljs-number"><span class="hljs-number">-0.1</span></span> <span class="hljs-number"><span class="hljs-number">2.8</span></span> <span class="hljs-number"><span class="hljs-number">5.7</span></span>] [ <span class="hljs-number"><span class="hljs-number">0.9</span></span> <span class="hljs-number"><span class="hljs-number">3.8</span></span> <span class="hljs-number"><span class="hljs-number">6.7</span></span>] [ <span class="hljs-number"><span class="hljs-number">1.9</span></span> <span class="hljs-number"><span class="hljs-number">4.8</span></span> <span class="hljs-number"><span class="hljs-number">7.7</span></span>]] - [[ <span class="hljs-number"><span class="hljs-number">2.1</span></span> <span class="hljs-number"><span class="hljs-number">5.2</span></span> <span class="hljs-number"><span class="hljs-number">8.3</span></span>] [ <span class="hljs-number"><span class="hljs-number">3.1</span></span> <span class="hljs-number"><span class="hljs-number">6.2</span></span> <span class="hljs-number"><span class="hljs-number">9.3</span></span>] [ <span class="hljs-number"><span class="hljs-number">4.1</span></span> <span class="hljs-number"><span class="hljs-number">7.2</span></span> <span class="hljs-number"><span class="hljs-number">10.3</span></span>]] * [[ <span class="hljs-number"><span class="hljs-number">-1.1</span></span> <span class="hljs-number"><span class="hljs-number">-4.8</span></span> <span class="hljs-number"><span class="hljs-number">-9.1</span></span>] [ <span class="hljs-number"><span class="hljs-number">-2.2</span></span> <span class="hljs-number"><span class="hljs-number">-6.</span></span> <span class="hljs-number"><span class="hljs-number">-10.4</span></span>] [ <span class="hljs-number"><span class="hljs-number">-3.3</span></span> <span class="hljs-number"><span class="hljs-number">-7.2</span></span> <span class="hljs-number"><span class="hljs-number">-11.7</span></span>]] / [[<span class="hljs-number"><span class="hljs-number">-0.90909091</span></span> <span class="hljs-number"><span class="hljs-number">-3.33333333</span></span> <span class="hljs-number"><span class="hljs-number">-5.38461538</span></span>] [<span class="hljs-number"><span class="hljs-number">-1.81818182</span></span> <span class="hljs-number"><span class="hljs-number">-4.16666667</span></span> <span class="hljs-number"><span class="hljs-number">-6.15384615</span></span>] [<span class="hljs-number"><span class="hljs-number">-2.72727273</span></span> <span class="hljs-number"><span class="hljs-number">-5.</span></span> <span class="hljs-number"><span class="hljs-number">-6.92307692</span></span>]] ** [[<span class="hljs-number"><span class="hljs-number">1.</span></span> <span class="hljs-number"><span class="hljs-number">0.18946457</span></span> <span class="hljs-number"><span class="hljs-number">0.07968426</span></span>] [<span class="hljs-number"><span class="hljs-number">0.4665165</span></span> <span class="hljs-number"><span class="hljs-number">0.14495593</span></span> <span class="hljs-number"><span class="hljs-number">0.06698584</span></span>] [<span class="hljs-number"><span class="hljs-number">0.29865282</span></span> <span class="hljs-number"><span class="hljs-number">0.11647119</span></span> <span class="hljs-number"><span class="hljs-number">0.05747576</span></span>]]</code> </pre><br>  In diesem Beispiel wird Array B mit jeder Zeile von Array A operiert. Wenn Sie den Grad der Subarrays entlang einer anderen Achse multiplizieren / dividieren / addieren / subtrahieren / erh√∂hen m√ºssen, m√ºssen Sie die Transposition verwenden, um die gew√ºnschte Achse an ihre erste Stelle zu setzen und sie dann an ihre Stelle zur√ºckzusetzen.  Betrachten Sie das obige Beispiel, jedoch mit Multiplikation mit dem Vektor B der Spalten von Array A: <br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1.</span></span>, <span class="hljs-number"><span class="hljs-number">2.</span></span>, <span class="hljs-number"><span class="hljs-number">3.</span></span>], [<span class="hljs-number"><span class="hljs-number">4.</span></span>, <span class="hljs-number"><span class="hljs-number">5.</span></span>, <span class="hljs-number"><span class="hljs-number">6.</span></span>], [<span class="hljs-number"><span class="hljs-number">7.</span></span>, <span class="hljs-number"><span class="hljs-number">8.</span></span>, <span class="hljs-number"><span class="hljs-number">9.</span></span>]]) B = np.array([<span class="hljs-number"><span class="hljs-number">-1.1</span></span>, <span class="hljs-number"><span class="hljs-number">-1.2</span></span>, <span class="hljs-number"><span class="hljs-number">-1.3</span></span>]) C = (AT + B).T D = (AT - B).T E = (AT * B).T F = (AT / B).T G = (AT ** B).T print(<span class="hljs-string"><span class="hljs-string">'+\n'</span></span>, C, <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'-\n'</span></span>, D, <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'*\n'</span></span>, E, <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'/\n'</span></span>, F, <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'**\n'</span></span>, G, <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) Out: + [[<span class="hljs-number"><span class="hljs-number">-0.1</span></span> <span class="hljs-number"><span class="hljs-number">0.9</span></span> <span class="hljs-number"><span class="hljs-number">1.9</span></span>] [ <span class="hljs-number"><span class="hljs-number">2.8</span></span> <span class="hljs-number"><span class="hljs-number">3.8</span></span> <span class="hljs-number"><span class="hljs-number">4.8</span></span>] [ <span class="hljs-number"><span class="hljs-number">5.7</span></span> <span class="hljs-number"><span class="hljs-number">6.7</span></span> <span class="hljs-number"><span class="hljs-number">7.7</span></span>]] - [[ <span class="hljs-number"><span class="hljs-number">2.1</span></span> <span class="hljs-number"><span class="hljs-number">3.1</span></span> <span class="hljs-number"><span class="hljs-number">4.1</span></span>] [ <span class="hljs-number"><span class="hljs-number">5.2</span></span> <span class="hljs-number"><span class="hljs-number">6.2</span></span> <span class="hljs-number"><span class="hljs-number">7.2</span></span>] [ <span class="hljs-number"><span class="hljs-number">8.3</span></span> <span class="hljs-number"><span class="hljs-number">9.3</span></span> <span class="hljs-number"><span class="hljs-number">10.3</span></span>]] * [[ <span class="hljs-number"><span class="hljs-number">-1.1</span></span> <span class="hljs-number"><span class="hljs-number">-2.2</span></span> <span class="hljs-number"><span class="hljs-number">-3.3</span></span>] [ <span class="hljs-number"><span class="hljs-number">-4.8</span></span> <span class="hljs-number"><span class="hljs-number">-6.</span></span> <span class="hljs-number"><span class="hljs-number">-7.2</span></span>] [ <span class="hljs-number"><span class="hljs-number">-9.1</span></span> <span class="hljs-number"><span class="hljs-number">-10.4</span></span> <span class="hljs-number"><span class="hljs-number">-11.7</span></span>]] / [[<span class="hljs-number"><span class="hljs-number">-0.90909091</span></span> <span class="hljs-number"><span class="hljs-number">-1.81818182</span></span> <span class="hljs-number"><span class="hljs-number">-2.72727273</span></span>] [<span class="hljs-number"><span class="hljs-number">-3.33333333</span></span> <span class="hljs-number"><span class="hljs-number">-4.16666667</span></span> <span class="hljs-number"><span class="hljs-number">-5.</span></span> ] [<span class="hljs-number"><span class="hljs-number">-5.38461538</span></span> <span class="hljs-number"><span class="hljs-number">-6.15384615</span></span> <span class="hljs-number"><span class="hljs-number">-6.92307692</span></span>]] ** [[<span class="hljs-number"><span class="hljs-number">1.</span></span> <span class="hljs-number"><span class="hljs-number">0.4665165</span></span> <span class="hljs-number"><span class="hljs-number">0.29865282</span></span>] [<span class="hljs-number"><span class="hljs-number">0.18946457</span></span> <span class="hljs-number"><span class="hljs-number">0.14495593</span></span> <span class="hljs-number"><span class="hljs-number">0.11647119</span></span>] [<span class="hljs-number"><span class="hljs-number">0.07968426</span></span> <span class="hljs-number"><span class="hljs-number">0.06698584</span></span> <span class="hljs-number"><span class="hljs-number">0.05747576</span></span>]]</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F√ºr komplexere Funktionen (z. B. Trigonometrie, Exponent, Logarithmus, Umrechnung zwischen Grad und Bogenma√ü, Modul, Quadratwurzel usw.) verf√ºgt NumPy √ºber eine Implementierung. </font><font style="vertical-align: inherit;">Betrachten Sie das Beispiel von Exponential und Logarithmus:</font></font><br><br><pre> <code class="python hljs">A = np.array([[<span class="hljs-number"><span class="hljs-number">1.</span></span>, <span class="hljs-number"><span class="hljs-number">2.</span></span>, <span class="hljs-number"><span class="hljs-number">3.</span></span>], [<span class="hljs-number"><span class="hljs-number">4.</span></span>, <span class="hljs-number"><span class="hljs-number">5.</span></span>, <span class="hljs-number"><span class="hljs-number">6.</span></span>], [<span class="hljs-number"><span class="hljs-number">7.</span></span>, <span class="hljs-number"><span class="hljs-number">8.</span></span>, <span class="hljs-number"><span class="hljs-number">9.</span></span>]]) B = np.exp(A) C = np.log(B) print(<span class="hljs-string"><span class="hljs-string">'A'</span></span>, A, <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'B'</span></span>, B, <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'C'</span></span>, C, <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) Out: A [[<span class="hljs-number"><span class="hljs-number">1.</span></span> <span class="hljs-number"><span class="hljs-number">2.</span></span> <span class="hljs-number"><span class="hljs-number">3.</span></span>] [<span class="hljs-number"><span class="hljs-number">4.</span></span> <span class="hljs-number"><span class="hljs-number">5.</span></span> <span class="hljs-number"><span class="hljs-number">6.</span></span>] [<span class="hljs-number"><span class="hljs-number">7.</span></span> <span class="hljs-number"><span class="hljs-number">8.</span></span> <span class="hljs-number"><span class="hljs-number">9.</span></span>]] B [[<span class="hljs-number"><span class="hljs-number">2.71828183e+00</span></span> <span class="hljs-number"><span class="hljs-number">7.38905610e+00</span></span> <span class="hljs-number"><span class="hljs-number">2.00855369e+01</span></span>] [<span class="hljs-number"><span class="hljs-number">5.45981500e+01</span></span> <span class="hljs-number"><span class="hljs-number">1.48413159e+02</span></span> <span class="hljs-number"><span class="hljs-number">4.03428793e+02</span></span>] [<span class="hljs-number"><span class="hljs-number">1.09663316e+03</span></span> <span class="hljs-number"><span class="hljs-number">2.98095799e+03</span></span> <span class="hljs-number"><span class="hljs-number">8.10308393e+03</span></span>]] C [[<span class="hljs-number"><span class="hljs-number">1.</span></span> <span class="hljs-number"><span class="hljs-number">2.</span></span> <span class="hljs-number"><span class="hljs-number">3.</span></span>] [<span class="hljs-number"><span class="hljs-number">4.</span></span> <span class="hljs-number"><span class="hljs-number">5.</span></span> <span class="hljs-number"><span class="hljs-number">6.</span></span>] [<span class="hljs-number"><span class="hljs-number">7.</span></span> <span class="hljs-number"><span class="hljs-number">8.</span></span> <span class="hljs-number"><span class="hljs-number">9.</span></span>]]</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine vollst√§ndige Liste der mathematischen Operationen in NumPy finden Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;up&gt;</font></font></a> <br><br><a name="p8"></a><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Matrixmultiplikation </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die obige Operation des Produkts von Arrays wird elementweise ausgef√ºhrt. </font><font style="vertical-align: inherit;">Und wenn Sie Operationen nach den Regeln der linearen Algebra f√ºr Arrays wie f√ºr Tensoren ausf√ºhren m√ºssen, k√∂nnen Sie die Punktmethode (A, B) verwenden. </font><font style="vertical-align: inherit;">Abh√§ngig von der Art der Operanden f√ºhrt die Funktion Folgendes aus:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wenn die Argumente Skalare (Zahlen) sind, wird eine Multiplikation durchgef√ºhrt. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wenn die Argumente ein Vektor (eindimensionales Array) und ein Skalar sind, wird das Array mit einer Zahl multipliziert. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wenn die Argumente Vektoren sind, wird eine Skalarmultiplikation durchgef√ºhrt (die Summe der elementweisen Produkte). </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wenn die Argumente Tensor (mehrdimensionales Array) und Skalar sind, wird der Vektor mit einer Zahl multipliziert. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wenn die Argumente des Tensors vorliegen, wird das Produkt der Tensoren entlang der letzten Achse des ersten Arguments und des vorletzten zweiten ausgef√ºhrt. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wenn die Argumente Matrizen sind, wird das Produkt der Matrizen ausgef√ºhrt (dies ist ein Sonderfall des Tensorprodukts). </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wenn die Argumente Matrix und Vektor sind, werden das Produkt aus Matrix und Vektor ausgef√ºhrt (dies ist auch ein Sonderfall des Tensorprodukts). </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um die Operationen auszuf√ºhren, m√ºssen die entsprechenden Gr√∂√üen √ºbereinstimmen: f√ºr L√§ngenvektoren, f√ºr Tensoren die L√§ngen entlang der Achsen, entlang derer die elementweisen Produkte summiert werden. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Betrachten Sie Beispiele mit Skalaren und Vektoren:</font></font><br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#  A = 2 B = 3 print(np.dot(A, B), '\n') #    A = np.array([2., 3., 4.]) B = 3 print(np.dot(A, B), '\n') #  A = np.array([2., 3., 4.]) B = np.array([-2., 1., -1.]) print(np.dot(A, B), '\n') #    A = np.array([[2., 3., 4.], [5., 6., 7.]]) B = 2 print(np.dot(A, B), '\n') Out: 6 [ 6. 9. 12.] -5.0 [[ 4. 6. 8.] [10. 12. 14.]]</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bei Tensoren werden wir nur untersuchen, wie sich die Geometrie des resultierenden Arrays in der Gr√∂√üe √§ndert: </font></font><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#  ( 2)   ( 1) A = np.ones((5, 6)) B = np.ones(6) print('A:', A.shape, '\nB:', B.shape, '\nresult:', np.dot(A, B).shape, '\n\n') #  ( 2) A = np.ones((5, 6)) B = np.ones((6, 7)) print('A:', A.shape, '\nB:', B.shape, '\nresult:', np.dot(A, B).shape, '\n\n') #   A = np.ones((5, 6, 7, 8)) B = np.ones((1, 2, 3, 8, 4)) print('A:', A.shape, '\nB:', B.shape, '\nresult:', np.dot(A, B).shape, '\n\n') Out: A: (5, 6) B: (6,) result: (5,) A: (5, 6) B: (6, 7) result: (5, 7) A: (5, 6, 7, 8) B: (1, 2, 3, 8, 4) result: (5, 6, 7, 1, 2, 3, 4)</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Um ein Tensorprodukt mit anderen Achsen anstelle der f√ºr Punkt definierten auszuf√ºhren, k√∂nnen Sie Tensordot mit einer expliziten Achse verwenden: </font></font><br><br><pre> <code class="python hljs">A = np.ones((<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>)) B = np.ones((<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>)) print(<span class="hljs-string"><span class="hljs-string">'A:'</span></span>, A.shape, <span class="hljs-string"><span class="hljs-string">'\nB:'</span></span>, B.shape, <span class="hljs-string"><span class="hljs-string">'\nresult:'</span></span>, np.tensordot(A, B, [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>]).shape, <span class="hljs-string"><span class="hljs-string">'\n\n'</span></span>) Out: A: (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>) B: (<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>) result: (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>)</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir haben ausdr√ºcklich angegeben, dass wir die dritte Achse des ersten Arrays und die zweite Achse der zweiten verwenden (die Gr√∂√üen entlang dieser Achsen m√ºssen √ºbereinstimmen). </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;up&gt;</font></font></a> <br><br><a name="p9"></a><br><h1>  Aggregatoren </h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aggregatoren sind NumPy-Methoden, mit denen Sie Daten entlang einiger Achsen durch integrale Merkmale ersetzen k√∂nnen. Sie k√∂nnen beispielsweise den Durchschnittswert, das Maximum, das Minimum, die Variation oder ein anderes Merkmal entlang einer beliebigen Achse oder Achsen berechnen und aus diesen Daten ein neues Array bilden. Die Form des neuen Arrays enth√§lt alle Achsen des urspr√ºnglichen Arrays mit Ausnahme derjenigen, entlang derer der Aggregator gez√§hlt wurde. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zum Beispiel bilden wir ein Array mit zuf√§lligen Werten. Dann finden wir den minimalen, maximalen und durchschnittlichen Wert in seinen Spalten:</font></font><br><br><pre> <code class="python hljs">A = np.random.rand(<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>) print(<span class="hljs-string"><span class="hljs-string">'A\n'</span></span>, A, <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'min\n'</span></span>, np.min(A, <span class="hljs-number"><span class="hljs-number">0</span></span>), <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'max\n'</span></span>, np.max(A, <span class="hljs-number"><span class="hljs-number">0</span></span>), <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'mean\n'</span></span>, np.mean(A, <span class="hljs-number"><span class="hljs-number">0</span></span>), <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'average\n'</span></span>, np.average(A, <span class="hljs-number"><span class="hljs-number">0</span></span>), <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) Out: A [[<span class="hljs-number"><span class="hljs-number">0.58481838</span></span> <span class="hljs-number"><span class="hljs-number">0.32381665</span></span> <span class="hljs-number"><span class="hljs-number">0.53849901</span></span> <span class="hljs-number"><span class="hljs-number">0.32401355</span></span> <span class="hljs-number"><span class="hljs-number">0.05442121</span></span>] [<span class="hljs-number"><span class="hljs-number">0.34301843</span></span> <span class="hljs-number"><span class="hljs-number">0.38620863</span></span> <span class="hljs-number"><span class="hljs-number">0.52689694</span></span> <span class="hljs-number"><span class="hljs-number">0.93233065</span></span> <span class="hljs-number"><span class="hljs-number">0.73474868</span></span>] [<span class="hljs-number"><span class="hljs-number">0.09888225</span></span> <span class="hljs-number"><span class="hljs-number">0.03710514</span></span> <span class="hljs-number"><span class="hljs-number">0.17910721</span></span> <span class="hljs-number"><span class="hljs-number">0.05245685</span></span> <span class="hljs-number"><span class="hljs-number">0.00962319</span></span>] [<span class="hljs-number"><span class="hljs-number">0.74758173</span></span> <span class="hljs-number"><span class="hljs-number">0.73529492</span></span> <span class="hljs-number"><span class="hljs-number">0.58517879</span></span> <span class="hljs-number"><span class="hljs-number">0.11785686</span></span> <span class="hljs-number"><span class="hljs-number">0.81204847</span></span>]] min [<span class="hljs-number"><span class="hljs-number">0.09888225</span></span> <span class="hljs-number"><span class="hljs-number">0.03710514</span></span> <span class="hljs-number"><span class="hljs-number">0.17910721</span></span> <span class="hljs-number"><span class="hljs-number">0.05245685</span></span> <span class="hljs-number"><span class="hljs-number">0.00962319</span></span>] max [<span class="hljs-number"><span class="hljs-number">0.74758173</span></span> <span class="hljs-number"><span class="hljs-number">0.73529492</span></span> <span class="hljs-number"><span class="hljs-number">0.58517879</span></span> <span class="hljs-number"><span class="hljs-number">0.93233065</span></span> <span class="hljs-number"><span class="hljs-number">0.81204847</span></span>] mean [<span class="hljs-number"><span class="hljs-number">0.4435752</span></span> <span class="hljs-number"><span class="hljs-number">0.37060634</span></span> <span class="hljs-number"><span class="hljs-number">0.45742049</span></span> <span class="hljs-number"><span class="hljs-number">0.35666448</span></span> <span class="hljs-number"><span class="hljs-number">0.40271039</span></span>] average [<span class="hljs-number"><span class="hljs-number">0.4435752</span></span> <span class="hljs-number"><span class="hljs-number">0.37060634</span></span> <span class="hljs-number"><span class="hljs-number">0.45742049</span></span> <span class="hljs-number"><span class="hljs-number">0.35666448</span></span> <span class="hljs-number"><span class="hljs-number">0.40271039</span></span>]</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bei dieser Verwendung sehen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mittelwert</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Durchschnitt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wie Synonyme aus. </font><font style="vertical-align: inherit;">Diese Funktionen haben jedoch einen anderen Satz zus√§tzlicher Parameter. </font><font style="vertical-align: inherit;">Es gibt verschiedene M√∂glichkeiten, gemittelte Daten zu maskieren und zu gewichten. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie k√∂nnen die Integraleigenschaften in mehreren Achsen berechnen:</font></font><br><br><pre> <code class="python hljs">A = np.ones((<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>)) print(<span class="hljs-string"><span class="hljs-string">'sum\n'</span></span>, np.sum(A, (<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)), <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'min\n'</span></span>, np.min(A, (<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)), <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'max\n'</span></span>, np.max(A, (<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)), <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'mean\n'</span></span>, np.mean(A, (<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)), <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) Out: sum [<span class="hljs-number"><span class="hljs-number">50.</span></span> <span class="hljs-number"><span class="hljs-number">50.</span></span> <span class="hljs-number"><span class="hljs-number">50.</span></span> <span class="hljs-number"><span class="hljs-number">50.</span></span>] min [<span class="hljs-number"><span class="hljs-number">1.</span></span> <span class="hljs-number"><span class="hljs-number">1.</span></span> <span class="hljs-number"><span class="hljs-number">1.</span></span> <span class="hljs-number"><span class="hljs-number">1.</span></span>] max [<span class="hljs-number"><span class="hljs-number">1.</span></span> <span class="hljs-number"><span class="hljs-number">1.</span></span> <span class="hljs-number"><span class="hljs-number">1.</span></span> <span class="hljs-number"><span class="hljs-number">1.</span></span>] mean [<span class="hljs-number"><span class="hljs-number">1.</span></span> <span class="hljs-number"><span class="hljs-number">1.</span></span> <span class="hljs-number"><span class="hljs-number">1.</span></span> <span class="hljs-number"><span class="hljs-number">1.</span></span>]</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In diesem Beispiel wird eine andere integrale charakteristische Summe betrachtet - die Summe. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Liste der Aggregatoren sieht ungef√§hr so ‚Äã‚Äãaus:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sum: sum und nansum - eine Variante, die mit nan richtig umgeht; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Arbeit: Prod und Nanprod; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Durchschnitt und Erwartung: Durchschnitt und Mittelwert (Nanomittel), </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">es gibt</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> keinen </font><s><font style="vertical-align: inherit;">Durchschnitt</font></s><font style="vertical-align: inherit;"> ;</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Median: Median und Nanmedian; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Perzentil: Perzentil und Nanperzentil; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Variation: var und nanvar; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Standardabweichung (Quadratwurzel der Variation): std und nanstd; </font></font></li><li>  : min  nanmin; </li><li>  : max  nanmax; </li><li>  ,   : argmin  nanargmin; </li><li>  ,   : argmax  nanargmax. </li></ul><br>    argmin  argmax (,  nanargmin,  nanargmax)    ,     . <br><br>    ,        <b> </b> .    argmin  argmax           ,  -          ravel(). <br><br>   ,         NumPy,     :  np.aggregator(A, axes)   A.aggregator(axes),   aggregator      ,   axes ‚Äî  . <br><br><pre> <code class="python hljs">A = np.ones((<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>)) print(<span class="hljs-string"><span class="hljs-string">'sum\n'</span></span>, A.sum((<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)), <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'min\n'</span></span>, A.min((<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)), <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'max\n'</span></span>, A.max((<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)), <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'mean\n'</span></span>, A.mean((<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)), <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) Out: sum [<span class="hljs-number"><span class="hljs-number">50.</span></span> <span class="hljs-number"><span class="hljs-number">50.</span></span> <span class="hljs-number"><span class="hljs-number">50.</span></span> <span class="hljs-number"><span class="hljs-number">50.</span></span>] min [<span class="hljs-number"><span class="hljs-number">1.</span></span> <span class="hljs-number"><span class="hljs-number">1.</span></span> <span class="hljs-number"><span class="hljs-number">1.</span></span> <span class="hljs-number"><span class="hljs-number">1.</span></span>] max [<span class="hljs-number"><span class="hljs-number">1.</span></span> <span class="hljs-number"><span class="hljs-number">1.</span></span> <span class="hljs-number"><span class="hljs-number">1.</span></span> <span class="hljs-number"><span class="hljs-number">1.</span></span>] mean [<span class="hljs-number"><span class="hljs-number">1.</span></span> <span class="hljs-number"><span class="hljs-number">1.</span></span> <span class="hljs-number"><span class="hljs-number">1.</span></span> <span class="hljs-number"><span class="hljs-number">1.</span></span>]</code> </pre><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">&lt;&gt;</a> <br><br><a name="p10"></a><br><h1>   ‚Äî  </h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lassen Sie uns einen Algorithmus f√ºr die lineare Tiefpassbildfilterung erstellen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Laden Sie zun√§chst ein verrauschtes Bild hoch. </font></font><br><br><img src="https://habrastorage.org/webt/sk/vx/re/skvxregibvdnuam6jqcq6edholy.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Betrachten Sie ein Fragment des Bildes, um das Rauschen zu sehen: </font></font><br><br><img src="https://habrastorage.org/webt/ur/ex/q6/urexq6ndlc0hyjoccbgmrt23xuu.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir filtern das Bild mit einem Gau√üschen Filter. </font><font style="vertical-align: inherit;">Aber anstatt die Faltung direkt (mit Iteration) durchzuf√ºhren, wenden wir die gewichtete Mittelung von Bildschnitten an, die relativ zueinander verschoben sind:</font></font><br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">smooth</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(I)</span></span></span><span class="hljs-function">:</span></span> J = I.copy() J[<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">-1</span></span>] = (J[<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">-1</span></span>] // <span class="hljs-number"><span class="hljs-number">2</span></span> + J[:<span class="hljs-number"><span class="hljs-number">-2</span></span>] // <span class="hljs-number"><span class="hljs-number">4</span></span> + J[<span class="hljs-number"><span class="hljs-number">2</span></span>:] // <span class="hljs-number"><span class="hljs-number">4</span></span>) J[:, <span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">-1</span></span>] = (J[:, <span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">-1</span></span>] // <span class="hljs-number"><span class="hljs-number">2</span></span> + J[:, :<span class="hljs-number"><span class="hljs-number">-2</span></span>] // <span class="hljs-number"><span class="hljs-number">4</span></span> + J[:, <span class="hljs-number"><span class="hljs-number">2</span></span>:] // <span class="hljs-number"><span class="hljs-number">4</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> J</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wir wenden diese Funktion einmal, zweimal und dreimal auf unser Bild an: </font></font><br><br><pre> <code class="python hljs">I_noise = cv2.imread(<span class="hljs-string"><span class="hljs-string">'sarajevo_noise.jpg'</span></span>) I_denoise_1 = smooth(I_noise) I_denoise_2 = smooth(I_denoise_1) I_denoise_3 = smooth(I_denoise_2) cv2.imwrite(<span class="hljs-string"><span class="hljs-string">'sarajevo_denoise_1.jpg'</span></span>, I_denoise_1) cv2.imwrite(<span class="hljs-string"><span class="hljs-string">'sarajevo_denoise_2.jpg'</span></span>, I_denoise_2) cv2.imwrite(<span class="hljs-string"><span class="hljs-string">'sarajevo_denoise_3.jpg'</span></span>, I_denoise_3)</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir erhalten die folgenden Ergebnisse: </font></font><br><br><img src="https://habrastorage.org/webt/mv/1s/i1/mv1si1hpbk2v2kxdn9j5dwaskj0.jpeg"><br><br><img src="https://habrastorage.org/webt/xt/4h/tk/xt4htkohwjvr1hpdvqokrgugx0q.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bei einmaliger Verwendung des Filters; </font></font><br><br><img src="https://habrastorage.org/webt/fl/cq/is/flcqisbvoidqfdp6pyabhs5t5u8.jpeg"><br><br><img src="https://habrastorage.org/webt/j2/bm/cg/j2bmcgqp5fceli_gstvdcthahn0.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mit doppelt; </font></font><br><br><img src="https://habrastorage.org/webt/de/2c/ta/de2cta31kkhkspk0dxxleb6kbcu.jpeg"><br><br><img src="https://habrastorage.org/webt/rj/yt/ux/rjytuxx-xgw5-d7le_snkgzms-w.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dreimal. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es ist ersichtlich, dass mit zunehmender Anzahl von Filterdurchg√§ngen der Rauschpegel abnimmt. Dies verringert jedoch auch die Klarheit des Bildes. Dies ist ein bekanntes Problem bei linearen Filtern. Unsere Methode zum Entrauschen von Bildern erhebt jedoch keinen Anspruch auf Optimalit√§t: Dies ist nur eine Demonstration der F√§higkeit von NumPy, Faltung ohne Iterationen zu implementieren. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nun wollen wir sehen, mit welcher Faltung unsere Filterung √§quivalent ist. Dazu setzen wir einen einzelnen Einheitsimpuls √§hnlichen Transformationen aus und visualisieren ihn. Tats√§chlich ist der Impuls nicht einfach, sondern hat eine Amplitude von 255, da das Mischen selbst f√ºr ganzzahlige Daten optimiert ist. Dies beeintr√§chtigt jedoch nicht die Beurteilung des allgemeinen Erscheinungsbildes der Kerne:</font></font><br><br><pre> <code class="python hljs">M = np.zeros((<span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>)) M[<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>] = <span class="hljs-number"><span class="hljs-number">255</span></span> M1 = smooth(M) M2 = smooth(M1) M3 = smooth(M2) plt.subplot(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) plt.imshow(M1) plt.subplot(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) plt.imshow(M2) plt.subplot(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) plt.imshow(M3) plt.show()</code> </pre><br><img src="https://habrastorage.org/webt/xr/yd/rq/xrydrqb7rmtcm0ootv_7ttyqmgu.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir haben uns vorgenommen, die NumPy-Funktionen bei weitem nicht vollst√§ndig zu nutzen. Ich hoffe, dies hat ausgereicht, um die volle Leistungsf√§higkeit und Sch√∂nheit dieses Tools zu demonstrieren! </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;up&gt;</font></font></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de469355/">https://habr.com/ru/post/de469355/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de469341/index.html">Holivar. Geschichte von Runet. Teil 1. Start: Kalifornische Hippies, Spout und die schneidigen 90er Jahre</a></li>
<li><a href="../de469345/index.html">Atomquest im Bitsevsky-Park</a></li>
<li><a href="../de469349/index.html">Dudwstud Math & Datasheet Learning Channel</a></li>
<li><a href="../de469351/index.html">Intel Comet Lake-U und Comet Lake-Y: Bis zu 6 Kerne f√ºr d√ºnne und leichte Laptops</a></li>
<li><a href="../de469353/index.html">Die Zusammenfassung interessanter Materialien f√ºr den mobilen Entwickler # 317 (23. - 29. September)</a></li>
<li><a href="../de469357/index.html">Lauf, Gopher, lauf! - wor√ºber werden wir auf der GolangConf sprechen?</a></li>
<li><a href="../de469361/index.html">Schmerz und Tr√§nen in Svelte 3</a></li>
<li><a href="../de469367/index.html">F√ºhren Sie Unit-Tests lokal in STM32CubeIDE unter Windows aus</a></li>
<li><a href="../de469369/index.html">Digitale Veranstaltungen in Moskau vom 30. September bis 06. Oktober</a></li>
<li><a href="../de469371/index.html">Beschreibung des Ansatzes zum Organisieren und Testen von Code mit Redux Thunk</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>