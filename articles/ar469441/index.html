<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ§ğŸ» ğŸŠ â†–ï¸ ØªØ¹Ù‚ÙŠØ¯ Ø§Ù„Ø¨Ø³Ø§Ø·Ø© ğŸ“¯ ğŸ‚ğŸ¾ ğŸ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ÙƒÙ…Ø§ ÙƒØªØ¨Øª ÙÙŠ Ù…Ù‚Ø¯Ù…Ø© Ø§Ù„Ù…Ù‚Ø§Ù„ Ø§Ù„Ø³Ø§Ø¨Ù‚ ØŒ ÙØ¥Ù†Ù†ÙŠ Ø£Ø¨Ø­Ø« Ø¹Ù† Ù„ØºØ© ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ù† Ø®Ù„Ø§Ù„Ù‡Ø§ Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø¨Ø´ÙƒÙ„ Ø£Ù‚Ù„ ÙˆØ§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø£Ù…Ø§Ù†. Ù„Ø·Ø§Ù„Ù…Ø§ ÙƒØ§Ù†Øª Ù„ØºØªÙŠ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ÙÙŠ Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ØªØ¹Ù‚ÙŠØ¯ Ø§Ù„Ø¨Ø³Ø§Ø·Ø©</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469441/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/4l/s7/kr/4ls7krf3m0xjrh7ediaeilkldpe.png"></p><br><p style=";text-align:right;direction:rtl"> ÙƒÙ…Ø§ ÙƒØªØ¨Øª ÙÙŠ Ù…Ù‚Ø¯Ù…Ø© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø§Ù„Ù…Ù‚Ø§Ù„ Ø§Ù„Ø³Ø§Ø¨Ù‚</a> ØŒ ÙØ¥Ù†Ù†ÙŠ Ø£Ø¨Ø­Ø« Ø¹Ù† Ù„ØºØ© ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ù† Ø®Ù„Ø§Ù„Ù‡Ø§ Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø¨Ø´ÙƒÙ„ Ø£Ù‚Ù„ ÙˆØ§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø£Ù…Ø§Ù†.  Ù„Ø·Ø§Ù„Ù…Ø§ ÙƒØ§Ù†Øª Ù„ØºØªÙŠ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ÙÙŠ Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ù‡ÙŠ Ù„ØºØ© C # ØŒ Ù„Ø°Ù„Ùƒ Ù‚Ø±Ø±Øª Ø£Ù† Ø£Ø¬Ø±Ø¨ Ù„ØºØªÙŠÙ† Ù…Ø®ØªÙ„ÙØªÙŠÙ† Ø¨Ø´ÙƒÙ„ Ù…ØªÙ…Ø§Ø«Ù„ Ø¹Ù†Ù‡Ù…Ø§ Ù…Ù† Ø­ÙŠØ« Ø§Ù„ØªØ¹Ù‚ÙŠØ¯ ØŒ ÙˆÙ‡Ùˆ Ù…Ø§ Ø³Ù…Ø¹Øª Ø¹Ù†Ù‡ Ù…Ù† Ù‚Ø¨Ù„ ÙÙ‚Ø· ØŒ Ù„ÙƒÙ† Ù„Ù… Ø£ØªÙ…ÙƒÙ† Ù…Ù† Ø§Ù„ÙƒØªØ§Ø¨Ø©: Haskell and Go.  Ø£ØµØ¨Ø­Øª Ø¥Ø­Ø¯Ù‰ Ø§Ù„Ù„ØºØ§Øª Ù…Ø¹Ø±ÙˆÙØ© Ø¨Ù‚ÙˆÙ„Ù‡Ø§ "ØªØ¬Ù†Ø¨ Ø§Ù„Ù†Ø¬Ø§Ø­ Ø¨Ø£ÙŠ Ø«Ù…Ù†" * ØŒ ÙÙŠ Ø­ÙŠÙ† Ø£Ù† Ø§Ù„Ù„ØºØ© Ø§Ù„Ø£Ø®Ø±Ù‰ ØŒ ÙÙŠ Ø±Ø£ÙŠÙŠ Ø§Ù„Ù…ØªÙˆØ§Ø¶Ø¹ ØŒ Ù‡ÙŠ Ø¹ÙƒØ³ Ø°Ù„Ùƒ ØªÙ…Ø§Ù…Ù‹Ø§.  ÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ© ØŒ Ø£Ø±Ø¯Øª Ø£Ù† Ø£ÙÙ‡Ù… Ù…Ø§ Ø§Ù„Ø°ÙŠ Ø³ÙŠØªØ¨ÙŠÙ† Ø£Ù†Ù‡ Ø£ÙØ¶Ù„: Ø§Ù„Ø¨Ø³Ø§Ø·Ø© Ø§Ù„Ù…ØªØ¹Ù…Ø¯Ø© Ø£Ùˆ Ø§Ù„ØµØ±Ø§Ù…Ø© Ø§Ù„Ù…ØªØ¹Ù…Ø¯Ø©ØŸ </p><br><p style=";text-align:right;direction:rtl">  Ù‚Ø±Ø±Øª Ø£Ù† Ø£ÙƒØªØ¨ Ø­Ù„Ø§Ù‹ Ù„Ù…Ø´ÙƒÙ„Ø© ÙˆØ§Ø­Ø¯Ø© ØŒ ÙˆØ£Ø±Ù‰ ÙƒÙ… Ù‡Ùˆ Ø³Ù‡Ù„ Ø¨Ø§Ù„Ù„ØºØªÙŠÙ† ØŒ ÙˆÙ…Ø§ Ù‡Ùˆ Ù…Ù†Ø­Ù†Ù‰ Ø§Ù„ØªØ¹Ù„Ù… Ù„Ù…Ø·ÙˆØ± Ù„Ø¯ÙŠÙ‡ Ø®Ø¨Ø±Ø© ØŒ ÙˆÙƒÙ… ÙŠÙ†Ø¨ØºÙŠ Ø¯Ø±Ø§Ø³ØªÙ‡ Ù„Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø± ØŒ ÙˆÙƒÙŠÙ Ø£Ù† Ø§Ù„Ù…ØµØ·Ù„Ø­ Ø§Ù„Ø§ØµØ·Ù„Ø§Ø­ÙŠ Ù‡Ùˆ Ø±Ù…Ø² "Ù…Ø¨ØªØ¯Ø¦" ÙÙŠ ÙˆØ§Ø­Ø¯Ø© ÙˆØ§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø£Ø®Ø±Ù‰.  Ø¨Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø°Ù„Ùƒ ØŒ Ø£Ø±Ø¯Øª Ø£Ù† Ø£ÙÙ‡Ù… Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø°ÙŠ Ø³Ø£Ø¯ÙØ¹Ù‡ ÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ù„Ø¥Ø±Ø¶Ø§Ø¡ Ø§Ù„Ù…ØªØ±Ø¬Ù… Haskell ÙˆØ§Ù„ÙˆÙ‚Øª Ø§Ù„Ø°ÙŠ Ø³ØªÙˆÙØ±Ù‡ Ø±Ø§Ø­Ø© goroutine Ø§Ù„Ø´Ù‡ÙŠØ±Ø©.  Ø­Ø§ÙˆÙ„Øª Ø£Ù† Ø£ÙƒÙˆÙ† ØºÙŠØ± Ù…ØªØ­ÙŠØ² Ù‚Ø¯Ø± Ø§Ù„Ø¥Ù…ÙƒØ§Ù† ØŒ ÙˆØ³Ø£Ù‚Ø¯Ù… Ø±Ø£ÙŠÙ‹Ø§ Ø´Ø®ØµÙŠÙ‹Ø§ ÙÙŠ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù…Ù‚Ø§Ù„.  Ù„Ù‚Ø¯ Ø£Ø¯Ù‡Ø´ØªÙ†ÙŠ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© ÙƒØ«ÙŠØ±Ù‹Ø§ ØŒ Ù„Ø°Ø§ Ù‚Ø±Ø±Øª Ø£Ù†Ù‡ Ø³ÙŠÙƒÙˆÙ† Ù…Ù† Ø§Ù„Ù…Ø«ÙŠØ± Ù„Ù„Ø§Ù‡ØªÙ…Ø§Ù… Ø£Ù† ÙŠÙ‚Ø±Ø£ Ù…ÙˆØ§Ø·Ù†Ùˆ Ø®Ø§Ø¨Ø±ÙˆÙØ³Ùƒ Ø¹Ù† Ù…Ø«Ù„ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©. </p><a name="habracut"></a><br><hr><br><p style=";text-align:right;direction:rtl">  ÙˆØ¹Ù„Ù‰ Ø§Ù„ÙÙˆØ± Ù…Ù„Ø§Ø­Ø¸Ø© ØµØºÙŠØ±Ø©.  Ø§Ù„Ø­Ù‚ÙŠÙ‚Ø© Ù‡ÙŠ Ø£Ù† Ø§Ù„ØªØ¹Ø¨ÙŠØ± (*) ØºØ§Ù„Ø¨Ù‹Ø§ Ù…Ø§ ÙŠØ³ØªØ®Ø¯Ù… Ø¨Ø´ÙƒÙ„ Ù…Ø«ÙŠØ± Ù„Ù„Ø³Ø®Ø±ÙŠØ© ØŒ ÙˆÙ„ÙƒÙ† Ù‡Ø°Ø§ ÙÙ‚Ø· Ù„Ø£Ù† Ø§Ù„Ù†Ø§Ø³ ÙŠØ­Ù„Ù„ÙˆÙ†Ù‡ Ø¨Ø´ÙƒÙ„ ØºÙŠØ± ØµØ­ÙŠØ­.  Ù‚Ø±Ø£ÙˆÙ‡ ÙƒÙ€ "ØªØ¬Ù†Ø¨ (Ø§Ù„Ù†Ø¬Ø§Ø­) (Ø¨Ø£ÙŠ Ø«Ù…Ù†)" ØŒ Ø£ÙŠ "Ø¨ØºØ¶ Ø§Ù„Ù†Ø¸Ø± Ø¹Ù…Ø§ ÙŠØ­Ø¯Ø« ØŒ Ø¥Ø°Ø§ ÙƒØ§Ù† ÙŠØ¤Ø¯ÙŠ Ø¥Ù„Ù‰ Ø§Ù„Ù†Ø¬Ø§Ø­ ØŒ ÙÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙ†Ø§ ØªØ¬Ù†Ø¨Ù‡" ØŒ ÙÙŠ Ø­ÙŠÙ† ØªÙ‚Ø±Ø£ Ø§Ù„Ø¹Ø¨Ø§Ø±Ø© Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© ÙƒÙ€ "ØªØ¬Ù†Ø¨ (Ø§Ù„Ù†Ø¬Ø§Ø­ Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø·Ù„Ø§Ù‚) Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ) "ØŒ ÙˆÙ‡Ø°Ø§ Ù‡Ùˆ ØŒ" Ø¥Ø°Ø§ ÙƒØ§Ù† Ø³Ø¹Ø± Ø§Ù„Ù†Ø¬Ø§Ø­ Ù…Ø±ØªÙØ¹Ù‹Ø§ Ø¬Ø¯Ù‹Ø§ ØŒ ÙÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙ†Ø§ Ø§Ù„ØªØ±Ø§Ø¬Ø¹ ÙˆØ¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙÙƒÙŠØ± ÙÙŠ ÙƒÙ„ Ø´ÙŠØ¡. "  Ø¢Ù…Ù„ Ø£Ù†Ù‡ Ø¨Ø¹Ø¯ Ù‡Ø°Ø§ Ø§Ù„ØªÙØ³ÙŠØ± ØŒ Ù„Ù… ÙŠØ¹Ø¯ Ø£Ù…Ø±Ù‹Ø§ Ø³Ø®ÙŠÙÙ‹Ø§ ÙˆÙˆØ¬Ø¯ Ù…Ø¹Ù†Ù‰ Ø­Ù‚ÙŠÙ‚ÙŠÙ‹Ø§: ØªØªØ·Ù„Ø¨ Ø¥ÙŠØ¯ÙŠÙˆÙ„ÙˆØ¬ÙŠØ© Ø§Ù„Ù„ØºØ© Ø§Ù„ØªØ®Ø·ÙŠØ· Ø§Ù„Ø³Ù„ÙŠÙ… Ù„Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ ØŒ ÙˆØ¹Ø¯Ù… Ø¥Ø¯Ø±Ø§Ø¬ Ø¹ÙƒØ§Ø²Ø§Øª Ù…Ø®ØµØµØ© Ø­ÙŠØ« ØªÙƒÙ„Ù Ø§Ù„ÙƒØ«ÙŠØ±.  Ø£Ù…Ø§ Ø£ÙŠØ¯ÙŠÙˆÙ„ÙˆØ¬ÙŠØ© Go ØŒ ÙÙ‡ÙŠ Ø¨Ø¯ÙˆØ±Ù‡Ø§ "ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø§Ù„Ø´ÙØ±Ø© Ø¨Ø³ÙŠØ·Ø© Ø¨Ø¯Ø±Ø¬Ø© ÙƒØ§ÙÙŠØ© Ø¨Ø­ÙŠØ« ÙŠÙƒÙˆÙ† Ù…Ù† Ø§Ù„Ø³Ù‡Ù„ Ø§Ù„ØªØ®Ù„Øµ Ù…Ù†Ù‡Ø§ ÙˆÙƒØªØ§Ø¨Ø© ÙˆØ§Ø­Ø¯Ø© Ø¬Ø¯ÙŠØ¯Ø© ÙÙŠ Ø­Ø§Ù„Ø© ØªØºÙŠÙŠØ± Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª. </p><br><h2 id="metodika-sravneniya" style=";text-align:right;direction:rtl">  ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© </h2><br><p style=";text-align:right;direction:rtl">  Ø¨Ø¯ÙˆÙ† Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù„ØºØ· ØŒ Ø£Ø®Ø°Øª Ø§Ù„Ù„ØºØ² Ø§Ù„Ø°ÙŠ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø§Ø®ØªØ±Ø¹Ù‡</a> Ø§Ù„Ø±ÙÙŠÙ‚ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">0xd34df00d</a> ÙˆÙŠØ¨Ø¯Ùˆ ÙƒØ§Ù„ØªØ§Ù„ÙŠ: </p><br><p style=";text-align:right;direction:rtl">  Ø§ÙØªØ±Ø¶ Ø£Ù† Ù„Ø¯ÙŠÙ†Ø§ Ø´Ø¬Ø±Ø© Ù…Ø¹Ø±ÙØ§Øª Ù„Ø¨Ø¹Ø¶ Ø§Ù„ÙƒÙŠØ§Ù†Ø§Øª ØŒ Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ ØŒ ØªØ¹Ù„ÙŠÙ‚Ø§Øª (ÙÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø© ØŒ Ø¨Ø£ÙŠ Ø´ÙƒÙ„).  ÙŠØ¨Ø¯Ùˆ Ù…Ø«Ù„ Ù‡Ø°Ø§: </p><br><pre style=";text-align:right;direction:rtl"><code class="plaintext">|- 1
   |- 2
   |- 3
      |- 4
      |- 5</code></pre><br>
<p>     API    <code>/api/{id}</code>  JSON-  . </p><br>
<p>   ,  ,         API,     . ,       ,           <code>IO</code>     .</p><br>
<p>      API,     ,     .   ,    ,      ,  ..</p><br>
<p>       :</p><br>
<pre><code class="plaintext">|- 1
   |- 2
   |- 3
      |- 4
      |- 5

|- 1: 
   |- 2:   1
   |- 3:   2
      |- 4:   1
      |- 5:   2</code></pre><br>
<p>            <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://jsonplaceholder.typicode.com/todos/</a></p><br>
<p> ,  ,   ,   .</p><br>
<h2 id="otstuplenie-pro-haskell">  Haskell</h2><br>
<p><br>
<em>  ,   -, -    <code>do-</code>,        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>.    ,  .      C#</em></p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/90e/d14/6ac/90ed146ac2ed677cf377915af7a99705.jpg"></p><br>
<p><em> -  .   </em></p><br>
<p>Disclaimer:          ,       Haskell    </p><br>
<p>   ,        ML .   ,   ,  Lingua Franca -  *   .     ,     ,      ,  .     .   ,         ,     .</p><br>
<p><em>*        /++/...,    â€” C++/C#/Java/Kotlin/Swift/...</em></p><br>
<p>  ,      Haskell.  Scala/F#/Idris/Elm/Elixir/â€¦    ,      â€”   ,  .        ,          ,    Haskell    .      Rust/C#,      ,   .  <code>Option</code>/<code>Maybe</code>, <code>Result</code>/<code>Either</code>  <code>Task</code>/<code>Promise</code>/<code>Future</code>/<code>IO</code>                .</p><br>
<h4 id="itak-esli-vy-vidite-pered-soboy">,     </h4><br>
<pre><code class="haskell">data Maybe a = Just a | Nothing  --  </code></pre><br>
<p>  </p><br>
<pre><code class="rust">//   
enum Maybe&lt;T&gt; {
   Just(T),
   Nothing
}</code></pre><br>
<p>   ,        .     Rust: -  -          T.   -     .         . ,  </p><br>
<pre><code class="haskell">data Either a b = Left a | Right b</code></pre><br>
<p>    ,     </p><br>
<pre><code class="rust">enum Either&lt;A,B&gt; {
   Left(A),
   Right(B)
}</code></pre><br>
<p>   .   ,         (   -    ).</p><br>
<p>    -   -,   ,   :</p><br>
<pre><code class="haskell">data Comment = Comment {
      title :: String
    , id  :: Int
    } deriving (Show) --     
              --    (  ToString()  C#/Java)</code></pre><br>
<p>  :</p><br>
<pre><code class="rust">#[derive(Debug)]
struct Comment {
    title: String,
    id: i32
}</code></pre><br>
<p>   ,  .</p><br>
<h4 id="esli-zhe-vy-vidite-pered-soboy">     </h4><br>
<pre><code class="haskell">sqr :: Int -&gt; Int
sqr x = x*x

main :: IO () -- IO   ,     ,     
main = print (sqr 3)</code></pre><br>
<p> </p><br>
<pre><code class="rust">fn sqr(x: i32) -&gt; i32 { x*x }
fn main() {
   println!("{}", sqr(3));
}</code></pre><br>
<p>    ,  â€”    ,   â€”  <code>main</code>. </p><br>
<p> ,    :  -    ,  ML- â€” .   -   -   .    <code>(sqr 3)</code>  ,     ,        .       <code>print sqr</code>      ,  <code>sqr</code>   <code>Fn(i32) -&gt; i32</code> (<code>Func&lt;int, int&gt;</code>   C#),      <code>show</code> ( <code>ToString()</code>). </p><br>
<p> :        :  () â€”  ,   â€”   . -   (      )     <code>-&gt;</code>,      . ,     <code>foo :: Int -&gt; Double -&gt; String -&gt; Bool</code>,      <code>foo</code>    :  ,       ,    .</p><br>
<p>   ,      <code>bar :: (Int -&gt; Double) -&gt; Int -&gt; (String -&gt; Bool)</code>?</p><br>
<div class="spoiler"><b class="spoiler_title"></b><div class="spoiler_text"><p>   <code>bar</code>   :  <code>Int -&gt; Double</code>    <code>Int</code>,    <code>String -&gt; bool</code>.</p><br>
<p>Rust-: <code>fn bar(f: impl Fn(i32) -&gt; f64, v: i32) -&gt; impl Fn(String) -&gt; bool</code></p><br>
<p>C#-: <code>Func&lt;string, bool&gt; Bar(Func&lt;int, double&gt; f, int v)</code> </p></div></div><br>
<p>   ,    (     ),       .     ,        ,        ,      .</p><br>
<h4 id="teper-zhe-esli-vy-vidite"> ,   </h4><br>
<pre><code class="haskell">sqr x = x*x     --     ,   
add x y = x + y -- : FOR EXAMPLE PURPOSES ONLY!
add5_long x = add 5 x
add5 = add 5    --    ,       , 
                --  add5     add5_long. 
                --    Method Groups  C#
                --     - 

main :: IO ()
main = putStrLn (show (add 10 (add5 (sqr 3)))) </code></pre><br>
<p>   </p><br>
<pre><code class="rust">fn sqr(x: i32) -&gt; i32 { x*x }
fn add(x: i32, y: i32) -&gt; i32 { x + y }
fn add5(x: i32) -&gt; i32 { add(5, x) }

fn main() {
   println!("{}", ToString::to_string(add(10, add(5, sqr(3)))));                
}</code></pre><br>
<p>,    .      $      .   <code>a $ b</code>    <code>a (b)</code>.      :</p><br>
<pre><code class="haskell">main = putStrLn $ show $ add 10 $ add5 $ sqr 3 -- !  </code></pre><br>
<p>              ,    -  .     .   â€”   ,     <code>f (g x) = (f . g) x</code>.  <code>print (sqr 3)</code>    <code>(print . sqr) 3</code>.   ""  "  "    "    ",      <code>3</code>.       :</p><br>
<pre><code class="haskell">main = putStrLn . show . add 10 . add5 $ sqr 3</code></pre><br>
<p>  ,        ?    ,  â€” ,           ,         - :</p><br>
<pre><code class="haskell">--     5,   10,    ,    
putStrLnShowAdd10Add5 = putStrLn . show . add 10 . add5
--   putStrLnShowAdd10Add5 x = putStrLn . show . add 10 . add5 x
--      (, ,    )

main :: IO ()
main = putStrLnShowAdd10Add5 $ sqr 3</code></pre><br>
<p>    "24".             â€”       ,       ,   â€”        â€”    .</p><br>
<p>   ML   ,    Haskell ,       </p><br>
<h4 id="posledniy-ryvok"> </h4><br>
<pre><code class="haskell">main :: IO ()
main = 
  let maybe15 = do
      let just5 = Just 5    --    Maybe   Just (.  )   5
      let just10 = Just 10  --     10
      a &lt;- just5            --     ,   ,     `a`.           !
      b &lt;- just10           --     `b`
      return $ a + b        --      ,      (    Just)      a  b.
  in 
    print maybe15</code></pre><br>
<p> ,    <code>do</code>-   <code>&lt;-</code> ,  <code>do-</code>,      ,   ( ,   ).       <code>Maybe</code>     - (  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">"Null condition operator"</a>),   null-  ,   null,     -  . <code>do-</code> -  ,     .</p><br>
<p>,     ? ,    "" ,     (   <code>Maybe</code>,      ,  <code>Result&lt;T,Error&gt;</code>,        â€” <code>Either</code>),    ,   ?    ,  <code>&lt;-</code>    ,              .</p><br>
<div class="spoiler"><b class="spoiler_title"></b><div class="spoiler_text"><p>     ,    <code>async/await</code> (   C# ..  Rust async-await   ):</p><br>
<pre><code class="cs">async ValueTask&lt;int&gt; Maybe15() {
    var just5 = Task.FromResult(5);
    var just10 = Task.FromResult(10);
    int a = await just5; //         !
    int b = await just10;
    return a + b;
}

Console.WriteLine(Maybe15().ToString()) //   15</code></pre><br>
<p>    <code>Task</code>  <code>Maybe</code>,     ,   .<br>
 ,   <code>do-</code>   <code>async/await</code> (       <code>Task</code>)    ,  <code>do</code> â€”  " <code>async</code>-",  <code>&lt;-</code> â€”  "" (  ).      <code>Future</code>/<code>Option</code>/<code>Result</code>/ <code>List</code>,   . </p></div></div><br>
<div class="spoiler"><b class="spoiler_title"> C#</b><div class="spoiler_text"><p>    C#   <code>do-</code>,     <code>async/await</code>  <code>Task</code>.   , <em> </em>, LINQ-. ,     , -      ,          .         Nullable,     Haskell         (     Task). ,    ( ):</p><br>
<pre><code class="haskell">main :: IO ()
main = 
  let maybe15 = do
      a &lt;- Just 5
      b &lt;- Just 10
      return $ a + b 
  in 
    print maybe15</code></pre><br>
<p>   C#</p><br>
<pre><code class="cs">int? maybe15 = from a in new int?(5)
               from b in new int?(10)
               select a + b;

Console.WriteLine(maybe15?.ToString() ?? "Nothing");</code></pre><br>
<p>  ?  â€” ,     haskell   Nothing   ,   C#    .</p><br>
<p>         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">  repl</a> (        ).        <code>Result</code>  <code>Task</code>.  ,     .  ,           (,      , ?).</p><br>
<p>           Haskell: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://repl.it/@Pzixel/ChiefLumpyDebugging</a></p></div></div><br>
<p>,    ,     </p><br>
<h2 id="haskell">Haskell</h2><br>
<p><img src="https://habrastorage.org/webt/yv/48/tc/yv48tcqlydoabxmt9zo0coqwcq4.png"></p><br>
<p><em>         ? , IDE   </em></p><br>
<p>                :  GHC (), Stack (   ,   <code>cargo</code>  <code>dotnet</code>), IntelliJ-Haskell,     .     ,         IDE  .</p><br>
<p>  ,      ,  ,  ,  ,       :</p><br>
<pre><code class="haskell">main :: IO ()
main = putStrLn "Hello, World!"</code></pre><br>
<p>,  !     ,    .       <code>Data.Tree</code>    <code>drawTree</code>. , ,     :</p><br>
<pre><code class="haskell">import Data.Tree

main :: IO ()
main = do
    let tree = Node 1 [Node 2 [], Node 3 [Node 4 [], Node 5 []]]
    putStrLn . drawTree $ tree --      ,     .
                               --        </code></pre><br>
<p>    :</p><br>
<pre><code class="plaintext">    â€¢ No instance for (Num String) arising from the literal â€˜1â€™
    â€¢ In the first argument of â€˜Nodeâ€™, namely â€˜1â€™
      In the expression:
        Node 1 [Node 2 [], Node 3 [Node 4 [], Node 5 []]]</code></pre><br>
<p>-  30   ,   "   ?.. â€¦ ,       ",  "haskell map convert to string",        <code>map show</code>.   :     <code>putStrLn . drawTree . fmap show $ tree</code>, ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">  </a></p><br>
<p>,    ,       ?<br>
,   ,       .     ,    ,   -   -  . ..    -  Rust  ,            <code>Option</code> â€”  ,      - <code>Maybe</code> ( <code>Option</code>),  ,     HTTP ,    .       ,   .</p><br>
<p>    -:</p><br>
<pre><code class="haskell">import Data.Tree

data Comment = Comment {
      title :: String
    , id  :: Int
    } deriving (Show)

getCommentById :: Int -&gt; Maybe Comment
getCommentById i = Just $ Comment (show i) i

main :: IO ()
main = do
    let tree = Node 1 [Node 2 [], Node 3 [Node 4 [], Node 5 []]]
    putStrLn . drawTree . fmap show $ tree</code></pre><br>
<p> ,     -   .      "haskell map maybe list" (    ,          ,    ),     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a> "  <code>mapM</code>". :</p><br>
<pre><code class="haskell">import Data.Tree
import Data.Maybe

data Comment = Comment {
      title :: String
    , id  :: Int
    } deriving (Show)

getCommentById :: Int -&gt; Maybe Comment
getCommentById i = Just $ Comment (show i) i

main :: IO ()
main = do
    let tree = Node 1 [Node 2 [], Node 3 [Node 4 [], Node 5 []]]
    putStrLn . drawTree . fmap show $ tree
    let commentsTree = mapM getCommentById tree
    putStrLn . drawTree . fmap show $ fromJust commentsTree</code></pre><br>
<p>:</p><br>
<pre><code class="plaintext">1
|
+- 2
|
`- 3
   |
   +- 4
   |
   `- 5
Comment {title = "1", id = 1}
|
+- Comment {title = "2", id = 2}
|
`- Comment {title = "3", id = 3}
   |
   +- Comment {title = "4", id = 4}
   |
   `- Comment {title = "5", id = 5}</code></pre><br>
<p>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">  </a>.    <code>fromJust</code> ( <code>unwrap()</code>    <code>Nullable.Value</code>  C#,   ,   ,   ),     ,           .</p><br>
<p>    ,     ,       JSON'.<br>
 ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">wreq</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">   </a>.  15          :</p><br>
<pre><code class="haskell">{-# LANGUAGE DeriveGeneric #-}

import Data.Tree
import Data.Maybe
import Network.Wreq
import GHC.Generics
import Data.Aeson
import Control.Lens

data Comment = Comment {
      title :: String
    , id  :: Int
    } deriving (Generic, Show)

instance FromJSON Comment -- `impl FromJson for Comment {}`   Rust

getCommentById :: Int -&gt; IO Comment
getCommentById i = do
  response &lt;- get $ "https://jsonplaceholder.typicode.com/todos/" ++ show i
  let comment = decode (response ^. responseBody) :: Maybe Comment
  return $ fromJust comment

main :: IO ()
main = do
    let tree = Node 1 [Node 2 [], Node 3 [Node 4 [], Node 5 []]]
    Prelude.putStrLn . drawTree . fmap show $ tree
    let commentsTree = mapM getCommentById tree
    Prelude.putStrLn . drawTree . fmap show $ fromJust commentsTree</code></pre><br>
<p>â€¦   20 ,       (,  <code>reqwest</code>  Rust),      :</p><br>
<pre><code class="plaintext">    * Couldn't match expected type `Maybe (Tree a0)'
                  with actual type `IO (Tree Comment)'
    * In the first argument of `fromJust', namely `commentsTree'
      In the second argument of `($)', namely `fromJust commentsTree'
      In a stmt of a 'do' block:
        putStrLn . drawTree . fmap show $ fromJust commentsTree
   |
28 |     Prelude.putStrLn . drawTree . fmap show $ fromJust commentsTree
   |                                                        ^^^^^^^^^^^^^</code></pre><br>
<p> ,    <code>fromJust</code>    <code>Maybe Tree</code> -&gt; <code>Tree</code>,         IO ,     <code>IO Tree</code>  <code>Maybe Tree</code>.    ?   ,        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a> "  <code>&lt;-</code>"  . :</p><br>
<pre><code class="haskell">main :: IO ()
main = do
    let tree = Node 1 [Node 2 [], Node 3 [Node 4 [], Node 5 []]]
    Prelude.putStrLn . drawTree . fmap show $ tree
    commentsTree &lt;- mapM getCommentById tree
    Prelude.putStrLn . drawTree . fmap show $ commentsTree</code></pre><br>
<p>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>.  .  ,    .</p><br>
<p>  20  ,    .    Concurrent-, -  ,  -.    ,        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">async</a>.        ,     - :</p><br>
<pre><code class="haskell">commentsTree &lt;- mapConcurrently getCommentById tree</code></pre><br>
<p>.  <strong><em></em></strong> ,   ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">  </a>.       ,   â€”  .</p><br>
<p><em>:        ..   ,  HTTP ,  repl.it   .       </em></p><br>
<p>        .          C#  Rust        .         67  -.       ,  <code>reqwest</code>    100      ,     . ,                  . </p><br>
<p>     .     ,       ,    .        ,       :</p><br>
<pre><code class="haskell">main = do
    let tree = [1,2,3,4,5]
    print tree
    commentsTree &lt;- mapConcurrently getCommentById tree
    print commentsTree</code></pre><br>
<p></p><br>
<pre><code class="plaintext">[1,2,3,4,5]
[Comment {title = "delectus aut autem", id = 1},Comment {title = "quis ut nam facilis et officia qui", id = 2},Comment {title = "fugiat veniam minus", id = 3},Comment {title = "et porro tempora", id = 4},Comment {title = "laboriosam mollitia et enim quasi adipisci quia provident illum", id = 5}]</code></pre><br>
<p>       ,     .        ,          <em> </em>,      . , ,           ( ,   ),  ,  ,  ,   <em></em> .  ,        ,            .</p><br>
<p>,    ,     , go.        ,           ( ,  go    )      .   ,       (,           ),           â€” !</p><br>
<h2 id="go">Go</h2><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/039/a3f/4cc/039a3f4cc229b1497864df0033839433.png"></p><br>
<p><em>  ,     </em></p><br>
<p>           ,     ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://play.golang.org/</a>   .</p><br>
<p> ,     . ,   .      go :</p><br>
<pre><code class="go">package main

type intTree struct {
    id int
    children []intTree
}

func main() {
    tree := intTree{ //    gofmt 
        id: 1,
        children: []intTree {
            {
                id: 2,
                children: []intTree{

                },
            },
            {
                id: 3,
                children: []intTree{
                    {
                        id: 4,
                    },
                    {
                        id: 5,
                    },
                },
            },
        },
    }
}</code></pre><br>
<p>  â€” , <code>tree declared and not used</code>. ,     ,       ,  <code>tree</code>  <code>_</code>.  ,   <code>no new variables on left side of :=</code>. ,              ,        .      ,  ,          <code>foreach</code>     :</p><br>
<pre><code class="go">func showIntTree(tree intTree) {
    showIntTreeInternal(tree, "")
}

func showIntTreeInternal(tree intTree, indent string) {
    fmt.Printf("%v%v\n", indent, tree.id)
    for _, child := range tree.children {
        showIntTreeInternal(child, indent + "  ")
    }
}</code></pre><br>
<p>, ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> ,   </a>.      Haskell         ,          .</p><br>
<p> ,      .   ,    </p><br>
<pre><code class="go">type comment struct {
    id int
    title string
}

type commentTree struct {
    value comment
    children []commentTree
}

func loadComments(node intTree) commentTree {
    result := commentTree{}
    for _, c := range node.children {
        result.children = append(result.children, loadComments(c))
    }
    result.value = getCommentById(node.id)
    return result
}

func getCommentById(id int) comment { 
    return comment{id:id, title:"Hello"} //     go
}</code></pre><br>
<p>           :</p><br>
<pre><code class="go">func showCommentsTree(tree commentTree) {
    showCommentsTreeInternal(tree, "")
}

func showCommentsTreeInternal(tree commentTree, indent string) {
    fmt.Printf("%v%v - %v\n", indent, tree.value.id, tree.value.title)
    for _, child := range tree.children {
        showCommentsTreeInternal(child, indent + "  ")
    }
}</code></pre><br>
<p>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> </a>,        -,      . ,   http , ,   JSON,    5   :</p><br>
<pre><code class="go">func getCommentById(i int) comment {
    result := &amp;comment{}
    err := getJson("https://jsonplaceholder.typicode.com/todos/"+strconv.Itoa(i), result)
    if err != nil {
        panic(err) //    
    }
    return *result
}

func getJson(url string, target interface{}) error {
    var myClient = &amp;http.Client{Timeout: 10 * time.Second}
    r, err := myClient.Get(url)
    if err != nil {
        return err
    }
    defer r.Body.Close()

    return json.NewDecoder(r.Body).Decode(target)
}</code></pre><br>
<p>, </p><br>
<pre><code class="plaintext">1
  2
  3
    4
    5
0 - 
  0 - 
  0 - 
    0 - 
    0 - </code></pre><br>
<p>     . ,   ,   .  .</p><br>
<p>  5     ,  ,     :  <code>{Title = "delectus aut autem", Id = 1}</code>  c <code>id, title</code>   .    ,       ,    â€” .  ,   :  â€”       ,  â€”      ,    .</p><br>
<p>      DTO,     , , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> </a>.</p><br>
<p>  10    ,      !      â€”    . ,               , ,      ,    ,    .</p><br>
<p>   5,     <code>go</code>-.  </p><br>
<pre><code class="go">func loadComments(root intTree) commentTree {
    var wg sync.WaitGroup
    result := loadCommentsInner(&amp;wg, root)
    wg.Wait()
    return result
}

func loadCommentsInner(wg *sync.WaitGroup, node intTree) commentTree {
    result := commentTree{}
    wg.Add(1)
    for _, c := range node.children {
        result.children = append(result.children, loadCommentsInner(wg, c))
    }
    go func() {
        result.value = getCommentById(node.id)
        wg.Done()
    }()
    return result
}</code></pre><br>
<p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a> </p><br>
<pre><code class="plaintext">0 - 
  0 - 
  0 - 
    0 - 
    0 - </code></pre><br>
<p>,   - ?  ,     ,  .  ,        ,   <code>wg.Wait()</code>        ,         ,    .</p><br>
<p>,    -     ,   .    ,   ,    ,     10     :</p><br>
<pre><code class="go">func loadComments(root intTree) commentTree {
    ch := make(chan commentTree, 1)   //  
    var wg sync.WaitGroup             //   
    wg.Add(1)                         //     
    loadCommentsInner(&amp;wg, ch, root)  //  
    wg.Wait()                         //  
    result := &lt;- ch                   //    
    return result
}

func loadCommentsInner(wg *sync.WaitGroup, channel chan commentTree, node intTree) {
    ch := make(chan commentTree, len(node.children))  //     
    var childWg sync.WaitGroup                        //     
    childWg.Add(len(node.children))
    for _, c := range node.children {
        go loadCommentsInner(&amp;childWg, ch, c)         //      ()
    }
    result := commentTree{
        value: getCommentById(node.id),               //   
    }
    if len(node.children) &gt; 0 {                       //     ,   ,   
        childWg.Wait()
        for value := range ch {                       //      ,    
            result.children = append(result.children, value)
        }
    }
    channel &lt;- result                                 //     
    wg.Done()                                         //     
}</code></pre><br>
<p> â€¦ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>.   .  ,       .  ,      ,   ,    .   -  .  ?</p><br>
<p>  15   ,  , / ,  â€¦        HTTP    :</p><br>
<pre><code class="go">func getCommentById(id int) comment {
    return comment{Id: id, Title: "Hello"}
}</code></pre><br>
<p>   :</p><br>
<pre><code class="go">1
  2
  3
    4
    5
fatal error: all Goroutines are asleep - deadlock!

goroutine 1 [semacquire]:
sync.runtime_Semacquire(0xc00006e228)
    C:/go/src/runtime/sema.go:56 +0x49
sync.(*WaitGroup).Wait(0xc00006e220)
    C:/go/src/sync/waitgroup.go:130 +0x6b
main.loadCommentsInner(0xc00006e210, 0xc0000ce120, 0x1, 0xc000095f10, 0x2, 0x2)
    C:/Users/pzixe/go/src/hello/hello.go:47 +0x187
main.loadComments(0x1, 0xc000095f10, 0x2, 0x2, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
    C:/Users/pzixe/go/src/hello/hello.go:30 +0xec
main.main()
    C:/Users/pzixe/go/src/hello/hello.go:94 +0x14d</code></pre><br>
<p>,   -  . ,   -   ?     HTTP        ,      ...</p><br>
<p>             <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">@gogolang</a>    ,       .      ,     :</p><br>
<ol>
<li>      .     ,        ,                <code>comment</code>    JSON</li>
<li>    .     ,   <code>Task</code>   <code>Task</code>    <code>WhenAny</code>/<code>WhenAll</code>    .  ,    ,   ,   .   ,     ,     .      â€”    - -<br>
<pre><code class="go">for httpRequest := range webserer.listen() {
    go handle(httpRequest)
} </code></pre></li>
<li><p>           go-way     printTree:</p><br>
<pre><code class="go">func printTree(tree interface{}) string {
    b, err := json.MarshalIndent(tree, "", "  ")
    if err != nil {
        panic(err)
    }
    return string(b)
}</code></pre><br>
<p> <code>interface {}</code> â€”    <code>dynamic</code>   <code>any</code>,       .         ,      .</p><br>
<p>   JSON         ,      .</p><br>
</li>
</ol><br>
<p>      ,      :     ,  ,      ?                 .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> </a>:</p><br>
<pre><code class="go">func loadComments(root intTree) commentTree {
    result := commentTree{}
    var wg sync.WaitGroup
    loadCommentsInner(&amp;result, root, &amp;wg)
    wg.Wait()
    return result
}

func loadCommentsInner(resNode *commentTree, node intTree, wg *sync.WaitGroup) {
    wg.Add(1)
    for _, res := range node.children {
        resNode.children = append(resNode.children, &amp;commentTree{})
        loadCommentsInner(resNode.children[len(resNode.children)-1], res, wg)
    }
    resNode.value = getCommentById(node.id)
    wg.Done()
}</code></pre><br>
<p>  ? ,        "go-way":     ,        .         ,   ,     ,     .</p><br>
<p>    ,        .    ,    ,   ,    </p><br>
<div class="spoiler"><b class="spoiler_title"></b><div class="spoiler_text"><p>  ,        ,   . </p></div></div><br>
<p>       ,       ,   - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>   :</p><br>
<pre><code class="go">func loadComments(root intTree) commentTree {
    result := commentTree{}
    var wg sync.WaitGroup
    loadCommentsInner(&amp;result, root, &amp;wg)
    wg.Wait()
    return result
}

func loadCommentsInner(resNode *commentTree, node intTree, wg *sync.WaitGroup) {
    wg.Add(len(node.children))
    for _, res := range node.children {
        child := &amp;commentTree{}
        resNode.children = append(resNode.children, child)
        res := res
        go func() {
            defer wg.Done()
            loadCommentsInner(child, res, wg)
        }()
    }
    resNode.value = getCommentById(node.id)
}</code></pre><br>
<p> ,   ,   .          ,  ,               . ,         (,   4         ,      ),  ,       .</p><br>
<p>       ,   ,         .         :</p><br>
<pre><code class="plaintext">1
  2
  3
    4
    5
START 1
START 3
START 5
DONE 5
START 2
DONE 2
START 4
DONE 4</code></pre><br>
<p>,   4  5 , 3  .  ,    ,       ,           . , Rust   ,        ,        ,          .</p><br>
<p>  ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> </a>,   ,     :</p><br>
<pre><code class="go">if len(node.children) &gt; 0 {
    childWg.Wait()
    for i := 0; i &lt; len(node.children); i++ { //      
        result.children = append(result.children, &lt;-ch)
    }
}
channel &lt;- result
wg.Done()</code></pre><br>
<p> ,    ?    ,      ,     ,      ,       .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> </a>,      : </p><br>
<ol>
<li><code>func (n *IdTree) LoadComments(ctx context.Context) (*CommentTree, error)</code> â€”        tree</li>
<li><code>g, ctx := errgroup.WithContext(ctx)</code> â€”   </li>
<li><code>i, c := i, c // correct capturing by closure</code> â€”   ,    ,   .         </li>
<li><code>g.Go(func() error</code> â€”   ,    </li>
</ol><br>
<p> ,    ,    .</p><br>
<p>,         ? ,  .   (  ), ,       (-   ),     . ,         ,    .</p><br>
<p>  ,      ? ,         ,     ,    .      <code>getCommentById</code>.</p><br>
<p>     .</p><br>
<h2 id="c">Câ™¯</h2><br>
<p>C#   ,     6 ,         .           ,    ,  ,    8         :</p><br>
<pre><code class="cs">class Program
{
    class Comment
    {
        public int Id { get; set; }
        public string Title { get; set; }

        public override string ToString() =&gt; $"{Id} - {Title}";
    }

    private static readonly HttpClient HttpClient = new HttpClient();

    private static Task&lt;Comment&gt; GetCommentById(int id) =&gt;
        HttpClient.GetStringAsync($"https://jsonplaceholder.typicode.com/todos/{id}")
            .ContinueWith(n =&gt; JsonConvert.DeserializeObject&lt;Comment&gt;(n.Result));

    private static async Task&lt;Tree&lt;Comment&gt;&gt; GetCommentsTree(Tree&lt;int&gt; tree)
    {
        var children = Task.WhenAll(tree.Children.Select(GetCommentsTree));
        var value = await GetCommentById(tree.Value);
        var childrenResults = await children;
        return new Tree&lt;Comment&gt; { Value = value, Children = childrenResults };
    }

    private static async Task Main()
    {
        var tree = Tr(1, new[] { Tr(2), Tr(3, new[] { Tr(4), Tr(5) }) });
        PrintTree(tree);
        var comment_tree = await GetCommentsTree(tree);
        PrintTree(comment_tree);
    }

    class Tree&lt;T&gt;
    {
        public T Value { get; set; }
        public Tree&lt;T&gt;[] Children { get; set; }
    }

    private static void PrintTree&lt;T&gt;(Tree&lt;T&gt; tree, string intendantion = "")
    {
        Console.WriteLine(intendantion + tree.Value);
        foreach (var child in tree.Children)
        {
            PrintTree(child, intendantion + "  ");
        }
    }

    static Tree&lt;T&gt; Tr&lt;T&gt;(T value, Tree&lt;T&gt;[] children = null) =&gt; new Tree&lt;T&gt; { Value = value, Children = children ?? Array.Empty&lt;Tree&lt;T&gt;&gt;() };
}</code></pre><br>
<p>     ,    ? ,   ,   <code>Task.WhenAll</code>    <code>foreach</code>     .       .<br>
     ? ,              .          <code>GetCommentById</code>.    ,  <code>AsyncEnumerable</code> ,         ,          .</p><br>
<h2 id="vyvody"></h2><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/db8/2fc/0fd/db82fc0fd7312aaa872e335f823b2cd7.png"></p><br>
<p> ,      .          ,   ,    ,  ,       .       .  , <abbr title="  "></abbr>.</p><br>
<div class="scrollable-table"><table>
<thead>
<tr>
<th></th>
<th>Haskell</th>
<th>go</th>
<th>C#</th>
</tr>
</thead>
<tbody>
<tr>
<td>   *</td>
<td>17</td>
<td>76</td>
<td>28</td>
</tr>
<tr>
<td>   </td>
<td>2</td>
<td>4</td>
<td>-</td>
</tr>
<tr>
<td>     </td>
<td>30</td>
<td>10</td>
<td>-</td>
</tr>
<tr>
<td>     </td>
<td>15</td>
<td>50</td>
<td>-</td>
</tr>
<tr>
<td>   </td>
<td>âœ“</td>
<td>âœ—</td>
<td>âœ—</td>
</tr>
<tr>
<td>     </td>
<td>âœ“</td>
<td>âœ—</td>
<td>âœ“</td>
</tr>
<tr>
<td>    **</td>
<td>âœ“âœ—</td>
<td>âœ“</td>
<td>âœ“</td>
</tr>
<tr>
<td>  </td>
<td>~30</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>  </td>
<td>5c</td>
<td>1.9c***</td>
<td>1.6c</td>
</tr>
</tbody>
</table></div><br>
<p>*        ,     . ,         ,    Haskell   showTree       </p><br>
<p>** ,           42.  , ,     :</p><br>
<pre><code class="cs">async Task&lt;Tree&lt;Comment&gt;&gt; GetCommentsTree(Tree&lt;int&gt; tree)
{
    if (tree.Children.Sum(c =&gt; c.Value) == 42)
    {
        return new Tree&lt;Comment&gt; { Value = await GetCommentById(tree.Value), Children = Array.Empty&lt;Tree&lt;int&gt;&gt; };
    }
    ...         </code></pre><br>
<p>      .</p><br>
<p>         ,   ,      <code>mapParallel</code>.    ,    ,    go  C#. </p><br>
<p>***     ,      7 ,   1.9 ,     200.     ,           .</p><br>
<hr><br>
<p>    ,   :</p><br>
<blockquote>   ""  </blockquote><p>Haskell:     ,     . ,   ,        , ,   . , ,   17     ,        ,    .</p><br>
<p>Go:     -   , <strong><em></em></strong>     - ,        ,      .</p><br>
<blockquote>      </blockquote><p>Haskell:      ,   ,        .     ,       "   ", "    Rust",   .        ,            .   ,       .     :     . ,        ,       .</p><br>
<p>Go:      <strong></strong>.       10  .     .  ,       ,   .     , ,      ,          ,       â€” .    ,    .     - ,       ,   ,      .  , ,  ,   .           ,      .     ,   ,        .</p><br>
<blockquote>C        </blockquote><p>.  ,      ,      ,  ,     ,     <code>Maybe</code>  <code>IO</code>    ,    .</p><br>
<blockquote>C     </blockquote><p> ,     -      ,  .        <code>Task.Run(() =&gt; DoStuffAsyncInAnotherThread())</code>    ,   -  .   ,  <code>go DoAsyncStuff()</code>,        ,          (  -   ),      <code>Task.WhenAny</code>/<code>Task.WhenAll</code> (       ),    .</p><br>
<p>       .        ,  ,    .   . ,         ,     .</p><br>
<p>  - ,  , ,    .</p><br>
<h2 id="subektivnaya-chast"> </h2><br>
<p>   ,       .</p><br>
<p>      ,       .      :   ,     ,  ,    . ,    ,           ,       ,     "    ?",     <code>Maybe</code>  <code>IO</code>   "   <code>fromJust</code>     <code>Maybe</code>,   <code>IO</code>?". </p><br>
<p>      , ..      ,         .             , ,    , -      .   .     ,       "     ",     .          ,    .  ,               ,          .       ,      ,         . </p><br>
<hr><br>
<p>     ,      ,      ,       -  ,      .  ?   .  JSON?   .         .    ,         (,          <code>^.</code>),    ,       (-    HTTP  ),     .</p><br>
<p>           ,   -  ,       .     ,   ,   â€” .      .         :         ,  <em> </em>   .</p><br>
<hr><br>
<p>, .</p><br>
<p>       IDE//etc,     /   .</p><br>
<p>        . </p><br>
<p>-    ,   -     ,   â€”     .   ,          ,   //â€¦       ,     ...</p><br>
<p>-       ,       go 3      ,        . -  ,     8     ,            5,  -         .       ,        ,  ,     .   .</p><br>
<p>  -       ,       ( )    .          :</p><br>
<blockquote> â€”  go   ,   ,     <br>
<br>
 â€”  *sarcasm*<br>
<br>
 â€” <em>Sorry, this group is no longer accessible</em></blockquote><p>    ,         (    ),        ,   .</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/z8/ab/nj/z8abnjw1rn4oiupsnoozpu_5epq.png"><br>
<em>             </em></p></div></div><br>
<p>  ,         ?  ,      -              .    ,    -   ,      ,  ,   ,          â€¦ ,   .</p><br>
<p><strong><em>Upd.        ,   ,         .     ,          .       ,     .</em></strong></p><br>
<h2 id="zaklyuchenie"></h2><br>
<p>     ?        ,     .      .      ,   ,     obj/bin     .     ,   .   ,   Go        ,       ,   -     .       ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">    </a>,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> </a>      .   -      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">gorm</a>,      EF/Linq2Db/Hibernate/Dapper       API.</p><br>
<p>        ,   ,          ,     .     "" ,     ,    ,  , .      SQL ,   .     ,  .       ,     . ,    ,         ,    ,   ""    ,  -    .            ,    ,      ,    (   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> </a>,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>).  go        <code>Map</code>,           :     ,   â€”  .</p><br>
<p>          ,         :</p><br>
<p><img src="https://habrastorage.org/webt/pj/sd/wv/pjsdwv6xnhc57nc-hwvywaho8lk.jpeg"></p><br>
<p> â€”   ,        ?..</p></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar469441/">https://habr.com/ru/post/ar469441/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar469427/index.html">Ø£Ù„Ø¹Ø§Ø¨ Ø®Ø´Ø¨ÙŠØ© ØŒ Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø±Ø§Ø¨Ø¹ - 1990</a></li>
<li><a href="../ar469429/index.html">Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø±ØºØ¨Ø© ÙÙŠ Ø§Ø³ØªØ¹Ø±Ø§Ø¶ Ù‡Ø§Ø¨Ø±Ø§</a></li>
<li><a href="../ar469433/index.html">Ø§Ù„Ù…Ø±Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ù‚ØµØ© ÙƒÙŠÙ Ù‚Ø¯Ù…Ù†Ø§ â€‹â€‹Ø³ÙƒØ±Ø§ØªØ´ ÙƒÙ„ØºØ© Ø¨Ø±Ù…Ø¬Ø© Ù„Ù„Ø¥Ù†Ø³Ø§Ù† Ø§Ù„Ø¢Ù„ÙŠ</a></li>
<li><a href="../ar469435/index.html">Ø¹ÙƒØ³ Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© ÙŠØ§Ù†Ø¯ÙƒØ³</a></li>
<li><a href="../ar469439/index.html">ARIES PLC110 [M02] -MS4 ØŒ HMI ØŒ OPC Ùˆ SCADA ØŒ Ø£Ùˆ ÙƒÙ… ÙŠØ­ØªØ§Ø¬ Ø§Ù„Ø´Ø®Øµ Ø¥Ù„Ù‰ Ø´Ø§ÙŠ Ø§Ù„Ø¨Ø§Ø¨ÙˆÙ†Ø¬. Ø§Ù„Ø¬Ø²Ø¡ 2</a></li>
<li><a href="../ar469443/index.html">Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„ØªÙŠ Ù†Ø¬Øª: ØªÙ… Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù‡ÙŠÙƒÙ„ "Ø§Ù„Ù…Ø³ØªØ­ÙŠÙ„" Ø§Ù„Ø°ÙŠ ÙŠÙ‚Ø§ÙˆÙ… Ø§Ù„Ø¸Ø±ÙˆÙ Ø§Ù„Ø£Ø±Ø¶ÙŠØ© Ù„Ø£ÙˆÙ„ Ù…Ø±Ø©</a></li>
<li><a href="../ar469445/index.html">Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ AngularConnect 2019. Ø§Ù„Ø¬Ø²Ø¡ 2</a></li>
<li><a href="../ar469447/index.html">Ø·Ø±ÙŠÙ‚ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù…Ù† ÙÙƒØ±Ø© Ø±Ø§Ø¦Ø¹Ø© Ø¥Ù„Ù‰ Ø§Ù„ØµÙ†Ø§Ø¹Ø© Ø§Ù„Ø¹Ù„Ù…ÙŠØ©</a></li>
<li><a href="../ar469449/index.html">Ø´Ù‡Ø§Ø¯Ø§Øª EV SSL: Ù‡Ù„ Ù‡Ù†Ø§Ùƒ Ø­ÙŠØ§Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ù…ÙˆØªØŸ</a></li>
<li><a href="../ar469451/index.html">ÙÙ„Ø³ÙØ© Ø§Ù„ØµÙØ±</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>