<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸˆ ğŸ¤ŸğŸ¼ ğŸ‘¨ğŸ¿â€ğŸ¤â€ğŸ‘¨ğŸ» å¢åŠ Goé”™è¯¯å†…å®¹-github.com/ztrue/tracerr ğŸ¤™ ğŸ¦ ğŸ‘²ğŸ¾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ç»è¿‡å¤šå¹´ä½¿ç”¨phpå’Œjsçš„ç»éªŒï¼Œæˆ‘ä¹ æƒ¯äº†å¯¹é”™è¯¯è¿›è¡Œå †æ ˆè·Ÿè¸ªï¼Œå¹¶ç›´æ¥ä»é”™è¯¯æŠ¥å‘Šä¸­æŸ¥çœ‹é”™è¯¯å‘ç”Ÿçš„ä½ç½®ã€‚ å‡ å¹´å‰åœ¨Goä¸Šé‡æ–°æ’­ç§æ—¶ï¼Œä»¤æˆ‘æœ‰äº›æƒŠè®¶çš„æ˜¯Goå…·æœ‰ä¸åŒçš„è§„åˆ™ï¼Œæ‚¨éœ€è¦çŒœæµ‹æŸäº›è¡Œä¸Šçš„å †æ ˆè·Ÿè¸ªï¼Œä¾‹å¦‚â€œæ— æ•ˆå­—ç¬¦â€ã€‚ å¦‚æœå®ƒå‘ç”Ÿåœ¨äº§å“ä¸Šå¹¶ä¸”ä¸çŸ¥é“å¦‚ä½•å¤åˆ¶å®ƒï¼Œé‚£ä¹ˆè¿™å°†å˜æˆä¸€ä¸ªæ•´ä½“å¸å¼•åŠ›ã€‚ 

 ç”±äºæˆ‘ç¡®å®šæ²¡...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>å¢åŠ Goé”™è¯¯å†…å®¹-github.com/ztrue/tracerr</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/440008/"> ç»è¿‡å¤šå¹´ä½¿ç”¨phpå’Œjsçš„ç»éªŒï¼Œæˆ‘ä¹ æƒ¯äº†å¯¹é”™è¯¯è¿›è¡Œå †æ ˆè·Ÿè¸ªï¼Œå¹¶ç›´æ¥ä»é”™è¯¯æŠ¥å‘Šä¸­æŸ¥çœ‹é”™è¯¯å‘ç”Ÿçš„ä½ç½®ã€‚ å‡ å¹´å‰åœ¨Goä¸Šé‡æ–°æ’­ç§æ—¶ï¼Œä»¤æˆ‘æœ‰äº›æƒŠè®¶çš„æ˜¯Goå…·æœ‰ä¸åŒçš„è§„åˆ™ï¼Œæ‚¨éœ€è¦çŒœæµ‹æŸäº›è¡Œä¸Šçš„å †æ ˆè·Ÿè¸ªï¼Œä¾‹å¦‚â€œæ— æ•ˆå­—ç¬¦â€ã€‚ å¦‚æœå®ƒå‘ç”Ÿåœ¨äº§å“ä¸Šå¹¶ä¸”ä¸çŸ¥é“å¦‚ä½•å¤åˆ¶å®ƒï¼Œé‚£ä¹ˆè¿™å°†å˜æˆä¸€ä¸ªæ•´ä½“å¸å¼•åŠ›ã€‚ <br><br> ç”±äºæˆ‘ç¡®å®šæ²¡æœ‰äººä¼šé­å—æ­¤ç—›è‹¦ï¼Œå› æ­¤æˆ‘åˆ¶ä½œäº†ä¸€ä¸ªå¯ä»¥åšåˆ°è¿™ä¸€ç‚¹çš„è½¯ä»¶åŒ…ï¼š <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/webt/r4/ck/uz/r4ckuzglosfy6oz2qfokxiakngs.png" alt="golangé”™è¯¯è¾“å‡º"></a> <br><br>  â†’ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">GitHub</a> <br><a name="habracut"></a><br> ä»–æ‰€åšçš„åªæ˜¯ï¼š <br><br><ol><li> å°†å †æ ˆè·Ÿè¸ªæ·»åŠ åˆ°é”™è¯¯ã€‚ </li><li> æ˜¾ç¤ºå‘ç”Ÿæ­¤é”™è¯¯çš„å †æ ˆè·Ÿè¸ªå’Œæºç‰‡æ®µï¼ˆå½“ç„¶ï¼Œåœ¨å­˜åœ¨æºçš„æƒ…å†µä¸‹ï¼‰ã€‚ </li></ol><br><h3> æ·»åŠ å †æ ˆè·Ÿè¸ª </h3><br> æœ‰å‡ ç§ä½¿ç”¨å †æ ˆè·Ÿè¸ªåˆ›å»ºé”™è¯¯çš„æ–¹æ³•ï¼š <br><br><pre><code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">//   err := tracerr.New("some error") //   Errorf,    ,   fmt.Errorf err := tracerr.Errorf("some error %d", num) //    ,    err = tracerr.Wrap(err)</span></span></code> </pre> <br> é‡æ–°åŒ…è£…é”™è¯¯åï¼Œå †æ ˆè·Ÿè¸ªå°†ä¿æŒä¸å˜å¹¶ä¸”ä¸ä¼šè¢«è¦†ç›–ï¼Œå¦‚æœä¸çŸ¥é“é”™è¯¯æ˜¯å¦å·²ç»å…·æœ‰å †æ ˆè·Ÿè¸ªï¼Œè¿™å°†éå¸¸æ–¹ä¾¿ã€‚ <br><br> è¯¥ä»£ç å¯èƒ½çœ‹èµ·æ¥åƒè¿™æ ·ï¼š <br><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">decodeFile</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(path </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">, data </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">interface</span></span></span></span><span class="hljs-function"><span class="hljs-params">{})</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">error</span></span></span></span> { b, err := ioutil.ReadFile(path) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> tracerr.Wrap(err) } err = json.Unmarshal(b, data) <span class="hljs-comment"><span class="hljs-comment">//  err = nil,   nil return tracerr.Wrap(err) }</span></span></code> </pre><br><h3> å †æ ˆè·Ÿè¸ªæ˜¾ç¤º </h3><br> é€šè¿‡<code>if err != nil { return err }</code>ç›´åˆ°100500å‡ºç°é”™è¯¯ä¹‹åï¼Œåœ¨<code>main()</code> ï¼ˆæˆ–å®ƒçš„å¤„ç†ä½ç½®ï¼‰ä¸­è¿”å›å®ƒçš„å®¶å›­ï¼Œæ‚¨å¾ˆå¯èƒ½å¸Œæœ›æ˜¾ç¤ºæˆ–æŠµæŠ¼å®ƒã€‚ <br> æœ‰å‡ ä¸ªé€‰é¡¹ï¼šå…¨éƒ¨ç”¨ä½œâ€œæ‰“å°â€ï¼ˆæ‰“å°æ–‡æœ¬ï¼‰æˆ–â€œæ‰“å°â€ï¼ˆè¿”å›æ–‡æœ¬ï¼‰ï¼š <br><br>  1ï¼‰æ˜¾ç¤ºé”™è¯¯æ–‡æœ¬å’Œå †æ ˆè·Ÿè¸ªï¼š <br><br><pre> <code class="go hljs">tracerr.Print(err)</code> </pre><br>  2ï¼‰æ˜¾ç¤ºé”™è¯¯æ–‡æœ¬ï¼Œå †æ ˆè·Ÿè¸ªå’Œæºç‰‡æ®µï¼ˆé»˜è®¤ä¸º6è¡Œï¼‰ï¼š <br><br><pre> <code class="go hljs">tracerr.PrintSource(err)</code> </pre><br>  3ï¼‰ç›¸åŒï¼Œä½†é¢œè‰²é€šå¸¸æ›´ä¸°å¯Œï¼š <br><br><pre> <code class="go hljs">tracerr.PrintSourceColor(err)</code> </pre><br>  4ï¼‰æ‚¨å¯ä»¥å°†æ˜¾ç¤ºå¤šå°‘è¡Œä»£ç ä½œä¸ºå‚æ•°ä¼ é€’ï¼š <br><br><pre> <code class="plaintext hljs">tracerr.PrintSource(err, 9) tracerr.PrintSourceColor(err, 9)</code> </pre><br>  5ï¼‰æˆ–ä¼ é€’2ä¸ªå¯é€‰å‚æ•°ï¼Œè¦æ˜¾ç¤ºçš„é”™è¯¯è¡Œä¹‹å‰å’Œä¹‹åå¤šå°‘è¡Œï¼š <br><br><pre> <code class="go hljs">tracerr.PrintSource(err, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) tracerr.PrintSourceColor(err, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)</code> </pre><br><h3> é—®é¢˜ </h3><br> æˆ‘å·²ç»æ”¶åˆ°äº†ä¸€äº›åé¦ˆï¼Œå› æ­¤æˆ‘å…è®¸è‡ªå·±æå‰å›ç­”ä¸€äº›å·²ç»æå‡ºçš„é—®é¢˜ã€‚ <br><br>  <i>é—®ï¼šè¿™ä»…é€‚ç”¨äºè°ƒè¯•å—ï¼Ÿ</i>  <i>æœ‰ä¸€ä¸ªè°ƒè¯•å™¨ã€‚</i> <br> ç­”ï¼šè¿™ä¸ä»…é€‚ç”¨äºè°ƒè¯•ï¼Œè¿˜å¯ä»¥åœ¨äº§å“ä¸Šè®°å½•æœ‰å…³å †æ ˆè·Ÿè¸ªä¿¡æ¯ç”šè‡³æºä»£ç ç‰‡æ®µçš„é”™è¯¯ï¼Œæ ¹æ®æˆ‘çš„ç»éªŒï¼Œè¿™å°†å¤§å¤§ç®€åŒ–ç„¶ååˆ†æè¿™äº›é”™è¯¯çš„è¿‡ç¨‹ã€‚ <br><br>  <i>é—®ï¼šæœ‰ä¸€ä¸ªè¶…çº§åŒ…pkg /é”™è¯¯ï¼Œä¸ºä»€ä¹ˆä¸ä½¿ç”¨å®ƒï¼Ÿ</i> <br> ç­”ï¼šæ˜¯çš„ï¼Œæˆ‘æœ¬äººå®Œå…¨ä½¿ç”¨å®ƒå¹¶æ„Ÿåˆ°å¾ˆé«˜å…´ï¼Œä½†æ˜¯ç”±äºä»¥ä¸‹åŸå› ï¼Œå®ƒä¸é€‚åˆæˆ‘ï¼š <br>  1ï¼‰æ²¡æœ‰ç®€å•çš„æ–¹æ³•å¯ä»¥ç«‹å³ä¸æºä¸€èµ·æ˜¾ç¤ºå †æ ˆè·Ÿè¸ªã€‚ <br>  2ï¼‰é‡æ–°åŒ…è£…é”™è¯¯æ—¶ï¼ˆä¾‹å¦‚ï¼Œå°†é”™è¯¯é«˜å‡ºä¸€çº§ï¼‰ï¼Œå †æ ˆè·Ÿè¸ªå°†è¢«ä¿¡æ¯é‡è¾ƒå°çš„å †æ ˆè·Ÿè¸ªæ‰€è¦†ç›–ã€‚ <br>  3ï¼‰æ¯è½¬ä¸€åœˆéƒ½å¿…é¡»å‘é€å…¶ä»–é”™è¯¯æ–‡æœ¬ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œç¼–å†™/é˜…è¯»ä»£ç æ—¶ä¼šæœ‰äº›å¼€é”€ã€‚ <br><br>  <i>é—®ï¼šåœ¨Goä¸­ï¼Œé”™è¯¯ä¹Ÿä¸ä¾‹å¤–ï¼Œæ‚¨å®Œå…¨ä¸èƒ½è¿™æ ·åšã€‚</i> <br> ç­”ï¼šæˆ‘åŒæ„ï¼ŒGoä¸­çš„é”™è¯¯ä¹Ÿä¸ä¾‹å¤–ã€‚ å¦‚æœæ‚¨å¸Œæœ›ä»¥<code>if err != nil { return err }</code>å…¶ä»–æ–¹å¼å¤„ç†æˆåƒä¸Šä¸‡-å½“ç„¶ï¼Œè¿™æ˜¯æ‚¨çš„é€‰æ‹©ã€‚ æ‚¨åªèƒ½åŒ…è£…ä½œä¸ºå¼‚å¸¸å¤„ç†çš„é”™è¯¯ã€‚ <br><br>  <i>é—®ï¼šStectraceå¢åŠ äº†æ€§èƒ½å¼€é”€ã€‚</i> <br> ç­”ï¼šæ˜¯çš„ï¼Œå®ƒå¢åŠ äº†ï¼Œä½†è¿™ä»…ä¸äº§ç”Ÿå¤§é‡é”™è¯¯çš„åœ°æ–¹æœ‰å…³ï¼Œå¦‚æœç´§æ€¥çš„è¯ï¼Œä¸è¦åœ¨æ­¤å¤„æ·»åŠ å †æ ˆè·Ÿè¸ªï¼ˆæˆ‘ç›¸ä¿¡åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ­¤å¼€é”€å¯ä»¥å¿½ç•¥ä¸è®¡ï¼‰ã€‚ <br><br> æ€»çš„æ¥è¯´ï¼Œæˆ‘å¸Œæœ›è¿™ä¸ªè½¯ä»¶åŒ…èƒ½ä½¿æ‚¨çš„æ¢³æ£‰æœºçš„ç”Ÿæ´»æ›´åŠ è½»æ¾ï¼Œæˆ‘å¾ˆé«˜å…´æ”¶åˆ°æ‚¨çš„ä»»ä½•åé¦ˆï¼Œè°¢è°¢ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN440008/">https://habr.com/ru/post/zh-CN440008/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN439986/index.html">èŠ¯ç‰‡VSé›†è£…ç®±æŠ€æœ¯çš„å¨èƒ</a></li>
<li><a href="../zh-CN439988/index.html">æŠ€æœ¯åœˆäº”å¹´</a></li>
<li><a href="../zh-CN439990/index.html">ã€Šå®ç”¨çš„äººå·¥æ™ºèƒ½ã€‹ä¸€ä¹¦ æœºå™¨å­¦ä¹ å’Œäº‘æŠ€æœ¯</a></li>
<li><a href="../zh-CN439994/index.html">XAMPP-è™šæ‹ŸæœåŠ¡å™¨è®¾ç½®</a></li>
<li><a href="../zh-CN440002/index.html">å¦‚ä½•é”€å”®ä¼ä¸šè½¯ä»¶å¹¶ç”Ÿå­˜ï¼Ÿ</a></li>
<li><a href="../zh-CN440010/index.html">React vs Angularï¼šåº“å¦‚ä½•ä¸æ¡†æ¶ç«äº‰</a></li>
<li><a href="../zh-CN440012/index.html">å²è¯—æˆé•¿ä¼šè®®ä¸Šçš„äº§å“æ¡ˆä¾‹ç ”ç©¶å’Œå®è·µ</a></li>
<li><a href="../zh-CN440014/index.html">é¢å‘åˆå­¦è€…çš„æŠ€èƒ½ï¼Œè‡ªæˆ‘æ•™è‚²å’Œç¼–ç¨‹è¯­è¨€ï¼šHackerRankç ”ç©¶</a></li>
<li><a href="../zh-CN440016/index.html">å½“å¯ä»¥è§¦æ‘¸é˜…è¯»æ—¶ï¼šONYX BOOXåŸºç£å±±4è¯„è®º</a></li>
<li><a href="../zh-CN440018/index.html">åŠ¨æ€å±€éƒ¨æ›å…‰</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>