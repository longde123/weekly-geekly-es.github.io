<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸš ğŸ¥Œ ğŸ¤ŸğŸ¾ H2æ¼”è¿›-åµŒå…¥å¼æ•°æ®åº“ä¸­çš„çª—å£å‡½æ•°ï¼ŒCTEï¼ŒJSON / XML ğŸ›¥ï¸ ğŸš¯ ğŸ¤´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æœ‰å¼€æºé¡¹ç›®å·²ç»æˆä¸ºå•†ä¸šä¸ŠæˆåŠŸçš„ä¸»æµï¼Œä¾‹å¦‚PostgreSQL / Elasticsearchã€‚ å…¶ä»–å…¬å¸ï¼Œä¾‹å¦‚RethinkDBï¼Œå¤±å»äº†å¸‚åœºå¹¶åœæ­¢äº†å¼€å‘ã€‚ ç”¨Javaç¼–å†™çš„åµŒå…¥å¼æ•°æ®åº“çš„H2æ•°æ®åº“é¡¹ç›®æ­£åœ¨å‘å±•å¹¶å¤„äºå…¶åˆ©åŸºåœ°ä½ã€‚ 


 ä¸ºäº†æ¼”ç¤ºSonarQubeï¼ŒJiraï¼ŒConfluenceçš„åŠŸèƒ½...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>H2æ¼”è¿›-åµŒå…¥å¼æ•°æ®åº“ä¸­çš„çª—å£å‡½æ•°ï¼ŒCTEï¼ŒJSON / XML</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/446380/"> æœ‰å¼€æºé¡¹ç›®å·²ç»æˆä¸ºå•†ä¸šä¸ŠæˆåŠŸçš„ä¸»æµï¼Œä¾‹å¦‚PostgreSQL / Elasticsearchã€‚ å…¶ä»–å…¬å¸ï¼Œä¾‹å¦‚RethinkDBï¼Œå¤±å»äº†å¸‚åœºå¹¶åœæ­¢äº†å¼€å‘ã€‚ ç”¨Javaç¼–å†™çš„åµŒå…¥å¼æ•°æ®åº“çš„H2æ•°æ®åº“é¡¹ç›®æ­£åœ¨å‘å±•å¹¶å¤„äºå…¶åˆ©åŸºåœ°ä½ã€‚ <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zl/co/o1/zlcoo1mzsn8lw4svhnre9ew5ekc.png"></div><br> ä¸ºäº†æ¼”ç¤ºSonarQubeï¼ŒJiraï¼ŒConfluenceçš„åŠŸèƒ½ï¼Œé¦–æ¬¡ä½¿ç”¨H2æ•°æ®åº“ã€‚  H2æ˜¯åœ¨å‡ ä¹æ‰€æœ‰JVMé¡¹ç›®ä¸­çš„å†…å­˜ä¸­è¿è¡ŒSQLæµ‹è¯•çš„åŸºç¡€ã€‚ æœ‰ä¸€ä¸ªç”¨æˆ·é²œä¸ºäººçŸ¥çš„åº”ç”¨ç¨‹åºç¤ºä¾‹-è¿™æ˜¯åœ¨åˆ†å¸ƒå¼ignite-sqlä¸­ä½¿ç”¨H2ï¼Œè¿™å·²ç»æ˜¯ç”Ÿäº§å‡†å¤‡å°±ç»ªçš„è„šæœ¬ï¼Œç”¨äºå°†åµŒå…¥å¼æ•°æ®åº“ç”¨ä½œå¦ä¸€ä¸ªè§£å†³æ–¹æ¡ˆçš„ä¸€éƒ¨åˆ†ã€‚ ä¸åˆ°ä¸€ä¸ªæœˆå‰ï¼Œå‘å¸ƒäº†<a href="">1.4.199</a>ç‰ˆæœ¬ï¼Œæ‚¨ç°åœ¨å¯ä»¥åœ¨å…¶ä¸­ç¼–å†™ç›¸å½“å¤æ‚çš„SQLæŸ¥è¯¢ã€‚ <br><a name="habracut"></a><br> åœ¨é¡¹ç›®ä¸­ï¼Œæˆ‘ä»æ¥ä¸ä¾èµ–H2ä½œä¸ºå°†æ•°æ®ä¿å­˜åˆ°ç£ç›˜çš„å®Œæ•´æ•°æ®åº“ã€‚ è€Œæ˜¯ä½œä¸ºå…·æœ‰è‰¯å¥½SQLæ”¯æŒçš„JVMå†…å­˜ä¸­çš„æ•°æ®è½¬æ¢æ¨¡å—ã€‚ ä½†æ˜¯å¯¹äºæ­¤åº”ç”¨ç¨‹åºï¼Œç”±äºç¼ºå°‘<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">çª—å£åŠŸèƒ½</a>è€Œå—åˆ°æå¤§é™åˆ¶ã€‚ è€Œç°åœ¨ï¼Œè‡ªä»<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åŠŸèƒ½</a>å¼€å‘å¼€å§‹ä»¥æ¥å·²ç»è¿‡å»äº†åŠå¹´å¤šçš„æ—¶é—´ï¼Œç°åœ¨H2databaseå·²ç»èµ¶ä¸Šäº†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SQLite</a> ã€‚ è¿™æ˜¯ç”±äºä¼Šå°”åº“èŒ¨å…‹ï¼ˆIrkutskï¼‰çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¶å¤«æ ¹å°¼Â·é‡Œäºšæ‰è¯ºå¤«</a> ï¼ˆ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Yevgeny Ryazanovï¼‰</a>çš„ä¼Ÿå¤§åŠŸç»©-åœ¨éè¥åˆ©æ€§å¼€æºé¡¹ç›®ä¸­ï¼Œæˆ‘ä»æœªè§è¿‡åƒä»–ä»¥å‰é‚£æ ·çš„å‘å±•é€Ÿåº¦ã€‚ å¦å¤–ï¼Œå…¶ä»–è¯´ä¿„è¯­çš„äººçš„è´¡çŒ®ä¹Ÿç»å¸¸å‡ºç°åœ¨é¡¹ç›®èµ„æ–™åº“ä¸­ã€‚ å¹¶ä¸”åœ¨å‘å¸ƒä¹‹æ—¶-è¯¥é¡¹ç›®çš„åˆ›å§‹äºº<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ‰˜é©¬æ–¯ç©†å‹’ï¼ˆThomas Muellerï¼‰</a> ã€‚ <br><br>  H2æ”¯æŒ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">é€’å½’æŸ¥è¯¢ï¼ˆCTEï¼‰</a> ã€‚ è¿™æ˜¯SQLä¸­å¤„ç†è¡¨ä¸­çš„åˆ†å±‚æ•°æ®å’ŒæŸ¥è¯¢åˆ†è§£çš„æ ‡å‡†æ–¹æ³•ï¼ˆæ‚¨å¯ä»¥åœ¨è¿™é‡Œä½¿ç”¨è°ƒåº¦ç¨‹åºï¼‰ã€‚  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨å‡ºç‰ˆç‰©ä¸­</a>é€šè¿‡ç¤ºä¾‹æè¿°<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">äº†</a>é€’å½’æŸ¥è¯¢ã€‚ <br><br> ä¸ºäº†å¤„ç†ç»“æ„ä¸è‰¯çš„æ•°æ®ï¼Œå°†å‡ºç°<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SQL / JSONæ ‡å‡†</a>çš„å³å°†å®ç°ã€‚ åŒæ—¶ï¼Œå‡ºäºå…¶éœ€æ±‚ï¼Œå®ƒå€ŸåŠ©åŸºäº<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">BaseX</a>çš„è‡ªå®šä¹‰åŠŸèƒ½XQuery 3.1å¤„ç†å™¨æ‰©å±•äº†H2ã€‚ è¯¥ä»£ç åœ¨github <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">H2XQueryAdapter</a>é¡¹ç›®ä¸­å¯ç”¨ã€‚ è¿™æ˜¯ä¸€ä¸ªè¡¨å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨XQueryä»XMLæˆ–JSONæ ¼å¼æå–æ•°æ®ï¼Œå¹¶æ£€æŸ¥è¯¥å‡½æ•°è¿”å›çš„å€¼çš„ç±»å‹å’Œénullçš„é™åˆ¶ã€‚ æ­¤å¤–ï¼ŒSQLè¡¨è¾¾å¼çš„å…¨éƒ¨åŠŸèƒ½å¯ç”¨äºå°†XQueryè½¬æ¢çš„ç»“æœè½¬æ¢ä¸ºJVMè¿›ç¨‹å†…å­˜ã€‚ <br><br> è¡¨å‡½æ•°xqueryï¼ˆï¼‰å·²é‡è½½ï¼Œæœ‰ä¸¤ä¸ªé€‰é¡¹-ä¸€ä¸ªå‚æ•°xQueryæŸ¥è¯¢ï¼Œä¸€ä¸ªå‚æ•°xQueryæŸ¥è¯¢å’Œç¬¬äºŒä¸ª-sqlæŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œå½¢æˆxQueryæœ¬èº«çš„å‚æ•°ã€‚ <br><br> åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç”Ÿç‰©åŒ»å­¦æ•°æ®å­˜å‚¨</a>é¡¹ç›®ä¸­å¤„ç†PBçº§åŸå§‹æ•°æ®çš„é¡¹ç›®ä¸­ï¼Œé‡‡ç”¨è¿™ç§è½¬æ¢çš„æ–¹æ³•è¢«è¯æ˜æ˜¯æå¥½çš„ã€‚ <br><br><pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> xresult (GR <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">500</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>,AR <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>, VER <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">50</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> xquery(<span class="hljs-string"><span class="hljs-string">'declare variable $getHeader as xs:boolean external := false(); declare variable $getData as xs:boolean external := true(); &lt;csv&gt; { if($getHeader) then( &lt;record&gt;&lt;mavengr&gt;VARCHAR(500) not null&lt;/mavengr&gt;&lt;artifactname&gt;varchar&lt;/artifactname&gt;&lt;versionname&gt;VARCHAR(50)&lt;/versionname&gt;&lt;/record&gt; ), if($getData) then(( for $row in doc("http://central.maven.org/maven2/org/springframework/spring-context/5.1.4.RELEASE/spring-context-5.1.4.RELEASE.pom")//*:dependency return &lt;record&gt;&lt;mavengr&gt;{$row/*:groupId/text()}&lt;/mavengr&gt;&lt;artifactname&gt;{$row/*:artifactId/text()}&lt;/artifactname&gt;&lt;versionname&gt;{$row/*:version/text()}&lt;/versionname&gt;&lt;/record&gt; )) } &lt;/csv&gt;'</span></span>)</code> </pre> <br> æ­¤å®ç°å¯¹xqueryæŸ¥è¯¢çš„æ ¼å¼æœ‰é™åˆ¶ã€‚ <br><br><ul><li> é¦–å…ˆï¼Œæ‚¨éœ€è¦å£°æ˜ä¸¤ä¸ªå¤–éƒ¨å˜é‡getHeaderå’ŒgetData-è¿™æ˜¯å¿…éœ€çš„ï¼Œä»¥ä¾¿è¡¨å‡½æ•°ä¸ä¼šå¤šæ¬¡å¯¼è‡´æ•°æ®è½¬æ¢ï¼Œå¹¶ä¸¢å¼ƒä¸å¿…è¦çš„ç»“æœï¼Œä»¥ä¾¿ä»…è·å–åˆ—çš„åç§°å’Œç±»å‹ã€‚ å¤šä¸ªå‡½æ•°è°ƒç”¨æ˜¯H2 baseçš„åŠŸèƒ½ï¼Œå¯ä¸javaå‡½æ•°ä¸€èµ·è¿”å›å€¼åˆ—è¡¨ã€‚ </li><li> å…¶æ¬¡ï¼Œç»“æœæ ¼å¼åº”ç±»ä¼¼äº<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">csvåºåˆ—åŒ–</a> <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">csv</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">record</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">1</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">N</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">N</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">record</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">record</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">1</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">1</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">N</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">N</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">record</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">csv</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </li><li> ç¬¬ä¸‰ï¼Œæ‚¨éœ€è¦å£°æ˜æ•°æ®ç±»å‹ï¼Œç»´æ•°å’Œå¿…å¡«å­—æ®µï¼Œä¾‹å¦‚ï¼šåè¿›åˆ¶ï¼ˆ20,4ï¼‰ä¸ä¸ºnull </li></ul><br> é€šè¿‡åˆ—æ•°æ®ç±»å‹è§£æï¼Œæˆ‘å°è¯•é‡ç”¨H2ä¸­çš„SQLè§£æå™¨ï¼Œä½†äº‹å®è¯æ˜å®ƒä¸å…¶ä»–æ•°æ®åº“å¯¹è±¡ä¹‹é—´çš„è”ç³»å¦‚æ­¤ç´§å¯†ï¼Œä»¥è‡³äºå®ƒæ‹’ç»åˆ›å»ºè€Œä¸åˆ›å»ºæ•°æ®åº“å’Œä¼šè¯å°±æ— æ³•å·¥ä½œã€‚ æˆ‘æƒ³åˆ°å¼€å‘äººå‘˜è¿™æ ·åšæ˜¯ä¸ºäº†ç®€åŒ–åº”ç”¨ç¨‹åºçš„è®¾è®¡ï¼Œè€Œä¸æ˜¯åœ¨æ‰€æœ‰åœºåˆä¸‹éƒ½æ— æ³•ä¸ºä»»ä½•BNFè¯­æ³•åˆ›å»ºè§£æå™¨ï¼Œè¿™ä½¿æˆ‘æ„Ÿåˆ°æ¬£æ…°ã€‚ <br><br> æ‚¨å¯ä»¥åœ¨Javaè°ƒè¯•æ¨¡å¼ä¸‹è¿è¡Œ<a href="">æ­¤ç¤ºä¾‹</a> ã€‚ å¯ä»¥åœ¨ç†Ÿæ‚‰çš„xqueryç¼–è¾‘å™¨æˆ–å¼€æº<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">BaseX GUIä¸­</a>å¼€å‘æ–°çš„è½¬æ¢è§„åˆ™ã€‚ <br><br> å‡ ä¹å¯ä»¥å°†æ‰€æœ‰Javaé›†åˆæˆ–POJOè½¬æ¢ä¸ºè™šæ‹ŸH2è¡¨ã€‚  githubä¸Šçš„<a href="">H2POJOTable</a>é¡¹ç›®<a href="">ä»£ç </a> ã€‚ åœ¨ç¤ºä¾‹ä¸­ï¼Œé€šè¿‡å¼•ç”¨ï¼ŒåŸºäºå¹³å°çš„MemoryManagerMXBeanså˜æˆäº†H2è¡¨å‡½æ•°ã€‚ å¯¹äºé‚£äº›å¯¹ç¼ºå°‘LINQå’Œå¯¹Javaé›†åˆä¸­çš„æ“ä½œçš„æ”¯æŒæ„Ÿåˆ°æ‚²ä¼¤çš„äººæ¥è¯´ï¼Œè¿™ç§æ–¹æ³•å¯èƒ½ä¼šæœ‰äº›å®‰æ…°ã€‚ <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> (Statement statement = connection.createStatement()) { String pojoTableAlias = <span class="hljs-string"><span class="hljs-string">"create alias MemoryManagerMXBeans as $$ \n"</span></span> + <span class="hljs-string"><span class="hljs-string">"import java.lang.management.ManagementFactory;\n"</span></span> + <span class="hljs-string"><span class="hljs-string">"import java.lang.management.MemoryManagerMXBean;\n"</span></span> + <span class="hljs-string"><span class="hljs-string">"import org.h2.expression.function.pojo.*;\n"</span></span> + <span class="hljs-string"><span class="hljs-string">"import java.sql.*;\n"</span></span> + <span class="hljs-string"><span class="hljs-string">"import java.util.Collections;\n"</span></span> + <span class="hljs-string"><span class="hljs-string">"@CODE\n"</span></span> + <span class="hljs-string"><span class="hljs-string">" ResultSet getRuntimeStat(Connection connection) throws Exception{\n"</span></span> + <span class="hljs-string"><span class="hljs-string">" return H2PojoAdapter.toTable(connection, new CollectionWraper&lt;&gt;(MemoryManagerMXBean.class,"</span></span> + <span class="hljs-string"><span class="hljs-string">" ManagementFactory::getMemoryManagerMXBeans, Collections.emptyMap()));\n"</span></span> + <span class="hljs-string"><span class="hljs-string">" }\n"</span></span> + <span class="hljs-string"><span class="hljs-string">"\n$$"</span></span>; statement.executeUpdate(pojoTableAlias); } <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> (Statement statement = connection.createStatement()) { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> (ResultSet resultSet = statement.executeQuery(<span class="hljs-string"><span class="hljs-string">"select * from MemoryManagerMXBeans()"</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> columnCount = assertResultSet(resultSet, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String[]{<span class="hljs-string"><span class="hljs-string">"memoryPoolNames"</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span>, <span class="hljs-string"><span class="hljs-string">"valid"</span></span>}); assertThat(columnCount).isGreaterThan(<span class="hljs-number"><span class="hljs-number">1</span></span>); } }</code> </pre> <br> æœ‰æ—¶ï¼ŒH2ä¸­çš„æ—§åŠŸèƒ½å´©æºƒäº†ï¼Œç”¨æˆ·å¹¶æ²¡æœ‰é‚£ä¹ˆè¦æ±‚ã€‚ ä¾‹å¦‚ï¼Œåœ¨æˆ‘çš„å·¥ä½œé¡¹ç›®ä¸­ï¼Œç¨‹åºä»<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">AWS S3</a> URLè¯»å–æ•°æ®ã€‚ å› æ­¤ï¼Œæˆ‘å¸Œæœ›<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¯ä»¥</a>é€šè¿‡æ¥å—æˆ‘çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">pull request</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ¥è§£å†³</a>å·²çŸ¥é”™è¯¯ã€‚ ä¿®æ­£æ­¤é”™è¯¯çš„æ–¹æ³•æ˜¯å¯¹TLSçš„ä¸ç¨³å®šæµ‹è¯•ï¼Œè¿™äº›æµ‹è¯•åœ¨Java 11ä¸‹ä¹Ÿæ— æ³•æ­£å¸¸å·¥ä½œã€‚ <br><br>  H2å…è®¸æ‚¨ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ODBCé©±åŠ¨ç¨‹åºPostgreSQL</a>æ¨¡æ‹Ÿå…¶ç½‘ç»œåè®®çš„å­é›†ã€‚ ä»ç†è®ºä¸Šè®²ï¼Œè¿™ä¹Ÿå…è®¸æ‚¨é€šè¿‡PostgreSQLä¸­çš„FDWè¿›è¡Œç»‘å®šã€‚ <br><br> é™¤äº†æ•°æ®åº“æœ¬èº«ï¼ŒH2çš„äº¤ä»˜è¿˜åŒ…æ‹¬ä¸€ä¸ªæç®€çš„Webæ§åˆ¶å°ï¼Œè¯¥æ§åˆ¶å°æ”¯æŒåœ¨ç¼–è¾‘æ—¶è‡ªåŠ¨å®Œæˆï¼ŒServletæˆ–ç‹¬ç«‹å¯åŠ¨é€‰é¡¹ã€‚ å¯¹äºå¼€å‘äººå‘˜æ¥è¯´ï¼ŒH2å°±åƒä¸€æŠŠâ€œç‘å£«åˆ€â€-å¦‚æœæ‚¨çš„é¡¹ç›®å·²ç»ä½¿ç”¨JVMï¼Œåˆ™å®ƒæ˜¯ä¸€ç§ç´§å‡‘è€Œé€šç”¨çš„å·¥å…·ã€‚ å½“å°è¯•é€šè¿‡â€œå¼¯æ›²çš„â€ jdbcé©±åŠ¨ç¨‹åºä½¿ç”¨æ­¤æ§åˆ¶å°æ—¶ï¼ŒDBMS Redshiftå‘é¡¹ç›®å‘å‡ºäº†ç¬¬ä¸€ä¸ª<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">çº¢çœ¼çš„</a>è¯·æ±‚ã€‚ é¡¹ç›®å‚ä¸è€…ä¹‹ä¸€<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Noel Grandin</a>å¸®åŠ©æˆ‘è¿›è¡Œäº†ä»£ç å®¡æŸ¥å¹¶æ¥å—äº†æ›´æ­£ã€‚ <br><br> å¦‚æœæ‚¨éœ€è¦Berkeley DB Java Editionçš„ç±»ä¼¼äº§å“-è¯¥é¡¹ç›®å…·æœ‰<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MVStore-</a>æŒä¹…å­˜å‚¨é”®å€¼æ•°æ®ï¼Œå¹¶ä¸”ä¸MVCCç»“åˆä½¿ç”¨ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ•°æ®åº“çš„æœ€æ–°ç‰ˆæœ¬ä¸­ä¸ºâ€œå¼•æ“â€ã€‚ ä»¤äººæƒŠè®¶çš„æ˜¯ï¼Œè¯¥æ•°æ®åº“ç”šè‡³å¯¹<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ°ç†åŠŸèƒ½</a>å’Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å…¨æ–‡</a>æœç´¢å…·æœ‰åŸºæœ¬æ”¯æŒã€‚ <br><br> æ„Ÿè°¢H2databaseçš„è´¡çŒ®è€…ï¼Œæ¯ä¸ªäººéƒ½ä½¿ç”¨æ­¤æ•°æ®åº“å¹¶æŠ¥å‘Šé”™è¯¯ï¼  H2æ•°æ®åº“è‡ª2005å¹´ä»¥æ¥ä¸€ç›´åœ¨å¼€å‘ï¼Œç°åœ¨æ”¯æŒçª—å£å‡½æ•°ï¼Œé€’å½’æŸ¥è¯¢ï¼Œå®ƒæ˜¯å¤„ç†JVMå†…å­˜ä¸­æ•°æ®çš„æœ€å¼ºå¤§çš„SQLâ€œå¼•æ“â€ä¹‹ä¸€ï¼Œå¹¶é€šè¿‡è¡¨å‡½æ•°è¿›è¡Œäº†æ‰©å±•ä»¥å¤„ç†æ¾æ•£ç»“æ„çš„æ•°æ®ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN446380/">https://habr.com/ru/post/zh-CN446380/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN446364/index.html">ç¬‘è¯å’Œã€Šè¾›æ™®æ£®ä¸€å®¶ã€‹çš„è‹±æ–‡å‚è€ƒ</a></li>
<li><a href="../zh-CN446366/index.html">ZX Spectrum 128kå¯ä»¥è‡ªå·±å®Œæˆã€‚ ç¬¬äºŒéƒ¨åˆ†</a></li>
<li><a href="../zh-CN446370/index.html">â€œå¥½å§ï¼Œæ°”è±¡ç«™â€ï¼Ÿ ä¸æ˜¯çœŸçš„</a></li>
<li><a href="../zh-CN446372/index.html">çƒ­çˆ±ä»»åŠ¡ï¼Œçƒ­çˆ±å¹¶åœ¨å…¬å…±åœºåˆæ‰¾åˆ°æ‚¨çš„ä¸ªäººæ•°æ®</a></li>
<li><a href="../zh-CN446378/index.html">å•ä¸€Skypeå­¦æ ¡åˆ‡æ¢åˆ°å†¬å­£å’Œå¤å­£æ—¶é—´çš„é—®é¢˜</a></li>
<li><a href="../zh-CN446384/index.html">åœ¨Revitä¸­å¼€å‘å¤§å‹é¡¹ç›®çš„æç¤º</a></li>
<li><a href="../zh-CN446388/index.html">çŸ³æ²¹å’Œå¤©ç„¶æ°”è¡Œä¸šä»¥å¤–å›´äº‘ç³»ç»Ÿä¸ºä¾‹</a></li>
<li><a href="../zh-CN446390/index.html">å›å¿†å¿˜æˆ‘ç‚¸å¼¹</a></li>
<li><a href="../zh-CN446394/index.html">5.æ£€æŸ¥ç‚¹å…¥é—¨R80.20ã€‚ ç›–äºšå’ŒCLI</a></li>
<li><a href="../zh-CN446396/index.html">GPSå‘¨è®¡æ•°å™¨é‡ç½®</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>