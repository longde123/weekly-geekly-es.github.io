<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöª üëõ üßô JsonWriterSax - eine Bibliothek zum Erstellen von JSON üë®üèæ‚Äç‚úàÔ∏è ‚ôÇÔ∏è üíî</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Vor einiger Zeit habe ich eine c ++ / Qt-Anwendung geschrieben, die gro√üe Datenmengen im JSON- Format √ºber das Netzwerk gesendet hat. Das Standard- QJ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>JsonWriterSax - eine Bibliothek zum Erstellen von JSON</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/427899/"><p>  Vor einiger Zeit habe ich eine c ++ / Qt-Anwendung geschrieben, die gro√üe Datenmengen im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JSON-</a> Format √ºber das Netzwerk gesendet hat.  Das Standard- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">QJsonDocument wurde verwendet</a> .  W√§hrend der Implementierung stie√ü ich auf eine geringe Leistung sowie auf ein unbequemes Klassendesign, das keine normale Erkennung von Fehlern w√§hrend des Betriebs erm√∂glichte.  Das Ergebnis war die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JsonWriterSax-</a> Bibliothek, mit der Sie JSON-Dokumente im SAX-Stil mit hoher Geschwindigkeit schreiben k√∂nnen, die ich unter der MIT-Lizenz auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">github.com</a> ver√∂ffentliche.  Wen k√ºmmert es - ich bitte um eine Katze. </p><a name="habracut"></a><br><h2 id="nemnogo-teorii">  Ein bisschen Theorie </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JSON (JavaScript Object Notation)</a> ist ein von Douglas Crockford entwickeltes strukturiertes Textdatenformat und eine Teilmenge der ECMAScript-Sprache (JavaScript, JScript usw. werden auf ihrer Grundlage erstellt).  JSON ersetzt XML, erweitert die Verschachtelungsfunktionen und f√ºgt Datentypen hinzu.  Es wird derzeit im Internet aktiv genutzt. </p><br><p>  Aber es gibt M√§ngel in JSON.  Meiner Meinung nach gibt es unter den Standardtypen eindeutig nicht genug DateTime-Typ - Sie m√ºssen den Wert in Form einer Zahl oder einer Zeichenfolge √ºbertragen, und beim Parsen muss je nach Kontext eine Entscheidung getroffen werden.  Es ist jedoch anzumerken, dass in ECMAScript der Datumstyp vor langer Zeit erstellt wurde, nicht durchdacht wurde und in der js-Welt Bibliotheken von Drittanbietern verwendet werden, um mit Datumsangaben zu arbeiten. </p><br><p>  Es gibt zwei Hauptans√§tze zum Parsen und Erstellen strukturierter Dokumente - SAX und DOM.  Sie wurden f√ºr XML angezeigt, k√∂nnen jedoch als Muster zum Erstellen von Handlern anderer Formate verwendet werden. </p><br><h3 id="sax-simple-api-for-xml">  SAX (Simple API for XML) </h3><br><p>  Es wird f√ºr die sequentielle Datenverarbeitung verwendet und erm√∂glicht die Verarbeitung gro√üer Dokumente in einem Stream.  Beim Lesen werden die Anwendungsinformationen zu dem gefundenen Element oder Fehler zur√ºckgegeben, die Beibehaltung der Informationen und die Verschachtelungssteuerung liegen jedoch bei der Anwendung selbst.  Bei der Aufnahme werden normalerweise Schritte im Stil angezeigt: Starten Sie ein Element, starten Sie ein Unterelement, schreiben Sie eine Zahl, schreiben Sie eine Zeile, schlie√üen Sie ein Unterelement, schlie√üen Sie ein Element.  Zu den Nachteilen geh√∂rt die Tatsache, dass der Programmierer den Code gr√ºndlicher schreiben muss, um die Struktur des Dokuments besser zu verstehen und das Fehlen oder die extreme Einschr√§nkung der Bearbeitung eines vorhandenen Dokuments. </p><br><h3 id="dom-document-object-model">  DOM (Document Object Model) </h3><br><p>  Mit dieser Methode wird ein Dokumentbaum im Speicher erstellt, der serialisiert, deserialisiert und ge√§ndert werden kann.  Der Hauptnachteil ist der hohe Speicherverbrauch und die erh√∂hte Verarbeitungszeit.  Unter der Haube wird normalerweise ein SAX-Handler verwendet. </p><br><h2 id="problemy-qjsondocument">  QJsonDocument-Probleme </h2><br><p>  Das Standard-QJsonDocument verwendet den DOM-Ansatz.  Beim Erstellen eines Dokuments ist die Geschwindigkeit niedrig - Sie k√∂nnen die Benchmarks am Ende des Artikels sehen.  Das gr√∂√üte Problem f√ºr mich war jedoch das schlecht konzipierte Design der Fehlerr√ºckgabe. </p><br><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> max = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::numeric_limits&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;::max(); QJsonArray ja; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; max; ++i) { ja.append(i); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(ja.size() - <span class="hljs-number"><span class="hljs-number">1</span></span> != i) { <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } }</code> </pre> <br><p>  In diesem Beispiel wird die Nachricht in den Fehlerstrom geschrieben, wenn nicht gen√ºgend Speicher vorhanden ist. </p><br><p> <code>QJson: Document too large to store in data structure</code> <br>  und die Daten werden nicht mehr hinzugef√ºgt.  Im Fall eines Arrays k√∂nnen Sie die Bedingung √ºberpr√ºfen </p><br><pre> <code class="cpp hljs">ja.size() - <span class="hljs-number"><span class="hljs-number">1</span></span> != i</code> </pre> <br><p>  Aber was tun bei der Arbeit mit einem Objekt?  St√§ndig pr√ºfen, ob ein neuer Schl√ºssel hinzugef√ºgt wurde?  Das Log auf der Suche nach einem Fehler analysieren? </p><br><h2 id="biblioteka">  Die Bibliothek </h2><br><p>  Die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JsonWriterSax-</a> Bibliothek erm√∂glicht <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">das</a> Schreiben eines JSON-Dokuments in einem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">QTextStream</a> im SAX-Stil und ist auf github unter der MIT-Lizenz verf√ºgbar.  Die Speichersteuerung liegt bei der Anwendung.  Die Bibliothek steuert die Integrit√§t von JSON. Wenn das Element falsch hinzugef√ºgt wird, gibt die Schreibfunktion einen Fehler zur√ºck.  Zur Steuerung wird eine KS-Grammatik verwendet.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Tests</a> wurden geschrieben, aber vielleicht wurde ein Fall unbeaufsichtigt gelassen.  Wenn jemand den fehlerhaften Vorgang der Pr√ºfung behebt und meldet, um den Fehler zu beheben, bin ich sehr dankbar. </p><br><p>  Ich denke, dass die beste Beschreibung einer Bibliothek f√ºr einen Programmierer Codebeispiel ist =) </p><br><h2 id="primery">  Beispiele </h2><br><h3 id="sozdanie-massiva">  Array-Erstellung </h3><br><pre> <code class="cpp hljs">QByteArray ba; <span class="hljs-function"><span class="hljs-function">QTextStream </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">stream</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(&amp;ba)</span></span></span></span>; stream.setCodec(<span class="hljs-string"><span class="hljs-string">"utf-8"</span></span>); <span class="hljs-function"><span class="hljs-function">JsonWriterSax </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">writer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(stream)</span></span></span></span>; writer.writeStartArray(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">10</span></span>; ++i) { writer.write(i); } writer.writeEndArray(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(writer.end()) { stream.flush(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { qWarning() &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Error json"</span></span>; }</code> </pre> <br><p>  Als Ergebnis bekommen wir </p><br><pre> <code class="hljs json">[<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">9</span></span>]</code> </pre> <br><h3 id="sozdanie-obekta">  Objekterstellung </h3><br><pre> <code class="cpp hljs">QByteArray ba; <span class="hljs-function"><span class="hljs-function">QTextStream </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">stream</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(&amp;ba)</span></span></span></span>; stream.setCodec(<span class="hljs-string"><span class="hljs-string">"utf-8"</span></span>); <span class="hljs-function"><span class="hljs-function">JsonWriterSax </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">writer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(stream)</span></span></span></span>; writer.writeStartObject(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">5</span></span>; ++i) { writer.write(QString::number(i), i); } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> i = <span class="hljs-number"><span class="hljs-number">5</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">10</span></span>; ++i) { writer.write(QString::number(i), QString::number(i)); } writer.writeKey(<span class="hljs-string"><span class="hljs-string">"arr"</span></span>); writer.writeStartArray(); writer.writeEndArray(); writer.writeKey(<span class="hljs-string"><span class="hljs-string">"o"</span></span>); writer.writeStartObject(); writer.writeEndObject(); writer.writeKey(<span class="hljs-string"><span class="hljs-string">"n"</span></span>); writer.writeNull(); writer.write(QString::number(<span class="hljs-number"><span class="hljs-number">11</span></span>), QVariant(<span class="hljs-number"><span class="hljs-number">11</span></span>)); writer.write(<span class="hljs-string"><span class="hljs-string">"dt"</span></span>, QVariant(QDateTime::fromMSecsSinceEpoch(<span class="hljs-number"><span class="hljs-number">10</span></span>))); writer.writeEndObject(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(writer.end()) { stream.flush(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { qWarning() &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Error json"</span></span>; }</code> </pre> <br><p>  Als Ergebnis bekommen wir </p><br><pre> <code class="hljs json">{<span class="hljs-attr"><span class="hljs-attr">"0"</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-attr"><span class="hljs-attr">"1"</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-attr"><span class="hljs-attr">"2"</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-attr"><span class="hljs-attr">"3"</span></span>:<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-attr"><span class="hljs-attr">"4"</span></span>:<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-attr"><span class="hljs-attr">"5"</span></span>:<span class="hljs-string"><span class="hljs-string">"5"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"6"</span></span>:<span class="hljs-string"><span class="hljs-string">"6"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"7"</span></span>:<span class="hljs-string"><span class="hljs-string">"7"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"8"</span></span>:<span class="hljs-string"><span class="hljs-string">"8"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"9"</span></span>:<span class="hljs-string"><span class="hljs-string">"9"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"arr"</span></span>:[],<span class="hljs-attr"><span class="hljs-attr">"o"</span></span>:{},<span class="hljs-attr"><span class="hljs-attr">"n"</span></span>:<span class="hljs-literal"><span class="hljs-literal">null</span></span>,<span class="hljs-attr"><span class="hljs-attr">"11"</span></span>:<span class="hljs-number"><span class="hljs-number">11</span></span>,<span class="hljs-attr"><span class="hljs-attr">"dt"</span></span>:<span class="hljs-string"><span class="hljs-string">"1970-01-01T03:00:00.010"</span></span>}</code> </pre> <br><h3 id="sozdanie-dokumenta-s-vlozhennostyu-i-raznymi-tipami">  Erstellen eines Dokuments mit Verschachtelung und verschiedenen Typen </h3><br><pre> <code class="cpp hljs">QByteArray ba; <span class="hljs-function"><span class="hljs-function">QTextStream </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">stream</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(&amp;ba)</span></span></span></span>; stream.setCodec(<span class="hljs-string"><span class="hljs-string">"utf-8"</span></span>); <span class="hljs-function"><span class="hljs-function">JsonWriterSax </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">writer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(stream)</span></span></span></span>; writer.writeStartArray(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">1000</span></span>; ++i) { writer.writeStartObject(); writer.writeKey(<span class="hljs-string"><span class="hljs-string">"key"</span></span>); writer.writeStartObject(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; <span class="hljs-number"><span class="hljs-number">1000</span></span>; ++j) { writer.write(QString::number(j), j); } writer.writeEndObject(); writer.writeEndObject(); } writer.writeEndArray(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(writer.end()) { stream.flush(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { qWarning() &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Error json"</span></span>; }</code> </pre> <br><h2 id="benchmarks">  Benchmarks </h2><br><p>  Wird von QBENCHMARK w√§hrend des Release-Builds verwendet.  Die Funktionalit√§t ist in der <a href="">JsonWriterSaxTest-</a> Klasse implementiert. </p><br><h3 id="elementary-os-50-juno-kernel-4150-38-generic-cpu-intelr-coretm2-quad-cpu-9550--283ghz-4g-ram-qt-5112-gcc-531">  elementares Betriebssystem 5.0 Juno, Kernel 4.15.0-38-generisch, CPU Intel¬Æ Core (TM) 2 Quad-CPU 9550 bei 2,83 GHz, 4 G RAM, Qt 5.11.2 GCC 5.3.1 </h3><br><h4 id="long-number-array">  Array mit langen Nummern </h4><br><ul><li>  QJsonDocument: 42 ms pro Iteration (insgesamt: 85, Iterationen: 2) </li><li>  JsonWriterSax: 23 ms pro Iteration (insgesamt: 93, Iterationen: 4) </li></ul><br><h4 id="big-one-level-object">  Gro√ües einstufiges Objekt </h4><br><ul><li>  QJsonDocument: 1.170 ms pro Iteration (insgesamt: 1.170, Iterationen: 1) </li><li>  JsonWriterSax: 53 ms pro Iteration (insgesamt: 53, Iterationen: 1) </li></ul><br><h4 id="big-complex-document">  Gro√ües komplexes Dokument </h4><br><ul><li>  QJsonDocument: 1.369 ms pro Iteration (insgesamt: 1.369 ms, Iterationen: 1) </li><li>  JsonWriterSax: 463 ms pro Iteration (insgesamt: 463, Iterationen: 1) </li></ul><br><h3 id="elementary-os-50-juno-kernel-4150-38-generic-cpu-intelr-coretm-i7-7500u-cpu--270ghz-8g-ram-qt-5112-gcc-531">  elementares Betriebssystem 5.0 Juno, Kernel 4.15.0-38-generisch, CPU Intel¬Æ Core (TM) i7-7500U CPU bei 2,70 GHz, 8 G RAM, Qt 5.11.2 GCC 5.3.1 </h3><br><h4 id="long-number-array-1">  Array mit langen Nummern </h4><br><ul><li>  QJsonDocument: 29,5 ms pro Iteration (insgesamt: 118, Iterationen: 4) </li><li>  JsonWriterSax: 13 ms pro Iteration (insgesamt: 52, Iterationen: 4) </li></ul><br><h4 id="big-one-level-object-1">  Gro√ües einstufiges Objekt </h4><br><ul><li>  QJsonDocument: 485 ms pro Iteration (insgesamt: 485, Iterationen: 1) </li><li>  JsonWriterSax: 31 ms pro Iteration (insgesamt: 62, Iterationen: 2) </li></ul><br><h4 id="big-complex-document-1">  Gro√ües komplexes Dokument </h4><br><ul><li>  QJsonDocument: 734 ms pro Iteration (insgesamt: 734, Iterationen: 1) </li><li>  JsonWriterSax: 271 ms pro Iteration (insgesamt: 271, Iterationen: 1) </li></ul><br><h3 id="ms-windows-7-sp1-cpu-intelr-coretm-i7-4770-cpu--340ghz-8g-ram-qt-5110-gcc-530">  MS Windows 7 SP1, CPU Intel¬Æ Core (TM) i7-4770 CPU bei 3,40 GHz, 8 G RAM, Qt 5.11.0 GCC 5.3.0 </h3><br><h4 id="long-number-array-2">  Array mit langen Nummern </h4><br><ul><li>  QJsonDocument: 669 ms pro Iteration (insgesamt: 669, Iterationen: 1) </li><li>  JsonWriterSax: 20 ms pro Iteration (insgesamt: 81, Iterationen: 4) </li></ul><br><h4 id="big-one-level-object-2">  Gro√ües einstufiges Objekt </h4><br><ul><li>  QJsonDocument: 1.568 ms pro Iteration (insgesamt: 1.568, Iterationen: 1) </li><li>  JsonWriterSax: 44 ms pro Iteration (insgesamt: 88, Iterationen: 2) </li></ul><br><h4 id="big-complex-document-2">  Gro√ües komplexes Dokument </h4><br><ul><li>  QJsonDocument: 1.167 ms pro Iteration (insgesamt: 1.167, Iterationen: 1) </li><li>  JsonWriterSax: 375 ms pro Iteration (insgesamt: 375, Iterationen: 1) </li></ul><br><h3 id="ms-windows-7-sp1-cpu-intelr-coretm-i3-3220-cpu--330ghz-8g-ram-qt-5110-gcc-530">  MS Windows 7 SP1, CPU Intel¬Æ Core (TM) i3-3220 CPU bei 3,30 GHz, 8 G RAM, Qt 5.11.0 GCC 5.3.0 </h3><br><h4 id="long-number-array-3">  Array mit langen Nummern </h4><br><ul><li>  QJsonDocument: 772 ms pro Iteration (insgesamt: 772, Iterationen: 1) </li><li>  JsonWriterSax: 26 ms pro Iteration (insgesamt: 52, Iterationen: 2) </li></ul><br><h4 id="big-one-level-object-3">  Gro√ües einstufiges Objekt </h4><br><ul><li>  QJsonDocument: 2,029 ms pro Iteration (insgesamt: 2,029, Iterationen: 1) </li><li>  JsonWriterSax: 59 ms pro Iteration (insgesamt: 59, Iterationen: 1) </li></ul><br><h4 id="big-complex-document-3">  Gro√ües komplexes Dokument </h4><br><ul><li>  QJsonDocument: 1.530 ms pro Iteration (insgesamt: 1.530, Iterationen: 1) </li><li>  JsonWriterSax: 495 ms pro Iteration (insgesamt: 495, Iterationen: 1) </li></ul><br><h2 id="perspektivy">  Perspektiven </h2><br><p>  In zuk√ºnftigen Versionen m√∂chte ich die M√∂glichkeit hinzuf√ºgen, das Format von Benutzerdaten mithilfe von Lambda-Funktionen mithilfe von QVariant zu beschreiben, die M√∂glichkeit hinzuf√ºgen, das Dokument (h√ºbsches Dokument) durch Trennzeichen zu formatieren, und bei Interesse der Community einen SAX-Parser hinzuf√ºgen. </p><br><p>  Um einen √úberlauffehler zu finden, hat mir √ºbrigens meine Bibliothek geholfen, mit der qInfo (), qDebug (), qWarning () das Format und die Ausgabe im Stil des Python- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Protokollierungsmoduls</a> festlegen k√∂nnen.  Ich habe auch vor, diese Bibliothek in OpenSource zu ver√∂ffentlichen - wenn jemand interessiert ist - schreibe in die Kommentare. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de427899/">https://habr.com/ru/post/de427899/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de427889/index.html">Falsch, falsch, falsch! Methoden zur DDoS-Minderung</a></li>
<li><a href="../de427891/index.html">Millionen von Menschen k√∂nnen durch Sicherheitsl√ºcken in der Cisco WebEx Conference Platform angegriffen werden</a></li>
<li><a href="../de427893/index.html">Bloody Lola auf Omega 2 oder Python an Halloween w√ºrgen</a></li>
<li><a href="../de427895/index.html">Entfernen von Daten aus einer Shardable-Datenbank</a></li>
<li><a href="../de427897/index.html">Analyse eines Magnetresonanztomographen II: Metamaterialien in der MRT</a></li>
<li><a href="../de427901/index.html">So verwenden Sie die Node.js Stream-API nicht</a></li>
<li><a href="../de427905/index.html">Food Mining oder Crossroads mit den Augen eines Hackers</a></li>
<li><a href="../de427907/index.html">Drohnenschie√üen, Rechen, Life Hacks, Selbstentwicklung und Karriere eines Fotografen / Videografen: neuer GLPH-Podcast</a></li>
<li><a href="../de427909/index.html">Python: Wie kann der Speicherverbrauch um die H√§lfte reduziert werden, indem nur eine Codezeile hinzugef√ºgt wird?</a></li>
<li><a href="../de427911/index.html">B√ºro Leidenschaften</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>