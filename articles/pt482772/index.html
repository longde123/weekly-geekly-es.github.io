<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üé∏ üë®‚Äçüë¶ üñ®Ô∏è Aplica√ß√µes Web progressivas em 2020 üéÉ ü§ΩüèΩ üåê</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="No KDPV - um adesivo criado pela equipe do navegador de Internet da Samsung 


 Mais de 12 anos se passaram desde que Steve Jobs introduziu a id√©ia de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Aplica√ß√µes Web progressivas em 2020</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482772/"><img src="https://habrastorage.org/webt/h0/a2/r4/h0a2r4mo5tjugdqc5p5kivjjg5g.jpeg"><br><p>  <em>No KDPV - um adesivo criado pela equipe do navegador de Internet da Samsung</em> </p><br><p>  Mais de 12 anos se passaram desde que <a href="https://www.youtube.com/watch%3Fv%3DZlE7dzoD6GA%26feature%3Demb_title" rel="nofollow">Steve Jobs introduziu a id√©ia de aplicativos da Web ", que parecem e se comportam exatamente como aplicativos nativos"</a> .  Mais de 4 anos se passaram desde o advento do <a href="https://medium.com/%40slightlylate/progressive-apps-escaping-tabs-without-losing-our-soul-3b93a8561955" rel="nofollow">termo "PWA"</a> .  O que s√£o aplicativos da web progressivos no in√≠cio de 2020?  De quais das coisas que foram adicionadas ao ecossistema em 2019 voc√™ sentiu falta?  Vamos descobrir. </p><a name="habracut"></a><br><p>  <em>Nota</em>  <em>tradutor: screenshots de tweets - clic√°veis</em> </p><br><h3 id="soobschenie-ot-sponsora-avtora-originala">  Mensagem do patrocinador (autor original) </h3><br><p>  No ano passado, realizei v√°rios semin√°rios e apresenta√ß√µes atualizados sobre a PWA, alguns dos quais est√£o dispon√≠veis <a href="https://firt.mobi/talks" rel="nofollow">em registro</a> .  Se voc√™ √© um assinante do Pluralsight, consulte o curso <a href="https://www.pluralsight.com/courses/progressive-web-apps-big-picture" rel="nofollow">PWA: The Big Picture</a> e, se voc√™ √© um assinante do O'Reilly Learning, em seguida, <a href="https://learning.oreilly.com/learning-paths/learning-path-web/0636920310648/" rel="nofollow">Caminho de Aprendizagem B√°sica do Desempenho da Web</a> .  Se voc√™ deseja receber notifica√ß√µes por e-mail das minhas novas postagens, <a href="https://tinyletter.com/firt" rel="nofollow">inscreva-se aqui</a> . </p><br><p>  Se voc√™ estiver interessado em um workshop ou consulta para sua empresa ou confer√™ncia, <a href="https://firt.mobi/about" rel="nofollow">entre em contato comigo</a> . </p><br><h3 id="opredelenie">  Defini√ß√£o de </h3><br><p>  A defini√ß√£o de PWA nunca foi esculpida em pedra e pode diferir de autor para autor.  Eu, na √©poca de 2020, diria que o PWA √© um padr√£o de design para o desenvolvimento de aplicativos baseados na Web usando APIs, como Service Workers para gerenciamento de recursos, Web App Manifest para instala√ß√£o via navegador, Trusted Web Activity para distribui√ß√£o atrav√©s de Play Store e outros. </p><br><img src="https://habrastorage.org/webt/yz/9j/xu/yz9jxuwodxzl28nmhbdmstegeuu.png"><br><p>  <em>Folha de dicas modernas do PWA do meu <a href="https://firt.mobi/talks" rel="nofollow">discurso no JSConf Europe 2019</a></em> </p><br><h2 id="ispolzovanie">  Use </h2><br><p>  √â dif√≠cil obter informa√ß√µes sobre quantas empresas criam PWAs ou como os usu√°rios reagem a elas em termos de instala√ß√£o.  Em 2019, eu realmente n√£o senti o aumento no n√∫mero de empresas que usam o PWA, ou usu√°rios mudando ativamente para eles.  Existem alguns nichos, como pessoas que se preocupam com sua privacidade removendo aplicativos nativos, mas essa √© uma pequena parte do mercado. </p><br><p>  Em 2019, vimos a transi√ß√£o para o PWA de um dos sites mais visitados no mundo: YouPorn, mas n√£o temos informa√ß√µes sobre o uso da vers√£o do PWA.  Voc√™ pode ler sobre o <a href="https://venturebeat.com/2019/02/19/youporn-goes-progressive-with-new-mobile-web-apps-for-android-and-ios/" rel="nofollow">YP PWA aqui</a> (nenhum link porn√¥, abra silenciosamente). </p><br><img src="https://habrastorage.org/webt/r4/gd/xf/r4gdxfr0btejdxfxqpar9x5mvz0.png"><br><p>  <em>Um dos sites mais visitados no mundo agora √© um aplicativo da web progressivo.</em> </p><br><p>  O que h√° de novo (para desenvolvedores, propriet√°rios de sites e usu√°rios) √© que o PWA agora pode ser instalado na √°rea de trabalho de um computador.  Ainda n√£o vi PWAs otimizados para desktops suficientes, mas a partir de 2020, a Microsoft come√ßar√° a promover seu novo Edge, e podemos ver progressos nisso.  Durante 2019, a Starbucks e a Uber <a href="https://eng.uber.com/web-booking-flow/" rel="nofollow">reservaram um</a> tempo para conversar sobre seus PWAs em execu√ß√£o em um computador desktop, por exemplo, no artigo <a href="https://eng.uber.com/web-booking-flow/" rel="nofollow">Construindo um fluxo de reservas mais uniforme para o Uber</a> . </p><br><p> <a href="https://twitter.com/firt/status/1143575888300298240" rel="nofollow"><img src="https://habrastorage.org/webt/dl/rz/kz/dlrzkz6fsdofxv0yro61xncqwwk.png"></a> <br>  <em>O Produck √© um dos primeiros computadores PWA otimizados para desktop que encontrei no in√≠cio de 2019.</em> </p><br><p>  Os √∫nicos dados recentes que temos sobre o PWA s√£o os do navegador de Internet Samsung: </p><br><p> <a href="https://twitter.com/diekus/status/1207660618662207490" rel="nofollow"><img src="https://habrastorage.org/webt/yc/yd/sp/ycydsphmjmpwulf-phkfj-_qsyi.png"></a> <br>  <em>O poder do WebAPK na @samsunginternet: mais de 20 milh√µes de instala√ß√µes de aplicativos Web progressivos com 80.000 dom√≠nios este ano.</em>  <em>Bastante impressionante.</em> </p><br><p>  Assim, entre abril e dezembro de 2019, temos 80.000 dom√≠nios diferentes, com pelo menos um PWA dentro;  embora este n√£o seja o n√∫mero exato de PWAs diferentes, √© uma boa aproxima√ß√£o.  A Internet da Samsung representa cerca de 6% de todos os usu√°rios; portanto, um grande n√∫mero de pessoas considera esse valor representativo de toda a web. </p><br><p>  Voc√™ pode dizer que, em compara√ß√£o com 2,9 milh√µes de aplicativos na Play Store ou 3,9 milh√µes de aplicativos na App Store, isso n√£o √© t√£o bom.  Mas, ao mesmo tempo, n√£o sabemos quantos desses milh√µes de aplicativos nos √∫ltimos 9 meses foram instalados pelo menos uma vez, portanto, a compara√ß√£o, em qualquer caso, n√£o ser√° justa.  Al√©m disso, como temos informa√ß√µes sobre dom√≠nios, e n√£o sobre PWAs diferentes, seria bom comparar 80.000 com o n√∫mero de editores diferentes nas lojas, que s√£o cerca de 800.000 na Play Store e 792.000 na AppStore.  Considerando esses n√∫meros, podemos dizer que o PWA √© de 10% em rela√ß√£o aos aplicativos nativos.  Mas devemos lembrar que <a href="https://techcrunch.com/2019/11/21/the-top-1-of-app-store-publishers-drive-80-of-new-downloads/" rel="nofollow">80% dos novos downloads de lojas v√™m de apenas 1% dos editores</a> .  E agora, com o advento do PWA na Google Play Store, a compara√ß√£o se tornar√° ainda mais complicada. </p><br><h2 id="platformy">  Plataformas </h2><br><p>  Aplicativos da web progressivos s√£o totalmente suportados (incluindo trabalhadores em servi√ßo) nos navegadores por <strong>93% dos usu√°rios da Internet</strong> . </p><br><p>  <strong>O PWA pode ser instalado em 86% dos usu√°rios</strong> (82% - no navegador, 4% - apenas em lojas de aplicativos e n√£o nos navegadores existentes). </p><br><p>  Podemos instalar o PWA no <strong>Android, iOS, iPadOS, Windows 10 (</strong> e futuro <strong>10X), Windows 7, Windows 8.x, Xbox One, macOS, Linux (64 bits), Chrome OS</strong> e <strong>kaiOS</strong> . </p><br><p>  Voc√™ pode mencionar que o PWA n√£o pode ser instalado em rel√≥gios inteligentes, TVs inteligentes, Apple TV, Chromecast, Android TV, PlayStation, carros Tesla (sim, essas m√°quinas possuem um navegador), outros consoles de jogos, assistentes digitais (como o Facebook Portal, Nest Home) ou Amazon Echo) ou realidade virtual e capacetes e √≥culos de realidade aumentada, como os produtos Oculus. </p><br><p>  Eu vejo o potencial da PWA em capacetes e √≥culos para realidade virtual e aumentada, assistentes digitais e consoles de jogos, mas eles podem enfrentar algumas dificuldades com a pol√≠tica interna de suas empresas. </p><br><p>  Considere plataformas nas quais j√° podemos instalar o PWA em janeiro de 2020: </p><br><h3 id="android">  Android </h3><br><p>  Podemos instalar aplicativos avan√ßados da Web em dispositivos Android (telefones e tablets) das seguintes maneiras: </p><br><ul><li>  <strong>Instala√ß√£o no navegador</strong> : Chrome ( <em>WebAPK</em> ) / Firefox / Samsung Internet ( <em>WebAPK apenas em dispositivos Samsung</em> ) / UC / Edge / Opera / Brave / Baidu.  Outros navegadores tamb√©m podem ter esse recurso (principalmente porque s√£o baseados no Chromium), mas o bug √© muito grande. <br>  <em>N√£o √© <strong>poss√≠vel</strong> instalar o PWA no Facebook Mobile Browser, Firefox Preview, WebViews, Guias personalizadas ou Chrome for DayDream (modo VR).</em>  <em>Al√©m disso, se o telefone n√£o tiver um aplicativo de tela inicial (por exemplo, no modo quiosque), coisas estranhas podem acontecer no navegador.</em> </li></ul><br><img src="https://habrastorage.org/webt/ls/ke/km/lskekmrrevnuvte3h9kysatyxos.png"><br><p>  <em>O Android ainda √© a √∫nica plataforma que suporta todos os tr√™s modos de aplicativo descritos na especifica√ß√£o Manifesto do Web App.</em> </p><br><ul><li>  <strong>Distribui√ß√£o para usu√°rios corporativos</strong> : usando o <a href="https://developers.google.com/android/work/play/emm-api/managed-play-iframe" rel="nofollow">iframe gerenciado do Google Play</a> , um servi√ßo da equipe da Play Store que usa a cria√ß√£o do WebAPK e n√£o tem nada a ver com a equipe do Chrome (pol√≠tica do Google, parte um). </li><li>  <strong>Lojas de aplicativos</strong> : da Google Play Store, criando um aplicativo Android com a tecnologia <a href="https://medium.com/%40firt/google-play-store-now-open-for-progressive-web-apps-ec6f3c6ff3cc" rel="nofollow">Trusted Web Activity</a> (TWA) e da <a href="https://medium.com/samsung-internet-dev/introducing-progressive-web-apps-to-samsung-galaxy-store-47ecd317725b" rel="nofollow">Samsung Galaxy Store</a> , enviando o endere√ßo do aplicativo para um e-mail espec√≠fico e, em seguida, criando WebAPK atrav√©s dos servi√ßos da Samsung.  A Amazon App Store tamb√©m tem uma maneira de <a href="https://developer.amazon.com/blogs/appstore/post/Tx3QPHLEFV11ESL/streamlining-the-web-app-submission-process-in-4-easy-steps" rel="nofollow">publicar aplicativos da Web</a> para tablets Amazon Fire, mas √© baseada em uma plataforma antiga que n√£o suporta todas as tecnologias PWA. </li></ul><br><h3 id="ios-i-ipados">  iOS e iPadOS </h3><br><img src="https://habrastorage.org/webt/bm/d9/ic/bmd9icl80exvj_iqccbnmwy2sy4.png"><br><p>  <em>Menu inicial na tela do iPad OS 13 para definir atalhos do site e PWA aut√¥nomo</em> </p><br><p>  T√≠nhamos um modo de "aplicativo da web na tela inicial" desde o in√≠cio do iPhone, mas vamos ver a primeira vers√£o que oferece suporte a Service Workers e, pelo menos, a parte principal do Web App Manifest.  O iOS 13 e o iPadOS 13 s√£o as primeiras vers√µes nas quais os PWAs realmente t√™m uma interface de usu√°rio b√°sica que corresponde a aplicativos nativos.  Ainda existem bugs e diferen√ßas entre o modo offline (PWA) e o Safari, como a API WebRTC para acessar a c√¢mera (√∫til para reconhecer c√≥digos QR).  Embora a equipe do WebKit diga que est√° trabalhando nisso, o "bug" correspondente est√° aberto h√° 2 anos. </p><br><p>  Assim, podemos instalar o PWA usando: </p><br><ul><li>  <strong>Instala√ß√£o a partir de navegadores</strong> : apenas usando o <a href="https://medium.com/%40firt/progressive-web-apps-on-ios-are-here-d00430dee3a7" rel="nofollow">Safari, come√ßando com a vers√£o 11.1+</a> ( <a href="https://medium.com/%40firt/iphone-11-ipados-and-ios-13-for-pwas-and-web-development-5d5d9071cc49" rel="nofollow">vers√£o 13+ melhora a experi√™ncia do usu√°rio</a> ).  <em>Voc√™ <strong>n√£o pode</strong> instalar o PWA a partir do Safari View Controllers (por exemplo, quando voc√™ clica no link no aplicativo Twitter) ou em qualquer pseudo-navegador como Google Chrome, Firefox, Edge ou Facebook Mobile Browser.</em>  <em>√â sempre bom lembrar que outros mecanismos s√£o proibidos na App Store, portanto, n√£o existem "navegadores" reais na App Store.</em> </li><li>  <strong>Distribui√ß√£o para usu√°rios corporativos</strong> : do arquivo de configura√ß√£o para dispositivos m√≥veis (arquivo de configura√ß√£o m√≥vel);  destina-se a usu√°rios corporativos, mas funcionar√° para usu√°rios comuns se eles aceitarem o arquivo correspondente.  Nesse caso, o arquivo pode conter um ou mais "aplicativos da web" que podem ser executados no modo "offline", portanto a tela inicial conter√° o PWA ap√≥s a instala√ß√£o do arquivo de configura√ß√£o. </li></ul><br><h3 id="windows-i-xbox">  Windows e Xbox </h3><br><img src="https://habrastorage.org/webt/il/9e/ss/il9ess6nhbnspzuedt8z0w94hbi.png"><br><p>  <em>Os PWAs aparecem no menu Iniciar em dispositivos Windows</em> </p><br><p>  Na plataforma Windows, voc√™ pode instalar o PWA atrav√©s de: </p><br><ul><li>  <strong>Instala√ß√£o a partir de navegadores no Windows 10</strong> : Google Chrome 70+ e Microsoft Edge (a partir da vers√£o que ser√° lan√ßada em janeiro de 2020).  Voc√™ n√£o pode instalar o PWA do Firefox, IE ou Edge antes da vers√£o 15. </li><li>  <strong>Instala√ß√£o a partir de navegadores no Windows 7 / 8.x</strong> : Google Chrome 70+ e vers√£o futura do Microsoft Edge.  Voc√™ n√£o pode instalar o PWA do Firefox, IE ou Edge antes da vers√£o 15. </li><li>  <strong>Instala√ß√£o a partir de navegadores no WindowsX (dobr√°vel)</strong> : Microsoft Edge (no futuro). </li><li>  <strong>Lojas de aplicativos</strong> : Microsoft Store para Windows 10 (para desktops e Hololens) e Xbox One.  <em>Voc√™ <strong>n√£o pode</strong> instalar o PWA no Windows 10 para dispositivos m√≥veis ou qualquer outro SO m√≥vel da Microsoft herdado.</em> </li></ul><br><img src="https://habrastorage.org/webt/ca/ff/cx/caffcxfwy5_ilyc9hjt0tt51dzq.png"><br><p>  <em>O Microsoft Edge para Windows, macOS e Linux permite instalar qualquer site como um aplicativo;</em>  <em>o site parecer√° com o PWA na √°rea de trabalho, mesmo que o site n√£o possua um Service Worker ou um arquivo de manifesto adequado.</em> </p><br><p>  O Microsoft Edge (a nova vers√£o do Chromium) permite definir qualquer site como um PWA, mesmo que ele n√£o atenda aos crit√©rios do PWA ou mesmo se for um site de 1991.  O Google Chrome no computador tamb√©m possui esse recurso, mas n√£o √© t√£o √≥bvio: voc√™ precisa criar um atalho usando o menu "Ferramentas avan√ßadas" - "Criar atalho ..." e assinalando "Abrir em uma janela separada", o que, para mim, n√£o √© bem √≥bvio. </p><br><img src="https://habrastorage.org/webt/yc/q4/hj/ycq4hji0bogdtw_d1mj1uqywene.png"><br><p>  <em>O primeiro site do mundo instalado como um "aplicativo" usando o Microsoft Edge no macOS</em> </p><br><h3 id="drugie-platformy">  Outras plataformas </h3><br><p>  <strong>macOS</strong> - podemos instalar o PWA apenas nos navegadores Google Chrome 73+ e Edge.  O Safari para macOS e Firefox n√£o suporta a instala√ß√£o do PWA. </p><br><p>  <strong>Linux de 64 bits</strong> - a instala√ß√£o √© poss√≠vel apenas atrav√©s do Google Chrome 70+. </p><br><p>  <strong>ChromeOS</strong> - a instala√ß√£o a partir do navegador est√° dispon√≠vel a partir do ChromeOS 67+;  O Chrome TWA n√£o est√° dispon√≠vel. </p><br><p>  <strong>kaiOS</strong> - somente em lojas (kaiStore, JioStore);  esse sistema operacional √© baseado na plataforma antiga do Gecko, mas possui suporte b√°sico para os t√©cnicos de servi√ßo.  N√£o h√° documenta√ß√£o suficiente para entender o que √© poss√≠vel e o que n√£o est√° nesta plataforma para os telefones comuns. </p><br><h2 id="byt-ili-ne-byt">  Ser ou n√£o ser </h2><br><p>  Embora a maioria dos fabricantes de navegadores tenha adotado o termo "aplicativo da web progressivo", h√° outro que ainda se op√µe a ele: a Apple.  E isso n√£o √© novidade, h√° dois anos eu disse a mesma coisa: </p><br><p> <a href="https://twitter.com/firt/status/958071123694030849" rel="nofollow"><img src="https://habrastorage.org/webt/kf/ty/8z/kfty8zcl2wuw_xi8kwzcoctf9ka.png"></a> <br>  <em>Curiosamente, apesar do suporte e desenvolvimento de Service Workers e Web App Manifest, nenhuma Apple usa o termo PWA.</em> </p><br><p>  Em 2019, ouvi pela primeira vez o termo PWA das equipes WebKit ou Apple, mas n√£o da maneira que esper√°vamos;  eles simplesmente o deslegitimaram, dizendo que "ele realmente n√£o existe".  Isso ocorreu em algumas discuss√µes sobre especifica√ß√µes e no Twitter, por exemplo, no seguinte segmento: </p><br><p> <a href="https://twitter.com/johnwilander/status/1139278479436865536" rel="nofollow"><img src="https://habrastorage.org/webt/6p/xc/dx/6pxcdxmwpembionrhpe6_olptle.png"></a> </p><br><p>  N√£o me interpretem mal.  A equipe do WebKit tem um certo ponto de vista ao discutir o termo PWA.  No passado, tamb√©m critiquei repetidamente o uso do termo PWA. </p><br><p>  Oficialmente, a Apple tamb√©m n√£o usa esse termo em seus artigos publicados em 2019, apesar do fato de que para a maioria dos leitores ser√° mais compreens√≠vel do que os termos que eles usam "aplicativos HTML5" e "aplicativos da Web para a tela inicial". </p><br><img src="https://habrastorage.org/webt/ub/im/es/ubimesqjwkc_1ce04k_w7gwrscu.png"><br><p>  <em>Um comunicado de imprensa oficial que fala sobre aplicativos HTML5 na App Store;</em>  <em>Falaremos sobre a publica√ß√£o do PWA nesta loja de aplicativos mais tarde.</em> </p><br><img src="https://habrastorage.org/webt/7e/ce/7b/7ece7bfmbwfxyrrre0eiqewrnzw.jpeg"><br><p>  <em>Aplicativos web de tela inicial √© o termo usado pela Apple h√° 12 anos para o que mais tarde se tornou aplicativos web progressivos.</em>  <em>Al√©m disso, o uso da frase ‚Äúsites armazenados na tela inicial‚Äù est√° incorreto, pois nem todo site √© um aplicativo de tela inicial, ou PWA, ou o que voc√™ quiser chamar.</em> </p><br><h3 id="safari--novyy-ie">  Safari - novo IE? </h3><br><p>  N√£o concordo totalmente com a id√©ia de que a Apple prejudique a Internet ou que "o Safari seja o novo IE";  Entendo que a equipe do WebKit tem objetivos pr√≥prios que n√£o s√£o consistentes com os objetivos do imp√©rio Chromium.  Infelizmente, esses objetivos nem sempre s√£o claros e transparentes para a comunidade, e as discuss√µes p√∫blicas n√£o s√£o suficientes para entender seus pensamentos. </p><br><p>  Embora eles n√£o usem oficialmente o termo PWA, a Apple e a equipe do WebKit v√™m desenvolvendo a plataforma nos √∫ltimos dois anos, de forma que o uso do PWA no iOS e iPadOS desde 2020 atenda pelo menos √†s expectativas m√≠nimas dos usu√°rios. </p><br><p>  At√© a pr√≥pria Apple publicou v√°rios PWAs durante 2019 (em alguns casos, mesmo sem perceber): </p><br><p> <a href="https://twitter.com/kennethrohde/status/1170406550848114688" rel="nofollow"><img src="https://habrastorage.org/webt/86/lc/d2/86lcd25zdhfjvzrcwr33l5dpugo.png"></a> </p><br><p> <a href="https://twitter.com/firt/status/1135804086715113472" rel="nofollow"><img src="https://habrastorage.org/webt/j1/cm/y3/j1cmy3uembdh9_q4suoyzuvpbca.png"></a> </p><br><h3 id="vkupe-s-politikoy">  Juntamente com a pol√≠tica </h3><br><p>  Algumas decis√µes de grandes empresas como Apple e Google, para algumas tecnologias (como a PWA), √†s vezes t√™m pol√≠ticas corporativas.  N√£o acho que a Apple seja a √∫nica empresa que tem alguns problemas pol√≠ticos com aplicativos da Web que "parecem nativos";  O Google tamb√©m teve um quando o Chrome apresentou o Trusted Web Activity - o mecanismo para publicar o PWA na Play Store, mas o Google, como uma empresa que inclui Android, Play Store e Chrome, tentou criar todos os componentes do mais alto n√≠vel poss√≠vel de complexidade, para dar-lhes um maior desenvolvimento. </p><br><h2 id="rasprostranenie">  Distribui√ß√£o </h2><br><h3 id="ustanovka-iz-brauzera">  Instala√ß√£o a partir do Navegador </h3><br><p>  Esse era o cen√°rio de instala√ß√£o mais comum para o PWA, mas desde 2020, acho que podemos ver um aumento na popularidade de outras maneiras de distribuir aplicativos. </p><br><img src="https://habrastorage.org/webt/yc/5j/ml/yc5jmlgmrxjtoqv2gux8-ors6ky.png"><br><p>  <em>A capacidade de instalar o PWA a partir de nossa interface do usu√°rio n√£o aparecer√° no Safari ou Firefox</em> </p><br><p>  A mais nova sobre esse problema √© <a href="https://twitter.com/firt/status/1206568701207687168" rel="nofollow">a especifica√ß√£o do manifesto do aplicativo da Web, que provavelmente remover√° o evento beforeinstallprompt da recomenda√ß√£o</a> e se tornar√° um recurso apenas para o Chromium.  Como lembramos, esse evento nos permite criar nosso pr√≥prio bot√£o "instalar" na interface do usu√°rio de nosso aplicativo da web, o que nos permite iniciar manualmente a caixa de di√°logo de instala√ß√£o.  O Safari e o Firefox declararam publicamente que n√£o est√£o interessados ‚Äã‚Äãem implement√°-lo, portanto n√£o teremos essa oportunidade fora do imp√©rio Chromium (Google Chrome, Samsung Internet, Microsoft Edge, Brave, etc.). </p><br><img src="https://habrastorage.org/webt/1w/yf/mi/1wyfmilbnzkjtpzugf4j_46d5r8.png"><br><p>  <em>O servi√ßo de cria√ß√£o do WebAPK original est√° dispon√≠vel apenas para o Google Chrome</em> </p><br><p>  Por falar em instalar a partir de um navegador no Android, o WebAPK fornece a melhor experi√™ncia poss√≠vel.  Nesse caso, a Google Play Store apenas compacta e assina aplicativos instalados ao usar o Google Chrome como navegador, apesar de um an√∫ncio p√∫blico de que eles desejam abrir a plataforma para outros navegadores. </p><br><p>  O WebAPK usa o servi√ßo APK baseado em nuvem, que cria e assina o APK rapidamente, para que o dispositivo Android instale o aplicativo silenciosamente e pare√ßa com qualquer outro aplicativo nativo. </p><br><p>  A Samsung possui um m√©todo pr√≥prio para criar o WebAPK, dispon√≠vel apenas em dispositivos Samsung com a Galaxy Store instalada (eles t√™m seu pr√≥prio servi√ßo, pois tamb√©m controlam o SO e o navegador);  outros navegadores, como Firefox, Brave ou Edge, n√£o podem usar essa t√©cnica devido √† necessidade de assinaturas no n√≠vel do sistema operacional; portanto, os PWAs instalados nesses navegadores t√™m menos capacidade do ponto de vista do sistema operacional (por exemplo, eles n√£o aparecem na lista geral de aplicativos e o √≠cone na tela principal tamb√©m √© marcado com um √≠cone do navegador). </p><br><img src="https://habrastorage.org/webt/qp/mf/av/qpmfavtz1-rj-o29gmw5ms75zm4.png"><br><p>  <em>Ao usar navegadores sem suporte ao WebAPK, voc√™ ver√° um √≠cone apenas na tela principal.</em> </p><br><h3 id="rasprostranenie-cherez-magaziny-prilozheniy">  Distribui√ß√£o da App Store </h3><br><p>  Vamos come√ßar com a Apple: em 2019, a Apple percebeu que <a href="https://developer.apple.com/news/%3Fid%3D09062019b" rel="nofollow">n√£o precisava de aplicativos avan√ßados da Web na App Store</a> . </p><br><img src="https://habrastorage.org/webt/gh/rp/wa/ghrpwa-qozipfqw2lv25a6um860.png"><br><p>  <em>Para fornecer aos usu√°rios a experi√™ncia de uso segura e confi√°vel que eles esperam da App Store, sempre apontamos que os aplicativos devem ser completamente independentes.</em>  <em>Isso significa que as principais fun√ß√µes e recursos do aplicativo devem estar contidos no c√≥digo bin√°rio do software e n√£o adicionados ao direcionar os usu√°rios para fora do aplicativo aprovado, inclusive pelo uso do HTML5.</em>  <em>Os aplicativos que fornecem recursos b√°sicos e avan√ßados dinamicamente, usando tecnologias da Web como HTML5, s√£o melhor entregues a todos no Safari, e n√£o atrav√©s de uma App Store supervisionada.</em> </p><br><p>  Isso significa que voc√™ n√£o deve adicionar aplicativos √† App Store que carregam o JavaScript rapidamente, permitindo atualizar o comportamento do aplicativo sem a interven√ß√£o da equipe de controle de qualidade da App Store.  Ou seja, o Service Worker ou qualquer outro mecanismo de atualiza√ß√£o √© proibido (a API do Service Worker n√£o est√° dispon√≠vel no WebView, mas existem algumas outras implementa√ß√µes).  Voc√™ ainda pode incorporar todos os seus recursos no aplicativo do iPhone usando o WebView e adicion√°-los √† loja, mas qualquer atualiza√ß√£o autom√°tica do aplicativo, como em outras plataformas, n√£o estar√° dispon√≠vel. </p><br><p>  No Android, a Google Play Store com Chrome silenciosamente come√ßou a aceitar o PWA na App Store.  A tecnologia WebView n√£o est√° envolvida aqui, e o aplicativo da loja exibir√° o mesmo Chrome (ou outro navegador), incluindo o compartilhamento de todo o armazenamento e cookies tamb√©m funcionar√°.  Isso √© poss√≠vel gra√ßas √†s <a href="https://developers.google.com/web/updates/2019/02/using-twa" rel="nofollow">Atividades da Web confi√°veis</a> .  N√£o funcionar√° apenas para publicar o URL do aplicativo; voc√™ precisa publicar um aplicativo especial para iniciar o seu PWA, ou seja, seu pr√≥prio aplicativo que abra o navegador offline e exiba o conte√∫do do PWA em seu endere√ßo. </p><br><img src="https://habrastorage.org/webt/oa/ee/vf/oaeevf8jprvjgzcbsrmpm0o8vdw.jpeg"><br><p>  <em>No Chrome Dev Summit, a equipe do navegador mencionou o OYO Lite, PWA na Google Play Store, confirmando pela primeira vez que a TWA criada alguns meses antes poderia ser usada para distribuir o PWA na loja de aplicativos.</em> </p><br><p>  O Trusted Web Activities estava dispon√≠vel durante todo o ano de 2019, mas o Chrome n√£o falou publicamente sobre o uso dessa tecnologia para publicar o PWA na Play Store por 10 meses (pol√≠tica do Google, parte dois; voc√™ n√£o pode imaginar quantas mensagens recebi de pessoas diferentes, que alegou que eu estava mentindo, porque "a TWA n√£o √© para a PWA na loja").   ,     ,          (,       TWA). TWA      Chrome.       Custom Tabs,   ,   Firefox  Samsung Internet,        (   Firefox Preview    Samsung Internet,  Samsung  <a href="https://medium.com/samsung-internet-dev/why-you-wont-hear-us-say-twa-544d51bdedec" rel="nofollow">    </a> ).  ,     ,      PWA  Play Store. </p><br><img src="https://habrastorage.org/webt/w2/76/tr/w276trwe2fnnse2oc6gut71zfau.png"><br><p> <em>Samsung Galaxy Store   -</em> </p><br><p>   2019  Samsung    <a href="https://developers.google.com/web/updates/2019/02/using-twa" rel="nofollow"> PWA  Galaxy Store</a>       ‚Äî ,      Google Play Store.        (     ),  PWA    ¬´-¬ª,     ,       .    ,       . </p><br><h3 id="indeksaciya-poiskovikami">   </h3><br><p> Microsoft  2017  ,  Bing    -  2018 ,       Microsoft Store  Windows 10.  ,  <strong>  </strong> . </p><br><p> <a href="https://twitter.com/firt/status/1052453674641973248" rel="nofollow"><img src="https://habrastorage.org/webt/px/c5/6p/pxc56pqe-o7lxhu3glokvdikoeq.png"></a> </p><br><p>    ,  Microsoft     ,     ,      PWA,     ,  <a href="https://twitter.com/firt/status/1102626427025920000" rel="nofollow">   2019   </a> ,  Microsoft     ,      APPX,    PWA  . </p><br><p> -   ,    , ,  ,  ,   Google   -    . </p><br><h3 id="rasprostranenie-dlya-korporativnyh-polzovateley">     </h3><br><img src="https://habrastorage.org/webt/4k/gh/00/4kgh00dbbkpketxkwccjs3sabs8.png"><br><p> <em> PWA   ;   - ,       </em> </p><br><p>    , , ,       .  Android        <a href="https://developers.google.com/android/work/play/emm-api/managed-play-iframe" rel="nofollow">Managed Google Play iframe</a>      ,  ,     PWA     . Play Store     WebAPK   APK-  URL-    .  ,      ,         ; ,     . </p><br><p>   Apple         (Mobile Configuration File),   iOS  iPadOS.   Apple Configurator 2     ,    Web Clips (   ).     URL-      , ,  ,   PWA.     mobileconfig     ,    iOS/iPadOS  ,    () PWA   . </p><br><img src="https://habrastorage.org/webt/pu/ad/xh/puadxhrphosl5v6jldvlfcv8gcs.png"><br><p> <em>:  ,       ,     ,   ,   -,   ,     PWA  Safari.    ,    ;   .</em> </p><br><h2 id="vozmozhnosti">  </h2><br><p>      PWA  2020 ,  ,       : </p><br><ul><li> <strong> Chromium</strong> :  <a href="https://www.chromium.org/teams/web-capabilities-fugu" rel="nofollow"> Fugu</a>  <a href="https://chromestatus.com/features" rel="nofollow"> </a> ,   2019       2020,    -  Google Chrome, Samsung Internet, Microsoft Edge   .             , ,     ,       ( , WebNFC,    PWA,  ,    ,   ),     ,      (WebAssembly, WebRTC, WebPush, WebAuthn, WebShare, WebXR, RequestPayment  . .). </li></ul><br><p>  ,     ( ,    Android),      , ,   ,      Android/Play Store  Chrome  Google:  TWA,    ,  2 ,   Chrome   ,    Android 8+.   Chrome, ,    ,     . </p><br><ul><li> <strong> WebKit</strong> :  ,  WebKit (  Safari)    Chromium        ,         ,    .       (  WebAssembly, WebAuthn ( ),   Apple, Apple Pay  RequestPayment),  , , ,    , WebPush   ,        WebKit.      WebKit      <a href="https://trac.webkit.org/wiki/WebKitGoalsfor2020" rel="nofollow">¬´  2020¬ª</a>   ,        <a href="https://webkit.org/status/" rel="nofollow"></a>  <a href="https://webkit.org/status/" rel="nofollow"></a> . </li><li> <strong> </strong> :      ,      .   ‚Äî Gecko (   API   Chromium,    PWA        ), kaiOS (,     Gecko      ), TWA  Universal Windows API  Windows Store. </li></ul><br><h2 id="dizayn">  </h2><br><p> 2019    ,      PWA: </p><br><ul><li>   </li><li>   </li><li>   </li></ul><br><h3 id="tyomnaya-tema">   </h3><br><p>       PWA     CSS-.   Web App Manifest              .   iOS       : </p><br><p> <a href="https://twitter.com/onderceylan/status/1188221265632350208" rel="nofollow"><img src="https://habrastorage.org/webt/5n/3f/6a/5n3f6aery6z7amo0wcx8adqkwe0.png"></a> </p><br><h3 id="skladnye-ustroystva"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dispositivos dobr√°veis </font></font></h3><br><p> Embora os dispositivos dobr√°veis ‚Äã‚Äãainda sejam novos, o PWA funcionar√° em dispositivos compat√≠veis.  Ainda n√£o h√° nada concreto para eles e, em algumas plataformas, o uso do PWA pode ser completamente buggy ou uma adapta√ß√£o regular ao tamanho da tela.  Come√ßam a aparecer algumas sugest√µes de API que ajudar√£o o PWA no futuro, como a <a href="" rel="nofollow">API de enumera√ß√£o de segmentos</a> do <a href="" rel="nofollow">Windows</a> . </p><br><h3 id="maskiruemye-ikonki">  √çcones mascarados </h3><br><p>  O Android 8+ mudou a mec√¢nica dos √≠cones, adicionando o conceito de √≠cones responsivos;  mas isso n√£o se aplicava ao PWA, ent√£o a maioria dos √≠cones do PWA parecia muito ruim, aparecendo apenas no centro do c√≠rculo branco.  A plataforma da web levou um bom tempo para se adaptar a esse comportamento, e agora a defini√ß√£o de <a href="https://css-tricks.com/maskable-icons-android-adaptive-icons-for-your-pwa/" rel="nofollow">√≠cones mascarados est√°</a> dispon√≠vel no arquivo de manifesto. </p><br><p> <a href="https://twitter.com/kennethrohde/status/1137818222135263233" rel="nofollow"><img src="https://habrastorage.org/webt/xp/tj/4w/xptj4wfbexnyhrnxiptiijmafae.png"></a> </p><br><p>  O Chrome agora suporta √≠cones mascarados no Canary; logo, haver√° suporte para atalhos padr√£o e WebAPK;  O Firefox tamb√©m est√° adicionando suporte para essa tecnologia. </p><br><h2 id="instrumenty">  As ferramentas </h2><br><p>  Ferramentas para aplica√ß√µes web progressivas tamb√©m foram ativamente desenvolvidas nos √∫ltimos anos.  Eu acho que eles ainda t√™m espa√ßo para crescer, mas aqui temos uma lista de ferramentas que foram desenvolvidas recentemente, especialmente no campo da PWA. </p><br><h3 id="generatory-dlya-magazinov-prilozheniy">  Geradores para lojas de aplicativos </h3><br><p>  No ano passado, muitas ferramentas pareciam oferecer suporte a desenvolvedores da Web que desejam publicar o PWA na Google Play Store sem usar o Android Studio e ferramentas nativas do zero. </p><br><img src="https://habrastorage.org/webt/u1/vx/bo/u1vxbo614xt6r144gy2goz9gxr4.png"><br><p>  <em>pwa2apk √© a primeira ferramenta de convers√£o de PWA para PWA a ser lan√ßada no Google Play Store</em> </p><br><p>  O primeiro foi o <a href="https://appmaker.xyz/pwa-to-apk/" rel="nofollow">PWA2APK,</a> da editora independente AppMaker, seguido pelo <a href="https://pwabuilder.com/" rel="nofollow">PWA Builder,</a> da Microsoft, e o <a href="https://github.com/googlechromelabs/llama-pack" rel="nofollow">Llama-pack,</a> do Chrome (em desenvolvimento). </p><br><h3 id="pwa-builder">  Construtor Pwa </h3><br><p>  A ferramenta da Microsoft est√° desenvolvendo ativamente: o <a href="https://medium.com/pwabuilder/pwa-builder-2-0-7fcf6a3c62be" rel="nofollow">PWA Builder 2.0 foi lan√ßado</a> no ano passado com muitos novos recursos, incluindo o PWA Builder Score e muitos outros.  Durante o ano, o PWA Builder tamb√©m lan√ßou o componente da web <a href="https://medium.com/pwabuilder/installing-progressive-web-apps-b7274ebffe80" rel="nofollow">pwa-install</a> , que controla o comportamento do beforeinstallprompt. </p><br><img src="https://habrastorage.org/webt/ws/ir/rf/wsirrf0ue1uwexpxi5hy3wo30l0.png"><br><p>  <em>O componente da Web pwa-install do PWA Builder em a√ß√£o</em> </p><br><p>  No futuro, veremos como essa ferramenta <a href="https://medium.com/pwabuilder/pwa-builder-new-team-new-directions-d4420fdce37b" rel="nofollow">se move para uma nova dire√ß√£o</a> focada nos componentes da Web, incluindo a adi√ß√£o do suporte Web Push, a integra√ß√£o com outras ferramentas de c√≥digo aberto (como o uso do llama-pack ou do <a href="https://github.com/onderceylan/pwa-asset-generator" rel="nofollow">gerador de ativos PWA</a> ) e a remo√ß√£o de algumas fun√ß√µes. gerador, incluindo um gerador de pacotes para iOS (na verdade, apenas usando o WebView). </p><br><h3 id="maskiruemye-ikonki-1">  √çcones mascarados </h3><br><p>  Se voc√™ possui o PWA, adicione um <a href="https://css-tricks.com/maskable-icons-android-adaptive-icons-for-your-pwa/" rel="nofollow">√≠cone mascarado</a> no manifesto do aplicativo Web.  Se voc√™ ainda n√£o o fez, pode come√ßar com o aplicativo <a href="https://maskable.app/" rel="nofollow">Maskable.app</a> do Tiger Oaks. </p><br><img src="https://habrastorage.org/webt/ss/yq/nx/ssyqnxedkciptfcnev_pbpu2tn0.png"><br><p>  <em>Hora de "mascarar" seus √≠cones do PWA!</em> </p><br><h3 id="lighthouse">  Farol </h3><br><p>  A √∫nica grande mudan√ßa recente no Lighthouse para o PWA √© que agora ele verifica o √≠cone para iOS / iPadOS.  Acredito que isso ser√° de grande import√¢ncia, porque vi muita PWA sem um √≠cone para iOS, e a rea√ß√£o t√≠pica foi a seguinte: ‚ÄúA Lighthouse disse que estava tudo certo‚Äù. </p><br><p> <a href="https://twitter.com/tomayac/status/1153766213413199872" rel="nofollow"><img src="https://habrastorage.org/webt/-z/sv/qa/-zsvqadwrz17klbx83robnbaj_y.png"></a> </p><br><p>  Eu insisti nessa altera√ß√£o no Lighthouse (voc√™ pode acompanhar a discuss√£o com a equipe do Chrome no t√≥pico abaixo): </p><br><p> <a href="https://twitter.com/firt/status/1124428398292606979" rel="nofollow"><img src="https://habrastorage.org/webt/-v/71/yi/-v71yig0osahnoucbfof73wssos.png"></a> </p><br><h2 id="chto-dalshe">  O que vem a seguir? </h2><br><p>  O que voc√™ acha que 2020 trar√° para a PWA?  Escreva sobre isso nos coment√°rios. </p><br><p>  <em>Maximiliano Firtman √© desenvolvedor, instrutor, palestrante e autor de artigos.</em>  <em>Ele √© autor de v√°rios livros, incluindo a <a href="http://firt.mobi/hpmw" rel="nofollow">Web m√≥vel de alto desempenho da</a> O'Reilly Media.</em>  <em>Ele frequentemente <a href="http://firt.mobi/" rel="nofollow">fala</a> em confer√™ncias em todo o mundo e √© amplamente reconhecido por seu trabalho na comunidade da web m√≥vel.</em>  <em>Ele ensina desenvolvimento m√≥vel, HTML5, PWA e conduz <a href="http://firt.mobi/" rel="nofollow">treinamento de</a> produtividade para empresas l√≠deres em todo o mundo.</em>  <em>Ele conduziu v√°rios semin√°rios e cursos sobre aplicativos inovadores da Web em muitas empresas e para publica√ß√µes on-line como <a href="https://www.pluralsight.com/courses/progressive-web-apps-big-picture" rel="nofollow">Pluralsight</a> , Linked Learning / Lynda e Safari para O'Reilly.</em>  <em>Twitter: <a href="http://twitter.com/firt" rel="nofollow">@firt</a></em> </p><br><p>  <em>De um tradutor: vi um link para o original no chat de telegrama <a href="https://t.me/pwa_ru" rel="nofollow">PWA - a comunidade de l√≠ngua russa</a> , que √© um √≥timo lugar para discutir not√≠cias e quest√µes relacionadas ao PWA.</em> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt482772/">https://habr.com/ru/post/pt482772/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt482752/index.html">"Novas √©picas". N√≥s comemos o elefante em partes</a></li>
<li><a href="../pt482756/index.html">√â um futuro verde nebuloso?</a></li>
<li><a href="../pt482758/index.html">No caminho para o teclado perfeito</a></li>
<li><a href="../pt482762/index.html">42.000.000.000 de visitas. O PornHub resumiu 2019</a></li>
<li><a href="../pt482764/index.html">O Rhasspy √© um kit de ferramentas de fala de c√≥digo aberto e totalmente offline. Reconhecimento da l√≠ngua russa. Sem vazamentos para a nuvem</a></li>
<li><a href="../pt482774/index.html">Seoshniki preto e melhores m√©todos de promo√ß√£o. Adulto, farm√°cia, ensaios, namoro. Shestakov Pessoas PRO # 75</a></li>
<li><a href="../pt482778/index.html">Ventila√ß√£o com recupera√ß√£o no apartamento. Sem dutos e SMS</a></li>
<li><a href="../pt482780/index.html">Experimentos com redes neurais baseadas em dados s√≠smicos</a></li>
<li><a href="../pt482784/index.html">A vida secreta de um servidor Linux ou ataque de for√ßa bruta de f√£ no subsistema SSH</a></li>
<li><a href="../pt482786/index.html">Enigma n√£o resolvido</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>