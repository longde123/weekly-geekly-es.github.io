<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥁 🧑🏾‍🤝‍🧑🏽 🌀 具有被动冷却功能的单个服务器的历史记录 🚨 👌🏽 👲</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="有时，在最初的阶段，如果没有适当的研究就可能产生想法，而这些想法由于其作者的信誉，对于所有团队成员而言都非常有希望。 因此，不久前，VIT和ComBox Technology公司集团提出了实现基于许多微型计算机的服务器的想法。 服务器的目的是在微型计算机的CPU和GPU上执行神经网络。 未来服务器的...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>具有被动冷却功能的单个服务器的历史记录</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/477430/">有时，在最初的阶段，如果没有适当的研究就可能产生想法，而这些想法由于其作者的信誉，对于所有团队成员而言都非常有希望。 因此，不久前，VIT和ComBox Technology公司集团提出了实现基于许多微型计算机的服务器的想法。 服务器的目的是在微型计算机的CPU和GPU上执行神经网络。 未来服务器的估计外形尺寸为1U机架安装版本。 一切都会好起来的，只有这个想法包括被动冷却，因为提议使用的微型计算机宣布的发热量为25W。 实际上，提议的用于实施的微型计算机是带有Intel Core i5处理器和集成Iris Plus 655 GPU的Intel NUC，25 W，1U，无源冷却，服务器-所有这些听起来令人鼓舞，但细微之处却不断涌现。 <br><a name="habracut"></a><br> 首先，假设8台计算机是服务器中的微型计算机。 也就是说，与功耗成比例的散热量已经等于25 * 8 = 200瓦。 在这个阶段已经不能说被动冷却了，但是实验仍在继续。 其中包括，出于进一步适应室外机柜执行技术的原因。 硬件的开发与OCD在使用必要软件的同时进行。 我们使用了一种复杂的设备来检测和识别车牌以及称为EDGE的VIT车辆的制造/模型。 事实证明，在100％负载下测量功耗时，英特尔NUC8i5BEK的功耗为46瓦，而不是声明的25瓦。采用这种方法，服务器的功耗和散热量已经变为46 * 8 = 368瓦。 而且这没有考虑到电源和其他组件。 <br><br> 作为散热器，我们使用经过打磨和特殊雕刻的铜板。 此外，铜板将热量散发到服务器顶部的铝热交换器。 由于计算错误，热交换器占据了顶盖的2/3，并且在服务器的左右两侧与4台微型计算机平行地位于两侧。 在中心区域，背面有550 W电源，正面有Mikrotik 1 Gbit路由器。 <br><br><img src="https://habrastorage.org/webt/rj/-1/ks/rj-1ksxnpavugjl5uw1oca8ub4m.png" alt="基于8台微机的服务器设计阶段"><br>  <i>基于8台微机的服务器设计阶段</i> <br><br> 结果是： <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c50/b68/139/c50b68139d2c00e0870eddcb9de0a9d5.png" alt="NUC Server   " title="带有被动冷却的NUC服务器"><br>  <i>带有被动冷却的NUC服务器</i> <br><br> 当然，该设计在中等负载下工作，但是在100％的温度下，它继续缓慢升温，并将大部分热量传递给环境。 即使在带有冷热通道的服务器机柜中，该设计也不可避免地会加热更高的“邻居”。 通过将微型计算机的数量减少到4个，即使在100％的负载下也可以稳定加热温度并避免节流，但是仍然存在“邻居”更高的问题。 <br><br> 技术解决方案堆栈在两个方向上有所分歧： <br><br><ul><li> 外部使用时对Intel NUC8i5BEK进行被动冷却 </li><li>  1U服务器机箱中的主动风冷 </li></ul><br><h3>  1U服务器，已安装8个Core i5处理器和8个GPU </h3><br> 是的，是的，很多，是的，有可能。 你怎么问？ 通过路由器在网络级别将1U机箱内的多台微型计算机组合在一起。 具体来说，对于神经网络的实现和传入RTSP流的处理，此解决方案是最佳的。 另外，它允许您基于一堆Docker，Docker Swarm和Ansible构建可扩展的系统。 <br><br> 在开发过程中，我们必须设计几个不同的版本： <br><br><h4> 未来决策的原型 </h4><br> 最初的想法保留了久经考验的铜散热器和铝散热器，但现在直接位于机箱内部的每个计算节点上。 此外，为了散热，使用了两个风扇，这些风扇安装在每个计算模块的前面，将冷空气中的热空气引导到热气（从服务器的前部）。 为了进行主动风扇控制，开发了特殊板，可以根据每台微型计算机上的温度传感器来更改其速度。 由于不需要PoE，路由器被剥夺了主动散热功能；它被切换为被动方式，散热量不超过10瓦。 第一个版本中的电源仍为500 W，但已安装在特殊的支架上，可以快速更换，但会出现断电的情况。 为了监视计算节点的状态，在前面板上添加了8个二极管的指示。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e68/f31/eea/e68f31eeab0da5e600173c8aad55cae5.png" alt="  NUC Server  ComBox Technology, 8 CPU Core i5  8 GPU Iris Plus 655  - 1U" title="来自ComBox Technology的NUC Server原型，1U尺寸的8 CPU Core i5和8 GPU Iris Plus 655"><br>  <i>来自ComBox Technology的NUC Server原型，1U尺寸的8 CPU Core i5和8 GPU Iris Plus 655</i> <br><br> 英特尔NUC上服务器第一版的技术特点： <br><br><ul><li> 英特尔NUC8i5BEK（无外壳，带有改进的冷却系统），8个。 </li><li>  AMD Radeon R7 Performance DDR4 SO-DIMM内存模块，8 GB，8个。 </li><li> 附加内存模块DDR4 SO-DIMM Kingston，4 GB，8个。 </li><li>  SSD M.2驱动器WD Green，240Gb，8个。 </li><li>  1U机箱（自己生产） </li><li>  MikroTik RB4011iGS + RM路由器（无外壳，带有改进的冷却系统），1个。 </li><li> 连接线（跳线），11条。 </li><li>  BP 94Y8187，550瓦 </li></ul><br> 工作过程中的外观： <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Y6u43FeGLXU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h4>  NUC服务器的生产版本 </h4><br> 生产版本发生了重大变化。 服务器上出现了2个电源，而不是一个电源，可能会进行热插拔。 我们使用了Supermicro的紧凑型服务器电源600W。 对于计算模块，出现了特殊的占用空间以及在不关闭整个服务器电源的情况下进行热交换的可能性。 许多网络环路被固定在座椅上的固定母线取代。 添加了FriendlyARM的Nano Pi ARM体系结构微机来管理服务器，并编写并安装了软件，用于检查和监视计算节点的状态，必要时通过GPIO报告特定计​​算节点的故障和硬件重置。 生产版本的风扇以从冷通道到热通道的方向安装在前面板的后面，铝制热交换器的散热片现在朝下而不是朝上，这使得每个计算节点的内存和磁盘都可以访问。 <br><br><h3> 英特尔NUC户外机箱 </h3><br> 由于微型计算机本身不是工业计算机，因此室外使用不仅需要外壳，还需要适当的气候条件。 我们需要防尘和防潮IP66防护，以及-40至+50摄氏度的温度操作。 <br><br> 我们测试了两个有效散热的假设：热管和作为散热片的铜板。 尽管具有较大的面积和更昂贵的解决方案，但后者被证明更为有效。 作为热交换器，一切都使用具有计算出的肋尺寸的铝轨枕。 <br><br> 为了在低于零的温度下启动设备，我们使用了陶瓷进行加热。 为了便于在各个领域中操作和实施，安装了6-36 V.宽范围的电源。 <br><br> 产生的设备的主要目的是：在数据源附近执行资源密集型神经网络。 这些任务包括计算车辆（客车，火车）中的客运量，以及在工业运营中集中处理有关面部检测和识别的数据。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b53/11b/7e4/b5311b7e45ae4b033a2f88d5b4cc7557.png" alt="Intel NUC     , IP66   " title="室外外壳中的Intel NUC，IP66，带气候模块"><br>  <i>室外外壳中的Intel NUC，IP66，带气候模块</i> <br><br><h3> 通用混合推理方案 </h3><br> 通常，使用三种类型的设备进行推断：数据中心中的服务器，安装了用于检测和识别对象的软件的照相机以及室外安装的微型计算机（例如，通过开关将照相机连接到室外）。 此外，从多个设备（例如2台服务器，15台摄像机，30台微型计算机）中，需要对数据（事件）进行汇总和存储。 <br><br> 在我们的解决方案中，我们使用以下使用存储系统进行数据聚合和存储的方案： <br><br><img src="https://habrastorage.org/webt/1a/l-/lz/1al-lzaqrx6bk6jsplwymzhlypu.jpeg" alt="    " title="混合推理的一般方案"><br>  <i>混合推理的一般方案</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN477430/">https://habr.com/ru/post/zh-CN477430/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN477414/index.html">数据工程师-21世纪最性感的职业</a></li>
<li><a href="../zh-CN477416/index.html">什么时候有害哈希</a></li>
<li><a href="../zh-CN477418/index.html">三个步骤的三面折射</a></li>
<li><a href="../zh-CN477426/index.html">如果火星上有城市...那里的人们将如何使用HighLoad ++？</a></li>
<li><a href="../zh-CN477428/index.html">贝叶斯网络，货币和全球危机</a></li>
<li><a href="../zh-CN477434/index.html">微服务的服务网格。 第二部分，使用Istio的基础知识</a></li>
<li><a href="../zh-CN477436/index.html">如何编写一个简单的客户端-服务器计算器（JavaFX + EJB + WildFly）</a></li>
<li><a href="../zh-CN477438/index.html">如何重新控制并减少对智能手机和通知的依赖</a></li>
<li><a href="../zh-CN477440/index.html">Flipper Zero-戊酯tomagotchi patsan多功能工具</a></li>
<li><a href="../zh-CN477442/index.html">56个开源Python项目</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>