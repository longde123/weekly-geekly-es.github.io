<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèª‚Äç‚öïÔ∏è üë®üèª‚Äçüíª üè® Agregue profundidad a sprites 2D utilizando mapas normales dibujados a mano üéø üèø üë®‚Äçüë¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El pixel art es eterno, pero esto no significa que las herramientas y t√©cnicas para trabajar con √©l deber√≠an permanecer en el nivel de 1993. 

 El des...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Agregue profundidad a sprites 2D utilizando mapas normales dibujados a mano</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430754/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e29/a6e/6e6/e29a6e6e60640ac36c79981ff998b1f5.jpg"></div><br>  El pixel art es eterno, pero esto no significa que las herramientas y t√©cnicas para trabajar con √©l deber√≠an permanecer en el nivel de 1993. <br><br>  El desarrollador brit√°nico de juegos Cardboard Sword est√° trabajando en el juego de plataformas de sigilo bidimensional <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><em>The Siege and the Sandfox</em></a> , creado en Unreal Engine 4 con Paper2D.  El equipo publica una serie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">de diarios de desarrollo que</a> presentan a otros desarrolladores c√≥mo usar estas herramientas en sus propios juegos. <br><br>  Una de las principales caracter√≠sticas t√©cnicas de <em>The Siege and the Sandfox</em> es el uso de mosaicos y sprites dibujados a mano con mapas normales, lo que le permite utilizar m√©todos de iluminaci√≥n tridimensionales en este juego con un arte de p√≠xeles bidimensional bastante tradicional. <br><br>  Una de las directoras de arte de Cardboard Sword, Kate Duke-Cox, le dijo recientemente a Gamasutra c√≥mo la compa√±√≠a lleg√≥ a usar esta t√©cnica, por qu√© se adapta al juego y c√≥mo puede aplicar t√©cnicas similares en sus propios juegos 2D. <br><a name="habracut"></a><br><h2>  A√±ade una sensaci√≥n de profundidad </h2><br>  <strong>¬øCu√°les son los beneficios de los mapas normales en comparaci√≥n con la iluminaci√≥n plana tradicional en un juego 2D?</strong> <br><br>  <strong>Kate Duke-Cox</strong> : la tarea del director de arte est√° completamente dedicada a encontrar un estilo individual y lograr el efecto deseado.  Quer√≠amos que nuestro arte fuera rico, profundo y "convexo".  Las normales permitieron alcanzar este objetivo, dando una sensaci√≥n de forma y fuerza al mundo y sus objetos. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <em>Esta imagen, publicada por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Keith Duke Cox en Twitter</a> en agosto de 2017, es un impresionante ejemplo de una t√©cnica.</em> <br><br>  Por ejemplo, el uso de normales da a las fuentes de peligro un aspecto m√°s tangible.  La luz responde m√°s correctamente a la superficie, y sin normales, se cre√≥ una sensaci√≥n de una "hoja de papel" muy plana. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <em>Cuando se usan correctamente, los mapas normales pueden agregar a los objetos en la escena una sensaci√≥n de profundidad y peso que las im√°genes 2D planas no pueden lograr.</em> <br><br>  El uso de mapas normales es m√°s una soluci√≥n visual que una opci√≥n de juego funcional.  Quer√≠amos que el jugador se sumergiera m√°s profundamente en el entorno, de modo que el parkour ofreciera una sensaci√≥n de profundidad y autenticidad f√≠sica, en lugar de la impresi√≥n de patrones de corte de papel t√≠picos de algunos juegos de p√≠xeles.  Si se adhiere a colores brillantes y simples o estilo retro, entonces la iluminaci√≥n plana es bastante adecuada. <br><br>  <strong>¬øQu√© te atrajo inicialmente a usar mapas normales para iluminaci√≥n 2D?</strong>  <strong>¬øC√≥mo lo descubriste o d√≥nde viste una implementaci√≥n de calidad?</strong> <br><br>  La aplicaci√≥n de valores normales a gr√°ficos 2D fue una continuaci√≥n natural de su uso en 3D, lo que no era posible en sistemas m√°s antiguos que nos inspiraron a dise√±ar.  Por supuesto, no fuimos los primeros en usarlos en juegos modernos de pixel art, pero los resultados fueron diferentes. <br><br>  Al principio, nos negamos a usar este efecto, porque en muchos de los efectos que vimos, destruy√≥ el encanto y la est√©tica del pixel art, d√°ndole demasiado brillo met√°lico.  En nuestro primer intento de crear mapas normales de p√≠xeles dibujados a mano para pixel art, obtuvimos normales muy detallados; despu√©s de todo, este es su objetivo principal en gr√°ficos 3D.  Pero cada ficha en nuestro juego tiene un tama√±o de solo 32x32 p√≠xeles, por lo que no quedan demasiados p√≠xeles para transmitir informaci√≥n de superficie.  Como resultado, el resultado se convirti√≥ en un caos ruidoso. <br><br>  Pero luego vimos el arte de Gwenael Masset para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><em>Dead Cells</em></a> , en el que el pixel art con normales se hizo muy bien, y decidimos darle una segunda oportunidad.  [Aqu√≠ hay <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">un art√≠culo</a> sobre el uso de modelos 3D en este juego bidimensional.] Esta vez no usamos el mapa normal para los detalles finos de las superficies que se pueden ver en los gr√°ficos 3D.  Ahora el mapa normal se usaba para "crear" grandes formas de pixel art. <br><br><h2>  Esculpir formularios usando mapas normales </h2><br>  <strong>¬øPuede hablar brevemente sobre el proceso de desarrollo de un activo, en particular sobre las diferencias de crear un activo 2D sprite simple similar?</strong> <br><br>  Por lo general, el pixel art se dibuja teniendo en cuenta la direcci√≥n "general" de la luz.  En nuestro caso, para la mayor√≠a de los sprites y las fichas de primer plano, la luz principal cay√≥ desde arriba y ligeramente a la derecha, y las fichas de fondo ten√≠an una "luz de c√°mara" m√°s general para simular habitaciones oscuras y no distraer al jugador del primer plano. <br><br>  Esto significaba que cuando se trataba de representar los valores normales para sprites y azulejos, los detalles y materiales de las superficies ya estaban seleccionados.  Descubrimos que este enfoque en realidad funcion√≥ muy bien.  √âl quiso decir que todas las formas y detalles que tuvimos que imitar en las normales ya eran muy obvios y notables. <br><br>  Dependiendo de la naturaleza del sprite al que se agregaron las normales, usamos una combinaci√≥n de dibujar los colores de las esquinas de las normales de la "esfera de los mapas normales" (de hecho, esta es una esfera que sirve como una paleta de todos los √°ngulos posibles que se pueden dibujar en el mapa de normales tangentes) y dibujar en canales RGB separados escala de grises con otras herramientas como ND, Crazybump o AwesomeBump.  Ayudaron con algunas formas y mezclaron correctamente diferentes partes de las normales. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4d0/09b/aa2/4d009baa2ac869b93db70f9204846b70.png"></div><br>  Utilizamos Nvidia TextureTools para Photoshop para ajustar / normalizar vectores despu√©s de terminar de dibujar un mapa normal. <br><br>  <strong>¬øCu√°les son los beneficios de dibujar mapas normales manuales como este con herramientas preconstruidas como Sprite DLight?</strong> <br><br>  Cuando comenzamos a buscar formas de crear valores normales para un objeto 2D sin un modelo de alta poli, encontramos aplicaciones que, en cierta medida, realizaban esta tarea. <br><br>  Estudiamos los tutoriales para descubrir c√≥mo se crean los mapas normales, pero descubrimos que hacen suposiciones basadas en los valores de color de los p√≠xeles, que no dan resultados completamente precisos o completamente incorrectos, o requieren m√∫ltiples im√°genes en escala de grises para simular la luz de diferentes direcciones, esencialmente creando los canales normales del mapa de forma independiente. <br><br>  El programa no puede saber qu√© altura y √°ngulo tiene un p√≠xel en un sprite, especialmente cuando se trata de un juego de pixel art con una paleta muy limitada, donde se utiliza un color para indicar las profundidades y √°ngulos de un objeto.  Sin embargo, vale la pena agregar que en realidad no usamos estos programas, sino que simplemente evaluamos las perspectivas para su aplicaci√≥n. <br><br>  Existen dos m√©todos est√°ndar para la generaci√≥n automatizada acelerada de mapas normales: conversi√≥n de escala de grises y reconocimiento de formas.  Realizamos pruebas con los tres m√©todos y descubrimos que el m√©todo de dibujo manual definitivamente brinda los mejores resultados. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  La conversi√≥n de escala de grises y el reconocimiento de formas pueden crear efectos mejor de lo que se muestra aqu√≠, pero incluso con mucho trabajo y tiempo, a√∫n no son tan precisos y buenos como el dibujo manual. <br><br><h2>  Usar mapas normales en juegos nativos en 2D </h2><br>  <strong>¬øQu√© consejo puedes dar a los desarrolladores que quieren seguir tu propio camino?</strong> <br><br>  Crear valores normales en 2D de forma manual no es tarea f√°cil.  El trabajo en todos los mosaicos de primer plano y de fondo tom√≥ alrededor de 3 meses-hombre.  Por lo tanto, para obtener resultados de alta calidad, prep√°rese para invertir mucho tiempo. <br><br>  Las normales creadas r√°pidamente para gr√°ficos 2D, especialmente el pixel art, generalmente se ven mal.  Los sistemas como "crear una soluci√≥n con un solo bot√≥n" a menudo conducen a la creaci√≥n de activos d√©biles que, cuando se representan en un juego, se ven a√∫n peor que los p√≠xeles sin luz.  Pruebe en una peque√±a parte del juego (una peque√±a muestra del primer plano, el fondo, los objetos y los personajes) y descubra qu√© le conviene y el estilo de su juego. <br><br>  Por otro lado, en t√©rminos de representaci√≥n, los costos de agregar normales a nuestro mundo son muy peque√±os.  Para casi todo el mundo del juego, ten√≠amos dos mapas normales de 2k.  No ocupan mucha memoria, y algunas texturas adicionales para el pase de representaci√≥n normal no afectan demasiado las llamadas de extracci√≥n.  Las fuentes de iluminaci√≥n din√°micamente solo realizan la iluminaci√≥n, no proyectan sombras sobre todo en el juego, por lo tanto, tambi√©n son muy econ√≥micas. <br><br>  Si a√∫n no comprende c√≥mo funcionan las normales del espacio tangente y lo que significan, incluso un breve estudio le permitir√° dibujarlas mucho m√°s f√°cilmente. <br><br>  <strong>Para usar este m√©todo, ten√≠a que adaptar los activos existentes y no implementarlo desde el comienzo del desarrollo.</strong>  <strong>¬øPuedes dar consejos a aquellos que intentan complementar los gr√°ficos de sprites ya preparados con mapas normales?</strong> <br><br>  Si tuvi√©ramos que hacerlo de nuevo, entonces har√≠amos lo mismo: primero crear gr√°ficos difusos, y luego dibujar las normales usando pixel art como referencia. <br><br>  Quiz√°s dibujar√≠amos algunos objetos de manera un poco diferente.  Hubo problemas en el arte de los p√≠xeles cuando un p√≠xel pod√≠a indicar, por ejemplo, un clavo o remache, pero este p√≠xel en el mapa normal puede corresponder solo a una esquina, por lo que podr√≠amos hacer que algunos elementos sean m√°s grandes para transmitir mejor los √°ngulos de la imagen. <br><br>  Si utiliza una resoluci√≥n inferior a la que utilizamos en nuestros juegos de fichas (32x32), entonces quiz√°s el tama√±o lo limite demasiado.  Con una resoluci√≥n de 16x16 u 8x8, probablemente no podr√° transferir forma o volumen solo si una loseta no es una parte grande, como una piedra o un bloque de concreto. <br><br>  En pixel art, los gradientes claros no se ven tan bien como las superficies voluminosas con √°ngulos agudos.  Si su estilo gr√°fico lo permite, sugiero usar m√°s √°ngulos que gradientes en superficies normales.  Por ejemplo, si tiene un barril, aseg√∫rese de que cada tabla individual en la que est√° compuesto tenga su propio √°ngulo y que el barril sea m√°s octogonal que redondeado. <br><br>  <strong>¬øTienes alg√∫n consejo para aquellos desarrolladores que quieran usar estas t√©cnicas fuera de Unreal?</strong>  <strong>Por ejemplo, en Unity o en Gamemaker.</strong> <br><br>  Antes de comenzar, verifique la orientaci√≥n del mapa normal.  El enfoque para dibujar normales es el mismo para todos los motores, solo lo que significa cada canal de color del mapa es diferente. <br><br>  Por lo general, solo el eje Y (canal verde) cambia en diferentes motores.  Unreal usa las normales del sistema de coordenadas del lado Y de DirectX, pero Unity usa las Y normales del sistema de coordenadas del lado derecho OpenGL (como nos parece), por lo que el canal verde debe estar al rev√©s. <br><br>  Sin embargo, si pint√≥ incorrectamente, lo m√°s frecuente es que un simple giro del canal verde sea suficiente.  Ver√° que el canal se confunde si la imagen se enciende opuesta al resultado esperado. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es430754/">https://habr.com/ru/post/es430754/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es430742/index.html">Olimpiada estudiantil "Soy un profesional": direcci√≥n "Programaci√≥n y tecnolog√≠a de la informaci√≥n"</a></li>
<li><a href="../es430746/index.html">¬øPor qu√© las bater√≠as de Tesla no funcionan en taxi a√©reo?</a></li>
<li><a href="../es430748/index.html">La lucha por los recursos, parte 6: cpuset o Sharing no siempre es correcto</a></li>
<li><a href="../es430750/index.html">Damas cu√°nticas: haz que las damas vuelvan a ser geniales</a></li>
<li><a href="../es430752/index.html">DEV Labs 2018. Mitap en l√≠nea para desarrolladores web. 1 de diciembre</a></li>
<li><a href="../es430756/index.html">Hacer el WX-Mouse en el Nova Slider 600</a></li>
<li><a href="../es430762/index.html">C√≥mo elegir un UPS para optimizar costos</a></li>
<li><a href="../es430766/index.html">Se trata de Agile 1: mitos de la agenda popular</a></li>
<li><a href="../es430768/index.html">Entrevista con el creador de ADOM Thomas Biscap</a></li>
<li><a href="../es430770/index.html">Copia de seguridad para Linux, o c√≥mo crear una instant√°nea</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>