<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ù£Ô∏è ü§≤üèª üë≤üèº G√©rer les secrets avec HashiCorp Vault üì¥ üëô üëèüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Comment garder des secrets? Dans le r√©f√©rentiel, dans le syst√®me de d√©ploiement ou dans le syst√®me de gestion de configuration? Sur un ordinateur pers...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>G√©rer les secrets avec HashiCorp Vault</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/438740/">  Comment garder des secrets?  Dans le r√©f√©rentiel, dans le syst√®me de d√©ploiement ou dans le syst√®me de gestion de configuration?  Sur un ordinateur personnel, sur des serveurs ou peut-√™tre dans une bo√Æte sous le lit?  Et comment g√©rer les secrets pour √©viter les fuites? <br><br>  <strong>Sergey Noskov ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">Albibek</a> ) - le chef du groupe de s√©curit√© de l'information de la plate-forme d'Avito</strong> , conna√Æt la r√©ponse √† ces questions et partagera avec nous.  √Ä Avito, HashiCorp Vault utilise activement HashiCorp Vault depuis deux ans, p√©riode pendant laquelle ils ont obtenu des bosses et une exp√©rience de pompage au niveau ¬´Master¬ª. <br><br>  Dans l'article, nous parlerons de Vault de mani√®re d√©taill√©e: de quoi il s'agit, o√π et comment il est utilis√© dans l'entreprise, comment Avito g√®re les secrets √† l'aide de HashiCorp Vault, comment Puppet et Kubernetes sont utilis√©s, des cas d'utilisation avec Puppet et d'autres SCM, quels probl√®mes se posent, ce qui nuit √† la s√©curit√© et les d√©veloppeurs, et, bien s√ªr, partager des id√©es sur la fa√ßon de r√©soudre ce probl√®me. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/oDdDPU6moTs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><a name="habracut"></a><h2>  Qu'est-ce qu'un secret? </h2><br>  Toute information confidentielle: <br><br><ul><li>  identifiant et mot de passe, par exemple, √† la base de donn√©es; </li><li>  Cl√©s API </li><li>  Cl√© de certificat du serveur (* .google.com) </li><li>  cl√© de certificat client (partenaires, Yandex money, QIWI); </li><li>  cl√© pour signer les applications mobiles. </li></ul><br>  Toutes les informations que nous voulons garder secr√®tes, nous appelons un secret.  Cela cr√©e un probl√®me de stockage: il est mauvais de le stocker dans le r√©f√©rentiel, sous forme crypt√©e - vous devez conserver les cl√©s de cryptage quelque part. <br><br>  <strong>HashiCorp Vault</strong> est l'une des bonnes solutions au probl√®me. <br><br><ul><li>  Stocke et g√®re les cl√©s en toute s√©curit√©. </li><li>  Aiguis√© sur le monde des microservices, depuis le microservice lui-m√™me. </li><li>  <strong>HashiCorp Vault</strong> a fait beaucoup pour authentifier et autoriser l'acc√®s aux secrets, tels que les listes de contr√¥le d'acc√®s et le principe des privil√®ges minimaux. </li><li>  Interface REST avec JSON. </li><li>  La s√©curit√© n'est pas parfaite, mais √† un niveau assez √©lev√©. </li></ul><br>  √Ä mon avis, c'est un outil assez pratique. <br><br><h2>  Nouveaut√©s de HashiCorp Vault <br></h2><br>  L'outil se d√©veloppe et ces derni√®res ann√©es, de nombreuses fonctionnalit√©s int√©ressantes y sont apparues: en-t√™tes CORS pour GUI sans interm√©diaires;  interface graphique int√©gr√©e;  int√©gration native avec Kubernetes;  plugins pour les backends et le framework logiques et d'authentification. <br><br>  La plupart des changements que j'ai personnellement appr√©ci√©s sont la <strong>possibilit√© de ne pas √©crire d'extensions et d'ajouts</strong> qui se trouveront en dehors de l'outil. <br><br>  Par exemple, il y a Vault, vous voulez l'√©tendre - √©crivez une logique suppl√©mentaire ou votre propre interface utilisateur pour l'automatisation, qui automatisera quelque chose.  Avant les modifications, j'ai d√ª lever un service suppl√©mentaire auquel Vault est confront√©, et procurer toutes les demandes par procuration: d'abord les demandes vont au service, puis √† Vault.  C'est mauvais car dans le service interm√©diaire, le niveau de s√©curit√© peut √™tre r√©duit et tous les secrets le traversent.  <strong>Les risques de s√©curit√© sont beaucoup plus √©lev√©s lorsque le secret passe par plusieurs points √† la fois!</strong> <br><br><h2>  Probl√®me de poulet et d'oeufs <br></h2><br>  Lorsque vous soulevez le probl√®me du stockage d'informations confidentielles et d√©cidez de crypter, d√®s que vous cryptez quelque chose, votre secret se d√©place du lieu de cryptage √† l'endroit o√π la cl√© est stock√©e.  Cela se produit tout le temps: d√®s que vous avez sauvegard√© un secret quelque part ou chang√© un existant, vous en avez un autre et un cercle vicieux commence - <strong>o√π garder le secret pour acc√©der au secret</strong> . <br><br>  Le secret pour acc√©der au secret est la partie de la s√©curit√© appel√©e <strong>authentification</strong> .  La s√©curit√© a une autre partie - l' <strong>autorisation.</strong>  Dans le processus d'autorisation, il est v√©rifi√© si l'utilisateur peut acc√©der exactement l√† o√π il demande.  Dans le cas de Vault, un tiers de confiance d√©cide de divulguer ou non le secret.  L'autorisation ne r√©sout que partiellement le probl√®me. <br><br><h2>  HashiCorp Vault √† Avito <br></h2><br>  Chez Avito, HashiCorp est install√© dans la seule grande installation sur l'ensemble du r√©seau.  HashiCorp Vault a de nombreux backends diff√©rents.  Nous utilisons √©galement le backend bas√© sur <strong>Consul</strong> de HashiCorp, car Vault ne peut prendre en charge sa propre tol√©rance aux pannes que via Consul. <br><br>  <strong>Le descellement</strong> est un moyen de ne pas conserver la cl√© principale au m√™me endroit.  Lorsque Vault d√©marre, il crypte tout sur une cl√©, et √† nouveau le probl√®me du poulet et des ≈ìufs appara√Æt: o√π garder un secret, qui cryptera tous les autres secrets.  Pour √©viter ce probl√®me, Vault fournit une cl√© composite, qui n√©cessite plusieurs parties de la cl√©, que nous distribuons √† plusieurs employ√©s.  Dans Avito, nous avons configur√© Unseal dans les options pour 3 personnes sur 7. Si nous d√©marrons Vault, au moins 3 personnes doivent entrer et entrer leur partie de la cl√© pour qu'elle commence √† fonctionner.  La cl√© est divis√©e en 7 parties et vous pouvez apporter n'importe laquelle d'entre elles. <br><br>  Nous avons mis en place un petit test Vault, un bac √† sable pour les d√©veloppeurs o√π ils peuvent jouer.  Il se pr√©sente sous la forme d'un conteneur Docker et cr√©e des secrets simples pour que les gens puissent toucher l'outil avec leurs mains, se mettre √† l'aise.  Il n'y a pas de consul et de clustering dans le bac √† sable, c'est juste un syst√®me de fichiers sur lequel Vault d√©tient des secrets chiffr√©s et un petit script √† initialiser. <br><br>  Voici ce que nous stockons maintenant dans Vault: <br><br><ul><li>  Presque tous les secrets des microservices Kubernetes: mots de passe de base de donn√©es, cl√©s API, tout cela. </li><li>  Secrets de pose sur les serveurs "fer" et LXC. </li><li>  Nous avons √©galement mis des secrets pour les builds CI / CD dans TeamCity in Vault.  La couverture n'est pas √† 100%, mais tout √† fait acceptable. </li><li>  Les cl√©s de tous les certificats: PKI interne, CA externes, par exemple, GeoTrust et similaires. </li><li>  Secrets communs aux √©quipes. </li></ul><br>  √Ä l'int√©rieur, Vault stocke tout uniquement en JSON, ce n'est pas toujours pratique et n√©cessite des actions suppl√©mentaires de la part du d√©veloppeur, donc en gros nous publions des secrets sous la forme d'un fichier. <br><br><blockquote>  Nous essayons de livrer des secrets sous forme de fichiers. <br></blockquote><br>  Nous ne disons pas au d√©veloppeur: "Allez dans Vault, prenez un secret!", Mais placez le fichier sur le disque et dites: "D√©veloppeur, un fichier appara√Ætra sur votre disque, prenez-lui le secret, et nous d√©terminerons d√©j√† comment l'obtenir de Vault et l'apporter. √† vous. " <br><img src="https://habrastorage.org/webt/rg/9o/mj/rg9omjizdszcnw0lzrr_iogfosc.png"><br><br>  Nous avons adopt√© un accord simple pour les champs JSON, dans lequel nous indiquons avec quels droits t√©l√©charger le fichier.  Il s'agit de m√©tadonn√©es pour le syst√®me de fichiers et le champ de donn√©es est une cha√Æne cod√©e avec le secret lui-m√™me, qui deviendra le contenu du fichier. <br><br><h2>  Marionnette + Hiera + Vault <br></h2><br>  Presque toute l'infrastructure Avito utilise Puppet, elle d√©ploie tous les serveurs. <br><br>  Puppet dispose d'un outil pratique pour organiser les hi√©rarchies - <strong>Hiera</strong> .  Vault s'int√®gre tr√®s bien √† Hiera via un module compl√©mentaire, car une demande de valeur-cl√© est envoy√©e √† cette biblioth√®que, et Vault lui-m√™me est une base de donn√©es de valeurs-cl√©s, mais avec toutes les fonctionnalit√©s de s√©curit√© - avec un cryptage transparent et la possibilit√© de choisir l'acc√®s aux cl√©s. <br><br>  Par cons√©quent, la premi√®re chose que nous avons impl√©ment√©e est Vault in Puppet, mais avec un ajout - nous avons une couche interm√©diaire appel√©e <strong>backend Router</strong> .  Backend du routeur - un module Hiera s√©par√©, juste des fichiers sur le disque qui indiquent o√π Hiera doit aller pour la cl√© - dans Vault ou dans un autre endroit. <br><br>  Il est n√©cessaire pour que Hiera ne se rende pas √† Vault en permanence, car elle parcourt toujours la hi√©rarchie.  Ce n'est pas un probl√®me ou une charge de Vault, mais une fonctionnalit√© de Hiera elle-m√™me.  Par cons√©quent, si vous ne laissez que le module pour Vault sans le backend du routeur, le ma√Ætre Puppet prendra tr√®s longtemps pour collecter la configuration de l'agent Puppet, car il v√©rifiera chaque cl√© dans le coffre-fort. <br><img src="https://habrastorage.org/webt/dv/di/f6/dvdif6z09jpflg98zykbwf7l7cq.png"><br><br>  Pour Puppet, le probl√®me du poulet et des ≈ìufs est r√©solu du fait que la partie habilitante est le ma√Ætre des marionnettes.  C'est lui qui donne le secret pour acc√©der au secret.  Le Puppet master a acc√®s √† tous les secrets √† la fois, mais chaque h√¥te est autoris√© √† recevoir uniquement celui qui lui est destin√©.  L'h√¥te sur le Puppet master est d√©j√† autoris√© par son certificat, qui est g√©n√©r√© localement et ne laisse pas les limites de l'h√¥te.  En principe, le secret pour acc√©der au secret demeure, mais ce n'est pas si critique. <br><br>  Notre processus de r√©v√©lation d'un nouveau secret dans Puppet comprend les √©tapes suivantes. <br><br><ul><li>  Nous prenons un secret quelque part - quelqu'un nous le donne ou le d√©voile. </li><li>  Mettre un secret dans Vault, avec une hi√©rarchie comme dans Hiera: <strong>/puppet/role/www/site.ssl.key</strong> . </li><li>  Nous enregistrons un pr√©fixe dans le manifeste Puppet, indiquant que le fichier se trouve dans Vault et o√π l'obtenir. </li><li>  Nous √©crivons le chemin dans Vault en YAML pour le routeur Hiera et le backend afin que Hiera puisse le trouver. </li><li>  Tirez la demande via GIT vers le r√©f√©rentiel de manifestes. </li><li>  Ex√©cutez ou attendez que l'agent Puppet s'ex√©cute. </li></ul><br>  Des agents de marionnettes s'enfuient avec nous toutes les 30 minutes, vous devez donc attendre un peu jusqu'√† ce que le secret soit d√©voil√©.  Cela ne pose pas de probl√®mes - <strong>nous ne partageons pas tous les jours des secrets</strong> .  Tant que Kubernetes n'est pas impliqu√© dans l'entreprise, il n'y a pas beaucoup de frais g√©n√©raux et nous sommes pr√™ts √† divulguer des secrets dans Vault avec nos mains avec une automatisation minimale. <br><br>  Un plus suppl√©mentaire, nous obtenons la ¬´puce¬ª Hiera - le <strong>secret peut √™tre d√©fini imm√©diatement pour un groupe d'h√¥tes</strong> ou en fonction du r√¥le de l'h√¥te, que nous d√©finissons dans le r√¥le variable. <br><br>  Le seul <strong>danger</strong> : si vous avez Puppet et que vous utilisez Hiera, ne substituez rien aux mod√®les de variables, car de nombreux faits et variables sont collect√©s c√¥t√© client.  Si un attaquant substitue un fait au client, le ma√Ætre des marionnettes lui donnera les secrets des autres.  <strong>Assurez-vous de v√©rifier les variables</strong> : utilisez uniquement celles que le Puppet-master ne permet pas de d√©terminer du c√¥t√© client. <br><br><h2>  Que faire avec SCM sans assistant? <br></h2><br>  Si, soudain, vous n'avez plus Puppet, alors tr√®s probablement Ansible.  Pour Chef et autres SCM centralis√©s, leurs solutions sont un plugin pouvant acc√©der √† Vault.  J'offre plusieurs options qui peuvent √™tre impl√©ment√©es avec Ansible. <br><br><h3>  Agent local <br></h3><br>  Localement pour le serveur, g√©n√©rez un jeton, qui est en fait le mot de passe pour acc√©der au coffre-fort.  Le jeton est valide tout le temps.  Vous pouvez le mettre √† jour ou l'automatiser.  Avec ce jeton, vous allez dans Vault et emportez vos secrets. <br><br>  L'id√©e est que sur votre serveur o√π vous devez livrer des secrets, l'agent qui vient dans Vault tourne, il regarde tous les secrets et les met sous forme de fichiers.  Nous utilisons l'agent sur plusieurs serveurs distincts o√π il n'y a pas de marionnette. <br><br>  <strong>Inconv√©nients:</strong> <br><br><ul><li>  Le jeton est facile √† saisir dans un petit segment, mais si vous avez plusieurs dizaines de serveurs d√©ploy√©s par jour, vous devrez g√©n√©rer un jeton pour chaque serveur et prescrire une strat√©gie.  C'est g√™nant. </li><li>  Le jeton doit √™tre mis √† jour. </li><li>  Le regroupement des serveurs par r√¥le, objectif ou faits est difficile, il doit √™tre synchronis√© avec Vault. </li></ul><br><h3>  Cryptage de transit <br></h3><br>  Vault a une fonction de chiffrement de transit, dont l'essence est que Vault agit comme un <strong>serveur de chiffrement</strong> .  Vous venez de lui apporter du texte en clair, et lui, sur sa cl√© priv√©e, que lui seul poss√®de, crypte et √©met le texte ferm√©.  Ensuite, vous choisissez qui peut d√©chiffrer ce texte ferm√©. <br><br>  Ansible poss√®de une entit√©, √©galement appel√©e Vault.  Ce n'est pas un coffre HashiCorp, mais un <strong>coffre Ansible</strong> .  Il n'est pas n√©cessaire de confondre, et les secrets peuvent √™tre stock√©s dans le premier et le second.  Ansible a un plugin pr√™t √† l'emploi pour livrer des secrets de Hashicorp Vault.  Si vous accordez un acc√®s personnel √† Vault, vous pouvez d√©crypter les secrets.  Lorsque vous lancez Ansible, il va √† Vault en votre nom, d√©chiffre les secrets qui sont chiffr√©s dans le r√©f√©rentiel et le met en production. <br><br>  Il y a aussi un inconv√©nient - <strong>chaque administrateur a acc√®s aux secrets</strong> .  Mais il y a un audit: Vault sait comment garder un journal d'activit√© sur quel utilisateur est entr√©, quel secret il a lu, lequel a eu acc√®s.  Vous savez toujours qui, quand et quoi a fait un secret.  Cette option me semble bonne. <br><br><h3>  Big Flaw # 1 <br></h3><br>  Le plus gros inconv√©nient qui nous cause le plus de peine est que dans Vault, vous ne pouvez d√©l√©guer le contr√¥le total √† aucune <strong>partie des</strong> <strong>donn√©es √†</strong> qui que ce soit.  Dans Vault, l'acc√®s au secret s'effectue de la m√™me mani√®re que dans UNIX - les noms sont g√©n√©ralement s√©par√©s par des barres obliques et le r√©sultat est un "r√©pertoire".  Lorsque vous avez un tel chemin, vous voulez parfois prendre une partie du chemin et le donner √† quelqu'un d'autre pour le contr√¥ler. <br><img src="https://habrastorage.org/webt/w-/hq/gf/w-hqgfwmxgok3_dimlgnn8baxag.png"><br><br>  Par exemple, vous avez obtenu des certificats, appel√©s <strong>/ certs</strong> , et vous souhaitez les remettre √† des agents de s√©curit√© individuels qui traitent les PKI.  Vault ne peut pas faire cela.  Vous ne pouvez pas donner le droit d'√©mettre des droits √† l'int√©rieur de ce pr√©fixe - afin que les agents de s√©curit√© eux-m√™mes puissent distribuer les droits des certificats √† quelqu'un d'autre. <br><br>  <strong>Vault n'a pas la capacit√© d'accorder s√©lectivement des droits pour accorder des droits</strong> .  D√®s que vous avez donn√© le droit d'accorder des droits, vous avez √©galement donn√© la possibilit√© d'acc√©der pleinement √† tous les secrets.  En d'autres termes, vous ne pouvez pas donner acc√®s √† la partie Vault. <br><br>  C'est l'un des plus gros probl√®mes.  J'ai une id√©e de comment le r√©soudre, je vous en parlerai plus tard. <br><br><h2>  Kubernetes <br></h2><br>  Chez RIT ++, j'ai <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">parl√©</a> d'un syst√®me distinct que nous avons impl√©ment√© pour <strong>Kubernetes</strong> : il sert de tiers, va √† l'API, v√©rifie l'acc√®s et demande ensuite un secret dans Vault. <br><br>  Maintenant, notre syst√®me a perdu de sa pertinence, car dans Vault 0.9, le support natif de Kubernetes est apparu.  Maintenant, Vault lui-m√™me sait comment se rendre √† Kubernetes et s'assurer que l'acc√®s au secret est autoris√©.  Il le fait avec un <strong>jeton de compte de service</strong> .  Par exemple, lorsque vous avez d√©ploy√© un module, il existe un <strong>JWT</strong> sp√©cial, sign√© et autoris√© pour celui-ci, con√ßu pour les demandes √† l'API Kubernetes.  Avec un jeton, vous pouvez √©galement vous connecter √† Vault et obtenir des secrets sp√©cifiquement pour votre espace de noms. <br><br>  Tout se fait au niveau de Vault lui-m√™me.  Certes, il sera n√©cessaire de d√©marrer un r√¥le pour chaque espace de noms, c'est-√†-dire de dire √† Vault qu'il existe un tel espace de noms, il y aura une autorisation et d'enregistrer o√π aller √† Kubernetes.  Cela est fait une fois, puis Vault ira √† l'API elle-m√™me, confirmera la validit√© du JWT et √©mettra son propre jeton d'acc√®s. <br><br><h3>  R√®gles Kubernetes <br></h3><br>  En termes de nom de service et de m√©tadonn√©es suppl√©mentaires, nous faisons confiance aux d√©veloppeurs.  Il y a une petite chance que les d√©veloppeurs obtiennent accidentellement ou intentionnellement les secrets d'autres services qui tournent dans un espace de noms, nous avons donc introduit une r√®gle: <strong>un service</strong> - <strong>un espace de noms.</strong> <br><br>  Nouveau microservice?  Obtenez un nouvel espace de noms avec vos secrets.  Vous ne pouvez pas traverser la fronti√®re vers la voisine - ils ont leur propre jeton de compte de service.  <strong>La fronti√®re de s√©curit√© √† Kubernetes en ce moment est l'espace de noms.</strong>  Si dans deux espaces de noms diff√©rents, vous avez besoin d'un secret - copiez-le. <br><br>  Kubernetes a des <strong>secrets de kubernetes</strong> .  Ils sont stock√©s dans etcd dans Kubernetes sous forme non chiffr√©e et peuvent ¬´s'allumer¬ª dans le tableau de bord ou lorsque kubectl get pods est d√©marr√©.  Si l'authentification dans etcd est d√©sactiv√©e dans votre cluster, ou si vous avez accord√© √† quelqu'un un acc√®s complet en lecture seule, tous les secrets lui sont visibles.  C'est pourquoi nous avons introduit deux r√®gles: il est <strong>interdit d'utiliser des secrets kubernetes</strong> et il est <strong>interdit de sp√©cifier des secrets dans des variables d'environnement dans des manifestes</strong> .  Si vous √©crivez un secret dans l'environnement dans deployment.yaml, c'est mauvais, car le manifeste lui-m√™me peut √™tre vu par toute personne qui n'est pas paresseuse. <br><br><h3>  Livraison Kubernetes <br></h3><br>  Comme je l'ai dit, nous devons en quelque sorte mettre le fichier dans Kubernetes.  Nous avons une sorte de secret: l'essence, le mot de passe, qui est √©crit en JSON dans Vault.  Comment le transformer en un fichier √† l'int√©rieur du conteneur dans Kubernetes maintenant? <br><img src="https://habrastorage.org/webt/gm/ki/wb/gmkiwblvlm7ca4hiwmvhhx14wxu.png"><br><br>  La premi√®re option de livraison. <br><br><ul><li>  Nous commen√ßons un conteneur d'init sp√©cial. </li><li>  Cela part de notre image. </li><li>  L'image contient un petit utilitaire qui va √† Vault avec le jeton de compte de service, prend le secret et le place dans le volume partag√©. </li><li>  Pour l'utilitaire, un volume partag√© sp√©cial est mont√© uniquement dans la m√©moire TMPFS afin que les secrets ne passent pas par le disque. </li><li>  Init-container va dans Vault, met dans ce volume sous forme de fichiers tous les secrets qu'il trouve sur le chemin sp√©cifi√©. </li><li>  Ensuite, le volume partag√© est mont√© dans le conteneur principal dans lequel il est requis. </li><li>  Lorsque le conteneur principal est lanc√©, il obtient imm√©diatement ce dont le d√©veloppeur a besoin - des secrets sous la forme d'un fichier sur disque. </li></ul><br>  Le d√©veloppeur n'a qu'√† se souvenir du chemin dans lequel se trouve son secret. <br><br>  Nous utilisons quelque chose comme ce pr√©fixe: <br><br><pre><code class="plaintext hljs">/k8s/&lt;cluster&gt;/&lt;namespace&gt;/&lt;service&gt;/some_secret</code> </pre> <br>  Le nom du pr√©fixe contient le nom du cluster, l'espace de noms et le nom du service.  Chaque service a son propre secret, chaque espace de noms a son propre secret. <br><br>  La deuxi√®me option est votre <strong>propre point d'entr√©e</strong> .  Nous y allons maintenant dans Avito, car les d√©veloppeurs ont des probl√®mes avec init-container.  Dans le diagramme, cette option est √† droite. <br><br>  Tout le monde ne peut pas se permettre son propre point d'entr√©e.  Nous pouvons, donc dans chaque conteneur, nous for√ßons notre point d'entr√©e sp√©cial. <br><br>  Notre point d'entr√©e fait la m√™me chose que init-container: il va dans Vault avec un jeton de compte de service, prend des secrets et les met √† disposition.  En plus des fichiers, il les remet dans l'environnement.  Vous avez la possibilit√© d'ex√©cuter l'application comme recommand√© par le concept de l'application √† <strong>douze facteurs</strong> : l'application prend tous les param√®tres, y compris les secrets, des variables d'environnement. <br><br>  Les variables d'environnement ne sont pas visibles dans le manifeste et le tableau de bord, car elles sont d√©finies par PID 1 (le processus de conteneur principal) au d√©marrage.  Ce ne sont pas des variables d'environnement de deployment.yaml, mais des variables d'environnement d√©finies par point d'entr√©e dans le processus.  Ils ne sont pas visibles dans le tableau de bord, ils ne sont pas visibles, m√™me si vous faites ex√©cuter kubectl dans un conteneur, car dans ce cas un autre processus est lanc√©, parall√®le √† PID1. <br><br><h3>  Workflow <br></h3><br>  D'un point de vue organisationnel, le processus est le suivant.  Le d√©veloppeur apprend du champion de la s√©curit√© ou de la documentation qu'il ne doit pas garder de secrets dans le r√©f√©rentiel, mais uniquement dans Vault.  Puis il vient vers nous et demande o√π mettre les secrets - il soumet une demande √† la s√©curit√© pour √©tablir un pr√©fixe.  √Ä l'avenir, vous pouvez cr√©er un pr√©fixe sans demande, imm√©diatement lors de la cr√©ation d'un service. <br><br>  Le d√©veloppeur attend, et c'est mauvais, car  l'essentiel pour lui est le time-to-market.  Puis il lit les instructions, traite les longs fichiers - "ins√©rez cette ligne l√†, ins√©rez cette ligne ici".  Un d√©veloppeur n'a jamais d√©marr√© de conteneur d'initialisation auparavant, mais il est oblig√© de le d√©couvrir et de l'enregistrer dans deployment.yaml (graphique de barre). <br><br> <code>Commit -&gt; deploy -&gt; feel pain -&gt; fix -&gt; repeat</code> <br> <br>  Il s'engage, attend que TeamCity se d√©ploie, voit des erreurs dans TeamCity, commence √† ressentir de la douleur, essaie de r√©parer quelque chose, √©prouve √† nouveau de la douleur.  De plus, il est superpos√© que chaque d√©ploiement dans TeamCity puisse toujours √™tre mis en file d'attente.  Parfois, un d√©veloppeur ne peut pas le comprendre lui-m√™me, vient √† nous et nous le trions ensemble. <br><br>  Fondamentalement, le d√©veloppeur souffre de ses propres erreurs: <strong>init-container mal sp√©cifi√© ou n'a pas lu la documentation</strong> . <br><br>  La s√©curit√© a √©galement des probl√®mes.  Le gardien de s√©curit√© re√ßoit une application dans laquelle il y a toujours peu d'informations, et nous trouvons toujours les questions manquantes: trouver les noms des clusters, l'espace de noms du service, car le d√©veloppeur ne les indique pas dans l'application et ne sait m√™me pas toujours ce que c'est.  Lorsque nous d√©couvrons tout, cr√©ons des strat√©gies et des r√¥les dans Vault, prescrivons des strat√©gies aux groupes, et avec le d√©veloppeur, nous commen√ßons √† d√©couvrir o√π et pourquoi il a fait une erreur, et ensemble nous lisons les journaux. <br><br>  L'unit√© ¬´Architecture¬ª permet de r√©soudre le probl√®me en se cachant du d√©veloppeur deployment.yaml.  Ils d√©veloppent une pi√®ce qui g√©n√®re tout pour le d√©veloppeur, y compris le point d'entr√©e.  √âtant donn√© que nous substituons notre point d'entr√©e, nous pouvons l'utiliser non seulement pour livrer des secrets, mais aussi pour d'autres choses que vous devrez peut-√™tre faire au d√©marrage. <br><br><h3>  Probl√®mes √©vidents avec les secrets de Kubernetes. <br></h3><br><ul><li>  <strong>Flux de travail tr√®s compliqu√©</strong> pour le d√©veloppeur et le gardien de s√©curit√©. </li><li>  <strong>Vous ne pouvez rien d√©l√©guer √† personne.</strong>  Le gardien de s√©curit√© a un acc√®s complet au coffre-fort et un acc√®s partiel n'est pas possible (voir Big Flaw # 1). </li><li>  Des difficult√©s surviennent lors du d√©placement des d√©veloppeurs d'un cluster √† un autre, d'un espace de noms √† un espace de noms, lorsque des secrets partag√©s sont n√©cessaires, car il est initialement suppos√© que diff√©rents secrets sont diff√©rents dans diff√©rents clusters. </li></ul><br>  Nous disons: ¬´Pourquoi avez-vous besoin de secrets de production dans le cluster de d√©veloppement?  Obtenez un secret de test, allez-y! "  En cons√©quence, il y a des <strong>mines</strong> <strong>et des secrets</strong> difficiles √† g√©rer.  Si le secret a chang√©, vous ne devez pas l'oublier, aller le changer partout, et bien qu'il n'y ait aucun moyen de d√©terminer qu'il s'agit du m√™me secret, sauf par le nom du service. <br><br><h3>  Id√©e: Kubernetes KMS <br></h3><br>  Dans les nouvelles versions de Kubernetes, le sous-syst√®me KMS, Key Management Service, est une nouvelle fonctionnalit√© de chiffrement secret de Kubernetes.  En v1.11, il √©tait en √©tat alpha, en v1.12, il a √©t√© transf√©r√© en version b√™ta. <br><img src="https://habrastorage.org/webt/yq/nw/i9/yqnwi9a_t6atxpxdu_qrtu0qz80.png"><br>  <em>L'image provient du site de projet du fournisseur KMS pour Vault et contient une erreur.</em>  <em>Si vous trouvez - √©crivez dans les commentaires.</em> <br><br>  Le sens de KMS est d'√©liminer un seul inconv√©nient - le stockage de donn√©es non crypt√©es dans etcd. <br><br>  KMS, comme Ansible, peut le faire. <br><br><ul><li>  Allez quelque part, cryptez le secret natif de Kubernetes et mettez-le sous forme crypt√©e. </li><li>  Si n√©cessaire, livrez au pod, d√©chiffrez et mettez sous forme d√©chiffr√©e. </li></ul><br>  Les d√©veloppeurs ont √©crit un service sp√©cial qui le fait en utilisant le cryptage de transit.  L'id√©e semble fonctionner, mais il est important de se rappeler que les secrets cessent d'√™tre uniquement sous le contr√¥le de Vault et vont ailleurs, dans le domaine de responsabilit√© des administrateurs de Kubernetes. <br><br>  Contre KMS. <br><br><ul><li>  <strong>D√©centralisation du stockage</strong> - <strong>Transfert de Vault √† Kubernetes (etcd)</strong> .  Les secrets deviennent incontr√¥lables par Vault, et c'est un bon d√©p√¥t centralis√© de secrets.  Il s'av√®re que la moiti√© des secrets de Vault et la moiti√© ailleurs. </li><li>  <strong>Solution r√©serv√©e √† Kubernetes</strong> .  Si vous avez une infrastructure r√©serv√©e √† Kubernetes, vous choisissez Vault et vous ne pensez presque pas √† ce qui y est stock√©, car  il ne contient que les cl√©s de chiffrement que vous g√©rez correctement - tournez r√©guli√®rement, etc ... Les secrets eux-m√™mes sont dans Kubernetes, et c'est pratique. </li><li>  <strong>Il est difficile de partager des secrets entre les clusters</strong> .  Pour chaque nouveau cluster, vous devez tout recommencer, la copie des secrets comme dans le cas d'un seul coffre-fort peut ne pas fonctionner. </li></ul><br>  Avantages de KMS. <br><br><ul><li>  <strong>Prise en charge native</strong> dans Kubernetes, y compris le masquage lors de l'affichage de l'environnement. </li><li>  <strong>Autorisation dans le domaine de responsabilit√© de Kubernetes</strong> . </li><li>  <strong>Pratiquement aucun support Vault n'est requis</strong> . </li><li>  <strong>Rotation des cl√©s hors de la bo√Æte</strong> . </li></ul><br><h2>  CI / CD: TeamCity <br></h2><br>  Tout est simple dans TeamCity, car JetBrains a √©crit un plug-in qui lui-m√™me peut prescrire des secrets pour acc√©der au secret, les chiffrer avec TeamCity, puis le remplacer dans le mod√®le quelque part en tant que param√®tre en pourcentage.  √Ä ce moment, l'agent TeamCity lui-m√™me se rend dans Vault, prend le secret et l'apporte √† la build comme param√®tre. <br><br>  Certains secrets sont n√©cessaires lors du d√©ploiement, par exemple, la migration de la base de donn√©es ou des alertes dans Slack.  AppRole est d√©marr√© pour chaque projet - les param√®tres contiennent √©galement un secret (donn√©es pour AppRole), mais il est entr√© en mode √©criture seule - TeamCity ne permet pas de le lire plus tard. <br><br>  TeamCity s'assure que lorsqu'un secret entre dans les journaux de build, il se d√©guise automatiquement.  Par cons√©quent, le secret ne ¬´passe¬ª pas du tout sur le disque ou est effac√© du disque √† l'aide de TeamCity.  En cons√©quence, toute la s√©curit√© du secret est bien assur√©e par TeamCity lui-m√™me et le plugin, et des danses suppl√©mentaires avec un tambourin ne sont pas n√©cessaires <br><br><h3>  CI / CD n'est pas TeamCity? <br></h3><br>  Ce sont les principaux probl√®mes √† consid√©rer si vous utilisez un syst√®me diff√©rent (pas TeamCity) comme CI. <br><br><ul><li>  Isolement: limiter la port√©e d'un secret √† un projet, une √©quipe, etc. </li><li>  Qui autorise l'acc√®s au secret. </li><li>  Exclure la possibilit√© de consulter le secret de la partie autorisante. </li><li>  Une √©tape distincte de la construction consiste √† importer le secret dans des fichiers. </li><li>  Nettoyez-vous apr√®s vous-m√™me. </li></ul><br>  En cons√©quence, vous allez probablement √©crire quelque chose de tr√®s similaire au plugin TeamCity pour votre CI / CD.  La partie autoris√©e ici sera tr√®s probablement CI / CD, et ce sera elle qui d√©cidera si cette version peut avoir acc√®s √† ce secret, et si elle doit ou non donner le secret lui-m√™me en fonction des r√©sultats. <br><br>  Il est important de ne pas oublier de <strong>nettoyer les r√©sultats de construction √† la fin de l'assemblage</strong> , s'ils ont √©t√© dispos√©s sur un disque, ou de s'assurer qu'ils ne sont qu'en m√©moire. <br><br><h2>  Certifications <br></h2><br>  Il n'y a rien de sp√©cial avec les certificats - nous utilisons Vault principalement pour leur stockage. <br><img src="https://habrastorage.org/webt/ix/ye/4j/ixye4jru2blznsbq2jxmljomqi8.png"><br><br>  Vault dispose d'un backend PKI sp√©cial pour l'√©mission de certificats, dans lequel vous pouvez cr√©er une autorit√© de certification et signer de nouveaux certificats.  Nous avons une PKI interne unique ... L'autorit√© de certification racine et l'autorit√© de certification de deuxi√®me niveau existent s√©par√©ment, et nous g√©rons d√©j√† l'autorit√© de certification de troisi√®me niveau via Vault.  Pour stocker les certificats √©mis de tout niveau, y compris les certificats sign√©s par des autorit√©s de certification externes, nous utilisons un pr√©fixe distinct et y mettons presque tous les certificats valides √† des fins de comptabilit√© et de surveillance.  Le format de stockage des certificats est propri√©taire, adapt√© au stockage d'une cl√© priv√©e distincte et du certificat lui-m√™me. <br><br><h2>  R√©sum√© <br></h2><br>  <strong>Trop de travail manuel</strong> pour le gardien de s√©curit√©, <strong>trop de seuil d'entr√©e pour le d√©veloppeur</strong> et pas d'outils de d√©l√©gation int√©gr√©s, bien que je veuille vraiment ... <br><br>  Comment √™tre  Alors les r√™ves commencent. <br><br><h2>  Id√©es: comment faire mieux <br></h2><br>  Comment puis-je me d√©barrasser d'un tas de copies d'un secret? <br><br><h3>  Livraison ma√Ætre-esclave <br></h3><br>  Nous avons un ma√Ætre secret et un d√©mon sp√©cial qui se prom√®ne, regarde le secret et ses m√©tadonn√©es, le met l√† o√π c'est n√©cessaire, il se r√©v√®le √™tre un secret d'esclave.  Sur le chemin o√π le d√©mon a post√© l'esclave, rien ne peut √™tre chang√© √† la main, car le d√©mon viendra et remettra le secret ma√Ætre sur l'esclave. <br><br>  Au d√©but, nous voulions cr√©er un m√©canisme de lien symbolique pour simplement indiquer: ¬´Cherchez ce secret l√†-bas!¬ª, Comme sous Linux.  Il s'est av√©r√© qu'il y avait des probl√®mes avec les droits d'acc√®s: on ne sait pas comment v√©rifier les droits d'acc√®s - comme sur Linux ou non, avec les chemins parent, avec les transitions entre les points de montage.  Il y a trop de moments ambigus et de chances de faire une erreur, nous avons donc refus√© les liens symboliques. <br><br><h3>  Autorisation de propri√©t√© <br></h3><br>  La deuxi√®me chose que nous voulons faire est de <strong>d√©terminer le propri√©taire de chaque secret</strong> .  Par d√©faut, le secret appartient √† la personne qui l'a cr√©√©.  Si n√©cessaire, vous pouvez √©tendre la zone de responsabilit√© √† l'unit√© en √©mettant un groupe de propri√©taires. <br><br>  Lorsque nous apprendrons √† d√©l√©guer, nous donnerons au propri√©taire le droit √† un secret, et il pourra faire avec le secret ce qu'il veut. <br><br><ul><li>  Propagation en k8s - une politique est g√©n√©r√©e, une copie esclave est cr√©√©e. </li><li>  R√©parties sur le serveur - une politique est g√©n√©r√©e, une copie esclave est cr√©√©e. </li><li>  Propagation en CI / CD - ... </li><li>  Transfert √† un autre propri√©taire. </li><li>  Donnez un nouvel acc√®s, g√©n√©rez de nouvelles ACL. </li></ul><br>  Maintenant, nous sommes responsables de tous les secrets et de la s√©curit√©, mais nous voulons transf√©rer la responsabilit√© au cr√©ateur.  <strong>La s√©curit√© ne sera pas affect√©e</strong> , car la personne qui nous a demand√© de garder un secret comprend qu'elle doit garder un secret en toute s√©curit√© et est consciente de sa responsabilit√©. <br><br>  Puisqu'il est le propri√©taire du secret, pour l'option de livraison ma√Ætre-esclave, il pourrait choisir o√π et dans quel format le secret devrait lui √™tre livr√©.  Il s'av√®re que le propri√©taire g√®re tout lui-m√™me, il n'est pas n√©cessaire de soumettre des demandes, vous pouvez prendre le pr√©fixe n√©cessaire vous-m√™me, vous pouvez √©galement cr√©er et supprimer des secrets vous-m√™me. <br><br><h3>  D√©l√©gation via des mod√®les ACL <br></h3><br>  La strat√©gie d'acc√®s √† la liste de contr√¥le d'acc√®s dans Vault est divis√©e en deux parties: <br><br><ul><li>  Liste de contr√¥le d'acc√®s dans la vue classique, qui d√©crit l'acc√®s au pr√©fixe, la mani√®re de lire et d'√©crire, la lecture uniquement, etc. </li><li>  Lors de la cr√©ation d'une ACL √† l'int√©rieur, vous pouvez √©crire un ast√©risque √† la fin, ce qui signifie "ce pr√©fixe et tout ce qui se trouve en dessous".  Le pr√©fixe peut √™tre attribu√© en tant qu'op√©ration distincte, attribu√© √† l'utilisateur ou au groupe, c'est-√†-dire attach√© √† plusieurs entit√©s diff√©rentes. </li></ul><br>  √Ä l'heure actuelle, seul l'administrateur Vault peut modifier la liste de contr√¥le d'acc√®s.  Apr√®s avoir acc√©d√© √† une telle ACL, vous pouvez prescrire tout ce que vous voulez √† l'int√©rieur, par exemple, le <code>path ‚Äú*‚Äù { capabilities = [sudo, ...] }</code> , et obtenir un acc√®s complet.  C'est l'essence de <strong>Biggest Flaw</strong> # 1 - <strong>il est impossible d'interdire de modifier le</strong> <strong>contenu de l'ACL.</strong> <br><br>  Nous voulons d√©finir les ACL avec un mod√®le pr√™t √† l'emploi qui contient le chemin d'acc√®s et les espaces r√©serv√©s sur lesquels il est autoris√© √† g√©n√©rer de nouvelles ACL pour ce mod√®le. <br><br><h4>  Exemple <br></h4><br>  Vous trouverez ci-dessous la police jaune, le chemin d'acc√®s de l'ACL standard termin√©e de Vault et les actions autoris√©es sur ce chemin.  Nous le consid√©rons comme une ACL pour l'autorisation de changer une autre ACL ci-dessous, qui est donn√©e sous la forme d'un mod√®le. <br><img src="https://habrastorage.org/webt/ew/xe/jc/ewxejc20z7xa7dqg-o8yxwaesxk.png"><br><br>  Nous voulons d√©l√©guer l'acc√®s √† / k8s, nous autorisons uniquement la g√©n√©ration de tels mod√®les.  Par exemple, accordez un acc√®s en lecture seule √† un cluster, un espace de noms, un service sp√©cifique, mais ne modifiez pas le champ des capacit√©s. <br><img src="https://habrastorage.org/webt/ew/xe/jc/ewxejc20z7xa7dqg-o8yxwaesxk.png"><br><br>  De plus, nous voulons donner la permission de lier ces ACL et √©mettre diff√©rents droits. <br><br>  Nous avons appliqu√© le mod√®le pour accorder des droits au d√©veloppeur.  Lors de la cr√©ation de mod√®les, il a ex√©cut√© la commande <code>$ vault write policy-mgr/create/k8s-microservice ...</code>  Et en cons√©quence, nous avons obtenu une ACL qui indique cluster = prod, namespace = ..., service = ... etc.  Les droits ont √©t√© d√©finis automatiquement, une strat√©gie a √©t√© cr√©√©e avec le nom <code>/k8s/some-srv</code> - ce n'est que le nom ACL qui peut √™tre g√©n√©r√© √† partir du mod√®le. <br><img src="https://habrastorage.org/webt/ro/ih/ur/roihurfk7gxhvrv-hjpik6lctxc.png"><br><br>  En cons√©quence, le d√©veloppeur, √† notre discr√©tion, attribue cette ACL √† toute personne qui veut, et devient le propri√©taire lui-m√™me, peut le g√©rer en secret: supprimer, donner et retirer aux utilisateurs et aux groupes.  Maintenant, la personne elle-m√™me est responsable de son pr√©fixe: elle g√®re tous les secrets, g√©n√®re des ACL selon le mod√®le, peut attribuer des ACL √† ceux qu'il veut.  Naturellement, nous pouvons aussi le limiter. <br><br>  Toute la magie fonctionne avec la nouvelle entit√© Vault - <strong>plugins</strong> .  Il s'agit d'un service distinct, tr√®s similaire √† celui que j'ai mentionn√© au d√©but, et fonctionne presque exactement de la m√™me mani√®re.  La seule diff√©rence importante est qu'ils ne sont pas des mandataires.  Les plugins sont lanc√©s ¬´du c√¥t√©¬ª de Vault, et il lance leur principal processus Vault.  Pour cette raison, toutes les demandes ne passent pas par le service, mais √† Vault, qui lui-m√™me interagit d√©j√† avec le plug-in, lui envoyant une demande v√©rifi√©e et effac√©e. <br><br>  √Ä propos des plugins, comment ils sont organis√©s et comment les √©crire, vous pouvez les lire <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur le site Web de Vault</a> .  Il est pr√©f√©rable de les √©crire sur Go, ce qui est assez simple, car  Il existe un cadre pour Go.  Vault communique avec le plugin via grpc, le lance en tant que service, mais n'ayez pas peur, vous ne le touchez pas - tout est d√©j√† dans le cadre.  Vous venez d'√©crire une application REST plus ou moins standard dans laquelle vous sp√©cifiez des points de terminaison, leur donnez des fonctions pr√™tes √† l'emploi, des gestionnaires qui auront une logique sur eux. <br><br>  N'ayez pas peur de casser quelque chose dans le coffre-fort principal.  Un plugin est un service distinct.  M√™me si votre plugin a paniqu√© et s'est √©cras√©, il ne cassera pas le travail de Vault.  Vault red√©marrera simplement le plugin et continuera de fonctionner. <br><br>  De plus, il existe des param√®tres suppl√©mentaires pour le plugin lui-m√™me: il v√©rifie toujours les sommes de hachage afin que personne ne modifie le binaire.  <strong>La s√©curit√© des plugins en cours d'ex√©cution est assur√©e</strong> . <br><br><h2>  Liens utiles: </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">www.vaultproject.io</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">github.com/jovandeginste/hiera-router</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">github.com/jsok/hiera-vault</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">www.owasp.org/index.php/Security_Champions</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">blog.jetbrains.com/teamcity/2017/09/vault</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">github.com/oracle/kubernetes-vault-kms-plugin</a> </li></ul><br><blockquote>  Nous parlerons de DevOps et de la s√©curit√©, CI / CD, k8s, Puppet et tout cela dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">HighLoad ++</a> (le plus proche de Saint-P√©tersbourg en avril) et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DevOpsConf</a> .  Venez partager votre exp√©rience ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">regarder les</a> autres.  Afin de ne pas oublier, abonnez-vous au blog et √† la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">newsletter</a> , dans lesquels nous vous rappellerons les dates limites et collecterons du mat√©riel utile. <br></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr438740/">https://habr.com/ru/post/fr438740/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr438726/index.html">Y Combinator: comment fermer une entreprise</a></li>
<li><a href="../fr438730/index.html">HomoLudens: Joyeux anniversaire, Sid Meyer (+ tous les articles en russe)</a></li>
<li><a href="../fr438732/index.html">Mesures de radioamateur: analyse du signal du bus I2C</a></li>
<li><a href="../fr438734/index.html">Enchev√™trement de personnes partageant les m√™mes id√©es</a></li>
<li><a href="../fr438736/index.html">DevDay for Managers: g√©rer l'informatique</a></li>
<li><a href="../fr438746/index.html">En route vers les principes physiques de l'√©volution biologique. Continuation</a></li>
<li><a href="../fr438748/index.html">L'infrastructure comme code, nous gagnons √† l'√©chelle (Kirill Vetchinkin, TYME)</a></li>
<li><a href="../fr438750/index.html">Civilisation des ressorts, 4/5</a></li>
<li><a href="../fr438752/index.html">Comptabilit√© directement √† la banque: comment rendre les entrepreneurs individuels heureux</a></li>
<li><a href="../fr438754/index.html">Comment nous avons effectu√© la surveillance du r√©seau pour 14 000 objets</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>