<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôçüèø üë∂üèª ü§∞üèª Marcher √† travers les fant√¥mes dans Pac-Man üï∫üèº üë©üèæ‚Äçü§ù‚Äçüë©üèΩ üòâ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cet article est un fragment de mon livre Bug Voyage: A Tour of Classic Game Glitches. Le livre contient √©galement des informations sur la g√©n√©ration d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Marcher √† travers les fant√¥mes dans Pac-Man</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/403115/"> <em>Cet article est un fragment de mon livre Bug Voyage: A Tour of Classic Game Glitches.</em>  <em>Le livre contient √©galement des informations sur la g√©n√©ration de nombres pseudo-al√©atoires, la r√©alisation de calculs de bas niveau avec des nombres binaires et d√©cimaux, ainsi que sur la fa√ßon de provoquer une d√©faillance dans n'importe quelle machine Galaga, sans m√™me y d√©poser de pi√®ces.</em> <br><br>  Si vous avez Pac-Man Arcade Machine pr√®s de chez vous, Mme  Pac-Man ou quelque chose comme √ßa, vous avez de la chance, aujourd'hui ils sont rares.  M√™me les machines tr√®s courantes de ¬´R√©union de 20 ans¬ª dans le pass√©, dans lesquelles Mme sont install√©es ensemble  Pac-Man et Galaga sont maintenant moins courants. <br><br>  Mais pour comprendre ce qui sera discut√©, il suffit de t√©l√©charger une vid√©o de YouTube sur l'un de ces jeux et de la regarder en une minute: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/0LTUHRgzCS8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  L'avez-vous remarqu√©.  Comment Pac-Man et les fant√¥mes se d√©placent-ils en douceur dans le labyrinthe?  Ils glissent avec confiance et clart√©. <br><br>  Cette fluidit√©, nous le verrons, est une illusion, et ce n'est pas tout.  Voici une autre vid√©o YouTube: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/VbzW6iNDx9U" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Il est t√©l√©charg√© par Jamey Pittman, l'auteur de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><em>l'</em></a> article du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><em>dossier Pac-Man</em></a> , qui a √©t√© la source d'une grande partie des informations Pac-Man pour mon livre.  La vid√©o a √©t√© un peu rembobin√©e pour vous faire gagner du temps.  Jetez-y un ≈ìil.  En particulier, gardez un ≈ìil sur Pac-Man et le fant√¥me rouge (le manuel dit que son nom est Blinky).  Remarquez ce qui se passe vers la quaranti√®me seconde! <br><a name="habracut"></a><br>  Vous avez vu?  Pac-Man a travers√© un fant√¥me rouge sans probl√®me!  Comment est-ce arriv√©?  Est-il possible de s'assurer que cela se produit tout le temps? <br><br>  Calme-toi, maintenant je vais tout expliquer, et oui, c'est un comportement constant.  Si vous suivez exactement les instructions de Pittman au premier niveau, cela se produira toujours. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/84c/c16/fba/84cc16fba84cd8cebb0ed65f21cc405a.png"><br>  <em>Pac-man</em> <br><br><h2>  Qu'est-ce qu'un sprite? </h2><br>  Une partie de l'√©quipement graphique en deux dimensions utilisait des objets graphiques sp√©ciaux dans des jeux appel√©s sprites.  Vous avez probablement entendu ce terme dans les conversations modernes sur les graphismes en pixels des personnages. <br><br>  Mais auparavant, le sens du terme √©tait diff√©rent: il d√©signait un objet graphique se d√©pla√ßant ind√©pendamment qui pouvait √™tre plac√© n'importe o√π sur l'√©cran, ou au-dessus du reste des graphiques, appel√© l'arri√®re-plan, ou en dessous.  Le sprite re√ßoit les coordonn√©es X et Y, l'image et sa couleur.  Souvent, ils ont √©t√© utilis√©s pour les personnages du jeu, mais √©galement utilis√©s comme ajouts √† l'arri√®re-plan et √† d'autres fins. <br><br>  La plupart des syst√®mes prennent en charge plusieurs ou (dans le cas de Galaga) de nombreux sprites.  Ils avaient d'autres noms: Atari les a d'abord appel√©s ¬´Player-Missile Graphics¬ª, et dans les premiers documents de Commodore, ils √©taient appel√©s ¬´Movable Object Blocks¬ª (MOB).  Cependant, peu √† peu, tout le monde a commenc√© √† les appeler sprites. <br><br>  Machine d'arcade d'√©quipement Pac-Man prend en charge les graphiques de sprite.  Il peut afficher sur l'√©cran jusqu'√† huit sprites √† la fois, et cela sans utiliser d'astuces avec des lignes de balayage.  L'un des sprites est l'image de Pac-Man lui-m√™me, et quatre autres sont utilis√©s par des fant√¥mes.  Lorsque Pac-Man mange le fant√¥me, ses yeux rentrant √† la maison utilisent le sprite fant√¥me. <br><br>  Tout ce qui change √† l'√©cran n'est pas un sprite.  Un autre type de graphisme utilis√© par l'√©quipement de l'√©poque est le <em>fond de</em> tuile.  Ce n'√©tait qu'une grille d'√©l√©ments graphiques individuels stock√©s en m√©moire.  Lorsque vous modifiez le contenu d'un morceau de m√©moire, une petite partie de l'√©cran correspondant √† cette partie de la grille change √©galement imm√©diatement.  Par cons√©quent, travailler avec ces grilles est simple. <br><br>  Les points du jeu Pac-Man sont des tuiles (tuiles) de l'arri√®re-plan, effac√©es lorsque Pac-Man les mange.  Le scintillement de l'Energizer, qui donne de la force √† Pac-Man, se fait en colorant ces cellules en noir puis en blanc toutes les quelques images.  Mais ces objets ne bougent pas, ils ne peuvent √™tre retir√©s ou remplac√©s. <br><br>  Le probl√®me avec les graphiques de tuiles de caract√®res est qu'ils ne peuvent pas se d√©placer en douceur.  Il est situ√© sur la grille, de sorte qu'un objet d'arri√®re-plan en mouvement ne pourra pas se d√©placer facilement sur l'√©cran, comme le font Pac-Man et les fant√¥mes.  Il ne peut se d√©placer qu'entre les cellules de la grille.  Il est impossible de d√©placer une partie de l'espace de la grille, elle est l√† ou elle ne l'est pas. <br><br>  Eh bien oui, c'est int√©ressant.  Mais alors quoi? <br><br><h2>  Les bases du monde Pac-Man </h2><br>  Enfant, j'ai √©crit de petits jeux sur Microsoft BASIC pour mon Commodore 64. Cette impl√©mentation de BASIC a eu des probl√®mes.  Les programmes √©taient ex√©cut√©s lentement et n'utilisaient presque jamais les ressources sonores et graphiques de l'ordinateur, ce qui √©tait incroyable pour leur √©poque.  Si vous vouliez faire quelque chose avec les graphiques et le son, vous deviez apprendre les commandes techniques d'acc√®s direct √† la m√©moire cryptiques appel√©es POKE, ou apprendre √† √©crire en code machine. <br><br>  Une solution consistait √† utiliser des objets de caract√®re au lieu de graphiques syst√®me sprite, comme je l'ai d√©crit ci-dessus.  Les objets faisaient des sauts de la taille d'une tuile, mais c'√©tait beaucoup plus facile de travailler avec.  Il √©tait possible de commencer √† cr√©er un jeu en utilisant des graphismes de personnages, puis, lorsque le projet est devenu d√©j√† grand et s√©rieux, et j'ai voulu le montrer aux gens, passer √† l'utilisation de sprites mat√©riels. <br><br>  Un objet en m√©moire pouvait toujours sauter dans le m√™me incr√©ment de huit pixels, mais le joueur ne l'a pas vu.  Tout ce qu'il a vu √©tait une image de sprite vacillante qui pourrait √™tre plus grande que la tuile de personnage et cacher ce qui se passait r√©ellement.  En approchant judicieusement la programmation, il a √©t√© possible d'interpoler la position du sprite pour que son mouvement paraisse plus fluide.  Si vous l'avez assez bien fait, le joueur n'a jamais remarqu√© la diff√©rence.  Vous seul savez la v√©rit√©. <br><br>  Vous devez avoir devin√© √† quoi je m√®ne.  Parce que <em>c'est ainsi que Pac-Man a √©t√© programm√©</em> . <br><br>  En fait, Pac-Man et les fant√¥mes avaient chacun deux positions.  Il s'agit de la position des graphiques de sprites qui se d√©placent en douceur sur l'√©cran que le joueur voit.  Ces informations sont donn√©es au joueur lorsqu'il joue au jeu, mais ce n'est qu'une ombre, une illusion.  Si vous voulez comprendre comment Pac-Man fonctionne r√©ellement, vous devez regarder plus en profondeur. <br><br>  Dans les coulisses du jeu, Pac-Man prend √©galement en compte les cellules de personnage occup√©es par Pac-Man et les fant√¥mes.  Il n'y a aucune trace de ces coordonn√©es sur l'√©cran.  Je soup√ßonne que dans les premiers stades de Pac-Man, lors de l'exp√©rimentation du gameplay, les d√©veloppeurs pouvaient dessiner des tuiles directement sur l'√©cran.  Jamie Pittman a d√©couvert que ces coordonn√©es sont utilis√©es pour l'intelligence artificielle de tous les fant√¥mes, et elles sont √©galement utilis√©es pour reconna√Ætre toutes les collisions dans le jeu. <br><br>  Pour maintenir cette illusion, le jeu doit passer √† des tours.  Elle suit √† quelle distance Pac-Man et les fant√¥mes se sont d√©plac√©s de leur cellule actuelle au niveau de l'abonn√©, et les place dans une nouvelle position lorsqu'ils sont suffisamment √©loign√©s.  Un objet l√©g√®rement plus rapide aura une vitesse qui rend les cellules changeantes un peu plus souvent. <br><br>  Ces √©l√©ments - coordonn√©es de la grille, suivi entre les cellules et la position du sprite sur l'√©cran - cr√©ent l'illusion d'un mouvement fluide.  Mais du point de vue du jeu, le mouvement est effectu√© exactement de la m√™me mani√®re que dans mon cas lorsque j'ai programm√© les graphiques cellulaires des personnages sur Commodore 64. <br><br><h2>  Reckoning </h2><br>  Nous avons maintenant toutes les informations dont vous avez besoin pour comprendre comment Pac-Man peut traverser les fant√¥mes. <br><br>  Les collisions de Pac-Man sont reconnues en comparant ses coordonn√©es de grille avec les coordonn√©es de fant√¥mes.  S'ils sont identiques, alors une collision se produit et l'un mange l'autre.  S'ils sont diff√©rents, il n'y a pas de collision.  C'est tout, ni plus, ni moins. <br><br>  Vous pouvez voir que la raison de cette d√©cision est la vitesse de reconnaissance des collisions dans les cycles du processeur.  √Ä chaque image, il compare les nombres X et Y d'un personnage Pac-Man avec les nombres de chacun des quatre fant√¥mes.  Gr√¢ce √† cela, il n'a pas √† se soucier des distances et des situations √† risques.  Les collisions sont des correspondances exactes de coordonn√©es dans le syst√®me de grille. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/63b/745/f6e/63b745f6eba1e94d8b8598b971d7e610.png"><br>  <em>Cette grille correspond (approximativement) au syst√®me de coordonn√©es de tuile repr√©sentant les positions r√©elles des personnages du jeu.</em>  <em>La d√©tection de collision utilise cette grille.</em>  <em>Le jeu enregistre une collision uniquement lorsque les coordonn√©es des tuiles des deux personnages co√Øncident.</em>  <em>Cela signifie qu'ils doivent occuper une cellule de grille.</em> <br><br>  Le probl√®me se produit lorsque les positions de Pac-Man et du fant√¥me se d√©pla√ßant l'un vers l'autre passent √† la cellule suivante dans la m√™me image.  La v√©rification des collisions est effectu√©e une fois que tous les objets se sont d√©plac√©s dans l'image actuelle.  Si Pac-Man passe √† la cellule Blinky et que Blinky passe √† la cellule Pac-Man pr√©c√©dente dans la m√™me trame, une erreur se produit lorsqu'une collision est d√©tect√©e.  Ils ont chang√© de place! <br><br>  Puisque c'est le seul niveau de r√©alit√© qui signifie vraiment quelque chose dans le jeu, ce que le joueur <em>voit n'est</em> pas important.  Pac-Man et le fant√¥me passent juste √† travers, "divergent comme des navires dans la mer." <br><br>  L'intelligence artificielle (IA) dans le jeu a une nature d√©terministe, vous pouvez donc identifier un mod√®le de r√©p√©tition du comportement.  Malgr√© le fait que le temps de manifestation d'une erreur de passage doit √™tre pr√©cis pour l'image, le <em>joueur</em> n'a pas √† √™tre pr√©cis pour l'image s'il suit les r√®gles d'ex√©cution des mod√®les de mouvement Pac-Man.  C'est ainsi que la vid√©o de Jamie Pittman a √©t√© enregistr√©e. <br><br>  J'ai donn√© une description si d√©taill√©e pour souligner un fait important.  Il est tr√®s facile de percevoir les objets du jeu comme r√©els.  Pac-Man est <em>un</em> tel <em>objet</em> √† l'√©cran, les fant√¥mes sont aussi des objets comme un vaisseau spatial, Mario, Sonic, Solid Snake, un soldat de Call of Duty.  Tous sont des objets.  Mais c'est une illusion. <br><br>  En fait, ils vous donnent tous un aper√ßu d'un syst√®me interne plus profond.  Dans ce syst√®me, l'ordinateur doit faire un travail s√©rieux juste pour d√©terminer que deux objets <em>se touchent</em> .  Ce que vous voyez √† l'√©cran est une illustration du monde abstrait, et une partie du jeu transmet au joueur des informations de ce monde √† travers l'√©cran d'une mani√®re appropri√©e √† son sens de la r√©alit√©. <br><br>  Il est tr√®s facile d'oublier √† quel point cette connexion est mince.  Comment savez-vous quel objet vous contr√¥lez √† l'√©cran?  Il est diff√©rent des autres et r√©pond √† la gestion.  Mais que se passe-t-il si la m√™me chose appara√Æt √† l'√©cran?  Ou votre objet se d√©placera-t-il parfois de mani√®re al√©atoire, r√©pondra aux signaux de contr√¥le avec un retard, se transformera parfois en invisibilit√©, divis√© en deux, deviendra comme l'un des ennemis? <br><br>  La t√¢che du concepteur est de rendre la connexion entre le monde int√©rieur du jeu et ce que vous voyez √† l'√©cran aussi simple et imm√©diate que possible (bien s√ªr, s'il n'essaie pas d'obtenir un effet sp√©cial).  C'est ce que signifie ou devrait signifier l' <em>immersion</em> . <br><br><h2>  Information additionnelle </h2><br>  Ins√©rez une pi√®ce dans la borne d'arcade ¬´R√©union de 20 ans¬ª et entrez avec le joystick du premier joueur: haut, haut, haut, bas, bas, bas, gauche, droite, gauche, droite, gauche.  Si le fant√¥me sur l'√©cran Game Select devient rose et que vous entendez un son, alors tout est fait correctement.  Maintenant, si vous choisissez le jeu Mme  Pac-Man, alors vous jouerez le Pac-Man original √† la place. <br><br>  Sur certains mat√©riels graphiques, vous pouvez utiliser des astuces avec des lignes de balayage pour cr√©er une magie puissante.  Par exemple, dans un syst√®me qui ne peut afficher que huit images-objets, il est possible d'en faire plus, mais au prix du temps processeur et d'une flexibilit√© r√©duite. <br><br>  √Ä cet √©gard, la console Atari VCS / 2600 est la plus remarquable, car la plupart des graphiques du syst√®me ont √©t√© cr√©√©s √† l'aide d'astuces avec des lignes de balayage.  En savoir plus sur ces techniques dans le livre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><em>Racing The Beam</em></a> . <br><br>  <em>Sources:</em> <em><br></em>  <em>Dossier sur Pac-Man: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">http://www.gamasutra.com/view/feature/3938/the_pacman_dossier.php?print=1</a></em> <em><br></em>  <em>Cha√Æne YouTube de Jamie Pittman: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://www.youtube.com/user/jameypittman/videos</a></em> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr403115/">https://habr.com/ru/post/fr403115/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr403101/index.html">√âl√©ments √† prendre en compte lors du choix d'une alimentation sans coupure</a></li>
<li><a href="../fr403105/index.html">Les chargeurs Rombica fournissent l'√©nergie de tout, des ordinateurs portables aux h√©licopt√®res</a></li>
<li><a href="../fr403107/index.html">7 applications mobiles de Russie, apparues gr√¢ce au crowdfunding</a></li>
<li><a href="../fr403109/index.html">Un script a √©t√© d√©velopp√© pour voler un code PIN via un navigateur de smartphone</a></li>
<li><a href="../fr403113/index.html">Processeurs Intel Xeon, gamme printemps-√©t√© 2017</a></li>
<li><a href="../fr403117/index.html">Pr√©sentation de l'impression 3D ESUN</a></li>
<li><a href="../fr403121/index.html">√âcouteurs et casques d'√©coute s√©curitaires pour les cyclistes</a></li>
<li><a href="../fr403123/index.html">Si vous le voulez vraiment, vous pouvez trouver n'importe qui</a></li>
<li><a href="../fr403125/index.html">Polaire en cart√©sien ou qu'est-ce que l'anneau de pi√®ces</a></li>
<li><a href="../fr403127/index.html">Cas pratique: pourquoi le service de trading peut avoir besoin d'une blockchain</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>