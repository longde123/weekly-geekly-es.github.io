<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💦 🌂 👩🏼‍💻 Von Tula nach Berlin: Stadtanalyse auf Instagram 🍧 🛑 🚵</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Es ist kein Geheimnis, dass Sie auf Instagram Fotos von jeder größeren Stadt finden können. Was ist, wenn wir versuchen, das gesamte Bild aus Fragment...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Von Tula nach Berlin: Stadtanalyse auf Instagram</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/447132/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/xh/fu/9d/xhfu9dc6pozmvuhyducybgs54bg.png"></div><br>  Es ist kein Geheimnis, dass Sie auf Instagram Fotos von jeder größeren Stadt finden können.  Was ist, wenn wir versuchen, das gesamte Bild aus Fragmenten zu rekonstruieren?  Die erhaltenen Informationen helfen dabei, die Idee unbekannter Orte zu verstehen, und sind für Reisende nützlich und ergänzen traditionelle Reiseführer. <br><a name="habracut"></a><br>  Die Idee, Städte anhand von Fotos zu analysieren, ist im Allgemeinen nicht neu [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">1</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">3</a> ], aber ehrlich gesagt sagen die gefundenen Artikel nicht wirklich viel aus. <br><br>  Das Sammeln von Daten aus Instagram ist ein Thema, das wiederholt behandelt wurde und in diesem Artikel nicht behandelt wird.  Über die API kann etwas abgerufen werden, aber wenn kein Zugriff darauf besteht, gibt es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">alternative</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Optionen</a> . <br><br>  Unsere Basiswerkzeuge sind Python und Plotly.  Am Ende gibt es Links zu GitHub- und Jupyter-Laptops für verschiedene Städte (die Grafiken sind interaktiv, enthalten daher mehr Informationen und werden für persönliche Bekanntschaften empfohlen).  Skripte für die Datenerfassung sind ebenfalls im Repository enthalten. <br><br>  In diesem Artikel werden wir durch Berlin laufen.  Der in diesem Artikel berücksichtigte Datensatz enthält ungefähr 100.000 Fotos für ~ 2.000 Standorte. <br><br>  Für jeden Standort benötigen wir: <br><br><ol><li>  Titel </li><li>  Koordinaten </li><li>  Foto (10-100 Stk.) </li><li>  Die Anzahl der Beiträge (die Variable edge_location_to_media auf der Standortseite erscheint nicht in der Dokumentation, bedeutet aber durch indirekte Angaben genau das) </li></ol><br><br><h3>  Erster Spaziergang </h3><br>  Stellen Sie die Daten auf die Karte.  Um die belebtesten Orte hervorzuheben, kombinieren wir die Orte in derselben Straße zu einer Markierung.  Karten werden mit Mapbox gezeichnet. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xw/2i/-i/xw2i-igdbjytavaymq40gqfuch8.png"></div><br>  <i><font color="99999">Karte von Berlin.</font></i>  <i><font color="99999">Markierungen zeigen die Anzahl der Stellen an</font></i> <br><br>  Machen wir uns mit den wichtigsten Ortsnamen vertraut.  Dazu müssen wir die Koordinaten von Orten in Adressen konvertieren - dies ist die Aufgabe der umgekehrten Geokodierung.  Um dies zu lösen, wurde die Google Geocoding API verwendet.  Nach dem Sammeln von Geodaten sortieren wir die Straßen und Gebiete nach der Anzahl der Standorte. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/m8/3c/up/m83cupuykwg4_zj4hfqtisfhie0.png" width="670"></div><br>  Für Städte wie Moskau sind Informationen über die Stadtteile nicht sehr wichtig, alles im Zentrum ist ungefähr gleich, aber Berlin ist heterogener und daher ist es nützlich, beispielsweise <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kreuzberg</a> von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Prenzlauer Berg zu unterscheiden</a> . <br><br>  Schauen wir uns eine Liste von Orten an, die nach Beliebtheit sortiert sind. <br><br><div class="spoiler">  <b class="spoiler_title">Top Standorte</b> <div class="spoiler_text"><code><b>location, edge_location_to_media</b> <br> Alexanderplatz Berlin, 695533 <br> East Side Gallery, 537034 <br> Brandenburger Tor, 525004 <br> Berliner Dom, 411376 <br> Berlin Kreuzberg, 364077 <br> Berlin Mitte, 340891 <br> Memorial to the Murdered Jews of Europe, 251433 <br> Berlin Wall, 228749 <br> Kreuzberg Berlin Germany, 218383 <br> Potsdamer Platz, 182316 <br> Checkpoint Charlie, 171895 <br> Brandenburg Gate, 143530 <br> Mercedes Benz Arena Berlin, 143498 <br> Zoo Berlin, 140465 <br> Berlin Hauptbahnhof, 138153 <br> Gendarmenmarkt Berlin, 114615 <br> Berliner Fernsehturm, 106127 <br> Friedrichshain, 104376 <br> Reichstag dome, 101895 <br> Berlin Germany, 97402 <br> East Side Gallery Berlin Wall, 96385 <br> Jüdisches Museum Berlin Jewish Museum Berlin, 94647 <br> Berlin the place to be, 92444 <br> FAR AWAY, 91062 <br> Berlin Reichstag, 90945 <br> Museum Island, 84010 <br> Potsdamer Platz Berlin, 80733 <br> Hamburger Bahnhof Museum für Gegenwart Berlin, 79323 <br> Kurfürstendamm, 75632 <br> KaDeWe, 73312 <br> Pergamonmuseum, 71524 <br> Tempelhofer Feld, 70472 <br> Azad Gence, 69566 <br> Reichstag building, 69028 <br> Tiergarten Berlin Germany, 65391 <br> Berghain Panorama Bar, 60807 <br> Mall of Berlin, 60718 <br> Schöneberg Berlin Germany, 60482 <br> Tiergarten Berlin, 60210 <br> Hackescher Markt, 59899 <br> Klunkerkranich, 59661 <br> Berlin Victory Column, 57304 <br> Berlin Prenzlauer Berg, 56705 <br> Madame Tussauds Berlin, 55351 <br> Hackesche Höfe, 55183 <br> Bikini Berlin, 50920 <br> Alexanderplatz, 48875 <br> Alte Nationalgalerie, 48346 <br> Museum für Naturkunde Berlin, 46786 <br> The Wall Of Berlin, 46708 <br> NENI Berlin Monkey Bar, 44770 <br> Flughafen Berlin Tempelhof, 44197 <br> Columbiahalle, 43717 <br> Brandenburger Tor, 43484 <br> Berlin Germany, 42739 <br> Warschauer Straße, 41897 <br> Reichstag, 41321 <br> Berlin Holocaust Memorial, 39930 <br> Brandebourg Tor Berlin , 38949 <br> Berlinische Galerie, 37947 <br> Sony Center, 37539 <br> Berliner Philharmonie, 37431 <br> Konzerthaus Berlin, 36905 <br> Tempodrom, 35982 <br> Berlin Mitte, 35895 <br> Friedrichshain, 34693 <br> Urban Spree, 34613 <br> Kraftwerk Berlin, 34392 <br> Bode Museum, 34205 <br> Bundestag, 33998 <br> SONY Center Berlin am Potsdamer Platz, 33628 <br> Berlin Brandenburger Tor, 33098 <br> Brandenburger Tor, 32857 <br> Berlin Zoological Garden, 32718 <br> Deutsches Historisches Museum, 32604 <br> Humboldt Universität zu Berlin, 32308 <br> C/O Berlin, 32294 <br> Astra Kulturhaus Berlin, 30082 <br> Badeschiff Berlin, 30007 <br> Markthalle Neun, 29989 <br> Michelberger Hotel, 29444 <br> Altes Museum, 29009 <br> Hotel Adlon Kempinski Berlin, 28889 <br> Mauerpark, 28282 <br> YAAM Berlin, 27925 <br> Mitte, 27681 <br> Hofbräu Berlin, 27561 <br> Huxleys Neue Welt, 27546 <br> Oberbaum Bridge, 27131 <br> Friedrichstadt Palast Berlin, 27009 <br> STATION Berlin, 26816 <br> Velodrom Berlin, 26385 <br> Moabit, 26350 <br> Neues Museum, 26346 <br> Gedächtniskirche, 26316 <br></code> <br></div></div><br>  Es mischt „formelle“ Orte (Denkmäler, Museen, Galerien) mit „informellen“ (Clubs, Bars, Geschäfte).  Um voneinander zu trennen, benötigen wir Daten aus Wikipedia.  Im Gegensatz zu Instagram steht die API allen Ankömmlingen vollständig zur Verfügung.  Auf einer Achse verschieben wir die Anzahl der Beiträge auf Instagram, auf der anderen die Häufigkeit, mit der ein Wikipedia-Artikel über diesen Ort angesehen wurde.  In dieser Abbildung befinden sich rechts mehr „formelle“ Orte, rechts populärere. <br><br>  Um Fehler zu reduzieren, gruppieren wir Standorte entlang der Straßen wie auf einer Karte.  Bei der Auswahl von Artikeln für Standorte gehen einige Daten verloren, sodass das Bild weniger Punkte als die Karte enthält. <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ar/zv/ws/arzvwsoscoosgt9xp-krwxjp1sa.png" width="550"></div>  <i><font color="99999">Insta-Wiki-Diagramm.</font></i>  <i><font color="99999">Für mehrere Straßen sind die wichtigsten Orte markiert.</font></i>  <i><font color="99999">Weitere Informationen finden Sie auf dem Laptop.</font></i> <br><br>  Wohin, um ein Selfie zu machen?  Schätzen Sie den Anteil der Fotos mit Gesichtern.  OpenCV und die Haar-Kaskade helfen uns dabei. <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ve/dl/_y/vedl_yhyc1p0oe_o7pwkxx1nrey.png" width="590"></div>  <i><font color="99999">Teilen Sie Fotos mit Gesichtern.</font></i>  <i><font color="99999">Die Punkte auf der rechten Seite des Bildes sind beliebte Orte für Selfies (Brunnen- oder Eitelkeitsmessen).</font></i> <br><br><h3>  Tiefer gehen </h3><br>  Als nächstes wenden wir ein neuronales Netzwerk an, um die Umgebung in Fotografien zu bestimmen.  Wir verwendeten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">CNN Places365</a> , das auf einem am MIT zusammengestellten Datensatz trainiert wurde <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">[4]</a> .  Die für diese Aufgabe am besten geeigneten Tags wurden ausgewählt.  Finden Sie heraus, welche häufiger vorkommen: <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gy/dz/gl/gydzglrxltfgs8nnrbzqp20xxaq.png" width="570"></div>  <i><font color="99999">Tag-Bewertung.</font></i>  <i><font color="99999">Namen links original.</font></i>  <i><font color="99999">Sie müssen nicht wörtlich genommen werden: martial_arts_gym ähnelt eher einem Fitnessstudio, und ein Diskothekenetikett kann einfach einen dunklen Raum markieren</font></i> <br><br>  Mal sehen, welche Tags den Straßen entsprechen: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lc/bh/ng/lcbhngzrv9elih7oatsml4jf35q.png" width="600"></div>  Das gleiche auf der Karte: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/w-/my/rc/w-myrcbeahhba-tzjjrdrbotetw.png"></div><br>  <i><font color="99999">Karte von Berlin mit den charakteristischsten Tags.</font></i>  <i><font color="99999">Schauen Sie sich das Diskothekenschild auf der rechten Seite an - es ist Friedrichshain, ein pulsierendes Ausgehviertel</font></i> <br><br><h3>  Hallo, hallo, Hola </h3><br>  Eine Möglichkeit, etwas über eine neue Stadt zu lernen, besteht darin, sie mit der Ihnen bekannten zu vergleichen.  Wir nehmen Merkmalsvektoren für Standorte zweier Städte und erhalten mit t-SNE zweidimensionale Koordinaten.  Zur Verdeutlichung versteckte die Figur Orte, die im Bereich der Stadt des Gegners liegen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jt/pv/ku/jtpvkusc5lumofcjcoxvbydp7q4.png" width="650"></div>  <i><font color="99999">Standortvergleich in Berlin und Moskau.</font></i>  <i><font color="99999">Etiketten geben das dominierende Merkmal auf dem Gebiet an.</font></i>  <i><font color="99999">Cluster unterschiedlicher Farben, die nebeneinander angeordnet sind, zeigen Berührungspunkte zwischen Städten an, d. H. Ähnliche Orte.</font></i> <br><br>  Schauen wir uns den Unterschied der Zeichen an: <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yt/7y/db/yt7ydbubjgl4xcb9ri1qxjn9igo.png" width="570"></div>  <i><font color="99999">Der Zeichenunterschied zwischen Berlin und Moskau.</font></i>  <i><font color="99999">Es scheint, dass in unserer Hauptstadt häufiger in Fitnessstudios und Umkleidekabinen fotografiert wird</font></i> <br><br>  <b>Artikel</b> <br><a name="article1"></a>  1. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wie man die Stadt auf Instagram studiert</a> <br><a name="article2"></a>  2. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Was wir Instagram: Eine erste Analyse von Instagram-Fotoinhalten und Benutzertypen</a> <br><a name="article3"></a>  3. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Zoomen in eine Instagram-Stadt: Lesen Sie das Lokale über soziale Medien</a> <br><a name="article4"></a>  4. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Orte: Eine 10-Millionen-Bilddatenbank zur Szenenerkennung</a> <br><br>  <b>Laptops</b> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Tula</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Moskau</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">St. Petersburg</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Berlin</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Rom</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hongkong</a> <br><br>  <b>Github</b> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">github.com/pskryuchkov/voyage</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de447132/">https://habr.com/ru/post/de447132/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de447122/index.html">Kleine tolle Dinge über Visual Studio 2019</a></li>
<li><a href="../de447124/index.html">Coole Funktionen von Visual Studio 2019</a></li>
<li><a href="../de447126/index.html">JPoint 2019: von morgens bis abends</a></li>
<li><a href="../de447128/index.html">Die Verdauung von frischen Materialien aus der Welt des Frontends für die letzte Woche Nr. 359 (1. - 7. April 2019)</a></li>
<li><a href="../de447130/index.html">PHP Digest Nr. 153 (25. März - 8. April 2019)</a></li>
<li><a href="../de447134/index.html">Reagieren Sie auf den Schulungskurs, Teil 28: Reagieren Sie auf moderne Funktionen, Projektideen und Schlussfolgerungen</a></li>
<li><a href="../de447136/index.html">Reaktionsschulung Teil 27: Kursprojekt</a></li>
<li><a href="../de447144/index.html">Wie ich die Fotospeicherung organisiert habe</a></li>
<li><a href="../de447146/index.html">EKI Industrial Unmanaged Switches</a></li>
<li><a href="../de447148/index.html">Die (un) offizielle Habr-Anwendung - HabrApp 2.0: Zugriff</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>