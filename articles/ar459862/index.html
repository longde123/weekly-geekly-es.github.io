<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐๐ฝ ๐ ุจูุฑููู DB STL ูุงุฌูุฉ ๐ง๐พ ๐ถ โบ๏ธ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฑุญุจุง ูุง ูุจุฑ. ููุฐ ููุช ููุณ ุจุจุนูุฏ ุ ุจุงููุณุจุฉ ูุฃุญุฏ ูุดุงุฑูุนู ุ ููุช ุจุญุงุฌุฉ ุฅูู ูุงุนุฏุฉ ุจูุงูุงุช ูุฏูุฌุฉ ูุชุฎุฒูู ุนูุงุตุฑ ุงููููุฉ ุงูุฃุณุงุณูุฉ ุ ูุชูููุฑ ุฏุนู ุงููุนุงููุงุช ุ ูุงุฎุชูุง...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุจูุฑููู DB STL ูุงุฌูุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459862/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูุฑุญุจุง ูุง ูุจุฑ.  ููุฐ ููุช ููุณ ุจุจุนูุฏ ุ ุจุงููุณุจุฉ ูุฃุญุฏ ูุดุงุฑูุนู ุ ููุช ุจุญุงุฌุฉ ุฅูู ูุงุนุฏุฉ ุจูุงูุงุช ูุฏูุฌุฉ ูุชุฎุฒูู ุนูุงุตุฑ ุงููููุฉ ุงูุฃุณุงุณูุฉ ุ ูุชูููุฑ ุฏุนู ุงููุนุงููุงุช ุ ูุงุฎุชูุงุฑูุงู ุ ุงูุจูุงูุงุช ุงููุดูุฑุฉ.  ุจุนุฏ ุจุญุซ ูุตูุฑ ุ ุตุงุฏูุช ูุดุฑูุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจูุฑููู DB</a> .  ุจุงูุฅุถุงูุฉ ุฅูู ุงูููุฒุงุช ุงูุชู ุฃุญุชุงุฌูุง ุ ุชููุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุฐู ูุงุฌูุฉ ูุชูุงููุฉ ูุน STL ูุงูุชู ุชุชูุญ ูู ุงูุนูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุง ูู ุงูุญุงู ูุน ุญุงููุฉ STL ุนุงุฏูุฉ (ุดุจู ุนุงุฏูุฉ).  ูู ุงููุงูุน ุ ุณุชุชู ููุงูุดุฉ ูุฐู ุงููุงุฌูุฉ ุฃุฏูุงู. </p><a name="habracut"></a><br><h2 id="berkeley-db" style=";text-align:right;direction:rtl">  ุจูุฑููู ุฏูุณูุจู </h2><br><p style=";text-align:right;direction:rtl">  <strong>Berkeley DB</strong> ุนุจุงุฑุฉ ุนู ูุงุนุฏุฉ ุจูุงูุงุช ููุชูุญุฉ ุงููุตุฏุฑ ูุถููุฉ ููุงุจูุฉ ููุชุทููุฑ ูุนุงููุฉ ุงูุฃุฏุงุก.  ุฅูู ูุชุงุญ ูุฌุงููุง ููุงุณุชุฎุฏุงู ูู ูุดุงุฑูุน <strong>ููุชูุญุฉ ุงููุตุฏุฑ</strong> ุ ููู ูููุดุงุฑูุน ุงูุฎุงุตุฉ ููุงู ูููุฏ ูุจูุฑุฉ.  ุงูููุฒุงุช ุงููุฏุนููุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงููุนุงููุงุช </li><li style=";text-align:right;direction:rtl">  ุณุฌู ุชุฌุงูุฒ ุงููุดู ููุชุฌุงูุฒ </li><li style=";text-align:right;direction:rtl">  <strong>AES ุชุดููุฑ</strong> ุงูุจูุงูุงุช </li><li style=";text-align:right;direction:rtl">  ุชูุฑุงุฑ </li><li style=";text-align:right;direction:rtl">  ูุคุดุฑุงุช </li><li style=";text-align:right;direction:rtl">  ุฃุฏูุงุช ุงูุชุฒุงูู ููุชุทุจููุงุช ุฐุงุช ูุคุดุฑุงุช ุงูุชุฑุงุจุท ุงููุชุนุฏุฏุฉ </li><li style=";text-align:right;direction:rtl">  ุณูุงุณุฉ ุงููุตูู - ูุงุชุจ ูุงุญุฏ ุ ุงูุนุฏูุฏ ูู ุงููุฑุงุก </li><li style=";text-align:right;direction:rtl">  ุงูุชุฎุฒูู ุงููุคูุช </li></ul><br><p style=";text-align:right;direction:rtl">  ููุฐูู ุงูุนุฏูุฏ ูู ุงูุขุฎุฑูู. </p><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุชููุฆุฉ ุงููุธุงู ุ ูููู ูููุณุชุฎุฏู ุชุญุฏูุฏ ุงููุธู ุงููุฑุนูุฉ ุงูุชู ูุฌุจ ุงุณุชุฎุฏุงููุง.  ูุฐุง ููุบู ูุฏุฑ ุงูููุงุฑุฏ ุนูู ุนูููุงุช ูุซู ุงููุนุงููุงุช ุ ููุทุน ุงูุฃุดุฌุงุฑ ุ ูุงูุฃููุงู ุนูุฏูุง ูุง ุชููู ููุงู ุญุงุฌุฉ ุฅูููุง. </p><br><p style=";text-align:right;direction:rtl">  ูุชููุฑ ุงุฎุชูุงุฑ ุจููุฉ ุงูุชุฎุฒูู ูุงููุตูู ุฅูู ุงูุจูุงูุงุช: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <strong>ุจุชุฑู</strong> - ุชูููุฐ ูุฑุฒ ุดุฌุฑุฉ ูุชูุงุฒูุฉ </li><li style=";text-align:right;direction:rtl">  ุชุฌุฒุฆุฉ ุชูููุฐ ุงูุชุฌุฒุฆุฉ ุงูุฎุทู </li><li style=";text-align:right;direction:rtl">  <strong>ูููุฉ</strong> - ูุณุชุฎุฏู <em>ููู ูููุฉ ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ</em> ุงูููุณูุฉ ุฅูู ุตูุญุงุช ููุชุฎุฒูู.  ูุชู ุชุญุฏูุฏ ูู ุฅุฏุฎุงู ุจูุงุณุทุฉ ุตูุญุฉ ูุฅุฒุงุญุฉ ุฏุงุฎููุง.  ูุชู ุชูุธูู ุงูุชุฎุฒูู ุจุทุฑููุฉ ูุง ุชุชุทูุจ ุญุฐู ุณุฌู ุงูุถุบุท.  ูุฐุง ูุณูุญ ูู ุจุงุณุชุฎุฏุงูู ูุน ููุต ุงููุณุงุญุฉ ุงููุงุฏูุฉ. </li><li style=";text-align:right;direction:rtl">  <strong>ูุงุฆูุฉ ุงูุงูุชุธุงุฑ</strong> - ูุงุฆูุฉ ุงูุชุธุงุฑ ุชููู ุจุชุฎุฒูู ุณุฌูุงุช ุฐุงุช ุทูู ุซุงุจุช ุจุฑูู ููุทูู ูููุชุงุญ.  ุฅูู ูุตูู ููุฅุฏุฎุงู ุงูุณุฑูุน ูู ุงูููุงูุฉ ุ ููุฏุนู ุนูููุฉ ุฎุงุตุฉ ุชุฒูู ูุชุนูุฏ ุฅุฏุฎุงููุง ูู ุฑุฃุณ ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ูู ููุงููุฉ ูุงุญุฏุฉ. </li><li style=";text-align:right;direction:rtl">  <strong>Recno</strong> - ูุณูุญ ูู ุจุญูุธ ุณุฌูุงุช ุฐุงุช ุฃุทูุงู ุซุงุจุชุฉ ููุชุบูุฑุฉ ุจุฑูู ููุทูู ูููุชุงุญ.  ูููุฑ ุงููุตูู ุฅูู ุนูุตุฑ ุจูุงุณุทุฉ ุงูููุฑุณ ุงูุฎุงุต ุจู. </li></ul><br><p style=";text-align:right;direction:rtl">  ูุชุฌูุจ ุงูุบููุถ ุ ูู ุงูุถุฑูุฑู ุชุญุฏูุฏ ุงูุนุฏูุฏ ูู ุงูููุงููู ุงูุชู ูุชู ุงุณุชุฎุฏุงููุง ููุตู ุนูู <strong>Berkeley DB</strong> . </p><br><p style=";text-align:right;direction:rtl">  <em>ูุงุนุฏุฉ ุงูุจูุงูุงุช</em> ูู ุชุฎุฒูู <em>ุงูุจูุงูุงุช</em> ุฐุงุช ุงููููุฉ ุงูุฑุฆูุณูุฉ.  ูููู ุฃู ูููู ุงูุฌุฏูู ุงูุชูุงุซูู ููุงุนุฏุฉ ุจูุงูุงุช <strong>Berkeley DB</strong> ูู ููุงุนุฏ ุจูุงูุงุช ููุงุนุฏ ุงูุจูุงูุงุช ุงูุฃุฎุฑู. </p><br><p style=";text-align:right;direction:rtl">  <em>ุจูุฆุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช</em> ุนุจุงุฑุฉ ุนู ูุฌููุน <em>ููุงุนุฏุฉ ุจูุงูุงุช</em> ูุงุญุฏุฉ ุฃู ุฃูุซุฑ.  ูุญุฏุฏ ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ ูุฌููุน <em>ููุงุนุฏ ุงูุจูุงูุงุช</em> ุ ูุซู ุญุฌู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุ ููุณุงุฑุงุช ุชุฎุฒูู ุงููููุงุช ุ ูุงุณุชุฎุฏุงู ูุชูููู ุงูุฃูุธูุฉ ุงููุฑุนูุฉ ููุญุธุฑ ูุงููุนุงููุงุช ูุชุณุฌูู ุงูุฏุฎูู. </p><br><p style=";text-align:right;direction:rtl">  ูู ุญุงูุฉ ุงูุงุณุชุฎุฏุงู ุงููููุฐุฌู ุ ูุชู ุฅูุดุงุก <em>ุจูุฆุฉ</em> ูุชูููููุง ุ ููุฏููุง <em>ูุงุนุฏุฉ ุจูุงูุงุช</em> ูุงุญุฏุฉ ุฃู ุฃูุซุฑ. </p><br><h2 id="stl-interfeys" style=";text-align:right;direction:rtl">  STL ูุงุฌูุฉ </h2><br><p style=";text-align:right;direction:rtl">  <strong>ุจูุฑููู DB</strong> ูู ููุชุจุฉ ููุชูุจุฉ ุจุงููุบุฉ <strong>C.</strong>  ูุญุชูู ุนูู ูุฌูุฏุงุช ููุบุงุช ูุซู <strong>Perl</strong> ู <strong>Java</strong> ู <strong>PHP</strong> ูุบูุฑูุง.  ุงููุงุฌูุฉ ูู <strong>C ++</strong> ุนุจุงุฑุฉ ุนู ูุฌููุน ุนุจุฑ ุฑูุฒ <strong>C</strong> ูุน ูุงุฆูุงุช ููุฑุงุซุฉ.  ูู ุฃุฌู ุฅุชุงุญุฉ ุงููุตูู ุฅูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุดูู ูุดุงุจู ููุนูููุงุช ูุน ุญุงููุงุช <strong>STL</strong> ุ ููุงู ูุงุฌูุฉ <strong>STL</strong> ูุฅุถุงูุฉ ุนูู <strong>C ++</strong> .  ูู ุดูู ุฑุณููู ุ ุชุจุฏู ุทุจูุงุช ุงููุงุฌูุฉ ููุง ููู: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/k9/0u/gw/k90ugwajcb5xsts9zxn7e6urjew.png"></p><br><p style=";text-align:right;direction:rtl"> ูุฐูู ุ ุชุณูุญ ูู ูุงุฌูุฉ <strong>STL</strong> ุจุงุณุชุฑุฏุงุฏ ุนูุตุฑ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุญุณุจ ุงูููุชุงุญ (ูู ุฃุฌู <strong>Btree</strong> ุฃู <strong>Hash</strong> ) ุฃู ุญุณุจ ุงูููุฑุณ (ูู ุฃุฌู <strong>Recno</strong> ) ุนูู ุบุฑุงุฑ <strong>ุญุงููุฉ</strong> <code>std::map</code> ุฃู <code>std::vector</code> ุ ุงุจุญุซ ุนู ุนูุตุฑ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ุฎูุงู <code>std::find_if</code> ุงูููุงุณูุฉ ุ ุงูุชูุฑุงุฑ ุนุจุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุฃููููุง ูู ุฎูุงู <code>foreach</code> .  ุฌููุน ูุฆุงุช ููุธุงุฆู ูุงุฌูุฉ <strong>Berkeley DB</strong> <strong>STL</strong> ููุฌูุฏุฉ ูู ูุณุงุญุฉ ุงุณู <strong>dbstl</strong> ุ ุนูู ุงููุฏู ุงููุตูุฑ ุ ูุนูู <strong>dbstl</strong> ุฃูุถูุง ูุงุฌูุฉ <strong>STL</strong> . </p><br><h2 id="ustanovka" style=";text-align:right;direction:rtl">  ุชุฑููุจ </h2><br><p style=";text-align:right;direction:rtl">  ุชุฏุนู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุนุธู <strong>ููุตุงุช</strong> <strong>Linux</strong> ู <strong>Windows</strong> ู <strong>Android</strong> ู <strong>Apple iOS</strong> ูุบูุฑูุง. </p><br><p style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ุฅูู <strong>Ubuntu 18.04 ุ</strong> ูู ููุท ุจุชุซุจูุช ุงูุญุฒู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  libdb5.3-STL-ุฏูู </li><li style=";text-align:right;direction:rtl">  libdb5.3 ++ - ุฏูู </li></ul><br><p style=";text-align:right;direction:rtl">  ููุจูุงุก ูู ูุตุงุฏุฑ <strong>Linux</strong> ุ ุชุญุชุงุฌ ุฅูู ุชุซุจูุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">autoconf</a> ู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">libtool</a> .  ูููู ุงูุงุทูุงุน ุนูู ุฃุญุฏุซ ุดูุฑุฉ ุงููุตุฏุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> . </p><br><p style=";text-align:right;direction:rtl">  ุนูู ุณุจูู ุงููุซุงู ุ ููุช ุจุชูุฒูู ุงูุฃุฑุดูู ุจุงูุฅุตุฏุงุฑ <strong>18.1.32</strong> - db-18.1.32.zip.  ุชุญุชุงุฌ ุฅูู ูู ุถุบุท ุงูุฃุฑุดูู ูุงูุงูุชูุงู ุฅูู ุงููุฌูุฏ ุงููุตุฏุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">unzip db-18.1.32.zip cd db-18.1.32</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ููุชูู ุฅูู ุฏููู <strong>build_unix ููููู</strong> ุจุชุดุบูู ุงูุชุฌููุน ูุงูุชุซุจูุช: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">cd build_unix ../dist/configure --enable-stl --prefix=/home/user/libraries/berkeley-db make make install</code> </pre> <br><h2 id="dobavlenie-v-cmake-proekt" style=";text-align:right;direction:rtl">  ุฅุถุงูุฉ ุฅูู ูุดุฑูุน cmake </h2><br><p style=";text-align:right;direction:rtl">  ูุณุชุฎุฏู ูุดุฑูุน <strong>BerkeleyDBSamples</strong> ูุชูุถูุญ ุงูุฃูุซูุฉ ูุน <strong>Berkeley DB</strong> . </p><br><p style=";text-align:right;direction:rtl">  ูููู ุงููุดุฑูุน ุนูู ุงููุญู ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">+-- CMakeLists.txt +-- sample-usage | +-- CMakeLists.txt | +-- sample-map-usage.cpp | +-- submodules | +-- cmake | | +-- FindBerkeleyDB</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุตู ุงูุฌุฐุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">CMakeLists.txt</a> ุงููุนููุงุช ุงูุนุงูุฉ ูููุดุฑูุน.  ูููุงุช ุงููุตุฏุฑ ุนููุฉ ููุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุงุณุชุฎุฏุงู ุนููุฉ</a> .  ูุจุญุซ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">sample-use / CMakeLists.txt</a> ุนู ุงูููุชุจุงุช ุ ููุญุฏุฏ ุชุฌููุน ุงูุฃูุซูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูุฃูุซูุฉ ุ ูุชู ุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">FindBerkeleyDB</a> ูุชูุตูู ุงูููุชุจุฉ ุจูุดุฑูุน <strong>cmake</strong> .  ุชุชู ุฅุถุงูุชู ุนูู ุฃูู ูุญุฏุฉ ูุฑุนูุฉ ูู <strong>ุจูุงุจุฉ</strong> ูุญุฏุงุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฑุนูุฉ / cmake</a> .  ุฃุซูุงุก ุงูุชุฌููุน ุ ูุฏ ุชุญุชุงุฌ ุฅูู ุชุญุฏูุฏ <code>BerkeleyDB_ROOT_DIR</code> .  ุนูู ุณุจูู ุงููุซุงู ุ ุจุงููุณุจุฉ ููููุชุจุฉ ุฃุนูุงู ุงููุซุจุชุฉ ูู ุงููุตุงุฏุฑ ุ ูุฌุจ ุนููู ุชุญุฏูุฏ <strong>cmake</strong> ููุนูู <code>-DBerkeleyDB_ROOT_DIR=/home/user/libraries/berkeley-db</code> . </p><br><p style=";text-align:right;direction:rtl">  ูู ููู ุงูุฌุฐุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">CMakeLists.txt</a> ุ ุฃุถู ุงููุณุงุฑ ุฅูู ูุญุฏุฉ <strong>FindBerkeleyDB</strong> ุฅูู <strong>CMAKE_MODULE_PATH</strong> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">list(APPEND CMAKE_MODULE_PATH "${CMAKE_CURRENT_SOURCE_DIR}/submodules/cmake/FindBerkeleyDB")</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ูููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">sample-use / CMakeLists.txt</a> ุจุฅุฌุฑุงุก ุจุญุซ ูู ุงูููุชุจุฉ ุจุงูุทุฑููุฉ ุงูููุงุณูุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">find_package(BerkeleyDB REQUIRED)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ุฃุถู ุงูููู ุงููุงุจู ููุชูููุฐ <strong>ูุงุฑุจุทู</strong> ุจููุชุจุฉ <strong>Oracle :: BerkeleyDB</strong> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">add_executable(sample-map-usage "sample-map-usage.cpp") target_link_libraries(sample-map-usage PRIVATE Oracle::BerkeleyDB ${CMAKE_THREAD_LIBS_INIT} stdc++fs)</code> </pre> <br><h2 id="prakticheskiy-primer" style=";text-align:right;direction:rtl">  ูุซุงู ุนููู </h2><br><p style=";text-align:right;direction:rtl">  ููุชุฏููู ุนูู ุงุณุชุฎุฏุงู <strong>dbstl ุ ุฏุนููุง</strong> ููุญุต ูุซุงููุง ุจุณูุทูุง ูู ููู <a href="">sample-map-use.cpp</a> .  ููุถุญ ูุฐุง ุงูุชุทุจูู ุงูุนูู ูุน <code>dbstl::db_map</code> ูู ุจุฑูุงูุฌ ุงูููุฑุฏ ูุชุฑุงุจุทุฉ.  ูุดุจู ุงูุญุงููุฉ ููุณูุง <code>std::map</code> ูุชุฎุฒูู ุงูุจูุงูุงุช ูุฒูุฌ ููุชุงุญ / ูููุฉ.  ูููู ุฃู ุชููู ุจููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ <strong>ุจุชุฑู</strong> ุฃู <strong>ุชุฌุฒุฆุฉ</strong> .  ุจุฎูุงู <code>std::map</code> ุ ุจุงููุณุจุฉ <code>dbstl::db_map&lt;std::string, TestElement&gt;</code> ููุน ุงููููุฉ ุงููุนูู ูู <code>dbstl::ElementRef&lt;TestElement&gt;</code> .  ูุชู ุฅุฑุฌุงุน ูุฐุง ุงูููุน ุ ุนูู ุณุจูู ุงููุซุงู ุ <code>dbstl::db_map&lt;std::string, TestElement&gt;::operator[]</code> .  ูุญุฏุฏ ุทุฑู ุชุฎุฒูู ูุงุฆู ูู ููุน <code>TestElement</code> ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.  ูุงุญุฏุฉ ูู ูุฐู ุงูุทุฑููุฉ ูู <code>operator=</code> . </p><br><p style=";text-align:right;direction:rtl">  ูู ุงููุซุงู ุ ุงูุนูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุง ููู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุณุชุฏุนู ุงูุชุทุจูู ุฃุณุงููุจ <strong>Berkeley DB</strong> ูููุตูู ุฅูู ุงูุจูุงูุงุช </li><li style=";text-align:right;direction:rtl">  ูุฐู ุงูุทุฑู ุงููุตูู ุฅูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ูููุฑุงุกุฉ ุฃู ุงููุชุงุจุฉ </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุฒู ุงูุฃูุฑ ุ ูุงููุตูู ูุจุงุดุฑุฉ ุฅูู ููู ุงูุจูุงูุงุช </li></ul><br><p style=";text-align:right;direction:rtl">  ุจูุงููุง ุ ุชุธูุฑ ูุฐู ุงูุนูููุฉ ูู ุงูุดูู: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/xm/em/or/xmemorwh73yw9mnue-h1lp0gmbo.png"></p><br><p style=";text-align:right;direction:rtl">  ูุชูููู ุชุนููุฏ ุงููุซุงู ุ ูุง ูุณุชุฎุฏู ูุนุงูุฌุฉ ุงูุงุณุชุซูุงุกุงุช.  ุจุนุถ <strong>ุฃุณุงููุจ</strong> ุญุงููุฉ <strong>dbstl</strong> ูุฏ ุฑูู ุงุณุชุซูุงุกุงุช ุนูุฏ ุญุฏูุซ ุฃุฎุทุงุก. </p><br><h2 id="razbor-koda" style=";text-align:right;direction:rtl">  ุชุญููู ุงูุฑูุฒ </h2><br><p style=";text-align:right;direction:rtl">  ููุนูู ูุน <strong>Berkeley DB ุ</strong> ุชุญุชุงุฌ ุฅูู ุชูุตูู ูููู ุฑุฃุณ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">#include &lt;db_cxx.h&gt; #include &lt;dbstl_map.h&gt;</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุฃูู ูุถูู <strong>ุจุฏุงุฆู</strong> ูุงุฌูุฉ <strong>C ++</strong> ุ ูุงูุซุงูู ูุนุฑูู ุงููุฆุงุช ูุงููุธุงุฆู ููุนูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช ุ ููุง ูู ุงูุญุงู ูุน ุงูุญุงููุฉ ุงูุชุฑุงุจุทูุฉ ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงูุนุฏูุฏ ูู ุทุฑู ุงููููุนุฉ.  <strong>ุชูุน</strong> ูุงุฌูุฉ <strong>STL</strong> ูู ูุณุงุญุฉ ุงุณู <strong>dbstl</strong> . </p><br><p style=";text-align:right;direction:rtl">  ููุชุฎุฒูู ุ ูุชู <strong>ุงุณุชุฎุฏุงู</strong> ุจููุฉ <strong>Btree</strong> ุ ููุนูู <code>std::string</code> ูููุชุงุญ ุ ูุงููููุฉ ูู ุจููุฉ ุงููุณุชุฎุฏู <code>TestElement</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">struct TestElement{ std::string id; std::string name; };</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุงููุธููุฉ <code>main</code> ุ ูู ุจุชููุฆุฉ ุงูููุชุจุฉ ุนู ุทุฑูู ุงุณุชุฏุนุงุก <code>dbstl::dbstl_startup()</code> .  ูุฌุจ ุฃู ูููู ููุฌูุฏุง ูุจู ุงูุงุณุชุฎุฏุงู ุงูุฃูู <strong>ูุฃูููุงุช</strong> ูุงุฌูุฉ <strong>STL</strong> . </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ูููู ุจุชููุฆุฉ ููุชุญ <em>ุจูุฆุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช</em> ูู ุงูุฏููู ุงูุฐู ุชู ุชุนูููู ุจูุงุณุทุฉ ุงููุชุบูุฑ <code>ENV_FOLDER</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">auto penv = dbstl::open_env(ENV_FOLDER, 0u, DB_INIT_MPOOL | DB_CREATE);</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุนูุงูุฉ <code>DB_INIT_MPOOL</code> ูุณุคููุฉ ุนู ุชููุฆุฉ ุงููุธุงู ุงููุฑุนู ููุชุฎุฒูู ุงููุคูุช ุ <code>DB_CREATE</code> - ุนู ุฅูุดุงุก ุฌููุน ุงููููุงุช ุงููุงุฒูุฉ ููุจูุฆุฉ.  ูุณุฌู ุงููุฑูู ุฃูุถูุง ูุฐุง ุงููุงุฆู ูู ูุฏูุฑ ุงูููุงุฑุฏ.  ููู ูุณุคูู ุนู ุฅุบูุงู ุฌููุน ุงููุงุฆูุงุช ุงููุณุฌูุฉ (ูุงุฆูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงููุคุดุฑุงุช ูุงููุนุงููุงุช ููุง ุฅูู ุฐูู ูุณุฌูุฉ ุฃูุถูุง) ููุณุญ ุงูุฐุงูุฑุฉ ุงูุฏููุงููููุฉ.  ุฅุฐุง ูุงู ูุฏูู ุจุงููุนู ูุงุฆู <em>ุจูุฆุฉ ูุงุนุฏุฉ ุจูุงูุงุช</em> ูุชุญุชุงุฌ ููุท ุฅูู ุชุณุฌููู ูุน ูุฏูุฑ ุงูููุงุฑุฏ ุ ููููู ุงุณุชุฎุฏุงู ุงูุฏุงูุฉ <code>dbstl::register_db_env</code> . </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุฅุฌุฑุงุก ุนูููุฉ ููุงุซูุฉ ูุน <em>ูุงุนุฏุฉ ุงูุจูุงูุงุช</em> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">auto db = dbstl::open_db(penv, "sample-map-usage.db", DB_BTREE, DB_CREATE, 0u);</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุณุชุชู ูุชุงุจุฉ ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ ุนูู ุงููุฑุต ูู ููู <strong>sample-map-use.db</strong> ุ ูุงูุฐู ุณูุชู ุฅูุดุงุคู ูู ุบูุงุจ (ุจูุถู ุนูุงูุฉ <code>DB_CREATE</code> ) ูู ุฏููู <code>ENV_FOLDER</code> .  ูุชู ุงุณุชุฎุฏุงู ุดุฌุฑุฉ ููุชุฎุฒูู (ูุนููุฉ <code>DB_BTREE</code> ). </p><br><p style=";text-align:right;direction:rtl">  ูู <strong>Berkeley DB ุ</strong> ูุชู ุชุฎุฒูู ุงูููุงุชูุญ ูุงูููู ูุตููู ูู ูุญุฏุงุช ุงูุจุงูุช.  ูุงุณุชุฎุฏุงู ููุน ูุฎุตุต (ูู ุญุงูุชูุง <code>TestElement</code> ) ุ ูุฌุจ ุนููู ุชุญุฏูุฏ ูุธุงุฆู ูู ุฃุฌู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชููู ุนุฏุฏ ุงูุจุงูุชุงุช ูุชุฎุฒูู ุงููุงุฆู ุ </li><li style=";text-align:right;direction:rtl">  ุชูุธูู ูุงุฆู ูู ุตููู ูุญุฏุงุช ุงูุจุงูุชุ </li><li style=";text-align:right;direction:rtl">  unmarshaling. </li></ul><br><p style=";text-align:right;direction:rtl">  ูู ุงููุซุงู ุ ูุชู ุชูููุฐ ูุฐู ุงููุธููุฉ ุนู ุทุฑูู ุงูุฃุณุงููุจ ุงูุซุงุจุชุฉ ูููุฆุฉ <code>TestMarshaller</code> .  <code>TestElement</code> ูุงุฆูุงุช <code>TestElement</code> ูู ุงูุฐุงูุฑุฉ ููุง ููู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุชู ูุณุฎ ุทูู ุญูู <code>id</code> ุฅูู ุจุฏุงูุฉ ุงููุฎุฒู ุงููุคูุช </li><li style=";text-align:right;direction:rtl">  ุงูุจุงูุช ุงูุชุงูู ูุชู ูุถุน ูุญุชููุงุช ุญูู <code>id</code> </li><li style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ูุชู ูุณุฎ ุญุฌู ุญูู <code>name</code> </li><li style=";text-align:right;direction:rtl">  ุซู ูุชู ูุถุน ุงููุญุชูู ููุณู ูู ุญูู <code>name</code> </li></ul><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ko/ad/ul/koaduleknjbnfvapxlo6wff4qvm.png"></p><br><p style=";text-align:right;direction:rtl">  ูุตููุง ูุธุงุฆู <code>TestMarshaller</code> : </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>TestMarshaller::restore</code> - ุชุนุจุฆุฉ ุงููุงุฆู <code>TestElement</code> ุจุงูุจูุงูุงุช ูู ุงููุฎุฒู ุงููุคูุช </li><li style=";text-align:right;direction:rtl">  <code>TestMarshaller::size</code> - ุญุฌู ุงููุฎุฒู ุงููุคูุช ุงููุทููุจ ูุญูุธ ุงููุงุฆู ุงููุญุฏุฏ. </li><li style=";text-align:right;direction:rtl">  <code>TestMarshaller::store</code> - ูุญูุธ ุงููุงุฆู ูู ุงููุฎุฒู ุงููุคูุช. </li></ul><br><p style=";text-align:right;direction:rtl">  ูุชุณุฌูู ูุธุงุฆู ุงูุชูุธูู / <code>dbstl::DbstlElemTraits</code> ุงูุชูุธูู ุ ุงุณุชุฎุฏู <code>dbstl::DbstlElemTraits</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">dbstl::DbstlElemTraits&lt;TestElement&gt;::instance()-&gt;set_size_function(&amp;TestMarshaller::size); dbstl::DbstlElemTraits&lt;TestElement&gt;::instance()-&gt;set_copy_function(&amp;TestMarshaller::store); dbstl::DbstlElemTraits&lt;TestElement&gt;::instance()-&gt;set_restore_function( &amp;TestMarshaller::restore );</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชููุฆุฉ ุงูุญุงููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">dbstl::db_map&lt;std::string, TestElement&gt; elementsMap(db, penv);</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฐุง ูู ููู ูุจุฏู ูุณุฎ ุงูุนูุงุตุฑ ูู <code>std::map</code> ุฅูู ุงูุญุงููุฉ ุงูุชู ุชู ุฅูุดุงุคูุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">std::copy( std::cbegin(inputValues), std::cend(inputValues), std::inserter(elementsMap, elementsMap.begin()) );</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููู ุจูุฐู ุงูุทุฑููุฉ ููููู ุทุจุงุนุฉ ูุญุชููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฅูู ุงูุฅุฎุฑุงุฌ ุงูููุงุณู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">std::transform( elementsMap.begin(dbstl::ReadModifyWriteOption::no_read_modify_write(), true), elementsMap.end(), std::ostream_iterator&lt;std::string&gt;(std::cout, "\n"), [](const auto data) -&gt; std::string { return data.first + "=&gt; { id: " + data.second.id + ", name: " + data.second.name + "}"; });</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงุณุชุฏุนุงุก ุฃุณููุจ <code>begin</code> ูู ุงููุซุงู ุฃุนูุงู ูุจุฏู ุบูุฑ ุนุงุฏู ุจุนุถ ุงูุดูุก: <code>elementsMap.begin(dbstl::ReadModifyWriteOption::no_read_modify_write(), true)</code> . <br>  ูุณุชุฎุฏู ูุฐุง ุงูุชุตููู ููุญุตูู ุนูู <em>ุฃุฏุงุฉ</em> ุชูุฑุงุฑ <em>ูููุฑุงุกุฉ ููุท</em> .  ูุง ูุญุฏุฏ <code>cbegin</code> ุทุฑููุฉ <code>cbegin</code> ุ ุจุฏูุงู ูู ุฐูู ุ ูุชู ุงุณุชุฎุฏุงู ุงููุนููุฉ <code>readonly</code> (ุงูุซุงููุฉ) ูู ุทุฑููุฉ <code>begin</code> .  ููููู ุฃูุถูุง ุงุณุชุฎุฏุงู <em>ูุฑุฌุน ุซุงุจุช</em> ุฅูู ุงูุญุงููุฉ ููุญุตูู ุนูู <em>ุฃุฏุงุฉ</em> ุชูุฑุงุฑ <em>ูููุฑุงุกุฉ ููุท</em> .  ูุณูุญ ูุฐุง ุงูุชูุฑุงุฑ ููุท ุจุนูููุฉ ุงููุฑุงุกุฉ ุ ุนูุฏ ุงููุชุงุจุฉ ุ ุณูู ูููู ุงุณุชุซูุงุกู. </p><br><p style=";text-align:right;direction:rtl">  ููุงุฐุง ูุชู ุงุณุชุฎุฏุงู ุฃุฏุงุฉ ุงูุชูุฑุงุฑ <em>ูููุฑุงุกุฉ ููุท</em> ูู ุงูููุฏ ุฃุนูุงูุ  ุฃููุงู ุ ุฅููุง ุชููู <em>ููุท</em> ุจุนูููุฉ ูุฑุงุกุฉ ูู ุฎูุงู ุฃุฏุงุฉ ุชูุฑุงุฑ.  ุซุงููุงู ุ ุชููู ุงููุซุงุฆู ุฃู ุฃุฏุงุกูุง <em>ุฃูุถู</em> ููุงุฑูุฉ ุจุงูุฅุตุฏุงุฑ ุงูุนุงุฏู. </p><br><p style=";text-align:right;direction:rtl">  ุฅุถุงูุฉ ุฒูุฌ ุฌุฏูุฏ / ูููุฉ ุฌุฏูุฏุฉ ุ ุฃู ุฅุฐุง ูุงู ุงูููุชุงุญ ููุฌูุฏูุง ุจุงููุนู ุ ูููู ุชุญุฏูุซ ุงููููุฉ ุจุณูุทูุง ููุง ูู <code>std::map</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">elementsMap["added key 1"] = {"added id 1", "added name 1"};</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุง ูู ูุฐููุฑ ุฃุนูุงู ุ ุชููู ุงูุชุนูููุฉ elementMap <code>elementsMap["added key 1"]</code> ุจุฅุฑุฌุงุน ูุฆุฉ ูุฌููุน ูุน <code>operator=</code> ุฅุนุงุฏุฉ ุชุนุฑูููุง ุ ุญูุซ ุชููู ุงูููุงููุฉ ุงูุชุงููุฉ ุจุญูุธ ุงููุงุฆู ูุจุงุดุฑุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุฅุฏุฑุงุฌ ุนูุตุฑ ูู ุญุงููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">auto [iter, res] = elementsMap.insert( std::make_pair(std::string("added key 2"), TestElement{"added id 2", "added name 2"}) );</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุงุณุชุฏุนุงุก ุฅูู <code>elementsMap.insert</code> ุจุฅุฑุฌุงุน <code>std::pair&lt;,  &gt;</code> .  ุฅุฐุง ุชุนุฐุฑ ุฅุฏุฑุงุฌ ุงููุงุฆู ุ ูุณุชููู <em>ุนูุงูุฉ ุงููุฌุงุญ</em> <strong>ุฎุงุทุฆุฉ</strong> .  ูุฅูุง ุ <em>ูุฅู ุนูุงูุฉ ุงููุฌุงุญ</em> ุชุญุชูู ุนูู <strong>true</strong> ุ ููุดูุฑ <em>ุงูุชูุฑุงุฑ</em> ุฅูู ุงููุงุฆู ุงููุฏุฑุฌ. </p><br><p style=";text-align:right;direction:rtl">  ููุงู ุทุฑููุฉ ุฃุฎุฑู ููุนุซูุฑ ุนูู ุงููููุฉ ุญุณุจ ุงูููุชุงุญ ููู ุงุณุชุฎุฏุงู ุทุฑููุฉ <code>dbstl::db_map::find</code> ุ ุนูู ุบุฑุงุฑ <code>std::map::find</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">auto findIter = elementsMap.find("test key 1");</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุฎูุงู ุจุฑูุงูุฌ ุงูุชูุฑุงุฑ ุงูุฐู ุชู ุงูุญุตูู ุนููู ุ ููููู ุงููุตูู ุฅูู ุงูููุชุงุญ - <code>findIter-&gt;first</code> ุ ุฅูู ุญููู ุนูุตุฑ <code>findIter-&gt;second.id</code> - <code>findIter-&gt;second.id</code> ู <code>findIter-&gt;second.name</code> .  ูุงุณุชุฎุฑุงุฌ ุฒูุฌ <em>ููุชุงุญ</em> / <em>ูููุฉ</em> ุ ูุชู ุงุณุชุฎุฏุงู ูุดุบู dereference - <code>auto iterPair = *findIter;</code>  . </p><br><p style=";text-align:right;direction:rtl">  ุนูุฏูุง ูุชู ุชุทุจูู ุนุงูู ุฅูุบุงุก ุงูุชุณุฌูู ( <strong>*</strong> ) ุฃู ุงููุตูู ุฅูู ุนุถู ูู ุงููุตู ( <strong>-&gt;</strong> ) ุนูู ุงูุชูุฑุงุฑ ุ ูุชู ุงููุตูู ุฅูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงุณุชุฎุฑุงุฌ ุงูุจูุงูุงุช ููู.  ุนูุงูุฉ ุนูู ุฐูู ุ ูุชู ูุณุญ ุงูุจูุงูุงุช ุงูุชู ุชู ุงุณุชุฎุฑุงุฌูุง ูุณุจููุง ุ ุญุชู ูู ุชู ุชุนุฏูููุง.  ูุฐุง ูุนูู ุฃูู ูู ุงููุซุงู ุฃุฏูุงู ุ ุณูุชู ุชุฌุงูู ุงูุชุบููุฑุงุช ุงูุชู ุชู ุฅุฌุฑุงุคูุง ุนูู ุงูุชูุฑุงุฑ ุ ูุณูุชู ุนุฑุถ ุงููููุฉ ุงููุฎุฒูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุนูู ูุญุฏุฉ ุงูุชุญูู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">findIter-&gt;second.id = "skipped id"; findIter-&gt;second.name = "skipped name"; std::cout &lt;&lt; "Found elem for key " &lt;&lt; "test key 1" &lt;&lt; ": id: " &lt;&lt; findIter-&gt;second.id &lt;&lt; ", name: " &lt;&lt; findIter-&gt;second.name &lt;&lt; std::endl;</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุชุฌูุจ ุฐูู ุ ุชุญุชุงุฌ ุฅูู ุงูุญุตูู ุนูู ุบูุงู ุงููุงุฆู ุงููุฎุฒู ูู ุงูุชูุฑุงุฑ ุนู ุทุฑูู ุงุณุชุฏุนุงุก <code>findIter-&gt;second</code> ูุญูุธู ูู ูุชุบูุฑ.  ุจุนุฏ ุฐูู ุ ูู ุจุฅุฌุฑุงุก ุฌููุน ุงูุชุบููุฑุงุช ุนูู ูุฐุง ุงููุฌูุน ุ ูุงูุชุจ ุงููุชูุฌุฉ ุฅูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุนู ุทุฑูู ุงุณุชุฏุนุงุก ุฃุณููุจ ุงููุฌููุน <code>_DB_STL_StoreElement</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">auto ref = findIter-&gt;second; ref.id = "new test id 1"; ref.name = "new test name 1"; ref._DB_STL_StoreElement();</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููู ุฃู ูููู ุชุญุฏูุซ ุงูุจูุงูุงุช ุฃุณูู - ูุง ุนููู ุณูู ุงูุญุตูู ุนูู ุงููุฌูุน ุจุงุณุชุฎุฏุงู <code>findIter-&gt;second</code> ุงูุชุนูููุฉ <code>findIter-&gt;second</code> ูุชุนููู ูุงุฆู <code>TestElement</code> ุงููุทููุจ ุ ููุง ูู ุงููุซุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">if(auto findIter = elementsMap.find("test key 2"); findIter != elementsMap.end()){ findIter-&gt;second = {"new test id 2", "new test name 2"}; }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุจู ุฅููุงุก ุงูุจุฑูุงูุฌ ุ ูุฌุจ ุนููู ุงูุงุชุตุงู <code>dbstl::dbstl_exit();</code>  ูุฅุบูุงู ูุญุฐู ุฌููุน ุงููุงุฆูุงุช ุงููุณุฌูุฉ ูู ูุฏูุฑ ุงูููุงุฑุฏ. </p><br><h2 id="v-zaklyuchenii" style=";text-align:right;direction:rtl">  ูู ุงูุฎุชุงู </h2><br><p style=";text-align:right;direction:rtl">  ุชููุฑ ูุฐู ุงูููุงูุฉ ูุธุฑุฉ ุนุงูุฉ ูุฎุชุตุฑุฉ ุญูู ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ <strong>ูุญุงููุงุช dbstl ุจุงุณุชุฎุฏุงู</strong> <code>dbstl::db_map</code> ูู ุจุฑูุงูุฌ ุจุณูุท ูุชุฑุงุจุทุฉ.  ูุฐู ูุฌุฑุฏ ููุฏูุฉ ุตุบูุฑุฉ ููุง ุชุดูู ููุฒุงุช ูุซู ุงููุนุงููุฉ ุ ูุงูุชุฃููู ุ ูุฅุฏุงุฑุฉ ุงูููุงุฑุฏ ุ ููุนุงูุฌุฉ ุงูุงุณุชุซูุงุก ุ ูุงูุชูููุฐ ูุชุนุฏุฏ ูุคุดุฑุงุช ุงูุชุฑุงุจุท. </p><br><p style=";text-align:right;direction:rtl">  ูู ุฃูุฏู ุฅูู ูุตู ุงูุทุฑู ูุงููุนููุงุช ุงูุฎุงุตุฉ ุจูุง ุจุงูุชูุตูู ุ ูุฐูู ูู ุงูุฃูุถู ุงูุฅุดุงุฑุฉ ุฅูู ุงููุซุงุฆู ุงูููุงุจูุฉ ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุงุฌูุฉ C ++</a> ูุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุงุฌูุฉ STL</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar459862/">https://habr.com/ru/post/ar459862/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar459844/index.html">ุงูุจุทุฑูู ูู ุงููุงูุฐุฉ: ุนูู ุฅููุงูุงุช ูุขูุงู WSL2</a></li>
<li><a href="../ar459850/index.html">ุชูููููุฌูุง ุฑุงุฏูู ุงูููุงุฉ: ููู ุทูุจุช ุชุฑููุจ ููุญุฉ ุฏูุงุฆุฑ ูุทุจูุนุฉ ูู ูุตูุน ุตููู</a></li>
<li><a href="../ar459852/index.html">ููุงุฑุณุฉ ุงุณุชุฎุฏุงู ููุชุจุฉ lottie ูู ุชุทุจูู ุงูุจูู ุงููุญููู</a></li>
<li><a href="../ar459858/index.html">ุงุณุชูุดุงู ุงูุจุฑุงูุฌ ุงูุถุงุฑุฉ ุงูุญุฏูุซุฉ ุณูุฑุจูุฑูุณ ูุงูุฑูุจูุช</a></li>
<li><a href="../ar459860/index.html">ุชูููู ClickHouse ูุงุฎุชุจุงุฑ ุงูุชูุงูู ูู gitlab-ci</a></li>
<li><a href="../ar459866/index.html">ุญู ุงููุดุงูู ูุน pwnable.kr 02 - ุชุตุงุฏู. ุชุฌุฒุฆุฉ ุงูุงุตุทุฏุงู</a></li>
<li><a href="../ar459870/index.html">ูุซุงู ุจููุฉ ุทุฑุงุฒ - ุนุฑุถ - ุชุญุฏูุซ ูู F #</a></li>
<li><a href="../ar459872/index.html">ุจุงุชูู ุฌูู. ูุตุต ูุฎุตุตุฉ. ูู ุชุทููุฑ ุงูุจุฑูุฌูุงุช ุฑุดููุฉ</a></li>
<li><a href="../ar459874/index.html">ูุฏูู ุดูุก ุชุฎููู</a></li>
<li><a href="../ar459878/index.html">7 ูุตุงุฆุญ ูุชุญุณูู CSS ูุชุณุฑูุน ุชุญููู ุงูุตูุญุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>