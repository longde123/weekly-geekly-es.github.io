<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎏 🙋🏻 🙆🏿 Intégration rapide avec 1C: Enterprise 👩🏾‍🍳 🧑🏾‍🤝‍🧑🏽 🎅🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans cet article, je parlerai de la manière la plus simple, à mon avis, d'intégrer des applications tierces avec des configurations 1C. L'article inté...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Intégration rapide avec 1C: Enterprise</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462453/">  Dans cet article, je parlerai de la manière la plus simple, à mon avis, d'intégrer des applications tierces avec des configurations 1C.  L'article intéressera principalement les développeurs qui écrivent sur <b>.Net Core</b> , <b>PHP</b> et <b>Python</b> . <br><br>  Il existe de nombreuses façons de s'intégrer à 1C, un excellent <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article</a> de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">1C</a> lui-même y est même consacré.  Vous en apprendrez en particulier que 1C prend en charge les mécanismes des services Web, ce qui signifie que nous pouvons implémenter notre propre service du côté 1C et, par conséquent, notre propre bibliothèque ORM du côté de l'application cliente.  Une de ces bibliothèques sera discutée plus loin. <br><a name="habracut"></a><br><h2>  Description de la technique en termes généraux </h2><br><h3>  Du côté de 1C </h3><br>  Tout commence par le fait que l'extension «Brom» est ajoutée à la configuration 1C, en ajoutant un nouveau service Web.  L'extension est disponible gratuitement et sous licence (MIT).  L'extension elle-même n'est pas liée à un modèle de données spécifique et peut donc être installée sur n'importe quelle configuration prenant en charge le mode de compatibilité 8.3.10 ou supérieur. <br><br>  Une fois l'extension installée, vous devez configurer les droits des utilisateurs qui auront accès aux méthodes de service Web, ainsi que publier la configuration sur le serveur Web afin que le service ajouté soit accessible via le protocole http (s).  Côté 1C, rien de plus n'est requis. <br><br><h3>  Côté client </h3><br>  Côté client, le package Brom est connecté, par exemple, pour .Net Core, cela peut être fait avec la commande: <br><br><pre><code class="plaintext hljs">Install-Package Brom -Version 1.0.1-beta08</code> </pre> <br>  Ou pour Python: <br><br><pre> <code class="plaintext hljs">pip install brome</code> </pre> <br>  Après avoir installé le package, il suffit de créer un objet client à travers lequel l'interaction avec la configuration 1C distante sera effectuée.  Ci-après je donnerai le code en C #, mais en PHP et Python c'est similaire.  Et donc, vous pouvez créer un client avec une seule commande: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">dynamic</span></span>  = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> (<span class="hljs-string"><span class="hljs-string">@"  = http://mydomain.com/publication_name;  = 1c_user_name;  = 1c_user_pass "</span></span>);</code> </pre> <br>  Dans le constructeur, il suffit d'indiquer l'adresse de la configuration 1C publiée, et les données de l'utilisateur à qui nous avons délivré les droits d'accès à l'extension.  Dès que le client est créé, nous pouvons procéder au plus intéressant. <br><br><h2>  Appel des procédures et fonctions 1C </h2><br>  Grâce au client de brome créé, nous pouvons appeler les procédures et fonctions définies dans 1C.  Dans ce cas, les méthodes appelées doivent être côté serveur et être contenues soit dans le contexte global, soit dans des modules serveur (modules généraux ou modules gestionnaire).  Par exemple, voici à quoi ressemble l'appel de fonction du contexte global «Prescription numérique»: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">string</span></span>  = .(<span class="hljs-number"><span class="hljs-number">2547</span></span>, <span class="hljs-string"><span class="hljs-string">" = fr_FR"</span></span>);</code> </pre> <br>  Le deuxième paramètre est une chaîne de format indiquant la localisation (français).  Les paramètres sont transférés sous une forme naturelle et ne nécessitent aucune conversion ou emballage supplémentaire. <br><br>  Et voici à quoi ressemblera l'appel à la fonction Rechercher par code du module gestionnaire d'annuaire: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span>  = ...(<span class="hljs-number"><span class="hljs-number">840</span></span>);</code> </pre> <br>  Ici, nous avons appelé la fonction via le répertoire du gestionnaire de modules "Devises".  Le résultat de l'appel sera un objet de type "DirectoryReference".  Maintenant, le lien résultant vers l'objet peut être passé en tant que paramètre à une autre fonction: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span>  = ..(, DateTime.Today);</code> </pre> <br>  Cette fois, nous nous sommes tournés vers le module général «Travailler avec des devises» et avons sauvé sa méthode «Obtenir des cours en devises». <br><br>  La bibliothèque prend en charge le travail avec des types de données complexes, il est donc possible d'appeler des méthodes qui prennent ou retournent: Liens, Tableaux, Structures, Tables de valeurs, Arbres de valeurs, énumérations système, etc. ... Certaines classes sont spécialement implémentées dans la bibliothèque cliente pour simplifier le travail avec 1C. <br><br>  La portée des méthodes distantes peut être configurée de manière flexible en les spécifiant dans les paramètres.  Ainsi, par exemple, si vous spécifiez la zone "Répertoires. *. Rechercher par code", seule la méthode "Rechercher par code" sera disponible dans tous les répertoires de configuration.  Ainsi, vous pouvez clairement indiquer les méthodes qu'une application intégrée peut utiliser. <br><br><h2>  Travailler avec des liens </h2><br>  Les références aux objets permettent non seulement de transférer le pointeur vers l'objet 1C, mais également de recevoir les données de l'objet lui-même.  Travailler avec des liens côté client est aussi simple qu'en 1C.  Par exemple: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span>  = ...(<span class="hljs-string"><span class="hljs-string">"00-000018"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Date(<span class="hljs-number"><span class="hljs-number">2017</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span>  = .; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span>  = .; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span>  = ..; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span>  <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> .) { Console.WriteLine((., .)); }</code> </pre> <br>  Ici, nous avons trouvé un lien vers le document via le module gestionnaire et obtenu les valeurs des champs du document et de sa section tabulaire «Produits».  Après le premier accès au champ objet, toutes ses données sont téléchargées depuis le serveur 1C et stockées sur le client jusqu'à ce que le lien soit supprimé par le garbage collector. <br><br>  Un lien vers l'objet peut également être obtenu côté client sans accéder au serveur.  Pour ce faire, il suffit de connaître l'identifiant unique de l'objet: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span>  = ...(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Guid(<span class="hljs-string"><span class="hljs-string">"5a32b6ab-4661-11e9-912a-38d547755ef7"</span></span>));</code> </pre> <br>  Vous pouvez également simplement obtenir des liens vers des éléments de collection prédéfinis: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span>  = ...<span class="hljs-number"><span class="hljs-number">18</span></span>_118;</code> </pre> <br><br><h2>  Modification d'objets </h2><br>  Ayant un lien vers l'objet, nous pouvons éditer les données de l'objet.  Pour ce faire, créez simplement un contexte d'objet: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span>  = .(); . = DateTime.Today; . = <span class="hljs-string"><span class="hljs-string">"00-000055"</span></span>; ..(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span>  = ..() . = ...(<span class="hljs-string"><span class="hljs-string">"000000104"</span></span>); . = <span class="hljs-number"><span class="hljs-number">3</span></span>; .(.);</code> </pre> <br>  Dans cet exemple, nous avons créé le contexte du document via un lien vers le document, rempli certains champs, ajouté une ligne à la section tabulaire «Produits» et enregistré le document en mode publication. <br><br>  Si vous devez créer un nouvel objet, cela est également possible: <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">//     var  = ...(); . = " "; .(); //     var  = ...(); . = .; . = " "; . = "T-00012321"; //    .(); //      var  = .;</span></span></code> </pre> <br>  Ici, nous avons créé un nouveau groupe dans le répertoire «Nomenclature», puis créé un élément de répertoire et placé dans le groupe créé. <br><br><h2>  Échantillonnage </h2><br>  Comme tout ORM décent, le client brome vous permet de créer des échantillons à partir de diverses collections d'objets 1C.  Une sélection est une collection de références à des objets de collection qui satisfont un ensemble de conditions de sélection.  Pour créer une sélection, il suffit de créer l'objet «Sélecteur»: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span>  = ...(<span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span>  = ...(); . (<span class="hljs-string"><span class="hljs-string">", , , ."</span></span>). (<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>). (<span class="hljs-string"><span class="hljs-string">""</span></span>, , .). (<span class="hljs-string"><span class="hljs-string">""</span></span>). (<span class="hljs-string"><span class="hljs-string">""</span></span>, .); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span>  <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ) { Console.WriteLine(<span class="hljs-string"><span class="hljs-string">": {0}; : {1}, : {2}; : {3}"</span></span>, ., ., ., .. ); } <span class="hljs-comment"><span class="hljs-comment">//         var  = .();</span></span></code> </pre> <br>  Dans cet exemple, nous avons obtenu un exemple qui contient des éléments du répertoire "Nomenclature", qui sont hiérarchiquement dans le groupe "Furniture".  Nous avons souligné qu'en plus des liens eux-mêmes, il est nécessaire de charger les données de certains champs.  Pour cette raison, les données de ces champs seront chargées avec une seule demande et leur accès ne conduira pas à des appels de serveur supplémentaires. <br><br><h2>  Exécution de requête </h2><br>  Le plus souvent, les données stockées dans une collection deviennent insuffisantes et nous devons obtenir les données générées par une requête complexe.  Pour répondre aux demandes, une classe spéciale «Demande» est fournie dans la bibliothèque cliente.  Le travail avec les demandes côté client est très similaire au travail du côté 1C: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span>  = .(<span class="hljs-string"><span class="hljs-string">@"  .  , .  , .    .    . = &amp; "</span></span>); .(<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"-0001"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span>  = .(); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span>  <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ) { Console.WriteLine((., .)); }</code> </pre> <br>  Ici, nous avons créé une requête simple avec un paramètre qui sélectionne les données du répertoire "Nomenclature".  En tant que paramètre, nous avons passé l'article chaîne de l'élément.  Dans le cas général, la valeur du paramètre peut également être des liens, des énumérations système et même des tableaux.  À la suite de la requête, nous avons renvoyé la "table des valeurs", cette classe est implémentée côté client.  Dans cet exemple, nous avons déduit les champs des lignes du tableau à l'aide d'une boucle. <br><br>  Du côté 1C, toutes les demandes sont exécutées via le générateur de requêtes, vous pouvez donc spécifier non seulement une demande prête à l'emploi sous forme de texte, mais également un modèle de demande contenant du balisage pour le générateur: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> = .(<span class="hljs-string"><span class="hljs-string">@"   5 .  , .  , .   { .*}  ..( {(&amp;)}, { ().*, ().*} )   { .} {  .*, .*} "</span></span>); <span class="hljs-comment"><span class="hljs-comment">//         .("..", ""); //      .("", 100, .); //       .("."); .("", .); var  = .(.);</span></span></code> </pre> <br>  Dans cet exemple, nous avons spécifié une requête standardisée, dont les paramètres peuvent être modifiés dynamiquement côté client si nécessaire.  Pour cette raison, les champs, sélections et tri peuvent être indiqués dans le corps du code de programme principal et non dans le corps de la demande. <br><br>  La méthode Run accepte le paramètre facultatif «type d'analyse des résultats».  Si vous spécifiez le type d'analyse "Par regroupement" ou "Par regroupement avec une hiérarchie", alors au lieu d'une table de valeurs, la méthode renvoie un arbre de valeurs. <br><br>  En outre, au lieu de la méthode Run, vous pouvez appeler la méthode Run Package (pour exécuter plusieurs demandes à la fois).  Dans ce cas, un tableau de tables ou un tableau d'arbres sera retourné, selon le type de traversée. <br><br><h2>  Exécution d'extraits de code </h2><br>  Dans certains cas exotiques, vous devrez peut-être exécuter un morceau de code spécifique directement du côté 1C.  Pour ce faire, le client Brom fournit la méthode "Exécuter".  La méthode prend un texte d'entrée contenant du code exécutable et un paramètre facultatif, qui sera disponible dans le code dans la variable «Paramètre»: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span>  = .(<span class="hljs-string"><span class="hljs-string">@"  = 0;        =  + ; ; "</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">double</span></span>[] { <span class="hljs-number"><span class="hljs-number">45</span></span>, <span class="hljs-number"><span class="hljs-number">67</span></span>, <span class="hljs-number"><span class="hljs-number">12.56</span></span>, <span class="hljs-number"><span class="hljs-number">11.9</span></span> });</code> </pre> <br>  Dans cet exemple, nous avons exécuté un morceau de code qui additionne les nombres dans un tableau.  Le tableau lui-même a été transmis en tant que paramètre et placé dans la variable "Parameter".  Le résultat du calcul a été placé dans la variable "Résultat".  Si une variable portant ce nom est remplie dans le code exécutable, sa valeur au moment où l'exécution se termine est renvoyée comme résultat de la fonction "Exécuter". <br><br>  La possibilité d'exécuter des fragments de code est régie par un rôle d'accès distinct dans l'extension.  Il est recommandé d'activer ce rôle uniquement à des fins de test, et assurez-vous de le désactiver dans le projet de travail, comme  Il s'agit d'une vulnérabilité évidente. <br><br><h2>  Avantages inconvénients de la technique </h2><br>  Les avantages de la méthodologie décrite devraient certainement inclure: <br><br><ul><li>  <b>Multiplateforme</b> .  Toutes les interactions sont basées sur les protocoles SOAP et HTTP, et leur implémentation se fait sur toutes les plateformes de développement populaires; </li><li>  <b>La simplicité du code</b> .  Le code côté application client est presque identique au code côté 1C; </li><li>  <b>Mécanismes de sérialisation intégrés</b> .  Nous n'avons pas besoin d'emballer et de déballer les données pour les échanger avec 1C; </li><li>  <b>Support pour travailler avec des liens</b> .  Nous avons un accès facile aux objets 1C via des liens; </li><li>  <b>Prise en charge des types de données spécifiques à 1C</b> .  Nous pouvons échanger avec des tables 1C, des arbres, des structures et d'autres structures complexes; </li><li>  <b>Accès au contexte de l'application</b> .  Nous avons accès non seulement aux données de la base de données, mais nous avons également la possibilité d'appeler des méthodes définies sur le côté 1C, et avons également accès à l'état de la session. </li></ul><br>  Les inconvénients de cette technique sont également disponibles: <br><br><ul><li>  <b>Faible débit de données</b> .  Étant donné que le protocole SOAP est basé sur la sérialisation XML, le transfert de grandes quantités de données nécessite du temps pour l'échange du trafic excédentaire, ainsi que pour l'emballage et le déballage des données.  La communication via une connexion COM semble préférable dans ce contexte; </li><li>  <b>Un client pratique n'est pas disponible sur toutes les plateformes</b> .  Si vous n'êtes pas un programmeur .Net Core, PHP ou Python, vous devrez implémenter le client brome vous-même à l'aide de mécanismes SOAP, ce qui, en général, prend beaucoup de temps; </li><li>  <b>Limitations du langage de requête 1C</b> .  Étant donné que tout le travail avec la base de données s'effectue via le mécanisme de requête 1C, il existe certaines limitations.  Par exemple, vous ne pouvez pas implémenter la pagination classique des données, car  dans le langage de requête 1C, il n'y a aucun mécanisme de pagination. </li></ul><br><h2>  Comparaison avec OData </h2><br>  À partir de l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article</a> 1C susmentionné, vous pouvez découvrir que dans 1C: l'accès aux données d'entreprise est implémenté à l'aide du protocole OData normalisé.  Pour cette raison, il serait stupide de ne pas le mentionner non plus. <br>  Voici un bref tableau de comparaison: <br><div class="scrollable-table"><table><thead><tr><th></th><th>  Brome </th><th>  OData </th></tr></thead><tbody><tr><td>  Obtention de données de collecte avec des conditions de sélection et de tri complexes </td><td>  + </td><td>  + </td></tr><tr><td>  Sortie de page des données de collections </td><td></td><td>  + </td></tr><tr><td>  Ajout et modification de données </td><td>  + </td><td>  + </td></tr><tr><td>  Prise en charge du travail avec les types 1C: Enterprise (liens, tables, arborescences, etc.) </td><td>  + </td><td></td></tr><tr><td>  Exécution de requêtes arbitraires </td><td>  + </td><td></td></tr><tr><td>  Appeler les procédures et fonctions du serveur </td><td>  + </td><td></td></tr><tr><td>  Exécution de code de serveur arbitraire </td><td>  + </td><td></td></tr><tr><td>  Outils de visualisation / interfaces utilisateur prêts à l'emploi </td><td></td><td>  + </td></tr><tr><td>  Transfert de données JSON </td><td></td><td>  + </td></tr></tbody></table></div><br>  On voit que ces méthodes ont leurs avantages et leurs inconvénients et, dans le cas général, ne sont pas interchangeables. <br><br><h2>  Conclusion </h2><br>  J'espère que cet article de revue vous aidera à l'avenir à créer rapidement et facilement des portails, des comptes personnels et des services qui sont étroitement intégrés aux systèmes comptables basés sur 1C: Enterprise.  Vous pouvez trouver des informations détaillées sur les composants du brome dans la documentation officielle, voici juste un bref aperçu des principales fonctionnalités. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr462453/">https://habr.com/ru/post/fr462453/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr462443/index.html">Rendu d'image Resident Evil 2</a></li>
<li><a href="../fr462445/index.html">Earth Rumble: théories du complot et explications possibles</a></li>
<li><a href="../fr462447/index.html">Comment les développeurs juniors rendent mon projet plus correct</a></li>
<li><a href="../fr462449/index.html">«Comment mettre des réseaux sur des analystes novices» ou un examen du cours en ligne «Démarrer en science des données»</a></li>
<li><a href="../fr462451/index.html">Examen comparatif des appareils à micro-ondes portables Arinst vs Anritsu</a></li>
<li><a href="../fr462455/index.html">La vie secrète des graveurs laser</a></li>
<li><a href="../fr462457/index.html">4 sorties de Maltego. Principes de travail et opportunités</a></li>
<li><a href="../fr462459/index.html">Ajout de périphériques ZigBee à Homebridge à l'aide de CC2531</a></li>
<li><a href="../fr462461/index.html">Résultats de l'enquête GOES-17 sur l'accident</a></li>
<li><a href="../fr462465/index.html">Utilisation des lieux natifs d'Apple</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>