<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏼‍🚒 👲🏻 👩‍⚕️ Lokale Autorisierung ohne Passwort in Ubuntu 🧖🏾 🏊 🙁</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Heute werden wir darüber sprechen, wie wir in Ubuntu eine lokale Autorisierung ohne Passwort gefunden haben, die anscheinend niemals geschlossen wird....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lokale Autorisierung ohne Passwort in Ubuntu</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/acribia/blog/416425/"><img src="https://habrastorage.org/webt/ww/p0/1q/wwp01qrnhwpnkdwjvsmaexhp934.jpeg" alt="Bild"><br><br>  Heute werden wir darüber sprechen, wie wir in Ubuntu eine lokale Autorisierung ohne Passwort gefunden haben, die anscheinend niemals geschlossen wird.  Wie alles passiert ist, lesen Sie unter dem Schnitt. <br><a name="habracut"></a><br>  An einem schönen Sommerabend schloss der Autor des Artikels das Cover eines funktionierenden Laptops von Ubuntu 16.04 Desktop zu Unity und ging nach Hause.  Der Abend war so schön, dass ich mich entschied, ein paar Tage frei zu nehmen, meinem Chef eine SMS zu schicken und er mich gehen ließ. <br><br>  Wie sich herausstellte, hatten nicht alle meine Kollegen den gleichen wundervollen Abend.  In <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">c4n</a> gebrochen Laptop, so bat er mich , ihn zu verleihen, aber mit seiner Festplatte.  Natürlich habe ich erlaubt. <br><br>  Damit begann unsere faszinierende Untersuchung. <br><br><h3>  Was ist passiert? </h3><br>  Am nächsten Morgen nahm <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">c4n</a> meinen Laptop auseinander und legte dort meine Festplatte ein.  Er öffnete den Deckel und sah, anstatt sein Betriebssystem zu laden, das Anmeldefenster auf meinem System.  Es war anklickbar und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">c4n</a> begann, zufällige Passwörter einzugeben, jedoch ohne Erfolg.  Frustriert drückte er den Ein- / Ausschalter und dann geschah ein <b>Wunder</b> . <br><br>  Statt einen Neustart des Computers hatte einen erfolgreichen Einstieg in <b>mein</b> System gemacht, und wurden die letzten offenen meine Programme und Dokumente gezeigt.  Es ist erwähnenswert, dass die Dokumente nicht nur gezeigt wurden, sie arbeiteten für sich selbst!  Sie können durch Dokumente scrollen und die Browser-Registerkarten durchgehen.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">c4n hat</a> mir sofort einen Screenshot gemacht. <br><br><img src="https://habrastorage.org/webt/3b/_l/yn/3b_lynsdq6qitwise7xmcufn3lq.png" alt="Bild"><br>  <i>Tatsächlich war der Screenshot anders.</i>  <i>Wenn ich die Arbeit verlasse, lasse ich KeePass und die Unternehmenswebsite nicht offen.</i> <br><br>  Angesichts lokaler Autorisierung ohne Passwort! <br><br>  Als ich aus dem Urlaub kam, fragte ich mich, was der Fehler dieses Phänomens war, ob es immer reproduziert wurde und ob es immer das gleiche reproduzierte, ob es auf allen Systemen reproduziert wurde. <br><br><h3>  Gründe </h3><br>  Wie sich herausstellte, war der Fehler dieses Phänomens, dass mein Laptop beim Schließen des Deckels nicht in den Ruhezustand ging, sondern in den Ruhezustand ging (dh den RAM eingeschaltet ließ), und nach dem Öffnen des Deckels blieben das geladene Betriebssystem und die neuesten Dateien im RAM mit mit denen ich gearbeitet habe.  Das Betriebssystem weiß nicht, dass die Festplatte vom Computer entfernt wurde, und arbeitet weiter, bis Sie auf die Festplatte zugreifen müssen. <br><br>  Warum es möglich ist, eine Genehmigung zu erteilen, bleibt uns ein Rätsel.  Wir sündigen an der Arbeit von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">PAM-</a> Modulen (Pluggable Authentication Modules), <s>die sich höchstwahrscheinlich nicht im RAM befinden, und Ubuntu 16.04 verarbeitet ihre Abwesenheit falsch, aber dann haben wir erkannt, dass das Problem etwas anderes ist.</s> <br><br><h3>  Wird es immer reproduziert und ist es immer dasselbe? </h3><br>  Unsere Experimente begannen mit Ubuntu 16.04.  Die Aktionen waren wie folgt: <br><br><ol><li>  Wir schicken den Computer in den Ruhemodus. </li><li>  Wir nehmen die Festplatte heraus. </li><li>  Wir wecken den Computer aus dem Ruhemodus. </li></ol><br>  Wie sich herausstellte, kann es außerdem mehrere Optionen für das Verhalten des Systems geben: <br><br><ol><li>  Der Computer zeigt das Anmeldefenster an, geben Sie ein zufälliges Passwort ein =&gt; Wir sehen Benutzerfenster vor dem Zettel (alle Fenster funktionieren). </li><li>  Der Computer zeigt das Anmeldefenster an, geben Sie ein zufälliges Passwort ein =&gt; das System meldet, dass das Passwort falsch ist =&gt; drücken Sie einmal den Netzschalter =&gt; wir sehen die Benutzerfenster vor dem Beleg (alle Fenster funktionieren). </li><li>  Der Computer zeigt einen schwarzen Bildschirm an (der Cursor fährt darüber), drücken Sie zufällige Tasten und drücken Sie die Eingabetaste =&gt; Wir sehen Benutzerfenster vor dem Zettel (alle Fenster funktionieren). </li><li>  Der Computer zeigt einen schwarzen Bildschirm an (der Cursor fährt darüber), drücken Sie zufällige Tasten und drücken Sie die Eingabetaste =&gt; nichts passiert =&gt; drücken Sie einmal den Netzschalter =&gt; wir sehen die Benutzerfenster vor dem Beleg (alle Fenster funktionieren). </li></ol><br>  Höchstwahrscheinlich ähneln die Elemente 3-4 den Elementen 1-2, nur aus irgendeinem Grund zeichnet die Grafik kein Anmeldefenster. <br><br>  Das Experiment wurde viele Male durchgeführt und es war immer möglich, auf die Fenster des Benutzers zuzugreifen, d.h.  Die Reproduzierbarkeit beträgt 100%.  Das ist sehr cool für so einen seltsamen Fehler.  Es ist erwähnenswert, dass nur aktive Fenster verfügbar sind. Wir konnten nicht zu minimierten Fenstern wechseln.  Außerdem verschwanden einige Fenster nach einer Weile, und manchmal wurde der Protokollierungseffekt beobachtet, aber eine der vier Eingabemethoden erlaubte die Rückgabe. <br><br><h3>  PoC </h3><br>  Wir haben ein kurzes Video gedreht, das den gesamten Angriffsprozess demonstriert. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/cGu5AFCQ1Uw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3>  Spielt es auf allen Systemen? </h3><br>  Voraussetzung für das Testen war das Vorhandensein der neuesten Updates auf dem System.  Warum brauchen wir einen Fehler, der schon lange geschlossen ist? <br><br>  Zunächst wurde entschieden, zu überprüfen, ob der Fehler auf normalen PCs (nicht auf Laptops) mit Ubuntu 16.04 mit Unity reproduziert wird.  Es gab eine Theorie, dass die Fensteranzeige irgendwie mit einer Grafikkarte verbunden sein könnte.  Daher wurde die Prüfung von einem PC mit integrierten und diskreten Grafikkarten aus durchgeführt. In allen Fällen war das Ergebnis das gleiche - es erfüllt den Fehler perfekt. <br><br>  Als nächstes kam Ubuntu 16.04 mit GNOME.  Und hier waren wir enttäuscht: Ich habe den Fehler nicht behoben.  Manchmal zeigte das System beim Verlassen eines Belegs die letzten Fenster für eine halbe Sekunde an (es ist durchaus möglich, ein Video aufzunehmen). Die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Forscher berichteten dies bereits 2011</a> und es wurde bisher noch nicht geschlossen. <br><br>  Weiter haben wir Arch mit Wayland und Xorg genommen - Enttäuschung, funktioniert nicht.  Debian 9 mit GNOME und erneut Enttäuschung.  Auf dem neuen Ubuntu 18.04 funktionierte es auch nicht - nicht überraschend, da wir zu diesem Zeitpunkt bereits den Verdacht hatten, dass das Problem in Unity lag.  Aus diesem Grund haben wir uns entschlossen, Ubuntu 14.04 für die neuesten Tests zu verwenden und zu sehen, was mit Ubuntu 18.04 passiert, wenn Sie den Fenstermanager von GNOME auf Unity ändern.  Unter Ubuntu 14.04 funktionierte alles gut (obwohl die Fenster eine viel kürzere Lebensdauer hatten als am 16.04.).  Unter Ubuntu 18.04 mit Unity stürzt das System nach dem Beenden des Slips sofort ab und es können keine weiteren Experimente durchgeführt werden. <br><br>  Schlussfolgerung: Wir haben entschieden, dass Versionen von Ubuntu mit nativ installierter Unity anfällig sind, d. H.  Version <br><br><ul><li>  10.10 </li><li>  11.04 </li><li>  11.10 </li><li>  12.04 </li><li>  12.10 </li><li>  04/13 </li><li>  13.10 </li><li>  14.04 (von uns getestet) </li><li>  14.10 </li><li>  15.04 </li><li>  15.10 </li><li>  04.16 (von uns getestet) </li><li>  16.10 (von uns getestet) </li><li>  04.17 (von uns getestet) </li></ul><br>  Ziemlich beeindruckende Liste, nicht wahr?  Wir haben weit von allem getestet.  Wenn jemand die Möglichkeit hat, nach anderen Versionen zu suchen, die wir nicht getestet haben, fügen wir sie gerne dem Beitrag hinzu. <br><br><h3>  Warum finden wir das schlecht? </h3><br>  Die Sicherheitsanfälligkeit ermöglicht nur den lokalen Zugriff auf Daten und nicht auf alle, sondern nur auf diejenigen, die in Anwendungen geöffnet und bereitgestellt sind.  Dies ist jedoch immer noch sehr kritisch, weil: <br><br><ol><li>  Die verwendeten Daten werden möglicherweise nicht auf der Festplatte gespeichert (z. B. ein bearbeitbares Dokument). </li><li>  Daten können sich in einem verschlüsselten Ausgangsverzeichnis befinden (z. B. eine Datei mit Kennwörtern). </li><li>  Daten können sich auf einem verschlüsselten Flash-Laufwerk befinden. </li><li>  Daten erfordern möglicherweise eine zusätzliche Autorisierung (wie in unserem PoC mit KeePass). </li></ol><br>  Darüber hinaus kann in Unity jeder einen Computer einfach über den Anmeldebildschirm (ohne Genehmigung) an einen Beleg senden.  Das heißt,  Es ist eine echte Situation, dass eine Person den Bildschirm sperrt und zum Mittagessen geht. In diesem Moment schickt der Angreifer den Computer in einen Zettel, holt die Festplatte heraus und schaut sich an, was die Person vor dem Mittagessen getan hat.  Nachdem der Computer bereits mit der Festplatte neu gestartet werden muss, ahnt die Person nicht, dass seine Daten kompromittiert werden könnten. <br><br>  Skeptiker werden sagen, dass ein ähnliches Ergebnis leicht durch einen Kaltstartangriff erzielt werden kann und die Ergebnisse sogar noch besser sind. Aber wie oft trägt einer von Ihnen eine Thermoskanne mit ein paar Litern flüssigem Stickstoff? <br><br>  Wir haben entschieden, dass das Problem kritisch ist und in Ubuntu geschrieben werden sollte. <br><br><h3>  Wie wir in Ubuntu schreiben </h3><br>  Um einen Fehler zu bekommen, mussten wir uns auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">launchpad.net</a> registrieren, dann eine Beschreibung des Fehlers erstellen und ein Video von PoC hinzufügen.  Wir haben 406 Bewertungspunkte und ein Lagerfeuerabzeichen (was auch immer das bedeutet).  Sie fingen an zu warten.  Wir haben den Fehler am 18.06.2018 gestartet. <br><br>  Nach einer langen Korrespondenz beendete Genosse Marc Deslauriers unsere Debatte mit einer Botschaft, die sich auf Folgendes beschränkte: „Wir werden nichts reparieren.  Es ist dasselbe wie physischer Zugriff. " <br><br><img src="https://habrastorage.org/webt/4l/g5/as/4lg5asjshcflbqdjdp0cdz0-5hs.png" alt="Bild"><br><br>  Versuche zu überzeugen waren erfolglos.  Wir wurden für eine Woche zum völligen Ignorieren geschickt.  Danach erhielten wir die Erlaubnis, diese Studie zu veröffentlichen: <br><br><img src="https://habrastorage.org/webt/8p/we/v8/8pwev8g0jgoohsxm_xptktmqv_g.png" alt="Bild"><br><br>  UPD: Am 9. Juli 2018, um 16 Uhr, haben wir beschlossen, den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fehler</a> öffentlich zu machen (danke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">amarao</a> ).  In der Diskussion auf dem Launchpad wurde der Fehler für Mate 18.04 und nicht nur für Unity bestätigt.  Die Community besteht auch darauf, dass der Fehler besteht und nicht ignoriert werden sollte. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de416425/">https://habr.com/ru/post/de416425/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de416415/index.html">Wir bewegen alles in der Testbaugruppe Vivaldi 1.16.1230.3</a></li>
<li><a href="../de416417/index.html">"Heavenly River" - China wird einen künstlichen Regen von beispielloser Kraft erzeugen</a></li>
<li><a href="../de416419/index.html">Zufälliger zweidimensionaler Höhlengenerator</a></li>
<li><a href="../de416421/index.html">Ein Spaziergang in der Boxengasse oder wie IaaS-Technologien Rennteams helfen</a></li>
<li><a href="../de416423/index.html">Wie die Russen an den amerikanischen Prozessor erinnerten oder eine Überprüfung des AdvoCam-FD8 Gold-II DVR (GPS + GLONASS)</a></li>
<li><a href="../de416427/index.html">Was wir im Juni gelesen haben: Nachrichten über Angular, JWT, Blockchain-Skandal und ein bisschen Zen</a></li>
<li><a href="../de416429/index.html">Beabsichtigte Gestaltungsprinzipien für Jakarta EE</a></li>
<li><a href="../de416431/index.html">Die besten Blockchain-Projekte. ICO Juli 2018 (Abstimmung)</a></li>
<li><a href="../de416433/index.html">Fragen Sie Ethan: Können Strahlungsverluste von Sternen dunkle Energie erklären?</a></li>
<li><a href="../de416435/index.html">Warum ist das menschliche Gehirn so effektiv?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>