<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöä üë©üèº‚Äçüíª üåú N√£o haver√° cole√ß√µes imut√°veis ‚Äã‚Äãem Java - nem agora nem nunca üåâ üèí üë©üèº‚Äçüç≥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√° pessoal! 

 Hoje, sua aten√ß√£o √© convidada para a tradu√ß√£o de um artigo cuidadosamente escrito sobre um dos problemas b√°sicos do Java - a mutabilid...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>N√£o haver√° cole√ß√µes imut√°veis ‚Äã‚Äãem Java - nem agora nem nunca</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/470149/">  Ol√° pessoal! <br><br>  Hoje, sua aten√ß√£o √© convidada para a tradu√ß√£o de um artigo cuidadosamente escrito sobre um dos problemas b√°sicos do Java - a mutabilidade e como isso afeta a estrutura das estruturas de dados e o trabalho com eles.  O material foi retirado do blog de Nicolai Parlog, cujo brilhante estilo liter√°rio realmente tentamos manter em tradu√ß√£o.  O pr√≥prio Nicholas √© notavelmente caracterizado por um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">trecho do blog da</a> empresa JUG.ru em Habr√©;  vamos citar esta passagem em sua totalidade: <br><br><img src="https://habrastorage.org/webt/7l/mh/iy/7lmhiypudt5z093eme-wrlhzygq.jpeg"><br><blockquote>  Nikolay Parlog √© um cara da m√≠dia que faz an√°lises sobre os recursos Java.  Mas ele n√£o √© da Oracle ao mesmo tempo, ent√£o as avalia√ß√µes s√£o surpreendentemente francas e compreens√≠veis.  √Äs vezes, depois deles, algu√©m √© demitido, mas raramente.  Nikolay ir√° falar sobre o futuro do Java, o que estar√° na nova vers√£o.  Ele √© bom em falar sobre tend√™ncias e geralmente sobre o grande mundo.  Ele √© um companheiro muito lido e erudito.  At√© relat√≥rios simples s√£o agrad√°veis ‚Äã‚Äãde ouvir, o tempo todo que voc√™ aprende algo novo.  Al√©m disso, Nicholas sabe al√©m do que est√° dizendo.  Ou seja, voc√™ pode acessar qualquer relat√≥rio e apenas apreci√°-lo, mesmo que esse n√£o seja o seu t√≥pico.  Ele est√° ensinando.  Ele escreveu "O Java Module System" para a Manning Publishing House, mant√©m blogs sobre desenvolvimento de software no codefx.org e est√° envolvido h√° v√°rios projetos de c√≥digo aberto.  Ele pode ser contratado na confer√™ncia, √© freelancer.  √â verdade que um freelancer muito caro.  Aqui est√° o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">relat√≥rio</a> . </blockquote><br>  N√≥s lemos e votamos.  Quem gosta especialmente da postagem - tamb√©m recomendamos que voc√™ analise os coment√°rios do leitor na postagem original. <br><a name="habracut"></a><br>  Volatilidade √© ruim, certo?  Assim, a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">imutabilidade √© boa</a> .  As principais estruturas de dados nas quais a imutabilidade √© especialmente proveitosa s√£o as cole√ß√µes: em Java, √© uma lista ( <code>List</code> ), um conjunto ( <code>Set</code> ) e um dicion√°rio ( <code>Map</code> ).  No entanto, embora o JDK venha com cole√ß√µes imut√°veis ‚Äã‚Äã(ou n√£o modific√°veis?), O sistema de tipos n√£o sabe nada sobre isso.  N√£o h√° <code>ImmutableList</code> no JDK, e esse tipo de Guava parece completamente in√∫til para mim.  Mas porque?  Por que n√£o adicionar <code>Immutable...</code> a essa mistura e n√£o dizer que deveria ser? <br><br><h4>  O que √© uma cole√ß√£o imut√°vel? </h4><br>  Na terminologia do JDK, os significados das palavras " <i>imut√°vel</i> " e " <i>n√£o modific√°vel</i> " mudaram nos √∫ltimos anos.  Inicialmente, ‚Äún√£o modific√°vel‚Äù era chamada de inst√¢ncia que n√£o permitia mutabilidade (mutabilidade): em resposta √† mudan√ßa de m√©todos, ele lan√ßou <code>UnsupportedOperationException</code> .  No entanto, poderia ser alterado de outra maneira - talvez porque fosse apenas um inv√≥lucro em torno de uma cole√ß√£o mut√°vel.  Essas visualiza√ß√µes s√£o refletidas nos m√©todos <code>Collections::unmodifiableList</code> , <code>unmodifiableSet</code> e <code>unmodifiableMap</code> , bem como em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">seu JavaDoc</a> . <br><br>  Inicialmente, o termo " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">imut√°vel</a> " refere-se a cole√ß√µes retornadas pelos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">m√©todos de f√°brica das cole√ß√µes Java 9</a> .  As cole√ß√µes em si n√£o puderam ser alteradas de forma alguma (sim, h√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">reflex√£o</a> , mas n√£o conta); portanto, parece que justificam seu nome.  Infelizmente, muitas vezes surge confus√£o por causa disso.  Suponha que exista um m√©todo que exiba todos os elementos de uma cole√ß√£o imut√°vel na tela - sempre dar√° o mesmo resultado?  Hein?  Ou n√£o? <br><br>  Se voc√™ n√£o respondeu imediatamente <i>n√£o</i> , significa que voc√™ acabou de ver exatamente qual confus√£o √© poss√≠vel aqui.  Uma " <i>cole√ß√£o imut√°vel</i> <i>de agentes secretos</i> " - parece muito semelhante a uma " <i>cole√ß√£o imut√°vel de agentes secretos imut√°veis</i> " <i>,</i> mas essas duas entidades podem n√£o ser id√™nticas.  Uma cole√ß√£o imut√°vel n√£o pode ser editada usando opera√ß√µes de inser√ß√£o / exclus√£o / limpeza, etc., mas se os agentes secretos s√£o mut√°veis ‚Äã‚Äã(embora os tra√ßos de caractere nos filmes de espionagem sejam t√£o ruins que eles realmente n√£o acreditam), isso n√£o significa que isso que toda a cole√ß√£o de agentes secretos √© imut√°vel.  Portanto, agora h√° uma mudan√ßa no sentido de nomear essas cole√ß√µes como <i>n√£o modific√°veis</i> , e n√£o <i>imut√°veis</i> , o que √© consagrado na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">nova edi√ß√£o do JavaDoc</a> . <br><br>  As cole√ß√µes imut√°veis ‚Äã‚Äãdiscutidas neste artigo podem conter elementos mut√°veis. <br><br>  Pessoalmente, n√£o gosto de uma revis√£o dessa terminologia.  Na minha opini√£o, o termo "cole√ß√£o imut√°vel" deve significar apenas que a cole√ß√£o em si n√£o pode sofrer altera√ß√µes, mas n√£o deve caracterizar os elementos nela contidos.  Nesse caso, h√° mais um ponto positivo: o termo ‚Äúimutabilidade‚Äù no ecossistema Java n√£o se transforma em completa bobagem. <br><br>  De uma forma ou de outra, neste artigo falaremos sobre <i>cole√ß√µes imut√°veis</i> , onde ... <br><br><ul><li>  As inst√¢ncias contidas na cole√ß√£o s√£o determinadas no est√°gio de design </li><li>  Essas c√≥pias - uma quantidade uniforme, nem reduzem nem adicionam </li><li>  Nenhuma declara√ß√£o √© feita sobre a mutabilidade desses elementos. </li></ul><br>  Vamos insistir no fato de que agora praticaremos a adi√ß√£o de cole√ß√µes imut√°veis.  Para ser preciso - uma lista imut√°vel.  Tudo o que ser√° dito sobre listas √© igualmente aplic√°vel a cole√ß√µes de outros tipos. <br><br>  Come√ßando a adicionar cole√ß√µes imut√°veis! <br><br>  Vamos criar a interface <code>ImmutableList</code> e torn√°-la, em rela√ß√£o √† <code>List</code> , uh ... o qu√™?  Supertipo ou subtipo?  Vamos nos debru√ßar sobre a primeira op√ß√£o. <br><br><img src="https://habrastorage.org/webt/sc/uv/yl/scuvyloeubhj5-wq36b7nzuzdu8.png"><br><br>  Lindamente, o <code>ImmutableList</code> n√£o <code>ImmutableList</code> m√©todos <code>ImmutableList</code> , portanto, us√°-lo √© sempre seguro, certo?  Ent√£o ?!  N√£o senhor. <br><br><pre> <code class="java hljs">List&lt;Agent&gt; agents = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); <span class="hljs-comment"><span class="hljs-comment">// ,  `List`  `ImmutableList` ImmutableList&lt;Agent&gt; section4 = agents; //    section4.forEach(System.out::println); //    `section4` agents.add(new Agent("Motoko"); //  "Motoko" ‚Äì ,      ?! section4.forEach(System.out::println);</span></span></code> </pre> <br>  Este exemplo mostra que √© poss√≠vel transferir uma lista n√£o totalmente imut√°vel para a API, cuja opera√ß√£o pode ser baseada na imutabilidade e, portanto, anular todas as garantias que um nome desse tipo pode sugerir.  Aqui est√° uma receita para voc√™ que pode levar ao desastre. <br><br>  OK, <code>ImmutableList</code> estende a <code>List</code> .  Talvez? <br><br><img src="https://habrastorage.org/webt/fr/sq/_r/frsq_rgj7rt0mp3u0f--zn8jlrs.png"><br><br>  Agora, se a API espera uma lista imut√°vel, ela receber√° essa lista, mas h√° duas desvantagens: <br><br><ul><li>  As listas imut√°veis ‚Äã‚Äãainda devem oferecer m√©todos de modifica√ß√£o (conforme definidos no supertipo), e a √∫nica implementa√ß√£o poss√≠vel gerar√° uma exce√ß√£o </li><li>  <code>ImmutableList</code> inst√¢ncias <code>ImmutableList</code> tamb√©m <code>ImmutableList</code> inst√¢ncias de <code>List</code> e, quando atribu√≠das a uma vari√°vel, transmitidas como argumento ou retornadas desse tipo, √© l√≥gico supor que a mutabilidade seja permitida. </li></ul><br>  Assim, acontece que voc√™ s√≥ pode usar o <code>ImmutableList</code> localmente, porque ele passa as bordas da API como uma <code>List</code> , o que requer um n√≠vel de precau√ß√£o sobre-humano ou explode em tempo de execu√ß√£o.  N√£o √© t√£o ruim quanto uma <code>List</code> estendendo uma <code>List</code> <code>ImmutableList</code> , mas essa solu√ß√£o ainda est√° longe do ideal. <br><br>  Isso √© exatamente o que eu tinha em mente quando disse que o tipo <code>ImmutableList</code> da Guava √© praticamente in√∫til.  Esse √© um √≥timo exemplo de c√≥digo, muito confi√°vel ao trabalhar com listas imut√°veis ‚Äã‚Äãlocais (√© por isso que eu o uso ativamente), mas, recorrendo a ele, √© muito f√°cil ir al√©m da cidadela compilada garantida e inexpugn√°vel, cujas paredes eram compostas por tipos imut√°veis ‚Äã‚Äã- e somente nessa tipos imut√°veis ‚Äã‚Äãpodem revelar completamente seu potencial.  Isso √© melhor que nada, mas ineficiente como uma solu√ß√£o JDK. <br><br>  Se o <code>ImmutableList</code> n√£o puder estender a <code>List</code> e a solu√ß√£o alternativa ainda n√£o funcionar, como √© que isso far√° com que tudo funcione? <br><br><h4>  Imutabilidade √© um recurso </h4><br>  O problema que encontramos nas duas primeiras tentativas de adicionar tipos imut√°veis ‚Äã‚Äãfoi nosso equ√≠voco de que a imutabilidade √© simplesmente a aus√™ncia de algo: pegamos uma <code>List</code> , removemos o c√≥digo alterado e obtemos uma lista <code>ImmutableList</code> .  Mas, de fato, tudo isso n√£o funciona dessa maneira. <br><br>  Se simplesmente removermos os m√©todos de modifica√ß√£o da <code>List</code> , obteremos uma lista somente leitura.  Ou, seguindo a terminologia formulada acima, ela pode ser chamada <code>UnmodifiableList</code> - ainda pode mudar, mas voc√™ n√£o a mudar√°. <br><br>  Agora podemos adicionar mais duas coisas a esta imagem: <br><br><ul><li>  Podemos torn√°-lo mut√°vel adicionando m√©todos apropriados </li><li>  Podemos torn√°-lo imut√°vel adicionando garantias apropriadas. </li></ul><br>  Imutabilidade n√£o √© a aus√™ncia de mutabilidade, mas uma garantia de que n√£o haver√° mudan√ßas <br>  Nesse caso, √© importante entender que, nos dois casos, estamos falando de recursos completos - imutabilidade n√£o √© a aus√™ncia de altera√ß√µes, mas uma garantia de que n√£o haver√° altera√ß√µes.  Um recurso existente pode n√£o ser necessariamente algo usado para o bem, mas tamb√©m pode garantir que algo ruim n√£o aconte√ßa no c√≥digo - nesse caso, pense, por exemplo, na seguran√ßa do encadeamento. <br><br>  Obviamente, mutabilidade e imutabilidade conflitam entre si e, portanto, n√£o podemos usar simultaneamente as duas hierarquias de heran√ßa acima mencionadas.  Os tipos herdam recursos de outros tipos; portanto, n√£o importa como voc√™ os recorte, se um deles herdar do outro, ele conter√° os dois recursos. <br><br>  T√£o bem, <code>List</code> e <code>ImmutableList</code> n√£o podem se estender.  Mas fomos trazidos para c√° trabalhando com <code>UnmodifiableList</code> e, na verdade, os dois tipos t√™m a mesma API, somente leitura, o que significa que eles devem estend√™-la. <br><br><img src="https://habrastorage.org/webt/bd/dp/7b/bddp7bjb5e9m6sddvp4slse0yfi.png"><br><br>  Embora eu n√£o chamaria as coisas exatamente desses nomes, a hierarquia desse tipo √© razo√°vel.  Em Scala, por exemplo, isso √© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">praticamente feito</a> .  A diferen√ßa √© que o supertipo compartilhado, que chamamos de <code>UnmodifiableList</code> , define m√©todos mut√°veis ‚Äã‚Äãque retornam uma cole√ß√£o modificada e deixam o original intocado.  Assim, uma lista imut√°vel acaba sendo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">persistente</a> e fornece a uma variante mut√°vel dois conjuntos de m√©todos de modifica√ß√£o - herdados para receber c√≥pias modificadas e pr√≥prias para altera√ß√µes no local. <br><br>  E o Java?  √â poss√≠vel modernizar essa hierarquia adicionando novos supertipos e irm√£os a ela? <br><br>  √â poss√≠vel melhorar cole√ß√µes n√£o modific√°veis ‚Äã‚Äãe imut√°veis? <br>  Obviamente, n√£o h√° problema em adicionar os <code>ImmutableList</code> e <code>ImmutableList</code> e criar a hierarquia de heran√ßa descrita acima.  O problema √© que, a curto e m√©dio prazo, ser√° praticamente in√∫til.  Deixe-me explicar. <br><br>  O <code>ImmutableList</code> ter <code>UnmodifiableList</code> , <code>ImmutableList</code> e <code>List</code> como tipos - nesse caso, as APIs poder√£o expressar claramente o que precisam e o que oferecem. <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">payAgents</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(UnmodifiableList&lt;Agent&gt; agents)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//      , //         } public void sendOnMission(ImmutableList&lt;Agent&gt; agents) { //   ( ), //  ,     } public void downtime(List&lt;Agent&gt; agents) { //       , //        ,      } public UnmodifiableList&lt;Agent&gt; teamRoster() { //   ,     , //      ,     -  } public ImmutableList&lt;Agent&gt; teamOnMission() { //    ,      } public List&lt;Agent&gt; team() { //    ,    , //        }</span></span></code> </pre> <br>  No entanto, a menos que voc√™ inicie o projeto do zero, provavelmente ter√° essa funcionalidade e ser√° algo parecido com isto: <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//   ,  `Iterable&lt;Agent&gt;` //  ,   ,        public void payAgents(List&lt;Agent&gt; agents) { } public void sendOnMission(List&lt;Agent&gt; agents) { } public void downtime(List&lt;Agent&gt; agents) { } //      , //    ,  `List`     public List&lt;Agent&gt; teamRoster() { } // ,     `Stream&lt;Agent&gt;` public List&lt;Agent&gt; teamOnMission() { } public List&lt;Agent&gt; team() { }</span></span></code> </pre> <br>  Isso n√£o √© bom, porque, para que as novas cole√ß√µes que acabamos de apresentar sejam √∫teis, precisamos trabalhar com elas!  (ufa)  O acima √© remanescente do c√≥digo do aplicativo, portanto, a refatora√ß√£o <code>ImmutableList</code> <code>UnmodifiableList</code> e <code>ImmutableList</code> , e voc√™ pode implement√°-lo, como foi mostrado na lista acima.  Isso pode ser uma grande parte do trabalho, juntamente com confus√£o quando voc√™ precisa organizar a intera√ß√£o do c√≥digo antigo e atualizado, mas pelo menos parece vi√°vel. <br><br>  E as estruturas, bibliotecas e o pr√≥prio JDK?  Tudo aqui parece sombrio.  Uma tentativa de alterar o par√¢metro ou o tipo de retorno de <code>List</code> para <code>ImmutableList</code> levar√° √† <i>incompatibilidade com o c√≥digo-fonte</i> , ou seja,  o c√≥digo fonte existente n√£o ser√° compilado com a nova vers√£o, pois esses tipos n√£o est√£o relacionados entre si.  Da mesma forma, alterar o tipo de retorno de <code>List</code> para um novo supertipo <code>UnmodifiableList</code> resultar√° em erros de compila√ß√£o. <br><br>  Com a introdu√ß√£o de novos tipos, ser√° necess√°rio fazer altera√ß√µes e recompilar todo o ecossistema. <br><br>  No entanto, mesmo se expandirmos o tipo de par√¢metro de <code>List</code> para <code>UnmodifiableList</code> , encontraremos um problema, pois essa altera√ß√£o causa <i>incompatibilidade no n√≠vel do bytecode</i> .  Quando o c√≥digo-fonte chama um m√©todo, o compilador converte essa chamada em bytecode que faz refer√™ncia ao m√©todo de destino por: <br><br><ul><li>  O nome da classe cuja inst√¢ncia o destino √© declarado </li><li>  Nome do m√©todo </li><li>  Tipos de par√¢metros de m√©todo </li><li>  Tipo de retorno de m√©todo </li></ul><br>  Qualquer altera√ß√£o no par√¢metro ou no tipo de retorno do m√©todo far√° com que o bytecode indique a assinatura incorreta ao se referir ao m√©todo;  como resultado, um erro <code>NoSuchMethodError</code> ocorrer√° durante a execu√ß√£o.  Se a altera√ß√£o feita for compat√≠vel com o c√≥digo-fonte - por exemplo, se voc√™ estiver falando sobre restringir o tipo de retorno ou expandir o tipo do par√¢metro - a recompila√ß√£o deve ser suficiente.  No entanto, com mudan√ßas de longo alcance, por exemplo, com a introdu√ß√£o de novas cole√ß√µes, tudo n√£o √© t√£o simples: para consolidar essas altera√ß√µes, √© necess√°rio recompilar todo o ecossistema Java.  Este √© um neg√≥cio perdido. <br><br>  A √∫nica maneira conceb√≠vel de tirar proveito dessas novas cole√ß√µes sem quebrar a compatibilidade √© duplicar cada m√©todo existente com um novo nome, alterar a API e marcar a vers√£o antiga como indesej√°vel.  Voc√™ pode imaginar como essa tarefa seria monumental e virtualmente infinita ?! <br><br><h4>  Reflex√£o </h4><br>  √â claro que tipos de cole√ß√µes imut√°veis ‚Äã‚Äãs√£o √≥timas coisas que eu adoraria ter, mas √© improv√°vel que vejamos algo assim no JDK.  As implementa√ß√µes competentes de <code>List</code> e <code>ImmutableList</code> nunca <code>ImmutableList</code> se estender (na verdade, elas estendem o mesmo tipo de lista <code>UnmodifiableList</code> , somente leitura), o que dificulta a implementa√ß√£o desses tipos nas APIs existentes. <br><br>  Fora do contexto de qualquer relacionamento espec√≠fico entre tipos, a altera√ß√£o das assinaturas de m√©todos existentes sempre est√° repleta de problemas, pois essas altera√ß√µes s√£o incompat√≠veis com o bytecode.  Quando elas s√£o introduzidas, √© necess√°ria pelo menos a recompila√ß√£o, e essa √© uma mudan√ßa devastadora que afetar√° todo o ecossistema Java. <br><br>  Portanto, acredito que nada disso vai acontecer - nunca e nunca. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt470149/">https://habr.com/ru/post/pt470149/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt470129/index.html">Gerenciamento de mem√≥ria declarativa</a></li>
<li><a href="../pt470133/index.html">Como coletar m√©tricas n√£o distorcidas por refer√™ncia de tempo com o Prometheus</a></li>
<li><a href="../pt470135/index.html">Uma aplica√ß√£o web interativa sem programa√ß√£o? F√°cil! Mavo nos seus bra√ßos</a></li>
<li><a href="../pt470139/index.html">2 hacks de vida: alternativas √† pesquisa cl√°ssica no Microsoft SQL Server</a></li>
<li><a href="../pt470145/index.html">‚ÄúCuidado, FAS!‚Äù: Por que o ingresso militar √© perigoso na publicidade, por que √© importante saber matem√°tica e se a verdade pura √© sempre necess√°ria</a></li>
<li><a href="../pt470153/index.html">Dicion√°rio de modelo de dados</a></li>
<li><a href="../pt470155/index.html">Caracter√≠sticas do reconhecimento nacional de padr√µes</a></li>
<li><a href="../pt470159/index.html">Gera√ß√£o Prime</a></li>
<li><a href="../pt470165/index.html">A filosofia de dividir por ... ou confiss√£o de um louco</a></li>
<li><a href="../pt470167/index.html">Confer√™ncia para os interessados ‚Äã‚Äãem ci√™ncia antes de se tornar mainstream</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>