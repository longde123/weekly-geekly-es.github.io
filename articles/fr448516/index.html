<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚òÇÔ∏è üë©‚Äçüéì üë≥üèø √âvoluez ou cr√©ez une base pour les robots sur la plateforme ARDUINO, et nous pilotons des capteurs et de la vid√©o vers un ordinateur via un smartphone ‚öóÔ∏è üö± üë©üèø‚Äçü§ù‚Äçüë©üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pour les chers lecteurs de GeekTimes, le prochain (quatri√®me) article tant attendu sur ce qui se passera si vous m√©langez √† nouveau l'arduino, ESP8266...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>√âvoluez ou cr√©ez une base pour les robots sur la plateforme ARDUINO, et nous pilotons des capteurs et de la vid√©o vers un ordinateur via un smartphone</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/448516/"> Pour les chers lecteurs de GeekTimes, le prochain (quatri√®me) article <s>tant attendu</s> sur ce qui se passera si vous m√©langez √† nouveau l'arduino, ESP8266, WI-FI, assaisonnez-le avec un smartphone Android et saupoudrez-le au-dessus de l'application JAVA. <br><br>  Nous parlerons des robots de l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article</a> avant-dernier, qui est venu le temps au moins de devenir un peu plus intelligent. <br><br><img src="https://habrastorage.org/webt/dc/uf/us/dcufusp1engi_cqy_pdjltx-qgq.jpeg" alt="image"><br><br>  Peu importe, bienvenue au chat. <br><a name="habracut"></a><br>  Si vous n'√™tes pas tr√®s int√©ress√© par la lecture d'anciens articles, alors bri√®vement - le fait √©tait que pour contr√¥ler le chariot √† quatre roues habituel sur la plate-forme Arduino, un pont UART sans fil d√©velopp√© par moi bas√© sur le module ESP8266 bien connu y a √©t√© ajout√©.  Aussi pour plus de commodit√© (et en g√©n√©ral c'√©tait l'objectif principal) en utilisant le m√™me ESP, j'ai √©crit un programmeur pour arduinki, qui vous permet de le flasher √† distance vous-m√™me. <br><br><img src="https://habrastorage.org/webt/y-/57/pt/y-57pte4rudizc-oitiqraysx7m.png" alt="image"><br><br>  Autrement dit, le chariot quelque part loin (mais au sein de votre r√©seau WI-FI) voyage (oui, j'aime √©crire ce mot), envoie des donn√©es et re√ßoit des commandes, et si n√©cessaire, par commande, il peut √©galement changer le programme dans son microcontr√¥leur AVR.  En cons√©quence, le programme sur JAVA pour PC a √©t√© lanc√©, un fonctionnement dont vous pouvez profiter du contr√¥le et obtenir une t√©l√©m√©trie primitive sous la forme de la distance parcourue (interrupteur √† lames et aimant sur la roue). <br><br><img src="https://habrastorage.org/webt/yf/r_/nk/yfr_nk3y69gts4z4x4ubodhd7cy.png" alt="image"><br><br>  De plus, j'ai exp√©riment√© avec succ√®s dans l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article</a> suivant le contr√¥le du chariot √† l'aide d'un smartphone - boutons, inclinaisons et m√™me voix.  Mais lorsque le chariot est parti pour la pi√®ce voisine, m√™me la voix n'a pas pu le retourner (contrairement au chat).  Elle y est all√©e, a frapp√© aux murs et aux meubles, s'est emm√™l√©e dans des fils, mais en plus des informations sur la distance parcourue, elle n'a rien envoy√©. <br><br>  Par cons√©quent, l'id√©e a surgi imm√©diatement de fournir au futur Terminator des organes sensoriels.  L'une des options les plus simples pour cela est l'utilisation du sonar. <br><br><img src="https://habrastorage.org/webt/yj/qh/eg/yjqhegrrkudwtrwdx5nr_ppkywo.png" alt="image"><br><br>  L'algorithme de travail √† la disgr√¢ce est simple, on d√©marre le capteur d'un front et en m√™me temps un compteur de microcontr√¥leur.  HC-SR04 commence √† projeter des ultrasons au loin.  Le signal de r√©ponse du capteur via un autre fil signale la fin de la mesure de distance et l'intervalle de temps entre le d√©but et la r√©ponse est proportionnel √† la distance mesur√©e.  En cons√©quence, en ce moment, nous ralentissons le compteur et voyons combien il en est entr√©. <br><br>  La pr√©cision est obtenue jusqu'√† environ un centim√®tre et une plage de m√®tres √† deux.  Il n'aime pas les surfaces laineuses et laineuses (par exemple, un chat), o√π tout √©cho signale une noyade irr√©vocable. <br><br>  <s>La zone affect√©e l'</s> angle de vision du HC-SR04 est petite, donc afin de savoir ce qui se passe √† l'avance dans le cadre d'un angle d'au moins 90 degr√©s, il est souhaitable de faire ce qui suit: <br><br><ol><li>  visser le capteur √† la servo-machine et le regarder dans diff√©rentes directions </li><li>  mettre quelques capteurs. </li></ol><br>  Au d√©but, j'ai mis en ≈ìuvre la premi√®re option, mettant le sonar sur un servo SG90 bon march√© et le chariot transform√© en rover.  Il a fallu tellement de temps pour prendre au moins trois mesures, donc, fondamentalement, le chariot s'est tenu en rotation avec un servo, puis a soigneusement avanc√©, mais pas tr√®s loin (et tout √† coup, un obstacle est apparu sur le c√¥t√©), et a de nouveau senti l'espace devant lui.  Pourtant, le son n'est pas la lumi√®re pour vous. <br><br>  Par cons√©quent, sans plus tarder, j'ai mis trois syst√®mes de sonar √† la fois.  Le chariot a acquis une apparence d'araign√©e chthonic, s'est arr√™t√© terne devant les obstacles et a commenc√© √† les rouler en route.  Mais au final, le cerveau √©tait juste suffisant pour ne pas rester coinc√© dans un environnement amical.  Nous devions passer √† l'autonomie et au progr√®s.  Et ici, sans sens diff√©rents, m√™me le ver n√©matode vous le dira, vous ne pouvez pas le faire. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/yjUsvUk880o" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  De plus, les amateurs commencent g√©n√©ralement √† sculpter sur leurs cr√©ations divers nouveaux capteurs, tels que des gyroscopes, des acc√©l√©rom√®tres, des magn√©tom√®tres et m√™me des capteurs FIRE (tout ce que les Chinois sans nom produisent en millions de quantit√©s pour Arduino).  Et moi aussi, j'ai presque commenc√© sur cette voie glissante, mais j'ai chang√© d'avis √† temps.  Et je l'ai fait pour cette raison.  Dans la perspective la plus √©loign√©e, le robot robot √©tait cens√© avoir une vision sous la forme d'une cam√©ra et √©galement comprendre ce qu'il voit.  Mais le microcontr√¥leur AVR de la carte Arduino vous dira ¬´au revoir¬ª au stade de la r√©ception de la vid√©o, sans parler de son traitement.  Et soudain, mon regard est tomb√© sur le vieux smartphone GALAXY S7, d√©j√† battu par la vie. <br><br>  Une telle puissance de calcul, huit c≈ìurs, 4 gigaoctets de m√©moire, deux cam√©ras, l'acc√®s au r√©seau, quoi d'autre est n√©cessaire pour transformer un singe en une personne? <br><br>  Mais nous avons juste besoin d'un petit design pour que notre smartphone repose sur un chariot et qu'il puisse facilement √™tre mis et retir√©. <br><br><img src="https://habrastorage.org/webt/l6/ej/gf/l6ejgf5jxwlzkqs21pifxg-wtl8.jpeg" alt="image"><br><br>  Ensuite, je suis mont√© sur le site des d√©veloppeurs Android pour d√©couvrir quelles autres fonctionnalit√©s un smartphone classique peut nous offrir.  Il s'est av√©r√© que ce n'√©tait pas petit.  En th√©orie, vous pouvez <br><br><div class="spoiler">  <b class="spoiler_title">acc√©der aux capteurs capteurs suivants.</b> <div class="spoiler_text">  TYPE_ACCELEROMETER <br><br>  TYPE_AMBIENT_TEMPERATURE <br><br>  TYPE_GAME_ROTATION_VECTOR <br><br>  GEOMAGNETIC_ROTATION_VECTOR <br><br>  TYPE_GRAVITY <br><br>  TYPE_GYROSCOPE <br><br>  TYPE_GYROSCOPE_UNCALIBRATED <br><br>  TYPE_HEART_BEAT <br><br>  TYPE_HEART_RATE <br><br>  TYPE_LIGHT <br><br>  TYPE_LINEAR_ACCELERATION <br><br>  TYPE_LOW_LATENCY_OFFBODY_DETECT <br><br>  TYPE_MAGNETIC_FIELD <br><br>  TYPE_MAGNETIC_FIELD_UNCALIBRATED <br><br>  TYPE_MOTION_DETECT <br><br>  TYPE_ORIENTATION <br><br>  TYPE_POSE_6DOF <br><br>  TYPE_PRESSURE <br><br>  TYPE_PROXIMITY <br><br>  TYPE_RELATIVE_HUMIDITY <br><br>  TYPE_ROTATION_VECTOR <br><br>  TYPE_SIGNIFICANT_MOTION <br><br>  TYPE_STATIONARY_DETECT <br><br>  TYPE_STEP_COUNTER <br><br>  TYPE_STEP_DETECTOR <br><br></div></div><br>  Comme on dit, qu'est-ce qu'il y a seulement!  Et en effet, il n'y avait pas grand-chose de sp√©cifique au GALAXY S7.  Par exemple, un capteur d'humidit√©.  Et la temp√©rature ambiante (m√™me si j'ai bien compris qu'√©tant √† l'int√©rieur du bo√Ætier, elle affichera la temp√©rature du smartphone lui-m√™me).  Mais les capteurs de pression et de lumi√®re √©taient pr√©sents.  Sans oublier les gyroscopes, acc√©l√©rom√®tres, √† l'aide desquels, vous pouvez facilement d√©terminer votre position dans l'espace. <br><br>  En cons√©quence, une d√©cision a m√ªri, laissez le smartphone recevoir et traiter toutes les informations du plus haut niveau - la vid√©o et tous ces diff√©rents capteurs.  Et la plate-forme Arduino sera responsable, pour ainsi dire, de l'inconscient - de tout ce qui fonctionne d√©j√† et ne n√©cessite pas de retouches, tous ces moteurs, sonars, interrupteurs √† lames et ainsi de suite. <br><br>  Comme il est difficile de d√©boguer le programme directement sur le smartphone, m√™me avec UDB, j'ai d√©cid√© de laisser le tout √™tre transf√©r√© sur un ordinateur personnel normal et y √™tre trait√©.  Et puis d'une mani√®re ou d'une autre, quand il y aura une version fonctionnelle, nous retournerons le cerveau dans le panier.  Nous devons commencer petit, et en effet, il est int√©ressant de regarder la transmission de vid√©o √† partir d'un chariot fr√©n√©tique. <br><br>  Les donn√©es des capteurs peuvent √™tre envoy√©es sur une simple ligne, via un serveur client primitif, cela ne pose aucun probl√®me.  Mais avec le transfert de la vid√©o, il y a eu imm√©diatement des difficult√©s.  En g√©n√©ral, j'avais besoin d'une diffusion en continu en temps r√©el depuis la cam√©ra du smartphone vers la fen√™tre d'application sur l'ordinateur.  C'est pour l'instant.  √Ä l'avenir, non seulement moi, mais une sorte de syst√®me de reconnaissance de formes pourrait regarder cette image dans la fen√™tre.  Par exemple JAVA OpenCV.  Ou peut-√™tre m√™me un r√©seau neuronal du cloud: D.  Je ne sais pas, cette √©tape est encore tr√®s loin.  Mais j'aimerais voir le monde avec ¬´l'≈ìil¬ª d'un camion robotis√©. <br><br>  Tout le monde conna√Æt de nombreuses applications telles qu'une "cam√©ra mobile" de la boutique Google, o√π vous capturez un flux vid√©o √† partir de la cam√©ra d'un smartphone en ouvrant un navigateur avec l'adresse IP souhait√©e sur l'ordinateur.  Par cons√©quent, au d√©but, je pensais qu'il ne serait pas difficile de traduire moi-m√™me depuis mon GALAXY (ce qui n'√©tait pas une faible erreur), alors vous devez d'abord v√©rifier comment cela se passera avec sa r√©ception sur l'ordinateur, √©tant donn√© que je ne peux √©crire en quelque sorte que sur JAVA. <br><br>  Il s'est av√©r√©, avec la lecture vid√©o JAVA, pour le dire l√©g√®rement, pas tr√®s bien.  Il √©tait une fois en 1997, le soi-disant Java Media Framework a √©t√© publi√© - une biblioth√®que qui facilite le d√©veloppement de programmes qui fonctionnent avec l'audio et la vid√©o des cr√©ateurs de JAVA eux-m√™mes.  Mais quelque part apr√®s 2003, un gros boulon a √©t√© mis dessus et depuis, cela fait d√©j√† 15 ans.  Apr√®s quelques exp√©riences, j'ai r√©ussi √† ex√©cuter un fichier dans la fen√™tre, je ne me souviens pas d√©j√† lequel (il semble AVI), mais cette vue semblait assez mis√©rable.  Les fichiers avec d'autres extensions ne voulaient pas du tout s'ex√©cuter, dans les cas extr√™mes, il y avait une piste audio. <br><br>  Sur Internet, j'ai trouv√© deux autres projets alternatifs pour travailler avec la vid√©o: Xuggler et aprica VLCj.  Le premier projet √©tait attrayant dans ses capacit√©s, mais est √©galement d√©c√©d√© il y a longtemps, mais le second s'est av√©r√© assez vivant et int√©ressant dans son id√©e m√™me.  Les gars ont pris et attach√© √† JAVA le c√©l√®bre lecteur multim√©dia VLC.  Autrement dit, aprica n'utilise pas de codecs auto-√©crits, mais utilise des codecs pr√™ts √† l'emploi.  Avec lui, vous perdrez tout fichier.  Une sage d√©cision, mais l'essentiel est que ce lecteur VLC soit d√©j√† install√© sur votre ordinateur.  Eh bien, qui ne l'a pas?  La seule mise en garde, cependant, est que vous avez les m√™mes profondeurs de bits que le lecteur et JAVA.  Par exemple, j'ai plus tard, avec surprise, d√©couvert que j'avais encore un VLC 32 bits sur mon ordinateur, contrairement √† JAVA 64 bits.  Et une demi-journ√©e de vie a √©t√© perdue en vain. <br><br>  Les d√©veloppeurs de Caprica promettent aux utilisateurs beaucoup de choses sur leur site Web.  Et tous les formats de fichiers et lancement dans plusieurs fen√™tres dans une application JAVA, lecture de vid√©o √† partir de You-Tube, capture d'un flux vid√©o "en direct" et ainsi de suite.  Mais la dure r√©alit√© a tout remis √† sa place.  Non, ils n'ont pas tromp√© avec des fichiers - tout est jou√©.  Mais maintenant, la vid√©o de YouTube ne veut plus.  Au d√©but, je ne comprenais pas pourquoi, mais j'ai ensuite vu une inscription dans le journal qui, quelque part, quelque part, il √©tait impossible d'ex√©cuter un certain script lua et j'ai imm√©diatement rappel√© que: <br><blockquote>  Ce `` grattage d'√©cran '' de la page Web YouTube est fragile - si YouTube change la structure de leurs pages Web, alors VLC ne parviendra pas parfois √† trouver l'URL de diffusion, lorsque cela se produit, vous devez attendre qu'un d√©veloppeur fournisse une nouvelle LUA script et attendez la sortie d'une nouvelle version de VLC. </blockquote>  En bref, apparemment YouTube a chang√© la structure de sa page Web et je dois attendre une nouvelle version.  D'un autre c√¥t√©, j'ai besoin d'une diffusion vid√©o ¬´en direct¬ª et de ne pas lire de fichier depuis le site.  Autrement dit, m√™me si le script lua fonctionnait, cela ne m'aiderait pas beaucoup. <br><br>  Mais je n'ai pas du tout trouv√© le streaming promis, bien qu'il soit √©crit que: <br><br><blockquote>  Serveur de streaming r√©seau (par exemple une station de radio r√©seau ou un serveur de vid√©o √† la demande); <br>  Client de streaming r√©seau; </blockquote>  Peut-√™tre que c'est la liste de souhaits, ou peut-√™tre que c'est dans la version commerciale, c'est difficile √† dire. <br><br>  Mais les fichiers sont lus, je le r√©p√®te, sans aucune plainte.  Par exemple, vous pouvez cr√©er, voici une telle ind√©cence <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/6yH53kRyHXk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  L'installation du package lui-m√™me n'est pas difficile et est m√™me d√©crite en d√©tail, par exemple <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .  Certes, j'ai en quelque sorte maladroitement prescrit des variables d'environnement et maintenant mon VLC d√©marre pour la premi√®re fois avec un retard de dix secondes, mais il enregistre ensuite ce qui est n√©cessaire dans le cache et plus tard dans la session en cours d√©marre sans pause. <br><br>  Ensuite, dans votre projet JAVA, vous prescrivez les d√©pendances n√©cessaires et vous pouvez commencer √† <s>riveter les lecteurs multim√©dias dans les fen√™tres JAVA</s> pour qu'ils fonctionnent. <br><br>  Ayant ainsi marqu√© le plan de travail approximatif du c√¥t√© de l'ordinateur personnel, je suis retourn√© √† la source des donn√©es vid√©o, mon smartphone ANDROID. <br><br>  Mais ici, je m'attendais √† une autre d√©ception assez importante.  Apr√®s avoir scann√© pas mal de sites et m√™me le manuel ANDROID en ligne, j'ai trouv√© qu'il √©tait impossible d'organiser le streaming en temps r√©el en utilisant des moyens r√©guliers.  Comme dans Caprica, vous ne pouvez lire que les fichiers d√©j√† enregistr√©s.  Autrement dit, l'appareil photo allum√©, MEDIA RECORDER a commenc√© √† enregistrer lorsqu'il devait √™tre arr√™t√©.  Et nous ne pouvons acc√©der aux donn√©es (et √† leur transfert) qu'apr√®s un arr√™t. <br><br>  J'ai trouv√© la confirmation de mes conclusions dans un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article</a> ancien.  Il y avait vraiment des indices qu'une fois que quelqu'un a r√©ussi √† inciter Android √† penser qu'il √©crivait dans un fichier, mais en fait, il a gliss√© un tampon.  Mais en tout cas, comme cela a d√©j√† √©t√© expliqu√© pr√©c√©demment, je n'ai pas pu capturer un tel flux vid√©o c√¥t√© PC dans l'application JAVA. <br><br>  Par cons√©quent, une d√©cision simple et <u>temporaire</u> (je tiens √† le souligner) a √©t√© prise: envoyer un flux vid√©o de la cam√©ra en morceaux pendant deux secondes.  Pas un rover, bien s√ªr, mais le rover se r√©v√®le d√©j√† assez. <br><br>  Une fois cette d√©cision prise, j'ai commenc√© √† ma√Ætriser les cours CAMERA et MEDIA RECORDER.  Il existe de nombreux exemples de code sur le r√©seau pour lancer la cam√©ra et enregistrer des fichiers vid√©o, mais pour une raison quelconque, aucun d'entre eux n'a fonctionn√© pour moi.  Ni sur l'√©mulateur, ni sur un vrai appareil.  Il s'est av√©r√© que la raison r√©side dans les autorisations, c'est-√†-dire dans les autorisations.  Il s'av√®re que des exemples de code ont √©t√© √©crits √† l'√©poque o√π Android √©tait encore gratuit et que le programmeur pouvait faire ce qu'il voulait s'il √©crivait toutes les autorisations n√©cessaires dans le manifeste.  Mais ma version actuelle d'OC ne le permettait pas.  Tout d'abord, vous deviez donner √† l'utilisateur la permission d'√©crire le fichier et d'allumer l'appareil photo imm√©diatement apr√®s le d√©marrage de l'application.  Cela m'a co√ªt√© une activit√© suppl√©mentaire, c'est-√†-dire dans l'activit√©. <br><br><div class="spoiler">  <b class="spoiler_title">Classe MainActivity.java</b> <div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.Manifest; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.content.Intent; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.content.pm.PackageManager; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.hardware.Camera; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.media.MediaRecorder; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.os.AsyncTask; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.support.v4.app.ActivityCompat; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.support.v4.content.ContextCompat; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.support.v7.app.AppCompatActivity; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.os.Bundle; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.widget.Toast; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.File; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainActivity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppCompatActivity</span></span></span><span class="hljs-class"> </span></span>{ Camera camera; MediaRecorder mediaRecorder; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> MainActivity m; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> Camera_granted; File videoFile; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState); setContentView(R.layout.activity_main); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((ContextCompat.checkSelfPermission(MainActivity.<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) ||(ContextCompat.checkSelfPermission(MainActivity.<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) ) <span class="hljs-comment"><span class="hljs-comment">//ask for authorisation { ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.CAMERA,Manifest.permission.WRITE_EXTERNAL_STORAGE}, 50); } if ((ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED)&amp; (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED)) { Toast.makeText(MainActivity.this,"", Toast.LENGTH_SHORT).show();} m=this; MyTask mt = new MyTask(); mt.execute(); } } class MyTask extends AsyncTask&lt;Void, Void, Void&gt; { @Override protected void onPreExecute() { super.onPreExecute(); } @Override protected Void doInBackground(Void... params) { boolean ready = false; while(!ready) { if ((ContextCompat.checkSelfPermission(MainActivity.m, Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED)&amp; (ContextCompat.checkSelfPermission(MainActivity.m, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED)) { System.out.println(" "); ready=true; } } return null; } @Override protected void onPostExecute(Void result) { Toast.makeText(MainActivity.m,"", Toast.LENGTH_SHORT).show(); Intent intent=new Intent(MainActivity.m,CameraActivity.class); //   : MainActivity.m.startActivity(intent); } }</span></span></code> </pre> <br></div></div><br>  Apr√®s cela, les choses se sont bien pass√©es et le code de travail suivant est apparu.  La deuxi√®me activit√© de la classe Camera_Activity est charg√©e de travailler avec la cam√©ra et d'enregistrer des fichiers vid√©o.  Classe Http_server pour le transfert (le nom, bien s√ªr, est incorrect, mais il s'est av√©r√© historiquement).  Le code est simple, partout o√π il y a une explication. <br><br><img src="https://habrastorage.org/webt/dv/-z/l1/dv-zl1u_fxzjus5hcacejbzhudc.png"><br><br>  Tout repose compl√®tement sur le Github.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Lien</a> <br><br><div class="spoiler">  <b class="spoiler_title">Camera_Activity</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.hardware.Camera; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.media.MediaRecorder; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.os.AsyncTask; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.os.Bundle; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.os.Environment; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.support.annotation.Nullable; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.support.v7.app.AppCompatActivity; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.view.SurfaceHolder; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.view.SurfaceView; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.view.View; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.widget.Button; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.widget.TextView; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.BufferedInputStream; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.File; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.FileInputStream; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.IOException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.net.ServerSocket; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.hardware.SensorEvent; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.hardware.SensorEventListener; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.hardware.SensorManager; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.content.Context; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.hardware.Sensor; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> android.hardware.Camera.getNumberOfCameras; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.BufferedOutputStream; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.OutputStreamWriter; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.PrintWriter; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.net.Socket; <span class="hljs-comment"><span class="hljs-comment">/** * Created by m on 01.02.2019. */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CameraActivity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppCompatActivity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SensorEventListener</span></span></span><span class="hljs-class"> </span></span>{ SurfaceView surfaceView; TextView mTextView; Button mStart; Button mStop; Camera camera; MediaRecorder mediaRecorder; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> ServerSocket ss; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> ServerSocket ss2; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> MainActivity m; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">volatile</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> stopCamera=<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> count=<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> File videoFile1; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> File videoFile2; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> File videoFile3; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">volatile</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] data; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> SensorManager mSensorManager; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Sensor mAxeleration, mLight,mRotation,mHumidity,mPressure,mTemperature; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> ax; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> ay; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> az; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> light; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> y; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> z; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> hum; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> press; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> tempr; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> String Sensors; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@Nullable Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState); mSensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE); <span class="hljs-comment"><span class="hljs-comment">//    mAxeleration = mSensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER); //    mSensorManager.registerListener(this, mAxeleration, SensorManager.SENSOR_DELAY_NORMAL); mLight = mSensorManager.getDefaultSensor(Sensor.TYPE_LIGHT); mSensorManager.registerListener(this, mLight, SensorManager.SENSOR_DELAY_NORMAL); mRotation = mSensorManager.getDefaultSensor(Sensor.TYPE_ORIENTATION); mSensorManager.registerListener(this, mRotation, SensorManager.SENSOR_DELAY_NORMAL); mHumidity = mSensorManager.getDefaultSensor(Sensor.TYPE_LINEAR_ACCELERATION); mSensorManager.registerListener(this, mHumidity, SensorManager.SENSOR_DELAY_NORMAL); mPressure = mSensorManager.getDefaultSensor(Sensor.TYPE_PRESSURE); mSensorManager.registerListener(this, mPressure, SensorManager.SENSOR_DELAY_NORMAL); mTemperature = mSensorManager.getDefaultSensor(Sensor.TYPE_AMBIENT_TEMPERATURE); mSensorManager.registerListener(this, mTemperature, SensorManager.SENSOR_DELAY_NORMAL); setContentView(R.layout.camera); // videoFile = new File(Environment.getExternalStorageDirectory() + File.separator+ Environment.DIRECTORY_DCIM + File.separator + "test.3gp"); videoFile1 = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM), "test1.3gp"); videoFile2 = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM), "test2.3gp"); videoFile3 = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM), "test3.3gp"); // videoFile4 = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM), "testOUT.3gp"); // File file = new File(Environment.getExternalStorageDirectory(),VIDEO_PATH_NAME);//   // "touch" the file try { videoFile1.createNewFile(); videoFile2.createNewFile(); videoFile3.createNewFile(); } catch (IOException e) { } mStart = (Button) findViewById(R.id.btnStartRecord); mStop = (Button) findViewById(R.id.btnStopRecord); surfaceView = (SurfaceView) findViewById(R.id.surfaceView); mTextView = (TextView) findViewById(R.id.textView); SurfaceHolder holder = surfaceView.getHolder(); holder.addCallback(new SurfaceHolder.Callback() { @Override public void surfaceCreated(SurfaceHolder holder) { try { camera.setPreviewDisplay(holder); camera.startPreview(); } catch (Exception e) { e.printStackTrace(); } } @Override public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) { } @Override public void surfaceDestroyed(SurfaceHolder holder) { } }); mStart.setOnClickListener(new View.OnClickListener() { public void onClick(View v){ System.out.println("  "); //    WriteVideo WV = new WriteVideo(); WV.start(); mStart.setClickable(false); mStop.setClickable(true); Http_server.File_is_sent=true; new ServerCreation().execute();//      } } ); mStop.setOnClickListener(new View.OnClickListener() { public void onClick(View v){ stopCamera = false; // mTextView.setText(" "); releaseMediaRecorder(); releaseCamera(); mStart.setClickable(true); mStop.setClickable(false); System.out.println("  "); Http_server.File_is_sent=true; } } ); } @Override public void onAccuracyChanged(Sensor sensor, int accuracy) { //    } @Override public void onSensorChanged(SensorEvent event) { //   switch (event.sensor.getType()) { case Sensor.TYPE_ACCELEROMETER: ax = (int)(event.values[0] * 9); // + -  az = (int)(event.values[2] * 9);//  +  -  // System.out.println(" = "+ ax + "  = " + az); break; case Sensor.TYPE_LIGHT: light = event.values[0]; // System.out.println(" = "+ light); break; case Sensor.TYPE_ORIENTATION: x = (int)event.values[0]; y = (int)event.values[1]+90; //  +  -  z = (int)event.values[2]; // + -  // System.out.println("x = "+ x + " y = " + y+ " z= "+ z); break; case Sensor.TYPE_LINEAR_ACCELERATION: hum = event.values[2]; int k = (int)(hum*100); hum = - (double)k;//   ,    /2 // System.out.println(hum); break; case Sensor.TYPE_PRESSURE: press = event.values[0]*760/10.1325; int i = (int) press; press = (double)i/100; // System.out.println(press); break; case Sensor.TYPE_AMBIENT_TEMPERATURE: tempr = event.values[0]; System.out.println(tempr); break; } Sensors = " tangaz_1 "+ az+ " kren_1 " + ax + " tangaz_2 "+ y + " kren_2 " + z + " forvard_accel "+ hum + " light " + light+ " "; // System.out.println(Sensors); } @Override protected void onResume() { super.onResume(); releaseCamera(); releaseMediaRecorder(); int t = getNumberOfCameras(); mTextView.setText(""+t); if(camera == null) { camera = Camera.open(); // camera.unlock(); } else{ } } @Override protected void onPause() { super.onPause(); } @Override protected void onStop() { super.onStop(); releaseCamera(); releaseMediaRecorder(); } private boolean prepareVideoRecorder() { if (mediaRecorder==null) {mediaRecorder = new MediaRecorder();} camera.unlock(); mediaRecorder.setCamera(camera); mediaRecorder.setVideoSource(MediaRecorder.VideoSource.CAMERA); switch (count) { case 1: mediaRecorder.setOutputFile(videoFile1.getAbsolutePath()); break; case 2: mediaRecorder.setOutputFile(videoFile2.getAbsolutePath()); break; case 3: mediaRecorder.setOutputFile(videoFile3.getAbsolutePath()); break; } mediaRecorder.setPreviewDisplay(surfaceView.getHolder().getSurface()); mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP); //mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4); mediaRecorder.setVideoSize(640,480); mediaRecorder.setOrientationHint(90);//    ,     mediaRecorder.setVideoFrameRate(30); mediaRecorder.setVideoEncoder(1); try { mediaRecorder.prepare(); } catch (Exception e) { e.printStackTrace(); releaseMediaRecorder(); return false; } return true; } private void releaseMediaRecorder() { if (mediaRecorder != null) { mediaRecorder.release(); mediaRecorder = null; if (camera != null) { // camera.lock();//         } } } public void releaseCamera() { if (camera != null) { // camera.setPreviewCallback(null); // SurfaceView.getHolder().removeCallback(SurfaceView); camera.release(); camera = null; } } private class WriteVideo extends Thread{ public void run () { stopCamera=true; do{ // releaseMediaRecorder(); // releaseCamera(); if(camera == null) { camera = Camera.open(Camera.CameraInfo.CAMERA_FACING_BACK); } System.out.println(""); if (prepareVideoRecorder()) { mediaRecorder.start(); } else { releaseMediaRecorder(); } try { Thread.sleep(2000);//     } catch (Exception e) { } count++; if(count==3){count=1;}// 4 if (mediaRecorder != null) { releaseMediaRecorder(); } System.out.println(""); File f=null; switch (count) { case 1: f = videoFile2;// 3 break; case 2: f = videoFile1;//1 break; case 3: f = videoFile2; break; } try { BufferedInputStream bis = new BufferedInputStream(new FileInputStream(f)); data = new byte[bis.available()]; bis.read(data); bis.close(); }catch (Exception e) { System.out.println(e); } if(Http_server.File_is_sent)//       { System.out.println("  "); new HTTP_Server_Calling().execute(); Http_server.File_is_sent=false; } } while(stopCamera); if (mediaRecorder != null) { System.out.println(""); } } } } class ServerCreation extends AsyncTask&lt;Void, Void, Void&gt; { @Override protected void onPreExecute() { super.onPreExecute(); } @Override protected Void doInBackground(Void... params) { try { CameraActivity.ss = new ServerSocket(40001);//      System.out.println("  "); new Http_server(CameraActivity.ss.accept()); CameraActivity.ss2 = new ServerSocket(40002);//      }catch (Exception e) { System.out.println(e); System.out.println("   "); } new HTTP_Server_Calling2().start(); return null; } @Override protected void onPostExecute(Void result) { } } class HTTP_Server_Calling extends AsyncTask&lt;Void, Void, Void&gt; { @Override protected void onPreExecute() { super.onPreExecute(); } @Override protected Void doInBackground(Void... params) { try { new Http_server(CameraActivity.ss.accept()); } catch (Exception e) { System.out.println(e); } return null; } @Override protected void onPostExecute(Void result) { } } class HTTP_Server_Calling2 extends Thread//           { public void run() { while (CameraActivity.stopCamera) { try { Thread.sleep(500);//      new Http_server_Sensors(CameraActivity.ss2.accept()); } catch (Exception e) { System.out.println(e); } } } } class Http_server extends Thread { public Socket socket; public static volatile boolean File_is_sent=true; Http_server(Socket s) { System.out.println("  "); socket = s; setPriority(MAX_PRIORITY); start(); } public void run() { try { System.out.println("    "); BufferedOutputStream bos = new BufferedOutputStream((socket.getOutputStream())); bos.write(CameraActivity.data); bos.flush(); bos.close(); socket.close(); } catch (Exception e) { System.out.println(e); } File_is_sent = true; } } public class Http_server_Sensors extends Thread { public Socket socket; PrintWriter pw; Http_server_Sensors(Socket s) { socket = s; setPriority(MAX_PRIORITY); start(); } public void run() { try { pw = new PrintWriter(new OutputStreamWriter(socket.getOutputStream()), true);//    System.out.println(CameraActivity.Sensors); pw.println(CameraActivity.Sensors);//  pw.flush(); pw.close(); socket.close(); } catch (Exception e) { System.out.println(e); } } }</span></span></code> </pre><br></div></div><br><br>  L'essence du programme apr√®s le d√©marrage et la mise sous tension de l'appareil photo est la suivante: <br>  √©crire une vid√©o pendant deux secondes dans le premier fichier, <br>  nous √©crivons la vid√©o pendant deux secondes dans le deuxi√®me fichier, et en attendant, nous envoyons le premier fichier via TCP-IP via le WI-FI local √† l'ordinateur, <br>  r√©√©crire le premier fichier, et en attendant envoyer le second, <br>  et ainsi de suite. <br><br>  Ensuite, le cycle se r√©p√®te jusqu'√† ce que le bouton ¬´stop¬ª soit enfonc√© ou que la batterie du smartphone s'√©teigne.  En principe, il est possible de mettre en ≈ìuvre un analogue d'appuyer sur des boutons, en utilisant des commandes d'un ordinateur, √©galement via TCP, ce n'est pas difficile. <br><br>  Au d√©but, le tampon vid√©o, juste au cas o√π, se composait de trois fichiers au format 3GP (nous √©crivons le premier, envoyons le troisi√®me, nous √©crivons le second, nous envoyons le premier, nous √©crivons le troisi√®me, nous envoyons le second), mais ensuite il s'est av√©r√© que les deux fichiers sont assez suffisants (enregistrement et envoi mutuel) n'interf√®rent pas). <br><br>  Avec une r√©solution de cam√©ra de 640 par 480, les fichiers sont obtenus, quelque part autour de 200-300 ko, ce qui est assez difficile pour mon routeur.  Je ne me suis pas encore souci√© du son, mais tout semble simple: vous installez les encodeurs audio n√©cessaires, les d√©bits binaires, le nombre de canaux et autres. <br><br>  Un peu plus tard, lorsque j'ai d√©bogu√© le transfert de vid√©o, j'ai compl√©t√© le code √©galement en transmettant des informations depuis les capteurs du smartphone.  Tout est transmis trivialement sur une seule ligne, mais je ne pouvais pas le transf√©rer via la m√™me prise que la vid√©o.  Apparemment, les classes pour la transmission d'une cha√Æne PrintWriter et la transmission de donn√©es binaires BufferedOutputStream utilisent des flux diff√©rents, mais elles ont ensuite un tampon de sortie, o√π elles se compl√®tent avec succ√®s.  En cons√©quence, la vid√©o commence √† se briser et √† s'effondrer.  De plus, le fichier vid√©o est transmis toutes les deux secondes, et pour les capteurs, cet intervalle est trop long.  Par cons√©quent, il a √©t√© d√©cid√© de les distribuer dans diff√©rentes prises afin qu'elles n'interf√®rent pas entre elles.  Pour cette raison, une nouvelle classe Http_server_Sensors est apparue. <br><br>  Donc, nous avons organis√© l'envoi, nous allons √† nouveau retourner du c√¥t√© de la r√©ception sombre. <br><br>  Comme nous l'avons d√©j√† vu dans le tout premier exemple, la lecture de fichiers vid√©o dans une application JAVA √† l'aide d'un lecteur VLC ne pose d√©sormais aucun probl√®me.  L'essentiel est d'obtenir ces fichiers. <br><br>  Le programme de d√©monstration suivant en est responsable. <br><br><div class="spoiler">  <b class="spoiler_title">Lecteur vid√©o</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.awt.BorderLayout; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.awt.event.ActionEvent; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.awt.event.ActionListener; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.awt.event.WindowAdapter; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.awt.event.WindowEvent; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.swing.JButton; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.swing.JFrame; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.swing.JOptionPane; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.swing.JPanel; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.swing.SwingUtilities; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> uk.co.caprica.vlcj.component.EmbeddedMediaPlayerComponent; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> uk.co.caprica.vlcj.discovery.NativeDiscovery; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> uk.co.caprica.vlcj.player.MediaPlayer; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> uk.co.caprica.vlcj.player.MediaPlayerEventAdapter; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.*; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.net.Socket; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">VideoPlayer</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> JFrame frame; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> EmbeddedMediaPlayerComponent mediaPlayerComponent; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> JButton pauseButton; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> JButton rewindButton; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> JButton skipButton; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> String mr1, mr2; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> playing_finished = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> File_1_play_starting = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> File_1_play_finished = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> File_2_play_starting = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> File_2_play_finished = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-comment"><span class="hljs-comment">//192.168.1.128 public static void main(final String[] args) { new NativeDiscovery().discover(); mr1 = "D:\\test1.3gp"; mr2 = "D:\\test2.3gp"; SwingUtilities.invokeLater(new Runnable() { @Override public void run() { VideoPlayer vp = new VideoPlayer(); vp.mediaPlayerComponent.getMediaPlayer().setPlaySubItems(true); VideoPlayer.playing_finished=false; new Control().start();//   // while (!Http_client.File_ready) { // System.out.println(""); try { Thread.sleep(100); } catch (Exception e) { } } // while (true) { playing_finished = false; } // System.out.println("  1"); } }); } public VideoPlayer() { frame = new JFrame("My First Media Player"); frame.setBounds(100, 100, 600, 400); frame.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE); frame.addWindowListener(new WindowAdapter() { @Override public void windowClosing(WindowEvent e) { System.out.println(e); mediaPlayerComponent.release(); System.exit(0); } }); JPanel contentPane = new JPanel(); contentPane.setLayout(new BorderLayout()); mediaPlayerComponent = new EmbeddedMediaPlayerComponent(); contentPane.add(mediaPlayerComponent, BorderLayout.CENTER); frame.setContentPane(contentPane); JPanel controlsPane = new JPanel(); pauseButton = new JButton("Pause"); controlsPane.add(pauseButton); rewindButton = new JButton("Rewind"); controlsPane.add(rewindButton); skipButton = new JButton("Skip"); controlsPane.add(skipButton); contentPane.add(controlsPane, BorderLayout.SOUTH); pauseButton.addActionListener(new ActionListener() { @Override public void actionPerformed(ActionEvent e) { mediaPlayerComponent.getMediaPlayer().pause(); } }); rewindButton.addActionListener(new ActionListener() { @Override public void actionPerformed(ActionEvent e) { mediaPlayerComponent.getMediaPlayer().skip(-10000); } }); skipButton.addActionListener(new ActionListener() { @Override public void actionPerformed(ActionEvent e) { mediaPlayerComponent.getMediaPlayer().skip(10000); } }); mediaPlayerComponent.getMediaPlayer().addMediaPlayerEventListener(new MediaPlayerEventAdapter() { @Override public void playing(MediaPlayer mediaPlayer) { SwingUtilities.invokeLater(new Runnable() { @Override public void run() { frame.setTitle(String.format( "My First Media Player - %s", mediaPlayerComponent.getMediaPlayer() )); } }); } @Override public void finished(MediaPlayer mediaPlayer) { SwingUtilities.invokeLater(new Runnable() { @Override public void run() { playing_finished = true; System.out.println("finished " + playing_finished); //closeWindow(); } }); } @Override public void error(MediaPlayer mediaPlayer) { SwingUtilities.invokeLater(new Runnable() { @Override public void run() { JOptionPane.showMessageDialog( frame, "Failed to play media", "Error", JOptionPane.ERROR_MESSAGE ); closeWindow(); } }); } }); frame.setVisible(true); //mediaPlayerComponent.getMediaPlayer(); } public void start(String mrl) { mediaPlayerComponent.getMediaPlayer().setPlaySubItems(true); mediaPlayerComponent.getMediaPlayer().prepareMedia(mrl); //mediaPlayerComponent.getMediaPlayer().parseMedia(); mediaPlayerComponent.getMediaPlayer().playMedia(mrl); // mediaPlayerComponent. } public void closeWindow() { frame.dispatchEvent(new WindowEvent(frame, WindowEvent.WINDOW_CLOSING)); } } class PlayFile { public static void run(int number) { if (number==1) { VideoPlayer.mediaPlayerComponent.getMediaPlayer().prepareMedia(VideoPlayer.mr1); System.out.println("  1"); VideoPlayer.mediaPlayerComponent.getMediaPlayer().start(); VideoPlayer.mediaPlayerComponent.getMediaPlayer().playMedia(VideoPlayer.mr1); VideoPlayer.File_1_play_starting = true; VideoPlayer.File_1_play_finished = false; while (!VideoPlayer.playing_finished) {//      try { Thread.sleep(1); } catch (Exception e) { } } VideoPlayer.mediaPlayerComponent.getMediaPlayer().stop(); VideoPlayer.playing_finished = false; VideoPlayer.File_1_play_starting = false; VideoPlayer.File_1_play_finished = true; } { try { Thread.sleep(10); } catch (Exception e) { } } if (number==2) { VideoPlayer.mediaPlayerComponent.getMediaPlayer().prepareMedia(VideoPlayer.mr2); System.out.println("  2"); VideoPlayer.mediaPlayerComponent.getMediaPlayer().start(); VideoPlayer.mediaPlayerComponent.getMediaPlayer().playMedia(VideoPlayer.mr2); VideoPlayer.File_2_play_starting = true; VideoPlayer.File_2_play_finished = false; while (!VideoPlayer.playing_finished) { try { Thread.sleep(1); } catch (Exception e) { } } VideoPlayer.mediaPlayerComponent.getMediaPlayer().stop(); VideoPlayer.playing_finished = false; VideoPlayer.File_2_play_starting = false; VideoPlayer.File_2_play_finished = true; } { try { Thread.sleep(10); } catch (Exception e) { } } } } public class Control extends Thread{ public static boolean P_for_play_1=false; public static boolean P_for_play_2=false; public void run() { // new Http_client(1).start(); while (!Http_client.File1_reception_complete) { try { Thread.sleep(1); } catch (Exception e) { } } while (true) { new Http_client(2).start(); PlayFile.run(1); while (!VideoPlayer.File_1_play_finished) { try { Thread.sleep(1); } catch (Exception e) { } } while (!Http_client.File2_reception_complete) { try { Thread.sleep(1); } catch (Exception e) { } } new Http_client(1).start(); PlayFile.run(2); while (!VideoPlayer.File_2_play_finished) { try { Thread.sleep(1); } catch (Exception e) { } } while (!Http_client.File1_reception_complete) { try { Thread.sleep(1); } catch (Exception e) { } } //PlayFile.run(1); } } } public class Http_client extends Thread { public static boolean File1_starts_writing=false; public static boolean File1_reception_complete=false; public static boolean File2_starts_writing=false; public static boolean File2_reception_complete=false; public int Number; public BufferedOutputStream bos; Http_client(int Number) { this.Number = Number; } public void run(){ try { Socket socket= new Socket("192.168.1.128", 40001); // System.out.println(" "); // PrintWriter pw = new PrintWriter(new OutputStreamWriter(socket.getOutputStream()), true); // pw.println("ready");// Greetings with CLIENT // System.out.println(" "); BufferedInputStream bis = new BufferedInputStream(socket.getInputStream()); if (Number ==1) { File1_starts_writing=true; File1_reception_complete=false; System.out.println("  1,    2"); bos = new BufferedOutputStream(new FileOutputStream(VideoPlayer.mr1)); byte[] buffer = new byte[32768]; while (true) { //     int readBytesCount = bis.read(buffer); if (readBytesCount == -1) { //   break; } if (readBytesCount &gt; 0) { //    - ,   bos.write(buffer, 0, readBytesCount); } } System.out.println(" "); System.out.println(" "); bos.flush(); bos.close(); File1_starts_writing=false; File1_reception_complete=true; } if (Number==2) { File2_starts_writing=true; File2_reception_complete=false; System.out.println("  2,    1"); bos = new BufferedOutputStream(new FileOutputStream(VideoPlayer.mr2)); byte[] buffer = new byte[32768]; while (true) { //     int readBytesCount = bis.read(buffer); if (readBytesCount == -1) { //   break; } if (readBytesCount &gt; 0) { //    - ,   bos.write(buffer, 0, readBytesCount); } } System.out.println(" "); System.out.println(" "); bos.flush(); bos.close(); File2_starts_writing=false; File2_reception_complete=true; } socket.close(); // pw.close(); bis.close(); } catch(Exception e){ System.out.println(e); System.out.println("gfgfg"); } try { Thread.sleep(10); } catch (Exception e) { } } }</span></span></code> </pre></div></div><br><br>  Son essence est simple.  Un client TCP est lanc√©, qui commence √† attendre que le serveur soit pr√™t sur le smartphone.  Ayant re√ßu le premier fichier, il d√©marre imm√©diatement et le fichier num√©ro deux est attendu en parall√®le.  De plus, il est pr√©vu soit la fin de la r√©ception du deuxi√®me fichier, soit la fin de la lecture du premier.  Le meilleur de tous, bien s√ªr, <s>trois √©toiles</s> , lorsque le fichier se t√©l√©charge plus rapidement qu'il ne joue.  Si vous avez perdu le premier fichier, mais que vous n'avez pas encore re√ßu le second, alors tout est en attente ... Nous allons vous montrer un √©cran noir.  Sinon, lancez rapidement la lecture du deuxi√®me fichier et t√©l√©chargez √† nouveau le premier simultan√©ment. <br>  J'avais un vague espoir que la pause entre les changements de lecture de fichiers serait inf√©rieure au temps de r√©action de l'≈ìil humain, mais cela ne s'est pas concr√©tis√©.  Bien s√ªr, bien s√ªr, ce VLC. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/BaY3gD6RBdU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  En cons√©quence, nous obtenons une sorte de vile vid√©o discontinue (le premier trilobite, apparemment, a vu le monde comme √ßa), o√π la nettet√© est toujours constamment ajust√©e.  Et nous devons tenir compte du fait que la vid√©o est √©galement en retard de deux secondes.  En bref, en production, je ne recommande pas de le diffuser.  Mais j'ai un manque de poisson et de trilobite, comme on dit ... <br><br>  En r√©sumant ce qui pr√©c√®de, nous pouvons absolument dire que: <br><br>  L'envoi de vid√©o en morceaux est essentiellement inop√©rant et ne peut √™tre utile que dans les cas o√π la vid√©o est suffisamment longue et o√π vous n'avez pas besoin d'une seconde r√©action √† ce qui se passe. <br><br>  La transmission vid√©o sur TCP-IP est √©galement une id√©e incorrecte, quoi que certaines personnalit√©s de Habr disent √† propos de la vitesse de transfert de donn√©es en utilisant ce protocole (qui est cens√© √™tre encore plus rapide que UDP).  Bien s√ªr, les intranets sans fil modernes ont de bonnes caract√©ristiques pour fournir des poign√©es de main continues aux serveurs et clients TCP, et TCP lui-m√™me semble avoir √©t√© mis √† niveau pour de longues donn√©es, mais les bouchons entre la lecture des focus vid√©o, comme vous pouvez le voir sur la d√©mo, apparaissent p√©riodiquement. <br><br>  Mais, au moins pour l'avenir, les pens√©es suivantes sont apparues: <br><br><ol><li>  envoyer image par image (pas de vid√©o, mais des photos) via UDP, mais contr√¥ler les informations via TCP, </li><li>  pilotez des cadres photo tout au long d'UDP mais avec des signaux de synchronisation dans le m√™me canal. </li></ol><br>  Bien s√ªr, jusqu'√† pr√©sent, il y a plus de questions que de r√©ponses.  Y a-t-il assez de vitesse de r√©ception chez JAVA avec son niveau d'abstraction pour travailler avec le r√©seau et les images?  Est-il possible de faire 30 clich√©s normaux par seconde au niveau qui m'est accessible sous Android?  Dois-je les r√©colter avant l'envoi afin de r√©duire le d√©bit?  Et puis JAVA est-il suffisant pour l'emballage et le d√©ballage?  Et si, tout √† coup, quelque chose fonctionne, sera-t-il possible de passer √† l'√©tape suivante, de visser le syst√®me de vision par ordinateur JAVA OpenCV ici?  Lui-m√™me, bien s√ªr, c'est toujours int√©ressant de regarder des vid√©os en streaming depuis le niveau du sol, mais il ne faut pas oublier l'objectif le plus √©lev√© - un robot robot avec l'intelligence d'une fourmi! <br><br>  Mais, tout en ayant ce que nous avons, nous reviendrons au panier actuel.  L'ancien programme de l'article avant-dernier pour le microcontr√¥leur AVR sur la plate-forme Arduino n'a pas beaucoup chang√©, seul le choix de la branche a √©t√© ajout√© - conduite autonome ou contr√¥l√©e par l'op√©rateur.  Les donn√©es que le chariot (moelle √©pini√®re) transmet via WIFI sont les m√™mes - la distance parcourue.  Un peu plus tard, j'ai √©galement attach√© le transfert de temp√©rature d'un √©l√©ment critique - le pilote de moteur.  Tout cela est transmis et re√ßu d'abord par UART, et d√©j√† lors de l'entr√©e dans le r√©seau via UDP.  Je ne donne pas le code, toute l'analyse compl√®te de l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article</a> avant-dernier <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">.</a> <br><br><img src="https://habrastorage.org/webt/zh/gb/vz/zhgbvzhttcqg7o_la1sabrmw2gy.png"><br><br>  Pour deux moteurs, il (conducteur) est encore plus ou moins suffisant, mais avec quatre apr√®s un certain temps, il surchauffe √† un √©tat inop√©rant.  Au d√©but, j'ai essay√© d'utiliser les capteurs de temp√©rature analogiques les plus simples bas√©s sur des diodes zener, tels que le LM335, mais rien n'en est sorti.  Je n'avais pas de source de tension de r√©f√©rence, pour faire court, ION.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et attraper des millivolts sur une batterie faible n'a pas de sens. Soit dit en passant, √† propos de la batterie - quand j'√©tais fatigu√© de constamment retirer et r√©ins√©rer 14500 batteries au lithium afin de recharger, je viens de prendre une batterie de rechange √† partir d'un tournevis et le chariot a commenc√© √† rouler en continu pendant une heure et demie, en plus il a un aspect et un poids mena√ßants (oui, c'est sur cette batterie "Yeux"). Par cons√©quent, pour mesurer la temp√©rature, j'ai install√© un gyroscope-acc√©l√©rom√®tre d√©fectueux bas√© sur le L3G4200D. Heureusement, il a √©galement mesur√© la temp√©rature et l'a transmise via le bus I2C.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un smartphone assis derri√®re la batterie et au-dessus des yeux de l'√©chosondeur transmet un flux vid√©o, des lectures d'acc√©l√©rom√®tre (vous pouvez l'utiliser pour incliner le chariot et le tangage du chariot lorsqu'il est debout), rouler et tanguer en degr√©s dans une dynamique d√©j√† calcul√©e par le smartphone lui-m√™me (une option tr√®s pratique) , acc√©l√©ration lin√©aire dans le sens de la marche, √©clairage. En g√©n√©ral, bien s√ªr, vous pouvez transf√©rer tout ce que votre smartphone peut mesurer, de la pression de l'air vers le nord. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En cons√©quence, l'application sur JAVA a acquis la forme suivante: </font></font><br><br><img src="https://habrastorage.org/webt/do/6y/oe/do6yoema_7rnzm9z38yfijhzv14.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ce qui est dr√¥le, c'est qu'il ressemble vraiment √† un panneau de commande d'un rover lunaire sovi√©tique, seulement j'ai un √©cran de t√©l√©vision sur le c√¥t√©, et ils l'ont au centre.</font></font><br><br><img src="https://habrastorage.org/webt/hw/ql/tu/hwqltuwvxsplpvdat2pcokifzye.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lorsque vous l'allumez, connectez-vous d'abord au chariot et au smartphone, s√©lectionnez le mode de contr√¥le manuel ou l'autonomie compl√®te - et c'est parti! Jusqu'√† ce que la fen√™tre de temp√©rature du conducteur devienne jaune puis devient rouge. Graphiques! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quelque chose comme √ßa, il semble en direct.</font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/AaMWKKeBff8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je n'apporte pas le programme ici, car comme d'habitude, la construction de fen√™tres occupe 95% du code. </font><font style="vertical-align: inherit;">Il peut √™tre trouv√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici. </font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä l'avenir, le cerveau (smartphone) doit apprendre √† transf√©rer une vid√©o normale (et non pas ce qu'elle est maintenant) vers un ordinateur, o√π elle devrait √™tre reconnue de mani√®re appropri√©e (pour l'instant, l'objectif est de construire un plan de salle au niveau du sol et de d√©terminer son emplacement). </font><font style="vertical-align: inherit;">Eh bien, et d√©j√† sous le communisme, je voudrais le porter sur mon smartphone pour qu'il n'ait pas besoin d'un ordinateur. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si au moins quelque chose fonctionne, je le posterai certainement.</font></font> Merci de votre attention. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr448516/">https://habr.com/ru/post/fr448516/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr448498/index.html">"Russia 404": combien d'Internet gratuit reste √† vivre</a></li>
<li><a href="../fr448500/index.html">R√©soudre un Crackme simple pour Sega Mega Drive</a></li>
<li><a href="../fr448504/index.html">Ils ont collect√© pour tout le monde "Habrom" le livre de r√©f√©rence "Par qui il a √©t√© d√©livr√© ..." pour les passeports. T√©l√©charger sur la sant√©</a></li>
<li><a href="../fr448506/index.html">The Matrix a 20 ans: comment Wachowski a fait du cyberpunk, qui a d√©termin√© l'agenda de toute une g√©n√©ration</a></li>
<li><a href="../fr448510/index.html">Acer en 2019: que faire si vous supprimez toutes les mouches des ordinateurs portables de jeu</a></li>
<li><a href="../fr448518/index.html">Comment voir un trou noir?</a></li>
<li><a href="../fr448522/index.html">G√©n√©ration de configuration pour nginx, historique d'une demande de tirage</a></li>
<li><a href="../fr448524/index.html">Des scientifiques isra√©liens pour la premi√®re fois au monde ont imprim√© un c≈ìur vivant</a></li>
<li><a href="../fr448528/index.html">Service VPN Wireguard gratuit sur AWS</a></li>
<li><a href="../fr448530/index.html">Comment le m√©gaphone a dormi sur les abonnements mobiles</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>