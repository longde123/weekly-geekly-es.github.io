<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍🤝‍👨🏽 ⚪️ 🤲🏼 Erste Schritte mit dem PVS-Studio Static Analyzer für die C ++ - Entwicklung unter Linux 👰🏻 👸🏾 🐃</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="PVS-Studio unterstützt die Analyse von Projekten, die in C, C ++, C # und Java entwickelt wurden. Sie können den Analysator unter Windows, Linux und m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Erste Schritte mit dem PVS-Studio Static Analyzer für die C ++ - Entwicklung unter Linux</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/462659/"><img src="https://habrastorage.org/webt/iu/6h/e0/iu6he0qpjzu0rlqvvkqpczf_euu.png" align="left">  PVS-Studio unterstützt die Analyse von Projekten, die in C, C ++, C # und Java entwickelt wurden.  Sie können den Analysator unter Windows, Linux und macOS verwenden.  In diesem kleinen Artikel erfahren Sie, wie Sie C- und C ++ - Code in einer Linux-Umgebung analysieren. <br><br><h2>  Installation </h2><br>  Je nach Distributionstyp gibt es verschiedene Möglichkeiten, PVS-Studio unter Linux zu installieren.  Die bequemste und bevorzugte Methode ist die Verwendung des Repositorys, da der Analysator beim Freigeben neuer Versionen automatisch aktualisiert werden kann.  Eine andere Möglichkeit ist die Verwendung des Installationspakets, das Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier erhalten</a> . <br><a name="habracut"></a><br>  Die Installationsbefehle unterscheiden sich je nach verwendeter Linux-Distribution.  So sieht beispielsweise die Installation aus dem Repository unter Debian-basierten Systemen aus: <br><br><pre><code class="cpp hljs">wget -q -O - https:<span class="hljs-comment"><span class="hljs-comment">//files.viva64.com/etc/pubkey.txt | sudo apt-key add - sudo wget -O /etc/apt/sources.list.d/viva64.list \ https://files.viva64.com/etc/viva64.list sudo apt update sudo apt install pvs-studio</span></span></code> </pre> <br>  Um PVS-Studio aus dem herunterladbaren Paket zu installieren, können Sie das Dienstprogramm <i>gdebi verwenden</i> : <br><br><pre> <code class="cpp hljs">sudo gdebi pvs-studio-VERSION.deb</code> </pre> <br>  Der Installationsprozess wird im Dokumentationsabschnitt " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Installieren und Aktualisieren von PVS-Studio unter Linux</a> " ausführlicher beschrieben.  Dort finden Sie auch Informationen zu Nicht-Debian-Systemen. <br><br>  Nach der Installation von PVS-Studio müssen Sie Lizenzdaten eingeben.  Hier ist der Befehl dafür: <br><br><pre> <code class="cpp hljs">pvs-studio-analyzer credentials NAME KEY [-o LIC-FILE]</code> </pre> <br>  <i>NAME</i> und <i>KEY</i> sind der registrierte Benutzername bzw. der Lizenzschlüssel.  Mit dem optionalen Parameter <i>–o</i> können Sie den Speicherort angeben, an dem eine Lizenzdatei generiert wird.  Standardmäßig wird es im <i>Verzeichnis ~ / .config / PVS-Studio /</i> gespeichert. <br><br>  Wenn Sie einen Testschlüssel benötigen, können Sie diesen auf der Seite " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">PVS-Studio herunterladen und auswerten</a> " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">herunterladen</a> . <br><br><h2>  Überprüfen Sie Ihr Projekt </h2><br>  Sobald Sie den Analysator installiert haben, können Sie Projekte überprüfen.  Es gibt zwei Möglichkeiten, dies zu tun: <br><br><ol><li>  Zusammenstellungsüberwachung. </li><li>  Wird direkt von Build-Systemen ausgeführt. </li></ol><br>  Sprechen wir über den ersten Weg.  Um die Überwachung unter Linux zu starten, benötigen Sie das Dienstprogramm <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><i>strace</i></a> .  PVS-Studio verwendet es, um eine Liste und Parameter von Prozessen zu erfassen, die während des Builds gestartet wurden. <br><br>  Verwenden Sie den folgenden Befehl, um den Build zu starten: <br><br><pre> <code class="cpp hljs">pvs-studio-analyzer trace -- make</code> </pre> <br>  Hier wird <i>make</i> verwendet, aber jeder andere Befehl, den Sie zum Erstellen Ihres Projekts ausführen, kann an seiner Stelle stehen.  Bei Bedarf können Sie Befehlszeilenparameter auf die übliche Weise übergeben. <br><br>  Nach dem Build erstellt <i>strace</i> eine Datei, mit der der Analysator den Quellcode überprüft.  Verwenden Sie den folgenden Befehl, um die Analyse zu starten. <br><br><pre> <code class="cpp hljs">pvs-studio-analyzer analyze -o /path/to/project.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span></code> </pre> <br>  Als Ergebnis wird eine verschlüsselte Protokolldatei generiert, die Sie in eines der unterstützten Formate konvertieren können.  Wir werden später über die Arbeit mit Berichten sprechen. <br><br>  Neben <i>strace</i> können Sie die Analyse auf die Datei <i>compile_commands.json</i> (JSON Compilation Database) <i>stützen</i> .  In vielen Build-Systemen sind Kompilierungsbefehle integriert, oder Sie können dazu das Dienstprogramm <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">BEAR</a> verwenden.  Hier ist der Befehl zum Starten der Analyse in diesem Fall: <br><br><pre> <code class="cpp hljs">pvs-studio-analyzer analyze –f /path/to/compile_commands.json</code> </pre> <br>  Beachten Sie, dass der Analysator den im Erstellungsprozess verwendeten Compiler an seinem ausführbaren Namen erkennt.  Wenn beim Versuch, Ihr Projekt zu analysieren, der Fehler "Keine Kompilierungseinheiten gefunden" <i>angezeigt wird</i> , geben Sie den Namen Ihres Compilers explizit über die <i>Befehlszeilentaste –compiler</i> oder <i>–c an</i> : <br><br><pre> <code class="cpp hljs">pvs-studio-analyzer analyze -c MyCompiler</code> </pre> <br>  Dies ist möglicherweise erforderlich, wenn Sie Cross-Compilation verwenden oder wenn Ihr Compiler einen nicht standardmäßigen ausführbaren Namen hat. <br><br>  Neben dem Überwachungsmodus können Sie den Analysator direkt in Ihr Build-System oder Ihre IDE integrieren.  Unser offizielles <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GitHub-</a> Repository bietet Beispielprojekte, bei denen die Integration bereits konfiguriert wurde: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">pvs-studio-cmake-beispiele</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">pvs-studio-qmake-Beispiele</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">pvs-studio-makefile-beispiele</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">pvs-studio-waf-beispiele</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">pvs-studio-eclipse-beispiele</a> </li></ul><br>  Weitere Informationen zum Ausführen des Analysators unter Linux finden Sie in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentation</a> . <br><br><h2>  Arbeiten mit Berichten </h2><br>  Nach der Überprüfung eines Projekts erstellt der Analysator einen codierten Bericht.  Um es in eines der unterstützten Formate zu konvertieren, müssen Sie das <i>Dienstprogramm plog-converter verwenden</i> , das mit der PVS-Studio-Installation <i>geliefert wird</i> . <br><br>  Hier ist eine Liste der unterstützten Formate: <br><br><ul><li>  xml - ein praktisches Format für die weitere Verarbeitung der Analyseergebnisse, das vom <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Plugin für SonarQube unterstützt wird</a> ; </li><li>  csv - Datei speichert tabellarische Daten (Zahlen und Text) im Klartext; </li><li>  errorfile ist das Ausgabeformat von gcc und clang. </li><li>  Aufgabenliste - ein Fehlerformat, das in QtCreator geöffnet werden kann; </li><li>  HTML - HTML-Bericht mit einer kurzen Beschreibung der Analyseergebnisse; </li><li>  fullhtml - Bericht mit Sortierung der Analyseergebnisse nach den verschiedenen Parametern und Navigation entlang des Quellcodes. </li></ul><br>  Das Fullhtml-Format ist das bequemste zum Anzeigen des Berichts, da es das Springen zur Codezeile ermöglicht, die der Warnung entspricht, an der Sie interessiert sind.  Mit dem folgenden Befehl können Sie den Bericht in dieses Format konvertieren: <br><br><pre> <code class="cpp hljs">plog-converter -a GA:<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span> -t fullhtml /path/project.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span> -o /path/report_dir</code> </pre> <br>  Wenn Sie es starten, enthält ein neu erstelltes Verzeichnis mit dem Namen <i>/ path / report_dir</i> alle Berichtsdateien. <br><br>  Achten Sie auf den Parameter <i>-a</i> .  Hier können Sie festlegen, welche Warnungen im resultierenden Bericht angezeigt werden sollen.  Dies ist praktisch, wenn Sie die Ausgabe des Analysators filtern müssen.  Mit dem obigen Befehl wird ein Bericht erstellt, der nur allgemeine Analysemeldungen der ersten und zweiten Sicherheitsstufe ( <i>Hoch</i> und <i>Mittel</i> ) enthält. <br><br>  Ein Beispielbericht: <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c0b/4b6/997/c0b4b69970d61d40e24e6a3e867cf597.png" alt="Bild 9"></div><br><br>  Durch Klicken in die <i>Standortzelle</i> einer Nachricht können Sie zur entsprechenden Codezeile springen: <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b4e/44e/a7d/b4e44ea7d19a4c2a5a35a79c140f96e3.png" alt="Bild 8"></div><br><br>  Durch Klicken auf den Diagnosecode in der Spalte <i>Code</i> können Sie die Dokumentation zu dieser Diagnose öffnen. <br><br><h2>  Warnungen des Analysators unterdrücken </h2><br>  Wenn Sie einen statischen Analysator zur Überprüfung des Quellcodes verwenden, erhalten Sie möglicherweise falsch positive Ergebnisse oder einfach unerwünschte Rauschwarnungen.  PVS-Studio hat Mittel, um solche Nachrichten zu unterdrücken.  Um auf einzelne Warnungen abzuzielen, können Sie eine der Methoden verwenden, die im Dokumentationsartikel " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Unterdrückung von Fehlalarmen</a> " beschrieben sind. <br><br>  Wenn Sie alten Code überprüfen, möchten Sie möglicherweise alle Warnungen unterdrücken.  In der Regel benötigen Sie dies möglicherweise, wenn Sie nur neuen Code überprüfen möchten, den Sie einer vorhandenen Codebasis hinzufügen.  Verwenden Sie dazu den <i>Unterdrückungsparameter</i> des <i>Dienstprogramms pvs-studio-analyzer</i> . <br><br>  Mit diesem Befehl können Sie Warnungen in einem Bericht massenweise unterdrücken: <br><br><pre> <code class="cpp hljs">pvs-studio-analyzer suppress /path/to/report.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span></code> </pre> <br>  Informationen zu unterdrückten Warnungen werden in einer Datei mit dem Namen <i>suppr__base.json</i> gespeichert, die sich neben dem Projekt befindet.  Solche Nachrichten werden von Berichten über nachfolgende Überprüfungen ausgeschlossen. <br><br>  Dieser Mechanismus wird <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> ausführlich beschrieben. <br><br><h2>  Fazit </h2><br>  Dies war eine kurze Einführung in die Verwendung von PVS-Studio unter Linux.  Ich hoffe, es war nützlich und hat es geschafft, die häufigsten Fragen zu beantworten.  Wenn Sie weitere Informationen zum Thema dieses Artikels benötigen, lesen Sie die Dokumentation <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de462659/">https://habr.com/ru/post/de462659/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de462643/index.html">Bestimmen Sie mithilfe von Python voneinander abhängige Personen an Bord von Strukturen</a></li>
<li><a href="../de462649/index.html"># 18 Mosdroid Argon - Bericht</a></li>
<li><a href="../de462653/index.html">LTE als Symbol der Unabhängigkeit</a></li>
<li><a href="../de462655/index.html">Geben Sie Ihren Code schließlich ein</a></li>
<li><a href="../de462657/index.html">SkyRC B6 Nano Ladegerät Bewertung & Test</a></li>
<li><a href="../de462661/index.html">Kenntnis des statischen Analysators PVS-Studio bei der Entwicklung von C ++ - Programmen unter Linux</a></li>
<li><a href="../de462663/index.html">Schwimmen, tanzen (!) Und rocken: Welche Aktivitäten wollen igrodely</a></li>
<li><a href="../de462665/index.html">Helmsicherheit</a></li>
<li><a href="../de462667/index.html">Galaxy Guide DevOpsConf 2019</a></li>
<li><a href="../de462671/index.html">Unternehmensinfrastruktur als Produkt</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>