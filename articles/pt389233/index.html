<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ö∞Ô∏è üõ´ üì¨ Gerenciando uma casa inteligente a partir de um telefone - Minha experi√™ncia üè¢ üìå üçà</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoje √© imposs√≠vel imaginar uma casa inteligente sem o controle de dispositivos m√≥veis. Quando eu estava come√ßando meu √©pico com uma casa inteligente, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Gerenciando uma casa inteligente a partir de um telefone - Minha experi√™ncia</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/389233/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hoje √© imposs√≠vel imaginar uma casa inteligente sem o controle de dispositivos m√≥veis. </font><font style="vertical-align: inherit;">Quando eu estava come√ßando meu √©pico com uma casa inteligente, a capacidade de controlar pelo telefone era uma das principais e, para ser completamente honesto, minha lista de respostas "Por que voc√™ precisa disso?" </font><font style="vertical-align: inherit;">o controle dos dispositivos m√≥veis veio em primeiro lugar.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quando todos os fios s√£o desenhados</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">programa para o controlador √© gravado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , √© hora de fazer a integra√ß√£o com dispositivos m√≥veis. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A primeira vers√£o da interface m√≥vel para minha casa inteligente foi feita usando o Iridium Mobile. Usando minha posi√ß√£o oficial, recebi uma licen√ßa demo do Iridium Mobile para meus dispositivos m√≥veis e o processo foi iniciado. A raz√£o pela qual escolhi o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Iridium Mobile</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> n√£o </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">√©</font></a><font style="vertical-align: inherit;"> apenas em licen√ßas de demonstra√ß√£o gratuitas, mas tamb√©m porque suporta o protocolo Modbus e isso permite que voc√™ se conecte diretamente ao controlador sem truques adicionais. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No meu CLP, criei um m√≥dulo Mobdus Slave com registros de entrada e sa√≠da e escrevi um bloco de sincroniza√ß√£o e, em seguida, no ambiente Iridium, desenhei uma interface simples.</font></font><br>
<br>
<img src="https://habrastorage.org/files/cfe/e17/5a7/cfee175a7c43458ca1eb681b4015cd42.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√£o posso dizer que o editor gr√°fico seja muito conveniente, mas descobri isso com bastante rapidez e a primeira interface para minha casa inteligente ficou pronta em cerca de uma hora. Devo dizer que h√° muitas oportunidades e vi decis√µes muito bonitas tomadas no Iridium - controle clim√°tico, gerenciamento de scripts de consagra√ß√£o, sip-intercom, integra√ß√£o com o centro de m√≠dia etc. Mas minha tarefa era muito mais simples - controlar a luz, ent√£o nem sequer estudei todas as possibilidades. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No seu dispositivo m√≥vel, voc√™ precisa instalar o aplicativo i2 Control. √â gratuito, mas para carregar o projeto criado nele, voc√™ precisa comprar licen√ßas. No meu caso, essas eram licen√ßas demo gratuitas.</font></font><br>
<br>
<img src="https://habrastorage.org/files/fb4/e7b/ac2/fb4e7bac212c4dc78dd2e3c10d12fde1.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â assim que ficava minha interface dom√©stica inteligente no aplicativo i2 Control no iPhone. Coloquei o aplicativo em todos os dispositivos m√≥veis dispon√≠veis na fam√≠lia e me deparei com o primeiro problema. Quando voc√™ trabalha em um laptop, mas n√£o h√° telefone em m√£os, seria mais conveniente controlar a luz diretamente do laptop. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ pode fazer isso no Iridium Mobile, mas precisa instalar o programa i2 Control para Mac (ou Windows) e conectar uma licen√ßa. Em primeiro lugar, fiquei sem licen√ßas de demonstra√ß√£o gratuitas e, em segundo lugar, n√£o √© muito conveniente executar o programa apenas para ligar ou desligar a luz. Com o mesmo sucesso, posso passar por uma √°rea de trabalho remota at√© um servidor em que o CoDeSys geralmente est√° executando o tempo todo com a visualiza√ß√£o. Na verdade, descobri que com mais frequ√™ncia fa√ßo isso em vez de iniciar um aplicativo especializado em um telefone ou tablet.</font></font><br>
<br>
<img src="https://habrastorage.org/files/619/9d0/00e/6199d000edcb47bd95137c5e2285ef6a.png" alt="imagem"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Visualiza√ß√£o no CoDeSys. Infelizmente, minha vers√£o do PLC (controlador l√≥gico program√°vel no qual minha casa inteligente √© constru√≠da) n√£o possui um servidor da web embutido - caso contr√°rio, a tarefa seria resolvida com muito mais facilidade. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Recusei-me a instalar o i2 Control no meu Mac e estava satisfeito em gerenciar apenas do meu telefone e tablet.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de um tempo, surgiu um segundo problema. O lan√ßamento do aplicativo i2 Control leva um bom tempo. Por exemplo, no meu iPhone 6, ele inicia cerca de 9 segundos. Provavelmente, se a tarefa era gerenciar o centro de m√≠dia, esse tempo seria aceit√°vel - desde que voc√™ encontre todos os controles remotos, ligue todos os equipamentos, configure a combina√ß√£o desejada, claramente mais tempo passar√°. No entanto, para controlar a luz, esses 9 segundos foram inaceitavelmente longos e, muitas vezes, eu preferia ligar e desligar a luz do que iniciar o aplicativo (o servidor Iridium foi lan√ßado, o que em teoria resolve esse problema, mas minhas m√£os ainda n√£o o alcan√ßaram).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De alguma forma, era errado morar com uma casa inteligente e n√£o control√°-la pelo telefone, ent√£o decidi tentar outra tentativa. A id√©ia era essa - no norte do pa√≠s, levante o servidor da web e coloque todos os controles na p√°gina da web. Os amigos aconselharam o Node JS - eles dizem, uma plataforma elegante e promissora, e como eu ainda tinha algo a aprender (n√£o sabia de nada), decidi pelo Node JS. A √∫nica coisa que eu n√£o queria era entender HTML, ent√£o pedi o frontend de um freelancer, e no Github encontrei uma biblioteca para trabalhar no Modbus e muito rapidamente (estou surpreso) fiz o que era pretendido. </font></font><br>
<br>
<img src="https://habrastorage.org/files/9b5/370/7d7/9b53707d75754133bf97958b1234328e.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o agora parece a interface da minha casa inteligente no Iphone. A interface √© adapt√°vel, por isso fica bem em qualquer dispositivo. Por exemplo, √© assim que fica no meu macbook:</font></font><br>
<br>
<img src="https://habrastorage.org/files/768/0c0/664/7680c0664b314ec2884cccdf32b1bbce.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na √°rea de trabalho do iPhone, criei um link para esta p√°gina, que carrega com rapidez suficiente por 1-3 segundos. Tamb√©m o adicionei aos favoritos nos navegadores e agora o controle de luz est√° sempre √† m√£o. O servidor Node JS tamb√©m desempenha um papel entre o PLC (controlador dom√©stico inteligente) e o controlador z-wave, que √© usado para controlar sem fio diferentes l√¢mpadas (falarei sobre isso no futuro). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tradicionalmente, o fim s√£o os pr√≥s e os contras da decis√£o. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pr√≥s:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Interface adaptativa r√°pida que funciona em qualquer dispositivo, pre√ßo (paguei apenas pelo desenvolvimento do front√£o). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contras: A</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> necessidade de programa√ß√£o. E se a adi√ß√£o de op√ß√µes √© feita de maneira simples (por exemplo, antes do Ano Novo, adicionei o gerenciamento de √°rvores de Natal), ent√£o, por exemplo, a interface para o centro de m√≠dia √© um projeto amplo e amplo.</font></font><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√≥digo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
fonte do </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">Gitbub</font></a><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPD</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Depois de escrever um artigo, eles me disseram como acelerar o lan√ßamento do aplicativo I2 Control - voc√™ precisa entrar no menu de servi√ßo e desativar a verifica√ß√£o de atualiza√ß√£o. </font><font style="vertical-align: inherit;">O aplicativo realmente come√ßou a correr muito mais r√°pido.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt389233/">https://habr.com/ru/post/pt389233/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt389221/index.html">Caracter√≠sticas do trabalho com t√≠tulos estrangeiros da Federa√ß√£o Russa: como comprar um peda√ßo do Google</a></li>
<li><a href="../pt389223/index.html">Tesla: um isqueiro el√©trico de carregamento autom√°tico que funciona em qualquer lugar.</a></li>
<li><a href="../pt389225/index.html">Kit de laborat√≥rio digital</a></li>
<li><a href="../pt389227/index.html">Resultados da confer√™ncia de ci√™ncia popular</a></li>
<li><a href="../pt389229/index.html">F√°brica de PCB. Desenvolvimento de garagem e produ√ß√£o de eletr√¥nicos. Ch2</a></li>
<li><a href="../pt389235/index.html">An√°lise do Android Remix OS para computadores pessoais</a></li>
<li><a href="../pt389239/index.html">Repara√ß√£o manual do sol, ou o filme "Hell" 2007</a></li>
<li><a href="../pt389245/index.html">Mio Slice: rastreador de fitness, consultor m√©dico pessoal e treinador em um pr√©dio</a></li>
<li><a href="../pt389247/index.html">Encontre algo ao seu gosto e voc√™ n√£o ter√° que trabalhar um dia na sua vida</a></li>
<li><a href="../pt389249/index.html">Os servi√ßos Emercoin estar√£o dispon√≠veis no Microsoft Azure</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>