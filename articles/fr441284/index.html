<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚òùüèª ‚õµÔ∏è ‚ô†Ô∏è Chargement de donn√©es en masse ou Comment nourrir un village chinois üïû üèø üíÄ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Qu'est-ce qu'un syst√®me d'information tr√®s charg√© comme un immense hypermarch√©? Et si 150 millions de personnes venaient √† l'hypermarch√© en m√™me temps...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Chargement de donn√©es en masse ou Comment nourrir un village chinois</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lanit/blog/441284/">  <i>Qu'est-ce qu'un syst√®me d'information tr√®s charg√© comme un immense hypermarch√©?</i>  <i>Et si 150 millions de personnes venaient √† l'hypermarch√© en m√™me temps pour faire du shopping?</i>  <i>Pour quoi punir la t√™te d'un hypermarch√©, et pourquoi pas?</i>  <i>Pourquoi le temps de chargement des documents la nuit est-il beaucoup moins long que le jour?</i>  <i>Pourquoi le temps de chargement d'un seul document ne signifie-t-il vraiment rien?</i> <br><br>  Les syst√®mes d'information tr√®s charg√©s ont leurs propres caract√©ristiques, qui ne sont pas √©videntes pour de nombreuses organisations de fournisseurs.  Nous vous expliquerons comment le chargement en masse des documents (et autres donn√©es) est organis√© et examinerons en d√©tail cette question incompr√©hensible pour beaucoup. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/36f/129/3a5/36f1293a525fdef0e8805286016e5df6.png"></div>  <a href=""><i>Source</i></a> <br><a name="habracut"></a><br>  Lors du d√©veloppement de syst√®mes d'information (SI) volumineux et tr√®s charg√©s, des t√¢ches de chargement de masse des donn√©es surviennent.  Le type de donn√©es n'a pas d'importance et d√©pend de votre domaine.  Cela peut √™tre des paiements, des factures, des relev√©s de capteurs, des projets d'approvisionnement, etc.  La cr√©ation et le d√©veloppement de SIG (syst√®mes d'information de l'√âtat) sont r√©glement√©s par la loi et il peut facilement arriver que la loi oblige les organisations √† t√©l√©charger des millions de documents dans le syst√®me une seule fois ou, plus int√©ressant encore, √† t√©l√©charger des millions de documents sur une base p√©riodique, par exemple mensuelle. <br><br>  Dans nos projets (un peu sur le travail de LANIT peut √™tre lu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> ), nous rencontrons p√©riodiquement de telles t√¢ches et avons d√©velopp√© toutes les solutions n√©cessaires.  Cependant, les sp√©cificit√©s des solutions pr√©sentent certaines caract√©ristiques qui, comme il s'est av√©r√©, ne sont pas √©videntes pour de nombreuses organisations de fournisseurs.  √Ä notre grande surprise, nous avons re√ßu de telles demandes et m√™me des plaintes: <br><br><ul><li>  ¬´Nous avons envoy√© un document √† t√©l√©charger, et cela a pris jusqu'√† 10 secondes.  Par cons√©quent, si notre organisation doit t√©l√©charger 100 000 documents, cela nous prendra 100 000 * 10/3600 = 277 heures! ¬ª </li><li>  "Nous chargeons, chargeons des documents, mais rien n'est charg√© dans le syst√®me." </li></ul><br>  Le fait que le chargement d'un document dans un syst√®me d'information puisse prendre 10 secondes ne dit rien sur le syst√®me en lui-m√™me.  Cet indicateur n'a pas beaucoup de sens si nous parlons de syst√®mes de mise en file d'attente.  Ensuite, nous vous expliquerons comment le chargement en masse des documents (et d'autres donn√©es) est organis√© et examinerons en d√©tail cette question qui n'est pas claire pour beaucoup. <br><br>  Quant aux erreurs de chargement, tout n'est pas √©vident non plus: il y a de nombreuses raisons pour lesquelles les donn√©es ne sont pas charg√©es dans le syst√®me.  Les probl√®mes peuvent √™tre du c√¥t√© des fournisseurs d'informations et du c√¥t√© de l'IP.  Ci-dessous, nous analyserons diff√©rentes situations et verrons des statistiques. <br><br><h1>  Hypermarch√© chinois </h1><br>  Par exemple, dans une province chinoise √©loign√©e, o√π vivent environ 150 millions de personnes, il n'y a qu'un seul grand hypermarch√© ouvert 24h / 24 o√π la population va acheter du riz une fois par mois.  Les r√©sidents peuvent venir chercher du riz n'importe quel jour du mois.  Il y a beaucoup de riz, il y a beaucoup de place dans la salle des march√©s.  Le principal goulot d'√©tranglement est le paiement des achats √† la caisse, car cette op√©ration est obligatoire (vous ne pouvez pas ignorer les acheteurs sans paiement), cela prend du temps et l'utilisation d'un √©quipement sp√©cial - des caisses.  Il serait pr√©f√©rable pour l'hypermarch√© que les gens se mettent d'accord entre eux et viennent faire leurs courses de mani√®re √©gale (nuit et jour), auquel cas l'utilisation des caisses serait aussi efficace que possible. <br><br>  Cependant, comme par hasard, les acheteurs ne se dirigent pas vers l'hypermarch√©.  Premi√®rement, ils ne veulent pas vraiment faire du shopping la nuit.  Deuxi√®mement, elles sont parfois illimit√©es: soit il n'y a personne, alors plusieurs millions de personnes viennent en m√™me temps. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/96c/f36/296/96cf36296bfc8cfdac0dd115d65800f5.png"></div>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Source</a></i>  <i>Le plus grand centre commercial du monde, le New Century Global Center √† Chengdu en Chine.</i>  <i>Il a 18 √©tages et une superficie de 1 700 000 m¬≤.</i> <br><br>  Que faire dans un supermarch√©?  Le Parti communiste chinois s'est donn√© pour mission de servir tous les Chinois, et c'est tout.  Chaque chinois non servi est un inconv√©nient pour le karma du directeur de supermarch√©.  S'il y a trop de Chinois m√©contents, ne lui d√©molissez pas la t√™te!  Dans le m√™me temps, bien s√ªr, le gestionnaire ne peut pas livrer 150 millions de caisses.  Si soudainement, dans un an, le contr√¥leur rus√© apportera un rapport selon lequel le box-office est utilis√© √† 1%, le malheureux r√©alisateur sera confront√© √† un sort peu enviable.  Si un acheteur ordinaire attend trop longtemps (plus d'une minute), alors il sortira de l'hypermarch√© et √©crira une d√©claration au camarade Mao lui-m√™me avec les cris de "cinq cent quatre tricheur Gatevanau tameaut Khan √† vous tous". <br><br>  Apr√®s avoir surveill√© l'oc√©an comment cela fonctionne, notre ami a pr√©sent√© un syst√®me avanc√© de gestion des files d'attente.  Maintenant, tout fonctionne comme √ßa.  Ayant pris un paquet de riz, l'acheteur se rend au terminal pour recevoir un num√©ro dans la file d'attente.  Le temps d'attente en ligne d√©pend du nombre de caisses.  Exp√©rimentalement, le directeur compagnon a d√©couvert combien de caisses devraient √™tre pour que les acheteurs, d'une part, ne restent pas en ligne trop longtemps, et d'autre part, le coefficient d'utilisation des caisses n'est pas trop bas. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8c9/32a/9d8/8c932a9d81fd7b9830dadb78a20f3849.png"></div>  <a href=""><i>Source</i></a> <br><br>  Tout le monde est content.  Le syst√®me de billetterie est tr√®s simple et toujours rapide.  Le nombre de caisses enregistreuses est choisi de telle sorte que: <br><br><ul><li>  le taux d'utilisation des caisses enregistreuses a permis au confr√®re directeur de vivre heureux pour toujours; </li><li>  la longueur de la file d'attente √©tait petite et les Chinois y passaient peu de temps (95 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">centile du</a> temps d'attente &lt;une valeur raisonnable, par exemple, 5 minutes); </li><li>  m√™me si, en raison des circonstances, de nombreux acheteurs venaient au magasin en m√™me temps, le temps d'attente sera prolong√©, mais ils seront servis jusqu'√† 23h00 le soir afin qu'ils puissent rentrer chez eux et regarder le communiqu√© avant le coucher. </li></ul><br>  √Ä peu pr√®s le m√™me devrait √™tre organis√© IP en termes de r√©ception de masse des documents.  Par exemple, nous devons assurer chaque mois le chargement d'un total d'au moins 150 millions de documents de 100 000 fournisseurs.  Pour que la qualit√© des donn√©es t√©l√©charg√©es soit √©lev√©e, il est n√©cessaire de v√©rifier toutes les donn√©es avant le t√©l√©chargement.  Des donn√©es incorrectes sont supprim√©es.  Et les bons devraient √™tre pr√©sent√©s sous une forme structur√©e dans le stockage du syst√®me afin qu'ils puissent √™tre analys√©s et utilis√©s √† l'avenir. <br><br>  La n√©cessit√© de v√©rifier les donn√©es avant le t√©l√©chargement conduit au fait que vous devez effectuer un certain nombre de ¬´contr√¥les¬ª, allant du formatage √† la fin par des contr√¥les complexes (par exemple, un contr√¥le commercial est parfois n√©cessaire, prouvant que l'organisation a une base pour t√©l√©charger les objets transf√©r√©s). <br><br>  Nous ne pouvons g√©n√©ralement pas sacrifier la qualit√© des contr√¥les.  Nous pensons que les d√©veloppeurs ont d√©j√† optimis√© tous les algorithmes et qu'une optimisation suppl√©mentaire prend trop de temps ou complique la maintenance et le d√©veloppement du syst√®me.  Sur nos projets, le temps de traitement d'une demande contenant de un √† cinq cents documents (paiement, facture, contrat, projet d'approvisionnement, etc.) est en moyenne de quelques secondes sur le backend (voir l'exemple de la figure 1).  Ce temps n'est pas constant, mais varie dans certaines limites, car dans un syst√®me complexe, il y a toujours beaucoup de facteurs diff√©rents qui peuvent affecter le traitement d'un colis. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1c0/f43/b3d/1c0f43b3dac7f71bc0377d6b69af4928.png"></div>  <i>Figure 1. Chronologie type du traitement des packages de documents.</i>  <i>Le temps moyen dans la r√©gion de trois secondes.</i> <br><br>  M√™me si pour votre SI les dates de t√©l√©chargement sont r√©glement√©es par la loi, alors pour les fournisseurs de documents, en r√®gle g√©n√©rale, il n'y a pas de calendrier de t√©l√©chargement clair.  Il existe certains mod√®les pour diff√©rents types de documents, par exemple, les factures peuvent √™tre √©mises au d√©but du mois, les pics de chargement d'autres donn√©es peuvent √™tre d√©termin√©s par les termes des documents normatifs ou peuvent √™tre associ√©s √† la fin de l'ann√©e, etc. <br><br>  Par cons√©quent, dans la pratique, √† un moment donn√©, l'intensit√© du chargement des documents peut √™tre tr√®s diff√©rente - il est presque impossible de le pr√©voir avec pr√©cision.  Il peut arriver que les 150 millions de documents de bons fournisseurs d√©cident de les t√©l√©charger simultan√©ment dans le syst√®me.  Et ce n'est pas du tout la m√™me chose, comme s'ils les t√©l√©chargeaient strictement selon un calendrier de 5 millions par jour. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/075/ad3/53b/075ad353b6e0c2574fbda21235b7cc39.png"></div>  <i>Figure 2. Exemple de r√©partition du nombre de documents t√©l√©charg√©s par jour au cours des six derniers mois.</i> <br><br>  La figure 2 montre que le nombre de documents charg√©s par jour varie consid√©rablement.  Il est clair qu'en moyenne, 4 √† 5 millions de documents sont t√©l√©charg√©s par jour.  Dans le m√™me temps, certains jours, plus de 10 millions de documents ont √©t√© envoy√©s au syst√®me.  Le nombre maximal de documents t√©l√©charg√©s par jour est sup√©rieur √† 17 millions. <br><br>  Si nous regardons la dynamique horaire du chargement des documents, nous verrons des fluctuations encore plus importantes du trafic.  √Ä certaines heures, 50 000 documents sont charg√©s dans le SI et √† certaines heures, le nombre de documents charg√©s d√©passe 1 million. Plus l'intervalle est court, plus la r√©partition de la charge est importante. <br><br>  De toute √©vidence, deux, trois et dix millions de documents peuvent entrer simultan√©ment dans le syst√®me.  Par cons√©quent, lors de la conception de m√©canismes de chargement en masse, nous utilisons la mise en m√©moire tampon des requ√™tes √† l'aide de files d'attente.  Toute demande de l'utilisateur est d'abord stock√©e dans la file d'attente.  Ainsi, nous pouvons recevoir des demandes de r√©ception de documents √† tr√®s haute intensit√© dans le syst√®me, car l'op√©ration de r√©ception d'une demande est tr√®s simple.  Mais la validation et le chargement du document sont d√©j√† effectu√©s par des "processeurs" sp√©ciaux, dont le montant est ajust√© en fonction des capacit√©s disponibles.  Plus il y a de fer, plus il y a de "processeurs", plus le syst√®me peut traiter de requ√™tes en m√™me temps. <br><br>  La puissance du complexe mat√©riel-logiciel IP est d√©termin√©e par la bande passante requise et les co√ªts mat√©riels.  Nous devons trouver un √©quilibre afin que nous (le client) soyons satisfaits de l'utilisation du fer pendant les p√©riodes de faible charge, et en m√™me temps, pendant les p√©riodes de pointe, la file d'attente de donn√©es pour le chargement n'augmente pas trop.  √âtant donn√© que la nuit, nous obtenons le plus souvent une diminution naturelle de la charge, nous pouvons utiliser une directive - toutes les donn√©es doivent √™tre t√©l√©charg√©es le m√™me jour ou la nuit.  S'il arrive de plus en plus souvent que les donn√©es n'aient pas le temps de se charger pendant la nuit, alors c'est un signal pour augmenter le d√©bit en ajoutant du fer. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/46e/598/1f7/46e5981f7b23e81cf4f97cbaa52e189a.png"></div>  <i>Figure 3. Exemple de planification pour modifier la longueur d'une file d'attente pour le chargement de paquets de donn√©es.</i> <br><br>  La figure 3 pr√©sente des statistiques sur la longueur de la file d'attente pour le t√©l√©chargement des paquets de donn√©es.  Il faut faire attention que dans la journ√©e nous avons une bosse caract√©ristique, et la nuit la file d'attente est r√©initialis√©e. <br><br>  √âtant donn√© que le temps de chargement du paquet de donn√©es est la somme du temps d'attente dans la file d'attente et du temps de traitement du paquet de donn√©es sur le backend, le temps de chargement la nuit est bien inf√©rieur √† celui de la journ√©e (voir figure 4). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6ae/dcb/fb0/6aedcbfb02d0fb619b94ab7554f2fbc8.png"></div>  <i>Figure 4. Temps de t√©l√©chargement des paquets de donn√©es.</i>  <i>La moyenne pour la p√©riode √©tait de 11,92 minutes.</i>  <i>Le temps de d√©marrage comprend le temps de file d'attente et le temps de traitement du backend.</i> <br><br>  Nous pouvons conclure: si le fournisseur envoie un paquet de donn√©es la nuit, le temps de t√©l√©chargement sera minimal.  D'un autre c√¥t√©, si les capacit√©s des CI sont s√©lectionn√©es de mani√®re √† traiter la quantit√© attendue de donn√©es le m√™me jour ou au maximum par nuit, il n'est pas logique que le fournisseur continue de charger les donn√©es - il vous suffit d'envoyer la totalit√© du volume de documents et il sera trait√© le plus rapidement possible. <br><br><h1>  Comment nourrir un village entier </h1><br>  Revenons √† nos revendications.  ¬´Nous avons envoy√© un document √† t√©l√©charger, et cela a pris jusqu'√† 10 secondes.  Par cons√©quent, si notre organisation a besoin de t√©l√©charger 100 000 documents, cela nous prendra 100 000 * 10/3600 = 277 heures! ¬ª <br><br>  Chaque client arrivant dans un hypermarch√© √† des heures diff√©rentes peut √™tre servi √† des heures diff√©rentes.  Cela d√©pendra du nombre de clients qui sont venus au magasin.  La nuit, les caisses sont susceptibles d'√™tre vides et l'acheteur sera servi imm√©diatement.  Et aux heures de pointe, vous pouvez faire la queue pendant plusieurs heures. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/eea/5cb/f2e/eea5cbf2e007a1c2dd7e32483b36f9d3.png"></div>  <a href=""><i>Source</i></a> <br><br>  Que faire si vous avez besoin d'acheter du riz dans un village de 100 000 habitants?  Cela n'a aucun sens d'envoyer chaque villageois √† l'hypermarch√© l'un apr√®s l'autre (le suivant ne sort qu'apr√®s le retour du pr√©c√©dent).  De toute √©vidence, dans ce cas, l'achat de riz pour l'ensemble du village s'√©talera sur plusieurs heures ou une journ√©e, car vous devez faire la queue 100 000 fois de suite.  D'un autre c√¥t√©, si tous les villageois viennent √† l'hypermarch√© en m√™me temps, font la queue tous ensemble, alors ils feront la queue en m√™me temps.  En fait, ils ne font la queue qu'une seule fois.  Leur temps d'attente en ligne d√©pendra √©galement de mani√®re significative du nombre de caisses. <br><br>  En d'autres termes, le temps de chargement d'une grande quantit√© de donn√©es est affect√© par la charge actuelle sur le syst√®me (le nombre de paquets dans la file d'attente) et le d√©bit du syst√®me (l'intensit√© avec laquelle ces paquets sont trait√©s).  Un indicateur tel que le temps de chargement d'un colis individuel est en soi insuffisant et conduit √† des conclusions erron√©es. <br><br>  Pour charger une grande quantit√© de donn√©es dans le SI, vous n'avez pas besoin d'envoyer les demandes s√©quentiellement, en attendant que la pr√©c√©dente soit trait√©e.  Il est n√©cessaire d'envoyer toutes les demandes au SI √† la fois, elles seront mises en file d'attente et trait√©es par des ¬´processeurs¬ª sp√©ciaux avec une intensit√© en fonction des capacit√©s et capacit√©s disponibles.  De toute √©vidence, g√©n√©ralement la bande passante de l'IP d√©passe consid√©rablement les besoins de chaque fournisseur de donn√©es particulier. <br><br>  Par cons√©quent, les m√©thodes synchrones ne conviennent pas au chargement en masse - il s'agit d'un contre-mod√®le. <br><br><h1>  Pourquoi pouvez-vous punir un coll√®gue r√©alisateur </h1><br>  Qu'est-ce qui inqui√®te le plus un coll√®gue r√©alisateur dans cette histoire?  Pour quoi peuvent-ils le punir? <br><br>  Le client peut se voir refuser le service - c'est toujours d√©sagr√©able.  Mais il existe de nombreuses raisons pour lesquelles cela peut se produire, et elles ont une nature diff√©rente.  Faisons la liste. <br><br>  1. Si le syst√®me d'√©mission de file d'attente ne fonctionne pas, c'est tr√®s mauvais.  C'est tellement mauvais que le lendemain, de telles situations sont r√©gl√©es dans le bureau du camarade Mao. <br><br>  2. Si la ligne dans l'hypermarch√© augmente et que les clients commencent √† s'y accrocher pendant longtemps, cela est suspect, mais pas n√©cessairement mauvais tout de suite.  Cela doit √™tre surveill√©, mais il y a deux situations: <br><br><ul><li>  la file d'attente s'allonge du fait que trop de Chinois sont venus en m√™me temps, par exemple √† cause de la rumeur sur les augmentations de prix; </li><li>  la file d'attente augmente en raison du fait que, pour une raison quelconque, de nombreux guichets ont √©clat√©.  Cette situation est d√©j√† mauvaise, elle sera comprise lors d'une r√©union de planification et pourra conduire √† des r√©primandes. </li></ul><br>  3. Si un Chinois en particulier ne peut pas acheter de riz, cela peut √©galement √™tre d√ª √† diverses raisons: <br><br><ul><li>  si les Chinois ont oubli√© de prendre l'argent, ce n'est pas la faute du coll√®gue r√©alisateur; </li><li>  si √† la caisse quelque chose s'est cass√© ou que le caissier a grond√© les chinois, alors c'est d√©j√† un probl√®me d'hypermarch√©.  Si la proportion de ces incidents augmente √† un certain niveau, cela deviendra un gros probl√®me. </li></ul><br>  Il est clair que pour tout IP, une caract√©ristique importante des m√©canismes de chargement en masse est le pourcentage de d√©ni de service.  Il est n√©cessaire de distinguer entre d√©ni de service pour des raisons techniques li√©es au fonctionnement du SI (panne d'√©quipement, erreur syst√®me, etc.) et pannes pour des raisons li√©es √† des probl√®mes du c√¥t√© du fournisseur (format de paquet de donn√©es incorrect, donn√©es incorrectes du point de vue de l'entreprise) commandes, etc.). <br><br>  Les situations peuvent √™tre diff√©rentes.  Mais si la propri√©t√© intellectuelle a √©t√© d√©velopp√©e en tenant compte des principes ci-dessus et qu'il existe un processus de surveillance continue et d'√©limination des erreurs techniques, la situation se stabilisera t√¥t ou tard.  Sur un syst√®me qui fonctionne bien, les statistiques sur les t√©l√©chargements de packages ressemblent au tableau 1. <br><table><tbody><tr><td width="300"></td><td>  Nombre de demandes de t√©l√©chargement, pcs </td><td>  Part% </td></tr><tr><td>  Packages t√©l√©charg√©s avec succ√®s <br></td><td>  125 977 459 <br></td><td>  79,94% <br></td></tr><tr><td>  Colis qui n'ont pas √©t√© enti√®rement ou partiellement charg√©s en raison de probl√®mes du c√¥t√© du fournisseur (FLC, contr√¥le de gestion) <br></td><td>  29 936 543 <br></td><td>  19% <br></td></tr><tr><td>  Packages qui n'ont pas √©t√© t√©l√©charg√©s en raison d'un probl√®me c√¥t√© IP <br></td><td>  38 805 <br></td><td>  0,02% <br></td></tr><tr><td>  Packages en double <br></td><td>  1,638,886 <br></td><td>  1,04% <br></td></tr><tr><td>  Total <br></td><td>  156 812 782 <br></td><td>  100% <br></td></tr></tbody></table>  <i>Tableau 1. Statistiques de t√©l√©chargement pour juillet 2018</i> <br><br>  Le tableau montre que la plupart des packages se chargent correctement.  De plus, une forte proportion d'erreurs du c√¥t√© du fournisseur d'informations.  Cela peut √™tre d√ª au grand nombre de fournisseurs et √† leur degr√© variable de pr√©paration √† l'√©change d'informations.  Les fournisseurs peuvent avoir des donn√©es de mauvaise qualit√©, ils peuvent avoir des probl√®mes avec les syst√®mes d'information.  Certaines donn√©es peuvent ne pas √™tre disponibles sous forme structur√©e √©lectronique et leur r√©ception prend du temps. <br><br>  Malheureusement, des erreurs IP peuvent survenir, surtout si son d√©veloppement rapide est en cours.  Il est important de lancer le processus de surveillance des erreurs en milieu industriel et une analyse des causes de leur occurrence.  Nous utilisons un syst√®me de surveillance d√©velopp√© pour les m√©canismes d'int√©gration dans nos projets LANIT, et si nous constatons que le nombre d'erreurs commence √† augmenter, nous d√©terminons leur source et essayons de prendre des mesures correctives rapidement. <br><br><h1>  Conclusion </h1><br>  Pour conclure, je voudrais r√©p√©ter √† nouveau les principaux points. <br><br><ol><li>  Dans le d√©veloppement et le d√©veloppement de la propri√©t√© intellectuelle d'√âtat ou d'entreprise, des t√¢ches de chargement de masse des donn√©es se posent.  En r√®gle g√©n√©rale, le flux des demandes de t√©l√©chargement vers le SI est al√©atoire.  Cela signifie que nous connaissons approximativement la distribution, mais √† tout moment, tr√®s peu et beaucoup de demandes peuvent arriver. </li><li>  Les m√©canismes de r√©ception des donn√©es pour le chargement en masse doivent √™tre cr√©√©s √† l'aide de files d'attente.  Le point est impossible d'une autre mani√®re.  Sinon, nous devons permettre la perte de donn√©es si une √©norme quantit√© de donn√©es vient √† √™tre t√©l√©charg√©e, ou si nous devons utiliser tr√®s, beaucoup de fer, qui resterait inactif 99% du temps. </li><li>  Le temps de chargement des donn√©es se compose du temps d'attente dans la file d'attente et du temps de traitement des donn√©es.  Le temps de traitement des paquets de donn√©es sur le backend avec des processus de conception et de d√©veloppement ad√©quats est de quelques secondes ou millisecondes.  Le d√©lai d'attente de la file d'attente (minutes) d√©pend du nombre de gestionnaires utilis√©s par le syst√®me.  Le nombre de processeurs est d√©termin√© par la puissance du complexe mat√©riel-logiciel.  Plus de fer - plus de gestionnaires, plus vite la file d'attente.  Et vice versa. </li><li>  Les services synchrones ne sont pas applicables aux t√©l√©chargements en masse, ils ne sont donc pas recommand√©s. </li><li>  Si vous √™tes un fournisseur et que vous devez t√©l√©charger un grand nombre de donn√©es, envoyez-les toutes imm√©diatement √† l'adresse IP.  En aucun cas, vous ne devez envoyer les donn√©es s√©quentiellement les unes apr√®s les autres (le paquet suivant n'est pas envoy√© tant que le pr√©c√©dent n'est pas t√©l√©charg√©). </li></ol><br><div class="spoiler">  <b class="spoiler_title">Traditionnellement: nous avons des postes vacants pour vous!</b> <div class="spoiler_text"><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">D√©veloppeur principal / Architecte BI</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Administrateur syst√®me / DevOps</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">D√©veloppeur ETL</a> </li></ul></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr441284/">https://habr.com/ru/post/fr441284/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr441270/index.html">Premier aper√ßu de la FoundationDB d'Apple</a></li>
<li><a href="../fr441274/index.html">Comment devenir un testeur - les connaissances et les comp√©tences n√©cessaires</a></li>
<li><a href="../fr441278/index.html">Comment cr√©er une belle palette de couleurs</a></li>
<li><a href="../fr441280/index.html">Configuration de GAL dans Zimbra Collaboration Suite</a></li>
<li><a href="../fr441282/index.html">Grande interview avec le cr√©ateur de Jenkins, Kohsuke Kawaguchi</a></li>
<li><a href="../fr441286/index.html">Yandex Neural Network Co-auteur d'une pi√®ce pour alto et orchestre</a></li>
<li><a href="../fr441288/index.html">6 points de croissance de conversion ou techniques efficaces pour travailler avec le prix sur le site</a></li>
<li><a href="../fr441290/index.html">The Witcher 3: Wild Hunt: Comment les localisateurs ont traduit les noms</a></li>
<li><a href="../fr441292/index.html">Fintech digest: robot de la Banque centrale contre les pyramides financi√®res, les banques v√©rifient les donn√©es des abonn√©s des op√©rateurs mobiles</a></li>
<li><a href="../fr441294/index.html">Smart Lock: pourquoi la paresse est un moteur de la progression de l'IoT</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>