<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®‚Äçüëß‚Äçüëß üîú üíπ Le livre "Python. Cours express. 3e √©d. üé± ü§æüèº üëßüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salut, habrozhiteli! Ce livre est destin√© aux personnes qui ont d√©j√† une exp√©rience dans un ou plusieurs langages de programmation et qui souhaitent a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Le livre "Python. Cours express. 3e √©d.</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/437050/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/sv/bp/53/svbp53i5ti4wyewcggfithv859w.jpeg" align="left" alt="image"></a>  Salut, habrozhiteli!  Ce livre est destin√© aux personnes qui ont d√©j√† une exp√©rience dans un ou plusieurs langages de programmation et qui souhaitent apprendre rapidement et facilement les bases de Python 3. On suppose que le lecteur est d√©j√† familier avec les structures de contr√¥le, la POO, la gestion des fichiers, la gestion des exceptions, etc. e. Le livre sera √©galement utile pour les utilisateurs de versions ant√©rieures de Python qui ont besoin d'une r√©f√©rence compacte Python 3.1. <br><br>  Nous vous invitons √† lire l'extrait "Traitement des fichiers de donn√©es" <br><a name="habracut"></a><br><h3>  Comment utiliser un livre </h3><br>  La partie 1 fournit des informations g√©n√©rales sur Python.  Vous apprendrez comment t√©l√©charger et installer Python sur votre syst√®me.  Il fournit √©galement un aper√ßu g√©n√©ral du langage, qui sera principalement utile aux programmeurs exp√©riment√©s qui souhaitent une compr√©hension de haut niveau de Python. <br><br>  La partie 2 contient le mat√©riel principal du livre.  Il discute des ingr√©dients n√©cessaires pour acqu√©rir des comp√©tences pratiques dans l'utilisation de Python comme langage de programmation √† usage g√©n√©ral.  Le mat√©riel des chapitres a √©t√© planifi√© pour que les lecteurs qui commencent tout juste √† apprendre le Python puissent avancer de mani√®re s√©quentielle, ma√Ætrisant les points cl√©s du langage.  Cette partie contient √©galement des sections plus complexes, de sorte que vous pouvez ensuite retourner et trouver toutes les informations n√©cessaires sur un certain design ou sujet en un seul endroit. <br><br>  La partie 3 pr√©sente les fonctionnalit√©s avanc√©es des √©l√©ments du langage Python qui ne sont pas absolument n√©cessaires, mais seront certainement utiles pour tout programmeur Python s√©rieux. <br><br>  La partie 4 se concentre sur des sujets sp√©cialis√©s qui d√©passent la simple syntaxe du langage.  Vous pouvez lire ces chapitres ou les sauter en fonction de vos besoins. <br><br>  Les programmeurs novices Python sont encourag√©s √† commencer par le chapitre 3 pour avoir une impression g√©n√©rale, puis √† passer aux chapitres d'int√©r√™t de la partie 2. Pr√©sentez des exemples interactifs pour instancier des concepts.  Vous pouvez √©galement aller au-del√† des exemples donn√©s dans le texte et chercher des r√©ponses √† toutes les questions qui ne sont pas claires.  Cette approche augmentera la vitesse d'apprentissage et approfondira la compr√©hension.  Si vous n'√™tes pas d√©j√† familier avec la POO ou si cela n'est pas requis pour votre application, vous pouvez ignorer la plupart du chapitre 15. <br><br>  Les lecteurs d√©j√† familiaris√©s avec Python devraient √©galement commencer par le chapitre 3. Il fournit une bonne pr√©sentation g√©n√©rale et une description des diff√©rences entre Python 3 et les versions plus famili√®res.  Il peut √©galement √™tre utilis√© pour √©valuer si vous √™tes pr√™t √† passer aux chapitres plus complexes des parties 3 et 4 de ce livre. <br><br>  Peut-√™tre que certains lecteurs qui ne sont pas exp√©riment√©s avec Python mais qui ont une exp√©rience suffisante dans d'autres langages de programmation pourront obtenir la plupart des informations n√©cessaires en lisant le chapitre 3 et en consultant les modules de biblioth√®que standard Python (chapitre 19) et le manuel de r√©f√©rence de la biblioth√®que Python dans la documentation Python. . <br><br><h3>  Extrait.  Traitement des fichiers de donn√©es </h3><br>  La plupart des donn√©es sont distribu√©es dans des fichiers texte.  Il peut s'agir de texte non structur√© (par exemple, une collection de messages ou une collection de textes litt√©raires), ou de donn√©es plus structur√©es, dans lesquelles chaque ligne est un enregistrement, et les champs sont s√©par√©s par un caract√®re de s√©paration sp√©cial - une virgule, un caract√®re de tabulation ou une barre verticale (|).  Les fichiers texte peuvent √™tre √©normes;  un ensemble de donn√©es peut occuper des dizaines, voire des centaines de fichiers, et les donn√©es qu'il contient peuvent √™tre incompl√®tes ou d√©form√©es.  Avec une telle vari√©t√©, vous rencontrerez presque in√©vitablement la t√¢che de lire et d'utiliser les donn√©es des fichiers texte.  Ce chapitre pr√©sente les strat√©gies de base pour r√©soudre ce probl√®me en Python. <br><br><h3>  21.1.  Pr√©sentation d'ETL </h3><br>  La n√©cessit√© d'extraire les donn√©es des fichiers, de les analyser, de les convertir dans un format pratique, puis de faire quelque chose est apparue presque simultan√©ment avec les fichiers de donn√©es.  De plus, il existe m√™me un terme standard pour ce processus: ETL (Extract-Transform-Load, c'est-√†-dire ¬´extraction - transformation - chargement¬ª).  La r√©cup√©ration fait r√©f√©rence au processus de lecture d'une source de donn√©es et d'analyse si n√©cessaire.  La conversion peut impliquer le nettoyage et la normalisation des donn√©es, ainsi que la combinaison, le fractionnement et la r√©organisation des enregistrements qu'ils contiennent.  Enfin, le chargement signifie enregistrer les donn√©es converties dans un nouvel emplacement (dans un autre fichier ou base de donn√©es).  Ce chapitre pr√©sente les bases de l'impl√©mentation d'un ETL en Python, des fichiers de donn√©es texte au stockage des donn√©es converties dans d'autres fichiers.  Des fichiers de donn√©es plus structur√©s sont abord√©s au chapitre 22, et le stockage des informations dans une base de donn√©es est abord√© au chapitre 23. <br><br><h3>  21.2.  Lecture de fichiers texte </h3><br>  Le premier composant de l'ETL - extraction - consiste √† ouvrir un fichier et √† lire son contenu.  √Ä premi√®re vue, cela semble simple, mais m√™me ici, des probl√®mes peuvent survenir - par exemple, la taille du fichier.  Si le fichier est trop volumineux pour tenir en m√©moire, le code doit √™tre structur√© de sorte qu'il fonctionne avec des segments plus petits du fichier (√©ventuellement une ligne). <br><br><h3>  21.2.1.  Encodage de texte: ASCII, Unicode et autres </h3><br>  Un autre probl√®me possible est le codage.  Ce chapitre est consacr√© √† l'utilisation de fichiers texte et, en fait, une grande partie des donn√©es transmises dans le monde r√©el est stock√©e dans des fichiers texte.  Cependant, la nature exacte du texte peut varier en fonction de l'application, de l'utilisateur et, bien s√ªr, du pays. <br><br>  Parfois, le texte contient des informations en codage ASCII, y compris 128 caract√®res, dont seulement 95 sont class√©s comme imprimables.  Heureusement, le codage ASCII est le ¬´multiple le moins commun¬ª de la plupart des situations de transfert de donn√©es.  D'autre part, il ne peut pas faire face √† la complexit√© des nombreux alphabets et syst√®mes d'√©criture qui existent dans le monde.  La lecture de fichiers au codage ASCII entra√Ænera presque certainement le fait que lors de la lecture de caract√®res non pris en charge, que ce soit l'allemand √º, le portugais √ß ou presque n'importe quel caract√®re d'une langue autre que l'anglais, des probl√®mes vont commencer et des erreurs appara√Ætront. <br><br>  Ces erreurs se produisent car ASCII utilise des valeurs 7 bits, tandis que les octets d'un fichier typique sont constitu√©s de 8 bits, ce qui permet de repr√©senter 256 valeurs possibles au lieu de 128 pour les valeurs 7 bits.  Ces codes suppl√©mentaires sont g√©n√©ralement utilis√©s pour stocker des valeurs suppl√©mentaires - des signes de ponctuation √©tendus (tels que des tirets moyens et courts) √† divers caract√®res (marque d√©pos√©e, signe de copyright et signe de degr√©) et des versions de caract√®res alphab√©tiques avec des signes diacritiques.  Il y avait toujours un probl√®me: lors de la lecture d'un fichier texte, vous pouviez rencontrer un caract√®re qui d√©passait la plage ASCII de 128 caract√®res, et vous ne pouviez pas √™tre s√ªr du caract√®re cod√©.  Supposons que vous tombiez sur un personnage avec le code 214. Qu'est-ce que c'est?  Une marque de division, la lettre √ñ ou autre chose?  Sans le code source qui a cr√©√© ce fichier, il est impossible de le d√©couvrir. <br><br><h3>  Unicode et UTF-8 </h3><br>  Pour √©liminer cette ambigu√Øt√©, vous pouvez utiliser Unicode.  Le codage Unicode, appel√© UTF-8, prend en charge les caract√®res ASCII de base sans aucune modification, mais il permet √©galement un ensemble presque illimit√© d'autres caract√®res et caract√®res du standard Unicode.  En raison de sa flexibilit√©, UTF-8 est utilis√© dans plus de 85% des pages Web qui existaient au moment de la r√©daction de ce document.  Cela signifie que lors de la lecture de fichiers texte, il est pr√©f√©rable de se concentrer sur UTF-8.  Si les fichiers ne contiennent que des caract√®res ASCII, ils seront lus correctement, mais vous b√©n√©ficiez √©galement d'une assurance au cas o√π d'autres caract√®res seraient encod√©s en UTF-8.  Heureusement, le type de donn√©es de cha√Æne Python 3 est con√ßu pour prendre en charge Unicode par d√©faut. <br><br>  M√™me avec Unicode, des situations sont possibles lorsque des valeurs apparaissent dans le texte qui ne peuvent pas √™tre d√©cod√©es avec succ√®s.  La fonction ouverte en Python re√ßoit un param√®tre d'erreurs suppl√©mentaire, qui d√©termine comment g√©rer les erreurs de codage lors de la lecture ou de l'√©criture de fichiers.  La valeur par d√©faut est ¬´stricte¬ª, avec laquelle une erreur est d√©clench√©e chaque fois qu'une erreur de codage est d√©tect√©e.  Les autres valeurs utiles sont ¬´ignorer¬ª (ignorer le caract√®re √† l'origine de l'erreur);  'replace' (un caract√®re est remplac√© par un marqueur sp√©cial - g√©n√©ralement?);  'backslashreplace' (le caract√®re est remplac√© par la s√©quence d'√©chappement par \) et 'surrogateescape' (le caract√®re intrus est converti en un point de code Unicode priv√© lors de la lecture et revient √† la s√©quence d'octets d'origine lors de l'√©criture).  Le choix de la m√©thode de traitement ou de r√©solution des erreurs de codage d√©pend de la situation sp√©cifique. <br><br>  Prenons un court exemple de fichier contenant un caract√®re UTF-8 non valide et voyez comment ce caract√®re est trait√© dans diff√©rents modes.  √âcrivez d'abord le fichier en utilisant les octets et le mode binaire: <br><br><pre><code class="plaintext hljs">&gt;&gt;&gt; open('test.txt', 'wb').write(bytes([65, 66, 67, 255, 192,193]))</code> </pre> <br>  √Ä la suite de la commande, un fichier est cr√©√© √† partir des caract√®res "ABC", suivis de trois caract√®res qui ne sont pas inclus dans ASCII, qui peuvent √™tre affich√©s diff√©remment selon la m√©thode de codage utilis√©e.  Si vous utilisez vim pour afficher le fichier, le r√©sultat ressemblera √† ceci: <br><br><pre> <code class="plaintext hljs">ABC√ø√Ä√Å ~</code> </pre> <br><br>  Lorsque le fichier est cr√©√©, essayez de le lire dans le mode de gestion d'erreur strict par d√©faut: <br><br><pre> <code class="plaintext hljs">&gt;&gt;&gt; x = open('test.txt').read() Traceback (most recent call last): File "&lt;stdin&gt;", line 1, in &lt;module&gt; File "/usr/local/lib/python3.6/codecs.py", line 321, in decode (result, consumed) = self._buffer_decode(data, self.errors, final) UnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position 3: invalid start byte</code> </pre> <br><br>  Le quatri√®me octet avec une valeur de 255 n'est pas un caract√®re UTF-8 valide √† cette position, donc une exception se produit en mode ¬´strict¬ª.  Voyons maintenant comment les autres modes de gestion des erreurs g√®rent le m√™me fichier, sans oublier que les trois derniers caract√®res d√©clenchent une erreur: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rg/k8/kr/rgk8krlwwnpj47drpjqe8cp_pii.png" alt="image"></div><br>  Si vous voulez que les personnages probl√©matiques disparaissent, utilisez le mode ¬´ignorer¬ª.  Le mode ¬´remplacer¬ª marque uniquement les positions des caract√®res non valides, tandis que d'autres modes tentent diff√©remment de sauvegarder les caract√®res non valides sans interpr√©tation. <br><br><h3>  21.2.2.  Texte non structur√© </h3><br>  Les fichiers texte non structur√©s sont lus le plus facilement, mais ils cr√©ent √©galement le plus de probl√®mes avec l'extraction d'informations.  Le traitement du texte non structur√© peut varier consid√©rablement en fonction de la nature du texte et de ce que vous allez en faire, de sorte que toute discussion d√©taill√©e sur le traitement de texte d√©passe le cadre du livre.  Cependant, un court exemple aidera √† d√©montrer certains probl√®mes de base et √† jeter les bases pour discuter de fichiers avec des donn√©es de texte structur√©. <br><br>  L'un des probl√®mes les plus simples consiste √† choisir l'unit√© logique de base dans le fichier.  Si vous utilisez une collection de milliers de messages Twitter, du texte Moby Dick ou une collection de nouvelles, vous devez en quelque sorte les d√©composer en blocs.  Dans le cas des tweets, chaque bloc peut √™tre plac√© sur une seule ligne, et la lecture et le traitement de chaque ligne du fichier sont organis√©s simplement. <br><br>  Dans le cas de Moby Dick et m√™me de quelques nouvelles, le probl√®me se complique.  Bien s√ªr, le texte du roman et m√™me le texte de l'actualit√© n'est g√©n√©ralement pas souhaitable √† consid√©rer comme une seule unit√©.  Dans ce cas, vous devez d√©cider des blocs dont vous avez besoin, puis d√©velopper une strat√©gie pour diviser le fichier en blocs.  Vous pr√©f√©rerez peut-√™tre traiter le texte paragraphe par paragraphe.  Dans ce cas, vous devez d√©terminer comment la r√©partition du texte en paragraphes dans le fichier est organis√©e et √©crire le code en cons√©quence.  Si les paragraphes correspondent aux lignes d'un fichier texte, cela ne sera pas difficile.  Cependant, souvent un paragraphe d'un fichier texte peut √™tre compos√© de plusieurs lignes dans un fichier texte, et vous devrez travailler dur. <br><br>  Consid√©rons maintenant quelques exemples. <br><br><blockquote>  Appelez-moi Isma√´l.  Il y a quelques ann√©es - peu importe combien de temps pr√©cis√©ment-- <br>  avoir peu ou pas d'argent dans mon sac, et rien de particulier <br>  pour m'int√©resser √† terre, je pensais naviguer un peu <br>  et voir la partie aqueuse du monde.  C'est une fa√ßon que j'ai <br>  de chasser la rate et de r√©guler la circulation. <br>  Chaque fois que je me retrouve de plus en plus sombre √† propos de la bouche; <br>  chaque fois que c'est un mois de novembre humide et bruissant dans mon √¢me;  chaque fois que je <br>  me retrouver involontairement en pause devant les entrep√¥ts de cercueils, <br>  et √©lever l'arri√®re de chaque enterrement que je rencontre; <br>  et surtout quand mes hypos prennent le dessus sur moi, <br>  qu'il faut un principe moral fort pour m'emp√™cher de <br>  entrer d√©lib√©r√©ment dans la rue et frapper m√©thodiquement <br>  les chapeaux des gens - alors, je pense qu'il est grand temps de prendre la mer <br>  d√®s que je peux.  Ceci est mon substitut au pistolet et √† la balle. <br>  Avec un √©lan philosophique, Caton se jette sur son √©p√©e; <br>  Je prends tranquillement le bateau.  Il n'y a rien de surprenant l√†-dedans. <br>  S'ils le savaient, presque tous les hommes de leur grade, quelque temps <br>  ou autre, ch√©rissent √† peu pr√®s les m√™mes sentiments envers <br>  l'oc√©an avec moi. <br><br>  Il y a maintenant votre ville insulaire des Manhattoes, ceintur√©e de quais <br>  comme les √Æles indiennes par les r√©cifs coralliens - le commerce l'entoure de ses vagues. <br>  √Ä droite et √† gauche, les rues vous emm√®nent au fil de l'eau.  Son extr√™me centre-ville <br>  est la batterie, o√π cette noble taupe est lav√©e par les vagues et refroidie <br>  par des brises qui, quelques heures auparavant, √©taient hors de vue des terres. <br>  Regardez la foule des observateurs d'eau l√†-bas. </blockquote><br>  Dans cet exemple (avec le d√©but du texte ¬´Moby Dick¬ª), les lignes sont plus ou moins coup√©es comme elles seraient pagin√©es, et les paragraphes sont indiqu√©s par une seule ligne vide.  Si vous souhaitez traiter chaque paragraphe dans son ensemble, vous devez diviser le texte en lignes vides.  Heureusement, cette t√¢che est facilement accomplie par la m√©thode split () des cha√Ænes.  Chaque nouvelle ligne du texte est repr√©sent√©e par la combinaison "\ n".  Naturellement, la derni√®re ligne de texte de chaque paragraphe se termine par une nouvelle ligne, et si la ligne de texte suivante est vide, la deuxi√®me nouvelle ligne la suit imm√©diatement: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lu/a1/qi/lua1qir3kpemtstjg37nvrzwws8.png" alt="image"></div><br>  L'analyse du texte en paragraphes est une √©tape tr√®s simple dans le traitement du texte non structur√©.  Vous devrez peut-√™tre √©galement effectuer une normalisation suppl√©mentaire du texte avant de poursuivre le traitement.  Supposons que vous souhaitiez calculer la fr√©quence d'occurrence de chaque mot dans un fichier texte.  Si vous divisez simplement le fichier par omissions, vous obtiendrez une liste de mots dans le fichier, cependant, compter avec pr√©cision les occurrences ne sera pas si simple, car ceci, ceci, ceci.  et cela, ne sera pas consid√©r√© comme le m√™me mot.  Pour que ce code fonctionne correctement, il est n√©cessaire de normaliser le texte en supprimant les signes de ponctuation et en convertissant tout le texte en un seul cas avant le traitement.  Dans l'exemple de texte ci-dessus, le code de construction d'une liste normalis√©e de mots peut ressembler √† ceci: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kz/ld/4z/kzld4zqrc9gggdkevqpurtln9z4.png" alt="image"></div><br><h3>  21.2.3.  Fichiers d√©limit√©s non structur√©s </h3><br>  Les fichiers non structur√©s sont lus tr√®s simplement, mais le manque de structure est √©galement leur inconv√©nient.  Il est souvent plus pratique de d√©finir une structure pour un fichier afin de simplifier la s√©lection des valeurs individuelles.  Dans la version la plus simple, le fichier est divis√© en lignes et chaque ligne contient un √©l√©ment d'information.  Par exemple, il peut s'agir d'une liste de noms de fichiers √† traiter, d'une liste de noms de personnes ou d'une s√©rie de relev√©s de temp√©rature √† partir d'un capteur distant.  Dans de tels cas, l'analyse des donn√©es est organis√©e tr√®s simplement: vous lisez la ligne et, si n√©cessaire, la convertissez au type souhait√©.  C'est tout ce qu'il faut pour pr√©parer le fichier √† l'utilisation. <br><br>  Cependant, la situation n'est pas si simple.  Plus souvent, vous devez regrouper plusieurs √©l√©ments de donn√©es interconnect√©s et votre code doit les lire ensemble.  En r√®gle g√©n√©rale, pour cela, les donn√©es associ√©es sont plac√©es sur une seule ligne et s√©par√©es par un caract√®re sp√©cial.  Dans ce cas, lors de la lecture de chaque ligne du fichier, des caract√®res sp√©ciaux sont utilis√©s pour diviser les donn√©es en champs et stocker les valeurs des champs dans des variables pour un traitement ult√©rieur. <br><br>  Le fichier suivant contient des donn√©es de temp√©rature dans un format d√©limit√©: <br><br><pre> <code class="plaintext hljs">State|Month Day, Year Code|Avg Daily Max Air Temperature (F)|Record Count for Daily Max Air Temp (F) Illinois|1979/01/01|17.48|994 Illinois|1979/01/02|4.64|994 Illinois|1979/01/03|11.05|994 Illinois|1979/01/04|9.51|994 Illinois|1979/05/15|68.42|994 Illinois|1979/05/16|70.29|994 Illinois|1979/05/17|75.34|994 Illinois|1979/05/18|79.13|994 Illinois|1979/05/19|74.94|994</code> </pre> <br>  Les donn√©es du fichier sont s√©par√©es par un tube (|).  Dans cet exemple, ils se composent de quatre champs: √©tat, date d'observation, temp√©rature maximale moyenne et nombre de stations fournissant des donn√©es.  Les autres d√©limiteurs standard sont un caract√®re de tabulation et une virgule.  Peut-√™tre que la virgule est utilis√©e le plus souvent, mais le s√©parateur peut √™tre n'importe quel caract√®re qui n'appara√Ætra pas dans les valeurs (plus √† ce sujet plus tard).  Les donn√©es s√©par√©es par des virgules sont si courantes que ce format est souvent appel√© CSV (valeurs s√©par√©es par des virgules, c'est-√†-dire des donn√©es s√©par√©es par des virgules), et ce type de fichier est fourni avec l'extension .csv en tant qu'attribut de format. <br><br>  Quel que soit le caract√®re utilis√© comme d√©limiteur, si vous savez quel est le caract√®re, vous pouvez √©crire votre propre code Python pour diviser la cha√Æne en champs et les renvoyer sous forme de liste.  Dans le cas pr√©c√©dent, vous pouvez utiliser la m√©thode split () pour convertir la cha√Æne en une liste de valeurs: <br><br><pre> <code class="plaintext hljs">&gt;&gt;&gt; line = "Illinois|1979/01/01|17.48|994" &gt;&gt;&gt; print(line.split("|")) ['Illinois', '1979/01/01', '17.48', '994']</code> </pre> <br>  Cette technique est tr√®s facile √† impl√©menter, mais toutes les valeurs sont stock√©es sous forme de cha√Æne, ce qui peut √™tre g√™nant pour un traitement ult√©rieur. <br><br><h3>  21.2.4.  Module CSV </h3><br>  Si vous devez souvent traiter des fichiers de donn√©es d√©limit√©s, vous devriez regarder de plus pr√®s le module csv et ses capacit√©s.  Quand on m'a demand√© de nommer mon module pr√©f√©r√© √† partir de la biblioth√®que standard Python, j'ai appel√© le module csv plus d'une fois - non pas parce qu'il a l'air spectaculaire (ce n'est pas le cas), mais parce qu'il m'a probablement fait gagner plus de temps et m'a sauv√© de mes erreurs potentielles plus souvent que tout autre module. <br>  Le module csv est l'exemple parfait de la philosophie ¬´batterie incluse¬ª de Python.  Bien que vous puissiez parfaitement √©crire votre propre code pour lire des fichiers d√©limit√©s (de plus, ce n'est pas si difficile), il est beaucoup plus facile et plus fiable d'utiliser le module Python.  Le module csv a √©t√© test√© et optimis√©, et il fournit un certain nombre de fonctionnalit√©s que vous auriez du mal √† impl√©menter vous-m√™me, mais qui sont n√©anmoins assez pratiques et font gagner du temps. <br><br>  Jetez un ≈ìil aux donn√©es pr√©c√©dentes et d√©cidez comment vous les liriez avec le module csv.  Le code d'analyse de donn√©es doit lire chaque ligne et supprimer le caract√®re de fin de ligne, puis diviser la ligne par caract√®res |  et ajoutez la liste de valeurs √† la liste g√©n√©rale des cha√Ænes.  La solution pourrait ressembler √† ceci: <br><br><pre> <code class="plaintext hljs">&gt;&gt;&gt; results = [] &gt;&gt;&gt; for line in open("temp_data_pipes_00a.txt"): ... fields = line.strip().split("|") ... results.append(fields) ... &gt;&gt;&gt; results [['State', 'Month Day, Year Code', 'Avg Daily Max Air Temperature (F)', 'Record Count for Daily Max Air Temp (F)'], ['Illinois', '1979/01/01', '17.48', '994'], ['Illinois', '1979/01/02', '4.64', '994'], ['Illinois', '1979/01/03', '11.05', '994'], ['Illinois', '1979/01/04', '9.51', '994'], ['Illinois', '1979/05/15', '68.42', '994'], ['Illinois', '1979/ 05/16', '70.29', '994'], ['Illinois', '1979/05/17', '75.34', '994'], ['Illinois', '1979/05/18', '79.13', '994'], ['Illinois', '1979/05/19', '74.94', '994']]</code> </pre> <br>  Si vous voulez faire de m√™me avec le module csv, le code pourrait ressembler √† ceci: <br><br><pre> <code class="plaintext hljs">&gt;&gt;&gt; import csv &gt;&gt;&gt; results = [fields for fields in csv.reader(open("temp_data_pipes_00a.txt", newline=''), delimiter="|")] &gt;&gt;&gt; results [['State', 'Month Day, Year Code', 'Avg Daily Max Air Temperature (F)', 'Record Count for Daily Max Air Temp (F)'], ['Illinois', '1979/01/01', '17.48', '994'], ['Illinois', '1979/01/02', '4.64', '994'], ['Illinois', '1979/01/03', '11.05', '994'], ['Illinois', '1979/01/04', '9.51', '994'], ['Illinois', '1979/05/15', '68.42', '994'], ['Illinois', '1979/ 05/16', '70.29', '994'], ['Illinois', '1979/05/17', '75.34', '994'], ['Illinois', '1979/05/18', '79.13', '994'], ['Illinois', '1979/05/19', '74.94', '994']]</code> </pre> <br>  Dans ce cas simple, le gain par rapport √† l'impl√©mentation ind√©pendante de la solution n'est pas si grand.  N√©anmoins, le code s'est av√©r√© √™tre deux lignes plus court et un peu plus clair, et vous n'avez pas √† vous soucier de tronquer les caract√®res de nouvelle ligne.  Le v√©ritable avantage vient lorsque vous faites face √† des cas plus complexes. <br><br>  Les donn√©es de cet exemple sont r√©elles, mais en r√©alit√© elles ont √©t√© simplifi√©es et effac√©es.  Les donn√©es r√©elles de la source seront plus complexes.  Les donn√©es r√©elles contiennent plus de champs, certains champs seront plac√©s entre guillemets, d'autres non et le premier champ peut √™tre vide.  L'original est s√©par√© par des tabulations, mais √† des fins de d√©monstration, je les cite s√©par√©es par des virgules: <br><br><pre> <code class="plaintext hljs">"Notes","State","State Code","Month Day, Year","Month Day, Year Code",Avg Daily Max Air Temperature (F),Record Count for Daily Max Air Temp (F),Min Temp for Daily Max Air Temp (F),Max Temp for Daily Max Air Temp (F),Avg Daily Max Heat Index (F),Record Count for Daily Max Heat Index (F),Min for Daily Max Heat Index (F),Max for Daily Max Heat Index (F),Daily Max Heat Index (F) % Coverage ,"Illinois","17","Jan 01, 1979","1979/01/ 01",17.48,994,6.00,30.50,Missing,0,Missing,Missing,0.00% ,"Illinois","17","Jan 02, 1979","1979/01/02",4.64,994,- 6.40,15.80,Missing,0,Missing,Missing,0.00% ,"Illinois","17","Jan 03, 1979","1979/01/03",11.05,994,- 0.70,24.70,Missing,0,Missing,Missing,0.00% ,"Illinois","17","Jan 04, 1979","1979/01/ 04",9.51,994,0.20,27.60,Missing,0,Missing,Missing,0.00% ,"Illinois","17","May 15, 1979","1979/05/ 15",68.42,994,61.00,75.10,Missing,0,Missing,Missing,0.00% ,"Illinois","17","May 16, 1979","1979/05/ 16",70.29,994,63.40,73.50,Missing,0,Missing,Missing,0.00% ,"Illinois","17","May 17, 1979","1979/05/ 17",75.34,994,64.00,80.50,82.60,2,82.40,82.80,0.20% ,"Illinois","17","May 18, 1979","1979/05/ 18",79.13,994,75.50,82.10,81.42,349,80.20,83.40,35.11% ,"Illinois","17","May 19, 1979","1979/05/ 19",74.94,994,66.90,83.10,82.87,78,81.60,85.20,7.85%</code> </pre> <br>  Remarque: certains champs contiennent des virgules.  Selon les r√®gles dans de tels cas, le champ est entour√© de guillemets pour indiquer que son contenu n'est pas destin√© √† analyser et √† rechercher des d√©limiteurs.  En pratique (comme dans ce cas), seule une fraction des champs est souvent plac√©e entre guillemets, en particulier ceux dont les valeurs peuvent contenir un s√©parateur.  Cependant (comme dans cet exemple), certains champs sont plac√©s entre guillemets m√™me lorsqu'ils ne contiennent probablement pas de s√©parateur. <br><br>  Dans de tels cas, les solutions locales deviennent trop lourdes.  Maintenant, le simple fait de casser une ligne par un d√©limiteur ne fonctionne plus;  vous devez vous assurer que vous utilisez uniquement les s√©parateurs qui ne sont pas √† l'int√©rieur des cha√Ænes.  De plus, vous devez supprimer les guillemets, qui peuvent se trouver dans une position arbitraire ou ne se trouver nulle part.  Avec le module csv, vous n'avez pas du tout √† changer votre code.  De plus, comme la virgule est consid√©r√©e comme le s√©parateur par d√©faut, elle n'a m√™me pas besoin d'√™tre sp√©cifi√©e: <br><br><pre> <code class="plaintext hljs">&gt;&gt;&gt; results2 = [fields for fields in csv.reader(open("temp_data_01.csv", newline=''))] &gt;&gt;&gt; results2 [['Notes', 'State', 'State Code', 'Month Day, Year', 'Month Day, Year Code', 'Avg Daily Max Air Temperature (F)', 'Record Count for Daily Max Air Temp (F)', 'Min Temp for Daily Max Air Temp (F)', 'Max Temp for Daily Max Air Temp (F)', 'Avg Daily Min Air Temperature (F)', 'Record Count for Daily Min Air Temp (F)', 'Min Temp for Daily Min Air Temp (F)', 'Max Temp for Daily Min Air Temp (F)', 'Avg Daily Max Heat Index (F)', 'Record Count for Daily Max Heat Index (F)', 'Min for Daily Max Heat Index (F)', 'Max for Daily Max Heat Index (F)', 'Daily Max Heat Index (F) % Coverage'], ['', 'Illinois', '17', 'Jan 01, 1979', '1979/01/01', '17.48', '994', '6.00', '30.50', '2.89', '994', '-13.60', '15.80', 'Missing', '0', 'Missing', 'Missing', '0.00%'], ['', 'Illinois', '17', 'Jan 02, 1979', '1979/01/02', '4.64', '994', '-6.40', '15.80', '-9.03', '994', '-23.60', '6.60', 'Missing', '0', 'Missing', 'Missing', '0.00%'], ['', 'Illinois', '17', 'Jan 03, 1979', '1979/01/03', '11.05', '994', '- 0.70', '24.70', '-2.17', '994', '-18.30', '12.90', 'Missing', '0', 'Missing', 'Missing', '0.00%'], ['', 'Illinois', '17', 'Jan 04, 1979', '1979/01/04', '9.51', '994', '0.20', '27.60', '-0.43', '994', '-16.30', '16.30', 'Missing', '0', 'Missing', 'Missing', '0.00%'], ['', 'Illinois', '17', 'May 15, 1979', '1979/05/15', '68.42', '994', '61.00', '75.10', '51.30', '994', '43.30', '57.00', 'Missing', '0', 'Missing', 'Missing', '0.00%'], ['', 'Illinois', '17', 'May 16, 1979', '1979/05/ 16', '70.29', '994', '63.40', '73.50', '48.09', '994', '41.10', '53.00', 'Missing', '0', 'Missing', 'Missing', '0.00%'], ['', 'Illinois', '17', 'May 17, 1979', '1979/05/17', '75.34', '994', '64.00', '80.50', '50.84', '994', '44.30', '55.70', '82.60', '2', '82.40', '82.80', '0.20%'], ['', 'Illinois', '17', 'May 18, 1979', '1979/05/18', '79.13', '994', '75.50', '82.10', '55.68', '994', '50.00', '61.10', '81.42', '349', '80.20', '83.40', '35.11%'], ['', 'Illinois', '17', 'May 19, 1979', '1979/05/19', '74.94', '994', '66.90', '83.10', '58.59', '994', '50.90', '63.20', '82.87', '78', '81.60', '85.20', '7.85%']]</code> </pre> <br><br>  ¬ªPlus d'informations sur le livre sont disponibles sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le site de l'√©diteur</a> <br>  ¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Contenu</a> <br>  ¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Extrait</a> <br><br>  20% de r√©duction sur les colporteurs - <b>Python</b> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr437050/">https://habr.com/ru/post/fr437050/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr437034/index.html">Universal Whistles: Snom A230 et A210 USB Dongle Review</a></li>
<li><a href="../fr437036/index.html">SAPUI5 for dummies part 2: Un exercice complet √©tape par √©tape</a></li>
<li><a href="../fr437038/index.html">Traduction du guide de l'API Benjamin Winterberg Stream</a></li>
<li><a href="../fr437040/index.html">En Russie, a commenc√© √† tester l'interface neuronale domestique "Neurochat"</a></li>
<li><a href="../fr437044/index.html">Comment vaincre le dragon: r√©√©crivez votre programme sur Golang</a></li>
<li><a href="../fr437052/index.html">Ne manquez pas d'apprendre: un sp√©cialiste universitaire en informatique a-t-il besoin</a></li>
<li><a href="../fr437054/index.html">Nouveaux processeurs Intel de 9e g√©n√©ration: Core moins GPU</a></li>
<li><a href="../fr437056/index.html">Zimbra Collaboration Suite et Zextras Suite sont enti√®rement compatibles avec le syst√®me d'exploitation national RED</a></li>
<li><a href="../fr437062/index.html">L'effet du retard et de la longueur des conclusions de la puce et du logiciel sur le calcul de la longueur / retard total des conducteurs</a></li>
<li><a href="../fr437064/index.html">Strat√©gie gagnante de Gomoku - 35 coups</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>