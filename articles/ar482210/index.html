<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐ ๐๐ผ ุจูุช ูุชุชุฑูุณ ูุงูุฑุณูู ุงููุชุญุฑูุฉ ุงูููุฏุณุฉ ุงูุนูุณูุฉ. ุชุญููู ุงููุณุงุฑ ุงููุญููู ูู ุจุทููุฉ ุงูุจุฑูุฌุฉ ุงูุซุงููุฉ ๐ ๐ฉโ๐ญ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุงููุงุฆุฒูู ุงููุณุงุฑ ุงููุญููู 
 ูู ุงูุนุงู ุงููุงุถู ุ ุนูุฏุช ูุงูุฏูุณ ุจุทููุชูู ููุจุฑูุฌุฉ ุนุจุฑ ุงูุฅูุชุฑูุช. ูุณุชูุฑ ูู ูุดุฑ ุชุญูููุงุช ููุงู ุงูุจุทููุฉ ุงูุซุงููุฉ. ูุฐูุฑู ุฃูู ุชู ุชูุฏูู ุฃุฑ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุจูุช ูุชุชุฑูุณ ูุงูุฑุณูู ุงููุชุญุฑูุฉ ุงูููุฏุณุฉ ุงูุนูุณูุฉ. ุชุญููู ุงููุณุงุฑ ุงููุญููู ูู ุจุทููุฉ ุงูุจุฑูุฌุฉ ุงูุซุงููุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/482210/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/wo/ry/hf/woryhf1ol6z2mgv2exh6uasa1gi.jpeg"><br><h5 style=";text-align:right;direction:rtl">  <sup><sub>ุงููุงุฆุฒูู ุงููุณุงุฑ ุงููุญููู</sub></sup> </h5><br>  ูู ุงูุนุงู ุงููุงุถู ุ ุนูุฏุช ูุงูุฏูุณ ุจุทููุชูู ููุจุฑูุฌุฉ ุนุจุฑ ุงูุฅูุชุฑูุช.  ูุณุชูุฑ ูู ูุดุฑ ุชุญูููุงุช ููุงู ุงูุจุทููุฉ ุงูุซุงููุฉ.  ูุฐูุฑู ุฃูู ุชู ุชูุฏูู ุฃุฑุจุนุฉ ูุณุงุฑุงุช ูููุดุงุฑููู: ุงูุชุนูู ุงูุขูู ุ ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ุ ุชุทููุฑ ุงูุฃุฌูุฒุฉ ุงููุญูููุฉ ุ ุงูุฎูููุฉ.  ุฅููู ููุงูุดุฉ ูุฌููุฉ ุงูุชุฃููู ููุทูุฑู ุงูุฃุฌูุฒุฉ ุงููุญูููุฉ - 121 ููู ุงุฌุชุงุฒูุง ุงููุคููุงุช ุซู ุดุงุฑููุง ูู ุงูููุงุฆู.  ุชู ุงุฎุชุฑุงุน ุงูููุงู ุจูุงุณุทุฉ ูุชุฎุตุตูู ูู Yandex.Browser ููุฑู ุฃุฎุฑู ูู ุจูุงุจุฉ ุงูุจุญุซ.  ูู ูุฐุง ุงููุญูุฑ ุ ุณูู ูุชุทุฑู ุฅูู ููุถูุน ุงูุฎูุงุฑุฒููุงุช ุงูุฌูููุฉ ุ ูููุชุจ ุฑูุจูุชูุง ูู Tetris ููุฎูุถ ุงูุจุญุซ ุจุทุฑู ูุฎุชููุฉ ููุธุงูู Android ู iOS. <br><a name="academy"></a><br><a name="habracut"></a><h2 style=";text-align:right;direction:rtl">  ุงููุงุจูุงุช </h2>  <sup><i>ุจูุงุณุทุฉ: ุณูุฑุฌู Myasnikov</i></sup> <br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td></td><td>  <b>ูู ุงููุบุงุช</b> </td><td>  <b>Python 3.7.3 ู Python 2.7</b> </td></tr><tr><td>  ุงููููุฉ </td><td>  4 ู </td><td>  20 ุซุงููุฉ </td></tr><tr><td>  ุญุฏ ุงูุฐุงูุฑุฉ </td><td colspan="2">  256 ููุบุงุจุงูุช </td></tr><tr><td>  ุฏุฎูู </td><td colspan="2">  ุงููุฏุฎูุงุช ุงูููุงุณูุฉ ุฃู ุงููุฏุฎูุงุช </td></tr><tr><td>  ุงุณุชูุชุงุฌ </td><td colspan="2">  ุงูุฅุฎุฑุงุฌ ุงูููุงุณู ุฃู ุงูุฅุฎุฑุงุฌ </td></tr></tbody></table></div>  ุชู ุฌูุจ ุฃุฌูุฒุฉ ุงูููุจููุชุฑ N ุฅูู ุงูููุชุจ ุงูุฌุฏูุฏ.  ูุง ูุณูุญ ุงูุชูุณููุจ ุงูุฑุงุฏููู ุงููุฑูุจ ุจุงุณุชุฎุฏุงู Wi-Fi ููุงุชุตุงู ุ ูุณูุชุนูู ุนูู ููุชุจ ุงููุณุงุนุฏุฉ ุชูุธูู ุดุจูุฉ ุจุงุณุชุฎุฏุงู ูุจูุงุช LAN.  ุจุนุฏ ุชุฌููุน ูู ุงููุงุจูุงุช ุงูููุฌูุฏุฉ ูู ุงูุฒูุงูุง ุ ุชููู ุงููุณุคูููู ูู ุชูุตูู ุฃุฒูุงุฌ K ูู ุฃุฌูุฒุฉ ุงูููุจููุชุฑ.  ุจุนุฏ ุชุนุจ ููู ุนูู ุทููู ุ ูุฌุฃ ุทุงูู ููุชุจ ุงููุณุงุนุฏุฉ ุฅููู ููุญุตูู ุนูู ุงููุณุงุนุฏุฉ - ูุญุณุงุจ ุงูููุฒุงููุฉ ุงููุงุฒูุฉ ูุฅููุงู ุงููููุฉ.  ูุฐูู ูุฏูู ูุงุฆูุฉ ุจุฃุฒูุงุฌ M ูู ุฃุฌูุฒุฉ ุงูููุจููุชุฑ ุงูุชู ูููููุง ุชูุตูู ุงููุณุคูููู ุ ูุชูููุฉ ูู ูุจู.  ุนูุฏ ุจุฏุก ุงูุนูู ุ ุนุซุฑุช ุนูู ุฎุทุฃ ูู ูุธุงู ุญุณุงุจ ุงูุชูููุฉ - ุจุฏูุงู ูู ุฒูุงุฏุฉ ุงูุชูุงููู ุ ูุฅููุง ุชุชุถุงุนู - ูุฐุง ูุฅู ุงููุจู ุฐู ุงููููุฉ 4 ูุงููุจู ุจูููุฉ 3 ูุนูุง ููุณ 7 ุ ููุง ูุดูุฑ ุงูููุทู ุ ูููู 12. <br><br>  ูุฅููุงู ุงููููุฉ ุ ุชุญุชุงุฌ ุฅูู ุญุณุงุจ ุชูููุฉ ุงููุจูุงุช ุงููุงููุฉ ูุชูุธูู ุดุจูุฉ ูุชุตูุฉ - ุจุญูุซ ูุชู ุชูุตูู ูู ููุจููุชุฑ ุจูู ููููุง ุจุดูู ูุจุงุดุฑ ุฃู ุบูุฑ ูุจุงุดุฑ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">I / O ุงูุชูุณููุงุช ูุงูุฃูุซูุฉ ูุงูููุงุญุธุงุช</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><h4 style=";text-align:right;direction:rtl">  ุชูุณูู ุงูุฅุฏุฎุงู </h4><br>  ูุญุชูู ุงูุณุทุฑ ุงูุฃูู ุนูู ุงูุฃุฑูุงู 0 &lt;N &lt;10 <sup>6</sup> ุ 0 โค K &lt;10 <sup>6</sup> ุ 0 โค M &lt;10 <sup>6</sup> . <br><br>  ุชุญุชูู ุฃุณุทุฑ K ุงูุชุงููุฉ ุนูู ุฃุฒูุงุฌ ูู ุงูุฃุฑูุงู 0 &lt;uุ v โค N - ุฃุฑูุงู ุฃุฌูุฒุฉ ุงูููุจููุชุฑ ุงููุชุตูุฉ ุจุงููุนู ุจูุงุณุทุฉ ููุชุจ ุงููุณุงุนุฏุฉ. <br><br>  ุชุญุชูู ุงูุฃุณุทุฑ M ุงูุชุงููุฉ ุนูู ุซูุงุซุฉ ุฃุถุนุงู ูู ุงูุฃุฑูุงู 0 &lt;u ู v โค N ู 0 &lt;p โค 10 <sup>9</sup> - ุนุฏุฏ ุฃุฌูุฒุฉ ุงูููุจููุชุฑ ุงูุชู ูููู ูููุณุคูููู ุงูุงุชุตุงู ุจูุง ุจุงุณุชุฎุฏุงู ุชูููุฉ ุงููุจู p. <br><br><h4 style=";text-align:right;direction:rtl">  ุชูุณูู ุงูุฅุฎุฑุงุฌ </h4><br>  ูู ุจุทุจุงุนุฉ ุฃูู ุชูููุฉ ููููุฉ ูู ุงููุงุจูุงุช ูุฅูุดุงุก ุดุจูุฉ ูุชุตูุฉ ุ ุฃู -1 ุฅุฐุง ูุงู ูู ุงููุณุชุญูู ุฅูุดุงุก ุดุจูุฉ ูุงููุฉ. <br><br>  ูููู ุฃู ุชููู ุงูุฅุฌุงุจุฉ ูุจูุฑุฉ ุฌุฏูุง ุ ูุฐูู ุชุญุชุงุฌ ุฅูู ุฅุฎุฑุงุฌูุง modulo 2 <sup>31</sup> - 1. <br><br><h4 style=";text-align:right;direction:rtl">  ูุซุงู 1 </h4><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  <b>ุฏุฎูู</b> </td><td>  <b>ุงุณุชูุชุงุฌ</b> </td></tr><tr><td><code>2 0 1 <br> 2 1 9</code> </td> <td> <code>9</code> </td> </tr></tbody></table></div><h4 style=";text-align:right;direction:rtl">  ูุซุงู 2 </h4><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  <b>ุฏุฎูู</b> </td><td>  <b>ุงุณุชูุชุงุฌ</b> </td></tr><tr><td> <code>5 0 6 <br> 1 3 1 <br> 2 4 8 <br> 1 4 1 <br> 1 2 10 <br> 4 1 10 <br> 5 3 4</code> </td> <td> <code>32</code> </td> </tr></tbody></table></div><h4 style=";text-align:right;direction:rtl">  ูุซุงู 3 </h4><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  <b>ุฏุฎูู</b> </td><td>  <b>ุงุณุชูุชุงุฌ</b> </td></tr><tr><td> <code>6 0 3 <br> 4 3 2 <br> 2 6 9 <br> 1 4 8</code> </td> <td> <code>โ1</code> </td> </tr></tbody></table></div><h4 style=";text-align:right;direction:rtl">  ุงูููุงุญุธุงุช </h4><br>  ูููู ุฃู ุชุตู ูููุฉ ุงูุจูุงูุงุช ุงููุฏุฎูุฉ ุฅูู 30 ููุฌุงุจุงูุช - ุงูุชุจู ููุฑุงุกุฉ ุงูุณุฑุนุฉ. </div></div><br><h4 style=";text-align:right;direction:rtl">  ูุฑุงุฑ </h4><br>  ุงูุดุจูุฉ ุงููุงููุฉ ุงูุชู ูุฌุจ ุจูุงุคูุง ูุญู ุงููุดููุฉ ููุณุช ุฃูุซุฑ ูู ูุฌุฑุฏ ุดุฌุฑุฉ ุชูุชุฏ ุนูู ุงูุญุฏ ุงูุฃุฏูู.  (ูุธุฑูุง ูุฃู ุญูุงู K ูุฏ ุชูุช ุฅุถุงูุชูุง ุจุงููุนู ูู ุจุฏุงูุฉ ุงูุฅูุดุงุก ุ ูุฅู ุงูุฑุณู ุงูุจูุงูู ุงููุงุชุฌ ููุณ ุจุงูุถุฑูุฑุฉ ุดุฌุฑุฉ ุ ููููู ูุถููู ูุงุญุชูุงุกูุง.) <br><br>  ูู ุงูุฅุนุฏุงุฏ ุงูููุงุณููู ุ ุชุชุถูู ูุดููุฉ ุงูุนุซูุฑ ุนูู ุงูุญุฏ ุงูุฃุฏูู ูุดุฌุฑุฉ ุงูุงูุชุฏุงุฏ ุชูููู ูุฌููุน ุงูุญูุงู ุ ูููู ูู ุงูุถุฑูุฑู ููุง ุชูููู ุงูููุชุฌ ุฅูู ุงูุญุฏ ุงูุฃุฏูู.  ูุญุณู ุงูุญุธ ุ ูุฐู ุงูุดุฌุฑุชูู ุชุชุฒุงูู.  ูู ุงูุณูู ุฅุซุจุงุช ุฐูู ุจุงุณุชุจุฏุงู ุฃูุฒุงู ุงูุญูุงู ุจุงูููุบุงุฑูุชูุงุช ุงูุฎุงุตุฉ ุจูุง. <br><br>  ุงูุฎูุงุฑุฒููุงุช ุงูุฃูุซุฑ ุดูุฑุฉ ูุจูุงุก ุดุฌุฑุฉ ุชูุชุฏ ุงูุญุฏ ุงูุฃุฏูู ูู ุฎูุงุฑุฒููุงุช ุจุฑููุง ููุฑุงุณูุงู. <br><br>  ูู ุญุงูุฉ ุงูุฑุณูู ุงูุจูุงููุฉ ุงููุซููุฉ ุ ุชุญุชูู ุฎูุงุฑุฒููุฉ Prym ุนูู ุงูููุงุฑุจุงุช O (N <sup>2</sup> ) ุ ูุงูุชู ุ ูุธุฑูุง ููุชูููุฏ N &lt;10 <sup>6</sup> ุ ูุง ุชุณูุญ ุจุงุณุชุฎุฏุงููุง ูุญู ูุงูู ูููุดููุฉ.  (ููู ูุงุญุธ ุฃูู ุชู ุชุฌููุน ุจูุงูุงุช ุงูุงุฎุชุจุงุฑ ุจุญูุซ ุณุฌู ุงูุญู ูุน ุงูููุงุฑุจูู ุงููุดุงุฑ ุฅูููู ูุตู ุงูููุทุฉ ุจุงูุถุจุท) <br><br>  ุชุทุจูู ุณุงุฐุฌ ูุฎูุงุฑุฒููุฉ Kruskal ุงูุฐู ูุณุชุฎุฏู ุตููููุง ููุญูุงุธ ุนูู ูุนูููุงุช ุญูู ุงูุชูููู ุงูุญุงูู ููููููุงุช ุงููุชุตูุฉ ุจุงูุฑุณู ุงูุจูุงูู ูู ููุงุฑุจุงุช O (M log M + N <sup>2</sup> ).  ููุง ูู ูุง ูุนุงุฏู O (N <sup>2</sup> ).  ููุญุตูู ุนูู ุญู ูุงูู ุ ุชุญุชุงุฌ ุฅูู ุงุณุชุฎุฏุงู ุจููุฉ ุจูุงูุงุช ุชูุนุฑู ุจุงุณู ูุธุงู ุงุชุญุงุฏ ูู ุงูุงุฑุชุจุงุท (DSU). <br><br>  ุชุชูุญ ูู DSU ุฅุฌุฑุงุก ุนูููุชูู: find (x) ุฃูุฌุฏ "ุฒุนูู" ุงููุฌููุนุฉ ุงูุชู ููุชูู ุฅูููุง x (ูุชู ุชุฑุฌูุฉ ุงูุฒุนูู ุนู ุทุฑูู ุงูุญูู ุฅูู ุฑูู ุงููุฌููุนุฉ) ุ  ุงุชุญุงุฏ (xุ y) ูุฌูุน ุจูู ุงููุฌููุนุงุช ุงูุชู ููุชูู ุฅูููุง x ู y. <br><br>  ุงุณุชุฏูุงู ุถุบุท ุงููุณุงุฑ ูุฑุชุจุฉ ุงูุฌูุน ุจูู ุงูุงุณุชุฏูุงู ุ ูุนุงุฏุฉ ูุง ุชุณุชุฎุฏู ูู ุชูููุฐ ูููู ุ ูุงูุณูุงุญ ูููุฑุก ูุชุญููู ุณููู ููุงุฑุจ ุ ูู ุงูุญุงูุงุช ุงูุนูููุฉ ูุนุงุฏู O (1). <br><br>  ุงูุชุฑุถ ุฃููุง ุงุณุชุฎุฏููุง DSU ููุญูุงุธ ุนูู ูุนูููุงุช ุญูู ููููุงุช ุงุชุตุงู ุงูุฑุณู ุงูุจูุงูู ุฃุซูุงุก ุชูููุฐ ุฎูุงุฑุฒููุฉ Kraskal.  ุจุนุฏ ุฐูู ุณูููู ุงูุณููู ุงูููุงุฑุจ ููุฎูุงุฑุฒููุฉ ูู O (M log M + N) = O (M log M). <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฑูุฒ ุงููุฑุงุฑ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CablesSolution</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> MODULLO = <span class="hljs-number"><span class="hljs-number">2147483647L</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ InputReader in = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InputReader(System.in); PrintWriter pw = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PrintWriter(System.out); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> n = in.readInt(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> k = in.readInt(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> m = in.readInt(); DisjointUnionSets dsu = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DisjointUnionSets(n + <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; k; i++) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> u = in.readInt(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> v = in.readInt(); dsu.union(u, v); } Edge[] edges = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Edge[m]; <span class="hljs-comment"><span class="hljs-comment">// (4 + 4 + 8) * 2M = 32M for (int i = 0; i &lt; m; i++) { int u = in.readInt(); int v = in.readInt(); long p = in.readLong(); edges[i] = new Edge(u, v, p); } Arrays.sort(edges); long res = 1; boolean addedEdge = false; for (Edge edge : edges) { if (!dsu.check(edge.getU(), edge.getV())) { dsu.union(edge.getU(), edge.getV()); res = (res * edge.getP()) % MODULLO; addedEdge = true; } } if (!dsu.isJoint()) { res = -1; } else if (!addedEdge) { res = 0; } pw.println(res); pw.flush(); pw.close(); } public static class DisjointUnionSets { private int[] rank; // 4M private int[] parent; // 4M DisjointUnionSets(int size) { rank = new int[size]; parent = new int[size]; for (int i = 0; i &lt; size; i++) { parent[i] = i; } } int find(int target) { if (parent[target] != target) { parent[target] = find(parent[target]); } return parent[target]; } boolean check(int x, int y) { return find(x) == find(y); } void union(int x, int y) { int xRoot = find(x); int yRoot = find(y); if (xRoot == yRoot) { return; } if (rank[xRoot] &lt; rank[yRoot]) { parent[xRoot] = yRoot; } else if (rank[yRoot] &lt; rank[xRoot]) { parent[yRoot] = xRoot; } else { parent[yRoot] = xRoot; rank[xRoot] = rank[xRoot] + 1; } } boolean isJoint() { int parent = -1; for (int i = 1; i &lt; rank.length; i++) { if (parent == -1) { parent = find(i); } else { if (parent != find(i)) { return false; } } } return true; } } private static class Edge implements Comparable&lt;Edge&gt; { private int u; private int v; private long p; Edge(int u, int v, long p) { this.u = u; this.v = v; this.p = p; } int getU() { return u; } int getV() { return v; } long getP() { return p; } @Override public int compareTo(Edge edge) { return Long.compare(p, edge.p); } } }</span></span></code> </pre> </div></div><br><h2 style=";text-align:right;direction:rtl">  ุฌูู ููุฏุช </h2>  <sup><i>ุจูุงุณุทุฉ: ุฏููุชุฑู ููุณูู</i></sup> <br><br>  ุจุงููุธุฑ ุฅูู ููุงููุณ ุงูุชุทุจูู ุ ุงูุชุฑุถ ุงููุฏูุฑ ูุงุณููู ุฃู ุงููุงุฌูุฉ ุชูุชูุฑ ุฅูู ุจุนุถ ุงูุญูุงุณุฉ ุงูุชู ูู ุดุฃููุง ุฃู ุชุนูู ุงููุณุชุฎุฏููู.  ูุฐูู ุ ุทูุจ ูุงุณููู ูุชูููุน ูุงุฌูุฉ ุงูุชุทุจูู ููุตูู ูุงุฑูุง.  ุจุนุฏ ุจุถุนุฉ ูุฎุทุทุงุช ุ ุจุฒุบุช ูุงุฑูุง!  ุงูููุฑุฉ ูู ุงูุจุฏุงูุฉ ุชููู ุนูู ุงูุณุทุญ - ุงุชุถุญ ูููุง ุจุนุฏ ุ ุชุญุชุงุฌ ุฅูู ุฅุถุงูุฉ ุฑุณูู ูุชุญุฑูุฉ ูููุต.  ุงุฎุชุฑูุง ุงูุนุฏูุฏ ูู ุงููุตูุต ูุตูุนูุง ุฑุณูููุง ูุชุญุฑูุฉ.  ูุณูุก ุงูุญุธ ุ ุจุนุฏ ุงูุงูุชูุงุก ูู ุงูุนูู ุ ุชู ุฎูุท ุงูุฑุณูู ุงููุชุญุฑูุฉ ุ ูููุฏ ุงููุต ุงููุตุฏุฑ ููู ูููุง.  ุณุงุนุฏ ุงููุฑูู ุนูู ููู ุงููุต ุงููุชุญุฑู ูู ูู ุญุงูุฉ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุชูุณููุงุช I / O ุ ูุซุงู ุ ูููุงุญุธุงุช</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><h4 style=";text-align:right;direction:rtl">  ุชูุณูู ุงูุฅุฏุฎุงู </h4><br>  ูุฏูู ุงูุนุฏูุฏ ูู ุงููููุงุช ุงููุตูุฉ ูุน ุงูุฑุณูู ุงููุชุญุฑูุฉ ุงููุญุฏุฏุฉ ุ ููู ูููุง ุชุญุชุงุฌ ุฅูู ุชุญุฏูุฏ ุงููุต ุงูููุงุณุจ. <br><br>  <a href="https://yadi.sk/d/Pidz4td7MeHV3Q">ุฑุงุจุท ุฅูู ุงูุฃุฑุดูู ูุน ูููุงุช ุงูุฑุณูู ุงููุชุญุฑูุฉ</a> . <br><br>  ูุชู ุชุนุฑูู ูู ุงูุฑุณูู ุงููุชุญุฑูุฉ ุจูุงุณุทุฉ ุงููุนููุงุช: <br>  - <b>canvasWidth canvasHeight</b> - ูุชู ุชุญุฏูุฏ ุนุฑุถ ูุงุฑุชูุงุน ุงูุญุงููุฉ ููุฑุณูู ุงููุชุญุฑูุฉ ุ ูู ุงูุณุทุฑ ุงูุฃูู ูู ุงูุฅุฏุฎุงู ุ <br>  - <b>numbersCount</b> - ูุชู ุชุนููู ุนุฏุฏ ุงูุฃุฑูุงู ุงููุฑุงุฏ ุชุญุฑูููุง ูู ุงูุณุทุฑ ุงูุซุงูู ูู ุงูุฅุฏุฎุงู ุ <br>  - <b>ุงููุณุชุทูู centerX centerY ููู ุฒุงููุฉ ุงุฑุชูุงุน ุงูุนุฑุถ</b> - ุฅุนูุงู ุงููุณุชุทูู ุงููุชูุฑูุฒ ุนูุฏ ููุทุฉ (centerX ุ centerY) ุ ุงูุนุฑุถ ร ุงูุงุฑุชูุงุน ุ ุฏุฑุฌุฉ ุฒุงููุฉ ุฒุงููุฉ ุงูุฏูุฑุงู ูุงูููู ุงููุญุฏุฏ ุ <br>  - <b>ุฏุงุฆุฑุฉ centerX centerY ููู ูุตู ุงููุทุฑ</b> - ุฅุนูุงู ุฏุงุฆุฑุฉ ูุน ุงููุฑูุฒ ูู ุงูููุทุฉ (centerX ุ centerY) ุ ุฏุงุฆุฑุฉ ูุตู ูุทุฑูุง ุฏุงุฆุฑุฉ ูุตู ูุทุฑูุง ูุงูููู ุงููุญุฏุฏ. <br><br>  ูููู ุฃู ุชุญุชูู ูุนููุฉ ุงูููู ุนูู ุงูููู {ุงูุฃุณูุฏ ูุงูุฃุญูุฑ ูุงูุฃุจูุถ ูุงูุฃุตูุฑ}.  ุชุฃุฎุฐ ุงููุนููุฉ ุงูุฒุงููุฉ ุงูููู ูู ุงููุทุงู (-359 ุฏุฑุฌุฉ ุ 359 ุฏุฑุฌุฉ). <br><br>  ููู ุฑูู ุ ูููู ุชุญุฏูุฏ ุนุฏุฉ ุฃููุงุน ูู ุงูุฑุณูู ุงููุชุญุฑูุฉ ูู ููุช ูุงุญุฏ ุ ูุงูุชู ูุชู ุชุทุจูููุง ุจุงูุชูุงุฒู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุง ูููู ุชุทุจูู ูู ููุน ูู ุงูุฑุณูู ุงููุชุญุฑูุฉ ุฃูุซุฑ ูู ูุฑุฉ ุนูู ุงูุดูู.  ูุชู ุชุนููู ุนุฏุฏ ุงูุฑุณูู ุงููุชุญุฑูุฉ ุงููุทุจูุฉ ุนูู ุงูุดูู ุจุงูุฑูู 0 โฉฝ figureAnimationsCount โฉฝ ุจุนุฏ ุฅุนูุงู ุงูุดูู ูุจุงุดุฑุฉู. <br><br>  ุฃููุงุน ุงูุฑุณูู ุงููุชุญุฑูุฉ: <br>  - <b>ุชุญุฑูู ุฒูู destX desty [ุฏูุฑุฉ]</b> - ููู ุฑูู ุฅูู ููุทุฉ (destX ุ destY) ูู ุงููููู ุซุงููุฉ ูู ุงูููุช. <br>  - <b>ุชุฏููุฑ ุฒุงููุฉ ุงูููุช [ุฏูุฑุฉ]</b> - ุฏูุฑุงู ุงูุดูู ุจุฏุฑุฌุงุช ุฒุงููุฉ ูู ูููู ุซุงููุฉ. <br>  - <b>ูููุงุณ ููุช ูููุงุณ ุงูุฏุฑุฌุงุช [ุฏูุฑุฉ]</b> - ูู ุจุฒูุงุฏุฉ ุงูุฑูู ุจููุฏุงุฑ ูููุงุณ ุงูุฏูู ุจุงููููู ุซุงููุฉ. <br><br>  ุฅุฐุง ุชู ุชุญุฏูุฏ ุงููุนููุฉ ุฏูุฑุฉ ุ ุซู ูู ููุงูุฉ ุงูุฑุณูู ุงููุชุญุฑูุฉ ุ ุชุณุชูุฑ ุญุฑูุชูุง ูู ุงูุงุชุฌุงู ุงููุนุงูุณ. <br><br><h4 style=";text-align:right;direction:rtl">  ุชูุณูู ุงูุฅุฎุฑุงุฌ </h4><br>  ุงููุต ุงููุนุฑูุถ ุนูุฏ ุชุดุบูู ุงูุฑุณูู ุงููุชุญุฑูุฉ.  ููู ููู ุฑุณูู ูุชุญุฑูุฉ ุ ูุฌุจ ุงูุฅุดุงุฑุฉ ุฅูู ุงูุฅุฌุงุจุฉ ูู ุณุทุฑ ุฌุฏูุฏ.  ุญุงูุฉ ุงูุฃุญุฑู ูู ุงูุงุณุชุฌุงุจุฉ ูููู ุฃู ุชููู ุชุนุณููุฉ.  ูุชู ุชูููู ูู ูุต ููุฌูุฏ ูู ุงูุฑุณูู ุงููุชุญุฑูุฉ ุจู 10 ููุงุท. <br><br><h4 style=";text-align:right;direction:rtl">  ูุซุงู </h4><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  <b>ุฏุฎูู</b> </td><td>  <b>ุงุณุชูุชุงุฌ</b> </td></tr><tr><td> <code>400 400 <br> 10 <br> rectangle 69.000 280.000 24.000 24.000 0.000 black <br> 1 <br> move 251.000 72.000 10000 cycle <br> rectangle 256.000 188.000 24.000 48.000 0.000 black <br> 0 <br> rectangle 232.000 152.000 72.000 24.000 0.000 black <br> 0 <br> rectangle 35.000 400.000 24.000 24.000 0.000 black <br> 1 <br> move 285.000 -96.000 10000 cycle <br> rectangle 244.000 248.000 48.000 24.000 0.000 black <br> 0 <br> rectangle 300.000 117.000 24.000 48.000 0.000 black <br> 1 <br> move 112.000 164.000 5000 <br> rectangle 136.000 200.000 72.000 24.000 0.000 black <br> 0 <br> rectangle 160.000 236.000 24.000 48.000 0.000 black <br> 0 <br> rectangle 208.000 224.000 24.000 72.000 44.797 black <br> 1 <br> rotate -44.797 5000 <br> rectangle 232.000 200.000 24.000 24.000 0.000 black <br> 0</code> </td> <td> <code>42</code> </td> </tr></tbody></table></div><h4 style=";text-align:right;direction:rtl">  ุงูููุงุญุธุงุช </h4><br>  ุชุตูุฑ ููุฑุณูู ุงููุชุญุฑูุฉ ูู ุงููุซุงู: <br><br><img src="https://habrastorage.org/webt/35/k7/3k/35k73kldyohxgp1pqpsfooq9lyy.gif"></div></div><br><h4 style=";text-align:right;direction:rtl">  ูุฑุงุฑ </h4><br>  ูุงูุช ุงููููุฉ ูุชูููุฐ ุงูุฑุณูู ุงููุชุญุฑูุฉ.  ุฅุฐุง ุชู ุชูููุฐ ุงูุฑุณูู ุงููุชุญุฑูุฉ ุจุดูู ุตุญูุญ ุ ูุนูุฏ ุงูุชุดุบูู ุ ุชุชู ุฅุถุงูุฉ ุงูุนุฏูุฏ ูู ุงูุนูุงุตุฑ ุงูุฃูููุฉ ุฅูู ูุต ูุงุจู ูููุฑุงุกุฉ.  ูููู ุงูููุงู ุจุงูุฑุณูู ุงููุชุญุฑูุฉ ุจุงุณุชุฎุฏุงู ุฃู ูุณููุฉ - ูุฏูุฌุฉ ูู ุงูููุตุงุช ุงููุญูููุฉ ุฃู ุงูุญููู ุฐุงุช ุงููุณุชูู ุงูุฃุฏูู. <br><br>  ูุซุงู ููุฑุณูู ุงููุชุญุฑูุฉ ( <a href="https://yadi.sk/i/-LWlPWXbM2DbDg">ุฑุงุจุท ุฅูู ููู .mov</a> ): <br><br><img src="https://habrastorage.org/webt/ig/qi/le/igqile0qssc9k4crzwgste6buba.gif"><br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุชุทุจูู ูุซุงู ุจุงุณุชุฎุฏุงู ููุชุจุฉ Tkinter ูู ุจูุซูู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> copy <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> math <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> tkinter <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> enum <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Enum FRAMES_PER_SECOND = <span class="hljs-number"><span class="hljs-number">60</span></span> TIME_BETWEEN_FRAMES = int(<span class="hljs-number"><span class="hljs-number">1000</span></span> / FRAMES_PER_SECOND) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Rectangle</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, left_x, left_y, width, height, color, angle=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> self.center_x = left_x + width / <span class="hljs-number"><span class="hljs-number">2</span></span> self.center_y = left_y + height / <span class="hljs-number"><span class="hljs-number">2</span></span> self.width = width self.height = height self.color = color self.angle = angle <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_left_x</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.center_x - self.width / <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">set_left_x</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, left_x)</span></span></span><span class="hljs-function">:</span></span> self.center_x = left_x + self.width / <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_left_y</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.center_y - self.height / <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">set_left_y</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, left_y)</span></span></span><span class="hljs-function">:</span></span> self.center_y = left_y + self.height / <span class="hljs-number"><span class="hljs-number">2</span></span> left_x = property(get_left_x, set_left_x) left_y = property(get_left_y, set_left_y) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Circle</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, left_x, left_y, radius, color)</span></span></span><span class="hljs-function">:</span></span> self.center_x = left_x + radius self.center_y = left_y + radius self.radius = radius self.color = color self.angle = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_left_x</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.center_x - self.radius <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">set_left_x</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, left_x)</span></span></span><span class="hljs-function">:</span></span> self.center_x = left_x + self.radius <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_left_y</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.center_y - self.radius <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">set_left_y</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, left_y)</span></span></span><span class="hljs-function">:</span></span> self.center_y = left_y + self.radius left_x = property(get_left_x, set_left_x) left_y = property(get_left_y, set_left_y) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AnimationType</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Enum)</span></span></span><span class="hljs-class">:</span></span> MOVE = <span class="hljs-number"><span class="hljs-number">1</span></span> ROTATE = <span class="hljs-number"><span class="hljs-number">2</span></span> SCALE = <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Animation</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, time, cycle)</span></span></span><span class="hljs-function">:</span></span> self.time = time self.cycle = cycle <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scale</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, time_spent)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, time_spent)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">angle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, time_spent)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_cycle_progress</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, time_spent)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.cycle: cycle_time = time_spent % (self.time * <span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> cycle_time &gt; self.time: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> - (cycle_time - self.time) / self.time <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> cycle_time / self.time <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> time_spent &lt; self.time: cycle_time = time_spent % self.time <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> cycle_time / self.time <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MoveAnimation</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Animation)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, figure, to_x, to_y, time, cycle)</span></span></span><span class="hljs-function">:</span></span> super().__init__(time, cycle) self.from_x = figure.center_x self.from_y = figure.center_y self.to_x = to_x self.to_y = to_y <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, time_spent)</span></span></span><span class="hljs-function">:</span></span> cycle_progress = super()._cycle_progress(time_spent) diff_x = self.to_x - self.from_x diff_y = self.to_y - self.from_y <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> diff_x * cycle_progress, diff_y * cycle_progress <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ScaleAnimation</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Animation)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, destination_scale, time, cycle)</span></span></span><span class="hljs-function">:</span></span> super().__init__(time, cycle) self.destination_scale = destination_scale <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scale</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, time_spent)</span></span></span><span class="hljs-function">:</span></span> cycle_progress = super()._cycle_progress(time_spent) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> + (self.destination_scale - <span class="hljs-number"><span class="hljs-number">1</span></span>) * cycle_progress <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RotateAnimation</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Animation)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, rotate_angle, time, cycle)</span></span></span><span class="hljs-function">:</span></span> super().__init__(time, cycle) self.rotate_angle = rotate_angle <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">angle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, time_spent)</span></span></span><span class="hljs-function">:</span></span> cycle_progress = super()._cycle_progress(time_spent) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.rotate_angle * cycle_progress <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Transformer</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scale</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, scale)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, diff_x, diff_y)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rotate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, angle)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RectangleTransformer</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Transformer)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, rectangle)</span></span></span><span class="hljs-function">:</span></span> self.rectangle = rectangle <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scale</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, scale)</span></span></span><span class="hljs-function">:</span></span> self.rectangle.width = self.rectangle.width * scale self.rectangle.height = self.rectangle.height * scale <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, diff_x, diff_y)</span></span></span><span class="hljs-function">:</span></span> self.rectangle.center_x = self.rectangle.center_x + diff_x self.rectangle.center_y = self.rectangle.center_y + diff_y <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rotate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, angle)</span></span></span><span class="hljs-function">:</span></span> self.rectangle.angle = (self.rectangle.angle + angle) % <span class="hljs-number"><span class="hljs-number">360</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CircleTransformer</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Transformer)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, circle)</span></span></span><span class="hljs-function">:</span></span> self.circle = circle <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scale</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, scale)</span></span></span><span class="hljs-function">:</span></span> self.circle.radius = self.circle.radius * scale <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, diff_x, diff_y)</span></span></span><span class="hljs-function">:</span></span> self.circle.center_x = self.circle.center_x + diff_x self.circle.center_y = self.circle.center_y + diff_y <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rotate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, angle)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Drawer</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, canvas, spent_time)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AnimationApplier</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">apply_animations</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(spent_time, transformer, animations)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> animation <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> animations: transformer.scale(animation.scale(spent_time)) diff_x, diff_y = animation.move(spent_time) transformer.move(diff_x, diff_y) transformer.rotate(animation.angle(spent_time)) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RectangleDrawer</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Drawer)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, rectangle, animations)</span></span></span><span class="hljs-function">:</span></span> self.rectangle = rectangle self.animations = animations <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, canvas, spent_time)</span></span></span><span class="hljs-function">:</span></span> rect = self._transform_rect_with_animations(spent_time) rect_points = self._get_rectangle_points(rect) rotated_points = self._rotate(rect_points, rect.angle, [rect.center_x, rect.center_y]) canvas.create_polygon(rotated_points, fill=rect.color) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_transform_rect_with_animations</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, spent_time)</span></span></span><span class="hljs-function">:</span></span> rect = copy.copy(self.rectangle) transformer = RectangleTransformer(rect) AnimationApplier.apply_animations(spent_time, transformer, self.animations) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> transformer.rectangle @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_get_rectangle_points</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(rect)</span></span></span><span class="hljs-function">:</span></span> half_width = rect.width / <span class="hljs-number"><span class="hljs-number">2</span></span> half_height = rect.height / <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ [rect.center_x - half_width, rect.center_y - half_height], [rect.center_x - half_width, rect.center_y + half_height], [rect.center_x + half_width, rect.center_y + half_height], [rect.center_x + half_width, rect.center_y - half_height] ] @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_rotate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(points, angle, center)</span></span></span><span class="hljs-function">:</span></span> angle = math.radians(angle) cos_val = math.cos(angle) sin_val = math.sin(angle) cx, cy = center new_points = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x_old, y_old <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> points: x_old -= cx y_old -= cy x_new = x_old * cos_val - y_old * sin_val y_new = x_old * sin_val + y_old * cos_val new_points.append([x_new + cx, y_new + cy]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> new_points <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CircleDrawer</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Drawer)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, circle, animations)</span></span></span><span class="hljs-function">:</span></span> self.circle = circle self.animations = animations <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, canvas, spent_time)</span></span></span><span class="hljs-function">:</span></span> circle = self._transform_rect_with_animations(spent_time) size = circle.radius * <span class="hljs-number"><span class="hljs-number">2</span></span> canvas.create_oval(circle.left_x, circle.left_y, circle.left_x + size, circle.left_y + size, fill=circle.color) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_transform_rect_with_animations</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, spent_time)</span></span></span><span class="hljs-function">:</span></span> circle = copy.copy(self.circle) transformer = CircleTransformer(circle) AnimationApplier.apply_animations(spent_time, transformer, self.animations) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> transformer.circle <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Scene</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, canvas, animated_symbols)</span></span></span><span class="hljs-function">:</span></span> self.canvas = canvas self.drawers = self._get_generated_drawers(animated_symbols) @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_get_generated_drawers</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(animated_symbols)</span></span></span><span class="hljs-function">:</span></span> drawers = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> animated_symbol <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> animated_symbols: figure = animated_symbol.figure animations = animated_symbol.animations <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> isinstance(figure, Rectangle): drawer = RectangleDrawer(figure, animations) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> isinstance(figure, Circle): drawer = CircleDrawer(figure, animations) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> Exception() drawers.append(drawer) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> drawers <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, time_spent)</span></span></span><span class="hljs-function">:</span></span> self.canvas.delete(<span class="hljs-string"><span class="hljs-string">"all"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> drawer <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.drawers: drawer.draw(self.canvas, time_spent) self.canvas.pack() <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Timer</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> self.started_time = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> self.started_time = self._current_time() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">time_spent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> current_time = self._current_time() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> current_time - self.started_time @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_current_time</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> int(round(time.time() * <span class="hljs-number"><span class="hljs-number">1000</span></span>)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scene_loop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(window, scene, timer)</span></span></span><span class="hljs-function">:</span></span> time_spent = timer.time_spent() scene.draw(time_spent) window.after(TIME_BETWEEN_FRAMES, scene_loop, window, scene, timer) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">configure_window_location</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(window, canvas_width, canvas_height)</span></span></span><span class="hljs-function">:</span></span> screen_width = window.winfo_screenwidth() screen_height = window.winfo_screenheight() x = (screen_width / <span class="hljs-number"><span class="hljs-number">2</span></span>) - (canvas_width / <span class="hljs-number"><span class="hljs-number">2</span></span>) y = (screen_height / <span class="hljs-number"><span class="hljs-number">2</span></span>) - (canvas_height / <span class="hljs-number"><span class="hljs-number">2</span></span>) window.geometry(<span class="hljs-string"><span class="hljs-string">'%dx%d+%d+%d'</span></span> % (canvas_width, canvas_height, x, y)) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AnimatedSymbol</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, figure, animations)</span></span></span><span class="hljs-function">:</span></span> self.figure = figure self.animations = animations <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AnimationsParser</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse_animated_symbols</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, file_path)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> open(file_path) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> f: lines = f.readlines() canvas_width, canvas_height = self._parse_size(lines[<span class="hljs-number"><span class="hljs-number">0</span></span>]) symbols_count = int(lines[<span class="hljs-number"><span class="hljs-number">1</span></span>]) animated_symbols = [] current = <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(symbols_count): figure = self._parse_figure(lines[current]) current += <span class="hljs-number"><span class="hljs-number">1</span></span> symbol_animations = self._parse_animations(figure, current, lines) current += <span class="hljs-number"><span class="hljs-number">1</span></span> + len(symbol_animations) animated_symbol = AnimatedSymbol(figure, symbol_animations) animated_symbols.append(animated_symbol) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> canvas_width, canvas_height, animated_symbols <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_parse_size</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, line)</span></span></span><span class="hljs-function">:</span></span> parts = line.split(<span class="hljs-string"><span class="hljs-string">" "</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> int(parts[<span class="hljs-number"><span class="hljs-number">0</span></span>]), int(parts[<span class="hljs-number"><span class="hljs-number">1</span></span>]) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_parse_animations</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, figure, current, lines)</span></span></span><span class="hljs-function">:</span></span> animations = [] animations_count = int(lines[current]) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(animations_count): parts = lines[current + i + <span class="hljs-number"><span class="hljs-number">1</span></span>].split(<span class="hljs-string"><span class="hljs-string">" "</span></span>) animation = self._parse_animation(figure, parts) animations.append(animation) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> animations <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_parse_figure</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, line)</span></span></span><span class="hljs-function">:</span></span> parts = line.split(<span class="hljs-string"><span class="hljs-string">" "</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> parts[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-string"><span class="hljs-string">'rectangle'</span></span>: center_x = float(parts[<span class="hljs-number"><span class="hljs-number">1</span></span>]) center_y = float(parts[<span class="hljs-number"><span class="hljs-number">2</span></span>]) width = float(parts[<span class="hljs-number"><span class="hljs-number">3</span></span>]) height = float(parts[<span class="hljs-number"><span class="hljs-number">4</span></span>]) angle = float(parts[<span class="hljs-number"><span class="hljs-number">5</span></span>]) color = parts[<span class="hljs-number"><span class="hljs-number">6</span></span>].replace(<span class="hljs-string"><span class="hljs-string">'\n'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>) figure = Rectangle(center_x - width / <span class="hljs-number"><span class="hljs-number">2</span></span>, center_y - height / <span class="hljs-number"><span class="hljs-number">2</span></span>, width, height, color, angle) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> parts[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-string"><span class="hljs-string">'circle'</span></span>: center_x = float(parts[<span class="hljs-number"><span class="hljs-number">1</span></span>]) center_y = float(parts[<span class="hljs-number"><span class="hljs-number">2</span></span>]) radius = float(parts[<span class="hljs-number"><span class="hljs-number">3</span></span>]) color = parts[<span class="hljs-number"><span class="hljs-number">4</span></span>].replace(<span class="hljs-string"><span class="hljs-string">'\n'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>) figure = Circle(center_x - radius, center_y - radius, radius, color) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> Exception() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> figure <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_parse_animation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, figure, parts)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> parts[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-string"><span class="hljs-string">"move"</span></span>: animation = self._parse_move_animation(figure, parts) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> parts[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-string"><span class="hljs-string">"scale"</span></span>: animation = self._parse_scale_animation(parts) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> parts[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-string"><span class="hljs-string">"rotate"</span></span>: animation = self._parse_rotate_animation(parts) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> Exception() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> animation @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_parse_move_animation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(figure, parts)</span></span></span><span class="hljs-function">:</span></span> to_x = float(parts[<span class="hljs-number"><span class="hljs-number">1</span></span>]) to_y = float(parts[<span class="hljs-number"><span class="hljs-number">2</span></span>]) time = float(parts[<span class="hljs-number"><span class="hljs-number">3</span></span>]) cycle = len(parts) &gt;= <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MoveAnimation(figure, to_x, to_y, time, cycle) @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_parse_scale_animation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(parts)</span></span></span><span class="hljs-function">:</span></span> destination_scale = float(parts[<span class="hljs-number"><span class="hljs-number">1</span></span>]) time = float(parts[<span class="hljs-number"><span class="hljs-number">2</span></span>]) cycle = len(parts) &gt;= <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ScaleAnimation(destination_scale, time, cycle) @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_parse_rotate_animation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(parts)</span></span></span><span class="hljs-function">:</span></span> rotate_angle = float(parts[<span class="hljs-number"><span class="hljs-number">1</span></span>]) time = float(parts[<span class="hljs-number"><span class="hljs-number">2</span></span>]) cycle = len(parts) &gt;= <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> RotateAnimation(rotate_angle, time, cycle) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> canvas_width, canvas_height, animated_symbols = \ AnimationsParser().parse_animated_symbols(<span class="hljs-string"><span class="hljs-string">'animation_path.txt'</span></span>) window = tkinter.Tk() configure_window_location(window, canvas_width, canvas_height) canvas = tkinter.Canvas(window, width=canvas_width, height=canvas_height) scene = Scene(canvas, animated_symbols) timer = Timer() timer.start() window.after(TIME_BETWEEN_FRAMES, scene_loop, window, scene, timer) window.mainloop() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">"__main__"</span></span>: main()</code> </pre> </div></div><br><h2 style=";text-align:right;direction:rtl">  C. ุชุชุฑูุณ ุจูุช </h2>  <sup><i>ุงููุคูู: ุฏููุชุฑู ูููุฏููุณูู</i></sup> <br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  ุงููููุฉ </td><td>  1 ุซุงููุฉ </td></tr><tr><td>  ุญุฏ ุงูุฐุงูุฑุฉ </td><td>  256 ููุบุงุจุงูุช </td></tr><tr><td>  ุฏุฎูู </td><td>  ุงููุฏุฎูุงุช ุงูููุงุณูุฉ ุฃู ุงููุฏุฎูุงุช </td></tr><tr><td>  ุงุณุชูุชุงุฌ </td><td>  ุงูุฅุฎุฑุงุฌ ุงูููุงุณู ุฃู ุงูุฅุฎุฑุงุฌ </td></tr></tbody></table></div>  ูุญุจ Busy Arkady ูุถุงุก ููุช ูุฑุงุบู ูู ุงููุดุงุฑูุฉ ูู ุนุฏุฉ ูุฒุงุฏุงุช ูุฃุฌูุฒุฉ ุงูููุจููุชุฑ ุงููุฏููุฉ.  ุนูู ูุงุญุฏ ูููู ุ ุฑุฃู ุงูููููุฏูุฑู ุงูุฐู ุฑุฃู ุงูุญูุงุฉ ุ ูุงูุชู ุณุงุฑุน ุฃุฑูุงุฏู ุฅูู ุดุฑุงุฆูุง.  ููู ูุฐู ุงููุฑุฉ ุ ูู ููุชุณุจ ููุท ุงูุฃุฌูุฒุฉ ุ ูููู ุฃูุถูุง ุงูุจุฑูุฌูุงุช ุ ูุงูุช ููุงู ููุงุฌุฃุฉ ุชูุชุธุฑู ุนูู ุงูููุจููุชุฑ - ูุงู ููุงู Tetris ูู ุชูุชู ูู ูุจู ุงููุงูู ุงูุณุงุจู.  ูู ุฎูุงู ุงูุฎุจุฑุฉ ุ ูุดู ุฃุฑูุงุฏู ุนู ููุงุนุฏู. <br><br>  ูุชู ุนุฑุถ ุงููุงุนุจ ุนูู ุญูู Tetris ุจุญุฌู 10 ุฎูุงูุง ูุจุงุฑุชูุงุน ุบูุฑ ูุญุฏูุฏ.  ูุงุฆูุฉ ุจุฌููุน tetramino ุงูุชู ูุฌุจ ุฃู ุชูุถุน ูู ุงูููุฏุงู.  ุชุชุณุงูุท Tetramino ุนูู ุงูููุฑ ุ ุฃู ุ ูุชู ุชุนููู ููุถุนูุง ูุฑุฉ ูุงุญุฏุฉ ููุญุฑูุฉ ุงูููุงุจูุฉ ุ ูุฎูุงู ุงูุฎุฑูู ุ ูุง ูููู ุชุบููุฑ ุงูููุถุน ูุงูุฏูุฑุงู. <br><br>  ููุน Tetramino ุญุชู ูุชุนุซุฑ ูู ุงูุฃุณูู ุฃู ุนูู ุดุฎุตูุฉ ุฃุฎุฑู.  ุฅุฐุง ุชู ููุก ุตู ูุงูู ูู ุงูุญูู ูู ููุณ ุงูููุช ุ ูุฎุชูู ูุฐุง ุงูุตู ุ ูููุน ูู ูุง ูููู ุฃุนูู ุฎููุฉ ูุงุญุฏุฉ. <br><br>  ูุชู ุชุญุฏูุฏ ุนุฏุฏ ุงูููุงุท ุงูุชู ุชู ุงูุญุตูู ุนูููุง ุจุนุฏุฏ ุงูุตููู ุงููุฏูุฑุฉ.  ุชูุชูู ุงููุนุจุฉ ุนูุฏูุง ูุชู ูุถุน ุฌููุน ุงููุทุน ุงูููุชุฑุญุฉ.  ุชุฑู ูุคูู ุงููุนุจุฉ ูุฑุงุกู ุฌุฏูู ุงูุณุฌูุงุช ุ ุญูุซ ุฃุฎุฐ ูู ููุณู ุฌููุน ุงูุฃูุงูู. <br><br>  ููุง ุฐูุฑ ุขููุง ุ ุฃุฑูุงุฏู ูู ุดุฎุต ูุดุบูู ุฌุฏุง.  ูููู ุฃูุถุง ููุงูุฑุฉ ุฌุฏุง.  ุณุงุนุฏู ูู ุฃู ูุตุจุญ ุงูุฃูุถู ูู ูุฐู ุงููุนุจุฉ. <br><br>  <b>ุฌุฏูู ุงูุฃุฑูุงู ูุงูููุนุทูุงุช ุงููุญุชููุฉ</b> <br><img src="https://habrastorage.org/webt/kq/l2/su/kql2suwzyyoghl7iat7ryncfaty.png"><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุชูุณููุงุช I / O ุ ูุซุงู ุ ูููุงุญุธุงุช</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><h4 style=";text-align:right;direction:rtl">  ุชูุณูู ุงูุฅุฏุฎุงู </h4><br>  ุจูุงูุงุช ุงูุฅุฏุฎุงู ููุฌูุฏุฉ ูู ุงููููุงุช input1.txt ุ input2.txt ุ ... ุ input10.txt.  <a href="https://yadi.sk/d/YEFUMhJnnQsBYQ">ุงูุฃุฑุดูู ูุน ุงููููุงุช</a> . <br><br>  ูุญุชูู ุงูุณุทุฑ ุงูุฃูู ุนูู ุนุฏุฏ ููุฌุจ ูู ุงูุฃุฑูุงู N (N โค 100). <br><br>  ูู ูู ุณุทุฑ ูุงุญู ุ ูุชู ููู ุญุฑู ูุงุชููู ูุงุญุฏ ูู ุงููุฌููุนุฉ <code>{'O', 'S', 'Z', 'L', 'J', 'T', 'I'}</code> . <br><br>  ููุซู ูู ุฑูุฒ ุดูู tetramino. <br><br><h4 style=";text-align:right;direction:rtl">  ุชูุณูู ุงูุฅุฎุฑุงุฌ </h4><br>  ููุชุญูู ุ ูุฌุจ ุฅุฑุณุงู ุฃุฑุดูู ูุถุบูุท ุจู ูููุงุช ุงูุฅุฎุฑุงุฌ ุงูููุฌูุฏุฉ ูู ุฌุฐุฑู ูุน ุฃุณูุงุก output1.txt ุ output2.txt ุ ... ุ output10.txt ุ ุญูุซ ูุฌุจ ุฃู ูุชูุงูู ููู ุงูุฅุฎุฑุงุฌ outputX.txt ูุน ููู ุงูุฅุฏุฎุงู inputX.txt. <br>  ูุชููู ููู ุงูุงุณุชุฌุงุจุฉ ูู ุฎุทูุท N ุ ูู ูููุง ูุชูุงูู ูุน tetramino ูู ุจูุงูุงุช ุงูุฅุฏุฎุงู ููุชููู ูู ุฑูููู A <sub>i</sub> ู B <sub>i</sub> ุ ููุง ูุดูุฑ ุฅูู ุชุญุฑู ุงููุงุนุจ ุจุงูุดูู ุงูููุชุฑุญ: <br><br>  1. A ุชุดูุฑ ุฅูู ุนููุฏ ุนูุตุฑ tetramino ูู ุฃูุตู ุงููุณุงุฑ (1 โค A <sub>i</sub> โค 10). <br>  2. B <sub>i</sub> ุชุดูุฑ ุฅูู ุงุชุฌุงู ุฏูุฑุงู tetramino (1 โค B <sub>i</sub> โค 4). <br><br>  ุฅุฐุง ูุงู ุงูููู ุงููุทููุจ ุบูุฑ ููุฌูุฏ ูู ุงูุฃุฑุดูู ุฃู ุชู ุชููููู ุจุดูู ุบูุฑ ุตุญูุญ ุ ูุณูุชู ููุญ 0 ููุทุฉ ููุงุฎุชุจุงุฑ ุงูููุงุจู. <br><br><h4 style=";text-align:right;direction:rtl">  ูุซุงู </h4><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  <b>ุฏุฎูู</b> </td><td>  <b>ุงุณุชูุชุงุฌ</b> </td></tr><tr><td> <code>15 <br> Z <br> O <br> L <br> O <br> J <br> S <br> T <br> J <br> Z <br> J <br> Z <br> S <br> Z <br> I <br> O</code> </td> <td> <code>1 2 <br> 9 1 <br> 6 4 <br> 9 1 <br> 3 2 <br> 6 1 <br> 1 2 <br> 4 1 <br> 6 2 <br> 3 1 <br> 8 2 <br> 2 2 <br> 4 1 <br> 10 1 <br> 6 1</code> </td> </tr></tbody></table></div><h4 style=";text-align:right;direction:rtl">  ุงูููุงุญุธุงุช </h4><br>  ูู ูุฐุง ุงููุซุงู ุ ุณูุชู ุชุฏููุฑ 4 ุตููู. <br><br>  ุงูุญุงูุฉ ุงูููุงุฆูุฉ ููุญูู: <br><br><img src="https://habrastorage.org/webt/kk/l3/m3/kkl3m3iepvoc6olrzp5mmawvr1y.png"><br><br>  ูุนูููุงุช ุนู ุฑููุฒ ุงูุฎุทุฃ: <br><br>  1. PE - ุญุฏุซ ุฎุทุฃ ูู ุงูุฅุฎุฑุงุฌ (ุนูู ุณุจูู ุงููุซุงู ุ ูุง ููุฌุฏ ูุซู ูุฐุง ุงูุชูุงูุจ ูู ุงูุดูู) <br>  2. WA - ุชู ุชูุฏูู ูุนูููุงุช ุญูู ุฏูุฑุงู ุงูุดูู ูููุถุนู ุจุดูู ุตุญูุญ ุ ูููู ูุฐุง ุงูุชุฑุชูุจ ูุชุฌุงูุฒ ุญุฏูุฏ ุงูุญูู. <br>  3. TL ุ ML ุ OK ุ RE - ูุฐู ุงูุฑููุฒ ููุง ููุณ ุงููุนูู ููุง ูู ุงูุญุงู ูู ููุงุนุฏ ูุธุงู Yandex.Contest. <br><br>  ูุธุฑูุง ูุฃู ุงููุดููุฉ ููุชููุฉ NP ุ ูุง ูุฌุจ ุฃู ูููู ุงูุญู ูู ุงูุฃูุซู ูู ุงููุงุญูุฉ ุงูุฑูุงุถูุฉ.  ูุชู ุชุญุฏูุฏ ูุนุงููุฉ ุงููุฑุงุฑ ูู ุฎูุงู ุนุฏุฏ ุงูููุงุท ุงูุชู ุชู ุชุณุฌูููุง. </div></div><br><h4 style=";text-align:right;direction:rtl">  ูุฑุงุฑ </h4><br>  ูุฐู ูููุฉ ุงุฎุชุจุงุฑ ููุชูุญุฉ.  ุฏุนููุง ูุนุฑูุฉ ูุง ูุนููู ูุฐุง. <br><br>  ูุชููู ุงููุดุงุฑู ุชุญุช ุชุตุฑูู ุฃุฑุดูู ูุถุบูุท ุ ูู ุฌุฐุฑู ุ ุงููููุงุช ุงููุตูุฉ input1.txt ุ input2.txt ุ ... ุ input10.txt.  ููู ูุงุญุฏ ูู ูุฌููุนุฉ ูุงุญุฏุฉ ูู ุงูุดุฎุตูุงุช tetramino ุงูุชู ูุชุนูู ุชุฑุชูุจูุง.  ูุงุณุชุฌุงุจุฉ ูู ุงููุดุงุฑู ุ ูู ุงููุชููุน ุฃู ูููู ุฃุฑุดูู zip ุงูุฐู ุชู ุฅูุดุงุคู ุ ูุงูุฐู ูู ุฌุฐุฑู ุ ูู files1.txt ุ output2.txt ุ ... ุ output10.txt.  ูุฌุจ ุฃู ูุญุชูู ูู ููู ุนูู ุชุญุฑูุงุช ุจูุทุงุนุงุช ุจููุณ ุงูุชุฑุชูุจ ุงููุญุฏุฏ ุจู ูู ููู ุงููุฌููุนุฉ ุงูููุงุจูุฉ. <br><br>  ุงููููุฉ NP- ูุงููุฉ ูุงูุญู ูุฆุฉ ูู ุงููุฆุฉ ูู ุงูุจุญุซ ุงูุดุงูู ููุท.  ูุจุงูุชุงูู ุ ูุฅู ุงูุชุนููุฏ ูููู ุจุงุทุฑุงุฏ ูุน ุชุฒุงูุฏ ุนุฏุฏ ุงูุฃุฑูุงู.  ูุธุฑูุง ูุฃูู ููุณ ูู ุงูุถุฑูุฑู ุชุณููู ุฑูุฒ ุงูุญู ุ ููุง ุชูุฌุฏ ูููุฏ ุนููู ูู ุงูุฐุงูุฑุฉ ูููุช ุงูุชูููุฐ. <br><br>  ุชู ุฅุนุทุงุก ููุทุฉ ูุงููุฉ ูููููุฉ ุนูุฏ ุชุญููู ุฌูุฏุฉ "ูุฑุถูุฉ" - ูุงู ูุฌุจ ุฃู ูููู ุงูุญู ูุฏ ุณุฌู 60ูช ูู ุงูููุงุท.  ุณุฌู ุญู ุงููุคูู ูููุดููุฉ ุจููุณ ุงููุฏุฑ ุ ูุงูุฐู ูุงู ูุณุชูุฏ ุฅูู ุฎูุงุฑุฒููุฉ ุฌูููุฉ ูุฏุฑุจุฉ ุนูู ุฃุฏุงุฉ ุนุดูุงุฆูุฉ Tetris ููุงุณูุฉ.  ูุฐุง ุนุดูุงุฆู ูู ููุถุญ <a href="https://tetris.fandom.com/wiki/Random_Generator">ูู ุงูููุงู</a> . <br><br>  ูุง ุชุฎุชูู ุจููุฉ ุงููููุฉ ูุซูุฑูุง ุนู ูุชุงุจุฉ ุฑูุจูุช ููุชุธู ููุชุชุฑูุณ ุ ุฅูุง ุฃู "ูุฃุณ" ุงูููุนุจ ุบูุฑ ูุญุฏูุฏ ุงูุทูู.  ูุฐูู ุ ูุฅู ูุฌุงุญ ุงููุฑุงุฑ ูุง ูุชุญุฏุฏ ุจุนุฏุฏ ุงูููุช ุงูุฐู ูููู ุฃู ููุนุจู ุงูุฑูุจูุช ุฏูู ุชุฌุงูุฒ "ุงูุฒุฌุงุฌ" ุ ูููู ูุฏู ูุฌุงุญู ูู ุชุฑุชูุจ ูุฌููุนุฉ ูุญุฏูุฏุฉ ูู ุงูุดุฎุตูุงุช. <br><br>  ูุงู ุงููุดุงุฑู ุญุฑุง ูู ุงุฎุชูุงุฑ ุงุณุชุฑุงุชูุฌูุฉ ุงูุญู.  ูููุง ููู ุจุนุถ ูููุง ูู ุฃุฌู ุฒูุงุฏุฉ ุงูุชุนููุฏ ูุฒูุงุฏุฉ ุนุฏุฏ ุงูููุงุท ุงููุณุฌูุฉ: <br><br>  1. ููุนุจ "ุงูุฃูุฏู" ุฏูู ุงุณุชุฎุฏุงู ุงูููุฏ ุ ููุชุงุจุฉ ุงูุชุญุฑูุงุช ูู ุงูุญู. <br>  2. ููุชุจ ูุชุฎูู ููุนุจ "ุงูุฃูุฏู" ุ ููุชุงุจุฉ ุงูุชุญุฑูุงุช ูู ุงูุญู. <br>  3. ุงูุฎูุงุฑุฒููุฉ ุงูุฌุดุนุฉ.  ูู ูู ููุนุทู ุ ูุญุงูู ูุถุน ุงููุทุนุฉ ุจุญูุซ ูููู ุนุฏุฏ ุงูุตููู ุงูุชู ุชู ุฅุชูุงููุง ูู ุงูุญุฏ ุงูุฃูุตู.  ุฅุฐุง ูุงู ููุงู ุงูุนุฏูุฏ ูู ูุฐู ุงูุฎูุงุฑุงุช ุ ูุญุฏุฏ ุฃู ูููุง ุจุดูู ุนุดูุงุฆู. <br>  4. ููุณ ุฎูุงุฑุฒููุฉ ุงูุฌุดุน ููุง ูู ุงูููุฑุฉ 3 ุ ููุท ูุชู ุงูุชุญูู ููุณ ูุฌุงุญ ุชุญุฏูุฏ ุดุฎุตูุฉ ูุงุญุฏุฉ ุ ูููู ูุฌุงุญ ุงูุจุญุซ ุงูุดุงูู ููุฌููุนุฉ ูู ุงูุดุฎุตูุงุช (ุนูู ุณุจูู ุงููุซุงู ุ ูุฌููุนุฉ ูู ุฎูุณุฉ ุฃุฑูุงู). <br>  5. ุงูุฎูุงุฑุฒููุฉ ุงูุฌูููุฉ.  ูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ูู ูุธููุฉ ุงูููุงูุฉ ุงูุจุฏููุฉ ููุณ ููุท ุนุฏุฏ ุงูุตููู ุงูููุณูุฑุฉ ุ ููุง ูู ุงูุญุงู ูู ุงูุฎูุงุฑุฒููุฉ ุงูุฌุดุนุฉ ุ ูููู ุฃูุถูุง ูุนููุฉ "ุชุฎููู" ุงูุญูู ุ ูุนูู ุณุจูู ุงููุซุงู ุ ุนุฏุฏ ุงููุณุงุญุงุช ุงูุญุฑุฉ ุงููุชูููุฉ ุจูู ุงูุฃุดูุงู. <br><br><h2 style=";text-align:right;direction:rtl">  D ู E. ูููุณุช </h2>  <sup><i>ุงููุคูููู: Ilimdar Ablyaev ู Ilya Kuteev</i></sup> <br><br>  ููุดุง ูุฌุนู ูุนุจุฉ ุงููุญููู ูู ูุฐุง ุงูููุน ูู ุงูุณุนู.  ูุฌุฏ ุนูู ุงูุฅูุชุฑูุช ููุชุจุฉ ุฌุงูุฒุฉ ูุน ูุญุฑู ููุนุจุฉ ูุตูุน ูุงุฌูุฉ ุชุนุชูุฏ ุนูููุง.  ููุดุง ูู ุนุฌูุฉ ูู ุฃูุฑูุง ูุฅุทูุงู ุงููุนุจุฉ ูุงุฑุชูุจุช ุงูุนุฏูุฏ ูู ุงูุฃุฎุทุงุก ุฃุซูุงุก ุนูููุฉ ุงูุชุทููุฑ.  ูุฅููุงุก ุงููุดุฑูุน ูู ุงูููุช ุงููุญุฏุฏ ุ ุทูุจุช ููู ููุดุง ุงููุณุงุนุฏุฉ.  ูู ุจุชูุฒูู ุงููุดุฑูุน ูุชุตุญูุญ ุฃุฎุทุงุก ุงูุชุฑุฌูุฉ ูุงูุชุนุทู ูุงูุฃุฎุทุงุก ุงูููุทููุฉ ููู.  ุฃููู ุงูุจุญุซ ูุงูุชูู ุฅูู ุดุงุดุฉ Bingo ุ ุงูุชู ุชุธูุฑ ุนูููุง ุงูุนุจุงุฑุฉ ุงูุณุฑูุฉ.  ูู ุณุชููู ุงูุญู ูููุดููุฉ. <br><br>  ูู ุจุชูุฒูู ุงูุฃุฑุดูู ุจุงุณุชุฎุฏุงู ุงููุดุฑูุน: <a href="https://yadi.sk/d/pSevFNC3wACyGQ">Android</a> ู <a href="https://yadi.sk/d/scriCzh0-XblPQ">iOS</a> .  ุชูุณูู ุงูุฅุฎุฑุงุฌ ุนุจุงุฑุฉ ุณุฑูุฉ (ุงูุณูุณูุฉ ุชุตู ุฅูู 255 ุญุฑููุง). <br><br><h4 style=";text-align:right;direction:rtl">  ุญู ุฃูุฏุฑููุฏ </h4><br>  1) ุญุฐู ุงูุณุทุฑ ูุน ุงูุณูุฉ ุฃู ุฅุถุงูุฉ ุฃู ุณูุฉ. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2) ูุฐูุจ ุฅูู ูุต ุงููููุฉ ููุตูุญ ุฌููุน ุงูุฃุฎุทุงุก ุงูุชู ูุณูุท ุนูููุง IDE ุงูุถูุก. </font></font><br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุฒูู ุงููุนุฏูุงุช ุงูููุงุฆูุฉ ูู mBackButton ู mTitleTextView ุ ุญูุซ ุฃู ุงูุชููุฆุฉ ุชุชุทูุจ ููุงุฑุฏ. </font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฅุฐุง ููุช ุจููู ุชููุฆุฉ mTitleTextView ู mBackButton ุฅูู ููุงู ุงูุฅุนูุงู ุ ูุณูู ูุชุนุทู ุงูุชุทุจูู ูู ุงูุจุฏุงูุฉ ุ ูุฃูู ููุณ ูุฏูู ุณูุงู ุญุชู ุงูุขู. </font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุตูุญ ุงูุฎุทุฃ ูุน ุงููููุฉ ุงููุฑุฌุนุฉ ููุทุฑู - ูุณุชุจุฏู Layout ุจู ViewGroup. </font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูููู ุจุชููุฆุฉ ูุชุบูุฑ okButton ูู ุทุฑููุฉ getTextTaskControlsLayout. </font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฃูุถุง ุ ูุฏ IDE ุชุณููุท ุงูุถูุก ุนูู ุฎุทุฃ ููุทูู ุฃู ูุชู ุชุนููู ููุณ ุงููุณุชูุนูู ุฅูู ุงูุฒุฑูู ุงูุฃูุณุฑ ูุงูุฃููู. </font></font></li></ol><br> 3)  .  ds     ,        ยซjava.lang.IllegalStateException: You need to use a Theme.AppCompat theme (or descendant) with this activityยป.      . <br><br> 4)  . <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">        โ java.lang.IndexOutOfBoundsException. </li><li style=";text-align:right;direction:rtl">    :     Layout       Layout. . </li><li style=";text-align:right;direction:rtl">         1.1 (     ). </li></ul><br> 5)   . <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">    ,    . </li><li style=";text-align:right;direction:rtl">       (   ,      ,   ). </li><li style=";text-align:right;direction:rtl">    .    : <br> โ       Layout. <br> โ      . </li><li style=";text-align:right;direction:rtl">      . </li></ul><br> 6)   .     โ        . <br><br> 7)  ยซยป. <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">     android.content.res.Resources$NotFoundException. </li><li style=";text-align:right;direction:rtl">    .   ,    ID . </li><li style=";text-align:right;direction:rtl">    . </li></ul><br> !         . <br><br><h4 style=";text-align:right;direction:rtl">   iOS </h4><br>       .   : <br><br><img src="https://habrastorage.org/webt/w_/n8/sh/w_n8shb8lv1tuk_hfwsv8uo0ye0.png" width="800"><br><br><cut></cut>  ,      Optional&lt;Optional&lt;Step&gt;&gt;. guard let    Optional  .    Optional,  flatMap({ $0 }),      . <br><br><img src="https://habrastorage.org/webt/qv/io/to/qviotowslanuxz3u2n7lus_d-y0.png" width="720"><br><br>  ,    . <br><br><img src="https://habrastorage.org/webt/hz/vk/v4/hzvkv4xffka4pvsvpcmjmbdyp1s.png" width="600"><br><br>   ,     QuestCore    .  : <br><br><img src="https://habrastorage.org/webt/7q/5a/vo/7q5avoteuj4nosrfndsb3lly0ie.png"><br><br>   ,       โ  goLeft,  goRight     .   ,  goRight  . <br><br><img src="https://habrastorage.org/webt/xa/xd/nn/xaxdnn9hfvfx4x74hit0resqy1y.png" width="380"><br><br>        ,    :    TestView,   firstResponder    .   ,  TestView   firstResponder.    ,        UIKit. <br><br><img src="https://habrastorage.org/webt/cr/6l/3t/cr6l3tid8c7couuavz26b5235z4.png" width="500"><br><br>      ยซยป.     IBOutlet,     ,       .         . <br><br><img src="https://habrastorage.org/webt/32/wv/6r/32wv6rozifqs4ro2ncvwm3rdvco.png" width="600"><br><br><img src="https://habrastorage.org/webt/yt/a1/fm/yta1fmc5us8kz77j_4zdleeidoy.png" width="500"><br><br><hr><br> <a href="https://habr.com/ru/company/yandex/blog/428882/"> </a>      ,     2018 . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar482210/">https://habr.com/ru/post/ar482210/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar482198/index.html">ููููุฉ ุฌุนู autoscaler ุงูุฎุงุต ุจู ููุฌููุนุฉ</a></li>
<li><a href="../ar482200/index.html">Blockchain ููุฃูู ุงูุณูุจุฑุงูู: ุงูุชููุนุงุช ูุงููุงูุน</a></li>
<li><a href="../ar482202/index.html">ุทุฑู ูุชุญุฏูุซ ุงูุชุดููุฑ ุนูู ุฃุฌูุฒุฉ Check Point ุฅูู GOST 2012</a></li>
<li><a href="../ar482206/index.html">ููููุฉ ุฌุนู ุฅูุชุงุฌ 3D ุฃุฌุฒุงุก ูู ุงูุทุงุฆุฑุงุช ุฃูุซุฑ ุงูุชุตุงุฏุง</a></li>
<li><a href="../ar482208/index.html">ุงููุฏุงูุง ุงูุชู ุชุฌุนูู ุชููุช ุงูุณูุฉ ุงูุฌุฏูุฏุฉ</a></li>
<li><a href="../ar482212/index.html">ูุชุญุฏุซ ุนู ... ุงูุฌุจูุ</a></li>
<li><a href="../ar482216/index.html">23 ุฑุฏุง ุนูู ุงูุงูุชุฆุงุจ ูู ุทุจูุจ ููุณู ูุญุชุฑู ููุณูู ููุงููู (dpmmax)</a></li>
<li><a href="../ar482218/index.html">ุฌุงูุง ุฏุงูุฌุณุช ูู 27 ุฏูุณูุจุฑ</a></li>
<li><a href="../ar482220/index.html">ุชูุทูู ุนูุงูุฉ Aruco</a></li>
<li><a href="../ar482222/index.html">ุชุทุจูู ุงูููุจ ุนูู Kotlin + Spring Boot + Vue.js (ุฅุถุงูุฉ)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>