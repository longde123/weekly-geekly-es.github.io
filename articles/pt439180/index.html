<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö§ üõÄüèº üåó Desafio Rekko ‚öíÔ∏è ‚ö´Ô∏è üåÅ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoje, estamos lan√ßando o Rekko Challenge 2019 , um concurso de aprendizado de m√°quina do cinema online Okko . 


 Sugerimos que voc√™ crie um sistema d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Desafio Rekko</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/okko/blog/439180/"><p><img src="https://habrastorage.org/webt/nn/ry/a8/nnrya8zeeuwrczokyqm6dq44mcw.jpeg" alt="Desafio Rekko"></p><br><p>  Hoje, estamos lan√ßando o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Rekko Challenge 2019</a> , um concurso de aprendizado de m√°quina do cinema online <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Okko</a> . </p><br><p>  Sugerimos que voc√™ crie um sistema de recomenda√ß√£o com dados reais de um dos maiores cinemas online russos.  Temos certeza de que essa tarefa ser√° interessante tanto para iniciantes quanto para especialistas experientes.  Tentamos manter o escopo m√°ximo da criatividade, sem sobrecarreg√°-lo com conjuntos de dados de gigabytes com centenas de recursos pr√©-calculados. </p><br><p>  Leia mais sobre Okko, a tarefa, dados, pr√™mios e regras - abaixo. </p><a name="habracut"></a><br><h2 id="zadacha">  Desafio </h2><br><p>  Voc√™ tem acesso a dados de todas as exibi√ß√µes, classifica√ß√µes e acr√©scimos aos filmes e s√©ries ‚ÄúMemorizados‚Äù pelo usu√°rio por um per√≠odo de N dias (N&gt; 60), al√©m de todas as meta-informa√ß√µes sobre o conte√∫do.  √â necess√°rio prever quais filmes e s√©ries o usu√°rio comprar√° ou assistir√° por assinatura nos pr√≥ximos 60 dias. </p><br><p>  Na pr√≥xima se√ß√£o, tentamos descrever o m√≠nimo do que voc√™ precisa saber sobre cinemas on-line para entender rapidamente os dados e come√ßar a analis√°-los.  Se essas informa√ß√µes n√£o forem relevantes para voc√™, voc√™ pode prosseguir imediatamente para a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">descri√ß√£o dos dados</a> . </p><br><h2 id="o-nashem-servise">  Sobre o nosso servi√ßo </h2><br><p>  Se um usu√°rio deseja assistir legalmente a um filme na Internet, ele tem tr√™s maneiras principais. </p><br><p> A primeira maneira √© assistir gratuitamente, interrompendo constantemente os comerciais ( <strong>AVOD</strong> , Advertising Video On Demand).  O segundo √© comprar um filme para sua cole√ß√£o ou aluguel ( <strong>TVOD</strong> , Transactional Video On Demand).  O terceiro √© se inscrever por um determinado per√≠odo ( <strong>SVOD</strong> , Subscription Video On Demand). </p><br><p>  Okko funciona apenas nos modelos TVOD e SVOD.  N√£o h√° publicidade alguma em nosso servi√ßo. </p><br><p>  No total, o servi√ßo conta com pouco mais de 10 mil filmes e s√©ries, cerca de 6 mil deles est√£o dispon√≠veis por assinatura, o restante √© apenas para compra ou aluguel.  Ao mesmo tempo, quase qualquer conte√∫do de assinatura pode ser comprado.  Uma exce√ß√£o √©, por exemplo, os <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">programas de TV da Amediateka</a> , que podem ser assistidos apenas por assinatura. </p><br><p><img src="https://habrastorage.org/webt/-b/le/7l/-ble7lmcuyxxnigbiussw59adng.png" alt="Distribui√ß√£o de conte√∫do por modelo de consumo"></p><br><p>  De acordo com o modelo que o filme estar√° dispon√≠vel, depende em grande parte do est√∫dio que det√©m os direitos.  Eles concluem um contrato com os cinemas on-line, que estipula quando e por quais direitos o filme estar√° dispon√≠vel.  Como regra, as condi√ß√µes s√£o as mesmas para todos os participantes do mercado, mas √†s vezes os est√∫dios fazem concess√µes a alguns cinemas ou oferecem condi√ß√µes mais favor√°veis ‚Äã‚Äãpor mais dinheiro.  Portanto, existem exclusivos. </p><br><p>  Por exemplo, grandes inova√ß√µes globais n√£o entram na assinatura imediatamente, mas somente ap√≥s 2-3 meses ap√≥s a exibi√ß√£o no servi√ßo.  Al√©m disso, nas primeiras semanas eles nem sequer podem ser alugados, apenas a oportunidade de comprar para sempre est√° dispon√≠vel.  Mas os filmes russos podem estar dispon√≠veis por assinatura imediatamente ap√≥s o lan√ßamento e, √†s vezes, at√© simultaneamente com o in√≠cio da loca√ß√£o nos cinemas offline. </p><br><p>  Quando o contrato expira, o filme fica indispon√≠vel - at√© a extens√£o do contrato expirado ou a conclus√£o de um novo. </p><br><p><img src="https://habrastorage.org/webt/n3/vk/ua/n3vkual7jetrhk1l54zceb-c8ys.jpeg" alt="Exemplo de cart√£o de filme inacess√≠vel"></p><br><p>  Per√≠odos de falta de direitos ao conte√∫do s√£o claramente vis√≠veis nos gr√°ficos do n√∫mero de visualiza√ß√µes.  Abaixo, por exemplo, h√° um gr√°fico para o filme "John Wick 2".  Primeiro de tudo, pode parecer que a confus√£o tenha descansado por alguns meses, mas n√£o: os direitos acabaram. </p><br><p><img src="https://habrastorage.org/webt/h8/mc/0q/h8mc0qauuyz_a-qtu2shswrjyg0.png" alt="Gr√°fico de visualiza√ß√µes do filme &quot;John Wick 2&quot;"></p><br><p>  O pico mais alto no gr√°fico acima (marcado com uma linha vertical) coincide com a data em que o filme foi adicionado √† assinatura: esse √© um comportamento muito caracter√≠stico para novidades de alto perfil.  Nosso servi√ßo tem 12 assinaturas: </p><br><ul><li>  Oito tem√°ticas </li><li>  S√©rie de televis√£o Amediateka, </li><li>  S√©rie de TV ABC, </li><li>  Filmes e s√©ries russos do servi√ßo START, </li><li>  Filmes em 4K. </li></ul><br><p>  E dois pacotes de assinatura: Optimal, que inclui todas as assinaturas tem√°ticas, e Optimal + Amediateka. </p><br><p><img src="https://habrastorage.org/webt/iq/kn/6r/iqkn6rw39kfvmbza416dhpzllby.jpeg" alt="Interface de assinatura"></p><br><p>  Os mais populares, √© claro, s√£o os meta-pacotes.  Das assinaturas tem√°ticas, os usu√°rios preferem World Cinema e Our Cinema. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/7ce/c03/2b9/7cec032b96c763d3d8f03b11f9b4079e.jpg"></p><br><p>  Poucos usu√°rios assistem a filmes apenas por assinatura, a maioria apenas compra filmes ou compra al√©m da assinatura. </p><br><p>  Na maioria das vezes, os usu√°rios escolhem comprar novos itens para o aluguel atual e as principais estreias do ano passado. </p><br><p>  A fonte mais popular de compras no aplicativo √© a se√ß√£o "Recomenda√ß√µes", seguida de "Pesquisa", "Not√≠cias" e "Cat√°logo".  Os usu√°rios compram parte dos filmes de "Similar" e "Memorized". </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/5c2/2f3/c37/5c22f3c37bebd0f74d64a4d87c21ecf7.jpg"></p><br><p>  Um dos principais problemas que estamos enfrentando ativamente na Okko √© o problema dos usu√°rios escolherem o conte√∫do.  Se voc√™ olhar para o gr√°fico da probabilidade de fazer uma compra versus o tempo gasto no servi√ßo (dados do ano anterior), ver√° que os usu√°rios est√£o prontos para escolher e comprar um filme nos primeiros 10 minutos, ent√£o a probabilidade de uma compra est√° caindo rapidamente.  Ao mesmo tempo, permanece uma parte bastante grande de usu√°rios que passam no servi√ßo de meia hora a uma hora e n√£o podem escolher o conte√∫do adequado para si. </p><br><p>  10 minutos - nem tanto.  Durante esse per√≠odo, o usu√°rio n√£o p√¥de estudar fisicamente o cat√°logo em detalhes e selecionar o conte√∫do de que gosta. </p><br><p>  √â aqui que entra o Rekko, o sistema interno de recomenda√ß√µes para o cinema online Okko.  Atualmente, a Rekko opera em duas se√ß√µes do servi√ßo - "Recomenda√ß√µes" e "Similar". </p><br><p><img src="https://habrastorage.org/webt/y8/yo/vw/y8yovw9ikla8v28e31bijkry4uw.jpeg" alt="Se√ß√£o de recomenda√ß√£o de TV"></p><br><p><img src="https://habrastorage.org/webt/ai/dl/qh/aidlqhz32tslrxilfq_i0_-rebk.jpeg" alt="Semelhante √† TV"></p><br><p>  Para avaliar a satisfa√ß√£o do usu√°rio com o conte√∫do, analisamos o fato da compra, as visualiza√ß√µes por assinatura, o tempo de exibi√ß√£o e as classifica√ß√µes memorizadas e dos usu√°rios. </p><br><p>  A escala de classifica√ß√£o em Okko √© representada por cinco asteriscos com meias divis√µes: leva valores inteiros de 0 a 10. </p><br><p><img src="https://habrastorage.org/webt/s4/jh/kd/s4jhkdrp_7gqdtqek8b8ih3xfru.jpeg" alt="Interface de classifica√ß√£o"></p><br><p>  O usu√°rio pode classificar o filme a qualquer momento, independentemente da compra ou visualiza√ß√£o.  A pontua√ß√£o pode ser alterada um n√∫mero ilimitado de vezes, mas n√£o pode ser desfeita. </p><br><p>  Voc√™ pode "lembrar" de um filme a qualquer momento e, em seguida, ele aparecer√° no "lembrado" no perfil do usu√°rio.  Da mesma maneira, ele pode ser removido de l√°. </p><br><p><img src="https://habrastorage.org/webt/l-/_e/m9/l-_em9ml6klqs_8deogrbv7jzeo.jpeg" alt="Interface de armazenamento"></p><br><p><img src="https://habrastorage.org/webt/yo/a4/_h/yoa4_hap-jrswbxriwb608hc1wc.jpeg" alt="Filmes gravados no perfil"></p><br><p>  O trabalho no Rekko come√ßou h√° exatamente um ano e, de acordo com os testes A / B, nos permitiu aumentar o n√∫mero m√©dio de compras em 4%, a receita da transa√ß√£o em 3%, a convers√£o em assinatura em 5% e os usu√°rios come√ßaram a escolher filmes 18% mais r√°pido . </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/61f/339/900/61f3399001f3e4a0e9ee6312c419bef0.jpg"></p><br><h2 id="dannye">  Dados </h2><br><p>  Todos os dados, exceto o tempo de exibi√ß√£o e as classifica√ß√µes, s√£o anonimizados ou distorcidos.  O tempo √© expresso em unidades abstratas para as quais a rela√ß√£o de ordem e dist√¢ncia √© preservada. </p><br><h3 id="transactionscsv">  transaction.csv </h3><br><p>  Registros de todas as transa√ß√µes e visualiza√ß√µes de conte√∫do nelas durante o per√≠odo de treinamento.  A transa√ß√£o aqui √© a compra de um filme para sempre, para aluguel ou para iniciar a exibi√ß√£o por assinatura. </p><br><div class="scrollable-table"><table><thead><tr><th>  element_uid </th><th>  user_uid </th><th>  consumer_mode </th><th>  ts </th><th>  assistiu_tempo </th><th>  device_type </th><th>  device_manufacturer </th></tr></thead><tbody><tr><td>  3336 </td><td>  5177 </td><td>  S </td><td>  44305181.2180206 </td><td>  4282 </td><td>  0 0 </td><td>  50. </td></tr><tr><td>  481 </td><td>  593316 </td><td>  S </td><td>  44305180.606027626 </td><td>  2989 </td><td>  0 0 </td><td>  11 </td></tr><tr><td>  4128 </td><td>  262355 </td><td>  S </td><td>  44305180.41444582 </td><td>  833 </td><td>  0 0 </td><td>  50. </td></tr></tbody></table></div><br><ul><li> <code>element_uid</code> - identificador do elemento </li><li>  <code>user_uid</code> - ID do usu√°rio </li><li>  <code>consumption_mode</code> - tipo de consumo ( <code>P</code> - compra, <code>R</code> - aluguel, <code>S</code> - visualizar por assinatura) </li><li>  <code>ts</code> - tempo de transa√ß√£o </li><li>  <code>watched_time</code> - o n√∫mero de segundos assistidos pelo usu√°rio por essa transa√ß√£o segundos </li><li>  <code>device_type</code> - tipo de dispositivo an√¥nimo do qual a transa√ß√£o foi feita </li><li>  <code>device_manufacturer</code> - fabricante an√¥nimo do dispositivo a partir do qual a transa√ß√£o foi feita </li></ul><br><p><img src="https://habrastorage.org/webt/tf/yj/zy/tfyjzy6svqhfspgca9kzlzmtwg8.png" alt="Distribui√ß√£o Watched_time"></p><br><h3 id="ratingscsv">  ratings.csv </h3><br><p>  Informa√ß√µes sobre classifica√ß√µes de usu√°rios para o per√≠odo de treinamento.  As informa√ß√µes s√£o agregadas, ou seja,  se o usu√°rio alterou sua classifica√ß√£o, apenas o √∫ltimo valor ser√° apresentado na tabela. </p><br><div class="scrollable-table"><table><thead><tr><th>  user_uid </th><th>  element_uid </th><th>  classifica√ß√£o </th><th>  ts </th></tr></thead><tbody><tr><td>  571252 </td><td>  1364 </td><td>  10 </td><td>  44305174.26309871 </td></tr><tr><td>  63140 </td><td>  3037 </td><td>  10 </td><td>  44305139.28281821 </td></tr><tr><td>  443817 </td><td>  4363 </td><td>  8 </td><td>  44305136.20584908 </td></tr></tbody></table></div><br><ul><li>  <code>element_uid</code> - identificador do elemento </li><li>  <code>user_uid</code> - ID do usu√°rio </li><li>  <code>rating</code> - <code>rating</code> definida pelo usu√°rio (de <code>0</code> a <code>10</code> ) </li><li>  <code>ts</code> - hora do ranking </li></ul><br><p><img src="https://habrastorage.org/webt/qc/eh/zm/qcehzmvinvz57efywfnga3eo67m.png" alt="Distribui√ß√£o de classifica√ß√µes"></p><br><h3 id="bookmarkscsv">  bookmarks.csv </h3><br><p>  Os fatos que os usu√°rios adicionam um filme ao "lembrado".  As informa√ß√µes s√£o agregadas, ou seja,  se o usu√°rio excluiu o filme de "Salvo", n√£o haver√° registro de adicion√°-lo √† tabela. </p><br><div class="scrollable-table"><table><thead><tr><th>  user_uid </th><th>  element_uid </th><th>  ts </th></tr></thead><tbody><tr><td>  301135 </td><td>  7185 </td><td>  44305161.30743926 </td></tr><tr><td>  301135 </td><td>  4083 </td><td>  44305160.01187332 </td></tr><tr><td>  301135 </td><td>  10158 </td><td>  44305157.74463292 </td></tr></tbody></table></div><br><ul><li>  <code>element_uid</code> - identificador do elemento </li><li>  <code>user_uid</code> - ID do usu√°rio </li><li>  <code>ts</code> - hora de adicionar o filme ao item "lembrado" </li></ul><br><h3 id="cataloguejson">  catalogue.json </h3><br><p>  Meta-informa√ß√µes sobre todos os elementos recomendados: filmes, s√©ries e filmes em s√©rie. </p><br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"1983"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"movie"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"availability"</span></span>: [<span class="hljs-string"><span class="hljs-string">"purchase"</span></span>, <span class="hljs-string"><span class="hljs-string">"rent"</span></span>, <span class="hljs-string"><span class="hljs-string">"subscription"</span></span>], <span class="hljs-attr"><span class="hljs-attr">"duration"</span></span>: <span class="hljs-number"><span class="hljs-number">140</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_1"</span></span>: <span class="hljs-number"><span class="hljs-number">1657223.396513469</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_2"</span></span>: <span class="hljs-number"><span class="hljs-number">0.7536096584</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_3"</span></span>: <span class="hljs-number"><span class="hljs-number">39</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_4"</span></span>: <span class="hljs-number"><span class="hljs-number">1.1194091265</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_5"</span></span>: <span class="hljs-number"><span class="hljs-number">0.0</span></span>, <span class="hljs-attr"><span class="hljs-attr">"attributes"</span></span>: [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, ...] }, <span class="hljs-attr"><span class="hljs-attr">"2166"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"movie"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"availability"</span></span>: [<span class="hljs-string"><span class="hljs-string">"purchase"</span></span>, <span class="hljs-string"><span class="hljs-string">"rent"</span></span>], <span class="hljs-attr"><span class="hljs-attr">"duration"</span></span>: <span class="hljs-number"><span class="hljs-number">110</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_1"</span></span>: <span class="hljs-number"><span class="hljs-number">36764165.87817783</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_2"</span></span>: <span class="hljs-number"><span class="hljs-number">0.7360206399</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_3"</span></span>: <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_4"</span></span>: <span class="hljs-number"><span class="hljs-number">1.1386044027</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_5"</span></span>: <span class="hljs-number"><span class="hljs-number">0.6547073468</span></span>, <span class="hljs-attr"><span class="hljs-attr">"attributes"</span></span>: [<span class="hljs-number"><span class="hljs-number">16738</span></span>, <span class="hljs-number"><span class="hljs-number">13697</span></span>, <span class="hljs-number"><span class="hljs-number">1066</span></span>, <span class="hljs-number"><span class="hljs-number">1089</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">5318</span></span>, <span class="hljs-number"><span class="hljs-number">308</span></span>, <span class="hljs-number"><span class="hljs-number">54</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">33</span></span>, ...] }, ... }</code> </pre> <br><ul><li>  <code>type</code> - pega os valores de <code>movie</code> , <code>movie</code> <code>multipart_movie</code> ou <code>series</code> </li><li>  <code>duration</code> - a dura√ß√£o em minutos, arredondada para dezenas (a dura√ß√£o da s√©rie para s√©ries e filmes em s√©rie) </li><li>  <code>availability</code> - direitos dispon√≠veis para o conte√∫do (podem conter os valores de <code>purchase</code> , <code>rent</code> e <code>subscription</code> ) </li><li>  <code>attributes</code> - um conjunto de alguns atributos an√¥nimos </li><li>  <code>feature_1..5</code> - cinco materiais an√¥nimos e recursos ordinais </li></ul><br><p>  Os direitos dispon√≠veis s√£o indicados no final do per√≠odo de treinamento e no in√≠cio do teste. </p><br><p>  <strong>Importante:</strong> no json, as chaves do dicion√°rio podem ser apenas cadeias de caracteres, portanto, lance-as para um n√∫mero se voc√™ ler identificadores nas tabelas como n√∫meros (fa√ßa isso para economizar mem√≥ria). </p><br><p><img src="https://habrastorage.org/webt/zc/2o/zj/zc2ozj5hiw-focmppfjvsb-pebi.png" alt="Distribui√ß√£o de caracter√≠sticas no cat√°logo"></p><br><h2 id="metrika">  M√©trica </h2><br><p>  Como m√©trica, usamos M√©dia M√©dia de Precis√£o (MAP) para 20 elementos, mas ligeiramente modificada.  Durante o per√≠odo de teste, o usu√°rio pode consumir menos de 20 filmes.  Se neste caso considerarmos um MAP honesto, o limite superior da m√©trica ser√° menor que um e os valores ser√£o pequenos.  Portanto, se o usu√°rio consumiu menos de 20 elementos, normalizamos pelo n√∫mero e n√£o por 20. </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>b</mi><mi>o</mi><mi>x</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>M</mi><mi>N</mi><mi>A</mi><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>@</mo></mrow><mn>20</mn></mrow><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi><mi>U</mi><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi></mrow><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>u</mi><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>U</mi></mrow></msub><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>n</mi><mi>u</mi></msub><mo>,</mo><mn>20</mn><mo stretchy=&quot;false&quot;>)</mo></mrow><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>20</mn></mrow></msubsup><msub><mi>r</mi><mi>u</mi></msub><mo stretchy=&quot;false&quot;>(</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><msub><mi>p</mi><mi>u</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>@</mo></mrow><mi>i</mi></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="86.689ex" height="3.142ex" viewBox="0 -935.7 37324.3 1352.7" role="img" focusable="false" style="vertical-align: -0.969ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-62" x="1128" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-6F" x="1558" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-78" x="2043" y="0"></use><g transform="translate(2616,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-4E" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-41" x="1940" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-50" x="2690" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMAIN-40" x="3442" y="0"></use><g transform="translate(4220,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMAIN-30" x="500" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMAIN-3D" x="8115" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-66" x="9421" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-72" x="9972" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-61" x="10423" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-63" x="10953" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMAIN-31" x="11386" y="0"></use><g transform="translate(11887,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-76" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-65" x="1034" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-72" x="1500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-74" x="1952" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-55" x="2313" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-72" x="3331" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-76" x="3782" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-65" x="4268" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-72" x="4734" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-74" x="5186" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-73" x="17684" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-75" x="18154" y="0"></use><g transform="translate(18726,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-69" x="926" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-6E" x="1271" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-55" x="1872" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-66" x="21821" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-72" x="22372" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-61" x="22823" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-63" x="23353" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMAIN-31" x="23786" y="0"></use><g transform="translate(24287,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-69" x="1128" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-6E" x="1474" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMAIN-28" x="2074" y="0"></use><g transform="translate(2464,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-75" x="849" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMAIN-2C" x="3569" y="0"></use><g transform="translate(4014,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMAIN-30" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMAIN-29" x="5015" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-73" x="29941" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-75" x="30411" y="0"></use><g transform="translate(30983,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,360)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMAIN-32"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMAIN-30" x="500" y="0"></use></g><g transform="translate(878,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMAIN-31" x="1124" y="0"></use></g></g><g transform="translate(33111,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-75" x="638" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMAIN-28" x="34067" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-69" x="34457" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMAIN-29" x="34802" y="0"></use><g transform="translate(35192,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMAIN-40" x="36200" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-69" x="36978" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>m</mi><mi>b</mi><mi>o</mi><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mi>M</mi><mi>N</mi><mi>A</mi><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mo>@</mo></mrow><mn>20</mn></mrow><mo>=</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>l</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi><mi>U</mi><mtext>&nbsp;</mtext><mi>r</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi></mrow><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>u</mi><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>U</mi></mrow></msub><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><msub><mi>n</mi><mi>u</mi></msub><mo>,</mo><mn>20</mn><mo stretchy="false">)</mo></mrow><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>20</mn></mrow></msubsup><msub><mi>r</mi><mi>u</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><msub><mi>p</mi><mi>u</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>@</mo></mrow><mi>i</mi></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> \ mbox {MNAP @ 20} = \ frac {1} {\ lvert U \ rvert} \ sum_ {u \ in U} \ frac {1} {\ min (n_u, 20)} \ sum_ {i = 1} ^ {20} r_u (i) p_u @ i </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>p</mi><mi>u</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>@</mo></mrow><mi>k</mi><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>k</mi></mrow><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>k</mi></mrow></msubsup><msub><mi>r</mi><mi>u</mi></msub><mo stretchy=&quot;false&quot;>(</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="28.842ex" height="3.142ex" viewBox="-38.5 -935.7 12417.9 1352.7" role="img" focusable="false" style="vertical-align: -0.969ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-75" x="712" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMAIN-40" x="1008" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-6B" x="1786" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMAIN-3D" x="2586" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-66" x="3892" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-72" x="4442" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-61" x="4894" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-63" x="5423" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMAIN-31" x="5857" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-6B" x="6357" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-73" x="7129" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-75" x="7598" y="0"></use><g transform="translate(8171,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-6B" x="1242" y="499"></use><g transform="translate(878,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMAIN-31" x="1124" y="0"></use></g></g><g transform="translate(10298,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-75" x="638" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMAIN-28" x="11254" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-69" x="11644" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMAIN-29" x="11989" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>p</mi><mi>u</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>@</mo></mrow><mi>k</mi><mo>=</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>k</mi></mrow><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>k</mi></mrow></msubsup><msub><mi>r</mi><mi>u</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-2"> p_u @ k = \ frac {1} {k} \ sum_ {i = 1} ^ {k} r_u (i) </script></p><br><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>r</mi><mi>u</mi></msub><mo stretchy=&quot;false&quot;>(</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.833ex" height="2.66ex" viewBox="0 -832 2080.8 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-75" x="638" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMAIN-28" x="956" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-69" x="1345" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMAIN-29" x="1691" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>r</mi><mi>u</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-3"> r_u (i) </script>  - est√° localizado <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.802ex" height="1.937ex" viewBox="0 -728.2 345.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-69" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi></math></span></span><script type="math/tex" id="MathJax-Element-4"> i </script>  th predito elemento no conjunto de elementos consumidos durante o per√≠odo de teste pelo usu√°rio <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>u</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-75" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span><script type="math/tex" id="MathJax-Element-5"> u </script>  , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>n</mi><mi>u</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.567ex" height="1.817ex" viewBox="0 -520.7 1105.3 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhgNmHqdUWiHQe9EW2_86JZkU_6Ksg#MJMATHI-75" x="849" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>n</mi><mi>u</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-6"> n_u </script>  √â o tamanho deste conjunto.  Se de repente as m√©tricas de qualidade de classifica√ß√£o forem esquecidas, h√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um excelente artigo</a> sobre elas no hub </p><br><div class="spoiler">  <b class="spoiler_title">C√≥digo m√©trico no Cython</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">average_precision</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( dict data_true, dict data_predicted, const unsigned long int k )</span></span></span><span class="hljs-function"> -&gt; float:</span></span> cdef: unsigned long int n_items_predicted unsigned long int n_items_true unsigned long int n_correct_items unsigned long int item_idx double average_precision_sum double precision set items_true list items_predicted <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> data_true: <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> ValueError(<span class="hljs-string"><span class="hljs-string">'data_true is empty'</span></span>) average_precision_sum = <span class="hljs-number"><span class="hljs-number">0.0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> key, items_true <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> data_true.items(): items_predicted = data_predicted.get(key, []) n_items_true = len(items_true) n_items_predicted = min(len(items_predicted), k) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> n_items_true == <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> n_items_predicted == <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span> n_correct_items = <span class="hljs-number"><span class="hljs-number">0</span></span> precision = <span class="hljs-number"><span class="hljs-number">0.0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> item_idx <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(n_items_predicted): <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> items_predicted[item_idx] <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> items_true: n_correct_items += <span class="hljs-number"><span class="hljs-number">1</span></span> precision += &lt;double&gt;n_correct_items / &lt;double&gt;(item_idx + <span class="hljs-number"><span class="hljs-number">1</span></span>) average_precision_sum += &lt;double&gt;precision / &lt;double&gt;min(n_items_true, k) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> average_precision_sum / &lt;double&gt;len(data_true) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">metric</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(true_data, predicted_data, k=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">20</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> true_data_set = {k: set(v) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> k, v <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> true_data.items()} <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> average_precision(true_data_set, predicted_data, k=k)</code> </pre> </div></div><br><h2 id="prizy-i-pravila">  Pr√™mios e regras </h2><br><p>  O fundo do pr√™mio √© de 600 mil rublos: </p><br><ul><li>  <strong>300</strong> mil receber√£o o vencedor, </li><li>  <strong>200</strong> mil - o participante em segundo lugar </li><li>  <strong>100</strong> mil - um participante em terceiro lugar. </li></ul><br><p>  As regras s√£o padr√£o: n√£o perturbe a plataforma, use apenas uma conta, evite a troca privada de c√≥digos com outros participantes e n√£o seja funcion√°rio da Okko e da Rambler. </p><br><h2 id="kak-nachat">  Como come√ßar </h2><br><p>  Pode ser dif√≠cil at√© mesmo para profissionais experientes come√ßarem a participar da competi√ß√£o: voc√™ precisa descobrir rapidamente uma nova √°rea de dom√≠nio, entender e analisar dados e classificar novas bibliotecas. </p><br><p>  Esperamos que, neste artigo, possamos mergulh√°-lo no assunto do cinema on-line e descrever os dados com detalhes suficientes.  No arquivo com a tarefa, voc√™ encontrar√° o arquivo <code>baseline.ipynb</code> , que cont√©m o c√≥digo para carregar dados e um exemplo de solu√ß√£o simples usando o algoritmo K vizinhos mais pr√≥ximos. </p><br><p>  Se algum ponto da descri√ß√£o dos dados e do dom√≠nio do dom√≠nio permanecer incerto, teremos o maior prazer em responder suas perguntas nos coment√°rios.  Voc√™ tamb√©m pode fazer perguntas no canal de telegrama <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">@boosterspro</a> - a principal discuss√£o da competi√ß√£o ser√° realizada l√°. </p><br><p>  <strong>Ent√£o, como come√ßar:</strong> </p><br><ol><li>  Inscreva-se no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">boosters.pro</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">junte</a> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">se ao @boosterspro</a> ; </li><li>  Fa√ßa o download dos dados na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">p√°gina da competi√ß√£o</a> ou <a href="">aqui</a> ; </li><li>  Abra o <code>baseline.ipynb</code> , instale os pacotes necess√°rios, execute todo o c√≥digo e fa√ßa o download da sua primeira solu√ß√£o; </li><li>  Tente modificar a linha de base para melhorar o desempenho; </li><li>  Experimente! </li></ol><br><p>  O Rekko Challenge come√ßa hoje, 18 de fevereiro.  As decis√µes s√£o tomadas at√© 18 de abril, 23:59:59, hor√°rio de Moscou. </p><br><p>  Estamos esperando por todos e boa sorte! </p><br><p>  By the way, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">estamos √† procura de funcion√°rios</a> .  Incluindo o desenvolvedor de sistemas de recomenda√ß√£o. </p><br><p>  <strong>UPD 26/02/2019: Foi</strong> encontrado um erro na forma√ß√£o dos dados de teste, eles foram substitu√≠dos e o arquivo <em>test_users.json</em> .  Todos os participantes recebem tentativas adicionais. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt439180/">https://habr.com/ru/post/pt439180/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt439168/index.html">Sistemas de an√°lise de clientes</a></li>
<li><a href="../pt439170/index.html">As operadoras de celular ajudar√£o os bancos a verificar a precis√£o dos dados do cliente</a></li>
<li><a href="../pt439172/index.html">Extens√£o de macro Assert () para implementar o tratamento m√≠nimo de erros</a></li>
<li><a href="../pt439174/index.html">Dia da Internet segura: que amea√ßas procurar em 2019</a></li>
<li><a href="../pt439176/index.html">Envie um email com anexos por JavaMailSender da SpringFramework</a></li>
<li><a href="../pt439182/index.html">Como distribu√≠mos pedidos entre os drivers no Yandex.Taxi</a></li>
<li><a href="../pt439184/index.html">Altere sua senha: testando pol√≠ticas de senha de servi√ßo da web</a></li>
<li><a href="../pt439186/index.html">Editor de UX: hist√≥ria verdadeira, vida rial</a></li>
<li><a href="../pt439190/index.html">Como criar um aplicativo de realidade aumentada usando o ARCore</a></li>
<li><a href="../pt439192/index.html">Orador do PC a onze</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>