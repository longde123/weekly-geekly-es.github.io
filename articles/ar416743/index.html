<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🦃 🌽 💃🏾 بوت ل Starcraft في الصدأ ، C وأي لغة أخرى 💀 ♐️ 👎🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="StarCraft: حرب الحضنة . كم يعني ذلك بالنسبة لي. ولعديد منكم. لدرجة أنني شككت في ما إذا كان يجب إعطاء رابط للويكي. 


 ذات مرة ، دقتني هالت في رسالة بر...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>بوت ل Starcraft في الصدأ ، C وأي لغة أخرى</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/416743/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/qv/fa/ex/qvfaexsnkzmckmwrt_spqmc7nr4.png" align="left">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">StarCraft: حرب الحضنة</a> .  كم يعني ذلك بالنسبة لي.  ولعديد منكم.  لدرجة أنني شككت في ما إذا كان يجب إعطاء رابط للويكي. </p><br><p style=";text-align:right;direction:rtl">  ذات مرة ، <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">دقتني هالت</a> في رسالة <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">بريد إلكتروني</a> شخصية وعرضت أن أتعلم <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الصدأ</a> .  قررنا ، مثل أي شخص عادي ، أن نبدأ <del>  مرحبا بالعالم </del>  كتابة مكتبة ديناميكية لـ Windows يمكن تحميلها في مساحة عنوان لعبة StarCraft وإدارة الوحدات. </p><br><p style=";text-align:right;direction:rtl"> ستصف المقالة عملية إيجاد الحلول ، باستخدام التقنيات ، والتقنيات التي ستسمح لك بتعلم أشياء جديدة في لغة Rust ونظامها البيئي أو أن تكون مصدر إلهام لتنفيذ روبوت في لغتك المفضلة ، سواء كانت C ، C ++ ، روبي ، بيثون ، إلخ. </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  هذه المقالة تستحق القراءة بالتأكيد تحت النشيد الكوري الجنوبي: </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ستاركرافت OST</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><iframe width="560" height="315" src="https://www.youtube.com/embed/pNt0iVG2VOA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><br><h2 id="bwapi" style=";text-align:right;direction:rtl">  بوابي </h2><br><p style=";text-align:right;direction:rtl">  هذه اللعبة بالفعل 20 سنة.  ولا تزال <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">تحظى بشعبية كبيرة</a> ، حيث تجمع البطولات قاعات كاملة من الناس في الولايات المتحدة الأمريكية حتى <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">في عام 2017</a> ، حيث وقعت معركة الأجداد Jaedong vs Bisu.  بالإضافة إلى اللاعبين الأحياء ، تشارك <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">السيارات الخالية من الروح</a> في المعارك أيضًا!  وهذا ممكن بفضل <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">BWAPI</a> .  المزيد من <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الروابط</a> المفيدة. </p><br><p style=";text-align:right;direction:rtl">  لأكثر من عقد من الزمان ، كان هناك مجتمع من مطوري برامج الروبوت حول هذه اللعبة.  المتحمسين يكتبون البوتات ويشاركون في بطولات مختلفة.  يدرس الكثير منهم الذكاء الاصطناعي والتعلم الآلي.  تستخدم الجامعات BWAPI لتعليم طلابها.  حتى أن هناك <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">قناة نشل</a> تبث الألعاب. </p><br><p style=";text-align:right;direction:rtl">  لذا ، قام فريق من المعجبين قبل بضع سنوات بعكس الأجزاء الداخلية من Starcraft وكتبوا واجهة برمجة تطبيقات C ++ تسمح لك بكتابة الروبوتات ، والاندماج في عملية اللعبة والسيطرة على الأشخاص الصغار المثير للشفقة. </p><br><p style=";text-align:right;direction:rtl">  كما يحدث غالبا من قبل <del>  لبناء منزل ، تحتاج إلى الحصول على خام ، وصياغة أدوات ... </del>  كتابة روبوت ، تحتاج إلى تنفيذ API.  ماذا يمكن أن تقدم الصدأ؟ </p><br><h2 id="ffi" style=";text-align:right;direction:rtl">  Ffi </h2><br><p style=";text-align:right;direction:rtl">  التفاعل مع لغات أخرى من Rust بسيط للغاية.  هناك <abbr title="واجهة الوظيفة الخارجية">FFI</abbr> لهذا.  اسمحوا لي أن أقدم مقتطفًا موجزًا ​​من <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الوثائق</a> . </p><br><p style=";text-align:right;direction:rtl">  افترض أن لدينا مكتبة <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">سريعة</a> تحتوي على ملف رأس <a href="">snapp-ch</a> الذي سنقوم بنسخ إعلانات الوظائف منه. </p><br><p style=";text-align:right;direction:rtl">  إنشاء مشروع باستخدام <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">البضائع</a> . </p><br><pre style=";text-align:right;direction:rtl"><code class="bash hljs">$ cargo new --bin snappy Created binary (application) `snappy` project $ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> snappy snappy$ tree . ├── Cargo.toml └── src └── main.rs 1 directory, 2 files</code> </pre> <br><p style=";text-align:right;direction:rtl">  أنشأت Cargo بنية ملف قياسية للمشروع. </p><br><p style=";text-align:right;direction:rtl">  في <code>Cargo.toml</code> حدد الاعتماد على <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">libc</a> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs powershell">[<span class="hljs-type"><span class="hljs-type">dependencies</span></span>] libc = <span class="hljs-string"><span class="hljs-string">"0.2"</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  <code>src/main.rs</code> ملف <code>src/main.rs</code> كما يلي: </p><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-keyword"><span class="hljs-keyword">extern</span></span> <span class="hljs-keyword"><span class="hljs-keyword">crate</span></span> libc; <span class="hljs-comment"><span class="hljs-comment">//   C ,     size_t use libc::size_t; #[link(name = "snappy")] //       extern { //    ,    //  C  : // size_t snappy_max_compressed_length(size_t source_length); fn snappy_max_compressed_length(source_length: size_t) -&gt; size_t; } fn main() { let x = unsafe { snappy_max_compressed_length(100) }; println!("max compressed length of a 100 byte buffer: {}", x); }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  نجمع وندير: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">snappy$ cargo build ... snappy$ cargo run Finished dev [unoptimized + debuginfo] target(s) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> 0.02s Running `target/debug/snappy` max compressed length of a 100 byte buffer: 148</code> </pre> <br><p style=";text-align:right;direction:rtl">  يمكنك فقط استدعاء <code>cargo run</code> ، والتي قبل إطلاق مكالمات <code>cargo build</code> .  أو قم ببناء مشروع واتصل بالثنائي مباشرة: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">snappy$ ./target/debug/snappy max compressed length of a 100 byte buffer: 148</code> </pre> <br><p style=";text-align:right;direction:rtl">  يتم تجميع الرمز بشرط تثبيت مكتبة snappy (بالنسبة إلى Ubuntu ، يجب تثبيت حزمة libsnappy-dev). </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">snappy$ ldd target/debug/snappy ... libsnappy.so.1 =&gt; /usr/lib/x86_64-linux-gnu/libsnappy.so.1 (0x00007f8de07cf000)</code> </pre> <br><p style=";text-align:right;direction:rtl">  كما ترى ، يرتبط الثنائي الخاص بنا بمكتبة libsnappy المشتركة.  واستدعاء <code>snappy_max_compressed_length</code> هو استدعاء دالة من هذه المكتبة. </p><br><h2 id="rust-bindgen" style=";text-align:right;direction:rtl">  الصدأ بيندجن </h2><br><p style=";text-align:right;direction:rtl">  سيكون من الجيد إذا تمكنا من إنشاء FFI تلقائيًا.  لحسن الحظ ، هناك مثل هذه الأداة المساعدة في ترسانة rastomanov تسمى <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">rust-bindgen</a> .  وهي قادرة على إنشاء روابط FFI لمكتبات C (وبعض C ++). </p><br><p style=";text-align:right;direction:rtl">  التثبيت: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ cargo install bindgen</code> </pre> <br><p style=";text-align:right;direction:rtl">  <strong>كيف</strong> يبدو استخدام <strong>الصدأ - bindgen</strong> ؟  نأخذ ملفات رأس C / C ++ ، <strong>ونضع</strong> أداة <strong>bindgen</strong> عليها ، ونحصل على كود Rust الذي تم إنشاؤه مع تعريفات الهياكل والوظائف الهيكلية.  إليك ما يبدو عليه جيل FFI لـ snappy: </p><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs">$ bindgen /usr/include/snappy-ch | grep -C <span class="hljs-number"><span class="hljs-number">1</span></span> snappy_max_compressed_length <span class="hljs-keyword"><span class="hljs-keyword">extern</span></span> <span class="hljs-string"><span class="hljs-string">"C"</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">pub</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">snappy_max_compressed_length</span></span></span></span>(source_length: <span class="hljs-built_in"><span class="hljs-built_in">usize</span></span>) -&gt; <span class="hljs-built_in"><span class="hljs-built_in">usize</span></span>; }</code> </pre> <br><p style=";text-align:right;direction:rtl">  اتضح أن bindgen يمر أمام رؤوس BWAPI ، مما يولد أطنانًا من أوراق الرموز غير القابلة للاستخدام (بسبب وظائف الأعضاء الافتراضية ، std :: string في واجهة برمجة التطبيقات العامة ، وما إلى ذلك).  الشيء هو أن BWAPI مكتوب بلغة C ++.  يصعب استخدام C ++ بشكل عام حتى من مشروعات C ++.  بمجرد أن تكون المكتبة المترجمة أفضل للارتباط بنفس الرابط (الإصدارات المتطابقة) ، من الأفضل تحليل ملفات الرأس بنفس المترجم (الإصدارات المتطابقة).  لأن هناك العديد من العوامل التي يمكن أن تؤثر على النتيجة.  على سبيل المثال ، <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">التشويش</a> ، الذي لا يزال GNU GCC لا <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">يمكنه تنفيذه بدون أخطاء</a> .  هذه العوامل مهمة للغاية بحيث لا يمكن التغلب عليها حتى في <abbr title="إطار عمل اختبار C ++ من Google">gtest</abbr> ، <a href="">وأشارت</a> الوثائق <a href="">إلى</a> أنه سيكون من الأفضل لك بناء gtest كجزء من المشروع مع نفس المترجم ونفس الرابط. </p><br><h2 id="bwapi-c" style=";text-align:right;direction:rtl">  Bwapi-c </h2><br><p style=";text-align:right;direction:rtl">  لغة البرمجة C هي لغة مشتركة.  إذا كان rust-bindgen يعمل بشكل جيد للغة C ، فلماذا لا تنفذ BWAPI لـ C ثم تستخدم API الخاص به؟  فكرة جيدة! </p><br><p style=";text-align:right;direction:rtl">  نعم ، إنها فكرة جيدة حتى تنظر إلى الشجاعة في BWAPI وترى عدد الفئات والأساليب التي تحتاج إلى تنفيذها = (خاصةً جميع هذه التخطيطات للهياكل في الذاكرة والمجمعين وتصحيحات الذاكرة والأهوال الأخرى التي ليس لدينا وقت لها. من الضروري استخدام الحل الحالي إلى أقصى حد. </p><br><p style=";text-align:right;direction:rtl">  ولكن يجب أن نتعامل بطريقة أو بأخرى مع mangling و C ++ code و الوراثة ووظائف الأعضاء الافتراضية. </p><br><p style=";text-align:right;direction:rtl">  في C ++ ، هناك أداتان قويتان سنستخدمهما لحل مشكلتنا ، وهما <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">مؤشرات مبهمة</a> و <code>extern "C"</code> . </p><br><p style=";text-align:right;direction:rtl">  <code>extern "C" {}</code> رمز C ++ لإخفاء نفسه على أنه C. يسمح لك هذا بإنشاء أسماء وظائف خالصة بدون تغيير. </p><br><p style=";text-align:right;direction:rtl">  تعطينا المؤشرات المعتمة القدرة على محو نوع وإنشاء مؤشر إلى "نوع ما" لا نقدمه.  نظرًا لأن هذا مجرد إعلان من نوع ما ، وليس تنفيذه ، فمن المستحيل استخدام هذا النوع حسب القيمة ، ولا يمكن استخدامه إلا من خلال المؤشر. </p><br><p style=";text-align:right;direction:rtl">  لنفترض أن لدينا كود C ++ هذا: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> cpp { <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> bar; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_bar</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>-&gt;bar; } }; } <span class="hljs-comment"><span class="hljs-comment">// namespace cpp</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  يمكننا تحويله إلى رأس C مثل هذا: </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs cpp"><span class="hljs-keyword"><span class="hljs-keyword">extern</span></span> <span class="hljs-string"><span class="hljs-string">"C"</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo_</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-comment"><span class="hljs-comment">//    Foo //  cpp::Foo::get_bar int Foo_get_bar(Foo* self); }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  وجزء C ++ ، الذي سيكون الرابط بين رأس C وتطبيق C ++: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Foo_get_bar</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Foo* self)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//      cpp::Foo    ::get_bar return reinterpret_cast&lt;cpp::Foo*&gt;(self)-&gt;get_bar(); }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  لم يكن يجب التعامل مع جميع طرق الفصل بهذه الطريقة.  هناك فئات في BWAPI ، وهي عمليات يمكنك من خلالها تنفيذ نفسك باستخدام القيم الميدانية لهذه البنيات ، على سبيل المثال ، بنية هيكلية <code>typedef struct Position { int x; int y; } Position;</code> <code>typedef struct Position { int x; int y; } Position;</code>  وأساليب مثل <code>Position::get_distance</code> . </p><br><p style=";text-align:right;direction:rtl">  كان هناك من يجب محاكمتهم بطريقة خاصة.  على سبيل المثال ، يجب أن يكون AIModule مؤشرًا لفئة C ++ مع مجموعة محددة من وظائف الأعضاء الظاهرية.  ومع ذلك ، هنا هو <a href="">العنوان</a> <a href="">والتنفيذ</a> . </p><br><p style=";text-align:right;direction:rtl">  لذلك ، بعد عدة أشهر من العمل الشاق ، و <strong>554</strong> طريقة وعشرات من الفصول ، <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ولدت</a> مكتبة <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">BWAPI-C</a> عبر الأنظمة الأساسية ، والتي تتيح لك <a href="">كتابة برامج الروبوت في C.</a>  كان المنتج الثانوي عبارة عن تجميع متقاطع والقدرة على تنفيذ API بأي لغة أخرى تدعم FFI واتفاقية استدعاء cdecl. </p><br><p style=";text-align:right;direction:rtl">  إذا كنت تكتب مكتبة ، يرجى كتابة C API. </p><br><p style=";text-align:right;direction:rtl">  أهم ميزة في BWAPI-C هي أوسع قدرة على الاندماج مع اللغات الأخرى.  <code>Python</code> و <code>Ruby</code> و <code>Rust</code> و <code>PHP</code> و <code>Java</code> والعديد من الآخرين يعرفون كيفية العمل مع C ، وبالتالي يمكنك أيضًا كتابة روبوت عليها ، إذا كنت تعمل قليلاً مع ملف وتقوم بتطبيق أغلفةك. </p><br><h2 id="pishem-bota-na-c" style=";text-align:right;direction:rtl">  كتابة روبوت في C. </h2><br><p style=";text-align:right;direction:rtl">  يصف هذا الجزء المبادئ العامة لتصميم وحدات Starcraft. </p><br><p style=";text-align:right;direction:rtl">  هناك نوعان من برامج التتبُّع: الوحدة النمطية والعميل.  سننظر في مثال لكتابة وحدة نمطية. </p><br><p style=";text-align:right;direction:rtl">  الوحدة النمطية هي مكتبة قابلة للتنزيل ؛ يمكن رؤية المبدأ العام للتحميل <a href="">هنا</a> .  يجب أن تصدر الوحدة <code>newAIModule</code> : <code>newAIModule</code> و <code>gameInit</code> . </p><br><p style=";text-align:right;direction:rtl">  مع <code>gameInit</code> كل شيء بسيط ، يتم استدعاء هذه الوظيفة لتمرير مؤشر للعبة الحالية.  هذا المؤشر مهم جدا ، لأنه في براري BWAPI يعيش متغير ثابت عالمي يستخدم في بعض أجزاء الكود.  دعونا وصف <code>gameInit</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs cs"><span class="hljs-function"><span class="hljs-function">DLLEXPORT </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">gameInit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">* game</span></span></span><span class="hljs-function">)</span></span> { BWAPIC_setGame(game); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  <code>newAIModule</code> أكثر تعقيدًا بعض الشيء.  يجب أن ترجع مؤشر إلى فئة C ++ التي تحتوي على جدول أسلوب ظاهري بأسماء على <strong>XXXXX</strong> التي يتم استدعاؤها في أحداث لعبة معينة.  تحديد هيكل الوحدة: </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs cpp"><span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ExampleAIModule</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> AIModule_vtable* vtable_; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span>* name; } ExampleAIModule;</code> </pre> <br><p style=";text-align:right;direction:rtl">  يجب أن يكون الحقل الأول مؤشرًا إلى جدول الأساليب (السحر ، كل شيء).  إذن ، وظيفة <code>newAIModule</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs cpp"><span class="hljs-function"><span class="hljs-function">DLLEXPORT </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function">* </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">newAIModule</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ ExampleAIModule* <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">module</span></span> = (ExampleAIModule*) <span class="hljs-built_in"><span class="hljs-built_in">malloc</span></span>( <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(ExampleAIModule) ); <span class="hljs-keyword"><span class="hljs-keyword">module</span></span>-&gt;name = <span class="hljs-string"><span class="hljs-string">"ExampleAIModule"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">module</span></span>-&gt;vtable_ = &amp;module_vtable; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> createAIModuleWrapper( (AIModule*) <span class="hljs-keyword"><span class="hljs-keyword">module</span></span> ); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  <code>createAIModuleWrapper</code> هو سحر آخر يحول مؤشر C إلى مؤشر إلى فئة C ++ مع افتراضية <del>  الأساليب </del>  وظائف الأعضاء. </p><br><p style=";text-align:right;direction:rtl">  <code>module_vtable</code> هو متغير ثابت في جدول الطريقة ، وقيم الطرق مليئة <code>module_vtable</code> للوظائف العامة: </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs cpp"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> AIModule_vtable module_vtable = { onStart, onEnd, onFrame, onSendText, onReceiveText, onPlayerLeft, onNukeDetect, onUnitDiscover, onUnitEvade, onUnitShow, onUnitHide, onUnitCreate, onUnitDestroy, onUnitMorph, onUnitRenegade, onSaveGame, onUnitComplete }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onEnd</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AIModule* </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">module</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> isWinner)</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onFrame</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AIModule* </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">module</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onSendText</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AIModule* </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">module</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params">* text)</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onReceiveText</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AIModule* </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">module</span></span></span></span><span class="hljs-function"><span class="hljs-params">, Player* player, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params">* text)</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onPlayerLeft</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AIModule* </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">module</span></span></span></span><span class="hljs-function"><span class="hljs-params">, Player* player)</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onNukeDetect</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AIModule* </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">module</span></span></span></span><span class="hljs-function"><span class="hljs-params">, Position target)</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onUnitDiscover</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AIModule* </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">module</span></span></span></span><span class="hljs-function"><span class="hljs-params">, Unit* unit)</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onUnitEvade</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AIModule* </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">module</span></span></span></span><span class="hljs-function"><span class="hljs-params">, Unit* unit)</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onUnitShow</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AIModule* </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">module</span></span></span></span><span class="hljs-function"><span class="hljs-params">, Unit* unit)</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onUnitHide</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AIModule* </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">module</span></span></span></span><span class="hljs-function"><span class="hljs-params">, Unit* unit)</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onUnitCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AIModule* </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">module</span></span></span></span><span class="hljs-function"><span class="hljs-params">, Unit* unit)</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onUnitDestroy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AIModule* </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">module</span></span></span></span><span class="hljs-function"><span class="hljs-params">, Unit* unit)</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onUnitMorph</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AIModule* </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">module</span></span></span></span><span class="hljs-function"><span class="hljs-params">, Unit* unit)</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onUnitRenegade</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AIModule* </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">module</span></span></span></span><span class="hljs-function"><span class="hljs-params">, Unit* unit)</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onSaveGame</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AIModule* </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">module</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params">* gameName)</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onUnitComplete</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AIModule* </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">module</span></span></span></span><span class="hljs-function"><span class="hljs-params">, Unit* unit)</span></span></span><span class="hljs-function"> </span></span>{}</code> </pre> <br><p style=";text-align:right;direction:rtl">  من خلال اسم الوظائف وتوقيعاتها ، من الواضح تحت أي شروط وبأي حجج تسمى.  على سبيل المثال ، جعلت كل الوظائف فارغة باستثناء </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs java"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onStart</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AIModule* </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">module</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ ExampleAIModule* self = (ExampleAIModule*) <span class="hljs-keyword"><span class="hljs-keyword">module</span></span>; Game* game = BWAPIC_getGame(); Game_sendText(game, <span class="hljs-string"><span class="hljs-string">"Hello from bwapi-c!"</span></span>); Game_sendText(game, <span class="hljs-string"><span class="hljs-string">"My name is %s"</span></span>, self-&gt;name); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  يتم استدعاء هذه الوظيفة عندما تبدأ اللعبة.  يتم تمرير مؤشر إلى الوحدة النمطية الحالية كوسيطة.  يعيد <code>BWAPIC_getGame</code> مؤشرًا عالميًا إلى اللعبة التي حددناها عن طريق استدعاء <code>BWAPIC_setGame</code> .  لذا ، سنعرض مثالًا على الترجمة المتقاطعة وتشغيل الوحدة: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">bwapi-c/example$ tree . ├── BWAPIC.dll └── Dll.c 0 directories, 2 files bwapi-c/example$ i686-w64-mingw32-gcc -mabi=ms -shared -o Dll.dll Dll.c -I../include -L. -lBWAPIC bwapi-c/example$ cp Dll.dll ~/Starcraft/bwapi-data/ bwapi-c/example$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ~/Starcraft/bwapi-data/ Starcraft$ wine bwheadless.exe -e StarCraft.exe -l bwapi-data/BWAPI.dll --headful ... ... ...</code> </pre> <br><p style=";text-align:right;direction:rtl">  نضغط الأزرار ونبدأ اللعبة.  يمكنك قراءة المزيد عن الإطلاق على موقع <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">BWAPI</a> وفي <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">BWAPI-C</a> . </p><br><p style=";text-align:right;direction:rtl">  نتيجة الوحدة: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/cw/a-/41/cwa-41ihsyva-pj2stpef1xjn2g.png" alt="الصورة"></p><br><p style=";text-align:right;direction:rtl">  يمكن العثور على مثال أكثر تعقيدًا قليلاً لوحدة توضح العمل مع التكرارات والتحكم في الوحدة والبحث المعدني والإحصاءات في <a href="">bwapi-c / example / Dll.c.</a> </p><br><h2 id="bwapi-sys" style=";text-align:right;direction:rtl">  bwapi-sys </h2><br><p style=";text-align:right;direction:rtl">  في نظام Rasta البيئي ، <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">من المعتاد</a> استدعاء الحزم <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">بطريقة</a> معينة ترتبط بالمكتبات الأصلية.  أي حزمة foo-sys لها وظيفتان مهمتان: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  رابط إلى مكتبة libfoo الأصلية </li><li style=";text-align:right;direction:rtl">  يقدم تعريفات الدوال من مكتبة libfoo.  ولكن لا يتم توفير التصريحات فقط ، التجريد على مستوى عال في صناديق * -sys. </li></ul><br><p style=";text-align:right;direction:rtl">  لكي تتمكن حزمة * -sys من الارتباط بنجاح ، تقوم بدمج <a href="">بحث</a> مكتبة أصلية و / أو <a href="">تجميع</a> مكتبة من المصادر إليها. </p><br><p style=";text-align:right;direction:rtl">  لكي تقوم حزمة * -sys بتقديم إعلانات ، يجب على المرء إما كتابتها يدويًا أو إنشاؤها باستخدام bindgen.  مرة أخرى bindgen.  المحاولة الثانية =) </p><br><p style=";text-align:right;direction:rtl">  توليد المجلدات باستخدام bwapi-c يصبح فاحشًا: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">bindgen BWAPI.h -o lib.rs \ --opaque-type <span class="hljs-string"><span class="hljs-string">".+_"</span></span> \ --blacklist-type <span class="hljs-string"><span class="hljs-string">"std.*|__.+|.+_$|Game_v(Send|Print|Draw).*|va_list|.+_t$"</span></span> \ --no-layout-tests \ --no-derive-debug \ --raw-line <span class="hljs-string"><span class="hljs-string">"#![allow(improper_ctypes, non_snake_case)]"</span></span> \ -- -I../submodules/bwapi-c/include sed -i -r -- <span class="hljs-string"><span class="hljs-string">'s/.+\s+(.+)_;/pub struct \1;/'</span></span> lib.rs</code> </pre> <br><p style=";text-align:right;direction:rtl">  حيث <code>BWAPI.h</code> هو الملف الذي يتضمن جميع رؤوس العناوين من BWAPI-C. </p><br><p style=";text-align:right;direction:rtl">  على سبيل المثال ، للوظائف المعروفة بالفعل ، أنتج bindgen الإعلانات التالية: </p><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-keyword"><span class="hljs-keyword">extern</span></span> <span class="hljs-string"><span class="hljs-string">"C"</span></span> { <span class="hljs-comment"><span class="hljs-comment">/// BWAPIC_setGame must be called from gameInit to initialize BWAPI::BroodwarPtr pub fn BWAPIC_setGame(game: *mut Game); } extern "C" { pub fn BWAPIC_getGame() -&gt; *mut Game; }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  هناك استراتيجيتان: تخزين الكود الذي تم إنشاؤه في المستودع وإنشاء الكود على الطاير أثناء التجميع.  كل من هذه الأساليب لها مزاياها <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">وعيوبها</a> . </p><br><p style=";text-align:right;direction:rtl">  مرحبًا بكم في <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">bwapi-sys</a> ، وهي خطوة صغيرة أخرى نحو هدفنا. </p><br><p style=";text-align:right;direction:rtl">  تذكر ، لقد تحدثت عن عبر منصة؟  انضم <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">Nlinker</a> إلى <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">المشروع</a> ونفذ استراتيجية صعبة.  إذا كان الهدف هو Windows ، فقم بتنزيل BWAPIC الذي تم تجميعه بالفعل من github.  وبالنسبة للأهداف المتبقية ، نقوم بجمع BWAPI-C من مصادر OpenBW (سأخبرك بعد ذلك بقليل). </p><br><h2 id="bwapi-rs" style=";text-align:right;direction:rtl">  bwapi-rs </h2><br><p style=";text-align:right;direction:rtl">  الآن بعد أن أصبح لدينا المجلدات ، يمكننا وصف التجريدات عالية المستوى.  لدينا نوعان للعمل بهما: قيم نقية ومؤشرات معتمة. </p><br><p style=";text-align:right;direction:rtl">  مع القيم النقية ، كل شيء أبسط.  خذ اللون كمثال.  نحن بحاجة إلى جعله مناسبًا لاستخدام رمز Rust حتى نتمكن من استخدام الألوان بطريقة مريحة وطبيعية: </p><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs">game.draw_line(CoordinateType::Screen, (<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>), (<span class="hljs-number"><span class="hljs-number">30</span></span>, <span class="hljs-number"><span class="hljs-number">40</span></span>), Color::Red); ^^^</code> </pre> <br><p style=";text-align:right;direction:rtl">  لذلك من أجل الاستخدام المريح ، سيكون من الضروري تحديد لغة اصطلاحية لتعداد لغة الصدأ مع <a href="">ثوابت</a> من C ++ وتحديد طرق التحويل في bwapi_sys :: Color باستخدام <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">std :: convert :: From</a> trait: </p><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-comment"><span class="hljs-comment">// FFI version #[repr(C)] #[derive(Copy, Clone)] pub struct Color { pub color: ::std::os::raw::c_int, } // Idiomatic version #[derive(PartialEq, PartialOrd, Copy, Clone)] pub enum Color { Black = 0, Brown = 19, ...</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  على الرغم من الراحة ، يمكنك استخدام قفص <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">التعداد البدائي المشتق</a> . </p><br><p style=";text-align:right;direction:rtl">  مع مؤشرات مبهمة ، لن يكون الأمر أكثر صعوبة.  للقيام بذلك ، استخدم نمط <a href="">Newtype</a> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-keyword"><span class="hljs-keyword">pub</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Player</span></span></span></span>(*<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> sys::Player);</code> </pre> <br><p style=";text-align:right;direction:rtl">  أي أن Player هو بنية معينة ذات مجال خاص - مؤشر معتم خام من C. وهنا يمكنك وصف طريقة Player :: color: </p><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-keyword"><span class="hljs-keyword">impl</span></span> Player { <span class="hljs-comment"><span class="hljs-comment">//    Player::getColor  bwapi-sys //extern "C" { // pub fn Player_getColor(self_: *mut Player) -&gt; Color; //} pub fn color(&amp;self) -&gt; Color { // bwapi_sys::Player_getColor -    BWAPI-C // self.0 -   let color = unsafe { bwapi_sys::Player_getColor(self.0) }; color.into() //  bwapi_sys::Color -&gt; Color } }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  الآن يمكننا كتابة أول روبوت لدينا في Rust! </p><br><h2 id="pishem-bota-na-rust" style=";text-align:right;direction:rtl">  كتابة بوت في الصدأ </h2><br><p style=";text-align:right;direction:rtl">  كدليل على المفهوم ، سيبدو البوت كبلد مشهور واحد: كل وظائفه ستكون توظيف العمال وجمع المعادن. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/hx/r_/jm/hxr_jmj2fbsitx-tfw96p2pa2tu.png" alt="كوريا الشمالية"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ww/gf/lr/wwgflrekcnxtv75thaurrwcm0g8.png" alt="كوريا الجنوبية"></p><br><p style=";text-align:right;direction:rtl">  لنبدأ <code>gameInit</code> المطلوبة <code>gameInit</code> و <code>newAIModule</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-meta"><span class="hljs-meta">#[no_mangle]</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pub</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unsafe</span></span> <span class="hljs-keyword"><span class="hljs-keyword">extern</span></span> <span class="hljs-string"><span class="hljs-string">"C"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">gameInit</span></span></span></span>(game: *<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> void) { bwapi_sys::BWAPIC_setGame(game <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> *<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> bwapi_sys::Game); } <span class="hljs-meta"><span class="hljs-meta">#[no_mangle]</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pub</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unsafe</span></span> <span class="hljs-keyword"><span class="hljs-keyword">extern</span></span> <span class="hljs-string"><span class="hljs-string">"C"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">newAIModule</span></span></span></span>() -&gt; *<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> void { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> module = ExampleAIModule { name: <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>::from(<span class="hljs-string"><span class="hljs-string">"ExampleAIModule"</span></span>) }; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> result = wrap_handler(<span class="hljs-built_in"><span class="hljs-built_in">Box</span></span>::new(module)); result }</code> </pre> <br><p style=";text-align:right;direction:rtl">  <code>#[no_mangle]</code> تؤدي نفس الوظيفة التي يؤديها <code>#[no_mangle]</code> <code>extern "C"</code> في C ++.  داخل <code>wrap_handler</code> ، <code>wrap_handler</code> جميع أنواع السحر مع استبدال جدول الوظائف الافتراضية والتنكر كفئة C ++. </p><br><p style=";text-align:right;direction:rtl">  وصف هيكل الوحدة أبسط وأكثر جمالا من C: </p><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ExampleAIModule</span></span></span></span> { name: <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>, }</code> </pre> <br><p style=";text-align:right;direction:rtl">  أضف طريقتين لعرض الإحصائيات وإعطاء الأوامر: </p><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-keyword"><span class="hljs-keyword">impl</span></span> ExampleAIModule { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw_stat</span></span></span></span>(&amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> game = Game::get(); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> message = <span class="hljs-built_in"><span class="hljs-built_in">format!</span></span>(<span class="hljs-string"><span class="hljs-string">"Frame {}"</span></span>, game.frame_count()); game.draw_text(CoordinateType::Screen, (<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>), &amp;message); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">give_orders</span></span></span></span>(&amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> player = Game::get().self_player(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> unit <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> player.units() { <span class="hljs-keyword"><span class="hljs-keyword">match</span></span> unit.get_type() { UnitType::Terran_SCV | UnitType::Zerg_Drone | UnitType::Protoss_Probe =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> !unit.is_idle() { <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> unit.is_carrying_gas() || unit.is_carrying_minerals() { unit.return_cargo(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> <span class="hljs-literal"><span class="hljs-literal">Some</span></span>(mineral) = Game::get() .minerals() .min_by_key(|m| unit.distance_to(m)) { <span class="hljs-comment"><span class="hljs-comment">// WE REQUIRE MORE MINERALS unit.right_click(&amp;mineral, false); } } UnitType::Terran_Command_Center =&gt; { unit.train(UnitType::Terran_SCV); } UnitType::Protoss_Nexus =&gt; { unit.train(UnitType::Protoss_Probe); } UnitType::Zerg_Hatchery | UnitType::Zerg_Lair | UnitType::Zerg_Hive =&gt; { unit.train(UnitType::Zerg_Drone); } _ =&gt; {} }; } } }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  لكي يصبح نوع ExampleAIModule وحدة نمطية حقيقية ، تحتاج إلى تعليمه الاستجابة لأحداث <strong>onXXXX</strong> ، التي تحتاج إلى تنفيذ نوع EventHandler ، وهو تناظري للجدول الظاهري AIModule_vtable من C: </p><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-keyword"><span class="hljs-keyword">impl</span></span> EventHandler <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ExampleAIModule { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_start</span></span></span></span>(&amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>) { Game::get().send_text(&amp;<span class="hljs-built_in"><span class="hljs-built_in">format!</span></span>(<span class="hljs-string"><span class="hljs-string">"Hello from Rust! My name is {}"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.name)); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_end</span></span></span></span>(&amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>, _is_winner: <span class="hljs-built_in"><span class="hljs-built_in">bool</span></span>) {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_frame</span></span></span></span>(&amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.draw_stat(); <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.give_orders(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_send_text</span></span></span></span>(&amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>, _text: &amp;<span class="hljs-built_in"><span class="hljs-built_in">str</span></span>) {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_receive_text</span></span></span></span>(&amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>, _player: &amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> Player, _text: &amp;<span class="hljs-built_in"><span class="hljs-built_in">str</span></span>) {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_player_left</span></span></span></span>(&amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>, _player: &amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> Player) {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_nuke_detect</span></span></span></span>(&amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>, _target: Position) {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_unit_discover</span></span></span></span>(&amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>, _unit: &amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> Unit) {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_unit_evade</span></span></span></span>(&amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>, _unit: &amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> Unit) {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_unit_show</span></span></span></span>(&amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>, _unit: &amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> Unit) {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_unit_hide</span></span></span></span>(&amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>, _unit: &amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> Unit) {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_unit_create</span></span></span></span>(&amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>, _unit: &amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> Unit) {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_unit_destroy</span></span></span></span>(&amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>, _unit: &amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> Unit) {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_unit_morph</span></span></span></span>(&amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>, _unit: &amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> Unit) {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_unit_renegade</span></span></span></span>(&amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>, _unit: &amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> Unit) {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_save_game</span></span></span></span>(&amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>, _game_name: &amp;<span class="hljs-built_in"><span class="hljs-built_in">str</span></span>) {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_unit_complete</span></span></span></span>(&amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>, _unit: &amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> Unit) {} }</code> </pre> <br><p style=";text-align:right;direction:rtl">  بناء الوحدة وتشغيلها أمر سهل مثل C: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">bwapi-rs$ cargo build --example dll --target=i686-pc-windows-gnu bwapi-rs$ cp ./target/i686-pc-windows-gnu/debug/examples/dll.dll ~/Starcraft/bwapi-data/Dll.dll bwapi-rs$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ~/Starcraft/bwapi-data/ Starcraft$ wine bwheadless.exe -e StarCraft.exe -l bwapi-data/BWAPI.dll --headful ... ... ...</code> </pre> <br><p style=";text-align:right;direction:rtl">  وفيديو العمل: </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/rACbnWpI01M" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2 id="nemnogo-o-krosskompilyacii" style=";text-align:right;direction:rtl">  قليلا عن الترجمة المتقاطعة </h2><br><p style=";text-align:right;direction:rtl">  باختصار ، الصدأ جميل!  بنقرتين ، يمكنك وضع العديد من سلاسل الأدوات لمنصات مختلفة.  على وجه التحديد ، يتم تعيين سلسلة أدوات i686-pc-windows-gnu بواسطة الأمر: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">rustup target add i686-pc-windows-gnu</code> </pre> <br><p style=";text-align:right;direction:rtl">  يمكنك أيضًا تحديد kofig للشحن في جذر مشروع <code>.cargo/config</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs powershell">[<span class="hljs-type"><span class="hljs-type">target.i686</span></span>-<span class="hljs-type"><span class="hljs-type">pc</span></span>-<span class="hljs-type"><span class="hljs-type">windows</span></span>-<span class="hljs-type"><span class="hljs-type">gnu</span></span>] linker = <span class="hljs-string"><span class="hljs-string">"i686-w64-mingw32-gcc"</span></span> ar = <span class="hljs-string"><span class="hljs-string">"i686-w64-mingw32-ar"</span></span> runner = <span class="hljs-string"><span class="hljs-string">"wine"</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  وهذا كل ما عليك فعله لتجميع مشروع Rust الخاص بك من Linux على Windows. </p><br><h2 id="openbw" style=";text-align:right;direction:rtl">  Openbw </h2><br><p style=";text-align:right;direction:rtl">  ذهب هؤلاء الرجال أبعد من ذلك.  قرروا كتابة نسخة مفتوحة المصدر للعبة SC: BW!  وهم يقومون بعمل جيد.  كان أحد أهدافهم تنفيذ صور عالية الدقة ، ولكن SC: Remastered تسبقهم = (في الوقت الحالي ، يمكنك استخدام واجهة برمجة التطبيقات الخاصة بهم لكتابة برامج الروبوت (نعم ، أيضًا في C ++). ولكن الميزة الأكثر إثارة للدهشة هي القدرة على عرض الإعادة <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">مباشرة في المتصفح</a> . </p><br><h2 id="zaklyuchenie" style=";text-align:right;direction:rtl">  الخلاصة </h2><br><p style=";text-align:right;direction:rtl">  ظلت مشكلة لم يتم حلها أثناء التنفيذ: نحن لا نتحكم في تفرد الروابط ، وسيؤدي الوجود المتزامن لـ <code>&amp;mut</code> <code>&amp;</code> عند تغيير كائن إلى سلوك غير محدد.  مشكلة.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">حاول</a> التوقف تنفيذ الارتباطات الاصطلاحية ، لكن فتيله تلاشى قليلاً.  أيضًا ، لحل هذه المشكلة ، سيكون عليك تجريف واجهة برمجة تطبيقات C ++ وتعيين مؤهلات <code>const</code> بشكل صحيح. </p><br><p style=";text-align:right;direction:rtl">  لقد استمتعت حقًا بالعمل في هذا المشروع ، شاهدت الإعادة وانغمس بعمق في الغلاف الجوي.  تركت هذه اللعبة 믿어. 않을 정도 인 إرثًا.  لا توجد لعبة مشهورة مع SC: BW ، وتأثيرها على 대한민국 정치 에게 كان لا يمكن تصوره.  إن اللاعبين المحترفين في كوريا popular يحظون بشعبية مثل الدراما الكورية التي تبث في وقت الذروة.  또한، 한국 에서 프로 게이머 라면 군대 의 특별한 육군 에 입대 할 수 있다. </p><br><p style=";text-align:right;direction:rtl">  يعيش StarCraft! </p><br><h2 id="ssylki" style=";text-align:right;direction:rtl">  المراجع </h2><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">معمر</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">bwapi-rs</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">bwapi-sys</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">بوابي ج</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">بوابي</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">openbw</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar416743/">https://habr.com/ru/post/ar416743/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar416729/index.html">برنامج PYCON RUSSIA جاهز: 25 تقريرًا و 3 ورش عمل من المتحدثين من Google و Red Hat و Yelp و Yandex</a></li>
<li><a href="../ar416731/index.html">صقيع على الزجاج: كيفية صنع بلاستيك ميتجلاس للخدمة الشاقة</a></li>
<li><a href="../ar416737/index.html">A * Path Finding Algorithm in Voxel 3d Unity Game</a></li>
<li><a href="../ar416739/index.html">ASUS الجديد في Computex 2018</a></li>
<li><a href="../ar416741/index.html">استخدم المهاجمون شهادات D-Link المسروقة في برنامج سرقة كلمة المرور</a></li>
<li><a href="../ar416745/index.html">ASUS ROG الجديد في Computex 2018</a></li>
<li><a href="../ar416751/index.html">جمع المعلومات السياقية لتسجيل الدخول</a></li>
<li><a href="../ar416753/index.html">تم اختراق المكون الإضافي Hola VPN الشهير</a></li>
<li><a href="../ar416755/index.html">الإعجابات القصوى - لجنة التحقيق ضد</a></li>
<li><a href="../ar416757/index.html">اختبارات قشارية</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>