<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘©ğŸ¼â€ğŸ’» ğŸš¿ ğŸ‘¦ğŸ½ è®¡ç®—æœºè´Ÿè½½æ¨¡æ‹ŸæŒ‡ç¤ºå™¨ ğŸ†™ ğŸ‘¨ğŸ¼â€ğŸ³ ğŸ•</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æˆ‘æ›¾ç»è§è¿‡ClusterMçš„ä¸€ç¯‡æ–‡ç« ï¼Œä»–ç”¨æ—§æŒ‡ç¤ºå™¨çš„å½¢å¼åˆ¶ä½œäº†ä¸€ä¸ªå°éƒ¨ä»¶ã€‚ æˆ‘çœŸçš„å¾ˆå–œæ¬¢è¿™ä¸ªæƒ³æ³•ï¼Œå› ä¸ºåœ¨è¿™ä¸ªé¡¹ç›®ä¸­æœ‰ä¸€ç§æ„‰å¿«çš„å¤å¤æ„Ÿè§‰ã€‚ ä½†è¿™çœŸæ˜¯å€’éœ‰-æˆ‘ä»æ¥æ²¡æœ‰ä¸å¾®æ§åˆ¶å™¨æœ¬èº«åˆä½œè¿‡ï¼Œæ‰€ä»¥æˆ‘ç»å¸¸ç¼–ç¨‹ï¼Œæ‰€ä»¥æˆ‘æ¨è¿Ÿäº†å¾ˆé•¿æ—¶é—´ã€‚ ä½†æ˜¯æœ€è¿‘ï¼Œæˆ‘çœ‹äº†ä¸€ä¸ªè§†é¢‘ ï¼ŒAlexåœ¨ä»–çš„æœ‹å‹Open sourceçš„å¸®åŠ©ä¸‹...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>è®¡ç®—æœºè´Ÿè½½æ¨¡æ‹ŸæŒ‡ç¤ºå™¨</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/429582/"><p> æˆ‘æ›¾ç»è§è¿‡<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">ClusterMçš„</a>ä¸€ç¯‡æ–‡ç« ï¼Œä»–ç”¨æ—§æŒ‡ç¤ºå™¨çš„å½¢å¼åˆ¶ä½œäº†ä¸€ä¸ªå°éƒ¨ä»¶ã€‚ æˆ‘çœŸçš„å¾ˆå–œæ¬¢è¿™ä¸ªæƒ³æ³•ï¼Œå› ä¸ºåœ¨è¿™ä¸ªé¡¹ç›®ä¸­æœ‰ä¸€ç§æ„‰å¿«çš„å¤å¤æ„Ÿè§‰ã€‚ ä½†è¿™çœŸæ˜¯å€’éœ‰-æˆ‘ä»æ¥æ²¡æœ‰ä¸å¾®æ§åˆ¶å™¨æœ¬èº«åˆä½œè¿‡ï¼Œæ‰€ä»¥æˆ‘ç»å¸¸ç¼–ç¨‹ï¼Œæ‰€ä»¥æˆ‘æ¨è¿Ÿäº†å¾ˆé•¿æ—¶é—´ã€‚ ä½†æ˜¯æœ€è¿‘ï¼Œæˆ‘çœ‹äº†ä¸€ä¸ª<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è§†é¢‘</a> ï¼ŒAlexåœ¨ä»–çš„æœ‹å‹Open sourceçš„å¸®åŠ©ä¸‹ä¿®æ”¹äº†è¯¥ç¨‹åºï¼Œå¹¶å¼€å‘äº†ä¸€ç§ç”¨äºå¤„ç†Arduinoæ•°æ®çš„ç®—æ³•ã€‚ åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘æƒ³å±•ç¤ºå¦‚ä½•å®ç°æ­¤ä»»åŠ¡ã€‚ <a name="habracut"></a></p><br><h2 id="etap-i-kak-ya-razbiralsya-s-kodom-monitora-zagruzki"> ç¬¬ä¸€é˜¶æ®µã€‚æˆ‘å¦‚ä½•å¤„ç†å¯åŠ¨ç›‘è§†å™¨ä»£ç  </h2><br><img src="https://habrastorage.org/webt/i6/pr/5_/i6pr5_11vacgerae6znhx17fsrm.jpeg"><br><p> ä¸‹è½½ç›‘è§†ç¨‹åºåï¼Œæˆ‘å°†arduinoä¸æ˜¾ç¤ºå™¨è¿æ¥èµ·æ¥ï¼Œåœ¨è¯¥æ˜¾ç¤ºå™¨ä¸­ç¼å…¥äº†exampleReadç¤ºä¾‹åº“ä¸­çš„ä»£ç ï¼Œå®ƒä»…æ˜¾ç¤ºarduinoåœ¨comç«¯å£ä¸Šæ”¶åˆ°çš„æ‰€æœ‰å†…å®¹ã€‚ å¦‚æ‚¨æ‰€è§ï¼Œæˆ‘å¾—åˆ°äº†ä¸€ç³»åˆ—å­—ç¬¦ï¼Œèµ·åˆæˆ‘å°è¯•é€šè¿‡å®éªŒæ¥ç†è§£ï¼Œä½†éšå <del> åå£æ°´ </del> æˆ‘å†³å®šé‡‡å–æ›´åŠ ä¸“ä¸šçš„è¡ŒåŠ¨ï¼Œå¹¶ä½¿ç”¨ä»£ç é˜…è¯»å™¨æ‰“å¼€äº†æä¾›çš„æºä»£ç ã€‚ åœ¨å¸®åŠ©ä¸‹ï¼Œæˆ‘æ‰¾åˆ°äº†å°†æ‰€æœ‰æ•°æ®å‘é€åˆ°ä¸€ä¸ªæ•°ç»„ä¸­çš„éƒ¨åˆ†ï¼Œä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œå°†å…¶è®°å½•åœ¨ä¸€å¼ çº¸ä¸Šï¼Œå› ä¸ºæˆ‘æ²¡æœ‰å’ŒAlexåŠå…¶å›¢é˜Ÿä¸€èµ·æ›´æ”¹ä»£ç ï¼Œæ‰€ä»¥æˆ‘åªä½¿ç”¨äº†å¤„ç†å™¨ï¼Œè§†é¢‘å¡å’ŒRAMè´Ÿè½½å€¼ï¼Œè¿™äº›éƒ½æ˜¯PCdataå€¼[ 4]ï¼ŒPCdata [5]ï¼ŒPCdata [6]ã€‚ ä¹‹åï¼Œæˆ‘åªèƒ½ç»§ç»­ä½¿ç”¨Arduinoã€‚ </p><br><h2 id="etap-ii-razbiraemsya-s-parsingom-dannyh-i-ih-obrabotkoy"> ç¬¬äºŒé˜¶æ®µã€‚ æˆ‘ä»¬å¤„ç†æ•°æ®è§£æå’Œå¤„ç† </h2><br><p> è€å®è¯´ï¼Œæˆ‘ä¸ä¼šè¯´æˆ‘ä»¥åˆå­¦è€…æ€ªèƒçš„æ–¹å¼å¼„æ¸…æ¥šäº†ï¼Œæˆ‘åªæ˜¯æ„è¯†åˆ°æˆ‘éœ€è¦Alexç¼–å†™çš„ä»£ç ï¼Œè€Œæ²¡æœ‰ä»»ä½•ä¿®æ”¹ï¼Œæ‰€ä»¥æˆ‘å°†å…¶æ·»åŠ åˆ°äº†æˆ‘çš„ä»£ç ä¸­ã€‚ è§£æå¦‚ä¸‹ï¼š </p><br><pre><code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-type"><span class="hljs-type">Serial</span></span>.available() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-type"><span class="hljs-type">char</span></span> aChar = <span class="hljs-type"><span class="hljs-type">Serial</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">read</span></span>(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (aChar != <span class="hljs-string"><span class="hljs-string">'E'</span></span>) { inData[<span class="hljs-keyword"><span class="hljs-keyword">index</span></span>] = aChar; <span class="hljs-keyword"><span class="hljs-keyword">index</span></span>++; inData[<span class="hljs-keyword"><span class="hljs-keyword">index</span></span>] = <span class="hljs-string"><span class="hljs-string">'\0'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-type"><span class="hljs-type">char</span></span> *p = inData; <span class="hljs-type"><span class="hljs-type">char</span></span> *str; <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span>; String <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = ""; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ((str = strtok_r(p, ";", &amp;p)) != <span class="hljs-keyword"><span class="hljs-keyword">NULL</span></span>) { string_convert = str; PCdata[<span class="hljs-keyword"><span class="hljs-keyword">index</span></span>] = string_convert.toInt(); <span class="hljs-keyword"><span class="hljs-keyword">index</span></span>++; } <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span>; isDataExist = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } } }</code> </pre> <br><p> å¯ä»¥è‚¯å®šçš„æ˜¯ï¼Œé€šè¿‡lcd.Writeå‘½ä»¤ï¼Œæˆ‘äº¤æ›¿è¾“å‡ºPCdata [4]å€¼ï¼Œä»¥ç¡®ä¿æˆ‘æ¥å—æ‰€éœ€çš„æ•°æ®ã€‚ </p><br><p> æ¥ä¸‹æ¥ï¼Œæˆ‘å¼€å§‹å°†ç™¾åˆ†æ¯”æ•°æ®è½¬æ¢ä¸ºPWMä¿¡å·ã€‚ çŸ¥é“æˆ‘ä»¬å‘é€çš„ä¿¡å·æ˜¯0åˆ°255ä¹‹é—´çš„å€¼ï¼Œå¹¶ä¸”æˆ‘ä»¬æ¥å—äº†ä½¿ç”¨mapå‡½æ•°å¹¶ä½¿ç”¨constrainå‡½æ•°é™åˆ¶å€¼çš„0åˆ°100ä¹‹é—´çš„å€¼ï¼ˆè¿™æ˜¯å·¥ä½œè´Ÿè½½çš„ç™¾åˆ†æ¯”ï¼‰ï¼Œæˆ‘ç¼–å†™äº†ä¸€ä¸ªç®€å•çš„ä»£ç ï¼š </p><br><pre> <code class="hljs swift"> cpu = <span class="hljs-built_in"><span class="hljs-built_in">map</span></span>(cpu, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>); cpu = constrain(cpu, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>); analogWrite(<span class="hljs-number"><span class="hljs-number">9</span></span>, cpu); gpu= <span class="hljs-type"><span class="hljs-type">PCdata</span></span>[<span class="hljs-number"><span class="hljs-number">5</span></span>]; gpu = <span class="hljs-built_in"><span class="hljs-built_in">map</span></span>(gpu, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>); gpu = constrain(gpu, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>); analogWrite(<span class="hljs-number"><span class="hljs-number">3</span></span>, gpu); mem= <span class="hljs-type"><span class="hljs-type">PCdata</span></span>[<span class="hljs-number"><span class="hljs-number">6</span></span>]; mem = <span class="hljs-built_in"><span class="hljs-built_in">map</span></span>(mem, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>); mem = constrain(mem, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>); analogWrite(<span class="hljs-number"><span class="hljs-number">5</span></span>, mem);</code> </pre> <br><h2 id="etap-iii-kak-podklyuchit-3-indikatora-k-odnoy-arduino"> ç¬¬ä¸‰é˜¶æ®µã€‚ å¦‚ä½•å°†3ä¸ªæŒ‡æ ‡è¿æ¥åˆ°ä¸€ä¸ªarduinoï¼Ÿ </h2><br><p> å½“æˆ‘åˆšå¼€å§‹æ—¶ï¼Œæˆ‘åªè¿æ¥äº†ä¸€ä¸ªæŒ‡ç¤ºå™¨ï¼Œå¹¶ä¸”ä¸€åˆ‡éƒ½å¾ˆå¥½ï¼Œä½†æ˜¯ä¸€æ—¦ç¬¬äºŒä¸ªæŒ‡ç¤ºå™¨å‡ºç°ï¼Œé—®é¢˜å°±å¼€å§‹å‡ºç°ã€‚  Arduinoæ— æ³•å°†ä¸¤è€…â€œæ‘†åŠ¨â€åœ¨ä¸€èµ·ï¼Œæˆ‘æ€€ç–‘è¿™æ˜¯ç”±äºArduinoæ¿æ‰€è‡´ï¼Œæœ‰å¾ˆå¤šä¸œè¥¿ <del>  uzz </del> å¦‚æœæ‚¨å°†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">Atmega</a>æœ¬èº«ç”¨ä½œClusterMï¼Œåˆ™ä¼šæ¶ˆè€—èƒ½é‡ï¼ˆå„ç§LEDï¼Œç¨³å®šå™¨ï¼Œé˜²æ­¢å‚»ç“œç­‰ï¼‰â€“åº”è¯¥è¶³å¤Ÿï¼Œè‚¯å®šä¸¤ä¸ªã€‚ æˆ‘åœ¨mosfetæ™¶ä½“ç®¡çš„å¸®åŠ©ä¸‹è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œåœ¨è®¾è®¡æ¿ä¸Šä½¿ç”¨äº†Aliexpressçš„IRF520ï¼Œé€šè¿‡mosfetè¿æ¥äº†ä¸€ä¸ªæŒ‡ç¤ºå™¨ï¼Œç„¶åå°†ç¬¬äºŒä¸ªæŒ‡ç¤ºå™¨ç›´æ¥è¿æ¥åˆ°arduinoï¼Œå®ƒå°±èµ·ä½œç”¨äº†ã€‚ ç”±äºå¸¦æœ‰Aliçš„æœ¨æ¿å¤ªå¤§ï¼Œæˆ‘å†³å®šè‡ªå·±ç„Šæ¥ï¼Œæ ¹æœ¬ä¸æƒ³ä¸¾èµ·æœ¨æ¿ï¼Œæ‰€ä»¥æˆ‘ç”¨è®°å·ç¬”åœ¨çººç»‡å“ä¸Šç”»äº†ä¸€ä¸ªè®°å·ç¬”ã€‚ </p><br><img src="https://habrastorage.org/webt/fk/l2/rz/fkl2rzothg5lxanvefscxihmt1o.jpeg"><br><p> å®ƒç´§å‡‘åœ°å‡ºç°äº†ï¼Œä½†å¯¹æˆ‘è€Œè¨€ï¼Œè¿™æ˜¯ä¸»è¦çš„ã€‚ </p><br><p> æ¥çº¿å›¾ä¸å¸¦æœ‰Aliçš„æ¿çš„æ¥çº¿å›¾ç›¸åŒï¼Œå·®ä¸å¤šï¼Œæˆ‘å¸ä¸‹äº†LEDï¼Œå› ä¸ºè¿™é‡Œä¸éœ€è¦æ“ä½œæŒ‡ç¤ºã€‚ </p><br><img src="https://habrastorage.org/webt/_7/pq/df/_7pqdfwyws60s3dhbru2czlju-u.png"><br><h2 id="etap-iv-dizayn-zadnikov-dlya-indikatora"> ç¬¬å››é˜¶æ®µã€‚ æŒ‡æ ‡çš„è®¾è®¡èƒŒæ™¯ </h2><br><p> æˆ‘ä¸“é—¨ä¿ç•™äº†è®¾è®¡ä»¥ä¾›å‘å¸ƒï¼Œä½†æˆ‘æˆåŠŸåœ°ä¸¢å¤±äº†æœ€ç»ˆè‰å›¾ï¼Œä½†ä¿ç•™äº†æ”¾å¤§çš„åŸå‹ã€‚ åæ¥æˆ‘æ„è¯†åˆ°è¿™ä¸æ˜¯ä»€ä¹ˆå¤§é—®é¢˜ï¼Œå› ä¸ºæœ‰å¿…è¦è°ƒæ•´æŒ‡æ ‡çš„å¤§å°ï¼Œ <del> æ²¹æ¼† </del>  photoshop 2020ï¼Œæ‰€ä»¥æˆ‘ç¡®å®šæ‚¨ä¹Ÿå¯ä»¥å¯¹å…¶è¿›è¡Œä¿®æ”¹ã€‚ </p><br><img src="https://habrastorage.org/webt/he/sz/0s/hesz0spe3ejo-dgmmxsik52cwks.png"><br><p> åœ¨æˆ‘çœ‹æ¥ï¼Œç»“æœéå¸¸æœ‰è¶£ï¼Œä»ç„¶éœ€è¦ä¸ºèºé’‰å’Œç®­å¤´åˆ‡å‡ºä¸€ä¸ªä½ç½®-å®Œæˆï¼ </p><br><img src="https://habrastorage.org/webt/67/bm/mi/67bmmicweauyekyvt8ep-dhnay0.jpeg"><br><br><h2 id="etap-v-podsvetka-rgb"> èˆå°V.RGBèƒŒå…‰ </h2><br><p> å› ä¸ºåœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œæˆ‘æ„è¯†åˆ°æˆ‘æ— å¤„å¯æ¨LED-æœ€ç»ˆæˆ‘æ‹’ç»äº†ï¼Œä½†æ˜¯æˆ‘åšäº†åˆå§‹ä»£ç ï¼Œè¿™å¾ˆç®€å•-æ¯ä¸ªäººéƒ½å¯ä»¥å¤„ç†ï¼Œåªéœ€ä¸ºä¸‰ä¸ªæŒ‡ç¤ºå™¨æ·»åŠ æ‰€æœ‰é¢œè‰²å³å¯ã€‚ åœ¨é”™è§‰æ¿ä¸Šè®¾è®¡-åƒæ—¶é’Ÿä¸€æ ·å·¥ä½œï¼š </p><br><pre> <code class="hljs ruby"> void led() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (PCdata[<span class="hljs-number"><span class="hljs-number">4</span></span>] &lt; <span class="hljs-number"><span class="hljs-number">20</span></span> ) { digitalWrite (<span class="hljs-number"><span class="hljs-number">6</span></span>, HIGH);<span class="hljs-regexp"><span class="hljs-regexp">//</span></span>,       rgb } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>{ digitalWrite (<span class="hljs-number"><span class="hljs-number">6</span></span>, LOW); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (PCdata[<span class="hljs-number"><span class="hljs-number">4</span></span>] &gt; <span class="hljs-number"><span class="hljs-number">20</span></span> &amp;&amp; PCdata[<span class="hljs-number"><span class="hljs-number">4</span></span>] &lt; <span class="hljs-number"><span class="hljs-number">60</span></span> );<span class="hljs-regexp"><span class="hljs-regexp">//</span></span> ,     /<span class="hljs-regexp"><span class="hljs-regexp">/     { digitalWrite(5, HIGH);/</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   -  } /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/      }</span></span></code> </pre> <br><p>  <strong>æ€»ç»“</strong> <br> äº‹å®è¯æ˜ï¼Œè¿™æ˜¯ä¸€ä¸ªæœ‰è¶£çš„å°éƒ¨ä»¶ï¼Œåœ¨ç©æ¸¸æˆï¼Œç¼–è¾‘è§†é¢‘å’Œç…§ç‰‡æ—¶éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå¯ä»¥è¯„ä¼°è®¡ç®—æœºæ˜¯å¦è¿‡è½½ã€‚ </p><br><p> æç¤º-å°½é‡ä¸è¦ä¸¢æ‰æŒ‡æ ‡ï¼Œæˆ‘ä¸å°å¿ƒä»RAMè·Œè½äº†ï¼Œç®­å¤´æ²¡æœ‰æ¢å¤ä¸ºé›¶ï¼Œå®ƒå›ºå®šäº†ï¼Œä½†æ˜¯æ‹æ–å¾ˆç³Ÿç³•ã€‚ </p><br><p>  <strong>arduinoçš„å®Œæ•´ä»£ç </strong> </p><br><pre> <code class="hljs pgsql">//#<span class="hljs-keyword"><span class="hljs-keyword">include</span></span> &lt;Wire.h&gt; //    //#<span class="hljs-keyword"><span class="hljs-keyword">include</span></span> &lt;LiquidCrystal.h&gt; //    ,     //LiquidCrystal lcd(<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>); <span class="hljs-type"><span class="hljs-type">char</span></span> inData[<span class="hljs-number"><span class="hljs-number">82</span></span>]; //    () <span class="hljs-type"><span class="hljs-type">int</span></span> PCdata[<span class="hljs-number"><span class="hljs-number">20</span></span>]; //       byte <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span>; String string_convert; <span class="hljs-type"><span class="hljs-type">bool</span></span> isDataExist = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-type"><span class="hljs-type">int</span></span> cpu; <span class="hljs-type"><span class="hljs-type">int</span></span> mem; <span class="hljs-type"><span class="hljs-type">int</span></span> gpu; <span class="hljs-type"><span class="hljs-type">void</span></span> setup() { <span class="hljs-type"><span class="hljs-type">Serial</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">begin</span></span>(<span class="hljs-number"><span class="hljs-number">9600</span></span>); } <span class="hljs-type"><span class="hljs-type">void</span></span> <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span>() { parsing(); //led();       cpu = PCdata[<span class="hljs-number"><span class="hljs-number">4</span></span>]; cpu = map(cpu, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>); cpu = constrain(cpu, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>); analogWrite(<span class="hljs-number"><span class="hljs-number">9</span></span>, cpu); gpu= PCdata[<span class="hljs-number"><span class="hljs-number">5</span></span>]; gpu = map(gpu, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>); gpu = constrain(gpu, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>); analogWrite(<span class="hljs-number"><span class="hljs-number">3</span></span>, gpu); mem= PCdata[<span class="hljs-number"><span class="hljs-number">6</span></span>]; mem = map(mem, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>); mem = constrain(mem, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>); analogWrite(<span class="hljs-number"><span class="hljs-number">5</span></span>, mem); } <span class="hljs-type"><span class="hljs-type">void</span></span> parsing() { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-type"><span class="hljs-type">Serial</span></span>.available() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-type"><span class="hljs-type">char</span></span> aChar = <span class="hljs-type"><span class="hljs-type">Serial</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">read</span></span>(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (aChar != <span class="hljs-string"><span class="hljs-string">'E'</span></span>) { inData[<span class="hljs-keyword"><span class="hljs-keyword">index</span></span>] = aChar; <span class="hljs-keyword"><span class="hljs-keyword">index</span></span>++; inData[<span class="hljs-keyword"><span class="hljs-keyword">index</span></span>] = <span class="hljs-string"><span class="hljs-string">'\0'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-type"><span class="hljs-type">char</span></span> *p = inData; <span class="hljs-type"><span class="hljs-type">char</span></span> *str; <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span>; String <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = ""; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ((str = strtok_r(p, ";", &amp;p)) != <span class="hljs-keyword"><span class="hljs-keyword">NULL</span></span>) { string_convert = str; PCdata[<span class="hljs-keyword"><span class="hljs-keyword">index</span></span>] = string_convert.toInt(); <span class="hljs-keyword"><span class="hljs-keyword">index</span></span>++; } <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span>; isDataExist = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } } } <span class="hljs-comment"><span class="hljs-comment">/*void led() { if (PCdata[4] &lt; 20 ) { digitalWrite (6, HIGH);//       rgb } else{ digitalWrite (6, LOW); } if (PCdata[4] &gt; 20 &amp;&amp; PCdata[4] &lt; 60 );// ,     ,     { digitalWrite(5, HIGH);//   -  } //      } */</span></span></code> </pre> <br><p> ç›‘è§†ç¨‹åºåœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Alex</a>çš„æ¡£æ¡ˆä¸­ <br> æˆ‘ä½¿ç”¨çš„æ˜¯æ—§ç‰ˆæœ¬ï¼Œæ•ˆæœå¾ˆå¥½ï¼Œæ‰€ä»¥æˆ‘å»ºè®®æ‚¨ã€‚ </p><br><p> æˆ‘è¦æ„Ÿè°¢<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Alex</a>å’Œä»–çš„å›¢é˜Ÿå®Œæˆäº†å¼€æºä»£ç ï¼Œå¹¶æ„Ÿè°¢<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">ClusterM</a>ç”¨æˆ·æ¼”ç¤ºäº†ä»–çš„å°å·¥å…·ï¼Œå¹¶æ„Ÿè°¢æˆ‘çš„çˆ¶äº²ä¸ºè§£å¯†ä»£ç æä¾›äº†å¸®åŠ©ã€‚ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN429582/">https://habr.com/ru/post/zh-CN429582/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN429570/index.html">æ•™ç‰¹å·¥ç©å¸¦è¿‡æ»¤å™¨çš„é©¬é‡Œå¥¥èµ›è½¦</a></li>
<li><a href="../zh-CN429572/index.html">ä½¿ç”¨Devicelock DLPæ‹¦æˆªSkypeä¸­çš„ç§äººå¯¹è¯</a></li>
<li><a href="../zh-CN429574/index.html">CheckMatesçš„åˆå­¦è€…è¯¾ç¨‹å…è´¹æ£€æŸ¥ç«™</a></li>
<li><a href="../zh-CN429578/index.html">Infer.NETä»£ç ä¸­éšè—äº†å“ªäº›é”™è¯¯ï¼Ÿ</a></li>
<li><a href="../zh-CN429580/index.html">iOSä¸­çš„å¾®äº¤äº’ã€‚ Yandexè®²åº§</a></li>
<li><a href="../zh-CN429586/index.html">å¦‚ä½•ç¡®å®šåœ¨äº¤æ˜“æ‰€è¿›è¡Œäº¤æ˜“çš„æœ€ä½³æ—¶é—´</a></li>
<li><a href="../zh-CN429588/index.html">å…³äºRTOSçš„å…¨éƒ¨çœŸç›¸ã€‚ ç¬¬20æ¡ ä¿¡å·é‡ï¼šè¾…åŠ©æœåŠ¡å’Œæ•°æ®ç»“æ„</a></li>
<li><a href="../zh-CN429590/index.html">åŸºäºSOLRçš„å‘¼å«ä¸­å¿ƒçš„è¯­éŸ³åˆ†æ</a></li>
<li><a href="../zh-CN429592/index.html">é“¶è¡Œå¡å¦‚ä½•å½±å“ç»æµä»¥åŠä¸ºä»€ä¹ˆæ¯çƒä¸èµ·é£</a></li>
<li><a href="../zh-CN429594/index.html">åˆ†å­å¾®é©¬è¾¾é€Ÿåº¦åˆ†æç”¨äºHIVè¯Šæ–­</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>