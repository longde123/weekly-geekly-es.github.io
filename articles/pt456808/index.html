<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏾‍🔧 😸 👃🏼 Como melhorar o desempenho de aplicativos Web front-end: cinco dicas 🏭 🔣 🐁</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Em muitos dos meus projetos de front-end, em algum momento eu me deparei com uma diminuição na produtividade - isso geralmente acontece quando a compl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como melhorar o desempenho de aplicativos Web front-end: cinco dicas</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/alconost/blog/456808/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/p2/n1/fh/p2n1fhon961as8f21unatry3hfi.jpeg"></a> <br><br>  Em muitos dos meus projetos de front-end, em algum momento eu me deparei com uma diminuição na produtividade - isso geralmente acontece quando a complexidade do aplicativo aumenta e isso é normal.  No entanto, os desenvolvedores ainda são responsáveis ​​pelo desempenho, portanto, em meu artigo, darei cinco dicas para otimizar os aplicativos que me aplico: alguns podem parecer óbvios, outros afetam os princípios básicos da programação - mas, penso, atualizar a memória não é supérfluo será.  Cada dica é apoiada por testes: você pode executá-las e testar o desempenho. <br><br>  <b>Traduzido para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Alconost</a></b> <br><a name="habracut"></a><br><h2>  Prefácio </h2><br>  Lembre-se: se o código não precisar de otimização, não entre nele.  Obviamente, o código que você escreve deve funcionar rapidamente, e você sempre pode criar um algoritmo mais rápido - mas o código escrito deve permanecer claro para outros desenvolvedores.  Na palestra “Programação como arte”, Donald Knuth expressou uma ideia muito importante sobre otimização de código: <br><br><blockquote>  <i>O verdadeiro problema era que os programadores passavam muito tempo se preocupando com a eficiência em locais inapropriados e em momentos inadequados.</i>  <i><b>A otimização prematura é a raiz de todos os erros de</b> programação (ou pelo menos a maioria).</i> <i><br></i> </blockquote><br><h2>  1. Pesquisa: em vez de matrizes comuns - objetos e matrizes associativas </h2><br>  Ao trabalhar com dados, as situações geralmente surgem quando, por exemplo, você precisa encontrar um objeto, fazer algo com ele, depois encontrar outro objeto e assim por diante.  A estrutura de dados mais comum em JS é uma matriz, portanto, armazenar dados neles é uma prática normal.  No entanto, sempre que você precisar encontrar algo na matriz, precisará usar métodos como "find", "indexOf", "filter" ou iterar com loops - ou seja, você precisará iterar os elementos do início ao fim.  Assim, realizamos uma pesquisa linear, cuja complexidade é 0 (n) (na pior das hipóteses, precisaremos realizar tantas comparações quanto elementos na matriz).  Se você fizer essa operação algumas vezes em pequenas matrizes, o impacto no desempenho será pequeno.  No entanto, se tivermos muitos elementos e a operação for realizada várias vezes, o desempenho certamente falhará. <br><br>  Nesse caso, será uma boa solução converter um array regular em um objeto ou array associativo e realizar uma pesquisa de chave: nessas estruturas, os elementos podem ser acessados ​​com complexidade O (1) - teremos uma chamada de memória, independentemente do tamanho.  Melhorar a velocidade do trabalho é alcançado através do uso de uma estrutura de dados chamada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tabela de hash</a> . <br><br>  Você pode testar o desempenho aqui: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://jsperf.com/finding-element-object-vs-map-vs-array/1</a> .  Abaixo estão meus resultados: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3c0/3e0/62f/3c03e062f1990f348bdd5fb7084e7278.png"><br><br>  A diferença é muito significativa: para uma matriz associativa e um objeto, recebi milhões de operações por segundo, enquanto para uma matriz, o melhor resultado é um pouco mais de cem operações.  Obviamente, a conversão de dados não é levada em consideração aqui, mas mesmo levando em consideração sua operação será muito mais rápida. <br><br><h2>  2. Em vez de exceções - o operador condicional "se" </h2><br>  Às vezes, parece mais fácil pular a verificação nula e capturar as exceções correspondentes.  Obviamente, esse é um mau hábito - você não precisa fazer isso e, se tiver um no seu código, basta reescrever as seções correspondentes.  Mas, para convencê-lo completamente, apoiarei essa recomendação com testes.  Decidi testar três maneiras de fazer verificações: a expressão “try-catch”, a condição “if” e o cálculo de “short circuit”. <br><br>  Teste: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://jsperf.com/try-catch-vs-conditions/1</a> .  Abaixo estão meus resultados: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d74/4d8/9eb/d744d89eb0f25200abece3ccb5370f8b.png"><br><br>  Eu acho que é óbvio daqui que uma verificação de "nulo" é necessária.  Além disso, como você pode ver, quase não há diferença entre a condição "se" e o cálculo do "curto-circuito" - então aplique ao que a alma está. <br><br><h2>  3. Quanto menos ciclos, melhor </h2><br>  Outra consideração óbvia, mas talvez controversa.  Existem muitas funções convenientes para matrizes: “mapa”, “filtro”, “redução”, para que seu uso seja atraente, e o código com eles pareça mais limpo e mais fácil de ler.  Mas quando surgir a questão de melhorar a produtividade, você pode tentar reduzir o número de funções chamadas.  Decidi analisar dois casos: 1) "filtrar", depois "mapear" e 2) "filtrar" e depois "reduzir" - e compará-los com a cadeia funcional, "forEach" e o tradicional "for" loop.  Por que exatamente esses dois casos?  A partir dos testes, será visto que os benefícios obtidos podem não ser muito significativos.  Além disso, no segundo caso, também tentei usar "filtro" ao chamar "reduzir". <br><br>  Teste de desempenho para "filtro" e "mapa": <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://jsperf.com/array-function-chains-vs-single-loop-filter-map/1</a> .  Meus resultados: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/600/8f7/a78/6008f7a7819add9d68e1b4311d489461.png"><br><br>  Pode-se ver que um ciclo é mais rápido, mas a diferença é pequena.  A razão para uma lacuna tão pequena é a operação "push", que não é necessária ao usar o "mapa".  Portanto, nesse caso, você pode pensar se é realmente necessário prosseguir para um ciclo. <br><br>  Agora, verifique "filtro" + "redução": <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://jsperf.com/array-function-chains-vs-single-loop-filter-reduce/1</a> .  Meus resultados: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b6e/0ae/a22/b6e0aea22e9b87555180ed93a7b0bdad.png"><br><br>  Aqui a diferença já é maior: a combinação de duas funções em uma acelerou a execução em quase metade.  No entanto, a transição para o tradicional "for" ciclo dá um aumento muito mais significativo na velocidade. <br><br><h2>  4. Use regularmente para loops </h2><br>  Esse conselho também pode parecer controverso, porque os desenvolvedores adoram ciclos funcionais: eles são bem lidos e podem simplificar o trabalho.  No entanto, eles são menos eficazes que os ciclos tradicionais.  Eu acho que você já deve notar a diferença no uso de para loops, mas vamos dar uma olhada em um teste separado: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://jsperf.com/for-loops-in-few-different-ways/</a> .  Como você pode ver, além dos mecanismos internos, também verifiquei "forEach" na biblioteca "Lodash" e "each" em "jQuery".  Resultados: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f1d/06f/e3d/f1d06fe3d1ff046226ff524737538676.png"><br><br>  E, novamente, vemos que o loop "for" mais simples é muito mais rápido que o resto.  É verdade que esses loops são bons apenas para matrizes - no caso de outros objetos iteráveis, você deve usar "forEach", "for ... of" ou o próprio iterador.  Mas "for ... in" deve ser aplicado apenas se não houver outros métodos.  Além disso, lembre-se de que "para ... em" aceita todas as propriedades do objeto (e na matriz as propriedades são índices), o que pode levar a resultados imprevisíveis.  Surpreendentemente, os métodos do Lodash e do jQuery não eram tão ruins em termos de desempenho; portanto, em alguns casos, você pode usá-los com segurança em vez do “forEach” embutido (é interessante que no teste o loop do Lodash funcionou mais rápido que o embutido). <br><br><h2>  5. Use as funções internas para trabalhar com o DOM </h2><br>  Às vezes, você olha para o código de outra pessoa e vê que o desenvolvedor importou o jQuery apenas para manipular o DOM - tenho certeza que você também viu isso, porque esta é uma das bibliotecas JavaScript mais populares.  É claro que não há nada errado em usar bibliotecas para controlar o DOM: hoje usamos React e Angular, e eles fazem o mesmo.  No entanto, algumas vezes parece que o jQuery deve ser usado mesmo para operações simples para extrair um elemento do DOM e fazer pequenas alterações nele. <br><br>  Aqui está uma comparação das funções internas do DOM e operações similares do JQuery em três casos diferentes: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://jsperf.com/native-dom-functions-vs-jquery/1</a> .  Meus resultados: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a1f/921/4ed/a1f9214ed02f914a5cf613d90bafb05c.png"><br><br>  E, novamente, as funções mais básicas - "getElementById" e "getElementsByClassName" - acabaram sendo as mais rápidas ao exibir o DOM.  No caso de identificadores e seletores avançados, o querySelector também é mais rápido que o jQuery.  E em apenas um caso, o "querySelectorAll" é mais lento que o jQuery (obtendo elementos pelo nome da classe).  Para obter mais informações sobre como e como substituir o jQuery, consulte aqui: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">http://youmightnotneedjquery.com</a> . <br><br>  É claro que, se você já estiver usando a biblioteca para gerenciar o DOM, é altamente recomendável que você se atenha a ela - no entanto, para casos simples, ferramentas internas são suficientes. <br><br><h2>  Materiais adicionais </h2><br>  Essas cinco dicas ajudarão você a escrever um código JavaScript mais rápido.  Mas se você estiver interessado em ler mais sobre otimização de desempenho, aqui estão algumas recomendações: <br><br>  1. Otimização de pacotes configuráveis ​​JavaScript usando o Webpack: este é um tópico muito extenso, mas se tudo for feito corretamente, o carregamento de aplicativos poderá ser significativamente acelerado. <br><br>  2. Estruturas de dados, algoritmos básicos e sua complexidade: muitos acreditam que isso é "apenas uma teoria", mas no primeiro parágrafo vimos como essa teoria funciona na prática. <br><br>  3. Testes na página <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">jsPerf</a> : aqui você pode se familiarizar com uma comparação de diferentes maneiras de realizar a mesma tarefa em JavaScript e, ao mesmo tempo, ver um indicador importante na prática - a diferença de velocidade. <br><br>  <b>Sobre o tradutor</b> <br><br>  O artigo foi traduzido por Alconost. <br><br>  A Alconost <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">localiza jogos</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aplicativos e sites</a> em 70 idiomas.  Tradutores nativos, testes linguísticos, plataforma em nuvem com API, localização contínua, gerentes de projeto 24/7, qualquer formato de recursos de string. <br><br>  Também criamos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">vídeos de publicidade e treinamento</a> - para sites que vendem, imagem, publicidade, treinamento, teasers, exploradores, trailers do Google Play e da App Store. <br><br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Leia mais</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt456808/">https://habr.com/ru/post/pt456808/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt456794/index.html">Arquitetura da interface do usuário da Web: um passado de madeira, um presente estranho e um futuro brilhante</a></li>
<li><a href="../pt456796/index.html">Svalbard - novo nome para o projeto Fui Pwned antes da venda</a></li>
<li><a href="../pt456798/index.html">Tutoriais SDL 2: Lição 5 - Texturas</a></li>
<li><a href="../pt456804/index.html">Siga o dinheiro: como o grupo RTM começou a ocultar os endereços dos servidores C&C em uma carteira criptográfica</a></li>
<li><a href="../pt456806/index.html">Um bot de todas as preocupações</a></li>
<li><a href="../pt456810/index.html">Os primeiros. Uma história livre de Tesla</a></li>
<li><a href="../pt456812/index.html">O que há na Universidade ITMO - festivais de TI, hackers, conferências e seminários abertos</a></li>
<li><a href="../pt456814/index.html">Aprenda programação funcional em Python em 10 minutos</a></li>
<li><a href="../pt456818/index.html">O administrador do sistema em uma empresa inacessível. O fardo insuportável do ser?</a></li>
<li><a href="../pt456820/index.html">Argila → Tijolo → Fogão</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>