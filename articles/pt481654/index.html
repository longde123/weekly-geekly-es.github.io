<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîë üß° ‚õ±Ô∏è A hist√≥ria de como o engenheiro de controle de qualidade tornou a vida mais f√°cil para voc√™ com a ajuda do Test IT, usando o Bot Framework üëéüèª ‚õ™Ô∏è üçâ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="N√£o √© segredo que um bom software difere do restante, n√£o na funcionalidade, mas na qualidade das fun√ß√µes declaradas. Afinal, ningu√©m precisa de um so...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>A hist√≥ria de como o engenheiro de controle de qualidade tornou a vida mais f√°cil para voc√™ com a ajuda do Test IT, usando o Bot Framework</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/481654/">  N√£o √© segredo que um bom software difere do restante, n√£o na funcionalidade, mas na qualidade das fun√ß√µes declaradas.  Afinal, ningu√©m precisa de um software rico em funcionalidades, se simplesmente n√£o funcionar.  Mas como voc√™ consegue dizer aos desenvolvedores a tempo que algo est√° errado com o projeto? <br><br>  Hoje falaremos um pouco sobre os problemas de comunica√ß√£o entre departamentos da empresa e, ao mesmo tempo, com o exemplo de Test IT, veremos o que nos ajudou a entender o Zen: imparcial, com um cora√ß√£o de pedra e uma alma de um algoritmo - um bot no Bot Framework.  Bem-vindo ao gato! <br><br><img src="https://habrastorage.org/webt/ep/ib/35/epib35fafiigqx2quacusrkv4h8.jpeg"><br><br><a name="habracut"></a><br><br>  H√° muito que se acredita que na guerra a principal ferramenta √© a comunica√ß√£o.  Sem comunica√ß√£o, √© imposs√≠vel coordenar suas tropas, descobrir not√≠cias dos campos, fornecer apoio e acompanhar as a√ß√µes do inimigo.  E o que √© desenvolvimento, sen√£o uma guerra local de v√°rios departamentos por um produto? <br><br>  E se, nos tempos antigos, eles usavam um mensageiro, um mensageiro e, posteriormente, telefone, para divulgar not√≠cias, ent√£o no limiar de 2020 seria estranho usar essas tecnologias, especialmente quando seu ex√©rcito trabalhando em um produto pode ser distribu√≠do muito al√©m dos limites de um escrit√≥rio.  Aqui est√° o nosso engenheiro de controle de qualidade e fez uma pergunta semelhante. <br><br>  Obviamente, voc√™ pode escrever detalhes sobre o teste falhado em um bate-papo ao vivo.  Mas isso exigir√° tempo que voc√™ n√£o deseja gastar no mesmo tipo de notifica√ß√£o.  Voc√™ pode adicionar um comando ao portal de <a href="http://testit.software/" rel="nofollow">TI de teste</a> e for√ß√°-los a verificar o status dos autotestes.  E isso tamb√©m resolver√° parcialmente o problema, mas a necessidade de estar constantemente no portal distrair√° bastante a equipe de desenvolvimento.  Precisamos de algo mais simples, sem perder tempo enviando notifica√ß√µes mais uma vez. <br><br>  Seguindo essa l√≥gica, chegamos aos webhooks.  Eles automatizar√£o o envio de notifica√ß√µes e logs cr√≠ticos do sistema para qualquer ferro conectado √† Internet. <br>  Ent√£o, resolvemos o canal de comunica√ß√£o.  √â hora de pensar para onde os webhooks devem enviar suas notifica√ß√µes.  Idealmente, essa deveria ser uma plataforma que combina v√°rios mensageiros instant√¢neos e e-mail para os amantes dos cl√°ssicos.  E, como voc√™ pode imaginar no t√≠tulo do artigo, a plataforma caiu no Bot Framework. <br><br>  Essa combina√ß√£o atende totalmente aos requisitos de notifica√ß√µes urgentes, expandir√° os recursos do bot sem interferir nos casos de teste e na plataforma.  E o pr√≥prio bot se tornar√° nosso assistente de desenvolvimento, que ler√° incansavelmente um bate-papo em funcionamento e nos notificar√° sobre qualquer evento de interesse no TMS Test IT. <br><br>  No artigo de hoje, consideraremos um exemplo do uso do bot no Telegram para enviar notifica√ß√µes √†s equipes de desenvolvimento e teste da plataforma Test IT. <br><br><h2>  Crie um projeto e um bot </h2><br>  Acesse o portal e crie um novo projeto: <br><br><img src="https://habrastorage.org/webt/v_/pk/3q/v_pk3qflfqch1yn9izqlwgedoga.png" alt="imagem"><br><br>  O projeto inclui casos de teste, testes autom√°ticos, listas de verifica√ß√£o, webhooks e muito mais. <br><br>  Em seguida, crie um plano de teste.  Deixe que ele tenha o mesmo nome descomplicado que o nome do projeto: <br><br><img src="https://habrastorage.org/webt/e_/nz/r-/e_nzr-xcf-ltulj3k_ys6flrxjy.png" width="40%" height="40%" alt="imagem"><br><br>  Al√©m disso, voc√™ pode adicionar novos casos de teste, mas iremos diretamente para a cria√ß√£o do nosso assistente inteligente.  N√£o feche o portal, retornaremos a ele para configurar webhooks. <br>  O desenvolvimento ser√° conduzido no .Net Framework (bem, onde sem ele) usando o Azure.  Na verdade, come√ßaremos com o <a href="https://portal.azure.com/" rel="nofollow">Azure</a> . <br><br>  Acesse o portal e procure o Web App Bot: <br><br><img src="https://habrastorage.org/webt/d-/3m/f2/d-3mf2u2tjh3clmcxomas5b6otc.jpeg" alt="imagem"><br><br>  Clique em "Criar", preencha os campos obrigat√≥rios e expanda.  Como parte do artigo, implantaremos inicialmente o modelo Echo Bot e, futuramente, desenvolveremos nele <br>  Quando o bot for implantado com sucesso, √© hora de se conectar aos seus canais de comunica√ß√£o com o bot.  Uma lista muito grande de mensageiros e op√ß√µes de comunica√ß√£o √© apresentada √† escolha do desenvolvedor, mas o Telegram √© suficiente para nossos prop√≥sitos. <br><br>  Para fazer isso, escreva alguns bons comandos no bot <a href="https://t.me/BotFather" rel="nofollow">@BotFather</a> e crie um novo bot.  Felizmente, ele se comunica conosco de maneira muito amig√°vel, ajudando a criar sua pr√≥pria esp√©cie.  O Bot Father foi criado no Telegram para controlar outros bots.  Sim, n√£o admira que o nome dele seja o pai dos bots! <br><br>  No final do registro, o Bot Father deve fornecer a chave exclusiva de nosso filho.  Temos o prazer de copi√°-lo, agradecer ao pai dessa fam√≠lia estranha e retornar ao portal do Azure. <br><br>  Agora precisamos fazer o download do c√≥digo-fonte do bot para que possamos trabalhar diretamente com ele em nosso IDE: <br><br><img src="https://habrastorage.org/webt/7k/u8/fy/7ku8fyhogapaqix9wt-wqaon86i.jpeg" alt="imagem"><br><br>  Imediatamente podemos obter um emulador para depura√ß√£o local.  Se seu bot tiver um pouco mais de l√≥gica do que a sa√≠da de "Hello world", √© melhor obter as ferramentas para depurar e testar seu novo membro da equipe. <br><br>  Diretamente no portal, n√≥s apenas tivemos que abrir nosso novo bot, ir para a aba ‚ÄúChannels‚Äù, adicionar um canal de Telegram e dar a chave, gentilmente deixada pelo pai dos bots.  Al√©m disso, para evitar que o bot sofra um longo per√≠odo de inatividade, √© aconselh√°vel mudar para o servi√ßo de aplicativo (o nome √© semelhante ao nome do nosso bot no portal) -&gt; configura√ß√£o -&gt; par√¢metros gerais e, na coluna "Always On", selecione o status "Enabled".  Caso contr√°rio, seu bot poder√° adormecer e leva um tempo precioso para que os usu√°rios finais o iniciem. <br><br><img src="https://habrastorage.org/webt/th/we/yt/thweyt618vbqmm5nr8ac-ycl36k.jpeg" alt="imagem"><br><br>  Al√©m disso, como ainda estamos no portal do Azure, implantaremos um pequeno banco de dados para esse bot.  √ötil para armazenar uma lista de √≠ndices de grupo e suas chaves secretas.  Voc√™ pode ler mais sobre a implanta√ß√£o do banco de dados <a href="https://docs.microsoft.com/en-us/azure/sql-database/sql-database-single-database-get-started%3Ftabs%3Dazure-portal" rel="nofollow">aqui</a> . <br><br>  Portanto, se ao acessar nosso bot no Telegram, ele retornar nossa mensagem, significa que fizemos tudo certo e a guia com o Azure pode ser adiada para tempos melhores.  Agora voc√™ pode come√ßar a trabalhar na l√≥gica do nosso assistente. <br><br><h2>  N√≥s dirigimos os c√©rebros do bot </h2><br><br><img src="https://habrastorage.org/webt/el/fd/mo/elfdmo57rvfb8bwht6vsckfyfje.jpeg" alt="imagem"><br><br>  Para quem tem experi√™ncia com o ASP.NET Core, nada de novo vir√° a seguir.  O restante deixar√° um breve manual sobre o que fazer a seguir: <br><br><ul><li>  Ensinar o aplicativo a trabalhar com o Entity Framework e a amarrar o banco de dados.  √â necess√°rio que o bot possa armazenar as comunica√ß√µes do ChatID, o status de ignorar o chat e o "secretKeyBot" das entidades recebidas no banco de dados.  Isso permitir√° usar o bot n√£o apenas dentro da estrutura deste projeto e da empresa como um todo, mas tamb√©m adicion√°-lo livremente a grupos para todos; </li><li>  Adicione modelo de dados e controlador de API.  Em nossa aplica√ß√£o, deve haver algum ponto de entrada externo atrav√©s do qual voc√™ pode acessar o bot e transmitir o corpo da solicita√ß√£o.  O modelo de dados √© a representa√ß√£o do corpo da solicita√ß√£o e o controlador deve trabalhar com uma chamada externa; </li><li>  Escreva quebra-cabe√ßas e equipes de servi√ßo.  Se tudo estiver claro com o kruds, o servi√ßo de comando ser√° nossa l√≥gica de neg√≥cios para processar mensagens de bate-papo.  Inicialmente, quer√≠amos abafar as notifica√ß√µes do bot em qualquer bate-papo em particular.  Uma das op√ß√µes para fazer isso √© diretamente com o comando chat, que o bot deve processar e lembrar apenas desse chat. </li><li>  Teste o bot em um ambiente local usando um emulador.  Caras especialmente experientes podem carregar o bot diretamente no Azure e observar seu comportamento por meio de um bate-papo no Telegram, mas, nesse caso, o bot n√£o retornar√° uma descri√ß√£o detalhada dos erros.  Sim, e os pontos de interrup√ß√£o (uma ferramenta de depura√ß√£o favorita) n√£o podem ser colocados.  A prop√≥sito, um pequeno recurso do Bot Framework √© que ele realmente n√£o gosta de retornar uma descri√ß√£o detalhada do erro.  Portanto, desenvolvemos com cuidado e nos comprometemos com mais frequ√™ncia! </li><li>  Publique no Azure.  Entre as pastas do projeto, voc√™ pode encontrar uma com o nome descomplicado "PostDeployScripts".  Ele cont√©m um arquivo importante para n√≥s com a extens√£o .PublishSettings.  Os dados sobre a conex√£o com o armazenamento bot no Azure est√£o l√°.  E para quem usa o Visual Studio, esse arquivo √© a chave sagrada para publicar o projeto: importe-o ao publicar, e o IDE extrair√° todos os dados necess√°rios. </li></ul><br><br><h2>  Adicionar webhook </h2><br>  Na verdade, o bot √© criado.  √â hora de retirar o webhook do portal TestIT.  Ficamos felizes por n√£o termos fechado a guia no navegador e acessado: <br><br><img src="https://habrastorage.org/webt/hu/ys/m-/huysm-w3qz7tl6shpu-2guu-gti.png" alt="imagem"><br><br>  Entramos nas configura√ß√µes do projeto, na guia "Webhooks" e adicionamos uma nova: <br><br><img src="https://habrastorage.org/webt/a-/e_/7r/a-e_7rsnkxvlb2fos_uihnolhn8.png" alt="imagem"><br><br>  Agora vamos tentar alterar o status do plano de teste e ver como o bot responder√°. <br><br><img src="https://habrastorage.org/webt/e0/ma/gs/e0magsfc_gwdh5g5zfzywlf9cso.jpeg" alt="imagem"><br><br>  Na verdade, foi aqui que acabamos com um pequeno exemplo de cria√ß√£o de um bot assistente.  Nosso bot pode ser visualizado <a href="https://github.com/developman2013/TestIT-bot-sample" rel="nofollow">no GitHub</a> . <br><br>  A partir de agora, equipes de desenvolvedores e testadores podem se envolver com seguran√ßa no desenvolvimento de produtos, e nosso novo amigo esperto incansavelmente aguardar√° as not√≠cias dos campos de teste e as compartilhar√° rapidamente. <br><br>  √â importante entender que os recursos do bot s√£o quase ilimitados: ele √© capaz de processar qualquer solicita√ß√£o de fora.  E isso significa que voc√™ pode aprender muitas coisas: filtrar mensagens de bate-papo, notifica√ß√µes de forma√ß√£o de equipes, minijogos em seu tempo livre.  Se voc√™ tentar mostrar um pouco de imagina√ß√£o, poder√° ensin√°-lo a pedir pizza, criar um calend√°rio de trabalho, reconhecer documentos ou at√© encaminhar suas mensagens de e-mail para mensageiros instant√¢neos. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt481654/">https://habr.com/ru/post/pt481654/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt481638/index.html">Por que modelos 3D de produ√ß√£o complexa s√£o √∫teis</a></li>
<li><a href="../pt481640/index.html">Lan√ßamento da nova vers√£o do plugin DevOpsProdigy KubeGraf</a></li>
<li><a href="../pt481644/index.html">Como sobreviver a um banco de dados SQL no s√©culo 21: multimaster nuvens, Kubernetes e PostgreSQL</a></li>
<li><a href="../pt481648/index.html">Junos PyEZ no exemplo da tarefa de encontrar sub-redes ipv4 gratuitas</a></li>
<li><a href="../pt481652/index.html">Backdoor (?) Em smartphones BlackBerry Android</a></li>
<li><a href="../pt481656/index.html">PagerDuty, ou por que o departamento de opera√ß√µes pode n√£o dormir √† noite</a></li>
<li><a href="../pt481662/index.html">Tentando novas ferramentas para criar e automatizar a implanta√ß√£o no Kubernetes</a></li>
<li><a href="../pt481664/index.html">Pre√ßos e custos sem servidor: AWS Lambda</a></li>
<li><a href="../pt481666/index.html">Regras personalizadas do SwiftLint</a></li>
<li><a href="../pt481668/index.html">O primeiro problema do visualizador ou as dificuldades de converter fluxos de v√≠deo WebRTC em HLS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>