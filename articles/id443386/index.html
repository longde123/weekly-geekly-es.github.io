<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐧 🌏 🍿 Cara mendapatkan Log Keamanan dengan pengguna non-administratif 😒 🤘 🚴</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hai Habr! Baca di bawah cat cara mengakses log keamanan Windows tanpa hak administrator. Ini bukan artikel pertama tentang Habré yang terkait dengan l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cara mendapatkan Log Keamanan dengan pengguna non-administratif</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443386/"><img src="https://habrastorage.org/webt/6r/gw/go/6rgwgoq8uj0pdgj55qvbho853o0.png"><br><br>  Hai Habr!  Baca di bawah cat cara mengakses log keamanan Windows tanpa hak administrator.  Ini bukan artikel pertama tentang Habré yang terkait dengan log Windows dan mungkin bukan yang paling orisinal, tetapi menurut pendapat saya, saya terlalu banyak menghabiskan waktu mencari solusi sederhana untuk membaca log sebagai pengguna biasa, jadi saya memutuskan untuk berbagi "kisah sukses saya". <br><br>  Saya juga harus membandingkan kinerja cmdlet Powershell dengan <b>Get-WinEvent</b> dan <b>Get-EventLog</b> . <br><br>  Segala sesuatu yang berada di bawah cut relevan untuk Windows Server 2008R2 / 2012R2, Windows 10 Pro (1809), saya tidak memeriksa versi lain, saya pikir situasinya mirip dengan produk-produk tahun 2016 dan 2019. <br><a name="habracut"></a><br>  Jadi, secara default, rata-rata pengguna tidak memiliki izin untuk membaca log keamanan. <br>  Ketika Anda mencoba untuk mendapatkan log, Anda mendapatkan kesalahan. <br><br><img src="https://habrastorage.org/webt/tr/u5/am/tru5amug5opyml5m2uwccqzphv4.png"><br><br>  Dan melalui <b>Event Viewer,</b> akses juga akan ditolak. <br><br><img src="https://habrastorage.org/webt/zz/pq/t2/zzpqt2n8cqinjjdfzqh5_jnsol4.png"><br><br><h3>  SHOWTIME </h3><br>  Tambahkan pengguna ke grup <b>Pembaca Log Event</b> lokal. <br><br><img src="https://habrastorage.org/webt/he/rs/ko/herskov85ujmkznbl-xaxvpvw3g.png"><br><br>  Selanjutnya, kami memberikan izin baca ke cabang registri <b>MACHINE \ System \ CurrentControlSet \ Services \ Eventlog \ Security</b> . <br><br><img src="https://habrastorage.org/webt/ek/dk/oy/ekdkoyan2ehlnqmffgzmyylkike.png"><br><br>  Tanpa mengubah hak untuk cabang registri ini, Anda tidak akan dapat membaca parameter dari log keamanan; oleh karena itu, Anda tidak akan dapat mengetahui lokasi dan nama file log.  <b>Keamanan</b> , ini adalah satu-satunya bagian dari layanan <b>Eventlog</b> yang tidak mewarisi hak akses dari root. <br><br>  Ini adalah seperti apa izin untuk <b>MACHINE \ System \ CurrentControlSet \ Services \ Eventlog</b> . <br><br><img src="https://habrastorage.org/webt/kh/yf/4y/khyf4yzyj4-fmracetnke09hii8.png"><br><br>  Pastikan cmdlet <b>Get-WinEvent</b> dan <b>Get-EventLog</b> berfungsi! <br>  Kemudian, kembali untuk membandingkan cmdlet ini ... <br><br><img src="https://habrastorage.org/webt/kv/qh/k7/kvqhk7rhkuqkthroai-woyyr3j4.png"><br><br><h3>  Kelola log audit dan keamanan </h3><br>  Jika pengguna perlu diberikan hak untuk menghapus log, Anda harus mengedit kebijakan grup.  Pengguna atau grup pengguna perlu menambahkan <b>izin Kelola audit dan keamanan</b> . <br><br>  Grup ini terletak di sini <b>Konfigurasi Komputer \ Pengaturan Windows \ Pengaturan Keamanan \ Kebijakan Lokal \ Penugasan Hak Pengguna</b> . <br><br><img src="https://habrastorage.org/webt/mj/uh/v-/mjuhv-c7oepigz4a-udcghbxdki.png"><br><br>  Anda dapat membaca lebih lanjut tentang <b>Kelola audit dan log keamanan di</b> <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini.</a></b> <br><blockquote>  Pengaturan kebijakan ini menentukan pengguna mana yang dapat menentukan opsi audit akses objek untuk sumber daya individual seperti file, objek Direktori Aktif, dan kunci registri.  Objek-objek ini menentukan daftar kontrol akses sistem (SACL) mereka.  Seorang pengguna yang diberikan hak pengguna ini juga dapat melihat dan menghapus log Keamanan di Peraga Peristiwa.  Untuk info lebih lanjut tentang kebijakan audit Object Access, lihat Akses objek audit. </blockquote><br>  Kami memeriksa, semuanya berfungsi seperti yang dijanjikan, log dibersihkan ... <br><br><img src="https://habrastorage.org/webt/ok/tg/dv/oktgdvazbwkc4e3xysh6vtntgjw.png"><br><br>  Tidak ada logika lain untuk membersihkan hak. <br><br><img src="https://habrastorage.org/webt/r4/a8/hp/r4a8hpa50zk05f0of_vr6irpese.png"><br><br>  <i>Sejujurnya, saya tidak bisa membuat skenario di mana pengguna perlu diberi hak untuk membersihkan log keamanan, tetapi ada peluang seperti itu.</i> <br><br><h3>  Get-WinEvent VS Get-EventLog </h3><br>  Sudah waktunya untuk membandingkan dua cmdlet ini <br><br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Dapatkan-eventlog</a></b> <br><blockquote>  Deskripsi: <br><br>  Cmdlet Get-EventLog mendapatkan event dan log aktivitas di komputer lokal dan jarak jauh. <br><br>  Anda dapat menggunakan parameter cmdlet dan nilai properti untuk mencari acara.  Cmdlet ini mendapatkan peristiwa yang cocok dengan nilai properti yang ditentukan. <br><br>  Cmdlet yang berisi kata benda EventLog hanya berfungsi pada log peristiwa klasik.  Untuk mendapatkan peristiwa dari log yang menggunakan teknologi Windows Event Log di Windows Vista dan versi Windows yang lebih baru, gunakan Get-WinEvent. </blockquote><br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Dapatkan-WinEvent</a></b> <br><blockquote>  Deskripsi: <br><br>  Cmdlet Get-WinEvent mendapatkan event dari log peristiwa, termasuk log klasik, seperti log Sistem dan Aplikasi, dan log peristiwa yang dihasilkan oleh teknologi Windows Event Log yang diperkenalkan pada Windows Vista.  Ini juga mendapatkan peristiwa dalam file log yang dihasilkan oleh Event Tracing for Windows (ETW). <br><br>  Tanpa parameter, perintah Get-WinEvent mendapatkan semua peristiwa dari semua log peristiwa di komputer.  Untuk menghentikan perintah, tekan CTRL + C. <br><br>  Get-WinEvent juga mencantumkan log peristiwa dan penyedia log peristiwa.  Anda bisa mendapatkan acara dari log yang dipilih atau dari log yang dihasilkan oleh penyedia acara yang dipilih.  Dan, Anda dapat menggabungkan acara dari berbagai sumber dalam satu perintah.  Cmdlet ini memungkinkan Anda untuk memfilter acara dengan menggunakan kueri XPath, kueri XML terstruktur, dan kueri tabel hash yang disederhanakan </blockquote><br>  Menurut deskripsi, <b>Get-WinEvent</b> dapat bekerja dengan sejumlah besar majalah yang muncul di <b>WIndows Vista</b> . <br><br>  Untuk lebih jelasnya, berikut adalah daftar yang digunakan cmdlet ini <b>;</b> Saya menghentikan output untuk <b>Get-WinEvent</b> . <br><br><img src="https://habrastorage.org/webt/hh/d6/ca/hhd6cazbmhdj9a6-ehwwbfism8i.png"><br><br>  Tetapi ada satu hal, kinerja penting, bandingkan waktu eksekusi permintaan. <br><br><img src="https://habrastorage.org/webt/en/e2/se/ene2sevfu73x9fgruzygvmdtkki.png"><br><br>  <b>Waktu berjalan Get-WinEvent</b> benar-benar luar biasa, perhatikan jumlah entri dalam <b>log Applocation</b> and <b>Security</b> , jumlah acara kira-kira sama 3400-3600, tetapi perbedaan waktu berjalan hampir 20 kali ... <br><br>  <b>Get-WinEvent</b> menghabiskan 127 detik versus 52 detik <b>Get-EventLog</b> untuk membaca acara <b>Aplikasi</b> . <br><br>  Dan sekakmat, <b>Get-WinEvent</b> menghabiskan 2020 detik versus 45 detik <b>Get-EventLog</b> untuk membaca acara <b>Keamanan</b> . <br><br>  Jika Anda menjalankan perintah yang sama secara lokal, semuanya tidak terlihat buruk, tetapi bahkan <b>Get-EventLog</b> secara lokal bekerja dengan log keamanan 50 kali lebih cepat daripada <b>Get-WinEvent</b> . <br><br><img src="https://habrastorage.org/webt/4-/al/ud/4-aludgi7l7a3jbftpmh_kxihwc.png"><br><br>  Dan contoh lain, sudah sedikit lebih bermakna, dari menerima peristiwa dengan kode <b>4624 Akun berhasil masuk</b> . <br><br><img src="https://habrastorage.org/webt/8o/r2/n2/8or2n2s091lkggo4vkb-z9i7kue.png"><br><br>  Apa yang bisa saya katakan, jumlahnya tidak bohong ... <br><br><h3>  Akses non-administrator ke log Peristiwa DC </h3><br>  Dan sebagai kesimpulan, saya meninggalkan topik mendapatkan akses ke log keamanan pada pengontrol domain. <br><br>  Semua hal di atas juga relevan untuk pengontrol domain dengan beberapa amandemen. <br><br>  1 - Anda akan menemukan grup <b>Pembaca Log Event</b> <b>di</b> objek <b>prinsip keamanan internal</b> . <br><br><img src="https://habrastorage.org/webt/t9/ee/qv/t9eeqvxlytphrijofbrbzvfnimq.png"><br><br>  Dengan menambahkan pengguna ke grup ini, Anda hanya memberikan izin baca ke pengontrol domain. <br><br>  Dan jangan lupa bahwa pada setiap pengontrol domain Anda harus memberikan izin untuk membaca cabang registri <b>MACHINE \ System \ CurrentControlSet \ Services \ Eventlog \ Security</b> . <br><br>  Berikut adalah contohnya, tidak ada izin untuk membaca log dari server anggota, jika Anda perlu membaca log dari mesin lain di domain, gunakan kebijakan grup untuk menambahkan pengguna atau grup pengguna ke grup <b>Pembaca Log Acara</b> lokal. <br><br><img src="https://habrastorage.org/webt/kh/1x/ib/kh1xib0-2darlcw-ked4ltduv4a.png"><br><br>  2 - Untuk menambahkan hak untuk menghapus log, Anda harus mengedit <b>Kebijakan Pengontrol Domain Default</b> . <br><br>  3 - Untuk memungkinkan peluncuran tugas atas nama pengguna pada pengontrol domain, Anda juga harus mengedit <b>Kebijakan Pengontrol Domain Default</b> dan memberikan pengguna <b>Log masuk sebagai</b> izin <b>kerja batch</b> . <br><br>  4 - Berhati-hatilah saat mengedit kebijakan domain default! <br><br><h3>  PS </h3>  Daftar singkat sumber daya yang membantu saya: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Memberikan izin Non Administrator untuk membaca Log Kejadian Windows 2003 dan Windows 2008</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Cara mengatur keamanan log peristiwa secara lokal atau dengan menggunakan Kebijakan Grup</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Keamanan DC - Baca Log Kejadian Keamanan</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Dapatkan-WinEvent dengan pengguna non-administratif</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Log Keamanan Pengontrol Domain - cara mendapatkannya * tanpa * menjadi Admin Domain</a> </li></ul><br>  Menurut pendapat saya, publikasi bermanfaat tentang Habr, yang topiknya terkait dengan log Windows: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Powershell mengaudit Direktori Aktif dengan pemberitahuan perubahan.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian 1</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Menemukan sumber kunci pengguna di Active Ditectory</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Memantau dan Mengingatkan Acara di Windows Log: Mengirim email di Windows Server 2012 R2</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Audit keamanan di server.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Cari Jurnal Keamanan.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Power powershell</a> </li></ul><br><h4>  Akhirnya </h4></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id443386/">https://habr.com/ru/post/id443386/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id443372/index.html">Backend di CodeFest. Nyali dipesan?</a></li>
<li><a href="../id443376/index.html">Berhasil menemukan lusinan penyimpanan korporat Box.com yang mengungkapkan data dari Apple, Herbalife, dll.</a></li>
<li><a href="../id443380/index.html">UDB. Apa ini Bagian 6. Status dan Modul Kontrol</a></li>
<li><a href="../id443382/index.html">Fintech Digest: Mir Pay untuk Android, mencabut larangan penarikan uang tunai dari dompet anonim, startup AI tidak sepenuhnya AI</a></li>
<li><a href="../id443384/index.html">Slurm dan MegaSlerm di Moskow pada akhir Mei</a></li>
<li><a href="../id443388/index.html">Kontrol pencahayaan bertingkat berdasarkan KTS NPL</a></li>
<li><a href="../id443390/index.html">Fitur Bahasa Inggris Australia</a></li>
<li><a href="../id443392/index.html">Game save history: dari kata sandi di atas kertas hingga awan</a></li>
<li><a href="../id443394/index.html">Rilis eksperimental Blazor 0.9.0 sekarang tersedia</a></li>
<li><a href="../id443396/index.html">Pencetakan 3D dan airsoft: bagaimana saya mencetak "drive"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>