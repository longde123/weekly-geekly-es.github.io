<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥨 🎛️ 😕 Weihnachtsbaum brennen! Wir nehmen ein Smartphone, mobiles Internet und ... schalten den "Weihnachtsbaum" im Land ein 📚 🐆 👩🏿‍🤝‍👨🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Es geht darum, wie Elektrogeräte über das Internet verwaltet werden. Die Aufgabe ist recht einfach, wenn es ein gutes, kabelgebundenes Internet und in...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Weihnachtsbaum brennen! Wir nehmen ein Smartphone, mobiles Internet und ... schalten den "Weihnachtsbaum" im Land ein</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/masterkit/blog/388195/"><img src="https://habrastorage.org/files/e8f/3a1/d57/e8f3a1d578764572939df34bb36a10ba.jpg" align="left"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es geht darum, wie Elektrogeräte über das Internet verwaltet werden. Die Aufgabe ist recht einfach, wenn es ein gutes, kabelgebundenes Internet und insbesondere eine statische IP-Adresse gibt. Aber wenn der Zugang zum Internet nur über ein GSM-Modem möglich ist, zum Beispiel im Land, ist die Auswahl an Lösungen nicht so groß ... aber es gibt! Jetzt sind mehr Benutzer mit dem weltweiten Netzwerk verbunden als Menschen auf der Erde. Verschiedene Geräte sind seit langem vollwertige Internetnutzer und viele von ihnen kommunizieren miteinander über das beliebte MQTT-Protokoll, das hier mehr als einmal beschrieben wurde. Das Master Kit verfügt über mehrere Geräte, die auch das MQTT-Protokoll und den kostenlosen Cloud-Server iot.eclipse.org verwenden. Wir werden über ihre Konfiguration und Anwendung sprechen.</font></font><br>
<a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zunächst kurz gesagt, was MQTT-Technologie für die Kommunikation von Geräten untereinander im Internet der Dinge ist. Dies ist ein Chat, der einem Chat für die Kommunikation sehr ähnlich ist. Ein Gerät, beispielsweise das "Internet-Thermometer", erstellt auf einem speziellen Server, dem sogenannten "Thema", einen eigenen Datensatz. Andere interessierte Geräte „abonnieren“ dieses Thema und erhalten alle Aktualisierungen, die in Echtzeit erfolgen, oder senden ihre Informationen an den Chat, z. B. Verwaltungsbefehle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alles ist sehr einfach. Sie müssen ein lokales Wi-Fi-Netzwerk mithilfe eines Haushaltsrouters bereitstellen und auf irgendeine Weise eine Verbindung zum Internet herstellen, z. B. mithilfe eines GSM-Modems. Für unseren Fall ist jedes 2/3 / 4G-Modem eines Mobilfunkbetreibers geeignet</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was sind nun die Geräte aus dem Master Kit? Es gibt nur drei von ihnen in dieser Zeile. Dies sind natürlich elektronische Karten, die auf dem weithin bekannten ESP8266-01 basieren. Da dieser Chip nur zwei Ein- / Ausgänge hat, die gesteuert oder Informationen gelesen werden können, stellte sich heraus, dass die Gerätelinie eine Kombination der Funktionen eines Temperatursensors und eines elektromagnetischen Relais darstellt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Zweck der Geräte wird hoffentlich aus dem Namen klar. Mit dem ersten können Sie zwei Elektrogeräte (Heizungen, Beleuchtung, Pumpen, Tore, Bewässerung, Sirene usw.) steuern. Wie Sie sehen können, enthält die </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Karte</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zwei ziemlich leistungsstarke elektromagnetische Relais. </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">MP3506</font></a><font style="vertical-align: inherit;"> - Internet-Relais, 2 Kanäle. </font></font><br>
<img src="https://habrastorage.org/files/b78/82a/956/b7882a95620d41e48d3748a047b1545d.jpg" align="left"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zweitens </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MP3504</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Internet Relais + Thermometer</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/53a/171/2ad/53a1712adc644c05b7147fa90fe31f9b.jpg"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit diesem Gerät können Sie nur ein Elektrogerät anschließen, gleichzeitig aber Informationen über die Temperatur am "Objekt" erhalten. Beide Geräte sind auf derselben Platine montiert und werden mit 12 V Gleichstrom versorgt. Relais ermöglichen das Schalten von Lasten bis zu 7A. Wenn Sie jedoch die Heizung steuern möchten, ist es besser, dies über ein zusätzliches Schütz zu tun. Der gleiche DS18B20 wird als Temperatursensor verwendet. Sie möchten ihn im Normalfall und in einem versiegelten Fall. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das dritte Gerät ist kompakt und wird über den Standard-USB-Anschluss mit 5 V versorgt. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist ein </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MP3507</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Internet Thermometer, 2 Kanäle.</font></font><br>
<img src="https://habrastorage.org/files/4e1/ec4/44a/4e1ec444ad03450f9f72c38a71b9ac79.jpg" align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Warum zwei Kanäle? Das Beispiel ist einfach: Einer misst die Temperatur im Haus, der zweite auf der Straße. Das Kit enthält 2 Sensoren, aber für den Außenbereich ist der Sensor in einer versiegelten Version gut geeignet. Das Foto </font><font style="vertical-align: inherit;">zeigt einen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">versiegelten Sensor</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zusammen mit dem MP3504-Modul. Es ist aber auch mit dem MP3507-Modul kompatibel</font></font><div style="text-align:center;"><img src="https://habrastorage.org/files/7f9/c9c/241/7f9c9c2418a2499eacffebda7046cb1b.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Vorhandensein eines USB-Anschlusses für die Stromversorgung ermöglicht es Ihnen, das Modul an eine beliebige USB-Ladung anzuschließen, was sehr praktisch ist. </font></font><br>
<img src="https://habrastorage.org/files/efb/8cc/121/efb8cc12142f48eea00ddeca305cabe2.jpg" align="right"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem die Seite des Eisens mehr oder weniger beschrieben wurde, muss über die Anwendung gesprochen werden, die es steuert. Master Kit bietet eine kostenlose Anwendung für jedes der beschriebenen Module. Dies ist eher eine Demo, um die Funktionen des Moduls zu demonstrieren, als ein superuniverselles Tool zum Verwalten eines Hauses aus der Ferne. Das Befehlssystem ist jedoch geöffnet, sodass die Module sicher mit OpenHab verbunden werden oder Ihre Anwendung auf einem beliebigen Betriebssystem schreiben können. Und das sogar mit Hilfe des App Inventor-Konstruktors. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier sind Beispiele für Screenshots von Anwendungen für Android. </font></font><br>
<img src="https://habrastorage.org/files/ab0/70e/50b/ab070e50b5d04179b26922c0ef9ad93a.png" align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie sind alle ähnlich und unterscheiden sich je nach Zweck des Moduls in den erforderlichen Symbolen (einige Funktionen sind für die Zukunft vorgesehen):</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"Licht" - zeigt den Status des Relais an. Brennende Lampe - Relais an. Wenn Sie auf die Lampe klicken, wird sie wieder ausgeschaltet. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"Zahl über der Glühbirne" ist der Minutenzähler des Einschaltzustands des Relais. Sie können ihn als Rekorder für die Betriebszeit Ihres Geräts verwenden, um beispielsweise den Umsatz zu berechnen, wenn er über dem Billardtisch leuchtet und sich einschaltet, wenn die Zeit bezahlt wird. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"Temperatur" - Anzeige des aktuellen Temperatursensors. Wenn es zwei davon gibt, gibt es zwei Werte. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"Globe" - eine Schaltfläche zum Verbinden mit einem Gerät von einem Smartphone aus </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"Hammer mit einem verstellbaren Schraubenschlüssel" - eine Schaltfläche zum Aufrufen von Anwendungseinstellungen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anschließen </font><font style="vertical-align: inherit;">und Einrichten besteht aus 2 Schritten: </font><font style="vertical-align: inherit;">1. Verbinden Sie das Modul Ihres lokalen Netzwerks</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Installieren und konfigurieren Sie die Android-Anwendung so, dass sie speziell mit Ihrem Modul funktioniert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um eine Verbindung zu Ihrem lokalen Netzwerk herzustellen, müssen Sie das Modul in den Konfigurationsmodus versetzen. Dazu müssen Sie innerhalb von 1-2 Sekunden nach dem Einschalten 2 Kontakte schließen und diese 5-7 Sekunden lang in diesem Zustand halten. Zu diesem Zeitpunkt blinkt die blaue LED 1 Mal pro Sekunde kurz. Wenn es ausgeht, müssen Sie den Vorgang erneut wiederholen. Schauen Sie sich das Bild mit dem Modul mit zwei Thermometern an. </font></font><br>
<img src="https://habrastorage.org/files/f89/f85/1f8/f89f851f8422479b834c679ca4cfde91.jpg" align="right"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um es zu konfigurieren, müssen Sie beispielsweise eine Pinzette oder ein Stück Draht mit den Stiften 2 und 3 (oben) schließen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem das Modul in den Setup-Modus eingetreten ist, erstellt es ein lokales Netzwerk um sich herum, dessen Name mit dem Wort MQTT beginnt und mit einer 7-stelligen ID endet. Zwischen diesen Teilen des Namens befindet sich ein Zeichen für Funktionalität und Version.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ein Beispiel: MQTT_2RELE V1.6_1234567 Sie müssen mit einem Standardkennwort eine Verbindung zu diesem Netzwerk herstellen. Und denken Sie übrigens an diese Nummer. Dies ist praktisch, wenn Sie die steuernde Android-Anwendung einrichten. Dies ist der Name des Themas, mit dem Ihr Smartphone oder Tablet eine Verbindung herstellen soll. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als nächstes haben Sie die Wahl, mit der Android-Anwendung „Configurator“ oder mit der Windows-Version zu konfigurieren. Ich mag Windows mehr. Das Einstellungsfenster sieht einfach und übersichtlich aus</font></font><br>
<img src="https://habrastorage.org/files/21f/46d/2ba/21f46d2ba06b4e9ba27d872650421987.jpg" align="left"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In den ersten beiden Zeilen schreiben Sie den Namen und das Passwort des Wi-Fi-Netzwerks, mit dem Sie Ihr Modul verbinden möchten. Im zweiten Block lassen Sie das Modul entweder gleichzeitig mit dem Access Point arbeiten oder verbieten es. Wenn Sie nicht verbieten, können Sie sich direkt mit dem Modul verbinden. Und das ist voller Sicherheit. Besser zu verbieten. Der Zugriff auf das Modul wird dann durch das Zugriffssystem des Routers geschützt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach den Einstellungen stellt das Modul automatisch eine Verbindung zu Ihrem Router her und registriert sich automatisch auf dem MQTT-Server. Wir haben uns für die kostenlose Version iot.eclipse.org entschieden</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der vorinstallierten Anwendung bleibt es, auf die Schaltfläche Einstellungen zu klicken (ein Hammer mit einem verstellbaren Schraubenschlüssel) und mehrere Schritte auszuführen. Grundsätzlich müssen Sie nur die Aktion bestätigen. Nur an einer Stelle müssen Sie die Modul-ID eingeben - die siebenstellige Nummer, an die wir uns während der Verbindung zum Netzwerk erinnert haben. </font><font style="vertical-align: inherit;">Weitere Details finden Sie auf der Website in der Anleitung, daher macht es keinen Sinn, sie hier erneut einzugeben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem die Einstellungen vorgenommen wurden, müssen Sie Ihre Elektrogeräte noch an die Ausgangsrelais anschließen, Temperatursensoren platzieren, das Internet bereitstellen und können es verwenden. </font><font style="vertical-align: inherit;">Das Smartphone selbst kann auch auf beliebige Weise mit dem Internet verbunden werden. </font><font style="vertical-align: inherit;">In der Moskauer Metro funktioniert auch. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Frohes Neues Jahr an alle!</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de388195/">https://habr.com/ru/post/de388195/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de388183/index.html">DEXP Ixion MS150 Glider: Ein modernes Smartphone für preisbewusste Kunden</a></li>
<li><a href="../de388185/index.html">Facebook bietet Mitarbeitern 10.000 US-Dollar, um näher an das Büro heranzukommen</a></li>
<li><a href="../de388187/index.html">Die NASA plant eine Mission zur Erfassung und Untersuchung von Asteroiden</a></li>
<li><a href="../de388189/index.html">SSD Mythen zu zerstreuen</a></li>
<li><a href="../de388191/index.html">So geben Sie das alte Limit von 15 GB in OneDrive zurück</a></li>
<li><a href="../de388197/index.html">Fischöl verwandelt fettsparende Zellen in Fettverbrennung</a></li>
<li><a href="../de388199/index.html">NexTemp ist das seltsamste Thermometer, das ich je gesehen habe</a></li>
<li><a href="../de388201/index.html">Das Kunstprojekt Raspberry Pi verursacht Urheberrechtsverletzungen in Millionenhöhe</a></li>
<li><a href="../de388205/index.html">Virtuelle Realität mit Google</a></li>
<li><a href="../de388207/index.html">Es regnet heute auf Saturn ... aus flüssigem Helium</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>