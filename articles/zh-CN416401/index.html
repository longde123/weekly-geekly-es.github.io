<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔚 🏭 🛕 Blender：用于连接到KiCad库的芯片的3D模型 👨🏿‍🤝‍👨🏼 🚴🏻 👋🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="在设计印刷电路板时，经常需要将电子组件的三维模型添加到电路板上。 但是，并非总是可以在Internet上找到完成的文件。 使用CAD程序绘制这样的模型并不难：设置案例和结论的参数需要十分钟，除非您当然需要尺寸模型而不是逼真的图片。 

 但是有一个问题：专业的CAD编辑器并不便宜，而且自由分发的CA...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Blender：用于连接到KiCad库的芯片的3D模型</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/416401/"> 在设计印刷电路板时，经常需要将电子组件的三维模型添加到电路板上。 但是，并非总是可以在Internet上找到完成的文件。 使用CAD程序绘制这样的模型并不难：设置案例和结论的参数需要十分钟，除非您当然需要尺寸模型而不是逼真的图片。 <br><br> 但是有一个问题：专业的CAD编辑器并不便宜，而且自由分发的CAD编辑器并不总是方便使用。 <br><br> 幸运的是，Blender可以随时进行救援。 是的，它并非旨在创建图纸和准确的模型。 但是，它使您可以快速创建电子组件的三维模型，以随后导入到跟踪器中。 在本文中，我将描述如何创建芯片模型并将其连接到KiCad组件库。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/pc/sl/bp/pcslbpoqus0ksppb0sil7sjcihi.png" width="600"></div><a name="habracut"></a><br> 例如，让我们在LQFP64封装中绘制STM32F405xx微控制器的模型。 我们从数据表中获取了所有必要的工作信息。 <br><br><img src="https://habrastorage.org/webt/nk/ri/mg/nkrimgijyxblmufmvtkufmgokqy.png" width="300"><br><br><img src="https://habrastorage.org/webt/dt/ya/t8/dtyat84dtl0kc1snheodd5h9h2u.png"><br><br><h3>  1.准备搅拌机 </h3><br> 我们启动Blender，首先要从场景中删除所有不必要的组件：灯光，立方体和摄像机。 用鼠标右键选择对象，然后按“ X”。 或使用“ A”按钮然后选择“ X”选择所有对象。 <br><br> 要进行进一步的工作，我们需要一个侧面设置面板，要调用它，请按“ N”。 即用型窗口应如下所示： <br><br><img src="https://habrastorage.org/webt/ba/ai/56/baai56dd3qdwkf-ijknolocmysc.png"><br><br> 为方便起见，请关闭透视图显示模式-附加键盘上的数字“ 5”。 <br><br>  Blender和KiCad中的坐标轴不匹配，因此我们将绘制微电路，以使其高度与Y轴重合，长度和宽度与X和Z轴重合。 让我们通过按附加键盘上的数字“ 3”进入右侧视图。 如果3D光标不在中心，请按Shift +C。 <br><br><h3>  2.我们创建微电路的外壳 </h3><br> 我们将根据多维数据集创建微电路。 在“创建”面板的左侧，选择“立方体”形状。 或者，使用Shift + A键的组合，在下拉菜单中选择网格→立方体。 <br><br><img src="https://habrastorage.org/webt/os/r4/um/osr4umnn5krgdafwx-etopjvgou.png"><br><br> 出现的立方体位于舞台中央，大小为2x2x2常规单位。 这在右侧边栏（我们通过按“ N”键调用）中可见。 如果现在更改多维数据集的尺寸，则随尺寸一起更改图形的比例，这在将来可能会导致奇怪的效果。 因此，重置缩放比例：选择对象，然后在面板中的对象→应用→缩放比例（或Cntrl + A; S）中选择以下内容。 <br><br><h3>  3.设置芯片尺寸 </h3><br> 现在设置外壳的尺寸。 在数据表中，我们找到了微电路外壳的长度，宽度和高度：10 mm×10 mm×1.45 mm（最大值）。 我们使用这些数字作为静止立方体的大小。 如上所述，沿着X和Z的尺寸是长度和宽度，沿着Y轴的尺寸是高度。 <br><br><img src="https://habrastorage.org/webt/--/kh/tl/--khtlr5waxzvouvkt-vkhbpmfc.png"><br><br><h3>  4.我们放置芯片的外壳 </h3><br> 下一步是将箱子放在正确的高度。 为此，进入对象的编辑模式（“制表符”按钮），然后选择表面作为编辑元素（选择脸部）。 然后选择微电路的顶面-它在我们的右边，然后按Shift + S→光标组合键进行选择： <br><br><img src="https://habrastorage.org/webt/83/cq/qg/83cqqgrnuvl5xh4zo025-lzxrxu.png"><br><br> 我们通过“ Tab”按钮退出编辑模式。 接下来，在“工具”→“编辑”窗口中，使用“设置原点”→“原点为3D光标”设置形状的锚点。 <br><br><img src="https://habrastorage.org/webt/ve/wl/gx/vewlgxylayjyi8qlre6u2i4iclc.png"><br><br> 我们看到，现在对象沿Y轴的位置已从零更改为0.725。 放置物体，使主体的上部与原点偏移1.6毫米-这是组件的最大高度。 <br><br><img src="https://habrastorage.org/webt/yj/80/lk/yj80lkxofu0e3c9vg2txt2lj5ri.png"><br><br><h3>  5.添加肋骨 </h3><br> 外壳尺寸设置正确。 现在，您可以通过添加肋骨来改善外观，如pdf所示。 那里没有确切的尺寸，所以让我们亲眼看看吧。 <br><br> 进入编辑模式（Tab键），然后选择边缘作为编辑对象（边缘选择）。 按住Shift键，然后选择对象的四个侧边缘。 <br><br><img src="https://habrastorage.org/webt/5d/kx/hk/5dkxhkannynueicso8o4v3-zpyo.png"><br><br> 我们将“斜角”功能应用于选定的元素-在面板底部，选择“网格”→“边”→“斜角”，或按Cntrl +B。然后在键盘上驱动数字（例如0.05），或移动鼠标选择所需的倒角尺寸。 <br><br><img src="https://habrastorage.org/webt/m-/m1/cy/m-m1cyozmwvm3calulgd-gm2fkq.png"><br><br> 现在，我们将在微电路芯片的顶部和底部制作斜角，如芯片的侧视图所示。 <br><br> 为此，在编辑模式下，添加新的边缘：在菜单工具→循环剪切和滑动中，或使用Cntr + R组合。如图所示放置边缘。 <br><br><img src="https://habrastorage.org/webt/lv/v2/oh/lvv2oh9hmzjep21ys725d_cz_bm.png"><br><br> 右键单击后，边缘将自动位于图的中心。 像我们对侧肋所做的那样，立即对其应用“斜角”修改器。 将尺寸设置为0.2（图形中的最大尺寸“ s”）。 <br><br> 现在，我们将减少微电路的上表面和下表面。 打开表面编辑模式（“面部选择”），然后选择芯片的顶部和底部。 比例修改器（S键）适用于两个选定曲面。 使用鼠标悬停在眼睛上方或驱动一定数量（例如0.96），我们缩放选定的曲面。 <br><br><img src="https://habrastorage.org/webt/r5/1b/bw/r51bbwec9v3qpxop0qzne8hidxq.png"><br><br><h3>  6.我们得出第一个结论 </h3><br> 可以说微电路的情况已经准备就绪。 仍需附加64个结论。 首先，计算芯片的第一个输出的位置。 将图中的“ E”尺寸（12毫米）一分为二，获得沿X = 12/2 = 6轴的外部坐标，在本例中，沿Z轴的位置为Z = 0.5 / 2 + 0.5 * 9 = 4.25 <br><br> 先前退出编辑模式并从主体中删除选择后，我们将创建一个曲面，稍后将其转换为接触。 让我们继续右视图（附加键盘上的数字“ 3”）。 然后创建→平面（Shift + A→网格→平面）。 让我们将其“面对”一下：与视图对齐并设置计算出的坐标： <br><br><img src="https://habrastorage.org/webt/qf/7v/of/qf7vof6b0vutdglqyeh_hp7kwnq.png"><br><br> 要进行进一步处理，请重置形状的缩放和旋转：“对象”→“应用”→“旋转和缩放”。 或Cntrl + A→旋转和缩放。  （如步骤2中所示）。 现在，我们将在曲面的该部分中定义输出的尺寸：宽度，尺寸b = 0.27毫米（Z轴），高度，尺寸c = 0.2毫米（Y轴）。 然后沿着Y坐标将其移动等于0.1的值 <br><br><img src="https://habrastorage.org/webt/l6/x0/2m/l6x02moc2-fv2jfra4murg-pffc.png"><br><br> 现在，我们将从表面挤出微电路脚的形状。 让我们继续进行顶视图（附加键盘上的“ 7”）。 打开编辑模式-“制表符”，然后选择创建的曲面。 使用工具→拉伸→区域（或“ E”键），然后是“ X”（沿X轴），从键盘输入-0.6，然后按“ Enter”。 我们拥有的数字0.6对应于图中的尺寸L。 <br><br> 支脚的颜色不同于微电路的颜色，因为它被证明是由内而外“翻转”的。 如果启用法线显示，则可以看到它们都向内指向。 解决问题的方法：使用“ A”键选择形状，然后在“ Shaidng / UV”→“法线”面板中单击“翻转方向”。 现在，该图已正确构建。 <br><br><img src="https://habrastorage.org/webt/0p/fp/n2/0pfpn2iqsen289lmlim4i2tgueo.png"><br><br> 通过在挤压操作之前将表面旋转180度可以避免此过程。 <br><br> 使用命令工具→循环剪切和滑动（或Cntrl + R）在微电路的输出上创建一个附加边，并将其靠近内边。 <br><br><img src="https://habrastorage.org/webt/pd/-2/gc/pd-2gcp6uwxtt_val_flb_ecw8a.png"><br><br> 在创建的表面上选择上段，然后将其（“ E”键）沿“ Y”坐标向上挤压到微电路的中间。 <br><br><img src="https://habrastorage.org/webt/1d/wg/it/1dwgitgs5rottjsdhr8mtnmngz0.png"><br><br> 让我们将新表面稍微移向微电路：“ ​​G”-移动，“ X”-仅沿X轴移动。 <br><br><img src="https://habrastorage.org/webt/vq/vb/hr/vqvbhrgevf5blqljtcgwvikcsjq.png"><br><br> 我们对输出的上部执行上述操作。 结果，您应该获得以下图片。 <br><br><img src="https://habrastorage.org/webt/zp/ky/fz/zpkyfzxxejslpqcqegl-lt24kxm.png"><br><br> 为了美观，移动拐角处的边缘，并获得漂亮的切角。 <br><br><img src="https://habrastorage.org/webt/s8/b7/z4/s8b7z4vhj8xlju_tf1enkjkubci.png"><br><br><h3>  7.克隆芯片的输出 </h3><br> 使用Array修改器，我们在一侧创建18个微电路引脚。 首先，重置输出的位置和比例。 我们退出编辑模式“ Tab”，选择腿，然后应用“应用”→“位置”，“旋转”，“缩放”。 这是下一个修饰符正确计算克隆对象的偏移量所必需的。 <br> 添加数组修饰符。 <br><br><img src="https://habrastorage.org/webt/v_/k3/oy/v_k3oyxb3go255rlcb01dsdjgjo.png"><br><br> 在修改器参数中，设置数量= 18，选择偏移量常量，沿Z轴的距离= -0.5 <br><br><img src="https://habrastorage.org/webt/pv/pg/ax/pvpgaxvxeqejjo9c0_vhokgjlam.png"><br><br> 得到了一些结论。 为其余三个方面创建它们的副本。 为此，请从所有对象中删除选择，将3D光标设置在中心-Shift +C。然后创建一个空对象-Shift + A→空→普通轴。 <br><br><img src="https://habrastorage.org/webt/bc/yn/rv/bcynrvu53whjwdjkuemlf8lrrp0.png"><br><br> 现在选择以前创建的微电路输出，然后再次创建Array修改器。 仅这次，我们选择“对象偏移”，然后选择“空”对象。 份数设置为等于4。 <br><br><img src="https://habrastorage.org/webt/8a/tj/hh/8atjhh7kuo_4yrn5oz-ig-zvx84.png"><br><br> 要将创建的副本放置在正确的位置，请选择“清空”对象，然后将其绕Y轴旋转90度。 按钮“ R”和“ Y”，然后驱动角度“ 90”。 <br><br><img src="https://habrastorage.org/webt/-v/6o/tt/-v6ottnohx8u3snohl_mhab-rie.png"><br><br><h3>  8.芯片颜色 </h3><br> 让我们用不同的颜色为微电路和结论上色，以达到美丽的目的。 选择微电路的情况，然后在“材料”选项卡中创建新材料： <br><br><img src="https://habrastorage.org/webt/b1/qy/ob/b1qyob-5hozqjmaptwrrotdy5us.png"><br><br> 并为其分配深灰色： <br><br><img src="https://habrastorage.org/webt/xl/yl/cp/xlylcpcewaudnzi77l1rwl-g_vg.png"><br><br> 我们对微电路的输出执行相同的操作，但是我们使颜色更亮。 <br><br> 由此，可以认为微电路的创建已经完成。 <br><br><h3>  9.将结果模型导出到KiCad </h3><br> 将模型导出为vrml格式。 文件-&gt;导出-&gt; VRML2。 如果没有这样的菜单，则首先转到文件→用户首选项...→附加组件。 在vrml的搜索驱动器中，选中Import-Export VRML2和Import-Export Web3D X3D / VRML2格式旁边的框。 <br><br><img src="https://habrastorage.org/webt/wy/lr/-i/wylr-ick9rxbxvx3pol3-raqfsa.png"><br><br> 导出时，我们需要将单位转换为英寸。 为此，请在“比例”字段中输入数字0.393701（1毫米/2.54英寸= 0.393701）。 <br><br><img src="https://habrastorage.org/webt/aa/xl/9k/aaxl9kuweiw5hrr6ddxbv6lptsc.png"><br><br> 就是这样，微电路模型已经准备就绪。 <br><br><h3>  10.在KiCad'e中连接模型 </h3><br> 我们在库中创建一个登陆平台，并连接一个三维模型。 如果在前面的步骤中所有步骤都正确完成，则模型应立即“躺下”在原处。 <br><br><img src="https://habrastorage.org/webt/do/r6/5c/dor65ctkxj8w9bszznhg9pdbif0.png"><br><br> 通过这种方法产生的微电路可以用于着陆点的视觉控制。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN416401/">https://habr.com/ru/post/zh-CN416401/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN416387/index.html">虾：使用ImageMagic ++，SObjectizer和RESTinio在现代C ++中缩放和共享HTTP图像</a></li>
<li><a href="../zh-CN416391/index.html">优化服务器上​​虚拟机的放置</a></li>
<li><a href="../zh-CN416393/index.html">IIDF会议：公司不是初创公司</a></li>
<li><a href="../zh-CN416397/index.html">我们使用Page Object模式自动执行Android应用程序的UI测试</a></li>
<li><a href="../zh-CN416399/index.html">我们如何使用机器学习分析移动应用评论</a></li>
<li><a href="../zh-CN416403/index.html">金融科技摘要：攻击PIR银行，联邦税收服务和从卡到卡转移的税收以及一些区块链和加密货币</a></li>
<li><a href="../zh-CN416405/index.html">与Yandex合作的学士学位课程</a></li>
<li><a href="../zh-CN416407/index.html">节省来自Mikrotik嗅探器的流量</a></li>
<li><a href="../zh-CN416409/index.html">制定策略和应对方法的5个常见错误</a></li>
<li><a href="../zh-CN416411/index.html">用数据讲故事</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>