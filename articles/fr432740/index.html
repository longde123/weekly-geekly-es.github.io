<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😑 💉 👩🏿‍🎨 "CMS" basé sur Google Spreadsheets pour les sites statiques 👧🏾 🐸 💆🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="De plus en plus, pour l'histoire d'un événement / produit / service, les entreprises créent des sites basés sur tous les designers. Soit seul, soit en...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>"CMS" basé sur Google Spreadsheets pour les sites statiques</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/432740/"><img src="https://habrastorage.org/webt/dk/en/ra/dkenra38lid9d25duailavzj3-8.jpeg"><br><br>  De plus en plus, pour l'histoire d'un événement / produit / service, les entreprises créent des sites basés sur tous les designers.  Soit seul, soit en attirant des designers et sans la participation d'un programmeur.  Les concepteurs modernes vous permettent de créer un site Web cool, lumineux, efficace, mais statique.  Toute modification doit être effectuée "stylos dans l'éditeur" et republier la page.  Mais que se passe-t-il si les données changent très souvent ou si vous souhaitez ajouter un peu d'automatisation - c'est là que le langage de requête Google Tables and Charts (et le programmeur est familier) peut vous aider. <br><a name="habracut"></a><br>  Il y a quelques années, j'ai été approché par un ami qui avait besoin d'ajouter une liste de prix sur un site collecté sur Tilda.  Et tout irait bien, il y a un bloc «tableau» - remplissez les données et publiez, mais il y avait deux conditions: <br><br><ul><li>  les prix dépendaient du dollar et changeaient presque tous les jours </li><li>  besoin d'un prix commun et de ses parties sur les pages des groupes de produits </li></ul><br>  En conséquence, beaucoup de routine et une forte probabilité de divergences de données.  Il fallait automatiser. <br><br>  Et l'aide est venue de Google Speadsheets.  Je pense que cela n'a aucun sens de décrire les avantages: l'éditeur habituel, la collaboration, les formules.  Il vous suffit de changer le taux de change une fois par jour.  Il ne restait plus qu'à savoir comment obtenir les données du tableau sur le site.  Et puis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">l'API Google Charts</a> s'est avérée utile. <br>  Il permet d'utiliser la requête ajax pour recevoir des données sous forme de jsonp. <br><br>  La demande doit être envoyée à l'adresse " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">docs.google.com/a/google.com/spreadsheets/d/xxxxxx/gviz/tq?tq=yyyyyy</a> " <br>  où: <br>  xxxxxx - identifiant d'un lien public vers la table google <br>  yyyyyy - Requête SQL pour récupérer les données de la table convertie (n'oubliez pas de convertir tous les caractères en entités HTML comme: sélectionnez% 20A% 2C% 20sum (B)% 20group% 20by% 20A). <br><br>  Autre remarque, SQL est assez familier sauf qu'il est tronqué (voir la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation</a> ), mais le bloc FROM en est complètement coupé.  Vous devez donc écrire quelque chose comme "sélectionnez A, B où C = 'f' et B &lt;30 par B" <br><br>  Le script résultant appellera la méthode google.visualization.Query.setResponse (data). <br>  L'objet de données contient les données utiles suivantes: <br><br><pre><code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">status</span></span>: <span class="hljs-string"><span class="hljs-string">"ok"</span></span>, <span class="hljs-comment"><span class="hljs-comment">//    table: { cols: [ //      0: { id: "A", label: "  ", type: "string" }, 1: { id: "B", label: "  B", type: "number" }, ... ], rows: [ //    0: { c: [ //      0: { v: "" //      } 1: { v: 3.1415, //      ""  f: "3,1415" //     } ] } ] } }</span></span></code> </pre> <br>  Eh bien, faites ce que vous voulez avec les données: au moins insérez-les dans le tableau, générez au moins des svg (utilisés pour générer des cartes sur le schéma d'un village de banlieue en notant les villages gratuits et vendus), remplacez au moins les espaces réservés dans le texte - le vol de fantaisie est illimité. <br><br>  Naturellement, cette méthode ne convient pas aux systèmes très chargés, Google a une limite sur le nombre de demandes par jour, mais jusqu'à présent aucun site de l'automatisé que j'ai pu découvrir. <br><br>  Et enfin un petit indice.  La table dans laquelle les requêtes sont effectuées doit être partagée par référence.  Et si vous avez soudainement besoin de champs cachés aux yeux du public, il existe pour cela une fonction pratique dans Google Sheets.  Il s'appelle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">IMPORTRANGE (clé., Plage)</a> .  La clé est un lien vers n'importe quel tableau auquel vous avez accès et la plage est un groupe de cellules que vous souhaitez afficher.  C'est-à-dire  vous créez une table fermée avec un ensemble complet de données et une table publique dans laquelle vous importez uniquement les plages de données nécessaires (vous allez toujours les afficher sur le site). </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr432740/">https://habr.com/ru/post/fr432740/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr432728/index.html">Une vulnérabilité dans l'API Google+ a révélé des données privées de 52,5 millions d'utilisateurs</a></li>
<li><a href="../fr432730/index.html">MQTT, Smart Home, ESP-8266 et Plug & Play</a></li>
<li><a href="../fr432732/index.html">Mon expérience de la mise en œuvre de 1C (partie 1. Introduction)</a></li>
<li><a href="../fr432734/index.html">Tordu dans les nuages: perspectives de développement et revers des services cloud</a></li>
<li><a href="../fr432736/index.html">Devops, JUnit5 et tests de microservices: un regard subjectif sur le Heisenbag de Moscou</a></li>
<li><a href="../fr432742/index.html">Pression du temps de l'entreprise</a></li>
<li><a href="../fr432744/index.html">DWDM: la solution est moins chère que l'opérateur de 30 à 50% (classe Entreprise)</a></li>
<li><a href="../fr432746/index.html">Pendant trois jours en soins intensifs ou qu'est-ce qui ne va pas avec la section équilibre travail-vie personnelle sur Mobius'18?</a></li>
<li><a href="../fr432748/index.html">Trucs et astuces Kubernetes: allocation de nœuds et charges d'applications Web</a></li>
<li><a href="../fr432750/index.html">La joie d'Haxe. Un roman avec un langage de programmation négligé</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>