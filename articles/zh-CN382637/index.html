<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤟🏿 🚥 🤱 一个端口上的数字时钟-ATmega8 💃🏼 😲 🔂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="这是关于排气指示器的时钟。许多人已经看到，甚至阅读了有关它们的信息。
 
 对于那些不知道的人，我解释说：气体放电指示器是一个装有稀有气体的灯泡，在我们的例子中是氖气。阴极以符号的形式制成，阳极以围绕它们的网格的形式制成。如果将高电压（约200伏）施加到指示器，则会在所选阴极周围形成辉光放电的发光区...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>一个端口上的数字时钟-ATmega8</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/382637/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是关于排气指示器的时钟。</font><font style="vertical-align: inherit;">许多人已经看到，甚至阅读了有关它们的信息。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对于那些不知道的人，我解释说：气体放电指示器是一个装有稀有气体的灯泡，在我们的例子中是氖气。</font><font style="vertical-align: inherit;">阴极以符号的形式制成，阳极以围绕它们的网格的形式制成。</font><font style="vertical-align: inherit;">如果将高电压（约200伏）施加到指示器，则会在所选阴极周围形成辉光放电的发光区域。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/414/f00/526/414f0052696f1926f75d0d6a1a5b3e93.jpg" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此，任务被设定为：在气体放电指示器上建立一个时钟，在这种情况下，它将在液晶屏幕上复制所有信息，并从实时时钟芯片获得时间。 AtMega8微控制器被选为该设备的核心。这是一个通用的微控制器，已经过许多测试，并且上面编写了许多不同的库，这很有帮助。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对于指示本身，我得到的条形图最多有十个气体排放指示器IN-12和IN-15，因此不能谈论静态指示。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/513/247/697/513247697cdc23b7fd5240b17d9f4bbc.jpg" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们将处理控制模块的设备：</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
首先将ATmega8微控制器连接到电源，然后用10k电阻将复位脚拉到正端，以便在不需要它时不起作用。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LCD屏幕通过六线总线连接，不计算功率。我使用的屏幕型号为wh1602a，但它们的区别仅在于板上结论的顺序，因此更换屏幕非常容易。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/969/845/c7f/969845c7fd556f40cd41c62d17b8243e.jpg" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
接下来，转到实时时钟芯片。它应该计算时间，并在必要时将其报告给微控制器。我在ds1307芯片上使用了实时时钟模块。这种方法比计算微控制器本身中的时间精确得多，此外，由于时钟有自己的电池，因此在关闭时钟时可以节省时间。就像主板上的BIOS时钟一样。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了配置时钟，使用了七个按钮，其中六个直接进入微控制器的输出，第七个通过二极管同时连接至两个输出。也就是说，当按下它时，程序将认为这两个按钮被同时按下。这样做是为了将结论保存到微控制器中，否则它们仅仅是不够的。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
好了，最后，为了显示气体排放指示器的时间，我们只有一个空闲端口B。如果使用两个解码器，这对于动态指示已经足够了。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/d6e/db3/a6c/d6edb3a6cfb1d9d8f8bdb6ed31654030.jpg" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
第一解码器是众所周知的高压逻辑芯片k155id1。为此，端口B的引脚从第四到第七使用。它通过四位总线从微控制器接收符号号，并打开必要的输出。因此，它绕开了微控制器，从指示器的阴极上去除了高电压，并将其重置为负。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
扫描通过解密器k155id10进行，解密器k155id10从零到第三连接到端口B的引脚。它仅在低电压下与以前的解码器相同。其发现的集电极开路，因此它们被外部电阻吸引。接下来，使用逻辑元件“非”将信号反相，并打开这两级晶体管，以保护逻辑免受高压侵害。这些级联的方案取自schem.net上的一篇文章，其中对该过程进行了详细描述。只有我用更便宜的类似产品代替的晶体管。 NPN晶体管-kt604BM，PNP-2n5401。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/3df/cc3/84f/3dfcc384f37a68088b5c0dafb128706a.jpg" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
也就是说，您只能在该屏幕上使用微控制器的一个端口进行指示。这样既节省了微控制器的输出，又节省了处理器时间。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我在这种情况下设计了这款表，表壳中有两个来自电源的适配器，并且风扇可能无法正常工作。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/1e9/943/956/1e9943956d7b0e91bc94f8bdae41f72b.jpg" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
图为：带有实时时钟的控制单元，升压转换器，带有高压逻辑和晶体管的模块以及带有十个气体放电指示器的指示棒本身。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
机箱的正面有拨动开关，用于打开LCD屏幕背光灯，打开升压转换器本身，LCD屏幕对比度控制和F按钮以切换模式。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/6a0/831/bc8/6a0831bc882ae8ad45f33cdb346bb652.jpg" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
侧面有五个用于设置时间的按钮。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
手表具有三种时间显示模式：时间和日期，仅时间和不显示秒的时间。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/96a/4bf/c0b/96a4bfc0b763b72c4cfc5124cb53e515.jpg" alt="图片"><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/bdc/d13/d4f/bdcd13d4f9a9746c777daad9891ba6c9.jpg" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
带有工作演示的视频（接近结尾）：</font></font><br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://www.youtube.com/embed/eL23Mp16tF8%3Ffeature%3Doembed&amp;usg=ALkJrhgsadZ6hxkWTj4ddlGpdIbnX3gmCg" frameborder="0" allowfullscreen=""></iframe><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我将在这里保留项目中的所有材料（源代码，电路和印刷电路板）：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yadi.sk/d/-Gw5HAAgiLJbE</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
使用的材料</font><font style="vertical-align: inherit;">：</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">schem.net上的Transmistor隔离</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
文章：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cxem.net/mc/mc187.php</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
电压转换器文章：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e-kit.su/main/1562</font></font></a></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN382637/">https://habr.com/ru/post/zh-CN382637/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN382625/index.html">[测试] 960 GB HyperX Savage SSD</a></li>
<li><a href="../zh-CN382627/index.html">勒索软件横幅-执行，不设宽限期</a></li>
<li><a href="../zh-CN382629/index.html">3D互联网：在NASA管理好奇心火星探测器</a></li>
<li><a href="../zh-CN382631/index.html">HBO导演了一系列有关叛逆汽车的文章</a></li>
<li><a href="../zh-CN382633/index.html">NextCastle Party复古展区照片在Starcon 2015上的报道</a></li>
<li><a href="../zh-CN382639/index.html">选择配备强大电池的智能手机：2015年中期摘要</a></li>
<li><a href="../zh-CN382641/index.html">晚餐已经准备好了。国际空间站的宇航员将首次尝试在轨道上种植的沙拉</a></li>
<li><a href="../zh-CN382643/index.html">3D打印机VS Ax（Dota2）第2部分</a></li>
<li><a href="../zh-CN382645/index.html">工作和失业：机器人和算法能否永久替代人为劳动？</a></li>
<li><a href="../zh-CN382651/index.html">GoPro噩梦：小米易动相机评测</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>