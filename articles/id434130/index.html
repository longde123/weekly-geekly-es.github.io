<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸï¸ ğŸ‘©ğŸ¼â€ğŸ³ ğŸ¤œğŸ½ Antarmuka reaktif. Kuliah oleh Artyom Belov di FrontTalks 2018 ğŸ‘ŠğŸ» ğŸ‘‰ğŸ¾ ğŸ˜´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam JavaScript berbasis browser, antarmuka dapat diprediksi. "Single-threaded", dengan skrip rendering transaksional: layar kosong - pemuatan - anta...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Antarmuka reaktif. Kuliah oleh Artyom Belov di FrontTalks 2018</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/434130/">  Dalam JavaScript berbasis browser, antarmuka dapat diprediksi.  "Single-threaded", dengan skrip rendering transaksional: layar kosong - pemuatan - antarmuka.  Pengembang Artyom Belov dari Cxense, yang berfokus pada hukum Pareto, mengatakan bagaimana, menghabiskan 20% dari waktu, membuat aplikasi 80% lebih cepat karena teknik "desain reaktif" - belum dirumuskan, tetapi sudah digunakan dalam produk dengan prioritas pada UX. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/N1vRiKV0iC4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><blockquote>  Tetapi untuk pria yang lebih berpengalaman yang tidak keluar dari Webpack dan membuat Webpack menderita, dan tidak sebaliknya?  Mereka memasang plugins.  Tetapi karena kita berada di awal pengembangan teknik ini, ekosistem menawarkan kepada kita plug-in yang mengambil HTML Anda, menghasilkan HTML dengan built-in CSS berdasarkan itu, menyediakan kode QR untuk iklan ... Serius?  Setelah itu, Anda dapat mengambil dan melalui "! Penting" mengganggu gaya ... Mungkin ada baiknya mengajukan pertanyaan, mengapa saya masih di front-end. </blockquote><br><a name="habracut"></a>  - Halo semuanya, saya Artyom Belov.  Saat ini, kata reaktif mungkin disalahpahami: ada sebagian besar orang yang belajar Bereaksi sebelum belajar JavaScript.  Oleh karena itu, mengucapkan kata-kata dasar semacam itu agak ambigu.  Tetapi bagi saya itu masih fisika, hukum kekekalan momentum. <br><br>  Mari kita mulai dengan masalahnya.  Ini adalah perfeksionisme profesional kami.  Bagaimanapun, kami tidak menunjukkan antarmuka sebelum itu tidak "sempurna" - menurut pendapat kami.  Dan saya tidak tahu apa yang akan menang dalam nominasi untuk konten informasi: layar browser putih atau pemintal dengan tulisan "Jangan ragu untuk menunggu selamanya";  tidak jelas bagi saya. <br><br><img src="https://habrastorage.org/webt/lp/6n/im/lp6nimmouvk7ykz4jww1kxtbao0.gif"><br><br>  Tapi satu hal yang pasti: rendering, seperti respons aplikasi, bukan transaksi.  Menampilkan antarmuka bukan merupakan unit yang logis, jadi Anda harus mengalahkannya dalam batch. <br><br><img src="https://habrastorage.org/webt/ij/ye/mg/ijyemgrfvrmwrqzfqjuhgij4fv0.png"><br><br>  Dan di ujung depan, secara umum, kita membantu diri kita sendiri, kita berbohong. <br><br><img src="https://habrastorage.org/webt/xt/oq/wy/xtoqwysiydkejdbgl-5hks8zlss.png"><br><br>  Pada dasarnya, ketika kita berbicara tentang "waktu buka" aplikasi kita, kita tidak mengatakan frasa sepenuhnya - "waktu buka rata-rata".  Meskipun Anda tidak perlu tujuh bentang di dahi untuk membuat unduhan aplikasi kedua instan, menggunakan Pekerja Layanan. <br><br>  Dan sangat menyedihkan bahwa Lighthouse menganjurkan fakta bahwa aplikasi tersebut mungkin tidak menunjukkan tanda-tanda kehidupan dan hanya mengatakan dalam dua atau tiga kerangka audit terakhir: "Saya benar-benar siap untuk menggambar." <br><br><img src="https://habrastorage.org/webt/hp/de/x6/hpdex6uk7jnysvos09h9bmzqjlw.png"><br><br>  Dan mendapatkan di bawah 100 poin dalam tes aplikasi untuk kinerja sekarang bukan yang paling sulit.  Google memperhatikan ini, terima kasih. <br><br><img src="https://habrastorage.org/webt/nf/od/yc/nfodyc04egapyj2qguraxrtuqgs.png"><br><br>  Dan konsep komprehensif seperti "Time to Interactive" dipecah menjadi beberapa tahapan, yaitu: "First Interactive", "Time to Consistently Interactive" dan "First Input Delay".  Jika dengan dua istilah pertama menggunakan Google Terjemahan Anda dapat memahami cara berinteraksi dan meningkatkan, maka yang terakhir dapat dijelaskan dengan melihat utas utama peramban. <br><br><img src="https://habrastorage.org/webt/xl/d0/ii/xld0iivk6nhvadqiitkkno1wf3a.png"><br><br>  Sebuah contoh  Jika, segera setelah memuat antarmuka, pengguna mengklik bidang teks, jeda dapat terjadi sebelum bidang teks menampilkan kursor dengan kemampuan untuk masuk.  Itu karena utas utama sibuk, dan antarmuka pada saat klik tampak siap untuk berinteraksi. <br><br><img src="https://habrastorage.org/webt/se/hs/3r/sehs3rflulvrztgsmqwmiedgseo.png"><br><br>  Itu semua bermuara pada fakta bahwa metrik di Lighthouse memiliki waktu penyelesaian yang hampir sama - sementara mereka harus seimbang. <br><br><img src="https://habrastorage.org/webt/r9/yi/ry/r9yiryefiv4vpmmgjz16xjkuk0c.png"><br><br>  "Cat bermakna pertama" harus secepat mungkin, "cat puas pertama" harus di belakangnya, dan "Waktu untuk Secara Interaktif Interaktif" seharusnya tidak memiliki delta besar dari layar putih browser hingga kesiapan antarmuka. <br><br>  Tentu saja, ada ahli yang akan mengatakan bahwa ini dicapai hanya: <br><br>  â€œKita perlu memecah aplikasi menjadi rute di Webpack dan membuat rendering sisi Server.  Ya, ada pekerjaan selama setengah jam! " <br><br>  Tapi ini tidak sepenuhnya benar ... Pakar yang terhormat, tidak menyebutkan bahwa setiap rute baru melakukan hal yang sama - memuat.  Dan lagi, semua metrik di Lighthous memiliki delta kecil di antara mereka sendiri, karena rute biasanya signifikan. <br><br>  Dan kadang-kadang Anda tidak bekerja di perusahaan besar yang sukses, dan rendering sisi Server tidak ada.  Dan, mengambil keuntungan dari posisi resmi Anda, Anda memulai R&amp;D dengan tujuan yang jelas - untuk mendapatkan rendering progresif.  Seperti JPEG progresif, yang ada dalam paragraf 167 dari Lebedev "Covodry" <br><br>  Pada prinsipnya, rencana R&amp;D terlihat sangat sederhana ... Anda perlu entah bagaimana mendapatkan keuntungan.  Dan jangan lupa tentang hal utama - tentang waktu dan tanggal yang suka terbakar.  Dan, sambil memegang manifesto programmer minimalis di tangan Anda, Anda harus ingat: habiskan 20% waktu untuk 80% hasilnya. <br><br>  Saya punya alat.  Misalnya, lag-radar. <br><br><img src="https://habrastorage.org/webt/me/ui/gi/meuigirky5fida7bawgkzjkrhq4.gif"><br><br>  Benar, saya tidak pergi ke Santa Barbara, yang mencuri ide, Dan Abramov dari seseorang atau sebaliknya ... Pada presentasi terakhir JSConf Iceland 2018, konsep yang agak menarik ditunjukkan: radar berwarna hijau sampai mendeteksi keterlambatan pada tapak utama, dan ketika mereka sensitif, radar berubah menjadi kuning, dan ketika kritis, itu berubah menjadi merah. <br><br>  Dan dengan menekan Cmd + Shift + P di Mac - atau Ctrl + Shift + P di Windows - saya melihat persentase cakupan kode.  Dan kemudian dia melihat bungkusan itu. <br><br><img src="https://habrastorage.org/webt/qm/zp/xh/qmzpxh1534fuw7wmb12pcahwbu0.png"><br><br><img src="https://habrastorage.org/webt/n9/kb/b4/n9kbb4yn0tr_elsgaqcjmxoabsi.png"><br><br>  Dan lagi untuk menutupi, dan lagi untuk bundel.  Dan dia hanya memutuskan untuk menerima situasinya.  Saya tidak perlu mengeluarkan apa pun dari sini.  Memang, dalam proyek, banyak menggunakan alat yang standar de facto.  Sebagai contoh, Ivan Akulov, bersama dengan Google Chrome Labs, membuat repositori untuk optimasi webpack, optimasi webpack-libs, sejak dulu.  Dan mengapa saya harus mengulanginya, berbicara tentang Code Split, tentang pemuatan Malas?  Inilah yang dikenal dan standar progresif pada 2018. <br><br><img src="https://habrastorage.org/webt/bl/hq/sf/blhqsfhtguvdph0phjugkxdii8k.png"><br><br>  Dan menjawab pertanyaan, "Apa yang bisa diunduh dalam setengah detik?"  - JS dan inilah pemenangnya.  Misalnya, Anda dapat mengunggah 100 kilobyte JPG dan menghabiskan 0,04 untuk memprosesnya, tetapi JS melakukannya, karena butuh lebih banyak waktu untuk memprosesnya, 20 kali. <br><br><img src="https://habrastorage.org/webt/i5/2t/bf/i52tbfz_iunvezbqv4inaps2gbu.png"><br><br>  Karena Anda perlu mengingat apa yang terjadi ketika aplikasi dimulai. <br><br><img src="https://habrastorage.org/webt/zg/ma/2b/zgma2bclq-utain_9wewam-znea.png"><br><br>  Setelah mengunduh, hal yang ingin Anda komposisikan dimulai: unduh pada satu waktu, dan parsing, kompilasi, dan jalankan kode pada titik waktu yang lain. <br><br><img src="https://habrastorage.org/webt/ut/ac/cn/utaccnuew-ezap0uwwa5gwdeptm.png"><br><br>  Saya melihat apa yang ditawarkan tag &lt;script /&gt; kepada kami.  Ada banyak pilihan, dan saya berpikir untuk menggunakan petunjuk. <br><br><img src="https://habrastorage.org/webt/lp/zm/wv/lpzmwvxsbdqhy601fquwvbfxh3g.png"><br><br>  Hmm, tidak ada remote di dalam ruangan, tidak ada telepon.  Saya ambil 50:50.  Kami masih memiliki opsi "menunda" dan ketik = "modul". <br><br><img src="https://habrastorage.org/webt/p9/4m/xn/p94mxnan7l_grkm1eeboiwompra.png"><br><br>  Mereka memuat tanpa memblokir parsing, tetapi memproses sendiri dan mengeksekusi kemudian, ketika aplikasi paling siap untuk ini - membebaskan utas utama. <br><br>  Tetapi tidak ada pilihan yang tepat, dan kata-kata orang hebat Ben Schwartz diingatkan.  Bukannya dia mengatakannya dalam bahasa Rusia, tetapi: <br><br><img src="https://habrastorage.org/webt/hp/fm/pj/hpfmpjka7cobou4-ycbslc75fr8.png"><br><br>  Untuk menghindarinya, saya perlu JS, jadi Permintaan Awal adalah satu-satunya metode bagaimana saya bisa menyingkirkan permintaan yang tidak perlu. <br><br><img src="https://habrastorage.org/webt/j2/_a/gk/j2_agk43qhz_filmtvcb5nqisps.png"><br><br>  Nah, Anda harus mengkonfigurasi Webpack lagi.  Ini tidak selalu koneksi plugin. <br><br><img src="https://habrastorage.org/webt/py/br/dv/pybrdv0jaypvevaxpxmyxztnre8.png"><br><br>  Melihat bundel dalam konteks, saya tidak benar-benar mengerti bagaimana saya mengulangi ini atau mereka fragmen kode antar file. <br><br><img src="https://habrastorage.org/webt/ip/ns/ac/ipnsacv2uyzzh71ojjbvzq84-8s.png"><br><br>  Mungkin, mereka harus dikeluarkan dalam permintaan-Kritis? <br><br><img src="https://habrastorage.org/webt/je/bj/sg/jebjsglelbtzg5ae1qpebqp6qpu.png"><br><br>  Menggunakan ConcatenationPlugin (), kami menghapus manifes Webpack, yaitu daftar semua file modul Webpack, dan kemudian menyematkan JSON ini, sehingga menyingkirkan permintaan yang tidak perlu ini.  Kemudian tentukan apakah ada kode asinkron yang bisa disematkan.  Dan akhirnya, embed otak Webpack langsung di halaman agar tidak menunggu semua modul dimuat.  Ya, ambil runtime chunk dan sematkan dalam HTML. <br><br><img src="https://habrastorage.org/webt/ez/se/mn/ezsemnw4njhrkyzacjq9ou3mpj8.png"><br><br>  Secara umum, integrasi otak Webpack tidak memberikan peningkatan yang paling mempesona, tetapi sekarang mari kita bicara tentang Critical CSS. <br><br><img src="https://habrastorage.org/webt/qk/to/yp/qktoypf0izvaipse92pg8y5xrsc.png"><br><br>  Tapi ... kami menyadari bahwa CSS Kritis adalah untuk pria yang tidak memiliki aplikasi satu halaman.  Lagi pula, tanpa rute HTML lengkap, alat tidak dapat membangun Critical CSS. <br><br><img src="https://habrastorage.org/webt/bb/q6/h7/bbq6h7fs1wp0en6enqpq_fghdce.png"><br><br>  Dan ada baiknya bahwa ada Dalang yang bisa. <br><br><img src="https://habrastorage.org/webt/u4/np/ah/u4npah85nsmbspbasfgjblwndzw.png"><br><br>  Lagipula, apa yang disajikan kepadanya - folder "puppeteer -amples" di GitHub diraih ke proyek-proyek.  Maka proyek Rendertron pun muncul.  Benar, untuk mendapatkan setidaknya beberapa jenis kesalahan darinya, Anda harus memasukkan alamat, tekan Enter ... dan hanya itu. <br><br><img src="https://habrastorage.org/webt/l-/ld/lu/l-ldlucikl595sr-nblxzeyltgw.png"><br><br>  Untung ada paket npm lain yang berfungsi.  Mereka ada di pasar, tampaknya, lebih lama. <br><br><img src="https://habrastorage.org/webt/we/uk/ka/weukkaysbo1vbcd5dkoq6hlz3_i.png"><br><br>  Setelah menginstal dan membangun paket, dengan ikal biasa, saya dapat membuat ulang HTML aplikasi saya di server lokal, dan dengan demikian mendapatkan HTML Kritis, sehingga diperlukan untuk membuat CSS Kritis. <br><br><img src="https://habrastorage.org/webt/zn/yu/zy/znyuzyyszqvrvvyiw7ymmol2qe0.png"><br><br>  Bootstrap HTML, alih-alih menunggu render, memberikan peningkatan, seperti yang diharapkan, tetapi terlalu dini untuk memikirkan hal ini.  Mari kita lanjutkan jalan menuju CSS Kritis. <br><br><img src="https://habrastorage.org/webt/jq/tr/qp/jqtrqp3qmikvmse5u1o_hsenvii.png"><br><br>  Terima kasih lagi kepada Eddie Osmani untuk merawat ekosistem dan membuat HtmlCriticalWebpackPlugin (), di mana untuk konfigurasi Anda perlu menjawab hanya beberapa pertanyaan: di mana menyimpan CSS Kritis dan dalam bentuk apa? <br><br><img src="https://habrastorage.org/webt/m8/bp/e4/m8bpe4c-ycf0ycrpp61za6enyvs.png"><br><br>  Oh, Anda bisa melihat garis mencurigakan "rumah sakit".  Ini adalah momen yang sangat menarik ketika Eddie Osmani menggunakan paket pihak ketiga yang ternyata, bahkan antarmuka web. <br><br><img src="https://habrastorage.org/webt/1w/e5/fx/1we5fxpgriedvqtvzvpet_-xtck.png"><br><br>  Tapi jujur â€‹â€‹saja, saya malu menggunakan antarmuka web, ini tampaknya untuk desainer tata letak yang tidak memiliki baris perintah.  Tapi semuanya sederhana, seperti pada iklan Yuppy dari tahun 90-an: cukup klik "Buat". <br><br><img src="https://habrastorage.org/webt/xw/gu/3b/xwgu3bgd2swexdr43zgtvchpjru.png"><br><br>  Dan ini tidak memberikan pertumbuhan yang paling mempesona, tetapi sangat sensitif untuk pewarnaan pertama aplikasi. <br><br><img src="https://habrastorage.org/webt/oh/a4/qv/oha4qvyjpbhbs7i0na3urkctw6k.png"><br><br>  Dengan jejak dunia, dan aplikasi sedikit berubah ketika font mulai menari.  Baris ini dikenal sebagai 3 detik.  Dan bagian dimulai di mana kita, front-end, jarang kalah, yaitu permainan dengan font. <br><br>  Resep untuk mengunduh font.  Di sini font-display akan membantu kita.  Setelah mengerti bahwa di sini Anda tidak perlu langsung pindah, pertama-tama kita putuskan: kilat teks yang tak terlihat, FOIT, atau kilat teks tanpa gaya, FOUT, menakutkan bagi kami. <br><br><img src="https://habrastorage.org/webt/ud/o3/hb/udo3hbctfrr-fhnau-vnzbxqd0a.png"><br><br>  Dan - spoiler - yang paling mengerikan bagi kita adalah flash teks yang tidak terlihat, karena menyebabkan lebih banyak redraws. <br><br><img src="https://habrastorage.org/webt/ae/re/1h/aere1hwgbcmtxarci1bmzgzuwne.gif"><br><br>  Jika singkatnya, dengan melihat properti font-display apa yang ada, Anda berhak memilih swap atau fallback untuk diri sendiri.  Pada umumnya, dari lima properti yang bisa Anda pilih sendiri, tidak ada opsi yang tepat. <br><br><img src="https://habrastorage.org/webt/fv/tc/jt/fvtcjt7ei2axij5oq-qmg5oeicq.png"><br><br>  Selain itu, saya mendengar bahwa ada proyek Pencocokan Gaya Font yang memungkinkan saya memilih font sistem fallback yang layak untuk font Comic Sans saya dan tidak memuatnya dengan Google Font.  Meskipun ini tidak tepat ... <br><br>  Ada orang-orang seperti Zach Zezerman yang menemukan konsep FOFT. <br><br><img src="https://habrastorage.org/webt/h7/bh/_k/h7bh_kzwxghwdaoczjamornpc3q.png"><br><br>  Yang praktis tidak terlihat di browser. <br><br>  Hal ini tercapai karena ketika Anda mengunduh font romawi dari gaya standar, dan browser sudah sangat pintar sehingga dapat membuat huruf "palsu" tebal, miring, bergaris bawah, dan coret font berdasarkan gaya standar.  Ini memberikan flash, tetapi hampir tidak ada.  Untuk melakukan ini, terapkan apa yang disebut font preload. <br><br><img src="https://habrastorage.org/webt/v8/he/o6/v8heo68v8tmi1l-n4xhk_iy925c.png"><br><br>  Tetapi bagaimana jika saya mengatakan bahwa font dapat tertanam dalam CSS?  Dan ini benar, dan itu juga memberi keuntungan! <br><br><img src="https://habrastorage.org/webt/fb/rw/or/fbrworg5hz3rnlf4xb0_jumd81u.png"><br><br>  Sepertinya kombinasi teknik.  Anda hanya perlu menanamkan font Romawi langsung di CSS.  Dengan demikian, untuk mendapatkan pertumbuhan pada kenalan utama pertama pengguna dengan aplikasi, dan kemudian memuat headset yang tersisa bila perlu, tetapi tidak segera. <br><br><img src="https://habrastorage.org/webt/vc/2n/u_/vc2nu_vy1q3yhdvrjm3tiiuidek.png"><br><br>  Maka, setelah banyak manipulasi, â€œWaktu untuk Secara Interaktif Interaktifâ€ masih memiliki delta yang signifikan dari indikator lain.  Saya hanya meningkatkan pewarnaan aplikasi.  Ini tidak buruk, tetapi bukan apa yang saya perjuangkan.  Menurut pendapat saya, saya perlu menangkap beberapa masalah.  Dan dia tertangkap, dan di ekor.  Setelah semua: <br><br><img src="https://habrastorage.org/webt/zj/_-/ym/zj_-ymrryk3ncctvdj3draofpqc.png"><br><br>  Cukup jelas mengapa ini tidak diterapkan di banyak browser.  Gulir lompatan, dan cara menentukan apa yang Anda butuhkan dan tidak perlu memuat, bukanlah yang termudah.  Mungkin itu akan memberi tumpangan. <br><br>  Tetapi sekali lagi, para ahli akan memberi tahu Anda - ada muatan yang malas. <br><br><img src="https://habrastorage.org/webt/yt/mn/gc/ytmngczroz9syd-jilxja1j1lga.gif"><br><br>  Tapi ingat bagaimana Anda berinteraksi dengannya.  Anda tidak dapat menutupi 100% kasus. <br><br><img src="https://habrastorage.org/webt/e1/xy/to/e1xytoccbdrthqr7t8mwkpz7xy0.png"><br><br>  Ya, dan jika Anda mengikuti optimisasi dan menyelesaikan semua pos pemeriksaan dalam buku karya Eddie Osmani "Essential Image Optimization", maka Anda juga tetap dengan masalah yang belum terselesaikan ... <br><br>  Tapi saya melihat Eddie Osmani suka menyebut Reddit di almanak dan artikelnya di Medium.  Saya ingat bahwa seorang teman bekerja untuk saya di sana dan telah memanggilnya untuk meminta nasihat, dia mengingatkan saya bahwa ada sesuatu yang disebut kinerja Perceran, dan definisi ini ada di lorong-lorong pikiran saya. <br><br><img src="https://habrastorage.org/webt/wq/7b/ir/wq7bircpigeuun2zq-1dnd2olnc.gif"><br><br>  Di sini, omong-omong, desainer membantu kami.  Inilah saatnya bukan waktu yang diputar, tetapi bagaimana Anda menyajikan aplikasi Anda.  Dan taktik yang paling tepat untuk ini adalah "placeholder konten". <br><br><img src="https://habrastorage.org/webt/sw/sp/as/swspasimeyisz0xpntedhjtwzws.gif"><br><br>  Misalnya, YouTube dapat melakukan ini. <br><br><img src="https://habrastorage.org/webt/hs/dg/oc/hsdgocb3gd43zf28rdk9mrp8sw0.gif"><br><br>  YouTube berhasil memutar video sebelum semua komponen pendukung diunduh.  Ini dilakukan, melihat ke depan, karena placeholder konten, dadu animasi abu-abu tersebut. <br><br><img src="https://habrastorage.org/webt/r-/mn/hd/r-mnhdfosuuxnoxjmo3nkyirbiw.png"><br><br>  Dan apa yang ditawarkan ekosistem kepada kita saat ini?  Tidak ada yang istimewa.  CodePen  Mari kita lihat implementasinya. <br><br><img src="https://habrastorage.org/webt/i3/yg/rn/i3ygrnaewv6egvo6m30viqtnizc.gif"><br><br>  Ini cukup kartu yang terjadi dalam pola desain apa pun.  Ayo lihat ... <br><br><img src="https://habrastorage.org/webt/vh/bt/ol/vhbtolsbdzrzwsbjwbssns2k9ku.png"><br><br>  Kita perlu mendeklarasikan beberapa variabel pada 30 baris, mendeklarasikan gram properti pada 50 baris, beberapa animasi dan kita mendapatkan 100 baris kode ... Ini adalah 10 dari 10 pada skala Lea Viru. <br><br>  Tetapi untuk pria yang lebih berpengalaman yang tidak keluar dari Webpack dan membuat Webpack menderita, dan tidak sebaliknya?  Mereka memasang plugins.  Tetapi karena kita berada di awal pengembangan teknik ini, ekosistem menawarkan kepada kita plug-in yang mengambil HTML Anda, menghasilkan HTML dengan built-in CSS berdasarkan itu, memberikan kode QR untuk iklan, tampaknya ... Serius?  Setelah itu, Anda dapat mengambil dan melalui "! Penting" mengganggu gaya ... Mungkin ada baiknya mengajukan pertanyaan, mengapa saya masih di ujung depan. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2e1/eb8/136/2e1eb8136cda41afbcb5c57377fa0b39.gif"><br><br>  Tetapi ada sekelompok orang yang membuat lelucon tentang produk mereka sama sekali tidak lucu.  PostCSS. <br><br><img src="https://habrastorage.org/webt/gs/oz/4p/gsoz4pnecxwewknvoeibchl3jt4.png"><br><br>  Anda selalu dapat mengandalkan mereka.  Secara khusus, Anda dapat menerapkan teknik ini - "placeant contant" - pada konsep CSS "multi-latar belakang".  Ini adalah saat properti "latar belakang" tunggal dapat berisi beberapa nilai dalam koma. <br><br><img src="https://habrastorage.org/webt/-d/ib/ve/-dibve2ok-afdcgtacyxwmnoy7o.png"><br><br>  CanIUse hanya menjawab, ya. <br><br><img src="https://habrastorage.org/webt/kj/rl/cy/kjrlcyol1rb9wjelcbypmi27cbg.png"><br><br>  Ini seperti yang berikut, yang tidak asing bagi kita.  Akrab - berkat Medium. <br><br><img src="https://habrastorage.org/webt/6z/gg/k8/6zggk89ocfmdsweepjofkwynb7y.png"><br><br>  Gradien linier diterapkan ke gambar Anda, yang ditampilkan secepat mungkin, dan gambar berukuran penuh akan muncul di atasnya, nanti.  Dalam kode, tampilannya seperti ini. <br><br><img src="https://habrastorage.org/webt/aa/vz/gp/aavzgp6cvedhymo93jwi_qlgavi.png"><br><br>  Permintaan prioritas pertama mulai memuat gambar, tentu saja, berat.  Dan secara instan, ketika Anda mendapatkan CSS, gradien linier akan muncul.  Tapi gradien linier tidak selurus dan semudah pelonggaran. <br><br><img src="https://habrastorage.org/webt/qo/2v/5t/qo2v5tly1crltm-rhtr13byfwqs.png"><br><br>  Oleh karena itu, kode harus diambil oleh plugin lain, yang akan membuat gradien linier lebih halus. <br><br><img src="https://habrastorage.org/webt/vq/5o/hl/vq5ohlkxagfq4phxowdhbhdwjju.png"><br><br>  Tetapi dengan sedikit gradien Anda akan membuat overlay sehingga mencakup semua case. <br><br><img src="https://habrastorage.org/webt/mc/2p/ko/mc2pkosyyjuaqzywe5n7snaxt2s.png"><br><br>  Dalam hal ini, ini tidak akan berfungsi dengan baik, karena gambar terlalu kompleks untuk membuat abstraksi hanya dengan gradien linier.  Tapi di sini sqip akan berfungsi. <br><br><img src="https://habrastorage.org/webt/go/9q/k-/go9qk-zubonia-f8ce9rxpyjkjm.png"><br><br>  Ini adalah modul CLI untuk membuat placeholder untuk gambar Anda dan melampirkannya menggunakan teknik beberapa latar belakang. <br><br><img src="https://habrastorage.org/webt/yr/vo/3w/yrvo3wxdsdkoz3ycvvb63n_l7ja.png"><br><br>  Tentu saja, gambar ukuran penuh akan memuat lebih lama, dan placeholder dari sqip karena bobotnya akan ditampilkan lebih cepat. <br><br><img src="https://habrastorage.org/webt/k9/-f/ya/k9-fyawdkhg5wnj-g9ad0kg5ada.png"><br><br>  Tapi ini bukan apa yang saya perjuangkan.  Saya ingin gambar berat datang ketika saya membutuhkannya, dan bukan ketika browser menginginkannya.  Dan saya perlu membaginya menjadi dua file CSS, meletakkan satu di &lt;head&gt;, di mana gambar-gambar ringan akan berada, dan kemudian memuat gambar-gambar berat di &lt;body&gt;. <br><br><img src="https://habrastorage.org/webt/0x/3f/tp/0x3ftpbxbusr1rx9azjw0qwowfm.png"><br><br>  Tetapi bagaimana dengan gambar yang tersisa, misalnya, di JS? <br><br><img src="https://habrastorage.org/webt/7i/pt/cd/7iptcduyrpohelvzqfoi7bh5n1a.png"><br><br>  Manipulasi dengan SVG, khususnya, terlihat mengecewakan.  Anda sepertinya ingin menggambar ulang SVG, tetapi melalui CSS yang sudah dikenal itu tidak di bawah kendali Anda. <br><br><img src="https://habrastorage.org/webt/3n/aa/os/3naaosb4noviggdmao_ddela4ua.png" width="400"><br><br>  Rupanya, menurut tren baru, SVG harus menjadi komponen. <br><br><img src="https://habrastorage.org/webt/np/mz/8i/npmz8i9lz8-4hvuot6hkeaabpiw.png"><br><br>  Dengan bantuan paket yang diadopsi oleh Dan Abramov di "create-react-app" - ini adalah "svgr". <br><br><img src="https://habrastorage.org/webt/4h/cy/w0/4hcyw0pbrpkries7-9uubkcdxfw.png"><br><br>  Ini adalah alat CLI yang hanya menyisipkan SVG ke JS Anda, dan Anda bisa menggunakannya sebagai komponen.  Ini sebenarnya adalah tiga baris kode. <br><br><img src="https://habrastorage.org/webt/do/2n/5v/do2n5vqnu2abhdcvg5tyzi4rfm0.png"><br><br>  Tetapi para desainer, tampaknya, tidak menyadari bahwa banyak kerangka kerja harus memiliki satu elemen dasar dari komponen tersebut.  Saya tidak akan memintanya untuk "mengekspor" SVG dari Sketch dengan "cara khusus"? <br><br><img src="https://habrastorage.org/webt/-r/e8/ec/-re8eccxf55jvammpcjxbmrdjqy.png"><br><br>  Karena sejumlah masalah kecil seperti itu, kita harus memperhatikan proyek-proyek populer yang mencurigakan. <br><br><img src="https://habrastorage.org/webt/4b/ia/a9/4biaa9-smgckysguhn6icrhoxr0.png"><br><br>  Misalnya, beberapa "react-icon-base" yang menawarkan dirinya sebagai pengganti untuk tag &lt;SVG&gt;.  Yaitu, paket itu, seolah-olah, memberi tahu kita: alih-alih tag &lt;SVG&gt;, bungkus kode SVG Anda dengan saya, setelah itu saya akan menerapkan properti: fill, teks, stroke dan apa pun, sendiri, karena saya memiliki logika yang berfungsi â€œ jembatan "dari CSS. <br><br><img src="https://habrastorage.org/webt/68/0t/nu/680tnuknxotglxqfkedecjeimom.png"><br><br>  Dan dengan bantuan perintah sederhana, Anda dapat membuat svgr-template untuk proyek Anda. <br><br><img src="https://habrastorage.org/webt/lj/5e/a1/lj5ea1ltfxnqds_ryjlihtscmuk.png"><br><br><img src="https://habrastorage.org/webt/ab/4d/ru/ab4drujwtqjw58qy7qy_ymkkp9k.png"><br><br>  Sejujurnya, saya tidak tahu mengapa proyek ini hanya untuk Bereaksi. <br><br>  Selanjutnya, Anda dapat mengimpor ikon yang tidak ditumbuhi dengan gula sintaksis, apa pun kenyamanan Anda. <br><br><img src="https://habrastorage.org/webt/fo/fa/ip/fofaipth6nhgfrhxfkzvo-qkqye.png"><br><br>  Dan akhirnya, menjauhlah dari tag usang, mungkin &lt;img&gt;, ke pendekatan komponen yang semua orang bicarakan. <br><br><img src="https://habrastorage.org/webt/xb/mn/r_/xbmnr_cmfjvvuiiaynjd94ntbpo.png"><br><br>  Dan mendukung apa?  Misalnya, demi Anda mencoba ": ekspor" pseudo-class di file SCSS \ SASS Anda. <br><br><img src="https://habrastorage.org/webt/da/gc/ab/dagcabkl5ljvze-pi5byymjvezs.png"><br><br>  Saya kemungkinan besar yakin ini juga berfungsi di Webpack versi Anda.  Kelas pseudo â€œ: exportâ€ membongkar variabel yang Anda nyatakan di SCSS.  Kemudian Anda dapat mengimpornya dalam kode JS.  Dan itu saja, dan Anda tidak perlu menumbuhkan sepeda, seperti semacam file JSON dengan semua warna dan segalanya. <br><br><img src="https://habrastorage.org/webt/az/et/4p/azet4purq7uyv1by9ieb2t4quey.png"><br><br>  Svgr memungkinkan Anda mengurangi pewarnaan pertama aplikasi.  Tetapi tidak begitu jujur, karena kode hanya bermigrasi dari CSS ke JS. <br><br>  Tapi kedua, kita lupa tentang sqip, apa yang akan menjadi pertumbuhan setelah penerapannya? <br><br><img src="https://habrastorage.org/webt/uo/kz/a_/uokza_2mediwdi2zvrbde81ocrk.png"><br><br>  Memiliki keterampilan impor dinamis yang sederhana, kami menerapkan teknik berikut.  Kami memuat versi ringan dari gambar, sqip placeholder, dan menampilkannya di antarmuka.  Kemudian dalam impor dinamis, di .then (), kami akan menunggu ikon berukuran penuh tanpa memblokir interaksi dengan antarmuka. <br><br><img src="https://habrastorage.org/webt/jp/8z/os/jp8zosqdywuruwqgm3uvctgrm64.png"><br><br>  Ini mengarah pada fakta bahwa kita mendapatkan subjek untuk kita SVG, yang dapat kita timpa dengan argumen, seperti komponen JS nyata. <br><br><img src="https://habrastorage.org/webt/s4/om/yc/s4omyca_uxov66_rf0cwwkkpkkc.png"><br><br>  Dan akhirnya, ini memberikan peningkatan dalam metrik yang diperlukan dari "interaktif".  Dan dengan demikian Anda menjawab pertanyaan utama yang disuarakan dalam artikel Eddie Osmani: "Apakah ada yang terjadi secara umum?"  Anda menjawabnya lebih awal: "Ya, itu sedang terjadi." <br><br><img src="https://habrastorage.org/webt/sw/sp/as/swspasimeyisz0xpntedhjtwzws.gif" width="400"><br><br>  Tapi rasanya saya hanya punya ikon di aplikasi.  Ada juga bidang formulir, misalnya. <br><br><img src="https://habrastorage.org/webt/zi/uv/zm/ziuvzmaqb4r8qjqxzkrovjs6ija.png"><br><br>  Berikut ini adalah solusi yang dapat Anda gunakan saat ini.  Misalnya, "react-content-placeholder" dan "vue-content-placeholder".  Tetapi berhenti, di sini kami ditawari untuk menggambar placeholder SVG komponen secara manual. <br><br><img src="https://habrastorage.org/webt/sg/px/ig/sgpxigjx8adf8m086qspkr_uzmo.png"><br><br>  Ada juga versi web tempat Anda bisa menyeret dan membuat tempat penampung melalui drag &amp; drop.  Yang akan sama seperti komponen asli Anda. <br><br><img src="https://habrastorage.org/webt/4s/x4/ql/4sx4qlbodank-sxpc_2gjwkwrou.png"><br><br>  Tetapi apakah itu masalah memuat komponen yang ditata lima kali - tidak!  - dan sistem gaya yang saya gunakan. <br><br><img src="https://habrastorage.org/webt/ws/5t/99/ws5t99mmlkoxoltvtieoqyrq6hc.png"><br><br>  Dan buat aturan bahwa Anda harus benar-benar mematuhi sistem desain.  Dan bukan ikon dan gambar yang harus diekspor dengan benar, tetapi sistem desain harus mengatur proses ini.  Lebar bidang teks tidak boleh di-hardcode, tetapi sistem desain, di atas, harus mengatur ini. <br><br><img src="https://habrastorage.org/webt/zk/rh/j9/zkrhj9u2cfz5flb8wzo4cny7xdc.png"><br><br>  Dan bukan yang paling sulit, akhirnya, adalah menempel operator ternary yang menampilkan placeholder termudah kami, yang akan membuat pengguna tahu bahwa ia akhirnya tiba di alamat, dan kemudian memuat komponen lengkap hanya ketika kami membutuhkannya. <br><br>  Secara umum, harus ada demo, tetapi saya tidak datang ke sini untuk laporan iklan.  Tetapi orang-orang lain yang Anda semua tahu pantas dihormati. <br><br><img src="https://habrastorage.org/webt/xx/mf/j-/xxmfj-n04brdzux-8cw0pqetkgk.png"><br><br>  Dan jika saya berada di Oscar, saya akan mengeluarkan sebuah amplop dan mengatakan sesuatu seperti: "Untuk kecerdikan yang luar biasa dalam penerapan placeholder konten, yaitu dalam implementasi animasi menggunakan gif 10x10 piksel, alih-alih menulis gaya CSS, judulnya diberikan "Ahli dalam animasi, dengan salam dari masa lalu, Instagram!" <br><br><img src="https://habrastorage.org/webt/xe/mt/ts/xemttszhiqkiwn9j7gdbhom4_5y.gif"><br><br>  Saya harap mereka tidak membuat transparan GIF piksel tunggal, dan properti perbatasan bukan tabel ganda. <br><br>  Dan saya ingin mengingatkan Anda: mengandalkan pemantauan pengguna nyata, RUM. <br><br><img src="https://habrastorage.org/webt/qh/mc/wi/qhmcwipplhkttpsr0dpvkp2juvq.png"><br><br>  Untuk pengguna sebenarnya dari proyek Anda dan metrik yang relevan. ,      ,  , first input delay. <br><br>  ,      ,    common-,       . <br><br>   ,        ,          . <br><br>  ,     ,     JPG    ,     . <br><br>   ,       . ,   . <br><br><img src="https://habrastorage.org/webt/m-/ld/d3/m-ldd3rl4p_uxyjrdch8rpojsdm.png"><br><br>  Dan yang terakhir.  ,    ,   ,       ,     ,    - loadable-. Ì,    ,     . ,    â€”     ,   .      â€”    ,     .  , , ,         Webpack.      ,  â€¦ great loading component?  ,  -   ?      ? <br><br>  ,      ,  , ,    .     . <br><br><img src="https://habrastorage.org/webt/fk/fh/vn/fkfhvn0b1unjt3c39uyebo8lczm.png"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id434130/">https://habr.com/ru/post/id434130/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id434120/index.html">React Tutorial, Bagian 5: Memulai dengan Aplikasi TODO, Styling Dasar</a></li>
<li><a href="../id434122/index.html">Skenario - Bukan Objek Halaman</a></li>
<li><a href="../id434124/index.html">Aktifkan akselerasi GPU di Photoshop di bawah Wine</a></li>
<li><a href="../id434126/index.html">Putar media menggunakan perpustakaan VLCj</a></li>
<li><a href="../id434128/index.html">PHP Digest No. 146 (10 - 24 Desember 2018) + Hasil 2018</a></li>
<li><a href="../id434134/index.html">Analisis hasil 2018 Kaggle ML & DS Survey</a></li>
<li><a href="../id434136/index.html">Anatomi Korporat</a></li>
<li><a href="../id434138/index.html">Kami menulis mesin virtual kami sendiri</a></li>
<li><a href="../id434140/index.html">Sejarah Singkat Fitur Asinkron Javascript</a></li>
<li><a href="../id434142/index.html">Tim QRL menetapkan tenggat waktu yang ketat untuk migrasi token</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>