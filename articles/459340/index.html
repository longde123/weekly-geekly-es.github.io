<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíü üöß üë®üèæ‚Äçüéì Organizar un proyecto de ML con Ocean üçó üëçüèΩ üë©‚Äçüç≥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Entrada 


 A lo largo de los a√±os de desarrollo de proyectos de ML y DL, nuestro estudio ha acumulado una gran base de c√≥digo, mucha experiencia e id...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Organizar un proyecto de ML con Ocean</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/surfstudio/blog/459340/"><p><img src="https://habrastorage.org/webt/cz/_r/ya/cz_ryawz8unift6rexjknj69rvo.png" alt="imagen"></p><br><h2 id="vstuplenie">  Entrada </h2><br><p>  A lo largo de los a√±os de desarrollo de proyectos de ML y DL, nuestro estudio ha acumulado una gran base de c√≥digo, mucha experiencia e ideas y conclusiones interesantes.  Al comenzar un nuevo proyecto, este conocimiento √∫til lo ayuda a comenzar una investigaci√≥n con m√°s confianza, reutilizar m√©todos √∫tiles y obtener los primeros resultados m√°s r√°pido. </p><br><p>  Es muy importante que todos estos materiales no solo est√©n en la mente de los desarrolladores, sino tambi√©n en forma legible en el disco.  Esto permitir√° una capacitaci√≥n m√°s efectiva de los nuevos empleados, actualizarlos y sumergirlos en el proyecto. </p><br><p>  Por supuesto, este no fue siempre el caso.  Nos enfrentamos a muchos problemas en las primeras etapas </p><br><ul><li>  Cada proyecto se organiz√≥ de manera diferente, especialmente si fueron iniciados por diferentes personas. </li><li>  No hicieron un seguimiento de lo que estaba haciendo el c√≥digo, c√≥mo ejecutarlo y qui√©n era el autor. </li><li>  No utilizaron la virtualizaci√≥n en el grado adecuado, a menudo impidiendo que sus colegas instalen bibliotecas existentes de una versi√≥n diferente. </li><li>  Se olvidaron las conclusiones extra√≠das de los cuadros que se asentaron y murieron en la monta√±a de cuadernos de jupyter. </li><li>  Informes perdidos sobre los resultados y el progreso en el proyecto. </li></ul><br><p>  Para resolver estos problemas de una vez por todas, decidimos que necesitamos trabajar tanto en una organizaci√≥n unificada y adecuada del proyecto, como en la virtualizaci√≥n, la abstracci√≥n de componentes individuales y la reutilizaci√≥n de c√≥digo √∫til.  Poco a poco, todo nuestro progreso en esta √°rea se convirti√≥ en un marco independiente: Ocean. </p><br><p>  Cherry on the cake: los registros del proyecto, que se agregan y se convierten en un hermoso sitio, se recopilan autom√°ticamente con un solo comando. </p><br><p>  En el art√≠culo, le diremos con un peque√±o ejemplo artificial de en qu√© partes est√° compuesto Ocean y c√≥mo usarlo. </p><a name="habracut"></a><br><h2 id="pochemu-ocean">  ¬øPor qu√© oc√©ano? </h2><br><p>  En el mundo de ML, hay otras opciones que hemos considerado.  En primer lugar, debemos mencionar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cookiecutter-data-science</a> (en adelante CDS) como un inspirador ideol√≥gico.  Comencemos con lo bueno: CDS no solo ofrece una estructura de proyecto conveniente, sino que tambi√©n explica c√≥mo administrar el proyecto para que todo est√© bien; por lo tanto, le recomendamos que se desv√≠e y mire <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">las</a> principales ideas clave de este enfoque <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en el art√≠culo original de CDS</a> . </p><br><p>  Armados con CDS en el borrador de trabajo, de inmediato aportamos varias mejoras: agregamos un conveniente registrador de archivos, una clase coordinadora responsable de navegar el proyecto y un generador autom√°tico de documentaci√≥n de Sphinx.  Adem√°s, se enviaron varios comandos al Makefile, de modo que incluso un no iniciado en los detalles del gerente del proyecto fue conveniente para ejecutarlos. </p><br><p>  Sin embargo, en el proceso, comenzaron a surgir los inconvenientes del enfoque de CDS: </p><br><ul><li>  La carpeta de <strong>datos</strong> puede crecer, pero cu√°l de los scripts o cuadernos genera el siguiente archivo no est√° completamente claro.  En una gran cantidad de archivos es f√°cil confundirse.  No est√° claro si, en el marco de la implementaci√≥n de la nueva funcionalidad, es necesario utilizar algunos de los archivos existentes, ya que no existe una descripci√≥n o documentaci√≥n para su prop√≥sito en ning√∫n lado. </li><li> En los <strong>datos, no hay</strong> suficientes subcarpetas de <strong>caracter√≠sticas</strong> en las que pueda almacenar signos: estad√≠sticas calculadas, vectores y otras caracter√≠sticas de las que se recopilar√≠an diferentes representaciones finales de los datos.  Esto ya se ha escrito notablemente en una publicaci√≥n de blog. </li><li>  <strong>src</strong> es otra carpeta de problemas.  Tiene funciones que son relevantes para todo el proyecto, por ejemplo, preparar y limpiar los datos del m√≥dulo <strong>src.data</strong> .  Pero tambi√©n est√° el m√≥dulo <strong>src.models</strong> , que contiene todos los modelos de todos los experimentos, y puede haber docenas de ellos.  Como resultado, <strong>src</strong> se actualiza muy a menudo, expandi√©ndose con cambios muy peque√±os, y de acuerdo con la filosof√≠a de CDS, despu√©s de cada actualizaci√≥n, necesita reconstruir el proyecto, y este es tambi√©n el momento ..., bueno, usted comprende. </li><li>  <strong>se</strong> presentan <strong>referencias</strong> , pero todav√≠a hay una pregunta abierta: qui√©n, cu√°ndo y de qu√© forma debe llevar los materiales all√≠.  Y puede decir mucho en el curso del proyecto: qu√© trabajo se ha llevado a cabo, cu√°l es su resultado, cu√°les son los planes futuros. </li></ul><br><p>  Para resolver los problemas anteriores, se presenta la siguiente esencia en Ocean: <em>experimento</em> .  Un experimento es un dep√≥sito de todos los datos involucrados en probar algunas hip√≥tesis.  Esto puede incluir: qu√© datos se usaron, qu√© datos (artefactos) resultaron, la versi√≥n del c√≥digo, la hora de inicio y finalizaci√≥n del experimento, el archivo ejecutable, los par√°metros, las m√©tricas y los registros.  Parte de esta informaci√≥n puede rastrearse utilizando utilidades especiales, por ejemplo, MLFlow.  Sin embargo, la estructura de los experimentos presentados en Ocean es m√°s rica y m√°s flexible. </p><br><p>  El m√≥dulo de un experimento es el siguiente: </p><br><pre><code class="plaintext hljs">&lt;project_root&gt; ‚îî‚îÄ‚îÄ experiments ‚îú‚îÄ‚îÄ exp-001-Tree-models ‚îÇ ‚îú‚îÄ‚îÄ config &lt;- yaml-   ‚îÇ ‚îú‚îÄ‚îÄ models &lt;-   ‚îÇ ‚îú‚îÄ‚îÄ notebooks &lt;-    ‚îÇ ‚îú‚îÄ‚îÄ scripts &lt;- , , train.py  predict.py ‚îÇ ‚îú‚îÄ‚îÄ Makefile &lt;-      ‚îÇ ‚îú‚îÄ‚îÄ requirements.txt &lt;-    ‚îÇ ‚îî‚îÄ‚îÄ log.md &lt;-    ‚îÇ ‚îú‚îÄ‚îÄ exp-002-Gradient-boosting ...</code> </pre> <br><p>  Compartimos la base del c√≥digo: el c√≥digo bueno reutilizable que es relevante en todo el proyecto permanece en el m√≥dulo <b>src</b> del nivel del proyecto.  Rara vez se actualiza, por lo que con menos frecuencia debe crear un proyecto.  Y el m√≥dulo de <b>scripts</b> de un experimento debe contener c√≥digo que sea relevante solo para el experimento actual.  Por lo tanto, se puede cambiar con frecuencia: no afecta el trabajo de colegas en otros experimentos. </p><br><p>  Consideremos las posibilidades de nuestro marco utilizando el ejemplo de un proyecto abstracto ML / DL. </p><br><h2 id="workflow-proekta">  Flujo de trabajo del proyecto </h2><br><h3 id="inicializaciya">  Inicializaci√≥n </h3><br><p>  Entonces, el cliente, la polic√≠a de Chicago, nos subi√≥ los <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">datos</a> y la tarea: analizar los cr√≠menes cometidos en la ciudad durante 2011-2017 y sacar conclusiones. </p><br><p>  ¬°Empecemos!  Vamos a la terminal y ejecutamos el comando: </p><br><p> <code>ocean project new -n Crimes</code> </p> <br><p>  El marco ha creado la carpeta del proyecto de <b>delitos</b> correspondiente.  Nos fijamos en su estructura: </p><br><pre> <code class="plaintext hljs">crimes ‚îú‚îÄ‚îÄ crimes &lt;- src-   ,    ‚îú‚îÄ‚îÄ config &lt;- ,     ‚îú‚îÄ‚îÄ data &lt;-  ‚îú‚îÄ‚îÄ demos &lt;-    ‚îú‚îÄ‚îÄ docs &lt;- Sphinx- ‚îú‚îÄ‚îÄ experiments &lt;-  ‚îú‚îÄ‚îÄ notebooks &lt;-   EDA ‚îú‚îÄ‚îÄ Makefile &lt;-       ‚îú‚îÄ‚îÄ log.md &lt;-   ‚îú‚îÄ‚îÄ README.md ‚îî‚îÄ‚îÄ setup.py</code> </pre> <br><p>  <b>El coordinador</b> del m√≥dulo del mismo nombre, que ya est√° escrito y listo, ayuda a navegar por todas estas carpetas.  Para usarlo, el proyecto necesita ser ensamblado: </p><br><p> <code>make package</code> </p> <br><blockquote>  <b>Esto es un error</b> : si los comandos make no quieren ejecutarse, entonces agr√©gueles el indicador -B, por ejemplo, "make -B package".  Esto se aplica a todos los ejemplos adicionales. </blockquote><br><h3 id="logi-i-eksperimenty">  Registros y experimentos </h3><br><p>  Comenzamos con el hecho de que los datos del cliente, en nuestro caso el archivo <b>crime.csv</b> , se colocan en la carpeta <b>data / raw</b> . </p><br><p>  En el sitio web de Chicago hay mapas con divisiones de la ciudad en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">publicaciones</a> ("latidos", la ubicaci√≥n m√°s peque√±a para la que se asigna un patrullero), sectores ("sectores", que consisten en 3-5 publicaciones), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">secciones</a> ("distritos", consisten en 3 sectores), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">distritos administrativos</a> ("barrios") y, finalmente, √°reas p√∫blicas ("√°rea comunitaria").  Estos datos se pueden usar para visualizaci√≥n.  Al mismo tiempo, los archivos json con las coordenadas de las secciones de pol√≠gono de cada tipo no son datos enviados por el cliente, por lo que los colocamos en <b>datos / externos</b> . </p><br><p>  A continuaci√≥n, debe presentar el concepto de experimento.  Todo es simple: consideramos una tarea separada como un experimento separado.  ¬øNecesita analizar / bombear datos y prepararlos para su uso futuro?  Vale la pena hacer un experimento.  ¬øPrepara mucha visualizaci√≥n e informes?  Experimento separado.  ¬øProbar la hip√≥tesis preparando un modelo?  Bueno, entiendes el punto. </p><br><p>  Para crear nuestro primer experimento desde la carpeta del proyecto, realizamos: </p><br><p> <code>ocean exp new -n Parsing -a ivanov</code> </p> <br><p>  Ahora, una nueva carpeta con el nombre <b>exp-001-Parsing ha</b> aparecido en la carpeta de <b>delitos / experimentos</b> , su estructura se da arriba. </p><br><p>  Despu√©s de eso, debe mirar los datos.  Para hacer esto, cree una computadora port√°til en la carpeta correspondiente.  En Surf, seguimos el nombre "n√∫mero de computadora port√°til - nombre", y la computadora port√°til creada se llamar√° <b>001-Parse-data.ipynb</b> .  En el interior prepararemos datos para futuros trabajos. </p><br><div class="spoiler">  <b class="spoiler_title">C√≥digo de preparaci√≥n de datos</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd pd.options.display.max_columns = <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-comment"><span class="hljs-comment">#       : from crimes.coordinator import Coordinator coord = Coordinator() coord.data_raw.contents() &gt; ['/opt/jupyterhub/notebooks/aolferuk/crimes/data/raw/crimes.csv'] #     : df = coord.data_raw.join('crimes.csv').load() df['Date'] = pd.to_datetime(df['Date']) df['Updated On'] = pd.to_datetime(df['Updated On']) df['Location X'] = np.nan df['Location Y'] = np.nan df.loc[df.Location.notnull(), 'Location X'] = df.loc[df.Location.notnull(), 'Location'].apply(lambda x: eval(x)[0]) df.loc[df.Location.notnull(), 'Location Y'] = df.loc[df.Location.notnull(), 'Location'].apply(lambda x: eval(x)[1]) df.drop('Location', axis=1, inplace=True) df['month'] = df.Date.apply(lambda x: x.month) df['day'] = df.Date.apply(lambda x: x.day) df['hour'] = df.Date.apply(lambda x: x.hour) #     : coord.data_interim.join('crimes.pkl').save(df)</span></span></code> </pre> </div></div><br><p>  Para que sus colegas est√©n al tanto de lo que ha hecho y de si sus resultados pueden ser utilizados por ellos, debe comentarlo en el registro: el archivo <b>log.md.</b>  La estructura del registro (que es esencialmente un archivo de reducci√≥n familiar) es la siguiente: </p><br><p><img src="https://habrastorage.org/webt/4g/us/lz/4guslzybw2d55w0nvck2y_q1nyu.png" alt="log.md"></p><br><p>  Las partes que se rellenan a mano se resaltan en color.  El meta principal del experimento (color ciruela claro) es el autor y la explicaci√≥n de su tarea, el resultado al que se dirige el experimento.  Los enlaces a datos, tanto tomados como generados en el proceso (verde), ayudan a monitorear los archivos de datos y comprender qui√©n, dentro de qu√© y por qu√© los usa.  El registro en s√≠ (color amarillo) indica el resultado del trabajo, conclusiones y razonamiento.  Todos estos datos se convertir√°n m√°s tarde en el contenido del sitio de registro del proyecto. </p><br><p>  La siguiente es la etapa EDA ( <em>An√°lisis de datos exploratorios - "an√°lisis de datos de inteligencia"</em> ).  Quiz√°s sea realizado por diferentes personas y, por supuesto, necesitaremos resultados en forma de informes y gr√°ficos m√°s adelante.  Estos argumentos son una ocasi√≥n para crear un nuevo experimento.  Realizamos: </p><br><p> <code>ocean exp new -n Eda -a ivanov</code> </p> <br><p>  En la carpeta de <b>cuadernos</b> del experimento, cree el cuaderno <b>001-EDA.ipynb</b> .  El c√≥digo completo no tiene sentido, pero sus colegas no lo necesitan, por ejemplo.  Pero necesitas gr√°ficos y conclusiones.  En el cuaderno sale mucho c√≥digo y, por s√≠ solo, no es lo que uno quiere mostrarle al cliente.  Por lo tanto, registraremos nuestros hallazgos e ideas en el archivo <b>log.md</b> , y <b>guardaremos</b> las im√°genes de los gr√°ficos en <b>referencias</b> . </p><br><p>  Aqu√≠, por ejemplo, hay un mapa de las √°reas seguras de Chicago, si el destino te lleva all√≠: </p><br><p><img src="https://habrastorage.org/webt/0d/gc/yo/0dgcyoulqtdvmgoaclyjjdrd3t8.png" alt="mapa de chicago"></p><br><p>  Fue recibido en un cuaderno y transferido a <b>referencias</b> . </p><br><p>  Se ha agregado la siguiente entrada al registro: </p><br><pre> <code class="plaintext hljs">19.02.2019, 18:15 EDA conclusion: * The most common and widely spread crimes are theft (including burglary), battery and criminal damage done with firearms. * In 1 case out of 4 the suspect will be set free after detention. [!Criminal activity in different beats of the city](references/beats_activity.jpg) Actual exploration you can check in [the notebook](notebooks/001-Eda.ipynb)</code> </pre> <br><p>  Tenga en cuenta: el gr√°fico est√° dise√±ado al igual que insertar una imagen en un archivo md.  Y si deja un enlace al cuaderno, se convertir√° a formato html y se guardar√° como una p√°gina separada en el sitio. </p><br><p>  Para recopilarlo de los registros de experimentos, ejecutamos el siguiente comando a nivel de proyecto: </p><br><p> <code>ocean log new</code> </p> <br><p>  Despu√©s de eso, <b>se crea</b> la carpeta <b>crime / project_log</b> y <b>index.html</b> es el registro del proyecto. </p><br><blockquote>  <b>Esto es un error</b> : cuando se muestra en Jupyter, el sitio se implementa como un iframe para una mayor seguridad y, por lo tanto, las fuentes no se muestran correctamente.  Por lo tanto, con Ocean, puede hacer inmediatamente un archivo con una copia del sitio para que sea conveniente descargarlo y abrirlo en una computadora local o enviarlo por correo.  As√≠: <br> <code>ocean log archive [-n NAME] [-p PASSWORD]</code> </blockquote> <br><h3 id="dokumentaciya">  La documentaci√≥n </h3><br><p>  Echemos un vistazo a la documentaci√≥n de construcci√≥n con Sphinx.  Cree una funci√≥n en el archivo <b>crime / my_cool_module.py</b> y documente.  Tenga en cuenta que Sphinx utiliza el formato de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">texto reestructurado</a> (RST): </p><br><div class="spoiler">  <b class="spoiler_title">my_cool_module.py</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">my_super_cool_random</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(max_value)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">''' Returns a random number from [0; max_value) interval. Considers the number to be taken from uniform distribution. :param max_value: Maximum value that defines range. :returns: Random number. '''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-comment"><span class="hljs-comment"># Good enough to begin with</span></span></code> </pre> </div></div><br><p>  Y luego todo es muy simple: a nivel de proyecto, ejecutamos el equipo de generaci√≥n de documentaci√≥n, y usted est√° listo: </p><br><p> <code>ocean docs new</code> </p> <br><blockquote>  <strong>Pregunta de la audiencia</strong> : ¬øPor qu√©, si recopilamos el proyecto a trav√©s de <code>make</code> , ¬øtiene que recopilar documentaci√≥n a trav√©s del <code>ocean</code> ? <br>  <strong>Respuesta</strong> : el proceso de generaci√≥n de documentaci√≥n no es solo la ejecuci√≥n del comando Sphinx, que se puede colocar en <code>make</code> .  Ocean se hace cargo de escanear el cat√°logo de sus c√≥digos fuente, crea un √≠ndice para Sphinx a partir de ellos, y solo entonces Sphinx se pone a trabajar. </blockquote><p>  La documentaci√≥n html lista <b>para usar</b> le espera en el camino <b>crime / docs / _build / html / index.html</b> .  Y nuestro m√≥dulo con comentarios ya apareci√≥ all√≠: </p><br><p><img src="https://habrastorage.org/webt/j0/fw/dp/j0fwdpya1gqoovqlstlvulpycgq.jpeg" alt="genDoc"></p><br><h3 id="modeli">  Modelos </h3><br><p>  El siguiente paso es construir el modelo.  Realizamos: </p><br><p> <code>ocean exp new -n Model -a ivanov</code> </p> <br><p>  Y esta vez, eche un vistazo a lo que hay en la carpeta de <b>scripts</b> dentro del experimento.  El archivo <b>train.py</b> est√° en blanco para el futuro proceso de capacitaci√≥n.  El archivo ya contiene el c√≥digo repetitivo que hace varias cosas a la vez. </p><br><ul><li>  La funci√≥n de aprendizaje toma varias rutas de archivo: <br><ul><li>  Al archivo de configuraci√≥n, en el que es razonable transferir los par√°metros del modelo, los par√°metros de entrenamiento y otras opciones que son convenientes para controlar desde el exterior, sin profundizar en el c√≥digo. </li><li>  Al archivo de datos. </li><li>  La ruta al directorio donde desea guardar el volcado del modelo final. </li></ul></li><li>  <b>Realiza un</b> seguimiento de las m√©tricas obtenidas en el proceso de aprendizaje en <b>mlflow</b> .  Todo lo que se le solicite se puede ver a trav√©s de la interfaz de usuario mlflow ejecutando el comando <code>make dashboard</code> en la carpeta del experimento. </li><li>  Env√≠a una alerta a su Telegram de que el proceso de aprendizaje se ha completado.  Para implementar este mecanismo, se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">utiliz√≥ el</a> bot <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Alarmerbot</a> .  Para que esto funcione, debe hacer bastante: enviar el comando / start al bot y luego transferir el token emitido por el bot al <b>archivo crime / config / alarm_config.yml</b> .  La cadena puede verse as√≠: <br> <code>ivanov: a5081d-1b6de6-5f2762</code> </li> <li>  Se controla desde la consola. </li></ul><br><p>  ¬øPor qu√© administrar nuestro script desde la consola?  Todo est√° organizado para que el proceso de aprendizaje u obtenci√≥n de predicciones de cualquier modelo sea organizado f√°cilmente por un desarrollador externo que no est√© familiarizado con los detalles de la implementaci√≥n de su experimento.  Para que todas las piezas del rompecabezas <b>encajen</b> , despu√©s del dise√±o de <b>train.py,</b> debes organizar el <b>Makefile</b> .  Contiene un comando de <b>tren en</b> blanco, y solo tiene que establecer correctamente las rutas a los archivos de configuraci√≥n necesarios enumerados anteriormente, y enumerar todos los que desean recibir alertas de Telegram en el valor del par√°metro de nombre de usuario.  En particular, el alias funciona, lo que enviar√° una alerta a todos los miembros del equipo. </p><br><p>  Una vez que todo est√° listo, nuestro experimento comienza con el <code>make train</code> , simple y elegante. </p><br><p>  En caso de que desee utilizar las redes neuronales de otras personas, los entornos virtuales ( <b>venv</b> ) le ayudar√°n.  Crearlos y eliminarlos como parte de un experimento es muy f√°cil: </p><br><ul><li>  <code>ocean env new</code> crear√° un nuevo entorno.  No solo est√° activo por defecto, sino que tambi√©n crea un kernel adicional (kernel) para port√°tiles y para futuras investigaciones.  Se llamar√° de la misma manera que el nombre del experimento. </li><li>  <code>ocean env list</code> muestra una lista de n√∫cleos. </li><li>  <code>ocean env delete</code> entorno creado en el experimento. </li></ul><br><h2 id="chego-ne-hvataet">  Lo que falta </h2><br><ul><li>  Ocean no es amigo de conda ( <del>  porque no lo usamos </del>  ) </li><li>  Plantilla de proyecto solo en ingl√©s. </li><li>  El problema de localizaci√≥n a√∫n se aplica al sitio: la construcci√≥n del registro del proyecto supone que todos los registros est√°n en ingl√©s. </li></ul><br><h2 id="zaklyuchenie">  Conclusi√≥n </h2><br><p>  El c√≥digo fuente del proyecto se encuentra <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . </p><br><p>  Si est√°s interesado, ¬°genial!  Puede encontrar m√°s informaci√≥n en el archivo README <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en el repositorio de Ocean</a> . </p><br><p>  Y como suelen decir en tales casos, las contribuciones son bienvenidas, solo estaremos felices si participa en la mejora del proyecto. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/459340/">https://habr.com/ru/post/459340/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../459328/index.html">La mejor relaci√≥n calidad-precio - Mpow A5 (059)</a></li>
<li><a href="../459330/index.html">Bitrix para programador y gerente: amor y odio</a></li>
<li><a href="../459334/index.html">YouTrack 2019.2: un banner de todo el sistema, mejoras en la p√°gina de lista de tareas, nuevas opciones de b√∫squeda y m√°s</a></li>
<li><a href="../459336/index.html">Vive y aprende. Parte 1. Orientaci√≥n escolar y profesional</a></li>
<li><a href="../459338/index.html">Usar el verificador como un medio para modelar r√°pidamente proyectos RTL. Introducci√≥n a UVM</a></li>
<li><a href="../459342/index.html">Cach√© remoto para iOS, alternancia de funciones, temas oscuros y una carrera de desarrollador: informe con Avito iOS Meetup # 7</a></li>
<li><a href="../459344/index.html">M√©tricas de DevOps: d√≥nde obtener datos para los c√°lculos</a></li>
<li><a href="../459346/index.html">La vuelta al mundo con un libro electr√≥nico: ONYX BOOX James Cook 2 Review</a></li>
<li><a href="../459348/index.html">Otro bypass de autenticaci√≥n en redes wifi p√∫blicas</a></li>
<li><a href="../459350/index.html">Noticias del mundo de OpenStreetMap No. 467 (25/06/2019 - 07/01/2019)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>