<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üî• üïã ü¶ã Lampu Kayu Edison yang Diaktifkan Suara. Harga masalah $ 5 ‚è≤Ô∏è üìÜ üê®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Itulah berapa biaya relay SONOFF WiFi (dari ITEAD), yang merupakan jantung dari perangkat ini. 

 ‚ÄúSaya tidak mengalami kegagalan. Saya baru saja mene...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lampu Kayu Edison yang Diaktifkan Suara. Harga masalah $ 5</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/432990/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e88/abf/193/e88abf193668af125bfc601b4cd290c3.png" alt="gambar"></div><br>  Itulah berapa biaya relay SONOFF WiFi (dari ITEAD), yang merupakan jantung dari perangkat ini. <br><br>  ‚ÄúSaya tidak mengalami kegagalan.  Saya baru saja menemukan 10 ribu cara yang tidak berhasil ‚Äù- Thomas Alva Edison. <br><br>  Ini sulit dipercaya, belum di masa lalu yang jauh, orang-orang di sekolah menulis dengan bulu.  Hari ini setiap orang memiliki bata ajaib dengan gambar di saku mereka, yang memungkinkan Anda untuk mengakses informasi dari seluruh dunia.  Kirim pesan instan ke siapa pun di planet ini.  Kami memiliki kontrol suara, pengenalan wajah, dan, seperti yang dikatakan orang, merupakan ancaman bagi semua umat manusia di bagian kecerdasan buatan.  Baru-baru ini, teknologi ini tampak seperti fiksi yang tak terbayangkan.  Namun, hari ini saya akan menunjukkan kepada Anda bagaimana, memiliki keterampilan pemrograman dasar, benar-benar semua orang dapat menggunakan kontrol suara.  Jadi mari kita mulai! <br><a name="habracut"></a><br>  <b>PERHATIAN !!!</b>  <b>Bekerja dengan tegangan tinggi.</b>  <b>Berhati-hatilah dengan apa yang Anda lakukan!</b>  <b>Penulis artikel ini tidak bertanggung jawab atas tindakan yang Anda ambil dan kerusakan materi atau fisik apa pun yang mungkin timbul akibat penggunaan informasi dari artikel ini!</b>  <b>Jika Anda tidak yakin akan sesuatu, mintalah orang yang lebih berpengalaman untuk membantu Anda.</b> <br><br>  Skema utama perangkat. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5d3/cea/912/5d3cea912695eb78e179a1b52fe30c0e.png" alt="gambar"></div><br>  Karena ponsel hanya dapat dihubungkan ke satu titik akses WiFi pada satu waktu, kami akan bekerja melalui router.  Secara umum, ini nyaman ketika semua perangkat pintar Anda berada di jaringan yang sama, dan Anda dapat dengan mudah mengelolanya tanpa harus selalu terhubung kembali ke masing-masing perangkat tersebut.  Kerugiannya adalah semua perangkat Anda bergantung pada kesehatan satu router. <br><br><h3>  1 - kita perlu memprogram ulang relay WiFi Sonoff </h3><br>  Untuk melakukan ini, Anda harus membongkar relai dan menyolder kontak ke sana untuk berkedip.  Secara default, ini dikonfigurasi untuk bekerja melalui server Cina.  Secara pribadi, tidak terlalu jelas bagi saya mengapa lampu di toilet perlu dinyalakan melalui server dari Kerajaan Tengah. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/66a/ea1/7e6/66aea17e67e107782b36454e5f4975fc.png" alt="gambar"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/af4/c8d/505/af4c8d50561f1465b8fb4cccb2dfa2cb.png" alt="gambar"></div><br><br>  Sekarang kita dapat menghubungkan modul cp2102 dari Silicon Labs untuk flashing Sonoff.  Saya masih menggunakannya untuk bekerja dengan Arduino mini. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/388/492/abe/388492abe5d00bc70f84be6295b55fc2.png" alt="gambar"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/91e/847/435/91e8474351f1b5641f1babfe287db07e.png" alt="gambar"></div><br>  PERINGATAN !!!  Saat memprogram ulang, jangan sambungkan relai WiFi ke jaringan 220/110 volt! <br><br>  Pemrograman ulang relai sangat sederhana.  Ini adalah modul esp8266 biasa.  Saya mengambil sketsa standar dari server jalur akses dari Arduino IDE dan mengubahnya sedikit. <br><br><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;ESP8266WiFi.h&gt; #include &lt;ESP8266WebServer.h&gt; #include &lt;WiFiClient.h&gt; // name and password from WiFi network const char* ssid = "Your access point (router) name"; const char* password = "router password"; IPAddress ip(192,168,1,112); // enter static ip IPAddress gateway(192,168,1,1); IPAddress subnet(255,255,255,0); //       80 WiFiServer server(80); void setup() { Serial.begin(115200); delay(100); //preparing GPIO pinMode(12, OUTPUT); digitalWrite(12, 1); pinMode(13, OUTPUT); digitalWrite(13, 1); // connecting to WiFi Serial.println(); Serial.println(); Serial.print("Connecting to "); Serial.println(ssid); WiFi.begin(ssid, password); WiFi.config(ip, gateway, subnet); // waiting for connection while (WiFi.status() != WL_CONNECTED) { delay(500); Serial.print("."); } Serial.println(""); Serial.println("WiFi connected"); // run server server.begin(); Serial.println("Server started"); // show ip Serial.println(WiFi.localIP()); } void loop() { // connection check WiFiClient client = server.available(); if (!client) { return; } // Waiting for data Serial.println("new client"); while (!client.available()) { delay(1); } // Reading the first line of the query String req = client.readStringUntil('\r'); Serial.println(req); client.flush(); // works with GPIO if (req.indexOf("/12/0") != -1) digitalWrite(12, 0); else if (req.indexOf("/12/1") != -1){ digitalWrite(12, 1); Serial.println("TEST OK"); String s = "HTTP/1.1 200 OK\r\nContent-Type: text/html\r\n\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html&gt;\r\nTest OK. Uptime: "; // UpTime int Sec = (millis() / 1000UL) % 60; int Min = ((millis() / 1000UL) / 60UL) % 60; int Hours = ((millis() / 1000UL) / 3600UL) % 24; int Day = ((millis() / 1000UL) / 3600UL / 24UL); s += Day; s += "d "; s += Hours; s += ":"; s += Min; s += ":"; s += Sec; s += "&lt;/html&gt;\n"; client.print(s); client.stop(); return; } else // If an invalid query write error { Serial.println("invalid request"); String s = "HTTP/1.1 200 OK\r\nContent-Type: text/html\r\n\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html&gt;\r\nInvalid request"; s += "&lt;/html&gt;\n"; client.print(s); client.stop(); return; } client.flush(); // Response formation String s = "HTTP/1.1 200 OK\r\nContent-Type: text/html\r\n\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html&gt;\r\nGPIO set OK"; s += "&lt;/html&gt;\n"; // Send the response to the client client.print(s); delay(1); Serial.println("Client disonnected"); }</span></span></span></span></code> </pre> <br>  Anda harus menentukan nama titik akses Anda (router / router), kata sandi dan alamat IP statis untuk bola lampu.  Kontrol relai terletak di pin 12. Pastikan untuk mengatur ukuran blitz ke 1 MB di IDE. <br><br>  Tekan dan tahan tombol pada papan Sonoff.  Masukkan konverter USB cp2102 ke komputer (sambil menahan tombol).  Setelah 2-3 detik, lepaskan tombol.  Sekarang relay dalam mode pemrograman.  Unduh file sketsa dari Arduino IDE.  Klik pada Konfirmasi / Kompilasi.  Setelah Anda memprogram ulang, reboot modul. <br><br><h3>  2 - sekarang mari kita buat aplikasi seluler untuk mengontrol relai ini melalui Wi-Fi.  (Android) </h3><br>  Saya hanya akan memberikan cuplikan kode utama.  Kemudian Anda dapat menggunakannya untuk implementasi di aplikasi Anda.  Google menyediakan antarmuka yang sangat sederhana dan nyaman untuk pengenalan suara.  Berikut adalah kode yang memungkinkan Anda untuk mengubah suara Anda menjadi teks dan menyimpannya dalam baris biasa. <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// Main code to start speech recognition. // You can put it's execution, on some button in your app. Intent speechIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH); speechIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, RecognizerIntent.LANGUAGE_MODEL_FREE_FORM); speechIntent.putExtra(RecognizerIntent.EXTRA_PROMPT, "Speak please"); startActivityForResult(speechIntent, RESULT_SPEECH_TO_TEXT); // Then on onAcivityResult we will get result @Override protected void onActivityResult(int requestCode, int resultCode, Intent data) { if (requestCode == RESULT_SPEECH_TO_TEXT &amp;&amp; resultCode == RESULT_OK) { ArrayList&lt;String&gt; matches = data.getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS); if (!matches.isEmpty()) { String result_recognition_string = matches.get(0); // convert to lower case, since google speech recognition // returns "different" results. For example: youtube defines as YouTube result_recognition_string = result_recognition_string.toLowerCase(Locale.getDefault()); if (result_recognition_string.contains("lamp on") ) { // lamp on new LightOn().execute(); } } } }</span></span></code> </pre><br>  Kemudian Anda dapat membandingkannya dengan perintah yang ingin Anda terapkan. <br><br>  Ini adalah kode untuk bekerja dengan Wi-Fi.  Mengirim pesan ke server. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LightOn</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AsyncTask</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Void</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Void</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Void</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String LOG_TAG = <span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> Void </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doInBackground</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Void... params)</span></span></span><span class="hljs-function"> </span></span>{ URL url; HttpURLConnection urlConnection = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { url = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> URL(<span class="hljs-string"><span class="hljs-string">"http://192.168.1.112/12/1"</span></span>); <span class="hljs-comment"><span class="hljs-comment">// "0" to turn off urlConnection = (HttpURLConnection) url .openConnection(); InputStream in = urlConnection.getInputStream(); InputStreamReader isw = new InputStreamReader(in); int data = isw.read(); while (data != -1) { char current = (char) data; data = isw.read(); System.out.print(current); Log.e(LOG_TAG, "Reply from server - " + current); } } catch (Exception e) { e.printStackTrace(); } finally { if (urlConnection != null) { urlConnection.disconnect(); } } return null; } } // run it new LightOn().execute();</span></span></code> </pre><br>  Ini sangat sederhana.  ‚Äú1‚Äù hidupkan bola lampu, ‚Äú0‚Äù matikan bola lampu.  Anda dapat menambahkan cek yang Anda inginkan, menerima respons dari server, dll.  tp  Saya membuat dua program untuk diri saya sendiri.  Yang pertama adalah widget kontrol suara, yang terletak di desktop dan selalu siap sedia.  Yang kedua adalah aplikasi sederhana untuk menyalakan / mematikan bola lampu dengan satu sentuhan tombol. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/51b/a9c/128/51ba9c128202787dd6cd824953013c75.png" alt="gambar"></div><br>  Saya kira Anda sudah bosan membaca semua jenis teks, jadi saya sarankan Anda melihat video tentang bagaimana itu. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/95jC-DHkXWM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Seperti yang dikatakan Albert Einstein: "Kemungkinan Anda hanya dibatasi oleh imajinasi Anda." <br><br>  Semoga hari Anda menyenangkan dan hanya perangkat pintar! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id432990/">https://habr.com/ru/post/id432990/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id432980/index.html">VMware NSX untuk yang terkecil. Bagian 1</a></li>
<li><a href="../id432982/index.html">Pengantar terpendek untuk pembuatan kompiler</a></li>
<li><a href="../id432984/index.html">Pembelajaran Mesin dengan Node.js Menggunakan Perpustakaan Tensorflow.js</a></li>
<li><a href="../id432986/index.html">C vs Go loop dan matematika sederhana</a></li>
<li><a href="../id432988/index.html">Webmaster kedelapan. Langsung di Habr√©</a></li>
<li><a href="../id432992/index.html">Dia memakai headphone dan mati: kita berurusan dengan kematian aneh seorang anak sekolah di Rimbau</a></li>
<li><a href="../id432994/index.html">Vivaldi 2.2 - Kuantitas Mengubah ke Kualitas</a></li>
<li><a href="../id432996/index.html">Sedikit kamus internal di CPython (dan PyPy)</a></li>
<li><a href="../id432998/index.html">Cerita natal</a></li>
<li><a href="../id433000/index.html">Kompilasi Kotlin: JetBrains VS ANTLR VS JavaCC</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>