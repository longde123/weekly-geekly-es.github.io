<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥝 😤 🈚️ VMmanager 6: Einführung in die Box und Vergleich mit der vorherigen Generation 👙 🛴 👩🏽‍🍳</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Am 8. Oktober wurde eine Box-Version von VMmanager 6, dem neuen Virtualization Control Panel, veröffentlicht. Jetzt kann es auf dem Server installiert...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>VMmanager 6: Einführung in die Box und Vergleich mit der vorherigen Generation</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ispsystem/blog/471886/"><img src="https://habrastorage.org/webt/wr/u8/5k/wru85kpnvi_2y_f-vmiyqufvdmu.jpeg"><br><br><p>  Am 8. Oktober wurde eine Box-Version von VMmanager 6, dem neuen Virtualization Control Panel, veröffentlicht.  Jetzt kann es auf dem Server installiert und zum Verkauf virtueller Maschinen oder zur Verwaltung Ihrer eigenen Infrastruktur verwendet werden.  In diesem Artikel vergleichen wir die neue Generation mit der vorherigen - VMmanager 5 und VMmanager 6. <br></p><br><p>  Beide Panels unterstützen die KVM-Virtualisierung und verwalten den physischen Server mit libvirt. <br></p><br><p>  VMmanager 5 wurde 2013 veröffentlicht, VMmanager 6 - 2019.  Die neue Generation ist bequemer und widerstandsfähiger gegen Stress.  Unterstützt Imaging, Aufgabenverwaltung und Überwachung. <br></p><br><p>  In diesem Artikel vergleichen wir zwei Generationen von Panels.  Lassen Sie uns zunächst über konzeptionelle Unterschiede sprechen: Architektur, Schnittstelle und Belastbarkeit.  Im zweiten Teil werden wir in zwei Panels sehen, wie identische Aufgaben gelöst werden. <br></p><a name="habracut"></a><br><p>  Weitere <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Informationen</a> zum Produkt finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">im Abschnitt VMmanager 6 auf der ISPsystem-</a> Website. </p><br><h2>  Teil 1. Konzeptionelle Unterschiede </h2><br><h3>  Architektur </h3><br><p>  <strong>VMmanager 5</strong> war ein in C ++ geschriebener Monolith, der an einigen Stellen die Entwicklung einfacher Dinge unnötig erschwerte. <br></p><br><p>  Aus diesem Grund <strong>haben</strong> wir in <strong>VMmanager 6</strong> Python für einfache Aufgaben verwendet, z. B. zum Konfigurieren von Knoten, Konfigurieren von VMs und Arbeiten mit libvirt.  Solcher Code ist einfacher zu schreiben, zu debuggen und zusammenzusetzen.  Sie sprachen darüber <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">in einem anderen Artikel über Habré</a> . <br></p><br><p>  Bei Aufgaben, bei denen die Dezentralisierung von Daten nicht schrecklich ist und eine horizontale Skalierung erforderlich ist, haben wir uns Golang zugewandt und die Geschäftslogik in Microservices hervorgehoben.  Seltsamerweise haben wir hier auch an Geschwindigkeit und Leichtigkeit der Entwicklung gewonnen.  Der Rest der Logik nutzt weiterhin den Monolithen in C ++ - Zuverlässigkeit, Geschwindigkeit und Datenkonsistenz. <br></p><br><p>  Darüber hinaus wird VMmanager 6 in Docker-Containern geliefert.  VMmanager 5 wurde mithilfe von Paketen installiert.  Ein klares Plus der Containerisierung ist die hohe Vorhersagbarkeit des Anwendungsverhaltens (die Umgebung ist immer dieselbe).  Es ist einfacher geworden, Situationen oder Probleme zu reproduzieren. Es ist nicht erforderlich, viele Assemblys für verschiedene Betriebssysteme zu erstellen. Die Bereitstellung ist schneller. <br></p><br><p>  In VMmanager 5 enthielt die Installation von Paketen viele Abhängigkeiten, die zu Konflikten mit bereits installierten Paketen führen können.  Es gab Situationen, in denen das Löschen eines harmlosen Pakets mit der Option <em>"-y"</em> das gesamte Panel nach Abhängigkeit löschte. <br></p><br><blockquote>  Eine weitere wichtige Änderung: VMmanager 6 unterstützt Images.  Ein Image ist eine vollständige Kopie einer VM-Festplatte.  Es wird beim Erstellen von virtuellen Maschinen und Sicherungen verwendet.  Nicht zu verwechseln mit ISO-Images in VMmanager 5 - dies sind zwei verschiedene Technologien. </blockquote><br><h3>  Lastwiderstand </h3><br><p>  Eine wichtige Folge von Änderungen in der Architektur ist ein erhöhter Lastwiderstand. <br></p><br><p>  <strong>VMmanager 5</strong> hält hohen Belastungen nicht stand: Wenn mehr als 500 virtuelle Maschinen erstellt werden, beginnt es langsam zu arbeiten.  Um diese Einschränkung zu umgehen, installieren Anbieter einen anderen VMmanager und erstellen darin neue virtuelle Maschinen.  Große Anbieter können mehrere Panels haben: je nach Anzahl der Standorte oder Tarife. <br></p><br><p>  In VMmanager 5 wurde im Hauptprozess und in der Regel in einem Thread viel getan.  Um lange Vorgänge zu verwalten, gab es ein Longtask-Modul (der Vorläufer von Taskmanager, einem Dienst zum Versenden von Aufgaben in der sechsten Version), aber wir haben nicht sofort damit begonnen, es aktiv zu nutzen.  In Longtask gab es keinen Sperrmechanismus, nur Warteschlangen, in denen Aufgaben streng einzeln in der Reihenfolge ausgeführt werden konnten, in der sie dort ankamen.  Eine Aufgabe konnte nicht in mehreren Zeilen stehen.  Die Longtask-Operationen selbst waren spezielle Dateien auf der Festplatte.  Eine große Anzahl von Dateien in einem Verzeichnis führt zu einer ernsthaften Belastung aller UNIX-Systeme.  Dadurch konnten keine Aufgaben auf mehrere Dispatcher / Server verteilt werden. <br></p><br><p>  Das Laden in <strong>VMmanager 6</strong> wird von einem speziellen Task-Management-Service - Taskmanager - beantwortet.  Jetzt werden die meisten Vorgänge in separaten Prozessen als verzögert ausgeführt.  Dies erhöht die Reaktionsfähigkeit des Systems - eine separate Anforderung kann den Betrieb nicht blockieren.  und erhöht auch die Stabilität - wenn etwas schief geht, wirkt sich dies nicht auf das gesamte System aus, höchstens auf den Betrieb.  Ein flexibles System von Sperren und eine hohe Isolation einzelner Prozesse ermöglichen eine optimale Warteschlange und Ausführung von Aufgaben parallel, wo dies möglich ist. <br></p><br><p>  Auch in der neuen Version wurde beschlossen, den Leser und den Schreiber zu trennen (Prozesse, die für die Lese- und Schreibvorgänge im System verantwortlich sind).  Im Gegensatz zu VMmanager 5 kann der Panel-Benutzer immer Informationen abrufen, da Reader-Threads immer parallel arbeiten können, unabhängig davon, wie viele Schreibvorgänge derzeit ausgeführt werden. <br></p><br><h3>  Schnittstelle </h3><br><p>  Der auffälligste Unterschied zwischen den beiden Generationen ist die Schnittstelle.  Und es geht nicht nur um Design.  Unterschiede in Geschwindigkeit und Reaktionsfähigkeit. <br></p><br><p>  Die <strong>VMmanager 5-</strong> Oberfläche ist sowohl im Erscheinungsbild als auch im „Verhalten“ veraltet.  Die erste ist mit bloßem Auge sichtbar, und die zweite ist bei langen Vorgängen erkennbar: Wenn Sie die virtuelle Maschine stoppen oder die Massenmigration starten, wird auf dem Bildschirm ein blockierender Fortschrittsbalken angezeigt.  Wenn der Benutzer viele solcher Vorgänge ausführt, wartet eine andere Person nur darauf, eine Liste der virtuellen Maschinen anzuzeigen. <br></p><br><img src="https://habrastorage.org/webt/z6/id/i4/z6idi4wag3txvgphy0mxs8vh3v8.png"><br><p>  <em>Blockieren des Fortschrittsbalkens, wenn eine virtuelle Maschine in VMmanager 5 angehalten wird</em> <br></p><br><p>  Zusammen mit Designänderungen brachte <strong>VMmanager 6</strong> Architekturänderungen auf der Clientseite mit sich.  Früher wurden Seitenvorlagen aus serverseitigen XML-Dateien generiert, jetzt ist es SPA (Single Page Application), das auf dem beliebten Angular-Framework basiert.  Die Anwendung besteht aus separaten unabhängigen Modulen (bei Bedarf heruntergeladen) und Komponenten.  Komponenten werden der Bibliothek zugeordnet und gemäß dem Entwurfssystem entwickelt. <br></p><br><p>  Um die Reaktionsfähigkeit zu erhöhen, erfolgt die Kommunikation mit dem Server über die REST-API und WebSocket.  In den meisten Fällen versuchen wir, nicht blockierende oder verzögerte Vorgänge zu verwenden.  Der Client-Teil wird über einen speziellen Dienst über Änderungen in der Anwendung informiert, unabhängig davon, ob eine virtuelle Maschine erstellt oder der Status eines Knotens in einer Tabelle geändert wird.  Dieser Service informiert sich über Änderungen aus dem Schlüsselwertspeicher, in dem Ereignisse von allen Microservices abgerufen werden. <br></p><br><p>  Somit ist die VMmanager 6-Oberfläche nicht nur moderner, sondern auch bequemer, reaktionsschneller und „freundlicher“ geworden. <br></p><br><p><img src="https://habrastorage.org/webt/zn/ul/yt/znulyte1b3fvzwsc_luiu-148-m.png"><br>  <em>Wenn eine VM in VMmanager 6 stoppt, wird die Schnittstelle nicht blockiert.</em>  <em>Der Status kann in der Liste der virtuellen Maschinen angezeigt werden</em> <br></p><br><h2>  Teil 2. Problemlösung </h2><br><h3>  Virtuelle Maschinen erstellen </h3><br><p>  Kommen wir zu den Aufgaben.  Das erste ist die Erstellung einer VM. <br></p><br><p>  <strong>VMmanager 5</strong> erstellt eine virtuelle Maschine in 8-10 Minuten - eine lange Zeit.  Das liegt daran, dass der Prozess wie gewohnt abläuft: Pakete werden heruntergeladen, bereitgestellt und installiert.  Damit Clients nicht warten müssen, schreiben Anbieter Plug-Ins: Sie erstellen im Voraus eine virtuelle Maschine und weisen sie beim Eintreffen des Clients neu zu.  Ein erhöhter Benutzer kann eine virtuelle Maschine selbst erstellen, Sie müssen jedoch ein komplexes Formular ausfüllen. <br></p><br><img src="https://habrastorage.org/webt/qv/lr/mt/qvlrmtkhnnevdghy0s-8ugev5bm.png"><br><p>  <em>Formular zum Erstellen einer virtuellen Maschine in VMmanager 5</em> <br></p><br><p>  <strong>VMmanager 6</strong> verwendet einen neuen Mechanismus zum Erstellen virtueller Maschinen.  Das Panel lädt keine Pakete herunter, stellt jedoch eine Kopie des Bildes bereit.  Es müssen keine zusätzlichen Plugins geschrieben werden: Die VM-Ausgabe ist auch ohne Plugins schnell - von 1 Minute 20 Sekunden bis 2 Minuten.  Netzwerkfehler oder die Veröffentlichung einer neuen Version des Betriebssystems wirken sich nicht mehr auf die Installation aus. Wenn sie gestartet wird, wird sie definitiv beendet.  Die Form der Erstellung einer VM ist viel einfacher geworden. <br></p><br><img src="https://habrastorage.org/webt/-f/s8/af/-fs8afiwezzgp7oxy1c1kfof9dq.png"><br><p>  <em>Formular zum Erstellen einer virtuellen Maschine in VMmanager 6</em> <br></p><br><h3>  Erstellen von Betriebssystemvorlagen </h3><br><p>  Anbieter verkaufen Kunden virtuelle Maschinen mit WordPress, 1C-Bitrix oder anderer Software.  Unternehmen, die VMmanager für interne Anforderungen verwenden, erstellen viele der gleichen VM-Typen zum Testen, Bereitstellen interner Services und ihrer eigenen Software.  Das Einrichten jedes Computers ist die Routine des Administrators oder Testers.  Das Control Panel hilft bei der Automatisierung: Sobald Sie die Vorlage konfiguriert und vorkonfigurierte VPS daraus erstellt haben. <br></p><br><p>  In <strong>VMmanager 5 werden</strong> Betriebssystemvorlagen in Repositorys gespeichert.  Um Ihre Vorlage hinzuzufügen, müssen Sie ein Repository erstellen und die Betriebssystemkonfigurationsdateien vorbereiten.  Das Repository wird auf einem separaten Server erstellt.  Die Vorlage besteht aus einer XML-Beschreibung und einer Konfigurationsdatei sowie allen Dateien, die zum Erstellen des Betriebssystems erforderlich sind.  Der Administrator muss die Vorlage vorbereiten.  Die Aufgabe ist nicht einfach und es ist unwahrscheinlich, dass sie ohne Anweisungen gelöst werden kann. <br></p><br><img src="https://habrastorage.org/webt/or/d6/-b/ord6-bjjj1poidkehamw-bkp8ue.png"><br><p>  <em>Betriebssystemvorlagen in VMmanager 5. Sie können die Installation über die Benutzeroberfläche starten, die Vorlage jedoch nicht konfigurieren</em> <br></p><br><p>  Die Betriebssystemvorlage in <strong>VMmanager 6</strong> ist ein Festplattenabbild einer virtuellen Maschine mit einem installierten Betriebssystem.  Um eine Vorlage mit zusätzlicher Software zu erstellen, konfigurieren Sie sie einfach auf einer virtuellen Maschine und erstellen Sie ein Image der Festplatte.  Danach werden alle aus diesem Image erstellten VMs auf dieselbe Weise konfiguriert.  Nur die Netzwerkeinstellungen und der Zugriff auf die VM ändern sich - sie werden nicht in das Image geschrieben.  Die Aufgabe ist einfach, der Administrator wird ohne Anweisungen fertig.  Natürlich können Skriptliebhaber sie weiterhin verwenden - eine solche Möglichkeit gibt es in VMmanager 6. <br></p><br><p><img src="https://habrastorage.org/webt/2m/gl/1r/2mgl1rsgj0xo9tl46v4s7dz0zis.png"><br>  <em>Erstellen einer virtuellen Maschine aus einem Benutzerabbild in VMmanager 6</em> <br></p><br><h3>  Statistik und Überwachung </h3><br><p>  Statistik- und Überwachungsdienste sind für jeden Systemadministrator unverzichtbare Helfer.  Mit ihnen können Sie schnell auf Notfallsituationen reagieren, die auf Knoten und VMs auftreten.  Ein plötzlicher Zustrom von Besuchern, ein DDoS-Angriff oder ein fehlerhaftes Skript können die virtuelle Maschine stark belasten.  Wenn Sie keine Maßnahmen ergreifen, schlägt dies fehl, ebenso wie die Site oder das Projekt, die sich darauf befinden.  Dies ist praktisch, wenn das Überwachungssystem im Bedienfeld enthalten ist. <br></p><br><p>  <strong>VMmanager 5</strong> verfügt über einen Mechanismus zum Überwachen des Status virtueller Maschinen.  Alle 10 Minuten werden die Anzahl der über das Netzwerk gesendeten Pakete und die Anzahl der Schreibanforderungen an die Festplatte der virtuellen Maschine analysiert.  Die Top-10-Knoten für ausgehenden Datenverkehr, Prozessorlast und Speicher werden auf der Hauptseite des Bedienfelds angezeigt.  Es gibt keine Benachrichtigungen per E-Mail oder Instant Messenger. <br></p><br><img src="https://habrastorage.org/webt/cb/14/2l/cb142lm6wgzfkmn1plz5a-w4pe8.png"><br><p>  <em>Statistiken zu Knoten auf dem Haupt-VMmanager 5. Wenn nicht genügend Daten vorhanden sind, sind die Grafiken hässlich</em> <br></p><br><p>  <strong>VMmanager 6</strong> überwacht nach wie vor auch den Status von VMs und Knoten und sammelt Statistiken zur Ressourcennutzung.  Um den Bedürfnissen der Benutzer gerecht zu werden, haben wir ein neues Online-Überwachungssystem für Knoten und VMs entwickelt.  Es überwacht den Verbrauch von RAM, CPU und Festplatte sowie die Netzwerkaktivität.  Wenn die Last kritisch wird, ist es unmöglich, dies nicht zu bemerken - die Überwachungsdaten werden in den Listen der Knoten und virtuellen Maschinen sowie auf einzelnen Karten dieser Entitäten angezeigt.  Nach dem Besuch der Knotenliste kann der Administrator sofort feststellen, welcher der Server überlastet ist und durch welchen Indikator.  Das Dashboard befindet sich in der Entwicklung, das Erscheinungsbild wird in diesem Jahr im Panel erwartet. <br></p><br><img src="https://habrastorage.org/webt/ub/il/bz/ubilbz57ku3hkiwxw7cc7ogakxy.png"><br><p>  <em>Knotenkarte in VMmanager 6. Hier finden Sie Informationen zur Auslastung und Statistiken der erstellten virtuellen Maschinen</em> <br></p><br><h3>  Mail </h3><br><p>  Dies ist praktisch, wenn das Panel über aktuelle Ereignisse oder Probleme berichtet.  Dazu muss das Senden von Nachrichten unterstützt werden. <br></p><br><p>  Es gibt keine Möglichkeit, E-Mails in <strong>VMmanager 5</strong> zu verwalten.  Nur ein Administrator kann ein vergessenes Kennwort zurücksetzen, Sie können es nicht automatisch wiederherstellen.  Benachrichtigungen zur Erstellung virtueller Maschinen werden von BILLmanager gesendet.  Fügen Sie ein neues Ereignis für Warnungen hinzu - das Ganze. <br></p><br><p>  <strong>VMmanager 6</strong> kann E-Mails senden.  Es werden bereits Benachrichtigungen zum Erstellen und erneuten Installieren von VMs, Buchstaben für die Kennwortwiederherstellung, gesendet.  Wenn die Abrechnung aktiviert ist, kann das Senden von Nachrichten über das Bedienfeld deaktiviert werden.  In Zukunft wird es Benachrichtigungen über Probleme geben, die auf den VM-Knoten aufgetreten sind.  Es ist auch geplant, das Senden von Benachrichtigungen an Instant Messenger zu implementieren. <br></p><br><h3>  Aufgabenverwaltung </h3><br><p>  Es reicht nicht aus, sich über das Problem zu informieren. Sie müssen die Ursache schnell finden und beheben.  Warum die virtuelle Maschine nicht erstellt oder das Skript nicht ausgeführt wurde, welche Vorgänge im System häufig fehlschlagen - all dies finden Sie in der Liste der VMmanager 6-Aufgaben. <br></p><br><p>  <strong>VMmanager 5</strong> verfügt nicht über einen <strong>Tasküberwachungsmechanismus</strong> , da selbst kein <strong>Taskmechanismus</strong> vorhanden war (siehe den ersten Teil des Artikels).  Die teilweise Ausführung von Hintergrundaufgaben kann im Abschnitt "Systemstatus" überwacht werden.  Sie können die Start- und Endzeit sowie den Status anzeigen - erfolgreich oder fehlerhaft abgeschlossen.  Ein hängengebliebener Longtask-Vorgang kann zwangsweise beendet werden.  Wenn die virtuelle Maschine jedoch nicht erstellt wurde, können Sie den Grund nicht im Bedienfeld herausfinden: Sie müssen die ID nehmen und zur Konsole "Protokollprotokoll" wechseln. <br></p><br><img src="https://habrastorage.org/webt/vo/vt/ls/vovtlsh6e0mkpfmnsddsjkfvuhk.png"><br><p>  <em>Aufgabenverwaltung in VMmanager 5. Sie können die Startzeit und den Status anzeigen oder das Skript vervollständigen</em> <br></p><br><p>  <strong>Der</strong> Benutzer von <strong>VMmanager 6</strong> verwaltet Vorgänge in der "Aufgabenliste".  Es speichert Informationen zu laufenden und abgeschlossenen Vorgängen auf virtuellen Maschinen, Knoten und Betriebssystemvorlagen.  Anhand der Dauer der Aufgaben können Sie die Muster verfolgen: Welche Operation hat zu welcher Zeit gedauert, wer hat sie gestartet?  Wenn dies fehlgeschlagen ist, ist das Protokoll sichtbar - es wird in der Benutzeroberfläche angezeigt.  Wenn das Skript nicht ausgeführt wird, wird ein Fehlercode in der Benutzeroberfläche angezeigt.  Machen Sie sofort klar, was zu tun ist. <br></p><br><img src="https://habrastorage.org/webt/hc/l1/jq/hcl1jq1p1ph_ihcpxgebcg2uza4.png"><br><p>  <em>Die Liste der Aufgaben in VMmanager 6. Sie können verstehen, wer, was und wann</em> <br></p><br><img src="https://habrastorage.org/webt/dv/zk/nb/dvzknb79x4mo30uwsnseuq87x2g.png"><br><p>  <em>Die Karte der Aufgabe, die mit einem Fehler abgeschlossen wurde.</em>  <em>Ein Protokoll ist direkt im Bedienfeld sichtbar. Sie müssen in der Konsole nichts essen</em> <br></p><br><h3>  Backups </h3><br><p>  Dies ist eine der Aufgaben, die in zwei Panels unterschiedlich gelöst wird. <br></p><br><p>  <strong>VMmanager 5.</strong> Sie können Kopien aller oder bestimmter virtueller Maschinen erstellen.  Backups werden auf der lokalen Festplatte oder im Remote-FTP-Speicher gespeichert - einer oder mehreren.  Die XML-Beschreibung der virtuellen Maschine wird kopiert, Kopien ihrer virtuellen Festplatten werden erstellt, ein Speicherauszug wird erstellt und all dies wird in das Archiv gepackt. <br></p><br><img src="https://habrastorage.org/webt/nn/hd/ms/nnhdmshiknknbhacr6wryd3uove.png"><br><p>  <em>Sichern virtueller Maschinen in VMmanager 5</em> <br></p><br><p>  <strong>VMmanager 6</strong> .  Es gibt keine Sicherung im üblichen Sinne - alles wird in der Datenbank gespeichert.  Wenn das Panel ausfällt, die Datenbank jedoch gespeichert wird, ist es nicht schwierig, das System wiederherzustellen.  Die Rolle der Sicherung virtueller Maschinen wird von Images übernommen.  Sie können bei Bedarf eine beschädigte VM aus einem Image wiederherstellen.  Jetzt werden Images mit angehaltener VM erstellt, aber in Zukunft können sie ohne Anhalten erstellt und über die Abrechnung verkauft werden. <br></p><br><img src="https://habrastorage.org/webt/t8/zi/2t/t8zi2ttnnuhyfvfvhwsaclqocqu.png"><br><p>  <em>Erstellen eines Images in VMmanager 6</em> <br></p><br><h3>  Native Unterstützung für das Hetzner-Rechenzentrum </h3><br><p>  Hetzner ist ein beliebtes Rechenzentrum bei russischen Anbietern.  Zum Schutz wird die Port-Sicherheit verwendet. Wenn Sie damit arbeiten, sind spezielle Netzwerkeinstellungen erforderlich. <br></p><br><p>  In <strong>VMmanager 5 muss das</strong> Netzwerk für die Hetzner-Knoten manuell konfiguriert werden: Bearbeiten Sie die Panel-Konfigurationsdateien, konfigurieren Sie die Netzwerkschnittstelle und die Netzwerkbrücke des Servers und aktivieren Sie die Weiterleitung.  Gleichzeitig kann ein Panel nur einen Cluster verwalten. Wenn der Anbieter neben den von Hetzner gemieteten Servern über eigene Server verfügt, müssen diese in einem separaten Panel eingerichtet werden. <br></p><br><p>  <strong>VMmanager 6</strong> bietet native Hetzner-Unterstützung.  Der Administrator fügt einen Cluster vom Typ Hetzner hinzu und verbindet die Server.  Danach folgt das Routing dem Modell dieses Rechenzentrums. Die VM-Einstellungen werden entsprechend dem Clustertyp vorgenommen, in dem sie sich befinden.  Gleichzeitig befinden sich im selben Bereich möglicherweise Cluster mit anderen Netzwerkeinstellungen.  Die Verwaltung mehrerer Cluster ist übrigens eine der Hauptfunktionen von VMmanager 6. <br></p><br><img src="https://habrastorage.org/getpro/habr/post_images/a34/b36/cbe/a34b36cbe37fc39647bbe41c9192c7e5.png"><br><p>  <em>Formular zur Clustererstellung vom Typ Hetzner in VMmanager 6</em> <br></p><br><h3>  Lokaler Speicher </h3><br><p>  <strong>VMmanager 5</strong> unterstützt Dateispeicherung und LVM.  In einem Cluster kann es Knoten mit unterschiedlichen Speichertypen geben (wie die Zeit gezeigt hat, stellte sich heraus, dass der Mechanismus nicht beansprucht wurde und viele Ressourcen erforderlich waren).  Das Panel unterstützt auch eine große Anzahl verschiedener Arten von Netzwerkspeicher.  In der sechsten Version werden wir in den nächsten Versionen die Unterstützung für die beliebtesten Versionen implementieren - Ceph-Speicher. <br></p><br><p>  <strong>VMmanager 6</strong> unterstützt Dateispeicherung und LVM.  In einem Cluster können keine Knoten mit unterschiedlichen Speichertypen vorhanden sein.  Dadurch werden Migrationsprobleme beseitigt. Sie sind unvermeidlich, wenn sich einige der Festplatten im Dateispeicher und andere im LVM befinden. <br></p><br><h3>  Systemanforderungen </h3><br><p>  <strong>VMmanager 5</strong> : Ein sauberer Server mit CentOS 6 und 7, 100-150 GB für die Root-Partition. <br></p><br><p>  <strong>VMmanager 6</strong> : Ein sauberer Server mit CentOS 7, einem Dual-Core-Prozessor mit einer Frequenz von 3 GHz, 4 GB RAM und 40 GB Speicherplatz.  Der Server muss nicht bügeln, virtuell reicht. <br></p><br><h3>  Preis / Übergang </h3><br><p>  <strong>VMmanager 5</strong> kostet 8 Euro pro Knoten und Monat, 80 Euro - wenn Sie für ein Jahr kaufen.  Jeder neue Knoten kostet 8 Euro.  Jetzt können nur diejenigen, die bereits eine Lizenz für VMmanager 5 erworben haben, diese erwerben. <br></p><br><p>  <strong>Die Kosten für VMmanager 6</strong> bestehen aus zwei Teilen: dem Preis für Knoten und einem Paket virtueller Maschinen. <br></p><br><ul><li>  Die Knoten werden einzeln zu jeweils 4 Euro / Monat verkauft. </li><li>  Virtuelle Maschinen werden in Paketen verkauft.  Das Mindestpaket umfasst 20 VMs und kostet 8 Euro / Monat. </li></ul><br><p>  Für Kunden mit aktiven VMmanager 5-Lizenzen gilt ein Sonderangebot für den Kauf von VMmanager 6. Die Bedingungen und Details zur Migration werden <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">auf der ISPsystem-Website bekannt gegeben</a> . <br></p><br><h3>  Fazit </h3><br><p>  Die fünfte und sechste Generation von VMmanager eignet sich zur Verwaltung der Virtualisierung.  Aber der Unterschied zwischen ihnen ist groß.  Zusammenfassend: <br></p><br><ul><li>  <strong>VMmanager 5</strong> sollte verwendet werden, um nicht standardmäßige Aufgaben zu lösen: wenn Sie ISO-Images benötigen.  Und auch - Schnappschüsse und Netzwerkspeicher (iSCSI, NFS, Ceph, GlusterFS). </li><li>  <strong>VMmanager 6 ist</strong> bequemer und schneller, hält hohen Lasten stand und ist für fast alle Aufgaben geeignet.  Bis Ende des Jahres planen wir, Unterstützung für IPv6, Ceph-Stores sowie ein Administrator-Dashboard und eine Benachrichtigung über Probleme an E-Mail und Messenger hinzuzufügen. </li></ul><br><p>  VMmanager 6 wurde bereits von 30 Anbietern bewertet.  Bewertungen - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">in der Ankündigung</a> auf der ISPsystem-Website. </p><br><p>  Die maximalen Details und Einzelheiten finden Sie in der Dokumentation zu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">VMmanager 5</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">VMmanager 6</a> . <br></p><br><br><blockquote>      VMmanager 6.     30 .   , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> </a>      . </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de471886/">https://habr.com/ru/post/de471886/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de471872/index.html">Schnittstellen in C # 8: Gefährliche Annahmen in der Standardimplementierung</a></li>
<li><a href="../de471874/index.html">Wie wir die Überprüfungsrichtlinien umgangen und einen Server auf dem Telefon gestartet haben</a></li>
<li><a href="../de471876/index.html">PDU und All-All-All: Rack-Stromverteilung</a></li>
<li><a href="../de471878/index.html">Wie schreibe ich einen intelligenten Vertrag für WebAssembly in einem Ontology-Netzwerk? Teil 1: Rost</a></li>
<li><a href="../de471884/index.html">10 kostenlose ApexSQL-Dienstprogramme zum Verwalten von Microsoft SQL Server-Datenbanken</a></li>
<li><a href="../de471890/index.html">Variationsinferenz - was ist das und was isst es?</a></li>
<li><a href="../de471892/index.html">6 praktische Geschichten von unseren SRE-Wochentagen</a></li>
<li><a href="../de471896/index.html">Das Inside Playbook. Netzwerkfunktionen in der neuen Ansible Engine 2.9</a></li>
<li><a href="../de471904/index.html">Ressourcenplaner bei HPE InfoSight</a></li>
<li><a href="../de471906/index.html">Die Gefahren unsachgemäßer Optimierungen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>