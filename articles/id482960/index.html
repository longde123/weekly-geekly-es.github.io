<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéê üíÖüèø üà∏ Tinjauan Umum WCS 5.2 - Server WebRTC untuk Pengembang Web Siaran Daring dan Video Chat üì§ üëä ‚õìÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Alice adalah pengembang penuh tumpukan yang berpengalaman dan mampu menulis kerangka kerja proyek SAAS dalam kerangka favoritnya menggunakan php dalam...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Tinjauan Umum WCS 5.2 - Server WebRTC untuk Pengembang Web Siaran Daring dan Video Chat</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flashphoner/blog/482960/"><img src="https://habrastorage.org/webt/za/go/wo/zagowolkguxr8_bdsbwjmkvyd0a.jpeg"><br><br><p>  Alice adalah pengembang penuh tumpukan yang berpengalaman dan mampu menulis kerangka kerja proyek SAAS dalam kerangka favoritnya menggunakan php dalam seminggu.  Di ujung depan ia lebih suka Vue.js. </p><br><p> Telegram sedang diketuk oleh pelanggan yang, dengan segala cara, perlu mengembangkan situs web, yang akan menjadi tempat pertemuan majikan dan karyawan untuk melakukan wawancara langsung.  Penuh waktu - berarti saling berhadapan, kontak video langsung dalam waktu nyata dengan video dan suara. <br>  "Kenapa tidak skype?" Anda bertanya.  Kebetulan proyek-proyek serius, dan setiap startup, tidak diragukan lagi menganggap dirinya seperti itu, sedang berusaha menawarkan layanan komunikasi internal untuk berbagai alasan, termasuk: <a name="habracut"></a></p><br><p>  1) Jangan berikan pengguna Anda ke komunikator pihak ketiga (skype, <br>  hangout, dll.).  Biarkan mereka dalam layanan. </p><br><p>  2) Monitor komunikasi: riwayat panggilan, hasil wawancara. </p><br><p>  3) Rekam panggilan (tentu saja, memberi tahu kedua pihak rekaman). </p><br><p>  4) Jangan bergantung pada kebijakan dan pembaruan layanan pihak ketiga.  Semua orang tahu cerita ini: Skype diperbarui, dan itu dimulai ... </p><br><p>  Tugasnya terlihat sederhana.  WebRTC adalah google pada topik dan sepertinya Anda dapat mengatur koneksi peer-to-peer antara dua browser, tetapi pertanyaan tetap: </p><br><p>  1) Di mana mendapatkan server STUN / TURN </p><br><p>  2) Apakah mungkin dilakukan tanpa mereka </p><br><p>  3) Cara merekam panggilan WebRTC peer-to-peer </p><br><p>  4) Apa yang akan terjadi jika Anda perlu menambahkan pihak ketiga ke panggilan, misalnya, manajer SDM atau spesialis lain dari pemberi kerja. </p><br><p>  Ternyata hanya WebRTC dan peer-to-peer saja tidak cukup dan tidak jelas apa yang harus dilakukan dengan semua ini untuk meluncurkan fungsi video layanan yang diperlukan. </p><br><h2>  Konten artikel </h2><br><div class="spoiler">  <b class="spoiler_title">Daftar isi</b> <div class="spoiler_text"><ul><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">Server dan API</a> </li><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">Aliran masuk</a> <br><ul><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">WebRTC</a> </li><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">RTMP</a> </li><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">Rtsp</a> </li><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">Vod</a> </li><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">SIP / RTP</a> </li></ul><br></li><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">Aliran keluar</a> <br><ul><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">WebRTC</a> </li><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">RTMP</a> </li><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">Rtsp</a> </li><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">MSE</a> </li><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">Hl</a> </li></ul><br></li><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">Kotak masuk dan Kotak keluar</a> </li><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">Manipulasi Stream Masuk</a> <br><ul><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">Rekaman Aliran Masuk</a> </li><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">Penghapusan Snapshot</a> </li><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">Menambahkan Stream ke Mixer</a> </li><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">Streaming transcoding</a> </li><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">Menambahkan tanda air</a> </li><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">Menambahkan Filter FPS</a> </li><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">Putar gambar 90, 180, 270 derajat</a> </li><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">Di mana kontrol aliran masuk</a> </li></ul><br></li><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">Aliran estafet</a> <br><ul><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">WebRTC</a> </li><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">RTMP</a> </li><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">SIP / RTP</a> </li></ul><br></li><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">Menghubungkan server ke jaringan pemrosesan konten CDN</a> </li><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">Untuk meringkas</a> </li><li>  <a href="https://habr.com/ru/company/flashphoner/blog/482960/">Referensi</a> </li></ul><br></div></div><br><br><h2><a name="serverapi"></a>  Server dan API </h2><br><p>  Untuk menutup semua titik putih ini, solusi server dan arsitektur peer-server-peer digunakan.  Web Call Server 5.2 WCS lebih lanjut adalah salah satu solusi server - platform pengembangan yang memungkinkan Anda untuk menambahkan fungsi video ke proyek tanpa khawatir tentang STUN / MENGHIDUPKAN dan stabilitas koneksi peer-to-peer. </p><br><p>  Pada level tertinggi, WCS adalah bagian JavaScript API + server.  API digunakan untuk mengembangkan JavaScript normal di sisi browser, dan server memproses lalu lintas video, bertindak sebagai Proksi Stateful untuk lalu lintas media. </p><br><p><img src="https://habrastorage.org/webt/7a/w0/qv/7aw0qvwyfc9tak6ij9ycdr1sju4.png"></p><br><p>  Selain JavaScript API, ada juga SDK Android dan iOS SDK, yang masing-masing diperlukan untuk mengembangkan aplikasi seluler asli untuk iOS dan Android. </p><br><p>  Misalnya, menerbitkan aliran ke server (streaming aliran dari webcam ke server) terlihat seperti ini: </p><br><p>  Sdk web </p><br><pre><code class="plaintext hljs">session.createStream({name:‚Äùstream123‚Äù}).publish();</code> </pre> <br><p>  Android SDK </p><br><pre> <code class="plaintext hljs">publishStream = session.createStream(streamOptions) publishStream.publish();</code> </pre> <br><p>  iOS SDK </p><br><pre> <code class="plaintext hljs">FPWCSApi2Stream *stream = [session createStream:options error:&amp;error]; if(![stream publish:&amp;error]) { //published without errors }</code> </pre> <br><p>  Sebagai hasilnya, Anda dapat menerapkan tidak hanya aplikasi web, tetapi juga up-up penuh untuk Google Play dan App Store dengan dukungan untuk streaming video.  Tambahkan SDK seluler ke gambar tingkat atas.  Ini akan menjadi seperti ini: </p><br><p><img src="https://habrastorage.org/webt/tf/z-/ya/tfz-yax_izaf-eyitcvd57y82h0.png"><br><br></p><h2><a name="Incomingstreams"></a>  Aliran masuk </h2><br><p>  Server streaming, yaitu WCS, dimulai dengan aliran masuk.  Untuk memberikan sesuatu, Anda harus memilikinya.  Untuk mendistribusikan streaming video ke pemirsa, aliran ini perlu masuk ke server, melewati RAM-nya, dan keluar melalui kartu jaringan.  Oleh karena itu, pertanyaan pertama yang akan berguna untuk ditanyakan ketika membiasakan diri dengan server media adalah: protokol dan format apa yang diterima terakhir oleh stream.  Dalam hal WCS, ini adalah teknologi berikut: WebRTC, RTMP, RTSP, VOD, SIP / RTP. </p><br><p><img src="https://habrastorage.org/webt/du/2r/pc/du2rpcr6ihdkicklwlyusrodjog.png"></p><br><p>  Setiap protokol dapat digunakan oleh beragam klien.  Misalnya, melalui WebRTC, tidak hanya aliran dari browser yang dapat masuk, tetapi juga dari server lain.  Kami menampilkan kemungkinan sumber lalu lintas masuk dalam tabel. </p><br><p></p><div class="scrollable-table"><table><tbody><tr><td>  <strong>WebRTC</strong> </td><td>  <strong>RTMP</strong> </td><td>  <strong>Rtsp</strong> </td><td>  <strong>Vod</strong> </td><td>  <strong>SIP / RTP</strong> </td></tr><tr><td><ul><li>  Sdk web <br><ul><li>  kamera + mic </li><li>  kanvas </li><li>  berbagi layar </li></ul><br></li><li>  Android SDK </li><li>  iOS SDK </li><li>  WCS <br><ul><li>  mendorong </li><li>  tarik </li></ul><br></li><li>  Cdn </li></ul><br></td><td><ul><li>  Encoder RTMP <br><ul><li>  ffmpeg </li><li>  Obs </li><li>  Wirecast </li></ul><br></li><li>  Adobe encoder </li><li>  WCS <br><ul><li>  mendorong </li><li>  tarik </li></ul><br></li><li>  Flash player </li></ul><br></td><td><ul><li>  Kamera IP </li><li>  Server RTSP </li></ul><br></td><td><ul><li>  Sistem File </li><li>  AWS S3 </li></ul><br></td><td><ul><li>  SIP titik akhir </li><li>  Konferensi SIP </li></ul><br></td></tr></tbody></table></div><br><p>  Jika Anda menelusuri sumber lalu lintas masuk, Anda dapat menambahkan yang berikut ini: </p><br><br><h3><a name="inWebRTC"></a>  <strong>WebRTC yang masuk</strong> </h3><br><p>  Web SDK memungkinkan Anda untuk menangkap tidak hanya kamera dan mikrofon, tetapi juga menggunakan kemampuan API browser untuk mengakses berbagi layar.  Selain itu, Anda dapat menangkap elemen Canvas yang sewenang-wenang dan yang digambar untuk siaran selanjutnya adalah streaming kanvas. </p><br><p>  Android SDK dan iOS SDK karena spesifik seluler memiliki kemampuan untuk beralih antara kamera depan dan belakang perangkat saat itu.  Ini memungkinkan Anda untuk mengganti sumber selama streaming tanpa menghentikan aliran. </p><br><p>  Aliran WebRTC yang masuk juga dapat diperoleh dari server WCS lain dengan metode: push, pull dan CDN, yang akan dibahas sedikit kemudian. </p><br><p><img src="https://habrastorage.org/webt/zn/rw/5i/znrw5ikkd8vcjuexwarfzeqkhg4.jpeg"><br></p><h3><a name="inRTMP"></a>  <strong>Rtmp masuk</strong> </h3><br><p>  Protokol RTMP secara luas digunakan dalam streamer OBS favorit, dan pada enkoder lain: Wirecast, Adobe Media Ensourcer, ffmpeg, dll.  Dengan mengambil salah satu penyandi ini, Anda dapat menangkap arus dan mengirimkannya ke server. </p><br><p>  Anda juga dapat mengambil aliran RTMP dari server media lain atau server WCS dari <br>  menggunakan metode push dan pull.  Dalam hal push, inisiator adalah server jarak jauh.  Dalam hal tarikan, kita beralih ke yang lokal untuk menarik aliran dari yang jauh. </p><br><p><img src="https://habrastorage.org/webt/3o/8x/f8/3o8xf84v5rx2apw_09n_lm2cjoe.jpeg"></p><br><br><h3><a name="inRTSP"></a>  <strong>RTSP yang masuk</strong> </h3><br><p>  Sumber lalu lintas RTSP biasanya adalah kamera IP atau server media pihak ketiga yang mendukung protokol RTSP.  Terlepas dari kenyataan bahwa ketika memulai koneksi RTSP, inisiatornya adalah WCS, lalu lintas audio dan video dalam arah dari kamera IP bergerak menuju server WCS.  Oleh karena itu, kami menganggap aliran dari kamera masuk. </p><br><p><img src="https://habrastorage.org/webt/ch/pj/qi/chpjqiof2ipgoqzmwx0zzkewrgm.jpeg"></p><br><br><h3><a name="inVOD"></a>  <strong>VOD masuk</strong> </h3><br><p>  Pada pandangan pertama, sepertinya fungsi VOD (Video On Demand) dikaitkan secara eksklusif dengan aliran keluar dan dengan pemutaran file oleh browser.  Dalam kasus kami, ini agak salah.  WCS dengan jujur ‚Äã‚Äãmenerjemahkan file mp4 dari sistem file ke localhost, sebagai hasilnya, aliran masuk dibuat, seolah-olah itu berasal dari sumber pihak ketiga.  Lebih lanjut, jika kita membatasi satu viewer menjadi satu file mp4, kita mendapatkan VOD klasik, di mana viewer mengambil stream dan memainkannya dari awal.  Jika tidak terbatas, kami mendapatkan VOD LIVE - variasi VOD, di mana pemirsa dapat memutar file yang sama sebagai streaming, menghubungkan ke titik pemutaran di mana semua yang lain saat ini berada (mode televisi siaran yang direkam sebelumnya). </p><br><p><img src="https://habrastorage.org/webt/cn/ot/tv/cnottvwwytktaxh9vnbjexlxlaq.jpeg"><br><br></p><h3><a name="inSIP-RTP"></a>  <strong>SIP / RTP masuk</strong> </h3><br><p>  Untuk menerima lalu lintas RTP masuk dalam sesi SIP, Anda harus mengatur panggilan dengan gateway SIP pihak ketiga.  Jika koneksi berhasil dibuat, lalu lintas audio dan / video akan pergi dari gateway SIP, yang akan dibungkus dengan aliran masuk di sisi WCS. </p><br><p><img src="https://habrastorage.org/webt/-r/km/io/-rkmio-9lhqlfjioblwkanzuxiq.jpeg"></p><br><br><h2><a name="Outgoingstreams"></a>  Aliran keluar </h2><br><p>  Setelah menerima aliran di server, Anda dapat mereplikasi aliran yang diterima ke satu atau banyak pemirsa berdasarkan permintaan.  Penampil meminta streaming dari pemain atau perangkat lain.  Aliran semacam itu disebut outgoing atau "aliran pemirsa", karena sesi aliran tersebut selalu dimulai di sisi pemirsa / pemain.  Perangkat teknologi pemutaran mencakup protokol / format berikut: WebRTC, RTMP, RTSP, MSE, HLS </p><br><div class="scrollable-table"><table><thead><tr><th>  WebRTC </th><th>  RTMP </th><th>  Rtsp </th><th>  MSE </th><th>  Hl </th></tr></thead><tbody><tr><td><ul><li>  Sdk web </li><li>  Android SDK </li><li>  iOS SDK </li><li>  WCS <br><ul><li>  tarik </li><li>  Cdn </li></ul><br></li></ul><br></td><td><ul><li>  Flash player </li><li>  Pemain RTMP </li></ul><br></td><td><ul><li>  RTSP Player <br><ul><li>  VLC </li><li>  WCS </li><li>  dll </li></ul><br></li></ul><br></td><td><ul><li>  Sdk web </li></ul><br></td><td><ul><li>  Pemain HLS <br><ul><li>  hls.js </li><li>  safari asli </li></ul><br></li></ul><br></td></tr></tbody></table></div><br><br><br><h3><a name="outWebRTC"></a>  <strong>WebRTC keluar</strong> </h3><br><p>  Dalam hal ini, SDK Web, Android SDK, dan iOS SDK bertindak sebagai API untuk pemain.  Contoh memainkan streaming WebRTC terlihat seperti ini: </p><br><p>  Sdk web </p><br><pre> <code class="plaintext hljs">session.createStream({name:‚Äùstream123‚Äù}).play();</code> </pre> <br><p>  Android SDK </p><br><pre> <code class="plaintext hljs">playStream = session.createStream(streamOptions); playStream.play();</code> </pre> <br><p>  iOS SDK </p><br><pre> <code class="plaintext hljs">FPWCSApi2Stream *stream = [session createStream:options error:nil]; if(![stream play:&amp;error]) { //published without errors }</code> </pre> <br><p>  Ini sangat mirip dengan API penerbitan, dengan satu-satunya perbedaan adalah sebaliknya <br>  stream.publish (), stream.play () dipanggil untuk pemutaran. </p><br><p>  Seorang pemain juga bisa menjadi server WCS pihak ketiga, yang akan diperintahkan untuk mengambil aliran melalui WebRTC dari server lain menggunakan metode tarik atau untuk mengambil aliran di dalam CDN. </p><br><br><h3> <strong><a name="outRTMP"></a></strong>  <strong>Rtmp keluar</strong> </h3><br><p><img src="https://habrastorage.org/webt/in/zq/nb/inzqnbejvsout_d4n5iiej4gozi.png"></p><br><p>  Di sini akan ada terutama pemain RTMP - baik Flash Player yang terkenal, dan aplikasi desktop dan seluler yang menggunakan protokol RTMP, menerima dan memainkan aliran RTMP.  Faktanya adalah meskipun Flash meninggalkan browser, Flash meninggalkan protokol RTMP, yang banyak digunakan untuk siaran video dan kurangnya dukungan asli di browser tidak mencegah penggunaan protokol yang cukup sukses ini di aplikasi klien lainnya.  Diketahui bahwa RTMP banyak digunakan pada pemutar VR untuk aplikasi mobile untuk Android dan iOS. </p><br><br><h3><a name="outRTSP"></a>  <strong>RTSP keluar</strong> </h3><br><p><img src="https://habrastorage.org/webt/ly/xu/r9/lyxur9b3gfzwsubfmrb3afmkfh0.png"></p><br><p>  Server WCS dapat bertindak sebagai server RTSP dan mendistribusikan aliran yang diterima melalui RTSP sebagai kamera IP biasa.  Dalam hal ini, pemain harus membuat koneksi RTSP dengan server dan mengambil aliran untuk pemutaran, seolah-olah itu adalah kamera IP. </p><br><br><h3><a name="outMSE"></a>  <strong>MSE keluar</strong> </h3><br><p><img src="https://habrastorage.org/webt/lt/wh/wz/ltwhwz7b8urhlg4m5ay-blpg-d8.jpeg"></p><br><p>  Dalam hal ini, pemain meminta aliran dari server menggunakan protokol Websocket.  Server menyediakan data audio dan video pada soket web.  Data mencapai browser dan dikonversi menjadi potongan-potongan yang dapat dimainkan browser berkat ekstensi MSE asli yang didukung di luar kotak.  Pemain akhirnya bekerja berdasarkan elemen video HTML5. </p><br><br><h3><a name="outHLS"></a>  <strong>HLS keluar</strong> </h3><br><p><img src="https://habrastorage.org/webt/if/5l/5f/if5l5fdsrgbgaekle2edci9gyws.jpeg"></p><br><p>  Di sini, WCS bertindak sebagai server HLS atau server Web yang mendukung HLS (HTTP Live Streaming).  Setelah aliran masuk muncul di server, daftar putar HLS dibuat dalam format .m3u8, yang diberikan kepada pemain sebagai tanggapan atas permintaan HTTP.  Daftar putar menjelaskan segmen video mana yang harus diunduh dan ditampilkan oleh pemutar.  Pemain mengunduh segmen video dan memutarnya di halaman browser, di perangkat seluler, di desktop, di dekoder Apple TV, dan di mana pun dukungan HLS diklaim. </p><br><br><h2><a name="IncomingOutgoing"></a>  Kotak masuk dan Kotak keluar </h2><br><p>  Total kami memiliki 5 jenis aliran masuk dan jumlah yang sama.  Kami mendaftar <br>  mereka di tabel: </p><br><p></p><div class="scrollable-table"><table><thead><tr><th>  <strong>Kotak masuk</strong> </th><th>  <strong>Keluar</strong> </th></tr></thead><tbody><tr><td>  WebRTC </td><td>  WebRTC </td></tr><tr><td>  RTMP </td><td>  RTMP </td></tr><tr><td>  Rtsp </td><td>  Rtsp </td></tr><tr><td>  Vod </td><td>  MSE </td></tr><tr><td>  SIP / RTP </td><td>  Hl </td></tr></tbody></table></div><br><br><p>  Yaitu  kita bisa mengarahkan stream ke server dan bisa terhubung dengannya dan memainkan pemain yang cocok untuk masalah ini.  Untuk memutar aliran WebRTC, gunakan SDK Web.  Untuk memutar aliran WebRTC sebagai HLS, gunakan pemain HLS, dll.  Satu aliran dapat dimainkan oleh banyak penonton.  Siaran satu-ke-banyak berfungsi. </p><br><p>  Sekarang kita akan memberi tahu tindakan apa yang dapat dilakukan dengan stream. </p><br><br><h2><a name="manipulatingincoming"></a>  Manipulasi Stream Masuk </h2><br><p>  Aliran keluar tempat duduk penonton tidak terlalu memanipulasi.  Memang, jika pemirsa telah membuat sesi dengan server dan sudah mengambil semacam aliran, tidak ada cara untuk melakukan perubahan apa pun tanpa merusak sesi.  Untuk alasan ini, semua manipulasi dan perubahan terjadi pada aliran masuk, pada titik di mana replikasi belum terjadi.  Aliran yang telah mengalami perubahan kemudian diedarkan ke semua pemirsa yang terhubung. </p><br><p>  Operasi pada stream meliputi: </p><br><ul><li>  merekam </li><li>  penghapusan snapshot </li><li>  tambahkan stream ke mixer </li><li>  stream transcoding </li><li>  tambahkan tanda air </li><li>  tambahkan filter FPS </li><li>  rotasi gambar sebesar 90, 180, 270 derajat </li></ul><br><br><h3><a name="recording"></a>  <strong>Rekaman Aliran Masuk</strong> </h3><br><p><img src="https://habrastorage.org/webt/m_/je/j8/m_jej8-gdyvh2e2urt4s75ltsse.jpeg"></p><br><p>  Mungkin fungsi yang paling dimengerti dan sering ditemui.  Memang, stream memerlukan rekaman dalam banyak kasus: webinar, pelajaran bahasa Inggris, konsultasi, dll. </p><br><p><img src="https://habrastorage.org/webt/kz/t0/_r/kzt0_rj0y1mvgb4rnob5ix4_bnk.jpeg"></p><br><p>  Perekaman dapat dimulai dengan SDK Web atau API REST dengan permintaan khusus: </p><br><pre> <code class="plaintext hljs">/stream/startRecording {}</code> </pre> <br><p>  Hasilnya disimpan dalam sistem file sebagai file mp4. </p><br><br><h3><a name="snapshot"></a>  <strong>Penghapusan Snapshot</strong> </h3><br><p><img src="https://habrastorage.org/webt/cg/g6/yh/cgg6yhu_d8lj4tl6tecphzvgsce.jpeg"></p><br><p>  Tugas yang sama umum adalah untuk mengambil gambar dari aliran saat ini untuk menampilkan ikon di situs.  Misalnya, Anda memiliki 50 stream dalam sistem pengawasan video, yang masing-masing memiliki sumber satu kamera IP.  Menampilkan semua 50 utas pada satu halaman tidak hanya bermasalah untuk sumber daya browser, tetapi juga tidak berguna.  Dalam kasus 30 FPS, total FPS dari gambar yang berubah akan menjadi 1500 frame per detik dan mata manusia tidak akan menerima frekuensi ini.  Sebagai solusinya, Anda dapat mengonfigurasi pemotongan otomatis atau memakan foto berdasarkan permintaan, dalam hal ini Anda dapat menampilkan gambar di situs dengan frekuensi acak, misalnya, 1 frame dalam 10 detik.  Snapshots dapat dihapus dari SDK, melalui REST API, atau diiris secara otomatis. </p><br><p><img src="https://habrastorage.org/webt/b9/c5/hf/b9c5hfkspnmifm7wfw96aatldl8.jpeg"></p><br><p>  Server WCS mendukung metode REST berikut untuk menghapus foto: </p><br><pre> <code class="plaintext hljs">/stream/snapshot</code> </pre> <br><p><img src="https://habrastorage.org/webt/5c/8z/v-/5c8zv-0i7uglnd6t5eyldejyzt0.jpeg"></p><br><br><h3><a name="mixer"></a>  <strong>Menambahkan Stream ke Mixer</strong> </h3><br><p><img src="https://habrastorage.org/webt/o3/mx/bj/o3mxbjmxo3evugpsr5td7wko1pc.jpeg"></p><br><p>  Gambar dari dua sumber atau lebih dapat digabungkan menjadi satu untuk ditampilkan untuk mengakhiri pemirsa.  Prosedur ini disebut pencampuran.  Contoh dasar: 1) Pengawasan video dari beberapa kamera di layar dalam satu gambar.  2) Konferensi video, di mana setiap pengguna menerima satu aliran untuk menghemat sumber daya, di mana sisanya dicampur.  Mixer dikendalikan melalui REST API dan memiliki mode operasi MCU untuk membuat konferensi video. </p><br><p>  Perintah REST untuk menambahkan aliran ke mixer: </p><br><pre> <code class="plaintext hljs">/mixer/startup</code> </pre> <br><br><h3><a name="transcoding"></a>  <strong>Streaming transcoding</strong> </h3><br><p><img src="https://habrastorage.org/webt/e8/dn/ml/e8dnmlrtcfd5dxvsnmfkrckeiqm.jpeg"></p><br><p>  Streaming kadang-kadang diharuskan diperas untuk beradaptasi dengan kelompok perangkat klien tertentu dengan resolusi dan bit rate.  Untuk ini, transcoding digunakan.  Transcoding dapat diaktifkan di sisi SDK Web, melalui REST API, atau secara otomatis melalui node Transcoding khusus di CDN.  Misalnya, ketika memasukkan video 1280x720, video tersebut dapat ditranskodekan ke 640x360 untuk distribusi ke pelanggan dari wilayah geografis dengan bandwidth yang biasanya rendah.  Di mana temanmu, Elon Musk? </p><br><p><img src="https://habrastorage.org/webt/yn/t2/5g/ynt25g1_9phfzcqtptzb0e0u3gq.jpeg"></p><br><p>  Metode REST yang digunakan: </p><br><pre> <code class="plaintext hljs">/transcoder/startup</code> </pre> <br><br><br><h3><a name="watermark"></a>  <strong>Menambahkan tanda air</strong> </h3><br><p><img src="https://habrastorage.org/webt/l_/7q/-t/l_7q-td_lifwkr5aw3mn-btem1o.png"></p><br><p>  Diketahui bahwa konten apa pun dapat dicuri dan diubah menjadi WebRip, tidak peduli perlindungan apa yang diberikan pemain tersebut.  Jika konten Anda benar-benar sangat berharga, Anda dapat memasukkan tanda air atau logo ke dalamnya yang akan sangat mempersulit penggunaan lebih lanjut dan tampilan publik.  Untuk menambahkan tanda air, cukup unggah gambar PNG dan itu akan dimasukkan ke dalam aliran video dengan transcoding.  Oleh karena itu, Anda harus menyiapkan beberapa core CPU di sisi server jika Anda masih memutuskan <br>  tambahkan tanda air ke sungai.  Agar tidak memutar watermark pada server dengan transcoding, lebih baik menambahkannya langsung ke encoder / streamer, yang <br>  sering memberikan kesempatan seperti itu. </p><br><br><h3><a name="fpsfilter"></a>  <strong>Menambahkan Filter FPS</strong> </h3><br><p><img src="https://habrastorage.org/webt/27/oi/bk/27oibkbef1jtrjulbcdcpomi_ts.png"></p><br><p>  Dalam beberapa kasus, diperlukan aliran dengan FPS genap (frame per detik).  Ini bisa berguna jika kita menyampaikan aliran ke sumber daya pihak ketiga seperti Youtube atau Facebook, atau kita memainkannya dengan pemutar HLS yang sensitif.  Penyaringan lagi membutuhkan transcoding, jadi hitung kekuatan server Anda dan siapkan konfigurasi ditambah 2 core per stream jika operasi seperti itu direncanakan. </p><br><br><h3><a name="rotate"></a>  <strong>Putar gambar 90, 180, 270 derajat</strong> </h3><br><p><img src="https://habrastorage.org/webt/ou/bh/2n/oubh2n__wt2uasdqfdgtj3rmves.png"></p><br><p>  Perangkat seluler memiliki kemampuan untuk mengubah resolusi aliran yang dipublikasikan tergantung pada sudut rotasi.  Misalnya, mereka mulai melakukan streaming, memegang iPhone secara horizontal, dan kemudian berbalik ke samping.  Menurut spesifikasi WebRTC, peramban streamer perangkat seluler, dan dalam hal ini iOS Safari harus memberi sinyal pergantian ke server.  Server, pada gilirannya, harus mengirimkan acara ini ke semua pelanggan.  Kalau tidak, itu akan berubah <br>  sehingga streamer meletakkan ponsel di sampingnya, tetapi melihat kameranya masih tegak, sementara pemirsa ditumpuk di sisinya.  Untuk bekerja dengan belokan di sisi SDK, ekstensi cvoExtension yang sesuai disertakan. </p><br><br><h3><a name="manage"></a>  <strong>Di mana kontrol aliran masuk</strong> </h3><br><p>  Otomatis - konfigurasi biasanya diatur pada sisi server di <br>  pengaturan. </p><br><div class="scrollable-table"><table><thead><tr><th>  Tindakan mengalir </th><th>  Web, iOS, Android SDK </th><th>  API SISA </th><th>  Otomatis </th><th>  Cdn </th></tr></thead><tbody><tr><td>  Rekam </td><td>  + </td><td>  + </td><td><br></td><td><br></td></tr><tr><td>  Penghapusan Snapshot </td><td>  + </td><td>  + </td><td>  + </td><td><br></td></tr><tr><td>  Menambahkan ke Mixer </td><td>  + </td><td>  + </td><td><br></td><td><br></td></tr><tr><td>  Streaming transcoding </td><td>  + </td><td>  + </td><td><br></td><td>  + </td></tr><tr><td>  Menambahkan air <br>  tanda </td><td><br></td><td><br></td><td>  + </td><td><br></td></tr><tr><td>  Menambahkan Filter FPS </td><td><br></td><td><br></td><td>  + </td><td><br></td></tr><tr><td>  Putar gambar sebanyak 90, <br>  180, 270 derajat </td><td>  + </td><td><br></td><td><br></td><td><br></td></tr></tbody></table></div><br><br><h2><a name="Streamrelay"></a>  Aliran estafet </h2><br><p>  Relai juga merupakan opsi untuk memanipulasi aliran yang masuk ke server dan terdiri dari memaksa aliran ke server pihak ketiga.  Sinonim untuk menyampaikan adalah kata-kata seperti: replikasi, push, injeksi. </p><br><p>  Relay dapat diimplementasikan menggunakan salah satu dari protokol berikut: WebRTC, RTMP, SIP / RTP.  Tabel menunjukkan arah di mana aliran dapat disampaikan. </p><br><br><div class="scrollable-table"><table><thead><tr><th>  WebRTC </th><th>  RTMP </th><th>  SIP / RTP </th></tr></thead><tbody><tr><td>  WCS </td><td>  Server RTMP WCS </td><td>  Server SIP </td></tr></tbody></table></div><br><br><br><h3><a name="repubWebRTC"></a>  <strong>Relay WebRTC</strong> </h3><br><p><img src="https://habrastorage.org/webt/d9/yf/cc/d9yfccsjz8zqvx3jo-3gas2nuu8.jpeg"></p><br><p>  Streaming dapat diteruskan ke server WCS lain jika karena alasan tertentu diperlukan untuk membuat aliran tersedia di server lain.  Relai dilakukan melalui REST API menggunakan metode / push.  Setelah menerima permintaan REST, WCS terhubung ke server yang ditentukan dan menerbitkan aliran server-server untuk itu.  Setelah itu, aliran menjadi tersedia untuk diputar di komputer lain. </p><br><pre> <code class="plaintext hljs">/pull/push</code> </pre> <br><p>  - Metode REST yang digunakan. </p><br><br><h3><a name="rebubRTMP"></a>  <strong>Relay RTMP</strong> </h3><br><p><img src="https://habrastorage.org/webt/y-/hv/tn/y-hvtne9e-vtgry-2or6nhmqzte.jpeg"></p><br><p>  Seperti halnya relai WebRTC, relai RTMP ke server lain juga dimungkinkan.  Perbedaannya hanya ada pada protokol relay.  Relai RTMP juga dilakukan melalui / push dan memungkinkan Anda untuk mentransfer aliran ke server RTMP pihak ketiga dan ke layanan yang mendukung RTMP Ingest: Youtube, Facebook streaming, dll.  Dengan demikian, aliran WebRTC dapat diteruskan ke RTMP.  Dengan keberhasilan yang sama di RTMP, Anda dapat menyampaikan aliran lain yang memasuki server, misalnya, RTSP atau VOD. </p><br><p>  Aliran video diteruskan ke server RTMP lain menggunakan panggilan REST </p><br><pre> <code class="plaintext hljs">/push/startup</code> </pre> <br><p>  - Panggilan ISTIRAHAT digunakan. </p><br><br><h3><a name="repubSIP-RTP"></a>  <strong>Relay SIP / RTP</strong> </h3><br><p><img src="https://habrastorage.org/webt/sl/tt/hj/sltthjlgwbvryka0vgpqel0hcx8.jpeg"></p><br><br><p>  Fungsi yang jarang digunakan.  Paling sering di perusahaan.  Misalnya, ketika Anda perlu membuat panggilan SIP dengan server konferensi SIP eksternal dan mengalihkan aliran audio atau video ke panggilan ini sehingga penonton konferensi melihat beberapa konten video: "Silakan tonton video ini" atau "Kolega, tapi sekarang mari kita lihat aliran dengan IP kamera dari lokasi konstruksi. "  Anda perlu memahami bahwa konferensi itu sendiri ada dan dikelola dalam hal ini pada VKS-server eksternal dengan dukungan SIP (Baru-baru ini kami menguji solusi dari Polycom DMA), kami hanya menghubungkan dan menyampaikan aliran yang ada ke server ini.  Fungsi REST API disebut / disuntikkan dan berfungsi hanya untuk kasus ini. </p><br><p>  Perintah REST API: </p><br><pre> <code class="plaintext hljs">/call/inject_stream/startup</code> </pre> <br><br><h2><a name="CDN"></a>  Menghubungkan server ke jaringan pemrosesan konten CDN </h2><br><p>  Satu server biasanya memiliki sumber daya yang terbatas.  Karenanya, untuk siaran online besar, di mana akun pemirsa mencapai ribuan dan puluhan ribu, penskalaan diperlukan.  Beberapa server WCS dapat digabungkan menjadi satu jaringan pengiriman konten CDN.  Secara internal, CDN akan bekerja melalui WebRTC untuk menjaga latensi rendah selama streaming. </p><br><p><img src="https://habrastorage.org/webt/99/sx/gd/99sxgd8frahbmd2trrxsfltfmeg.jpeg"></p><br><p>  Server dapat dikonfigurasi dalam salah satu peran berikut: Asal, Tepi, Transcoder.  Server tipe asal - menerima lalu lintas dan mendistribusikannya ke node tepi Edge-server yang bertanggung jawab untuk mengirimkan aliran ke pemirsa.  Jika perlu untuk menyiapkan aliran dalam beberapa resolusi, Transcoder node dimasukkan dalam skema, yang mengambil misi sumber daya yang membutuhkan transcoding stream. </p><br><br><h2><a name="summarize"></a>  Untuk meringkas </h2><br><p>  WCS 5.2 adalah server untuk mengembangkan aplikasi dengan dukungan audio dan video realtime untuk browser dan perangkat seluler.  Empat API disediakan untuk pengembangan: SDK Web, iOS SDK, Android SDK, REST API.  Anda dapat mempublikasikan stream video (umpan) ke server menggunakan lima protokol: WebRTC, RTMP, RTSP, VOD, SIP / RTP.  Dari server, Anda dapat memainkan stream dengan pemain menggunakan lima protokol: WebRTC, RTMP, RTSP, MSE, HLS.  Streaming dapat dikontrol dan dilakukan pada mereka operasi seperti: merekam, mengiris snapshot, mencampur, transcoding, menambahkan tanda air, memfilter FPS, menyiarkan video menyalakan perangkat seluler.  Streaming dapat diteruskan ke server lain melalui protokol WebRTC dan RTMP, serta dialihkan ke konferensi SIP.  Server dapat diintegrasikan ke dalam jaringan pengiriman konten dan diskalakan untuk memproses sejumlah stream video secara sewenang-wenang. </p><br><br><h3>  <strong>Apa yang harus diketahui Alice untuk bekerja dengan server</strong> </h3><br><p>  Pengembang harus dapat menggunakan Linux.  Tim semacam ini di <br>  Baris perintah seharusnya tidak menyebabkan kebingungan: </p><br><pre> <code class="plaintext hljs">tar -xvzf wcs5.2.tar.gz</code> </pre> <br><pre> <code class="plaintext hljs">cd wcs5.2</code> </pre> <br><pre> <code class="plaintext hljs">./install.sh</code> </pre> <br><pre> <code class="plaintext hljs">tail -f flashphoner.log</code> </pre> <br><pre> <code class="plaintext hljs">ps aux | grep WebCallServer</code> </pre> <br><pre> <code class="plaintext hljs">top</code> </pre> <br><p>  JavaScript Vanilla juga harus mampu untuk mengembangkannya <br>  Web </p><br><pre> <code class="plaintext hljs">//  session.createStream({name:'mystream'}).publish(); //  session.createStream({name:'mystream'}).play();</code> </pre><br><p>  Kemampuan untuk bekerja dengan backend juga bermanfaat. </p><br><p><img src="https://habrastorage.org/webt/3l/0a/9s/3l0a9shqbhfy4yjheu30ocammzg.jpeg"></p><br><p>  WCS tidak hanya dapat menerima perintah kontrol melalui REST API, tetapi juga mengirim kait - pemberitahuan tentang peristiwa yang terjadi di dalamnya. <br>  Misalnya, ketika mencoba membuat koneksi dari browser atau aplikasi seluler, WCS akan memanggil kait / sambungkan, dan ketika mencoba memainkan streaming, ia akan memanggil kait playStream.  Oleh karena itu, pengembang harus tetap berada di posisi ujung belakang, yang mampu menulis baik klien REST sederhana dan server REST kecil untuk memproses kait. </p><br><p>  Contoh REST API </p><br><pre> <code class="plaintext hljs">/rest-api/stream/find_all</code> </pre> <br><p>  - contoh API REST untuk menghasilkan daftar aliran pada server </p><br><p>  SISA contoh kait </p><br><pre> <code class="plaintext hljs">https://myback-end.com/hook/connect</code> </pre> <br><p>  - Pengolahan hook / koneksi REST di sisi backend. </p><br><p>  Linux, JavaScript, REST Client / Server adalah tiga elemen itu <br>  cukup untuk mengembangkan layanan produksi pada platform WCS yang berfungsi <br>  dengan streaming video. </p><br><p>  Pengembangan aplikasi seluler membutuhkan pengetahuan tentang Java dan Objective-C <br>  untuk Android dan iOS masing-masing. </p><br><br><h3>  <strong>Instalasi dan peluncuran</strong> </h3><br><p>  Ada tiga cara untuk meluncurkan WCS dengan cepat hari ini: </p><br><p>  1) Instal di Centos7 atau Ubuntu 16.x LTS atau Ubuntu 18.x LTS Anda, dan <br>  dll.  dipandu oleh <a href="https://docs.flashphoner.com/pages/viewpage.action%3FpageId%3D9241019">artikel dari dokumentasi</a> . </p><br><p>  atau </p><br><p>  2) Ambil <a href="https://flashphoner.com/podderzhka-oblachnyh-serverov-amazon-ec2-v-web-call-server/%3Flang%3Dru">gambar yang sudah jadi di Amazon EC2</a> . </p><br><p>  atau yang lainnya </p><br><p>  3) Ambil <a href="https://flashphoner.com/podderzhka-web-call-server-v-digital-ocean-marketplace/%3Flang%3Dru">gambar server yang sudah jadi di DigitalOcean</a> . </p><br><p>  Dan mulailah pengembangan proyek yang menarik dengan fitur streaming video. </p><br><p>  Artikel ulasan ternyata sangat banyak.  Terima kasih untuk itu <br>  baca kesabaran. </p><br><p>  Selamat streaming! </p><br><br><br><h2><a name="Links"></a>  Referensi </h2><br><p>  <a href="https://flashphoner.com/">WCS 5.2</a> - Server WebRTC </p><br><h3>  Instalasi dan peluncuran </h3><br><p>  <a href="https://docs.flashphoner.com/pages/viewpage.action%3FpageId%3D9241019">Instal dan jalankan WCS</a> </p><br><p>  <a href="https://flashphoner.com/podderzhka-oblachnyh-serverov-amazon-ec2-v-web-call-server/%3Flang%3Dru">Luncurkan gambar prebuilt di Amazon AWS</a> </p><br><p> <a href="https://flashphoner.com/podderzhka-web-call-server-v-digital-ocean-marketplace/%3Flang%3Dru">    DigitalOcean</a> </p><br><h3> SDK </h3><br><p> <a href="https://docs.flashphoner.com/display/WCS52RU/Web%2BSDK">  Web SDK</a> </p><br><p> <a href="https://docs.flashphoner.com/display/WCS52RU/Android%2BSDK">  Android SDK</a> </p><br><p> <a href="https://docs.flashphoner.com/display/WCS52RU/iOS%2BSDK">  iOS SDK</a> </p><br><h3>  </h3><br><p> <a href="https://docs.flashphoner.com/pages/viewpage.action%3FpageId%3D9241216"> </a> </p><br><p> <a href="https://docs.flashphoner.com/pages/viewpage.action%3FpageId%3D9241448"> </a> </p><br><p> <a href="https://docs.flashphoner.com/pages/viewpage.action%3FpageId%3D9241404"> </a> </p><br><p> <a href="https://docs.flashphoner.com/pages/viewpage.action%3FpageId%3D9241533"> </a> </p><br><p> <a href="">WebRTC CDN   </a> </p><br><h3>  </h3><br><p> <a href="https://docs.flashphoner.com/display/WCS52RU/Web%2BCall%2BServer%2B5.2%2B-%2BRU"> Web Call Server 5.2</a> </p><br><br></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id482960/">https://habr.com/ru/post/id482960/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id482946/index.html">1–° DSS dan estimasi syarat dan biaya proyek dengan metode COCOMO II</a></li>
<li><a href="../id482948/index.html">"Satu, dua, tiga - bakar pohon Natal!" Atau pandangan pertamaku pada pengontrol mungil CANNY 3</a></li>
<li><a href="../id482950/index.html">Java: hal-hal yang mungkin tampak aneh bagi pengembang yang berpengalaman</a></li>
<li><a href="../id482956/index.html">Tinjauan WCS 5.2 - Server WebRTC untuk Pengembang Webcast dan Webcam</a></li>
<li><a href="../id482958/index.html">"Aturan pertumbuhan: dari junior ke CTO", abstrak dari webinar oleh Fedor Borshchev</a></li>
<li><a href="../id482968/index.html">Quarkus - Pandangan Baru Di Cloud Native Java</a></li>
<li><a href="../id482970/index.html">Hack The Box - Walkthrough Craft. Kami menggali Git, mengeksploitasi kerentanan dalam API, berurusan dengan Vault</a></li>
<li><a href="../id482976/index.html">Analisis transaksi anonim dalam perdagangan saham</a></li>
<li><a href="../id482978/index.html">Parser Blockchain dengan 300 baris dalam Python</a></li>
<li><a href="../id482980/index.html">Oracle sendiri menyalin API dari Amazon S3, dan itu tidak masalah</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>