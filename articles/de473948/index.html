<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🆖 🧑🏿‍🤝‍🧑🏿 🍜 Operon: Beschleunigt die Leistung von Ansible 🙍🏾 👏🏾 🐂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ich freue mich sehr, endlich Operon vorstellen zu können , den Hochleistungsersatz für Ansible Engine. Operon ist für große Installationen konzipiert ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Operon: Beschleunigt die Leistung von Ansible</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/473948/"><p><img src="https://habrastorage.org/webt/lo/4s/i3/lo4si33bevrsrpbjkpg23lvxbye.jpeg"></p><br><p>  Ich freue mich sehr, endlich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Operon</a> vorstellen zu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">können</a> , den Hochleistungsersatz für Ansible Engine.  Operon ist für große Installationen konzipiert und wird im Abonnement vertrieben.  Es startet vorhandene Playbooks, Module, Plug-Ins und Tools von Drittanbietern ohne Änderungen mithilfe einer fortschrittlichen Engine und erhöht die tatsächliche Anzahl der in einem Lauf adressierten Knoten erheblich. Dies spart möglicherweise Stunden bei jedem Anruf. </p><a name="habracut"></a><br><p>  <strong>Operon wird sowohl separat als auch zusammen</strong> mit Ansible Engine <strong>installiert</strong> : Sie können Ihre Projekte schrittweise darauf übertragen oder beim Start verwenden, wenn Sie dies wünschen. </p><br><p>  Unten sehen Sie eine grafische Darstellung des Laufs für 416 common.yml-Tasks aus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DebOps</a> 0.7.2, die über SSH bereitgestellt wurden: </p><br><p><img src="https://habrastorage.org/webt/-h/dj/vf/-hdjvfmecu117sb_puadvdg5w80.png"></p><br><p>  Im Vergleich zu sauberem Ansible Operon wird die Laufzeit pro Knoten um etwa 60% reduziert.  Bei Massenstarts ist der Vorteil jedoch viel größer.  Sehen Sie sich an, wie sich die Betriebszeit erhöht (Hardware: 24 GB, 8-Kern-Xeon E5530; Bereitstellung auf virtuellen Maschinen der Google Cloud über SSH in 18 ms): </p><br><p><img src="https://habrastorage.org/webt/cz/4c/eg/cz4ceg0tbpk1dzgekkbsaqxhtxs.png"></p><br><p>  Für jeden Lauf wurden 416 Aufgaben auf jedem Knoten ausgeführt, einschließlich Schleifenelementen.  In einem Lauf von 1024 Knoten wurden 540 496 Aufgaben in 54 Minuten erledigt.  durchschnittlicher Durchsatz - 151 Aufgaben / Sekunde.  Die horizontale Skalierung ist offensichtlich: fast 4x, von 256 bis 1024 Knoten. </p><br><p>  Der Ansible-Lauf mit 256 Knoten musste abgebrochen werden: Über einen langen Zeitraum wurden keine Ergebnisse erzielt, viele Male neu gestartet, wodurch die Anzahl der Prozesse von 40 auf 10 reduziert wurde, damit Ansible seine RAM-Ressourcen nicht erschöpft.  Mit 13 Prozessen hätte es vielleicht geklappt, aber wir mussten weitere Versuche ablehnen: Wir haben bereits 2 Tage Maschinenzeit verbracht. </p><br><p>  Für den letzten Lauf erledigte Ansible vor dem Abbrechen 89% der Aufgaben in 6 Stunden und 13 Minuten: </p><br><p><img src="https://habrastorage.org/webt/qk/mo/yb/qkmoybfrc5yp2tccliv-fls2npq.png"></p><br><p>  Operon, das bei jedem parallelen Lauf auf allen Knoten bereitgestellt wird.  Wenn 1024 Prozesse auf 8 Kernen ausgeführt werden, steigt die Last kaum merklich an, und auf 24 Kernen steigt die Anzahl der Prozesse auf 6144. Wenn wir dieselbe Anzahl von Aufgaben auf dieser Anzahl von Knoten ausführen, nur mit 16 Kernen, denken wir, dass wir ausgeführt werden könnten Fertig nicht in 54 Minuten, sondern in 27. </p><br><p>  Der Speicherverbrauch ist sehr vorhersehbar und weitgehend von Prozessen getrennt.  Mit 256 Prozessen verbraucht Operon viermal weniger als Ansible mit 10;  Gleichzeitig verbraucht der Prozessor mindestens 15-mal weniger Prozessorzeit. </p><br><p><img src="https://habrastorage.org/webt/wg/6d/uc/wg6duc-smz_sklkgi23fewmde3i.png"></p><br><p>  Hier nimmt die Kurve ab: Ansible läuft auf 64 Knoten mit 40 Prozessen, während Läufe auf 256 Knoten ab 10 ausgeführt werden. Ansible-Läufe auf 256 Knoten dauerten 1,6 GBit / Prozess;  Unabhängig von den verfügbaren RAM-Ressourcen wurde daher eine starke Einschränkung der erreichbaren Parallelität geschaffen. </p><br><p>  Operon ist ein neuer Schritt im Entwicklungsansatz, der mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mitogen for Ansible eingeführt wurde</a> .  Es erbt die massiven Verbesserungen der Leistung auf niedrigem Niveau, die von Tausenden von Benutzern benötigt werden: </p><br><p><img src="https://habrastorage.org/webt/ky/1p/w1/ky1pw1vyu3_qczrhqnjpvg7iwti.png"></p><br><p><img src="https://habrastorage.org/webt/ny/9j/se/ny9jsejzdbncitz0n92oywffsys.png"></p><br><h3 id="ne-tolko-po">  Nicht nur Software </h3><br><p>  Produktivität ist ein Nebeneffekt des kulturellen Wandels hin zu mehr Benutzerorientierung, Kompatibilität und Internalisierung von Kosten.  Wir haben etwas zu zeigen, aber damit Sie den Geschmack des neuen Produkts voll und ganz erleben können, freue ich mich, Ihnen mitteilen zu können, dass die Playbook-Syntax mit direkter Kompatibilität garantiert wird - zusätzlich zur Wiederherstellung einiger veralteter Ansible Engine-Konstrukte. </p><br><p>  <strong>umfassen</strong> : </p><br><pre><code class="plaintext hljs">- include: "i-will-always-work.yml"</code> </pre> <br><p>  <strong>"mit" Schleifen</strong> </p><br><pre> <code class="plaintext hljs">- debug: msg={{item}} with_items: ["i", "will", "always", "work"]</code> </pre> <br><p>  <strong>"Squash-Aktionen"</strong> </p><br><pre> <code class="plaintext hljs">- apt: name: "{{item}}" with_items: ["i", "will", "always", "work"]</code> </pre> <br><p>  <strong>Bindestriche in Gruppennamen</strong> </p><br><pre> <code class="plaintext hljs">$ cat hosts [i-will-always-work.us.mycorp.com] host1</code> </pre> <br><p>  <strong>Hash-Merge</strong> </p><br><pre> <code class="plaintext hljs"># I will always work [defaults] hash_behaviour = merge</code> </pre> <br><p>  Operon-Sendungen mit einer mit Ansible 2.9 kompatiblen Syntax <strong>werden laufend unterstützt</strong> , und das Deaktivieren der Syntax in Ansible Engine wird Operon in Zukunft nicht mehr beeinträchtigen.  Solche Änderungen schaden Arbeitsinstallationen, ohne ihre Funktionen zu verbessern, und sie sind die Hauptarbeitsquelle, um Fehler während Aktualisierungen zu beheben. </p><br><p>  Im Laufe der Zeit erstreckt sich diese Garantie auf die Semantik der Engine und darüber hinaus. </p><br><h3 id="kak-priobschitsya">  Wie mache ich mit? </h3><br><p>  Zunächst wird Operon <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">mit Unterstützung von Network Genomics vertrieben</a> . Dies ist eine Erfahrung und Verpflichtung zu einem Service, den Sie sonst nirgendwo bekommen.  Wenn Ihr Team jahrelang in der Bereitstellungsfalle steckt oder es leid ist, Updates zu reparieren <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">, sollten Sie eine Bewertung anfordern</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">mir</a> unverzüglich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">eine E-Mail schreiben</a> - für Fragen und unverständliche Punkte. </p><br><p>  Die beste Software ist gemeinfrei, daher wird eine öffentliche Veröffentlichung stattfinden, wenn wir in der Lage sind, ein bestimmtes Maß an kostenlosem Support bereitzustellen.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Abonnieren Sie unseren Newsletter</a> , um rechtzeitig über zukünftige Versionen informiert zu werden. </p><br><p>  <strong>Verbessert Operon die Windows-Leistung?</strong> <br>  Ja  Wenn Sie während Ihrer Windows-Bereitstellung Leistungsprobleme haben, bleiben Sie vorerst auf dem Laufenden. </p><br><p>  <strong>Verbessert Operon die Leistung von Netzwerkgeräten?</strong> <br>  Ja  Operon präsentiert eine architektonische Neugestaltung, die weit über die Transportschicht hinausgeht und für alle Arten von Verbindungen gleichermaßen anwendbar ist. </p><br><p>  <strong>Ist Operon ein Ansible-Ableger?</strong> <br>  Nein.  Operon ist eine inkrementelle Neufassung der Engine, einer kleinen Komponente von etwa 60.000 Codezeilen, von denen etwa ein Viertel ersetzt wurden.  Jede Ansible-Installation enthält ungefähr 715.000 Leitungen, von denen die überwiegende Mehrheit wie Operon unabhängig von der großen Ansible-Community unterstützt wird. </p><br><p>  <strong>Wird sich die Operon Ansible Engine verbessern?</strong> <br>  Ja  Operon fördert bereits eine Verbesserung innerhalb von Ansible Engine, und da es sich um eine Verfeinerung handelt, besteht ein Anreiz, einen Beitrag zu leisten und den Code gegebenenfalls zu korrigieren. </p><br><p>  <strong>Ist Operon Freeware?</strong> <br>  Ja  Operon wird unter derselben GPL wie Ansible veröffentlicht, und Sie können den Code unter dieser Lizenz frei verwenden. </p><br><p>  <strong>Bricht Operon die Kompatibilität?</strong> <br>  Nein.  Operon verletzt nicht die Kompatibilität mit den Standardmodulen, Plug-In-Schnittstellen oder dem umgebenden Ansible-Ökosystem und plant nicht, diese zu verletzen.  Kompatibilität - vor allem: Sie sollten nicht hinter zukünftigen Verbesserungen zurückbleiben und die Abwärtskompatibilität vergessen, z. B. eine verbesserte Stabilität der Syntax des Playbooks. </p><br><p>  <strong>Benötige ich Operon, wenn ich Pläne für nur einen Knoten habe?</strong> <br>  Operon stellt die fortgesetzte Wettbewerbsfähigkeit der Fähigkeiten sicher, in die Sie so viel investiert haben.  Es bietet eine erhöhte Flexibilität, die es bisher einfach nicht gab: die Freiheit, einen Motor zu wählen.  Mit Operon gewinnen Sie, auch wenn Sie es nicht direkt verwenden. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de473948/">https://habr.com/ru/post/de473948/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de473936/index.html">Interaktive Audio-Performance - Eine neue Ära der Voice Assistant-Spiele</a></li>
<li><a href="../de473938/index.html">Speichern Sie Anwendungseinstellungen universell über IConfiguration</a></li>
<li><a href="../de473940/index.html">Festigkeitsprüfung: Nanomechanik der edlen Ohrmuschel der Perlmuttschale</a></li>
<li><a href="../de473944/index.html">Ratschläge des Entwicklers von RimWorld: kognitive Verzerrungen bei der Vorhersage eines Fans des Spiels</a></li>
<li><a href="../de473946/index.html">Verteilte Protokollierung und Ablaufverfolgung für Microservices</a></li>
<li><a href="../de473950/index.html">Implementieren, skalieren: die Erfahrung mit Autotests in VTB</a></li>
<li><a href="../de473952/index.html">Als ich AI für rundenbasierte Strategie schrieb</a></li>
<li><a href="../de473956/index.html">Geheime Informationen einer Telefongesellschaft eines Drogendealers</a></li>
<li><a href="../de473958/index.html">Japaner von NICT führten einen funktionierenden Glasfasercluster mit einer Bandbreite von 1 Pbit / s ein</a></li>
<li><a href="../de473960/index.html">Strategien zur Inhaltslokalisierung</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>