<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö´ üëéüèª ‚è≥ Jupyter Notebook na Netflix üêü üë®üèº‚Äç‚öïÔ∏è üïú</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recentemente, o Jupyter Notebook se tornou muito popular entre os especialistas em ci√™ncia de dados, tornando-se o padr√£o de fato para prototipagem r√°...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Jupyter Notebook na Netflix</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439272/"><p>  Recentemente, o Jupyter Notebook se tornou muito popular entre os especialistas em ci√™ncia de dados, tornando-se o padr√£o de fato para prototipagem r√°pida e an√°lise de dados.  Na Netflix, tentamos ampliar ainda mais os limites de seus recursos, repensando o que o Notebook pode ser, quem pode ser usado e o que eles podem fazer com ele.  N√≥s nos esfor√ßamos muito para traduzir nossa vis√£o em realidade. </p><br><p>  Neste artigo, queremos dizer por que achamos que os notebooks Jupyter s√£o t√£o atraentes e que nos inspiram ao longo do caminho.  Al√©m disso, descrevemos os componentes de nossa infraestrutura e analisamos novas maneiras de usar o Jupyter Notebook na Netflix. </p><br><p><img src="https://habrastorage.org/webt/8x/w3/za/8xw3zaiacgzfdvghsg7a1inacra.jpeg"><br>  Nota do tradutor: cuidado, <b>muito texto e poucas fotos</b> <br><a name="habracut"></a><br></p><br><p>  Se voc√™ n√£o tiver muito tempo, sugerimos que voc√™ v√° imediatamente para a se√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Casos de uso</a> . </p><br><h1>  Por que tudo isso? </h1><br><p>  Os dados s√£o o poder da Netflix.  Eles permeiam nossos pensamentos, influenciam nossas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">decis√µes</a> e desafiam nossas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">hip√≥teses</a> .  Eles cobram <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">experimentos</a> e o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">surgimento de um novo</a> em uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">escala sem precedentes</a> .  Os dados nos permitem descobrir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">significados inesperados</a> e experimentar uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">experi√™ncia personalizada</a> incr√≠vel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">para</a> 130 milh√µes de nossos usu√°rios em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">todo o mundo</a> . </p><br><p>  Tornar tudo isso realidade √© uma conquista consider√°vel, exigindo impressionante suporte de engenharia e infraestrutura.  Todos os dias, mais de 1 trilh√£o de eventos s√£o recebidos em um fluxo (pipeline de ingest√£o de streaming) que √© processado e registrado em um armazenamento em nuvem de 100PB.  Todos os dias, nossos usu√°rios realizam mais de 150.000 tarefas nesses dados, cobrindo tudo, desde relat√≥rios a aprendizado de m√°quina e algoritmos de recomenda√ß√£o. </p><br><p>  Para suportar esses cen√°rios de uso em tal escala, criamos um dos melhores do setor, uma plataforma de processamento de dados flex√≠vel, poderosa e, se necess√°rio, complexa (Netflix Data Platform).  Tamb√©m desenvolvemos ferramentas e servi√ßos adicionais, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Genie</a> (servi√ßo de execu√ß√£o de tarefas) e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Metacat</a> (meta-armazenamento).  Essas ferramentas reduzem a complexidade, possibilitando o suporte a uma ampla gama de usu√°rios em toda a empresa. </p><br><img src="https://habrastorage.org/webt/dh/v0/x4/dhv0x4f7uwhgzn9w67ikrtdem6k.jpeg"><br><p>  A variedade de usu√°rios √© impressionante, mas voc√™ precisa pagar por isso: a Netflix Data Platform e seu ecossistema de ferramentas e servi√ßos devem ser escalados para oferecer suporte a cen√°rios de uso adicionais, idiomas, esquemas de acesso e muito mais.  Para uma melhor compreens√£o do problema, consideramos tr√™s posi√ß√µes comuns: um engenheiro analista, um engenheiro de dados e um cientista de dados. </p><br><img src="https://habrastorage.org/webt/kf/nc/l4/kfncl4wisrdj24isuek5tjr_hcc.jpeg"><br>  <i>A diferen√ßa na prefer√™ncia de idiomas e ferramentas para diferentes posi√ß√µes</i> <br><br><p>  Como regra, cada posi√ß√£o prefere usar seu pr√≥prio conjunto de ferramentas e idiomas.  Por exemplo, um engenheiro de dados pode criar um novo conjunto de dados contendo trilh√µes de fluxos de eventos usando o Scala no IntelliJ.  O analista pode us√°-los em um novo relat√≥rio global de qualidade de streaming usando SQL e Tableau.  Este relat√≥rio pode ser enviado a um cientista de dados que criar√° um novo modelo de compress√£o de streaming usando o R e o RStudio.  √Ä primeira vista, esses processos parecem fragmentados, embora complementares, mas se voc√™ olhar mais profundamente, cada um desses processos possui v√°rias tarefas sobrepostas: <br><br>  <b>explora√ß√£o de dados</b> - ocorre no est√°gio inicial do projeto;  pode incluir uma vis√£o geral dos dados de amostra, consultas para an√°lise estat√≠stica e visualiza√ß√£o de dados <br><br>  <b>prepara√ß√£o de dados</b> - uma tarefa repetitiva, pode incluir limpeza, padroniza√ß√£o, transforma√ß√£o, desnormaliza√ß√£o e agrega√ß√£o de dados;  geralmente a parte mais demorada do projeto <br><br>  <b>valida√ß√£o de dados</b> - uma tarefa que ocorre regularmente;  pode incluir uma pesquisa de dados amostrados, an√°lise estat√≠stica, an√°lise agregada e visualiza√ß√£o de dados;  geralmente ocorre como parte da explora√ß√£o, prepara√ß√£o, desenvolvimento, pr√©-implanta√ß√£o e p√≥s-implanta√ß√£o de dados <br><br>  <b>produ√ß√£o</b> - ocorre na fase final do projeto;  pode incluir implanta√ß√£o de c√≥digo, adi√ß√µes de amostra, treinamento de modelo, valida√ß√£o de dados e programa√ß√£o de fluxos de trabalho </p><br><p>  Para expandir os recursos de nossos usu√°rios, queremos tornar essas tarefas o mais f√°cil poss√≠vel. <br>  Para expandir os recursos de nossa plataforma, queremos minimizar o n√∫mero de ferramentas que precisam ser suportadas.  Mas como  Nenhuma ferramenta √∫nica pode cobrir todas essas tarefas.  Al√©m disso, muitas vezes uma tarefa requer o uso de v√°rias ferramentas.  No entanto, se desativarmos, surge um padr√£o comum para todas as ferramentas e linguagens: executar c√≥digo, examinar dados, apresentar o resultado. </p><br><p>  Aconteceu que um projeto de c√≥digo aberto foi desenvolvido especificamente para isso: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Projeto Jupyter</a> . </p><br><h1>  Cadernos Jupyter </h1><br><p><img src="https://habrastorage.org/webt/ru/4x/-f/ru4x-fxrpxia_tuf_o7fpg7v6xg.png"><br><br>  O notebook Jupyter no nteract exibe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Vega</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Altair</a> </p><br><p>  O projeto Jupyter foi lan√ßado em 2014 com o objetivo de criar um conjunto consistente de ferramentas de c√≥digo aberto para pesquisa, fluxo de trabalho reproduz√≠vel e an√°lise de dados.  Essas ferramentas foram altamente elogiadas pelo setor e hoje o Jupyter se tornou parte integrante do kit de ferramentas de qualquer cientista de dados.  Para entender a extens√£o de sua influ√™ncia, observamos que Jupyter recebeu o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2017 ACM Software Systems Award</a> - um pr√™mio de prest√≠gio que ele compartilha com Java, Unix e the_Web. </p><br><p>  Para entender por que o Notebook Jupyter √© t√£o atraente para n√≥s, considere suas principais caracter√≠sticas: <br><br></p><ul><li>  protocolo de mensagens para analisar e executar c√≥digo, independentemente do idioma </li><li>  formato de arquivo com a capacidade de editar, para descri√ß√£o, exibi√ß√£o e execu√ß√£o de c√≥digo, sa√≠da e notas de remarca√ß√£o </li><li>  interface da web para grava√ß√£o interativa, execu√ß√£o de c√≥digo e visualiza√ß√£o de resultados </li></ul><br><p>  O protocolo Jupyter fornece uma API de mensagens padronizada com kernels que atuam como m√≥dulos de computa√ß√£o e fornece uma arquitetura compos√≠vel, compartilhando assim onde o c√≥digo (UI) √© armazenado e onde √© executado (o kernel).  Assim, separando a interface e o n√∫cleo, os Notebooks podem funcionar em v√°rios idiomas, mantendo a flexibilidade de configurar o tempo de execu√ß√£o.  Se existir um idioma para um idioma que possa trocar mensagens usando o protocolo Jupyter, o Notebook poder√° executar o c√≥digo enviando e recebendo mensagens para esse kernel. </p><br><p>  Al√©m de tudo, tudo isso √© suportado por um formato de arquivo que permite armazenar o pr√≥prio c√≥digo e os resultados de sua execu√ß√£o em um √∫nico local.  Isso significa que voc√™ pode visualizar os resultados da execu√ß√£o posteriormente sem precisar reiniciar o pr√≥prio c√≥digo.  Os notebooks tamb√©m podem armazenar uma descri√ß√£o detalhada do contexto e o que exatamente acontece dentro dele.  Isso o torna um formato ideal para transmitir um contexto comercial, corrigir suposi√ß√µes, comentar c√≥digos, descrever conclus√µes e muito mais. </p><br><h1><a name="Use"></a>  Casos de uso </h1><br>  Entre os muitos cen√°rios, os casos de uso mais populares s√£o: acesso a dados, modelos de blocos de anota√ß√µes e blocos de anota√ß√µes de agendamento. <br><br><h2>  Acesso a dados </h2><br><p>  O Jupyter Notebook apareceu originalmente na Netflix para suportar fluxos de trabalho de ci√™ncia de dados.  √Ä medida que seu uso entre os especialistas em ci√™ncia de dados aumentou, vimos o potencial de expandir os recursos de nossas ferramentas.  Percebemos que poder√≠amos usar a versatilidade e a arquitetura do Notebook Jupyter e expandir seus recursos para compartilhamento de dados.  No terceiro trimestre de 2017, come√ßamos a trabalhar seriamente para tornar o Notebook uma ferramenta para um c√≠rculo restrito de especialistas em um representante de primeira classe da Netflix Data Platform. </p><br><p>  Do ponto de vista de nossos usu√°rios, os Notebooks oferecem uma interface conveniente para execu√ß√£o interativa de comandos, pesquisa de sa√≠da e visualiza√ß√£o de dados - tudo em um ambiente de desenvolvimento em nuvem.  Tamb√©m oferecemos suporte √† biblioteca Python, que combina acesso √† API da plataforma.  Isso significa que os usu√°rios t√™m acesso program√°tico a praticamente toda a plataforma Netflix via Notebook.  Gra√ßas a essa combina√ß√£o de flexibilidade, pot√™ncia e facilidade de uso, a empresa experimentou um aumento acentuado no uso por todos os tipos de usu√°rios da plataforma. </p><br><p>  Hoje, o notebook √© a ferramenta de dados mais popular da Netflix. </p><br><h2>  Modelos de caderno </h2><br><p>  √Ä medida que o suporte para os notebooks Jupyter se expandia dentro da plataforma, come√ßamos a introduzir novos recursos para us√°-lo para atender a novos cen√°rios de uso.  A partir daqui vieram os laptops parametrizados.  Laptops parametrizados representam exatamente o que o nome diz: um notebook que permite definir par√¢metros no c√≥digo e receber entrada em tempo de execu√ß√£o.  Isso fornece um bom mecanismo para os usu√°rios definirem o notebook como modelos reutiliz√°veis. </p><br><p>  Nossos usu√°rios encontraram muitas maneiras de usar esses padr√µes.  Listamos alguns dos mais usados: <br><br></p><ul><li>  <b>Data Scientist</b> : experimente diferentes coeficientes e resuma os resultados </li><li>  <b>Engenheiro de dados</b> : execute uma cole√ß√£o de auditorias de qualidade de dados como parte do processo de implanta√ß√£o. </li><li>  <b>Analista de dados</b> : compartilhe consultas e visualiza√ß√µes preparadas para que as partes interessadas possam explorar os dados mais profundamente do que o Tableau permite </li><li>  <b>Engenheiro de software</b> : envie os resultados de um script para solucionar problemas de falha </li></ul><br><h2>  Agendamento de notebooks (Agendador) </h2><br><p>  Uma das maneiras originais de usar o Notebook √© criar uma camada de mesclagem para agendar fluxos de trabalho. </p><br><p>  Como cada laptop pode ser executado em um kernel arbitr√°rio, podemos oferecer suporte a qualquer ambiente de tempo de execu√ß√£o definido pelo usu√°rio.  E como os notebooks descrevem um fluxo de execu√ß√£o linear dividido em c√©lulas, podemos relacionar a falha a uma c√©lula espec√≠fica.  Isso permite que os usu√°rios descrevam a execu√ß√£o e as visualiza√ß√µes de uma forma mais narrativa, que pode ser capturada com precis√£o na inicializa√ß√£o em um momento posterior. </p><br><p>  Esse paradigma permite que voc√™ use um laptop para trabalho interativo e alterne suavemente para v√°rias execu√ß√µes e uso do agendador.  O que acabou sendo muito conveniente para os usu√°rios.  Muitos usu√°rios criam fluxos de trabalho inteiros no bloco de anota√ß√µes apenas para duplic√°-los em arquivos separados e execut√°-los no momento certo.  Ao tratar o notebook como uma descri√ß√£o seq√ºencial do processo, podemos agend√°-lo facilmente para execu√ß√£o como qualquer outro fluxo de trabalho. </p><br><p>  Podemos planejar a execu√ß√£o de outros tipos de trabalho atrav√©s de notebooks.  Quando um trabalho Spark ou Presto √© executado a partir do agendador, o c√≥digo-fonte √© inserido no bloco de notas rec√©m-criado e executado.  Este notebook se torna um reposit√≥rio de hist√≥rico contendo c√≥digo-fonte, par√¢metros, configura√ß√µes, logs de execu√ß√£o, mensagens de erro, etc.  Ao solucionar problemas, isso fornece um ponto de partida r√°pido para a investiga√ß√£o, pois todas as informa√ß√µes relevantes est√£o dentro e o notebook pode ser executado para depura√ß√£o interativa. </p><br><h1>  Infraestrutura de notebook </h1><br><p>  O suporte aos cen√°rios descritos acima na escala Netflix requer uma extensa infraestrutura de suporte.  Apresente brevemente v√°rios projetos que ser√£o discutidos nas seguintes se√ß√µes: </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><b>O nteract √© a</b></a> nova gera√ß√£o de UI baseada em React para notebooks Jupyter.  Ele fornece uma interface simples e intuitiva e oferece v√°rios aprimoramentos para a interface do usu√°rio cl√°ssica do Jupyter, como barras de ferramentas de c√©lulas em linha, c√©lulas de arrastar e soltar e um explorador integrado. </p><br><p>  Biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><b>Papermill</b></a> para parametriza√ß√£o, execu√ß√£o e an√°lise de notebooks Jupyter.  Com a ajuda dos quais voc√™ pode propagar v√°rios notebooks com v√°rios par√¢metros e execut√°-los simultaneamente.  O Papermill tamb√©m permite coletar e resumir m√©tricas para uma cole√ß√£o inteira de cadernos. </p><br><p>  <a href=""><b>O Commuter √© um servi√ßo</b></a> leve e verticalmente escal√°vel para visualizar e compartilhar notebooks.  Ele fornece uma vers√£o da API compat√≠vel com Jupyter para conte√∫do e facilita a leitura de notebooks armazenados localmente no Amazon S3.  Tamb√©m oferece um explorador para pesquisar e compartilhar arquivos. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><b>Titus √© uma</b></a> plataforma de gerenciamento de cont√™ineres que fornece lan√ßamento de cont√™iner escal√°vel e confi√°vel e integra√ß√£o nativa da nuvem com o Amazon AWS.  O Titus foi desenvolvido na Netflix e √© usado em combate para oferecer suporte aos sistemas de streaming, recomenda√ß√£o e conte√∫do da Netflix. </p><br><p>  Uma descri√ß√£o mais detalhada da arquitetura pode ser encontrada no artigo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Agendamento de cadernos na Netflix</a> .  Para os fins deste post, nos restringimos aos tr√™s componentes fundamentais do sistema: armazenamento, execu√ß√£o e interface. </p><br><br><img src="https://habrastorage.org/webt/ix/n2/il/ixn2ilrqck4xlxodxzps1siraay.jpeg"><br>  <i>Infraestrutura de notebooks na Netflix</i> <br><br><h2>  Armazenamento </h2><br><p>  A Netflix Data Platform usa armazenamento em nuvem Amazon S3 e EFS, que os notebooks tratam como sistemas de arquivos virtuais.  Isso significa que cada usu√°rio possui um diret√≥rio inicial do EFS contendo um espa√ßo de trabalho pessoal para notebooks.  Nesse espa√ßo, armazenamos qualquer notebook criado ou carregado pelo usu√°rio.  Este tamb√©m √© o local em que a leitura e a grava√ß√£o ocorrem quando o usu√°rio inicia o laptop de forma interativa.  Usamos a combina√ß√£o [espa√ßo de trabalho + nome do arquivo] para o espa√ßo para nome, ou seja,  /efs/users/kylek/notebooks/MySparkJob.ipynb para visualizar, compartilhar e no agendador de execu√ß√£o.  Esse acordo evita colis√µes e facilita a identifica√ß√£o do usu√°rio e da localiza√ß√£o do notebook no EFS. </p><br><p>  O caminho para a √°rea de trabalho permite ignorar a complexidade do armazenamento em nuvem para o usu√°rio.  Por exemplo, apenas os nomes dos arquivos do notebook s√£o exibidos no diret√≥rio, ou seja,  MySparkJob.ipynb.  O mesmo arquivo est√° dispon√≠vel no terminal: ~ / notebooks / MySparkJob.ipynb. </p><br><p><img src="https://habrastorage.org/webt/4a/bu/cs/4abucsxtgasl8fhalvh9jatsm2e.png"><br>  Armazenamento de notebook vs.  acesso </p><br><p>  Quando o usu√°rio define a tarefa de iniciar o bloco de anota√ß√µes, o agendador copia o bloco de anota√ß√µes do usu√°rio do EFS para o diret√≥rio compartilhado no S3.  O notebook no S3 se torna a fonte da verdade para o agendador ou o notebook de origem.  Sempre que o agendador (expedidor) inicia o bloco de notas, ele cria um novo bloco de notas a partir da origem.  Esse novo bloco de anota√ß√µes √© o que realmente inicia e se torna um registro invari√°vel de uma execu√ß√£o espec√≠fica, contendo o c√≥digo execut√°vel, a sa√≠da e os logs de cada c√©lula.  N√≥s o chamamos de notebook de sa√≠da (sa√≠da). </p><br><p>  A cocria√ß√£o √© uma caracter√≠stica fundamental da Netflix.  Portanto, n√£o foi surpreendente quando os usu√°rios come√ßaram a trocar links de URL para notebook.  Com o crescimento dessa pr√°tica, somos confrontados com o problema de reescrita acidental causada pelo acesso simult√¢neo de v√°rios usu√°rios ao mesmo notebook.  Nossos usu√°rios queriam uma maneira de compartilhar seu notebook ativo no modo somente leitura.  Isso levou √† cria√ß√£o do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><b>viajante</b></a> de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><b>bilhete mensal</b></a> .  Sob o cap√¥, o Commuter exibe a API do Jupyter para listar / arquivos e / api / contents em uma lista de diret√≥rios, para exibir o conte√∫do dos arquivos e acessar os metadados do arquivo.  Isso significa que os usu√°rios podem visualizar blocos de anota√ß√µes sem consequ√™ncias para tarefas de combate ou blocos de anota√ß√µes em execu√ß√£o. </p><br><h2>  Computar </h2><br><p>  Gerenciar recursos de computa√ß√£o √© uma das partes mais dif√≠ceis de trabalhar com dados.  Isso √© especialmente verdade no Netflix, onde usamos a arquitetura de cont√™iner altamente escal√°vel na AWS.  Todas as tarefas na plataforma de dados s√£o executadas em cont√™ineres, incluindo consultas, pipelines e notebook.  Naturalmente, quer√≠amos abstrair o m√°ximo poss√≠vel dessa complexidade. </p><br><p>  Um cont√™iner √© fornecido quando o usu√°rio inicia o servidor do notebook.  Fornecemos padr√µes racionais para recursos de cont√™iner que funcionam para ~ 87,3% dos padr√µes de execu√ß√£o.  Quando isso n√£o √© suficiente, os usu√°rios podem solicitar mais recursos usando uma interface simples. </p><br><p><img src="https://habrastorage.org/webt/lv/qd/a7/lvqda7s2wfhpgoegmxq-wufyqqw.png"><br>  Os usu√°rios podem selecionar o m√°ximo ou o m√≠nimo de mem√≥ria + computa√ß√£o que precisarem <br></p><br><p>  Tamb√©m fornecemos um tempo de execu√ß√£o unificado com uma imagem de cont√™iner conclu√≠da.  A imagem possui bibliotecas compartilhadas e um conjunto predefinido de kernels padr√£o.  Nem tudo na imagem √© est√°tico - nossos kernels usam as vers√µes mais recentes do Spark e as √∫ltimas configura√ß√µes de cluster para nossa plataforma.  Isso reduz o tempo de desorganiza√ß√£o e ajuste de novos laptops e geralmente nos mant√©m em um √∫nico ambiente de tempo de execu√ß√£o. </p><br><p>  Sob o cap√¥, gerenciamos a orquestra√ß√£o e os ambientes com o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Titus</a> , nosso servi√ßo de gerenciamento de cont√™iner Docker.  Al√©m disso, criamos um wrapper sobre esse servi√ßo, gerenciando configura√ß√µes e imagens espec√≠ficas do servidor do usu√°rio.  A imagem tamb√©m inclui grupos e fun√ß√µes de seguran√ßa do usu√°rio, bem como vari√°veis ‚Äã‚Äãde ambiente comuns para identifica√ß√£o nas bibliotecas inclu√≠das.  Isso significa que nossos usu√°rios podem gastar menos tempo em infraestrutura e mais tempo em dados. </p><br><h2>  Interface </h2><br><p>  Anteriormente, descrevemos nossa vis√£o de que os notebooks deveriam ser a ferramenta mais eficaz e ideal para trabalhar com dados.  Mas isso apresenta um desafio interessante: como uma interface pode suportar todos os usu√°rios?  N√£o sabemos a resposta exata, mas temos algumas id√©ias. </p><br><p>  Sabemos que a simplicidade √© necess√°ria.  Significa uma interface de usu√°rio intuitiva com um estilo minimalista e tamb√©m requer um UX atencioso que facilita a execu√ß√£o de coisas complexas.  Essa filosofia se encaixa bem nos objetivos do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><b>nteract</b></a> , escritos no frontend do React para o notebook Jupyter.  Ele enfatiza a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">composi√ß√£o</a> como princ√≠pios fundamentais do design, tornando-o uma parte ideal da nossa vis√£o. </p><br><p>  A reclama√ß√£o mais comum de nossos usu√°rios √© a falta de visualiza√ß√£o nativa para todos os idiomas, especialmente para idiomas n√£o-Python. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Data Explorer</a>  nteract ‚Äî        ,        . </p><br><p>    Data Explorer    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> </a>  MyBinder. (    ) </p><br><p><img src="https://habrastorage.org/webt/ox/xs/sw/oxxssw7z57vkebgbdbgtnnm2ido.gif"><br> Visualizing the World Happiness Report dataset with nteract's Data Explorer </p><br><p>      ,     notebook,      . </p><br><p><img src="https://habrastorage.org/webt/jp/tw/a8/jptwa8er0juvuh5ze3mwezv-yxq.gif"><br> Native support for parameterized notebooks in nteract </p><br><p>     Jupyter notebook    ,     .         ,         notebook.     12      ,    .      ,      ,  ,     .        ,    ,    Spark DataFrames,    Scala.          . </p><br><h1> Open Source Projects </h1><br><p> Netflix     .   ,  ,       .        Netflix Data Platform     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Netflix OSS</a> .            ‚ÄúNot Invented Here‚Äù.                 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Spark</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Jupyter</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pandas</a> . </p><br><p> ,   ,     Jupyter Project,        . ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><b>nteract</b></a>   notebook UI  Netflix.       ,        .   ,       Jupyter Notebook, ,    ,   .            nteract. </p><br><p>     ,    Netflix,    . ,   ,    ,         ,    . , Papermill,      . </p><br><hr><br><h1> What's Next ( ) </h1><br><p>    ,   ‚Äì   (Netflixers)     . Notebook      Netflix.         ,       .       ,     . </p><br><p> !       .     ,     notebook.          notebook  Netflix,         .       : <br><br>  I: Notebook Innovation ( ) <br><br>  II: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Scheduling Notebooks</a> </p><br><br>  : <br><br>  Scheduling  workflows     ,       ‚Äî    . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt439272/">https://habr.com/ru/post/pt439272/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt439262/index.html">Implante o c√≥digo diretamente no cont√™iner do docker. Ou como n√£o procrastinar ap√≥s cada confirma√ß√£o</a></li>
<li><a href="../pt439264/index.html">Como gerenciar projetos t√©cnicos complexos sem contratar PMs: experi√™ncia do DataLine</a></li>
<li><a href="../pt439266/index.html">A experi√™ncia de criar um jogo apenas para Android a partir do zero e como foi creditado no Google Play</a></li>
<li><a href="../pt439268/index.html">Como as impress√µes VR, AR e 3D funcionam juntas: experi√™ncia do VR Concept</a></li>
<li><a href="../pt439270/index.html">Um exemplo de an√°lise de c√≥digo C ++ usando libclang em Python</a></li>
<li><a href="../pt439278/index.html">ACS do meu LCD - seguran√ßa em dois parafusos</a></li>
<li><a href="../pt439280/index.html">Traut√¥nio: a onda alem√£ na hist√≥ria dos sintetizadores</a></li>
<li><a href="../pt439282/index.html">Efeitos de filtragem SVG. Parte 1. Filtros SVG 101</a></li>
<li><a href="../pt439286/index.html">Sobre a an√°lise est√°tica com toda a honestidade</a></li>
<li><a href="../pt439288/index.html">SciPy, otimiza√ß√£o</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>