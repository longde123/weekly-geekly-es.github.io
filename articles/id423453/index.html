<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☝🏿 📋 🤱🏻 ZFS dan kecepatan akses disk di hypervisors 🚣🏻 🏁 😁</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Artikel ini menerbitkan hasil pengukuran kecepatan akses ke sistem file di dalam hypervisor dalam berbagai opsi instalasi ZFS. Untuk semua yang tertar...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ZFS dan kecepatan akses disk di hypervisors</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/423453/">  Artikel ini menerbitkan hasil pengukuran kecepatan akses ke sistem file di dalam hypervisor dalam berbagai opsi instalasi ZFS.  Untuk semua yang tertarik, saya minta potongan, saya peringatkan tentang keberadaan sejumlah besar gambar di bawah spoiler (dioptimalkan). <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/io/93/xw/io93xwfrzfhg0kodp0mku-p7s6u.png"><br><br>  Halo semuanya!  Ada banyak materi di jaringan yang dikhususkan untuk sistem file ZFS (selanjutnya disebut FS), pengembangannya di Linux dan aplikasi praktis.  Saya sangat tertarik dengan FS ini dalam rangka meningkatkan server virtualisasi rumah saya (dan juga terima kasih kepada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">kvaps</a> user <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">post</a> ), tetapi saya tidak dapat menemukannya di Internet (mungkin saya terlihat sangat buruk) untuk uji perbandingan kinerja mesin virtual.  Karena itu, saya memutuskan untuk membuat landasan uji untuk studi banding saya. <br><br>  Artikel saya tidak berpura-pura sebagai penemuan ilmiah, tidak mungkin membantu para profesional yang telah bekerja dengan ZFS sejak lama, dan mengetahui semua fitur-fiturnya, tetapi akan membantu pemula untuk memperkirakan perkiraan "harga" dari setiap gigabyte dibagi dengan kinerja. <br><br><img src="https://habrastorage.org/webt/cw/tp/m2/cwtpm2ph_j0je3l7xd-vgbcr9gc.png" alt="gambar"><br><br>  Inti dari percobaan ini adalah sebagai berikut: Proxmox VE 5.2 diinstal pada mesin (setiap kali dari disk boot).  Selama instalasi, salah satu opsi XFS / ZFS dipilih.  Setelah itu, mesin virtual dibuat di mana Windows Server 2008 R2 diinstal, setelah itu utilitas CrystalDiskMark 5.2.2 populer diluncurkan dan tes dijalankan pada volume 1, 4, <s>32 GiB</s> (karena hilangnya gambar dengan hasil 32 tes GiB, Anda tidak dapat menggunakannya saat memilih solusi, data yang tersedia disediakan untuk ekstra). <br><br>  Tes XFS FS digunakan untuk mengukur kecepatan referensi satu HDD (mungkin ini salah, tapi saya tidak memikirkan opsi lain untuk mengevaluasinya). <br><br>  Pengujian ZFS RAID 0, RAID 1 dilakukan pada dua disk yang dipilih secara acak, ZFS RaidZ1 pada 3 disk, ZFS RAID 10, RaidZ2 pada 4 disk.  Pengujian dengan ZFS RaidZ3 tidak dilakukan karena kurangnya keinginan untuk membeli HDD 500GB yang sangat ekonomis. <br><br>  Di bawah spoiler, saya akan menjelaskan secara singkat masing-masing jenis ZFS RAID dengan contoh saya tentang volume yang diterima dari gigabyte "komersial": <br><br><div class="spoiler">  <b class="spoiler_title">RAID ZFS</b> <div class="spoiler_text">  2 disc: <br><br><ul><li>  ZFS RAID 0 - Bergaris, 2 * DiskSize = 1000GB. </li><li>  ZFS RAID 1 - mirroring (Mirror), volume 1 * DiskSize = 500GB. </li></ul><br>  3 disc: <br><br><ul><li>  ZFS RaidZ1 - alias ZFS RaidZ, analog dari RAID5, volume (N - 1) * DiskSize = 1000GB. </li></ul><br>  4 disc: <br><br><ul><li>  ZFS RAID 10 - Cermin Bergaris, 2 * DiskSize = 1000GB. </li><li>  ZFS RaidZ2 - analog RAID6, jumlah (N - 2) * DiskSize = 1000GB. </li><li>  pada saat yang sama, saya tidak melakukan tes seperti itu, tetapi ZFS RaidZ1 dengan 4 disk = 1500GB. </li></ul><br>  Esensinya sangat jelas di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> .  Dan juga berapa banyak disk yang boleh hilang, menyimpan informasinya. <br></div></div><br>  Saya ingin mencatat bahwa selain kecepatan akses yang berbeda dari sistem file, kita masih perlu memperhitungkan volume total dari array yang dihasilkan, dan keandalan keamanan data, dalam kasus kegagalan hard drive. <br><br>  Karakteristik teknis platform, (kemungkinan) mempengaruhi hasil pengujian: <br><br><ul><li>  Motherboard: Intel Desktop Board DS67SQ-B3; </li><li>  Prosesor: Intel Pentium G630 2.7GHz; </li><li>  RAM: 2 x 4096Mb Hynix PC3-10700; </li><li>  Hard drive: 3 x WD 5000AZRX 500GB SATA 64MB Cache, 1 x WD 5000AZRZ 500GB SATA 64MB Cache, SSD SATA Goldenfir T650-8GB; </li><li>  Catu Daya: DeepCool DA500N 500W. </li></ul><br>  Mesin virtual (KVM) untuk pengujian dialokasikan 4GB RAM, 1 inti prosesor, Virtio Block 100GB hard drive. <br><br><img src="https://habrastorage.org/webt/q9/mx/86/q9mx86d_t8ffn4bvbsynchogabg.png"><br><br>  Untuk sistem yang diinstal pada ZFS, 2 tes dilakukan, yang kedua, SSD terhubung sebagai drive cache. <br><br>  Semua hasil disajikan sebagai tangkapan layar di bawah ini.  Jika ada yang memiliki keinginan untuk mendigitalkan hasil ini, saya akan berterima kasih dan memasukkan hasil pekerjaan dalam artikel. <br><br><div class="spoiler">  <b class="spoiler_title">Xfs</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ay/la/a2/aylaa21icnmonx0t6tyq0k9hjlg.png"><br><img src="https://habrastorage.org/webt/xt/zp/y0/xtzpy0w4q7yh3897pgsl71lhcso.png"><br><img src="https://habrastorage.org/webt/_m/xk/ey/_mxkeylxdlnybd05j3qcdfbcbv0.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">ZFS RAID 0</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/1e/tl/dy/1etldytbqlnhmh_7-tz-3ic81oa.png"><br><img src="https://habrastorage.org/webt/5f/i_/ru/5fi_ruurkwiffmdx61uybbpdd-w.png"><br></div></div><div class="spoiler">  <b class="spoiler_title">ZFS RAID 0 + cache</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/sb/nd/tj/sbndtjiv-hnc2kew7asvixqpobu.png"><br><img src="https://habrastorage.org/webt/oh/b7/yr/ohb7yrzfcedod5z_myjon8ocrtk.png"><br><img src="https://habrastorage.org/webt/xf/ji/ze/xfjizerc9-w2gqal-hmm5qkdzgu.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">ZFS RAID 1</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/yf/fe/64/yffe64pup3scltlsasvrhmyf08g.png"><br><img src="https://habrastorage.org/webt/9c/rf/pc/9crfpcyxgsuzffb_jvpv8ofbzv8.png"><br></div></div><div class="spoiler">  <b class="spoiler_title">ZFS RAID 1 + cache</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/wn/ib/u2/wnibu2g9lixtd7yibfd5upbvm0o.png"><br><img src="https://habrastorage.org/webt/s9/-v/tz/s9-vtzupnmzne6befyliubnpb4o.png"><br><img src="https://habrastorage.org/webt/ii/m3/-4/iim3-49apwe6iipwprs8uuas7tk.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">ZFS RAID 10</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/p-/gz/mm/p-gzmmaza6gppylaqroli4v3pau.png"><br><img src="https://habrastorage.org/webt/-e/d5/jq/-ed5jqimnwzi0dpclqwsaaoarry.png"><br><img src="https://habrastorage.org/webt/q_/hn/k5/q_hnk5guiajjytdlr1zckwpbpkm.png"><br></div></div><div class="spoiler">  <b class="spoiler_title">ZFS RAID 10 + cache</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/hh/dl/g6/hhdlg6ccn0ftw61d3wo-1ko1gjy.png"><br><img src="https://habrastorage.org/webt/as/7e/ff/as7eff7569ocbpumlqanobdpd-g.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">ZFS RaidZ1</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/yr/bh/fd/yrbhfdinmncnp24l6vmqmnkuwio.png"><br><img src="https://habrastorage.org/webt/pu/uu/i7/puuui7qrfwpvrxlfadpomg9wqbk.png"><br></div></div><div class="spoiler">  <b class="spoiler_title">ZFS RaidZ1 + cache</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/5q/_d/ri/5q_dril_hulqtmgjosmu4cw7s1a.png"><br><img src="https://habrastorage.org/webt/jy/vr/0b/jyvr0bcpkegqsnsszxh4lr_df3s.png"><br><img src="https://habrastorage.org/webt/wl/hr/q-/wlhrq-aabvduwqy05zxj8a79m-u.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">ZFS RaidZ2</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/5e/dv/f3/5edvf3wgrt7oqril5plkbjmqkqq.png"><br><img src="https://habrastorage.org/webt/p1/ar/lr/p1arlrbte_bh9qan_budkbncv5w.png"><br></div></div><div class="spoiler">  <b class="spoiler_title">ZFS RaidZ2 + cache</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/dq/ih/pf/dqihpf02po3twpdlnkiqcpvpbem.png"><br><img src="https://habrastorage.org/webt/63/es/gl/63esglusobuwce65bj0n8buvmro.png"><br></div></div><br>  Terima kasih kepada semua orang yang menaruh perhatian, semoga sampel ini bermanfaat bagi seseorang. <br><br>  <b>PS</b> Untuk beberapa alasan saya tidak mengerti, beberapa gambar menghilang di suatu tempat, pengukuran dilakukan pada akhir musim semi, platform uji tidak dapat dirakit dalam bentuk itu, untungnya mereka semua jatuh pada tes dengan 32 GiB. <br><br>  <b>PPS</b> Saya tidak mencoba mengiklankan organisasi dan / atau produk perangkat lunak apa pun, saya tidak memiliki tujuan untuk melanggar perjanjian lisensi, jika saya salah di suatu tempat, silakan tulis dalam pesan pribadi. <br><br>  <b>PPPS</b> Gambar logo ZFS adalah reproduksi. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id423453/">https://habr.com/ru/post/id423453/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id423437/index.html">Intisari materi menarik untuk pengembang ponsel # 270 (pada 10 - 16 September)</a></li>
<li><a href="../id423439/index.html">Laporan Club of Rome 2018, Bab 2.6: “Kesalahan Filsafat Doktrin Pasar”</a></li>
<li><a href="../id423441/index.html">Ikatan pertama untuk Exonum: mengapa kami memilih Java</a></li>
<li><a href="../id423445/index.html">Membuat struktur toko online: skema kategori</a></li>
<li><a href="../id423447/index.html">GLPH: Podcast Pemasaran Konten Baru</a></li>
<li><a href="../id423455/index.html">Tablet yang benar</a></li>
<li><a href="../id423457/index.html">Timlid bekerja pada 2018</a></li>
<li><a href="../id423459/index.html">Perbedaan antara Phoenix dan Rails melalui mata seorang mualaf</a></li>
<li><a href="../id423461/index.html">Musim gugur suborbital</a></li>
<li><a href="../id423463/index.html">Seperti yang kami tulis algoritma analisis RFM lain</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>