<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßõüèæ ‚û∞ üßìüèΩ Segmentaci√≥n Respiratoria Autom√°tica ‚ù§Ô∏è üíÜ ‚òÇÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La segmentaci√≥n manual de los pulmones dura unos 10 minutos y requiere cierta habilidad para obtener el mismo resultado de alta calidad que con la seg...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Segmentaci√≥n Respiratoria Autom√°tica</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/inobitec/blog/458268/"><p>  La segmentaci√≥n manual de los pulmones dura unos 10 minutos y requiere cierta habilidad para obtener el mismo resultado de alta calidad que con la segmentaci√≥n autom√°tica.  La segmentaci√≥n autom√°tica tarda unos 15 segundos. </p><br><p>  Supuse que sin una red neuronal, ser√≠a posible obtener una precisi√≥n no superior al 70%.  Tambi√©n suger√≠ que las operaciones morfol√≥gicas solo est√°n preparando una imagen para algoritmos m√°s complejos.  Pero como resultado del procesamiento de esas al menos unas 40 muestras tomogr√°ficas que est√°n disponibles, el algoritmo seleccion√≥ los pulmones sin errores, y despu√©s de la prueba en los primeros cinco casos, el algoritmo no experiment√≥ cambios significativos y desde la primera aplicaci√≥n funcion√≥ correctamente en los 35 estudios restantes sin cambio ajustes </p><br><p>  Las redes neuronales tambi√©n tienen un signo negativo: para su entrenamiento necesita cientos de muestras de entrenamiento de los pulmones, que deber√°n etiquetarse manualmente. </p><br><p><img src="https://habrastorage.org/webt/fg/uv/-r/fguv-r_mn7ybraf34p_1ybbphwa.jpeg"></p><a name="habracut"></a><br><h1>  Contenido </h1><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">La estructura del sistema respiratorio.</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Escala Hounsfield</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Morfolog√≠a matem√°tica</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Algoritmo de Lee y Compresi√≥n RLE</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Umbral de conversi√≥n de volumen base</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Recorte de aire externo</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Destacando el objeto m√°ximo en volumen</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Cierre vascular dentro de los pulmones.</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Algoritmo de segmentaci√≥n respiratoria</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Implementaci√≥n del algoritmo en MATLAB</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Conclusi√≥n</a> </li></ul><br><h1 id="paragraph1">  La estructura del sistema respiratorio. </h1><br><p> El sistema respiratorio incluye las v√≠as respiratorias y los pulmones.  Asignar el tracto respiratorio superior e inferior.  El punto de separaci√≥n entre el tracto respiratorio superior e inferior es el punto de intersecci√≥n de los canales respiratorios y alimenticios.  Todo encima de la laringe es la secci√≥n superior, y el resto es inferior. </p><br><p>  Enumeramos los √≥rganos respiratorios: <br>  <strong>Cavidad nasal</strong> : nariz, senos maxilares, etc. <br>  <strong>La faringe</strong> es el canal a trav√©s del cual viajan los alimentos y el aire. <br>  <strong>Laringe</strong> : responsable de la formaci√≥n de la voz.  Ubicado a nivel de las v√©rtebras cervicales C4-C6. <br>  <strong>Tr√°quea</strong> : un tubo que conecta la laringe y los bronquios. <br>  <strong>Los bronquios</strong> son los canales respiratorios, la mayor√≠a de los cuales se encuentran dentro de los pulmones. <br>  <strong>Los pulmones</strong> son el principal √≥rgano respiratorio. </p><br><p><img src="https://habrastorage.org/webt/yx/ju/sp/yxjuspnur3gwm3ghxhqv50upj9i.png"></p><br><h1 id="paragraph2">  Escala Hounsfield </h1><br><p>  Godfrey Hounsfield es un ingeniero el√©ctrico brit√°nico que, junto con el te√≥rico estadounidense Allan Cormack, desarroll√≥ la tomograf√≠a computarizada, por la cual recibi√≥ el Premio Nobel en 1979. </p><br><p><img src="https://habrastorage.org/webt/jv/bl/ho/jvblho_x-0woitx02gbfjuxxhju.jpeg"></p><br><p>  Escala de Hounsfield: una escala cuantitativa de densidad de rayos X que se mide en unidades de Hounsfield, denotada por HU. </p><br><p>  La densidad de rayos X se calcula sobre la base del coeficiente de atenuaci√≥n de la sustancia, es decir, el grado de disminuci√≥n de la potencia de radiaci√≥n al pasar a trav√©s de esta sustancia. </p><br><p>  La densidad de rayos X se calcula mediante la f√≥rmula: </p><br><p><math> </math> $$ display $$ {Œº_ {X} -Œº_ {water} \ over Œº_ {water} -Œº_ {air}} \ times 1000 $$ display $$ </p><br><p>  donde <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x3BC;</mo></mrow><mi>X</mi></msub><mo>,</mo><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x3BC;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>a</mi><mi>g</mi><mi>u</mi><mi>a</mi></mrow></msub><mo>,</mo><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x3BC;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>a</mi><mi>i</mi><mi>r</mi><mi>e</mi></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="14.783ex" height="2.298ex" viewBox="0 -520.7 6364.9 989.6" role="img" focusable="false" style="vertical-align: -1.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhhGC6QTjzknAfrKhCdImCS7bUPSjQ#MJMATHI-3BC" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhhGC6QTjzknAfrKhCdImCS7bUPSjQ#MJMATHI-58" x="853" y="-357"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhhGC6QTjzknAfrKhCdImCS7bUPSjQ#MJMAIN-2C" x="1306" y="0"></use><g transform="translate(1751,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhhGC6QTjzknAfrKhCdImCS7bUPSjQ#MJMATHI-3BC" x="0" y="0"></use><g transform="translate(603,-253)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhhGC6QTjzknAfrKhCdImCS7bUPSjQ#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhhGC6QTjzknAfrKhCdImCS7bUPSjQ#MJMATHI-67" x="529" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhhGC6QTjzknAfrKhCdImCS7bUPSjQ#MJMATHI-75" x="1010" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhhGC6QTjzknAfrKhCdImCS7bUPSjQ#MJMATHI-61" x="1582" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhhGC6QTjzknAfrKhCdImCS7bUPSjQ#MJMAIN-2C" x="3948" y="0"></use><g transform="translate(4393,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhhGC6QTjzknAfrKhCdImCS7bUPSjQ#MJMATHI-3BC" x="0" y="0"></use><g transform="translate(603,-253)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhhGC6QTjzknAfrKhCdImCS7bUPSjQ#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhhGC6QTjzknAfrKhCdImCS7bUPSjQ#MJMATHI-69" x="529" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhhGC6QTjzknAfrKhCdImCS7bUPSjQ#MJMATHI-72" x="874" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhhGC6QTjzknAfrKhCdImCS7bUPSjQ#MJMATHI-65" x="1326" y="0"></use></g></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mo>Œº</mo></mrow><mi>X</mi></msub><mo>,</mo><msub><mrow class="MJX-TeXAtom-ORD"><mo>Œº</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi>a</mi><mi>g</mi><mi>u</mi><mi>a</mi></mrow></msub><mo>,</mo><msub><mrow class="MJX-TeXAtom-ORD"><mo>Œº</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi>a</mi><mi>i</mi><mi>r</mi><mi>e</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-2"> Œº_X, Œº_ {agua}, Œº_ {aire} </script>  - coeficientes de atenuaci√≥n lineal para la sustancia medida, agua y aire. </p><br><p>  La densidad de rayos X es negativa porque la densidad cero de rayos X corresponde al agua.  Esto significa que todas las sustancias a trav√©s de las cuales pasan las ondas de rayos X con una disminuci√≥n menor en la potencia de radiaci√≥n que a trav√©s del agua (por ejemplo, tejido pulmonar, aire) tendr√°n una densidad de rayos X negativa. </p><br><p>  Las siguientes son densidades aproximadas de rayos X para varios tejidos: </p><br><ul><li>  Aire: -1000 HU. </li><li>  √ìrganos respiratorios: -950 a -300 HU. </li><li>  Sangre (sin contraste vascular): 0 a 100 HU. </li><li>  Huesos: 100 a 1000 HU. </li></ul><br><p><img src="https://habrastorage.org/webt/n5/o9/5w/n5o95wjj7avpy456i33a4swu_y4.png"></p><br><p>  Enlaces de Wikipedia: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">escala Hounsfield</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Godfrey Hounsfield</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">coeficiente de atenuaci√≥n</a> . </p><br><h1 id="paragraph3">  Morfolog√≠a matem√°tica </h1><br><p>  El lugar principal entre los algoritmos seleccionados en este art√≠culo est√° ocupado por operaciones morfol√≥gicas. </p><br><p>  En el campo de la visi√≥n por computadora, las operaciones morfol√≥gicas llaman a un grupo de algoritmos para transformar la forma de los objetos.  Muy a menudo, las operaciones morfol√≥gicas se aplican a im√°genes binarizadas, donde los v√≥xeles de los objetos corresponden a unidades y el vac√≠o a ceros. </p><br><p>  Las principales operaciones morfol√≥gicas incluyen: </p><br><p>  <strong>Dilataci√≥n morfol√≥gica (dilataci√≥n, expansi√≥n)</strong> : agregar nuevos v√≥xeles a todos los v√≥xeles de los bordes de los objetos.  Es decir, a lo largo de todos los v√≥xeles de l√≠mites, se hace un pasaje con un n√∫cleo con una forma dada (bola, cubo, cruz, etc.).  Esta operaci√≥n se usa a menudo para conectar muchos objetos adyacentes en un solo objeto. </p><br><p>  <strong>Erosi√≥n morfol√≥gica (erosi√≥n, erosi√≥n)</strong> : la destrucci√≥n de todos los v√≥xeles que se encuentran en el borde de los objetos.  Esta operaci√≥n es lo opuesto a la dilataci√≥n.  Esta operaci√≥n es √∫til para eliminar el ruido en forma de muchos objetos peque√±os interconectados.  Sin embargo, este m√©todo de eliminaci√≥n de ruido debe usarse solo si el objeto segmentado tiene un espesor significativamente mayor que el radio de erosi√≥n. </p><br><p>  <strong>El cierre morfol√≥gico</strong> es una dilataci√≥n seguida de erosi√≥n.  Se utiliza para cerrar aberturas dentro de objetos y para combinar objetos adyacentes. </p><br><p>  <strong>La apertura morfol√≥gica (apertura)</strong> es erosi√≥n seguida de dilataci√≥n.  Se utiliza para eliminar peque√±os objetos de ruido y para dividir objetos en varios objetos. </p><br><p><img src="https://habrastorage.org/webt/bv/kd/fv/bvkdfvdijxabpqjpbgrlw5pwdz4.gif"><img src="https://habrastorage.org/webt/7w/ft/h0/7wfth0jdj6img3nvemmktkysboq.gif"></p><br><h1 id="paragraph4">  Algoritmo de Lee y Compresi√≥n RLE </h1><br><p>  Para aislar objetos en un volumen de v√≥xeles binarizado, se utiliza el algoritmo de Lee.  Este algoritmo se invent√≥ originalmente para encontrar el camino m√°s corto.  Pero lo usamos para seleccionar y mover objetos de un conjunto tridimensional de v√≥xeles a otro.  Su esencia es el movimiento paralelo en todas las direcciones posibles desde el punto de partida.  Para el caso tridimensional, son posibles 26 o 6 direcciones de movimiento desde un v√≥xel dado (si el v√≥xel no se encuentra en el borde de la imagen). </p><br><p>  Para optimizar la velocidad, utilizamos el algoritmo de codificaci√≥n de longitud de ejecuci√≥n.  Su esencia radica en el hecho de que las secuencias de unos y ceros se reemplazan por un d√≠gito igual al n√∫mero de elementos en la secuencia.  Por ejemplo, la cadena "00110111" se puede reemplazar como: "2; 2; 1; 3".  Esto reduce el n√∫mero de accesos a la memoria. </p><br><p><img src="https://habrastorage.org/webt/if/kr/h6/ifkrh6br6sgi65g8sowexfxxsis.gif"><img src="https://habrastorage.org/webt/9f/rr/nc/9frrncdin9axwhdwgad8vndnlqy.gif"></p><br><p>  Enlaces de Wikipedia: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">algoritmo</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Lee</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">, algoritmo RLE</a> . </p><br><h1 id="paragraph5">  Umbral de conversi√≥n de volumen base </h1><br><p>  Usando un tom√≥grafo, se obtuvieron datos sobre la densidad de rayos X en cada punto del espacio.  Los v√≥xeles de aire tienen una densidad de rayos X que var√≠a de -1100 a -900 HU, y los v√≥xeles de los √≥rganos respiratorios de -900 a -300 HU.  Por lo tanto, podemos eliminar todos los v√≥xeles en exceso que tengan una densidad de rayos X mayor que -300 HU.  Como resultado, obtenemos un volumen de v√≥xel binarizado que contiene solo √≥rganos respiratorios y aire. </p><br><p><img src="https://habrastorage.org/webt/di/lv/ss/dilvssyv2do2rvjlbb3xov798rw.gif"></p><br><h1 id="paragraph6">  Recorte de aire externo </h1><br><p>  Para aislar el aire interno del cuerpo, eliminaremos todos los objetos adyacentes a las esquinas de la escena del v√≥xel.  As√≠ nos deshacemos del aire externo. </p><br><p><img src="https://habrastorage.org/webt/c_/es/dj/c_esdje-omegb-i31quh2tslaoi.png"></p><br><p>  Sin embargo, no en todos los casos se eliminar√° el aire dentro de la mesa del tom√≥grafo, ya que puede no tener una conexi√≥n con las esquinas de la escena. </p><br><p><img src="https://habrastorage.org/webt/mu/m1/bi/mum1bidj1at0nvceitxh5jtzqs4.png"></p><br><p>  Por lo tanto, escanearemos no solo las esquinas, sino tambi√©n todos los v√≥xeles que se encuentran en cualquiera de los planos fronterizos de la escena.  Pero como resultado, por alguna raz√≥n, los pulmones tambi√©n se fueron.  Resulta que la tr√°quea tambi√©n ten√≠a una conexi√≥n con el plano superior de la escena. </p><br><p><img src="https://habrastorage.org/webt/fu/zb/3b/fuzb3bzxnvxvofjz-mxoelly5w4.gif"></p><br><p>  Es necesario excluir el plano superior de la zona de escaneo.  Tambi√©n hay estudios en los que los pulmones no se capturaron por completo y el plano inferior est√° asociado con los pulmones.  Entonces, si se desea, el plano inferior tambi√©n puede ser excluido. </p><br><p><img src="https://habrastorage.org/webt/uf/ja/mb/ufjambvoavwiks-09hms7wc02lg.png"></p><br><p>  Pero este m√©todo solo act√∫a en estudios de mama.  En el caso de capturar el volumen completo del cuerpo, aparecer√° una conexi√≥n entre el aire interno y externo a trav√©s de la cavidad nasal en la imagen.  Por lo tanto, es necesario aplicar erosi√≥n morfol√≥gica para separar el aire interno y externo. </p><br><p><img src="https://habrastorage.org/webt/fu/rq/26/furq26oo1ozjtnxrzu1ahknvjk4.gif"></p><br><p>  Despu√©s de aplicar la erosi√≥n, podemos volver al m√©todo previamente obtenido de segmentaci√≥n del aire externo basado en la proximidad a los planos laterales de la escena. </p><br><p><img src="https://habrastorage.org/webt/yj/i7/nh/yji7nhiveqpxbky3_qgj9b6n0zq.png"></p><br><p>  Al aislar el aire externo, uno puede sacarlo inmediatamente del volumen total de aire y pulmones y obtener el aire interno del cuerpo y los pulmones.  Pero hay un problema.  Despu√©s de la erosi√≥n, se perdi√≥ parte de la informaci√≥n sobre el aire exterior.  Para restaurarlo, aplicamos la dilataci√≥n del aire externo. </p><br><p><img src="https://habrastorage.org/webt/vn/tu/ns/vntunsho-og3pm1at7dqi3_ltna.gif"></p><br><p>  Luego, restamos el aire externo de todos los √≥rganos respiratorios y de aire y obtenemos el aire interno y los √≥rganos respiratorios. </p><br><p><img src="https://habrastorage.org/webt/fr/hx/df/frhxdfz7ax9fz-ps7x9zjrlgiqo.png"></p><br><p><img src="https://habrastorage.org/webt/64/hd/2i/64hd2ivbfu5g-d2yjjqkx5kv8pe.png"></p><br><h1 id="paragraph7">  Destacando el objeto m√°ximo en volumen </h1><br><p>  A continuaci√≥n, seleccionamos los √≥rganos respiratorios como el objeto m√°s grande en volumen.  Los √≥rganos respiratorios son un objeto separado.  No hay conexi√≥n entre los pulmones y el aire dentro del tracto gastrointestinal. </p><br><p><img src="https://habrastorage.org/webt/7l/gt/bd/7lgtbdfvf0st73wqzlacvax1r-0.png"><img src="https://habrastorage.org/webt/5d/ce/8u/5dce8urp2qvopyat905ex9y_qqs.png"></p><br><p>  Vale la pena se√±alar que la elecci√≥n correcta del umbral de densidad de rayos X en el paso inicial de la transformaci√≥n del umbral es importante.  De lo contrario, en algunos casos, puede no haber una conexi√≥n entre los dos pulmones como resultado de la baja resoluci√≥n.  Por ejemplo, si considera que los v√≥xeles de los √≥rganos respiratorios tienen una densidad de rayos X de -500 HU o menos, entonces, en el caso a continuaci√≥n, la asignaci√≥n de los √≥rganos respiratorios como el objeto m√°s grande en volumen conducir√° a un error, ya que no hay conexi√≥n entre los dos pulmones.  Por lo tanto, el umbral debe aumentarse a -300 HU. </p><br><p><img src="https://habrastorage.org/webt/jr/mi/m2/jrmim2de5siht6zo2nhoz8l1e5e.png"></p><br><h1 id="paragraph8">  Cierre vascular dentro de los pulmones. </h1><br><p>  Para capturar los vasos dentro de los pulmones, usamos cierre morfol√≥gico, es decir, dilataci√≥n seguida de erosi√≥n con el mismo radio.  La densidad de rayos X de los vasos es de aproximadamente -100..100 HU. </p><br><p><img src="https://habrastorage.org/webt/dz/oc/f0/dzocf0ejl-ckqqlsrbhhelo9p1u.png"><br>  Los vasos sangu√≠neos grandes no se cerraron.  Pero esto no es necesario.  El prop√≥sito de esta operaci√≥n era destruir muchos agujeros peque√±os dentro de los pulmones para facilitar una mayor segmentaci√≥n pulmonar. </p><br><h1 id="paragraph9">  Algoritmo de segmentaci√≥n respiratoria </h1><br><p>  Como resultado, obtenemos el siguiente algoritmo de segmentaci√≥n de √≥rganos respiratorios: </p><br><ol><li>  Umbral de conversi√≥n de volumen base por umbral &lt;-300 HU. </li><li>  Erosi√≥n morfol√≥gica con un radio de 3 mm para la separaci√≥n del aire externo e interno. </li><li>  La asignaci√≥n de aire externo sobre la base de la proximidad a los planos laterales lim√≠trofes de la escena del v√≥xel. </li><li>  Dilataci√≥n morfol√≥gica del aire externo para restaurar la informaci√≥n perdida como resultado de la erosi√≥n. </li><li>  Resta de aire externo de todos los √≥rganos respiratorios y de aire para obtener aire interno y √≥rganos respiratorios. </li><li>  Destacando el objeto m√°ximo en volumen. </li><li>  Cierre morfol√≥gico de los vasos sangu√≠neos dentro de los pulmones. </li></ol><br><p><img src="https://habrastorage.org/webt/0z/d5/0j/0zd50js0yyqxagy_sgsp2wjyu8o.png"></p><br><h1 id="paragraph10">  Implementaci√≥n del algoritmo en MATLAB </h1><br><h3 id="metod-getrespiratoryorgans">  M√©todo GetRespiratoryOrgans </h3><br><pre><code class="matlab hljs"><span class="hljs-comment"><span class="hljs-comment">%      (    ) %      . % V =         . % cr =    . % ci =      (, 3  %      3   . function RO = getRespiratoryOrgans(V,cr,ci) %     %   &lt; -300 HU. AL=~imbinarize(V,-300); %    3   %     . SE=strel('sphere',3); EAL=imerode(AL,SE); %       %      . EA=getExternalAir(EAL); %      %      . DEA=EA; for i=1:4 DEA=imdilate(DEA,SE); DEA=DEA&amp;AL; end %         %        . IAL=AL-DEA; %     . RO=getMaxObject(IAL); %     . RO=closeVoxelVolume(RO,3,2);</span></span></code> </pre> <br><h3 id="metod-getexternalair">  M√©todo GetExternalAir </h3><br><pre> <code class="matlab hljs"><span class="hljs-comment"><span class="hljs-comment">%  ,       % (  ,     %    ). % EAL =      . function EA = getExternalAir(EAL) %  bwlabeln  :   %    ,  ‚Äì    .. V=bwlabeln(EAL); %    ,    %     . R=regionprops3(V,'BoundingBox','VoxelList'); n=height(R); %  3-D      . s=size(EAL); EA=zeros(s,'logical'); %        %    ,   . for i=1:n %   x  y,    %  . x0=R(i,1).BoundingBox(1); y0=R(i,1).BoundingBox(2); x1=x0+R(i,1).BoundingBox(4); y1=y0+R(i,1).BoundingBox(5); %        %  ,       %   EA. if (x0 &lt; 1 || x1 &gt; s(1)-1 || y0 &lt; 1 || y1 &gt; s(2)-1) %        %  : [[x1 y1 z1][x2 y2 z3] ‚Ä¶ [xn yn zn]]. mat=cell2mat(R(i,2).VoxelList); ms=size(mat); %  ,    . for j=1:ms(1) x=mat(j,2); y=mat(j,1); z=mat(j,3); EA(x,y,z)=1; end end end</span></span></code> </pre> <br><h3 id="metod-getmaxobject">  M√©todo GetMaxObject </h3><br><pre> <code class="matlab hljs"><span class="hljs-comment"><span class="hljs-comment">%        "V". % O =    . % m =    . function [O,m] = getMaxObject(V) %  . V=bwlabeln(V); %        %  . R=regionprops3(V,'Volume','VoxelList'); %      . v=R(:,1).Volume; [m,i]=max(v); %  3-D      % . s=size(V); O=zeros(s,'logical'); %       . mat=cell2mat(R(i,2).VoxelList); ms=size(mat); for j=1:ms(1) x=mat(j,2); y=mat(j,1); z=mat(j,3); O(x,y,z)=1; end</span></span></code> </pre> <br><p>  El c√≥digo fuente se puede descargar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . </p><br><h1 id="paragraph11">  Conclusi√≥n </h1><br><p>  Se planean los siguientes art√≠culos: </p><br><ol><li>  segmentaci√≥n de la tr√°quea y los bronquios; </li><li>  segmentaci√≥n de los pulmones; </li><li>  segmentaci√≥n de los l√≥bulos de los pulmones. </li></ol><br><p>  Algoritmos como: </p><br><ol><li>  transformaci√≥n de distancia; </li><li>  transformaci√≥n vecina m√°s cercana (transformaci√≥n vecina m√°s cercana, tambi√©n conocida como transformaci√≥n de caracter√≠sticas); </li><li>  c√°lculo de valores propios de la matriz de Hesse para la segmentaci√≥n de objetos planos en 3D; </li><li>  segmentaci√≥n por la segmentaci√≥n de la cuenca. </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/458268/">https://habr.com/ru/post/458268/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../458252/index.html">Modelo matem√°tico de un radiotelescopio superlargo</a></li>
<li><a href="../458256/index.html">¬øNo es hora de lavar el cerebro?</a></li>
<li><a href="../458260/index.html">Otra forma de optimizar las im√°genes de Docker para aplicaciones Java</a></li>
<li><a href="../458262/index.html">Dise√±ador en l√≠nea de la sala de reuniones: selecci√≥n de la soluci√≥n √≥ptima para la videoconferencia</a></li>
<li><a href="../458264/index.html">10 principios del c√≥digo autodocumentado</a></li>
<li><a href="../458270/index.html">Acerca de los errores que aparecen de la nada y en los que no hay nadie a quien culpar: el fen√≥meno de la falta de responsabilidad</a></li>
<li><a href="../458272/index.html">Gosh! para viajeros: la historia del proyecto de una casa</a></li>
<li><a href="../458276/index.html">Se desarroll√≥ la primera simulaci√≥n del Universo basada en IA. Una red neuronal hace su trabajo tan bien que incluso es raro.</a></li>
<li><a href="../458278/index.html">C√≥mo los hackers usan Microsoft Excel contra s√≠ mismo</a></li>
<li><a href="../458280/index.html">Otro paso hacia el final de la Ley de Moore</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>