<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¥ ğŸŒ” ğŸ“ Die Zukunft von Kubernetes liegt bei virtuellen Maschinen ğŸš¡ ğŸ•š ğŸ‘‡ğŸ¾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wahrsagerei 

 Kubernetes hat in meiner Arbeit bereits eine wichtige Rolle gespielt und wird in Zukunft noch wichtiger. Aber 2018 neigt sich dem Ende ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Die Zukunft von Kubernetes liegt bei virtuellen Maschinen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/434756/">  <b>Wahrsagerei</b> <br><br>  Kubernetes hat in meiner Arbeit bereits eine wichtige Rolle gespielt und wird in Zukunft noch wichtiger.  Aber 2018 neigt sich dem Ende zu. Vergessen Sie also die Bescheidenheit und machen Sie eine kÃ¼hne Vorhersage: <br><blockquote>  <b>Die Zukunft von Kubernetes sind virtuelle Maschinen, keine Container</b> </blockquote>  Nach dem chinesischen Horoskop war 2018 das Jahr des Hundes, aber in der Technologie war es das Jahr der Kubernetes.  Viele lernen gerade etwas Ã¼ber diese revolutionÃ¤re Technologie, und IT-Abteilungen Ã¼berall versuchen, eine â€Kubernetes-Strategieâ€œ zu entwickeln [1].  Einige Organisationen haben bereits groÃŸe Workloads auf Kubernetes Ã¼bertragen. <br><br>  <i>[1] Wenn Sie versuchen, eine Kubernetes-Strategie zu entwickeln, sind Sie bereits gescheitert, dies ist jedoch ein Thema fÃ¼r einen anderen Artikel.</i> <br><a name="habracut"></a><br>  Mit anderen Worten, bei Kubernetes gibt es bei jedem Schritt des â€Gartner Sensation Cycleâ€œ viele Menschen.  Einige stecken in einer HÃ¶hle der EnttÃ¤uschung fest oder ertrinken in einer Grube der Verzweiflung. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2d1/1c3/5cc/2d11c35cc85a9c572e535142bf018277.png"><br>  <i><font color="gray">Jeremykemp, <a href="">Wikipedia</a> .</font></i>  <i><font color="gray"><a href="">Creative Commons CC BY-SA 3.0</a></font></i> <br><br>  Ich bin ein groÃŸer Fan von Containern und ich werde nicht sagen, dass <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Container tot sind</a> .  2013 gab uns Docker eine Shell fÃ¼r Linux-Container: eine erstaunliche neue MÃ¶glichkeit, Anwendungen zu erstellen, zu verpacken, freizugeben und bereitzustellen.  Es erschien zum richtigen Zeitpunkt, als wir begannen, die kontinuierliche Lieferung ernst zu nehmen.  Ihr Modell wurde ideal fÃ¼r die Lieferkette und trug zur Entstehung der PaaS-Plattform und dann von CaaS bei. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/330/55a/94d/33055a94d32a0087206df9a0f9cc06f1.png"><br><br>  Die Google-Ingenieure sahen, dass die IT-Community endlich bereit fÃ¼r Container war.  Google verwendet Container seit sehr langer Zeit und kann in gewissem Sinne als Erfinder der Containerisierung angesehen werden.  Sie begannen mit der Entwicklung von Kubernetes.  Wie Sie jetzt wissen, ist dies die kostenlose Reinkarnation der Google-eigenen Borg-Plattform. <br><br>  Bald wurde Kubernetes von allen groÃŸen Clouds (GKE, AKS, EKS) unterstÃ¼tzt.  On-Premise-Services haben auch schnell Plattformen auf Basis von Kubernetes (Pivotal Container Service, Openshift usw.) erstellt. <br><br><h1>  Weiche MandantenfÃ¤higkeit </h1><br>  Es war notwendig, ein lÃ¤stiges Problem zu lÃ¶sen, das als Mangel an Containern angesehen werden kann ... dies ist eine MandantenfÃ¤higkeit. <br><br>  Linux-Container wurden nicht als sichere Sandboxen erstellt (wie Solaris Zones oder FreeBSD Jails).  Stattdessen bauten sie auf einem gemeinsamen Kernelmodell auf, das Kernelfunktionen verwendet, um eine grundlegende Prozessisolation bereitzustellen.  Wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Jesse Frazel sagen</a> wÃ¼rde <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">:</a> "Container sind nicht die wirkliche Sache." <br><br><div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1015407561187655680"></twitter-widget><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div><br>  Hinzu kommt, dass die meisten Komponenten von Kubernetes keine Mieter kennen.  NatÃ¼rlich haben Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pod-</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Namespaces</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sicherheitsrichtlinien</a> , aber in der API gibt es so etwas nicht.  Sowie in internen Komponenten wie <code>kubelet</code> oder <code>kube-proxy</code> .  Dies fÃ¼hrt dazu, dass Kubernetes das Modell der "Soft Rent" (Soft Tenancy) umsetzt. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/eef/e54/556/eefe545564f03e8b6813e8bc83ed0188.png"><br>  <i><font color="gray">Kubernetes Architektur</font></i> <br><br>  Abstraktionen sickern weiter.  Eine Plattform auf Containern erbt viele Aspekte der Soft Rent.  Plattformen auf mandantenfÃ¤higen virtuellen Maschinen erben diesen harten Mietvertrag (VMware, Amazon Web Services, OpenStack usw.). <br><br>  Das Soft-Rental-Modell von Kubernetes bringt Dienstleister und Distributionen in eine seltsame Position.  Der Kubernetes-Cluster selbst wird zu einer â€harten Mietlinieâ€œ.  Selbst innerhalb derselben Organisation gibt es viele GrÃ¼nde, eine harte Miete zwischen Benutzern (oder Anwendungen) zu fordern.  Da Ã¶ffentliche Clouds vollstÃ¤ndig verwaltete Kubernetes als Service bereitstellen, kÃ¶nnen Kunden problemlos ihren eigenen Cluster verwenden und die Clustergrenze als Isolationspunkt verwenden. <br><br>  Einige Kubernetes-Distributionen, wie der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pivotal Container Service (PKS)</a> , sind sich dieses <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mietproblems</a> bewusst und verwenden ein Ã¤hnliches Modell, das dieselben Kubernetes als Service bereitstellt, der aus einer Ã¶ffentlichen Cloud, jedoch in Ihrem eigenen Rechenzentrum, bezogen werden kann. <br><br>  Dies fÃ¼hrte zur Entstehung des Modells â€viele Clusterâ€œ anstelle von â€einem groÃŸen gemeinsamen Clusterâ€œ.  Bei GKE-Kunden von Google werden hÃ¤ufig Dutzende von Kubernetes-Clustern fÃ¼r mehrere Teams bereitgestellt.  Oft bekommt jeder Entwickler seinen eigenen Cluster.  Dieses Verhalten erzeugt eine schockierende Anzahl von Instanzen (Kubesprawl). <br><br>  Alternativ kÃ¶nnen Betreiber ihre eigenen Kubernetes-Cluster in ihren eigenen Rechenzentren einrichten, um zusÃ¤tzliche Arbeit fÃ¼r die Verwaltung mehrerer Cluster zu Ã¼bernehmen, oder vereinbaren, einen oder zwei groÃŸe Cluster sanft zu leasen. <br><br>  Normalerweise besteht der kleinste Cluster aus vier Maschinen (oder virtuellen Maschinen).  Eine (oder drei fÃ¼r HA) fÃ¼r Kubernetes Master, drei fÃ¼r Kubernetes Workers.  Es wird viel Geld fÃ¼r Systeme ausgegeben, die grÃ¶ÃŸtenteils im Leerlauf sind. <br><br>  Daher mÃ¼ssen Sie Kubernetes irgendwie in Richtung einer starren MandantenfÃ¤higkeit bewegen.  Die Kubernetes-Community ist sich dieser Notwendigkeit bewusst.  Eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Multi-Lease-Arbeitsgruppe wurde</a> bereits gebildet.  Sie arbeitet hart an diesem Problem und es gibt verschiedene Modelle und VorschlÃ¤ge, wie mit jedem Modell gearbeitet werden soll. <br><br>  Jesse Frazel hat einen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Blog-Beitrag</a> zu diesem Thema geschrieben, und es ist groÃŸartig, weil sie viel schlauer ist als ich, sodass ich mich auf sie beziehen und mich vor zehn Jahren intensiven Studiums retten kann, um ihr Niveau zu erreichen.  Wenn Sie diesen Beitrag nicht gelesen haben, lesen Sie ihn jetzt. <br><br><h1>  Nur sehr kleine VMs, die auf Geschwindigkeit optimiert sind ... </h1><br><blockquote>  Kata Containers ist ein Open Source-Projekt und eine Community, die daran arbeitet, eine Standardimplementierung von leichten virtuellen Maschinen zu erstellen, die wie Container aussehen und funktionieren, aber Workload-Isolation und VM-Sicherheitsvorteile bieten. </blockquote>  Jesse schlÃ¤gt vor, VM-Containertechnologie wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kata-Container zu verwenden</a> .  Sie bieten Isolation auf VM-Ebene, funktionieren jedoch wie Container.  Auf diese Weise kann Kubernetes jedem "Mandanten" (wir nehmen den Mandanten im Namespace an) einen eigenen Satz von Kubernetes-Systemdiensten zuweisen, die in verschachtelten VM-Containern ausgefÃ¼hrt werden (dem VM-Container in der virtuellen Maschine, die die IaaS-Infrastruktur bereitstellt). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/157/3ce/1b6/1573ce1b64d7607f5cb9ca0d09caef6e.png"><br>  <i><font color="gray">Bild von Jesse Frasel: harte MandantenfÃ¤higkeit bei Kubernetes</font></i> <br><br>  Dies ist eine elegante Kubernetes Multi-Rental-LÃ¶sung.  Ihr Vorschlag geht noch weiter, dass Kubernetes verschachtelte VM-Container fÃ¼r Workloads (Pods) verwendet, die auf Kubernetes ausgefÃ¼hrt werden, was zu einer deutlichen Steigerung der Ressourcennutzung fÃ¼hrt. <br><br>  Wir haben noch mindestens eine Optimierung Ã¼brig.  Erstellen Sie den richtigen Hypervisor fÃ¼r den zugrunde liegenden Infrastrukturanbieter oder Cloud-Anbieter.  Wenn der VM-Container eine von IaaS bereitgestellte Abstraktion der ersten Ebene ist, werden wir die Ressourcennutzung weiter erhÃ¶hen.  Die Mindestanzahl von VMs zum Starten eines Kubernetes-Clusters wird auf einen Computer (oder drei fÃ¼r HA) reduziert, um das Kubernetes-Verwaltungssystem zu hosten, das dem "Superuser" zur VerfÃ¼gung steht. <br><br><h1>  Ressourcenoptimierte MandantenfÃ¤higkeit (Kosten) </h1><br>  Eine Kubernetes-Bereitstellung mit zwei Namespaces und mehreren laufenden Anwendungen sieht ungefÃ¤hr so â€‹â€‹aus: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ffc/4e2/d7f/ffc4e2d7ffb239fa1e0822e3d20afcd2.png"><br><blockquote>  Hinweis: Es gibt andere Lasten in derselben IaaS-Infrastruktur.  Da es sich um VM-Container handelt, haben sie dieselbe Isolationsstufe wie herkÃ¶mmliche Cloud-VMs.  Daher kÃ¶nnen sie mit minimalem Risiko auf demselben Hypervisor arbeiten. </blockquote>  ZunÃ¤chst wird keine Infrastruktur in der Cloud bereitgestellt, sodass fÃ¼r einen Superuser die Kosten Null sind. <br><br>  Ein Superuser fordert einen Kubernetes-Cluster aus der Cloud an.  Der Cloud-Dienstanbieter erstellt eine virtuelle Maschine mit einem Container (oder drei fÃ¼r HA), auf der die wichtigsten Kubernetes-APIs und Systemdienste ausgefÃ¼hrt werden.  Der Superuser kann Module im System-Namespace bereitstellen oder neue Bereiche erstellen, um den Zugriff an andere Benutzer zu delegieren. <br><br>  Superuser erstellt zwei Namespaces <code>foo</code> und <code>bar</code> .  Kubernetes fordert zwei VM-Container aus der Cloud fÃ¼r jede Ebene der Namespace-Verwaltung an (Kubernetes API und System Services).  Der Superuser delegiert den Zugriff auf diese Namespaces an einige Benutzer. Jeder von ihnen startet einige Workloads (Module), und VM-Container fordern diese Container fÃ¼r diese Workloads an. <br><br>  In allen Phasen zahlt der Superuser nur fÃ¼r die tatsÃ¤chlich verbrauchten Ressourcen.  Der Cloud-Dienstanbieter kontrolliert diese Ressourcen und sie stehen jedem Cloud-Benutzer zur VerfÃ¼gung. <br><br><h1>  Ich sage nicht wirklich etwas Neues ... </h1><br>  Cloud-Service-Provider arbeiten bereits in diese Richtung.  Sie kÃ¶nnen dies Ã¼berprÃ¼fen, indem Sie Community-Ereignisse ansehen (Amazon hat dies mÃ¶glicherweise bereits stillschweigend mit Fargate durchgefÃ¼hrt). <br><br>  Der erste Tipp ist <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Virtual Kubelet</a> , ein Open-Source-Tool, das sich als Kubelet tarnt.  Es verbindet Kubernetes mit anderen APIs, wodurch Kubernetes VM-Container von einem Standardplaner in der Cloud anfordern kann. <br><br>  Weitere Hinweise sind eine Vielzahl neuer Technologien fÃ¼r die VM-Containerisierung, wie die bereits erwÃ¤hnten Kata-Container sowie der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Firecracker von</a> Amazon und der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Gvisor von</a> Google. <br><br><h1>  Fazit </h1><br>  Wenn Sie Verbesserungen im Modell einer harten Miete korrekt implementieren, finden Sie die Virtualisierung von Holy Grail of Kubernetes.  VollstÃ¤ndige Isolierung der Workloads und keine zusÃ¤tzlichen Kosten. <br><br>  Wenn Sie die Ã¶ffentliche Cloud nicht verwenden, profitieren Sie dennoch von einer hÃ¶heren Ressourcennutzung, die sich bei geringeren Hardwareanforderungen auszahlt. <br><br>  Hoffen wir, dass VMware und OpenStack auf Hypervisoren achten und diese freigeben, die auf leichten VM-Containern und den entsprechenden Virtual Kubelet-Implementierungen basieren. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de434756/">https://habr.com/ru/post/de434756/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de434742/index.html">Teil 2: Verwenden der UDB-PSoC-Controller von Cypress, um die Anzahl der Interrupts in einem 3D-Drucker zu reduzieren</a></li>
<li><a href="../de434744/index.html">Samsung SSD 860 QVO 1 TB und 4 TB: der erste Consumer SATA QLC (2 Teile)</a></li>
<li><a href="../de434746/index.html">BLE unter dem Mikroskop 4</a></li>
<li><a href="../de434750/index.html">So Ã¼bernehmen Sie die Kontrolle Ã¼ber Ihre Netzwerkinfrastruktur. Kapitel zwei Reinigung und Dokumentation</a></li>
<li><a href="../de434752/index.html">Robomoroz: die Zukunft der Hauptfigur des neuen Jahres</a></li>
<li><a href="../de434758/index.html">Facebook Moderator Guide: Ãœber 1.400 Seiten mit widersprÃ¼chlichen Folien</a></li>
<li><a href="../de434760/index.html">PostgreSQL News Digest. Neujahr (verkÃ¼rzt) Ausgabe Nr. 13</a></li>
<li><a href="../de434762/index.html">Notizen eines Phytochemikers. GrÃ¼ne Banane oder denken Sie daran, die Mikrobiota zu fÃ¼ttern</a></li>
<li><a href="../de434770/index.html">Erneuerbare Energie: WÃ¶rter und ihre Bedeutung</a></li>
<li><a href="../de434774/index.html">5 Lektionen, die wir durch das Schreiben von Ã¼ber 300.000 Zeilen Infrastrukturcode gelernt haben</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>