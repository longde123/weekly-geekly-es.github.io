<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ùÑÔ∏è üë®üèº‚Äçüîß ‚õπüèæ Formulamos una estrategia para trabajar con errores en React üßúüèø üõ•Ô∏è üëø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="¬øC√≥mo suavizar la ca√≠da? 


 No encontr√© una gu√≠a completa para el manejo de errores en las aplicaciones React, as√≠ que decid√≠ compartir la experienci...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Formulamos una estrategia para trabajar con errores en React</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/476284/"><h2>  ¬øC√≥mo suavizar la ca√≠da? </h2><br><img src="https://habrastorage.org/webt/74/fa/c-/74fac--ati8ide9e4o946p1r-4g.jpeg"><br><br>  No encontr√© una gu√≠a completa para el manejo de errores en las aplicaciones React, as√≠ que decid√≠ compartir la experiencia adquirida en este art√≠culo.  El art√≠culo est√° destinado a desarrolladores principiantes y puede ser un punto de partida para sistematizar el manejo de errores en la aplicaci√≥n. <br><a name="habracut"></a><br><h3>  Problemas y fijaci√≥n de objetivos </h3><br>  El lunes por la ma√±ana, bebe caf√© con calma y se jacta de haber reparado m√°s errores que la semana pasada y luego el gerente viene corriendo y agita sus manos: "Nos hemos ca√≠do, todo es muy triste, estamos perdiendo dinero".  Ejecutas y abres tu Mac, vas a la versi√≥n de producci√≥n de tu SPA, haces un par de clics para reproducir el error, ves la pantalla en blanco y solo el Todopoderoso sabe lo que sucedi√≥ all√≠, sube a la consola, comienza a cavar, dentro del componente t hay un componente con el nombre de voz b, en el que el error no puede leer la propiedad getId de undefined.  N horas de investigaci√≥n y te apresuras con un grito victorioso para lanzar una revisi√≥n.  Tales redadas ocurren con cierta frecuencia y se han convertido en la norma, pero ¬øqu√© pasa si digo que todo puede ser diferente?  ¬øC√≥mo reducir el tiempo de errores de depuraci√≥n y construir el proceso para que el cliente pr√°cticamente no note errores de c√°lculo durante el desarrollo que son inevitables? <br><br>  <b>Examinemos en orden los problemas que hemos encontrado:</b> <br><br><ol><li>  <u>Incluso si el error es insignificante o localizado dentro del m√≥dulo, en cualquier caso, la aplicaci√≥n completa deja de funcionar</u> <br>  Antes de React versi√≥n 16, los desarrolladores no ten√≠an un solo mecanismo est√°ndar de captura de errores, y hubo situaciones en las que la corrupci√≥n de datos provoc√≥ una ca√≠da en el procesamiento solo en los siguientes pasos o un comportamiento extra√±o de la aplicaci√≥n.  Cada desarrollador manej√≥ los errores porque estaba acostumbrado, y el modelo imperativo con try / catch generalmente no se ajustaba bien a los principios declarativos de React.  En la versi√≥n 16, apareci√≥ la herramienta de L√≠mites de error, que trat√≥ de resolver estos problemas, consideraremos c√≥mo aplicarla. </li><li>  <u>El error se reproduce solo en el entorno de producci√≥n o no se puede reproducir sin datos adicionales.</u> <br>  En un mundo ideal, el entorno de desarrollo es el mismo que el de producci√≥n y podemos reproducir cualquier error localmente, pero vivimos en el mundo real.  No hay herramientas de depuraci√≥n en el sistema de combate.  Es dif√≠cil y no productivo descubrir tales incidentes, b√°sicamente tiene que lidiar con el c√≥digo ofuscado y la falta de informaci√≥n sobre el error, y no con la esencia del problema.  No consideraremos la cuesti√≥n de c√≥mo aproximar las condiciones del entorno de desarrollo a las condiciones de producci√≥n, sin embargo, consideraremos herramientas que le permitan obtener informaci√≥n detallada sobre los incidentes ocurridos. </li></ol><br>  Todo esto reduce la velocidad de desarrollo y la lealtad del usuario al producto de software, por lo que me puse los 3 objetivos m√°s importantes: <br><br><ol><li>  Mejore la experiencia del usuario con la aplicaci√≥n en caso de errores; </li><li>  Reduzca el tiempo entre el error que entra en producci√≥n y su detecci√≥n; </li><li>  Acelere el proceso de b√∫squeda y depuraci√≥n de problemas en la aplicaci√≥n para el desarrollador. </li></ol><br>  <b>¬øQu√© tareas deben resolverse?</b> <br><br><ol><li>  <u>Manejar errores cr√≠ticos con l√≠mite de error</u> <br>  Para mejorar la experiencia del usuario con la aplicaci√≥n, debemos interceptar los errores cr√≠ticos de la IU y procesarlos.  En el caso en que la aplicaci√≥n consta de componentes independientes, esta estrategia permitir√° al usuario trabajar con el resto del sistema.  Tambi√©n podemos intentar tomar medidas para restaurar la aplicaci√≥n despu√©s de un bloqueo, si es posible. <br></li><li>  <u>Guardar informaci√≥n de error extendida</u> <br>  Si se produce un error, env√≠e informaci√≥n de depuraci√≥n al servidor de supervisi√≥n, que filtrar√°, almacenar√° y mostrar√° informaci√≥n sobre incidentes.  Esto nos ayudar√° a detectar r√°pidamente y depurar f√°cilmente errores despu√©s de la implementaci√≥n. <br></li></ol><br>  <b>Manejo de errores cr√≠ticos</b> <br><br>  A partir de la versi√≥n 16, React ha cambiado el comportamiento est√°ndar de manejo de errores.  Ahora, las excepciones que no se detectaron con el L√≠mite de error conducir√°n a desmontar todo el √°rbol React y, como resultado, a la inoperancia de toda la aplicaci√≥n.  Esta decisi√≥n se argumenta por el hecho de que es mejor no mostrar nada que darle al usuario la oportunidad de obtener resultados impredecibles.  Puede leer m√°s en la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">documentaci√≥n oficial de React</a> . <br><br><img src="https://habrastorage.org/webt/jz/-o/ik/jz-oik4v7a3skcbdxn_pttvugq8.png"><br><br>  Adem√°s, muchos est√°n confundidos por la nota de que el L√≠mite de error no detecta los errores de los controladores de eventos y el c√≥digo asincr√≥nico, pero si lo piensa, cualquier controlador puede cambiar el estado, en funci√≥n del cual se llamar√° un nuevo ciclo de representaci√≥n, que, en √∫ltima instancia la cuenta puede causar un error en el c√≥digo de la interfaz de usuario.  De lo contrario, este no es un error cr√≠tico para la interfaz de usuario y se puede manejar de una manera espec√≠fica dentro del controlador. <br><br>  Desde nuestro punto de vista, un error cr√≠tico es una excepci√≥n que ocurri√≥ dentro del c√≥digo de la interfaz de usuario y si no se procesa, todo el √°rbol React se desmontar√°.  Los errores restantes no son cr√≠ticos y pueden procesarse de acuerdo con la l√≥gica de la aplicaci√≥n, por ejemplo, mediante notificaciones. <br><br>  En este art√≠culo, nos centraremos en el manejo de errores cr√≠ticos, a pesar del hecho de que los errores no cr√≠ticos tambi√©n pueden conducir a la inoperancia de la interfaz en el peor de los casos.  Su procesamiento es dif√≠cil de separar en un bloque com√∫n y cada caso individual requiere una decisi√≥n dependiendo de la l√≥gica de la aplicaci√≥n. <br><br>  En general, los errores no cr√≠ticos pueden ser muy cr√≠ticos (como un juego de palabras), por lo que la informaci√≥n sobre ellos debe registrarse de la misma manera que para los cr√≠ticos. <br><br>  Ahora estamos dise√±ando Error Boundary para nuestra sencilla aplicaci√≥n, que consistir√° en una barra de navegaci√≥n, un encabezado y el espacio de trabajo principal.  Es lo suficientemente simple como para centrarse solo en el manejo de errores, pero tiene una estructura t√≠pica para muchas aplicaciones. <br><br><img src="https://habrastorage.org/webt/q6/my/hd/q6myhdx0kjcwrwxe2q7b3sxdweu.png"><br><br>  Tenemos un panel de navegaci√≥n de 3 enlaces, cada uno de los cuales conduce a componentes independientes entre s√≠, por lo que queremos lograr un comportamiento que, incluso si uno de los componentes no funciona, podamos seguir trabajando con los dem√°s. <br><br>  Como resultado, tendremos ErrorBoundary para cada componente al que se puede acceder a trav√©s del men√∫ de navegaci√≥n y el ErrorBoundary general, que informa sobre el bloqueo de toda la aplicaci√≥n, en caso de que ocurra un error en el componente de encabezado, panel de navegaci√≥n o dentro de ErrorBoundary, pero no lo resolvimos procesar y descartar m√°s. <br><br>  Considere enumerar una aplicaci√≥n completa que est√° envuelta en ErrorBoundary <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> AppWithBoundary = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> (   <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ErrorBoundary</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">errorMessage</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Application has crashed"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">     </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">App</span></span></span></span><span class="xml"><span class="hljs-tag">/&gt;</span></span></span><span class="xml">   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ErrorBoundary</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> )</code> </pre> <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">App</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (    &lt;Router&gt;      &lt;Layout&gt;        &lt;Sider width={200}&gt;          &lt;SideNavigation /&gt;        &lt;/Sider&gt;        &lt;Layout&gt;          &lt;Header&gt;            &lt;ActionPanel /&gt;          &lt;/Header&gt;          &lt;Content&gt;            &lt;Switch&gt;              &lt;Route path="/link1"&gt;                &lt;Page1                  title="Link 1 content page"                  errorMessage="Page for link 1 crashed"                /&gt;              &lt;/Route&gt;              &lt;Route path="/link2"&gt;                &lt;Page2                  title="Link 2 content page"                  errorMessage="Page for link 2 crashed"                /&gt;              &lt;/Route&gt;              &lt;Route path="/link3"&gt;                &lt;Page3                  title="Link 3 content page"                  errorMessage="Page for link 3 crashed"                /&gt;              &lt;/Route&gt;              &lt;Route path="/"&gt;                &lt;MainPage                  title="Main page"                  errorMessage="Only main page crashed"                /&gt;              &lt;/Route&gt;            &lt;/Switch&gt;          &lt;/Content&gt;        &lt;/Layout&gt;      &lt;/Layout&gt;    &lt;/Router&gt;  ); }</code> </pre> <br>  No hay magia en ErrorBoundary, es solo un componente de clase en el que se define el m√©todo componentDidCatch, es decir, cualquier componente puede convertirse en ErrorBoundary, si define este m√©todo en √©l. <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ErrorBoundary</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{  state = {    <span class="hljs-attr"><span class="hljs-attr">hasError</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>,  }  componentDidCatch(error) {    <span class="hljs-comment"><span class="hljs-comment">//            this.setState({ hasError: true });  }  render() {    if (this.state.hasError) {      return (        &lt;Result          status="warning"          title={this.props.errorMessage}          extra={            &lt;Button type="primary" key="console"&gt;              Some action to recover            &lt;/Button&gt;          }  /&gt;      );    }    return this.props.children;  } };</span></span></code> </pre><br>  As√≠ es como ErrorBoundary busca el componente de P√°gina, que se representar√° en el bloque de Contenido: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> PageBody = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ title }</span></span></span><span class="hljs-function">) =&gt;</span></span> (  &lt;Content title={title}&gt;    &lt;Empty className="content-empty" /&gt;  &lt;/Content&gt; ); const MainPage = ({ errorMessage, title }) =&gt; (  &lt;ErrorBoundary errorMessage={errorMessage}&gt;    &lt;PageBody title={title} /&gt;  &lt;/ErrorBoundary&gt;</code> </pre><br>  Dado que ErrorBoundary es un componente React regular, podemos usar el mismo componente ErrorBoundary para ajustar cada p√°gina en su propio controlador, simplemente pasando diferentes par√°metros a ErrorBoundary, ya que estas son instancias diferentes de la clase, su estado no depender√° el uno del otro . <br><br>  <b>IMPORTANTE: ErrorBoundary puede detectar errores solo en los componentes que est√°n debajo de √©l en el √°rbol.</b> <br><br>  En el listado a continuaci√≥n, el error no ser√° interceptado por el ErrorBoundary local, sino que ser√° arrojado e interceptado por el controlador sobre el √°rbol: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Page = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ errorMessage }</span></span></span><span class="hljs-function">) =&gt;</span></span> (  <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ErrorBoundary</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">errorMessage</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{errorMessage}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">    {null.toString()}  </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ErrorBoundary</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> );</code> </pre><br>  Y aqu√≠ el error es detectado por el ErrorBoundary local: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ErrorProneComponent = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>.toString(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Page = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ errorMessage }</span></span></span><span class="hljs-function">) =&gt;</span></span> (  <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ErrorBoundary</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">errorMessage</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{errorMessage}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">    </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ErrorProneComponent</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">  </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ErrorBoundary</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> );</code> </pre> <br>  Despu√©s de envolver cada componente por separado en nuestro ErrorBoundary, logramos el comportamiento necesario, colocamos el c√≥digo deliberadamente err√≥neo en el componente usando link3 y vemos qu√© sucede.  Nos olvidamos intencionalmente de pasar el par√°metro de pasos: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> PageBody = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ title, steps }</span></span></span><span class="hljs-function">) =&gt;</span></span> (  &lt;Content title={title}&gt;    &lt;Steps current={2} direction="vertical"&gt;      {steps.map(({ title, description }) =&gt; (&lt;Step title={title} description={description} /&gt;))}    &lt;/Steps&gt;  &lt;/Content&gt; ); const Page = ({ errorMessage, title }) =&gt; (  &lt;ErrorBoundary errorMessage={errorMessage}&gt;    &lt;PageBody title={title} /&gt;  &lt;/ErrorBoundary&gt; );</code> </pre><br><img src="https://habrastorage.org/webt/6g/9g/fv/6g9gfvuuusmxrbedlytcmezyghe.png"><br><br>  La aplicaci√≥n nos informar√° que se ha producido un error, pero no se caer√° por completo, podemos navegar por el men√∫ de navegaci√≥n y trabajar con otras secciones. <br><br><img src="https://habrastorage.org/webt/4w/os/zh/4woszhf9ahhcl-uzdfwthj-d6a0.png"><br><br>  Una configuraci√≥n tan simple nos permite lograr f√°cilmente nuestro objetivo, pero en la pr√°ctica, pocas personas prestan mucha atenci√≥n al manejo de errores, planificando solo la ejecuci√≥n regular de la aplicaci√≥n. <br><br>  <b>Guardando informaci√≥n de error</b> <br><br>  Ahora que hemos colocado suficiente ErrorBoundary en nuestra aplicaci√≥n, es necesario guardar informaci√≥n sobre los errores para detectarlos y corregirlos lo m√°s r√°pido posible.  La forma m√°s f√°cil es utilizar los servicios SaaS, como Sentry o Rollbar.  Tienen una funcionalidad muy similar, por lo que puede usar cualquier servicio de monitoreo de errores. <br><br>  Mostrar√© un ejemplo b√°sico en Sentry, porque en solo un minuto puedes obtener una funcionalidad m√≠nima.  Al mismo tiempo, Sentry mismo detecta excepciones e incluso modifica console.log para obtener toda la informaci√≥n del error.  Despu√©s de eso, todos los errores que ocurrir√°n en la aplicaci√≥n ser√°n enviados y almacenados en el servidor.  Sentry tiene mecanismos para filtrar eventos, ofuscar datos personales, vincular a comunicados y mucho m√°s.  Consideraremos solo el escenario de integraci√≥n b√°sica. <br><br>  Para conectarse, debe registrarse en su sitio web oficial y seguir la gu√≠a de inicio r√°pido, que lo guiar√° inmediatamente despu√©s del registro. <br><br>  En nuestra aplicaci√≥n, agregamos solo un par de l√≠neas y todo despega. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Sentry <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@sentry/browser'</span></span>; Sentry.init({<span class="hljs-attr"><span class="hljs-attr">dsn</span></span>: ‚Äúhttps:<span class="hljs-comment"><span class="hljs-comment">//12345f@sentry.io/12345‚Äù});</span></span></code> </pre><br>  Nuevamente, haga clic en el enlace / link3 en nuestra aplicaci√≥n y obtenga la pantalla de error, luego de lo cual vamos a la interfaz de centinela, aparentemente se ha producido un evento y falla dentro. <br><br><img src="https://habrastorage.org/webt/qx/4p/bm/qx4pbm5d1dgv3gvxpabgeydwpoa.png"><br><br>  Los errores se agrupan autom√°ticamente por tipo, frecuencia y hora de ocurrencia; se pueden aplicar varios filtros.  Tenemos un evento: caemos en √©l y en la siguiente pantalla vemos un mont√≥n de informaci√≥n √∫til, por ejemplo, seguimiento de pila <br><br><img src="https://habrastorage.org/webt/bq/o8/ed/bqo8ed5grqrsme3yw8wa4rftwhu.png"><br><br>  y la √∫ltima acci√≥n del usuario antes del error (migas de pan). <br><br><img src="https://habrastorage.org/webt/bq/o8/ed/bqo8ed5grqrsme3yw8wa4rftwhu.png"><br><br>  Incluso con una configuraci√≥n tan simple, podemos acumular y analizar informaci√≥n de error y usarla para una mayor depuraci√≥n.  En este ejemplo, se env√≠a un error desde el cliente en modo de desarrollo, por lo que podemos observar la informaci√≥n completa sobre el componente y los errores.  Para obtener informaci√≥n similar del modo de producci√≥n, debe configurar adicionalmente la sincronizaci√≥n de los datos de lanzamiento con Sentry, que almacenar√° el mapa fuente en s√≠ mismo, lo que le permitir√° guardar suficiente informaci√≥n sin aumentar el tama√±o del paquete.  No consideraremos dicha configuraci√≥n en el marco de este art√≠culo, pero tratar√© de hablar sobre las trampas de tal soluci√≥n en un art√≠culo separado despu√©s de su implementaci√≥n. <br><br>  <b>El resultado:</b> <br><br>  El manejo de errores usando ErrorBoundary nos permite suavizar las esquinas con un bloqueo parcial de la aplicaci√≥n, lo que aumenta la experiencia del usuario del sistema y el uso de sistemas especializados de monitoreo de errores para reducir el tiempo de detecci√≥n y depuraci√≥n de problemas. <br><br>  Piense cuidadosamente en una estrategia para procesar y monitorear los errores de su aplicaci√≥n, en el futuro esto le ahorrar√° mucho tiempo y esfuerzo.  <b>Una estrategia bien pensada mejorar√° principalmente el proceso de trabajar con incidentes, y solo entonces afectar√° la estructura del c√≥digo.</b> <br><br>  <i>PD</i> : Puede probar varias opciones de configuraci√≥n de ErrorBoundary o conectar Sentry a la aplicaci√≥n usted mismo en la rama feature_sentry, reemplazando las claves con las obtenidas durante el registro en el sitio. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aplicaci√≥n de demostraci√≥n de Git-hub</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Documentaci√≥n oficial de l√≠mite de error de React</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/476284/">https://habr.com/ru/post/476284/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../476270/index.html">Nuestro ganado: TopCoder Open 2019</a></li>
<li><a href="../476272/index.html">Respuestas a las tareas del stand de PVS-Studio en las conferencias 2018-2019</a></li>
<li><a href="../476276/index.html">Escribir un balanceador simple en Go</a></li>
<li><a href="../476278/index.html">SOMBRERO NEGRO Conferencia de Estados Unidos. Hazte rico o muere: gana dinero en Internet con Black Hat. Parte 3</a></li>
<li><a href="../476280/index.html">A trav√©s de espinas a DOS: cuatro disquetes que cambiaron el mundo</a></li>
<li><a href="../476286/index.html">Los 5 principales marcos JS para el desarrollo front-end en 2020. Parte 1</a></li>
<li><a href="../476288/index.html">Los 5 principales marcos JS para el desarrollo front-end en 2020. Parte 2</a></li>
<li><a href="../476290/index.html">Manejo de errores en Express</a></li>
<li><a href="../476292/index.html">SVG o lienzo?</a></li>
<li><a href="../476294/index.html">Red de juegos distribuidos como alternativa a GFN: c√≥mo y por qu√© puede despegar, donde ya funciona en la Federaci√≥n Rusa</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>