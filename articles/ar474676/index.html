<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐๐ผ ๐ฅ ๐จโ๐พ ุฎูุงุฑุฒููุฉ ุงูุชูุงุนู ููุฆุงุช ุงูุขูุงู ูู ุงูุฌุฒูุฆุงุช ุงููุฑูุฏุฉ ุนูู GPU ุ ูู GLES3 ู WebGL2 ๐ง๐ป ๐คณ๐ผ ๐ญ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุตู ุงูุฎูุงุฑุฒููุฉ ุงูููุทููุฉ ูุชุญููู ูุซุงู ุนููู ูู ุดูู ูุนุจุฉ ุชููู ุชุฌุฑูุจู 


 ุฅุตุฏุงุฑ WebGL2 ูู ูุฐุง ุงูุนุฑุถ ุงูุชูุถูุญู https://danilw.itch.io/flat-maze-web ููุญุตูู ุนู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุฎูุงุฑุฒููุฉ ุงูุชูุงุนู ููุฆุงุช ุงูุขูุงู ูู ุงูุฌุฒูุฆุงุช ุงููุฑูุฏุฉ ุนูู GPU ุ ูู GLES3 ู WebGL2</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/474676/" style=";text-align:right;direction:rtl"><h1 id="opisanie-algoritma-logiki-i-razbor-rabochego-primera-v-vide-tehno-demki-igry" style=";text-align:right;direction:rtl">  ูุตู ุงูุฎูุงุฑุฒููุฉ ุงูููุทููุฉ ูุชุญููู ูุซุงู ุนููู ูู ุดูู ูุนุจุฉ ุชููู ุชุฌุฑูุจู </h1><br><p style=";text-align:right;direction:rtl">  ุฅุตุฏุงุฑ WebGL2 ูู ูุฐุง ุงูุนุฑุถ ุงูุชูุถูุญู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://danilw.itch.io/flat-maze-web ููุญุตูู ุนูู</a> ุฑูุงุจุท ุฃุฎุฑู ุ ุฑุงุฌุน ุงูููุงู. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/HawWnuMn1mc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3 id="statya-razbita-na-dve-chasti-snachala-pro-logiku-i-vtoraya-chast-pro-primenenie-v-igre-pervaya-chast" style=";text-align:right;direction:rtl">  ูููุณู ุงูููุงู ุฅูู ูุณููู ุ ุงูุฃูู ุนู ุงูููุทู ุ ูุงูุฌุฒุก ุงูุซุงูู ุญูู ุงูุชุทุจูู ูู ุงููุนุจุฉ ุ <em>ุงูุฌุฒุก ุงูุฃูู</em> : </h3><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ </li><li style=";text-align:right;direction:rtl">  ุงูุฑูุงุจุท ูุตูุง ููุฌุฒุง. </li><li style=";text-align:right;direction:rtl">  ุฎูุงุฑุฒููุฉ ุงูููุทู. </li><li style=";text-align:right;direction:rtl"> ุญุฏูุฏ ุงูููุทู.  ุงูุจู / ุงูููุฒุงุช ุ ูุงูุจู ุฒุงููุฉ. </li><li style=";text-align:right;direction:rtl">  ุงููุตูู ุฅูู ููุฑุณ ุงูุจูุงูุงุช. </li></ul><br><h3 id="dalshe-opisanie-igrovoy-demki-vtoraya-chast" style=";text-align:right;direction:rtl">  ูุตู ุฅุถุงูู ููุนุฑุถ ุงูุชุฌุฑูุจู ุ <em>ุงูุฌุฒุก ุงูุซุงูู</em> : </h3><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุณุชุฎุฏู ููุฒุงุช ูุฐุง ุงูููุทู.  ูุชูุฏูู ุณุฑูุน ููุฌุณููุงุช ููููู ุจูุณู. </li><li style=";text-align:right;direction:rtl">  ุงูุชูููุฐ ุ ุจุนุถ ุงูุชุนูููุงุช ุนูู ุงูููุฏ ุ ูุตู ุงูุงุตุทุฏุงู ูู ุงุชุฌุงููู.  ูุงูุชูุงุนู ูุน ุงููุงุนุจ. </li><li style=";text-align:right;direction:rtl">  ุฑูุงุจุท ุฅูู ุงูุฑุณููุงุช ุงููุณุชุฎุฏูุฉ ูุน opengameart ุ ูุชุธููู ููุธูุงู.  ู ุฑุงุจุท ุงูููุงู ุฅูู cyberleninka.ru </li></ul><a name="habracut"></a><br><h1 id="chast-1" style=";text-align:right;direction:rtl">  ุงูุฌุฒุก 1 </h1><br><h1 id="1-klyuchevye-osobennosti" style=";text-align:right;direction:rtl">  1. ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ </h1><br><p style=";text-align:right;direction:rtl"> <strong>ุงูููุฑุฉ</strong> ูู ุชุตุงุฏู / ููุฒูุงุก ููุฆุงุช ุงูุขูุงู ูู ุงูุฌุฒูุฆุงุช ูููุง ุจูููุง ุ ูู ุงูููุช ุงูุญูููู ุ ุญูุซ ูููู ููู ุฌุณูู <code>ID</code> ูุฑูุฏ. </p><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ููุฑุณุฉ ูู ุฌุณูู ุ <strong>ูููู ุงูุชุญูู ูู ุฃู ูุนููุงุช ูุฃู ุฌุณูู</strong> ุ ุนูู ุณุจูู ุงููุซุงู ุงููุชูุฉ ุฃู ุตุญุชู (ุญุตุงู) ุฃู ุงูุชูู ุฃู ุงูุชุณุงุฑุน ุฃู ุงูุชุจุงุทุค ุ ูุงูุชู ุชุนุชุฑุถ ููุงุฌูุชูุง ูุฑุฏูุฏ ุงููุนู ุนูู ุงูุญุฏุซ ุงุนุชูุงุฏูุง ุนูู ููุน / ูุคุดุฑ ุงูุฌุณูู ุ ูุฃูุถูุง ุชูููุชุงุช ูุฑูุฏุฉ ููู ุฌุณูู ุ ูููู ุฌุฑุง ุญุณุจ ุงูุถุฑูุฑุฉ. </p><br><p style=";text-align:right;direction:rtl">  <strong>ูู ููุทู ุนูู GLSL ูุญููู ุจุงููุงูู ูุฃู ูุญุฑู ุฃูุนุงุจ</strong> ูุฃู ูุธุงู ุชุดุบูู ูุฏูู ุฏุนู GLES3. </p><br><p style=";text-align:right;direction:rtl">  <em>ุงูุญุฏ ุงูุฃูุตู ูุนุฏุฏ ุงูุฌุณููุงุช</em> ูุณุงูู ุญุฌู ุฃุฏุงุฉ ุชุซุจูุช ุงูุฅุทุงุฑุงุช (fbo ุ ุฌููุน ูุญุฏุงุช ุงูุจูุณู). </p><br><p style=";text-align:right;direction:rtl">  <em>ููุงู ุนุฏุฏ ูุฑูุญ ูู ุงูุฌุณููุงุช</em> (ุนูุฏูุง ูููู ููุงู ูุฌุงู ูุชูุงุนู ุงูุฌุฒูุฆุงุช) ูู <code>(Resolution.x*Resolution.y/2)/2</code> ูู ูู ุจูุณู ูู ุงูุซุงููุฉ <code>x</code> ููู ุจูุณู ูู ุงูุซุงููุฉ ุ ููุฐุง ูู ุงูุณุจุจ ูู ุฃู ูุตู ุงูููุทู ูููู ุฐูู. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูุฌุฒุก ุงูุฃูู ูู ุงูููุงูุฉ ุ ูุธูุฑ ุงูุญุฏ ุงูุฃุฏูู ูู ุงูููุทู ุ ูู ุงูุฌุฒุก ุงูุซุงูู ุนูู ูุซุงู ุงููุนุจุฉ ุ ุงูููุทู ูุน ุนุฏุฏ ูุจูุฑ ูู ุดุฑูุท ุงูุชูุงุนู. </p><br><h1 id="2-ssylki-i-kratkoe-opisanie" style=";text-align:right;direction:rtl">  2. ุงูุฑูุงุจุท ูุงููุตู ุงููุตูุฑ </h1><br><p style=";text-align:right;direction:rtl">  ููุฏ ูุฏูุช ุซูุงุซุฉ ุนุฑูุถ ุชุฌุฑูุจูุฉ ุนูู ูุฐุง ุงูููุทู: </p><br><p style=";text-align:right;direction:rtl">  <strong>1. ูู ุฌุฒุก GLSL-shader</strong> ุ ุนูู shadertoy <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://www.shadertoy.com/view/tstSz7</a> ุ ุฑุงุฌุน ุฑูุฒ BufferC ููู ูู ุงูููุทู.  ูุณูุญ ูู ูุฐุง ุงูุฑูุฒ ุฃูุถูุง ุจุนุฑุถ ูุฆุงุช ุงูุขูุงู ูู ุงูุฌุฒูุฆุงุช ุจุงุณุชุฎุฏุงู ุงูุฃุดุนุฉ ููู ุงูุจููุณุฌูุฉ ุ ูู ูุถุน ุชุนุณูู ุ ุนูู ูุญุฏุฉ ุชุธููู ุจุฏูู ุงุณุชุฎุฏุงู ุฌุฒูุฆุงุช ูุซุจุชุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/8a/-w/l7/8a-wl7z8v954zwdyxqaph8eusao.png"></p><br><p style=";text-align:right;direction:rtl">  <strong>2. ููู ููุทู ุฅูู ุฌุฒูุฆุงุช instanced</strong> (ุงููุณุชุฎุฏูุฉ ูู ูุจู Godot ููุญุฑู) </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/fRu9PA4XHPQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p style=";text-align:right;direction:rtl">  ุงูุฑูุงุจุท <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฅุตุฏุงุฑ ุงูููุจ</a> ุ <a href="">exe (win)</a> ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุตุงุฏุฑ</a> ูุดุฑูุน <em>particles_2D_self_collision</em> . </p><br><p style=";text-align:right;direction:rtl">  ูุตู ูุตูุฑ: <strong>ูุฐุง ุนุฑุถ ุชูุถูุญู ุณูุฆ ุนูู ุงูุฌุฒูุฆุงุช ุบูุฑ ุงููุณุชูุฑุฉ</strong> ุ ูุธุฑูุง ูุญูููุฉ ุฃููู ุฃููู ุจุฒูุงุฏุฉ ุงูุญุฏ ุงูุฃูุตู ุญูุซ ุชููู ุงูุฎุฑูุทุฉ ุจุฃููููุง ูุฑุฆูุฉ ุ ุชุชู ุฏุงุฆููุง ูุนุงูุฌุฉ 640x360 ุฌุณููุงุช (230 ูููู) ุ ููุฐุง ูุซูุฑ.  <strong>ุงูุธุฑ ุฃุฏูุงู ูู ูุตู ุงููุนุจุฉ ุ ููุฏ ูุนูุช ุฐูู ุจุดูู ุตุญูุญ ุ ุฏูู ูุฌูุฏ ุฌุฒูุฆุงุช ุฅุถุงููุฉ.</strong>  (ููุงู ุฎุทุฃ ูู ููุฑุณ ุงูุฌุณููุงุช ูู ุงูููุฏูู ุ ููุฐุง ุซุงุจุช ูู ุงูููุฏ) </p><br><p style=";text-align:right;direction:rtl">  <strong>3. ุงููุนุจุฉ ุ ุญูู ูุฐุง ุงูููุถูุน ุฃุฏูุงู ูู ูุตู ุงููุนุจุฉ.</strong>  ุงูุฑูุงุจุท <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุณุฎุฉ ุงูููุจ</a> ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฅูุณ (ููู)</a> ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุตุงุฏุฑ</a> </p><br><h1 id="3-algoritm-raboty-logiki" style=";text-align:right;direction:rtl">  3. ุฎูุงุฑุฒููุฉ ุงูููุทู </h1><br><p style=";text-align:right;direction:rtl">  ุจุงุฎุชุตุงุฑ: </p><br><p style=";text-align:right;direction:rtl">  ูุดุจู ุงูููุทู ุงูุฑูุงู ุงููุชุณุงูุทุฉ ุ ุญูุซ ูุญุงูุธ ูู ุจูุณู ุนูู ุงููููุฉ ุงููุณุฑูุฉ ููููุถุน (ุชุญูู ุฏุงุฎู ุงูุจูุณู) ูุงูุชุณุงุฑุน ุงูุญุงูู. </p><br><p style=";text-align:right;direction:rtl">  ูุชุญูู ุงูููุทู ูู ุงูุจููุณูุงุช ุงูููุฌูุฏุฉ ูู ูุตู ุงููุทุฑ 1 ุ ูุฃู ููุถุนูู ุงูุชุงูู ูุฑูุฏ ุงูุงูุชูุงู ุฅูู ูุฐุง ุงูุจููุณู <em>(ุจุณุจุจ ูุฐุง ุงูุชูููุฏ ุ ุงูุธุฑ ุงููููุฏ ุฃุฏูุงู)</em> ุ ููุฐูู ุงูุจููุณูุงุช ุงูููุฌูุฏุฉ ูู ูุตู ุงููุทุฑ 2 ููุชูุงูุฑ (ุงูุชุตุงุฏู). </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุญูุธ ุงูููุฑุณ ุงููุฑูุฏ ูู ุฎูุงู ุชุฑุฌูุฉ ุงูููุทู ุฅูู int-float ุ ูุชูููู ุญุฌู ููุถุน ูุนูู <code>pos</code> ูุณุฑุนุฉ <code>pos</code> . </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุชุฎุฒูู ุงูุจูุงูุงุช ุจูุฐู ุงูุทุฑููุฉ: <em>(ุจุณุจุจ ูุฐุง ุงูุฎุทุฃ ุ ุฑุงุฌุน ุงููููุฏ)</em> </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">pixel.rgba r=[0xfffff-posx, 0xf-data] g=[0xfffff-posy, 0xf-data] b=[0xffff-velx, 0xff-data] a=[0xffff-vely, 0xff-data]</code> </pre> <br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/46/ad/io/46adionlolw3vm5zfry5javhgxk.png"></p><br><p style=";text-align:right;direction:rtl">  <strong>ูู ุงูููุฏ</strong> ุ ุฃุฑูุงู ุงูุฃุณุทุฑ ูู BufC <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://www.shadertoy.com/view/tstSz7</a> ุ 115 ูุญุต ุงูุชูุงู ุ 139 ูุญุต ุชุตุงุฏู. </p><br><p style=";text-align:right;direction:rtl">  ูุฐู ูู ุญููุงุช ุจุณูุทุฉ ูุงุชุฎุงุฐ ุงูููู ุงููุฌุงูุฑุฉ.  ูุงูุดุฑุท ูู ุ ุฅุฐุง ุชู ุฃุฎุฐ ุงูููุถุน ูุณุงููุงู ูููุถุน ุงูุจููุณู ุงูุญุงูู ุ ูุฅููุง ูููู ูุฐู ุงูุจูุงูุงุช ุฅูู ุงูุจููุณู <em>(ุจุณุจุจ ูุฐุง ุงูุชูููุฏ)</em> ุ ููููุฉ ุงูุชุบููุฑุงุช <code>vel</code> ุชุชุบูุฑ ููููุง <code>vel</code> ุงููุฌุงูุฑุฉ ุ ุฅู ูุฌุฏุช. </p><br><p style=";text-align:right;direction:rtl">  <em>ูุฐุง ูู ูู ููุทู ุงูุฌุณููุงุช.</em> </p><br><p style=";text-align:right;direction:rtl">  <strong>ูู ุงูุฃูุถู ูุถุน ุงูุฌุณููุงุช ุนูู ูุณุงูุฉ 1 ุจูุณู ูู ุจุนุถูุง ุงูุจุนุถ</strong> ุฅุฐุง ูุงูุช ุฃูุฑุจ ูู 1 ุจูุณู ุ ุซู ุณูููู ููุงู ุชูุงูุฑ ุ ุนูู ุณุจูู ุงููุซุงู ุฎุฑูุทุฉ ูุน ูุชุงูุฉ ูู ุงููุนุจุฉ ุ ูุงูุฌุฒูุฆุงุช ุชูู ูู ุฃูุงูููุง ุฏูู ุงูุชุญุฑู ุจุณุจุจ ูุณุงูุฉ 1 ุจูุณู ุจููููุง. </p><br><p style=";text-align:right;direction:rtl">  ูุฃุชู ุจุนุฏ ุฐูู ุงูุชุฌุณูุฏ (ุงูุชูุฏูู) ุ <em>ูู ุญุงูุฉ ุชุธููู ุงูุฃุฌุฒุงุก ุ</em> ูุชู ุฃุฎุฐ ูุญุฏุงุช ุงูุจูุณู ูู ุฏุงุฆุฑุฉ ูุตู ูุทุฑูุง 1 ูุนุฑุถ ููุงุทู ูุชูุงุทุนุฉ.  <em>ูู ุญุงูุฉ ุงูุฌุฒูุฆุงุช instanced ุ</em> ูุชู ุฃุฎุฐ ุจูุณู ูู ุงูุนููุงู <code>INSTANCE_ID</code> ุงููุชุฑุฌู ูู ุทุฑููุฉ ุนุฑุถ ุฎุทูุฉ ุฅูู ุตููู ุซูุงุฆู ุงูุฃุจุนุงุฏ. </p><br><h1 id="4-ogranicheniya-logiki-bagiosobennosti-i-bagi-angle" style=";text-align:right;direction:rtl">  4. ุญุฏูุฏ ุงูููุทู.  ุงูุจู / ุงูููุฒุงุช ุ ูุงูุจู ANGLE </h1><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ูููู <strong>ุญุฌู ุงูุจููุณู</strong> ุ <code>BALL_SIZE</code> ูู ุงูููุฏ ุ ุถูู ุญุฏูุฏ ุงูุญุณุงุจ ุ ุฃูุจุฑ ูู <code>sqrt(2)/2</code> ูุฃูู ูู <code>1</code> .  ูููุง ุงูุชุฑุจุช ูู 1 ุ ููุช ูุณุงุญุฉ ุงููุดู ุฏุงุฎู ุงูุจูุณู (ุงูุจูุณู ููุณู) ุ ูููุง ููุช ุงููุณุงุญุฉ.  ููุงู ุญุงุฌุฉ ุฅูู ูุซู ูุฐุง ุงูุญุฌู ุญุชู ูุง ุชูุน ูุญุฏุงุช ุงูุจูุณู ูู ุจุนุถูุง ุงูุจุนุถ ุ ููููู ุชุนููู ุฃูู ูู 1 ุนูุฏูุง ูููู ูุฏูู ูุงุฆูุงุช ุตุบูุฑุฉ ุ ููุชู ุฅูุดุงุก ููู ุฃูู ูู 1 ุจูุณู (ูุญุณูุจ). </li><li style=";text-align:right;direction:rtl">  ูุง ูููู ุฃู ุชุฒูุฏ <strong>ุงูุณุฑุนุฉ</strong> ุนู <code>1</code> ุจูุณู ูุฅูุง ุณุชุฎุชูู ุงูุจูุณู.  ูููู ููููู ุงูุญุตูู ุนูู ุณุฑุนุฉ ุชุฒูุฏ ุนู <code>1</code> ููู ุฅุทุงุฑ - ุฅุฐุง ููุช ุจุนูู ุนุฏุฉ <em>ุฅุทุงุฑุงุช (fbo / viewport)</em> ูููุช ุจูุนุงูุฌุฉ ุนุฏุฉ ุฎุทูุงุช ููุทููุฉ ูู ููุช ูุงุญุฏ ุ ูุณูู ุชุฒูุฏ ุณุฑุนุฉ ุงูุฅุทุงุฑ ุจููุฏุงุฑ ุนุฏุฏ ุงููุฑุงุช ุงููุณุงููุฉ ูุนุฏุฏ fbo ุงูุฅุถุงูู.  ูุฐุง ูู ูุง ูุนูุชู ูู ุนุฑุถ ุงููุงููุฉ ุ ูุงุณุชุฎุฏุงู ุงูุฑุงุจุท ุฅูู shadertoy (bufC ูุณุฎ ุฅูู bufD). </li><li style=";text-align:right;direction:rtl">  <strong>ุงูุญุฏ ูู ุงูุถุบุท</strong> (ูุซู ุงูุฌุงุฐุจูุฉ ุ ุฃู ุบูุฑูุง ูู ุงูููุฉ ุงูุทุจูุนูุฉ ุงูุฎุฑูุทุฉ).  ุฅุฐุง ุงุชุฎุฐุช ุนุฏุฉ ูุญุฏุงุช ุจูุณู ูุฌุงูุฑุฉ ููุถุน ุฐูู (ุงูุธุฑ ุงูุตูุฑุฉ ุฃุนูุงู) ุ ูุณูุชู ุญูุธ ูุงุญุฏ ููุท ุ ุชุฎุชูู ูุญุฏุงุช ุงูุจูุณู ุงููุชุจููุฉ.  <em>ูู ุงูุณูู ููุงุญุธุฉ ุฐูู ูู ุงูุนุฑุถ ุงูุชูุถูุญู ุนูู shadertoy ุ</em> ูุชุนููู ุงููุงูุณ <em>ุนูู ูุฑุถ ุ</em> ูุชุบููุฑ ูููุฉ <code>MOUSE_F</code> ูู ุนุงู ุฅูู <code>10</code> ุ ูุชูุฌูู ุงูุฌุฒูุฆุงุช ุฅูู ุฒุงููุฉ ุงูุดุงุดุฉ ุ ูุณูู ุชุฎุชูู ูู ุจุนุถูุง ุงูุจุนุถ.  ุฃู ุงูุดูุก ููุณู ูุน <code>maxG</code> ูููุฉ ุงูุฌุงุฐุจูุฉ ูู ุนุงู. </li><li style=";text-align:right;direction:rtl">  <strong>ุนูุฉ ูู ุฒุงููุฉ.</strong>  ููู ูุนูู ูุฐุง ุงูููุทู ูู ุฌุณููุงุช GPU (instanced) ุ ูู ุงูุฃูุถู (ุฃุฑุฎุต ูุฃุณุฑุน) ุญุณุงุจ ุงูููุถุน ููุงูุฉ ูุนููุงุช ุงูุฌุณููุงุช ุงูุฃุฎุฑู ููุนุฑุถ ุ ูู <em>ูุซูู ุชุธููู</em> .  ููู Angle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุง ุชุณูุญ</a> ุจุงุณุชุฎุฏุงู ุฃูุซุฑ ูู ูุณูุฌ fbo ูุงุญุฏ ูุชุธููู ุ ูุฐูู ูุฌุจ ููู ุญุณุงุจ ุฌุฒุก ูู ุงูููุทู ุฅูู <em>Vertex-shader</em> ุญูุซ ูุชู ููู ุฑูู ุงูููุฑุณ ูู shader ุงููุซูู.  ูุฐุง ูุง ูุนูุชู ูู ููุง ุงูุชุฌุฑูุจููู ูุน ุฌุฒูุฆุงุช GPU. </li><li style=";text-align:right;direction:rtl">  <strong>ุฎุทุฃ ุฌุณูู</strong> ูู ููุง ุงูุฅุตุฏุงุฑูู ุงูุชุฌุฑูุจููู (ุจุงุณุชุซูุงุก ุงููุนุจุฉ) ุ ุณูุชู ููุฏ ูููุฉ ุงููุฑูุฒ ุฅุฐุง ูู ุชูู ูุถุงุนูุงุช <code>1/0xfffff</code> ุงุฎุชุจุงุฑ ุงูุฃุฎุทุงุก ููุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://www.shadertoy.com/view/WdtSWS</a> <br>  ุจุชุนุจูุฑ ุฃุฏู ุ ูุฐุง ููุณ ุฎุทุฃู ุ ููุฌุจ ุฃู ูููู ูุฐูู ุ ูู ุฃุฌู ุงูุจุณุงุทุฉ ุ ููุฌุฒุก ูู ูุฐู ุงูุฎูุงุฑุฒููุฉ ุ ุฃุณููุชูุง ุฎุทุฃ. </li></ol><br><p style=";text-align:right;direction:rtl">  <strong>ุฅุตูุงุญ ุงูุฎูู:</strong> <br>  <em>ูุง ุชูู ุจุชุญููู ูููุฉ ุงูููุถุน ุฅูู int-float</em> ุ ูุธุฑูุง ูุฃู <code>0xff</code> ูุฐู ุณุชุฎุชูู ุ ูุฅู 8 ุจุชุงุช ูุชุงุญุฉ ููุจูุงูุงุช ุ ูููู ุณุชุจูู ูููุฉ <code>0xffff</code> ููุจูุงูุงุช ุ ูุงูุชู ูุฏ ุชููู ูุงููุฉ ููุนุฏูุฏ ูู ุงูุฃุดูุงุก. <br>  <em>ููุฏ ูุนูุช ุฐูู ุชูุงููุง ูู ุงูุนุฑุถ ุงูุชูุถูุญู ููุนุจุฉ</em> ุ ุงุณุชุฎุฏู ููุท <code>0xffff</code> ููุจูุงูุงุช ุญูุซ ูุชู ุชุฎุฒูู ููุน ุงูุฌุณููุงุช ุ ูุชูููุช ุงูุญุฑูุฉ ุ ูุงูุตุญุฉ ุ ููุง ุฒุงูุช ููุงู ูุณุงุญุฉ ุฎุงููุฉ. </p><br><h1 id="5-dostup-k-dannym-po-indeksu" style=";text-align:right;direction:rtl">  5. ุงููุตูู ุฅูู ููุฑุณ ุงูุจูุงูุงุช </h1><br><p style=";text-align:right;direction:rtl">  ูุญุชูู instanced-particle ุนูู <code>INSTANCE_ID</code> ุงูุฎุงุต ุจู ุ ููุณุชุบุฑู ุจูุณููุง ูู ูุณูุฌ ูุงูู ุงูุฅุทุงุฑ ูุน ููุทู ุงูุฌุณููุงุช (bufC ุ ุนูู ุณุจูู ุงููุซุงู ูุชุธููู) ุ ุฅุฐุง ูููุง ุจุชูุฑูุบ <em>ูุนุฑู</em> ุงูุฌุณููุงุช (ุงูุธุฑ ุชุฎุฒูู ุงูุจูุงูุงุช) <em>ุงูุฎุงุต ุจูุฐุง ุงูุฌุณูู</em> ุ ูู ุฎูุงู <em>ูุฐุง ุงููุนุฑู ุ</em> ููุฑุฃ ุงููููุณ ูุน ุงูุจูุงูุงุช ุงูุฎุงุตุฉ ุจุงูุฌุณููุงุช (bufB) ุ ูุซุงู ุนูู ุชุธููู). </p><br><p style=";text-align:right;direction:rtl">  ูู ูุซุงู shadertoy ุ ูุฎุฒู bufB ููุท ููู ูู ุฌุณูู ุ ููู ูู ุงููุงุถุญ ุฃูู ูููู ุฃู ูููู ููุงู ุฃู ุจูุงูุงุช ุ ูุซู ุงููุชูุฉ ุ ูุงูุชุณุงุฑุน ุ ูุชุจุงุทุค ุงูุชุจุงุทุค ุงูุฐู ูุชุจ ูู ููุช ุณุงุจู ุ ููุฐูู ุฃู ุฅุฌุฑุงุกุงุช ููุทููุฉ (ุนูู ุณุจูู ุงููุซุงู ุ ููููู ููู ุฃู ุฌุณูู ุฅูู ุฃู ููุถุน (ุงูุชูุงู ููุฑู)) ุงูุฅุฌุฑุงุก ุงูููุทูู ุงูููุงุจู ูู ุงูููุฏ) ุ ููููู ุฃูุถูุง ุงูุชุญูู ูู ุญุฑูุฉ ุฃู ุฌุณูู ุฃู ูุฌููุนุฉ ูู ููุญุฉ ุงูููุงุชูุญ ... </p><br><p style=";text-align:right;direction:rtl">  <strong>ุฃุนูู ุฃูู ููููู ูุนู ุฃู ุดูุก ูุน ูู ูู ุงูุฌุฒูุฆุงุช ููุง ูู ูุงูุช ุฌุฒูุฆุงุช ุนุงุฏูุฉ ูู ุตููู ุนูู ุงููุนุงูุฌ ุ ูููู ุฃู ูุคุฏู ุงููุตูู ูู ุงุชุฌุงููู ูู ุฌุณููุงุช GPU ุฅูู ุชุบููุฑ ุญุงูุชู ุ ูููู ุฃูุถูุง ูู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ููููู ุชุบููุฑ ุญุงูุฉ ุงูุฌุณููุงุช ูู ุฎูุงู ุงูููุฑุณ (ุจุงุณุชุฎุฏุงู ุงูุฅุฌุฑุงุกุงุช ุงูููุทููุฉ ูุงููููุณ ุงูุจูุงูุงุช ุงูุนุงุฒูุฉ).</strong> </p><br><h1 id="chast-2" style=";text-align:right;direction:rtl">  ุงูุฌุฒุก 2 </h1><br><h1 id="1-ispolzuemye-vozmozhnosti-etoy-logiki-i-bystryy-rendering-milliona-chastic-pikseley" style=";text-align:right;direction:rtl">  1. ุชุณุชุฎุฏู ููุฒุงุช ูุฐุง ุงูููุทู.  ูุชูุฏูู ุณุฑูุน ููุฌุณููุงุช ููููู ุจูุณู </h1><br><p style=";text-align:right;direction:rtl">  ุญุฌู ูุฑุงูุจูููุฑ (fbo / viewport) ููุฌุณููุงุช ูู 1280 ร 720 ุ ุงูุฃุฌุฒุงุก ุชูุน ุจุนุฏ 1 ุ ููุฐุง ูู 230 ุฃูู ุฌุณูู ูุดุท (ุงูุนูุงุตุฑ ุงููุดุทุฉ ูู ุงููุชุงูุฉ). <br>  <em>ูุง ููุฌุฏ ุฏุงุฆููุง ุฃูุซุฑ ูู 12 ุฃูู ุฌุณููุงุช ูุซุจุชุฉ ุนูู ูุญุฏุฉ ูุนุงูุฌุฉ ุงูุฑุณููุงุช ุนูู ุงูุดุงุดุฉ.</em> </p><br><p style=";text-align:right;direction:rtl">  <strong>ูุณุชุฎุฏู ุงูููุทู:</strong> </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููุทู ุงููุดุบู ูููุตู ุนู ููุทู ุงูุฌุณููุงุช ุ ููุฑุงุกุฉ ุงูุจูุงูุงุช ููุท ูู ุงููุฎุฒู ุงููุคูุช ููุฌุณููุงุช. </li><li style=";text-align:right;direction:rtl">  ูุจุทุฆ ุงููุงุนุจ ุนูุฏ ุงูุงุตุทุฏุงู ุจุงููุงุฆูุงุช. </li><li style=";text-align:right;direction:rtl">  ูุงุฆูุงุช ููุน ุงููุญุด ุชุชูู ุงููุงุนุจ. </li><li style=";text-align:right;direction:rtl">  ูุฏู ุงููุงุนุจ ูุฌููุงู ุ ุฃุญุฏููุง ูุตุฏ ูู ุดูุก ุญููู ุ ูุงูุซุงูู ููุดุฆ ุฌุฒูุฆุงุช ูุซู <em>ูุฑุฉ ูุงุฑูุฉ</em> (ุงูุตูุฑุฉ ูุซู ูุฐุง) </li><li style=";text-align:right;direction:rtl">  ููุน <em>ูุฑุฉ ุงููุงุฑ</em> ูุฏูู ูุชูุชู ุงูุฎุงุตุฉ ุ ูุงูุชุชุจุน ุงูุซูุงุฆู ููุงุตุทุฏุงูุงุช ูุน ุฃุนูุงู ุงูุฌุฒูุฆุงุช ุงูุฃุฎุฑู. </li><li style=";text-align:right;direction:rtl">  ูุชู ุชุฏููุฑ ุฌุฒูุฆุงุช ุฃุฎุฑู ูุซู <em>ุงูุฒูุฑ</em> <em>ูุงููุณุงูู</em> (ููุน ูุงุญุฏ ูู ุงููุตุจูุจ) ูู ุชุตุงุฏู ูุน <em>ูุฑุฉ ูุงุฑูุฉ</em> </li><li style=";text-align:right;direction:rtl">  <em>ูุฑุฉ ูุงุฑูุฉ</em> ุชุฎุฑุฌ ุจุนุฏ ุงุตุทุฏุงู ูุงุญุฏ </li><li style=";text-align:right;direction:rtl">  ูุณุชููุงุช <em>ุงูููุฒูุงุก</em> - ูุชู ุตุฏ ุงูุฃุดุฌุงุฑ ูุงููุฑุจุนุงุช ูู ูุจู ุงููุงุนุจ ุ ูุงูุฌุฒูุฆุงุช ุงูุฃุฎุฑู ูุง ุชุชูุงุนู ุ ููุง ุชูุฌุฏ ุชุณุงุฑุน ูู <em>ูุฑุฉ ุงููุงุฑ</em> </li><li style=";text-align:right;direction:rtl">  ุชูููุช ุงูุฑุณูู ุงููุชุญุฑูุฉ ูู ูุฑูุฏุฉ ูู ููุนูุง ููู ุงูุฌุณููุงุช </li></ul><br><p style=";text-align:right;direction:rtl">  ุจุงูููุงุฑูุฉ ูุน ุนุฑุถ ุงููุงููุฉ ุ ุญูุซ ููุฌุฏ ุญูู ุ <strong>ูู ูุฐู ุงููุนุจุฉ ุ ูุจูุบ ุนุฏุฏ ุงูุฌุณููุงุช ุงูุชู ุชุญุชูู ุนูู GPU 12 ุฃูู ููุท.</strong> </p><br><p style=";text-align:right;direction:rtl">  ูุจุฏู ูุซู ูุฐุง: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/lk/kt/9-/lkkt9-59aoftj47pqbpy4q5anfk.png"></p><br><p style=";text-align:right;direction:rtl">  ูุนุชูุฏ ุนุฏุฏูู ุนูู ุงูุชูุจูุฑ / ุงูุชุตุบูุฑ ุงูุญุงูู ููุฎุฑูุทุฉ ุ ูุชูุชุตุฑ ุงูุฒูุงุฏุฉ ุนูู ูููุฉ ูุนููุฉ ุ ูุฐูู ูุชู ุงููุธุฑ ููุท ูู ุชูู ุงูุชู ุชุธูุฑ ุนูู ุงูุดุงุดุฉ. <br>  ุชูููุจ ุงูุดุงุดุฉ ูุน ุงููุดุบู ุ ูููุทู ุญุณุงุจ ุงูุชุญููุงุช ูู ูุนูุฏ ููููุงู ุ ูุธุฑููู ููุบุงูุฉ ุ ูุฃุดู ูู ุฃููุง ุณูู ุชุฌุฏ ุงูุชุทุจูู ูู ูุดุฑูุน ุขุฎุฑ. </p><br><h1 id="2-realizaciya-nemnogo-kommentariev-k-kodu" style=";text-align:right;direction:rtl">  2. ุงูุชูููุฐ ุ ุจุนุถ ุงูุชุนูููุงุช ุนูู ุงูููุฏ. </h1><br><p style=";text-align:right;direction:rtl">  ูู ุฑูุฒ ุงููุนุจุฉ ูู ุนูู GPU. </p><br><p style=";text-align:right;direction:rtl">  <strong>ููุทู ุญุณุงุจ ุชุญูู ุงูุฌุณููุงุช</strong> ูู ุงูุดุงุดุฉ ูุน ุฒูุงุฏุฉ ูู ูุธููุฉ <em>ููุฉ ุงูุฑุฃุณ</em> ูู ููู / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">shaders/scene2/particle_logic2.shader</a> ูู ููู ุชุธููู ุงูุฌุณููุงุช (ููุฉ ุงูุฑุฃุณ ูุดุธูุฉ) ุ ูููุณ ุชุธููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฏุฑุฌ</a> ุ ุชุธููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฏูุฌ</a> ูุง ููุนู ุดูุฆูุง ุ ูููุฑ ููุท ูุคุดุฑู ุจุณุจุจ ุนูุฉ ุงููุฐููุฑุฉ ุฃุนูุงู. </p><br><p style=";text-align:right;direction:rtl">  <strong>ุงูุฌุณููุงุช ุญุณุจ ุงูููุน</strong> ูุงูููุทู ุงููุงูู ูุชูุงุนู ุงูุฌุณููุงุช ูู ููู ุ ูุฐุง ูู ููู ูุชุธููู ุชุธููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฅุทุงุฑ</a> shader file <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">shaders / scene2 / particles_fbo_logic.shader</a> </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">// 1-2 ghost // 3-zombi // 4-18 blocks // +20 is on fire // 40 is bullet(right) 41 left 42 top 43 down</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจูุณู <strong>ุชุฎุฒูู ุงูุจูุงูุงุช</strong> <code>[pos.x, pos.y, [0xffff-vel.x, 0xff-data1],[0xffff-vel.y, 0xff-data2]]</code> <br>  data1 ูู ููุน ุ data2 ุนุจุงุฑุฉ ุนู HP ุฃู ูุคูุช. </p><br><p style=";text-align:right;direction:rtl">  <em>ูุนูู ุงููุคูุช ุนูู ุฅุทุงุฑุงุช ูู ูู ุฌุณูู</em> ุ ูุงูุญุฏ ุงูุฃูุตู ููููุฉ ุงููููุช ูู 255 ุ ููุง ุฃุญุชุงุฌ ุฅูู ุฐูู ูุซูุฑูุง ุ ูุฃูุง ุฃุณุชุฎุฏู ููุท 1-16 ูุญุฏ ุฃูุตู ( <code>0xf</code> ) ุ ููุง ูุฒุงู <code>0xf</code> ุบูุฑ ูุณุชุฎุฏู ุญูุซ ููููู ุนูู ุณุจูู ุงููุซุงู ุชุฎุฒูู ูููุฉ HP ุงูุญููููุฉ ุ ููุง ูุชู ุงุณุชุฎุฏุงููุง ุจุงููุณุจุฉ ูู.  (ุฃู ุ ูุนู ุ <strong>ุฃุณุชุฎุฏู <code>0xff</code></strong> ุ ููู ูู ุงูุญูููุฉ ููุณ ูุฏู ุณูู ุฃูู ูู 16 ุฅุทุงุฑ ุฑุณูู ูุชุญุฑูุฉ ุ ููุงู <code>0xf</code> ูุงููุงู ุ ููููู ูู ุฃูู ุจุญุงุฌุฉ ุฅูู ุจูุงูุงุช ุฅุถุงููุฉ) <br>  ูู ุงููุงูุน <code>0xff</code> ุงุณุชุฎุฏุงู <code>0xff</code> ููุท ูู ุชูููุช ุงูุฃุดุฌุงุฑ ุงููุญุชุฑูุฉ ุ ูุฅููุง ุชุชุญูู ุฅูู ุฒููุจู ุจุนุฏ 255 ุฅุทุงุฑูุง.  ููุทู ุงููููุช ููุฌูุฏ ุฌุฒุฆููุง ูู <code>type_hp_logic</code> ูู ุชุธููู framebuffer <code>type_hp_logic</code> (ุงูุฑุงุจุท ุฃุนูุงู). </p><br><h1 id="primer-raboty-kollizii-v-dve-storony-kogda-fireball-gasnet-pri-pervom-udare-i-obekt-s-kotorym-byl-udar-tozhe-vypolnyaet-svoe-deystvie" style=";text-align:right;direction:rtl">  <strong>ูุซุงู ุนูู ุนูููุฉ ุชุตุงุฏู ุซูุงุฆูุฉ ุงูุงุชุฌุงู</strong> ุนูุฏูุง <em>ุชูุทูู ูุฑุฉ ูุงุฑูุฉ</em> ูู ุงูุถุฑุจุฉ ุงูุฃููู ุ ููููู ุงููุงุฆู ุงูุฐู ุชู ุถุฑุจู ุฃูุถูุง ุจุนููู. </h1><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุธููู</a> ุงูููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">/ scene2 / particles_fbo_logic.shader</a> ุณุทุฑ 438: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (((real_index == <span class="hljs-number"><span class="hljs-number">40</span></span>) || (real_index == <span class="hljs-number"><span class="hljs-number">41</span></span>) || (real_index == <span class="hljs-number"><span class="hljs-number">42</span></span>) || (real_index == <span class="hljs-number"><span class="hljs-number">43</span></span>)) &amp;&amp; (type_hp.y &gt; <span class="hljs-number"><span class="hljs-number">22</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> h_id = get_id(fragCoord + vec2(<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>(x), <span class="hljs-keyword"><span class="hljs-keyword">float</span></span>(y))); ivec2 htype_hp = unpack_type_hp(h_id); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> hreal_index = htype_hp.x; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((hreal_index != <span class="hljs-number"><span class="hljs-number">40</span></span>) &amp;&amp; (hreal_index != <span class="hljs-number"><span class="hljs-number">41</span></span>) &amp;&amp; (hreal_index != <span class="hljs-number"><span class="hljs-number">42</span></span>) &amp;&amp; (hreal_index != <span class="hljs-number"><span class="hljs-number">43</span></span>)) type_hp.y = <span class="hljs-number"><span class="hljs-number">22</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!need_upd) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> h_id = get_id(fragCoord + vec2(<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>(x), <span class="hljs-keyword"><span class="hljs-keyword">float</span></span>(y))); ivec2 htype_hp = unpack_type_hp(h_id); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> hreal_index = htype_hp.x; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (((hreal_index == <span class="hljs-number"><span class="hljs-number">40</span></span>) || (hreal_index == <span class="hljs-number"><span class="hljs-number">41</span></span>) || (hreal_index == <span class="hljs-number"><span class="hljs-number">42</span></span>) || (hreal_index == <span class="hljs-number"><span class="hljs-number">43</span></span>)) &amp;&amp; (htype_hp.y &gt; <span class="hljs-number"><span class="hljs-number">22</span></span>)) { need_upd = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  <code>real_index</code> ูู ููุน ุ ุงูุฃููุงุน ุงููุฐููุฑุฉ ุฃุนูุงู ุ 40-43 ูู <em>ูุฑุฉ ูุงุฑูุฉ</em> . <br>  ุงููุฒูุฏ <code>type_hp.y &gt; 22</code> ูู ูููุฉ ุงููุคูุช ุ ุฅุฐุง ูุงูุช ุฃูุจุฑ ูู 22 ุ ูุฅู <em>ูุฑุฉ ุงููุงุฑ</em> ูู ุชุตุงุฏู ุฃู ุดูุก. <br>  <code>h_id = get_id(...</code> ุฎุฐ ูููุฉ ุงูููุน ู HP (ูุคูุช) ููุฌุณูู ุงูุฐู ูุงุฌูุชู <br>  <code>hreal_index != 40...</code> ุงูููุน ุงููุชุฌุงูู ( <em>ูุฑุฉ ูุงุฑูุฉ</em> ุฃุฎุฑู) <br>  <code>type_hp.y = 22</code> ุชู ุถุจุท ูุคูุช ุนูู 22 ุ ููุฐุง ูุคุดุฑ ุนูู ุฃู <em>ูุฑุฉ ุงููุงุฑ</em> ูุฐู ุงุตุทุฏูุช ุจูุงุฆู ูุงุญุฏ. <br>  <code>else { if (!need_upd)</code> ูุชุญูู ุงููุชุบูุฑ need_upd ูู ุนุฏู ูุฌูุฏ ุชุตุงุฏูุงุช ูุชูุฑุฑุฉ ุ ูุฃู ุงููุธููุฉ ูู ุญููุฉ ุ ููุงุฌู <em>ูุฑุฉ ูุงุฑูุฉ</em> ูุงุญุฏุฉ. <br>  <code>h_id = get_id(...</code> ุฅุฐุง ูู ููู ููุงู ุชุตุงุฏู ุจุนุฏ ุ ููุญู ูุฃุฎุฐ ูุงุฆููุง ูู ุงูููุน ูุงููููุช. <br>  <code>hreal_index == 40...htype_hp.y &gt; 22</code> ุฃู ูุงุฆู ุงูุชุตุงุฏู ูู <em>ูุฑุฉ ูุงุฑูุฉ</em> ููุง ูุฎุฑุฌ. <br>  <code>need_upd = true</code> ุนูู <code>need_upd = true</code> ุจุฃูู ูู ุงูุถุฑูุฑู ุชุญุฏูุซ ุงูููุน ูุฃูู ุตุงุฏู <em>ูุฑุฉ ูุงุฑูุฉ</em> . </p><br><p style=";text-align:right;direction:rtl">  ุฎุท ุฅุถุงูู 481 <br>  <code>if((need_upd)&amp;&amp;(real_index&lt;24)){</code> real_index &lt;24 ุญุณุจ ุงูููุน ุฃูู ูู 24 ููุงู ุฃุดุฌุงุฑ ุบูุจูุจุฉ ูุฃุดุจุงุญ ุบูุฑ ูุญุชุฑูุฉ ุ ุซู ูููู ูู ูุฐู ุงูุญุงูุฉ ุจุชุญุฏูุซ ุงูููุน ููููุง ููููุน ุงูุญุงูู. </p><br><p style=";text-align:right;direction:rtl">  ูุจุงูุชุงูู ุ ูููู ุฅุฌุฑุงุก ุฃู ุชูุงุนู ููุฃุฌุณุงู ุชูุฑูุจูุง. </p><br><h1 id="vzaimodeystvie-s-igrokom" style=";text-align:right;direction:rtl">  <strong>ุงูุชูุงุนู ูุน ุงููุงุนุจ:</strong> </h1><br><p style=";text-align:right;direction:rtl">  ููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุธููู / scene2 / logic.shader</a> ุณุทุฑ 143 ูุธููุฉ <code>player_collision</code> </p><br><p style=";text-align:right;direction:rtl">  ููุฑุฃ ูุฐุง ุงูููุทู ุงูุจููุณูุงุช ุงูููุฌูุฏุฉ ุญูู ุงููุดุบู ุจูุตู ูุทุฑ 4 ร 4 ุจูุณู ุ ููุฃุฎุฐ ููุถุน ูู ุจูุณู ูููุงุฑููุง ุจููุถุน ุงููุงุนุจ ุ ุฅุฐุง ุชู ุงูุนุซูุฑ ุนูู ุนูุตุฑ ุซู ุงูุชุจ check check ูู ุงูุชุงูู ุ ุฅุฐุง ูุงู ูุฐุง ูุญุดูุง ุ ูุณูุฃุฎุฐ HP ูู ุงููุดุบู. </p><br><p style=";text-align:right;direction:rtl">  <em>ูุฐุง ูุนูู ุจุดูู ุบูุฑ ุฏููู ููููุงู ููู ุฃูู ุฃุฑูุฏ ุฅุตูุงุญู</em> ุ ูููู ุฌุนู ูุฐู ุงููุธููุฉ ุฃูุซุฑ ุฏูุฉ. </p><br><p style=";text-align:right;direction:rtl">  <strong>ุชุฏูุน ุงูุฌุฒูุฆุงุช ุจุนูุฏูุง ุนู ุงููุงุนุจ ูุชุฃุซูุฑ ุงูุชูุงูุฑ ุฃุซูุงุก ุงููุฌูู:</strong> </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุงุณุชุฎุฏุงู ุฃุฏุงุฉ ุถุจุท ุงูุฅุทุงุฑ (ุฅุทุงุฑ ุงูุนุฑุถ) ููุชุงุจุฉ ุงูุฅุฌุฑุงุกุงุช ุงูุญุงููุฉ ุ ูุชููู ุงูุฌุณููุงุช ( <em>particles_fbo_logic.shader</em> ) ุจุฃุฎุฐ ูุฐุง ุงููููุณ (ุงูุนุงุฏู) ูู ููุถุนู ูุชุทุจูู ุงููููุฉ ุนูู ุณุฑุนุชู ูููุถุนู.  ุงูุฑูุฒ ุงููุงูู ููุฐุง ุงูููุทู ูู ุญุฑูููุง ูุฌุฑุฏ ุณุทุฑูู ุ file <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">force_collision.shader</a> </p><br><p style=";text-align:right;direction:rtl">  <strong>ุนูุฏ ุงูููุฑ ุนูู ุฒุฑ ุงููุงูุณ ุงูุฃูุณุฑ ุ ุชุทูุฑ ูุฐุงุฆู</strong> <em>ูุฑุฉ ูุงุฑูุฉ</em> <strong>ุ</strong> ูุธูุฑูุง <em>ููุณ ุทุจูุนููุง ุฌุฏูุง</em> ุ ููู ูู ุชุตุญุญ ูุชุฑูุช ูู ูุฐุง ุงููููุฐุฌ. </p><br><p style=";text-align:right;direction:rtl">  ููููู ุฅูุง ุฅูุดุงุก ููุทูุฉ ุทุจูุนูุฉ (ุดูู) ูุฌุฒูุฆุงุช ุงูุชูุฑุฎ ูุน ุชุญูู ูุธูุฑ ุจุงููุณุจุฉ ููุงุนุจ (ูู ูุชู ุฐูู). <br>  ุฃู ููููู ุฌุนู <em>ูุฑุฉ ุงููุงุฑ</em> ูุงุฆููุง ูููุตูุงู ููุงุนุจ ูุงูุฑุณู ุงูุทุจูุนู ูู ุงููุฎุฒู ุงููุคูุช ูุฏูุน ุงูุฌุฒูุฆุงุช ุจุนูุฏูุง ุนู <em>ูุฑุฉ ุงููุงุฑ</em> ุ ูุฐูู ุนู ุทุฑูู ุงูููุงุณ ูุน ุงููุงุนุจ ... <br>  ูู ูุญุชุงุฌ ุฅูู ุงูุงุนุชูุงุฏ ุจุฃููู ุณูู ููุชุดูููู ุจุฃููุณูู. </p><br><h1 id="3-ssylki-na-ispolzuemuyu-grafiku-s-opengameart-i-sheyder-teney" style=";text-align:right;direction:rtl">  3. ูุตูุงุช ุฅูู ุงูุฑุณููุงุช ุงููุณุชุฎุฏูุฉ ูุน opengameart ุ ูุชุธููู ุงูุธู </h1><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><strong>ุญุตูุช ุนูู ุฑุงุจุท ูููุงู ุนู cyberleninka.ru</strong></a> <br>  ูููู ูุตู ุงูุฎูุงุฑุฒููุฉ ุงูุชู ุงุณุชุฎุฏูุชูุง ุ ุฑุจูุง <em>ููุฌุฏ ูุตู ุฃูุซุฑ ุชูุตูููุง ูุตุญูุญูุง</em> ูู ููุงูุชู ูุฐู. </p><br><p style=";text-align:right;direction:rtl">  ูุนูู <strong>shader shadow</strong> ุจุจุณุงุทุฉ ุดุฏูุฏุฉ ุ ุจูุงุกู ุนูู ูุฐุง shader <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://www.shadertoy.com/view/XsK3RR</a> (ูุฏู ุฑูุฒ ูุนุฏูู) <br>  ุดุงุฏุฑ ูุจูู <em>1D ุดุนุงุนู Lightmap</em> </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/e2/rh/op/e2rhopezigurqa3rkvhrb44vxxw.png"></p><br><p style=";text-align:right;direction:rtl">  ูุงูุชุธููู ูู ุชุธููู ุฑูุฒ ุงููููุฉ ุงููููุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">/ scene2 / mainImage.shader</a> </p><br><p style=";text-align:right;direction:rtl">  <strong>ุฑูุงุจุท ุฅูู ุงูุฑุณููุงุช ุงููุณุชุฎุฏูุฉ</strong> ุ ูุฌููุน ุงูุฑุณููุงุช ูู ุงููุนุจุฉ ูู ุงููููุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://opengameart.org</a> <br>  <em>ูุฑุฉ ูุงุฑูุฉ</em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://opengameart.org/content/animated-traps-and-obstacles</a> <br>  ุญุฑู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://opengameart.org/content/legend-of-faune</a> <br>  ุงูุฃุดุฌุงุฑ ูุงููุชู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://opengameart.org/content/lolly-set-01</a> <br>  (ูุฒูุฌูู ูู ุงูุตูุฑ ูุน opengameart) </p><br><p style=";text-align:right;direction:rtl">  <strong>ุชู</strong> ุงูุญุตูู ุนูู <strong>ุงูุฑุณููุงุช ูู ุงููุงุฆูุฉ</strong> ุจูุงุณุทุฉ ุชุธููู 2D_GI ุ ููู ุฃุฏุงุฉ ูุฅูุดุงุก ูุซู ูุฐู ุงูููุงุฆู: </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/HTuG5UOMC74" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p style=";text-align:right;direction:rtl">  ุงูุฐูู ูุฑุฃูุง ุฅูู ุงูููุงูุฉ - ุฃุญุณูุช :) <br>  ุฅุฐุง ูุงู ูุฏูู ุฃุณุฆูุฉ ุ ุงุณุฃู ุ ูููููู ุงุณุชููุงู ุงููุตู ุนูุฏ ุงูุทูุจ. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar474676/">https://habr.com/ru/post/ar474676/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar474664/index.html">ูุฒูุงุฏุฉ ุงูุงูุชุจุงู ุ ูุฅู ุนููููุง ูุง ุชุฒูุฏ ูู ุงูุชุฑููุฒ ุ ูููููุง ุชุณุชุฎุฏู ูุฑุดุญุงุช ุงููุนูููุงุช</a></li>
<li><a href="../ar474666/index.html">ููู ูุง ูุฅุนุงุฏุฉ ูุชุงุจุฉ ูุดุฑูุน ูู ุงูุตุฏุฃ</a></li>
<li><a href="../ar474668/index.html">ุฅุฌุฑุงุกุงุช GitHub ูุซู CI / CD ููููุน ุนูู ูููุฏ ุซุงุจุช ูุตูุญุงุช GitHub</a></li>
<li><a href="../ar474672/index.html">React ุ JSX ุ ุงุณุชูุฑุงุฏ ูุญุฏุงุช ES (ุจูุง ูู ุฐูู ุงูุฏููุงูููู) ูู ูุณุชุนุฑุถ ุจุฏูู Webpack</a></li>
<li><a href="../ar474674/index.html">ุขูุฉ ุงูุฑุคูุฉ ูุงูุทุจ</a></li>
<li><a href="../ar474678/index.html">ูุงูุช ูุฌููุนุฉ ุฎุฑูููุณ ุจุฅูุดุงุก ูุณุชูุฏุน ููุญุฏ ุจุฃูุซูุฉ ููููุงู</a></li>
<li><a href="../ar474680/index.html">AI ู 2048. ุงูุฌุฒุก 2: Minimax + alpha beta ููุทุฉ</a></li>
<li><a href="../ar474686/index.html">ูุตุฉ ุฑุงุฆุนุฉ "ุงูุฎูุงุต" (10 ุฏูุงุฆู)</a></li>
<li><a href="../ar474688/index.html">ูุทุงุฑ ุงูุฑุฌุนูุฉ ูุน ูุงุทุฑุฉ ุงูุจุฎุงุฑ</a></li>
<li><a href="../ar474690/index.html">ุฅูุดุงุก ูุญุฏุฉ ุชุญูู ูุน ุงุฑุชูุงุน ูุชุบูุฑ ููุนูู ุฃูุซุฑ ููุงุกูุฉ ุนูู ุฌูุงุฒ ููุจููุชุฑ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>