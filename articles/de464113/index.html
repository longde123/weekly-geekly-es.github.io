<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ô®Ô∏è üéã üì¶ "CAD f√ºr alle, kostenlos, und lassen Sie niemanden los ..." oder die ersten Schritte bei der Programmierung von FreeCAD in Python üë©‚Äçüë©‚Äçüëß‚Äçüë¶ üëÉüèº ü§≥üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Vielleicht sind Sie am Beispiel von NanoCAD bereits auf meine Notizen zu den ersten Schritten der CAD-Programmierung gesto√üen. 

 Es sollte beachtet w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>"CAD f√ºr alle, kostenlos, und lassen Sie niemanden los ..." oder die ersten Schritte bei der Programmierung von FreeCAD in Python</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/464113/"> Vielleicht sind Sie am Beispiel von NanoCAD bereits auf meine Notizen zu den ersten Schritten der CAD-Programmierung gesto√üen. <br><br>  Es sollte beachtet werden, dass es f√ºr eine Person, die nicht wei√ü, wie man programmiert und CAD auf der Ebene des "elektronischen Culman" kennt, ein erstaunliches Abenteuer war.  NanoCAD ist jedoch nach wie vor in erster Linie ein kommerzielles Produkt.  Die kostenlose Version wurde seit etwa sechs Jahren nicht mehr aktualisiert und ist hinsichtlich der Entwicklungsm√∂glichkeiten veraltet. <br><br>  Aber ich wollte wirklich, wie in einer wunderbaren Geschichte: <i>"Gl√ºck f√ºr alle, vergebens, und niemanden beleidigen lassen!"</i>  .  Daher wurde beschlossen, den Rat eines Kampfgenossen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">DrZugrik zu befolgen</a> und FreeCAD selbst zu installieren. <br><br>  Ich schreibe also Material f√ºr Sie. In nur einem Tag habe ich gelernt, wie man diese CAD-Software mit Anaconda befreundet. Ich habe ein einfaches Skript in Python geschrieben, das ein kleines Quadrat mit Text zeichnet, und es f√ºr die Arbeit unter Windows und Linux getestet.  Was bin ich eigentlich bereit, dir in Schritten zu sagen und zu zeigen, damit auch du das kannst? <br><br>  M√∂chten Sie ein charmantes Paar von Python und FreeCAD kennenlernen?  Dann sind Sie unter Katze willkommen. <br><br><img src="https://habrastorage.org/webt/zb/s6/qb/zbs6qbcrm_xvuqlv5mcov7zo8js.png"><br><a name="habracut"></a><br><a name="I"></a><br>  Inhalt: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil I: Einf√ºhrung.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil II: Standardinstallation und erste Probe</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil III: Freunde dich jetzt mit Anaconda bei FreeCad an</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil IV: Schreiben einer einfachen Bibliothek</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil V: Schlussfolgerung</a> <br><br><h4>  Teil I: Einf√ºhrung </h4><br>  Seltsamerweise gibt es auf Habr√© nur sehr wenige Ver√∂ffentlichungen zu FreeCAD, einen guten Artikel von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">Eddy_Em</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">‚ÄûMeet: FreeCAD‚Äú</a> und einige weitere Werke, in denen der Held unseres Artikels <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">nebenbei</a> erw√§hnt wird. <br><br>  Zun√§chst nur zwei Worte zum Programm.  Ich werde die Informationen von der offiziellen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Website</a> nicht duplizieren, sondern einfach in groben Z√ºgen beschreiben, warum ich mich diesem CAD zugewandt habe. <br><br>  FreeCAD ist also ein Open-Source-System f√ºr computergest√ºtztes Design, das sich haupts√§chlich auf die dreidimensionale parametrische Modellierung konzentriert.  Zum Zeitpunkt des Schreibens ist die neueste Version des Programms 0.18.3.  Seien Sie nicht verwirrt, dass der Wert der Versionsnummer weit von eins entfernt ist.  FreeCAD ist lang und aktiv entwickelt und derzeit recht funktionsf√§hig.  Dar√ºber hinaus hat es, wie ich es seit langem verstehe, eine gewisse Beliebtheit bei Menschen, die sich mit 3D-Modellierung und -Druck befassen, insbesondere bei selbstgemachten ideologischen Menschen, die sich f√ºr Open Source / Open Hardware und alle Arten von Heimwerken interessieren. <br><br>  Wenn Sie jedoch die 3D-Modellierung pl√∂tzlich √ºberhaupt nicht mehr verstehen, ist dies kein Grund, FreeCAD zu umgehen.  Die CAD-Funktionalit√§t ist in bestimmte Module unterteilt - Workbench, darunter die √ºbliche 2D-Zeichnung, einschlie√ülich einer Workbench zum Dekorieren von Blattrahmen und sogar einer Workbench zur Implementierung des BIM-Konzepts. <br><br>  Eigentlich hat das Programm einen "Wagen und einen kleinen Wagen", aber heute werden wir versuchen, etwas v√∂llig Primitives zu tun, nur um "Ihren Appetit anzuregen". <br><a name="II"></a><br><br><h4>  Teil II: Standardinstallation und erste Probe </h4><br>  FreeCAD ist f√ºr alle drei g√§ngigen Betriebssysteme verf√ºgbar. Da mir jedoch die "Apple" -Technik entzogen ist, werden nur Optionen f√ºr Windows 10 und Linux Mint in Betracht gezogen. <br><br>  Der einfachste Weg, um mit der Programmierung f√ºr FreeCAD zu beginnen, besteht darin, das Distributionskit herunterzuladen und es auf eine f√ºr das Betriebssystem √ºbliche Weise zu installieren.  In diesem Fall steht uns ein mit dem Programm vorinstallierter Python-Interpreter zur Verf√ºgung (zum Zeitpunkt des Schreibens des Python-Artikels Version 3.6.6). <br><br>  Um die Programmierung f√ºr FreeCAD zu starten, vielleicht sogar einfacher als f√ºr NanoCAD oder AutoCAD, √∂ffnen Sie einfach die Registerkarte Ansicht -&gt; Bedienfeld -&gt; und schalten Sie die Python-Konsole ein.  Das ist alles, was Sie sicher programmieren k√∂nnen. <br><br>  Aber zuerst versuchen wir, etwas mit normalen Mitteln zu zeichnen.  Zum Beispiel ein Kreis. <br>  Achten Sie auf die Konsolenausgabe <br><br><pre><code class="python hljs">Gui.activateWorkbench(<span class="hljs-string"><span class="hljs-string">"DraftWorkbench"</span></span>) &gt;&gt;&gt; App.newDocument(<span class="hljs-string"><span class="hljs-string">""</span></span>) &gt;&gt;&gt; App.setActiveDocument(<span class="hljs-string"><span class="hljs-string">"____________________"</span></span>) &gt;&gt;&gt; App.ActiveDocument=App.getDocument(<span class="hljs-string"><span class="hljs-string">"____________________"</span></span>) &gt;&gt;&gt; Gui.ActiveDocument=Gui.getDocument(<span class="hljs-string"><span class="hljs-string">"____________________"</span></span>) &gt;&gt;&gt; Gui.activeDocument().activeView().viewDefaultOrientation() &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Draft &gt;&gt;&gt; pl=FreeCAD.Placement() &gt;&gt;&gt; pl.Rotation.Q=(<span class="hljs-number"><span class="hljs-number">0.0</span></span>,<span class="hljs-number"><span class="hljs-number">0.0</span></span>,<span class="hljs-number"><span class="hljs-number">1.5308084989341915e-17</span></span>,<span class="hljs-number"><span class="hljs-number">1.0</span></span>) &gt;&gt;&gt; pl.Base=FreeCAD.Vector(<span class="hljs-number"><span class="hljs-number">-1.0610677003860474</span></span>,<span class="hljs-number"><span class="hljs-number">-0.31207874417305</span></span>,<span class="hljs-number"><span class="hljs-number">0.0</span></span>) &gt;&gt;&gt; circle = Draft.makeCircle(radius=<span class="hljs-number"><span class="hljs-number">0.8633861373365326</span></span>,placement=pl,face=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>,support=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) &gt;&gt;&gt; Draft.autogroup(circle</code> </pre> <br><img src="https://habrastorage.org/webt/de/z5/tj/dez5tjh3qiturpqcdegtzclmwtq.png"><br><br>  FreeCAD verbirgt nichts unter der Haube, alle wichtigen Operationen zum Zeichnen eines Kreises werden in der Konsole angezeigt.  Sie k√∂nnen den Code auch jetzt noch kopieren und einen zweiten Kreis ein wenig rechts zeichnen. <br>  Versuchen wir, eine Variable einzugeben und einen weiteren Kreis zu zeichnen, f√ºr den wir die Konsolenausgabe kopieren und zeilenweise einf√ºgen, wobei wir eine kleine √Ñnderung vornehmen. <br><br><pre> <code class="python hljs">x=<span class="hljs-number"><span class="hljs-number">-1.0610677003860474</span></span> pl=FreeCAD.Placement() pl.Rotation.Q=(<span class="hljs-number"><span class="hljs-number">0.0</span></span>,<span class="hljs-number"><span class="hljs-number">0.0</span></span>,<span class="hljs-number"><span class="hljs-number">1.5308084989341915e-17</span></span>,<span class="hljs-number"><span class="hljs-number">1.0</span></span>) pl.Base=FreeCAD.Vector(x*<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">-0.31207874417305</span></span>,<span class="hljs-number"><span class="hljs-number">0.0</span></span>) circle = Draft.makeCircle(radius=<span class="hljs-number"><span class="hljs-number">0.8633861373365326</span></span>,placement=pl,face=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>,support=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>)</code> </pre><br>  Wie Sie jetzt sehen k√∂nnen, gibt es zwei Kreise und wie geplant einen rechts von der x-Koordinate des Basispunkts des ersten Kreises multipliziert mit 5. <br><br><img src="https://habrastorage.org/webt/ma/gc/gj/magcgjk1bliuyetenjwldcxsm9a.png"><br><br><a name="III"></a><br><h4>  Teil III: Freunde dich jetzt mit Anaconda bei FreeCad an </h4><br>  Die F√§higkeiten von CAD sind jedoch nicht auf die Standardverwendung als "Culman" beschr√§nkt.  Mit der API kann FreeCAD in Ihr eigenes Programm eingebettet und mit oder ohne grafische Oberfl√§che verwendet werden. Wir werden uns jedoch ein anderes Mal mit diesem Problem befassen. <br><br>  Stellen Sie sich diese Situation in der Zwischenzeit vor. Nehmen wir an, Sie lieben maschinelles Lernen und Datenanalyse in Python und haben das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Anaconda-Distributionskit</a> bereits installiert. Dann werden Sie wahrscheinlich sehr erfreut sein zu erfahren, dass Sie dank der Mitarbeiter von conda-forge alle Funktionen dieses Distributionskits und FreeCAD kombinieren k√∂nnen. <br><br>  Der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Link</a> enth√§lt Anleitungen zur Installation, wenn Sie Mini-Conda verwenden, und wir werden es √ºber den Navigator in der vollwertigen ‚ÄûAnaconda‚Äú installieren. <br><br>  √ñffnen Sie also Anaconda-Navigator, wechseln Sie zur Registerkarte <b>Umgebungen</b> und erstellen Sie eine neue Umgebung, indem Sie auf die Schaltfl√§che <b>Erstellen</b> klicken.  Den Namen der Umgebung kann man jedem geben, den ich "freecad" nannte.  Wir w√§hlen die erforderliche Version von Python aus und erstellen eine neue Umgebung. <br><br><img src="https://habrastorage.org/webt/nz/vk/tx/nzvktxdb67ksyfosfvofnzthufa.png"><br><br>  Dies reicht jedoch nicht aus. Sie m√ºssen den Conda-Forge-Kanal hinzuf√ºgen. Geben Sie einfach das Feld ein, das nach dem Klicken auf die Schaltfl√§che <b>Hinzuf√ºgen</b> "Conda-Forge" angezeigt wird, und lassen Sie das System die Liste der Pakete aktualisieren. <br><br><img src="https://habrastorage.org/webt/fo/zm/ez/fozmezgon_6gv-expuoi-obcpaq.png"><br><br>  Jetzt ist es fast fertig, FreeCAD selbst zu installieren <br><br>  Klicken Sie auf LMB im Namen des Pakets und w√§hlen Sie die zu installierende Version aus, wie in der Abbildung unten dargestellt <i>(ich habe sie bereits installiert).</i> <br><br><img src="https://habrastorage.org/webt/kb/zq/o6/kbzqo6mjl3h6i7xnieahzwkf6x4.png"><br><br>  Nach einer langen Wartezeit ist das FreeCad-Distributionskit vollst√§ndig installiert. Die gew√ºnschte Version muss nur noch gestartet werden. <br><br>  Im einfachsten Fall m√ºssen Sie ohne Startparameter die Conda-Konsole mit unserer Umgebung starten und CAD mit dem gleichnamigen FreeCAD-Befehl starten. <br><br><img src="https://habrastorage.org/webt/hd/hl/pf/hdhlpflqpsvwlwva52gq4hpifyk.png"><br><br>  Ein leeres FreeCAD-Fenster wird ge√∂ffnet, in dem wir eine Workbench f√ºr das zweidimensionale Zeichnen ausw√§hlen. <br><br><img src="https://habrastorage.org/webt/cq/wy/bu/cqwybuzqdedz5hinrqgabwh-ygg.png"><br><br>  Wie Sie sehen k√∂nnen, ist die Version von Python jetzt √ºberhaupt nicht mehr so ‚Äã‚Äãwie bei einer Standardinstallation. <br><img src="https://habrastorage.org/webt/qm/fb/dt/qmfbdtthhkn8xd2l9_ldszuqwyc.png"><br><br>  Erstellen wir ein neues Dokument (Strg + N). Es ist praktisch, um unsere Minibibliothek zu testen. <br><br><a name="IV"></a><br><h4>  Teil IV: Schreiben einer einfachen Bibliothek </h4><br>  Unsere Bibliothek wird primitiv sein.  Im Wesentlichen erstellen wir einen Befehl, der ein Rechteck zeichnet, in das vom Benutzer angegebener beliebiger Text eingegeben wird. <br><br>  Erstellen Sie eine Datei <i>(ich habe meine "drawhabr.py" genannt)</i> und schreiben Sie den folgenden Code hinein: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#Simple lib for test Python API in FreeCad #Tested on Python 3.7. and FreeCad 0.18.3 #Designed for article - https://habr.com/ru/post/464113/ import FreeCAD, FreeCADGui, Part, Draft class stamp: "This class creates a rectangle with text. Coordinates are set by entering into the console." def __init__(self): self.view = FreeCADGui.ActiveDocument.ActiveView x=float(input("set x point ")) y=float(input("set y point ")) mtext=str(input("input text ")) self.drawstamp(mtext, x , y ) FreeCAD.Console.PrintMessage("\r\n Your object was successfully created") def drawstamp(self, mtext,x=0,y=0 ): "Method for placing a figure in model space." if (mtext==""): mtext="Hello Habr!" point=FreeCAD.Placement(FreeCAD.Vector(x,y,0), FreeCAD.Rotation(0,0,0), FreeCAD.Vector(0,0,0)) text = Draft.makeText(mtext,point=FreeCAD.Vector(x+0.25,y+0.55,0.0)) fontsize = 1.0 textwidth=(len(mtext)*fontsize*0.6)+0.35 textheight=fontsize+0.5 text.ViewObject.FontSize = fontsize text.ViewObject.FontName = "Courier" rec = Draft.makeRectangle(length=textwidth,height=textheight,placement=point,face=False,support=None)</span></span></code> </pre> <br>  Oder Sie k√∂nnen die Datei einfach von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GitHub</a> kopieren <br><br>  Der Code ist sehr einfach, aber ich denke, es lohnt sich, einige Punkte zu erl√§utern. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> FreeCAD, FreeCADGui, Part, Draft</code> </pre> <br>  Wir importieren die erforderlichen Bibliotheken und erstellen dann die Klasse. <br>  Da ich noch nicht gelernt habe, wie man mit der Mauseingabe umgeht, geben wir die Koordinaten f√ºr das Objekt und den Text direkt √ºber die Tastatur in die Konsole ein.  Dies wird durch Standard-Python-Methoden implementiert.  Dann rufen wir im Konstruktor der Klasse unsere Funktion (Methode) auf, die alles zeichnet. <br><br>  Von den Funktionen von FreeCAD im Klassenkonstruktor k√∂nnen zwei Befehle unterschieden werden: <br><br><pre> <code class="python hljs">self.view = FreeCADGui.ActiveDocument.ActiveView FreeCAD.Console.PrintMessage(<span class="hljs-string"><span class="hljs-string">"\r\n Your object was successfully created"</span></span>)</code> </pre> <br>  Der erste w√§hlt den Bereich des aktiven Arbeitsbereichs f√ºr uns aus und der zweite schreibt uns nach der Installation des Objekts eine Nachricht ganz unten im Programmfenster (auf einer grauen Leiste, nicht zu verwechseln mit der Python-Konsole). <br><br>  Der Methodencode ist ebenfalls intuitiv. Ich werde ihn jedoch aus Gr√ºnden der Zuverl√§ssigkeit erl√§utern. <br><br><pre> <code class="python hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">drawstamp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, mtext,x=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">,y=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params"> )</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"Method for placing a figure in model space."</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (mtext==<span class="hljs-string"><span class="hljs-string">""</span></span>): mtext=<span class="hljs-string"><span class="hljs-string">"Hello Habr!"</span></span></code> </pre> <br>  Erforderlich, falls der Benutzer eine leere Zeichenfolge eingibt.  Ohne dies wird das Wort Beschriftung in den Text eingegeben und das Rechteck hat eine falsche L√§nge. <br><pre> <code class="python hljs">point=FreeCAD.Placement(FreeCAD.Vector(x,y,<span class="hljs-number"><span class="hljs-number">0</span></span>), FreeCAD.Rotation(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>), FreeCAD.Vector(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>))</code> </pre> <br><br>  Definieren Sie die Koordinaten des Basispunkts des Tages unseres Rahmens, der den Text umgibt. <br>  Ich m√∂chte Sie daran erinnern, dass die Daten von der Eingabe in die Konsole √ºbernommen werden. <br><br>  Bitte beachten Sie, dass wir mit einer dreidimensionalen Koordinate der Form FreeCAD.Vector (x, y, z) arbeiten. In diesem Beispiel k√∂nnen wir jedoch die Z-Koordinate vernachl√§ssigen.  Andere Parameter, die sich auf die Drehung des Rahmens beziehen, ber√ºhren sich nicht. <br><br><pre> <code class="python hljs">text = Draft.makeText(mtext,point=FreeCAD.Vector(x+<span class="hljs-number"><span class="hljs-number">0.25</span></span>,y+<span class="hljs-number"><span class="hljs-number">0.55</span></span>,<span class="hljs-number"><span class="hljs-number">0.0</span></span>))</code> </pre> <br>  Erstellen Sie den Text mit dem Befehl Draft.makeText und √ºbergeben Sie ihm den Text, den Sie in die Konsole eingegeben haben. <br><br>  Nehmen Sie Koordinaten mit einem leichten Versatz vom Basispunkt des Rahmens. <br><br>  In guter Weise war es notwendig zu lernen, wie der Rahmen (Rand) des Textes unter Verwendung der API-Parameter verarbeitet wird, und anschlie√üend basierend darauf die Breite und H√∂he unseres Rahmens zu berechnen.  Da ich mich aber gerade erst mit dem Programm vertraut gemacht habe, habe ich das Problem mit der Methode der arbeitenden Bauern gel√∂st.  Wir werden die Schrifth√∂he festlegen, den Stil der monospaced Schriftart (Courier) zuweisen und abh√§ngig davon die L√§nge und Breite des Rahmens bestimmen, den wir um den Text zeichnen. <br><br><pre> <code class="python hljs"> text = Draft.makeText(mtext,point=FreeCAD.Vector(x+<span class="hljs-number"><span class="hljs-number">0.25</span></span>,y+<span class="hljs-number"><span class="hljs-number">0.55</span></span>,<span class="hljs-number"><span class="hljs-number">0.0</span></span>)) fontsize = <span class="hljs-number"><span class="hljs-number">1.0</span></span> textwidth=(len(mtext)*fontsize*<span class="hljs-number"><span class="hljs-number">0.6</span></span>)+<span class="hljs-number"><span class="hljs-number">0.35</span></span> textheight=fontsize+<span class="hljs-number"><span class="hljs-number">0.5</span></span> text.ViewObject.FontSize = fontsize text.ViewObject.FontName = <span class="hljs-string"><span class="hljs-string">"Courier"</span></span></code> </pre> <br>  Es bleibt nur, unsere Parameter in der Zeichenfunktion des Rechtecks ‚Äã‚Äãzu ersetzen <br><br><pre> <code class="python hljs">rec = Draft.makeRectangle(length=textwidth,height=textheight,placement=point,face=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>,support=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>)</code> </pre> <br>  das ist in der Tat alles. <br><br>  Es bleibt nur unsere Bibliothek zu verbinden.  Dazu k√∂nnen Sie es einfach in den Ordner kopieren, in dem sich die restlichen Python-Bibliotheken f√ºr die ausgew√§hlte Umgebung befinden. <br><br>  F√ºr Windows 10 kann der Pfad beispielsweise wie folgt lauten <i>(vom Installationsort von Anaconda aus signifikant):</i> <br><br>  C: \ Users \ YourUsernameName \ Anaconda3 \ envs \ freecad \ Lib <br><br>  F√ºr Linux w√§re der Pfad ungef√§hr so: <br><br>  /home/ourUserName/anaconda3/envs/freecad/lib/python3.7 <br><br>  Alle sind gegangen, um unsere Bibliothek zu laden. <br>  Geben Sie dazu zun√§chst den Namen unseres Moduls in die Konsole ein (ohne Dateierweiterung) <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> drawhabr</code> </pre> <br>  Rufen Sie dann den Klassenkonstruktor auf <br><br><pre> <code class="python hljs">drawhabr.stamp()</code> </pre> <br>  Das ist alles, um zu f√ºhren, Parameter zu funktionieren und das Ergebnis zu genie√üen. <br><br><img src="https://habrastorage.org/webt/fp/h5/xo/fph5xoo0pduxfu2cjzvloyoluqg.png"><br><br>  Nur f√ºr den Fall, hier ist ein Screenshot, der best√§tigt, dass alles auch unter Linux funktioniert. <br><br><img src="https://habrastorage.org/webt/wh/ev/fi/whevfiwrqsnavzonawithlecqxk.png"><br><br><a name="V"></a><br><h4>  Teil V: Schlussfolgerung </h4><br>  Heute haben wir nur einen kleinen Schritt auf dem Weg zum Verst√§ndnis der FreeCAD-API getan. <br>  Trotz der Tatsache, dass FreeCAD meiner Meinung nach f√ºr das zweidimensionale Zeichnen und Entwickeln von Projekten nicht so vertraut ist wie AutoCAD (NanoCAD) oder andere g√§ngige CAD-Systeme, aber es ist viel einfacher, es zu programmieren. <br><br>  Trotz mangelnder Dokumentation und der Notwendigkeit, einige Artikel mit Beispielen in Wiki FreeCAD zu aktualisieren, stellte sich heraus, dass es eine ziemlich ungeschulte Person mit minimalen Kenntnissen beim Schreiben von Python-Code war, die API herauszufinden und das erste Programm auszuf√ºhren. <br><br>  Angesichts der Tatsache, dass Entwickler nicht gierig sind und bei Bedarf sogar die kommerzielle Entwicklung mit FreeCAD unter der LGPL-Lizenz und in Kombination mit der gesamten Leistung von Python-Bibliotheken (z. B. aus demselben Anaconda-Distributionskit) zulassen, sieht die Programmentwicklung mit FreeCAD interessant aus Aufgabe. <br>  Wenn ich verstehe, dass Sie an diesem Thema interessiert sind, werde ich versuchen, analog zu Nanocad einen kleinen Zyklus von Notizen zu erstellen <br><a name="VI"></a><br><div class="spoiler">  <b class="spoiler_title">NanoCAD-Programmierreihe</b> <div class="spoiler_text"><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Narbenloses Gesicht oder erste Schritte in Multicad.NET API 7 (f√ºr Nanocad 8.1)</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"Wie ein RAM zu einem neuen Gate" oder benutzerdefinierte "Pseudo-3D" -Objekte in NanoCAD mithilfe der MultiCAD.NET-API</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"Ich folge dir" oder wie man SCADA aus CADa macht (MultiCAD.NET API)</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"Die Wahrheit ist schuld" oder versuchen Sie, NanoCAD unter Linux zu programmieren (MultiCAD.NET API)</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"Hallo, neues Jahr!"</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">oder programmieren Sie NanoCAD mit Visual Basic .NET</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"... Sie wollen wissen, was passieren wird" oder schreiben eine Wahrsagerei in CAD NanoCAD in C # (MultiCAD .NET API)</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><br></a> </li></ul></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de464113/">https://habr.com/ru/post/de464113/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de464103/index.html">OpenUNB-Entwurf eines nationalen IoT-Standards: kritische √úberpr√ºfung</a></li>
<li><a href="../de464105/index.html">Native Commento-Server mit Docker Compose</a></li>
<li><a href="../de464107/index.html">Digitale Veranstaltungen in Moskau vom 19. bis 25. August</a></li>
<li><a href="../de464109/index.html">Weltraum-√úberschallfallschirme</a></li>
<li><a href="../de464111/index.html">Natas Web. Passage der CTF-Plattform zur Ausnutzung von Web-Schwachstellen</a></li>
<li><a href="../de464115/index.html">Wie man Freunde, Designer, Layouter und ‚ÄûFigma‚Äú mit einem Designsystem, einer Brechstange und einer Art Mutter ‚Ñ¢ zu Freunden macht</a></li>
<li><a href="../de464117/index.html">Besuch bei Vladimir Likhachev, dem Vater von Nikolai Likhachev, besser bekannt als Chris Kaspersky</a></li>
<li><a href="../de464119/index.html">Frontend Weekly Digest (12. - 18. August 2019)</a></li>
<li><a href="../de464121/index.html">Die Verdauung von frischen Materialien aus der Welt des Frontends f√ºr die letzte Woche Nr. 376 (12. - 18. August 2019)</a></li>
<li><a href="../de464125/index.html">Geheime Internetgeschichte in der Datenschutzrichtlinie von Google mit 4.000 W√∂rtern</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>