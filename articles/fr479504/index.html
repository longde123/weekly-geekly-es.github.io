<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∂üèº üõÇ ‚úäüèΩ Cr√©er un client l√©ger RDP bas√© sur Raspberry Pi üîé ü¶ñ ‚úäüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Avec la popularit√© croissante des mini-PC tels que Raspberry Pi et des clones similaires, il y avait beaucoup de cas pour leur utilisation dans l'infr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cr√©er un client l√©ger RDP bas√© sur Raspberry Pi</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/479504/">  Avec la popularit√© croissante des mini-PC tels que Raspberry Pi et des clones similaires, il y avait beaucoup de cas pour leur utilisation dans l'infrastructure informatique de l'entreprise, la maison / chalet / garage intelligent et d'autres applications. <br><br>  L'un des cas pratiques et souhaitables est l'utilisation de RPi en tant que client l√©ger qui se connecte via RDP aux syst√®mes Windows. <br><br>  Si vous √™tes int√©ress√© par la fa√ßon de mettre en place un tel endroit sur la base du Raspberry Pi, et de mani√®re √† "configurer et oublier" - bienvenue au chat.  Il y a une image toute faite pour les compl√®tement paresseux (voir section 6.B). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/3v/mj/zp/3vmjzprnt4v33dvnqnr6rwlikb8.png" alt="Une image pour attirer l'attention"></div><br><a name="habracut"></a><br>  Plus pr√©cis√©ment, dans mon exp√©rience (sp√©cialiste de l'automatisation de la comptabilit√© / gestion), j'ai souvent d√ª organiser des lieux de travail dont le seul but √©tait d'acc√©der √† un programme (principalement jaune), √† ‚Äã‚Äãune suite bureautique, √† Internet et au courrier.  Parfois - travaillez avec des lecteurs flash.  Le serveur, en m√™me temps, √©tait d√©j√† dans l'entreprise. <br><br>  En m√™me temps, la station √©tait exig√©e √† faible bruit, compacit√© et fiabilit√©.  Ou, soyons honn√™tes, bon march√©.  Surtout si la question portait sur la vente au d√©tail, o√π tout devrait √™tre ¬´clou√©¬ª. <br><br>  Dans le m√™me temps, dans le pass√©, de nombreuses solutions ont √©t√© essay√©es sous la forme de clients l√©gers ¬´en fer¬ª sp√©cialis√©s, mais pour un certain nombre de raisons, elles se sont r√©v√©l√©es inconfortables.  Quelque part, des t√¢ches connexes sp√©cifiques √©taient n√©cessaires, telles que le transfert d'imprimantes vers un serveur, auxquelles elles ne pouvaient pas faire face.  Quelque part, des tableaux sont apparus lentement, ce qui a rendu les utilisateurs fous.  Quelque part, les clients l√©gers travaillaient simplement √† un seul endroit et il √©tait impossible de comprendre pourquoi.  Quelque part, la charge capricieuse du r√©seau n'a pas fonctionn√© ou les param√®tres n'ont pas √©t√© transf√©r√©s via DHCP. <br><br>  Par cons√©quent, d'une mani√®re naturelle, tout est arriv√© √† la conclusion qu'il est plus facile d'acheter un nettop ind√©sirable et d'y mettre un ensemble minimal de logiciels que de deviner un jeu avec du fer obscur, plus √† vos frais, car o√π et ce qui ne fonctionne pas n'est pas connu √† l'avance , mais il est certain que tout aurait d√ª aller bien et ne pas prendre autant de temps. <br><br>  L'article √©tait un peu en retard avec la pertinence.  Si vous revenez au m√™me programme jaune, ces derni√®res ann√©es, la plate-forme a √©volu√©, elle a son propre client l√©ger et la pertinence de son d√©ploiement en mode Bureau √† distance a diminu√©. <br><br>  Mais il existe un certain nombre d'autres t√¢ches o√π un poste de travail silencieux et fiable connect√© via RDP sera appropri√©.  Et ces derni√®res ann√©es, le co√ªt des mini-PC a grimp√© jusqu'√† pr√©sent, et celui des ordinateurs et nettops standard, il est devenu plus rentable (co√ªt du mat√©riel, une heure de travail sp√©cialis√©, plus les licences CAL / TCAL pour Windows Server) pour construire exactement de telles solutions. <br><br><h2>  √ânonc√© du probl√®me </h2><br>  Nous <b>devons</b> donc d√©ployer un client RDP l√©ger bas√© sur Raspberry Pi, ¬´clouer¬ª sur un serveur sp√©cifique, et fournir une reconnexion en cas d'√©chec. <br><br>  Toute interaction de l'utilisateur avec l'appareil lui-m√™me doit √™tre exclue.  En cons√©quence, pas de commandes de bureau et de console locales.  Le mot de passe est entr√© uniquement pour la session RDP. <br><br>  En prime, - organisez le montage automatique et les lecteurs USB amovibles probros. <br><br>  <b>√âtant donn√©:</b> <br><br><ul><li>  pur Raspberry Pi 3 mod√®le B 1 Gb, ou 4 mod√®le B 1 Gb </li><li>  Adaptateur secteur 5v 2A, </li><li>  C√¢ble HDMI </li><li>  adaptateur avec HDMI au moniteur (si le moniteur n'a pas de port HDMI int√©gr√©), </li><li>  C√¢ble Ethernet (ou pr√©sence d'un r√©seau WiFi), </li><li>  Carte m√©moire MicroSD de 8 Go ou plus (4 Go est objectivement suffisant, mais il me semble que vous ne pouvez acheter une carte de 4 Go qu'au mus√©e). </li><li>  moniteur, clavier, souris pour framboise. </li></ul><br>  Au moment de l'installation - un ordinateur (ordinateur portable) avec Windows ou Linux, un adaptateur de carte microSD. <br><br>  On suppose que le lecteur a les comp√©tences de base pour administrer les syst√®mes Linux, et la question ¬´cr√©er et √©diter un fichier, copier le texte de cet article dedans¬ª ou ¬´se connecter via SSH¬ª ne causera pas de difficult√©s.  Cependant, parfois je m'autorise une excursion plus profonde, pour ceux qui n'auraient pas rencontr√© sp√©cifiquement Raspbian. <br><br>  Logique g√©n√©rale: configurer le syst√®me de base, installer le client RDP, configurer la connexion automatique, tester, r√©soudre les probl√®mes. <br><br>  Il d√©crira √©galement comment cloner un assemblage fini sur un autre Raspberry. <br><br>  La disposition du logiciel lui-m√™me est simple, il est n√© sous une forme ou une autre il y a environ 9 ans - comme je me souviens maintenant, je l'ai fait sous Debian Etch.  Depuis lors, il a l√©g√®rement chang√© de versions logicielles et mat√©rielles √† des versions, et maintenant il est temps de le porter sur Raspberry. <br><br>  La consommation de temps pr√©vue est d'environ 30 minutes. <br><br><h2>  1. Configuration du syst√®me de base </h2><br><h4>  1.1 T√©l√©charger l'image du syst√®me </h4><br>  Nous choisirons Raspbian comme syst√®me. <br><br>  Au moment de la r√©daction, <a href="https://www.raspberrypi.org/downloads/raspbian/" rel="nofollow">cela peut √™tre fait ici</a> .  La version actuelle est Buster. <br><br>  S√©lectionnez une image minimale bas√©e sur Debian Buster. <br><br><img src="https://habrastorage.org/webt/iy/eb/jv/iyebjvlxbebhaqflevjeihob5fa.png"><br><br>  T√©l√©chargez l'archive ZIP √† partir de laquelle obtenir le seul fichier .img. <br><br><img src="https://habrastorage.org/webt/vp/qo/5w/vpqo5wlbndwf9n2ntw5stuylso0.png"><br><br><h4>  1.2 √âcrivez-le sur une carte flash </h4><br>  <b>a) Sous Windows</b> <br><br>  T√©l√©chargez le programme <b>Rufus</b> sur le <a href="https://rufus.ie/" rel="nofollow">site officiel</a> .  Une version portable suffit. <br><br>  Ex√©cutez le programme, s√©lectionnez la carte SD et l'image extraite de l'archive au paragraphe 1.1. <br><br><img src="https://habrastorage.org/webt/yx/9o/3f/yx9o3ftepbvxw5qytwiu5__d_fi.png"><br><br>  Appuyez sur le bouton ¬´START¬ª, confirmez la destruction des donn√©es sur la carte SD, attendez la fin du processus (environ 5 minutes). <br><br>  Retirez la carte en toute s√©curit√©. <br><br>  <b>b) sous Linux</b> <br><br>  Ex√©cutez la commande: <br><br><pre><code class="plaintext hljs"># dd if=2019-09-26-raspbian-buster-lite.img of=/dev/&lt; SD-&gt; bs=4M</code> </pre> <br>  Attendez la fin du processus, retirez la carte. <br><br><h4>  1.3 D√©ployer le syst√®me sur RPI </h4><br>  Nous r√©organisons la carte sur l'appareil cible.  Nous connectons le mini-PC avec un moniteur, un clavier, une souris et lui appliquons l'alimentation. <br><br>  Apr√®s un certain temps, sans poser de questions suppl√©mentaires, le mini-PC red√©marrera dans le syst√®me fra√Æchement d√©ploy√© et vous invitera √† saisir votre identifiant et votre mot de passe. <br>  Par d√©faut, c'est <b>pi: framboise.</b> <br><br><img src="https://habrastorage.org/webt/7p/ej/p6/7pejp6fntkhztb-4tkbhdlcmdq8.jpeg"><br><br><h4>  1.4 Connectez-vous et changez votre mot de passe </h4><br><pre> <code class="plaintext hljs"># passwd pi</code> </pre> <br>  ou <br><br><pre> <code class="plaintext hljs">$ sudo passwd pi</code> </pre> <br>  (J'ex√©cute intentionnellement passwd pour l'utilisateur pi en tant que root afin que Raspbian ne nous g√™ne pas avec les exigences de s√©curit√© pour le mot de passe, mais l'accepte et l'accepte) <br><br>  Vous ne pouvez pas vous connecter directement en tant que root √† moins que vous ne lui ayez explicitement d√©fini un mot de passe.  En g√©n√©ral, ce n'est pas mauvais.  Ensuite, toutes les commandes qui doivent √™tre ex√©cut√©es sous le superutilisateur doivent √™tre ex√©cut√©es √† partir de l'utilisateur pi avec la commande sudo prefix.  Comme dans Ubuntu. <br><br>  Par exemple (une <b><u>blague c√©l√®bre, ne courez pas!</u></b> ) <br><br><pre> <code class="plaintext hljs">$ sudo rm -rf --no-preserve-root</code> </pre> <br>  Cependant, comme je suis pathologiquement paresseux, alors, en me connectant √† Raspbian, ou sur le m√™me Ubuntu, je tape: <br><br><pre> <code class="plaintext hljs">$ sudo bash</code> </pre> <br>  Et je re√ßois l'invitation #, d√©j√† avec des droits √©lev√©s.  Alors je travaille. <br>  √Ä proprement parler, ce n'est pas bien, mais au stade de la configuration initiale du syst√®me, cela fait gagner beaucoup de temps. <br><br>  Ci-apr√®s, si les commandes ci-dessus sont pr√©c√©d√©es de #, elles doivent √™tre ex√©cut√©es sous superutilisateur.  Si avec $, alors sous l'utilisateur (g√©n√©ralement il est indiqu√© ci-dessus sous lequel). <br><br><h2>  2. Installation du logiciel n√©cessaire "au minimum", test de la connexion </h2><br><h4>  2.1 Configurer le r√©seau </h4><br>  Pour ce faire, ex√©cutez l'utilitaire d'administration en ex√©cutant la commande: <br><br><pre> <code class="plaintext hljs"># raspi-config</code> </pre> <br><img src="https://habrastorage.org/webt/cl/ds/fb/cldsfbbpwcg-xln0ezbmc54refm.png"><br><br>  (La navigation s'effectue par fl√®ches, tabulation, Entr√©e - choix, ESC - retour) <br>  Allez dans <b>Options r√©seau</b> . <br><br>  D√©finissez le nom de l'ordinateur (point <b>N1 Hostname</b> ), par exemple <b>TERM1</b> . <br><br>  Si l'ordinateur est connect√© au r√©seau avec un c√¢ble Ethernet et re√ßoit une adresse DHCP, rien d'autre ne doit √™tre fait. <br><br>  Si vous devez configurer un r√©seau WiFi, faites-le (point <b>N2 Wi-Fi</b> ).  Choisissez votre pays.  <b>Le nom du r√©seau</b> devra √™tre saisi manuellement, aucun aper√ßu n'est fourni.  Nous sp√©cifions le <b>mot de passe</b> . <br><br>  <b>Terminez</b> ensuite <b>-&gt; Terminer</b> . <br><br>  Red√©marrez sur demande, ou avec la commande: <br><br><pre> <code class="plaintext hljs"># reboot</code> </pre> <br>  Apr√®s vous √™tre reconnect√©, assurez-vous d'avoir acc√®s √† Internet. <br><br><pre> <code class="plaintext hljs"># ping 8.8.8.8</code> </pre> <br><h4>  2.2 Syst√®me de mise √† jour </h4><br>  Mettez √† jour les informations sur les packages disponibles. <br><br><pre> <code class="plaintext hljs"># apt-get update</code> </pre> <br>  Maintenant, mettez √† jour le syst√®me (Facultatif, mais hautement souhaitable. Peut √™tre fait plus tard.) <br><br><pre> <code class="plaintext hljs"># apt-get upgrade</code> </pre> <br>  Cette √©tape peut prendre beaucoup de temps (j'ai environ 15 minutes), car le chargeur de d√©marrage binaire RPi est mis √† jour, ce qui d√©compresse de nombreux petits fichiers sur la carte SD. <br><blockquote>  Veuillez noter que presque imm√©diatement apr√®s la fin du t√©l√©chargement et le d√©but du d√©ballage, un paquet d√©sagr√©able vous demandera d'appuyer sur "q", arr√™tant le processus.  Vous devrez cliquer avant de vous laisser distraire par d'autres choses √† attendre. <br></blockquote>  √Ä la fin de la mise √† jour, vous devez red√©marrer <br><br><pre> <code class="plaintext hljs"># reboot</code> </pre><br><h4>  2.3 Installer les param√®tres r√©gionaux et la disposition russes </h4><br>  Encore une fois dans l'utilitaire d'administration: <br><br><pre> <code class="plaintext hljs"># raspi-config</code> </pre> <br>  Suivez les <b>options de localisation</b> , l√†: <br><br><ol><li>  <b>Modifiez les</b> <b>param√®tres</b> <b>r√©gionaux</b> , supprimez * de <b>en-GB.UTF-8</b> et installez en face de <b>ru-RU.UTF-8</b> .  Nous confirmons, et dans la fen√™tre suivante, nous la s√©lectionnons comme principale. </li><li>  <b>Modifiez le fuseau horaire</b> et s√©lectionnez le <b>fuseau horaire de</b> votre pays et de votre ville. </li><li>  <b>Changer la disposition du clavier</b> , il <b>g√©n√©rique PC √† 105 touches (Intl)</b> ‚Üí <b>Autre</b> ‚Üí <b>Russe</b> ‚Üí <b>Russe</b> ‚Üí <b>Contr√¥le + Maj</b> (ou Alt + Maj, si vous le souhaitez, pour changer de disposition) ‚Üí <b>Pas de commutateur temporaire</b> ‚Üí <b>Alt droite (AltGr)</b> ‚Üí <b>Aucune touche de composition</b> . </li></ol><br>  Confirmez et quittez - <b>Terminer</b> ‚Üí <b>Terminer</b> . <br><br>  Nous avons quitt√© l'utilitaire d'administration, ex√©cutez la commande: <br><br><pre> <code class="plaintext hljs"># dpkg-reconfigure console-setup</code> </pre> <br>  s√©lectionnez <b>UTF-8</b> ‚Üí <b>Devinez le jeu de caract√®res optimal</b> ‚Üí <b>Laissez le syst√®me s√©lectionner ...</b> (en bas) ‚Üí <b>8x16</b> . <br><br>  Les polices devraient alors devenir visuellement plus fines, mais l'essentiel est qu'elles prennent d√©sormais en charge l'alphabet cyrillique. <br><br>  Nous red√©marrons, nous connectons, testons la disposition anglaise, la commutation et la disposition russe. <br><br><h4>  2.4 D√©termin√© avec un logiciel auxiliaire et un √©diteur </h4><br>  Pour travailler avec des fichiers, naviguer dans la structure des dossiers et √©diter des fichiers, j'aime vraiment <b>Midnight Commander</b> , donc: <br><br><pre> <code class="plaintext hljs"># apt-get install mc</code> </pre><br>  Je le lance sous root-rights, et la premi√®re fois que j'utilise l'√©diteur (touche F4 sur certains fichiers) je s√©lectionne <b>mcedit</b> (point 2). <br><br>  Bien s√ªr, vous pouvez √©diter des fichiers en utilisant les outils de votre choix.  Par exemple, en utilisant nano, ou m√™me VIM. <br><br><h4>  2.5 Installer le serveur ssh </h4><br><pre> <code class="plaintext hljs"># apt-get install ssh</code> </pre> <br>  Modification de / etc / ssh / sshd_config.  D√©commentez la ligne: <br><br><pre> <code class="plaintext hljs">ListenAddress 0.0.0.0</code> </pre> <br>  D√©verrouiller le chargement automatique <br><br><pre> <code class="plaintext hljs"># systemctl enable ssh.service</code> </pre> <br>  Red√©marrez le service <br><br><pre> <code class="plaintext hljs"># systemctl restart ssh.service</code> </pre> <br>  On d√©couvre l'adresse IP avec la commande <br><br><pre> <code class="plaintext hljs"># ifconfig</code> </pre> <br>  Et maintenant, nous pouvons nous connecter √† distance √† l'appareil depuis l'ordinateur source via SSH (sous Windows, j'aime personnellement le client <b>PuTTY</b> SSH) pour configurer √† partir d'un poste de travail pratique et pouvoir copier et coller les textes de cet article dans des configurations.  Je vous rappelle que le login est <b>pi</b> , pas root. <br><br><img src="https://habrastorage.org/webt/n7/rf/dp/n7rfdpupnveaxml-qs16hyjmmnw.png"><br><br>  Autres actions, je recommanderais de faire exactement via SSH, sauf indication contraire. <br><br><h4>  2.6 D√©placer des partitions volatiles vers des disques virtuels </h4><br>  Par exemple, <b>/ tmp</b> et <b>/ var / log</b> , afin de: <br><br><ol><li>  le syst√®me n'a pas aff√ªt√© une carte SD, </li><li>  il y avait moins de chance que le syst√®me de fichiers racine s'effondre lors d'une panne de courant, </li><li>  de sorte que dans un avenir lointain, les journaux n'obstruent pas l'espace libre sur la carte. </li></ol><br>  Pour ce faire, ajoutez des lignes √† <b>/ etc / fstab</b> : <br><br><pre> <code class="plaintext hljs">tmpfs /var/log tmpfs defaults,noatime,nosuid,mode=0755,size=100m 0 0 tmpfs /tmp tmpfs defaults,noatime,nosuid,size=100m 0 0</code> </pre><br>  N'oubliez pas de mettre un saut de ligne √† la fin du fichier. <br><br>  Ici, les sections <b>/ var / log</b> et <b>/ tmp</b> se voient allouer 100 Mo de m√©moire chacune (elle sera utilis√©e uniquement car elle est pleine).  Gigabyte Pi, qui n'est utilis√© que pour RDP, ces d√©penses ne g√™neront rien. <br><br>  Red√©marrez le syst√®me, puis ex√©cutez la commande: <br><br><pre> <code class="plaintext hljs"># df</code> </pre> <br>  et assurez-vous que les partitions sont mont√©es sur tmpfs (3 et 4 colonnes peuvent diff√©rer): <br><br><pre> <code class="plaintext hljs">tmpfs 102400 8 102392 1% /tmp tmpfs 102400 224 102176 1% /var/log</code> </pre><br><h4>  2.7 Nous obtiendrons l'utilisateur sous lequel nous lancerons ensuite automatiquement le shell graphique </h4><br>  Ex√©cutez la commande: <br><br><pre> <code class="plaintext hljs"># adduser user</code> </pre> <br>  D√©finissez un mot de passe arbitraire.  Toutes sortes de noms et de t√©l√©phones peuvent √™tre ignor√©s.  Confirmez. <br><br><h4>  2.8 Installer X-server dans une version minimale </h4><br>  Ex√©cutez la commande: <br><br><pre> <code class="plaintext hljs"># apt-get install xserver-xorg xinit xterm x11-xserver-utils</code> </pre> <br>  Cela peut prendre environ 5 minutes. <br><br>  Maintenant, vous devez vous <u>asseoir sur le terminal physique</u> (dans le sens d'un moniteur, d'un clavier et d'une souris connect√©s directement au Pi), vous connecter en tant qu'utilisateur utilisateur et ex√©cuter la commande: <br><br><pre> <code class="plaintext hljs">$ startx</code> </pre> <br>  L'image suivante devrait appara√Ætre √† l'√©cran, ce qui signifie que x-server a √©t√© install√© avec succ√®s et vous pouvez continuer. <br><br><img src="https://habrastorage.org/webt/c1/na/qb/c1naqbmygzqagi02s3dm5exinn0.png"><br><br>  Nous survolons le curseur (c'est important, car il n'y a pas de fen√™tre formant un cadre et un titre de fen√™tre, et la fen√™tre ne recevra tout simplement pas de texte sans un focus explicite) et tapez <br><br><pre> <code class="plaintext hljs">$ exit</code> </pre> <br>  revenir. <br><br><h4>  2.9 Installer un logiciel pour travailler avec un bureau distant </h4><br>  <b>Personnellement,</b> j'aime <b>rdesktop</b> .  Bien s√ªr, cela n'est pas sans nuances (voir la section "Extraction du r√¢teau").  Il existe des alternatives comme <b>xfreerdp</b> , <b>remmina</b> , etc., bien qu'ils s'en plaignent √©galement. <br><br>  Je vais donner un exemple pour le premier. <br><br><pre> <code class="plaintext hljs"># apt-get install rdesktop</code> </pre> <br>  Cr√©ez un script qui ex√©cute rdesktop en plein √©cran.  Dans le r√©pertoire <b>/ home / user,</b> cr√©ez le fichier <b>runrdp</b> (de pr√©f√©rence en tant qu'utilisateur): <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash rdesktop &lt;  IP  &gt; -u &lt;   &gt; -f -z</span></span></code> </pre><br>  Si vous avez choisi un autre client RDP, √©crivez ici la ligne de commande ou utilisez la masse de param√®tres suppl√©mentaires dont dispose rdesktop.  Vous pouvez m√™me coder en dur le mot de passe pour vous connecter automatiquement. <br><br>  Vous devez mettre les droits √† ex√©cuter sur ce script, et si vous l'avez cr√©√© en tant que root, le propri√©taire est l'utilisateur. <br><br><pre> <code class="plaintext hljs"># chmod 755 /home/user/runrdp # chown user:user /home/user/runrdp</code> </pre><br>  Maintenant, allons √† la console physique sous utilisateur, d√©marrez startx, dans le terminal graphique ouvert (voir la figure ci-dessus), tapez: <br><br><pre> <code class="plaintext hljs">$ ./runrdp</code> </pre> <br>  La fen√™tre de connexion au bureau distant devrait appara√Ætre √† l'√©cran. <br><br><img src="https://habrastorage.org/webt/av/mt/y8/avmty8dt4vclbpt5yrkw-3mmmlc.png"><br><br>  Si: <br><br>  a) la console affiche quelque chose sur l'erreur CredSSP, <br>  b) le mode plein √©cran en FullHD laisse des bords sombres (comme dans l'image-photo n ¬∞ 4 de cet article, bien qu'il existe un mode console, mais vous pouvez voir les bords) <br>  voir ensuite la section Rake Extraction. <br><br>  Et si tout va bien, annulez la connexion au syst√®me (Esc ou l'√©l√©ment de menu ¬´Disable¬ª), abandonnez-vous dans le x-terminal, tapez exit, revenez √† la console. <br><br><h2>  3. Automatisation des s√©ances de levage </h2><br>  Si toutes les √©tapes pr√©c√©dentes fonctionnent, il est temps de tout assembler. <br><br>  Pour ce faire, nous allons faire en sorte qu'au d√©marrage du syst√®me, l'utilisateur se connecte automatiquement au terminal, lance le serveur X et se connecte au RDP sous celui-ci.  Ainsi, le mot de passe ne sera demand√© que pour la session RDP, ce qui √©vitera aux utilisateurs immatures de ma√Ætriser inutilement Linux. <br><br><h4>  3.1 RDP infini </h4><br>  Cr√©ons un script qui, lors du d√©marrage du x-server, tenterait sans fin d'ouvrir une session RDP. <br>  Pour ce faire, dans le r√©pertoire <b>/ home / user</b> cr√©ez un fichier autorun au d√©but du X-session <b>.xinitrc</b> , le contenu suivant: <br><pre> <code class="bash hljs">setxkbmap -option terminate:ctrl_alt_bksp <span class="hljs-comment"><span class="hljs-comment">#    Ctrl-Alt-BkSpace setterm -blank 0 -cursor off #   xsetroot -solid gray #      while /bin/true; do ./runrdp done</span></span></code> </pre> <br><h4>  3.2 Serveur Infinite X </h4><br>  Nous allons corriger un script qui d√©finit le d√©marrage automatique des programmes et des param√®tres de profil lors de la connexion √† la console afin que la x-session d√©marre automatiquement, mais uniquement lorsque l'utilisateur se connecte au 1er terminal. <br><br><blockquote>  Merci √† <a href="https://habr.com/ru/users/gecube/">gecube</a> de m'avoir rappel√© de d√©sactiver l'√©conomiseur d'√©cran.  Par d√©faut, c'est un √©cran noir qui, pour la plupart des moniteurs modernes, est plut√¥t dangereux. </blockquote><br><br>  <b>Modifions /home/user/.profile</b> , en <u><b>y ajoutant</b></u> les lignes suivantes: <br><br><pre> <code class="bash hljs">‚Ä¶ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ -z <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$DISPLAY</span></span></span><span class="hljs-string">"</span></span> ] &amp;&amp; [ $(tty) = <span class="hljs-string"><span class="hljs-string">"/dev/tty1"</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> startx clear <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">" 5    "</span></span> sleep 5 <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span></code> </pre><br><h4>  3.3 Test interm√©diaire d'un groupe </h4><br>  Nous red√©marrons Pi, nous nous asseyons au terminal, nous nous connectons en tant qu'utilisateur utilisateur.  La fen√™tre de d√©marrage de la session s'affiche √† l'√©cran, comme dans la figure ci-dessus. <br><br>  Nous essayons de refuser d'entrer le mot de passe (esc, ou d√©pend de la version de Windows) - nous obtenons la m√™me fen√™tre pour le d√©but de la session (c'est-√†-dire que notre script 3.1 est constamment reconnect√©). <br><br>  Nous attendons environ une minute (selon le serveur) sans toucher au clavier et √† la souris - la fen√™tre de d√©marrage de la session devrait bient√¥t √™tre d√©connect√©e (la session RDP √† l'√©tape de saisie du mot de passe sans activit√© expire dans le d√©lai).  Bien s√ªr, en raison de la clause 3.1, il se reconnectera. <br><br>  Appuyez maintenant sur <b>Ctrl + Alt + BkSp</b> .  La session X doit √™tre interrompue, une inscription sur l'attente de 5 secondes sera affich√©e, apr√®s quoi la session de la console se terminera √©galement.  L'√©cran vous invite √† entrer dans le terminal avec un nom d'utilisateur et un mot de passe. <br><br>  Si tout est si - excellent. <br><br>  Nous avons seulement besoin d'une connexion automatique au terminal. <br><br><h4>  3.4 <s>Orange</s> infiniment <s>d√©licieux</s> r√©p√©tant l'autologin √† tty1 </h4><br>  Pour ce faire, √† partir de la racine, cr√©ez le fichier <b>/etc/systemd/system/getty@tty1.service.d/autologin.conf</b> avec le contenu suivant: <br><br><pre> <code class="plaintext hljs">[Service] ExecStart= ExecStart=-/sbin/agetty --autologin user --noclear %I 38400 linux</code> </pre><br>  Ensuite: <br><br><pre> <code class="plaintext hljs">#systemctl enable getty@tty1.service</code> </pre> <br>  Nous red√©marrons, assurez-vous que la console physique est automatiquement connect√©e en tant qu'utilisateur, le serveur X d√©marre et la session RDP s'ouvre, puis tout est comme en 3.3. <br>  Appuyez sur Ctrl + Alt + BkSp, attendez la reconnexion. <br><br>  Nous entrons dans le syst√®me, testons la commutation, le travail des mises en page.  Si quelque chose ne va pas, voir la section 4. <br><br>  <b>Ceci termine la configuration.</b> <br><br>  Les utilisateurs doivent √™tre inform√©s que si quelque chose ne va pas (l'√©cran devient vide, quelque chose se fige, etc.), ils doivent d'abord appuyer sur Ctrl + Alt + BkSp et attendre la r√©action. <br><br>  Voir √©galement la section 5 sur le montage automatique USB. <br><br><h2>  4. Extraction du r√¢teau </h2><br>  Puisqu'il s'agit d'un OpenSource, l'extraction de r√¢teau est un processus d√©sesp√©r√© et continu.  Je vais essayer de d√©crire le principal r√¢teau possible, mais qui sait ce qui nous attend.  Personnellement, je n'ai jamais eu de chance, et pas une seule instruction n'a fonctionn√© pour moi sans des heures de recherches suppl√©mentaires. <br><br><h4>  4.1 Probl√®mes avec une utilisation incompl√®te de la r√©solution d'√©cran </h4><br>  Sympt√¥mes: dans certains cas (adaptateurs HDMI-DSUB, certains moniteurs), raspbian n'utilise pas toutes les r√©solutions disponibles du moniteur Full-HD.  Des champs sombres restent entre les informations pertinentes et le bord physique de l'√©cran. <br><br>  Il est r√©solu comme suit: <br><br>  Editez <b>/boot/config.txt</b> , trouvez la ligne <br><br><pre> <code class="plaintext hljs"># disable_overscan = 1</code> </pre> <br>  et d√©commentez-le. <br><br>  Red√©marrez. <br><br>  Maintenant, les champs sombres des bords de l'√©cran doivent √™tre supprim√©s dans les modes console et graphique. <br><br><h4>  4.2 Probl√®mes avec le curseur de la souris lors de la connexion de rdesktop aux serveurs RDP modernes </h4><br>  Cela concerne principalement Windows 2012, 2016, Windows 10, o√π le th√®me du curseur est inclus. <br><br>  Sympt√¥mes: le curseur dispara√Æt, est mal dessin√©, apr√®s √™tre pass√© √† un non standard (sablier, symbole I, fl√®ches d'√©largissement de fen√™tre, etc.) oublie de passer √† une fl√®che r√©guli√®re. <br><br>  Solution: en tant qu'utilisateur du serveur auquel vous vous connectez, acc√©dez aux propri√©t√©s de la souris via le panneau de configuration, r√©initialisez le th√®me sur "Non" et d√©sactivez les ombres sous le pointeur. <br><br><img src="https://habrastorage.org/webt/ek/na/rc/eknarc92omul5c37i4ta4lfenmc.png"><br><br>  Les curseurs doivent arriver √† l'ob√©issance. <br><br><h4>  4.3.  Probl√®mes d'encodage avec rdesktop </h4><br>  Sympt√¥mes: dans certains cas, via la connexion RDP, des caract√®res sp√©ciaux sont mal tap√©s sur le syst√®me distant: tildes, barres obliques, guillemets, points, b√¢tons verticaux.  Surtout commencer √† exasp√©rer les points, car ils sont souvent dactylographi√©s. <br><br>  Solution: <br><br>  Dans <b>/ usr / share / rdesktop / keymaps,</b> cr√©ez un fichier <b>brut</b> et remplissez-le avec le contenu suivant: <br><br><pre> <code class="plaintext hljs">include common map 0x419 grave 0x29 asciicircum 0x07 shift backslash 0x2b bar 0x2b shift apostrophe 0x28 greater 0x34 shift less 0x33 shift</code> </pre><br>  Ajoutez l'argument <b>brut -k</b> √† l'invite de commande rdesktop dans le script <b>/ home / user / runrdp</b> .  Par exemple: <br><br><pre> <code class="bash hljs">rdesktop 10.0.0.1 -u user -k raw</code> </pre> <br>  Red√©marrez la session sur le terminal par Ctrl + Alt + BkSp ou red√©marrez g√©n√©ralement le Pi. <br><br>  Entrez RDP, testez tous les caract√®res sp√©ciaux, y compris  avec Maj sur la ligne num√©rique du clavier et touches lat√©rales √† gauche et √† droite de la section des lettres, avec Maj et sans (guillemets, deux-points, signes de ponctuation, b√¢tons, etc.).  Tout devrait fonctionner. <br><br><h4>  4.4.  Lorsque vous essayez de d√©marrer rdesktop, la session ne s'ouvre pas, l'erreur CredSSP s'affiche dans la console </h4><br><pre> <code class="bash hljs">CredSSP: Initialize failed, <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> you have correct kerberos tgt initialized ? Failed to connect, CredSSP required by server.</code> </pre><br>  Le syst√®me cible n√©cessite un algorithme d'authentification client moderne, ce que rdesktop ne peut normalement pas faire. <br><br>  Options de solution: <br><br><ol><li>  D√©sactivez l'authentification du serveur en diminuant les param√®tres de s√©curit√©.  Fondamentalement, dans les environnements o√π Pi essaie d'utiliser RDP en tant que client, cela ne devrait pas √™tre trop un probl√®me de s√©curit√©. </li><li>  Utilisez un autre client, par exemple freerdp, remmina, en rempla√ßant le contenu du script runrdp par la ligne de lancement de ce client. </li><li>  Installez et configurez le client Kerberos, mais en quelque sorte, tout y est compliqu√©.  Si vous voulez essayer, <a href="https://github.com/rdesktop/rdesktop/issues/71" rel="nofollow">commencez ici</a> . </li></ol><br><h4>  4.5.  Allumer et √©teindre l'appareil </h4><br>  Le Raspberry Pi n'a pas de bouton d'arr√™t.  C'est mauvais.  Il s'av√®re qu'il n'y a aucun moyen efficace de l'activer et de le d√©sactiver.  Beaucoup a √©t√© √©crit √† ce sujet, je vais essayer de le r√©sumer bri√®vement: <br><br><ol><li>  D'une part, nous ne pouvons pas √©teindre l'appareil du tout, en √©teignant uniquement le moniteur.  √Ä proprement parler, l√† o√π je mets le RPi, tout est fait.  En g√©n√©ral, l'appareil ne chauffe presque pas, ne consomme pas d'√©lectricit√©, ne fait pas de bruit.  Le moniteur, avant de quitter, l'utilisateur s'√©teint. </li><li>  Vous pouvez configurer la nuit d√©sactiv√©e par Cron, mais ensuite pour allumer le RPi le matin, l'utilisateur devra jongler avec le fil ou l'alimentation. </li><li>  Vous pouvez r√©soudre ce probl√®me en achetant un c√¢ble d'alimentation USB avec un bouton ouvert (pour allumer le RPi, il vous suffit d'ouvrir bri√®vement le circuit avec un bouton).  120 roubles est tout un plaisir.  Mais ici, les utilisateurs auront le travail d'arr√™t automatique de la m√™me mani√®re que l'appareil va planter.  √âtant donn√© que nous avons d√©plac√© les partitions volatiles vers tmpfs, il est probablement peu probable qu'il y ait des probl√®mes, mais personne n'est s√ªr que l'utilisateur ne sera pas connect√© le matin en raison de l'effondrement de rootfs.  Cela n'a pas fonctionn√©, pour ainsi dire, la solution ¬´clou√©e¬ª. </li><li>  Il existe des solutions avec un bouton suppl√©mentaire qui est inclus dans le port GPIO et allume / √©teint doucement l'appareil (de la bonne mani√®re).  Mais les fermes collectives au b√¢timent - c'est pour passer des heures et augmenter les co√ªts de production. </li><li>  Cependant, pour le RPi, il y a m√™me un bo√Ætier avec un bouton int√©gr√© (les Chinois ont tout).  Mais personnellement, je ne l'ai pas encore essay√©. </li><li>  Je pense √† allumer l'appareil via un disjoncteur dans le c√¢ble USB et √† l'√©teindre par une touche de raccourci (telle que Ctrl + Alt + Maj + P), qui est surveill√©e par le service syst√®me, mais il n'est pas possible de travailler avec cette solution. </li></ol><br><h4>  4.6 Reconnexions multiples au serveur RDP </h4><br>  Dans le sch√©ma actuel, le p√©riph√©rique client se connectera au serveur √† l'aide du protocole RDP, affichera la fen√™tre de saisie de connexion et de mot de passe, et si l'utilisateur n'entre rien, la session sera r√©initialis√©e apr√®s un certain temps et le client RDP red√©marrera, et ainsi de suite √† l'infini. <br><br><blockquote>  Dans les commentaires, l'utilisateur <a href="https://habr.com/ru/users/Mnemonik/">Mnemonik a</a> <a href="https://habr.com/ru/post/479504/">d√©clar√©</a> qu'avec plusieurs reconnexions permanentes, Windows Server manque de m√©moire et a donn√© un exemple de la fa√ßon de r√©soudre le probl√®me. <br></blockquote><br>  Je vais apporter le mien.  Nous allons modifier le script .xinitrc pour qu'apr√®s la fin du prochain processus rdesktop, une bo√Æte de dialogue modale s'affiche qui emp√™che le red√©marrage jusqu'√† ce que le bouton OK soit cliqu√©. <br><br>  Pour ce faire, vous pouvez utiliser le xmessage standard inclus dans le package xorg, mais les fen√™tres cr√©√©es par celui-ci sont si laides que mon moniteur se fissure.  De plus, cette application n'est pas compatible avec la langue russe, et l'activer est une autre t√¢che. <br><br>  Je suis impressionn√© par gxmessage, d√©pourvu de cet inconv√©nient, mais il tire GTK et 25 m√©gaoctets d'autres d√©pendances, ce que je n'aime pas non plus.  Eh bien, choisissons un moindre mal: <br><pre> <code class="plaintext hljs">apt-get install gxmessage</code> </pre> <br>  Modifiez le script .xinitrc: <br><pre> <code class="bash hljs">setxkbmap -option terminate:ctrl_alt_bksp <span class="hljs-comment"><span class="hljs-comment">#    Ctrl-Alt-BkSpace setterm -blank 0 -cursor off #   xsetroot -solid gray #      while /bin/true; do ./runrdp gxmessage --center " OK      RDP" done</span></span></code> </pre> <br>  Maintenant, entre les tentatives de rdesktop de se connecter au serveur, un message correspondant sera affich√© sur notre √©cran, et il n'y aura pas de ¬´bombardement¬ª constant du serveur. <br><br>  Une fois le script termin√© facilement, vous pouvez pr√©-v√©rifier la disponibilit√© r√©seau du serveur et afficher un message de reconnexion en raison d'un manque de communication. <br><br><h4>  4.7 Configuration de NTP </h4><br><blockquote>  Merci √† <a href="https://habr.com/ru/users/gecube/">gecube</a> de m'avoir rappel√© ce moment.  Th√©oriquement, le temps sur l'appareil peut ¬´flotter¬ª au fil du temps, ce qui peut entra√Æner des difficult√©s d'authentification et peut-√™tre d'autres probl√®mes. <br></blockquote>  Pour r√©soudre ce petit probl√®me, vous devez installer le programme ntpdate et enregistrer dans cron une t√¢che pour mettre √† jour l'heure toutes les heures (l'appareil aura besoin d'un acc√®s Internet): <br><br><pre> <code class="plaintext hljs"># apt-get install ntpdate # echo "0 * * * * root ntpdate pool.ntp.org" &gt; /etc/cron.d/ntp</code> </pre><br>  Si vous disposez d'un serveur NTP local sur votre r√©seau, remplacez le nom d'h√¥te par le v√¥tre. <br><h2>  5 Facultatif: connexion, d√©connexion et transfert de p√©riph√©riques USB </h2><br>  En fait, cette section comprend deux √©tapes cruciales.  Tout d'abord, pour g√©rer les p√©riph√©riques USB afin d'assurer leur montage automatique et au moins un certain d√©montage contr√¥l√© par l'utilisateur.  Et deuxi√®mement, transf√©rez les appareils connect√©s vers le terminal afin qu'ils soient accessibles sur le r√©seau. <br><br><h4>  5.1.  Configuration du montage automatique </h4><br>  Les p√©riph√©riques USB enfichables dot√©s de syst√®mes de fichiers seront mont√©s dans les sous-r√©pertoires du r√©pertoire / media.  Nous transmettrons ensuite le m√™me r√©pertoire √† rdesktop. <br><br>  Nous aurons besoin du package pmount. <br><br><pre> <code class="plaintext hljs"># apt-get install pmount.</code> </pre> <br>        udev,        . <br><br>  <b>/etc/udev/rules.d</b>   <b>80-usbstick.rules</b>   : <br><br><pre> <code class="plaintext hljs">ACTION=="add", KERNEL=="sd[az][0-9]", TAG+="systemd", ENV{SYSTEMD_WANTS}="usbstick-handler@%k"</code> </pre><br>     systemd. <br><br>  <b>/lib/systemd/system</b>   <b>usbstick-handler@.service</b>   : <br><br><pre> <code class="plaintext hljs">[Unit] Description=Mount USB sticks BindsTo=dev-%i.device After=dev-%i.device [Service] Type=oneshot RemainAfterExit=yes ExecStart=/usr/bin/pmount --umask 000 --noatime -w --sync /dev/%i /media/%i ExecStop=/usr/bin/pumount /dev/%i</code> </pre><br>  <b>/usr/local/bin</b>   <b>unmount-devices</b>   : <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash for folder in /media/*; do pumount $folder echo "Unmounted $folder" done</span></span></code> </pre><br>     . <br><br><pre> <code class="plaintext hljs">#chmod 755 unmount-devices</code> </pre> <br>   user   plugdev,       (pumount        ) <br><br><pre> <code class="plaintext hljs"># adduser user plugdev</code> </pre> <br> .    ,      USB  -,   ,   /media    sda1  .,       -. <br><br>     ‚Äîsync, ,  ,       ,        ,       . <br><br>    ( ,  ,        Windows    ). <br><br>     Pi , ,   /media/sda1  . <br>  unmount-devices    user. sda1  /media  ,     ,          Windows. <br><br><h4> 5.2   /media  RDP     </h4><br>  <b>/home/user/runrdp</b>    rdesktop   : <br><br><pre> <code class="bash hljs">rdesktop ‚Ä¶... -r disk:USB=/media/</code> </pre> <br>   <b>/home/user/.profile</b> ,   unmount-devices. <br><br><pre> <code class="bash hljs">... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ -z <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$DISPLAY</span></span></span><span class="hljs-string">"</span></span> ] &amp;&amp; [ $(tty) = <span class="hljs-string"><span class="hljs-string">"/dev/tty1"</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> startx clear unmount-devices <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">" 5    "</span></span> sleep 5 <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span></code> </pre><br> . <br><br> ,     RDP-,      Pi USB-,    ,     ,     . <br><br><img src="https://habrastorage.org/webt/vu/l_/qu/vul_quyi50ig54vjbewcwgpa83w.png"><br><br>      ,      (sda1-xx, sdb1-xx  ..) <br><br>     ,   Ctrl+Alt+BkSp.    (    -   ,    ),      (   <b></b>   )     5      RDP. <br> ,  ,           ,      .       . <br><br>      . <br><br><h2> 6.     Rpi </h2><br><h4> 6.    </h4><br>    ,   ,       .   ,        . <br>  SD- (  16- )  -,    USB- Raspberry. <br><br>        ,    <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># unmount-devices</span></span></code> </pre> <br>       SD-, ,  ,    /media/sdxx. <br><br>    lsblk     : <br><br><pre> <code class="plaintext hljs">sda 8:0 1 14.6G 0 disk ‚îî‚îÄsda1 8:1 1 14.6G 0 part mmcblk0 179:0 0 7.4G 0 disk ‚îú‚îÄmmcblk0p1 179:1 0 256M 0 part /boot ‚îî‚îÄmmcblk0p2 179:2 0 7.2G 0 part /</code> </pre><br> <b>sda</b>     ,  <b>mmcblk0</b> ‚Äì . <br> : <br><br><pre> <code class="plaintext hljs">dd if=/dev/mmcblk0 of=/dev/sda bs=4M</code> </pre> <br>   ,      ( 8 ). <br><br>      Raspberry,   ,     runrdp,    . <br><br><h4> 6.    </h4><br> , ,   ,   ,  ,   . - ,  ,  .. ‚Äî   ,   Windows 10,    Microsoft,         RPi    . <br>     ,      SD-   2  ()  (1977614336 ). ,       1966080000 ,        SD-. <br><br>   : <br> 1)   <a href="https://dropmefiles.com/ljUGS" rel="nofollow"> </a> (MD5: 0B5033A9CA12BA8299340BC482111998)    . <br> 2)    SD-, ,  ,    1.2. <br> 3)  ,       Ctrl+Alt+F2    . <br>    pi,  111. : <br><br><pre> <code class="plaintext hljs">$ sudo bash</code> </pre> <br> 4)    1.4, 2.1, ,    ( ping, ). <br> 5)  raspi-config,   Advanced Options,  Expand Filesystem (        SD- ) <br> 6)  /home/user/runrdp,    ¬´¬ª    IP-  ,    ¬´user¬ª   ,       . <br> 7)      . <br><br><h2>  Conclusion </h2><br>   ,   . ,    - . <br>  ,       .    , ,       . <br><br> PS 11.12.2019.   (gecube, Mnemonik, mkovalevskyi, SannX)    .  : <br><ul><li>    ; </li><li>   NTP; </li><li>          RDP- ‚Äî    messagebox  . </li></ul><br>  ,    ,   RPi3,     RPi4 Model B 1Gb.     - . ,      RPi 4,       . <br><br>   ,    (.  6.),     ,    . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr479504/">https://habr.com/ru/post/fr479504/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr479488/index.html">D'un ordinateur portable - un serveur domestique avec alimentation redondante au routeur Mikrotik</a></li>
<li><a href="../fr479492/index.html">Informatique sans serveur bas√©e sur OpenWhisk, partie 3</a></li>
<li><a href="../fr479496/index.html">Analyse des t√¢ches WTF en JavaScript</a></li>
<li><a href="../fr479498/index.html">Comment le temps lin√©aire se transforme en Windows en O (n¬≤)</a></li>
<li><a href="../fr479502/index.html">Comment survivre √† la p√©riode glaciaire la plus s√©v√®re de l'histoire de la Terre?</a></li>
<li><a href="../fr479508/index.html">PostgreSQL Antipatterns: JOIN et OR nuisibles</a></li>
<li><a href="../fr479510/index.html">PocketBook X Review - un √©norme lecteur de 10,3 pouces avec un √©cran E Ink Carta Mobius et un bo√Ætier m√©tallique</a></li>
<li><a href="../fr479512/index.html">MVCC dans PostgreSQL-4. Instantan√©s</a></li>
<li><a href="../fr479514/index.html">Confidentialit√© par conception et confidentialit√© par d√©faut (protection des donn√©es con√ßue et confidentialit√© par d√©faut par GDPR)</a></li>
<li><a href="../fr479516/index.html">Qu'est-ce que l'entropie dans un logiciel et comment le g√©rer?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>