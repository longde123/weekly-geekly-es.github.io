<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚃 🤦🏼 🍿 在Instagram上识别跨社区以识别用户兴趣 👩‍❤️‍💋‍👩 👾 🤘🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="社交网络上的个人资料可以告诉一个人多少？ 照片，帖子，评论，订阅-用于分析的原始字段。 今天，我们将讨论如何根据用户的Instagram订阅来确定用户的兴趣。 

 来源 

 一种明显的方法是对一个人的订阅进行分类。 例如，在用户Ivan的订阅中，我们发现了两个自动博客和三个带有有趣图片的帐户，其...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>在Instagram上识别跨社区以识别用户兴趣</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dentsuaegisnetworkrussia/blog/470634/"> 社交网络上的个人资料可以告诉一个人多少？ 照片，帖子，评论，订阅-用于分析的原始字段。 今天，我们将讨论如何根据用户的Instagram订阅来确定用户的兴趣。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gb/u1/er/gbu1erg2eq8yom_lr2xtps8yhwq.jpeg" alt="图片"></div> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><i>来源</i></a> <br><a name="habracut"></a><br> 一种明显的方法是对一个人的订阅进行分类。 例如，在用户Ivan的订阅中，我们发现了两个自动博客和三个带有有趣图片的帐户，其余的个人资料不是主题的（我们假设这些人是朋友，亲戚，同事等）。 由此我们得出结论：伊万是一个开朗的人，喜欢汽车。 获利 我们所需要的只是对应的“ blogger +内容主题”，但是这里并不是所有的事情都那么简单。 <br><br> 谁是博客作者？  Instagram上的博客与普通帐户没有什么不同（通常，它就像一种心理状态）。 理想情况下，我们对拥有大量现场观众的主题账户感兴趣，尽管我们不想简单地减少订阅者的数量，但我们可能会错过一些东西。 <br><br> 在哪里获得良好的分类法？ 如果您自己提出类别，那么一定会在“不同的事物”中迷失一些有趣的东西，并且当一切准备就绪时，事实证明类别太宽泛了。 我们希望得到一个自然的分区，因此我们将群集博客作者。 <br><br> 一个博客作者可以属于几个类别吗？ 就这样！ 通常，他同时是瑞士人，收割者和花花公子玩花花公子（以及旅行，生活方式，妻子和母亲）。 <br> 因此，我们需要一个拥有大量博客作者的数据集以及一个在输出处具有相交群集的群集算法。 <br><br><h6> 一切如何开始 </h6><br> 想要与最有效的Instagram上的意见领袖放置广告的客户联系我们。 有时有一个博客列表，然后我们解决优化问题-以更少的钱吸引更多人，有时没有列表，需要找到相关的博客。 这次，他们搜索了眼科医生的资料。 <br><br> 我们使用了一种类似于推荐系统的方法： <br><br><ol><li> 用手选择3-7个合适的个人资料（“核心社区”） <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/p0/f2/fa/p0f2fai8uxyhfskmuuap4gg9pfs.jpeg" alt="图片"></div><br></li><li> 使用订户的交集，我们识别出对该主题感兴趣的人（“热情”） <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qu/9t/ka/qu9tkazodbk2qmhzpkmrz8vau8u.jpeg" alt="图片"></div><br></li><li> 我们正在寻找“热情”人士的新医生 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sj/az/rf/sjazrfz7nuuck3d-rp3l4o6qwyy.jpeg" alt="图片"></div><br></li><li> 如有必要，重复步骤1-3（将新医生添加到“核心”或进行更改） <br></li></ol><br> 现在更详细地讲一个例子。 <br><br> 步骤1.使用Instagram搜索，我们选择了来自俄罗斯不同地区的6位眼科医生： <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ik/ju/it/ikjuitqkyyeknndsvczfen43hqw.png" alt="图片"></div><br> 列表是随机的，但是对于我们来说，博客确实符合主题就足够了，订阅者不少于1000人。 <br><br> 步骤2.跨过所有订户后，我们看一下分布。 <br><div class="scrollable-table"><table><tbody><tr><th> 共同关注人数 </th><th> 账户数 </th></tr><tr><td>  6 </td><td>  2 </td></tr><tr><td>  5 </td><td>  3 </td></tr><tr><td>  4 </td><td>  24 </td></tr><tr><td>  3 </td><td>  102 </td></tr><tr><td>  2 </td><td>  693 </td></tr><tr><td>  1个 </td><td>  30025 </td></tr></tbody></table></div><br> 万岁！ 有路口。 <br><br> 此外，有两个人已订阅全部六个个人资料！ 因此，现在您需要确定我们认为谁是“热情”眼科专家。 我们决定从三个订阅开始吸引所有人。 就像他们说的那样，1次是事故，2次是巧合，3次是规律。 因此，发现了131（2 + 3 + 24 + 102）个“热情”用户。 <br><br> 步骤3.下载“热情”人士的订阅，然后以各种可能的方式再次汇总。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ea/pe/jn/eapejnwwty6hmrbhrsrnd_-jhqu.png" alt="图片"></div><br> 我们得到了令人印象深刻的账目清单，现在我们将从中选择新的眼科医生。 右列显示在第二步中选择的131个人中有多少人已订阅该个人资料。 顶部是我们最初的六个配置文件，这不足为奇。 如果我们现在选择一个阈值并说：“所有计数值都超过十的个人资料都是新医生，”那么我们就有可能将眼科医师像Olga Buzova这样的热门帐户归因于眼科医师，同时会丢失少量但相关的个人资料，因此请多添加一个列订阅者数量，并计算订阅者中的热情用户百分比。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/9b/zn/eh/9bznehwumj0eygqn3izyu8zce9u.png" alt="图片"></div><br> 为了方便起见，该分数乘以100（因此，份额实际上是百分比）。 结果，在条件计数&gt; = 6且份额&gt; = 0.05的情况下，共接收了166位新的眼科医生。 上课！ <br><br> 第4步。172个帐户成为社区的新“核心”，这帮助找到了500多名新的眼科医生，但结果已经转移到了外国帐户。 <br><br><h6>  Instagram推荐中的类似帐户 </h6><br> 当然，这都很有趣，现在我们知道了如何查找彼此相似的帐户，但是我们仍然梦想将所有安装程序按类别进行分类。 然后我想到这个想法，看看现成的instagram建议。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ts/al/qx/tsalqxno5_5p6aqu7olicej_yj4.png" alt="图片替代"></div><br> 事实是，专题报告有建议，但普通百姓却没有。 这是谁考虑博客作者的问题的答案，并且可以避免一次头痛。 万岁！ <br><br> 在建议中，一位博客作者拥有多达80个相似的个人资料。 我们从1000个俄罗斯博客列表开始。 他们采取了类似的措施，然后采取了类似的措施，然后……嗯，您明白了： <br><br> 计划是有一天​​这一过程将结束，因为建议中将不会包含具有数百个订户的小型个人资料，但是当耐心结束时，我们实际上停止了。 您总是可以继续收集数据集，但是到目前为止，它并没有派上用场，很有可能我们已经涵盖了几乎所有俄罗斯博客，而且还可以。 <br><br> 现在，我们有了一个具有3,428,453个顶点（博客）和96,967,974个边（两个博客之间的相似度）的图形。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/h-/e7/lv/h-e7lv1ltamp_y9_zsno14rug5m.png" alt="图片"></div>  <i>这就是我们的图在很小的样本上的样子</i> <br><br> 顺便说一句，事实证明我们并不是第一个选择<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">这种方法的人。</a> <br><br> 显然，Instagram上的推荐是根据仍在关注此个人资料的关注者而形成的，因此，来自Bryansk的医生会在推荐中拥有受欢迎的Bryansk帐户和其他医生。 这类似于我们对眼科医生的搜索，但是现在我们可以考虑博客作者同时属于的所有社区。 此外，由于无需分析所有博客作者的订阅者，因此处理速度将大大提高，仅需推荐80个帐户即可。 <br><br><h6> 算法的选择和描述 </h6><br> 太好了！ 数据已经准备好了，现在我们需要选择一种工具和一种算法，可以处理这么大的图形，最好在足够的时间内处理。 让我提醒您，在输出时，我们希望获得一组社区，一个博客作者可以隶属于其中几个社区。 <br><br> 我们选择了斯坦福网络分析平台（SNAP）库 <br><blockquote> 斯坦福网络分析平台（SNAP）是通用网络分析和图形挖掘库。 它用C ++编写，可以轻松扩展到具有数亿个节点和数十亿个边缘的大规模网络。 它有效地处理大型图，计算结构特性，生成规则图和随机图，并支持节点和边上的属性。 </blockquote> 我们的注意力吸引到了AGMfit算法（AGM-关联图模型），结果，我们使用了BIGCLAM（大型网络的集群关联模型）。 它们的不同之处仅在于：在第一种情况下，组合解决了优化问题，这使其可扩展性降低，第二种情况仅允许您提供类似于我们的图。 <br><br> 主要且相当直观的想法：两个节点具有共同的社区越多，这两个节点之间进行通信的可能性就越大。 两种算法都基于Affilated Graph模型，因此让我们对其进行更详细的介绍： <br><br> 假设我们有一个二部图，其中圆峰是社区（ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0" height="0.25ex" viewBox="0 -53.9 0 107.7" role="img" focusable="false" style="vertical-align: -0.125ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"></g></svg></span><script type="math/tex" id="MathJax-Element-1"> </script> 和 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3">B</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.764ex" height="2.057ex" viewBox="0 -780.1 759.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/dentsuaegisnetworkrussia/blog/470634/&amp;usg=ALkJrhgzWJuvUoNKbzqK5TJZEpUR1tw4LQ#MJMATHI-42" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> B </script>  ）和正方形-社交网络的用户，以及每个人（ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-5">u</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/dentsuaegisnetworkrussia/blog/470634/&amp;usg=ALkJrhgzWJuvUoNKbzqK5TJZEpUR1tw4LQ#MJMATHI-75" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-3"> u </script>  ）是指具有特定权重的不同社区（ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-6"><span class="MJXp-msubsup" id="MJXp-Span-7"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8" style="margin-right: 0.05em;">F</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-9" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-11">A</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.9ex" height="2.419ex" viewBox="0 -780.1 1679 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/dentsuaegisnetworkrussia/blog/470634/&amp;usg=ALkJrhgzWJuvUoNKbzqK5TJZEpUR1tw4LQ#MJMATHI-46" x="0" y="0"></use><g transform="translate(643,-163)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/dentsuaegisnetworkrussia/blog/470634/&amp;usg=ALkJrhgzWJuvUoNKbzqK5TJZEpUR1tw4LQ#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/dentsuaegisnetworkrussia/blog/470634/&amp;usg=ALkJrhgzWJuvUoNKbzqK5TJZEpUR1tw4LQ#MJMATHI-41" x="572" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-4"> F_ {uA} </script> 和 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-12"><span class="MJXp-msubsup" id="MJXp-Span-13"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14" style="margin-right: 0.05em;">F</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-15" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-16">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-17">B</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.914ex" height="2.419ex" viewBox="0 -780.1 1685.4 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/dentsuaegisnetworkrussia/blog/470634/&amp;usg=ALkJrhgzWJuvUoNKbzqK5TJZEpUR1tw4LQ#MJMATHI-46" x="0" y="0"></use><g transform="translate(643,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/dentsuaegisnetworkrussia/blog/470634/&amp;usg=ALkJrhgzWJuvUoNKbzqK5TJZEpUR1tw4LQ#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/dentsuaegisnetworkrussia/blog/470634/&amp;usg=ALkJrhgzWJuvUoNKbzqK5TJZEpUR1tw4LQ#MJMATHI-42" x="572" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-5"> F_ {uB} </script>  ） 权重越大，参与者与社区其他成员联系（熟悉）的可能性就越大。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/we/7z/oa/we7zoa7ptjive025ant-w16i2do.png" alt="图片"></div><br> 示例：在同一所大学学习的同事在Instagram上彼此关注。 他们俩都是同一所大学（社区1）的毕业生，并且在同一家公司（社区2）工作，我们不知道是什么原因造成了网络上的“友谊”，以及他们何时会面。 让一个刚从大学毕业并找到工作，再让第二个毕业生在五年前一直在公司工作，那么属于第一个社区1的权重就会增加，而属于第二社区1的权重就会减少，反之亦然。 <br><br> 对于每个由几个人组成的共同社区，我们有一个独立的机会来熟悉： <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-18"><span class="MJXp-mn" id="MJXp-Span-19">1</span><span class="MJXp-mo" id="MJXp-Span-20" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-22">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-23">p</span><span class="MJXp-mrow" id="MJXp-Span-24"><span class="MJXp-mo" id="MJXp-Span-25" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mo" id="MJXp-Span-26" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-msubsup" id="MJXp-Span-27"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-28" style="margin-right: 0.05em;">F</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-29" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-30">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31">c</span></span></span><span class="MJXp-mtext" id="MJXp-Span-32">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-33">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-36">t</span><span class="MJXp-msubsup" id="MJXp-Span-37"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-38" style="margin-right: 0.05em;">F</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-39" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-40">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-41">c</span></span></span><span class="MJXp-mrow" id="MJXp-Span-42"><span class="MJXp-mo" id="MJXp-Span-43" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-6"> 1-exp（-F_ {uc} \ cdot F_ {vc}）</script></p><br> 因此，社区越常见，他们彼此了解的可能性就越大： <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-44"><span class="MJXp-mn" id="MJXp-Span-45">1</span><span class="MJXp-mo" id="MJXp-Span-46" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-47">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-48">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-49">p</span><span class="MJXp-mrow" id="MJXp-Span-50"><span class="MJXp-mo" id="MJXp-Span-51" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mo" id="MJXp-Span-52" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mtext" id="MJXp-Span-53">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-55">u</span><span class="MJXp-msubsup" id="MJXp-Span-56"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-57" style="margin-right: 0.05em;">m</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-58" style="vertical-align: -0.4em;">c</span></span><span class="MJXp-msubsup" id="MJXp-Span-59"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-60" style="margin-right: 0.05em;">F</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-61" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-62">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-63">c</span></span></span><span class="MJXp-mtext" id="MJXp-Span-64">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-65">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-66">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-67">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-68">t</span><span class="MJXp-msubsup" id="MJXp-Span-69"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-70" style="margin-right: 0.05em;">F</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-71" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-72">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-73">c</span></span></span><span class="MJXp-mrow" id="MJXp-Span-74"><span class="MJXp-mo" id="MJXp-Span-75" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-7"> 1-exp（-\ sum_c F_ {uc} \ cdot F_ {vc}）</script></p><br> 如果我们计算每对用户之间建立连接的可能性，那么在输出处，我们将得到一个图形，其中顶点是人，而顶点之间的边是相识或彼此订阅的事实。 <br><br> 因此，从左侧的视图中，我们移至右侧的图片。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/oy/44/xz/oy44xzvzw7wb3k8yborx9esgcmq.png" alt="图片"></div><br> 现在让我们了解如何在社区发现中使用此模型。 <br><br> 我们有一个类似博客作者的图表，我们的目标是发现 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-76"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-77">K</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-8"> K </script> 社区使用上述模型，通过选择最合适的权重矩阵 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-78"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-79">F</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-9"> F </script>  （其尺寸 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-80"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-10"> N </script> 上的节点 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-82"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-83">K</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-11"> K </script> 社区），以便在输出处获得的图形与我们原始图形相似。 这通过最大化似然函数来完成。 <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-84"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85">l</span><span class="MJXp-mrow" id="MJXp-Span-86"><span class="MJXp-mo" id="MJXp-Span-87" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88">F</span><span class="MJXp-mrow" id="MJXp-Span-89"><span class="MJXp-mo" id="MJXp-Span-90" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-91" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-92"><span class="MJXp-mo" id="MJXp-Span-93" style="margin-left: 0.278em; margin-right: 0.278em;">对</span></span><span class="MJXp-mrow" id="MJXp-Span-94"><span class="MJXp-mo" id="MJXp-Span-95" style="margin-left: 0.278em; margin-right: 0.278em;">数</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-96">P</span><span class="MJXp-mrow" id="MJXp-Span-97"><span class="MJXp-mo" id="MJXp-Span-98" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-99">G</span><span class="MJXp-mrow" id="MJXp-Span-100"><span class="MJXp-mo" id="MJXp-Span-101" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-102">F</span><span class="MJXp-mrow" id="MJXp-Span-103"><span class="MJXp-mo" id="MJXp-Span-104" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-12"> l（F）=对数P（G | F）</script></p><br> 但是，这整个过程可以表示为非负矩阵分解，与AGMfit相比，BIGCLAM算法的可伸缩性有所提高。 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在这里</a>和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">这里</a>阅读更多。 <br><br><h6> 社区编号和启动 </h6><br> 在BIGCLAM中，您可以指定社区的确切数量和间隔。 该算法会在每次测试中选择20％的节点对，并且将具有不同社区数量的模型调整80％。 <br><br> 我们形成了带有边列表的输入文件并运行： <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qy/gy/7r/qygy7r_whsle_7olpwjsep40jbm.png" alt="图片"></div><br><pre><code class="bash hljs">./bigclam -o:bloggers -i:query_graph_all.edgelist -c:-1 -nc:20 -mc:50000 -xc:200000 -nt:10</code> </pre> <br> 这些参数使您可以指定尝试次数，团体的最小和最大数目（或者，如有必要，可以是精确的数目），用于并行化的线程数和输出文件的前缀。 在我们的案例中，我们将10个线程尝试20次的间隔设置为50到20万个社区。 在2个Intel®Xeon®Gold 6150 CPU @ 2.70GHz上，所有这些出色表现被认为是5天。 输出收到两个文件，一个文件用于Gephi，第二个文本，其中每一行都是一个社区。 <br><br> 实际上，我们运行了两次算法，第一次遇到了5万个社区的上限，结果还不错，但是经常遇到混合社区。 这次，我们再次达到了20万个社区的最大值，但是它们变得更好了，我们在此止步。 您可能会得到更好的结果，但是二十万个未命名的社区使我们难以想象。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qp/h9/xb/qph9xbglpvazu5zxz5jlsogzyvy.png" alt="图片"></div>  <i>美丽的图画</i> <br><br> 现在如何处理所有这些？ <br><br> 一方面，由此产生的社区可帮助我们快速搜索狭窄的博客作者群体（当时与眼科医生一样）。 如果有几个博客作者为例，那么我们将其归入所有社区，丢弃不必要的社区，仅此而已。 您可以按名称使用搜索，例如，有关装饰和室内设计的社区之一： <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ls/qi/nr/lsqinr8ahkujna-wtj_imfcrpdu.png" alt="图片"></div><br> 另一方面，为了确定用户的利益，必须以某种方式有意义地调用所有这些社区。 或者，也许所有这些都是不必要的。 <br><br><h6> 克拉克 </h6><br> 不幸的是，并不是所有收到的社区都一样好，为了找到最有趣的社区，我们决定尝试使用同一SNAP库中的CRank优先级排序方法。 它旨在根据图表的结构自动匹配每个社区的排名：值越大，社区越好。 <br><br> 在计划的输入中，我们提交我们先前发现的社区，针对每个社区，计算优先级度量标准（4个），然后将这些度量标准汇总，然后得到一个估计值。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yu/hg/mg/yuhgmgp1srecox3g-u7ycdcg0to.png" alt="图片"></div><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在这里</a>阅读更多。 <br><br> 发射 <br><br><pre> <code class="bash hljs">./crank -i:bloggers_cmtyvv.txt -c:query_graph_all.edgelist -o:bloggers_prioritization.txt</code> </pre><br> 在发布过程中，他们遇到了与Ubuntu 18.04的兼容性问题， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">他们在此处</a>提供了一个解决方案。 <br><br> 由于我们的bloggers_cmtyvv.txt社区文件和edge_query_graph_all.edgelist列表最初包含昵称（字符串类型），因此我们必须对它们进行哈希处理，使其为int，否则便发誓。 <br><br> 让我们来看一个例子： <br><br> 根据计划，我们将选择几个社区，在这些社区中，配置文件名称中包含字符串“ lokomotiv”，这应该是Lokomotiv俱乐部的足球迷社区，让我们看看它的真实含义。 社区成员用红色标记，每张图片下方都有一个相应的分数。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/o-/jf/r1/o-jfr186lamd8kq7tu18szc9yum.png" alt="图片"></div>  <i>社区1，得分0.4</i> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vm/ga/vw/vmgavwtzxwcgu3i8ltgpyvypvpu.png" alt="图片"></div>  <i>社区2，得分0.41</i> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/oy/ts/qa/oytsqagi1p5ifmtkxqcigyxdkpa.png" alt="图片"></div>  <i>社区3，得分0.34</i> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ei/cj/je/eicjjeskkjd6nlb9lbxt3kzg-n4.png" alt="图片"></div>  <i>社区4，得分0.13</i> <br><br> 然后，在查看了此子图中的所有配置文件之后，我们选择了真正属于所需社区的人，结果如下所示： <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nz/vy/20/nzvy20gxhjuvqwhdstcvil8aglk.png" alt="图片"></div> 事实证明，前两个社区实际上包含了我们所需要的内容，几乎没有错误（俄罗斯足球队俄罗斯的概况除外），第三个社区很好，但是覆盖的帐户少于前两个社区，因此得分较小，第四个社区，尽管它包含有关足球主题的信息（这里是其他俱乐部的球员，他们的妻子和管理人员），但是，它不适合我们。 <br> 我们可以得出结论，CRank的效果很好。 <br><br><h6> 手动标记颜色和结果。 </h6><br> 为了解决按兴趣为用户着色的问题，我们还分析了帖子的文本，我们希望查看结果在哪里更好/更有趣（在文本或订阅中）以及是否有匹配项。 对于一小部分人，必须独立标记大约800个社区。 我们对结果感到非常满意，并决定应该开发这种方法。 社区检测方法使您可以找到非常狭窄且与众不同的兴趣类别，例如，订阅老鼠的资料（在小型灰色啮齿动物的意义上）和其他令人惊奇的事物，您可以找出一个人应该对哪种运动感兴趣，而不必将所有内容都归入“极端”类别依此类推 <br><br> 我们可能不会标记所有20万个社区，但是也许我们会处理CRank结果，只留下高速的社区，也许我们会在必要时标记它们。 这样的事情:) <br><br> 谢谢你 <br><br>  <i>本文是与我的主管Artyom Korolev（ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">korolevart</a> ）研发Dentsu Aegis Network Russia共同撰写的</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lc/m6/9f/lcm69flokdxm7m4x0yqffxzx_ta.png" alt="图片"></div>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">来源</a></i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN470634/">https://habr.com/ru/post/zh-CN470634/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN470618/index.html">使用因素分析对新闻进行专题建模</a></li>
<li><a href="../zh-CN470620/index.html">基础架构即代码：如何克服XP的问题</a></li>
<li><a href="../zh-CN470622/index.html">特征选择方法概述</a></li>
<li><a href="../zh-CN470628/index.html">太空飞船模拟器造船</a></li>
<li><a href="../zh-CN470632/index.html">Arend-基于HoTT的依存类型语言（第2部分）</a></li>
<li><a href="../zh-CN470638/index.html">拟牛顿法，或当Athos的二阶导数过多时</a></li>
<li><a href="../zh-CN470640/index.html">调整Elasticsearch的大小</a></li>
<li><a href="../zh-CN470642/index.html">认识Yandex.Station Mini。 小型设备的大故事</a></li>
<li><a href="../zh-CN470644/index.html">为什么企业博客有时会发酸：一些观察和技巧</a></li>
<li><a href="../zh-CN470646/index.html">数据科学数学。 OTUS的新课程</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>