<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☠️ 👊🏾 🚝 Optimalkan penyimpanan email di Zimbra Collaboration Suite 🤜🏿 🥔 🤵</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam salah satu artikel kami sebelumnya tentang perencanaan infrastruktur selama implementasi Zimbra Collabortion Suite di perusahaan, dikatakan bahw...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Optimalkan penyimpanan email di Zimbra Collaboration Suite</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/zimbra/blog/451920/">  Dalam salah satu artikel kami <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sebelumnya</a> tentang perencanaan infrastruktur selama implementasi Zimbra Collabortion Suite di perusahaan, dikatakan bahwa batasan utama dalam pekerjaan solusi ini adalah kecepatan input / output perangkat disk di penyimpanan surat.  Memang, pada saat beberapa ratus karyawan perusahaan secara bersamaan mengakses toko surat yang sama, lebar saluran untuk menulis dan membaca informasi dari hard drive mungkin tidak cukup untuk layanan responsif.  Dan jika untuk instalasi Zimbra kecil ini tidak menjadi masalah khusus, maka dalam kasus perusahaan besar dan penyedia SaaS, semua ini dapat menyebabkan pekerjaan email yang tidak responsif dan, sebagai akibatnya, efisiensi karyawan yang lebih rendah, serta pelanggaran SLA.  Itulah sebabnya ketika merancang dan mengoperasikan instalasi Zimbra skala besar, perhatian khusus harus diberikan pada masalah mengoptimalkan operasi hard disk dalam penyimpanan email.  Mari kita lihat dua kasing dan coba cari tahu metode pengoptimalan beban penyimpanan disk apa yang bisa diterapkan di masing-masingnya. <br><br><img src="https://habrastorage.org/web/524/a74/d9d/524a74d9dc834ae581c7893fc079c693.png" alt="gambar"><a name="habracut"></a><br><br>  <b>1. Optimalisasi saat merancang instalasi Zimbra skala besar</b> <br><br>  Pada tahap desain instalasi Zimbra yang sangat dimuat, administratornya harus membuat pilihan sistem penyimpanan data mana yang akan digunakan.  Untuk memutuskan masalah ini, Anda harus tahu bahwa beban utama pada hard drive dibuat oleh DBDB MariaDB, sistem pencarian Apache Lucene, serta penyimpanan gumpalan yang merupakan bagian dari Zimbra Collaboration Suite.  Itulah sebabnya untuk pengoperasian produk-produk perangkat lunak ini di bawah beban tinggi perlu untuk menggunakan peralatan berkecepatan tinggi dan dapat diandalkan. <br><br>  Dalam kondisi normal, Zimbra dapat diinstal pada RAID dari hard drive, dan pada penyimpanan yang terhubung melalui protokol NFS.  Dalam kasus instalasi yang sangat kecil, Anda dapat menginstal Zimbra pada drive SATA biasa.  Namun, dalam instalasi besar, semua teknologi ini menunjukkan berbagai kelemahan dalam bentuk kecepatan tulis yang lebih rendah atau keandalan yang rendah, yang tidak dapat diterima untuk perusahaan besar, dan, terutama, untuk penyedia SaaS. <br><br>  Itulah sebabnya dalam kondisi infrastruktur berskala besar, Zimbra paling baik menggunakan SAN.  Itu yang saat ini mampu memberikan throughput tertinggi untuk perangkat penyimpanan dan pada saat yang sama, karena kemampuan untuk menghubungkan sejumlah besar cache, penggunaannya praktis tidak menimbulkan risiko signifikan bagi perusahaan.  Ide yang bagus adalah menggunakan NVRAM, yang digunakan di banyak SAN untuk mempercepat kinerja perekaman.  Tetapi lebih baik untuk menonaktifkan caching dari data yang direkam pada disk itu sendiri, karena itu dapat menyebabkan kerusakan yang tidak dapat diperbaiki ke media dan kehilangan data jika terjadi masalah listrik. <br><br>  Sedangkan untuk pilihan sistem file, pilihan terbaik adalah menggunakan standar untuk Linux Ext3 / Ext4.  Nuansa utama yang terkait dengan sistem file adalah bahwa ia harus dipasang dengan <b>opsi -noatime</b> .  Parameter ini akan menonaktifkan fungsi memperbaiki waktu akses terakhir ke file, yang berarti akan sangat mengurangi beban membaca dan menulis.  Secara umum, ketika membuat sistem file ext3 atau ext4 untuk Zimbra, parameter utilitas <b>mke2fs berikut ini</b> harus digunakan: <br><br><blockquote> <b>-j</b> - Buat sistem file dengan jurnal ext3 / ext4. <br>  <b>-L TITLE</b> - Untuk membuat nama volume, gunakan di / etc / fstab <br>  <b>-O dir_index</b> - Untuk menggunakan pohon pencarian hash untuk mempercepat pencarian file di direktori besar <br>  <b>-m 2</b> - Untuk memesan 2% dari volume dalam sistem file besar di bawah direktori root <br>  <b>-J size = 400</b> - Untuk membuat log besar <br>  <b>-b 4096</b> - Untuk menentukan ukuran blok dalam byte <br>  <b>-i 10240</b> - Untuk penyimpanan pesan, opsi ini harus sesuai dengan ukuran pesan rata-rata.  Anda harus hati-hati mempertimbangkan parameter ini, karena selanjutnya nilainya tidak dapat diubah </blockquote><br>  Selain itu, Anda <b>disarankan</b> untuk mengaktifkan <b>dirsync</b> untuk penyimpanan gumpalan, penyimpanan meta data pencarian Lucene, dan penyimpanan antrian MTA.  Ini harus dilakukan dengan alasan bahwa biasanya Zimbra menggunakan utilitas <b>fsync</b> untuk menjamin bahwa ia akan menulis gumpalan dengan data ke disk.  Namun, ketika kotak surat Zimbra atau MTA membuat file baru selama pengiriman pesan, menjadi perlu untuk menulis ke disk perubahan yang terjadi di folder yang sesuai.  Itulah sebabnya bahkan dalam kasus ketika file telah ditulis ke disk menggunakan <b>fsync</b> , catatan menambahkannya ke direktori mungkin tidak punya waktu untuk menulis ke disk dan, sebagai akibatnya, dapat hilang karena kegagalan server yang tiba-tiba.  Dengan menggunakan <b>dirsync</b> masalah ini dapat dihindari. <br><br>  <b>2. Optimasi dengan infrastruktur Zimbra yang berfungsi</b> <br><br>  Sering terjadi bahwa setelah beberapa tahun pengoperasian Zimbra, jumlah penggunanya meningkat secara signifikan dan layanan menjadi semakin tidak responsif setiap hari.  Jalan keluar dari situasi ini jelas: Anda hanya perlu menambahkan server baru ke infrastruktur sehingga layanan berfungsi kembali secepat sebelumnya.  Sementara itu, jauh dari selalu memungkinkan untuk segera menambahkan server baru ke infrastruktur untuk meningkatkan kecepatannya.  Seringkali, manajer TI harus berkoordinasi untuk waktu yang lama dalam pembelian server baru dengan departemen akuntansi atau keamanan, di samping itu, pemasok sering gagal membawa server baru terlambat atau tidak memberikan apa yang dibutuhkan. <br><br>  Tentu saja, yang terbaik adalah membangun infrastruktur Zimbra Anda dengan margin agar selalu memiliki margin untuk ekspansi dan tidak bergantung pada siapa pun, namun, jika kesalahan telah dibuat, manajer TI hanya dapat memperlancar konsekuensinya.  Sebagai contoh, seorang manajer TI dapat mencapai peningkatan kecil dalam produktivitas dengan menonaktifkan sementara layanan sistem Linux, yang secara teratur mengakses hard disk selama operasi dan karena itu dapat secara negatif mempengaruhi kecepatan Zimbra.  Jadi, untuk sementara Anda dapat menonaktifkan: <br><br><blockquote>  <b>autofs, netfs</b> - Layanan Penemuan Sistem File Jarak Jauh <br>  <b>gelas</b> - Layanan Cetak <br>  <b>xinetd, vsftpd</b> - Layanan bawaan * NIX yang kemungkinan besar tidak Anda perlukan <br>  <b>portmap, rpcsvcgssd, rpcgssd, rpcidmapd</b> - Layanan panggilan prosedur jarak jauh yang biasa digunakan bersama dengan sistem file jaringan <br>  <b>dovecot, cyrus-imapd, sendmail, exim, postfix, ldap</b> - Duplikat dari utilitas utama yang termasuk dalam Zimbra Collaboration Suite <br>  <b>slocate / updatedb</b> - Karena Zimbra menyimpan setiap pesan dalam file terpisah, memulai layanan updatedb setiap hari dapat menyebabkan masalah, dan karenanya Anda dapat melakukan ini secara manual selama beban server terkecil </blockquote><br>  Menyimpan sumber daya sistem sebagai akibat dari menonaktifkan layanan ini tidak akan terlalu signifikan, tetapi bahkan ini bisa sangat berguna dalam kondisi yang dekat dengan force majeure.  Setelah server baru ditambahkan ke infrastruktur Zimbra, disarankan untuk mengaktifkan kembali layanan yang sebelumnya dinonaktifkan. <br><br>  Dimungkinkan juga untuk mengoptimalkan operasi Zimbra dengan memindahkan layanan syslog ke server terpisah sehingga tidak memuat hard drive penyimpanan surat selama operasi.  Untuk keperluan ini, hampir semua komputer, hingga Raspberry Pi satu papan yang murah, cocok. <br><br>  Untuk semua pertanyaan yang terkait dengan Zextras Suite, Anda dapat menghubungi perwakilan perusahaan "Zextras" Katerina Triandafilidi melalui email katerina@zextras.com </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id451920/">https://habr.com/ru/post/id451920/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id451906/index.html">Exchange Vulnerability: Cara Mendeteksi Peningkatan Privilege ke Administrator Domain</a></li>
<li><a href="../id451908/index.html">Sejarah komputer: malam di Yandex Museum</a></li>
<li><a href="../id451912/index.html">Jaringan saraf mendalam MuseNet menulis musik</a></li>
<li><a href="../id451916/index.html">PHP asinkron dan kisah satu sepeda</a></li>
<li><a href="../id451918/index.html">Untuk pertanyaan TI</a></li>
<li><a href="../id451922/index.html">Aritmatika titik tetap dalam C ++</a></li>
<li><a href="../id451926/index.html">Tentang kode-hidup setelah 130 aliran</a></li>
<li><a href="../id451928/index.html">Cara mengatur analitik web pada halaman AMP</a></li>
<li><a href="../id451930/index.html">Otomatisasi pencahayaan tangga</a></li>
<li><a href="../id451932/index.html">PHDays 9: Selamat datang di Bagian Pengembangan Aman</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>