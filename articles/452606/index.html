<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôÖüèΩ üòõ üéüÔ∏è UDB Que es esto Parte 8. Abordar UDB üõèÔ∏è üèµÔ∏è üôÅ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Concluimos nuestra epopeya con la traducci√≥n de la documentaci√≥n de propiedad de Cypress sobre UDB. El √∫ltimo problema, sobre abordar UDB, est√° frente...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>UDB Que es esto Parte 8. Abordar UDB</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/452606/"><img src="https://habrastorage.org/webt/iz/qy/4u/izqy4uelehcwdfo4bflhrrpyhze.jpeg"><br><br>  Concluimos nuestra epopeya con la traducci√≥n de la documentaci√≥n de propiedad de Cypress sobre UDB.  El √∫ltimo problema, sobre abordar UDB, est√° frente a usted. <br><a name="habracut"></a><br>  El contenido general del ciclo ‚ÄúUDB.  ¬øQu√© es esto? <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1. Introducci√≥n.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Pld.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2. Ruta de datos.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3. Datapath FIFO.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 4. Datapath ALU.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 5. Ruta de datos.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Peque√±as cosas √∫tiles.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 6. M√≥dulo de gesti√≥n y estado.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 7. M√≥dulo de control de temporizaci√≥n y reinicio</a> <br>  Parte 8. Abordar UDB.  (Art√≠culo actual) <br><br><h2>  21.3.5 Direccionamiento UDB </h2><br>  El par UDB tiene tres espacios de direcciones √∫nicos: <br><br><ul><li> Registros de trabajo de 8 bits: un controlador de bus que tiene acceso a solo 8 bits de datos por ciclo de bus puede usar este espacio de direcciones para leer o escribir cualquier registro de trabajo UDB.  Estos incluyen los registros con los que la CPU y DMA interact√∫an durante el funcionamiento normal. </li><li>  Registros de trabajo de 16 bits: un controlador de bus de 16 bits como DMA o PSoC 5LP Cortex-M3 puede acceder a 16 bits en un solo ciclo de bus para proporcionar funciones de transferencia de datos que requieren 16 bits o m√°s.  A pesar de que este espacio de direcciones no est√° vinculado al √°rea a la que est√° vinculado el espacio de 8 bits, tiene acceso a los mismos registros, solo a un par a la vez. </li><li>  Registros de configuraci√≥n de 8 o 16 bits: estos registros configuran UDB para ejecutar una funci√≥n.  Despu√©s de la configuraci√≥n, los registros generalmente se establecen en un estado est√°tico durante la operaci√≥n UDB.  Estos registros conservan su estado despu√©s del modo de suspensi√≥n. <br></li></ul><br>  <b><i>Nota del traductor</i></b> <br>  <i>De alguna manera todo est√° complicado formulado.</i>  <i>En mi opini√≥n, para los dos primeros puntos es m√°s f√°cil introducir el concepto de m√©todos de direccionamiento con diferentes profundidades de bits del registro de trabajo.</i>  <i>A trav√©s de registros de trabajo de 8 bits y de 16 bits, respectivamente.</i>  <i>Si est√° confundido al leer estos p√°rrafos, trate de considerar el texto de esta manera.</i>  <i>Diferentes ventanas en el espacio de direcciones de la CPU, proporcionando direccionamiento de la misma a trav√©s de los registros de trabajo de diferentes bits.</i>  <i>Eso es todo</i> <br><br><h3>  21.3.5.1 Espacio de direcciones del registro de trabajo </h3><br>  Los registros de trabajo se utilizan durante el funcionamiento normal e incluyen bater√≠as, registros de datos, FIFO, registros de control y estado, un registro de superposici√≥n de m√°scaras y un registro de control auxiliar. <br><br>  La figura 21-43 muestra un mapa de registro de una UDB. <br><br>  A la derecha en la Figura 21-43 hay una direcci√≥n de 16 bits que siempre es pareja.  En este caso, el n√∫mero UDB tiene una dimensi√≥n de 5 bits, no 4, debido a la ubicaci√≥n uniforme de las direcciones.  Los 4 bits altos a√∫n establecen el n√∫mero de registro. <br><br><img src="https://habrastorage.org/webt/_z/2v/qv/_z2vqvuepoda43mnwkw-nstkpdg.png"><br>  <i>Figura 21-43.</i>  <i>Registros de trabajo UDB.</i> <br><br>  <b>Acceso al registro de trabajo de 8 bits</b> <br>  En este modo, el acceso a todos los registros UDB se realiza a trav√©s de direcciones alineadas en el l√≠mite de bytes.  En el modo de acceso para registros de 8 bits, como se muestra en la Figura 21-44, todos los bytes de datos escritos en UDB est√°n alineados con el byte bajo del bus UDB de 16 bits. <br><br>  En este modo, el acceso en cualquier momento solo se puede acceder a un byte. <br><br><img src="https://habrastorage.org/webt/po/he/g4/poheg44zz-voo5ggnlvf-mzpec0.png"><br>  <i>Figura 21-44.</i>  <i>Acceso al registro de trabajo de 8 bits.</i> <br><br>  <b>Espacio de direcciones de registro de trabajo de 16 bits</b> <br>  Un espacio de direcciones de 16 bits dise√±ado para un acceso eficiente a DMA y que proporciona acceso program√°tico de la CPU a los procesadores que lo admiten, como el Cortex-M3 en PSoC 5LP.  Hay dos modos de acceso a los registros de 16 bits: el modo predeterminado y el modo de concatenaci√≥n.  Como se muestra en la Figura 21-45, en el modo predeterminado accede al registro especificado en UDB 'i' a trav√©s del byte bajo y al mismo registro en UDB 'i + 1' a trav√©s del byte alto.  Esto hace que el procesamiento de datos de 16 bits sea eficiente en las UDB vecinas (en orden de direcciones) configuradas como funciones de 16 bits. <br><br><img src="https://habrastorage.org/webt/yi/4w/ld/yi4wldidlm_2efrjsxv7_rjfn6o.png"><br>  <i>Figura 21-45.</i>  <i>Acceso a registros de trabajo de 16 bits en modo predeterminado.</i> <br><br>  En el modo de concatenaci√≥n, los registros de un UDB se combinan para formar registros de 16 bits, como se muestra en la Figura 21-46.  En este modo, el bus de datos de 16 bits de la matriz UDB debe acceder a un par de registros en la UDB en el formato que se muestra en la figura.  Por ejemplo, al acceder al registro A0, el acceso a A0 a trav√©s del byte bajo y a A1 a trav√©s del byte alto realmente ocurrir√°. <br><br><img src="https://habrastorage.org/webt/zn/wi/um/znwiumy4r3nysfoca4ozzv_9swu.png"><br>  <i>Figura 21-46.</i>  <i>Acceso a un registro de trabajo de 16 bits en modo de concatenaci√≥n</i> <br><br>  El uso de DMA est√° limitado por la profundidad de bits del registro de trabajo de 16 bits.  No es suficiente cuando se trabaja con funciones de m√°s de 16 bits.  Esto es causado por superposiciones de direcciones, como se muestra en <br>  tabla 21-25. <br><br>  Tablas 21-25.  Espacio de direcciones optimizado para funciones UDB de 16 bits. <br><div class="scrollable-table"><table><tbody><tr><th>  La direccion </th><th>  El byte alto se escribe en </th><th>  El byte bajo se escribe en </th></tr><tr><td>  0 0 </td><td>  UDB1 </td><td>  UDB0 </td></tr><tr><td>  2 </td><td>  UDB2 </td><td>  UDB1 </td></tr><tr><td>  4 4 </td><td>  UDB3 </td><td>  UDB2 </td></tr></tbody></table></div><br>  Cuando el DMA transmite 16 bits a la direcci√≥n 0, los bytes bajo y alto se escriben en UDB0 y UDB1, respectivamente.  En la siguiente transmisi√≥n DMA de 16 bits a la direcci√≥n 2, el valor en UDB1 se sobrescribe por el byte bajo de esta transmisi√≥n. <br><br>  Para evitar problemas asociados con dicha organizaci√≥n de memoria, se recomienda para las funciones cuya profundidad de bits es m√°s de 16 bits para iniciar el proceso DMA para un √°rea con registros de trabajo de 8 bits. <br><br><h3>  21.3.5.2 Configuraci√≥n del espacio de direcciones de registro </h3><br>  La configuraci√≥n se realiza en el nivel de par UDB.  Un par UDB consta de dos UDB y un canal trazador asociado, como se muestra en la Figura 21-47. <br><br><img src="https://habrastorage.org/webt/qv/7y/9t/qv7y9t4dpuqxrq0yzmrbjprga1q.png"><br>  Figura 21-47.  Esquema de direcciones para configurar un par UDB. <br><br><h3>  21.3.5.3 Espacio de direcciones de configuraci√≥n UDB </h3><br>  La figura 21-48 muestra el diagrama de configuraci√≥n de direcci√≥n de una UDB espec√≠fica.  Como puede ver, este espacio de configuraci√≥n est√° duplicado en ambos UDB en pares.  En total, 128 bytes (direcciones de 7 bits) est√°n reservados para cada configuraci√≥n UDB, que se dividen en segmentos de 16 bits.  Vale la pena se√±alar que no se admite el acceso de 16 bits a bordes impares.  La lectura siempre devuelve 16 bits en el espacio de configuraci√≥n y se pueden ignorar bytes innecesarios. <br><br><img src="https://habrastorage.org/webt/gz/sp/wi/gzspwipjsd6w69zzfagcra7qyua.png"><br>  Figura 21-48.  El espacio de direcciones de la configuraci√≥n UDB. <br><br><h3>  21.3.5.4 Espacio de direcciones de configuraci√≥n de enrutamiento </h3><br>  La configuraci√≥n de rastreo UDB consta de bits de RAM incorporados para controlar el estado de los conmutadores de puerta de enlace, la segmentaci√≥n y las memorias intermedias de entrada / salida. <br><br><h2>  21.3.6 Coherencia de acceso al bus del sistema </h2><br>  Los registros UDB tienen modo de acceso dual: <br><br><ul><li>  acceso al bus del sistema, en el que la CPU o DMA lee o escribe en el registro UDB; </li><li>  Acceso interno a UDB, en el cual la funci√≥n UDB actualiza o usa los contenidos del registro </li></ul>  . <br><h3>  21.3.6.1 Acceso simult√°neo al bus del sistema </h3><br>  La siguiente tabla contiene una lista de posibles eventos de acceso concurrente y el comportamiento requerido. <br><br>  Tabla 21-26.  Acceso simult√°neo al bus del sistema. <br><div class="scrollable-table"><table><tbody><tr><td>  <b>Registrarse</b> </td><td>  <b>Grabar desde UDB</b> <b><br></b>  <b>Grabaci√≥n de bus</b> </td><td>  <b>Grabar desde UDB</b> <b><br></b>  <b>Leyendo desde el bus</b> </td><td>  <b>Lectura de UDB</b> <b><br></b>  <b>Grabaci√≥n de bus</b> </td><td>  <b>Lectura de UDB</b> <b><br></b>  <b>Leyendo desde el bus</b> </td></tr><tr><td>  Hacha </td><td rowspan="2">  Resultado incierto </td><td rowspan="2">  No disponible directamente <sup>a, b</sup> </td><td rowspan="2">  UDB lee el valor anterior </td><td rowspan="2">  El bus y la UDB leen el valor actual. </td></tr><tr><td>  Dx </td></tr><tr><td>  Fx </td><td>  No compatible (UDB y el bus deben tener acceso multidireccional) </td><td colspan="2">  Si se utilizan indicadores de estado FIFO, lectura / escritura simult√°neas </td><td>  No es compatible (UDB y los buses deben tener acceso multidireccional) </td></tr><tr><td>  ST </td><td>  No disponible, el autob√∫s no escribe </td><td>  El bus lee el valor anterior. </td><td colspan="2">  No disponible, UDB no lee </td></tr><tr><td>  CTL </td><td colspan="2">  No disponible, UDB no escribe </td><td rowspan="5">  UDB lee el valor anterior </td><td rowspan="6">  El bus y la UDB leen el valor actual. </td></tr><tr><td>  CNT </td><td>  Resultado incierto </td><td>  No disponible directamente <sup>desde</sup> </td></tr><tr><td>  ACTL </td><td colspan="2" rowspan="3">  No disponible, UDB no escribe </td></tr><tr><td>  Msk </td></tr><tr><td>  Por </td></tr><tr><td>  MC (RO) </td><td>  No disponible, el autob√∫s no escribe </td><td>  No disponible directamente <sup>d</sup> </td><td>  No disponible, el autob√∫s no escribe </td></tr></tbody></table></div><br>  a.  Los registros del hacha se pueden leer de forma segura utilizando la funci√≥n de captura de software FIFO. <br>  b.  En los registros Dx, los FIFO solo se pueden escribir din√°micamente.  En este modo, la lectura directa de registros Dx no est√° disponible. <br>  c.  El registro CNT solo se puede leer de forma segura cuando est√° deshabilitado.  Una alternativa para leer din√°micamente el valor CNT es rastrear la salida hasta el registro SC (en modo transparente). <br>  d.  Los bits de registro MC pueden rastrearse hasta las entradas de registro de estado (en modo transparente) para una lectura segura. <br><br><h3>  21.3.6.2 Acceso al acumulador coherente (lecturas y escrituras at√≥micas) </h3><br>  Las bater√≠as UDB son el objetivo principal del procesamiento de datos.  Por lo tanto, leer estos registros directamente durante el funcionamiento normal da un resultado indefinido, como se muestra en la tabla anterior.  Sin embargo, hay soporte incorporado para lecturas at√≥micas en forma de captura de programa implementado en bloques conectados en una cadena.  En dicho modelo de uso, leer la √∫ltima bater√≠a significativa transfiere datos de todos los bloques conectados en la cadena a los FIFO asociados.  La grabaci√≥n at√≥mica en FIFO se puede implementar mediante programaci√≥n.  Se pueden realizar operaciones de escritura separadas en la entrada FIFO, y luego la se√±al de estado FIFO, a la que se realiz√≥ la √∫ltima grabaci√≥n, se puede enviar a todos los bloques vinculados, mientras que los datos FIFO se transferir√°n a los registros Dx o Ax. <br><br><h3>  <i>Ep√≠logo del traductor</i> </h3><br>  <i>Este ciclo de traducci√≥n se realiz√≥ como respuesta al comentario sobre el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo</a> , donde se propuso primero describir brevemente qu√© es UDB.</i>  <i>Ahora est√° claro que para una respuesta breve ser√≠a necesario citar al menos la mitad de los materiales presentados aqu√≠, de lo contrario la respuesta a√∫n estar√≠a incompleta.</i>  <i>Pero ahora todos los materiales est√°n traducidos y compilados.</i>  <i>La tarea se ha completado.</i> <i><br><br></i>  <i>Mientras el trabajo continuaba, tambi√©n llamamos la atenci√≥n sobre otro interesante bloque de PSoC, que es poco conocido por cualquiera, pero est√° lleno de un tremendo poder.</i>  <i>Este es DFB, bloque de filtro digital.</i>  <i>Es cierto, da miedo apresurarse en la traducci√≥n.</i>  <i>De la traducci√≥n sobre UDB est√° claro que una documentaci√≥n no es suficiente, oh, se necesita pr√°ctica.</i>  <i>El problema es que hay pocos ejemplos listos para usar en UDB, pero lo son.</i>  <i>Todav√≠a no ha sido posible encontrar algo que valga la pena a partir de los ejemplos en DFB (Cypress hizo un filtro digital en forma de recuadro negro, funciona, pero no est√° claro c√≥mo).</i>  <i>La traducci√≥n sin ejemplos no tendr√° sentido.</i>  <i>Por lo tanto, aprovechando esta oportunidad, llamamos la atenci√≥n de los lectores sobre este bloque.</i>  <i>Quiz√°s alguien en los comentarios proporcione enlaces a buenos ejemplos.</i>  <i>Si logramos lidiar con este bloque, ser√° posible hacer un ciclo de traducciones y art√≠culos pr√°cticos sobre √©l.</i>  <i>Mientras tanto, eso es todo.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/452606/">https://habr.com/ru/post/452606/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../452590/index.html">El estadounidense cre√≥ un aula m√≥vil para ense√±ar a los ni√±os en escuelas de impresi√≥n 3D de bajo presupuesto, el proyecto ya ha recolectado m√°s de 100,000</a></li>
<li><a href="../452592/index.html">Parte 0. Requiere un elfo para trabajar en Matrix. La reubicaci√≥n es posible</a></li>
<li><a href="../452596/index.html">Se tomaron 735,000 direcciones IPv4 de un estafador y se devolvieron al registro</a></li>
<li><a href="../452598/index.html">Gesti√≥n de un equipo de programadores: ¬øc√≥mo y c√≥mo motivarlos correctamente? Primera parte</a></li>
<li><a href="../452602/index.html">Cisco Hyperflex para sistemas de administraci√≥n de bases de datos de alta carga</a></li>
<li><a href="../452608/index.html">Parte 1. QInst: es mejor perder un d√≠a, luego volar en cinco minutos (escribir instrumentos es trivial)</a></li>
<li><a href="../452610/index.html">Ayuda y solicitud por ella. Art√≠culo sobre seguridad de la informaci√≥n para usuarios comunes.</a></li>
<li><a href="../452612/index.html">Aprendizaje autom√°tico reforzado de redes neuronales profundas en tensorflow.js: trucos</a></li>
<li><a href="../452614/index.html">C√≥mo comenzar a programar en Adobe Illustrator. Parte dos</a></li>
<li><a href="../452618/index.html">Lo que se dijo en Google I / O 2019: Android 10, aplicaciones AR y mucho m√°s</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>