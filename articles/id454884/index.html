<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ“¢ ğŸ‘©ğŸ¼ ğŸ‘©ğŸ»â€ğŸ¤â€ğŸ‘¨ğŸ½ Penamaan Tes yang Dapat Dibaca dalam JS dan Pola Perilaku ğŸ•š ğŸ§‘ğŸ¼â€ğŸ¤â€ğŸ§‘ğŸ¼ ğŸ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Selama ulasan berikutnya tentang Permintaan Tarik yang tebal, saya menemukan Tes Unit dengan penamaan kasus tes yang salah. Diskusi tentang kata-kata ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Penamaan Tes yang Dapat Dibaca dalam JS dan Pola Perilaku</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454884/"><p>  Selama ulasan berikutnya tentang Permintaan Tarik yang tebal, saya menemukan Tes Unit dengan penamaan kasus tes yang salah.  Diskusi tentang kata-kata dalam kasus uji ternyata mirip dengan percakapan antara Yanychar dan Legkostupov dalam film "72 meter" ("jika itu sangat dimengerti di sekolah ...").  Percakapan terdengar gagasan bahwa dalam sumber daya berbahasa Rusia sulit untuk menemukan panduan penjelasan tepatnya dengan kata-kata tekstual.  Saya memutuskan untuk mencari sendiri dalam bahasa Rusia (biasanya saya hanya menggunakan sumber berbahasa Inggris).  Pada habr ditemukan beberapa manual tentang unit test, tetapi semuanya memotong detail formulasi dalam test case.  Di bawah potongan, upaya saya untuk mengisi celah ini. </p><a name="habracut"></a><br><h3 id="disklemer">  Disclamer </h3><br><p>  Ada kemungkinan saya terlihat buruk / membaca terlalu diagonal.  Berikut adalah contoh bagaimana topik artikel ini dibahas dalam artikel-artikel yang menarik perhatian saya. </p><br><p><img src="https://habrastorage.org/webt/xj/85/eu/xj85eux2nk1lxg3fjcdxhbo-0_y.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">TDD untuk pemula</a> </p><br><p> Atas permintaan rekan-rekan, yang merasa tidak nyaman membaca buku pedoman bahasa Inggris, saya memutuskan untuk menerjemahkan dan menyusun buku pedoman berbahasa Inggris. </p><br><h3 id="ot-perevodchika">  Dari penerjemah </h3><br><p>  Saya mengambil dua bahan ini sebagai dasar artikel: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">5 Tips untuk Menulis Tes Unit Javascript Luar Biasa</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Panduan pengujian unit dalam JavaScript</a> </li></ul><br><p>  Saya juga harus mencatat bahwa dalam beberapa contoh uji saya harus melakukan terjemahan parsial ke dalam bahasa Rusia.  Kata-kata dalam blok "uraikan" sengaja tetap dalam bahasa Inggris, sebagai  dengan probabilitas tinggi mereka akan berisi nama fungsi, modul JS, atau entitas lain dalam kode, tetapi di blok "it" teks sudah diterjemahkan untuk dibaca. </p><br><p>  <em>Preferensi pribadi saya adalah bahwa semua yang ada dalam kode harus dalam bahasa Inggris.</em> </p><br><h3 id="imenovanie-testov">  Tes penamaan </h3><br><p>  Nama tes harus menggambarkan tujuannya sesingkat dan sejelas mungkin.  Nama dan deskripsi tes adalah hal pertama yang harus mengindikasikan penyebab kegagalan fungsi.  Hasil tes di konsol harus dibaca dengan benar dalam hal tata bahasa.  Pengembang pihak ketiga seharusnya tidak memecahkan teka-teki di kepala mereka, mencoba menebak apa yang dipikirkan oleh penulis tes.  Tes adalah bagian dari dokumentasi untuk program dan harus ditulis dengan benar. </p><br><p>  Contoh <strong>BAD</strong> : </p><br><pre><code class="javascript hljs">describe(<span class="hljs-string"><span class="hljs-string">'discoveryService =&gt; initDiscoveries'</span></span>, () =&gt; { it(<span class="hljs-string"><span class="hljs-string">' discoveries ( ,    ..)'</span></span>, () =&gt; { <span class="hljs-comment"><span class="hljs-comment">// ... }); }); describe('MyGallery', () =&gt; { it('init      ( , - )', () =&gt; { }); // ... });</span></span></code> </pre> <br><p>  Dari contoh-contoh di atas, sulit untuk memahami tindakan spesifik apa yang dilakukan dan apa hasil konkret dari tindakan tersebut. </p><br><p>  Contoh <strong>BAIK</strong> : </p><br><pre> <code class="javascript hljs">describe(<span class="hljs-string"><span class="hljs-string">'discoveryService =&gt; initDiscoveries'</span></span>, () =&gt; { it(<span class="hljs-string"><span class="hljs-string">'   discoveries'</span></span>, () =&gt; { <span class="hljs-comment"><span class="hljs-comment">// ... }); it('     discoveries', () =&gt; { // ... }); }); describe(' Gallery', () =&gt; { it('       ', () =&gt; { }); it('       ', () =&gt; { }); // ... });</span></span></code> </pre> <br><p>  <em>Catatan</em>  <em>perev.</em>  <em># 1: perhatikan bahwa blok teks di <strong>dalamnya</strong> dimulai dengan huruf besar, sebagai</em>  <em>adalah kelanjutan dari kalimat yang dimulai dalam <strong>descibe</strong> .</em> </p><br><p>  <em>Catatan</em>  <em>perev.</em>  <em># 2: dalam contoh di atas, "discoveryService =&gt; initDiscoveries" tetap lebih baik dibagi menjadi dua blok <strong>descibe</strong> (satu bersarang di yang lain).</em> </p><br><p>  <em>Catatan</em>  <em>perev.</em>  <em># 3: perhatikan bahwa dalam contoh tentang penemuan di atas tidak ada bagian kedua dari deskripsi kasus uji;</em>  <em>ini menyiratkan teks bentuk "atas permintaannya," yang tidak terlalu baik dari sudut pandang manifestasi;</em>  <em>dalam kasus sederhana, salin-tempel "ketika disebut" tidak terlalu menguntungkan, IMHO.</em> </p><br><p>  Dalam blok uraian, deskripsi pekerjaan dasar (Satuan Kerja, UoW) biasanya ditempatkan.  Kata-kata dalam blok <strong>itu</strong> harus dilanjutkan dengan pola " <strong>unit kerja - skenario / konteks - perilaku yang diharapkan</strong> " yang dimulai dengan menggambarkan: <br> <code>[ ]  [  / ]  (  | ) [     ]</code> </p> <br><p>  atau sebagai kode: </p><br><pre> <code class="javascript hljs">describe(<span class="hljs-string"><span class="hljs-string">'[unit of work]'</span></span>, () =&gt; { it(<span class="hljs-string"><span class="hljs-string">' [ ] / [/]'</span></span>, () =&gt; { }); });</code> </pre> <br><p>  Jika beberapa kelompok uji mengikuti skrip yang sama atau masuk ke konteks yang sama, Anda dapat menggunakan uraian blok bersarang. </p><br><pre> <code class="javascript hljs">describe(<span class="hljs-string"><span class="hljs-string">'[unit of work]'</span></span>, () =&gt; { describe(<span class="hljs-string"><span class="hljs-string">'// [scenario/context]'</span></span>, () =&gt; { it(<span class="hljs-string"><span class="hljs-string">'/ [expected behaviour]'</span></span>, () =&gt; { }); }); }); describe(<span class="hljs-string"><span class="hljs-string">' Gallery'</span></span>, () =&gt; { describe(<span class="hljs-string"><span class="hljs-string">' '</span></span>, () =&gt; { it(<span class="hljs-string"><span class="hljs-string">'    '</span></span>, () =&gt; { }); it(<span class="hljs-string"><span class="hljs-string">'    '</span></span>, () =&gt; { }); }); <span class="hljs-comment"><span class="hljs-comment">// ... });</span></span></code> </pre> <br><h3 id="odin-test---odna-problema">  ONE TEST - ONE MASALAH </h3><br><p>  Setiap tes harus fokus pada satu skenario spesifik dalam aplikasi.  Tes, yang bertanggung jawab untuk satu aspek tertentu, dapat mengidentifikasi penyebab spesifik dari kegagalan fungsi.  Semakin spesifik tes, semakin kecil kemungkinannya bahwa ada beberapa alasan untuk perilaku yang salah.  Cobalah untuk menempatkan hanya satu blok <strong>harapan</strong> dalam satu blok <strong>itu</strong> . </p><br><p>  Contoh <strong>BAD</strong> : </p><br><pre> <code class="javascript hljs">describe(<span class="hljs-string"><span class="hljs-string">'isUndefined function'</span></span>, ()=&gt; { it(<span class="hljs-string"><span class="hljs-string">'  true or false    undefined'</span></span>, () =&gt; { expect(isUndefined(<span class="hljs-literal"><span class="hljs-literal">undefined</span></span>)).toEqual(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); expect(isUndefined(<span class="hljs-literal"><span class="hljs-literal">true</span></span>)).toEqual(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); }); });</code> </pre> <br><p>  Blok <strong>itu</strong> berisi dua blok <strong>harapan</strong> .  Ini berarti bahwa pengembang, melihat hasil negatif dari tes ini, tidak akan dapat menentukan dengan tepat apa yang salah dalam kode-nya dan bagaimana cara memperbaikinya. </p><br><p>  Contoh <strong>BAIK</strong> : </p><br><pre> <code class="javascript hljs">describe(<span class="hljs-string"><span class="hljs-string">'isUndefined function'</span></span>, ()=&gt; { it(<span class="hljs-string"><span class="hljs-string">'  true,    undefined'</span></span>, () =&gt; { expect(isUndefined(<span class="hljs-literal"><span class="hljs-literal">undefined</span></span>)).toEqual(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); }); it(<span class="hljs-string"><span class="hljs-string">'  false      '</span></span>, () =&gt; { expect(isUndefined(<span class="hljs-literal"><span class="hljs-literal">true</span></span>)).toEqual(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); }); });</code> </pre> <br><p>  Setiap tes dalam contoh di atas mengevaluasi satu masalah khusus.  Selain itu, deskripsi tes dengan jelas menjelaskan tentang kasus apa yang akan dilewati.  Dalam kedua kasus di konsol, pengembang akan membaca daftar hasil apa yang diharapkan berdasarkan tindakan / kondisi apa dari fungsionalitas pengguna yang diuji. </p><br><h3 id="testiruem-povedenie">  Menguji perilaku </h3><br><p>  Lihatlah gambarnya, jangan lihat guratannya.  Uji skrip / perilaku khusus, bukan detail implementasi.  Maka mengubah detail implementasi tidak akan memengaruhi hasil tes.  Hasil tes negatif harus menunjukkan apakah program berperilaku dengan benar dari sudut pandang pengguna.  Tes tidak boleh mengontrol / membatasi detail implementasi. </p><br><p>  Contoh <strong>BAD</strong> : </p><br><pre> <code class="javascript hljs">it(<span class="hljs-string"><span class="hljs-string">'   discovery  '</span></span>, () =&gt; { discoveriesCache.addDiscovery(<span class="hljs-string"><span class="hljs-string">'57463'</span></span>, <span class="hljs-string"><span class="hljs-string">'John'</span></span>); expect(discoveriesCache._discoveries[<span class="hljs-number"><span class="hljs-number">0</span></span>].id).toBe(<span class="hljs-string"><span class="hljs-string">'57463'</span></span>); expect(discoveriesCache._discoveries[<span class="hljs-number"><span class="hljs-number">0</span></span>].name).toBe(<span class="hljs-string"><span class="hljs-string">'John'</span></span>); });</code> </pre> <br><p>  Apa yang buruk di sini?  Pertama, dua blok <strong>harapan</strong> , tetapi ini bukan hal utama.  Kedua, bukan perilaku yang diuji, tetapi detail penerapannya.  Detail implementasi akan berubah (bidang pribadi diubah namanya) - tes akan menjadi tidak valid dan perlu ditulis ulang. </p><br><p>  Contoh <strong>BAIK</strong> : </p><br><pre> <code class="javascript hljs">it(<span class="hljs-string"><span class="hljs-string">'   discovery  '</span></span>, () =&gt; { discoveriesCache.addDiscovery(<span class="hljs-string"><span class="hljs-string">'57463'</span></span>, <span class="hljs-string"><span class="hljs-string">'John'</span></span>); expect(discoveriesCache.isDiscoveryExist(<span class="hljs-string"><span class="hljs-string">'57463'</span></span>, <span class="hljs-string"><span class="hljs-string">'John'</span></span>)).toBe(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); });</code> </pre> <br><p>  Contoh ini menguji API publik yang harus setestabil mungkin. </p><br><h3 id="zaklyuchenie-ot-perevodchika">  KESIMPULAN DARI TRANSLATOR </h3><br><p>  "Onegin adalah seorang pengedarnya ..." Saya mendapat kesan bahwa sebagian besar pengembang sedikit memperhatikan keakuratan dan keterbacaan nama uji.  Seringkali saya mengamati diskusi yang agak panjang seperti "Apa yang dilakukan kode ini" atau "Mengapa kode ini."  Ini berlaku untuk kedua kode utama dalam JS (tidak jelas, nama fuzzy modul, layanan, fungsi dan variabel), dan tes (kasus buram, pengujian detail implementasi, deskripsi fuzzy).  Semua ini mengarah pada fakta bahwa kode tidak sesuai dengan yang diharapkan. </p><br><p>  Dalam salah satu wawancara, David Heinemeier Hansson (pencipta kerangka Rails) mengatakan sesuatu seperti berikut: <br>  "Tes unit hanya menunjukkan bahwa program Anda melakukan hal yang diharapkan%: o." </p><br><p>  Maksudnya perilaku harus diuji, bukan unit kode.  Dan bahasa tekstual harus memiliki pola perilaku.  Yaitu  "Entitas A harus berperilaku sedemikian dan dalam kondisi ini dan itu."  Rantai bentuk <strong>menggambarkan</strong> [- <strong>jelaskan</strong> ] - <strong>itu</strong> - <strong>diharapkan</strong> akan berubah menjadi formulasi lipat. </p><br><p>  Terima kasih atas perhatian anda! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id454884/">https://habr.com/ru/post/id454884/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id454874/index.html">Sedikit tentang multitasking dalam mikrokontroler</a></li>
<li><a href="../id454876/index.html">Tentang merancang sistem kemampuan karakter yang fleksibel dalam game</a></li>
<li><a href="../id454878/index.html">Kami mempelajari MITER ATT & CK. Matriks Seluler: Akses Perangkat. Bagian 3</a></li>
<li><a href="../id454880/index.html">â€œOff-seasonâ€ dalam kehidupan freelancer: bagaimana cara bertahan dan bertahan?</a></li>
<li><a href="../id454882/index.html">Arsitektur situasi yang luar biasa: halaman 2 dari 4</a></li>
<li><a href="../id454886/index.html">Duduk di hati. Mengapa pengangkatan tumor hati merupakan indikator dari keterampilan ahli bedah yang unggul</a></li>
<li><a href="../id454892/index.html">Moto. Mock aws</a></li>
<li><a href="../id454894/index.html">WWDC 2019 :: apa yang harus dilihat</a></li>
<li><a href="../id454896/index.html">Mengapa saya mengubah freelance ke tim jarak jauh</a></li>
<li><a href="../id454904/index.html">Samsung Meluncurkan Kursus Jaringan Saraf Penglihatan Komputer Online Gratis</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>