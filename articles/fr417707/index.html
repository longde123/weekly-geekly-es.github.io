<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üõÅ üëàüèº ‚ú¥Ô∏è CSS-in-JS - mythes et r√©alit√© (composants de style comme exemple) üë©üèª‚Äçüíª üåÉ ü§∑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="CSS-in-JS , n'√©tant pas une technologie compl√®tement nouvelle et impl√©ment√©e dans de nombreuses biblioth√®ques , soul√®ve toujours des doutes et des d√©b...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>CSS-in-JS - mythes et r√©alit√© (composants de style comme exemple)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/417707/"><p>  <b>CSS-in-JS</b> , n'√©tant pas une technologie compl√®tement nouvelle et impl√©ment√©e dans de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nombreuses biblioth√®ques</a> , soul√®ve toujours des doutes et des d√©bats sur la pertinence de son utilisation.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><i><b>Gajus Kuizinas</b></i></a> , l'auteur des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">modules</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><i><b>react</b></i></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">-css</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">babel-plugin</a> , a mis ses points sur le ¬´i¬ª dans les litiges concernant CSS-in-JS en g√©n√©ral, et les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">composants de style</a> en particulier, il y a un an, (27 avr. 2017) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">-react-css-modules</a> , dans la publication actuelle √† mon avis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"Arr√™tez d'utiliser CSS-in-JavaScript dans le d√©veloppement web"</a> . <br>  Ce qui suit est une traduction l√©g√®rement abr√©g√©e avec quelques ajouts et conclusions: </p><a name="habracut"></a><br><p>  <b>CSS ne va nulle part</b> .  Dans de nombreux projets, le choix du style en JavaScript est erron√©.  Nous allons r√©pertorier les id√©es fausses courantes (mythes) et leurs d√©cisions correspondantes via CSS. </p><br><h2>  Histoire de Css et JavaScript </h2><br><p> CSS a √©t√© cr√©√© pour d√©crire la pr√©sentation d'un document √©crit dans un langage de balisage.  JavaScript a √©t√© cr√©√© comme un ¬´langage-colle¬ª pour assembler des composants tels que des images et des plugins.  Au fil des ans, JS a grandi et chang√©, s'adaptant √† de nouveaux domaines d'application.  Et, par cons√©quent, nous vivons aujourd'hui √† l'√®re des applications monopages (SPA), des applications assembl√©es √† partir de composants. </p><br><h2>  Et CSS? </h2><br><p>  Voici une citation de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation des composants de style</a> : <br></p><blockquote>  Le probl√®me avec le CSS ordinaire est qu'il a √©t√© cr√©√© √† une √©poque o√π le Web √©tait compos√© de documents.  Le Web a √©t√© cr√©√© pour √©changer des documents √† pr√©dominance scientifique en 1993 et ‚Äã‚ÄãCSS a √©t√© introduit comme solution pour styliser ces documents.  Cependant, nous d√©veloppons aujourd'hui des applications d√©velopp√©es, interactives et orient√©es utilisateur, et CSS n'est tout simplement pas con√ßu pour cela. </blockquote><br><p>  <b>Ce n'est pas le cas.</b> </p><br><p>  <b>CSS prend d√©j√† en compte</b> toutes les exigences des interfaces utilisateur modernes.  Le nombre de nouvelles fonctions impl√©ment√©es au cours de la derni√®re d√©cennie est tel qu'il est impossible de toutes les r√©pertorier (pseudo-classes, pseudo-√©l√©ments, variables CSS, requ√™tes de m√©dia, images cl√©s, combinateurs, colonnes, flex, grille, valeurs calcul√©es, ...). <br>  Du point de vue de l'interface utilisateur, ¬´composant¬ª est un fragment isol√© du document (&lt;bouton /&gt; est ¬´composant¬ª).  CSS est con√ßu pour styliser les documents et le document couvre tous les composants.  Quel est le probl√®me? <br>  Comme dit le proverbe: "Utilisez le bon outil pour le travail." </p><br><h2>  Composants stylis√©s </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>styled-components</b></a> permet d'√©crire du CSS en JavaScript en utilisant ce que l'on appelle  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=http://">cha√Ænes de mod√®le balis√©es</a> .  La biblioth√®que supprime le mappage entre les composants et les styles - le composant se transforme en une construction de style de bas niveau, par exemple: </p><br><pre><code class="css hljs">// <span class="hljs-selector-tag"><span class="hljs-selector-tag">Create</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span> &lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">Title</span></span>&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">react</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">component</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">that</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">renders</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">an</span></span> &lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">h1</span></span>&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">which</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> // <span class="hljs-selector-tag"><span class="hljs-selector-tag">centered</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">palevioletred</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">and</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">sized</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.5em</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">const</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Title</span></span> = <span class="hljs-selector-tag"><span class="hljs-selector-tag">styled</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.h1</span></span>` <span class="hljs-selector-tag"><span class="hljs-selector-tag">font-size</span></span>: 1<span class="hljs-selector-class"><span class="hljs-selector-class">.5em</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">text-align</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">center</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">color</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">palevioletred</span></span>; `;</code> </pre> <br><p>  styled-components est populaire aujourd'hui et est connu comme une nouvelle fa√ßon de styler les composants dans React, bien qu'il soit m√™me parfois pr√©sent√© comme le ¬´summum du d√©veloppement CSS¬ª: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√âvolution CSS: des modules CSS, SASS, BEM, CSS aux composants stylis√©s</a> . </p><br><blockquote>  Mais clarifions ce qui suit: styled-components n'est qu'un module compl√©mentaire CSS.  Cette biblioth√®que analyse les styles CSS que vous d√©finissez en JavaScript et cr√©e les √©l√©ments JSX appropri√©s. <br></blockquote><br><p>  La popularit√© des composants de style est sem√©e de nombreuses id√©es fausses.  Un examen des r√©ponses des programmeurs (trouv√©s sur IRC, Reddit et Discord) √† une question sur les raisons qui les ont pouss√©s √† utiliser cette biblioth√®que a permis de faire une liste des plus cit√©s.  Appelons-les mythes. </p><br><h3>  Mythe n ¬∞ 1: les composants de style r√©solvent les probl√®mes d'espace de noms mondiaux et les conflits de style </h3><br><p>  Il s'agit d'un mythe, car il semble que le probl√®me pr√©tendument mentionn√© n'a pas encore √©t√© r√©solu.  Cependant, les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">modules CSS</a> , le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Shadow DOM</a> et d'innombrables conventions de d√©nomination (comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">BEM</a> ) ont propos√© des solutions au probl√®me il y a longtemps. <br>  styled-components (tout comme les modules CSS) supprime le probl√®me de la responsabilit√© des noms d'une personne.  C'est la nature humaine de faire des erreurs; les ordinateurs font des erreurs moins souvent. <br>  En soi, ce n'est pas une raison suffisante pour utiliser des composants de style. </p><br><h3>  Mythe 2: L'utilisation de composants de style permet d'obtenir un code plus compact. </h3><br><p>  √Ä l'appui de cela, donnez souvent un exemple: </p><br><pre> <code class="javascript hljs">&lt;TicketName&gt;<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">TicketName</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;div className={styles.ticketName}&gt;<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br><p>  Tout d'abord, cela n'a pas d'importance.  La diff√©rence est n√©gligeable. <br>  Deuxi√®mement, ce n'est pas vrai.  Le nombre total de caract√®res d√©pend du nom du style. </p><br><pre> <code class="javascript hljs">&lt;TinyBitLongerStyleName&gt;<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">TinyBitLongerStyleName</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;div className={styles.longerStyleName}&gt;<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br><p>  La m√™me chose s'applique √† la cr√©ation de styles, que nous verrons plus loin dans cet article. <br>  (Mythe 5: les composants stylis√©s facilitent le style conditionnel des composants).  styled-components ne gagne en bri√®vet√© que dans les cas des composants les plus basiques. </p><br><h3>  Mythe 3. L'utilisation de composants stylis√©s vous fait r√©fl√©chir davantage sur la s√©mantique. </h3><br><p>  Le message d'origine lui-m√™me est erron√©.  La stylisation et la s√©mantique sont des probl√®mes diff√©rents et n√©cessitent des solutions diff√©rentes.  Lisez, par exemple, c'est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Adam Morse (mrmrs)</a> . </p><br><p>  Cependant, consid√©rez: </p><br><pre> <code class="javascript hljs">&lt;PersonList&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">PersonListItem</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">PersonFirstName</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Foo</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">PersonFirstName</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">PersonLastName</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Bar</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">PersonLastName</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">PersonListItem</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;<span class="hljs-regexp"><span class="hljs-regexp">/PersonList&gt;</span></span></code> </pre> <br><p>  La s√©mantique traite de l'utilisation des balises correctes pour le balisage.  Savez-vous quelles balises HTML seront utilis√©es pour rendre un tel composant?  Non, tu ne sais pas. <br>  Comparez: </p><br><pre> <code class="javascript hljs">&lt;ol&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">li</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{styles.firstName}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Foo</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{styles.lastName}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Bar</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">li</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;<span class="hljs-regexp"><span class="hljs-regexp">/ol&gt;</span></span></code> </pre> <br><h3>  Mythe 4: il est plus facile d'√©tendre les styles. </h3><br><p>  Comparez: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Button = styled.button<span class="hljs-string"><span class="hljs-string">` padding: 10px; `</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> TomatoButton = Button.extend<span class="hljs-string"><span class="hljs-string">` color: #f00; `</span></span>;</code> </pre> <br><p>  Super!  Mais vous pouvez faire la m√™me chose en CSS (ou utiliser la composition du module CSS, ainsi que le mixage d'h√©ritage SASS @extend). </p><br><pre> <code class="javascript hljs">button { <span class="hljs-attr"><span class="hljs-attr">padding</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>px; } button.tomato-button { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: #f00; }</code> </pre> <br><p>  Et le plus simple est la premi√®re option? </p><br><h3>  Mythe 5: style conditionnel facilit√© des composants </h3><br><p>  L'id√©e est que vous pouvez styliser des √©l√©ments √† l'aide d'accessoires, par exemple: </p><br><pre> <code class="javascript hljs">&lt;Button primary /&gt; &lt;Button secondary /&gt; &lt;Button primary active={true} /&gt;</code> </pre> <br><p>  Cela a du sens dans React.  Au final, le comportement des composants est contr√¥l√© par des accessoires.  Est-il judicieux de lier directement les valeurs des accessoires aux styles?  Peut-√™tre.  Mais regardons la mise en ≈ìuvre d'un tel composant: </p><br><pre> <code class="javascript hljs">styled.Button<span class="hljs-string"><span class="hljs-string">` background: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${props =&gt; props.primary ? </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'#f00'</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> : props.secondary ? </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'#0f0'</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> : </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'#00f'</span></span></span></span><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class="hljs-string">; color: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${props =&gt; props.primary ? </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'#fff'</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> : props.secondary ? </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'#fff'</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> : </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'#000'</span></span></span></span><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class="hljs-string">; opacity: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${props =&gt; props.active ? </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> : </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">0</span></span></span></span><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class="hljs-string">; `</span></span>;</code> </pre> <br><p>  La cr√©ation de styles conditionnels √† l'aide de JavaScript offre une tonne de possibilit√©s.  Cependant, cela signifie √©galement que les styles seront beaucoup plus difficiles √† interpr√©ter.  Comparez avec CSS: </p><br><pre> <code class="javascript hljs">button { <span class="hljs-attr"><span class="hljs-attr">background</span></span>: #<span class="hljs-number"><span class="hljs-number">00</span></span>f; opacity: <span class="hljs-number"><span class="hljs-number">0</span></span>; color: #<span class="hljs-number"><span class="hljs-number">000</span></span>; } button.primary, button.seconary { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: #fff; } button.primary { <span class="hljs-attr"><span class="hljs-attr">background</span></span>: #f00; } button.secondary { <span class="hljs-attr"><span class="hljs-attr">background</span></span>: #<span class="hljs-number"><span class="hljs-number">0</span></span>f0; } button.active { <span class="hljs-attr"><span class="hljs-attr">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>; }</code> </pre> <br><p>  Dans ce cas, CSS est plus court (229 caract√®res contre 222) et plus facile √† comprendre (subjectivement).  De plus, en CSS, vous pouvez utiliser un pr√©processeur pour obtenir un r√©sultat encore plus court et group√©: </p><br><pre> <code class="javascript hljs">button { <span class="hljs-attr"><span class="hljs-attr">background</span></span>: #<span class="hljs-number"><span class="hljs-number">00</span></span>f; opacity: <span class="hljs-number"><span class="hljs-number">0</span></span>; color: #<span class="hljs-number"><span class="hljs-number">000</span></span>; &amp;.primary, &amp;.seconary { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: #fff; } &amp;.primary { <span class="hljs-attr"><span class="hljs-attr">background</span></span>: #f00; } &amp;.secondary { <span class="hljs-attr"><span class="hljs-attr">background</span></span>: #<span class="hljs-number"><span class="hljs-number">0</span></span>f0; } &amp;.active { <span class="hljs-attr"><span class="hljs-attr">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>; } }</code> </pre> <br><h3>  Mythe 6: l'organisation du code s'am√©liore </h3><br><p>  Certains disent qu'ils aiment les composants de style, car il devient possible de placer des styles et des scripts dans un seul fichier.  Vous pouvez comprendre que le fait d'avoir plusieurs fichiers pour un composant peut sembler fastidieux, mais enfoncer les styles et la mise en page dans un seul fichier est terrible.  Non seulement ce syst√®me de contr√¥le de version compliquera le suivi des modifications, mais il entra√Ænera √©galement un ¬´d√©filement¬ª sans fin sur tout √©l√©ment plus compliqu√© qu'un simple bouton. <br>  Si vous devez certainement mettre CSS et JavaScript dans le m√™me fichier, essayez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">css-literal-loader</a> .  Ce dernier vous permet de cr√©er des styles lors de la construction en utilisant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">extract-text-webpack-plugin</a> et d'utiliser la configuration de chargeur standard pour g√©rer CSS. </p><br><h3>  Mythe 7: ¬´Developer Experience (DX)¬ª devient grand.  L'outil est g√©nial! </h3><br><p>  De toute √©vidence, vous n'avez pas utilis√© de composants de style. </p><br><ul><li>  En cas de probl√®me avec les styles, l'application enti√®re se bloque avec une longue trace de pile de l'erreur.  Le contraire est CSS, o√π une erreur dans les styles entra√Ænera simplement un affichage incorrect de l'√©l√©ment. </li><li>  Les √©l√©ments n'ont pas de nom de classe distinct, donc pendant le d√©bogage, vous devrez basculer sans fin entre l'arborescence des √©l√©ments React et l'arborescence DOM DevTools. </li><li>  Bien que des plugins pour le linting, la mise en √©vidence du code, l'ach√®vement du code et d'autres ¬´charmes¬ª similaires existent d√©j√† pour les composants de style, ils peuvent ne pas √™tre disponibles pour votre IDE.  Si vous travaillez avec des finances dans une agence gouvernementale, il est possible que l'Atome IDE ne soit pas disponible. </li></ul><br><h3>  Mythe 8: Tout devient ¬´plus rapide¬ª, tout devient ¬´plus facile¬ª </h3><br><ul><li>  Il s'est av√©r√© que les styles de composants de style ne peuvent pas √™tre extraits en statique <br>  Fichier CSS (par exemple en utilisant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">extract-text-webpack-plugin</a> ).  Cela signifie que le navigateur ne pourra pas commencer √† interpr√©ter les styles jusqu'√† ce que les composants stylis√©s les analysent et les ajoutent au DOM. </li><li>  La combinaison de styles et de scripts dans un fichier signifie que la mise en cache s√©par√©e n'est pas possible. </li><li>  La nature des composants de style est telle qu'ils sont tous envelopp√©s dans du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">HOC</a> suppl√©mentaire.  Et c'est une diminution inutile des performances.  Le m√™me d√©faut a conduit √† l'arr√™t des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">modules react-css</a> et √† l'apparition des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">modules</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">babel-plugin-react-css-modules</a> . </li><li>  En raison du m√™me <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">HOC</a> , le rendu c√¥t√© serveur se traduit par des tailles de balisage de document beaucoup plus grandes. </li><li>  N'essayez m√™me pas d'animer des composants √† l'aide de styles dynamiques plut√¥t que d'images cl√©s. </li></ul><br><h3>  Mythe 9: Il est possible de d√©velopper des composants "r√©actifs" </h3><br><p>  Nous parlons de la possibilit√© de styliser un composant en fonction de l'environnement, par exemple, la taille du conteneur parent, le nombre d'h√©ritiers, etc. <br>  Tout d'abord, les composants de style n'ont rien √† voir avec cela. <br>  Cela d√©passe la port√©e du projet.  Dans ce cas, il est pr√©f√©rable de d√©finir directement les valeurs de style de composant afin d'√©viter des charges de processeur suppl√©mentaires. </p><br><h2>  Attendez une minute, cependant! </h2><br><p>  La plupart, sinon la totalit√© de ces probl√®mes peuvent √™tre r√©solus √† long terme soit par la communaut√©, par des modifications dans React ou dans les composants de style eux-m√™mes.  Mais pourquoi?  CSS est d√©j√† largement pris en charge, il existe une communaut√© solide et ... cela fonctionne. <br>  Mais vous ne devez pas toujours √©viter d'utiliser CSS-en-JavaScript ou des composants de style. <br>  Il y a quelque chose qui fait des composants de style une bonne biblioth√®que - c'est le meilleur support multiplateforme. <br>  N'utilisez simplement pas de composants de style bas√©s sur des repr√©sentations erron√©es. </p><br><h2>  Une paire d'opinions de parties int√©ress√©es. </h2><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Talia Marcassa</a> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Qu'avons-nous trouv√© d√©cevant dans les composants</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">stylis√©s</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">?</a> </h3><br><blockquote><p>  En utilisant des composants stylis√©s dans notre projet, nous avons constat√© qu'il existe des r√®gles de style difficiles √† impl√©menter dans les composants stylis√©s;  par exemple, des r√®gles qui contr√¥lent le placement des √©l√©ments sur une page (marges ou propri√©t√© d'affichage).  Il √©tait difficile de standardiser, donc nous devions encore compter fortement sur du CSS simple pour placer des composants dans le flux d'√©l√©ments. <br>  ... bien qu'il y ait eu des difficult√©s √† utiliser des composants de style, la biblioth√®que nous a aid√©s √† r√©duire la base de code. </p></blockquote><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Prom√©th√©e</a> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Et alors?</a> </h3><br><p>  (commentaire sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">¬´L'√©volution des CSS: des CSS, SASS, BEM et CSS - modules aux composants stylis√©s¬ª</a> ) </p><br><blockquote><p>  ... Aucune √©volution du CSS ici ne signifie que les outils √©voluent. <br>  √Ä mon avis, il n'y a aucun probl√®me lorsque la composition est engag√©e dans la mise en page et que le programmeur est engag√© dans la programmation. <br>  Mais lorsque les programmeurs sont engag√©s dans la composition, alors tout ce zoo commence, ce qui au lieu de SIMPLICITY avec un support suppl√©mentaire, donne un mal de t√™te suppl√©mentaire. <br>  ... <br>  √âcrivez en pur CSS et donnez aux outils le r√¥le d'un espace de noms et d'un collecteur - alors tout sera heureux ... </p></blockquote><br><h2>  Et enfin, un mot √† l'auteur: </h2><br><h3>  Gajus Kuizinas: - Alors quoi, apr√®s tout, utiliser? </h3><br><ul><li>  Il est trop t√¥t pour parler de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Shadow DOM</a> , en raison d'un support mondial insuffisant. </li><li>  Utilisez CSS avec une sorte de convention de d√©nomination (comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">BEM</a> ). </li><li>  Si vous vous inqui√©tez des collisions de noms de classe ou si vous √™tes trop paresseux pour utiliser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=http://">BEM</a> , utilisez des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=http://">modules CSS</a> . </li><li>  Si vous travaillez avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">React</a> , pensez √† utiliser les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">modules babel-plugin-react-css-modules</a> . </li><li>  Si vous travaillez avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">React natif</a> , les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">composants de style</a> sont ce dont vous avez besoin. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr417707/">https://habr.com/ru/post/fr417707/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr417697/index.html">√âditeur d'images simple sur VueJS</a></li>
<li><a href="../fr417699/index.html">Western Digital ferme une autre usine de disques durs en raison de la baisse de la demande</a></li>
<li><a href="../fr417701/index.html">Des scripts simples √† l'application client-serveur √† faire soi-m√™me sur WCF: pourquoi j'aime travailler en CM</a></li>
<li><a href="../fr417703/index.html">Code r√©seau Age of Empires: 1 500 archers par modem √† 28,8 kbps</a></li>
<li><a href="../fr417705/index.html">Comment un fabricant de cartes graphiques affecte la rentabilit√© de l'exploitation de GPU</a></li>
<li><a href="../fr417709/index.html">O√π et comment les d√©veloppeurs √©valuent-ils leurs employeurs? Services d'√©valuation d'entreprises dans le secteur informatique</a></li>
<li><a href="../fr417711/index.html">Que lire sur Swift en russe?</a></li>
<li><a href="../fr417715/index.html">Au revoir Google Maps</a></li>
<li><a href="../fr417717/index.html">√Ä quoi ressemblait la Terre lorsqu'elle √©tait aussi chaude que ce qu'on nous avait promis en 2100?</a></li>
<li><a href="../fr417721/index.html">Les GPU pour r√©soudre les probl√®mes informatiques modernes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>