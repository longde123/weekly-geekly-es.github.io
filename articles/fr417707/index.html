<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛁 👈🏼 ✴️ CSS-in-JS - mythes et réalité (composants de style comme exemple) 👩🏻‍💻 🌃 🤷</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="CSS-in-JS , n'étant pas une technologie complètement nouvelle et implémentée dans de nombreuses bibliothèques , soulève toujours des doutes et des déb...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>CSS-in-JS - mythes et réalité (composants de style comme exemple)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/417707/"><p>  <b>CSS-in-JS</b> , n'étant pas une technologie complètement nouvelle et implémentée dans de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nombreuses bibliothèques</a> , soulève toujours des doutes et des débats sur la pertinence de son utilisation.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><i><b>Gajus Kuizinas</b></i></a> , l'auteur des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">modules</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><i><b>react</b></i></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">-css</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">babel-plugin</a> , a mis ses points sur le «i» dans les litiges concernant CSS-in-JS en général, et les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">composants de style</a> en particulier, il y a un an, (27 avr. 2017) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">-react-css-modules</a> , dans la publication actuelle à mon avis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"Arrêtez d'utiliser CSS-in-JavaScript dans le développement web"</a> . <br>  Ce qui suit est une traduction légèrement abrégée avec quelques ajouts et conclusions: </p><a name="habracut"></a><br><p>  <b>CSS ne va nulle part</b> .  Dans de nombreux projets, le choix du style en JavaScript est erroné.  Nous allons répertorier les idées fausses courantes (mythes) et leurs décisions correspondantes via CSS. </p><br><h2>  Histoire de Css et JavaScript </h2><br><p> CSS a été créé pour décrire la présentation d'un document écrit dans un langage de balisage.  JavaScript a été créé comme un «langage-colle» pour assembler des composants tels que des images et des plugins.  Au fil des ans, JS a grandi et changé, s'adaptant à de nouveaux domaines d'application.  Et, par conséquent, nous vivons aujourd'hui à l'ère des applications monopages (SPA), des applications assemblées à partir de composants. </p><br><h2>  Et CSS? </h2><br><p>  Voici une citation de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation des composants de style</a> : <br></p><blockquote>  Le problème avec le CSS ordinaire est qu'il a été créé à une époque où le Web était composé de documents.  Le Web a été créé pour échanger des documents à prédominance scientifique en 1993 et ​​CSS a été introduit comme solution pour styliser ces documents.  Cependant, nous développons aujourd'hui des applications développées, interactives et orientées utilisateur, et CSS n'est tout simplement pas conçu pour cela. </blockquote><br><p>  <b>Ce n'est pas le cas.</b> </p><br><p>  <b>CSS prend déjà en compte</b> toutes les exigences des interfaces utilisateur modernes.  Le nombre de nouvelles fonctions implémentées au cours de la dernière décennie est tel qu'il est impossible de toutes les répertorier (pseudo-classes, pseudo-éléments, variables CSS, requêtes de média, images clés, combinateurs, colonnes, flex, grille, valeurs calculées, ...). <br>  Du point de vue de l'interface utilisateur, «composant» est un fragment isolé du document (&lt;bouton /&gt; est «composant»).  CSS est conçu pour styliser les documents et le document couvre tous les composants.  Quel est le problème? <br>  Comme dit le proverbe: "Utilisez le bon outil pour le travail." </p><br><h2>  Composants stylisés </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>styled-components</b></a> permet d'écrire du CSS en JavaScript en utilisant ce que l'on appelle  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=http://">chaînes de modèle balisées</a> .  La bibliothèque supprime le mappage entre les composants et les styles - le composant se transforme en une construction de style de bas niveau, par exemple: </p><br><pre><code class="css hljs">// <span class="hljs-selector-tag"><span class="hljs-selector-tag">Create</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span> &lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">Title</span></span>&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">react</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">component</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">that</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">renders</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">an</span></span> &lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">h1</span></span>&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">which</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> // <span class="hljs-selector-tag"><span class="hljs-selector-tag">centered</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">palevioletred</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">and</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">sized</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.5em</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">const</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Title</span></span> = <span class="hljs-selector-tag"><span class="hljs-selector-tag">styled</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.h1</span></span>` <span class="hljs-selector-tag"><span class="hljs-selector-tag">font-size</span></span>: 1<span class="hljs-selector-class"><span class="hljs-selector-class">.5em</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">text-align</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">center</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">color</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">palevioletred</span></span>; `;</code> </pre> <br><p>  styled-components est populaire aujourd'hui et est connu comme une nouvelle façon de styler les composants dans React, bien qu'il soit même parfois présenté comme le «summum du développement CSS»: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Évolution CSS: des modules CSS, SASS, BEM, CSS aux composants stylisés</a> . </p><br><blockquote>  Mais clarifions ce qui suit: styled-components n'est qu'un module complémentaire CSS.  Cette bibliothèque analyse les styles CSS que vous définissez en JavaScript et crée les éléments JSX appropriés. <br></blockquote><br><p>  La popularité des composants de style est semée de nombreuses idées fausses.  Un examen des réponses des programmeurs (trouvés sur IRC, Reddit et Discord) à une question sur les raisons qui les ont poussés à utiliser cette bibliothèque a permis de faire une liste des plus cités.  Appelons-les mythes. </p><br><h3>  Mythe n ° 1: les composants de style résolvent les problèmes d'espace de noms mondiaux et les conflits de style </h3><br><p>  Il s'agit d'un mythe, car il semble que le problème prétendument mentionné n'a pas encore été résolu.  Cependant, les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">modules CSS</a> , le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Shadow DOM</a> et d'innombrables conventions de dénomination (comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">BEM</a> ) ont proposé des solutions au problème il y a longtemps. <br>  styled-components (tout comme les modules CSS) supprime le problème de la responsabilité des noms d'une personne.  C'est la nature humaine de faire des erreurs; les ordinateurs font des erreurs moins souvent. <br>  En soi, ce n'est pas une raison suffisante pour utiliser des composants de style. </p><br><h3>  Mythe 2: L'utilisation de composants de style permet d'obtenir un code plus compact. </h3><br><p>  À l'appui de cela, donnez souvent un exemple: </p><br><pre> <code class="javascript hljs">&lt;TicketName&gt;<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">TicketName</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;div className={styles.ticketName}&gt;<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br><p>  Tout d'abord, cela n'a pas d'importance.  La différence est négligeable. <br>  Deuxièmement, ce n'est pas vrai.  Le nombre total de caractères dépend du nom du style. </p><br><pre> <code class="javascript hljs">&lt;TinyBitLongerStyleName&gt;<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">TinyBitLongerStyleName</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;div className={styles.longerStyleName}&gt;<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br><p>  La même chose s'applique à la création de styles, que nous verrons plus loin dans cet article. <br>  (Mythe 5: les composants stylisés facilitent le style conditionnel des composants).  styled-components ne gagne en brièveté que dans les cas des composants les plus basiques. </p><br><h3>  Mythe 3. L'utilisation de composants stylisés vous fait réfléchir davantage sur la sémantique. </h3><br><p>  Le message d'origine lui-même est erroné.  La stylisation et la sémantique sont des problèmes différents et nécessitent des solutions différentes.  Lisez, par exemple, c'est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Adam Morse (mrmrs)</a> . </p><br><p>  Cependant, considérez: </p><br><pre> <code class="javascript hljs">&lt;PersonList&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">PersonListItem</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">PersonFirstName</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Foo</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">PersonFirstName</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">PersonLastName</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Bar</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">PersonLastName</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">PersonListItem</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;<span class="hljs-regexp"><span class="hljs-regexp">/PersonList&gt;</span></span></code> </pre> <br><p>  La sémantique traite de l'utilisation des balises correctes pour le balisage.  Savez-vous quelles balises HTML seront utilisées pour rendre un tel composant?  Non, tu ne sais pas. <br>  Comparez: </p><br><pre> <code class="javascript hljs">&lt;ol&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">li</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{styles.firstName}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Foo</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{styles.lastName}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Bar</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">li</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;<span class="hljs-regexp"><span class="hljs-regexp">/ol&gt;</span></span></code> </pre> <br><h3>  Mythe 4: il est plus facile d'étendre les styles. </h3><br><p>  Comparez: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Button = styled.button<span class="hljs-string"><span class="hljs-string">` padding: 10px; `</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> TomatoButton = Button.extend<span class="hljs-string"><span class="hljs-string">` color: #f00; `</span></span>;</code> </pre> <br><p>  Super!  Mais vous pouvez faire la même chose en CSS (ou utiliser la composition du module CSS, ainsi que le mixage d'héritage SASS @extend). </p><br><pre> <code class="javascript hljs">button { <span class="hljs-attr"><span class="hljs-attr">padding</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>px; } button.tomato-button { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: #f00; }</code> </pre> <br><p>  Et le plus simple est la première option? </p><br><h3>  Mythe 5: style conditionnel facilité des composants </h3><br><p>  L'idée est que vous pouvez styliser des éléments à l'aide d'accessoires, par exemple: </p><br><pre> <code class="javascript hljs">&lt;Button primary /&gt; &lt;Button secondary /&gt; &lt;Button primary active={true} /&gt;</code> </pre> <br><p>  Cela a du sens dans React.  Au final, le comportement des composants est contrôlé par des accessoires.  Est-il judicieux de lier directement les valeurs des accessoires aux styles?  Peut-être.  Mais regardons la mise en œuvre d'un tel composant: </p><br><pre> <code class="javascript hljs">styled.Button<span class="hljs-string"><span class="hljs-string">` background: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${props =&gt; props.primary ? </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'#f00'</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> : props.secondary ? </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'#0f0'</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> : </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'#00f'</span></span></span></span><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class="hljs-string">; color: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${props =&gt; props.primary ? </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'#fff'</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> : props.secondary ? </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'#fff'</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> : </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'#000'</span></span></span></span><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class="hljs-string">; opacity: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${props =&gt; props.active ? </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> : </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">0</span></span></span></span><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class="hljs-string">; `</span></span>;</code> </pre> <br><p>  La création de styles conditionnels à l'aide de JavaScript offre une tonne de possibilités.  Cependant, cela signifie également que les styles seront beaucoup plus difficiles à interpréter.  Comparez avec CSS: </p><br><pre> <code class="javascript hljs">button { <span class="hljs-attr"><span class="hljs-attr">background</span></span>: #<span class="hljs-number"><span class="hljs-number">00</span></span>f; opacity: <span class="hljs-number"><span class="hljs-number">0</span></span>; color: #<span class="hljs-number"><span class="hljs-number">000</span></span>; } button.primary, button.seconary { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: #fff; } button.primary { <span class="hljs-attr"><span class="hljs-attr">background</span></span>: #f00; } button.secondary { <span class="hljs-attr"><span class="hljs-attr">background</span></span>: #<span class="hljs-number"><span class="hljs-number">0</span></span>f0; } button.active { <span class="hljs-attr"><span class="hljs-attr">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>; }</code> </pre> <br><p>  Dans ce cas, CSS est plus court (229 caractères contre 222) et plus facile à comprendre (subjectivement).  De plus, en CSS, vous pouvez utiliser un préprocesseur pour obtenir un résultat encore plus court et groupé: </p><br><pre> <code class="javascript hljs">button { <span class="hljs-attr"><span class="hljs-attr">background</span></span>: #<span class="hljs-number"><span class="hljs-number">00</span></span>f; opacity: <span class="hljs-number"><span class="hljs-number">0</span></span>; color: #<span class="hljs-number"><span class="hljs-number">000</span></span>; &amp;.primary, &amp;.seconary { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: #fff; } &amp;.primary { <span class="hljs-attr"><span class="hljs-attr">background</span></span>: #f00; } &amp;.secondary { <span class="hljs-attr"><span class="hljs-attr">background</span></span>: #<span class="hljs-number"><span class="hljs-number">0</span></span>f0; } &amp;.active { <span class="hljs-attr"><span class="hljs-attr">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>; } }</code> </pre> <br><h3>  Mythe 6: l'organisation du code s'améliore </h3><br><p>  Certains disent qu'ils aiment les composants de style, car il devient possible de placer des styles et des scripts dans un seul fichier.  Vous pouvez comprendre que le fait d'avoir plusieurs fichiers pour un composant peut sembler fastidieux, mais enfoncer les styles et la mise en page dans un seul fichier est terrible.  Non seulement ce système de contrôle de version compliquera le suivi des modifications, mais il entraînera également un «défilement» sans fin sur tout élément plus compliqué qu'un simple bouton. <br>  Si vous devez certainement mettre CSS et JavaScript dans le même fichier, essayez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">css-literal-loader</a> .  Ce dernier vous permet de créer des styles lors de la construction en utilisant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">extract-text-webpack-plugin</a> et d'utiliser la configuration de chargeur standard pour gérer CSS. </p><br><h3>  Mythe 7: «Developer Experience (DX)» devient grand.  L'outil est génial! </h3><br><p>  De toute évidence, vous n'avez pas utilisé de composants de style. </p><br><ul><li>  En cas de problème avec les styles, l'application entière se bloque avec une longue trace de pile de l'erreur.  Le contraire est CSS, où une erreur dans les styles entraînera simplement un affichage incorrect de l'élément. </li><li>  Les éléments n'ont pas de nom de classe distinct, donc pendant le débogage, vous devrez basculer sans fin entre l'arborescence des éléments React et l'arborescence DOM DevTools. </li><li>  Bien que des plugins pour le linting, la mise en évidence du code, l'achèvement du code et d'autres «charmes» similaires existent déjà pour les composants de style, ils peuvent ne pas être disponibles pour votre IDE.  Si vous travaillez avec des finances dans une agence gouvernementale, il est possible que l'Atome IDE ne soit pas disponible. </li></ul><br><h3>  Mythe 8: Tout devient «plus rapide», tout devient «plus facile» </h3><br><ul><li>  Il s'est avéré que les styles de composants de style ne peuvent pas être extraits en statique <br>  Fichier CSS (par exemple en utilisant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">extract-text-webpack-plugin</a> ).  Cela signifie que le navigateur ne pourra pas commencer à interpréter les styles jusqu'à ce que les composants stylisés les analysent et les ajoutent au DOM. </li><li>  La combinaison de styles et de scripts dans un fichier signifie que la mise en cache séparée n'est pas possible. </li><li>  La nature des composants de style est telle qu'ils sont tous enveloppés dans du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">HOC</a> supplémentaire.  Et c'est une diminution inutile des performances.  Le même défaut a conduit à l'arrêt des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">modules react-css</a> et à l'apparition des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">modules</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">babel-plugin-react-css-modules</a> . </li><li>  En raison du même <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">HOC</a> , le rendu côté serveur se traduit par des tailles de balisage de document beaucoup plus grandes. </li><li>  N'essayez même pas d'animer des composants à l'aide de styles dynamiques plutôt que d'images clés. </li></ul><br><h3>  Mythe 9: Il est possible de développer des composants "réactifs" </h3><br><p>  Nous parlons de la possibilité de styliser un composant en fonction de l'environnement, par exemple, la taille du conteneur parent, le nombre d'héritiers, etc. <br>  Tout d'abord, les composants de style n'ont rien à voir avec cela. <br>  Cela dépasse la portée du projet.  Dans ce cas, il est préférable de définir directement les valeurs de style de composant afin d'éviter des charges de processeur supplémentaires. </p><br><h2>  Attendez une minute, cependant! </h2><br><p>  La plupart, sinon la totalité de ces problèmes peuvent être résolus à long terme soit par la communauté, par des modifications dans React ou dans les composants de style eux-mêmes.  Mais pourquoi?  CSS est déjà largement pris en charge, il existe une communauté solide et ... cela fonctionne. <br>  Mais vous ne devez pas toujours éviter d'utiliser CSS-en-JavaScript ou des composants de style. <br>  Il y a quelque chose qui fait des composants de style une bonne bibliothèque - c'est le meilleur support multiplateforme. <br>  N'utilisez simplement pas de composants de style basés sur des représentations erronées. </p><br><h2>  Une paire d'opinions de parties intéressées. </h2><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Talia Marcassa</a> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Qu'avons-nous trouvé décevant dans les composants</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">stylisés</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">?</a> </h3><br><blockquote><p>  En utilisant des composants stylisés dans notre projet, nous avons constaté qu'il existe des règles de style difficiles à implémenter dans les composants stylisés;  par exemple, des règles qui contrôlent le placement des éléments sur une page (marges ou propriété d'affichage).  Il était difficile de standardiser, donc nous devions encore compter fortement sur du CSS simple pour placer des composants dans le flux d'éléments. <br>  ... bien qu'il y ait eu des difficultés à utiliser des composants de style, la bibliothèque nous a aidés à réduire la base de code. </p></blockquote><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Prométhée</a> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Et alors?</a> </h3><br><p>  (commentaire sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">«L'évolution des CSS: des CSS, SASS, BEM et CSS - modules aux composants stylisés»</a> ) </p><br><blockquote><p>  ... Aucune évolution du CSS ici ne signifie que les outils évoluent. <br>  À mon avis, il n'y a aucun problème lorsque la composition est engagée dans la mise en page et que le programmeur est engagé dans la programmation. <br>  Mais lorsque les programmeurs sont engagés dans la composition, alors tout ce zoo commence, ce qui au lieu de SIMPLICITY avec un support supplémentaire, donne un mal de tête supplémentaire. <br>  ... <br>  Écrivez en pur CSS et donnez aux outils le rôle d'un espace de noms et d'un collecteur - alors tout sera heureux ... </p></blockquote><br><h2>  Et enfin, un mot à l'auteur: </h2><br><h3>  Gajus Kuizinas: - Alors quoi, après tout, utiliser? </h3><br><ul><li>  Il est trop tôt pour parler de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Shadow DOM</a> , en raison d'un support mondial insuffisant. </li><li>  Utilisez CSS avec une sorte de convention de dénomination (comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">BEM</a> ). </li><li>  Si vous vous inquiétez des collisions de noms de classe ou si vous êtes trop paresseux pour utiliser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=http://">BEM</a> , utilisez des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=http://">modules CSS</a> . </li><li>  Si vous travaillez avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">React</a> , pensez à utiliser les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">modules babel-plugin-react-css-modules</a> . </li><li>  Si vous travaillez avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">React natif</a> , les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">composants de style</a> sont ce dont vous avez besoin. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr417707/">https://habr.com/ru/post/fr417707/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr417697/index.html">Éditeur d'images simple sur VueJS</a></li>
<li><a href="../fr417699/index.html">Western Digital ferme une autre usine de disques durs en raison de la baisse de la demande</a></li>
<li><a href="../fr417701/index.html">Des scripts simples à l'application client-serveur à faire soi-même sur WCF: pourquoi j'aime travailler en CM</a></li>
<li><a href="../fr417703/index.html">Code réseau Age of Empires: 1 500 archers par modem à 28,8 kbps</a></li>
<li><a href="../fr417705/index.html">Comment un fabricant de cartes graphiques affecte la rentabilité de l'exploitation de GPU</a></li>
<li><a href="../fr417709/index.html">Où et comment les développeurs évaluent-ils leurs employeurs? Services d'évaluation d'entreprises dans le secteur informatique</a></li>
<li><a href="../fr417711/index.html">Que lire sur Swift en russe?</a></li>
<li><a href="../fr417715/index.html">Au revoir Google Maps</a></li>
<li><a href="../fr417717/index.html">À quoi ressemblait la Terre lorsqu'elle était aussi chaude que ce qu'on nous avait promis en 2100?</a></li>
<li><a href="../fr417721/index.html">Les GPU pour résoudre les problèmes informatiques modernes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>