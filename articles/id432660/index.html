<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¦ğŸ¿ ğŸ‘‡ ğŸ‘©â€ğŸ‘©â€ğŸ‘§ PVS-Studio: dukungan untuk standar pengkodean MISRA C dan MISRA C ++ ğŸ’€ ğŸ‘©â€â¤ï¸â€ğŸ’‹â€ğŸ‘© â­ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dimulai dengan versi 6.27, penganalisa kode statis PVS-Studio dapat mengklasifikasikan peringatannya sesuai dengan standar MISRA C dan MISRA C ++. Ber...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PVS-Studio: dukungan untuk standar pengkodean MISRA C dan MISRA C ++</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/432660/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7d5/54d/9e6/7d554d9e67b20169e7b7b30a8e854ebd.png" alt="PVS-Studio, MISRA C, MISRA C ++"></div><br>  Dimulai dengan versi 6.27, penganalisa kode statis PVS-Studio dapat mengklasifikasikan peringatannya sesuai dengan standar MISRA C dan MISRA C ++.  Berkat dukungan standar-standar ini, alat analisa telah menjadi mungkin untuk digunakan secara efektif untuk meningkatkan keamanan, portabilitas dan keandalan program untuk sistem embedded. <br><a name="habracut"></a><br>  Tahun ini kami mulai mendukung standar seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CWE</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">SEI CERT</a> di penganalisa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PVS-Studio</a> .  Pada dasarnya, dukungan datang ke klasifikasi diagnostik yang sudah diterapkan dalam analisa sesuai dengan standar ini.  Selain itu, beberapa diagnostik baru diterapkan atau beberapa diagnostik lama diperluas untuk lebih memenuhi standar-standar ini. <br><br>  Tabel kepatuhan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">diagnosa</a> PVS-Studio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dengan</a> berbagai standar: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kepatuhan CWE</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CERT SEI Kepatuhan</a> </li></ul><br>  Sekarang saatnya untuk standar MISRA C dan MISRA C ++.  Ini adalah standar pengembangan perangkat lunak C dan C ++ yang dibuat oleh <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">MISRA</a> (Asosiasi Keandalan Perangkat Lunak Industri Motor).  Tujuan dari standar ini adalah untuk meningkatkan keamanan, portabilitas, dan keandalan program yang tertanam.  Teks standar dibayar. <br><br>  Kami menganggap kekuatan penganalisa kami untuk dapat mengambil dan mulai menggunakannya dalam proyek besar yang ada.  Anda dapat menjalankan PVS-Studio berdasarkan kode, mendeteksi kesalahan lama dan kemudian menggunakan alat analisa secara teratur untuk menemukan cacat baru sedini mungkin. <br><br>  Banyak analis mengambil jalur yang berbeda dan mengimplementasikan diagnostik yang terkait dengan standar pengkodean.  Mereka menyarankan cara variabel nama yang lebih baik, mengingatkan Anda untuk memasukkan komentar di awal file, dan sebagainya.  Itu perlu dan bermanfaat.  Namun, dalam kasus ini, penganalisa sangat â€œberisikâ€ dan menghasilkan sejumlah besar peringatan di mana peringatan tentang kesalahan ditenggelamkan. <br><br>  Kami memutuskan bahwa PVS-Studio akan menjadi penganalisa yang mencari kesalahan.  Ini adalah keunggulan kompetitifnya.  Pemrogram dapat menjalankannya pada basis kode yang besar dan memastikan bahwa ia tidak akan kewalahan dengan sejumlah besar pesan tentang eksekusi kode dan ia akan dapat fokus pada bug. <br><br>  Oleh karena itu, kami awalnya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kritis</a> terhadap standar MISRA dan untuk waktu yang lama tidak berencana untuk menerapkannya.  Standar MISRA dirancang untuk menyederhanakan dan meningkatkan kualitas kode secara keseluruhan, yang membantu mencegah kesalahan.  Artinya, hanya sebagian besar diagnostik di dalamnya yang berhubungan dengan gaya penulisan kode.  Ini paling baik dijelaskan dengan sebuah contoh. <br><br>  Ada aturan dalam standar MISRA di mana badan <i>pernyataan jika</i> harus dilampirkan dalam kurung kurawal.  Dalam MISRA C, ini adalah aturan 15.6, dan dalam MISRA C ++ adalah 6-4-1.  Contoh kode yang salah: <br><br><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i == bestOffs) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>;</code> </pre> <br>  Kode yang benar adalah: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i == bestOffs) { <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; }</code> </pre> <br>  Diagnostik seperti itu tidak dapat diterapkan pada proyek yang ada yang ditulis untuk bekerja di bawah kendali sistem operasi Winodws, Linux atau macOS.  Sebagai contoh, hanya aturan yang dijelaskan tentang kurung keriting yang memberikan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">operasi</a> diagnostik <b>1947</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V2507</a> (MISRA C 15.6, MISRA C ++ 6-4-1) untuk proyek WinMerge.  Tetapi WinMerge adalah proyek kecil!  Hanya sekitar 250.000 baris kode dalam C dan C ++. <br><br>  Hingga 2018, penganalisa PVS-Studio difokuskan pada pengujian aplikasi desktop yang berjalan pada Windows, Linux, dan macOS.  Karenanya, dukungan untuk MISRA kurang praktis.  Tidak ada yang akan menerapkan standar ini dalam proyek desktop besar yang ada. <br><br>  Semuanya berubah ketika pada 2018 kami mulai mendukung sistem tertanam.  Tahun ini, analisa mendukung: <br><br><ul><li>  Windows  IAR Embedded Workbench, C / C ++ Compiler untuk ARM C, C ++ </li><li>  Windows / Linux  Keil Î¼Vision, DS-MDK, ARM Compiler 5/6 C, C ++ </li><li>  Windows / Linux  Studio Komposer Kode Texas Instruments, Alat Pembuatan Kode ARM C, C ++ </li><li>  Windows / Linux / macOS.  GNU Arm Embedded Toolchain, kompiler GCC Arm Embedded, C, C ++ </li></ul><br>  Tidak seperti proyek desktop, banyak pengembang tertanam sudah menulis proyek dengan mempertimbangkan rekomendasi MISRA, dan dukungan mereka pada penganalisa kami akan sangat berguna bagi pengembang. <br><br>  Namun demikian, kami masih takut bahwa salah satu pengembang, tanpa pemahaman, dapat mempertimbangkan bahwa kami "merusak" alat analisis dengan memperkenalkan "diagnostik aneh" ke dalamnya.  Karenanya, diagnostik MISRA dimatikan secara default.  Kami menganggap ini keputusan yang sangat tepat.  Diagnostik ini hanya dapat dimasukkan jika Anda tahu persis untuk apa dan untuk menggunakannya. <br><br>  Misalnya, untuk pemrogram aplikasi mungkin tidak jelas mengapa penganalisis tiba-tiba melarang mereka untuk menggunakan memori dinamis.  Yaitu  mengapa tiba-tiba Anda tidak dapat mengalokasikan memori menggunakan fungsi <i>malloc</i> atau operator <i>baru</i> .  Tetapi batasan seperti itu ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V2511</a> ) dipahami dengan baik oleh pengembang perangkat yang disematkan.  Pada beberapa perangkat yang beroperasi terus menerus, sangat tidak dapat diterima untuk menggunakan program yang ingatannya tiba-tiba habis. <br><br>  Jadi, sekarang Anda dapat menginstal atau memperbarui PVS-Studio dan mulai menggunakan diagnostik yang menerapkan aturan dari MISRA C dan MISRA C ++.  Serangkaian aturan yang didukung tidak lengkap, tetapi ini seharusnya tidak menjadi hambatan untuk mulai menggunakan PVS-Studio.  Saat ini, tidak ada analisa statis tunggal yang mengimplementasikan sepenuhnya semua aturan MISRA.  Di masa depan, kami berencana untuk memperluas seperangkat aturan diagnostik yang diterapkan dalam MISRA, dan berharap untuk menjadi alat utama dalam kelengkapan dukungan mereka. <br><br>  Untuk mengaktifkan diagnostik MISRA di Visual Studio atau di utilitas Standalone PVS-Studio, Anda perlu mengubah Dinonaktifkan untuk Tampilkan Semua di pengaturan. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6a3/bcd/d5f/6a3bcdd5fba435e143819e96d40bc2c6.png" alt="Aktifkan Misra"></div><br>  Karena Dinonaktifkan berarti bahwa peringatan tidak dihasilkan sama sekali dan tidak masuk ke dalam laporan, diperlukan analisis ulang.  Mode dinonaktifkan diatur secara default untuk mengurangi ukuran laporan.  Dimasukkannya diagnostik MISRA dapat menyebabkan sejumlah besar operasi dan peningkatan kuat dalam file dengan laporan (* file .plog). <br><br>  Untuk analisis proyek dalam sistem operasi Linux dan macOS, ada utilitas pvs-studio-analyzer.  Secara default, hanya diagnostik tujuan umum (Analisis Umum, GA) yang disertakan di sana.  Aturan tambahan dapat diaktifkan menggunakan opsi -a: <br><br><pre> <code class="cpp hljs">-a [MODE], --analysis-mode [MODE] MODE defines the type of warnings: <span class="hljs-number"><span class="hljs-number">1</span></span> - <span class="hljs-number"><span class="hljs-number">64</span></span>-bit errors; <span class="hljs-number"><span class="hljs-number">2</span></span> - reserved; <span class="hljs-number"><span class="hljs-number">4</span></span> - General Analysis; <span class="hljs-number"><span class="hljs-number">8</span></span> - Micro-optimizations; <span class="hljs-number"><span class="hljs-number">16</span></span> - Customers Specific Requests; <span class="hljs-number"><span class="hljs-number">32</span></span> - MISRA. Modes can be combined by adding the values Default: <span class="hljs-number"><span class="hljs-number">4</span></span></code> </pre> <br>  Untuk mengaktifkan lansiran GA dan MISRA, Anda harus menjalankan analisis dengan parameter berikut: <br><br><pre> <code class="cpp hljs">pvs-studio-analyzer analyze ... -a <span class="hljs-number"><span class="hljs-number">36</span></span> ... -o /path/to/report.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span> ...</code> </pre> <br>  Nilai 36 adalah bitwise OR untuk 4 (GA - General Diagnostics) dan 32 (MISRA). <br><br>  Selanjutnya, disarankan untuk membuat beberapa laporan dengan berbagai jenis peringatan, misalnya, seperti ini: <br><br><pre> <code class="cpp hljs">plog-converter -a GA:<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span> -t tasklist -o /path/to/ga_results.tasks /path/to/project.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span> plog-converter -a MISRA:<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span> -t tasklist -m misra -o /path/to/misra_results.tasks /path/to/project.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span></code> </pre> <br>  Laporan ga_results.tasks pertama akan berisi peringatan umum tingkat kepercayaan Tinggi dan Menengah. <br><br>  Dan laporan kedua "misra_results.tasks" hanya akan mendapatkan peringatan yang terkait dengan MISRA dari semua tingkatan.  Sakelar "-m misra" menunjukkan bahwa selain nomor dalam format PVS-Studio, laporan akan menyertakan nomor diagnostik sesuai dengan klasifikasi MISRA. <br><br>  Semua mode peluncuran penganalisis di Linux dan macOS, serta format laporan, dijelaskan dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi</a> . <br><br>  PS Kami ingin mengevaluasi seberapa banyak yang kami tebak dengan memilih MISRA sebagai salah satu arah pengembangan PVS-Studio.  Jika Anda tertarik dengan topik ini, silakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">menulis kepada kami</a> .  Bahkan jika Anda belum berencana untuk menggunakan PVS-Studio, silakan menulis.  Kami ingin mengajukan beberapa pertanyaan klarifikasi kepada Anda. <br><br>  Tautan tambahan: <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Unduh PVS-Studio</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Cara menjalankan PVS-Studio di Linux dan macOS</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PVS-Studio 6.22 penganalisa kode statis diadaptasi untuk kompiler ARM (Keil, IAR)</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PVS-Studio mencakup dukungan untuk GNU Arm Embedded Toolchain</a> </li></ol><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/ts/z9/km/tsz9kmyjtteajhd4x1au60rsrvq.png" align="left"></a> </p><br><br>  Jika Anda ingin berbagi artikel ini dengan audiens yang berbahasa Inggris, silakan gunakan tautan ke terjemahan: Andrey Karpov.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PVS-Studio: Dukungan MISRA C dan MISRA C ++ Standar Pengkodean</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id432660/">https://habr.com/ru/post/id432660/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id432650/index.html">Kumpulan persyaratan untuk proyek perangkat lunak - tanpa pemotongan</a></li>
<li><a href="../id432652/index.html">Apakah Anda memerlukan SD-WAN?</a></li>
<li><a href="../id432654/index.html">Tempat menyimpan data: kunjungan ke pusat data IXcellerate</a></li>
<li><a href="../id432656/index.html">Pengantar Anotasi Jenis Python</a></li>
<li><a href="../id432658/index.html">Deputi Duma Negara mengusulkan untuk melarang sistem pengiriman uang yang beroperasi tanpa registrasi Bank Sentral</a></li>
<li><a href="../id432664/index.html">Kami menerapkan komponen Angular dalam React, Vue, dan bahkan jQuery jika Anda mau</a></li>
<li><a href="../id432666/index.html">Rekaman Video Rekaman Manajemen Produk</a></li>
<li><a href="../id432668/index.html">Manajemen port jaringan yang mudah</a></li>
<li><a href="../id432670/index.html">Roadmap Disiplin Matematika untuk Pembelajaran Mesin, Bagian 1</a></li>
<li><a href="../id432672/index.html">Apa yang kami cari pengembang untuk mengembangkan platform 1C: Enterprise</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>