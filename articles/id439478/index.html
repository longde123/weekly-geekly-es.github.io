<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ§ ğŸ” ğŸ”ª Menghibur C #. Lima contoh rehat kopi ğŸ”¯ ğŸ™ â„¢ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Setelah menulis lebih dari satu artikel tentang Veeam Academy , kami memutuskan untuk membuka dapur internal kecil dan menawarkan kepada Anda beberapa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Menghibur C #. Lima contoh rehat kopi</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/veeam/blog/439478/">  Setelah menulis lebih dari satu artikel tentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Veeam Academy</a> , kami memutuskan untuk membuka dapur internal kecil dan menawarkan kepada Anda beberapa contoh dalam C # yang kami analisis dengan siswa kami.  Ketika mengkompilasi mereka, kami dipandu oleh fakta bahwa audiens kami adalah pengembang pemula, tetapi juga bisa menarik bagi programmer berpengalaman untuk mencari di bawah kucing.  Tujuan kami adalah untuk menunjukkan seberapa dalam lubang kelinci itu, sementara pada saat yang sama menjelaskan fitur struktur internal C #. <br><br>  Di sisi lain, kami akan senang mendengar komentar dari kolega yang berpengalaman yang akan menunjukkan kekurangan dalam contoh kami, atau berbagi sendiri.  Mereka suka menggunakan pertanyaan seperti itu di wawancara, jadi pasti kita semua punya sesuatu untuk diceritakan. <br><br>  Kami berharap bahwa pilihan kami akan bermanfaat bagi Anda, membantu menyegarkan kembali pengetahuan Anda atau hanya tersenyum. <br><br><img src="https://habrastorage.org/webt/wm/5l/4q/wm5l4qgp5-jl50kt_2oswu4tyu8.jpeg" alt="gambar"><br><a name="habracut"></a><br><h4>  Contoh 1 </h4><br>  Struktur dalam C #.  Dengan mereka, bahkan pengembang yang berpengalaman sering memiliki pertanyaan, yang sangat sering digunakan oleh semua jenis tes online. <br><br>  Contoh pertama kami adalah contoh perhatian dan pengetahuan tentang apa yang menggunakan blok memperluas menjadi.  Dan juga topik yang cukup untuk komunikasi selama wawancara. <br><br>  Pertimbangkan kodenya: <br><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> SDummy : IDisposable { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _dispose; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Dispose</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { _dispose = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetDispose</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _dispose; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] args</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> d = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SDummy(); <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> (d) { Console.WriteLine(d.GetDispose()); } Console.WriteLine(d.GetDispose()); } }</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Apa yang akan dicetak metode Utama ke konsol?</b> <div class="spoiler_text">  Perhatikan bahwa SDummy adalah struktur yang mengimplementasikan antarmuka IDisposable, sehingga variabel tipe SDummy dapat digunakan dalam blok using. <br><br>  Menurut <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">spesifikasi bahasa C #,</a> menggunakan pernyataan untuk tipe signifikan pada waktu kompilasi meluas ke blok coba-akhirnya: <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { Console.WriteLine(d.GetDispose()); } <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span> { ((IDisposable)d).Dispose(); }</code> </pre><br>  Jadi, dalam kode kami, metode GetDispose () dipanggil di dalam blok using, yang mengembalikan bidang Boolean _dispose, nilai yang belum ditetapkan untuk objek d (hanya diatur dalam metode Buang (), yang belum dipanggil) dan oleh karena itu nilainya dikembalikan Standarnya adalah False.  Apa selanjutnya <br><br>  Dan kemudian yang paling menarik. <br>  Menjalankan garis di blok akhirnya <br><pre> <code class="cs hljs"> ((IDisposable)d).Dispose();</code> </pre><br>  biasanya mengarah ke tinju.  Ini tidak sulit untuk dilihat, misalnya, di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> (di kanan atas Hasil, pertama-tama pilih C #, dan kemudian IL): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/4p/b5/ix/4pb5ixpt4bwwwgrgiqeopcstdsg.jpeg" alt="gambar" width="80%"></div><br>  Dalam hal ini, metode Buang sudah dipanggil untuk objek lain, dan bukan untuk objek d sama sekali. <br>  Jalankan program kami dan lihat bahwa program tersebut benar-benar menampilkan "False False" pada konsol.  Tapi apakah itu sesederhana itu?  :) <br><br>  Faktanya, TIDAK ADA KEMASAN YANG TERJADI.  Apa, menurut Eric Lippert, dilakukan demi optimasi (lihat di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> dan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> ). <br>  Tetapi, jika tidak ada kemasan (yang dengan sendirinya tampak mengejutkan), mengapa "False False" dan bukan "False True" di layar, karena Buang sekarang harus diterapkan pada objek yang sama?!? <br><br>  Dan di sini bukan untuk itu! <br>  Lihatlah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kompiler C # yang</a> memperluas program kami ke: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> SDummy : IDisposable { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _dispose; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Dispose</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { _dispose = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetDispose</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _dispose; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] args</span></span></span><span class="hljs-function">)</span></span> { SDummy sDummy = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>(SDummy); SDummy sDummy2 = sDummy; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { Console.WriteLine(sDummy.GetDispose()); } <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span> { ((IDisposable)sDummy2).Dispose(); } Console.WriteLine(sDummy.GetDispose()); } }</code> </pre><br><br>  Ada variabel baru sDummy2, di mana metode Buang () diterapkan! <br>  Dari mana variabel tersembunyi ini berasal? <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Mari kita</a> beralih ke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">spec lagi</a> : <br><blockquote>  Pernyataan menggunakan formulir 'menggunakan pernyataan (ekspresi)' memiliki tiga kemungkinan ekspansi yang sama.  Dalam hal ini, ResourceType secara implisit adalah tipe kompilasi-waktu dari ekspresi ... Variabel 'sumber daya' tidak dapat diakses di, dan tidak terlihat oleh, pernyataan tertanam. <br></blockquote><br>  T.O.  variabel sDummy tidak terlihat dan tidak dapat diakses oleh pernyataan tertanam dari blok menggunakan, dan semua operasi di dalam ekspresi ini dilakukan dengan variabel sDummy2 lain. <br><br>  Akibatnya, metode Utama menampilkan konsol "False False", dan bukan "False True", karena banyak dari mereka yang menemukan contoh ini untuk pertama kalinya percaya.  Dalam hal ini, pastikan untuk diingat bahwa tidak ada kemasan, tetapi variabel tersembunyi tambahan dibuat. <br><br>  Kesimpulan umum adalah ini: tipe nilai yang bisa berubah adalah kejahatan yang sebaiknya dihindari. <br><br>  Contoh serupa dipertimbangkan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> .  Jika topiknya menarik, kami sangat merekomendasikan mengintip. <br><br>  Saya ingin mengucapkan terima kasih khusus kepada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">SergeyT</a> atas komentar berharga tentang contoh ini. <br><br></div></div><br><br><h4>  Contoh 2 </h4><br>  Konstruktor dan urutan panggilan mereka adalah salah satu topik utama bahasa pemrograman berorientasi objek.  Kadang-kadang urutan panggilan seperti itu mungkin mengejutkan dan, bahkan lebih buruk, bahkan "mengisi" program pada saat yang paling tidak terduga. <br><br>  Jadi, pertimbangkan kelas MyLogger: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">MyLogger</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> MyLogger innerInstance = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyLogger(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyLogger</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"Static Logger Constructor"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyLogger</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"Instance Logger Constructor"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> MyLogger Instance { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> innerInstance; } } }</code> </pre><br>  Misalkan kelas ini memiliki beberapa logika bisnis yang kita perlukan untuk mendukung logging (fungsionalitas tidak begitu penting saat ini). <br><br>  Mari kita lihat apa yang ada di kelas MyLogger kami: <br><br><ol><li>  Konstruktor statis ditentukan </li><li>  Ada konstruktor pribadi tanpa parameter </li><li>  Variabel dalam tertutup variabel statis didefinisikan </li><li>  Dan ada properti statis terbuka Instance untuk berkomunikasi dengan dunia luar </li></ol><br>  Untuk memudahkan analisis contoh ini, kami menambahkan output konsol sederhana ke konstruktor kelas. <br><br>  Di luar kelas (tanpa menggunakan trik seperti refleksi) kita hanya dapat menggunakan properti Instance statis publik, yang dapat kita sebut seperti ini: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Program</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> logger = MyLogger.Instance; } }</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Apa yang akan dihasilkan oleh program ini?</b> <div class="spoiler_text">  Kita semua tahu bahwa konstruktor statis dipanggil sebelum mengakses setiap anggota kelas (dengan pengecualian konstanta).  Dalam hal ini, diluncurkan hanya sekali dalam domain aplikasi. <br><br>  Dalam kasus kami, kami beralih ke anggota kelas - properti Instance, yang seharusnya menyebabkan konstruktor statis untuk memulai pertama, dan kemudian konstruktor dari instance kelas akan dipanggil.  Yaitu  program akan menampilkan: <br><br>  <b>Pembuat Logger Statis</b> <b><br></b>  <b>Pembuat Logger Instans</b> <b><br></b> <br><br>  Namun, setelah memulai program, kami masuk ke konsol: <br><br>  <b>Pembuat Logger Instans</b> <b><br></b>  <b>Pembuat Logger Statis</b> <b><br></b> <br><br>  Bagaimana bisa begitu?  Instance constructor berfungsi sebelum konstruktor statis?!? <br>  Jawab: Ya! <br><br>  Dan inilah alasannya. <br><br>  Standar C # ECMA-334 menyatakan berikut ini untuk kelas statis: <br><br>  <i>17.4.5.1: â€œJika konstruktor statis (Â§17.11) ada di kelas, eksekusi inisialisasi bidang statis terjadi segera sebelum mengeksekusi konstruktor statis itu.</i> <i><br></i>  <i>...</i> <i><br></i>  <i>17.11: ... Jika sebuah kelas berisi bidang statis dengan inisialisasi, inisialisasi tersebut dieksekusi dalam urutan teks segera sebelum mengeksekusi konstruktor statis</i> <br><br>  (Yang dalam terjemahan gratis berarti: jika ada konstruktor statis di kelas, maka inisialisasi bidang statis dimulai segera SEBELUM konstruktor statis dimulai. <br>  ... <br>  Jika kelas berisi bidang statis dengan inisialisasi, maka inisialisasi tersebut diluncurkan dalam urutan dalam teks program SEBELUM konstruktor statis dijalankan.) <br><br>  Dalam kasus kami, bidang statis innerInstance dideklarasikan bersama dengan initializer, yang merupakan konstruktor dari instance kelas.  Menurut standar ECMA, penginisialisasi harus dipanggil SEBELUM memanggil konstruktor statis.  Apa yang terjadi dalam program kami: konstruktor instance, menjadi penginisialisasi bidang statis, disebut SEBELUM konstruktor statis.  Setuju, tidak terduga. <br><br>  Perhatikan bahwa ini hanya berlaku untuk inisialisasi bidang statis.  Secara umum, konstruktor statis disebut SEBELUM memanggil konstruktor dari instance kelas. <br><br>  Seperti, misalnya, di sini: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">MyLogger</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyLogger</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"Static Logger Constructor"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyLogger</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"Instance Logger Constructor"</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Program</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> logger = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyLogger(); } }</code> </pre><br>  Dan program ini diharapkan untuk output ke konsol: <br><br>  <b>Pembuat Logger Statis</b> <b><br></b>  <b>Pembuat Logger Instans</b> <b><br></b> <br></div></div><br><img src="https://habrastorage.org/webt/zr/ee/h3/zreeh3h-fqruztz8hdljydmzl1q.jpeg" alt="gambar"><br><br><h4>  Contoh 3 </h4><br>  Pemrogram sering harus menulis fungsi tambahan (utilitas, pembantu, dll.) Untuk membuat hidup mereka lebih mudah.  Biasanya, fungsi-fungsi tersebut cukup sederhana dan seringkali hanya mengambil beberapa baris kode.  Tapi Anda bisa tersandung bahkan tiba-tiba. <br><br>  Misalkan kita perlu mengimplementasikan fungsi yang memeriksa nomor untuk keanehan (mis. Bahwa angka tersebut tidak dapat dibagi 2 tanpa sisa). <br><br>  Suatu implementasi mungkin terlihat seperti ini: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isOddNumber</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> i</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (i % <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-number"><span class="hljs-number">1</span></span>); }</code> </pre><br>  Sekilas, semuanya baik-baik saja dan, misalnya, untuk angka 5.7 dan 11, kami diharapkan Benar. <br><br><div class="spoiler">  <b class="spoiler_title">Apa yang akan dikembalikan fungsi isOddNumber (-5)?</b> <div class="spoiler_text">  -5 adalah angka ganjil, tetapi sebagai jawaban untuk fungsi kita, kita mendapatkan False! <br>  Mari cari tahu apa alasannya. <br><br>  Menurut <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">MSDN</a> , berikut ini ditulis tentang sisa% operator divisi: <br>  â€œUntuk operan integer, hasil dari% b adalah nilai yang dihasilkan oleh a - (a / b) * bâ€ <br>  Dalam kasus kami, untuk a = -5, b = 2 kita dapatkan: <br>  -5% 2 = (-5) - ((-5) / 2) * 2 = -5 + 4 = -1 <br>  Tapi -1 selalu tidak sama dengan 1, yang menjelaskan hasil kami False. <br><br>  % Operator peka terhadap tanda operan.  Karena itu, agar tidak menerima "kejutan" seperti itu, lebih baik membandingkan hasilnya dengan nol, yang tidak memiliki tanda: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isOddNumber</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> i</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (i % <span class="hljs-number"><span class="hljs-number">2</span></span> != <span class="hljs-number"><span class="hljs-number">0</span></span>); }</code> </pre><br>  Atau dapatkan fungsi terpisah untuk memeriksa paritas dan mengimplementasikan logika melalui itu: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isEvenNumber</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> i</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (i % <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isOddNumber</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> i</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> !isEvenNumber(i); }</code> </pre><br></div></div><br><h4>  Contoh 4 </h4><br>  Setiap orang yang diprogram dalam C #, mungkin bertemu dengan LINQ, yang sangat nyaman untuk bekerja dengan koleksi, membuat kueri, memfilter, dan mengagregasi data ... <br><br>  Kami tidak akan mencari di bawah tenda LINQ.  Mungkin kita akan melakukannya lain kali. <br><br>  Sementara itu, perhatikan contoh kecil: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[] dataArray = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[] { <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> summResult = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> selectedData = dataArray.Select( x =&gt; { summResult += x; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x; }); Console.WriteLine(summResult);</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Apa yang akan dihasilkan kode ini?</b> <div class="spoiler_text">  Kita mendapatkan di layar nilai dari summResult variabel, yang sama dengan nilai awal, yaitu  0. <br><br>  Mengapa ini terjadi? <br><br>  Dan karena definisi kueri LINQ dan peluncuran kueri ini adalah dua operasi yang dilakukan secara terpisah.  Dengan demikian, definisi permintaan tidak berarti peluncuran / eksekusi. <br><br>  Variabel summResult digunakan di dalam delegasi anonim dalam metode Select: elemen dari array dataArray diurutkan secara berurutan dan ditambahkan ke variabel sumResult. <br><br>  Kita dapat mengasumsikan bahwa kode kita akan mencetak jumlah elemen dari array dataArray.  Tapi LINQ tidak berfungsi seperti itu. <br><br>  Pertimbangkan variabel Data yang dipilih.  Kata kunci var adalah "gula sintaksis", yang dalam banyak kasus mengurangi ukuran kode program dan meningkatkan keterbacaannya.  Dan tipe nyata dari variabel data yang dipilih mengimplementasikan antarmuka IEnumerable.  Yaitu  kode kami terlihat seperti ini: <br><br><pre> <code class="cs hljs"> IEnumerable&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; selectedData = dataArray.Select( x =&gt; { summResult += x; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x; });</code> </pre><br>  Di sini kita mendefinisikan kueri (Query), tetapi kueri itu sendiri tidak dimulai.  Dengan cara yang sama, Anda bisa bekerja dengan database dengan menentukan kueri SQL sebagai string, tetapi untuk mendapatkan hasilnya, lihat database dan jalankan kueri ini secara eksplisit. <br><br>  Artinya, sejauh ini kami hanya menetapkan permintaan, tetapi belum meluncurkannya.  Inilah sebabnya mengapa nilai variabel summResult tetap tidak berubah.  Kueri dapat diluncurkan, misalnya, menggunakan metode ToArray, ToList atau ToDictionary: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[] dataArray = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[] { <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> summResult = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">//        selectedData IEnumerable&lt;int&gt; selectedData = dataArray.Select( x =&gt; { summResult += x; return x; }); //   selectedData selectedData.ToArray(); //    summResult Console.WriteLine(summResult);</span></span></code> </pre><br>  Kode ini sudah akan menampilkan nilai dari variabel sumResult, sama dengan jumlah semua elemen dari array dataArray, sama dengan 15. <br><br>  Kami menemukan jawabannya.  Lalu apa yang akan ditampilkan program ini di layar? <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[] dataArray = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[] { <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span> }; <span class="hljs-comment"><span class="hljs-comment">//1 var summResult = dataArray.Sum() + dataArray.Skip(3).Take(2).Sum(); //2 var groupedData = dataArray.GroupBy(x =&gt; x).Select( //3 x =&gt; { summResult += x.Key; return x.Key; }); Console.WriteLine(summResult); //4</span></span></code> </pre><br>  Variabel groupedData (baris 3) sebenarnya mengimplementasikan antarmuka IEnumerable dan pada dasarnya mendefinisikan permintaan ke sumber data dataArray.  Ini berarti bahwa untuk delegasi anonim bekerja, yang mengubah nilai variabel sumResult, permintaan ini harus dijalankan secara eksplisit.  Tetapi tidak ada peluncuran seperti itu di program kami.  Oleh karena itu, nilai variabel sumResult akan diubah hanya di baris 2, dan kami tidak dapat mempertimbangkan hal-hal lain dalam perhitungan kami. <br><br>  Maka mudah untuk menghitung nilai dari summResult variabel, yang masing-masing, 15 + 7, yaitu  22. <br></div></div><br><h4>  Contoh 5 </h4><br>  Mari kita katakan segera - kita tidak mempertimbangkan contoh ini di kuliah kita di Akademi, tetapi kadang-kadang kita membahasnya saat rehat kopi bukan sebagai lelucon. <br><br>  Terlepas dari kenyataan bahwa itu hampir tidak indikatif dari sudut pandang menentukan tingkat pengembang, kami bertemu contoh ini dalam beberapa tes yang berbeda.  Mungkin digunakan untuk keserbagunaan, karena berfungsi sama di C dan C ++, serta di C # dan Java. <br><br>  Jadi biarkan ada satu baris kode: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)+(<span class="hljs-keyword"><span class="hljs-keyword">char</span></span>)-(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)+(<span class="hljs-keyword"><span class="hljs-keyword">long</span></span>)<span class="hljs-number"><span class="hljs-number">-1</span></span>;</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Apa yang akan menjadi nilai dari variabel i?</b> <div class="spoiler_text">  Jawab: 1 <br><br>  Anda mungkin berpikir bahwa aritmatika numerik digunakan di sini untuk ukuran masing-masing jenis dalam byte, karena tanda-tanda â€œ+â€ dan â€œ-â€ agak tidak terduga ditemukan di sini untuk konversi jenis. <br><br>  Dalam C #, tipe integer dikenal 4 byte panjang, 8 panjang, karakter 2. <br><br>  Maka mudah untuk berpikir bahwa baris kode kita akan sama dengan ekspresi aritmatika berikut: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = (<span class="hljs-number"><span class="hljs-number">4</span></span>)+(<span class="hljs-number"><span class="hljs-number">2</span></span>)-(<span class="hljs-number"><span class="hljs-number">4</span></span>)+(<span class="hljs-number"><span class="hljs-number">8</span></span>)<span class="hljs-number"><span class="hljs-number">-1</span></span>;</code> </pre><br>  Namun, ini tidak benar.  Dan untuk membingungkan dan mengarahkan dengan alasan yang salah, contohnya dapat diubah, misalnya, seperti ini: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)+(<span class="hljs-keyword"><span class="hljs-keyword">char</span></span>)-(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)+(<span class="hljs-keyword"><span class="hljs-keyword">long</span></span>)-<span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>);</code> </pre><br>  Tanda-tanda "+" dan "-" digunakan dalam contoh ini bukan sebagai operasi aritmatika biner, tetapi sebagai operator unary.  Maka baris kode kami hanyalah urutan konversi jenis eksplisit yang dicampur dengan panggilan ke operasi yang tidak terarah, yang dapat ditulis sebagai berikut: <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)( <span class="hljs-comment"><span class="hljs-comment">// call explicit operator int(char), ie char to int +( // call unary operator + (char)( // call explicit operator char(int), ie int to char -( // call unary operator - (int)( // call explicit operator int(long), ie long to int +( // call unary operator + (long)( // call explicit operator long(int), ie int to long -1 ) ) ) ) ) ) );</span></span></code> </pre><br></div></div><br><img src="https://habrastorage.org/webt/0a/wm/vn/0awmvncxvmyw1jzjgc_uavq8rf8.jpeg" alt="gambar"><br><br><h3>  Tertarik dengan Belajar di Veeam Academy? </h3><br>  Sekarang ada satu set untuk intensif musim semi pada C # di St. Petersburg, dan kami mengundang semua orang untuk menjalani pengujian online di situs web <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Veeam Academy.</a> <br><br>  Kursus dimulai pada 18 Februari 2019, berlangsung hingga pertengahan Mei dan, seperti biasa, akan sepenuhnya gratis.  Pendaftaran untuk siapa saja yang ingin menjalani ujian masuk sudah tersedia di situs web Academy: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">academy.veeam.ru</a> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vg/k6/ol/vgk6olkeyayj8hqamzvva75ycrk.jpeg" alt="gambar" width="50%"></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id439478/">https://habr.com/ru/post/id439478/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id439466/index.html">Penyelidikan orbit bulan NASA mengambil gambar pertama dari stasiun China Chang'e-4 - dua piksel cahaya</a></li>
<li><a href="../id439468/index.html">Di mana pencarian SCADA yang sempurna mengarah</a></li>
<li><a href="../id439470/index.html">Jerman berencana untuk meninggalkan batubara dalam waktu dekat</a></li>
<li><a href="../id439472/index.html">Otomatisasi kontrol perbatasan dalam perusahaan</a></li>
<li><a href="../id439476/index.html">Bahasa gaul Cockney: sejarah modern dan status sosial</a></li>
<li><a href="../id439480/index.html">Beri jalan, atau Mengapa CRM Anda (dan CRM) melambat?</a></li>
<li><a href="../id439482/index.html">devleads - (un) motivasi finansial</a></li>
<li><a href="../id439484/index.html">Mendapatkan data enum dalam perspektif Automapper</a></li>
<li><a href="../id439486/index.html">Jenis Referensi .NET vs Jenis Nilai. Bagian 1</a></li>
<li><a href="../id439488/index.html">Rekaman Video Meetup QA</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>