<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèí üíó üèÑ Comment vaincre le dragon: r√©√©crivez votre programme sur Golang üö£üèª üë©üèª‚Äç‚öïÔ∏è üë®üèø‚Äçüîß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il se trouve que votre programme a √©t√© √©crit dans un langage de script - par exemple, en Ruby - et qu'il √©tait n√©cessaire de le r√©√©crire dans Golang. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment vaincre le dragon: r√©√©crivez votre programme sur Golang</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/437044/"><p>  Il se trouve que votre programme a √©t√© √©crit dans un langage de script - par exemple, en Ruby - et qu'il √©tait n√©cessaire de le r√©√©crire dans Golang. </p><br><p>  Une question raisonnable: <strong>pourquoi</strong> pourriez-vous avoir besoin de r√©√©crire un programme qui a d√©j√† √©t√© √©crit et qui fonctionne bien? </p><br><p><img src="https://habrastorage.org/webt/b7/a0/ho/b7a0hogmqu_sytkfqkhaqbmwbz0.jpeg"><a name="habracut"></a></p><br><p>  Tout d'abord, disons que le programme <strong>est associ√© √† un √©cosyst√®me sp√©cifique</strong> - dans notre cas, ce sont Docker et Kubernetes.  L'ensemble de l'infrastructure de ces projets est √©crit en Golang.  Cela ouvre l'acc√®s aux biblioth√®ques qui utilisent Docker, Kubernetes et autres.  Du point de vue du support, du d√©veloppement et du raffinement de votre programme, il est plus rentable d'utiliser la m√™me infrastructure que les principaux produits.  Dans ce cas, toutes les nouvelles fonctionnalit√©s seront disponibles imm√©diatement et vous n'aurez pas √† les r√©impl√©menter dans une autre langue.  Seule cette condition <strong>dans notre situation sp√©cifique</strong> √©tait suffisante pour prendre une d√©cision √† la fois sur la n√©cessit√© de changer la langue en principe et sur le type de langue qu'elle devrait √™tre.  Il y a cependant d'autres avantages ... </p><br><p>  Deuxi√®mement, la <strong>facilit√© d'installation des</strong> applications sur Golang.  Vous n'avez pas besoin d'installer Rvm, Ruby, un ensemble de gemmes, etc. dans le syst√®me. Vous devez t√©l√©charger un fichier binaire statique et l'utiliser. </p><br><p> Troisi√®mement, la <strong>vitesse des</strong> programmes sur Golang est plus √©lev√©e.  Il ne s'agit pas d'une augmentation syst√©mique significative de la vitesse, qui est obtenue en utilisant la bonne architecture et les bons algorithmes dans n'importe quel langage.  Mais c'est une telle augmentation qui se ressent lorsque vous lancez votre programme √† partir de la console.  Par exemple, <code>--help</code> dans Ruby peut fonctionner en 0,8 sec, et sur Golang - 0,02 sec.  Il am√©liore simplement sensiblement l'exp√©rience utilisateur de l'utilisation du programme. </p><br><p>  <em><strong>NB</strong> : Comme les lecteurs r√©guliers de notre blog auraient pu le deviner, l'article est bas√© sur l'exp√©rience de la r√©√©criture de notre produit <strong>dapp</strong> , qui est maintenant - pas encore tout √† fait officiellement (!) - connu sous le nom de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">werf</a> .</em>  <em>Voir la fin de l'article pour plus de d√©tails √† ce sujet.</em> </p><br><p>  Bon: vous pouvez simplement r√©cup√©rer et √©crire un nouveau code qui est compl√®tement isol√© de l'ancien code de script.  Mais imm√©diatement quelques <strong>difficult√©s et limitations</strong> sur les ressources et le temps allou√© au d√©veloppement √©mergent: </p><br><ul><li>  La version actuelle du programme dans Ruby a constamment besoin d'am√©liorations et de corrections: <br><ul><li>  Les bogues se produisent lorsqu'ils sont utilis√©s et doivent √™tre corrig√©s rapidement; </li><li>  Vous ne pouvez pas suspendre l'ajout de nouvelles fonctionnalit√©s pendant six mois, car  Ces fonctionnalit√©s sont souvent requises par les clients / utilisateurs. </li></ul></li><li>  La maintenance de 2 bases de code en m√™me temps est difficile et co√ªteuse: <br><ul><li>  Il y a peu d'√©quipes de 2-3 personnes, √©tant donn√© la pr√©sence d'autres projets en plus de ce programme Ruby. </li></ul></li><li>  Introduction de la nouvelle version: <br><ul><li>  Il ne devrait pas y avoir de d√©gradation significative de la fonction; </li><li>  Id√©alement, cela devrait √™tre transparent et transparent. </li></ul></li></ul><br><p>  Un processus de portage continu est requis.  Mais comment puis-je faire cela si la version de Golang est d√©velopp√©e en tant que programme autonome? </p><br><h2 id="pishem-srazu-na-dvuh-yazykah">  Nous √©crivons en deux langues √† la fois </h2><br><p>  Mais que se passe-t-il si vous transf√©rez des composants vers Golang de bas en haut?  Nous commen√ßons par des choses de bas niveau, puis remontons les abstractions. </p><br><p>  Imaginez que votre programme se compose des composants suivants: </p><br><pre> <code class="plaintext hljs">lib/ config.rb build/ image.rb git_repo/ base.rb local.rb remote.rb docker_registry.rb builder/ base.rb shell.rb ansible.rb stage/ base.rb from.rb before_install.rb git.rb install.rb before_setup.rb setup.rb deploy/ kubernetes/ client.rb manager/ base.rb job.rb deployment.rb pod.rb</code> </pre> <br><h3 id="portirovat-komponent-s-funkciyami">  Composant de port avec fonctionnalit√©s </h3><br><p>  Un cas simple.  Nous prenons un composant existant qui est assez isol√© du reste - par exemple, <code>config</code> ( <code>lib/config.rb</code> ).  Dans ce composant, seule la fonction <code>Config::parse</code> est d√©finie, qui prend le chemin d'acc√®s √† la configuration, la lit et produit une structure remplie.  Un binaire s√©par√© sur la <code>config</code> Golang et la <code>config</code> package correspondant sera responsable de sa mise en ≈ìuvre: </p><br><pre> <code class="plaintext hljs">cmd/ config/ main.go pkg/ config/ config.go</code> </pre> <br><p>  Le binaire de Golang re√ßoit les arguments du fichier JSON et renvoie le r√©sultat dans le fichier JSON. </p><br><pre> <code class="plaintext hljs">config -args-from-file args.json -res-to-file res.json</code> </pre> <br><p>  On <code>config</code> que <code>config</code> peut sortir des messages vers stdout / stderr (dans notre programme Ruby, la sortie va <em>toujours</em> vers stdout / stderr, donc cette fonctionnalit√© n'est pas param√©tr√©e). </p><br><p>  Appeler le binaire de <code>config</code> √©quivaut √† appeler une fonction du composant de <code>config</code> .  Les arguments du fichier <code>args.json</code> indiquent le nom de la fonction et ses param√®tres.  En sortie via le fichier <code>res.json</code> , <code>res.json</code> obtenons le r√©sultat de la fonction.  Si la fonction doit renvoyer un objet d'une classe, les donn√©es de l' <em>objet de</em> cette classe sont renvoy√©es sous forme s√©rialis√©e JSON. </p><br><p>  Par exemple, pour appeler la fonction <code>Config::parse</code> , sp√©cifiez les <code>args.json</code> suivants: </p><br><pre> <code class="plaintext hljs">{ "command": "Parse", "configPath": "path-to-config.yaml" }</code> </pre> <br><p>  Nous <code>res.json</code> r√©sultat dans <code>res.json</code> : </p><br><pre> <code class="plaintext hljs">{ "config": { "Images": [{"Name": "nginx"}, {"Name": "rails"}], "From": "ubuntu:16.04" }, }</code> </pre> <br><p>  Dans le champ <code>config</code> , nous obtenons l'√©tat de l'objet <code>Config::Config</code> s√©rialis√© en JSON.  √Ä partir de cet √©tat, sur l'appelant dans Ruby, vous devez construire un objet <code>Config::Config</code> . </p><br><p>  En cas d'erreur <em>fournie</em> , le binaire peut renvoyer le JSON suivant: </p><br><pre> <code class="plaintext hljs">{ "error": "no such file path-to-config.yaml" }</code> </pre> <br><p>  Le champ d' <code>error</code> doit √™tre g√©r√© par l'appelant. </p><br><h4 id="vyzyvaem-golang-iz-ruby">  Appel √† Golang depuis Ruby </h4><br><p>  Du c√¥t√© Ruby, nous transformons la fonction <code>Config::parse(config_path)</code> en un wrapper qui appelle notre <code>config</code> , obtient le r√©sultat, traite toutes les erreurs possibles.  Voici un exemple de pseudocode Ruby avec des simplifications: </p><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">module</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Config</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">parse</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">config_path</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">call_id</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">get_random_number</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">args_file</span></span></span><span class="hljs-class"> = "</span><span class="hljs-comment"><span class="hljs-class"><span class="hljs-comment">#{get_tmp_dir}/args.#{call_id}.json" res_file = "#{get_tmp_dir}/res.#{call_id}.json" args_file.write(JSON.dump( "command" =&gt; "Parse", "configPath" =&gt; config_path, )) system("config -args-from-file #{args_file} -res-to-file #{res_file}") raise "config failed with unknown error" if $?.exitstatus != 0 res = JSON.load_file(res_file) raise ParseError, res["error"] if res["error"] return Config.new_from_state(res["config"]) end end</span></span></span></span></code> </pre> <br><p>  Le binaire peut se bloquer avec un code non nul et inattendu - c'est une situation exceptionnelle.  Ou avec les codes fournis - dans ce cas, nous regardons le fichier <code>res.json</code> pour la pr√©sence des champs d' <code>error</code> et de <code>config</code> et, par cons√©quent, nous <code>Config::Config</code> objet <code>Config::Config</code> du champ de <code>config</code> s√©rialis√©. </p><br><p>  Du point de vue de l'utilisateur, la fonction <code>Config::Parse</code> n'a pas chang√©. </p><br><h3 id="portirovat-komponent-klass">  Classe de composants de port </h3><br><p>  Par exemple, prenez la hi√©rarchie des classes <code>lib/git_repo</code> .  Il existe 2 classes: <code>GitRepo::Local</code> et <code>GitRepo::Remote</code> .  Il est logique de combiner leur impl√©mentation dans un seul binaire <code>git_repo</code> et, par cons√©quent, de <code>git_repo</code> dans Golang. </p><br><pre> <code class="plaintext hljs">cmd/ git_repo/ main.go pkg/ git_repo/ base.go local.go remote.go</code> </pre> <br><p>  Un appel au binaire <code>git_repo</code> correspond √† un appel √† une m√©thode de l'objet <code>GitRepo::Local</code> ou <code>GitRepo::Remote</code> .  L'objet a un √©tat et il peut changer apr√®s un appel de m√©thode.  Par cons√©quent, dans les arguments, nous passons l'√©tat actuel s√©rialis√© en JSON.  Et √† la sortie, nous obtenons toujours le nouvel √©tat de l'objet - √©galement en JSON. </p><br><p>  Par exemple, pour appeler la <code>local_repo.commit_exists?(commit)</code> , nous <code>args.json</code> suivant: </p><br><pre> <code class="plaintext hljs">{ "localGitRepo": { "name": "my_local_git_repo", "path": "path/to/git" }, "method": "IsCommitExists", "commit": "e43b1336d37478282693419e2c3f2d03a482c578" }</code> </pre> <br><p>  La sortie est <code>res.json</code> : </p><br><pre> <code class="plaintext hljs">{ "localGitRepo": { "name": "my_local_git_repo", "path": "path/to/git" }, "result": true, }</code> </pre> <br><p>  Dans le champ <code>localGitRepo</code> , un nouvel √©tat de l'objet est re√ßu (qui ne peut pas changer).  Nous devons quand m√™me mettre cet √©tat dans l'objet Ruby- <code>local_git_repo</code> . </p><br><h4 id="vyzyvaem-golang-iz-ruby-1">  Appel √† Golang depuis Ruby </h4><br><p>  Du c√¥t√© Ruby, nous transformons chaque m√©thode des <code>GitRepo::Base</code> , <code>GitRepo::Local</code> , <code>GitRepo::Remote</code> en wrappers qui appellent notre <code>git_repo</code> , obtenons le r√©sultat, d√©finissons le nouvel √©tat de l'objet de la <code>GitRepo::Local</code> ou <code>GitRepo::Remote</code> . </p><br><p>  Sinon, tout est similaire √† l'appel d'une fonction simple. </p><br><h4 id="kak-byt-s-polimorfizmom-i-bazovymi-klassami">  Comment g√©rer le polymorphisme et les classes de base </h4><br><p>  Le moyen le plus simple est de ne pas supporter le polymorphisme de Golang.  C'est-√†-dire  assurez-vous que les appels au binaire <code>git_repo</code> toujours explicitement adress√©s √† une impl√©mentation sp√©cifique (si <code>localGitRepo</code> sp√©cifi√© dans les arguments, alors l'appel est venu d'un objet de classe <code>GitRepo::Local</code> ; si <code>remoteGitRepo</code> sp√©cifi√© - puis de <code>GitRepo::Remote</code> ) et obtenez en copiant une petite quantit√© de passe-partout - code en cmd.  Apr√®s tout, de toute fa√ßon, <strong>ce code sera jet√© d√®s</strong> que le d√©m√©nagement √† Golang sera termin√©. </p><br><h4 id="kak-menyat-sostoyanie-drugogo-obekta">  Comment changer l'√©tat d'un autre objet </h4><br><p>  Il existe des situations o√π un objet re√ßoit un autre objet en tant que param√®tre et appelle une m√©thode qui modifie implicitement l'√©tat de ce deuxi√®me objet. </p><br><p>  Dans ce cas, vous devez: </p><br><ol><li>  Lorsqu'un binaire est appel√©, en plus de l'√©tat s√©rialis√© de l'objet auquel la m√©thode est appel√©e, transmettez l'√©tat s√©rialis√© de tous les objets param√®tres. </li><li>  Apr√®s l'appel, r√©initialisez l'√©tat de l'objet auquel la m√©thode a √©t√© appel√©e et r√©initialisez √©galement l'√©tat de tous les objets pass√©s en param√®tre. </li></ol><br><p>  Sinon, tout est similaire. </p><br><h3 id="chto-poluchaetsya">  Qu'est ce que c'est? </h3><br><p>  Nous prenons un composant, portons sur Golang, sortons une nouvelle version. </p><br><p>  Dans le cas o√π les composants sous-jacents sont d√©j√† port√©s et qu'un composant de niveau sup√©rieur qui les utilise est transf√©r√©, ce <strong>composant peut ¬´int√©grer¬ª ces composants sous-jacents</strong> .  Dans ce cas, les binaires suppl√©mentaires correspondants peuvent d√©j√† √™tre supprim√©s car inutiles. </p><br><p>  Et cela continue jusqu'√† ce que nous arrivions √† la couche sup√©rieure, qui colle <strong>toutes les abstractions sous-jacentes</strong> .  Cela terminera la premi√®re √©tape du portage.  La couche sup√©rieure est la CLI.  Il peut encore vivre sur Ruby pendant un certain temps avant de passer compl√®tement √† Golang. </p><br><h2 id="kak-rasprostranyat-etogo-monstra">  Comment distribuer ce monstre? </h2><br><p>  Bon: nous avons maintenant une approche pour porter progressivement tous les composants.  Question: comment diffuser un tel programme en 2 langues? </p><br><p>  Dans le cas de Ruby, le programme est toujours install√© en tant que Gem.  D√®s qu'il s'agit d'appeler le binaire, il peut t√©l√©charger cette d√©pendance vers une URL sp√©cifique (elle est cod√©e en dur) et la mettre en cache localement dans le syst√®me (quelque part dans les fichiers de service). </p><br><p>  Lorsque nous faisons une nouvelle version de notre programme en 2 langues, nous devons: </p><br><ol><li>  Collectez et t√©l√©chargez toutes les d√©pendances binaires sur un certain h√©bergement. </li><li>  Cr√©ez une nouvelle version de Ruby Gem. </li></ol><br><p>  Les fichiers binaires pour chaque version ult√©rieure sont collect√©s s√©par√©ment, m√™me si certains composants n'ont pas chang√©.  On pourrait faire un versioning s√©par√© de tous les binaires d√©pendants.  Ensuite, il ne serait pas n√©cessaire de collecter de nouveaux binaires pour chaque nouvelle version du programme.  Mais dans notre cas, nous sommes partis du fait que nous n'avons pas le temps de faire quelque chose de super compliqu√© et d'optimiser le time code, donc pour plus de simplicit√© nous avons collect√© des binaires s√©par√©s pour chaque version du programme au d√©triment de l'√©conomie d'espace et de temps pour le t√©l√©chargement. </p><br><h2 id="nedostatki-podhoda">  Inconv√©nients de l'approche </h2><br><p>  De toute √©vidence, le surco√ªt d'appeler constamment des programmes externes via le <code>system</code> / <code>exec</code> . </p><br><p>  Il est difficile de <strong>mettre</strong> en <strong>cache des donn√©es globales au niveau de Golang</strong> - apr√®s tout, toutes les donn√©es de Golang (par exemple, les variables de package) sont cr√©√©es lorsqu'une m√©thode est appel√©e et meurent apr√®s la fin.  Il faut toujours garder cela √† l'esprit.  Cependant, la mise en cache est toujours possible <strong>au niveau de l'instance de classe</strong> ou <strong>en passant explicitement des param√®tres</strong> √† un composant externe. </p><br><p>  Nous ne devons pas oublier de transf√©rer l' <strong>√©tat des objets √† Golang</strong> et de le restaurer correctement apr√®s un appel. </p><br><p>  Les d√©pendances binaires sur Golang <strong>prennent beaucoup de place</strong> .  C'est une chose quand il n'y a qu'un seul binaire de 30 Mo - un programme sur Golang.  Une autre chose, lorsque vous avez port√© environ 10 composants, chacun pesant 30 Mo, nous obtenons 300 fichiers MB <strong>pour chaque version</strong> .  Pour cette raison, l'espace sur l'h√©bergement binaire et sur la machine h√¥te, o√π votre programme fonctionne et est constamment mis √† jour, quitte rapidement.  Cependant, le probl√®me n'est pas significatif si vous supprimez p√©riodiquement les anciennes versions. </p><br><p>  Notez √©galement qu'√† chaque mise √† jour du programme, le t√©l√©chargement des d√©pendances binaires prendra un certain temps. </p><br><h2 id="preimuschestva-podhoda">  Avantages de l'approche </h2><br><p>  Malgr√© tous les inconv√©nients mentionn√©s, cette approche vous permet d'organiser un <strong>processus continu de portage vers une autre langue</strong> et de vous d√©brouiller avec une seule √©quipe de d√©veloppement. </p><br><p>  L'avantage le plus important est la possibilit√© d'obtenir <strong>un retour rapide</strong> sur le nouveau code, de le tester et de le stabiliser. </p><br><p>  Dans ce cas, vous pouvez, entre autres, ajouter de nouvelles fonctionnalit√©s √† votre programme, corriger des bugs dans la version actuelle. </p><br><h2 id="kak-sdelat-okonchatelnyy-perevorot-na-golang">  Comment faire un coup d'√âtat final sur Golang </h2><br><p>  Au moment o√π tous les composants principaux sont tourn√©s vers Golang et ont d√©j√† √©t√© test√©s en production, il ne reste plus qu'√† r√©√©crire l'interface sup√©rieure de votre programme (CLI) sur Golang et √† jeter tout l'ancien code Ruby. </p><br><p>  A ce stade, il ne reste plus qu'√† r√©soudre les probl√®mes de compatibilit√© de votre nouvelle CLI avec l'ancienne. </p><br><p>  Hourra, camarades!  La r√©volution est devenue r√©alit√©. </p><br><h2 id="kak-my-perepisali-dapp-na-golang">  Comment nous avons r√©√©crit Dapp sur Golang </h2><br><p>  Dapp est un utilitaire d√©velopp√© par Flant pour organiser le processus CI / CD.  Il a √©t√© √©crit en Ruby pour des raisons historiques: </p><br><ul><li>  Vaste exp√©rience dans le d√©veloppement de programmes en Ruby. </li><li>  Chef usag√© (les recettes sont √©crites en Ruby). </li><li>  Inertie, r√©sistance √† utiliser un nouveau langage pour nous pour quelque chose de s√©rieux. </li></ul><br><p>  L'approche d√©crite dans l'article a √©t√© appliqu√©e pour r√©√©crire dapp sur Golang.  Le graphique ci-dessous montre la chronologie de la lutte entre le bien (Golang, bleu) et le mal (Ruby, rouge): </p><br><img src="https://habrastorage.org/webt/xc/qg/gy/xcqggyavhbvkewruasv-pgcxbfa.png"><br><p>  <em>Quantit√© de code dans un projet dapp / werf en Ruby vs langages</em>  <em>Golang au fil des sorties</em> </p><br><p>  Pour le moment, vous pouvez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">t√©l√©charger la version alpha 1.0</a> , qui n'a pas Ruby.  Nous avons √©galement renomm√© dapp en werf, mais c'est une autre histoire ... <strong>Attendez la sortie compl√®te de werf 1.0 bient√¥t!</strong> </p><br><p>  Comme avantages suppl√©mentaires de cette migration et illustration de l'int√©gration avec l'√©cosyst√®me notoire de Kubernetes, nous notons que la r√©√©criture de dapp sur Golang nous a donn√© l'opportunit√© de cr√©er un autre projet - <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">kubedog</a></strong> .  Nous avons donc pu s√©parer le code de suivi des ressources K8 dans un projet distinct, qui peut √™tre utile <strong>non seulement</strong> dans werf, mais aussi dans d'autres projets.  Il existe d'autres solutions pour la m√™me t√¢che <em>(voir notre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">r√©cente annonce</a> pour plus de d√©tails)</em> , mais ¬´les concurrencer¬ª (en termes de popularit√©) sans Go car sa base n'aurait gu√®re √©t√© possible. </p><br><h2 id="ps">  PS </h2><br><p>  Lisez aussi dans notre blog: </p><br><ul><li>  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Pr√©sentation de la biblioth√®que kubedog pour le suivi des ressources Kubernetes.</a> " </li><li>  ¬´Nous <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">introduisons officiellement l'utilitaire dapp - DevOps pour la maintenance de CI / CD</a> .¬ª </li><li>  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Attendez: support pour YAML et Ansible (pas de vaches) dans dapp</a> ." </li><li>  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cr√©ez et installez des applications dans Kubernetes √† l'aide de dapp et de GitLab CI</a> ." </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr437044/">https://habr.com/ru/post/fr437044/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr437032/index.html">Instructions d'installation de NGINX ModSecurity</a></li>
<li><a href="../fr437034/index.html">Universal Whistles: Snom A230 et A210 USB Dongle Review</a></li>
<li><a href="../fr437036/index.html">SAPUI5 for dummies part 2: Un exercice complet √©tape par √©tape</a></li>
<li><a href="../fr437038/index.html">Traduction du guide de l'API Benjamin Winterberg Stream</a></li>
<li><a href="../fr437040/index.html">En Russie, a commenc√© √† tester l'interface neuronale domestique "Neurochat"</a></li>
<li><a href="../fr437050/index.html">Le livre "Python. Cours express. 3e √©d.</a></li>
<li><a href="../fr437052/index.html">Ne manquez pas d'apprendre: un sp√©cialiste universitaire en informatique a-t-il besoin</a></li>
<li><a href="../fr437054/index.html">Nouveaux processeurs Intel de 9e g√©n√©ration: Core moins GPU</a></li>
<li><a href="../fr437056/index.html">Zimbra Collaboration Suite et Zextras Suite sont enti√®rement compatibles avec le syst√®me d'exploitation national RED</a></li>
<li><a href="../fr437062/index.html">L'effet du retard et de la longueur des conclusions de la puce et du logiciel sur le calcul de la longueur / retard total des conducteurs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>