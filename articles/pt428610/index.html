<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëàüèº üê¥ ü§ú O paradoxo do tempo de espera, ou por que meu √¥nibus est√° sempre atrasado? üë©‚Äç‚öñÔ∏è üõï ü•ó</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Fonte : Licen√ßa da Wikipedia CC-BY-SA 3.0 

 Se voc√™ costuma viajar de transporte p√∫blico, provavelmente j√° se deparou com esta situa√ß√£o: 

 Voc√™ p√°ra...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>O paradoxo do tempo de espera, ou por que meu √¥nibus est√° sempre atrasado?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/428610/"><img src="https://habrastorage.org/getpro/habr/post_images/349/844/4f8/3498444f856e32a0b6fbdb7877ac5610.jpg"><br>  <i><font color="gray"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Fonte</a> : Licen√ßa da Wikipedia CC-BY-SA 3.0</font></i> <br><br>  Se voc√™ costuma viajar de transporte p√∫blico, provavelmente j√° se deparou com esta situa√ß√£o: <br><br><blockquote>  Voc√™ p√°ra.  Est√° escrito que o √¥nibus opera a cada 10 minutos.  Anote o tempo ... Finalmente, ap√≥s 11 minutos, o √¥nibus chega e o pensamento: por que sou sempre azarado? </blockquote><br>  Em teoria, se os √¥nibus chegarem a cada 10 minutos e voc√™ chegar em um hor√°rio aleat√≥rio, a espera m√©dia dever√° ser de aproximadamente 5 minutos.  Mas, na realidade, os √¥nibus n√£o chegam dentro do cronograma, ent√£o voc√™ pode esperar mais.  Acontece que, com algumas suposi√ß√µes razo√°veis, pode-se chegar a uma conclus√£o surpreendente: <br><br>  <b>Ao esperar um √¥nibus que chega em m√©dia a cada 10 minutos, seu tempo m√©dio de espera √© de 10 minutos.</b> <br><br>  Isto √© o que √†s vezes √© chamado de <font color="red">paradoxo do tempo de espera</font> . <br><a name="habracut"></a><br>  Eu j√° tive uma id√©ia antes e sempre me perguntei se isso √© realmente verdade ... quanto essas "suposi√ß√µes razo√°veis" correspondem √† realidade?  Neste artigo, examinamos o paradoxo da lat√™ncia em termos de modelagem e argumentos probabil√≠sticos e, em seguida, examinamos alguns dos dados reais de √¥nibus em Seattle para (espero) resolver o paradoxo de uma vez por todas. <br><br><h1>  Inspe√ß√£o do paradoxo </h1><br>  Se os √¥nibus chegarem exatamente a cada dez minutos, o tempo m√©dio de espera ser√° de 5 minutos.  √â f√°cil entender por que adicionar varia√ß√µes ao intervalo entre os √¥nibus aumenta o tempo m√©dio de espera. <br><br>  O paradoxo do tempo de espera √© um caso especial de um fen√¥meno mais geral - <i>o paradoxo da inspe√ß√£o</i> , que √© discutido em detalhes no artigo sensato de Allen Downey, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">"O paradoxo da inspe√ß√£o em todos os lugares"</a> . <br><br>  Em resumo, o paradoxo da inspe√ß√£o surge sempre que a probabilidade de observar uma quantidade estiver relacionada √† quantidade observada.  Allen d√° um exemplo de uma pesquisa com estudantes universit√°rios sobre o tamanho m√©dio de suas aulas.  Embora a escola fale sinceramente do n√∫mero m√©dio de 30 alunos em um grupo, o tamanho m√©dio do grupo <i>do ponto de vista dos alunos √©</i> muito maior.  O motivo √© que, em turmas grandes (naturalmente), h√° mais alunos, o que √© revelado durante a pesquisa. <br><br>  No caso de um hor√°rio de √¥nibus com um intervalo declarado de 10 minutos, √†s vezes o intervalo entre as chegadas √© superior a 10 minutos e, √†s vezes, mais curto.  E se voc√™ parar aleatoriamente, √© mais prov√°vel que encontre um intervalo maior que o menor.  E, portanto, √© l√≥gico que o intervalo m√©dio entre <i>os</i> intervalos de <i>espera seja</i> maior que o intervalo m√©dio entre os barramentos, porque intervalos maiores s√£o mais comuns na amostra. <br><br>  Mas o paradoxo da lat√™ncia faz uma afirma√ß√£o mais forte: se o espa√ßamento m√©dio do barramento √© <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.057ex" viewBox="0 -780.1 888.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-4E" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-1"> N </script>  minutos, o tempo m√©dio de espera <i>para passageiros</i> √© de <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3"><span class="MJXp-mn" id="MJXp-Span-4">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-5">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.226ex" height="2.057ex" viewBox="0 -780.1 1389 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-32" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-4E" x="500" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> 2N </script>  minutos.  Isso pode ser verdade? <br><br><h1>  Simula√ß√£o de lat√™ncia </h1><br>  Para nos convencermos da razoabilidade disso, primeiro simulamos o fluxo de √¥nibus que chegam em m√©dia 10 minutos.  Para maior precis√£o, colete uma amostra grande: um milh√£o de √¥nibus (ou cerca de 19 anos de tr√°fego cont√≠nuo de 10 minutos): <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np N = <span class="hljs-number"><span class="hljs-number">1000000</span></span> <span class="hljs-comment"><span class="hljs-comment"># number of buses tau = 10 # average minutes between arrivals rand = np.random.RandomState(42) # universal random seed bus_arrival_times = N * tau * np.sort(rand.rand(N))</span></span></code> </pre> <br>  Verifique se o intervalo m√©dio est√° pr√≥ximo de <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-6"><span class="MJXp-mtext" id="MJXp-Span-7">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-9">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10">u</span><span class="MJXp-mo" id="MJXp-Span-11" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-12">10</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.403ex" height="1.937ex" viewBox="0 -728.2 4048.6 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-74" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-61" x="611" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-75" x="1141" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-3D" x="1991" y="0"></use><g transform="translate(3047,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-30" x="500" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-3"> \ tau = 10 </script>  : <br><br><pre> <code class="python hljs">intervals = np.diff(bus_arrival_times) intervals.mean()</code> </pre> <br> <code>9.9999879601518398</code> <br> <br>  Agora podemos simular a chegada de um grande n√∫mero de passageiros em um ponto de √¥nibus durante esse per√≠odo e calcular o tempo de espera que cada um deles experimenta.  Encapsule o c√≥digo em uma fun√ß√£o para uso posterior: <br><br><pre> <code class="hljs vhdl">def simulate_wait_times(arrival_times, rseed=<span class="hljs-number"><span class="hljs-number">8675309</span></span>, # Jenny<span class="hljs-symbol"><span class="hljs-symbol">'s</span></span> random seed n_passengers=<span class="hljs-number"><span class="hljs-number">1000000</span></span>): rand = np.random.RandomState(rseed) arrival_times = np.asarray(arrival_times) passenger_times = arrival_times.max() * rand.rand(n_passengers) # find the index <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> the <span class="hljs-keyword"><span class="hljs-keyword">next</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bus</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> each simulated passenger i = np.searchsorted(arrival_times, passenger_times, <span class="hljs-literal"><span class="hljs-literal">side</span></span>=<span class="hljs-symbol"><span class="hljs-symbol">'right</span></span>') <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> arrival_times[i] - passenger_times</code> </pre> <br>  Em seguida, simulamos o tempo de espera e calculamos a m√©dia: <br><br><pre> <code class="python hljs">wait_times = simulate_wait_times(bus_arrival_times) wait_times.mean()</code> </pre> <br> <code>10.001584206227317</code> <br> <br>  O tempo m√©dio de espera √© de aproximadamente 10 minutos, como o paradoxo previu. <br><br><h1>  Indo mais fundo: probabilidades e processos de Poisson </h1><br>  Como simular tal situa√ß√£o? <br><br>  De fato, este √© um exemplo de um paradoxo da inspe√ß√£o, em que a probabilidade de observar um valor est√° relacionada ao pr√≥prio valor.  Denotar por <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-13"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14">p</span><span class="MJXp-mo" id="MJXp-Span-15" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-16">T</span><span class="MJXp-mo" id="MJXp-Span-17" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.704ex" height="2.66ex" viewBox="-38.5 -832 2025.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex; margin-left: -0.089ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-70" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-28" x="503" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-54" x="893" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-29" x="1597" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> p (T) </script>  espa√ßamento <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-18"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-19">T</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.636ex" height="2.057ex" viewBox="0 -780.1 704.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-54" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-5"> T </script>  entre os √¥nibus quando eles chegam ao ponto de √¥nibus.  Nesse registro, o valor esperado da hora de chegada ser√°: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-20"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21">E</span><span class="MJXp-mo" id="MJXp-Span-22" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-23">T</span><span class="MJXp-mo" id="MJXp-Span-24" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-25" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-26">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-27">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-28">n</span><span class="MJXp-msubsup" id="MJXp-Span-29"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-30" style="margin-right: 0.05em;">t</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mtext" id="MJXp-Span-32">&nbsp;</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mn" id="MJXp-Span-31">0</span></span></span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-33">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-36">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-37">y</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-38">T</span><span class="MJXp-mtext" id="MJXp-Span-39">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-40">p</span><span class="MJXp-mo" id="MJXp-Span-41" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42">T</span><span class="MJXp-mo" id="MJXp-Span-43" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-44">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-45">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-46">T</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="28.211ex" height="2.901ex" viewBox="0 -832 12146.5 1249" role="img" focusable="false" style="vertical-align: -0.969ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-45" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-5B" x="764" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-54" x="1043" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-5D" x="1747" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-3D" x="2303" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-69" x="3610" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-6E" x="3955" y="0"></use><g transform="translate(4556,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-30" x="511" y="-435"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-69" x="5371" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-6E" x="5716" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-66" x="6317" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-74" x="6867" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-79" x="7229" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-54" x="7726" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-70" x="8681" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-28" x="9184" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-54" x="9574" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-29" x="10278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-64" x="10918" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-54" x="11441" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-6"> E [T] = \ int_0 ^ \ infty T ~ p (T) ~ dT </script></p><br>  Na simula√ß√£o anterior, selecionamos <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-47"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-48">E</span><span class="MJXp-mo" id="MJXp-Span-49" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50">T</span><span class="MJXp-mo" id="MJXp-Span-51" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-52" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-53">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-55">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-56">u</span><span class="MJXp-mo" id="MJXp-Span-57" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-58">10</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="17.207ex" height="2.66ex" viewBox="0 -832 7408.6 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-45" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-5B" x="764" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-54" x="1043" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-5D" x="1747" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-3D" x="2303" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-74" x="3610" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-61" x="3971" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-75" x="4501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-3D" x="5351" y="0"></use><g transform="translate(6407,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-30" x="500" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-7"> E [T] = \ tau = 10 </script>  minutos. <br><br>  Quando um passageiro chega a um ponto de √¥nibus a qualquer momento, a probabilidade de tempo de espera depender√° n√£o apenas <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-59"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-60">p</span><span class="MJXp-mo" id="MJXp-Span-61" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-62">T</span><span class="MJXp-mo" id="MJXp-Span-63" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.704ex" height="2.66ex" viewBox="-38.5 -832 2025.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex; margin-left: -0.089ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-70" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-28" x="503" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-54" x="893" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-29" x="1597" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-8"> p (T) </script>  mas tamb√©m de <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-64"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-65">T</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.636ex" height="2.057ex" viewBox="0 -780.1 704.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-54" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-9"> T </script>  : quanto maior o intervalo, maior n√∫mero de passageiros. <br><br>  Assim, podemos escrever a distribui√ß√£o do tempo de chegada do ponto de vista dos passageiros: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-66"><span class="MJXp-msubsup" id="MJXp-Span-67"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-68" style="margin-right: 0.05em;">p</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-69" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-70">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-72">p</span></span></span><span class="MJXp-mo" id="MJXp-Span-73" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-74">T</span><span class="MJXp-mo" id="MJXp-Span-75" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-76">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-77">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-78">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-79">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-83">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-84">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-86">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87">T</span><span class="MJXp-mtext" id="MJXp-Span-88">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89">p</span><span class="MJXp-mo" id="MJXp-Span-90" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-91">T</span><span class="MJXp-mo" id="MJXp-Span-92" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="26.043ex" height="2.78ex" viewBox="-38.5 -832 11212.7 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex; margin-left: -0.089ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-70" x="0" y="0"></use><g transform="translate(503,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-65" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-78" x="466" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-70" x="1039" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-28" x="1694" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-54" x="2083" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-29" x="2788" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-70" x="3427" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-72" x="3931" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-6F" x="4382" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-70" x="4868" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-74" x="5371" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-6F" x="5733" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-70" x="6218" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-61" x="6722" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-72" x="7251" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-61" x="7703" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-54" x="8232" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-70" x="9187" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-28" x="9690" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-54" x="10080" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-29" x="10784" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-10"> p_ {exp} (T) \ propto para T ~ p (T) </script></p><br>  A constante de proporcionalidade √© derivada da normaliza√ß√£o da distribui√ß√£o: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-93"><span class="MJXp-msubsup" id="MJXp-Span-94"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-95" style="margin-right: 0.05em;">p</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-96" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-97">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-98">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-99">p</span></span></span><span class="MJXp-mo" id="MJXp-Span-100" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-101">T</span><span class="MJXp-mo" id="MJXp-Span-102" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-103" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-104">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-105">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-106">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-107">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-108">c</span><span class="MJXp-mrow" id="MJXp-Span-109"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-110">T</span><span class="MJXp-mtext" id="MJXp-Span-111">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-112">p</span><span class="MJXp-mo" id="MJXp-Span-113" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-114">T</span><span class="MJXp-mo" id="MJXp-Span-115" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mrow" id="MJXp-Span-116"><span class="MJXp-mtext" id="MJXp-Span-117">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-118">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119">n</span><span class="MJXp-msubsup" id="MJXp-Span-120"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-121" style="margin-right: 0.05em;">t</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mtext" id="MJXp-Span-123">&nbsp;</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mn" id="MJXp-Span-122">0</span></span></span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-125">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-126">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-127">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-128">y</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-129">T</span><span class="MJXp-mtext" id="MJXp-Span-130">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-131">p</span><span class="MJXp-mo" id="MJXp-Span-132" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133">T</span><span class="MJXp-mo" id="MJXp-Span-134" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-135">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-136">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-137">T</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="42.952ex" height="2.901ex" viewBox="-38.5 -832 18493.2 1249" role="img" focusable="false" style="vertical-align: -0.969ex; margin-left: -0.089ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-70" x="0" y="0"></use><g transform="translate(503,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-65" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-78" x="466" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-70" x="1039" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-28" x="1694" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-54" x="2083" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-29" x="2788" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-3D" x="3455" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-66" x="4761" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-72" x="5312" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-61" x="5763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-63" x="6293" y="0"></use><g transform="translate(6726,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-70" x="954" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-28" x="1458" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-54" x="1847" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-29" x="2552" y="0"></use></g><g transform="translate(9668,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-69" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-6E" x="595" y="0"></use><g transform="translate(1196,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-30" x="511" y="-435"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-69" x="2011" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-6E" x="2356" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-66" x="2957" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-74" x="3507" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-79" x="3869" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-54" x="4366" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-70" x="5321" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-28" x="5824" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-54" x="6214" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMAIN-29" x="6918" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-64" x="7558" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428610/&amp;usg=ALkJrhgOKql_l1lvU-vC3RebME-TLpXYVQ#MJMATHI-54" x="8081" y="0"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-11"> p_ {exp} (T) = \ frac {T ~ p (T)} {\ int_0 ^ \ infty T ~ p (T) ~ dT} </script></p><br>  Simplifica para <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-138"><span class="MJXp-msubsup" id="MJXp-Span-139"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140" style="margin-right: 0.05em;">p</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-141" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-142">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-143">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-144">p</span></span></span><span class="MJXp-mo" id="MJXp-Span-145" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146">T</span><span class="MJXp-mo" id="MJXp-Span-147" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-148" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-149">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-150">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-151">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-152">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-153">c</span><span class="MJXp-mrow" id="MJXp-Span-154"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-155">T</span><span class="MJXp-mtext" id="MJXp-Span-156">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-157">p</span><span class="MJXp-mo" id="MJXp-Span-158" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-159">T</span><span class="MJXp-mo" id="MJXp-Span-160" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mrow" id="MJXp-Span-161"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-162">E</span><span class="MJXp-mo" id="MJXp-Span-163" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-164">T</span><span class="MJXp-mo" id="MJXp-Span-165" style="margin-left: 0em; margin-right: 0em;">]</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-12"> p_ {exp} (T) = \ frac {T ~ p (T)} {E [T]} </script></p><br>  Ent√£o o tempo de espera <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-166"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-167">E</span><span class="MJXp-mo" id="MJXp-Span-168" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-169">W</span><span class="MJXp-mo" id="MJXp-Span-170" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-13"> E [W] </script>  ser√° metade do intervalo esperado para os passageiros, para que possamos gravar <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-171"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-172">E</span><span class="MJXp-mo" id="MJXp-Span-173" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-174">W</span><span class="MJXp-mo" id="MJXp-Span-175" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-176" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-177">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-178">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-179">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-180">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-181">c</span><span class="MJXp-mrow" id="MJXp-Span-182"><span class="MJXp-mn" id="MJXp-Span-183">1</span></span><span class="MJXp-mrow" id="MJXp-Span-184"><span class="MJXp-mn" id="MJXp-Span-185">2</span></span><span class="MJXp-msubsup" id="MJXp-Span-186"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-187" style="margin-right: 0.05em;">E</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-188" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-190">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-191">p</span></span></span><span class="MJXp-mo" id="MJXp-Span-192" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-193">T</span><span class="MJXp-mo" id="MJXp-Span-194" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-195" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-196">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-197">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-198">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-199">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-200">c</span><span class="MJXp-mrow" id="MJXp-Span-201"><span class="MJXp-mn" id="MJXp-Span-202">1</span></span><span class="MJXp-mrow" id="MJXp-Span-203"><span class="MJXp-mn" id="MJXp-Span-204">2</span></span><span class="MJXp-mtext" id="MJXp-Span-205">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-206">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-207">n</span><span class="MJXp-msubsup" id="MJXp-Span-208"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-209" style="margin-right: 0.05em;">t</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mtext" id="MJXp-Span-211">&nbsp;</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mn" id="MJXp-Span-210">0</span></span></span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-212">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-213">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-214">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-215">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-216">y</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-217">T</span><span class="MJXp-mtext" id="MJXp-Span-218">&nbsp;</span><span class="MJXp-msubsup" id="MJXp-Span-219"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-220" style="margin-right: 0.05em;">p</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-221" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-222">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-223">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-224">p</span></span></span><span class="MJXp-mo" id="MJXp-Span-225" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-226">T</span><span class="MJXp-mo" id="MJXp-Span-227" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-228">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-229">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-230">T</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-14"> E [W] = \ frac {1} {2} E_ {exp} [T] = \ frac {1} {2} \ int_0 ^ \ infty T ~ p_ {exp} (T) ~ dT </script></p><br>  que pode ser reescrito de uma maneira mais compreens√≠vel: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-231"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-232">E</span><span class="MJXp-mo" id="MJXp-Span-233" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-234">W</span><span class="MJXp-mo" id="MJXp-Span-235" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-236" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-237">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-238">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-239">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-240">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-241">c</span><span class="MJXp-mrow" id="MJXp-Span-242"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-243">E</span><span class="MJXp-mo" id="MJXp-Span-244" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-245"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-246" style="margin-right: 0.05em;">T</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-247" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-248" style="margin-left: 0em; margin-right: 0em;">]</span></span><span class="MJXp-mrow" id="MJXp-Span-249"><span class="MJXp-mn" id="MJXp-Span-250">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-251">E</span><span class="MJXp-mo" id="MJXp-Span-252" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-253">T</span><span class="MJXp-mo" id="MJXp-Span-254" style="margin-left: 0em; margin-right: 0em;">]</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-15"> E [W] = \ frac {E [T ^ 2]} {2E [T]} </script></p><br>  e agora resta apenas escolher um formul√°rio para <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-255"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-256">p</span><span class="MJXp-mo" id="MJXp-Span-257" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-258">T</span><span class="MJXp-mo" id="MJXp-Span-259" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-16"> p (T) </script>  e calcule as integrais. <br><br><h3>  A escolha de <i>p (T)</i> </h3><br>  Tendo recebido um modelo formal, qual √© uma distribui√ß√£o razo√°vel para <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-260"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-261">p</span><span class="MJXp-mo" id="MJXp-Span-262" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-263">T</span><span class="MJXp-mo" id="MJXp-Span-264" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-17"> p (T) </script>  ?  Vamos desenhar uma imagem da distribui√ß√£o <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-265"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-266">p</span><span class="MJXp-mo" id="MJXp-Span-267" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-268">T</span><span class="MJXp-mo" id="MJXp-Span-269" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-18"> p (T) </script>  dentro de nossas chegadas simuladas, plotando um histograma dos intervalos entre as chegadas: <br><br><pre> <code class="python hljs">%matplotlib inline <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> matplotlib.pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt plt.style.use(<span class="hljs-string"><span class="hljs-string">'seaborn'</span></span>) plt.hist(intervals, bins=np.arange(<span class="hljs-number"><span class="hljs-number">80</span></span>), density=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) plt.axvline(intervals.mean(), color=<span class="hljs-string"><span class="hljs-string">'black'</span></span>, linestyle=<span class="hljs-string"><span class="hljs-string">'dotted'</span></span>) plt.xlabel(<span class="hljs-string"><span class="hljs-string">'Interval between arrivals (minutes)'</span></span>) plt.ylabel(<span class="hljs-string"><span class="hljs-string">'Probability density'</span></span>);</code> </pre> <br><img src="https://habrastorage.org/webt/ht/ed/mh/htedmhiish0h3xwpaggpgbfqr30.png"><br><br>  Aqui, a linha tracejada vertical mostra um intervalo m√©dio de cerca de 10 minutos.  Isso √© muito semelhante a uma distribui√ß√£o exponencial, e n√£o por acidente: nossa simula√ß√£o da hora de chegada do √¥nibus na forma de n√∫meros aleat√≥rios uniformes est√° muito pr√≥xima do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">processo de Poisson</a> e, para esse processo, a distribui√ß√£o de intervalos √© exponencial. <br><br>  (Nota: no nosso caso, este √© apenas um expoente aproximado; de fato, os intervalos <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-270"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-271">T</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-19"> T </script>  entre <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-272"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-273">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-20"> N </script>  pontos uniformemente selecionados dentro de um intervalo de tempo <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-274"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-275">N</span><span class="MJXp-mtext" id="MJXp-Span-276">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-277">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-278">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-279">u</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-21"> N \ tau </script>  combinar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">distribui√ß√£o beta</a> <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-280"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-281">T</span><span class="MJXp-mrow" id="MJXp-Span-282"><span class="MJXp-mo" id="MJXp-Span-283" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mo" id="MJXp-Span-284" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-285">N</span><span class="MJXp-mtext" id="MJXp-Span-286">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-287">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-288">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-289">u</span><span class="MJXp-mo" id="MJXp-Span-290" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-291">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-292">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-293">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-294">m</span><span class="MJXp-mtext" id="MJXp-Span-295">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-296">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-297">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-298">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-299">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-300">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-301">m</span><span class="MJXp-mrow" id="MJXp-Span-302"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-303">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-304">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-305">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-306">a</span></span><span class="MJXp-mo" id="MJXp-Span-307" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mn" id="MJXp-Span-308">1</span><span class="MJXp-mo" id="MJXp-Span-309" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-310">N</span><span class="MJXp-mo" id="MJXp-Span-311" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-22"> T / (N \ tau) \ sim \ mathrm {Beta} [1, N] </script>  que est√° no grande limite <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-312"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-313">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-23"> N </script>  aproximando <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-314"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-315">T</span><span class="MJXp-mtext" id="MJXp-Span-316">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-317">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-318">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-319">m</span><span class="MJXp-mtext" id="MJXp-Span-320">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-321">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-322">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-323">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-324">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-325">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-326">m</span><span class="MJXp-mrow" id="MJXp-Span-327"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-328">E</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-329">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-330">p</span></span><span class="MJXp-mo" id="MJXp-Span-331" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mn" id="MJXp-Span-332">1</span><span class="MJXp-mrow" id="MJXp-Span-333"><span class="MJXp-mo" id="MJXp-Span-334" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mtext" id="MJXp-Span-335">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-336">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-337">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-338">u</span><span class="MJXp-mo" id="MJXp-Span-339" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-24"> T \ sim \ mathrm {Exp} [1 / \ tau] </script>  .  Para obter mais informa√ß√µes, voc√™ pode ler, por exemplo, uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">postagem no StackExchange</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">este</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">t√≥pico</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">no Twitter</a> ). <br><br>  A distribui√ß√£o exponencial de intervalos implica que o hor√°rio de chegada segue o processo de Poisson.  Para verificar esse racioc√≠nio, verificamos a presen√ßa de outra propriedade do processo de Poisson: se o n√∫mero de chegadas em um per√≠odo fixo de tempo √© uma distribui√ß√£o de Poisson.  Para fazer isso, dividimos as chegadas simuladas em blocos de tempo: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> scipy.stats <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> poisson <span class="hljs-comment"><span class="hljs-comment"># count the number of arrivals in 1-hour bins binsize = 60 binned_arrivals = np.bincount((bus_arrival_times // binsize).astype(int)) x = np.arange(20) # plot the results plt.hist(binned_arrivals, bins=x - 0.5, density=True, alpha=0.5, label='simulation') plt.plot(x, poisson(binsize / tau).pmf(x), 'ok', label='Poisson prediction') plt.xlabel('Number of arrivals per hour') plt.ylabel('frequency') plt.legend();</span></span></code> </pre> <br><img src="https://habrastorage.org/webt/pv/y8/re/pvy8re5_x-m7h7rhivve1gbesaw.png"><br><br>  A estreita correspond√™ncia de valores emp√≠ricos e te√≥ricos nos convence da corre√ß√£o de nossa interpreta√ß√£o: para grandes <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-340"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-341">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-25"> N </script>  O tempo de chegada simulado √© bem descrito pelo processo de Poisson, que implica intervalos distribu√≠dos exponencialmente. <br><br>  Isso significa que a distribui√ß√£o de probabilidade pode ser escrita: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-342"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-343">p</span><span class="MJXp-mo" id="MJXp-Span-344" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-345">T</span><span class="MJXp-mo" id="MJXp-Span-346" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-347" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-348">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-349">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-350">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-351">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-352">c</span><span class="MJXp-mrow" id="MJXp-Span-353"><span class="MJXp-mn" id="MJXp-Span-354">1</span></span><span class="MJXp-mrow" id="MJXp-Span-355"><span class="MJXp-mtext" id="MJXp-Span-356">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-357">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-358">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-359">u</span></span><span class="MJXp-msubsup" id="MJXp-Span-360"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-361" style="margin-right: 0.05em;">e</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-362" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-363">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-364">T</span><span class="MJXp-mrow" id="MJXp-Span-365"><span class="MJXp-mo" id="MJXp-Span-366">/</span></span><span class="MJXp-mtext" id="MJXp-Span-367">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-368">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-369">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-370">u</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-26"> p (T) = \ frac {1} {\ tau} e ^ {- T / \ tau} </script></p><br>  Se substituirmos o resultado na f√≥rmula anterior, encontraremos o tempo m√©dio de espera para passageiros na parada: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-371"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-372">E</span><span class="MJXp-mo" id="MJXp-Span-373" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-374">W</span><span class="MJXp-mo" id="MJXp-Span-375" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-376" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-377">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-378">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-379">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-380">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-381">c</span><span class="MJXp-mrow" id="MJXp-Span-382"><span class="MJXp-mtext" id="MJXp-Span-383">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-384">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-385">n</span><span class="MJXp-msubsup" id="MJXp-Span-386"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-387" style="margin-right: 0.05em;">t</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mtext" id="MJXp-Span-389">&nbsp;</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mn" id="MJXp-Span-388">0</span></span></span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-390">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-391">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-392">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-393">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-394">y</span><span class="MJXp-msubsup" id="MJXp-Span-395"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-396" style="margin-right: 0.05em;">T</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-397" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mtext" id="MJXp-Span-398">&nbsp;</span><span class="MJXp-msubsup" id="MJXp-Span-399"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-400" style="margin-right: 0.05em;">e</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-401" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-402">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-403">T</span><span class="MJXp-mrow" id="MJXp-Span-404"><span class="MJXp-mo" id="MJXp-Span-405">/</span></span><span class="MJXp-mtext" id="MJXp-Span-406">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-407">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-408">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-409">u</span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-410"><span class="MJXp-mn" id="MJXp-Span-411">2</span><span class="MJXp-mtext" id="MJXp-Span-412">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-413">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-414">n</span><span class="MJXp-msubsup" id="MJXp-Span-415"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-416" style="margin-right: 0.05em;">t</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mtext" id="MJXp-Span-418">&nbsp;</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mn" id="MJXp-Span-417">0</span></span></span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-419">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-420">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-421">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-422">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-423">y</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-424">T</span><span class="MJXp-mtext" id="MJXp-Span-425">&nbsp;</span><span class="MJXp-msubsup" id="MJXp-Span-426"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-427" style="margin-right: 0.05em;">e</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-428" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-429">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-430">T</span><span class="MJXp-mrow" id="MJXp-Span-431"><span class="MJXp-mo" id="MJXp-Span-432">/</span></span><span class="MJXp-mtext" id="MJXp-Span-433">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-434">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-435">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-436">u</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-437" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-438">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-439">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-440">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-441">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-442">c</span><span class="MJXp-mrow" id="MJXp-Span-443"><span class="MJXp-mn" id="MJXp-Span-444">2</span><span class="MJXp-mtext" id="MJXp-Span-445">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-446">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-447">a</span><span class="MJXp-msubsup" id="MJXp-Span-448"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-449" style="margin-right: 0.05em;">u</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-450" style="vertical-align: 0.5em;">3</span></span></span><span class="MJXp-mrow" id="MJXp-Span-451"><span class="MJXp-mn" id="MJXp-Span-452">2</span><span class="MJXp-mo" id="MJXp-Span-453" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-454">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-455">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-456">a</span><span class="MJXp-msubsup" id="MJXp-Span-457"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-458" style="margin-right: 0.05em;">u</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-459" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-460" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mo" id="MJXp-Span-461" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-462">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-463">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-464">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-465">u</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-27"> E [W] = \ frac {\ int_0 ^ \ infty T ^ 2 ~ e ^ {- T / \ tau}} {2 \ int_0 ^ \ infty T ~ e ^ {- T / \ tau}} = \ frac {2 \ tau ^ 3} {2 (\ tau ^ 2)} = \ tau </script></p><br>  Para voos com chegadas pelo processo de Poisson, o tempo de espera esperado √© id√™ntico ao intervalo m√©dio entre as chegadas. <br><br>  Esse problema pode ser argumentado da seguinte forma: o processo de Poisson √© um processo <i>sem mem√≥ria</i> , ou seja, a hist√≥ria dos eventos n√£o tem nada a ver com o tempo esperado do pr√≥ximo evento.  Portanto, na chegada a um ponto de √¥nibus, o tempo m√©dio de espera de um √¥nibus √© sempre o mesmo: no nosso caso, s√£o 10 minutos, independentemente de quanto tempo se passou desde o √¥nibus anterior!  N√£o importa quanto tempo voc√™ est√° esperando: o tempo esperado para o pr√≥ximo √¥nibus √© sempre exatamente 10 minutos: no processo Poisson, voc√™ n√£o recebe um "cr√©dito" pelo tempo gasto em espera. <br><br><h1>  Tempo limite da realidade </h1><br>  O exposto acima √© bom se as chegadas reais de √¥nibus forem realmente descritas pelo processo de Poisson, mas √© isso? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/779/e4c/2c7/779e4c2c71ede6d1e7708035d37b3fd4.png"><br>  <i><font color="gray">Fonte: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Esquema de transporte p√∫blico de Seattle</a></font></i> <br><br>  Vamos tentar determinar como o paradoxo do tempo de espera √© consistente com a realidade.  Para fazer isso, examinaremos alguns dos dados dispon√≠veis para download aqui: <a href="">arrival_times.csv</a> (arquivo CSV de 3 MB).  O conjunto de dados cont√©m os hor√°rios de chegada planejados e reais para os √¥nibus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RapidRide</a> C, D e E na 3¬™ e Pike Bus Stop, no centro de Seattle.  Os dados foram registrados no segundo trimestre de 2016 (muito obrigado a Mark Hallenback, do Washington State Transportation Center, por esse arquivo!). <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd df = pd.read_csv(<span class="hljs-string"><span class="hljs-string">'arrival_times.csv'</span></span>) df = df.dropna(axis=<span class="hljs-number"><span class="hljs-number">0</span></span>, how=<span class="hljs-string"><span class="hljs-string">'any'</span></span>) df.head()</code> </pre> <br><table border="1"><thead><tr><th></th><th>  OPD_DATE </th><th>  VEHICLE_ID </th><th>  RTE </th><th>  DIR </th><th>  TRIP_ID </th><th>  STOP_ID </th><th>  STOP_NAME </th><th>  SCH_STOP_TM </th><th>  ACT_STOP_TM </th></tr></thead><tbody><tr><th>  0 0 </th><td>  26-03-2016 </td><td>  6201 </td><td>  673 </td><td>  S </td><td>  30908177 </td><td>  431 </td><td>  3RD AVE &amp; PIKE ST (431) </td><td>  01:11:57 </td><td>  01:13:19 </td></tr><tr><th>  1 </th><td>  26-03-2016 </td><td>  6201 </td><td>  673 </td><td>  S </td><td>  30908033 </td><td>  431 </td><td>  3RD AVE &amp; PIKE ST (431) </td><td>  23:19:57 </td><td>  23:16:13 </td></tr><tr><th>  2 </th><td>  26-03-2016 </td><td>  6201 </td><td>  673 </td><td>  S </td><td>  30908028 </td><td>  431 </td><td>  3RD AVE &amp; PIKE ST (431) </td><td>  21:19:57 </td><td>  21:18:46 </td></tr><tr><th>  3 </th><td>  26-03-2016 </td><td>  6201 </td><td>  673 </td><td>  S </td><td>  30908019 </td><td>  431 </td><td>  3RD AVE &amp; PIKE ST (431) </td><td>  19:04:57 </td><td>  19:01:49 </td></tr><tr><th>  4 </th><td>  26-03-2016 </td><td>  6201 </td><td>  673 </td><td>  S </td><td>  30908252 </td><td>  431 </td><td>  3RD AVE &amp; PIKE ST (431) </td><td>  16:42:57 </td><td>  16:42:39 </td></tr></tbody></table><br>  Escolhi os dados do RapidRide, inclusive porque, na maior parte do dia, os √¥nibus circulam em intervalos regulares de 10 a 15 minutos, sem mencionar o fato de eu ser um passageiro frequente da rota C. <br><br><h3>  Limpeza de dados </h3><br>  Primeiro, faremos uma pequena limpeza de dados para convert√™-los em uma visualiza√ß√£o conveniente: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># combine date and time into a single timestamp df['scheduled'] = pd.to_datetime(df['OPD_DATE'] + ' ' + df['SCH_STOP_TM']) df['actual'] = pd.to_datetime(df['OPD_DATE'] + ' ' + df['ACT_STOP_TM']) # if scheduled &amp; actual span midnight, then the actual day needs to be adjusted minute = np.timedelta64(1, 'm') hour = 60 * minute diff_hrs = (df['actual'] - df['scheduled']) / hour df.loc[diff_hrs &gt; 20, 'actual'] -= 24 * hour df.loc[diff_hrs &lt; -20, 'actual'] += 24 * hour df['minutes_late'] = (df['actual'] - df['scheduled']) / minute # map internal route codes to external route letters df['route'] = df['RTE'].replace({673: 'C', 674: 'D', 675: 'E'}).astype('category') df['direction'] = df['DIR'].replace({'N': 'northbound', 'S': 'southbound'}).astype('category') # extract useful columns df = df[['route', 'direction', 'scheduled', 'actual', 'minutes_late']].copy() df.head()</span></span></code> </pre> <br><table border="1"><thead><tr><th></th><th>  Rota </th><th>  Dire√ß√£o </th><th>  Graph </th><th>  Fato  chegada </th><th>  Atraso (min) </th></tr></thead><tbody><tr><th>  0 0 </th><td>  C </td><td>  sul </td><td>  2016-03-26 01:11:57 </td><td>  2016-03-26 01:13:19 </td><td>  1,366667 </td></tr><tr><th>  1 </th><td>  C </td><td>  sul </td><td>  2016-03-26 23:19:57 </td><td>  2016-03-26 23:16:13 </td><td>  -3.733333 </td></tr><tr><th>  2 </th><td>  C </td><td>  sul </td><td>  2016-03-26 21:19:57 </td><td>  2016-03-26 21:18:46 </td><td>  -1.183333 </td></tr><tr><th>  3 </th><td>  C </td><td>  sul </td><td>  2016-03-26 19:04:57 </td><td>  2016-03-26 19:01:49 </td><td>  -3.133333 </td></tr><tr><th>  4 </th><td>  C </td><td>  sul </td><td>  2016-03-26 16:42:57 </td><td>  2016-03-26 16:42:39 </td><td>  -0,300000 </td></tr></tbody></table><br><h1>  At√© que horas s√£o os √¥nibus? </h1><br>  Existem seis conjuntos de dados nesta tabela: dire√ß√µes norte e sul para cada rota C, D e E. Para se ter uma id√©ia de suas caracter√≠sticas, vamos construir um histograma do tempo real menos planejado de chegada para cada um desses seis: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> seaborn <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> sns g = sns.FacetGrid(df, row=<span class="hljs-string"><span class="hljs-string">"direction"</span></span>, col=<span class="hljs-string"><span class="hljs-string">"route"</span></span>) g.map(plt.hist, <span class="hljs-string"><span class="hljs-string">"minutes_late"</span></span>, bins=np.arange(<span class="hljs-number"><span class="hljs-number">-10</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>)) g.set_titles(<span class="hljs-string"><span class="hljs-string">'{col_name} {row_name}'</span></span>) g.set_axis_labels(<span class="hljs-string"><span class="hljs-string">'minutes late'</span></span>, <span class="hljs-string"><span class="hljs-string">'number of buses'</span></span>);</code> </pre> <br><img src="https://habrastorage.org/webt/0o/2e/rn/0o2ernq4wvnrkfbmz3si2ryup7q.png"><br><br>  √â l√≥gico supor que os √¥nibus estejam mais pr√≥ximos do hor√°rio no in√≠cio do percurso e se desviem mais dele at√© o final.  Os dados confirmam isso: nossa parada na rota sul C, bem como no norte e D e perto do in√≠cio da rota, e na dire√ß√£o oposta, n√£o muito longe do destino final. <br><br><h3>  Intervalos programados e observados </h3><br>  D√™ uma olhada nos intervalos de √¥nibus observados e planejados para essas seis rotas.  Vamos come√ßar com a fun√ß√£o <code>groupby</code> no Pandas para calcular estes intervalos: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">compute_headway</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(scheduled)</span></span></span><span class="hljs-function">:</span></span> minute = np.timedelta64(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'m'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> scheduled.sort_values().diff() / minute grouped = df.groupby([<span class="hljs-string"><span class="hljs-string">'route'</span></span>, <span class="hljs-string"><span class="hljs-string">'direction'</span></span>]) df[<span class="hljs-string"><span class="hljs-string">'actual_interval'</span></span>] = grouped[<span class="hljs-string"><span class="hljs-string">'actual'</span></span>].transform(compute_headway) df[<span class="hljs-string"><span class="hljs-string">'scheduled_interval'</span></span>] = grouped[<span class="hljs-string"><span class="hljs-string">'scheduled'</span></span>].transform(compute_headway)</code> </pre> <br><pre> <code class="python hljs">g = sns.FacetGrid(df.dropna(), row=<span class="hljs-string"><span class="hljs-string">"direction"</span></span>, col=<span class="hljs-string"><span class="hljs-string">"route"</span></span>) g.map(plt.hist, <span class="hljs-string"><span class="hljs-string">"actual_interval"</span></span>, bins=np.arange(<span class="hljs-number"><span class="hljs-number">50</span></span>) + <span class="hljs-number"><span class="hljs-number">0.5</span></span>) g.set_titles(<span class="hljs-string"><span class="hljs-string">'{col_name} {row_name}'</span></span>) g.set_axis_labels(<span class="hljs-string"><span class="hljs-string">'actual interval (minutes)'</span></span>, <span class="hljs-string"><span class="hljs-string">'number of buses'</span></span>);</code> </pre> <br><img src="https://habrastorage.org/webt/ke/ny/ao/kenyaoyjnxeppoyligelobkrud8.png"><br><br>  J√° √© evidente que os resultados n√£o s√£o muito semelhantes √† distribui√ß√£o exponencial do nosso modelo, mas isso ainda n√£o diz nada: as distribui√ß√µes podem ser afetadas por intervalos inconsistentes no gr√°fico. <br><br>  Vamos repetir a constru√ß√£o dos diagramas, considerando os intervalos de chegada planejados e n√£o os observados: <br><br><pre> <code class="python hljs">g = sns.FacetGrid(df.dropna(), row=<span class="hljs-string"><span class="hljs-string">"direction"</span></span>, col=<span class="hljs-string"><span class="hljs-string">"route"</span></span>) g.map(plt.hist, <span class="hljs-string"><span class="hljs-string">"scheduled_interval"</span></span>, bins=np.arange(<span class="hljs-number"><span class="hljs-number">20</span></span>) - <span class="hljs-number"><span class="hljs-number">0.5</span></span>) g.set_titles(<span class="hljs-string"><span class="hljs-string">'{col_name} {row_name}'</span></span>) g.set_axis_labels(<span class="hljs-string"><span class="hljs-string">'scheduled interval (minutes)'</span></span>, <span class="hljs-string"><span class="hljs-string">'frequency'</span></span>);</code> </pre> <br><img src="https://habrastorage.org/webt/sy/fl/78/syfl78sw0-kq5yvdddbhiquueyi.png"><br><br>  Isso mostra que, durante a semana, os √¥nibus circulam em intervalos diferentes, para que n√£o possamos estimar a precis√£o do paradoxo do tempo de espera usando informa√ß√µes reais do ponto de √¥nibus. <br><br><h3>  Criando hor√°rios uniformes </h3><br>  Embora o cronograma oficial n√£o forne√ßa intervalos uniformes, existem v√°rios intervalos de tempo espec√≠ficos com um grande n√∫mero de √¥nibus: por exemplo, quase 2.000 √¥nibus com rotas E indo para o norte com um intervalo planejado de 10 minutos.  Para descobrir se o paradoxo da lat√™ncia √© aplic√°vel, vamos agrupar os dados em rotas, dire√ß√µes e no intervalo planejado e, em seguida, empilh√°-los novamente como se eles tivessem acontecido sequencialmente.  Isso deve preservar todas as caracter√≠sticas relevantes dos dados de origem, facilitando a compara√ß√£o direta com as previs√µes do paradoxo da lat√™ncia. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">stack_sequence</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># first, sort by scheduled time data = data.sort_values('scheduled') # re-stack data &amp; recompute relevant quantities data['scheduled'] = data['scheduled_interval'].cumsum() data['actual'] = data['scheduled'] + data['minutes_late'] data['actual_interval'] = data['actual'].sort_values().diff() return data subset = df[df.scheduled_interval.isin([10, 12, 15])] grouped = subset.groupby(['route', 'direction', 'scheduled_interval']) sequenced = grouped.apply(stack_sequence).reset_index(drop=True) sequenced.head()</span></span></code> </pre> <br><table border="1"><thead><tr><th></th><th>  Rota </th><th>  Dire√ß√£o </th><th>  Hor√°rio </th><th>  Fato  chegada </th><th>  Atraso (min) </th><th>  Fato  intervalo </th><th>  Intervalo agendado </th></tr></thead><tbody><tr><th>  0 0 </th><td>  C </td><td>  norte </td><td>  10.0 </td><td>  12.400000 </td><td>  2.400.000 </td><td>  NaN </td><td>  10.0 </td></tr><tr><th>  1 </th><td>  C </td><td>  norte </td><td>  20,0 </td><td>  27.150000 </td><td>  7.150000 </td><td>  0,183333 </td><td>  10.0 </td></tr><tr><th>  2 </th><td>  C </td><td>  norte </td><td>  30,0 </td><td>  26.966667 </td><td>  -3.033333 </td><td>  14.566667 </td><td>  10.0 </td></tr><tr><th>  3 </th><td>  C </td><td>  norte </td><td>  40,0 </td><td>  35.516667 </td><td>  -4,483333 </td><td>  8.366667 </td><td>  10.0 </td></tr><tr><th>  4 </th><td>  C </td><td>  norte </td><td>  50,0 </td><td>  53.583333 </td><td>  3.583333 </td><td>  18.066667 </td><td>  10.0 </td></tr></tbody></table><br>  Nos dados apagados, √© poss√≠vel fazer um gr√°fico da distribui√ß√£o da apar√™ncia real dos √¥nibus ao longo de cada rota e dire√ß√£o com uma frequ√™ncia de chegada: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> route <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [<span class="hljs-string"><span class="hljs-string">'C'</span></span>, <span class="hljs-string"><span class="hljs-string">'D'</span></span>, <span class="hljs-string"><span class="hljs-string">'E'</span></span>]: g = sns.FacetGrid(sequenced.query(<span class="hljs-string"><span class="hljs-string">f"route == '</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{route}</span></span></span><span class="hljs-string">'"</span></span>), row=<span class="hljs-string"><span class="hljs-string">"direction"</span></span>, col=<span class="hljs-string"><span class="hljs-string">"scheduled_interval"</span></span>) g.map(plt.hist, <span class="hljs-string"><span class="hljs-string">"actual_interval"</span></span>, bins=np.arange(<span class="hljs-number"><span class="hljs-number">40</span></span>) + <span class="hljs-number"><span class="hljs-number">0.5</span></span>) g.set_titles(<span class="hljs-string"><span class="hljs-string">'{row_name} ({col_name:.0f} min)'</span></span>) g.set_axis_labels(<span class="hljs-string"><span class="hljs-string">'actual interval (min)'</span></span>, <span class="hljs-string"><span class="hljs-string">'count'</span></span>) g.fig.set_size_inches(<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>) g.fig.suptitle(<span class="hljs-string"><span class="hljs-string">f'</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{route}</span></span></span><span class="hljs-string"> line'</span></span>, y=<span class="hljs-number"><span class="hljs-number">1.05</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">14</span></span>)</code> </pre> <br><img src="https://habrastorage.org/webt/mb/ag/op/mbagopldum2pixrhjwxcphdhpyg.png"><br><br><img src="https://habrastorage.org/webt/6k/xv/fv/6kxvfv4xzngoy2rhphq71rcpgei.png"><br><br><img src="https://habrastorage.org/webt/vq/nh/wp/vqnhwpza9or7dnazjcd07zjcm40.png"><br><br>  Vemos que, para cada rota, a distribui√ß√£o dos intervalos observados √© quase gaussiana.  Ele atinge o pico pr√≥ximo ao intervalo planejado e possui um desvio padr√£o menor no in√≠cio da rota (sul para C, norte para D / E) e mais no final.  Mesmo √† vista, os intervalos reais de chegada definitivamente n√£o correspondem √† distribui√ß√£o exponencial, que √© a principal suposi√ß√£o na qual se baseia o paradoxo do tempo de espera. <br><br>  Podemos usar a fun√ß√£o de simula√ß√£o do tempo de espera que usamos acima para encontrar o tempo m√©dio de espera para cada rota, dire√ß√£o e hor√°rio de √¥nibus: <br><br><pre> <code class="python hljs">grouped = sequenced.groupby([<span class="hljs-string"><span class="hljs-string">'route'</span></span>, <span class="hljs-string"><span class="hljs-string">'direction'</span></span>, <span class="hljs-string"><span class="hljs-string">'scheduled_interval'</span></span>]) sims = grouped[<span class="hljs-string"><span class="hljs-string">'actual'</span></span>].apply(simulate_wait_times) sims.apply(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> times: <span class="hljs-string"><span class="hljs-string">"{0:.1f} +/- {1:.1f}"</span></span>.format(times.mean(), times.std()))</code> </pre> <br><pre>  Intervalo agendado da dire√ß√£o da rota
 C norte 10,0 7,8 +/- 12,5
                       12,0 7,4 +/- 5,7
                       15,0 8,8 +/- 6,4
          sul 10,0 6,2 +/- 6,3
                       12,0 6,8 +/- 5,2
                       15,0 8,4 +/- 7,3
 D norte 10,0 6,1 +/- 7,1
                       12,0 6,5 +/- 4,6
                       15,0 7,9 +/- 5,3
          sul 10,0 6,7 +/- 5,3
                       12,0 7,5 +/- 5,9
                       15,0 8,8 +/- 6,5
 E norte 10,0 5,5 +/- 3,7
                       12,0 6,5 +/- 4,3
                       15,0 7,9 +/- 4,9
          sul 10,0 6,8 +/- 5,6
                       12,0 7,3 +/- 5,2
                       15,0 8,7 +/- 6,0
 Nome: real, dtype: object </pre><br>  O tempo m√©dio de espera, talvez um minuto ou dois, √© mais da metade do intervalo planejado, mas n√£o √© igual ao intervalo planejado, como implica o paradoxo do tempo de espera.  Em outras palavras, o paradoxo da inspe√ß√£o √© confirmado, mas o paradoxo do tempo de espera n√£o √© verdadeiro. <br><br><h1>  Conclus√£o </h1><br>  O paradoxo da lat√™ncia foi um ponto de partida interessante para uma discuss√£o que incluiu modelagem, teoria das probabilidades e compara√ß√£o de suposi√ß√µes estat√≠sticas com a realidade.  Embora tenhamos confirmado que, no mundo real, as rotas de √¥nibus obedecem a algum tipo de paradoxo da inspe√ß√£o, a an√°lise acima mostra de forma bastante convincente: a principal suposi√ß√£o subjacente ao paradoxo do tempo de espera - que a chegada de √¥nibus segue as estat√≠sticas do processo de Poisson - n√£o √© justificada. <br><br>  Em retrospecto, isso n√£o √© surpreendente: o processo de Poisson √© um processo sem mem√≥ria que assume que a probabilidade de chegada √© completamente independente do tempo desde a chegada anterior.  De fato, um sistema de transporte p√∫blico bem gerenciado possui hor√°rios especialmente estruturados para evitar esse comportamento: os √¥nibus n√£o iniciam suas rotas em hor√°rios aleat√≥rios durante o dia, mas iniciam de acordo com o hor√°rio escolhido para o transporte mais eficiente dos passageiros. <br><br>  A li√ß√£o mais importante √© ter cuidado com as suposi√ß√µes que voc√™ faz sobre qualquer tarefa de an√°lise de dados.  √Äs vezes, o processo de Poisson √© uma boa descri√ß√£o para os dados da hora de chegada.  Mas apenas porque um tipo de dados soa como outro tipo de dados n√£o significa que as suposi√ß√µes permitidas para um sejam necessariamente v√°lidas para o outro.  Frequentemente, suposi√ß√µes que parecem corretas podem levar a conclus√µes que n√£o s√£o verdadeiras. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt428610/">https://habr.com/ru/post/pt428610/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt428600/index.html">SSDs de efeitos especiais ou o que estava faltando para modifica√ß√£o - Revis√£o da unidade HyperX FURY RGB</a></li>
<li><a href="../pt428602/index.html">Aprenda t√°ticas, t√©cnicas e conhecimentos comuns do advers√°rio (ATT @ CK). T√°ticas corporativas. Parte 4</a></li>
<li><a href="../pt428604/index.html">Campeonato Online de Ci√™ncia de Dados</a></li>
<li><a href="../pt428606/index.html">‚ÄúEntender como o sistema funciona permitiu muitos hackers‚Äù: Roy Beniosef no desenvolvimento do Android</a></li>
<li><a href="../pt428608/index.html">Participa√ß√µes da m√≠dia concordaram com Yandex para remover materiais pirateados</a></li>
<li><a href="../pt428612/index.html">Fun√ß√µes de ordem superior em JavaScript: o que √©?</a></li>
<li><a href="../pt428616/index.html">Converta arquivos XLS na planilha do Google usando o Script do Google Apps</a></li>
<li><a href="../pt428620/index.html">Como criar Roguelike</a></li>
<li><a href="../pt428624/index.html">Jeffrey Richter, Pavel Yosifovich, Greg Young e tudo-tudo-tudo. Hardcore e arquitetura no DotNext 2018 Moscow</a></li>
<li><a href="../pt428626/index.html">Como tornar a extens√£o no PHP7 mais dif√≠cil do que "ol√°, mundo" e n√£o ficar com os olhos vermelhos. Parte 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>