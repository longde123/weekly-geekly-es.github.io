<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèø‚Äçüåæ üí¢ ü§úüèΩ Detecci√≥n y reconocimiento de objetos de la c√°mara en ROS utilizando el paquete find_object_2d üéñÔ∏è üîô üëºüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Uno de los beneficios del Sistema Operativo Robot (ROS) es que tiene muchos paquetes que pueden reutilizarse en nuestras aplicaciones. En nuestro caso...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Detecci√≥n y reconocimiento de objetos de la c√°mara en ROS utilizando el paquete find_object_2d</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/414991/"><img src="https://habrastorage.org/webt/7q/zp/ph/7qzpphbikbtdljto9uy0xkyrkoe.png"><br><br>  Uno de los beneficios del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Sistema Operativo Robot (ROS)</a> es que tiene muchos paquetes que pueden reutilizarse en nuestras aplicaciones.  En nuestro caso, queremos introducir un sistema de reconocimiento y detecci√≥n de objetos.  El paquete <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">find_object_2d</a> implementa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">detectores y descriptores de funci√≥n SURF, SIFT, ORB, FAST y BRIEF para detectar objetos</a> .  Usando la interfaz gr√°fica provista por este paquete, podemos marcar los objetos que queremos detectar y guardarlos para futuras detecciones.  El nodo detector detectar√° objetos en las im√°genes de la c√°mara y publicar√° los detalles del objeto a trav√©s del sujeto.  Usando un sensor 3D, puede evaluar la profundidad y orientaci√≥n de un objeto. <br><br>  Al final del art√≠culo, prueba de video en el ejemplo de algoritmos ORB y SIFT. <br><a name="habracut"></a><br><h4>  Establecer find_object_2d </h4><br>  Instalar este paquete es bastante simple.  Aqu√≠ est√° el comando para instalarlo en Ubuntu 16.04 y ROS Kinetic: <br><br><pre><code class="bash hljs">$ sudo apt-get install ros-kinetic-find-object-2d</code> </pre> <br><h4>  Instalar desde la fuente </h4><br>  Cambie al espacio de trabajo ROS: <br><br><pre> <code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ~/catkin_ws/src</code> </pre> <br>  Copie el c√≥digo fuente a la carpeta src: <br><br><pre> <code class="bash hljs">$ git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/introlab/find-object.git src/find_object_2d</code> </pre> <br>  Crea un espacio de trabajo: <br><br><pre> <code class="bash hljs">$ catkin_make</code> </pre> <br><h4>  Ejecutar nodos find_object_2d usando c√°maras web </h4><br>  El siguiente es el procedimiento para iniciar los nodos del detector para una c√°mara web.  Si queremos detectar un objeto usando una c√°mara web, primero necesitamos instalar el paquete usb_cam (ver art√≠culo anterior). <br><br>  1. Lanzar roscore: <br><br><pre> <code class="bash hljs">$ roscore</code> </pre> <br>  2.1 Conecte la c√°mara USB a la computadora y ejecute el controlador usb_cam ROS: <br><br><pre> <code class="bash hljs">$ roslaunch usb_cam usb_cam-test.launch</code> </pre> <br>  Esto iniciar√° el controlador ROS para c√°maras web USB, y puede ver los temas en este controlador utilizando el comando de lista rostopic.  La lista de temas en el controlador se muestra aqu√≠: <br><br><img src="https://habrastorage.org/webt/zs/vp/pm/zsvppmawbbqqmjbvbfwythvos0w.png"><br>  <i>Temas publicados desde el controlador de la c√°mara</i> <br><br>  2.2 Una forma alternativa de transmitir video desde la c√°mara a trav√©s de uvc_camera: <br><br><pre> <code class="bash hljs">$ rosrun uvc_camera uvc_camera_node</code> </pre> <br>  3. De la lista de temas, vamos a utilizar el tema de la imagen en bruto de la c√°mara, que se publica en el tema / usb_cam / image_raw.  Si recibe este tema, el siguiente paso es iniciar el nodo de descubrimiento de objetos.  El siguiente comando iniciar√° el nodo de descubrimiento de objetos: <br><br><pre> <code class="bash hljs">$ rosrun find_object_2d find_object_2d image:=/usb_cam/image_raw</code> </pre> <br>  Este comando abrir√° la ventana de detecci√≥n de objetos en la que vemos el canal de la c√°mara y las caracter√≠sticas de los objetos. <br><br>  4. Entonces, ¬øc√≥mo podemos usarlo para detectar un objeto?  Los siguientes son los procedimientos para realizar el descubrimiento b√°sico con esta herramienta: <br><br><img src="https://habrastorage.org/webt/lv/sn/yz/lvsnyzuixfcv144mlk-1z0vx6aa.png"><br>  <i>Ventana de detecci√≥n de objetos encontrados</i> <br><br>  5. Puede hacer clic derecho en el panel lateral izquierdo (Objetos) de esta ventana, y tendr√° la oportunidad de agregar objetos de la escena.  Si selecciona esta opci√≥n, se le pedir√° que marque un objeto de la escena actual y, una vez que se complete el marcado, el objeto marcado comenzar√° a rastrearse desde la escena.  La captura de pantalla anterior muestra el primer paso en el que se captura una escena con un objeto. <br><br>  6. Despu√©s de alinear el objeto hacia la c√°mara, haga clic en el bot√≥n "Tomar foto" para hacer clic en el objeto: <br><br><img src="https://habrastorage.org/webt/hl/za/ae/hlzaaepyjinuabd4fc4eqqlplci.png"><br>  <i>Asistente para agregar objetos para capturar un objeto</i> <br><br>  7. La siguiente ventana es para marcar un objeto desde el enlace actual.  La siguiente figura muestra esto.  Podemos usar el cursor del mouse para marcar un objeto.  Haga clic en el bot√≥n "Siguiente" para recortar el objeto, y puede continuar con el siguiente paso: <br><br><img src="https://habrastorage.org/webt/l6/_g/gu/l6_gguvtcz0mizv8omso9isjgf8.png"><br>  <i>Asistente para agregar objetos para etiquetar un objeto</i> <br><br>  8. Despu√©s de recortar el objeto, le mostrar√° el n√∫mero total de descriptores de funciones para el objeto, y puede hacer clic en el bot√≥n "Finalizar" para agregar una plantilla de objeto para su detecci√≥n.  La siguiente figura muestra el √∫ltimo paso para agregar una plantilla de objeto a esta aplicaci√≥n de detector: <br><br><img src="https://habrastorage.org/webt/g9/9-/qk/g99-qksfdknlh4-aj6r7buraefw.png"><br>  <i>√öltimo paso del Asistente para agregar caracter√≠sticas</i> <br><br>  9. ¬°Felicidades!  Has a√±adido un objeto para descubrir.  Ahora puede ver la detecci√≥n que se muestra en la siguiente toma.  Puede ver el cuadro delimitador alrededor del objeto detectado: <br><br><img src="https://habrastorage.org/webt/7t/qz/px/7tqzpxjvxjpoopnd17ok0-5zjpc.png"><br>  <i>Descubrimiento de lanzamiento del asistente de b√∫squeda de objetos</i> <br><br>  10. ¬øEs esto suficiente?  ¬øQu√© tal la posici√≥n del objeto?  Podemos conseguir <br>  posici√≥n del objeto usando el siguiente comando: <br><br><pre> <code class="bash hljs">$ rosrun find_object_2d print_objects_detected</code> </pre> <br><img src="https://habrastorage.org/webt/yu/go/rg/yugorgxownwmuoh0znkplishewu.png"><br>  <i>Detalles de la propiedad</i> <br><br>  11. Tambi√©n puede obtener informaci√≥n completa sobre el objeto detectado de <br>  / objeto del tema.  Este tema publica una matriz de multidifusi√≥n que consta del ancho y alto del objeto y la matriz de homograf√≠a para calcular la posici√≥n y orientaci√≥n del objeto y sus valores de escala y desplazamiento.  Puede obtener el eco del tema / objetos como este: <br><br><img src="https://habrastorage.org/webt/4m/q0/5n/4mq05nsif6cqsjum-uczmyroeuq.png"><br>  <i>Valores de tema / objeto</i> <br><br>  12. Podemos calcular la nueva posici√≥n y orientaci√≥n a partir de las siguientes ecuaciones: <br><br><img src="https://habrastorage.org/webt/m8/yz/ot/m8yzotihqpdze8ntccnrjiyrou0.png"><br>  <i>La ecuaci√≥n para calcular la posici√≥n del objeto.</i> <br><br>  Aqu√≠ H es la homograf√≠a de una matriz 3 √ó 3, (x1, y1) es la posici√≥n del objeto en la imagen almacenada y (x2, y2) es la posici√≥n calculada del objeto en el cuadro actual. <br>  Puede verificar el c√≥digo fuente del nodo print_objected_src para obtener la conversi√≥n utilizando la matriz de homograf√≠a. <br><br>  <a href="">Aqu√≠ est√° el c√≥digo fuente de este nodo.</a> <br><br><h4>  Prueba de video del paquete find_object_2d usando el ejemplo de los algoritmos ORB y SIFT </h4><br><iframe width="560" height="315" src="https://www.youtube.com/embed/0cJ2KRNjLC4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Resumen del algoritmo: ORB es r√°pido, pero no ve objetos remotos y, a menudo, no determina correctamente la geometr√≠a.  SIFT ve objetos remotos, determina con precisi√≥n la geometr√≠a, los contras requieren grandes recursos inform√°ticos y se pagan para uso comercial. <br><br>  <b>Preguntas a resolver por el robot <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">EduMIP</a></b> : <br><br><ol><li>  Reciba de la c√°mara Logitech C920 en BeagleBone Blue un video ya codificado en hardware y transfi√©ralo de esta forma a una computadora grande en ROS. </li><li>  Conecte los sensores de distancia VL6180X, Vl53l0x y el parachoques para construir un mapa en ROS. (Accesorios ya pedidos) </li><li>  Escriba un algoritmo en ROS que procese los datos del mapa y los objetos detectados desde la c√°mara y construya una ruta de movimiento basada en ellos. </li></ol><br>  Si hay entusiastas de la rob√≥tica como yo que est√°n listos para unirse al proyecto, entonces escriba un correo electr√≥nico personal, necesito ayuda sobre los problemas anteriores. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es414991/">https://habr.com/ru/post/es414991/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es414977/index.html">Conocimiento de las exhibiciones de equipos de audio y video: de pantalla ancha a especializada - segunda parte</a></li>
<li><a href="../es414979/index.html">Concepto de Bitcoin MAST</a></li>
<li><a href="../es414981/index.html">Biblioteca no escrita</a></li>
<li><a href="../es414983/index.html">Alan Kay: ¬øQu√© hizo que Xerox PARC fuera especial y qui√©n todav√≠a se parece a ellos hoy?</a></li>
<li><a href="../es414989/index.html">Sat√©lite de desechos espaciales lanzado desde la EEI</a></li>
<li><a href="../es414993/index.html">Identificaci√≥n y clasificaci√≥n de comentarios t√≥xicos. Conferencia en Yandex</a></li>
<li><a href="../es414995/index.html">Notas de aficionados, o The Tale of How the Scala FPGA Developer Configured</a></li>
<li><a href="../es414997/index.html">ML-Blitz: an√°lisis de las tareas de la primera ronda de clasificaci√≥n</a></li>
<li><a href="../es414999/index.html">Probador 3D de vigilancia y termistor</a></li>
<li><a href="../es415001/index.html">El operador del autom√≥vil rob√≥tico Uber, que derrib√≥ a un ciclista, vio el espect√°culo de Voz en el momento de la colisi√≥n.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>