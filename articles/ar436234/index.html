<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐บ ๐ต๐ผ โ๏ธ ููุฒุนู ูุงุณูู ุงูุชุทุจููููู ๐๐ฝ ๐คธ๐ฝ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุงูุฏุงูุน 


 ุนูุฏูุง ุจุฏุฃุช ูู ุชุนูู Haskell ูุฃูู ูุฑุฉ ุ ุดุนุฑุช ุจุงูุงูุฒุนุงุฌ ุงูุดุฏูุฏ ูู ุงูุงุณุชุฎุฏุงู ุงููุงุณุน ุงููุทุงู ููุชุฌุงุฑุจ ุงููุนูุฏุฉ ุจุฏูุงู ูู ุฃู ุญููู ูุญุฏุฏุฉ. ูุจุฏู ูู ุฃูู ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ููุฒุนู ูุงุณูู ุงูุชุทุจููููู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436234/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/tq/9u/iw/tq9uiw8d_nbb1bbwrfdg1euyvci.png"></p><br><h1 id="motivaciya" style=";text-align:right;direction:rtl">  ุงูุฏุงูุน </h1><br><p style=";text-align:right;direction:rtl">  ุนูุฏูุง ุจุฏุฃุช ูู ุชุนูู Haskell ูุฃูู ูุฑุฉ ุ ุดุนุฑุช ุจุงูุงูุฒุนุงุฌ ุงูุดุฏูุฏ ูู ุงูุงุณุชุฎุฏุงู ุงููุงุณุน ุงููุทุงู ููุชุฌุงุฑุจ ุงููุนูุฏุฉ ุจุฏูุงู ูู ุฃู ุญููู ูุญุฏุฏุฉ.  ูุจุฏู ูู ุฃูู ูู ุงูุฃูุถู ุฏุงุฆููุง ุงุชุจุงุน ูุจุฏุฃ KISS ููุชุงุจุฉ ุงูุฏุฑุงุฌุงุช ุจุงุณุชุฎุฏุงู ุชุตูููุงุช ุงููุบุฉ ุงูุฃุณุงุณูุฉ ุจุฏูุงู ูู ููู ูู ูุฆุงุช ุงูุฃููุงุน ูุฐู ูู ุฃุฌู ูุชุงุจุฉ ุจููุฉ ููุงุณุจุฉ ูู ุงูููุชุฑุถ ูู ููุงู ูุง. </p><br><p style=";text-align:right;direction:rtl">  ูู ููู ูุฏู ูุซุงู ุฌูุฏ ุญูุซ ุณุชุคุชู ุงูุฌููุฏ ุงููุจุฐููุฉ ูู ุชุทููุฑ "ุงูุนุชุงุฏ" ุซูุงุฑูุง.  ุจุงููุณุจุฉ ูู ุ ูุงู ุฃุญุฏ ุฃูุซุฑ ุงูุฃูุซูุฉ ูุฌุงุญูุง ูู ุงููุญูููู.  ุงูุขู ุฃุชุญุฏุซ ุนููู ูุซูุฑูุง ุนูุฏูุง ูุณุฃููููู ุนู ุงูููุงู ุงูุดุงุฆุนุฉ ุงูุชู ููููู ุงุณุชุฎุฏุงููุง ุจุดูู ุฌููู Haskell. </p><br><p style=";text-align:right;direction:rtl"> ุฃุฑูุฏ ุฃู ุฃูุฏู ูููุจุชุฏุฆูู ุฃูุถูุง ุจูุฐู ุงูุทุฑููุฉ ูุฅูุดุงุก ูุงุนุฏุฉ ุตุบูุฑุฉ ูู ุงููุธุงุฆู ูู ุงูุจุฏุงูุฉ ููุชูููุฐ ุงููุฑูุญ ูููุญููุงุช ุ ุซู ุงุณุชุฎุฏููุง ููุชุงุจุฉ ุงููุญูู ุงููุบูู ุงูุฎุงุต ุจูู ุ ูุงูุฐู ุณููุฑุฑ ุฑูุฒู ุญุฑูููุง ุงูููุงุนุฏ ุงููุบููุฉ ุงููุณุชุฎุฏูุฉ ูู ุงูุชุญููู. </p><br><p style=";text-align:right;direction:rtl">  ุขูู ุฃู ูุณุงุนุฏ ุฐูู ุฃู ุดุฎุต ุนูู ุงูุชุบูุจ ุนูู ุงูุฎูู ูู ุงูุชุฌุฑูุฏุงุช ูุชุนููููู ููููุฉ ุงุณุชุฎุฏุงูู ุจุดูู <em>ููุงุณุจ</em> (ูุนู ุ ูุง ุฒูุช ุฃุนุชูุฏ ุฃูู ูู ุงูุฃูุถู ูู ุจุนุถ ุงูุฃุญูุงู ูุชุงุจุฉ ุฏุฑุงุฌุฉ ููุงุฆูุฉ). </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  ููุณ ูุฏู ุฃู ุบุฑุถ ุฃู ุฑุบุจุฉ ูู ุฌุนู ุฏูุฑุฉ Haskell ูู ุงูุจุฏุงูุฉ ูู ููุงู ุ ูุฐูู ุงูุชุฑุถ ุฃู ุงููุงุฑุฆ ูุนุชุงุฏ ุนูู ุจูุงุก ุงูุฌููุฉ ูุงูุจุฑุงูุฌ ุงูุจุณูุทุฉ ุงููุทูุฑุฉ ุจุดูู ูุณุชูู.  ููุท ูู ุญุงูุฉ ุ ุณุฃุชุญุฏุซ ุจุงุฎุชุตุงุฑ ุนู ูุฆุงุช ุงููุชุงุจุฉ ูุจู ุงูุงูุชูุงู ุฅูู ูุตู ุงูุชูููุฐ. </p><br><p style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ูุฃููุฆู ุงูุฐูู ูู ููุชุจูุง ุฅูู Haskell ุฃุจุฏูุง ุ ููููู ูุฑูุฏูู ุฃู ูููููุง ูุง ูุญุฏุซ ููุง ุ ูุฅููู ุฃูุตู ุจุฃู ุชูุธุฑ ุฃููุงู ุฅูู ุงูุตูุญุฉ ุฐุงุช ุงูุตูุฉ ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Learn X ุฎูุงู Y.</a>  ููุชุงุจ ููุชุงุฒ ุจุงููุบุฉ ุงูุฑูุณูุฉ ูููุจุชุฏุฆูู ุ ุฃูุตุญ ุจู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">"ุญูู ูุงุณูู ููุงุฆู ุจุดุฑู"</a> ูููุฎุฑุฌ ุฏูููุณ ุดููุชุดูููู </p><br><p style=";text-align:right;direction:rtl">  ุณุฃุญุงูู ุงุณุชุฎุฏุงู ุฃุจุณุท ุงููุบุงุช ุงูุชู ูููู ูููุจุชุฏุฆูู ููููุง.  ูู ููุงูุฉ ุงูููุงูุฉ ุ ูุชู ุชูุฏูู ุฑุงุจุท ุฅูู ูุณุชูุฏุน ุงููุตุฏุฑ ุ ุญูุซ ูุชู ุงุณุชุฎุฏุงู ุฅุฏุฎุงู ุฃูุซุฑ ููุงุกูุฉ ูุฃูุตุฑ ูู ุจุนุถ ุฃุฌุฒุงุก ุงูููุฏ ุ ููู ูุง ูุฏ ูููู ุฃูู ูุถูุญูุง ูู ุงููุธุฑุฉ ุงูุฃููู. </p><br><p style=";text-align:right;direction:rtl">  ููุนู ุ ุฃููุง ุงูุณุงุฏุฉ Haskellists ุ ูุชู ุดุฑุญ ุงูุนุฏูุฏ ูู ุงูุฃุดูุงุก ุจูู ุจุณุงุทุฉ ูุจุดูู ุฃุฎุฑู ุ ูู ุญุงูุงุช ุฎุงุตุฉ ุ ูููุณ ุจุดูู ูุฌุฑุฏุฉ ููุบุงูุฉ ุ ุฏูู ุงุณุชุฎุฏุงู ูุตุทูุญุงุช ูู ูุธุฑูุฉ ุงููุฆุฉ ูุบูุฑูุง ูู ุงููููุงุช ุงููุฎููุฉ.  ุฃูุง ุณุนูุฏ ูุฃูู ุชุนุฑููู ูุจุงูุทุจุน ุฃุชูููู ุจุณูููุฉ.  ุฃูุง ุฃุนุฑููู ุฃูุถูุง ุ ููููู ูุง ุฃุนุชูุฏ ุฃูู ูู ุงูุถุฑูุฑู ุฅููุงุก ูุซู ูุฐุง ุงููู ูู ุงููุนูููุงุช ูู ูุฐุง ุงูุณูุงู ุนูู ุงููุฑุงุก ุบูุฑ ุงููุณุชุนุฏูู. </p><br><h1 id="klassy-tipov" style=";text-align:right;direction:rtl">  ุงูุชุจ ุงูุทุจูุงุช </h1><br><p style=";text-align:right;direction:rtl">  ูุฆุงุช ุฃููุงุน Haskell ูุง ุนูุงูุฉ ููุง ุจุงููุฆุงุช ูู ูุบุฉ C ++ ููุบุงุช ุงููุงุฆูุงุช ุงูุฃุฎุฑู ุงูููุฌูุฉ.  ุฅุฐุง ุฑุณููุง ุชุดุงุจูุงู ูุน OOP ุ ูุฅู ุงููุตูู ุงูุฏุฑุงุณูุฉ ุชุดุจู ุฅูู ุญุฏ ูุจูุฑ ุงูุญูู ุงูุฒุงุฆุฏ ููุฃุณุงููุจ ูุงููุธุงุฆู. </p><br><p style=";text-align:right;direction:rtl"> ุชุญุฏุฏ ุงููุตูู ุงูุฅุฌุฑุงุกุงุช ุงูุชู ูููู ุชูููุฐูุง ูุน ูุงุฆูุงุช ูู ุงูุฃููุงุน ุงูุชู ุชุดูู ุงููุตู.  ุนูู ุณุจูู ุงููุซุงู ุ ูููู ููุงุฑูุฉ ุฌููุน ุงูุฃุฑูุงู ูู ุฃุฌู ุงููุณุงูุงุฉ ุ ูููู ูููู ุชุฑุชูุจ ูู ุดูุก ุจุงุณุชุซูุงุก ุงูุฃุฑูุงู ุงููุนูุฏุฉ ุ ูุจุดูู ุนุงู ุ ูุง ูููู ููุงุฑูุฉ ุงููุธุงุฆู ุนูู ุงูุฅุทูุงู.  ูุฆุฉ ุงูุฃููุงุน ุงูุชู ูููู ููุงุฑูุชูุง ุชุณูู <code>Eq</code> ุ ูุฑุชุจุฉ - <code>Ord</code> (ูุง ูุฌุจ ุฃู ุชููู ุงูุฃููุงุน ุฑูููุฉ).  ูุง ูููู ุทุจุงุนุชู ุจุงูุชุฑุฌูุฉ ุฅูู ุณูุณูุฉ ููุชูู ุฅูู ูุฆุฉ ุงูุนุฑุถ ุ ููุฏูู ูุฆุฉ <code>Read</code> "ุงููุนุงูุณุฉ" ุ ุงูุชู ุชุญุฏุฏ ููููุฉ ุชุญููู ุงูุณูุงุณู ุฅูู ูุงุฆูุงุช ูู ุงูููุน ุงููุทููุจ. </p><br><p style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ููุฌููุนุฉ ูู ูุฆุงุช <code>Eq</code> ุงูููุงุณูุฉ (ูุซู <code>Eq</code> ู <code>Show</code> ู <code>Read</code> ...) ุ ููููู ูุทุงูุจุฉ ุจุฑูุงูุฌ ุงูุชุญููู ุงูุจุฑูุฌู ุจุชูููุฐ ุงููุธููุฉ ุงููุทููุจุฉ ุจุทุฑููุฉ ููุงุณูุฉ ุ ุจุงุณุชุฎุฏุงู ุงููููุฉ ุงูุฃุณุงุณูุฉ <code>deriving</code> ุจุนุฏ ุชุญุฏูุฏ ุงูููุน: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Point</span></span></span><span class="hljs-class"> = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Point</span></span></span><span class="hljs-class"> { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">xCoord</span></span></span><span class="hljs-class"> :: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Float</span></span></span><span class="hljs-class"> , </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">yCoord</span></span></span><span class="hljs-class"> :: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Float</span></span></span><span class="hljs-class"> } </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">deriving</span></span></span><span class="hljs-class"> (</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Eq</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Show</span></span></span><span class="hljs-class">)</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููููู ุชุญุฏูุฏ ูุฆุงุช ุงููุชุงุจุฉ ุงูุฎุงุตุฉ ุจู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">PrettyPrint</span></span></span><span class="hljs-class"> a </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span> pPrint :: a -&gt; <span class="hljs-type"><span class="hljs-type">String</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุง <code>PrettyPrint</code> ูู ุงุณู ุงููุฆุฉ ุ <code>a</code> ูุชุบูุฑ ููุน.  ุงููููุฉ ุงูุฃุณุงุณูุฉ <code>where</code> ูุชุจุนูุง ูุงุฆูุฉ ุจุฃุณุงููุจ ูุง ูุณูู ุจุงููุตู ุงูุฏุฑุงุณู ุ ุฃู  ุงููุธุงุฆู ุงูุชู ูููู ุชุทุจูููุง ุนูู ูุงุฆูุงุช ุงููุชุงุจุฉ ูู ูุฐู ุงููุฆุฉ. </p><br><p style=";text-align:right;direction:rtl">  ููุฅุดุงุฑุฉ ุฅูู ุงูุงูุชูุงุก ูููุน ุงูุจูุงูุงุช ุฅูู ูุฆุฉ ุ ูุชู ุงุณุชุฎุฏุงู ุงูุจูุงุก ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">instance</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">PrettyPrint</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Point</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span> pPrint (<span class="hljs-type"><span class="hljs-type">Point</span></span> xy) = <span class="hljs-string"><span class="hljs-string">"("</span></span> ++ show x ++ <span class="hljs-string"><span class="hljs-string">", "</span></span> ++ show y ++ <span class="hljs-string"><span class="hljs-string">")"</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชุชูุญ ูู ุงููุบุฉ ุชุญุฏูุฏ ูููุฏ ุนูู ูุฆุงุช ุงูุฃููุงุน ุงูุชู ูุฌุจ ุฃู ุชุฑุชุจุท ุจูุง ูุณูุทุงุช ุงููุธููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">showVsPretty</span></span> :: (<span class="hljs-type"><span class="hljs-type">Show</span></span> a, <span class="hljs-type"><span class="hljs-type">PrettyPrint</span></span> a) =&gt; a -&gt; (<span class="hljs-type"><span class="hljs-type">String</span></span>, <span class="hljs-type"><span class="hljs-type">String</span></span>) showVsPretty x = (show x, pPrint x)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููู ุงุณุชุฏุนุงุก ุฏุงูุฉ ุ ูููู ุงููุญูู ุงูุจุฑูุฌู ุจุงูุชุญูู ููุง ุฅุฐุง ูุงูุช ูุชุทูุจุงุช ุงูููุน ูุฐู ูุฏ ุชู ุงูููุงุก ุจูุง ุ ููู ุญุงูุฉ ุงููุดู ุ ูุนุฑุถ ุฎุทุฃ (ุจุงูุทุจุน ุ ูุญุฏุซ ูุฐุง ูู ูุฑุญูุฉ ุงูุชุฑุฌูุฉ). </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs">&gt;&gt;&gt; showVsPretty (<span class="hljs-type"><span class="hljs-type">Point</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>) (<span class="hljs-string"><span class="hljs-string">"Point {xCoord = 2.0, yCoord = 3.0}"</span></span>,<span class="hljs-string"><span class="hljs-string">"(2.0, 3.0)"</span></span>) &gt;&gt;&gt; showVsPretty <span class="hljs-string"><span class="hljs-string">"str"</span></span> error: <span class="hljs-type"><span class="hljs-type">No</span></span> <span class="hljs-keyword"><span class="hljs-keyword">instance</span></span> for (<span class="hljs-type"><span class="hljs-type">PrettyPrint</span></span> [<span class="hljs-type"><span class="hljs-type">Char</span></span>]) arising from a use <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> 'showVsPretty'</code> </pre> <br><h1 id="realizaciya" style=";text-align:right;direction:rtl">  ุงูุชูููุฐ </h1><br><p style=";text-align:right;direction:rtl">  ูุชููู ุงููุญูู ุงููุบูู ุณูุณูุฉ ุฅุฏุฎุงู ูุฌุจ ุชุญููููุง ููููุง ููููุงุนุฏ ุงููุญุฏุฏุฉ ูุณุจููุง ูุงูุญุตูู ุนูู ูููุฉ ุงูููุน ุงูุฐู ูุญุชุงุฌู (ุนูู ุณุจูู ุงููุซุงู ุ ุนุฏุฏ ุตุญูุญ).  ูู ูุฐู ุงูุญุงูุฉ ุ ูุฏ ูุง ููุชูู ุณุทุฑ ุงูุฅุฏุฎุงู ุ ูุณูููู ุงูุจุงูู ุจูุซุงุจุฉ ูุฏุฎู ููุฒูุฏ ูู ุงูุชุญููู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุณูููู ุงููุญูู ุงููุบูู ุงูุฎุงุต ุจูุง ุบูุฑ ูุญุฏุฏ ุจุดูู ุนุงู ุ ุฃู  ุณูุนูุฏ ุงูุนุฏูุฏ ูู ูุชุงุฆุฌ ุชุญููู ุงููุญุชููุฉ ููุงุฆูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุฌููุนุฉ ููููุฉ ูู ุนูุตุฑูู <code>(String, a)</code> ููุงุณุจุฉ ููุตู ูุชูุฌุฉ ูุงุญุฏุฉ ูุนูููุฉ ุงููุญูู ุงููุบูู ุ ุญูุซ ููุซู a ูุชุบูุฑ ููุน ููููู ุงูุฅุดุงุฑุฉ ุฅูู ุฃู ููุน ูุณุชุฎุฏู. </p><br><p style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุฃู ุงููุญูู ุงููุบูู ููุฒุน ุงูุณูุณูุฉ ููููุง ูุจุนุถ ุงูููุงุนุฏ ุ ูุฅููุง ูุตููุง ูุฏุงูุฉ ุชุฃุฎุฐ ุณูุณูุฉ ููุฏุฎูุงุช ูุชูุฑุฌุน ูุงุฆูุฉ ุงููุชุงุฆุฌ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">newtype</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Parser</span></span></span><span class="hljs-class"> a = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Parser</span></span></span><span class="hljs-class"> { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">unParser</span></span></span><span class="hljs-class"> :: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">String</span></span></span><span class="hljs-class"> -&gt; [(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">String</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class">)] }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุณููุธุฑ ูู ูุฌุงุญ ุงูุชุญููู ุฅุฐุง ูุงูุช ูุงุฆูุฉ ุงููุชุงุฆุฌ ุชุชููู ูู ุนูุตุฑ ูุงุญุฏ ูุชูุช ูุนุงูุฌุฉ ุณูุณูุฉ ุงูุฅุฏุฎุงู ุจุงููุงูู.  ูููู ุจุชูููุฐ ูุธููุฉ ุงููุณุงุนุฏ ุงูุชู ุชุญุงูู ุชุญููู ุงูุณูุณูุฉ ุจุงููุงูู ุจุดูู ูุฑูุฏ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">parseString</span></span> :: <span class="hljs-type"><span class="hljs-type">String</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Parser</span></span> a -&gt; <span class="hljs-type"><span class="hljs-type">Maybe</span></span> a parseString s (<span class="hljs-type"><span class="hljs-type">Parser</span></span> p) = <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> (ps) <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> [(<span class="hljs-string"><span class="hljs-string">""</span></span>, val)] -&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> val _ -&gt; <span class="hljs-type"><span class="hljs-type">Nothing</span></span></code> </pre> <br><h2 id="prosteyshie-parsery" style=";text-align:right;direction:rtl">  ุงููุนุฑุจ ุงููุบูู ุงูุจุณูุท </h2><br><p style=";text-align:right;direction:rtl">  ูุญู ูุทุจู ุงูุนุฏูุฏ ูู ุงููุญูู ุงููุบูู ุงูุจุณูุท ุ ูุงูุฐู ุณูููู ูููุฏูุง ูู ุจูุงุก ูุฌููุนุงุช ุฃูุซุฑ ุชุนููุฏูุง. </p><br><p style=";text-align:right;direction:rtl">  ูุจุฏุฃ ูู ุฎูุงู ุชุญููู ุดุฎุตูุฉ ูุงุญุฏุฉ ูุฌุจ ุฃู ุชูุจู ุงููุณูุฏ.  ุฅุฐุง ูุงูุช ุณูุณูุฉ ุงูุฅุฏุฎุงู ูุงุฑุบุฉ ุ ูุฅู ูุชูุฌุฉ ุงูุนูู ูู ูุงุฆูุฉ ูุงุฑุบุฉ.  ุฎูุงู ุฐูู ุ ูุชุญูู ูู ูููุฉ ุงููุณูุฏ ูู ุฃูู ุญุฑู ูู ุงูุณูุณูุฉ.  ุฅุฐุง <code>True</code> ุฅุฑุฌุงุน <code>True</code> ุ ุชููู ูุชูุฌุฉ ุงูุชุญููู ูู ูุฐู ุงูุดุฎุตูุฉ ุ  ุฅุนุงุฏุชู ูุน ุจููุฉ ุงูุณูุณูุฉ.  ุฎูุงู ุฐูู ุ ูุดู ุงูุชุญููู ุฃูุถุง. </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">predP</span></span> :: (<span class="hljs-type"><span class="hljs-type">Char</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Bool</span></span>) -&gt; <span class="hljs-type"><span class="hljs-type">Parser</span></span> <span class="hljs-type"><span class="hljs-type">Char</span></span> predP p = <span class="hljs-type"><span class="hljs-type">Parser</span></span> f <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> f <span class="hljs-string"><span class="hljs-string">""</span></span> = [] f (c : cs) | pc = [(cs, c)] | otherwise = []</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุขู ูููููุง ูุชุงุจุฉ ุงููุญูู ุงููุบูู ุงูุฐู ูุฃุฎุฐ ุดุฎุตูุฉ ูุนููุฉ ูู ุจุฏุงูุฉ ุงูุณุทุฑ.  ููููุงู ุจุฐูู ุ ุงุณุชุฎุฏู <code>predP</code> ุงูููุชูุจุฉ ููุชู ุ <code>predP</code> ููุณูุทุฉ ุ ููู ุฏุงูุฉ ุชูุงุฑู <code>predP</code> ุจุงูุญุฑู ุงูุฐู ูุญุชุงุฌู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">charP</span></span> :: <span class="hljs-type"><span class="hljs-type">Char</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Parser</span></span> <span class="hljs-type"><span class="hljs-type">Char</span></span> charP char = predP (\c -&gt; c == char)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุญุงูุฉ ุงูุฃุจุณุท ุงูุชุงููุฉ: ูุญูู ููุจู ุณูุณูุฉ ูุนููุฉ ููุท ููู.  <code>stringP</code> ูุณูููุง <code>stringP</code> .  ุชูุงุฑู ุงููุธููุฉ ุงูููุฌูุฏุฉ ูู ุงููุญูู ุงููุบูู ุณุทุฑ ุงูุฅุฏุฎุงู ุจุงูุฎุท ุงููุฑุบูุจ ุ ูุฅุฐุง ูุงูุช ุงูุฎุทูุท ูุชุณุงููุฉ ุ ูุชูุฑุฌุน ูุงุฆูุฉ ุจุนูุตุฑ ูุงุญุฏ: ุฒูุฌ ูู ุงูุฎุทูุท ุงููุงุฑุบุฉ (ูุง ูุชุจูู ุดูุก ูู ุงูุฅุฏุฎุงู) ูุงูุฎุท ุงูุฃุตูู.  ุฎูุงู ุฐูู ุ ูุดู ุงูุชุญููู ุ ููุชู ุฅุฑุฌุงุน ูุงุฆูุฉ ูุงุฑุบุฉ ูู ุงููุชุงุฆุฌ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">stringP</span></span> :: <span class="hljs-type"><span class="hljs-type">String</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Parser</span></span> <span class="hljs-type"><span class="hljs-type">String</span></span> stringP s = <span class="hljs-type"><span class="hljs-type">Parser</span></span> f <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> fs' | s == s' = [(<span class="hljs-string"><span class="hljs-string">""</span></span>, s)] | otherwise = []</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุบุงูุจูุง ูุง ุชุญุชุงุฌ ุฅูู ุชุฎุทู ุงูุฃุญุฑู ุงูุชู ููุง ุฎุงุตูุฉ ูุนููุฉ ุฃุซูุงุก ุงูุชูุงููุง ุฅูู ุจุฏุงูุฉ ุงูุณุทุฑ (ุนูู ุณุจูู ุงููุซุงู ุ ุฃุญุฑู ุงููุณุงูุงุช ุงูุจูุถุงุก).  ุนูุงูุฉ ุนูู ุฐูู ุ ูุฅู ูุชูุฌุฉ ุงูุชุญููู ููุณุช ูููุฉ ุจุงููุณุจุฉ ููุง ููู ุชููู ูููุฏุฉ ูู ุงููุณุชูุจู.  ููุชุจ ูุธููุฉ <code>skip</code> ุชุชุฎุทู ุงูุฃุญุฑู ุงูุฃูููุฉ ููุณูุณูุฉ ุจูููุง ูุชู ุงูุญูุงุธ ุนูู ุงููููุฉ ุงูุญููููุฉ ูููุณูุฏ.  ูุชูุฌุฉ ุงูุชุญููู ุ ูุณุชุฎุฏู tuple ูุงุฑุบุฉ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">skip</span></span> :: (<span class="hljs-type"><span class="hljs-type">Char</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Bool</span></span>) -&gt; <span class="hljs-type"><span class="hljs-type">Parser</span></span> () skip p = <span class="hljs-type"><span class="hljs-type">Parser</span></span> (\s -&gt; [(dropWhile ps, ())])</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงููุญููุงู ุงูุชุงููุงู ูุชุดุงุจูุงู ููุบุงูุฉ ูุน ุจุนุถููุง ุงูุจุนุถ.  ูุชุญูู ููุงููุง ูู ุจุงุฏุฆุฉ ุณุทุฑ ุงูุฅุฏุฎุงู ุ ููุท ุงูุฃููู ุฅุฐุง ูุฌุญุช ูู ุฅุฑุฌุงุน ูุฐู ุงูุจุงุฏุฆุฉ ุ ูุงูุซุงููุฉ ุชูุฑุฌุน ุนูุงูุฉ ูุงุฑุบุฉ ุ ุฃู  ูุณูุญ ูู ุจุชุฎุทู ุฎุท ุชุนุณูู ูู ุจุฏุงูุฉ ุงูุฅุฏุฎุงู.  ูุณุชุฎุฏู <code>isPrefixOf</code> ุงูุฏุงูุฉ <code>isPrefixOf</code> ุงููุนุฑูุฉ ูู ุงููุญุฏุฉ ุงูููุทูุฉ <code>Data.List</code> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">prefixP</span></span> :: <span class="hljs-type"><span class="hljs-type">String</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Parser</span></span> <span class="hljs-type"><span class="hljs-type">String</span></span> prefixP s = <span class="hljs-type"><span class="hljs-type">Parser</span></span> f <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> f input = <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s `isPrefixOf` input <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> [(drop (length s) input, s)] <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> [] skipString :: <span class="hljs-type"><span class="hljs-type">String</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Parser</span></span> () skipString s = <span class="hljs-type"><span class="hljs-type">Parser</span></span> f <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> f input = <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s `isPrefixOf` input <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> [(drop (length s) input, ())] <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> []</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ูููู ุณููุธุฑ ูู ุชุทุจูู ุฃูุซุฑ ุจุณุงุทุฉ ููุฐู ุงููุธููุฉ ุงูุฃุฎูุฑุฉ ูุงูุชุฎูุต ูู ุชูุฑุงุฑ ุงูููุฏ. </p><br><h2 id="parser-kak-funktor" style=";text-align:right;direction:rtl">  ุงููุญูู ุงููุบูู ุจุงุนุชุจุงุฑู functor </h2><br><p style=";text-align:right;direction:rtl">  ูููููุง ุงูุชูููุฒ ุจูู ูุฆุฉ ูุงููุฉ ูู ุฃููุงุน ุงูุญุงููุงุช ุงูุชู ููุทุจู ุนูููุง ูุง ููู: ุฅุฐุง ููุช ุชุนุฑู ููููุฉ ุชุญููู ูุงุฆูุงุช ุฏุงุฎู ุญุงููุฉ ุ ูููููู ุญููุฆุฐู ุชุญููู ุงูุญุงููุงุช ุจุฃููุณูุง.  ุฃุจุณุท ูุซุงู ูู ูุงุฆูุฉ ูุญุงููุฉ <code>map</code> ูุธููุฉ ุ ูุงูุชู ุชุชููุฑ ูู ุฌููุน ุงููุบุงุช ุงูุฑููุนุฉ ุงููุณุชูู ุชูุฑูุจุง.  ูู ุงููุงูุน ุ ููููู ุงุณุชุนุฑุงุถ ุฌููุน ุนูุงุตุฑ ูุงุฆูุฉ ุงูููุน <code>[a]</code> ุ ูุชุทุจูู <code>a -&gt; b</code> ุนูู ูู ูููุง ุ ูุงูุญุตูู ุนูู ูุงุฆูุฉ ูู ุงูููุน <code>[b]</code> . </p><br><p style=";text-align:right;direction:rtl">  ููุทูู ุนูู ูุฆุฉ ุงููุชุงุจุฉ ูุฐู ุงุณู <code>Functor</code> ุ ูููุฆุฉ ุทุฑููุฉ <code>fmap</code> ูุงุญุฏุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Functor</span></span></span><span class="hljs-class"> f </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span> fmap :: (a -&gt; b) -&gt; fa -&gt; fb</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุชุฑุถ ุฃููุง ูุนุฑู ุจุงููุนู ููููุฉ ุชุญููู ุงูุณูุงุณู ุฅูู ูุงุฆูุงุช ูู ููุน ูุนูู ุ ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุญู ูุนุฑู ููููุฉ ุชุญููู ุงููุงุฆูุงุช ูู ุงูููุน <code>a</code> ุฅูู ูุงุฆูุงุช ูู ุงูููุน <code>b</code> .  ูู ูู ุงููููู ุงูููู ุฃูู ููุฌุฏ ูุญูู ูููุงุฆูุงุช ูู ุงูููุน <code>b</code> ุ </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ุชู ุงูุชุนุจูุฑ ุนููุง ูู ุดูู ุฏุงูุฉ ุ ูุณูููู ููุง ุงูููุน ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs">(a -&gt; b) -&gt; <span class="hljs-type"><span class="hljs-type">Parser</span></span> a -&gt; <span class="hljs-type"><span class="hljs-type">Parser</span></span> b</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุชุฒุงูู ูุฐุง ุงูููุน ูุน ููุน ูุธููุฉ <code>fmap</code> ุ ูุฐูู ุฏุนููุง ูุญุงูู ุฃู ูุฌุนู ุงููุญูู ุงููุบูู ุนุจุงุฑุฉ ุนู ุนุงูู ุชูุฌูู.  ูููู ุจุฅูุดุงุก ูุญูู ูููู ุงูููุน <code>b</code> ูู ููุทุฉ ุงูุตูุฑ ุ ูุงูุชู ุณูู ุชุณุชุฏุนู ุฃููุงู ุงููุญูู ุงููุบูู ุงูุฃูู (ูุฏููุง ุจุงููุนู ูุงุญุฏุฉ) ุ ุซู ูุทุจู ุงููุธููุฉ ุนูู ูุชุงุฆุฌ ุงูุชุญููู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">instance</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Functor</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Parser</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span> fmap :: (a -&gt; b) -&gt; <span class="hljs-type"><span class="hljs-type">Parser</span></span> a -&gt; <span class="hljs-type"><span class="hljs-type">Parser</span></span> b fmap f (<span class="hljs-type"><span class="hljs-type">Parser</span></span> p1) = <span class="hljs-type"><span class="hljs-type">Parser</span></span> p2 <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> p2 :: <span class="hljs-type"><span class="hljs-type">String</span></span> -&gt; [(<span class="hljs-type"><span class="hljs-type">String</span></span>, b)] p2 s = convert (p1 s) convert :: [(<span class="hljs-type"><span class="hljs-type">String</span></span>, a)] -&gt; [(<span class="hljs-type"><span class="hljs-type">String</span></span>, b)] convert results = map (\(s, val) -&gt; (s, f val)) results</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุธููุฉ <code>fmap</code> ููุง ูุฑุงุฏู infix ููุงุณุจ: <code>fmap fx == f &lt;$&gt; x</code> . </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ุงุณุชุฎุฏููุง ุฅุญุฏู ุงูุฏุงูุงุช ููุณูุทุฉ <code>fmap</code> ุงูุชู ุชุญู ุจุจุณุงุทุฉ ูุญู ุงููุณูุทุฉ ุงูุฃููู ููุง ุจูููุฉ ุฌุฏูุฏุฉ ุ <code>fmap</code> ุนูู ุนูููุฉ ุฃุฎุฑู ูููุฏุฉ ุชู ุชูููุฐูุง ุจุงููุนู ูุฌููุน ุงููุดุบูุงุช ุญุชู ูู ุญุงูุชูู (ุชุฎุชูู ููุท ูู ุชุฑุชูุจ ุงููุณุงุฆุท): </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">(&lt;$) :: Functor f =&gt; a -&gt; fb -&gt; fa ($&gt;) :: Functor f =&gt; fa -&gt; b -&gt; fb</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชุฐูุฑ ุงููุญูู ุงููุบูู ุงูุฐู ูุชุฎุทู ุฎุท ูุนูู ( <code>skipString</code> )ุ  ุงูุขู ููููู ุชูููุฐู ุนูู ุงููุญู ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">skipString</span></span> :: <span class="hljs-type"><span class="hljs-type">String</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Parser</span></span> () skipString s = () &lt;$ prefixP s</code> </pre> <br><h2 id="kombinacii-parserov" style=";text-align:right;direction:rtl">  ูุฌููุนุงุช ูุญูู </h2><br><p style=";text-align:right;direction:rtl">  ูู Haskell ุ ูุชู ุฅููุงู ุฌููุน ุงููุธุงุฆู ุงูุชุฑุงุถููุง ููููู ุงุณุชุฎุฏุงููุง ุฌุฒุฆููุง.  ูุฐุง ูุนูู ุฃู ุฏุงูุฉ ุงููุณูุทุงุช <code>n</code> ูู ูู ุงููุงูุน ุฏุงูุฉ ูููุณูุทุฉ ุงููุงุญุฏุฉ ุ ุญูุซ ุชููู ุจุฅุฑุฌุงุน ุฏุงูุฉ <code>n-1</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">cons</span></span> :: <span class="hljs-type"><span class="hljs-type">Int</span></span> -&gt; [<span class="hljs-type"><span class="hljs-type">Int</span></span>] -&gt; [<span class="hljs-type"><span class="hljs-type">Int</span></span>] cons = (:) cons1 :: [<span class="hljs-type"><span class="hljs-type">Int</span></span>] -&gt; [<span class="hljs-type"><span class="hljs-type">Int</span></span>] cons1 = cons <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-comment"><span class="hljs-comment">--  cons  </span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุญู ูุทุจู ุฏุงูุฉ ูู ุซูุงุซ ูุณูุทุงุช ุนูู ุจุนุถ ุงููููุฉ ุฏุงุฎู ุงููุญูู ุจุงุณุชุฎุฏุงู <code>fmap</code> .  ุงูุฃููุงุน ุณุชููู ููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">f :: c -&gt; a -&gt; b p :: Parser c (fmap fp) :: Parser (a -&gt; b)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชุญููุช ูุธููุฉ ูุญููุ!  ุจุงูุทุจุน ุ ูููู ุงููููู ูููููุง ุนูุฏูุง ูููู ุชูุซูู ุงููุธููุฉ ููุฌูุฏูุง ุจุงููุนู ูู ุณุทุฑ ุงูุฅุฏุฎุงู ุ ููููู ุฃุฑุบุจ ูู ุฃู ุฃููู ูุงุฏุฑูุง ุนูู ุงุณุชุฎุฏุงู ูุฐู ุงููุธููุฉ ุ ุฃู ุจุงูุฃุญุฑู ุงูุฌูุน ุจูู <code>Parser (a -&gt; b)</code> ูุงููุญูู <code>Parser b</code> ููุญุตูู ุนูู <code>Parser b</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">applyP</span></span> :: <span class="hljs-type"><span class="hljs-type">Parser</span></span> (a -&gt; b) -&gt; <span class="hljs-type"><span class="hljs-type">Parser</span></span> a -&gt; <span class="hljs-type"><span class="hljs-type">Parser</span></span> b</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุน ูุฐู ุงููุธููุฉ ูุดุจู ุฅูู ุญุฏ <code>fmap</code> ููุน <code>fmap</code> ุ ููุท ุงููุธููุฉ ููุณูุง ุงูุชู ูุฌุจ ุชุทุจูููุง ูู ุงูุญุงููุฉ.  ูุฐุง ูุนุทู ููููุง ุจุฏููููุง ููุง ูุฌุจ ุฃู ูุจุฏู ุนููู ุชูููุฐ ูุธููุฉ <code>applyP</code> : ุงุญุตู ุนูู ุงููุธููุฉ ูู ุงูุญุงููุฉ (ูุชูุฌุฉ ูุชุทุจูู ุงููุญูู ุงููุบูู ุงูุฃูู) ุ ูุงุญุตู ุนูู ุงูููู ุงูุชู ูุฌุจ ุฃู ุชูุทุจู ุนูููุง ุงููุธููุฉ (ูุชูุฌุฉ ูุชุทุจูู ุงููุญูู ุงููุบูู ุงูุซุงูู) ุ ู "ุญุฒูุฉ" ุงูููู ุงููุญููุฉ ุจุงุณุชุฎุฏุงู ูุฐู ุงููุธููุฉ ูุฑุฉ ุฃุฎุฑู ูู ุงูุญุงููุฉ (ุฅูุดุงุก ูุญูู ุฌุฏูุฏ).  ูู ุงูุชูููุฐ ุ ุณูู ูุณุชุฎุฏู ููู ุงููุงุฆูุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">applyP</span></span> :: <span class="hljs-type"><span class="hljs-type">Parser</span></span> (a -&gt; b) -&gt; <span class="hljs-type"><span class="hljs-type">Parser</span></span> a -&gt; <span class="hljs-type"><span class="hljs-type">Parser</span></span> b applyP (<span class="hljs-type"><span class="hljs-type">Parser</span></span> p1) (<span class="hljs-type"><span class="hljs-type">Parser</span></span> p2) = <span class="hljs-type"><span class="hljs-type">Parser</span></span> f <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> fs = [ (sx, fx) | (sf, f) &lt;- p1 s, <span class="hljs-comment"><span class="hljs-comment">-- p1     (sx, x) &lt;- p2 sf] -- p2   ,    </span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุงู ูุฆุฉ <code>Applicative</code> ุงูุชู ูุฏููุง ุทุฑููุฉ ูุน ููุณ ุงููููุฐุฌ.  ุชุณูู ุงูุทุฑููุฉ ุงูุซุงููุฉ ูููุฆุฉ <code>pure</code> ูุชุณุชุฎุฏู "ููุงูุชูุงู" ุฃู "ุงูุฑูุน" ( <em>ุงูุฑูุน</em> ) ูููุฉ ุ ุจูุง ูู ุฐูู ุงููููุฉ ุงููุธูููุฉ.  ูู ุญุงูุฉ ุชุทุจูู ุงููุญูู ุงููุบูู ุ ุชุถูู ุงูุฏุงูุฉ <code>pure</code> ุงููุณูุทุฉ ุงูุฎุงุตุฉ ุจูุง ุฅูู ูุชูุฌุฉ ุงููุญูู ุงููุบูู ุ ุฏูู ุชุบููุฑ ุณูุณูุฉ ุงูุฅุฏุฎุงู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Functor</span></span></span><span class="hljs-class"> f =&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Applicative</span></span></span><span class="hljs-class"> f </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span> pure :: a -&gt; fa (&lt;*&gt;) :: f (a -&gt; b) -&gt; fa -&gt; fb <span class="hljs-keyword"><span class="hljs-keyword">instance</span></span> <span class="hljs-type"><span class="hljs-type">Applicative</span></span> <span class="hljs-type"><span class="hljs-type">Parser</span></span> <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> pure x = <span class="hljs-type"><span class="hljs-type">Parser</span></span> (\s -&gt; [(s, x)]) pf &lt;*&gt; px = <span class="hljs-type"><span class="hljs-type">Parser</span></span> (\s -&gt; [ (sx, fx) | (sf, f) &lt;- unParser pf $ s, (sx, x) &lt;- unParser px $ sf])</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅู ูุธููุฉ <code>applyP</code> ูู <code>&lt;*&gt;</code> ูู ุงููุฆุฉ <code>Applicative</code> .  ุชุณูู ุงูุฃููุงุน ุงูุชู ุชูุชูู ุฅูู ูุฐู ุงููุฆุฉ ุงูุฏูุงููู ุงูุชุทุจูููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ููุฌูุงุช ุงููุดุบูุฉ ููุชุทุจูู ุ ูุชู ุชูููุฐ ูุธููุชูู ูุณุงุนุฏุชูู ุณุชููู ูููุฏุฉ ููุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs">(*&gt;) :: fa -&gt; fb -&gt; fb (&lt;*) :: fa -&gt; fb -&gt; fa</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฐู ุงููุธุงุฆู ุชุคุฏู ุฅุฌุฑุงุกูู ูุชุชุงูููู ูุชุนูุฏ ูุชูุฌุฉ ูุงุญุฏุฉ ูููุง ููุท.  ุจุงููุณุจุฉ ูููุญููุงุช ุ ูููู ุงุณุชุฎุฏุงููุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุชุฎุทู ุงููุณุงูุงุช ุงูุจุงุฏุฆุฉ ูุจู ุชุญููู ุฌุฒุก ูู ุณูุณูุฉ ุชุญูู ุญูููุง ุฏูุงูููุง. </p><br><p style=";text-align:right;direction:rtl">  ูู ุฎูุงู ุงูุฌูุน ุจูู <code>&lt;$&gt;</code> ู <code>&lt;*&gt;</code> ุ ููููู ุฅูุดุงุก ุชุตูููุงุช ูุฑูุญุฉ ููุบุงูุฉ.  ุงููุธุฑ ูู ููุน ุงูุจูุงูุงุช ุงูุชุงููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">MyStructType</span></span></span><span class="hljs-class"> = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">MyStruct</span></span></span><span class="hljs-class"> { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">field1</span></span></span><span class="hljs-class"> :: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Type1</span></span></span><span class="hljs-class"> , </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">field2</span></span></span><span class="hljs-class"> :: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Type2</span></span></span><span class="hljs-class"> , </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">field3</span></span></span><span class="hljs-class"> :: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Type3</span></span></span><span class="hljs-class"> }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููุดุฆ ุงูููู <code>MyStruct</code> ูู ุฃูุถูุง ูุธููุฉ ุ ููู ูุฐู ุงูุญุงูุฉ ูููู ูู ุงูููุน 1 <code>Type1 -&gt; Type2 -&gt; Type3 -&gt; MyStructType</code> .  ููููู ุงูุนูู ูุน ุงูููุดุฆ ูุซู ุฃู ูุธููุฉ ุฃุฎุฑู.  ูููุชุฑุถ ุฃู ุงููุญูููู ูุฏ ูุชุจูุง ุจุงููุนู ูุฃููุงุน ุญููู ุงูุจููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">parser1</span></span> :: <span class="hljs-type"><span class="hljs-type">Parser</span></span> <span class="hljs-type"><span class="hljs-type">Type1</span></span> parser2 :: <span class="hljs-type"><span class="hljs-type">Parser</span></span> <span class="hljs-type"><span class="hljs-type">Type2</span></span> parser3 :: <span class="hljs-type"><span class="hljs-type">Parser</span></span> <span class="hljs-type"><span class="hljs-type">Type3</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุงุณุชุฎุฏุงู ูุธููุฉ <code>fmap</code> ุ ููููู ุชุทุจูู <code>MyStruct</code> ุฌุฒุฆููุง ุนูู ุฃูู <code>fmap</code> ูุฐู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">parserStruct'</span></span> :: <span class="hljs-type"><span class="hljs-type">Parser</span></span> (<span class="hljs-type"><span class="hljs-type">Type2</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Type3</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">MyStructType</span></span>) parserStruct' = <span class="hljs-type"><span class="hljs-type">MyStruct</span></span> &lt;$&gt; parser1</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฏุนูุง ูุญุงูู ุชุทุจูู ุงููุธููุฉ ุงูุชู ูู ุงูุขู "ุจุฏุงุฎู" ุงููุญูู ุงููุบูู.  ููููุงู ุจุฐูู ุ ุชุญุชุงุฌ ุจุงููุนู ุฅูู ุงุณุชุฎุฏุงู <code>&lt;*&gt;</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">parserStruct''</span></span> :: <span class="hljs-type"><span class="hljs-type">Parser</span></span> (<span class="hljs-type"><span class="hljs-type">Type3</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">MyStructType</span></span>) parserStruct'' = parserStruct' &lt;*&gt; parser2 parserStruct :: <span class="hljs-type"><span class="hljs-type">Parser</span></span> <span class="hljs-type"><span class="hljs-type">MyStructType</span></span> parserStruct = parserStruct'' &lt;*&gt; parser3</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุชูุฌุฉ ูุฐูู ุ ุญุตููุง ุนูู ูุญูู ููุจููุฉ ุจุฃููููุง (ุจุงูุทุจุน ุ ูุณุชุฎุฏู ููุง ุงูุงูุชุฑุงุถ ุจุฃู ุชูุซูู ุงูุญููู ูู ุงูุณุทุฑ ุงูุฃุตูู ูู ุตู ูุงุญุฏ).  ููุณ ุงูุดูุก ูููู ุงูููุงู ุจู ูู ุณุทุฑ ูุงุญุฏ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">parserStruct</span></span> :: <span class="hljs-type"><span class="hljs-type">Parser</span></span> <span class="hljs-type"><span class="hljs-type">MyStructType</span></span> parserStruct = <span class="hljs-type"><span class="hljs-type">MyStruct</span></span> &lt;$&gt; parser1 &lt;*&gt; parser2 &lt;*&gt; parser3</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุบุงูุจูุง ูุง ุชูุงุฌู ูุฐู ุงูุฅูุดุงุกุงุช ูู ุญุงูุงุช ุงูุงุณุชุฎุฏุงู. </p><br><p style=";text-align:right;direction:rtl">  ูููุชุฑุถ ุงูุขู ุฃููุง ูุญุงูู ูุชุงุจุฉ ูุญูู ููุฒุน ุงูุชุนุจูุฑุงุช ุงูุญุณุงุจูุฉ ุงูุจุณูุทุฉ ุงูุชู ูููู ุฃู ุชููู ูููุง ุงูุฃุนุฏุงุฏ ุงูุตุญูุญุฉ ูุงููุนุฑููุงุช ููุฌูุฏุฉ ูุตููุงุช ูููุนุงููุงุช.  ูููู ุจุฅูุดุงุก ููุน ูููุตู ูู <code>Operand</code> ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Operand</span></span></span><span class="hljs-class"> = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">IntOp</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Int</span></span></span><span class="hljs-class"> | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">IdentOp</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">String</span></span></span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ุนูููุง ุจุงููุนู ููููุฉ ุชุญููู ุงูุฃุนุฏุงุฏ ุงูุตุญูุญุฉ ูุงููุนุฑููุงุช (ุนูู ุณุจูู ุงููุซุงู ุ ููุง ูู ุงูุญุงู ูู C) ุ ูุฅููุง ูุญุชุงุฌ ุฅูู ูุญูู <em>ูุงุญุฏ</em> ูููุนุงููุงุช ุงูุชู ูููููุง ุชุญููู ูุงุญุฏ ุฃู ุงูุขุฎุฑ.  ูุฐุง ุงููุญูู ูู ุจุฏูู ุนู ุงูุขุฎุฑ ุ ูุฐูู ูุญู ุจุญุงุฌุฉ ุฅูู ูุธููุฉ ูููู ุฃู ุชุฌูุน ุจูู ุงููุญูููู ุจุญูุซ ูุชู ุฏูุฌ ูุชุงุฆุฌ ุนูููู.  ูุชูุฌุฉ ุงููุญูู ุงููุบูู ูู ูุงุฆูุฉ ุ ูุงูุฌูุน ุจูู ุงูููุงุฆู ูู ุชุณูุณููุง.  ูุญู <code>altP</code> ูุธููุฉ <code>altP</code> ุชุฌูุน ุจูู ุงุซููู ูู <code>altP</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">altP</span></span> :: <span class="hljs-type"><span class="hljs-type">Parser</span></span> a -&gt; <span class="hljs-type"><span class="hljs-type">Parser</span></span> a -&gt; <span class="hljs-type"><span class="hljs-type">Parser</span></span> a altP (<span class="hljs-type"><span class="hljs-type">Parser</span></span> p1) (<span class="hljs-type"><span class="hljs-type">Parser</span></span> p2) = <span class="hljs-type"><span class="hljs-type">Parser</span></span> (\s -&gt; p1 s ++ p2 s)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุซู ูููู ุชูููุฐ ูุญูู ุงููุนุงูู ุจุงุณุชุฎุฏุงู ูุฐู ุงููุธููุฉ (ููุง ููุชุฑุถ ุฃู <code>parserInt</code> ู <code>parserIdent</code> ุจุงููุนู ูู ููุงู ูุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">parserOperand</span></span> :: <span class="hljs-type"><span class="hljs-type">Parser</span></span> <span class="hljs-type"><span class="hljs-type">Operand</span></span> parserOperand = altP parserIntOp parserIdentOp <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> parserIntOp = <span class="hljs-type"><span class="hljs-type">IntOp</span></span> &lt;$&gt; parserInt parserIdentOp = <span class="hljs-type"><span class="hljs-type">IdentOp</span></span> &lt;$&gt; parserIdent</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุงูุทุจุน ุ ุจุงููุณุจุฉ ููุจุฏุงุฆู ุ ุชูุตููุง ุจุงููุนู ุฅูู ูุตู ูููุตู ุ ูุงูุฐู ูุณูู <code>Alternative</code> .  ูุฏููุง ุทุฑููุฉ ุฃุฎุฑู ุ <code>empty</code> ุ ุชุตู ุงูุนูุตุฑ ุงููุญุงูุฏ ููุนูููุฉ ุงูุจุฏููุฉ.  ูู ุญุงูุชูุง ุ ุฅูู ูุญูู ูุง ูููู ูุทูููุง ุจุชูุฒูุน ุฃู ุดูุก ุ ุฃู  ุฏุงุฆูุง ุฅุฑุฌุงุน ูุงุฆูุฉ ูุงุฑุบุฉ ูู ุงููุชุงุฆุฌ.  ุจุงููุณุจุฉ ูููุญูู ุงููุบูู ุ ูุจุฏู ุชูููุฐ ุฃุณุงููุจ ุงููุฆุฉ <code>Alternative</code> ููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Applicative</span></span></span><span class="hljs-class"> f =&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Alternative</span></span></span><span class="hljs-class"> f </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span> empty :: fa (&lt;|&gt;) :: fa -&gt; fa -&gt; fa <span class="hljs-keyword"><span class="hljs-keyword">instance</span></span> <span class="hljs-type"><span class="hljs-type">Alternative</span></span> <span class="hljs-type"><span class="hljs-type">Parser</span></span> <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> empty = <span class="hljs-type"><span class="hljs-type">Parser</span></span> (const []) px &lt;|&gt; py = <span class="hljs-type"><span class="hljs-type">Parser</span></span> (\s -&gt; unParser px s ++ unParser py s)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุนูููุฉ <code>&lt;|&gt;</code> ูู ูุธููุฉ <code>altP</code> ููุท ูู ุชุฏูููุงุช infix ุ ููู ุฃูุซุฑ ููุงุกูุฉ ููุงุณุชุฎุฏุงู ูู ุฎูุงู ุงูุฌูุน ุจูู ุนุฏุฉ ููุฒุนุงุช ูู ุตู ูุงุญุฏ. </p><br><p style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ูุฌููุน ุงูุฃููุงุน ูู ูุฐู ุงููุฆุฉ ุ ูุชู ุชูููุฐ ูุธููุชูู ุ <code>some</code> <code>many</code> ุงูุฃููุงุน <code>fa -&gt; f [a]</code> .  ูููู ุงูุชุนุจูุฑ ุนู ูู ูููู ูู ุฎูุงู ุงูุขุฎุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">some</span></span> v = (:) &lt;$&gt; v &lt;*&gt; many v many v = some v &lt;|&gt; pure []</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ูููุญููุงุช ุ ุชุชูุญ ูู ูุฐู ุงููุธุงุฆู ุชุญููู ุชุณูุณู ุงูุจูุงูุงุช ุฅุฐุง ููุช ุชุนุฑู ููููุฉ ุชุญููู ุนูุตุฑ ุจูุงูุงุช ูุงุญุฏ.  ูู ุญุงูุฉ ุงุณุชุฎุฏุงู <code>some</code> ูุฌุจ ุฃู ูููู ุงูุชุณูุณู ุบูุฑ ูุงุฑุบ. </p><br><h1 id="primer-ispolzovaniya" style=";text-align:right;direction:rtl">  ูุซุงู ููุงุณุชุฎุฏุงู </h1><br><p style=";text-align:right;direction:rtl">  ูุญู ุงูุขู ุนูู ุงุณุชุนุฏุงุฏ ููุชุงุจุฉ ุงููุญูู ุงููุบูู ุงูุฎุงุต ุจู ุ ุนูู ุณุจูู ุงููุซุงู ุ ููุชุนุจูุฑุงุช ุงูุญุณุงุจูุฉ ุงูุจุณูุทุฉ ุจุงุณุชุฎุฏุงู ุงูููุงุนุฏ ุงูุชุงููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> expr ::= constExpr | binOpExpr | negExpr const ::= int int ::= digit{digit} digit ::= '0' | ... | '9' binOpExpr ::= '(' expr ' ' binOp ' ' expr ')' binOp ::= '+' | '*' negExpr ::= '-' expr</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุชููู ุงูุชุนุจูุฑ ูู ุนุฏุฏ ุตุญูุญ ูู ุงูุซูุงุจุช ุ ูุงูุต ุฃุญุงุฏู ุ ูุงุซููู ูู ุงูุนูููุงุช ุงูุซูุงุฆูุฉ infix: ุงูุฌูุน ูุงูุถุฑุจ.  ุงูุฃููุงุณ ูุทููุจุฉ ุญูู ุชุนุจูุฑ ูู ุฎูุงู ุนูููุฉ ุซูุงุฆูุฉ ุ ูุชู ูุตู ุฑูุฒ ุงูุนูููุฉ ุนู ุงููุนุงููุงุช ุจูุณุงูุฉ ูุงุญุฏุฉ ุชูุงููุง ุ ููุง ููุณูุญ ุจุงููุณุงูุงุช ุงูุจุงุฏุฆุฉ ูุงููุนููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุฃูุซูุฉ ููุชุงุจุฉ ุงูุชุนุจูุฑ ุงูุตุญูุญุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">"123" "-(10 + 42)" "(1 + ((2 + 3) * (4 + 5)))"</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฃูุซูุฉ ุนูู ุงูุฅุฏุฎุงูุงุช ุบูุฑ ุงูุตุญูุญุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">" 666 " "2 + 3" "(10 * 10)"</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุนูู ุฃููุงุน ุงูุจูุงูุงุช ุงููุงุฒูุฉ (ุงูุชุนุจูุฑ ููุณู ูุงูุนูููุฉ ุงูุซูุงุฆูุฉ): </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Expr</span></span></span><span class="hljs-class"> = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">ConstExpr</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Int</span></span></span><span class="hljs-class"> | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">BinaryExpr</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Expr</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Operator</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Expr</span></span></span><span class="hljs-class"> | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NegateExpr</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Expr</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Operator</span></span></span><span class="hljs-class"> = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Add</span></span></span><span class="hljs-class"> | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Mul</span></span></span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููููู ุงูุจุฏุก ูู ุชุญููู!  ูุชููู ุงูุชุนุจูุฑ ููุณู ูู ุซูุงุซุฉ ุจุฏุงุฆู.  ูุฐูู ููุชุจ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-comment"><span class="hljs-comment">-- expr ::= constExpr | binOpExpr | negExpr exprParser :: Parser Expr exprParser = constParser &lt;|&gt; binParser &lt;|&gt; negParser</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุซุงุจุช ูู ุนุฏุฏ ุตุญูุญ ููุฌุจ.  ูู ููุน ุงูุจูุงูุงุช ุงูุฎุงุต ุจูุง ุ ูุชู "ููู" ูู ุงููููุดุฆ ุ ูุฐูู ูุง ูููููุง ุงุณุชุฎุฏุงู ุงููุญูู ุงููุบูู ูุนุฏุฏ ุตุญูุญ ูุจุงุดุฑุฉ ุ ูููู ูููููุง ุงุณุชุฎุฏุงู <code>fmap</code> ููุญุตูู ุนูู ูููุฉ ุงูููุน ุงููุทููุจ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-comment"><span class="hljs-comment">-- const ::= int constParser :: Parser Expr constParser = ConstExpr &lt;$&gt; intParser</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุชู ุชูุซูู ุนุฏุฏ ุตุญูุญ ุ ููููุง ูููุงุนุฏ ุงููุบุฉ ุ ูุณูุณูุฉ ุบูุฑ ูุงุฑุบุฉ ูู ุงูุฃุฑูุงู.  ูุชุญููู ุฑูู ูุงุญุฏ ุ ูุณุชุฎุฏู ุงูุฏุงูุฉ <code>predP</code> ูุงููุณูุฏ <code>isDigit</code> ูู ูุญุฏุฉ <code>Data.Char</code> .  ุงูุขู ุ ูุจูุงุก ูุญูู ูุชุญููู ุชุณูุณู ูู ุงูุฃุฑูุงู ุ ูุณุชุฎุฏู ุงูุฏุงูุฉ <code>some</code> (ููุณ <code>many</code> ุ ูุฃูู ูุฌุจ ุฃู ูููู ููุงู ุฑูู ูุงุญุฏ ุนูู ุงูุฃูู).  ุชููู ูุชูุฌุฉ ุงููุญูู ุงููุบูู ุจุฅุฑุฌุงุน ูุงุฆูุฉ ุจุฌููุน ุฎูุงุฑุงุช ุงูุชุญููู ุงูููููุฉ ุ ุจุฏุกูุง ูู ุฃุทูู ุณุฌู.  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ูุงูุช ุณูุณูุฉ ุงูุฅุฏุฎุงู ูู "123ab" ุ ูุฅู ูุงุฆูุฉ ุงููุชุงุฆุฌ ุณุชููู: <code>[("ab", "123"), ("3ab", "12"), ("23ab", "1")]</code>  ูุญุชุงุฌ ุฅูู ุชุญููู ุฃุทูู ุณูุณูุฉ ูู ุงูุฃุฑูุงู ูุชุญููููุง ุฅูู ูุชุงุจุฉ <code>Int</code> .  ุงูุชูููุฐ ุงููุงูู ูู ููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-comment"><span class="hljs-comment">-- int ::= digit{digit} -- digit ::= '0' | ... | '9' intParser :: Parser Int intParser = Parser $ \s -&gt; let res = unParser (some digitParser) s in case res of [] -&gt; [] ((rest, i) : xs) -&gt; [(rest, read i)] where digitParser = predP isDigit</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุทุฑููุฉ ุงูุชุงููุฉ ููุชุงุจุฉ ุชุนุจูุฑ ูู ุงุณุชุฎุฏุงู ุนูููุฉ ุซูุงุฆูุฉ.  ููููุง ูููุงุนุฏ ุงููุบุฉ ุ ูุฌุจ ุฃู ุชุชุถูู ุดุฑูุญุฉ ุงููุชุญ ุฃููุงู ุดุฑูุญุฉ ุงููุชุญ ุ ูุงููุนุงูู ุงูุฃูู ุ ูุงููุณุงูุฉ ุ ูุฑูุฒ ุงูุนูููุฉ ุ ููุณุงุญุฉ ุฃุฎุฑู ุ ูุงููุนุงูู ุงูุซุงูู ูููุณ ุงูุฅุบูุงู.  ูุชุญููู ุงูุฃุญุฑู ุงููุฑุฏูุฉ (ุงูุฃููุงุณ ูุงููุณุงูุงุช) ุ ูุณุชุฎุฏู ูุธููุฉ <code>charP</code> .  ุงููุนุงูุฌุงุช ุนุจุงุฑุฉ ุนู ุชุนุจูุฑุงุช ุ ูููุงู ุจุงููุนู ูุญูู ( <code>exprParser</code> ) <code>exprParser</code> .  ูุชุญููู ุฑูุฒ ุงูุนูููุฉ ุงูุซูุงุฆูุฉ ุ ูุญู ูุตู ุงููุญูู ุงููุณุงุนุฏ ุฃุฏูุงู.  ูุจูู ุฃู ูุฌูุน ุจุฏูุฉ ูุฐู ุงููุฌููุนุฉ ูู ุงููุญูููู.  ูุฌุจ ุฃู ูููู ููุงู ุฃููุงุณ ูู ุจุฏุงูุฉ ูููุงูุฉ ุงูุชุนุจูุฑ: ูุฌุจ ุนููู ุงูุชุญูู ูู ุฐูู ุ ููู ุชุฌุงูู ุงููุชูุฌุฉ ููุณูุง.  ููููุงู ุจุฐูู ุ ุงุณุชุฎุฏู <code>*&gt;</code> ู <code>&lt;*</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">binParser</span></span> :: <span class="hljs-type"><span class="hljs-type">Parser</span></span> <span class="hljs-type"><span class="hljs-type">Expr</span></span> binParser = charP '(' *&gt; ??? &lt;* charP ')'</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจูู ูุฐู <code>BinaryExpr</code> ููุฃููุงุณ ุ ูุฌุจ <code>BinaryExpr</code> ุชุนุจูุฑ ุจุงุณุชุฎุฏุงู ูููุดุฆ <code>BinaryExpr</code> ุงูุชุนุจูุฑ ูุงูุชุดุบูู.  ูุง ุชูุณ ุงููุณุงุญุงุช ุงููุญูุทุฉ ุจุฑูุฒ ุงูุนูููุฉ ุ ุจุงุณุชุฎุฏุงู ููุณ ุงูุทุฑููุฉ ุจุงููุณุจุฉ ููุฃููุงุณ.  ูุฐุง ุงูุฌุฒุก ูู ููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-type"><span class="hljs-type">BinaryExpr</span></span> &lt;$&gt; exprParser <span class="hljs-comment"><span class="hljs-comment">--   &lt;*&gt; (charP ' ' *&gt; binOpParser &lt;* charP ' ') -- ,   &lt;*&gt; exprParser --  </span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุณุชุจุฏู ูุฐุง ุงูุชุนุจูุฑ ุจุฏูุงู ูู ุนูุงูุงุช ุงูุงุณุชููุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-comment"><span class="hljs-comment">-- binOpExpr ::= '(' expr ' ' binOp ' ' expr ')' binParser :: Parser Expr binParser = charP '(' *&gt; (BinaryExpr &lt;$&gt; exprParser &lt;*&gt; (charP ' ' *&gt; binOpParser &lt;* charP ' ') &lt;*&gt; exprParser ) &lt;* charP ')'</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุนูููุฉ ุงูุซูุงุฆูุฉ ูู ุฅูุง ุญุฑู <code>+</code> ููุฒุน ูููุฉ <code>Add</code> ุ ุฃู <code>*</code> ููุฒุน <code>Mul</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-comment"><span class="hljs-comment">-- binOp ::= '+' | '*' binOpParser :: Parser Operator binOpParser = plusParser &lt;|&gt; multParser where plusParser = charP '+' $&gt; Add multParser = charP '*' $&gt; Mul</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุง ุชุจูู ูู ุฃุจุณุท ุฌุฒุก ูู ููุงุนุฏ ุงููุบุฉ ุ ูููู ุงูุชุนุจูุฑ.  ูุน ุฑูุฒ <code>-</code> ููุนู ุงูุดูุก ููุณู ููุง ูู ุงูุญุงู ูุน ุงูุฃููุงุณ ูุงููุณุงูุงุช.  ุจุนุฏ ุฐูู ุ ูู ุจุชุทุจูู ูููุดุฆ <code>NegateExpr</code> ุนูู ูุชูุฌุฉ ุงูุชุญููู <code>NegateExpr</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-comment"><span class="hljs-comment">-- negExpr ::= '-' expr negParser = charP '-' *&gt; (NegateExpr &lt;$&gt; exprParser)</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฐูู ุ ูุชู ุชูููุฐ ุฌููุน ุฃุฌุฒุงุก ุงููุญูู ุงููุบูู.  ูุดุจู ุงูููุฏ ููุงุนุฏ ูุญููุฉ ููุชุฒุงูู ุชูุงููุง ูุนูุง ูู ุงูุจููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุดูุฑุฉ ุงููุตุฏุฑ ูุชุงุญุฉ ูู GitLab: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://gitlab.com/fierce-katie/applicative-parsers-demo</a> . </p><br><p style=";text-align:right;direction:rtl">  ููุงู ุฃุณูู ูู ุชูููู ุญุฌู ูุฏุฑุฌุฉ ุงูุชุนุจูุฑ ุ ุญูุซ ููุฌุฏ ุนุฏุฏ ุฃูู ุจูุซูุฑ ูู ุงูุชุนูููุงุช.  ููููู ุชุฑุฌูุฉ ุงููุดุฑูุน ุจุงุณุชุฎุฏุงู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Stack</a> ูุชุดุบูู ูุชุฑุฌู ุจุฏุงุฆู ุจุงุณุชุฎุฏุงู ุงููุญูู ุงููุบูู ุงูุฐู ูุชุจูุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ stack build $ stack exec demo-parser</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ูุฃููุฆู ุงูุฐูู ูุฑุบุจูู ูู ููุงุฑุณุฉ ุงููุฒูุฏ ูู ุงูุชูุงุฑูู ูู ุชููุงุก ุฃููุณูู ุ ูููููู ุชูุฏูู ุงููุดูุฑุฉ ุงูุชุงููุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูููู ุชุญุณูู ุงูููุงุนุฏ ุงููุญููุฉ ุจูู ุทุฑููุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ููุณูุงุญ ุจุงููุณุงุญุงุช ุงูุฃูุงููุฉ ูุงููุนููุฉ ุ ูุฅุถุงูุฉ ุนูููุงุช ุฌุฏูุฏุฉ ุ ุฅูุฎ. </li><li style=";text-align:right;direction:rtl">  ูููู ุงููุญูู ุงููุบูู ุจุชุฑุฌูุฉ ุงูุณูุณูุฉ ุฅูู ุงูุชูุซูู ุงูุฏุงุฎูู ููุชุนุจูุฑ.  ูููู ุญุณุงุจ ูุฐุง ุงูุชุนุจูุฑ ูุชุญููู ุงููุชุฑุฌู ุงูุดููู ุจุญูุซ ูุง ูุทุจุน ูุชูุฌุฉ ุงูุชุญููู ุ ูููู ูุชูุฌุฉ ุงูุญุณุงุจ. </li><li style=";text-align:right;direction:rtl">  ุงุณุชูุดู ุฅููุงููุงุช <code>applicative-parsec</code> <code>optparse-applicative</code> ู <code>optparse-applicative</code> ู <code>optparse-applicative</code> ู <code>optparse-applicative</code> ูุญุงูู ุงุณุชุฎุฏุงููุง. </li></ul><br><p style=";text-align:right;direction:rtl">  ุดูุฑุง ูุงูุชูุงููู! </p><br><h1 id="poleznye-materialy" style=";text-align:right;direction:rtl">  ููุงุฏ ูููุฏุฉ </h1><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุนูู ูุงุณูู ูู Y ุฏูุงุฆู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฏูููุณ ุดููุชุดูููู.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">"ุนู ูุงุณูู ูุฅูุณุงู"</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุชุจุฉ ุจุงุฑุณูู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุชุจุฉ ุฃุชูุจุงุฑุณู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุชุจุฉ ุจุงุฑุณูู ุงูุชุทุจูููุฉ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุชุจุฉ Optparse ุงูุชุทุจูููุฉ</a> </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar436234/">https://habr.com/ru/post/ar436234/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar436224/index.html">ููุชุจ ูุบุฉ ุงูุจุฑูุฌุฉ ูุฏููุง ุ ุงูุฌุฒุก 4: ุชูุซูู ุงูููุงูู ูุงูุทุจูุงุช ุ ูุชูููุฏ ุงููุฎุตุตูู</a></li>
<li><a href="../ar436226/index.html">ุชูุฌูู ูุฑูุฉ ุงูุบุด ู Wireshark</a></li>
<li><a href="../ar436228/index.html">ุชุทููุฑ ุฃูุฑ ูุทูุจ ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช</a></li>
<li><a href="../ar436230/index.html">ููููุฉ ุงูุณูุทุฑุฉ ุนูู ุงูุจููุฉ ุงูุชุญุชูุฉ ููุดุจูุฉ ุงูุฎุงุตุฉ ุจู. ุงููุตู ุงูุซุงูุซ ุฃูู ุงูุดุจูุฉ. ุงูุฌุฒุก ุงูุซุงูู</a></li>
<li><a href="../ar436232/index.html">ุงุณุชุฑุงุชูุฌูุฉ ุงูุชุฎุงุทุฑ</a></li>
<li><a href="../ar436236/index.html">ูุณุชุฎุฏู ุนูู ุงูุจูุงูุงุช ูุชุญุฏูุฏ ุฏูุฑุฉ ุญูุงุฉ ุงูุนููู</a></li>
<li><a href="../ar436238/index.html">ุงููุตุงุฏูุฉ ูู Kubernetes ูุน GitHub OAuth ู Dex</a></li>
<li><a href="../ar436240/index.html">ุฃุชูุชุฉ VS ุงูููุถู</a></li>
<li><a href="../ar436242/index.html">YOLO ููููุฌูุงุช ูุถูุงุถุฉ ุฃุฎุฑู</a></li>
<li><a href="../ar436244/index.html">ุงูุจุฑูููุณูุฑ ููุฑุงูุณ ุงูุฏูุงุบ ุงูุฌุฏูุฏ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>