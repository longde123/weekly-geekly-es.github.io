<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐๐ฟ ๐ ๐ญ ุงูุชุฑุญูู ุฅูู ุงูุจููุฉ ุงูุฃุณุงุณูุฉ ุบูุฑ ุงููุชุฒุงููุฉ ูู ุฑุงุณุช ๐๐ผ ๐ ๐คฑ๐ฝ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="img ุงููุตุฏุฑ 


 ุญุฏุซ ูุจูุฑ ุญุฏุซ ููุฌุชูุน Rust ูู ุงูุฃุณุจูุน ุงููุงุถู - ุชู ุฅุตุฏุงุฑ ุฅุตุฏุงุฑ ุจุฑูุงูุฌ ุงูุชุญููู ุงูุจุฑูุฌู 1.39 ุ ููู ููุงูู ุชู ุชุซุจูุช ููุฒุงุช ุงูุชุธุงุฑ ุงููุชุฒุงููุฉ. ูู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงูุชุฑุญูู ุฅูู ุงูุจููุฉ ุงูุฃุณุงุณูุฉ ุบูุฑ ุงููุชุฒุงููุฉ ูู ุฑุงุณุช</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/475272/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ge/nx/jq/genxjqceshgc6yzx52czs1_9ue8.jpeg" alt="ูุฌุฑุฉ ุงูุทููุฑ"><br>  <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">img ุงููุตุฏุฑ</a></em> </p><br><p style=";text-align:right;direction:rtl">  ุญุฏุซ ูุจูุฑ ุญุฏุซ ููุฌุชูุน Rust ูู ุงูุฃุณุจูุน ุงููุงุถู - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชู ุฅุตุฏุงุฑ ุฅุตุฏุงุฑ ุจุฑูุงูุฌ ุงูุชุญููู ุงูุจุฑูุฌู 1.39</a> ุ ููู ููุงูู ุชู ุชุซุจูุช ููุฒุงุช ุงูุชุธุงุฑ ุงููุชุฒุงููุฉ.  ูู ูุฐุง ุงูููุดูุฑ ุ ุณุฃุญุงูู ุชูุฎูุต ุฌููุน ุงูุชุบููุฑุงุช ุฐุงุช ุงูุตูุฉ ูู ุงููุชุฑุฌู ูุงููุธุงู ุงูุฅูููููุฌู ุ ุจุงูุฅุถุงูุฉ ุฅูู ุชูุฏูู ุฅุฑุดุงุฏุงุช ุงูุชุฑุญูู ูููููุฐุฌ async-await.  ูู ุฃููู ุจุชุญููู ููุตู ููุชุฒุงูู ูู Rust ุ ูุง ุชุฒุงู ููุงู ููุงูุงุช ุฐุงุช ุตูุฉ ุญูู Habrรฉ ุณุชุณุงุนุฏ ูู ุงููุตูู ุฅูู ุงูููุถูุน: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุฏุฑุฏุดุฉ ุนูู ููู: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก 1</a> ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก 2</a> ุ </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">tokio + futures-rs 0.1</a> ุ </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงุณุชุนุฑุงุถ ุทูููู</a> . </li><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููููุฏุงุช</a> (ููุง ูุชู ุงุณุชุฎุฏุงู ุฅุตุฏุงุฑ ุบูุฑ ููุจูู ูู ุจูุงุก ุงูุฌููุฉ ูุน ุงููุงูุฑู ููุฏ <code>await!</code> ุ ูู ูุนูู ุจุงููุนู ุ ูููู ุงูุฎูููุฉ ุชุธู ููุง ูู). </li></ul><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  ุจุงูุฅุถุงูุฉ ุฅูู ูุฐู ุงูููุงูุงุช ุ ููููู ุฃูุถูุง ุงูุฑุฌูุน ุฅูู ุงููุซุงุฆู ุงูุฎุงุตุฉ ุจุงูููุชุจุฉ ุงูููุงุณูุฉ ูุงูุตูุงุฏูู ุงูุถุฑูุฑูุฉ ุ ุจุงูุฅุถุงูุฉ ุฅูู ูุฑุงุกุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุชุงุจ ุบูุฑ ูุชุฒุงูู</a> (ุจุงููุบุฉ ุงูุฅูุฌููุฒูุฉ). </p><br><p style=";text-align:right;direction:rtl">  ุชุนูู ูุงูุฉ ุงูุฃูุซูุฉ ุงูุชู ุชูุช ููุงูุดุชูุง ูู ูุฐู ุงูููุงูุฉ ุนูู ุจุฑูุงูุฌ ุงูุชุญููู ุงูุจุฑูุฌู ุงููุณุชูุฑ 1.39 ููุฌุจ ุฃู ุชุนูู ุนูู ูุงูุฉ ุงูุฅุตุฏุงุฑุงุช ุงููุงุญูุฉ.  ุงูุฑูุฒ ุงูููุงุฆู ูุชุงุญ ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฌูุซุจ</a> . </p><br><p style=";text-align:right;direction:rtl">  ูุชุทุจูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุบูุฑ ุงููุชุฒุงููุฉ ุ ุชู ุงุณุชุฎุฏุงู ููุชุจุฉ <a href="">futures-0.1</a> .  ููููุฑ ุงูุณูุงุช ุงูุฃุณุงุณูุฉ <code>futures::Future</code> <code>futures::Stream</code> ููุนูู ูุน ุงูุญูุณุจุฉ ุงููุคุฌูุฉ.  ููู ุชุนูู ุนูู ุฃููุงุน <code>Result&lt;..&gt;</code> ูุชููุฑ ูุฌููุนุฉ ูู ุฃุฏูุงุช ุงูุฌูุน.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุชููุฑ ุงูููุชุจุฉ ูููุงุช ููุงุชุตุงู ุจูู ุงูููุงู (ุงูููุงู) ุ ูุงุฌูุงุช ูุฎุชููุฉ ููุนูู ูุน ุงููููุฐ ููุธุงู ููุงูู ุ ูุฃูุซุฑ ูู ุฐูู. </p><br><p style=";text-align:right;direction:rtl">  ููุฑ ูู ูุซุงู ููุดุฆ ุณูุณูุฉ ุฃุฑูุงู ูู ุฃุนูู 32 ุจุช ูู ุงููุตุงุฆู ููุฑุณููุง ุฅูู <code>Sink</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-comment"><span class="hljs-comment">// futures 0.1.29 use futures::prelude::*; use futures::{stream, futures}; fn sink_fibb_series( sink: impl Sink&lt;SinkItem = u32, SinkError = ()&gt;, ) -&gt; impl Future&lt;Item = (), Error = ()&gt; { stream::unfold((1u32, 1), |(mut fact, n)| { while fact.checked_mul(n).is_none() { fact &gt;&gt;= 1; } fact *= n; Some(future::ok((fact, (fact, n + 1)))) }) .forward(sink) .map(|_v| ()) }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุงุญุธุฉ: ุงููุธุฑ ูู ุงูููุงู ุงููุฑุชุจุทุฉ ุจูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุนูู coroutines ููุณ ูู ุฃูุถู ุชุทุจูู ุ ูููู ุงููุซุงู ูู ุงูุงูุชูุงุก ุงูุฐุงุชู ูุงูุจุณุงุทุฉ. </p><br><p style=";text-align:right;direction:rtl">  ููุง ุชุฑูู ุ ุชุจุฏู ุงูุดูุฑุฉ ูุฑููุฉ ุฅูู ุญุฏ ูุง: ูุฌุจ ุนููู ุชุญุฏูุฏ ูููุฉ ุงูุฅุฑุฌุงุน ุ ุนูู ุงูุฑุบู ูู ุนุฏู ูุฌูุฏ ูููุฉ ูููุฏุฉ ูููุง.  ูู ุงูุนููุฏ ุงูุขุฌูุฉ 0.3 ุ ูุตุจุญ ุงูููุฏ ุฃุณูู ููููุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-comment"><span class="hljs-comment">// futures 0.3.1 use futures::prelude::*; use futures::stream; async fn sink_fibb_series(sink: impl Sink&lt;u32&gt;) { stream::unfold((1u32, 1), |(mut fact, n)| { async move { while fact.checked_mul(n).is_none() { fact &gt;&gt;= 1; } fact *= n; Some((fact, (fact, n + 1))) } }) .map(Ok) .forward(sink) .map(|_v| ()) .await; }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุง ุ ุชุชู ุฅุถุงูุฉ ุงููููุฉ ุงูุฃุณุงุณูุฉ ุบูุฑ <code>async</code> ุฅูู ุงููุธููุฉ ุ ุงูุชู ุชูุชู ุงููููุฉ ุงููุฑุฌุนุฉ ููุฏุงูุฉ ูู <code>Future</code> .  ูุฃูู ูู ุญุงูุชูุง ูุฐู ูุฌููุนุฉ ุฐุงุช ุญุฌู ุตูุฑู ุ ูููู ุญุฐููุง ุจุจุณุงุทุฉ ุ ููุง ูู ุงูุญุงู ูู ุงููุธุงุฆู ุงูุนุงุฏูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุงุณุชุฎุฏุงู ุงููููุฉ ุงูุฑุฆูุณูุฉ " <code>await</code> ูู ููุงูุฉ ุณูุณูุฉ ุงูุงุชุตุงู ูุงูุชุธุงุฑ ุงูุชูููุฐ.  ูุฐู ุงูููุงููุฉ ุชููู ุงูุชูููุฐ ูู ุณูุงู ุงููุฒุงููุฉ ุงูุญุงูู ูุชููู ุงูุชุญูู ุฅูู ุงููุฌุฏูู ุญุชู ุชุตุจุญ ุงููููุฉ <code>Future</code> ุงููุชููุนุฉ ุฌุงูุฒุฉ.  ุจุนุฏ ุฐูู ุ ูุณุชุฃูู ุงูุชูููุฐ ูุน <code>await</code> ุขุฎุฑ (ุฅููุงุก ุงููุธููุฉ ูู ูุซุงููุง) ุ ุฃู  ูุตุจุญ ุชุฏูู ุงูุชุญูู ุบูุฑ ุฎุทู ููุงุฑูุฉู ุจุฑูุฒ ูุชุฒุงูู ููุงุซู. </p><br><p style=";text-align:right;direction:rtl">  ููุงู ุงุฎุชูุงู ููู ุขุฎุฑ ูุชูุซู ูู ูุฌูุฏ ูุชูุฉ ุบูุฑ ูุชุฒุงููุฉ ูู ุฌุณู ุงูุฅุบูุงู ุฏุงุฎู <code>stream::unfold</code> .  ูุฐุง ุงููุฌูุน ูู ุชูุงุธุฑูุฉ ูุงููุฉ ูุฅุนูุงู ูุธููุฉ ุบูุฑ ูุชุฒุงูู ุฌุฏูุฏุฉ ูุน ููุณ ุงูุฌุณู ูุงูุงุชุตุงู ุจุฏูุงู ูู ูุชูุฉ ุบูุฑ ูุชุฒุงููุฉ. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title"># [ุงูููุฒุฉ (async_closure)</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุฑุจูุง ูููู ูุชุงุจุฉ ูุฐุง ุงูุฅุบูุงู ูุฑูุจูุง ุจุงุณุชุฎุฏุงู ููุฒุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code>async_closure</code></a> ุ ูููู ููุฃุณู ุ ูู ูุชู ุชูููุฐู ุจุนุฏ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs">async |(<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> fact, n)| { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> fact.checked_mul(n).is_none() { fact &gt;&gt;= <span class="hljs-number"><span class="hljs-number">1</span></span>; } fact *= n; <span class="hljs-literal"><span class="hljs-literal">Some</span></span>((fact, (fact, n + <span class="hljs-number"><span class="hljs-number">1</span></span>))) }</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ููุง ุชุฑูู ุ ูุง ูุนูู ููุน <code>Stream</code> ุงูุฌุฏูุฏ ููุท ูุน ุนูุงุตุฑ <code>Result&lt;..&gt;</code> ุ ููุง ูุงู ูู ูุจู.  ุชู ุฅุฌุฑุงุก ุชุบููุฑุงุช ููุงุซูุฉ ุนูู ุณูุฉ <code>Future</code> ุ ูุชุนุฑููุงุช ุงูุฅุตุฏุงุฑ ูุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-comment"><span class="hljs-comment">// futures 0.1 trait Future { type Item; type Error; fn poll(&amp;mut self) -&gt; Result&lt;Async&lt;Self::Item&gt;, Self::Error&gt;; } enum Async&lt;T&gt; { Ready(T), NotReady } // futures 0.3 trait Future { type Output; fn poll(self: Pin&lt;&amp;mut Self&gt;, cx: &amp;mut Context&lt;'_&gt;) -&gt; Poll&lt;Self::Output&gt;; } enum Poll&lt;T&gt; { Ready(T), Pending }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅูู ุฌุงูุจ ุญูููุฉ ุฃู ููุน ุงูุฅุฑุฌุงุน ูููู ุฃู ูููู ุชุนุณููุงู ุ ูุฅู ูุนููุงุช ุงูุฅุฏุฎุงู ุงูุฎุงุตุฉ ุจู <code>Future::poll</code> ูุฏ ุชุบูุฑุช ุฃูุถูุง.  ุธูุฑุช ูุนููุฉ <code>Context</code> ุฌุฏูุฏุฉ ุ ูุงูุชู ุชููุฑ ูุงุฌูุฉ ุตุฑูุญุฉ ููุงุณุชููุงุธ ูู ุงููููุฉ ุงูุญุงููุฉ.  ูู ุงูุณุงุจู ุ ูุงู ูููู ุชุญููู ููุณ ุงูุดูุก ูู ุฎูุงู ุงููุชุบูุฑุงุช ุงูุนุงูุฉ ููููุฐ ูุนูู (ุนูู ุณุจูู ุงููุซุงู ุ ุนู ุทุฑูู ุงุณุชุฏุนุงุก <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code>tokio::prelude::task::current().notify()</code></a> ). </p><br><p style=";text-align:right;direction:rtl">  ุงููุฑู ุงูุฃูุซุฑ ุฌููุฑูุฉ ุจูู ุงููุงุฌูุฉ ูู ุฃูู ูุฌุจ ุนููู ุงูุชูุงู ุงูุฑุงุจุท ุจููุณู ูู <code>Pin</code> .  ูุถูู ูุฐุง ุงููุฌูุน ุงูููุฌูุฏ ููู ุงููุคุดุฑ "ุซุจุงุช" ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ ูู ุงูุฐุงูุฑุฉ (ููุฌุฏ ูุตู ุฃูุซุฑ ุชูุตููุงู ูู <code>Pin</code> ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฅุตุฏุงุฑ 1.33 ูู ุงููุญูู ุงูุจุฑูุฌู</a> ุนูู ููุญุฉ ุงููุตู ุ ุฃู ุจุงููุบุฉ ุงูุฅูุฌููุฒูุฉ ุ ูู ูุซุงุฆู ููุชุจุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">std :: pin</a> ุงูููุงุณูุฉ). </p><br><p style=";text-align:right;direction:rtl">  ุฏุนููุง ูุญุงูู ุชุดุบูู ูุซุงููุง ุงูุขู.  ูุธุฑูุง ูุฃู <code>Sink</code> ูุฃุฎุฐ ูุตู ุงูููุงุฉ ูู ุงูุนููุฏ ุงููุณุชูุจููุฉ ูุนูู ุฌุงูุจ ุงูุฅุฎุฑุงุฌ ุ ุณูุทุจุน ุงููุชูุฌุฉ ูุน ุจุนุถ ุงูุชุฃุฎูุฑ ุจูู ุงูุชูุฑุงุฑุงุช.  ูู ุงูุนููุฏ ุงููุณุชูุจููุฉ - 0.1 ุ ูููู ูุชุงุจุฉ ูุฐุง ุงูุฑูุฒ ุนูู ุงููุญู ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> std::time::{Duration, Instant}; <span class="hljs-comment"><span class="hljs-comment">// futures 0.1.29 use futures::prelude::*; use futures::sync::mpsc; // tokio 0.1.22 use tokio::runtime::Runtime; use tokio::timer::Delay; fn main() { let mut rt = Runtime::new().unwrap(); let (tx, rx) = mpsc::channel(32); rt.spawn(Box::new(sink_fibb_series(tx.sink_map_err(|_e| ())))); let fut = rx.take(100).for_each(|val| { println!("{}", val); Delay::new(Instant::now() + Duration::from_millis(50)) .map(|_| ()) .map_err(|_| ()) }); rt.spawn(Box::new(fut)); rt.shutdown_on_idle().wait().unwrap(); }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฑูุฒ ูุดุงุจู ูุน tokio ุงูุฌุฏูุฏ (ูุงูุฐู ูุง ูุฒุงู ููุช ูุชุงุจุฉ ุฃููุง) ูุงูุนููุฏ ุงูุขุฌูุฉ 0.3 ูุฏ ุชุจุฏู ููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> std::time::Duration; <span class="hljs-comment"><span class="hljs-comment">// futures 0.3.1 use futures::channel::mpsc; use futures::prelude::*; // tokio 0.2.0-alpha.5 use tokio::timer; #[tokio::main] async fn main() { let (tx, rx) = mpsc::channel(32); tokio::spawn(sink_fibb_series(tx)); rx.take(100) .for_each(|val| { println!("{}", val); timer::delay_for(Duration::from_millis(50)) }) .await; }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุง ุชุฑูู ุ ุฃุตุจุญ ุงูุฑูุฒ ุงูุฎุงุต ุจุงูุนููุฏ ุงูุขุฌูุฉ ุงูุฌุฏูุฏุฉ ุฃูุตุฑ ุจูุซูุฑ.  ููููุง ูุชุฌุฑุจุฉ ุงููุคูู ุ ูุฅู ุนุฏุฏ ุงูุฎุทูุท ุฏุงุฆููุง ูุง ูููู ุฃูู ูุซูุฑูุง (ุฃุญูุงููุง ุญุชู ุนูุฏ ุฅุนุงุฏุฉ ูุชุงุจุฉ ุงูููุฏ ุงููุชุฒุงูู).  ูููู ูุจุฏู ูู ุฃู ููุงู ุงุฎุชูุงููุง ุฃูุจุฑ ุจูุซูุฑ ูู ูุงุจููุฉ ุงููุฑุงุกุฉ ูุนุฏู ูุฌูุฏ ูุฒูุฌ ูู <code>map_err</code> <code>map</code> / <code>map_err</code> ุ ูุงูุชู ูุงูุช ุถุฑูุฑูุฉ ุจุณุจุจ ุชุจุงูู ุงูุฃุฎุทุงุก ูู ุงูุฃููุงุน ุงูููุงุณูุฉ ูู <code>Result&lt;..&gt;</code> . </p><br><p style=";text-align:right;direction:rtl">  ุธูุช ูุญุฏุงุช ุงูุฌูุน ุนูู ุนูุงุตุฑ ูู ุงูููุน <code>Result&lt;..&gt;</code> ูุน ุฐูู ููู ูู ุฃููุงุน ูููุตูุฉ ุ ุจุนุถูุง ูุญูู ุงุณููุง ุชู ุชุญุฏูุซู ููููุงู.  ุงูุขู ูุชู ุชูุณูููู ุฅูู ููุนูู ูุฎุชูููู ุ  ุชูู ุงูุชู ูุชู ุชูููุฐูุง ูู ุฃุฌู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฌููุน ุงูุนูุงุตุฑ: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code>futures::FuturesExt</code></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code>futures::StreamExt</code></a> ุ </li><li style=";text-align:right;direction:rtl">  ุนูุงุตุฑ ุงูููุน <code>Result&lt;..&gt;</code> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code>futures::TryFuturesExt</code></a> ู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code>futures::TryStreamExt</code></a> . </li></ul><br><p style=";text-align:right;direction:rtl">  ูุนุฏ ุชูููุฐ ุณูุงุช <code>Future</code> ูุงูุฏูู ุฃูุซุฑ ุชุนููุฏูุง.  ุนูู ุณุจูู ุงููุซุงู ุ ุฏุนููุง ูุญุงูู ุชูููุฐ <code>Stream</code> ูุณูุณูุฉ ุงูุฃุฑูุงู ุงูุชู ุชู ุงููุธุฑ ูููุง ุจุงููุนู.  ุงูููุน ุงูุดุงุฆุน ูููุง ุงูุฅุตุฏุงุฑูู ูู ุงูุนููุฏ ุงููุณุชูุจููุฉ ุณูููู ุนูู ุงููุญู ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FactStream</span></span></span></span> { fact: <span class="hljs-built_in"><span class="hljs-built_in">u32</span></span>, n: <span class="hljs-built_in"><span class="hljs-built_in">u32</span></span>, } <span class="hljs-keyword"><span class="hljs-keyword">impl</span></span> FactStream { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">new</span></span></span></span>() -&gt; <span class="hljs-keyword"><span class="hljs-keyword">Self</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">Self</span></span> { fact: <span class="hljs-number"><span class="hljs-number">1</span></span>, n: <span class="hljs-number"><span class="hljs-number">1</span></span> } } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ููุนููุฏ ุงููุณุชูุจููุฉ - 0.1 ุ ุณูููู ุงูุชูููุฐ ููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-keyword"><span class="hljs-keyword">impl</span></span> Stream <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> FactStream { <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Item</span></span></span></span> = <span class="hljs-built_in"><span class="hljs-built_in">u32</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Error</span></span></span></span> = (); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">poll</span></span></span></span>(&amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>) -&gt; Poll&lt;<span class="hljs-built_in"><span class="hljs-built_in">Option</span></span>&lt;Self::Item&gt;, Self::Error&gt; { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.fact.checked_mul(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.n).is_none() { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.fact &gt;&gt;= <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.fact *= <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.n; <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.n += <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-literal"><span class="hljs-literal">Ok</span></span>(Async::Ready(<span class="hljs-literal"><span class="hljs-literal">Some</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.fact))) } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุฐุง ุงููุซุงู ุ ูุนุฏ ุชุทุจูู <code>Stream::poll</code> ุนู ูุณุฎุฉ ูุงููุฉ ุจุงููุนู ูู <code>stream::unfold</code> ุงูุฅุบูุงู <code>stream::unfold</code> .  ูู ุญุงูุฉ ุงูุนููุฏ ุงูุขุฌูุฉ 0.3 ุ ูููู ุงูุชูููุฐ ููุงูุฆูุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-keyword"><span class="hljs-keyword">impl</span></span> Stream <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> FactStream { <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Item</span></span></span></span> = <span class="hljs-built_in"><span class="hljs-built_in">u32</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">poll_next</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>: Pin&lt;&amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Self</span></span>&gt;, _cx: &amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> Context&lt;<span class="hljs-symbol"><span class="hljs-symbol">'_</span></span>&gt;) -&gt; Poll&lt;<span class="hljs-built_in"><span class="hljs-built_in">Option</span></span>&lt;Self::Item&gt;&gt; { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.fact.checked_mul(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.n).is_none() { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.fact &gt;&gt;= <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.fact *= <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.n; <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.n += <span class="hljs-number"><span class="hljs-number">1</span></span>; Poll::Ready(<span class="hljs-literal"><span class="hljs-literal">Some</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.fact)) } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุน ุฐูู ุ ุฅุฐุง ูุงู ููุน ุญูู ุงููููู ูุง ูููู ุจุชุทุจูู <code>std::ops::DerefMut</code> ููู ูุชู ุชูููุฐ <code>std::ops::DerefMut</code> ุนูู <code>Pin&lt;&amp;mut T&gt;</code> ูุจุงูุชุงูู ูู ูููู ููุงู ูุตูู ูุงุจู ููุชุบููุฑ ุฅูู ุฌููุน ุงูุญููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> std::marker::PhantomPinned; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Fact</span></span></span></span> { inner: <span class="hljs-built_in"><span class="hljs-built_in">u32</span></span>, <span class="hljs-comment"><span class="hljs-comment">//    Unpin   _pin: PhantomPinned, } struct FactStream { fact: Fact, n: u32, } impl Stream for FactStream { type Item = u32; fn poll_next(self: Pin&lt;&amp;mut Self&gt;, _cx: &amp;mut Context&lt;'_&gt;) -&gt; Poll&lt;Option&lt;Self::Item&gt;&gt; { while self.fact.inner.checked_mul(self.n).is_none() { self.fact.inner &gt;&gt;= 1; // &lt;-   // trait `DerefMut` is required to modify // through a dereference, but it is not // implemented for `std::pin::Pin&lt;&amp;mut FactStream&gt;` } self.fact.inner *= self.n; // &lt;-   self.n += 1; // &lt;- Poll::Ready(Some(self.fact.inner)) } }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุฐู ุงูุญุงูุฉ ุ ูู ูููุฐุฌ ุฃู ุขุฎุฑ ุ ุณูุชุนูู ุนููู ุงุณุชุฎุฏุงู ุงูุฏุงูุชูู ุบูุฑ <code>Pin::get_unchecked_mut</code> ู <code>Pin::map_unchecked_mut</code> ุฃุฌู ุงูุญุตูู ุนูู "ุฅุณูุงุท" <code>!Unpin</code> ุญููู ุงูุญููู ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุงู</a> ูุตู ุฃูุซุฑ ุชูุตููุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู ุงููุซุงุฆู</a> ).  ูุญุณู ุงูุญุธ ุ ูู ูุซู ูุฐู ุงูุญุงูุงุช ุ ููุฌุฏ ุจุฑูุงูุฌ ุชุบููู ุขูู ุชู ุชูููุฐู ูู ููุต pin_project (ูููู ุงูุนุซูุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุนูู</a> ุชูุงุตูู ุงูุชูููุฐ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู ูุซุงุฆู ุงูููุชุจุฉ</a> ). </p><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> pin_project::pin_project; <span class="hljs-meta"><span class="hljs-meta">#[pin_project]</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FactStream</span></span></span></span> { fact: Fact, n: <span class="hljs-built_in"><span class="hljs-built_in">u32</span></span>, } <span class="hljs-keyword"><span class="hljs-keyword">impl</span></span> Stream <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> FactStream { <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Item</span></span></span></span> = <span class="hljs-built_in"><span class="hljs-built_in">u32</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">poll_next</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>: Pin&lt;&amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Self</span></span>&gt;, _cx: &amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> Context&lt;<span class="hljs-symbol"><span class="hljs-symbol">'_</span></span>&gt;) -&gt; Poll&lt;<span class="hljs-built_in"><span class="hljs-built_in">Option</span></span>&lt;Self::Item&gt;&gt; { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> <span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> this = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.project(); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> this.fact.inner.checked_mul(*this.n).is_none() { this.fact.inner &gt;&gt;= <span class="hljs-number"><span class="hljs-number">1</span></span>; } this.fact.inner *= *this.n; *this.n += <span class="hljs-number"><span class="hljs-number">1</span></span>; Poll::Ready(<span class="hljs-literal"><span class="hljs-literal">Some</span></span>(this.fact.inner)) } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูููุทุฉ ุงูุฃุฎูุฑุฉ ุงูุชู ุฃูุฏ ุชุณููุท ุงูุถูุก ุนูููุง ูู ุงูุงุณุชูุฑุงุฑ ุงููุชุจุงุฏู ุจูู ุฃููุงุน ุงูุฅุตุฏุงุฑุงุช ุงููุฎุชููุฉ.  ููููุงู ุจุฐูู ุ ููุงู ูุญุฏุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุณุชูุจููุฉ :: compat</a> ุ ุชุชูุญ ูู ุงูุชุญููู ูู ุงูุฃููุงุน ุงููุฏููุฉ ุฅูู ุงูุฃููุงุน ุงูุฌุฏูุฏุฉ ูุงูุนูุณ.  ุนูู ุณุจูู ุงููุซุงู ุ ููููู ุงูุชูุฑุงุฑ ุนุจุฑ <code>Stream</code> ูู ุงูุนููุฏ ุงูุขุฌูุฉ -0.1 ุจุงุณุชุฎุฏุงู async-await: </p><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> std::fmt::Display; <span class="hljs-comment"><span class="hljs-comment">// futures 0.3 use new_futures::compat::Compat01As03 as Compat; use new_futures::StreamExt as _; // futures 0.1 use old_futures::Stream as OldStream; async fn stream_iterate&lt;E&gt;( old_stream: impl OldStream&lt;Item = impl Display, Error = E&gt;, ) -&gt; Result&lt;(), E&gt; { let stream = Compat::new(old_stream); let mut stream = Box::pin(stream); while let Some(item) = stream.as_mut().next().await.transpose()? { println!("{}", item); } Ok(()) }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุงุญุธุฉ: ูุนุชุจุฑ ููููุฐ tokio ููุท ูู ุงูููุงูุฉ ุงูุฃูุซุฑ ุนูุฑุงู ูุงูุฃูุซุฑ ุงูุชุดุงุฑูุง.  ููุน ุฐูู ุ ูุฅู ุงูุนุงูู ูุง ููุชูู ุนูุฏ ูุฐุง ุงูุญุฏ ุ ุนูู ุณุจูู ุงููุซุงู ุ ููุฌุฏ ุจุฏูู ุบูุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code>async-std</code></a> ุ ูููุฑ ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code>LocalPool</code></a> ูุณุชูุจููุฉ ูุฃููุงุน ุงูููุชุจุฉ ุงูููุงุณูุฉ ุ ุจุงูุฅุถุงูุฉ ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code>ThreadPool</code></a> ู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code>LocalPool</code></a> ูู ููุชุจุฉ futures-0.3. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar475272/">https://habr.com/ru/post/ar475272/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar475258/index.html">ุชูุซูู ูุฑุฆู ููุงูุชุฎุงุจุงุช ูู ุณุงู ุจุทุฑุณุจุฑุบ - ุณุญุฑ ุงูุชูุงู ุงูุตูุช</a></li>
<li><a href="../ar475260/index.html">ุงููุฑู ุจูู ุฏุงูุฉ ุบูุฑ ูุชุฒุงููุฉ ููุธููุฉ ุชููู ุจุฅุฑุฌุงุน ูุนุฏ</a></li>
<li><a href="../ar475262/index.html">ููุฎุต ุงูููุงุฏ ุงูุทุงุฒุฌุฉ ูู ุนุงูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ููุฃุณุจูุน ุงููุงุถู ุฑูู 388 (ูู 4 ุฅูู 10 ููููุจุฑ 2019)</a></li>
<li><a href="../ar475268/index.html">ูุนููุงุช ุบูุฑ ูุคูุฏุฉ ูุทุฑููุฉ ุนุงูููุฉ ูุฅูุดุงุก ุจููุฉ ุงูุชุทุจูู ูู C ++ ู Java ูุญุฏ ุฃุฏูู. ุงูุณุนุฑ</a></li>
<li><a href="../ar475270/index.html">SwiftUI: ุฅูุดุงุก ุฃูุณุงู ูุงุจูุฉ ููุชูุณูุน / โโูุงุจูุฉ ููุทู ูู ุนุฑุถ ุงููุงุฆูุฉ</a></li>
<li><a href="../ar475276/index.html">ููู ุชูุชุจ ุจุดูู ุตุญูุญ</a></li>
<li><a href="../ar475280/index.html">ูููุงุช ูุฑูุฑ ุณูุณูู ุ ูุชุฑุญูู ููุทูุฉ DNS ุ ูุทูุจุงุช LDAP ุตูุฑ ุ ูููู ุจุชุฌููุน ุญุฒู Ethernet. ุญู ุงููุดููุงุช ุนูู ุงูุดุจูุฉ ุจุงุณุชุฎุฏุงู r0ot-mi. ุงูุฌุฒุก 2</a></li>
<li><a href="../ar475284/index.html">ูุฏูุฑ ุฏูููุฉ ูุงุญุฏุฉ ูุงููุฑูุฏ ุ ุฎูุงุตุฉ</a></li>
<li><a href="../ar475286/index.html">Trigeneration: ุจุฏูู ูุงูุฏุงุฏุงุช ุงูุทุงูุฉ ุงููุฑูุฒูุฉ</a></li>
<li><a href="../ar475288/index.html">ุชูููุฒ ุงูููุธู ุญุณุจ ุงูุนูุฑ - ุจูุง ุฑุญูุฉ ูุจูุง ูุนูู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>