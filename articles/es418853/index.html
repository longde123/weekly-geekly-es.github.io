<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíÉüèæ üëÉüèΩ üßôüèª Detalles sobre la actualizaci√≥n de Testigos segregados y las consecuencias de su adopci√≥n en Bitcoin ü•ö üßòüèº üë®üèæ‚Äçüé§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En este art√≠culo, tratamos de examinar en detalle los cambios en el protocolo de Bitcoin que ocurrieron como resultado de la actualizaci√≥n de Softfork...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Detalles sobre la actualizaci√≥n de Testigos segregados y las consecuencias de su adopci√≥n en Bitcoin</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/distributedlab/blog/418853/">  En este art√≠culo, tratamos de examinar en detalle los cambios en el protocolo de Bitcoin que ocurrieron como resultado de la actualizaci√≥n de Softfork de Segregated Witness.  Tocamos temas relacionados con la maleabilidad de las transacciones, manteniendo la compatibilidad con versiones anteriores, aumentando el rendimiento, nuevos formatos de serializaci√≥n de transacciones, nuevas opciones de secuencias de comandos, formato de direcci√≥n Bech32 y sus ventajas, conceptos de peso, tama√±o y tama√±o virtual.  Adem√°s, a continuaci√≥n se presentan las estad√≠sticas m√°s importantes sobre la adaptaci√≥n de la actualizaci√≥n y las respuestas a las preguntas frecuentes sobre el tema de esta actualizaci√≥n. <br><a name="habracut"></a><br>  Antes de continuar con una descripci√≥n detallada de todos los cambios en esta actualizaci√≥n, le sugerimos que se familiarice con la idea principal de Testigo segregado.  Literalmente, Testigo segregado se traduce del ingl√©s como "testigo separado".  El concurso de Bitcoin implica que la evidencia de propiedad de las monedas se almacenar√° por separado de los datos maestros de la transacci√≥n, como se indica en el diagrama. <br><img src="https://habrastorage.org/getpro/habr/post_images/140/425/704/14042570432bac8ca7d1f3d3058e43ae.png" alt="imagen"><br>  Si consideramos la actualizaci√≥n completa del protocolo, entonces incluye muchas otras mejoras.  SegWit le permite aumentar el ancho de banda de la red, separar la evidencia de la propiedad de las monedas del resto de los datos de la transacci√≥n, corregir los defectos en el formato de transacci√≥n asociado con la capacidad de modificar los datos en las transacciones firmadas (maleabilidad de la transacci√≥n), al tiempo que mantiene la compatibilidad con versiones anteriores del protocolo.  Y el mayor valor de esta actualizaci√≥n es que le permite implementar muchas soluciones fuera de la cadena muy importantes adem√°s del protocolo Bitcoin. <br><br><h2>  Problema y soluci√≥n de maleabilidad de transacciones </h2><br>  La conclusi√≥n es que cuando se trabaja en Bitcoin, existe la oportunidad de cambiar la transacci√≥n para que permanezca correcta durante la verificaci√≥n.  Estos cambios son muy menores, no afectan las direcciones del remitente y el destinatario, pero son suficientes para cambiar el resultado del hash.  En otras palabras, la transacci√≥n transferir√° las monedas a sus direcciones anteriores, pero su valor hash modificado ya no coincidir√° con la transacci√≥n modificada con la original. <br><br>  Obviamente, la situaci√≥n descrita anteriormente solo puede ocurrir con transacciones que a√∫n no han recibido confirmaci√≥n.  Sin su soluci√≥n, es imposible lograr un funcionamiento confiable de los protocolos fuera de la cadena, que incluyen la construcci√≥n de cadenas de transacciones no confirmadas.  Dado que al compilar una transacci√≥n, no todos los datos est√°n firmados (por ejemplo, no puede firmar scriptSig), existe la posibilidad de varios tipos de ataques: <br><br><ol><li>  <i>Cambiar el formato de la firma</i> .  En el protocolo de Bitcoin, el formato de firma no est√° estrictamente aprobado y depende de la implementaci√≥n de la biblioteca OpenSSL, en la cual el formato estricto tampoco est√° definido para la firma.  Un tercero puede modificar la transacci√≥n interceptada, lo que implicar√° un cambio en el valor hash. </li><li>  <i>Impacto directamente en scriptSig</i> .  Como se se√±al√≥ anteriormente, scriptSig contiene un conjunto de operaciones para verificar la evidencia de que un usuario en particular es el propietario de las monedas.  Pero adem√°s de estas operaciones, puede agregarle otras.  Algunas operaciones inofensivas que no afectan nada conducir√°n a un cambio en el valor hash de la transacci√≥n. <br></li></ol><br>  Por lo tanto, puede cambiar el valor hash de una transacci√≥n sin tener acceso a claves privadas.  ¬øPor qu√© es tan indeseable cambiar un valor hash? <br><br>  En primer lugar, debe tenerse en cuenta que es posible crear una copia de la transacci√≥n original, agregar cambios que no afecten su correcci√≥n durante la verificaci√≥n y enviarla a la red.  Una copia modificada con un valor hash diferente gasta las mismas monedas que el original, por lo que puede competir con la transacci√≥n original para su confirmaci√≥n. <br><br>  Los protocolos fuera de la cadena se han mencionado anteriormente.  Para su implementaci√≥n, es necesaria una soluci√≥n al problema de la maleabilidad de las transacciones.  En el coraz√≥n de su trabajo est√° la construcci√≥n de cadenas de transacciones no confirmadas.  Cambiar el valor hash de la primera transacci√≥n implicar√° la invalidez de toda la cadena de las no confirmadas. <br><br>  La actualizaci√≥n SegWit defini√≥ reglas estrictas para completar los campos, por lo que los problemas asociados con la maleabilidad de las transacciones para las transacciones del nuevo formato pueden considerarse resueltos.  Esto nos permiti√≥ especificar datos y serializarlos sin ambig√ºedades, eliminando la dualidad. <br><br><h2>  Compatibilidad con versiones anteriores al distribuir un bloque a trav√©s de una red </h2><br>  De acuerdo con las reglas anteriores, el tama√±o m√°ximo de bloque es de 1 MB y contiene transacciones con evidencia incorporada.  Si bien las nuevas reglas suponen que el tama√±o m√°ximo del bloque base es de 1 MB, pero adicionalmente hay una estructura de datos con evidencia.  En consecuencia, el tama√±o total del nuevo bloque supera 1 MB. <br><br>  Para la compatibilidad con versiones anteriores, las reglas de protocolo permiten que los nodos antiguos trabajen con bloques nuevos, pero recibir√°n el bloque solo en la configuraci√≥n b√°sica con un tama√±o m√°ximo de 1 MB.  La estructura de testigos no est√° disponible para ellos.  Los nuevos nodos obtienen un bloque completo con transacciones y evidencia.  La siguiente figura lo ayudar√° a familiarizarse con esta pregunta. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5d8/995/70d/5d899570dc1234ff9f57fd1dd9793171.png" alt="imagen"><br><br>  A la izquierda hay un diagrama del funcionamiento del protocolo Bitcoin antes de la activaci√≥n de Testigo segregado.  El bloque ten√≠a un tama√±o m√°ximo de 1 MB, y se distribuy√≥ entre diferentes nodos de red en una forma. <br><br>  Dado que el tama√±o del bloque es limitado, el n√∫mero de transacciones que se pueden colocar tambi√©n es limitado, y la capacidad del sistema depende de esto.  Por supuesto, cuando surgi√≥ la cuesti√≥n de aumentar el rendimiento, lo primero que comenzaron a buscar fue la forma de aumentar el tama√±o m√°ximo de bloque. <br><br><h2>  Formas de aumentar el rendimiento </h2><br>  Considere las dos formas principales de resolver el problema de aumentar el rendimiento del sistema.  Cualquier oferta es cuidadosamente revisada y probada por el equipo de desarrollo del protocolo Bitcoin.  Si la comunidad lleg√≥ a un acuerdo y decidi√≥ implementar la propuesta en el protocolo, se emite una actualizaci√≥n. <br><br>  Actualizaci√≥n de Hardfork.  El lugar m√°s com√∫n de actualizaciones es aumentar el tama√±o del bloque.  Se supone que una unidad acomodar√° m√°s transacciones, aumentando el rendimiento.  Sin embargo, dicha unidad no ser√° aceptada por los nodos que operan de acuerdo con el protocolo anterior, cuyas reglas establecen que el tama√±o m√°ximo de bloque no puede exceder 1 MV.  Tal cambio requiere hardfork, que es organizacionalmente m√°s complejo que softfork. <br><br>  Actualizaci√≥n de SoftFork.  Testigo segregado nos permite resolver este problema con softfork.  Como exactamente  Nos permite dividir el bloque en dos partes, la primera de las cuales almacena transacciones, y la segunda contiene evidencia.  Al mismo tiempo, los nuevos nodos de red reciben ambas partes, mientras que los antiguos reciben solo un bloque de transacci√≥n de 1 MB.  Los nodos antiguos no pueden recibir bloques con evidencia y, en consecuencia, no pueden validar las transacciones que reciben, pero esto les permite participar en la creaci√≥n de consenso y no recurrir a hardfork, sino cambiar gradualmente a un nuevo software. <br><br><h2>  Testigo segregado de innovaciones </h2><br>  Considere lo que se incluye en la actualizaci√≥n de Testigos segregados.  La primera y m√°s importante innovaci√≥n de Segregated Witness es el nuevo formato de serializaci√≥n de transacciones.  Adem√°s de los campos ya conocidos, hay tres campos nuevos en la nueva transacci√≥n: marcador, bandera, que se utilizan para el control de versiones y en este caso est√°n estrictamente establecidos, pero en los siguientes protocolos pueden cambiar, as√≠ como el campo testigo.  Testigo (datos de testigos) es en realidad un conjunto de evidencia de propiedad de monedas que se saca de la parte principal de la transacci√≥n.  Estructuralmente, se ve como un conjunto de entradas, con cada elemento de datos testigo correspondiente a una entrada con un n√∫mero espec√≠fico, lo que le permite comparar la evidencia con monedas espec√≠ficas gastadas. <br><br><h2>  Identificaci√≥n de la transacci√≥n del testigo </h2><br>  Para obtener el identificador de transacci√≥n (id de transacci√≥n, txid), debe llevar la transacci√≥n a una secuencia de datos en un formato de serializaci√≥n especial y luego obtener el valor hash de esta secuencia de datos.  Con la introducci√≥n de Testigo segregado, han aparecido un nuevo identificador, un identificador de transacci√≥n de testigo (wtxid) y un nuevo formato de serializaci√≥n, respectivamente.  Para transacciones antiguas que gastan dinero sin usar Testigo segregado, wtxid ser√° lo mismo que txid porque no tendr√°n nuevos campos agregados a Testigo segregado. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ad8/429/d20/ad8429d2070a8b7c76e2a5b84f937dba.png" alt="imagen"><br><br>  Se necesita Wtxid para construir un √°rbol de Merkle alternativo como evidencia.  Est√° construido de la misma manera que para las transacciones ordinarias, solo se usa wtxid en lugar del hash de la transacci√≥n.  En consecuencia, los wtxid se combinan en pares y dan como resultado la ra√≠z de Merkle. <br><br>  Es importante tener en cuenta que la ra√≠z de Merkle se inserta en una transacci√≥n de coinbase, y no en el encabezado del bloque.  Si la ra√≠z estuviera en el encabezado del bloque, la estructura del bloque cambiar√≠a.  Los nodos que admiten el antiguo protocolo no podr√≠an funcionar con dichos bloques.  Y todos los esfuerzos para mantener la compatibilidad con versiones anteriores descansar√≠an en contra de esta inconsistencia.  Por lo tanto, la ra√≠z se inserta en una de las salidas de la transacci√≥n de coinbase.  Cuando todos los nodos cambian a Testigo segregado, esta situaci√≥n puede cambiar y se considerar√°n nuevos enfoques. <br><br><h2>  Programas de testigos para establecer condiciones para gastar monedas </h2><br>  Veamos c√≥mo se construye el script de transacciones de Segregated Witness y c√≥mo permite que los nodos de red m√°s antiguos comprendan que las transacciones de Segregated Witness son correctas, a pesar de que no reciben evidencia de propiedad de monedas. <br><br>  El script que describe las reglas para gastar monedas de una transacci√≥n de nuevo formato consta de dos partes.  La primera parte es el byte de la versi√≥n testigo (el byte que especifica la versi√≥n del programa testigo).  Puede tomar valores de 0 a 16 (OP0-OP16), ahora usa OP0.  En el futuro, pueden aparecer nuevas versiones del protocolo con soporte para otras versiones del programa de testigos.  La segunda parte es el programa de testigos.  Esta parte puede tener un tama√±o de 2 a 40 bytes. <br><br>  El programa Testigo es el resultado de trocear un gui√≥n testigo.  El gui√≥n testigo en s√≠ contiene una descripci√≥n completa de las condiciones para gastar monedas.  Los datos de testigos contienen pruebas de propiedad de monedas que deben cumplir las condiciones del gui√≥n de testigos.  En consecuencia, los datos de testigos siempre constan de dos partes: un gui√≥n de testigos y una prueba de propiedad de las monedas. <br><br>  Vale la pena se√±alar que el programa testigo no contiene ninguna operaci√≥n (coincidencia de valores hash, verificaci√≥n de firmas electr√≥nicas), y el script en s√≠ comienza con el c√≥digo OP0, por lo tanto, es v√°lido para todos los nodos antiguos.  Adem√°s, los nodos que no se han actualizado a SegWit no comprueban la evidencia de propiedad de monedas para nuevos formatos de salida; en cualquier caso, consideran que ese desperdicio es correcto.  Estrictamente hablando, los nodos antiguos aceptar√°n transacciones de un nuevo formato incluso si su remitente no posee las monedas correspondientes.  Es por eso que SegWit requiere que los propietarios de la mayor parte de la potencia minera de Bitcoin acepten esta actualizaci√≥n.  Otra caracter√≠stica es que el scriptSig de una transacci√≥n que gasta monedas de la salida del nuevo formato estar√° vac√≠o. <br><br><h2>  Nuevas opciones para establecer las condiciones para gastar monedas </h2><br>  Con la introducci√≥n de SegWit, se propusieron dos formatos est√°ndar para scriptPubKey, que se convirti√≥ en una alternativa a los dos formatos m√°s comunes para establecer reglas de gasto de monedas antes de que apareciera esta actualizaci√≥n.  Consideremos en orden. <br><br>  <i>Pagar para presenciar hash de clave p√∫blica</i> (P2WPKH) es un an√°logo del pago est√°ndar para hash de clave p√∫blica.  Cual es su diferencia?  Como se se√±al√≥ anteriormente, el scriptSig no se llena y permanece vac√≠o.  Toda evidencia de propiedad de monedas se transfiere a la estructura de datos de testigos. <br><br>  En este caso, el script que se consider√≥ anteriormente, la versi√≥n y el hash de la clave p√∫blica, que es el programa testigo, se inserta en scriptPubKey.  Un nodo en la red distingue tal script de gasto de otros debido al hecho de que tiene una versi√≥n de uno y un tama√±o de datos de 20 bytes.  Otra versi√≥n y un tama√±o diferente llevan diferentes reglas de gasto. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8e6/5da/4ee/8e65da4eeac53c4333499dccc963f3b1.png" alt="imagen"><br><br>  En este caso, scriptPubKey contiene dos partes: el n√∫mero de versi√≥n testigo es cero y el valor hash de la clave p√∫blica del destinatario.  ScriptSig estar√° vac√≠o y los datos del testigo contendr√°n una firma electr√≥nica y una clave p√∫blica para verificarlo. <br><br>  <i>El hash de script de pago a testigo</i> (P2WSH) es un an√°logo del hash est√°ndar de pago a script.  En este caso, se puede usar un script personalizado para establecer las reglas para gastar monedas.  ¬øC√≥mo distingue un host tal script del anterior?  En este caso, la versi√≥n todav√≠a tiene un valor de uno, y el programa testigo toma 32 bytes y es un valor hash del script testigo.  Si una transacci√≥n llega a un host que contiene un script que tendr√° la primera versi√≥n, pero su tama√±o diferir√° de los valores de 20 o 32 bytes, entonces el host rechazar√° esta transacci√≥n porque no sabr√° c√≥mo trabajar con ella. <br><br>  Los datos de los testigos aqu√≠ se dividen en dos partes.  El primero contiene un conjunto de pruebas de propiedad de monedas, es decir, un conjunto de firmas.  En la segunda parte, se coloca un gui√≥n testigo, cuyo contenido solo establece las reglas para gastar monedas, pero en este caso se indica al momento de gastar, y al momento de enviar las monedas se indic√≥ su valor hash. <br><img src="https://habrastorage.org/getpro/habr/post_images/eb6/b5f/623/eb6b5f623d679822fbded33979e4c27e.png" alt="imagen"><br>  En este caso, scriptPubKey contiene dos partes: el n√∫mero testigo de la versi√≥n es cero y el valor hash del script testigo para el caso de la firma m√∫ltiple 1 de 2.  ScriptSig estar√° vac√≠o, y los datos del testigo contendr√°n la firma electr√≥nica y el gui√≥n del testigo original en texto claro. <br><br><h2>  Envoltura P2SH </h2><br>  El nuevo formato de script es diferente del anterior.  En consecuencia, los servicios y billeteras antiguas no sabr√°n c√≥mo trabajar con este formato de script y c√≥mo componerlo.  Para la compatibilidad con versiones anteriores, las transacciones de Testigos segregados que utilizan P2SH utilizan un "envoltorio" especial, que le permite crear una transacci√≥n que tiene las propiedades de una transacci√≥n de Testigos segregados, pero no difiere de la P2SH habitual para el mundo exterior. <br><br>  P2SH se utiliza para simplificar el trabajo del remitente y no cargarlo con los detalles de la implementaci√≥n del Redeem Script del receptor.  En este caso, el destinatario le da al remitente solo el valor de hash de Canjear script, y el script mismo pasa a scriptSig junto con la evidencia. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/428/b92/1f8/428b921f83b964dd9cd2c46aad79edbc.png" alt="imagen"><br><br>  En este caso, scriptPubKey contiene una operaci√≥n hash, un canje de valor de hash de scrip y una operaci√≥n de comparaci√≥n (como en la versi√≥n anterior de P2SH).  ScriptSig aqu√≠ contendr√° el valor hash de la clave p√∫blica, y los datos del testigo contendr√°n la firma electr√≥nica y la clave p√∫blica. <br><br>  Este enfoque permite que las billeteras digitales no actualizadas env√≠en transacciones a direcciones de Testigos Segregados, sin saber nada sobre las nuevas formas de establecer las condiciones para gastar monedas. <br><br><h2>  Nuevo formato de direcci√≥n Bech32 </h2><br>  Vale la pena mencionar por separado las direcciones Bech32 que se consideran direcciones SegWit nativas.  Durante la mayor parte de su historia, Bitcoin ha utilizado la codificaci√≥n Base58 para direcciones con la adici√≥n de una suma de verificaci√≥n, que es un resultado truncado de doble hashing utilizando la funci√≥n hash SHA-256.  Formaban parte del software original y su alcance se ampli√≥ en BIP13 para P2SH.  Pero tanto el conjunto de caracteres como el algoritmo de suma de verificaci√≥n tienen limitaciones: <br><ul><li>  la direcci√≥n en Base58 ocupa m√°s memoria en los c√≥digos QR, porque no puede usar el modo de representaci√≥n alfanum√©rica; </li><li>  base58 es muy inconveniente para escribir en papel de manera confiable, escribir desde un teclado m√≥vil o leer en voz alta; </li><li>  el hash de doble suma de comprobaci√≥n es lento; </li><li>  La decodificaci√≥n base58 es compleja y relativamente lenta. </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/500/973/f24/500973f247d11b4556255551d84c84f8.png" alt="imagen"><br>  La actualizaci√≥n de SegWit incluye una nueva clase de salidas (programas de testigos) y dos de sus casos: P2WPKH y P2WSH.  Su funcionalidad est√° disponible indirectamente para los nodos antiguos mediante el uso de P2SH, pero ser√° m√°s √≥ptimo y m√°s seguro usarlo directamente, para esto es necesario introducir un nuevo formato de direcci√≥n. <br><br><h2>  Especificaci√≥n de direcci√≥n Bech32 </h2><br>  La direcci√≥n Bech32 tiene una longitud de no m√°s de 90 caracteres y contiene: <br><br><ol><li>  Una parte que es legible para los humanos.  Esto incluye datos que pueden necesitar ser transmitidos o que tienen algo que ver con el propietario de la direcci√≥n, de al menos 1 car√°cter de largo.  Por ejemplo, por defecto para las direcciones de la red principal los caracteres son "bc", y para testnet los caracteres son "tb". </li><li>  Un delimitador que siempre es 1.  Si se permite "1" dentro de la parte legible por humanos, entonces el separador es el √∫ltimo de los caracteres "1". <br></li><li>  La parte de datos tiene una longitud de al menos 6 caracteres y consta solo de caracteres alfanum√©ricos, excluyendo "1", "b", "i" y "o".  Aqu√≠, la versi√≥n del programa testigo y los datos del propio programa testigo (de 2 a 40 bytes) se usan aqu√≠ como datos principales. <br></li></ol><br><br><img src="https://habrastorage.org/getpro/habr/post_images/03e/531/472/03e531472b57bd39db41e7063a76fe04.png" alt="imagen"><br><br>  ¬øPor qu√© incluir un separador en las direcciones?  Esto le permite separar claramente la parte legible por humanos de la parte legible por datos, evitando posibles colisiones con otras partes legibles por humanos que usan el prefijo.  Tambi√©n evita restricciones de juego de caracteres para la parte legible por humanos.  El separador es 1 porque el uso de un car√°cter no alfanum√©rico dificulta la copia de direcciones (sin hacer doble clic en varias aplicaciones).  Por lo tanto, se seleccion√≥ un car√°cter alfanum√©rico fuera del conjunto de caracteres principal.  Adem√°s, el uso del sistema de n√∫meros base 32 va acompa√±ado de un aumento en la longitud de la direcci√≥n en un 15% en comparaci√≥n con el sistema de n√∫meros base 58, pero esto no importa al copiar direcciones. <br><br><h2>  Suma de comprobaci√≥n Bech32 direcciones </h2><br>  Los √∫ltimos 6 caracteres de la direcci√≥n son una suma de verificaci√≥n.  La suma de verificaci√≥n se basa en el c√≥digo BCH, que garantiza la detecci√≥n de cualquier error que no afecte m√°s de 4 caracteres, y la posibilidad de que la suma de verificaci√≥n converja cuando se cometen m√°s de 4 errores es uno de 109. <br><br>  Una de las ventajas de usar c√≥digos BCH es que pueden usarse para corregir errores.  Si se cometieron hasta 4 errores en la direcci√≥n, se corregir√°n autom√°ticamente.  Y si se cometen m√°s errores, se detectar√°n con una alta probabilidad, pero sin la posibilidad de su correcci√≥n autom√°tica. <br><br><h2>  May√∫sculas y min√∫sculas en la direcci√≥n </h2><br>  Se utiliza min√∫scula cuando se requiere un valor de car√°cter para una suma de verificaci√≥n. <br><br>  El software siempre muestra la cadena completa de direcciones Bech32 en min√∫sculas.       (,       QR-),    .  ,     ,       ,    .       ,   QR-    ,    - ,    45% ,   . <br><br><h2>      </h2><br>    ,    Segregated Witness,    ,      .  Segregated Witness         .       1 MB.       . ,    . <br><br>               (weight units).         3,   witness data   1.   ,  ,    witness data   3   ,    .                 .     . <br><br> <i><b>block weight = base size * 3 + total size</b></i> <br><br> <i>block weight</i> ‚Äì   (   ) <br> <i>base size</i> ‚Äì    (  ) <br> <i>total size</i> ‚Äì    (  ) <br><br>       ,                 ,    .     . <br><br>    ,          ,      , ,     4  .   Segregated Witness     ,            . <br><br>        ,       .   (virtual size) ,          ,            ,     spb (satoshi per byte). <br><br> <i><b>virtual size = weight units / 4</b></i> <br><br>      Segregated Witness   4  ,  ,        . ,       .       ,       .  ,      ,           .  ,     witness data (base size)  1 MB,      4 MB. <br><br>     : ¬´       witness data?¬ª.      . ,         1 MB  4 MB.       .   1.8 MB.   ?           60%   .      1 MB,   40%     ,    . <br><br> <i>400000  * 4 = 1600000   </i> <br> <i>600000  * 1 = 600000   </i> <br> <i>1600000 + 600000 = 2200000   </i> <br> <i>4000000 / 2200000 = 1.81 MB</i> <br><br>  ,  ,       1.8 MB.  ,              . <br><br><h2>    </h2><br>     2018   SegWit    35%      .              Segregated Witness   (, Electrum  Bitxfy). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d57/68e/0b4/d5768e0b4c94f454d6549bb7fd74a976.png" alt="imagen"><br> <i>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">BitMex Research</a></i> <br><br>             .             1 MB,     2 MB.  ,  ,    SegWit              . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/746/1b5/409/7461b54095358a8068217847cf16e67e.png" alt="imagen"><br> <i>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">BitMex Research</a></i> <br><br>             ,           . <br><br>    ,  Segregated Witness    off-chain    Bitcoin.  ,  lightning network ‚Äì          SegWit,   ,            . <br><br><h2>  Preguntas frecuentes </h2><br> <i>‚Äî   ,   Segregated Witness     RBF (replace-by-fee)?</i> <br><br> , replace by fee    Segregated Witness ,       ,     ,   ,        sequence number  .      ,    ,     ,     ,         . <br><br> <i>‚Äî      ?</i> <br><br>      -   ,    . ScriptSig,    ,    ,     .     ,         ,   - .  ,    ,  ,  -   . <br><br> <i>‚Äî     witness data?</i> <br><br>   ,  Segregated Witness     .  ,        ,    ,   . ,     .      :    ,  ,      (      ),  ,       Witness data,        .           . <br><br> <i>‚Äî       ,  RFC3548  z-base-32  Bech32 ?</i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El conjunto de caracteres se elige para minimizar la ambig√ºedad asociada con su similitud visual. </font><font style="vertical-align: inherit;">El orden se selecciona para minimizar el n√∫mero de pares de caracteres que difieren en menos de un bit de datos. </font><font style="vertical-align: inherit;">La suma de verificaci√≥n se elige para maximizar la probabilidad de detectar un peque√±o n√∫mero de errores, lo que mejora su eficiencia para los errores t√≠picos.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es418853/">https://habr.com/ru/post/es418853/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es418843/index.html">Producci√≥n Hell STALKER: Shadow of Chernobyl</a></li>
<li><a href="../es418845/index.html">C√≥mo Roskomnadzor bloquea HideMy.name y qu√© suceder√° despu√©s. Una palabra para los fundadores del servicio VPN.</a></li>
<li><a href="../es418847/index.html">Red neuronal √≥ptica</a></li>
<li><a href="../es418849/index.html">El resumen de eventos para profesionales de recursos humanos en el campo de TI para agosto de 2018</a></li>
<li><a href="../es418851/index.html">C√≥mo comprar la ilusi√≥n de seguridad en forma de relojes inteligentes para ni√±os</a></li>
<li><a href="../es418855/index.html">Abrir el seminario web "Creaci√≥n de una aplicaci√≥n en Webpack + React + Express"</a></li>
<li><a href="../es418857/index.html">Preparaci√≥n de certificados SSL para la instalaci√≥n</a></li>
<li><a href="../es418859/index.html">Algunas caracter√≠sticas de PowerShell al usar cuentas de usuario</a></li>
<li><a href="../es418861/index.html">ReactOS ahora comienza con una partici√≥n BTRFS</a></li>
<li><a href="../es418863/index.html">Comprender los accesorios de renderizado con un ejemplo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>