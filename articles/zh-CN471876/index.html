<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👊🏽 🧗 ❔ PDU和所有所有功能：机架配电 📳 🎵 🧑🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="内部虚拟化的机架之一。 与电缆的颜色指示混淆：橙色表示电源的奇数输入，绿色表示偶数。 

 在这里，我们最常谈论的是“ krupnyak”-冷却器，柴油发电机组，主配电板。 今天我们将讨论“小事情”-机架中的插座，它们也是配电单元（PDU）。 在我们的数据中心中，有4000多个机架被IT设备堵塞，因...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PDU和所有所有功能：机架配电</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dataline/blog/471876/"><img src="https://habrastorage.org/webt/eq/r1/yo/eqr1yo6q0xgzlqde_yrkplaj1hg.jpeg"><br>  <i>内部虚拟化的机架之一。</i>  <i>与电缆的颜色指示混淆：橙色表示电源的奇数输入，绿色表示偶数。</i> <br><br> 在这里，我们最常谈论的是“ krupnyak”-冷却器，柴油发电机组，主配电板。 今天我们将讨论“小事情”-机架中的插座，它们也是配电单元（PDU）。 在我们的数据中心中，有4000多个机架被IT设备堵塞，因此在实践中我看到了很多东西：经典PDU，具有监视和控制功能的“智能” PDU，普通插座块。 今天，我将告诉您哪些PDU可用，以及在特定情况下最好选择什么。 <a name="habracut"></a><br><br><h3> 什么是PDU </h3><br>  <b>一个简单的网点。</b> 是的，住在每个家庭或办公室的人。 <br> 从形式上说，从工业上来说，这并不是具有PDU设备的机架中的PDU，但是这些设备也有其风扇。 该解决方案的唯一优点是成本低廉（成本从2千卢布起）。 如果您使用开放式机架，也无法以任何方式推入标准PDU，并且您不想丢失水平PDU下方的单元，它们也可以提供帮助。 这又是保存的问题。 <br><br> 缺点还很多：此类设备并不总是具有内部保护以防止短路和过载，监控指示器，甚至更多，因此无法管理插座。 通常，它们将被放置在机架的底部。 对于用于断开设备连接的插座，这不是最方便的位置。 <br><br> 通常，在以下情况下可以使用“飞行员”： <br><br><ul><li> 您有数千台服务器，需要保存 </li><li> 您有能力盲目连接设备，而无需了解实际消耗情况， </li><li> 准备停机设备。 </li></ul><br> 我们不使用它，但是我们的客户非常成功地实践了此方法。 的确，他们以这种方式构建服务的基础结构，使得数十台服务器的故障不会影响客户端应用程序的性能。 <br><br><img src="https://habrastorage.org/webt/c2/wb/2s/c2wb2se3kwviqykqus9qfqopfdi.jpeg"><br>  <i>便宜又开朗。</i> <br><br><img src="https://habrastorage.org/webt/l8/yh/xz/l8yhxzzq2chj5wjvbu0uufl6rdg.jpeg"><br>  <i>垂直放置。</i> <br><br>  <b>哑PDU。</b> 实际上，这是用于IT设备机架中的经典PDU，这已经很好。 它们具有适当的外形尺寸，可以放置在机架的侧面，因此可以很方便地将设备连接到它们。 有内部保护。 此类PDU没有监控功能，这意味着我们将不知道哪些设备消耗了多少以及内部发生了什么。 我们几乎没有这种PDU了，总的来说，它们正在逐步摆脱大规模使用。 <br><br> 这种PDU的价格为2.5万卢布。 <br><br><img src="https://habrastorage.org/webt/gj/ok/xn/gjokxnk_xkfiyqkyee9wjzj2ygs.jpeg"><br><br>  <b>具有监控功能的智能PDU。</b> 这些设备具有大脑，并且能够跟踪能耗参数。 有一个显示主要指示器的显示屏：电压，电流和功率。 您可以通过网点的单独组来跟踪它们：部门或银行。 您可以远程连接到此类PDU，配置将数据发送到监视系统。 他们写日志，您可以通过它查看发生在她身上的所有事情，例如，当PDU关闭时。 <br><br> 他们还知道如何计算技术核算的能耗（kW * h），以了解机架在一定时间内的能耗。 <br><br> 这些是我们提供给客户租用的标准PDU，并且大多数PDU都在我们的数据中心中。 <br><br> 如果您购买，则准备每人支付75,000卢布。 <br><br><img src="https://habrastorage.org/webt/hm/2z/_r/hm2z_r5hlfaha5fcwcc8hm4jxnq.jpeg"><br><br><img src="https://habrastorage.org/webt/te/be/fm/tebefmn6gpd4neghnidr880se4c.jpeg"><br><br><img src="https://habrastorage.org/webt/-v/bx/j_/-vbxj_jf7hc00z00dhbj21sxwfm.jpeg"><br>  <i>来自我们内部PDU监控的图表。</i> <br><br>  <b>带控制功能的智能PDU。</b> 这些技能辅以上述技能的控制。 最酷的PDU控制和监视每个插座：您可以打开/关闭电源，这是在有任务需要远程重启服务器电源的情况下发生的。 这既是此类PDU的魅力所在，也是它的危险：不知不觉中，普通用户可以进入Web界面，按下某些按钮，然后一口气重启/关闭整个系统。 是的，系统将对后果进行两次警告，但实践表明，即使警报也不能始终防止用户的粗心大意。 <br><br> 智能PDU的最大问题是过热以及控制器和显示故障。  PDU通常安装在吹有热风的机架背面。 那里很热，控制器无法忍受。 在这种情况下，不需要完全更改PDU，可以将控制器更改为热控制器。 <br><br> 好吧，付出了很多代价-从12万卢布起。 <br><br><img src="https://habrastorage.org/webt/sc/ww/2i/scww2i2gmyjqwfs1saspc7hhg3i.jpeg"><br>  <i>受控的PDU可以通过每个插座下的指示来识别。</i> <br><br> 我认为，PDU中的管理功能只是一个问题，而监视是必须具备的。 否则，将无法跟踪消耗和负载。 为什么这很重要，我稍后再讲。 <br><br><h3> 如何计算所需的PDU功率？ </h3><br> 乍一看，这里的一切都很简单：根据机架的功率来选择PDU的功率，但有细微差别。 假设您需要一个10 kW的机架。  PDU制造商提供3、7、11、22 kW型号。 选择11 kW，不幸的是，你会错的。 我们将不得不选择22 kW。 为什么我们需要这么大的供应。 我现在将解释所有内容。 <br><br> 首先，制造商通常用千瓦而不是千伏安来表示PDU的功率，这是正确的，但对普通人来说并不明显。 <br> 有时制造商自己会增加更多的困惑： <br><br> 在这里先说约11 kW， <br><br><img src="https://habrastorage.org/webt/d5/d4/u9/d5d4u9lgwwimtjvkzb8r5v8p70i.png"><br><br> 在详细说明中，我们谈论的是11000 VA： <br><br><img src="https://habrastorage.org/webt/ly/zo/zi/lyzozicxuuealtfgc7im7gwo-fm.png"><br><br> 如果您要处理的是假人和类似的消费者，那么kW和kVA之间就不会有任何区别。 一个带水壶的10 kW机架将消耗10 kVA。 但是，如果我们拥有IT设备，则系数（cosφ）出现在设备上：设备越新，该系数就越接近于1。  IT设备的平均医院成本为0.93-0.95。 因此，带有IT的10 kW机架将消耗10.7 kVA。 这是我们收到10.7 kVA的公式。 <br><br>  <i>Pfull =契约/ Cos（φ）</i> <i><br></i>  <i>10 / 0.93 = 10.7 kVA</i> <br><br> 好吧，你问一个合理的问题，10.7小于11。为什么我们需要22 kW的遥控器？ 还有第二点：设备的功耗水平将取决于一天中的时间，一周中的一天。 分配电源时，必须考虑这一时刻，并应预留约10％的波动和跳动，以便在PDU消耗增加时，它们不会过载，也不会使设备断电。 <br><br><img src="https://habrastorage.org/webt/mx/je/jg/mxjejgs7lu3oi9zt2amthe0mxtu.jpeg"><br>  <i>在4天内消耗10 kW机架的时间表。</i> <br><br> 事实证明，我们必须在10.7 kW的基础上再增加10％，结果11 kW的遥控器不再适合我们。 <br><br><div class="scrollable-table"><table><tbody><tr><td> 遥控器型号 <br></td><td> 相数 <br></td><td> 制造商的力量，kVA <br></td><td> 功率DtLN，kW <br></td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">AP8858</a> <br></td><td>  1楼 <br></td><td>  3,7 <br></td><td>  3 <br></td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">AP8853</a> <br></td><td>  1楼 <br></td><td>  7.4 <br></td><td>  6 <br></td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">AP8881</a> <br></td><td>  3楼 <br></td><td>  11 <br></td><td>  9 <br></td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">AP8886</a> <br></td><td>  3楼 <br></td><td>  22 <br></td><td>  18岁 <br></td></tr></tbody></table></div><br>  <i>根据DataLine的特定PDU型号的功率表的片段。</i>  <i>考虑到从kVA到kW的转换以及白天的赛马储备。</i> <br><br><h3> 安装功能 </h3><br> 当PDU垂直安装在机架的左右两侧时，使用PDU最为方便。 在这种情况下，它不会占用可用空间。 通常，机架中最多可以安装四个PDU-左边两个，右边两个。 通常，他们在每一侧放置一个PDU。 每个PDU接收一个电源输入。 <br><br><img src="https://habrastorage.org/webt/15/xt/sx/15xtsx1ezymyuudgqccv4hmpchu.jpeg"><br>  <i>标准的“车身套件”机架-2个PDU和1个ATS。</i> <br><br> 有时在机架中没有放置垂直PDU的位置，例如，如果它是开放式机架。 然后，水平PDU得以救援。 唯一的问题是，在这种情况下，您必须接受机架中2到4个单元的丢失，具体取决于PDU型号。 <br><br><img src="https://habrastorage.org/webt/rl/zr/3q/rlzr3qasnvs2jz1rlcovcry8xym.jpeg"><br>  <i>PDU在这里分为4个单元。</i>  <i>当您需要区分同一机架中的两个客户端时，也会使用这种类型的PDU。</i>  <i>在这种情况下，每个客户端将具有单独的PDU对。</i> <br><br> 可能是机架选择得不够深，服务器伸出了，阻塞了PDU。 最可悲的是，并非部分插座处于闲置状态，而是如果这种PDU损坏，则必须将其直接埋在机架中，或者断开连接并拔出所有干扰设备。 <br><br><img src="https://habrastorage.org/webt/1z/wh/_p/1zwh_putdsjdkgr5da4af3fgpfq.jpeg"><br>  <i>请勿这样做-1。</i> <br><br><img src="https://habrastorage.org/webt/1t/fc/an/1tfcanom9tsxn-khlhyb3e8awxc.jpeg"><br>  <i>不要这样做-2。</i> <br><br><h3> 设备连接 </h3><br> 如果设备未正确连接并且无法监控消耗，则即使是最复杂的PDU也将无济于事。 <br><br> 可能出什么问题了？ 有点<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">设备</a> 。 每个机架有两个电源输入，标准机架中有两个PDU。 事实证明，每个PDU都有自己的输入。 如果其中一个输入发生故障（读取PDU），则机架继续在第二个上运行。 为了使该方案起作用，您需要遵循一些规则。 以下是主要内容（可在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">此处</a>找到完整列表）： <br><br>  <b>设备必须连接到不同的PDU。</b> 如果设备具有一个电源设备和一个插头，则通过ATS（自动转换开关）或ATS（自动转换开关）将其连接到PDU。 如果输入之一或PDU本身出现问题，ATS会将设备切换到正常的PDU /输入。 设备不会有任何感觉。 <br><br>  <b>两个输入/ PDU上的成对负载。</b> 备用输入只有能够承受掉落的输入的负载才能保存。 为此，您需要留有余量：每个输入的负载小于额定功率的一半，两个输入的总负载小于标称功率的100％。 仅在这种情况下，其余输入才可以承受双倍负载。 如果您不这样做，则切换到储备金的重点将不会发生-设备将保持断电状态。 为了防止最坏的情况，我们<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">监视</a>此参数。 <br><br>  <b>PDU部分之间的负载平衡。</b>  PDU插座分为几部分。 通常是2或3件。 每个部分都有自己的功率限制。 重要的是不要超过它，并在所有部分中平均分配负载。 好吧，上面讨论过的成对负载的故事在这里也适用。 <br><br>  <b>总结一下</b> <br><br><ol><li> 如果可能，请选择具有监视功能的PDU。 </li><li> 选择PDU型号时，请留有余量。 </li><li> 安装PDU，以便您可以在不干扰IT设备的情况下进行更换。 </li><li> 正确连接：将设备连接到两个PDU，不要使部分过载，并记住成对负载。 </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN471876/">https://habr.com/ru/post/zh-CN471876/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN471862/index.html">PEG解析器实现</a></li>
<li><a href="../zh-CN471864/index.html">PEG解析器生成</a></li>
<li><a href="../zh-CN471866/index.html">PEG解析器可视化</a></li>
<li><a href="../zh-CN471872/index.html">C＃8中的接口：默认实现中的危险假设</a></li>
<li><a href="../zh-CN471874/index.html">我们如何绕过审核指南并在电话上启动服务器</a></li>
<li><a href="../zh-CN471878/index.html">如何在本体网络上为WebAssembly编写智能合约？ 第1部分：铁锈</a></li>
<li><a href="../zh-CN471882/index.html">GitHub上的PHP事件，发言人和组织者的开放列表</a></li>
<li><a href="../zh-CN471884/index.html">10个免费的ApexSQL实用程序，用于管理Microsoft SQL Server数据库</a></li>
<li><a href="../zh-CN471886/index.html">VMmanager 6：引入盒子并与上一代产品进行比较</a></li>
<li><a href="../zh-CN471890/index.html">变异推理-它是什么，它吃什么？</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>