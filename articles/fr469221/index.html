<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëàüèΩ ‚úåüèº üë∏üèº Cascadeur: pr√©dire la pose en six points d'un personnage üë©üèΩ‚Äçü§ù‚Äçüë®üèø ‚òÄÔ∏è üÖ±Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nous voulons d√©crire en termes g√©n√©raux les premi√®res r√©alisations de l'apprentissage en profondeur dans l'animation de personnages pour notre program...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cascadeur: pr√©dire la pose en six points d'un personnage</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/banzai/blog/469221/"><iframe width="560" height="315" src="https://www.youtube.com/embed/Hu88WW7JzqI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Nous voulons d√©crire en termes g√©n√©raux les premi√®res r√©alisations de l'apprentissage en profondeur dans l'animation de personnages pour notre programme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cascadeur</a> . <br><br>  En travaillant sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Shadow Fight 3</a> , nous avons accumul√© beaucoup d'animation de combat - environ 1100 mouvements avec une dur√©e moyenne d'environ 4 secondes.  Il nous a sembl√© il y a longtemps que cela pourrait √™tre un bon ensemble de donn√©es pour former une sorte de r√©seau neuronal. <br><br>  Une fois que nous avons remarqu√© que lorsque les animateurs r√©alisent les premi√®res esquisses d‚Äôid√©es sur papier, il leur suffit de dessiner un homme litt√©ralement b√¢ton pour imaginer la pose du personnage.  Nous avons pens√© qu'un animateur exp√©riment√© pouvant bien poser une pose selon un sch√©ma simple, il est fort possible que le r√©seau neuronal puisse la g√©rer.  De cette observation, une id√©e simple est n√©e: prenons seulement 6 points cl√©s de chaque pose - poignets, chevilles, bassin et base du cou.  Si le r√©seau neuronal ne conna√Æt que les positions de ces points, peut-il pr√©dire le reste de la pose - la position des 37 points restants du personnage? <br><a name="habracut"></a><br>  Comment organiser le processus d'apprentissage, c'√©tait clair d√®s le d√©but: √† l'entr√©e, le r√©seau re√ßoit les positions de 6 points d'une pose sp√©cifique, √† la sortie il donne les positions des 37 points restants, et nous les comparons avec les positions qui √©taient dans la position initiale.  Dans la fonction d'√©valuation, vous pouvez utiliser la m√©thode des moindres carr√©s pour les distances entre les positions pr√©vues des points et la source. <br><br>  Pour l'ensemble de donn√©es d'entra√Ænement, nous avons eu tous les mouvements des personnages de Shadow Fight 3. Nous avons pris des poses de chaque image, et nous avons obtenu environ 115 000 poses.  Mais cet ensemble √©tait sp√©cifique - le personnage regardait presque toujours le long de l'axe X, et la jambe gauche √©tait toujours devant au d√©but du mouvement.  Pour r√©soudre ce probl√®me, nous avons artificiellement √©largi l'ensemble de donn√©es en g√©n√©rant des poses en miroir et en faisant √©galement tourner al√©atoirement chaque pose dans l'espace.  Cela nous a √©galement permis d'augmenter l'ensemble de donn√©es √† deux millions de poses.  Nous avons utilis√© 95% de notre ensemble de donn√©es pour la formation du r√©seau et 5% pour le param√©trage et les tests. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nb/va/fj/nbvafjah67zy6xy7i-jo-46_vj4.png" alt="image"></div><br>  Nous avons pris une architecture de r√©seau neuronal assez simple - un r√©seau √† cinq couches enti√®rement connect√© avec une fonction d'activation et une m√©thode d'initialisation des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">r√©seaux de neurones auto-normalisants</a> .  Sur la derni√®re couche, l'activation n'est pas utilis√©e.  Ayant 3 coordonn√©es pour chaque n≈ìud, nous obtenons une couche d'entr√©e de 6 * 3 √©l√©ments et une couche de sortie de 37 * 3 √©l√©ments.  Nous avons recherch√© l'architecture optimale pour les couches cach√©es et opt√© pour une architecture √† cinq couches avec le nombre de neurones de 300, 400, 300, 200 sur chaque couche cach√©e, cependant, les r√©seaux avec moins de couches cach√©es ont √©galement produit de bons r√©sultats.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">La r√©gularisation L2</a> des param√®tres r√©seau a √©galement √©t√© tr√®s utile, elle a rendu les pr√©visions plus fluides et plus continues. <br><br>  Un r√©seau de neurones avec de tels param√®tres pr√©dit la position des points avec une erreur moyenne de 3,5 cm. C'est une erreur tr√®s √©lev√©e, mais les sp√©cificit√©s du probl√®me doivent √™tre prises en compte.  Pour un ensemble de valeurs d'entr√©e, il peut y avoir de nombreuses valeurs de sortie possibles.  Par cons√©quent, le r√©seau neuronal a finalement appris √† √©mettre les pr√©dictions moyennes les plus probables.  Cependant, lorsque le nombre de points d'entr√©e est pass√© √† 16, l'erreur a diminu√© de moiti√©, ce qui en pratique a donn√© une pr√©diction tr√®s pr√©cise de la pose. <br><br>  Mais en m√™me temps, le r√©seau neuronal ne pouvait pas donner une pose compl√®tement correcte, pr√©servant la longueur de tous les os et les articulations correctes.  Par cons√©quent, nous lan√ßons √©galement un processus d'optimisation qui aligne tous les corps solides et les articulations de notre mod√®le physique. <br><br>  En pratique, les r√©sultats ont √©t√© assez convaincants - vous pouvez les voir dans notre vid√©o.  Mais il y a aussi une sp√©cificit√© du fait que l'ensemble de donn√©es d'entra√Ænement est des animations de combat issues d'un jeu de combat avec des armes.  Par exemple, un personnage semble supposer qu'il se tourne avec une √©paule vers l'ennemi, comme dans une position de combat, et tourne en cons√©quence ses pieds et sa t√™te.  Et lorsque vous √©tirez sa main, la brosse ne tourne pas comme si elle √©tait frapp√©e avec un poing, mais comme lorsqu'elle est frapp√©e par une √©p√©e. <br><br><img src="https://habrastorage.org/webt/lv/u1/lw/lvu1lwjym_zusygguv6cjtl3agg.gif"><br><br>  De l√† est venue l'id√©e logique de la prochaine √©tape - former quelques r√©seaux suppl√©mentaires avec un ensemble √©largi de points qui sp√©cifient l'orientation des mains, des pieds et de la t√™te, ainsi que la position des genoux et des coudes.  Nous avons ajout√© des sch√©mas de 16 et 28 points.  Il s'est av√©r√© que les r√©sultats de ces r√©seaux peuvent √™tre combin√©s afin que l'utilisateur puisse d√©finir des positions sur un ensemble arbitraire de points.  Par exemple, l'utilisateur a d√©cid√© de d√©placer le coude gauche, mais n'a pas touch√© le droit.  Ensuite, la position du coude droit et de l'√©paule droite est pr√©dite selon un sch√©ma √† 6 points, et la position de l'√©paule gauche est pr√©dite selon un sch√©ma √† 16 points. <br><br><img src="https://habrastorage.org/webt/wu/5b/bb/wu5bbbpcesmntbbfj-xovirhbg8.gif"><br><br>  Il semble que cela s'av√®re √™tre un outil vraiment int√©ressant pour travailler avec la pose d'un personnage.  Son potentiel n'a pas encore √©t√© r√©v√©l√© jusqu'√† la fin, et nous avons des id√©es sur la fa√ßon de l'am√©liorer et de l'appliquer non seulement pour travailler avec une pose.  La premi√®re version de cet outil est d√©j√† disponible dans la version actuelle de Cascadeur.  Vous pouvez l'essayer si vous vous inscrivez pour un test b√™ta ferm√© sur notre site Web <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cascadeur.com</a> <br><br>  Nous serons heureux de conna√Ætre votre opinion et de r√©pondre √† vos questions. <br><br>  <i>L'√©quipe de Banzai Games a besoin d'un chercheur en apprentissage profond.</i>  <i>En savoir plus sur l'offre d'emploi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr469221/">https://habr.com/ru/post/fr469221/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr469211/index.html">Comment ICD d√©veloppe un √©cosyst√®me pour les clients des banques</a></li>
<li><a href="../fr469213/index.html">Explorer les analyseurs combinatoires avec Rust</a></li>
<li><a href="../fr469215/index.html">Utilisation de dates en langage R (fonctionnalit√©s de base, ainsi que les packages lubridate et timeperiodsR)</a></li>
<li><a href="../fr469217/index.html">IMHO Saint TeamLead Conf 2019</a></li>
<li><a href="../fr469219/index.html">Top 20 des fonctionnalit√©s de navigation sur IntelliJ IDEA. 2e partie</a></li>
<li><a href="../fr469223/index.html">R√©tro√©clairage LED comme porte d√©rob√©e</a></li>
<li><a href="../fr469229/index.html">Le projet des clubs de robotique ¬´GoROBO¬ª - une startup de l'acc√©l√©rateur de l'Universit√© ITMO</a></li>
<li><a href="../fr469231/index.html">Soir√©e conf√©rence Game Design</a></li>
<li><a href="../fr469233/index.html">L'authentification Habr Weekly # 20 / 2FA n'est pas une panac√©e, Android 10 Go pour l'histoire la plus faible, jQuery, le film Gates</a></li>
<li><a href="../fr469235/index.html">Troldesh dans un nouveau masque: la prochaine vague de distribution de masse du virus ransomware</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>