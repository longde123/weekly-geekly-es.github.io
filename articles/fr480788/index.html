<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏊 🚪 👨‍🏭 Sapin de Noël sur la ligne de commande 👶 🍑 💉</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bientôt la nouvelle année, je ne veux pas penser à un travail sérieux. 

 Tout le monde essaie de décorer quelque chose pour les vacances: maison, bur...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sapin de Noël sur la ligne de commande</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/cloud4y/blog/480788/"> <i>Bientôt la nouvelle année, je ne veux pas penser à un travail sérieux.</i> <i><br><br></i>  <i>Tout le monde essaie de décorer quelque chose pour les vacances: maison, bureau, lieu de travail ... Laissez-nous et nous allons décorer quelque chose!</i>  <i>Par exemple, une invite de commande.</i>  <i>Dans une certaine mesure, la ligne de commande est également un lieu de travail.</i> <i><br><br></i>  <i>Dans certaines distributions, il est déjà "décoré":</i> <i><br><br><img src="https://habrastorage.org/webt/yz/p5/zd/yzp5zdctnkxvxeshtdgfo4xk718.png"><br><br></i>  <i>Dans d'autres, il est gris et discret:</i> <i><br><br><img src="https://habrastorage.org/webt/at/n6/wb/atn6wbkdkjhm9ojddzkdtldavoy.png"><br><br></i>  <i>Et nous pouvons faire, par exemple, comme ceci:</i> <i><br><br><img src="https://habrastorage.org/webt/dy/0x/we/dy0xwe4x97ho0ihe-ynhrbfqays.png"><br><br></i>  <i>Bien sûr, le goût et la couleur de tous les marqueurs sont différents.</i>  <i>Si une telle coloration vous semble maladroite et inappropriée, sachez que ce point de vue a tout à fait droit à la vie.</i>  <i>Et si vous souhaitez également ajouter un peu d'humeur du Nouvel An, lisez la suite pour un petit article du Nouvel An de Cloud4Y.</i> <a name="habracut"></a><br><br>  Tout d'abord, je vais expliquer comment la sortie du terminal est "colorée".  Cela se fait à l'aide de séquences d'échappement.  Et plus précisément - les séquences de codes de contrôle du terminal ANSI / VT100.  Ce qui signifie automatiquement que votre émulateur de terminal doit prendre en charge cette norme, sinon le miracle du Nouvel An ne se produira pas.  Et oui, on suppose que vous avez $ SHELL bash. <br><br>  Ces commandes sont appelées séquences d'échappement pour la raison qu'au début de chacune d'elles se trouve le caractère d'échappement ASCII.  Il existe de nombreuses séquences de contrôle, et elles permettent, par exemple, d'afficher les paramètres du terminal, de contrôler l'affichage et le mouvement du curseur, de changer la police, de supprimer et de masquer le texte.  Nous choisirons l'une des nombreuses possibilités - changer la couleur du texte et de l'arrière-plan. <br><br>  Nous exécutons la séquence de code <code>*ESC*[{attr1};...;{attrn}m</code> <br>  En tant que caractère d' <i>échappement</i> , sa forme octale, c'est-à-dire <i>\ 033, est utilisée</i> .  Quant aux attributs, voici une courte liste de valeurs possibles: <br><br>  <b>0</b> Réinitialisez tous les attributs. <br>  <b>1</b> lumineux <br>  <b>2</b> Dim <br>  <b>4</b> Souligné (souligné) <br>  <b>5</b> Clignotement <br>  <b>7</b> Marche arrière <br>  <b>8</b> Masqué (masquer le texte) <br><br>  Couleurs de premier plan (couleur du stylo, le texte est affiché dans cette couleur): <br>  <b>30</b> Noir <br>  <b>31</b> Rouge <br>  <b>32</b> Vert <br>  <b>33</b> Jaune <br>  <b>34</b> Bleu <br>  <b>35</b> Magenta (magenta) <br>  <b>36</b> Cyan (bleu) <br>  <b>37</b> Blanc <br><br>  Couleurs d'arrière-plan (couleur du papier ou couleur d'arrière-plan): <br>  <b>40</b> Noir <br>  <b>41</b> Rouge <br>  <b>42</b> Vert <br>  <b>43</b> Jaune <br>  <b>44</b> Bleu <br>  <b>45</b> Magenta (Magenta) <br>  <b>46</b> Cyan (bleu) <br>  <b>47</b> Blanc <br><br>  Veuillez noter que si vous commandez maintenant dans le terminal: <code>echo \033[0;31m \033[0m'</code> <br><br>  ... alors vous obtiendrez comme prévu un abracadabra monochrome en sortie: <br><br><img src="https://habrastorage.org/webt/uw/ph/e5/uwphe5hhzzn4x5xehaabqp9_lb4.png"><br><br>  Pourquoi?  Parce qu'il était nécessaire d'utiliser les fonctionnalités avancées de la commande echo.  Il suffit d'ajouter une clé: <code>echo -e '\033[0;31m \033[0m'</code> <br><br>  Maintenant, la sortie sera correcte: <br><br><img src="https://habrastorage.org/webt/5o/3a/jn/5o3ajnqcr0jctnh6v_xargzt-9k.png"><br><br>  Avec la coloration de la sortie vers le terminal triée.  Voyons maintenant comment coloriser l'invite de ligne de commande. <br><br>  Cela se fait en modifiant la variable PS1.  La variable est responsable de l'invite de ligne de commande.  Son apparence peut également être modifiée, notamment en utilisant des séquences d'échappement.  Mais il y a une légère différence: vous devez commencer la séquence avec le caractère " <i>\ [</i> ", et terminer avec le caractère " <i>\]</i> ", sinon elle sera affichée sur le terminal. <br><br>  Toutes les séquences de commandes possibles sont décrites en détail dans le manuel bash, donc je suggère aux lecteurs de choisir eux-mêmes ce qu'ils aiment observer à l'invite de commande.  À titre d'exemple, je donnerai ma valeur à la variable PS1: <br><br> <code>\[\033[34;1m\]\t\[\033[0m\],\[\033[32m\]\u@\l@\h\[\033[0m\]:\[\033[33m\]\W\[\033[0m\],\[\033 <br> [31m\]\!\[\033[0m\]\$\n <br></code> <br>  Je vais déchiffrer ce terrible sort: <br><br>  <b>\ [\ 033 [34; 1m \]</b> - activer la couleur de police bleu vif (deuxième attribut) <br>  <b>\ t</b> - affiche l'heure actuelle au format HH: MM: SS <br>  <b>\ [\ 033 [0m \]</b> - réinitialiser les paramètres de couleur de police <br>  <b>,</b> - juste une virgule (de façon inattendue, non?) <br>  <b>\ [\ 033 [32m \]</b> - allume la couleur verte de la police <br>  <b>\ u @ \ l @ \ h</b> - affiche le nom d'utilisateur, le numéro de terminal et le nom d'hôte abrégé, séparés par le symbole "@" <br>  <b>[\ 033 [0m \]</b> - réinitialiser à nouveau les paramètres de couleur de police <br>  <b>:</b> - juste un colon (tout d'un coup!) <br>  <b>\ [\ 033 [33m \]</b> - active la couleur jaune de la police <br>  <b>\ W</b> - affiche le nom du répertoire courant <br>  <b>[\ 033 [0m \]</b> - réinitialiser à nouveau les paramètres de couleur de police <br>  - une autre virgule (qui aurait pensé!) <br>  <b>\ [\ 033 [31m \]</b> - allume la couleur rouge de la police <br>  <b>\!</b>  - imprimer le numéro de commande dans le terminal <br>  <b>[\ 033 [0m \]</b> - n'oubliez pas de réinitialiser les paramètres de couleur de police <br>  <b>\ $</b> - affiche «#» pour root et «$» pour tout le monde <br>  <b>\ n</b> - saut de ligne.  Pourquoi?  Pour que la commande démarre à partir du bord gauche de la fenêtre et non à partir de la position de fin de l'invite de commande. <br><br>  Où remplacer une variable?  La façon la plus logique de le faire est dans ~ / .bashrc. <br><br>  L'apparence de l'invitation n'est limitée que par votre imagination.  En principe, rien ne vous empêche d'utiliser les outils ci-dessus pour créer une invite de ligne de commande sous la forme d'un arbre de Noël.  Certes, une telle invitation sera très lourde et le travail ne sera certainement pas plus pratique.  L'arbre de Noël peut simplement être affiché au-dessus de l'invite de ligne de commande lors de la connexion (nous devons encore modifier ~ / .bashrc).  Allez-y!  Et merci d'avoir regardé. <br><br><img src="https://habrastorage.org/webt/wc/1m/gq/wc1mgqemmrudapk9qkbq96z90oc.png"><br><br>  <b>Quoi d'autre est utile de lire sur le blog <a href="https://www.cloud4y.ru/%3Futm_source%3Dhabr%255E_%255Eamp%255E_%255Eutm_medium%3Dreferral%255E_%255Eamp%255E_%255Eutm_campaign%3Darticle">Cloud4Y</a></b> <br><br>  → <a href="https://habr.com/ru/company/cloud4y/blog/469487/">Configurer top dans GNU / Linux</a> <br>  → Les <a href="https://habr.com/post/471380/">pentesters à la pointe de la cybersécurité</a> <br>  → Des <a href="https://habr.com/ru/company/cloud4y/blog/475790/">startups qui peuvent surprendre</a> <br>  → <a href="https://habr.com/ru/company/cloud4y/blog/479876/">Avez-vous besoin d'oreillers dans le centre de données?</a> <br>  → La <a href="https://habr.com/post/479876/">maison que le robot a construite</a> <br><br>  Abonnez-vous à notre chaîne <a href="https://t.me/cloud4y">Telegram</a> pour ne pas manquer un autre article!  Nous écrivons pas plus de deux fois par semaine et uniquement pour affaires.  Nous vous rappelons également que Cloud4Y, le fournisseur de cloud d'entreprise, a lancé la promotion «FZ-152 Cloud pour le prix d'une promotion régulière».  Vous pouvez postuler <a href="https://bit.ly/362q6J4">jusqu'au 31 décembre</a> . <br><img src="https://habrastorage.org/getpro/habr/post_images/563/98e/76b/56398e76be6355ad5999b262208a17c9.gif"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr480788/">https://habr.com/ru/post/fr480788/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr480774/index.html">Not Nginx Unified: Hébergement Ayhor - Dash-Scratch Live</a></li>
<li><a href="../fr480776/index.html">Nous déployons Active Directory par toutes les méthodes possibles.</a></li>
<li><a href="../fr480780/index.html">Comment assembler une illustration à partir de cubes et de pictogrammes</a></li>
<li><a href="../fr480782/index.html">5 choses que j'aimerais savoir quand j'ai commencé à utiliser Angular</a></li>
<li><a href="../fr480786/index.html">Clonage profond indépendant d'objets en JavaScript</a></li>
<li><a href="../fr480790/index.html">"Efficacité d'usine". Trouver un goulot d'étranglement et mettre en œuvre un système de traction pour augmenter la productivité</a></li>
<li><a href="../fr480792/index.html">Ingénierie des cadeaux</a></li>
<li><a href="../fr480794/index.html">Un peu sur le cas particulier de la mise en œuvre d'algorithmes de recherche de portes ouvertes</a></li>
<li><a href="../fr480796/index.html">Programmeurs, devops et chats Schrodinger</a></li>
<li><a href="../fr480798/index.html">C ++ Russia Piter 2019 rapporte l'examen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>