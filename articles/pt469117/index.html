<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∏üèª ü§ñ üë®üèæ‚Äçüé® Programa√ß√£o sob BC 0010 em 2019 üî¶ üë©üèæ‚Äçüé® üö¥üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Porque 
 Se voc√™ √© um entusiasta de computadores retr√¥, pode pular com seguran√ßa o discurso motivacional e ir para a pr√≥xima se√ß√£o. 

 Em agosto de 20...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Programa√ß√£o sob BC 0010 em 2019</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469117/"><h3>  Porque </h3><br>  Se voc√™ √© um entusiasta de computadores retr√¥, pode pular com seguran√ßa o discurso motivacional e ir para a pr√≥xima se√ß√£o. <br><br>  Em agosto de 2018, eu e meu filho <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Ivanq, de</a> 13 anos, passamos escrevendo uma demo da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Good Apple</a> .  No festival <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Chaos Constructions</a> , nosso trabalho ficou em segundo lugar, pelo qual recebemos um pr√™mio em dinheiro de 35 mil rublos, que honestamente dividimos igualmente.  Para uma crian√ßa, essa √© uma boa renda, embora, ao criar sites, ele ganhe a mesma quantia em menos tempo.  Obviamente, eu poderia gastar meu tempo com maior benef√≠cio econ√¥mico ... Mas n√£o em agosto!  Devemos descansar do trabalho.  Programar para seu pr√≥prio prazer √© um luxo que voc√™ s√≥ pode pagar em f√©rias. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/f7d/eea/c1a/f7deeac1ae6dec7a44104b392a849826.jpg" alt="Boa demonstra√ß√£o da Apple por SandS"><br></a> <a name="habracut"></a><br>  A recompensa material, √© claro, n√£o serve como motiva√ß√£o, mas refor√ßa emo√ß√µes positivas.  Surpreendentemente, a demo de um computador sovi√©tico esquecido coletou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">milhares de visualiza√ß√µes</a> no youtube e acabou em uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lista de reprodu√ß√£o</a> com quase cem mil visualiza√ß√µes.  Mas, o que √© mais surpreendente, em 2018, um pr√™mio em dinheiro √© concedido a ela!  Talvez a pr√≥pria improbabilidade do que est√° acontecendo d√™ origem a um surto emocional. <br><br>  No entanto, h√° algo mais importante. <br><br>  Ao criar o ‚ÄúGood Apple‚Äù, tivemos que trabalhar com hardware real, pois usamos os recursos do computador, que os emuladores n√£o reproduzem corretamente.  Antes de tudo, eu queria conseguir um trabalho igualmente est√°vel com os discos r√≠gidos IDE e com seus substitutos modernos na forma de Compact Flash. <br><br>  Foi nesse projeto que meu filho de 13 anos ganhou uma experi√™ncia inestim√°vel no desenvolvimento industrial.  Ferro defeituoso.  Bom hardware que n√£o se comporta conforme descrito na documenta√ß√£o.  Documenta√ß√£o elaborada com erros.  Falta de documenta√ß√£o sobre v√°rios problemas.  Escreva seus pr√≥prios testes para identificar problemas com o ferro.  Prazos de entrega.  Testes em diferentes m√°quinas e configura√ß√µes.  Escreva seu pr√≥prio cross-assembler (quando ficou claro que as solu√ß√µes existentes impedem o processo de desenvolvimento).  E, finalmente, ap√≥s uma breve celebra√ß√£o do sucesso - o lan√ßamento obrigat√≥rio da vers√£o final, corrigindo v√°rios bugs. <br><br>  √Ä primeira vista, parece que uma experi√™ncia semelhante poderia ser obtida com algum Arduino moderno.  De fato, tivemos que mergulhar na pr√≥pria selva de circuitos.  Calculamos o n√∫mero de medidas para as quais as instru√ß√µes s√£o executadas.  Em diferentes tipos de mem√≥ria, desta vez √© diferente.  O controlador e o processador de mem√≥ria operam em frequ√™ncias diferentes, para que os mesmos comandos possam ser executados em momentos diferentes, mesmo no mesmo tipo de mem√≥ria.  A dura√ß√£o da execu√ß√£o do subprograma n√£o √© igual √† soma das dura√ß√µes das instru√ß√µes deste subprograma.  Tivemos que escrever nossas pr√≥prias ferramentas para testar e otimizar o c√≥digo em hardware real. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c08/2d0/d77/c082d0d7750b7c79742faa6b6c3866c6.jpg" alt="Utilit√°rio para medir a velocidade de execu√ß√£o de um fragmento de c√≥digo"><br><br>  Acabou que meu filho estava estudando o circuito BK 0011 (para quais bordas do sinal ocorrem quando o RPLY √© acionado etc.) - n√£o entendo mais nada sobre isso.  Ent√£o ele teve a id√©ia de criar seu pr√≥prio emulador BK, compat√≠vel com hardware real e preciso at√© o ritmo, e at√© escreveu o kernel ... No entanto, essa √© outra hist√≥ria. <br><br>  No total, em um m√™s - do estudo de montador √† cria√ß√£o de suas pr√≥prias ferramentas de desenvolvimento, de testes rigorosos ao trabalho multim√≠dia finalizado.  Tudo isso seria imposs√≠vel sem o principal: planejamento.  Talvez a li√ß√£o mais valiosa aprendida.  Voc√™ assume uma tarefa imposs√≠vel.  Voc√™ entende que encontrar√° dificuldades insuper√°veis.  Est√£o planejando  Voc√™ faz.  O resultado surpreende a todos tanto que at√© os conhecedores culpam a trapa√ßa ("voc√™ fez o overclock do processador!"). <br><br><h3>  Por que n√£o o ZX Spectrum? </h3><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/52b/726/57d/52b72657d6f6c8c22423705feae8de05.png" alt="Demonstra√ß√£o Odnazhdy por excesso de equipe"></a> <br><br>  Novamente, come√ßarei com uma estranha: finan√ßas.  A julgar pelos an√∫ncios no Avito, em m√©dia, o BC 0010 custa v√°rias vezes mais que o ZX Spectrum.  √â claro que, para um exemplo raro do Spectrum nativo em perfeitas condi√ß√µes, eles solicitar√£o uma soma redonda.  Mas o BC 0011m totalmente carregado ainda ser√° mais caro.  Se for capaz de encontrar.  Os pre√ßos falam por si: o valor da cole√ß√£o de BC 0010 √© mais alto.  E BK 0011m - e ainda mais.  Ter esse computador em casa √© muito bom. <br><br>  O segundo argumento √© de 16 bits.  N√£o h√° nada de 8 bits no BC 0010.  O processador nem sabe como adicionar n√∫meros de 8 bits; n√£o possui um comando ADDB.  16 bits em tudo.  A raz√£o para isso √© a arquitetura DEC PDP-11.  Muitos consideram o sistema de comando do processador PDP-11 o mais bem-sucedido e mais conveniente j√° criado.  Claro, h√° quem queira argumentar com essa afirma√ß√£o.  Mas aqui est√° um fato: no Yandex <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Demodulation</a> Festival, tr√™s semin√°rios foram dedicados √†s arquiteturas de processadores e dois deles foram sobre o PDP-11.  Isso, de fato, √© uma lenda, um marco na hist√≥ria da tecnologia de computadores, que ainda continua excitando as mentes dos entusiastas.  O BK 0010 torna poss√≠vel tocar nessa legenda.  E n√£o apenas para tocar, mas para entend√™-lo nos m√≠nimos detalhes, para sentir toda a beleza e gra√ßa do montador de DEC: registros absolutamente iguais, oito m√©todos de endere√ßamento, mem√≥ria linear - beleza! <br><br>  O terceiro argumento: muitas demos foram escritas para o ZX Spectrum.  Para BC 0010 - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">menos de cinquenta</a> , contando pequenos de 256 bytes e 4 kilobytes.  O lugar na demoscene √© quase gratuito, √© onde at√© um iniciante pode se mostrar! <br><br>  E a √∫ltima considera√ß√£o, puramente subjetiva.  Eu assisto √† demoscene russa desde 1994.  Infelizmente, o partido spektrumistov me parece mais t√≥xico e hostil.  Claro, existem pessoas amig√°veis ‚Äã‚Äãmaravilhosas!  Eu tenho um grande respeito por eles e pelo trabalho deles.  Mas, em geral - provavelmente por causa de seu car√°ter de massa - a cena do Spectrum estava cheia de conflitos, esclarecimentos de rela√ß√µes e at√© intrigas, como a vota√ß√£o de nomes (quando eles votam apenas em "seus pr√≥prios" em concursos).  Enquanto est√£o no pequeno palco do BC-shnoy, eles n√£o fazem perguntas como "quem √© mais legal" e ficam felizes com cada novo participante.  Repito: esta √© minha impress√£o puramente pessoal, que voc√™ pode ignorar. <br><br><h3>  Ferro de verdade </h3><br>  Vinte anos se passaram antes de eu voltar a escrever programas para o BC.  Ao longo dos 20 anos, muita coisa mudou.  Para mim, pessoalmente, ocorreu uma grande mudan√ßa na mente: "Pense Diferente".  Este slogan √© colocado nos cr√©ditos finais da nossa demo "Good Apple". <br><br>  Costum√°vamos carregar jogos de um gravador por 5 minutos.  Depois vieram os controladores da unidade.  Atr√°s deles est√£o os discos r√≠gidos.  Em seguida, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">r√©plicas rec√©m-encontradas de</a> controladores com o Compact Flash a bordo.  Agora √© costume emular drives flash na cena retr√¥ ... Mas espere, em 2019, temos uma fonte de som port√°til de alta qualidade - iPhone.  Ent√£o, vamos pegar o cabo de √°udio DIN-5 padr√£o - mini jack (voc√™ nem precisar√° soldar novamente) e carregar o BK do iPhone em alta velocidade. <br><br>  Analisei o rastreio da ROM, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">revelei</a> como poderia superar um pouco o algoritmo de inicializa√ß√£o do gravador e fazer o BC ler os dados 4 vezes mais r√°pido. <br><br>  O pr√≥ximo passo foi escrever um micro-carregador de inicializa√ß√£o que leia dados em um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">formato turbo</a> especialmente projetado.  O carregador e os dados foram colocados um ap√≥s o outro em um √∫nico arquivo WAV (o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">conversor foi</a> escrito por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Lenar Zakirov</a> ).  O BK 0010 l√™ e inicia automaticamente o micro-carregador, que, por sua vez, l√™ o restante dos dados do arquivo.  As frequ√™ncias no formato turbo atingem 22 KHz, portanto, os requisitos para a qualidade da fonte de som s√£o altos.  iPhone est√° lidando.  Um bom tocador de m√∫sica ainda mais.  Placa de som do computador tamb√©m. <br><br>  Depois foi a vez do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">montador cruzado</a> .  Ele adicionou op√ß√µes para salvar o programa em WAV (tanto no formato padr√£o quanto no turbo).  Al√©m disso, o cross-assembler pode reproduzir imediatamente WAV atrav√©s de uma placa de som.  Imagine como o desenvolvimento acelerou!  N√£o √© necess√°rio se preocupar em gravar uma imagem de disco em um cart√£o CF ap√≥s cada compila√ß√£o.  Basta fazer altera√ß√µes no c√≥digo, clicar em "Build", o som flui para o CD e ap√≥s alguns segundos o programa j√° est√° sendo executado em hardware real.  Para receber som em um formato padr√£o, basta pressionar as teclas L (Carregar) e Enter no BC 0011 (carregar o primeiro programa encontrado).  Para transmitir som no formato turbo, voc√™ deve primeiro executar o micro-carregador de inicializa√ß√£o (para mim, ele inicia automaticamente a partir do disco r√≠gido quando o BC √© ligado; a qualquer momento, voc√™ pode fazer login no sistema pressionando a tecla STOP). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/728/f8e/bec/728f8ebecffa0cd4d893fbbb482a10c3.jpg" alt="Download de programas para o BC 0011m de um computador"><br><br>  √â mais f√°cil conectar o BK √† TV no modo monocrom√°tico, na entrada AV composta comum.  √â necess√°rio soldar o cabo com uma ‚Äútulipa‚Äù em uma extremidade e DIN-5 na outra.  Um sinal monocrom√°tico vem do 4¬∫ pino do DIN-5 do conector BK, designado ‚ÄúTV‚Äù.  O solo √© tradicionalmente associado ao segundo pino da DIN-5. <br><br>  Pessoalmente, sou f√£ de monitores CRT monocrom√°ticos - eles fornecem clareza de imagem inating√≠vel em monitores coloridos com sua grade de abertura.  Mas a maioria dos jogos e demos √© prefer√≠vel assistir em cores.  Para fazer isso, use a sa√≠da BK ‚ÄúTVC‚Äù e conecte-a √† TV via RGB SCART.  Contatos 3, 4, 5 na DIN-5 - respectivamente vermelho, azul, verde.  Pino 1 - Sincroniza√ß√£o.  O pino 2 est√° retificado.  Quando conectado a uma TV LCD, √© √∫til aplicar +5 volts ao 16¬∫ pino do SCART (atrav√©s de um resistor de 200 ohm ou mais).  Geralmente, s√£o utilizados 5 volts no conector ‚ÄúTV‚Äù adjacente (pino 1). <br><br>  Voc√™ pode usar um conversor SCART-HDMI.  Avisarei imediatamente que o BC exibe uma imagem com uma frequ√™ncia n√£o de 48 quadros por segundo, mas 48,83; portanto, em vez de uma rolagem suave nos monitores LCD, ser√° notado um tremor peri√≥dico.  Resolvi esse problema <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">substituindo o</a> ressonador de cristal de quartzo de 12 megahertz a 12.288 MHz.  No entanto, espasmos eram percept√≠veis apenas em algumas demos.  A maioria dos programas BC n√£o usa sincroniza√ß√£o de taxa de quadros. <br><br>  Por que n√£o se contentar com o emulador, para o qual um computador real pode ser necess√°rio?  Encontrei quatro coisas pouco emuladas: <br><br><ol><li>  Comportamento do falante em altas frequ√™ncias. </li><li>  Sincroniza√ß√£o da imagem e paletas com o feixe. </li><li>  Tempo exato de execu√ß√£o dos comandos (importante para a m√∫sica atrav√©s do Covox). </li><li>  Trabalhe com discos r√≠gidos IDE em alta velocidade. </li></ol><br>  Se voc√™ n√£o planeja fazer nenhuma das op√ß√µes acima, o emulador √© suficiente para voc√™. <br><br><h3>  Emula√ß√£o </h3><br>  No MacOS, eu uso o emulador <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">BK2010</a> .  N√£o √© muito preciso, mas adequado para a maioria das tarefas. <br><br>  O emulador <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GID</a> mais avan√ßado atualmente √© executado no Windows.  Tamb√©m roda no CrossOver para MacOS e Wine para Linux.  O emulador possui um bom depurador, um visualizador de p√°ginas de mem√≥ria e similares. <br><br>  Para gravar imagens de disco no Compact Flash, eu uso o utilit√°rio multi-plataforma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Etcher</a> .  Mas, mais frequentemente, transmito dados atrav√©s do canal de √°udio. <br><br><h3>  Ferramentas de desenvolvimento </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/8b5/4b9/d77/8b54b9d7769d262e9e9a7b62d44a9fe2.png" alt="Compilando um texto sublime com o PDPy11 Cross Assembler"><br><br>  Os caras do grupo de demonstra√ß√£o da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Equipe em Excesso</a> incitaram o montador Alexei Morozov.  No come√ßo, usamos, mas logo Ivanq escreveu a sua - multiplataforma, em Python.  Funciona mais devagar, mas muito mais rico em funcionalidades.  Isso inclui suporte para projetos de v√°rios arquivos e express√µes aritm√©ticas complexas, tipos de dados de palavra dupla, integra√ß√£o com o Sublime Text e suporte estendido a erros de compila√ß√£o, salvando o resultado em um formato de arquivo de som, compila√ß√£o n√£o apenas para o BC, mas tamb√©m para o UKSC e muito mais.  Voc√™ pode ler sobre tudo isso na documenta√ß√£o oficial. <br><br>  <b>O assembler cruzado</b> √© chamado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PDPy11</a> . <br><br>  Alguns veteranos reclamam que o PDPy11 n√£o possui macros do montador de macro DEC cl√°ssico (Macro-11).  O assembler de macros √©, em certo sentido, um idioma diferente.  Provavelmente √© bom para escrever programas de sistema, mas jogos e demos s√©rios para BC foram escritos, tanto quanto eu sei, em montadores cl√°ssicos comuns.  Ironicamente: para o c√≥digo fonte dos programas BK, √© habitual usar a extens√£o de arquivo .mac (de ‚Äúmacro‚Äù) mesmo naqueles assemblers que n√£o suportam macros.  De qualquer forma, os recursos do PDPy11 s√£o suficientes para gravar programas de qualquer n√≠vel de complexidade. <br><br>  <b>O depurador</b> est√° embutido no emulador <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GID</a> .  Permite definir os endere√ßos dos pontos de interrup√ß√£o, interromper ou continuar a execu√ß√£o do programa a qualquer momento, ver o conte√∫do dos registros e da mem√≥ria, executar o programa passo a passo, alterar o conte√∫do da mem√≥ria, etc. <br><br>  Para <b>converter gr√°ficos</b> para o formato BC, escrevemos um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">conversor online</a> .  Resolu√ß√£o BK - 256x256 pixels no modo colorido ou 512x256 no modo monocrom√°tico.  √â melhor que as imagens maiores n√£o sejam inseridas no conversor. <br><br><h3>  A documenta√ß√£o </h3><br>  Um √≥timo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tutorial</a> sobre programa√ß√£o em linguagem assembly foi escrito por Yuri Zaltsman.  As diferen√ßas entre BC 0011m e BC 0010 est√£o escritas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> .  Havia tamb√©m o modelo BK 0011 (sem o "m"), mas foi rapidamente retirado de produ√ß√£o, reconhecendo-o como malsucedido. <br><br>  Apesar do BC 0011m ter √≥timos recursos (paletas de cores, p√°ginas adicionais de mem√≥ria), primeiro aconselho a programa√ß√£o do BC 0010 - esse modelo √© mais simples e compreens√≠vel.  Qualquer programa escrito corretamente para o BC 0010 tamb√©m ser√° executado no BC 0011m. <br><br>  O dispositivo do processador e o conjunto de instru√ß√µes est√£o bem descritos na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Wikipedia</a> . <br><br>  Para os mais corajosos - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">programa√ß√£o em c√≥digos</a> . <br><br><h3>  Ol√° mundo! </h3><br>  A √°rea de mem√≥ria da tela em BC 0010 come√ßa com o endere√ßo 40000 (canto superior esquerdo) e termina com o endere√ßo 77777 (canto inferior direito da tela).  Como voc√™ pode imaginar, a arquitetura do PDP-11 usa um sistema de n√∫meros decimais 8.  Mas o PDPy11 cross-assembler, √© claro, permite que voc√™ escreva n√∫meros tamb√©m em sistemas bin√°rios, decimais e hexadecimais - fa√ßa o que quiser. <br><br>  Para colocar um <b>ponto na tela</b> , voc√™ precisa escrever um n√∫mero na √°rea de mem√≥ria da tela.  Os argumentos no assembler do DEC s√£o escritos da esquerda para a direita: source e, em seguida, receiver Por exemplo: <br><br><pre><code class="plaintext hljs">MOV #100000,@#60040 ;     </code> </pre> <br>  O sinal # significa que o argumento √© apenas um n√∫mero (n√£o um endere√ßo).  O sinal @ # significa que o argumento √© um endere√ßo absoluto (ou seja, n√£o ser√° alterado quando o programa for movido para outro local da mem√≥ria). <br>  A limpeza da tela fica assim: <br><br><pre> <code class="plaintext hljs">   MOV #40000,R1 ;     MOV #20000,R0 ;   1: CLR (R1)+ ;    ,   R1   SOB R0,1 ;  </code> </pre> <br>  O endere√ßamento indireto (R1) usa o registro R1 como um ponteiro de endere√ßo.  A mem√≥ria no BC √© endere√ßada por byte, mas a instru√ß√£o CLR limpa imediatamente dois bytes vizinhos: primeiro 40000 e 40001, na pr√≥xima etapa do ciclo 40002 e 40003, e assim por diante.  A nota√ß√£o (R1) + significa que ap√≥s o uso do argumento voc√™ precisa aument√°-lo.  Nesse caso, por 2, porque o comando processa 2 bytes.  O contador de loop pode ser qualquer registrador.  SOB subtrai uma unidade do registro e vai para o r√≥tulo 1. Os r√≥tulos locais s√£o indicados por n√∫meros e dois pontos, seu escopo entre dois r√≥tulos globais.  Os r√≥tulos globais devem come√ßar com uma letra e tamb√©m terminar com dois pontos. <br><br>  A instru√ß√£o CLR pode ser feita para trabalhar com bytes anexando a letra "B".  Ent√£o CLRB (R1) + aumentar√° o registro R1 n√£o em 2, mas em 1. <br><br><pre> <code class="plaintext hljs">   MOV #40000,R1   MOV R1,R0 ;        1: CLRB (R1)+   SOB R0,1</code> </pre> <br>  Voc√™ pode fazer a mesma coisa mais curto.  Limpamos a tela de baixo para cima usando o m√©todo de indexa√ß√£o de endere√ßamento: <br><br><pre> <code class="plaintext hljs">   MOV #40000,R0 1: CLRB 37777(R0) ;    (37777+R0)   SOB R0,1</code> </pre> <br>  Se for necess√°ria alta velocidade, √© melhor limpar a mem√≥ria n√£o por bytes, mas imediatamente com palavras.  Ser√° duas vezes mais r√°pido.  Mas voc√™ pode acelerar al√©m disso: por algum motivo, o comando CLR √© mais lento que o MOV.  Portanto: <br><br><pre> <code class="plaintext hljs">   CLR R2 ;     R2   MOV #40000,R1 ;     MOV #20000,R0 ;   1: MOV R2,(R1)+ ;    ,   R1   SOB R0,1 ;  </code> </pre> <br>  Agora, escolhendo uma das quatro maneiras de limpar a tela, voc√™ j√° pode definir pontos.  No modo de cor, cada ponto corresponde a dois bits.  Monocrom√°tico, um pouco.  O BC n√£o possui uma troca de programa dos modos de tela.  √Ä qual sa√≠da conectei o monitor, recebi essa imagem. <br>  Para maior clareza, escrevemos as cores dos pontos no sistema de n√∫meros bin√°rios: <br><br><pre> <code class="plaintext hljs">   MOVB #0b00001100,@#50010   MOVB #0b00110000,@#50112   MOVB #0b11000000,@#50313</code> </pre> <br>  <b>As cores</b> em cada par de bits s√£o codificadas da seguinte forma: se apenas um bit par for definido - um ponto verde, apenas um bit √≠mpar - azul, os dois bits ser√£o definidos - vermelho, os dois bits ser√£o redefinidos - pretos.  Bem, um monitor monocrom√°tico mostra cada bit como um ponto separado. <br>  O comando MOVB grava 4 pontos na mem√≥ria na tela de uma s√≥ vez, e o comando MOV grava 8 pontos.  Se voc√™ n√£o deseja afetar pontos vizinhos, use os comandos BIC (Bit Clear) e BIS (Bit Set), por exemplo: <br><br><pre> <code class="plaintext hljs">   BICB #0b00001100,@#50112 ;     BISB #0b00000100,@#50112 ;   </code> </pre> <br>  Um ponto interessante: no texto, escrevemos os bits menos significativos √† direita dos bits mais significativos.  E na tela, pelo contr√°rio: os pontos correspondentes aos bits menos significativos aparecem √† esquerda. <br>  Na verdade, isso √© tudo sobre o dispositivo de mem√≥ria na tela BK 0010. <br><br>  Mas e a <b>sa√≠da de texto</b> ? <br><br><pre> <code class="plaintext hljs">      MOV #Text,R1 ;         EMT 20 ;             HALT ;   Text: .ASCII ‚ÄúHello, World!‚Äù      .BYTE 0 ;     </code> </pre> <br><h3>  Mostre a fonte! </h3><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/4fc/0f5/262/4fc0f5262ffaab7dcf76fdada64b1547.png" alt="Introdu√ß√£o de 256 bytes Road2CAFe pela equipe de excesso"></a> <br><br>  Ser√° mais f√°cil come√ßar olhando o c√≥digo fonte das demos finalizadas: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">In Your Space</a> - demo para Covox, fontes no arquivo. <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Boa Apple</a> - fontes no GitLab (um projeto complexo de v√°rios arquivos). <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O EIS</a> √© um emulador de instru√ß√µes aritm√©ticas estendidas com c√≥digos-fonte. <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Fontes de</a> tr√™s demos de 256 bytes. <br>  Na 28¬™ edi√ß√£o da revista <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Downgrade, um</a> grande artigo sobre a evolu√ß√£o dos algoritmos de m√∫sica rastreador no BC 0010, com fragmentos de programa e explica√ß√µes detalhadas.  Um conto nost√°lgico de um demosceno inicial. <br><br><h3>  Quando come√ßar? </h3><br>  Agora mesmo.  Ap√≥s 4 semanas em Kazan ser√° realizada a demopati <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CAFe 2019</a> .  O programa do festival tem uma competi√ß√£o <b>BK 0010 - 512 bytes</b> .  Este tamanho cabe 85 a 256 instru√ß√µes - ideal para iniciantes.  Duas semanas s√£o suficientes para voc√™ lidar com as ferramentas e escrever a primeira demo simples.  Depois disso, ainda haver√° uma semana e meia para escrever um segundo trabalho mais s√©rio. <br><br>  V√° em frente, voc√™ pode!  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Chat por telegrama</a> , f√≥rum <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">zx-pk</a> - eles o ajudar√£o em qualquer lugar.  envie trabalho para o concurso e, melhor ainda, venha voc√™ mesmo.  <b>Cena est√° viva</b> ! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt469117/">https://habr.com/ru/post/pt469117/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt469099/index.html">Tarefas de teste na entrevista do desenvolvedor - isso faz sentido?</a></li>
<li><a href="../pt469101/index.html">Aprendendo ingl√™s: como aprender a falar como falante nativo</a></li>
<li><a href="../pt469109/index.html">Brinquedos de madeira, parte tr√™s - 1989</a></li>
<li><a href="../pt469111/index.html">Substitua Object por var: o que poderia dar errado?</a></li>
<li><a href="../pt469115/index.html">Guia Discovery.js: In√≠cio r√°pido</a></li>
<li><a href="../pt469119/index.html">Os endere√ßos IPv4 no RIPE terminaram. Completamente terminado ...</a></li>
<li><a href="../pt469125/index.html">Tema sombrio do Thunderbird como um motivo para executar um analisador de c√≥digo</a></li>
<li><a href="../pt469127/index.html">Otimiza√ß√£o ou como n√£o dar um tiro no pr√≥prio p√©</a></li>
<li><a href="../pt469129/index.html">Devido ao tema sombrio, o Thunderbird teve que executar um analisador de c√≥digo</a></li>
<li><a href="../pt469131/index.html">Genie</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>