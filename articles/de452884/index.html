<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëæ ü¶ë ü§ß Analyse der Leistung virtueller Maschinen in VMware vSphere. Teil 1: CPU üïû ü¶ï üßëüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wenn Sie eine virtuelle Infrastruktur verwalten, die auf VMware vSphere (oder einem anderen Technologie-Stack) basiert, h√∂ren Sie wahrscheinlich h√§ufi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Analyse der Leistung virtueller Maschinen in VMware vSphere. Teil 1: CPU</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dataline/blog/452884/"><img src="https://habrastorage.org/webt/m9/sx/3b/m9sx3brt_zkyowlzywiwyoobc60.png"><br><br>  Wenn Sie eine virtuelle Infrastruktur verwalten, die auf VMware vSphere (oder einem anderen Technologie-Stack) basiert, h√∂ren Sie wahrscheinlich h√§ufig Beschwerden von Benutzern: "Die virtuelle Maschine ist langsam!".  In dieser Artikelserie werde ich Leistungsmetriken analysieren und erkl√§ren, was und warum es "langsamer" wird und wie sichergestellt werden kann, dass es nicht "langsamer" wird. <br><br>  Ich werde die folgenden Leistungsaspekte von virtuellen Maschinen ber√ºcksichtigen: <br><br><ul><li>  CPU </li><li>  RAM </li><li>  SCHEIBE, </li><li>  Netzwerk </li></ul><br>  Ich werde mit der CPU beginnen. <br><br>  F√ºr die Leistungsanalyse ben√∂tigen wir: <br><br><ul><li> <b>vCenter-Leistungsindikatoren</b> sind Leistungsindikatoren, deren Diagramme √ºber den vSphere-Client angezeigt werden k√∂nnen.  Informationen zu diesen Leistungsindikatoren sind in jeder Client-Version verf√ºgbar ("dicker" Client in C #, Web-Client in Flex und Web-Client in HTML5).  In diesen Artikeln werden wir Screenshots vom C # -Client verwenden, nur weil sie in Miniatur besser aussehen :) </li><li>  <b>ESXTOP</b> ist ein Dienstprogramm, das √ºber die ESXi-Befehlszeile ausgef√ºhrt wird.  Mit seiner Hilfe k√∂nnen Sie die Werte von Leistungsindikatoren in Echtzeit abrufen oder diese Werte f√ºr einen bestimmten Zeitraum zur weiteren Analyse in eine CSV-Datei hochladen.  Als N√§chstes werde ich Ihnen mehr √ºber dieses Tool erz√§hlen und einige n√ºtzliche Links zu Dokumentationen und verwandten Artikeln bereitstellen. </li></ul><br><a name="habracut"></a><br><h3>  Ein bisschen Theorie </h3><br><img src="https://habrastorage.org/webt/zf/rh/dx/zfrhdxqi6ys3wgdgzs0m5ibk96i.png"><br><br>  In ESXi ist ein separater Prozess f√ºr den Betrieb jeder vCPU (Virtual Machine Core) verantwortlich - der Welt in der VMware-Terminologie.  Es gibt auch Serviceprozesse, die jedoch aus Sicht der VM-Leistungsanalyse weniger interessant sind. <br><br>  Ein Prozess in ESXi kann sich in einem von vier Zust√§nden befinden: <br><br><ul><li>  <b>Ausf√ºhren</b> - Der Prozess leistet n√ºtzliche Arbeit. </li><li>  <b>Warten</b> - Der Prozess erledigt keine Arbeit (Leerlauf) oder wartet auf Eingabe / Ausgabe. </li><li>  <b>Costop</b> ist eine Bedingung, die in virtuellen Multi-Core-Maschinen auftritt.  Dies tritt auf, wenn der Hypervisor-CPU-Scheduler (ESXi CPU Scheduler) nicht alle aktiven Kerne der virtuellen Maschine so planen kann, dass sie gleichzeitig auf den physischen Serverkernen ausgef√ºhrt werden.  In der physischen Welt arbeiten alle Prozessorkerne parallel, das Gastbetriebssystem in der VM erwartet ein √§hnliches Verhalten, sodass der Hypervisor die VM-Kerne verlangsamen muss, die den Beat schneller beenden k√∂nnen.  In modernen Versionen von ESXi verwendet der CPU-Scheduler einen Mechanismus, der als entspanntes Co-Scheduling bezeichnet wird: Der Hypervisor ber√ºcksichtigt die L√ºcke zwischen dem schnellsten und dem langsamsten Kern der virtuellen Maschine (Skew). Wenn die L√ºcke einen bestimmten Schwellenwert √ºberschreitet, wechselt der schnelle Core in den Costop-Zustand Wenn VM-Kerne in diesem Zustand viel Zeit verbringen, kann dies zu Leistungsproblemen f√ºhren. </li><li>  <b>Bereit</b> - Der Prozess wird in diesen Zustand versetzt, wenn der Hypervisor nicht in der Lage ist, Ressourcen f√ºr seine Ausf√ºhrung zuzuweisen.  Hohe Bereitschaftswerte k√∂nnen zu VM-Leistungsproblemen f√ºhren. </li></ul><br><h3>  Grundlegende CPU-Leistungsindikatoren einer virtuellen Maschine </h3><br>  <b>CPU-Auslastung,%.</b>  Zeigt den Prozentsatz der CPU-Auslastung f√ºr einen bestimmten Zeitraum an. <br><br><img src="https://habrastorage.org/webt/ly/ad/rg/lyadrgztwkrkipbfnzllfcjtrq4.png"><br><br>  <b>Wie zu analysieren?</b>  Wenn die VM die CPU zu 90% stabil nutzt oder Spitzen von bis zu 100% auftreten, treten Probleme auf.  Probleme k√∂nnen nicht nur im ‚Äûlangsamen‚Äú Betrieb der Anwendung innerhalb der VM zum Ausdruck kommen, sondern auch in der Unzug√§nglichkeit der VM √ºber das Netzwerk.  Wenn das √úberwachungssystem anzeigt, dass die VM regelm√§√üig abf√§llt, beachten Sie die Spitzen im Diagramm zur CPU-Auslastung. <br><br>  Es gibt einen Standardalarm, der die CPU-Auslastung der virtuellen Maschine anzeigt: <br><br><img src="https://habrastorage.org/webt/6a/pr/b9/6aprb9vc1gwbtioocqpjdm7jzhk.png"><br><br>  <b>Was zu tun ist?</b>  Wenn die CPU-Auslastung die VM st√§ndig √ºberfordert, k√∂nnen Sie die Anzahl der vCPUs erh√∂hen (dies hilft leider nicht immer) oder die VMs auf einen Server mit effizienteren Prozessoren √ºbertragen. <br><br><h3>  CPU-Auslastung in MHz </h3><br>  In vCenter-Verwendungsdiagrammen in% k√∂nnen Sie nur die gesamte virtuelle Maschine sehen. Es gibt keine Diagramme f√ºr einzelne Kerne (Esxtop hat Werte in% f√ºr Kerne).  F√ºr jeden Kern wird die Verwendung in MHz angezeigt. <br><br>  <b>Wie zu analysieren?</b>  Es kommt vor, dass die Anwendung nicht f√ºr die Mehrkernarchitektur optimiert ist: Sie verwendet zu 100% nur einen Kern, und der Rest ist ohne Last im Leerlauf.  Mit den Standardeinstellungen f√ºr die Sicherung startet MS SQL den Prozess beispielsweise nur auf einem Kern.  Infolgedessen wird die Sicherung nicht aufgrund der langsamen Festplattengeschwindigkeit (√ºber die sich der Benutzer urspr√ºnglich beschwert hat) verlangsamt, sondern weil der Prozessor nicht damit umgehen kann.  Das Problem wurde durch √Ñndern der Parameter gel√∂st: Die Sicherung wurde in mehreren Dateien (bzw. in mehreren Prozessen) parallel ausgef√ºhrt. <br><br><img src="https://habrastorage.org/webt/6p/pm/w8/6ppmw8d5vqe2gepkiahzqx9tfms.png"><br>  <i>Ein Beispiel f√ºr eine ungleichm√§√üige Ladung von Kernen.</i> <br><br>  Es gibt auch eine Situation (wie in der obigen Grafik), in der die Kerne ungleichm√§√üig belastet sind und einige von ihnen Spitzen von 100% aufweisen.  Wie beim Laden nur eines Kerns funktioniert der Alarm bei der CPU-Auslastung nicht (auf der gesamten VM), es treten jedoch Leistungsprobleme auf. <br><br>  <b>Was zu tun ist?</b>  Wenn die Software in der virtuellen Maschine die Kernel ungleichm√§√üig l√§dt (verwendet nur einen Kern oder einen Teil der Kernel), macht es keinen Sinn, ihre Anzahl zu erh√∂hen.  In diesem Fall ist es besser, die VM auf einen Server mit effizienteren Prozessoren zu verschieben. <br><br>  Sie k√∂nnen auch versuchen, die Energieeinstellungen im Server-BIOS zu √ºberpr√ºfen.  Viele Administratoren aktivieren den Hochleistungsmodus im BIOS und damit die Energiespartechnologien f√ºr C- und P-Zust√§nde.  Moderne Intel-Prozessoren verwenden die Turbo-Boost-Technologie, die die Frequenz einzelner Prozessorkerne aufgrund anderer Kerne erh√∂ht.  Es funktioniert jedoch nur mit den enthaltenen energiesparenden Technologien.  Wenn wir sie ausschalten, kann der Prozessor den Stromverbrauch von nicht geladenen Kerneln nicht reduzieren. <br><br>  VMware empfiehlt, keine Energiespartechnologien auf Servern auszuschalten, sondern Modi zu w√§hlen, die das Energiemanagement f√ºr den Hypervisor maximieren.  Gleichzeitig m√ºssen Sie in den Energieeinstellungen des Hypervisors Hochleistung ausw√§hlen. <br><br>  Wenn Ihre Infrastruktur separate VMs (oder VM-Kerne) enth√§lt, die eine erh√∂hte CPU-Frequenz erfordern, kann die korrekte Konfiguration des Stromverbrauchs deren Leistung erheblich verbessern. <br><br><img src="https://habrastorage.org/webt/uq/ov/-o/uqov-ooazq0fetmazbwzhvxlgeg.png"><br><br><h3>  CPU bereit (Bereitschaft) </h3><br>  Wenn sich der VM-Kern (vCPU) im Bereitschaftszustand befindet, leistet er keine n√ºtzliche Arbeit.  Diese Bedingung tritt auf, wenn der Hypervisor keinen freien physischen Kern findet, dem der vCPU-Prozess der virtuellen Maschine zugewiesen werden kann. <br><br>  <b>Wie zu analysieren?</b>  Wenn sich die Kerne der virtuellen Maschine mehr als 10% der Zeit im Bereitschaftszustand befinden, werden Sie normalerweise Leistungsprobleme feststellen.  Einfach ausgedr√ºckt, mehr als 10% der Zeit wartet eine VM auf die Verf√ºgbarkeit physischer Ressourcen. <br><br>  In vCenter werden 2 Z√§hler angezeigt, die der CPU-Bereitschaft zugeordnet sind: <br><br><ul><li>  Bereitschaft </li><li>  Fertig. </li></ul><br>  Die Werte beider Z√§hler k√∂nnen sowohl √ºber die gesamte VM als auch f√ºr einzelne Kernel angezeigt werden. <br>  Die Bereitschaft zeigt den Wert sofort in Prozent, jedoch nur in Echtzeit (Daten f√ºr die letzte Stunde, Messintervall 20 Sekunden).  Dieser Z√§hler wird am besten nur verwendet, um nach Problemen "bei der Verfolgung" zu suchen. <br><br>  Bereitschaftsz√§hlerwerte k√∂nnen auch in historischer Perspektive betrachtet werden.  Dies ist n√ºtzlich, um Muster zu erstellen und das Problem genauer zu analysieren.  Wenn eine virtuelle Maschine beispielsweise zu einem bestimmten Zeitpunkt Leistungsprobleme aufweist, k√∂nnen Sie die Intervalle des Wertes f√ºr die CPU-Bereitschaft mit der Gesamtlast auf dem Server vergleichen, auf dem die VM ausgef√ºhrt wird, und Ma√ünahmen zur Reduzierung der Last ergreifen (wenn DRS dies nicht bew√§ltigen konnte). <br><br>  Ready wird im Gegensatz zu Readiness nicht in Prozent, sondern in Millisekunden angezeigt.  Dies ist ein Z√§hler vom Typ Summation, dh er zeigt an, wie lange sich der VM-Kern w√§hrend des Messzeitraums im Bereitschaftszustand befand.  Sie k√∂nnen diesen Wert mit einer einfachen Formel in Prozent umrechnen: <br><br>  (CPU-Ready-Summationswert / (Standard-Aktualisierungsintervall des Diagramms in Sekunden * 1000)) * 100 = CPU-Ready% <br><br>  F√ºr VMs in der folgenden Grafik lautet der Spitzenwert von Bereit f√ºr die gesamte virtuelle Maschine beispielsweise wie folgt: <br><br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mn>4286</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mo stretchy=&quot;false&quot;>(</mo><mn>20</mn><mo>&amp;#x2217;</mo><mn>1000</mn><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2217;</mo><mn>100</mn><mo>=</mo><mn>21</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="29.706ex" height="2.66ex" viewBox="0 -832 12789.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/dataline/blog/452884/&amp;usg=ALkJrhiI0LiPGeVHyf5Q9g-cG5F1ZmtzYQ#MJMAIN-28" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/dataline/blog/452884/&amp;usg=ALkJrhiI0LiPGeVHyf5Q9g-cG5F1ZmtzYQ#MJMAIN-34"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/dataline/blog/452884/&amp;usg=ALkJrhiI0LiPGeVHyf5Q9g-cG5F1ZmtzYQ#MJMAIN-32" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/dataline/blog/452884/&amp;usg=ALkJrhiI0LiPGeVHyf5Q9g-cG5F1ZmtzYQ#MJMAIN-38" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/dataline/blog/452884/&amp;usg=ALkJrhiI0LiPGeVHyf5Q9g-cG5F1ZmtzYQ#MJMAIN-36" x="1501" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/dataline/blog/452884/&amp;usg=ALkJrhiI0LiPGeVHyf5Q9g-cG5F1ZmtzYQ#MJMAIN-2F" x="2391" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/dataline/blog/452884/&amp;usg=ALkJrhiI0LiPGeVHyf5Q9g-cG5F1ZmtzYQ#MJMAIN-28" x="2892" y="0"></use><g transform="translate(3281,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/dataline/blog/452884/&amp;usg=ALkJrhiI0LiPGeVHyf5Q9g-cG5F1ZmtzYQ#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/dataline/blog/452884/&amp;usg=ALkJrhiI0LiPGeVHyf5Q9g-cG5F1ZmtzYQ#MJMAIN-30" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/dataline/blog/452884/&amp;usg=ALkJrhiI0LiPGeVHyf5Q9g-cG5F1ZmtzYQ#MJMAIN-2217" x="4504" y="0"></use><g transform="translate(5227,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/dataline/blog/452884/&amp;usg=ALkJrhiI0LiPGeVHyf5Q9g-cG5F1ZmtzYQ#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/dataline/blog/452884/&amp;usg=ALkJrhiI0LiPGeVHyf5Q9g-cG5F1ZmtzYQ#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/dataline/blog/452884/&amp;usg=ALkJrhiI0LiPGeVHyf5Q9g-cG5F1ZmtzYQ#MJMAIN-30" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/dataline/blog/452884/&amp;usg=ALkJrhiI0LiPGeVHyf5Q9g-cG5F1ZmtzYQ#MJMAIN-30" x="1501" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/dataline/blog/452884/&amp;usg=ALkJrhiI0LiPGeVHyf5Q9g-cG5F1ZmtzYQ#MJMAIN-29" x="7229" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/dataline/blog/452884/&amp;usg=ALkJrhiI0LiPGeVHyf5Q9g-cG5F1ZmtzYQ#MJMAIN-29" x="7618" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/dataline/blog/452884/&amp;usg=ALkJrhiI0LiPGeVHyf5Q9g-cG5F1ZmtzYQ#MJMAIN-2217" x="8230" y="0"></use><g transform="translate(8953,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/dataline/blog/452884/&amp;usg=ALkJrhiI0LiPGeVHyf5Q9g-cG5F1ZmtzYQ#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/dataline/blog/452884/&amp;usg=ALkJrhiI0LiPGeVHyf5Q9g-cG5F1ZmtzYQ#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/dataline/blog/452884/&amp;usg=ALkJrhiI0LiPGeVHyf5Q9g-cG5F1ZmtzYQ#MJMAIN-30" x="1001" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/dataline/blog/452884/&amp;usg=ALkJrhiI0LiPGeVHyf5Q9g-cG5F1ZmtzYQ#MJMAIN-3D" x="10732" y="0"></use><g transform="translate(11788,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/dataline/blog/452884/&amp;usg=ALkJrhiI0LiPGeVHyf5Q9g-cG5F1ZmtzYQ#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/dataline/blog/452884/&amp;usg=ALkJrhiI0LiPGeVHyf5Q9g-cG5F1ZmtzYQ#MJMAIN-31" x="500" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>4286</mn><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mo stretchy="false">(</mo><mn>20</mn><mo>‚àó</mo><mn>1000</mn><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>‚àó</mo><mn>100</mn><mo>=</mo><mn>21</mn></math></span></span><script type="math/tex" id="MathJax-Element-1"> (4286 / (20 * 1000)) * 100 = 21% (4286 / (20 * 1000)) * 100 = 21% </script><br><br><img src="https://habrastorage.org/webt/oq/ma/1u/oqma1u-x4wdruct6jqgvlak9ia0.png"><br><br>  Bei der Berechnung des Bereitschaftswerts als Prozentsatz sollten Sie zwei Punkte beachten: <br><br><ul><li>  Der Wert von Ready f√ºr die gesamte VM ist die Summe von Ready f√ºr alle Kerne. </li><li>  Messintervall.  In Echtzeit sind dies 20 Sekunden und in Tages-Charts beispielsweise 300 Sekunden. </li></ul><br>  Bei aktiver Fehlerbehebung k√∂nnen diese einfachen Punkte leicht √ºbersehen werden und wertvolle Zeit f√ºr die L√∂sung nicht vorhandener Probleme aufgewendet werden. <br><br>  Wir berechnen Ready basierend auf den Daten aus der folgenden Grafik.  (324474 / (20 * 1000)) * 100 = 1622% f√ºr die gesamte VM.  Wenn Sie sich die Kerne ansehen, wird es nicht so be√§ngstigend: 1622/64 = 25% pro Kern.  In diesem Fall ist das Erkennen eines Tricks recht einfach: Der Ready-Wert ist unrealistisch.  Wenn es sich jedoch um 10‚Äì20% f√ºr die gesamte VM mit mehreren Kernen handelt, kann der Wert f√ºr jeden Kern im normalen Bereich liegen. <br><br><img src="https://habrastorage.org/webt/_m/qe/cc/_mqeccs8ivn_r-zrogedc_ofw9a.png"><br><br>  <b>Was zu tun ist?</b>  Ein hoher Wert f√ºr Bereit zeigt an, dass der Server nicht √ºber gen√ºgend Prozessorressourcen f√ºr den normalen Betrieb virtueller Maschinen verf√ºgt.  In dieser Situation bleibt nur die √úberbelegung des Prozessors (vCPU: pCPU) zu reduzieren.  Dies kann nat√ºrlich erreicht werden, indem die Parameter vorhandener VMs reduziert oder ein Teil der VM auf andere Server migriert wird. <br><br><h3>  Co-Stop </h3><br>  <b>Wie zu analysieren?</b>  Dieser Z√§hler hat auch den Summationstyp und wird in Prozents√§tze wie Bereit √ºbersetzt: <br><br>  (CPU-Co-Stop-Summierungswert / (Standard-Aktualisierungsintervall des Diagramms in Sekunden * 1000)) * 100 = CPU-Co-Stop% <br><br>  Hier m√ºssen Sie auch auf die Anzahl der Kerne pro VM und das Messintervall achten. <br>  Im Costop-Status leistet der Kernel keine n√ºtzliche Arbeit.  Bei korrekter Auswahl der VM-Gr√∂√üe und der normalen Auslastung des Servers sollte der Co-Stop-Z√§hler nahe Null liegen. <br><br><img src="https://habrastorage.org/webt/pz/y8/sr/pzy8sr12hk1z2yosm9devw7knvs.png"><br>  <i>In diesem Fall ist die Last eindeutig abnormal :)</i> <br><br>  <b>Was zu tun ist?</b>  Wenn mehrere VMs mit einer gro√üen Anzahl von Kernen auf demselben Hypervisor ausgef√ºhrt werden und die CPU √ºberbelegt ist, kann der Co-Stop-Z√§hler wachsen, was zu Problemen mit der Leistung dieser VMs f√ºhrt. <br><br>  Au√üerdem erh√∂ht sich der Co-Stop, wenn Threads f√ºr aktive Kernel einer VM auf demselben physischen Serverkern mit aktiviertem Hyper-Treading verwendet werden.  Eine solche Situation kann beispielsweise auftreten, wenn die VM √ºber mehr Kerne verf√ºgt als physisch auf dem Server, auf dem sie arbeitet, oder wenn die Einstellung "PreferHT" f√ºr die VM aktiviert ist.  √úber diese Einstellung k√∂nnen Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> lesen. <br><br>  Um Probleme mit der VM-Leistung aufgrund eines hohen Co-Stopps zu vermeiden, w√§hlen Sie die VM-Gr√∂√üe gem√§√ü den Empfehlungen des Softwareherstellers, der auf dieser VM ausgef√ºhrt wird, und gem√§√ü den Funktionen des physischen Servers, auf dem die VM ausgef√ºhrt wird. <br><br>  F√ºgen Sie keine Kernel in Reserve hinzu. Dies kann nicht nur zu Leistungsproblemen der VM selbst, sondern auch der Servernachbarn f√ºhren. <br><br><h3>  Andere n√ºtzliche CPU-Metriken </h3><br>  <b>Ausf√ºhren</b> - Wie viel Zeit (ms) f√ºr die vCPU-Messperiode war im RUN-Status, dh tats√§chlich geleistete n√ºtzliche Arbeit. <br><br>  <b>Leerlauf</b> - Wie viel Zeit (ms) f√ºr den vCPU-Messzeitraum war inaktiv.  Hohe Leerlaufwerte sind kein Problem, nur vCPU hatte "nichts zu tun". <br><br>  <b>Warten</b> - Wie viel Zeit (ms) f√ºr die vCPU-Messperiode war im Wartezustand.  Da IDLE in diesem Z√§hler enthalten ist, weisen hohe Wartewerte ebenfalls nicht auf ein Problem hin.  Wenn jedoch bei hoher Wartezeit IDLE niedrig ist, hat die VM auf den Abschluss der E / A-Vorg√§nge gewartet, was wiederum auf ein Problem mit der Leistung der Festplatte oder einiger virtueller VM-Ger√§te hinweisen kann. <br><br>  <b>Max. Begrenzt</b> - wie viel Zeit (ms) f√ºr die vCPU-Messperiode aufgrund des festgelegten Ressourcenlimits im Bereitschaftszustand war.  Wenn die Leistung unerkl√§rlich niedrig ist, ist es hilfreich, den Wert dieses Z√§hlers und das CPU-Limit in den VM-Einstellungen zu √ºberpr√ºfen.  VMs k√∂nnen tats√§chlich Grenzen haben, die Sie nicht kennen.  Dies ist beispielsweise der Fall, wenn die VM von der Vorlage abf√§llt, f√ºr die das CPU-Limit festgelegt wurde. <br><br>  <b>Swap-Wartezeit</b> - Wie lange hat die vCPU w√§hrend des Messzeitraums auf den Betrieb mit VMkernel Swap gewartet?  Wenn die Werte dieses Z√§hlers √ºber Null liegen, hat die VM definitiv Leistungsprobleme.  Wir werden mehr √ºber SWAP im Artikel √ºber RAM-Z√§hler sprechen. <br><br><h3>  ESXTOP </h3><br>  Wenn Leistungsindikatoren in vCenter f√ºr die Analyse historischer Daten geeignet sind, erfolgt die Online-Analyse des Problems am besten in ESXTOP.  Hier werden alle Werte in fertiger Form dargestellt (es ist keine √úbersetzung erforderlich), und die minimale Messdauer betr√§gt 2 Sekunden. <br>  Der ESXTOP-Bildschirm auf der CPU wird mit der Taste ‚Äûc‚Äú aufgerufen und sieht folgenderma√üen aus: <br><br><img src="https://habrastorage.org/webt/5x/8g/-o/5x8g-ovkxsc4xsuuvvk6guv3t0u.png"><br><br>  Der Einfachheit halber k√∂nnen Sie nur Prozesse der virtuellen Maschine verlassen, indem Sie Umschalt-V dr√ºcken. <br>  Um die Metriken f√ºr einzelne VM-Kerne anzuzeigen, dr√ºcken Sie "e" und geben Sie die GID der VM ein, an der Sie interessiert sind (30919 im folgenden Screenshot): <br><br><img src="https://habrastorage.org/webt/tu/fn/jz/tufnjzwauierg5thzwsij3elpca.png"><br><br>  Gehen Sie kurz die Spalten durch, die standardm√§√üig angezeigt werden.  Zus√§tzliche Spalten k√∂nnen durch Dr√ºcken von ‚Äûf‚Äú hinzugef√ºgt werden. <br><br>  <b>NWLD (Anzahl der Welten)</b> - Die Anzahl der Prozesse in der Gruppe.  Dr√ºcken Sie "e", um die Gruppe zu erweitern und die Metriken f√ºr jeden Prozess anzuzeigen (z. B. f√ºr jeden Kern einer Multi-Core-VM).  Wenn eine Gruppe mehr als einen Prozess hat, entsprechen die Werte der Metriken f√ºr die Gruppe der Summe der Metriken f√ºr die einzelnen Prozesse. <br><br>  <b>% USED</b> - Wie viele Zyklen verwendet die CPU des Servers einen Prozess oder eine Gruppe von Prozessen. <br><br>  <b>% RUN</b> - wie viel Zeit w√§hrend des Messzeitraums der Prozess im RUN-Zustand war, d. H.  n√ºtzliche Arbeit geleistet.  Es unterscheidet sich von% USED darin, dass Hyper-Threading, Frequenzskalierung und Zeitaufwand f√ºr Systemaufgaben (% SYS) nicht ber√ºcksichtigt werden. <br><br>  <b>% SYS</b> - Zeitaufwand f√ºr Systemaufgaben, z. B. Behandlung von Interrupts, Eingabe / Ausgabe, Netzwerkbetrieb usw. Der Wert kann hoch sein, wenn auf der VM viel Eingabe / Ausgabe vorhanden ist. <br><br>  <b>% OVRLP</b> - Wie viel Zeit hat der physische Kern, auf dem der VM-Prozess ausgef√ºhrt wird, f√ºr Aufgaben anderer Prozesse aufgewendet <b>?</b> <br><br>  Diese Metriken h√§ngen wie folgt zusammen: <br><br>  % USED =% RUN +% SYS -% OVRLP. <br><br>  Normalerweise ist die% USED-Metrik informativer. <br><br>  <b>% WAIT</b> - wie viel Zeit w√§hrend des Messzeitraums der Prozess im Wartezustand war.  Beinhaltet LEERLAUF. <br><br>  <b>% IDLE</b> - wie lange sich der Prozess w√§hrend des Messzeitraums im IDLE-Zustand befand. <br><br>  <b>% SWPWT</b> - Wie lange hat vCPU w√§hrend des Messzeitraums auf den Betrieb mit VMkernel Swap gewartet? <br><br>  <b>% VMWAIT</b> - wie lange sich die vCPU w√§hrend des Messzeitraums im Wartezustand eines Ereignisses (normalerweise E / A) befand.  In vCenter gibt es keinen √§hnlichen Z√§hler.  Hohe Werte weisen auf Probleme mit der Eingabe / Ausgabe in die VM hin. <br><br>  % WAIT =% VMWAIT +% IDLE +% SWPWT. <br><br>  Wenn die VM VMkernel Swap nicht verwendet, ist es ratsam, bei der Analyse von Leistungsproblemen% VMWAIT zu betrachten, da diese Metrik nicht die Zeit ber√ºcksichtigt, zu der die VM nichts getan hat (% IDLE). <br><br>  <b>% RDY</b> - wie lange der Prozess w√§hrend des Messzeitraums im Bereitschaftszustand war. <br><br>  <b>% CSTP</b> - wie lange sich der Prozess w√§hrend des Messzeitraums im Post-Zustand befand. <br><br>  <b>% MLMTD</b> - Wie viel Zeit w√§hrend des vCPU-Messzeitraums aufgrund des festgelegten Ressourcenlimits im Bereitschaftszustand war. <br><br>  % WAIT +% RDY +% CSTP +% RUN = 100% - Der VM-Kern befindet sich immer in einem dieser vier Zust√§nde. <br><br><h3>  CPU auf dem Hypervisor </h3><br>  Es gibt auch CPU-Leistungsindikatoren f√ºr den Hypervisor in vCenter, die jedoch nichts Interessantes darstellen - es ist nur die Summe der Leistungsindikatoren f√ºr alle VMs auf dem Server. <br>  Der bequemste Weg, um den Status der CPU auf dem Server anzuzeigen, ist auf der Registerkarte Zusammenfassung: <br><br><img src="https://habrastorage.org/webt/cr/zn/bb/crznbbcz3ifhippyvvrpqaotvps.png"><br><br>  Sowohl f√ºr den Server als auch f√ºr die virtuelle Maschine gibt es einen Standardalarm: <br><br><img src="https://habrastorage.org/webt/-v/x0/gz/-vx0gzuta3wskstyrmu8ylixqla.png"><br><br>  Bei einer hohen Auslastung der Server-CPU treten bei VMs, die darauf ausgef√ºhrt werden, Leistungsprobleme auf. <br><br>  In ESXTOP werden die Daten zur Server-CPU-Auslastung oben auf dem Bildschirm angezeigt.  Zus√§tzlich zur Standard-CPU-Auslastung, die f√ºr Hypervisoren nicht aussagekr√§ftig ist, gibt es drei weitere Metriken: <br><br>  <b>CORE UTIL (%)</b> - Laden des Kerns des physischen Servers.  Dieser Z√§hler zeigt an, wie lange der Kernel die Arbeit w√§hrend des Messzeitraums ausgef√ºhrt hat. <br><br>  <b>PCPU UTIL (%)</b> - Wenn Hyper-Threading aktiviert ist, gibt es zwei Threads (PCPU) f√ºr jeden physischen Kern.  Diese Metrik zeigt, wie viel Zeit jeder Thread f√ºr die Arbeit ben√∂tigt hat. <br><br>  <b>PCPU USED (%)</b> ist dasselbe wie PCPU UTIL (%), ber√ºcksichtigt jedoch die Frequenzskalierung (entweder Verringern der Kernfrequenz zur Energieeinsparung oder Erh√∂hen der Kernfrequenz aufgrund der Turbo-Boost-Technologie) und Hyper-Threading. <br><br>  PCPU_USED% = PCPU_UTIL% * effektive Kernfrequenz / nominale Kernfrequenz. <br><br><img src="https://habrastorage.org/webt/gk/il/nh/gkilnhtdazgv5nxiwbydkhda-oe.png"><br>  <i>In diesem Screenshot betr√§gt der USED-Wert f√ºr einige Kerne aufgrund des Betriebs von Turbo Boost mehr als 100%, da die Kernfrequenz h√∂her als die Nennfrequenz ist.</i> <br><br>  Ein paar Worte dar√ºber, wie Hyper-Threading ber√ºcksichtigt wird.  Wenn die Prozesse 100% der Zeit auf beiden Threads des physischen Kerns des Servers ausgef√ºhrt werden, w√§hrend der Kern mit der Nennfrequenz ausgef√ºhrt wird, gilt Folgendes: <br><br><ul><li>  CORE UTIL f√ºr den Kernel ist 100%, </li><li>  PCPU UTIL f√ºr beide Threads ist 100%, </li><li>  PCED USED f√ºr beide Threads betr√§gt 50%. </li></ul><br>  Wenn beide Threads w√§hrend des Messzeitraums nicht 100% der Zeit funktionierten, wird in den Zeitr√§umen, in denen die Threads parallel arbeiteten, die USED PCPU f√ºr Kerne in zwei H√§lften geteilt. <br><br>  ESXTOP verf√ºgt au√üerdem √ºber einen Bildschirm mit den Stromverbrauchsparametern des CPU-Servers.  Hier k√∂nnen Sie sehen, ob der Server energiesparende Technologien verwendet: C-Zust√§nde und P-Zust√§nde.  Wird mit der Taste p aufgerufen: <br><br><img src="https://habrastorage.org/webt/cd/qv/he/cdqvhelnmce9qeseanbqzl3qsqs.png"><br><br><h3>  H√§ufige Probleme mit der CPU-Leistung </h3><br>  Abschlie√üend gehe ich auf typische Gr√ºnde f√ºr Probleme mit der Leistung der CPU-VM ein und gebe kurze Tipps zu deren L√∂sung: <br><br>  <b>Nicht genug Kerntaktrate.</b>  Wenn es keine M√∂glichkeit gibt, VMs auf effizientere Kernel zu √ºbertragen, k√∂nnen Sie versuchen, die Energieeinstellungen zu √§ndern, damit Turbo Boost effizienter arbeitet. <br><br>  <b>Falsche Gr√∂√üe der VM (zu viele / wenige Kerne).</b>  Wenn Sie nur wenige Kerne einsetzen, wird die VM-CPU stark belastet.  Wenn viel, fangen Sie einen hohen Co-Stop. <br><br>  <b>Gro√üe √úberbelegung der CPU auf dem Server.</b>  Wenn die VM hoch bereit ist, reduzieren Sie die √úberbelegung der CPU. <br><br>  <b>Falsche NUMA-Topologie auf gro√üen VMs.</b>  Die von der VM angezeigte NUMA-Topologie (vNUMA) muss mit der NUMA-Servertopologie (pNUMA) √ºbereinstimmen.  Informationen zur Diagnose und m√∂glichen L√∂sungen f√ºr dieses Problem finden Sie beispielsweise im Buch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"VMware vSphere 6.5 Host Resources Deep Dive"</a> .  Wenn Sie nicht tiefer gehen m√∂chten und keine Lizenzbeschr√§nkungen f√ºr das auf der VM installierte Betriebssystem haben, f√ºhren Sie viele virtuelle Sockets auf der VM auf einem Kern aus.  Du wirst nicht viel verlieren :) <br><br>  Das ist alles f√ºr die CPU.  Fragen stellen.  Im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">n√§chsten Teil werde ich</a> √ºber RAM sprechen. <br><br><div class="spoiler">  <b class="spoiler_title">N√ºtzliche Links</b> <div class="spoiler_text">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">http://virtual-red-dot.info/vm-cpu-counters-vsphere/</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://kb.vmware.com/kb/1017926</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">http://www.yellow-bricks.com/2012/07/17/why-is-wait-so-high/</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://communities.vmware.com/docs/DOC-9279</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://www.vmware.com/content/dam/digitalmarketing/vmware/en/pdf/techpaper/performance/whats-new-vsphere65-perf.pdf</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://pages.rubrik.com/host-resources-deep-dive_request.html</a> </div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de452884/">https://habr.com/ru/post/de452884/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de452856/index.html">Warum Indie-Projekte nicht live ver√∂ffentlicht werden</a></li>
<li><a href="../de452872/index.html">Da ich kein Rosnanov-Seminar √ºber FPGAs in Moskau vorbereitet und abgehalten habe. Pl√§ne, dasselbe in Las Vegas und Zelenograd zu tun</a></li>
<li><a href="../de452876/index.html">UICollectionViewLayout f√ºr Pizza aus verschiedenen H√§lften</a></li>
<li><a href="../de452880/index.html">Sensationelle Benutzerdatenlecks f√ºr Januar - April 2019</a></li>
<li><a href="../de452882/index.html">Kundenfehler beim ersten Kontakt mit Freelancer</a></li>
<li><a href="../de452886/index.html">Wiki-Projekte und Noosphere-Name auf HACKNOWLEGE</a></li>
<li><a href="../de452888/index.html">In der N√§he von M√ºnchen begann der Test des f√ºnfsitzigen Tiltrotors Lilium Jet in Originalgr√∂√üe</a></li>
<li><a href="../de452890/index.html">23. Mai, 18.30 Uhr - Live-√úbertragung von QIWI Kitchen</a></li>
<li><a href="../de452892/index.html">Wie kann ein Nicht-Programmierer in die USA ziehen: Schritt-f√ºr-Schritt-Anleitung</a></li>
<li><a href="../de452894/index.html">Face Anti-Spoofing oder technologisch einen Betr√ºger von tausend Gesichtern erkennen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>