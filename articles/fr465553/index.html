<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêç ü§Ωüèª üí∂ Langage de programmation √ú. Introduction, motivation pour cr√©er, objectifs ü§öüèæ üö∂üèΩ üë•</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pr√©sentation 
 Depuis 2016 (avec des interruptions), je d√©veloppe mon propre langage de programmation. Le nom de cette langue est ¬´√ú¬ª. Pourquoi √ú? Par...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Langage de programmation √ú. Introduction, motivation pour cr√©er, objectifs</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/465553/"><h2>  Pr√©sentation </h2><br>  Depuis 2016 (avec des interruptions), je d√©veloppe mon propre langage de programmation.  Le nom de cette langue est ¬´√ú¬ª.  Pourquoi √ú?  Parce que je voulais un nom √† une lettre, et toutes les lettres de l'ensemble de AZ sont d√©j√† prises. <br><br>  Cet article a pour mission de familiariser le public avec cette langue, d'en donner une id√©e g√©n√©rale.  L'article n'a pas l'intention de d√©crire compl√®tement la langue, une description plus compl√®te de la langue, si n√©cessaire, sera donn√©e dans les articles suivants. <br><br>  Pourquoi avons-nous besoin d'une autre langue? <br><a name="habracut"></a><br>  J'ai examin√© un certain nombre de langues compil√©es statistiquement existantes, plus ou moins connues, et suis arriv√©e √† la conclusion qu'aucune d'entre elles ne me convenait compl√®tement.  Tous ont des d√©fauts "fatals". <br><br>  Points sp√©cifiques: <br><br><ul><li>  C - niveau trop bas et dangereux </li><li>  C ++ - h√©rit√© de nombreux d√©fauts de bas niveau, nouvelles fa√ßons de se tirer une balle dans le pied, manque de r√©flexion </li><li>  D - garbage collector, types de r√©f√©rence s√©par√©s </li><li>  Java est un garbage collector, tous les types composites sont r√©f√©renc√©s, attachement fort √† une machine virtuelle.  Une grande partie de cela s'applique √©galement aux langages bas√©s sur JVM. </li><li>  C # - les d√©fauts ressemblent beaucoup √† Java </li><li>  Rust - la n√©cessit√© de prendre explicitement des liens et de les d√©r√©f√©rencer explicitement, (subjectivement) le danger d'une approche quand tout est une expression et renvoie un r√©sultat, la pr√©sence d'une indication explicite de conformit√© au protocole, le manque d'h√©ritage </li><li>  Go - garbage collector, manque de mod√®les </li><li>  Swift - types de r√©f√©rence, n√©cessit√© d'une conformit√© explicite au protocole </li></ul><br>  Ayant d√©couvert l'imperfection de toutes les langues ci-dessus, j'ai d√©cid√© de cr√©er la mienne, d√©pourvue, comme il me semble, de tous les d√©fauts. <br><br><h2>  Informations g√©n√©rales </h2><br>  √ú est un langage compil√©, typ√© statiquement avec un typage fort.  Le langage contient des fonctions libres, des structures, des classes, des m√©thodes pour les structures et les classes.  Types de types existants - fondamentaux, structurels (structures, classes), tableaux de taille constante, tuples, √©num√©rations, pointeurs vers des fonctions.  Les classes peuvent participer √† l'h√©ritage et avoir des fonctions virtuelles.  Le langage prend en charge les mod√®les, il existe des mod√®les pour les classes et les structures, des alias de types, des fonctions et des m√©thodes.  Il y a une surcharge de fonctions et d'op√©rateurs (avec quelques restrictions). <br><br>  Le langage prend en charge les destructeurs pour les classes et les structures.  Les destructeurs sont utilis√©s pour g√©rer les ressources, y compris la m√©moire. <br><br><h2>  Ce qui est d√©j√† l√† </h2><br>  Compilateur bas√© sur LLVM.  Le compilateur prend en charge toutes les plates-formes prenant en charge LLVM.  Le compilateur ne sait pas encore comment cr√©er des fichiers purement ex√©cutables, mais il peut g√©n√©rer des fichiers objets, du code assembleur, du code binaire ou texte llvm.  Il est possible de communiquer avec du code C, il existe un utilitaire qui facilite l'√©criture d'en-t√™tes √ú pour les biblioth√®ques C. <br><br><h2>  Buts et objectifs </h2><br>  Le langage est cr√©√© de mani√®re √† capturer le nombre maximum d'erreurs typiques lors de la compilation.  Les d√©cisions sur la conception du langage sont prises principalement sur la base de cette t√¢che.  Le deuxi√®me objectif est la facilit√© (relative) d'√©crire des programmes et la facilit√© de les lire. <br><br>  Le langage ne contient pas de constructions qui pourraient provoquer l'√©criture de code erron√©, et ne contient pas non plus de fonctionnalit√©s qui pourraient compliquer consid√©rablement la compr√©hension de ce qui se passe dans le programme. <br><br>  Malgr√© les points ci-dessus, la question des performances ne peut √™tre ignor√©e.  Par cons√©quent, au d√©triment des performances, les d√©cisions de conception de langage ne sont pas prises. <br><br>  Alors, regardons quels sont les moments dans √ú qui correspondent aux objectifs d√©clar√©s. <br><br><h3>  Syst√®me de type </h3><br>  Contrairement √† C ++, dans √ú il n'y a pas de pointeurs et de r√©f√©rences en tant que types.  Il n'y a pas de pointeurs du tout, il y a des liens, mais seulement en tant que liens de pile, arguments de r√©f√©rence de fonction, champs de r√©f√©rence.  De plus, les modificateurs mut / imut ne font pas partie d'un type, mais font partie d'une variable, d'une r√©f√©rence, d'un argument de fonction, d'un champ. <br><br>  Gr√¢ce √† cette simplification, on comprend mieux o√π se trouve ce type, en particulier dans le code passe-partout.  Il n'y a aucun doute quant √† la d√©claration d'un lien ou d'une variable, des doutes r√©sultant de typeof (analogue du decltype de C ++), des doutes sur la constante / non constante. <br><br>  Le revers de cette simplification est la n√©cessit√© d'un traitement s√©par√© de la coh√©rence et des liens dans les mod√®les.  Bien que cela ajoute de la clart√© lorsque le param√®tre de constance est pass√© au mod√®le en tant qu'argument explicitement s√©par√©. <br><br><h3>  Initialiseurs </h3><br>  Il est impossible de d√©clarer une variable et de ne pas l'initialiser.  Tout octet de la variable d√©clar√©e doit √™tre initialis√©. <br><br>  Les types fondamentaux (et certains autres) n√©cessitent une initialisation obligatoire: <br><br><pre><code class="rust">var i32 x= 22, y(12345);</code></pre><br>
     :<br>
<br>
<pre><code class="rust">struct Vec{ f32 x; f32 y; }
...
var Vec v{ .x= -56.1f, .y= 42.0f };
var Vec v_uninit; //  </code></pre><br>
        ,      :<br>
<br>
<pre><code class="rust">struct Vec
{
	f32 x; f32 y;
	fn constructor()
	( x= 0.0f, y= 0.0f )
	{}
}
...
var Vec v; //  </code></pre><br>
      ,            .<br>
<br>
,  :<br>
<br>
<pre><code class="rust">struct Vec
{
	f32 x= 0.0f;
	f32 y= 0.0f;
}</code></pre><br>
     ,       []   ,       :<br>
<br>
<pre><code class="rust">var [ i32, 4 ] a[ 1, 1, 3, 4 ];
var tup[ i32, f32 ] t[ 8, 0.5f ];
var [ f32, 16 ] a_uninit; // ,     .
var[ i32, 3 ] aa[ 0, 1 ]; // ,  </code></pre><br>
   C++,          ,    .   ,   ,   ‚Äî . <br>
<br>
       .       ,    ,   ‚Äî  .      this,     - /,    :<br>
<br>
<pre><code class="rust">struct Vec
{
	f32 x; f32 y;
	fn constructor()
	( x= y, y= 0.0f ) // ,  ¬´y¬ª   
	{}

	fn constructor( f32 val )
	( x= val, y= x ) // . ¬´x¬ª         ¬´y¬ª
	{}
}</code></pre><br>
<h3> </h3><br>
     .    ,                  ,       .        .<br>
<br>
 :<br>
<br>
<pre><code class="rust">var i32 mut x= 0;
var i32 &amp;mut ref0= x;
++x; // ,        
var i32 &amp;imut ref1= x; // ,    , . .    </code></pre><br>
 :<br>
<br>
<pre><code class="rust">var i32 mut x= 0;
var i32 &amp;imut ref0= x;
var i32 &amp;mut ref1= x; // ,    ,     </code></pre><br>
  :<br>
<br>
<pre><code class="rust">var i32 mut x= 0;
var i32 &amp;mut ref0= x;
var i32 &amp;mut ref1= ref0; //  , . .       ,     </code></pre><br>
    :<br>
<br>
<pre><code class="rust">fn Mutate( i32 &amp;mut x, i32 &amp;mut y );
...
var i32 mut x= 0;
Mutate( x, x ); // ,          </code></pre><br>
        .   C++<br>
<br>
<pre><code class="cpp">std::vector&lt;int&gt; vec;
vec.push_back(1);
int&amp; ref= vec.front();
vec.push_back(2); // ,  ref        </code></pre><br>
 √ú       :<br>
<br>
<pre><code class="rust">var ust::vector&lt;/i32/&gt; mut vec;
vec.push_back(1);
var i32 &amp;imut ref= vec.front();
vec.push_back(2); // ,      vec,      </code></pre><br>
<h3></h3><br>
      ( ).       ‚Äî   polymorph, interface, abstract   .     .     ,         .<br>
<br>
  :<br>
<br>
<ul>
<li>.     ,    ,      .<br>
<br>
:<br>
<br>
<pre><code class="rust">class A interface
{
	fn virtual pure Foo(this);
}</code></pre></li>
<li> .         .        .   ,       this,     ,  . . .     abstract call,  ,  ,  C++.<br>
<br>
:<br>
<br>
<pre><code class="rust">class A abstract
{
	fn virtual pure Foo(this);
	fn virtual Bar(this){}
	i32 x= 0;
}</code></pre></li>
<li>  .         .     .  -    ,   .<br>
<br>
:<br>
<br>
<pre><code class="rust">class A interface
{
	fn virtual pure Foo(this);
}
class B : A
{
	fn virtual override Foo(this){}
}</code></pre></li>
<li>  .  ,    ,     .</li>
</ul><br>
       .        .<br>
<br>
<pre><code class="rust">fn virtual pure Foo(this); //    .      ,        ,   .

fn virtual Foo(this){} //     .   ,      .

fn virtual override Foo(ths){} //   ,    .         ,   .

fn virtual final Foo(this){} //   ,     .         ,   .  -    ,   .</code></pre><br>
<h3>  </h3><br>
  2019‚Äî    ,    ,  √ú     .      .  ,    ,  ,   ,    .<br>
<br>
:<br>
<br>
<pre><code class="rust">fn Foo( i32 mut x ) : i32
{
	while(x  &lt; 100 )
	{
		x+= 10;
		continue;
		x+= 20; // ,  
	}
	return x;
	++x; // ,  
}</code></pre><br>
 :<br>
<br>
<pre><code class="rust">fn Foo( i32 x ) : i32
{
	if( x &lt; 10 ) { return 0; }
	else if( x &gt; 100 ) { return 1; }
	// ,     
}</code></pre><br>
       else  ,    return  . <br>
<br>
 ,    -   ,   halt ( ).    ,  ,      ,         return.<br>
<br>
<h3></h3><br>
                 .   ,                 (.  ).     ()   .<br>
<br>
 :<br>
<br>
<pre><code class="rust">struct CallableObject
{
	i32 &amp;mut x;
	op()( mut this )
	{
		++x;
	}
}
...
var i32 mut x= 0;
var CallableObject mut obj{ .x= x };
auto thread= ust::thread_create( move(obj) );
++x; // ,   ¬´x¬ª,        ¬´thread¬ª
++ obj.x; //  </code></pre><br>
           -   ,            ,            - ,         . <br>
<br>
                   (mutable  C++), . .    .      ,      - ,    . <br>
<br>
,                   ?           ‚Äî shared_ptr_mt  . ,   ,   lock_mut()          lock_imut(),     .        ¬´      ,   ¬ª.<br>
<br>
:<br>
<br>
<pre><code class="rust">struct Incrementer
{
	ust::shared_ptr_mt_mut&lt;/ i32 /&gt; ptr;
	op()( mut this )
	{
		auto mut lock= ptr.lock_mut(); //   ¬´lock¬ª  
		++lock.get_ref();
	}
}
...
var ust::shared_ptr_mt_mut&lt;/ i32 /&gt; ptr(0);
var size_type mut i(0);
var ust::vector&lt;/ ust::thread&lt;/Incrementer/&gt; /&gt; mut threads;
while( i &lt; size_type(64) )
{
	var Incrementer incrementer{ .ptr= ptr };
	threads.push_back( ust::thread_create(incrementer) );
	++i;
}
threads.clear(); //      .
halt if( ptr.lock_imut().get_ref() != 64 ); // ,   ,  </code></pre><br>
          ,  ,    .          .        ¬´shared¬ª.    ,  ,  ,     -   ,   ¬´shared¬ª.<br>
<br>
<h3> </h3><br>
  .    ,    ,   constexpr .  ,             .<br>
<br>
    ,      √ú,   - ,   C.<br>
<br>
<h3></h3><br>
   C++,   (=, +=, *=  . .)       ,   ,   .     ++  ‚Äì.<br>
<br>
      :<br>
<br>
<pre><code class="rust">if( x = 0 ) {}
x++; //     ++
x += x += x; // ,  +=  
x+= x++ + ++x; //      </code></pre><br>
        .         void,     . <br>
<br>
    ,    ,     .    :<br>
<br>
<pre><code class="rust">auto a = select( condition ? x : y );</code></pre><br>
  select     .<br>
<br>
<h3></h3><br>
 .  .   .   .<br>
<br>
 ?       , -          :<br>
<br>
<ul>
<li>       . -     ,         ,       .</li>
<li>  .             . - NullPointerException  - ,       -  .              ,      , . .           .</li>
<li>   .  ,    ,    ,    . -           -        ,       .  ,   .</li>
<li>     .  ,    ,   .</li>
</ul><br>
<s>,  </s> ,   ?<br>
<br>
 ,      . . ¬´¬ª ,      ,  std::optional/std::variant  C++  Option/Result  Rust.<br>
<br>
 ,   -,       ,   halt.      (   √ú ) ,     , ,     .<br>
<br>
<h3></h3><br>
     ,  -      .  ,    import,   ,       .    C++,     ,      .<br>
<br>
       .         ,  *.cpp  *.hpp  C++.<br>
<br>
<h2></h2><br>
  ,      ,     ,      . <br>
<br>
        ,      ,       . , ,  ,   .  ,   -  ,   .<br>
<br>
<h2></h2><br>
‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">  </a><br>
<br>
‚Üí <a href=""></a>  ,   ,   .<br>
<br>
‚Üí      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a>.<br>
<br>
   , . .    ,       .</div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr465553/">https://habr.com/ru/post/fr465553/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr465539/index.html">766 km - un nouveau record d'autonomie pour LoRaWAN</a></li>
<li><a href="../fr465541/index.html">De l'entreprise √† la PME: nous partageons notre exp√©rience dans l'adaptation de solutions d'entreprise pour les petites et moyennes entreprises avec la mon√©tisation en utilisant le mod√®le SaaS</a></li>
<li><a href="../fr465545/index.html">De diff√©rents c√¥t√©s de l'√âtat: comment Facebook a √©t√© frit au Congr√®s am√©ricain, tandis que Telegram se battait avec le FSB</a></li>
<li><a href="../fr465547/index.html">Guide SQL: comment mieux √©crire des requ√™tes (partie 1)</a></li>
<li><a href="../fr465551/index.html">R√©sum√© des √©v√©nements informatiques de septembre (premi√®re partie)</a></li>
<li><a href="../fr465555/index.html">12 comp√©tences g√©n√©rales qui rendent les chefs de projet informatiques imparables</a></li>
<li><a href="../fr465557/index.html">D√©lais de d√©veloppement de produits</a></li>
<li><a href="../fr465561/index.html">Ce que j'ai appris d'un grand programmeur</a></li>
<li><a href="../fr465567/index.html">Test du code SQL Server avec tSQLt</a></li>
<li><a href="../fr465569/index.html">Carte de d√©veloppement des d√©veloppeurs mobiles</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>