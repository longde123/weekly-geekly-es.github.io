<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîª üë¶üèø üç° ¬øQui√©n escanea Internet? Hora de forjar hierro ü¶à üßëüèø‚Äçü§ù‚ÄçüßëüèΩ üë©‚Äçüè≠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="No quiero renunciar al t√≠tulo. Despu√©s de todo, realiza su tarea: llama la atenci√≥n. Le pido sinceramente que no se enoje si el contenido del art√≠culo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>¬øQui√©n escanea Internet? Hora de forjar hierro</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/415473/"> No quiero renunciar al t√≠tulo.  Despu√©s de todo, realiza su tarea: llama la atenci√≥n.  Le pido sinceramente que no se enoje si el contenido del art√≠culo no ha cumplido con sus expectativas.  Ahora es el momento  "Dichos materiales", dijeron, "deben publicar en foros para aficionados, y en Habr solo la audiencia de TI altamente inteligente habla sobre cosas que nunca necesita comprender y no necesita tratar de comprender".  Sin embargo, ¬°Gloria a Habru!  El es bastante democr√°tico. <br><br>  Algo me llam√≥ la atenci√≥n sobre el tema de la seguridad de la red en t√©rminos de an√°lisis del tr√°fico de red y detecci√≥n de actividad de red no autorizada (en adelante, la NSA). <br><a name="habracut"></a><br>  Aspectos de la NSA que me interesan: <br><br><ul><li>  escaneo no autorizado de recursos (puertos, destinos web) de la red protegida (en adelante - AP) desde una red abierta (en adelante - OS); </li><li>  - tr√°fico no autorizado de / a AP.  Esta es una actividad de red independiente de aplicaciones; </li><li>  inserci√≥n no autorizada de contenido inapropiado (en adelante, NK).  Esto es publicidad, contenido de contenido dudoso. </li><li>  Tipos conocidos de ataques a la red (en adelante, CA). </li></ul><br>  Lo que no me interesa hasta ahora: todo lo que no concierne a la red.  Esta protecci√≥n antivirus afecta directamente a estaciones de trabajo y servidores, correo no deseado, descifrado de contrase√±as, etc.  etc. <br><br>  ¬øPor qu√© decid√≠ reinventar la rueda?  Despu√©s de todo, hay mucho hierro y software que parece realizar las mismas funciones y parece no estar mal.  Pero esta es la pregunta: gastamos mucho dinero en superpoderes hiperconvergentes de la pr√≥xima generaci√≥n, pero no tiene sentido.  Lleg√≥ una actualizaci√≥n y fall√≥ todas las PC.  Los usuarios se sientan con los derechos de los administradores, introducen anuncios en los navegadores y capturan ransomware.  "Oh, estamos cerrados hoy por razones t√©cnicas", debe decir el due√±o del negocio.  Los administradores lanzan un servidor nuevo en la red para actualizar con todos los puertos abiertos, se "actualiza como deber√≠a" inmediatamente.  Y luego comienza a ralentizar la red, el dominio cae en spammers y otras delicias de la vida de TI.  Bueno, Business est√° tratando de pagarles a los administradores para que se muden.  Se mueven, pero no por mucho tiempo, se acostumbran.  Todos saben que los incidentes de TI siempre ocurren repentinamente, como el invierno, para los servicios p√∫blicos.  En cuanto al sector p√∫blico, aqu√≠, como de costumbre, "tontos y caminos".  Por un lado, existen grandes gastos para la "modernizaci√≥n de la red", la compra de equipos caros, que no pueden causar otra cosa que una sospecha razonable de recortes presupuestarios.  Por otro lado, bajos salarios para los especialistas de TI, lo que lleva a la rotaci√≥n del personal y a un bajo nivel general de administradores profesionales.  Como resultado, tenemos equipos caros y un estudiante que no sabe c√≥mo, no sabe y no quiere saber qu√© hacer con esto.  Es decir, el problema de seguridad no est√° en el hardware.  El factor humano es lo que determina la seguridad general de los sistemas. <br><br>  ¬øPor qu√© soy yo?  Adem√°s, ser√° interesante para el due√±o de cada negocio tener un "administrador" que realice sus tareas igualmente bien las 24 horas del d√≠a, los 7 d√≠as de la semana, pr√°cticamente "para la comida". <br><br>  Este es exactamente el tipo de "administrador de hierro" que quiero implementar. <br><br>  Decid√≠ comenzar con la seguridad de la red.  Limitar o excluir la influencia externa en el AP ya es el 50% del caso. <br><br>  Entonces, el concepto general: <br><br>  Las principales condiciones iniciales (¬øideales?): <br><br><ol><li>  Bajo costo  La pieza de hierro en la versi√≥n b√°sica debe ser asequible para todas las categor√≠as, desde un usuario individual con una PC y superior. </li><li>  Una pieza de hierro no debe requerir la atenci√≥n constante de personal calificado para llevar a cabo sus tareas.  Establecer y olvidar. </li><li>  La pieza de hierro debe reemplazarse f√°cilmente, sin requerir configuraci√≥n adicional. </li><li>  El trozo de hierro debe ser interactivo: informar a un c√≠rculo predeterminado de personas sobre las amenazas actuales o sospechadas, su condici√≥n y tomar decisiones de forma independiente en funci√≥n de un an√°lisis de la situaci√≥n.  Es decir, no es el administrador quien debe mirar constantemente en el registro, pero el Iron debe informar que algo sali√≥ mal y lo que hizo para solucionarlo "mal". </li><li>  La interfaz de interacci√≥n con el Iron debe ser simple y comprensible incluso para un especialista en TI novato.  Sin consolas ni expresiones regulares.  Deja el cielo a los p√°jaros. </li></ol><br>  Esto se refiere a los objetivos estrat√©gicos.  Ahora de vuelta a la tierra.  Deje que Zhelezka consista en Recolectores que recopilen informaci√≥n y el Centro de An√°lisis y Toma de Decisiones (en adelante, CACR).  Hay algunas analog√≠as con Smart Home, IoT.  Que sea "Pulpo inteligente" (fu, asqueroso).  ¬øPero por qu√© no?  Parece que, despu√©s de todo, los coleccionistas son tent√°culos y el cerebro es DACR <br><br>  Hay varias opciones para DACR: <br><br><ol><li>  Integrado: colector y DAC en la misma pieza de hierro. </li><li>  Local: trabaja con una lista limitada de equipos.  Digamos dentro de la misma organizaci√≥n o territorio. </li><li>  Global: un recurso de Internet que funciona con recopiladores dentro de Internet. </li><li>  Regional (opci√≥n): para distribuir la carga de Global. </li></ol><br>  Todos los DACA de nivel inferior pueden interactuar con el Global DAC, que almacena la base de datos m√°s completa de las caracter√≠sticas de la NSA. <br><br>  La primera acci√≥n.  Creamos un CARP-Collector integrado para monitorear la NSA. <br><br>  ¬øQu√© es el NSA Collector en la etapa actual?  Esto es esencialmente una computadora Linux ubicada en un paquete de 1U.  El colector tiene 3 interfaces de red.  Dos est√° activado en toda la red.  Una interfaz de gesti√≥n.  DAC se encuentra en la misma plataforma. <br><br>  Aqu√≠ est√° el diagrama de cableado actual: <br><br><img src="https://habrastorage.org/webt/w4/z-/hl/w4z-hl4rnoivpecchv--cjfsftw.png" alt="imagen"><br><br>  Cualquier interacci√≥n del recopilador externo es solo a trav√©s de la interfaz de control.  Para el tr√°fico de Internet, el recopilador es transparente. <br><br>  Dado que ahora estamos desarrollando el algoritmo b√°sico para este stand, es suficiente.  Por supuesto, el producto terminado tendr√° hardware m√°s avanzado y herramientas de resistencia. <br><br>  ¬øQu√© hace el coleccionista?  Recoge determinadas partes del tr√°fico.  Encabezados y, si es necesario, contenido del paquete.  Esto es configurable por las reglas.  No tiene sentido recoger todo el tr√°fico.  Los datos de tr√°fico durante un corto per√≠odo de tiempo (dependiendo de la carga y el volumen del disco de trabajo, semana-mes) se almacenan en el recopilador.  Por lo tanto, el recopilador puede actuar como un reemplazo simult√°neo de la fuente, el recopilador y el sistema de visualizaci√≥n de estad√≠sticas del tipo Netflow.  Por supuesto, dado que el recopilador contiene informaci√≥n sobre cada sesi√≥n, no est√° destinado a almacenar estad√≠sticas durante largos per√≠odos de tiempo.  Si esto es necesario, las estad√≠sticas se pueden volcar en el almacenamiento de red o en una unidad asignada en forma de archivos y, en el futuro, analizarse y visualizarse mediante DAC. <br><br>  El coleccionista no es est√∫pido.  Analiza el tr√°fico en funci√≥n de las reglas definidas por el DAC y env√≠a informaci√≥n al DAC en caso de disparadores de filtro definidos desde el DAC.  Adem√°s, el recopilador filtra el tr√°fico por s√≠ solo. <br><br>  Algo asi. <br><br>  Mientras trabaja en el recopilador, surgi√≥ la idea de cargarlo con otras funciones.  No hablar√© sobre todas las funciones planificadas.  Pero existe el deseo de integrar el servidor y el recopilador del recopilador SNMP Trap en el recopilador SYSLOG.  Esto es necesario, incluso para analizar la correlaci√≥n de algunos eventos. <br><br>  Como subproducto, un producto comercial, ¬øqu√© es lo malo que se puede decir, una pieza de hardware que puede, de forma inmediata, administrar el tr√°fico, recopilar registros, estad√≠sticas de red, trampas y mostrar todo esto de una manera simple y comprensible con notificaci√≥n de eventos? <br><br>  El proyecto est√° abierto a la participaci√≥n. <br><br>  Si alguien tiene sus propios desarrollos interesantes sobre el tema de SYSLOG, escriba SNMP al PM, cree un producto conjunto. <br><br>  Condiciones basicas: <br><br><ol><li>  No "basado en ...", solo propio, √∫nico, y si hay un front-end, ¬°definitivamente es f√°cil de usar!  Para que puedas trabajar sin teclado.  Sin frenos o curvas Java.  Zabbix y Logstash tambi√©n van a Kibane.  C, Python, Perl, PHP, HTML, CSS, JS son bienvenidos (limpio, sin marco de trabajo. Incluso sin jQuery, s√≠). </li><li>  Orientaci√≥n solo a SO y navegadores modernos.  No hay compatibilidad con MS-DOS en IBM XT e Internet Explorer 1.0. </li><li>  Solo para Linux. </li></ol><br>  Las ideas de negocios son bienvenidas, pero este no es el punto.  En esta etapa, se necesitan ideas t√©cnicas, cerebro y tiempo.  Si es una pieza de hierro digna, la forma de archivar y vender se decidir√° por s√≠ misma. <br><br>  Para una comunidad altamente inteligente, propongo un rompecabezas del Coleccionista (√©l mismo a√∫n no lo ha decidido): <br>  El circuito inicial es como en la figura anterior.  El enrutador est√° conectado al ISP a trav√©s de PPPoE y la direcci√≥n 91.122.49.173 en √©l.  La direcci√≥n ya est√° resaltada en art√≠culos anteriores.  Pero esto es bueno para las pruebas, hay un inter√©s constante. <br><br>  Esto es lo que mostr√≥ el coleccionista: <br><br><img src="https://habrastorage.org/webt/ei/os/ad/eiosad_uscig1fx4om7ufvyq0sk.png" alt="imagen"><br><br>  El marcador rojo es un ejemplo de una NSA.  En este caso, el signo es que ni la direcci√≥n de origen ni la direcci√≥n de destino pertenecen al AP.  UDP, puerto de destino 5000. El tema de los troyanos es bien conocido.  Pero el AP solo tiene una direcci√≥n PAT externa (91.122.49.173).  Es decir, espero que en el canal del enrutador ISP solo vea los paquetes cuya direcci√≥n de origen o de destino sea la direcci√≥n externa del enrutador. <br><br>  Veamos la historia de hoy: <br><br><img src="https://habrastorage.org/webt/35/ma/tn/35matn1noo9jpzhinhkc_utfuzg.png" alt="imagen"><br><br>  Aqu√≠ vemos que, de acuerdo con el mismo esquema, los paquetes con una direcci√≥n de origen, pero con diferentes direcciones de destino vuelan a trav√©s de nuestro recopilador. <br><br>  C√≥mo llega este tr√°fico a√∫n no lo he descubierto.  Si alguien tiene pensamientos, por favor escriba en los comentarios.  Al encontrarse con una NSA de este tipo, el recopilador pone una trampa en este tr√°fico y recopila informaci√≥n m√°s detallada sobre su pr√≥xima aparici√≥n, y luego lo proh√≠be.  Esto, por supuesto, es solo un caso.  Solo para m√≠ es inexplicable por ahora; <br><br>  Saludos <br>  R_voland. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es415473/">https://habr.com/ru/post/es415473/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es415463/index.html">HPE Superdome Flex: un nuevo nivel de rendimiento y escalamiento</a></li>
<li><a href="../es415465/index.html">¬øCu√°ntas vidas tienen los electrolitos, la ropa vieja y las tapas de botellas?</a></li>
<li><a href="../es415467/index.html">Concurso de programaci√≥n: Comercio (anuncios)</a></li>
<li><a href="../es415469/index.html">Adblock para radio</a></li>
<li><a href="../es415471/index.html">Extensi√≥n PHP y Kotlin Native. Primera parte, ingenua</a></li>
<li><a href="../es415475/index.html">An√°lisis del c√≥digo heredado cuando se pierde el c√≥digo fuente: ¬øhacer o no hacer?</a></li>
<li><a href="../es415477/index.html">Monitoreo del funcionamiento de los sistemas dom√©sticos suburbanos: los primeros pasos para un hogar inteligente</a></li>
<li><a href="../es415481/index.html">Venezuela bloquea conexiones directas a Tor y tr√°fico ofuscado a puentes</a></li>
<li><a href="../es415483/index.html">7 errores comunes al comparar sus servidores con la nube</a></li>
<li><a href="../es415485/index.html">Conduzca Kingston A1000: ¬øuna ambulancia para la computadora port√°til?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>