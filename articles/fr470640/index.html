<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨ğŸ¿â€ğŸ³ ğŸ¥ ğŸ”» Dimensionnement d'Elasticsearch ğŸ™† ğŸ§—ğŸ¼ ğŸ¤¼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="- Quelle est la taille d'un cluster dont j'ai besoin? 
 - Eh bien, Ã§a dÃ©pend ... (gloussement de colÃ¨re) 
 Elasticsearch est le cÅ“ur de la pile Ã©lasti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Dimensionnement d'Elasticsearch</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/galssoftware/blog/470640/"><img src="https://habrastorage.org/webt/ro/ow/rs/roowrsc0jqrmwlmtiiuca083_r4.png"><br><br><blockquote>  - Quelle est la taille d'un cluster dont j'ai besoin? <br>  - Eh bien, Ã§a dÃ©pend ... (gloussement de colÃ¨re) </blockquote><br>  Elasticsearch est le cÅ“ur de la pile Ã©lastique, dans laquelle se dÃ©roule toute la magie des documents: Ã©mission, rÃ©ception, traitement et stockage.  Les performances dÃ©pendent du nombre correct de nÅ“uds et de l'architecture de la solution.  Et le prix, d'ailleurs, aussi, si votre abonnement est Gold ou Platinum. <br><br>  Les principales caractÃ©ristiques du matÃ©riel sont le disque (stockage), la mÃ©moire (mÃ©moire), les processeurs (calcul) et le rÃ©seau (rÃ©seau).  Chacun de ces composants est responsable de l'action qu'Elasticsearch effectue sur les documents, qui sont respectivement le stockage, la lecture, le calcul et la rÃ©ception / transmission.  Parlons des principes gÃ©nÃ©raux du dimensionnement et rÃ©vÃ©lons le Â«Ã§a dÃ©pendÂ».  Et Ã  la fin de l'article, vous trouverez des liens vers des webinaires et des articles connexes.  C'est parti! <br><a name="habracut"></a><br>  Cet article est basÃ© sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le dimensionnement et la planification de la capacitÃ© du webinaire de David Moore</a> .  Nous avons complÃ©tÃ© son raisonnement par des liens et des commentaires pour le rendre un peu plus clair.  Ã€ la fin de l'article, une piste bonus est des liens vers des matÃ©riaux Ã©lastiques pour ceux qui veulent mieux se plonger dans le sujet.  Si vous avez une bonne expÃ©rience avec Elasticsearch, veuillez partager dans les commentaires comment concevoir un cluster.  Nous et tous nos collÃ¨gues aimerions connaÃ®tre votre opinion. <br><br><h1>  Architecture et opÃ©rations d'Elasticsearch </h1><br>  Au dÃ©but de l'article, nous avons parlÃ© de 4 composants qui forment le matÃ©riel: disque, mÃ©moire, processeurs et rÃ©seau.  Le rÃ´le d'un nÅ“ud affecte l'Ã©limination de chacun de ces composants.  Un nÅ“ud peut jouer plusieurs rÃ´les Ã  la fois, mais avec la croissance du cluster, ces rÃ´les doivent Ãªtre rÃ©partis sur diffÃ©rents nÅ“uds. <br><br>  <b>Les nÅ“uds maÃ®tres</b> surveillent la santÃ© du cluster dans son ensemble.  Dans le travail du nÅ“ud maÃ®tre, un quorum doit Ãªtre observÃ©, c'est-Ã -dire  leur nombre devrait Ãªtre impair (peut-Ãªtre 1, mais mieux 3). <br><br>  <b>Les nÅ“uds de donnÃ©es</b> exÃ©cutent des fonctions de stockage.  Pour augmenter les performances du cluster, les nÅ“uds doivent Ãªtre divisÃ©s en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Â«chaudÂ», Â«chaudÂ» et Â«froidÂ» (figÃ©)</a> .  Les premiers sont pour l'accÃ¨s en ligne, le second pour le stockage et le troisiÃ¨me pour l'archivage.  En consÃ©quence, pour "chaud", il est raisonnable d'utiliser des disques SSD locaux, et pour les disques durs "chauds" et "froids", il convient localement ou en SAN. <br><br>  Pour dÃ©terminer la capacitÃ© de stockage des nÅ“uds pour le stockage, Elastic recommande d'utiliser la logique suivante: Â«chaudÂ» â†’ 1:30 (30 Go d'espace disque par gigaoctet de mÃ©moire), Â«chaudÂ» â†’ 1: 100, Â«froidÂ» â†’ 1: 500).  Sous le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tas JVM, pas plus de 50% de la mÃ©moire totale</a> et pas plus de 30 Go pour Ã©viter le raid du ramasse-miettes.  La mÃ©moire restante sera utilisÃ©e comme cache du systÃ¨me d'exploitation. <br><br>  Les indicateurs de performances des instances Elastisearch tels que les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pools de threads et les files d'attente de threads sont</a> plus affectÃ©s par l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">utilisation du</a> cÅ“ur du processeur.  Les premiers sont formÃ©s sur la base des actions que le nÅ“ud effectue: rechercher, analyser, Ã©crire et autres.  Les seconds sont la file d'attente des requÃªtes correspondantes de diffÃ©rents types.  Le nombre de processeurs Elasticsearch disponibles Ã  utiliser est dÃ©terminÃ© automatiquement, mais vous pouvez spÃ©cifier cette valeur manuellement dans les paramÃ¨tres (cela peut Ãªtre utile lorsque deux instances Elasticsearch ou plus s'exÃ©cutent sur le mÃªme hÃ´te).  Le nombre maximal de pools de threads et de files d'attente de threads de chaque type peut Ãªtre dÃ©fini dans les paramÃ¨tres.  La mÃ©trique des pools de threads est la mÃ©trique de performances principale pour Elasticsearch. <br><br>  <b>Les nÅ“uds d'ingestion</b> prennent les donnÃ©es des collecteurs (Logstash, Beats, etc.), effectuent des conversions sur eux et Ã©crivent dans l'index cible. <br><br>  <b>Les nÅ“uds d'apprentissage automatique</b> sont destinÃ©s Ã  l'analyse des donnÃ©es.  Comme nous l'avons Ã©crit dans un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article sur l'apprentissage automatique dans Elastic Stack</a> , le mÃ©canisme est Ã©crit en C ++ et fonctionne en dehors de la JVM, qui exÃ©cute Elasticsearch lui-mÃªme, il est donc raisonnable d'effectuer de telles analyses sur un nÅ“ud distinct. <br><br>  <b>Les nÅ“uds coordinateurs</b> acceptent une demande de recherche et l'acheminent.  La prÃ©sence de ce type de nÅ“ud accÃ©lÃ¨re le traitement des requÃªtes de recherche. <br><br>  Si nous considÃ©rons la charge sur les nÅ“uds en termes de capacitÃ©s d'infrastructure, la distribution sera quelque chose comme ceci: <br><div class="scrollable-table"><table><tbody><tr><td align="center">  <b>Noda</b> </td><td align="center">  <b>Conduire</b> </td><td align="center">  <b>La mÃ©moire</b> </td><td align="center">  <b>CPU</b> </td><td align="center">  <b>RÃ©seau</b> </td></tr><tr><td>  MaÃ®tre </td><td align="center">  â†“ </td><td align="center">  â†“ </td><td align="center">  â†“ </td><td align="center">  â†“ </td></tr><tr><td>  Les donnÃ©es </td><td align="center">  â†‘â†‘ </td><td align="center">  â†‘ </td><td align="center">  â†‘ </td><td align="center">  â†’ </td></tr><tr><td>  IngÃ©rer </td><td align="center">  â†“ </td><td align="center">  â†’ </td><td align="center">  â†‘ </td><td align="center">  â†’ </td></tr><tr><td>  Apprentissage automatique </td><td align="center">  â†“ </td><td align="center">  â†‘â†‘ </td><td align="center">  â†‘â†‘ </td><td align="center">  â†’ </td></tr><tr><td>  Coordinateur </td><td align="center">  â†“ </td><td align="center">  â†’ </td><td align="center">  â†’ </td><td align="center">  â†’ </td></tr><tr><td colspan="5" align="center">  â†‘â†‘ - trÃ¨s Ã©levÃ©, â†‘ - Ã©levÃ©, â†’ - moyen, â†“ - faible </td></tr></tbody></table></div><br>  Ensuite, nous prÃ©sentons 4 principaux types d'opÃ©rations dans Elasticsearch, chacune nÃ©cessitant un certain type de ressource. <br><br>  <b>Index</b> - traitement et enregistrement d'un document dans l'index.  Le diagramme ci-dessous montre les ressources utilisÃ©es Ã  chaque Ã©tape. <br><br><img src="https://habrastorage.org/webt/h0/80/ek/h080ekuwv9hk320oxjbzhe2myou.png"><br><br>  <b>Supprimer</b> - supprimer un document de l'index. <br><br><img src="https://habrastorage.org/webt/zn/f2/y8/znf2y8pjrr1gcwsijy8b0e7jqog.png"><br><br>  <b>Mise Ã  jour</b> - Fonctionne comme Index et Supprimer, car les documents dans Elasticsearch sont immuables. <br><br>  <b>Recherche</b> - obtenir un ou plusieurs documents ou leur agrÃ©gation Ã  partir d'un ou plusieurs index. <br><br><img src="https://habrastorage.org/webt/mw/wr/8g/mwwr8gypmhrb267m7z6eqefk5se.png"><br><br>  Nous avons compris l'architecture et les types de charges, passons maintenant Ã  la formation d'un modÃ¨le de dimensionnement. <br><br><h1>  Dimensionnement d'Elasticsearch et questions avant sa formation </h1><br>  Elastic recommande d'utiliser deux stratÃ©gies de dimensionnement: orientÃ©e stockage et dÃ©bit.  Dans le premier cas, les ressources disque et la mÃ©moire sont d'une importance primordiale, et dans le second cas, la mÃ©moire, la puissance du processeur et le rÃ©seau. <br><br><h3>  Dimensionnement de l'architecture Elasticsearch en fonction de la taille du stockage </h3><br>  Avant les calculs, nous obtenons les donnÃ©es initiales.  Besoin: <br><br><ul><li>  La quantitÃ© de donnÃ©es brutes par jour; </li><li>  La pÃ©riode de stockage des donnÃ©es en jours; </li><li>  Facteur de transformation des donnÃ©es (facteur json + facteur d'indexation + facteur de compression); </li><li>  Nombre de rÃ©plications de fragments; </li><li>  La quantitÃ© de nÅ“uds de donnÃ©es de mÃ©moire; </li><li>  Le rapport mÃ©moire / donnÃ©es (1:30, 1: 100, etc.). </li></ul><br>  Malheureusement, le facteur de transformation des donnÃ©es n'est calculÃ© qu'empiriquement et dÃ©pend de diverses choses: le format des donnÃ©es brutes, le nombre de champs dans les documents, etc.  Pour le savoir, vous devez charger une partie des donnÃ©es de test dans l'index.  Sur le sujet de ces tests, il y a une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vidÃ©o intÃ©ressante de la confÃ©rence</a> et une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">discussion dans la communautÃ© Elastic</a> .  En gÃ©nÃ©ral, vous pouvez le laisser Ã©gal Ã  1. <br><br>  Par dÃ©faut, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Elasticsearch compresse les donnÃ©es en</a> utilisant l'algorithme LZ4, mais il y a aussi DEFLATE, qui appuie 15% de plus.  En gÃ©nÃ©ral, une compression de 20 Ã  30% peut Ãªtre obtenue, mais elle est Ã©galement calculÃ©e empiriquement.  Lors du passage Ã  l'algorithme DEFLATE, la charge sur la puissance de calcul augmente. <br><br>  Il y a encore des recommandations supplÃ©mentaires: <br><br><ul><li>  DÃ©posez 15% pour avoir une rÃ©serve d'espace disque; </li><li>  Engagez 5% pour les besoins supplÃ©mentaires; </li><li>  Fixez 1 Ã©quivalent d'un nÅ“ud de donnÃ©es pour assurer une migration rapide. </li></ul><br>  Passons maintenant aux formules.  Il n'y a rien de compliquÃ© ici, et nous pensons qu'il sera intÃ©ressant pour vous de vÃ©rifier la conformitÃ© de votre cluster avec ces recommandations. <br><blockquote>  <b>QuantitÃ© totale de donnÃ©es (Go)</b> = donnÃ©es brutes par jour * nombre de jours de stockage * facteur de transformation des donnÃ©es * (nombre de rÃ©pliques - 1) </blockquote><br><blockquote>  <b>Stockage total des donnÃ©es (Go)</b> = Total des donnÃ©es (Go) * (1 + 0,15 stock + 0,05 besoins supplÃ©mentaires) </blockquote><br><blockquote>  <b>Nombre total de nÅ“uds</b> = OK (Stockage total de donnÃ©es (Go) / Volume de mÃ©moire par nÅ“ud / rapport mÃ©moire / donnÃ©es + 1 Ã©quivalent de nÅ“ud de donnÃ©es) </blockquote><br><h3>  Dimensionnement de l'architecture Elasticsearch pour dÃ©terminer le nombre de fragments et de nÅ“uds de donnÃ©es en fonction de la taille du stockage </h3><br>  Avant les calculs, nous obtenons les donnÃ©es initiales.  Besoin: <br><br><ul><li>  Le nombre de modÃ¨les d'index que vous allez crÃ©er; </li><li>  Le nombre de fragments de base et de rÃ©pliques; </li><li>  AprÃ¨s combien de jours la rotation d'index sera effectuÃ©e, le cas Ã©chÃ©ant; </li><li>  Le nombre de jours pour stocker les indices; </li><li>  La quantitÃ© de mÃ©moire pour chaque nÅ“ud. </li></ul><br>  Il y a encore des recommandations supplÃ©mentaires: <br><br><ul><li>  Ne dÃ©passez pas 20 fragments par segment JVM de 1 Go sur chaque nÅ“ud; </li><li>  Ne dÃ©passez pas 40 Go d'espace disque de partition. </li></ul><br>  Les formules sont les suivantes: <br><blockquote>  <b>Nombre de fragments</b> = Nombre de modÃ¨les d'index * Nombre de fragments principaux * (Nombre de fragments rÃ©pliquÃ©s + 1) * Nombre de jours de stockage </blockquote><br><blockquote>  <b>Nombre de nÅ“uds de donnÃ©es</b> = OK (nombre de fragments / (20 * mÃ©moire pour chaque nÅ“ud)) <br></blockquote><br><h3>  Dimensionnement de la bande passante Elasticsearch </h3><br>  Le cas le plus courant lorsqu'une bande passante Ã©levÃ©e est nÃ©cessaire est frÃ©quent et dans les requÃªtes de recherche en grand nombre. <br><br>  DonnÃ©es initiales nÃ©cessaires pour le calcul: <br><br><ul><li>  Recherches de pointe par seconde; </li><li>  Temps de rÃ©ponse admissible moyen en millisecondes; </li><li>  Nombre de cÅ“urs et de threads par cÅ“ur de processeur sur les nÅ“uds de donnÃ©es. </li></ul><br><blockquote>  Valeur maximale des threads = OK (nombre maximal de requÃªtes de recherche par seconde * nombre moyen de temps pour rÃ©pondre Ã  une requÃªte de recherche en millisecondes / 1000 millisecondes) </blockquote><br><blockquote>  Pool de threads de volume = OKRUP ((nombre de cÅ“urs physiques par nÅ“ud * nombre de threads par cÅ“ur * 3/2) +1) </blockquote><br><blockquote>  Nombre de nÅ“uds de donnÃ©es = OK (valeur maximale du thread / volume du pool de threads) </blockquote><br>  Peut-Ãªtre que toutes les donnÃ©es initiales ne seront pas entre vos mains lors de la conception de l'architecture, mais aprÃ¨s avoir regardÃ© le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">webinaire</a> ou lu cet article, une comprÃ©hension apparaÃ®tra qui affecte en principe la quantitÃ© de ressources matÃ©rielles. <br><br>  Veuillez noter qu'il n'est pas nÃ©cessaire d'adhÃ©rer Ã  l'architecture donnÃ©e (par exemple, crÃ©er des nÅ“uds coord coord et des nÅ“uds de gestionnaire).  Il suffit de savoir qu'une telle architecture de rÃ©fÃ©rence existe et qu'elle peut donner une amÃ©lioration des performances que vous ne pourriez pas obtenir par d'autres moyens. <br><br>  Dans l'un des articles suivants, nous publierons une liste complÃ¨te des questions auxquelles il faut rÃ©pondre pour dÃ©terminer la taille du cluster. <br><br>  Pour nous contacter, vous pouvez utiliser des messages personnels sur HabrÃ© ou le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">formulaire de feedback sur le site</a> . <br><br>  <b>MatÃ©riel supplÃ©mentaire</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Webinaire "Dimensionnement d'Elasticsearch et planification des capacitÃ©s"</a> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Webinaire sur la planification des capacitÃ©s d'Elasticsearch</a> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Discours Ã  ElasticON sur le thÃ¨me Â«Dimensionnement quantitatif des clustersÂ»</a> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Webinaire sur l'utilitaire Rally pour dÃ©terminer les indicateurs de performance du cluster</a> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Article sur les tailles d'Elasticsearch</a> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Webinaire sur la pile Ã©lastique</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr470640/">https://habr.com/ru/post/fr470640/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr470622/index.html">PrÃ©sentation des mÃ©thodes de sÃ©lection des fonctionnalitÃ©s</a></li>
<li><a href="../fr470628/index.html">Construction navale de simulateur de vaisseau spatial</a></li>
<li><a href="../fr470632/index.html">Arend - Langage de type dÃ©pendant basÃ© sur HoTT (partie 2)</a></li>
<li><a href="../fr470634/index.html">Identifiez la communautÃ© intercommunautaire sur Instagram pour identifier les intÃ©rÃªts des utilisateurs</a></li>
<li><a href="../fr470638/index.html">MÃ©thodes quasi-newtoniennes ou quand il y a trop de dÃ©rivÃ©es secondes pour Athos</a></li>
<li><a href="../fr470642/index.html">DÃ©couvrez Yandex.Station Mini. Grande histoire d'un petit appareil</a></li>
<li><a href="../fr470644/index.html">Pourquoi les blogs d'entreprise sont parfois aigris: quelques observations et conseils</a></li>
<li><a href="../fr470646/index.html">MathÃ©matiques pour la science des donnÃ©es. Nouveau cours d'OTUS</a></li>
<li><a href="../fr470648/index.html">IBM LTO-8 - Un moyen facile de stocker des donnÃ©es froides</a></li>
<li><a href="../fr470650/index.html">PrÃ©paration des donnÃ©es dans un projet Data Science: recettes pour les jeunes femmes au foyer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>