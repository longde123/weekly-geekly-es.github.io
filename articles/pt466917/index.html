<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèæ‚Äçü§ù‚Äçüë®üèº üëÉ üö¥ Quando o padr√£o HTTP n√£o √© suficiente. Confirma√ß√£o de micronauta üö≥ ‚Ü™Ô∏è üî®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√° pessoal, meu nome √© Dmitry, e hoje vou falar sobre como a produ√ß√£o precisa me tornar um colaborador da estrutura do Micronaut. Certamente muitos j...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Quando o padr√£o HTTP n√£o √© suficiente. Confirma√ß√£o de micronauta</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/466917/">  Ol√° pessoal, meu nome √© Dmitry, e hoje vou falar sobre como a produ√ß√£o precisa me tornar um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">colaborador</a> da estrutura do Micronaut.  Certamente muitos j√° ouviram falar dele.  Em resumo, essa √© uma alternativa leve ao Spring Boot, onde a √™nfase principal n√£o est√° na reflex√£o, mas na compila√ß√£o preliminar de todas as depend√™ncias necess√°rias.  Um conhecido mais detalhado pode come√ßar com a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">documenta√ß√£o</a> oficial. <br><br>  A estrutura do Micronaut √© usada em v√°rios projetos internos do Yandex e se estabeleceu bastante bem.  Ent√£o o que est√°vamos perdendo?  Posso dizer imediatamente: pronto para uso, o framework suporta, em princ√≠pio, todos os recursos que um programador pode teoricamente precisar para desenvolver backends.  No entanto, existem casos raros que n√£o s√£o suportados imediatamente.  Uma delas √© quando voc√™ precisa trabalhar n√£o com HTTP, mas com a extens√£o HTTP.  Por exemplo, com m√©todos adicionais.  De fato, esses casos s√£o muito mais do que parece.  Al√©m disso, alguns desses protocolos s√£o padr√µes: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Webdav</a> √© uma extens√£o para acessar recursos.  Al√©m dos m√©todos padr√£o, o HTTP requer suporte para m√©todos adicionais, como LOCK, PROPPATCH, etc. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Caldav</a> √© uma extens√£o Webdav para trabalhar com eventos do tipo calend√°rio.  Este protocolo com um alto grau de probabilidade est√° nos aplicativos do seu smartphone: para sincronizar agendas, compromissos, etc. </li></ul><br>  E a lista n√£o est√° limitada a isso.  Se voc√™ observar o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=http://www.iana.org/assignments/http-methods/">registro dos m√©todos HTTP</a> , ver√° que os m√©todos HTTP descritos apenas pelos padr√µes RFC atualmente s√£o 39. E quantos outros casos h√° um protocolo auto-escrito sobre HTTP.  Portanto, o suporte a m√©todos HTTP n√£o padr√£o √© bastante comum.  Tamb√©m acontece frequentemente que a estrutura que voc√™ usa n√£o suporta esses m√©todos.  Aqui est√° uma discuss√£o sobre Stack Overflow para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://stackoverflow.com/questions/9318837/serving-non-standard-">ExpressJS</a> .  E aqui est√° a solicita√ß√£o de recebimento no github do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Tornado</a> .  Bem, como o Micronaut √© frequentemente posicionado como uma alternativa leve ao Spring - esse √© o mesmo problema para o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Spring</a> . <br><a name="habracut"></a><br>  N√£o √© de surpreender que, quando em um dos projetos, precis√°vamos de suporte para um protocolo que estenda o HTTP em termos de m√©todos, enfrentamos o mesmo problema para o Micronaut que estamos usando para esse projeto h√° muito tempo.  Descobriu-se que fazer com que o Micronaut processasse m√©todos fora do padr√£o √© bastante dif√≠cil. <br><br>  Porque  Como se voc√™ observar a defini√ß√£o de m√©todos HTTP no Micronaut no momento, <a href="https://github.com/micronaut-projects/micronaut-core/blob/afc3fb377fea37f942c1a251be19b58f9f989b22/http/src/main/java/io/micronaut/">descobrir√°</a> que eles s√£o definidos usando Enum, e n√£o uma classe, como √© feito, por exemplo, no Netty (eu n√£o mencionei acidentalmente o Netty, depois ele ser√° exibido). mais de uma vez).  Para piorar a situa√ß√£o, toda a correspond√™ncia de chamadas do servidor √© feita filtrando por enumera√ß√£o, n√£o pelo nome da string do m√©todo.  Isso significa que, se voc√™ precisar de um m√©todo HTTP n√£o padr√£o, precisar√° escrev√™-lo no Enum e, na verdade, essa n√£o √© uma solu√ß√£o t√£o boa para o problema.  Primeiro, ser√° necess√°rio um commit no reposit√≥rio toda vez que voc√™ precisar de um novo m√©todo.  Em segundo lugar, os m√©todos HTTP n√£o s√£o padronizados por padr√£o e sua lista n√£o √© corrigida em nenhum lugar; portanto, n√£o √© realista prever todas as situa√ß√µes poss√≠veis.  √â necess√°rio for√ßar o Micronaut a processar de alguma forma m√©todos que n√£o foram fornecidos anteriormente pelos desenvolvedores. <br><br><h2>  Solu√ß√£o 1: testa </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/fbd/ed3/332/fbded3332cedae25f99a6537147674b2.jpg" alt="imagem"><br><br>  A primeira e mais √≥bvia solu√ß√£o foi n√£o tocar no Micronaut e n√£o reescrever nada nele.  Porque, porque voc√™ pode colocar o nronx na frente do Micronaut, como fizemos, partindo de um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">exemplo</a> : <br><br><pre><code class="nginx hljs"><span class="hljs-section"><span class="hljs-section">http</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">upstream</span></span> other_PROPPATCH { <span class="hljs-attribute"><span class="hljs-attribute">server</span></span> ...; } <span class="hljs-attribute"><span class="hljs-attribute">upstream</span></span> other_REPORT { <span class="hljs-attribute"><span class="hljs-attribute">server</span></span> ...; } <span class="hljs-section"><span class="hljs-section">server</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">location</span></span> /service { <span class="hljs-attribute"><span class="hljs-attribute">proxy_method</span></span> POST; <span class="hljs-attribute"><span class="hljs-attribute">proxy_pass</span></span> http://other_<span class="hljs-variable"><span class="hljs-variable">$request_method</span></span>; } } }</code> </pre> <br>  Qual √© o objetivo?  Podemos for√ßar o nginx para m√©todos n√£o padr√£o a acessar o proxy de que precisamos, enquanto usamos a capacidade do nginx para alterar o m√©todo: ou seja, acessaremos atrav√©s do m√©todo POST e o Micronaut pode process√°-lo. <br><br>  O que √© ruim?  Para come√ßar, na verdade, fazemos todas as solicita√ß√µes do ponto de vista do Micronaut sem idempot√™ncia.  N√£o esque√ßa que, para m√©todos n√£o padronizados, tamb√©m existe essa separa√ß√£o.  Por exemplo, REPORT √© idempotente, enquanto PROPPATCH n√£o.  Como resultado, a estrutura n√£o sabe sobre o tipo de solicita√ß√£o, e o programador que est√° visualizando o c√≥digo desses manipuladores tamb√©m n√£o poder√° determinar isso.  No entanto, este nem √© o caso.  J√° temos um conjunto de testes que verificam automaticamente o aplicativo quanto √† conformidade com o protocolo desejado.  Para que esses testes funcionem com essa solu√ß√£o em um projeto, voc√™ precisa escolher uma das duas op√ß√µes: <br><br><ul><li>  Aumente a imagem nginx com as configura√ß√µes necess√°rias, al√©m do pr√≥prio aplicativo, para que os testes acessem o nginx e n√£o o pr√≥prio Micronaut.  Embora a infraestrutura Yandex certamente permita que voc√™ crie componentes adicionais, nesse caso, parece que a engenharia excessiva √© apenas para testes. </li><li>  Reescreva os testes para que eles n√£o testem o protocolo desejado, mas consulte os caminhos para os quais o nginx redireciona.  Na verdade, estamos testando n√£o o protocolo, mas a coragem de sua implementa√ß√£o espec√≠fica de muletas. </li></ul><br>  Ambas as op√ß√µes n√£o s√£o muito bonitas, ent√£o surgiu a id√©ia: por que n√£o consertar o Micronaut para a finalidade correta, tanto mais que essa edi√ß√£o ser√° √∫til n√£o apenas para n√≥s.  Ou seja, eu queria algo assim: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@CustomMethod</span></span>(<span class="hljs-string"><span class="hljs-string">"PROPFIND"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">process</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( // Provide here HttpRequest or something </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">else</span></span></span></span><span class="hljs-function"><span class="hljs-params">, as standard micronaut methods )</span></span></span><span class="hljs-function"> </span></span>{ }</code> </pre><br>  E assumi alegremente essa tarefa, mas o que aconteceu no final? <br><br><h2>  Solu√ß√£o dois: vamos reescrever tudo! </h2><br><img src="https://habrastorage.org/webt/-y/ma/r1/-ymar1qtuw8owyqjsplgpywlvrs.jpeg"><br><br>  De fato, √© muito mais f√°cil do que parece √† primeira vista.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">A confirma√ß√£o</a> simplesmente altera HttpMethod de enum para classe.  Em seguida, criamos m√©todos est√°ticos (principalmente valueOf) dentro da classe que foi chamada para enum.  E a IDEA, juntamente com Gradle, garantiu que nada quebrasse. <br><br>  A coisa mais dif√≠cil aqui foi com o DefaultUriRouter, pois assumiu que o conjunto foi corrigido e criou uma matriz de listas de caminhos para poss√≠veis m√©todos.  Isso teve que ser abandonado para uma nova implementa√ß√£o.  Mas, em geral, tudo acabou sendo bastante simples.  Observe que voc√™ tinha que adicionar 240 linhas e excluir 116. <br><br>  O problema √© que essa √© uma grande mudan√ßa.  Sim, na pr√°tica, em um projeto regular usando o Micronaut, voc√™ - provavelmente - n√£o usa o HttpMethod diretamente no c√≥digo e, se o usar, √© improv√°vel que use o m√©todo ordinal e outros m√©todos enum espec√≠ficos.  No entanto, isso ainda n√£o permite tal altera√ß√£o na vers√£o 1.x, especialmente considerando o fato de que tudo isso foi iniciado para dar suporte a um caso bastante raro.  Mas para a vers√£o 2.x, essa √© uma edi√ß√£o normal, mas voc√™ ainda precisa viver at√© a vers√£o 2.x.  Portanto, eu tive que escrever mais c√≥digo ... <br><br><h2>  Solu√ß√£o tr√™s: agir evolutivamente </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/658/725/876/658725876c4497d4c0e3963c33acf1e2.jpg" alt="imagem"><br><br>  Na verdade, voc√™ pode ver a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">solicita√ß√£o pull</a> correspondente para a vers√£o 1.3.  Como voc√™ pode ver, eu tive que escrever cerca de cinco vezes mais c√≥digo do que para uma grande mudan√ßa, e isso n√£o √© por acaso.  Aqui, quero elogiar os m√©todos padr√£o nas interfaces introduzidas no oitavo Java.  Para uma refatora√ß√£o que n√£o quebra a compatibilidade com vers√µes anteriores, isso √© insubstitu√≠vel e n√£o consigo imaginar como faria essas edi√ß√µes para Java at√© a oitava vers√£o (embora, por incr√≠vel que pare√ßa, uma grande mudan√ßa possa ser feita antes da oitava). <br><br>  As edi√ß√µes b√°sicas foram baseadas no fato de que a interface HttpRequest tinha um m√©todo getMethod, usado para filtrar.  Ele retornou, como voc√™ pode imaginar, enum.  Portanto, o m√©todo padr√£o getHttpMethodName foi adicionado √† interface, que, por padr√£o, retorna o nome do valor da enumera√ß√£o.  Em seguida, descobriram onde o m√©todo original era usado na correspond√™ncia de caminhos e l√° foi substitu√≠do pelas chamadas para o novo m√©todo.  E ent√£o, nas implementa√ß√µes da interface para o servidor Netty, o m√©todo da interface foi redefinido para usar o valor real do m√©todo HTTP. <br><br>  Continha uma armadilha que pode ser vista <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">na discuss√£o</a> e diz respeito aos clientes declarativos da Micronaut.  Eles usam a convers√£o do nome do valor enum em uma inst√¢ncia da classe HttpMethod para Netty.  Se voc√™ olhar para a documenta√ß√£o do m√©todo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://netty.io/4.0/api/io/netty/handler/codec/">valueOf</a> nesta classe, notar√° que o valor em cache ser√° retornado para m√©todos padr√£o e, para m√©todos n√£o padr√£o, uma nova inst√¢ncia da classe ser√° retornada a cada vez.  Ou seja, se voc√™ tiver uma carga alta e acessar o servidor com um m√©todo HTTP n√£o padr√£o um milh√£o de vezes, criar√° simultaneamente um milh√£o de novos objetos.  Obviamente, os GCs modernos devem lidar com isso, mas ainda n√£o quero criar objetos adicionais assim.  Ent√£o surgiu a ideia de usar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ConcurrentHashMap.computeIfAbsent</a> para armazenamento em cache, mas aqui tamb√©m n√£o √© t√£o simples: o problema est√° no defeito do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Java 8</a> , que levar√° ao bloqueio de fluxos mesmo para o caso em que nenhuma grava√ß√£o √© executada.  Como resultado, tomamos uma decis√£o provis√≥ria: <br><br><ul><li>  Para m√©todos padr√£o, usamos o cache de inst√¢ncia, que o Netty fornece (na verdade, como era antes). </li><li>  Para m√©todos n√£o padronizados, permita que novas inst√¢ncias sejam criadas.  Aqueles que escolherem m√©todos fora do padr√£o devem garantir que o coletor de lixo possa digerir a cria√ß√£o de objetos (por exemplo, usamos Shenandoah). </li></ul><br><h2>  Conclus√µes </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/e9e/e86/571/e9ee86571753ccdd88500c28f701fc10.jpg" alt="imagem"><br><br>  O que pode ser dito no final? <br><br><ul><li>  A conhecida curva de custos de corre√ß√£o de erros em diferentes est√°gios do desenvolvimento de software se manifestou aqui com muita clareza.  Especificamente, estamos falando sobre erro de c√°lculo no est√°gio inicial do desenvolvimento do Micronaut, quando foi decidido usar enum para m√©todos HTTP.  √â dif√≠cil dizer como essa decis√£o se justifica, dado que o Micronaut est√° girando no Netty, onde a classe √© usada para o mesmo.  Essencialmente, manter uma classe em vez de enum n√£o valeria o trabalho extra.  Por isso, foi mais f√°cil fazer uma grande mudan√ßa nesse plano do que corrigi-lo com suporte √† compatibilidade com vers√µes anteriores. </li><li>  O conhecido calcanhar de Aquiles dos projetos de c√≥digo aberto (no entanto, isso tamb√©m pode ser observado em projetos industriais com c√≥digo fechado) - eles n√£o possuem documenta√ß√£o do projeto.  Ao mesmo tempo, o Micronaut possui uma documenta√ß√£o muito boa: quais s√£o as op√ß√µes para o seu uso e afins.  No entanto, aqui estamos falando de documentar como as decis√µes de design foram tomadas.  Como resultado, √© bastante dif√≠cil para o programador de fora se envolver no desenvolvimento do projeto, mesmo que seja necess√°ria uma pequena melhoria. </li><li>  N√£o se esque√ßa de considerar o fato de que um ou outro projeto de c√≥digo aberto √© usado em ambientes de carga alta e multithread.  Aqui era necess√°rio levar isso em conta, mesmo para uma pequena melhoria. </li></ul><br><h2>  PS </h2><br>  Enquanto este artigo estava sendo preparado para publica√ß√£o, a solicita√ß√£o de recebimento foi aceita na ramifica√ß√£o do assistente do Micronaut e ser√° lan√ßada na vers√£o 1.3. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt466917/">https://habr.com/ru/post/pt466917/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt466903/index.html">Sempre apresente seu trabalho</a></li>
<li><a href="../pt466905/index.html">Para a quest√£o do U-Boot</a></li>
<li><a href="../pt466907/index.html">5G e WiFi 6: quando duas tecnologias de rede s√£o melhores que uma</a></li>
<li><a href="../pt466911/index.html">O tribunal dos EUA legalizou totalmente a raspagem de sites e proibiu-o de obstruir tecnicamente</a></li>
<li><a href="../pt466915/index.html">Como tornar a SFINAE elegante e confi√°vel</a></li>
<li><a href="../pt466921/index.html">5 problemas de qualquer empresa de servi√ßos e sua solu√ß√£o usando a plataforma de automa√ß√£o</a></li>
<li><a href="../pt466923/index.html">Como profissionais de TI em um banco estrangeiro para provar a origem dos fundos</a></li>
<li><a href="../pt466925/index.html">Como executar o VDS Hi-CPU para Bitrix, dispersar papagaios e n√£o quebrar</a></li>
<li><a href="../pt466929/index.html">Adicionar token de atualiza√ß√£o</a></li>
<li><a href="../pt466931/index.html">Otimiza√ß√£o de desempenho para aplicativos .NET (C #)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>