<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩‍⚖️ 🤷🏿 👨‍🏫 Kubernetes 1.14: Überblick über wichtige Innovationen ◼️ 👨‍🌾 👨🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kubernetes - 1.14 wird diese Nacht veröffentlicht. Gemäß der Tradition, die sich für unseren Blog entwickelt hat, sprechen wir über wichtige Änderunge...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kubernetes 1.14: Überblick über wichtige Innovationen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/445196/"><img src="https://habrastorage.org/webt/dx/2g/0e/dx2g0etf3mgkoidtla2dfbgmud4.png"><br><br>  Kubernetes - <a href="">1.14</a> <a href="">wird</a> diese Nacht veröffentlicht.  Gemäß der Tradition, die sich für unseren Blog entwickelt hat, sprechen wir über wichtige Änderungen in der neuen Version dieses wunderbaren Open Source-Produkts. <br><br>  Die zur Vorbereitung dieses Materials verwendeten Informationen stammen aus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">der Kubernetes-Erweiterungsverfolgungstabelle</a> , <a href="">CHANGELOG-1.14</a> und verwandten Problemen, Pull-Anforderungen und Kubernetes-Verbesserungsvorschlägen (KEP).  <b>UPDATE</b> (26. März): Die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">offizielle Ankündigung der Veröffentlichung</a> erschien auch im K8s-Blog. <a name="habracut"></a><br><br>  Beginnen wir mit einer wichtigen Einführung aus dem SIG-Cluster-Lebenszyklus: Kubernetes <b>dynamische Failover-Cluster</b> (und genauer gesagt selbst gehostete HA-Bereitstellungen) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">können</a> jetzt mit den üblichen (im Kontext von <code>kubeadm</code> -Clustern) <code>kubeadm</code> ( <code>init</code> und <code>join</code> ) erstellt werden.  Kurz gesagt, dafür: <br><br><ul><li>  Vom Cluster verwendete Zertifikate werden an Geheimnisse übertragen. </li><li>  Für die Möglichkeit, den etcd-Cluster innerhalb des K8s-Clusters zu verwenden (d. h. die bisher bestehende externe Abhängigkeit zu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">beseitigen</a> ), wird der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">etcd-Operator verwendet</a> . </li><li>  Empfohlene Einstellungen für einen externen Load Balancer, der eine fehlertolerante Konfiguration bietet, werden dokumentiert (in Zukunft ist die Möglichkeit eines Ausfalls aufgrund dieser Abhängigkeit geplant, jedoch noch nicht). </li></ul><br><img src="https://habrastorage.org/webt/s0/0l/v4/s00lv4q1fpdozudahtus5ummwq4.png"><br>  <i>Kubernetes HA-Cluster-Architektur mit kubeadm</i> <br><br>  Details zur Implementierung finden Sie im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Entwurfsvorschlag</a> .  Diese Funktion wurde wirklich lange erwartet: Die Alpha-Version wurde bereits in K8s 1.9 erwartet, erschien aber erst jetzt. <br><br><h2>  API </h2><br>  Der Befehl <code>apply</code> und die allgemein <b>deklarative Objektverwaltung werden</b> von <code>kubectl</code> nach apiserver verschoben.  Die Entwickler selbst erläutern kurz ihre Entscheidung, indem sie sagen, dass <code>kubectl apply</code> ein wesentlicher Bestandteil der Arbeit mit Konfigurationen in Kubernetes ist. Es ist jedoch "voller Fehler und schwer zu beheben". Daher muss diese Funktionalität wieder normalisiert und auf die Steuerebene übertragen werden.  Einfache und anschauliche Beispiele für die heutigen Probleme: <br><br><img src="https://habrastorage.org/webt/5b/sl/cw/5bslcwl-e_5kxq67oqrsgizwsk0.png"><br><br>  Details zur Implementierung finden Sie in <a href="">KEP</a> .  Die aktuelle Verfügbarkeit ist die Alpha-Version (die Beförderung zur Beta ist für die nächste Version von Kubernetes geplant). <br><br>  In der Alpha-Version ist die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Möglichkeit</a> verfügbar, mithilfe des OpenAPI v3-Schemas <b>OpenAPI-Dokumentation zu CustomResources</b> (CR) zu <b>erstellen und zu veröffentlichen</b> , mit der (serverseitige) benutzerdefinierte K8-Ressourcen (CustomResourceDefinition, CRD) validiert werden.  Durch das Veröffentlichen von OpenAPI für CRD können Clients (z. B. <code>kubectl</code> ) eine Validierung auf ihrer Seite durchführen (als Teil von <code>kubectl create</code> und <code>kubectl apply</code> ) und Dokumentation gemäß dem Schema <code>kubectl explain</code> ( <code>kubectl explain</code> ).  Details finden Sie im <a href="">KEP</a> . <br><br>  Bereits vorhandene Protokolle werden <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">jetzt</a> mit dem <code>O_APPEND</code> Flag (anstelle von <code>O_TRUNC</code> ) <code>O_TRUNC</code> , um den Verlust von Protokollen in bestimmten Situationen zu vermeiden und das Abschneiden von Protokollen mit externen Rotationsdienstprogrammen zu vereinfachen. <br><br>  Auch im Zusammenhang mit der Kubernetes-API kann festgestellt werden, dass im Feld <code>PodSandbox</code> und <code>PodSandboxStatus</code> Feld <code>PodSandboxStatus</code> <code>runtime_handler</code> , um Informationen zur <code>RuntimeClass</code> im Pod zu berücksichtigen (weitere Informationen finden Sie im Text <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">zur Version Kubernetes 1.12</a> , in der diese Klasse als Alpha-Version <code>RuntimeClass</code> ) und in Admission Webhooks <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">implementierte die</a> Möglichkeit zu bestimmen, welche Versionen von <code>AdmissionReview</code> sie unterstützen.  Schließlich können Sie in den Admission Webhooks-Regeln <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">den</a> Anwendungsbereich jetzt auf den Namespace und den Clusterbereich beschränken. <br><br><h2>  Lagereinrichtungen </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code><b>PersistentLocalVolumes</b></code></a> , die seit der Veröffentlichung von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">K8s 1.10</a> Beta-Status haben, werden <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">als</a> stabil (GA) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">deklariert</a> : Dieses Feature-Gate wird nicht mehr deaktiviert und in Kubernetes 1.17 entfernt. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die Möglichkeit,</a> die Umgebungsvariablen der sogenannten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Downward-API</a> (z. B. den Pod-Namen) für als <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>subPath</code></a> gemountete <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>subPath</code></a> wurde entwickelt - in Form eines neuen <code>subPathExpr</code> Felds, mit dem nun der gewünschte Verzeichnisname ermittelt wird.  Ursprünglich erschien die Funktion in Kubernetes 1.11, für 1.14 blieb sie jedoch im Alpha-Versionsstatus. <br><br>  Wie bei der vorherigen Version von Kubernetes wurden viele wichtige Änderungen für das sich schnell entwickelnde CSI (Container Storage Interface) eingeführt: <br><br><h3>  CSI </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Unterstützung für die</a> <b>Größenänderung</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Unterstützung</a> <b>für CSI-Volumes ist</b> verfügbar (als Teil der Alpha-Version).  Um es verwenden zu können, müssen Sie das Feature-Gate <code>ExpandCSIVolumes</code> sowie das Vorhandensein von Unterstützung für diesen Vorgang in einem bestimmten CSI-Treiber <code>ExpandCSIVolumes</code> . <br><br>  Ein weiteres Merkmal für CSI in der Alpha-Version ist die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Möglichkeit</a> , im Rahmen der Pod-Spezifikation direkt (d. H. Ohne Verwendung von PV / PVC) auf CSI-Volumes zu verweisen.  Dies <b>hebt die Einschränkung auf, CSI ausschließlich als Remote-Data-Warehouses zu verwenden</b> , und öffnet ihnen die Tür zur Welt der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">lokalen kurzlebigen Volumes</a> .  Zur Verwendung ( <a href="">Beispiel aus der Dokumentation</a> ) müssen Sie das <code>CSIInlineVolume</code> Feature-Gate <code>CSIInlineVolume</code> . <br><br>  Bei den „Interna“ von Kubernetes im Zusammenhang mit CSI wurden Fortschritte erzielt, die für Endbenutzer (Systemadministratoren) nicht so auffällig sind. Derzeit sind Entwickler gezwungen, zwei Versionen jedes Speicher-Plugins zu unterstützen: eine ist „altmodisch“ innerhalb der K8-Codebasis (in -tree) und das zweite - als Teil des neuen CSI <i>(lesen Sie zum Beispiel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier mehr darüber</a> )</i> .  Dies führt zu verständlichen Unannehmlichkeiten, die behoben werden müssen, wenn sich der CSI als solcher stabilisiert.  Das einfache Verwerfen der veralteten API der In-Tree-Plug-Ins ist aufgrund der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">entsprechenden Kubernetes-Richtlinie</a> nicht möglich. <br><br>  All dies führte dazu, dass die Alpha-Version den <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Prozess der Migration des</a> internen Codes von Plug-Ins,</b> die als In- <b>Tree-</b> Implementierung implementiert wurden, auf CSI-Plugins erreichte, wodurch die Bedenken der Entwickler auf die Unterstützung einer Version ihrer Plug-Ins reduziert werden und die Kompatibilität mit alten APIs bestehen bleibt und dies auch bleiben kann wie gewohnt für veraltet erklären.  Es wird erwartet, dass bis zur nächsten Version von Kubernetes (1.15) alle Cloud-Provider-Plugins migriert werden, die Implementierung den Beta-Status erhält und in den Standard-K8-Installationen aktiviert wird.  Einzelheiten finden Sie im <a href="">Entwurfsvorschlag</a> .  Diese Migration führte auch zur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ablehnung</a> von Einschränkungen für Volumes, die von bestimmten Cloud-Anbietern (AWS, Azure, GCE, Cinder) definiert wurden. <br><br>  Darüber hinaus wurde die Unterstützung für CSI-Blockgeräte ( <code>CSIBlockVolume</code> ) auf Beta <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">umgestellt</a> . <br><br><h2>  Knoten / Kubelet </h2><br>  Einführung einer Alpha-Version des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">neuen Endpunkts</a> in Kubelet, mit der <b>Metriken für die Hauptressourcen zurückgegeben werden sollen</b> .  Wenn Kubelet früher Statistiken über die Verwendung von Containern von cAdvisor abgerufen hat, stammen diese Daten jetzt von der Container-Laufzeit über das CRI (Container Runtime Interface), die Kompatibilität mit älteren Docker-Versionen bleibt jedoch erhalten.  Früher wurden in Kubelet gesammelte Statistiken über die REST-API bereitgestellt, jetzt wird der Endpunkt unter <code>/metrics/resource/v1alpha1</code> .  Die langfristige Strategie der Entwickler <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">besteht</a> darin, die von Kubelet bereitgestellten Metriken zu minimieren.  <i>Übrigens werden diese Metriken selbst <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">jetzt</a> nicht als "Kernmetriken", sondern als "Ressourcenmetriken" bezeichnet und als "erstklassige Ressourcen wie CPU und Speicher" bezeichnet.</i> <br><br>  Eine sehr interessante Nuance: Trotz des offensichtlichen Vorteils der gRPC-Endpunktleistung im Vergleich zu verschiedenen Fällen der Verwendung des Prometheus-Formats <i>(das Ergebnis eines der unten aufgeführten Benchmarks)</i> bevorzugten die Autoren das Prometheus-Textformat aufgrund der klaren Führung dieses Überwachungssystems in der Community. <br><br><blockquote>  <i>„GRPC ist nicht mit wichtigen Überwachungspipelines kompatibel.</i>  <i>Endpoint ist nur nützlich, um Metriken an Metrics Server zu liefern oder Komponenten zu überwachen, die direkt in ihn integriert sind.</i>  <i>Bei Verwendung von Caching in Metrics Server ist die Leistung des Prometheus-Textformats <b>gut genug</b> , um Prometheus gegenüber gRPC vorzuziehen, da Prometheus in der Community weit verbreitet ist.</i>  <i>Wenn das OpenMetrics-Format stabiler wird, können wir mit einem protobasierten Format der gRPC-Leistung näher kommen. “</i> </blockquote><br><img src="https://habrastorage.org/webt/v5/st/uo/v5stuoyssgedyqibabti_oz6bbi.png"><br>  <i>Einer der vergleichenden Leistungstests unter Verwendung der Formate gRPC und Prometheus im neuen Kubelet-Endpunkt für Metriken.</i>  <i>Weitere Grafiken und andere Details finden Sie in <a href="">KEP</a> .</i> <br><br>  Unter anderem: <br><br><ul><li>  Kubelet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">akzeptiert</a> jetzt den Parameter <code>pid=&lt;number&gt;</code> in den <code>--system-reserved</code> und <code>--kube-reserved</code> , um sicherzustellen, dass die angegebene PID für das gesamte System bzw. die Kubernetes- <code>--kube-reserved</code> ist.  Die Funktion wird aktiviert, wenn das Feature-Gate mit dem Namen <code>SupportNodePidsLimit</code> aktiviert ist. </li><li>  Kubelet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">versucht</a> nun (einmal) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">,</a> Container in einem unbekannten Zustand <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">zu stoppen,</a> bevor sie neu gestartet und gelöscht werden. </li><li>  Bei Verwendung von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>PodPresets</code></a> dem Init-Container jetzt dieselben Informationen wie bei einem regulären Container <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hinzugefügt</a> . </li><li>  Kubelet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">begann mit der Verwendung von</a> <code>usageNanoCores</code> vom CRI-Statistikanbieter, und Netzwerkstatistiken wurden für Knoten und Container unter Windows <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hinzugefügt</a> . </li><li>  Informationen zum Betriebssystem und zur Architektur werden jetzt in den <code>kubernetes.io/os</code> und <code>kubernetes.io/arch</code> von Node-Objekten aufgezeichnet (von Beta nach GA übertragen). </li><li>  Die Möglichkeit, eine bestimmte Systembenutzergruppe für Container im Pod <code>RunAsGroup</code> ( <code>RunAsGroup</code> , erschienen in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">K8s 1.11</a> ), wurde auf die Beta-Version (standardmäßig aktiviert) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">umgestellt</a> . </li><li>  du und find, die in cAdvisor verwendet werden, werden <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">durch</a> Go-Implementierungen ersetzt. </li></ul><br><h2>  CLI </h2><br>  Das Flag -k wurde zur Integration mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><b>kustomize</b></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">zu</a> cli-runtime und kubectl <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><b>hinzugefügt</b></a> (übrigens wird es jetzt in einem separaten Repository entwickelt), d. H.  Informationen zum Verarbeiten zusätzlicher YAML-Dateien aus speziellen Anpassungsverzeichnissen (Einzelheiten zu deren Verwendung finden Sie unter <a href="">KEP</a> ): <br><br><img src="https://habrastorage.org/webt/nv/sf/uy/nvsfuyar7x570ia_zrcp_v4lohi.jpeg"><br>  <i>Ein Beispiel für eine einfache Verwendung der <a href="">Anpassungsdatei</a> (eine kompliziertere Verwendung der Anpassung in <a href="">Überlagerungen ist ebenfalls möglich</a> )</i> <br><br>  Außerdem: <br><br><ul><li>  Das kubectl-Logo und seine Dokumentation wurden <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">aktualisiert</a> - siehe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">kubectl.docs.kubernetes.io</a> . <br><br><img src="https://habrastorage.org/webt/n4/-1/kw/n4-1kwnebvlrzwahpkhdpjhlbsi.png"></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ein</a> neuer Befehl <code>kubectl create cronjob</code> wurde <code>kubectl create cronjob</code> , dessen Name für sich selbst spricht. </li><li>  In <code>kubectl logs</code> Sie jetzt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">die</a> Flags <code>-f</code> ( <code>--follow</code> für Streaming-Protokolle) und <code>-l</code> ( <code>--selector</code> für Label-Abfragen) <code>--selector</code> . </li><li>  kubectl hat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gelernt,</a> mit einem Platzhalter ausgewählte Dateien <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">zu</a> kopieren. </li><li>  Das Flag <code>--all</code> wurde <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dem</a> Befehl <code>kubectl wait</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hinzugefügt,</a> um alle Ressourcen im Namespace des angegebenen Ressourcentyps auszuwählen. </li><li>  Deklarierter stabiler <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Plugin-</a> Mechanismus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">für kubectl</a> . </li></ul><br><h2>  Andere </h2><br>  Der stabile Status (GA) erhielt die folgenden Funktionen: <br><br><ul><li>  Unterstützung für Windows-Knoten (einschließlich Windows Server 2019), was die Möglichkeit impliziert, Windows Server-Container in Kubernetes zu planen (siehe auch <a href="">KEP</a> ); </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>ReadinessGate</code></a> wird in der Pod-Spezifikation verwendet, um zusätzliche Bedingungen zu bestimmen, die bei der Bereitschaft des Pods berücksichtigt werden. </li><li>  Unterstützung für große Seiten (Feature Gate namens <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>HugePages</code></a> ); </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">CustomPodDNS</a> ; </li><li>  PriorityClass API, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pod Priority &amp; Preemption</a> . </li></ul><br>  Weitere in Kubernetes 1.14 eingeführte Änderungen: <br><br><ul><li>  Die Standard-RBAC-Richtlinie bietet nicht mehr authentifizierten <i>Benutzern</i> keinen Zugriff auf die <code>discovery</code> API und keine Zugriffsüberprüfung. </li><li>  Die offizielle Unterstützung für CoreDNS wird nur für Linux <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">bereitgestellt.</a> Wenn Sie kubeadm für die (CoreDNS) Bereitstellung in einem Cluster verwenden, sollten Knoten nur unter Linux funktionieren (nodeSelectors werden für diese Einschränkung verwendet). </li><li>  Die Standard-CoreDNS-Konfiguration verwendet jetzt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">das</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Forward-Plugin</a> anstelle des Proxys.  Darüber hinaus wurde CoreDNS <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">um</a> ReadinessProbe erweitert, wodurch ein Lastausgleich auf den entsprechenden (nicht betriebsbereiten) Pods verhindert wird. </li><li>  In kubeadm wurde es in der <code>upload-certs</code> <code>init</code> oder <code>upload-certs</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">möglich</a> , die Zertifikate hochzuladen, die erforderlich sind, um die neue Steuerebene mit dem kubeadm-certs-Geheimnis zu verbinden (das <code>--experimental-upload-certs</code> wird verwendet). </li><li>  Für Windows-Installationen wurde eine Alpha-Version der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Unterstützung für</a> gMSA (Group Managed Service Account) - spezielle Konten in Active Directory, die von Containern verwendet werden können - angezeigt. </li><li>  Für GCE <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wurde die</a> mTLS-Verschlüsselung zwischen etcd und kube-apiserver <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">aktiviert</a> . </li><li>  Aktualisierungen in der verwendeten / abhängigen Software: Go 1.12.1, CSI 1.1, CoreDNS 1.3.1, Unterstützung für Docker 18.09 in kubeadm und die mindestens unterstützte Version der Docker-API waren 1.26. </li></ul><br><h2>  PS </h2><br>  Lesen Sie auch in unserem Blog: <br><br><ul><li>  „ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kubernetes 1.13: Ein Überblick über wichtige Innovationen</a> “; </li><li>  „ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kubernetes 1.12: Überblick über wichtige Innovationen</a> “; </li><li>  „ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kubernetes 1.11: Ein Überblick über wichtige Innovationen</a> “; </li><li>  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kubernetes 1.10: Ein Überblick über wichtige Innovationen</a> ." </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de445196/">https://habr.com/ru/post/de445196/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de445186/index.html">Erstellen eines Kampfsystems in RPG</a></li>
<li><a href="../de445188/index.html">Was werden die neuronalen Gaming-Schnittstellen sein?</a></li>
<li><a href="../de445190/index.html">Einlösen / nicht einlösen: unser ML-Pilot in The Platypus</a></li>
<li><a href="../de445192/index.html">4K: Evolution oder Marketing?</a></li>
<li><a href="../de445194/index.html">10 Konzepte für einen Designer im Jahr 2019</a></li>
<li><a href="../de445198/index.html">Cmus Console Player für Linux</a></li>
<li><a href="../de445200/index.html">Internetprovider bitten das Kommunikationsministerium, sie ohne Vertrag in ihre Häuser zu lassen</a></li>
<li><a href="../de445202/index.html">Happy Potter und der Orden von CSS</a></li>
<li><a href="../de445204/index.html">Stream-Konvertierung von Firebird 2.5-Datenbanken in das ODS12-Format (Firebird 3.0)</a></li>
<li><a href="../de445206/index.html">Reduzieren Sie Ausfallzeiten beim Upgrade von Zimbra</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>