<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿‍🎤 🤱🏼 🚝 Dasar-dasar DevOps. Masuk ke proyek dari awal 🚶🏻 🤷🏻 🌺</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pada November 2018, sebuah departemen pendukung informasi dibentuk di Lithuania dan mengundang Andrei Yumashev untuk memimpin. Tahun lalu, departemen ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Dasar-dasar DevOps. Masuk ke proyek dari awal</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/468537/">  Pada November 2018, sebuah departemen pendukung informasi dibentuk di Lithuania dan mengundang <strong>Andrei Yumashev</strong> untuk memimpin.  Tahun lalu, departemen membantu perusahaan untuk bekerja dan mengembangkan serta menjaga seluruh infrastruktur tetap terkendali.  Tapi itu tidak selalu terjadi.  Sebelum menyiapkan pekerjaan, Andrei mengalami puing-puing: Nagio yang setengah mati, Cacti dan Wayang koma yang hidup dengan kondisional, Wiki yang mati 120 halaman, tabel tugas yang tidak koheren dan daftar besi, arsitektur usang, 340 core tidak aktif, 2 TB RAM dan 17 TB ruang disk yang karena alasan tertentu tidak dicatat dalam tabel inventaris.  Rencana yang tidak berfungsi, tenggat waktu yang terputus, lingkungan kerja dan peralatan yang tidak ada - semua ini menunggu Andrei dalam proyek baru. <br><br><img src="https://habrastorage.org/webt/jr/wy/ag/jrwyagng-7fixaij6vkk8bbnet8.jpeg"><br><br>  Di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">DevOpsConf 2019,</a> Andrei membuat laporan di mana ia menunjukkan pada contoh langsung apa yang layak dan apa yang tidak boleh dilakukan ketika Anda memasuki sebuah proyek yang belum Anda lihat atau ketahui dengan buruk.  Di bawah potongan adalah versi terbaru dari cerita - bagaimana menganalisis dengan benar berbagai masalah dan membangun rencana kegiatan, cara menghitung KPI dengan benar dan kapan harus berhenti dalam waktu. <br><a name="habracut"></a><br><iframe width="560" height="315" src="https://www.youtube.com/embed/YOaIg9By0fU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <strong>Andrey Yumashev</strong> adalah pemilik perusahaan pengembangannya sendiri di berbagai bidang (online dan offline), seorang konsultan untuk pembangunan proses, dan kepala departemen pendukung informasi di LiteRes. <br><br>  Sedikit tentang LiteRes.  Ini adalah pemasok terbesar buku elektronik dan audio di Rusia, sebuah penerbit dan sekelompok proyek kemitraan.  Ini adalah ratusan ribu baris Perl, beberapa kelompok basis data dan repositori.  Ini adalah 2 GB lalu lintas keluar per detik, ratusan ribu permintaan unik per hari, beberapa rak di pusat data yang berbeda dan lebih dari 100 server.  Secara keseluruhan, ini bukan hanya toko buku elektronik. <br><br><h2>  Langkah pertama </h2><br>  Saya dulu bekerja di LiteRes berdasarkan besaran per satuan.  Perusahaan mempraktikkan pengembangan staf dengan pendaftaran karyawan jarak jauh di negara bagian. <br><br>  Sistem pemenuhan tugas dalam liter bekerja berdasarkan prinsip “lelang”.  Dalam pelacak tugas internal, manajer dan arsitek menggambarkan tugas untuk proyek internal dan mengevaluasinya dalam mata uang lokal.  Mata uangnya adalah "jamur, rumput, dan pohon". <br><br>  Kemudian mulailah "pelelangan mudah" - pengembang mana pun dapat mengambil tugas atau tawar-menawar.  Bagus sekali - Anda dibayar.  Saya tidak bekerja sama sekali - Anda tidak mengerti.  Dengan cara yang menyenangkan, orang-orang tertarik untuk menyelesaikan tugas.  Untuk mempelajari lebih lanjut tentang sistem ini, lihat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">presentasi</a> Dmitry Gribov. <br><br><img src="https://habrastorage.org/webt/1a/zj/wj/1azjwjlwwzndujp6trjhdlzwyn4.jpeg"><br>  <em>Bekerja untuk jamur.</em> <br><br>  Sistem ini cocok untuk saya - saya mendukung pengalaman pemrograman Perl, bekerja dengan nyaman dan tidak menghabiskan terlalu banyak waktu untuk itu.  Dalam mode ini, saya menghabiskan beberapa tahun hingga November tahun lalu dan berpikir bahwa saya memahami struktur ekosistem. <br><br><h3>  Saya salah </h3><br>  Saya diundang ke perusahaan dan diberi tahu bahwa layanan saya sebagai pengembang Perl tidak diperlukan, dan saya ditawari untuk memimpin departemen baru.  Pada November 2018, saya menjadi kepala departemen informasi. <br><br>  Di depan saya terbentang ruang terbuka: beberapa rak dengan besi di beberapa pusat data di Moskow, arsitektur usang, sumber daya asing, dan hampir tidak adanya dokumentasi yang relevan untuk itu semua.  Pendahuluannya berbunyi seperti ini: "Sekarang ini warisanmu, perbaiki, jangan putus dan dukung."  Ada beberapa tugas yang sudah jadi dan rencana kasar untuk tahun yang akan datang.  Itu perlu untuk memahami semua ini dan membawanya ke bentuk manusia. <br><blockquote>  Ada perasaan bahwa saya sedang melihat ke dalam jurang, dan jurang itu menatap saya. </blockquote>  Pengalaman beberapa tahun terakhir banyak membantu saya ketika saya mengembangkan posisi yang jelas ketika bekerja dengan orang asing atau tidak dapat dipahami.  Pertama-tama, ini adalah studi menyeluruh dan rencana tindakan minimal.  Di sinilah saya mulai. <br><br><h2>  Kebersihan adalah kunci kesehatan </h2><br>  Ketertiban adalah yang pertama dan terpenting. <br><br>  Untuk bulan pertama berhasil menemukan: <br><br><ul><li>  Google Spread tersebar dengan tugas saat ini dan sedikit informasi bermanfaat; </li><li>  dokumen yang tersebar: Word, teks, memo dari halaman Wiki 120 lama; </li><li>  Nagios setengah mati; </li><li>  pemantauan langsung Cacti secara kondisional; </li><li>  boneka yang sangat tua dengan tanda-tanda kehidupan yang langka. </li></ul><br>  Semua reruntuhan ini juga mengumpulkan 400 metrik. <br><br><img src="https://habrastorage.org/webt/gu/q9/bx/guq9bxrahvxth1pywoi2rgw8ck0.jpeg"><br>  <em>Reruntuhan yang saya temukan di bulan pertama.</em> <br><br>  Saya sedikit bersenang-senang, membaca semuanya dengan lancar dan terjebak pada proses Trello.  Dia mentransfer tugas rekan-rekannya saat ini kepadanya dan mulai bermimpi - untuk menulis rencana untuk kuartal dan tahun. <br><br><h3>  Kesalahan pertama </h3><blockquote>  Tidak ada rencana sampai Anda menjelajahi daerah tersebut. </blockquote>  Rencana itu bersinar dengan panas dan kesehatan, tetapi tidak memperhitungkan kenyataan.  Itu indah dan sederhana: mengimplementasikan pemantauan, menganalisis log dan mentransfer penyebaran ke CI / CD.  Di suatu tempat pada akhirnya ada "analisis kelemahan proyek" yang lemah.  Langkah pertama klasik. <br><br>  Saya lupa tentang hal utama.  Prioritas pertama saya bukan untuk mengimplementasikan alat untuk implementasi alat, tetapi untuk memastikan kelangsungan dan stabilitas layanan secara keseluruhan. <br><br>  Sementara saya menulis rencana dan tersiksa oleh pertanyaan rekan-rekan saya, masalah pertama tiba.  Salah satu node dari salah satu cluster cluster kehabisan ruang, dan SSD secara keseluruhan berakhir pada node lain dari cluster yang sama.  Saya segera membeli disk baru yang lebih besar dan departemen kami dengan cepat memperoleh pengalaman dalam mengganti disk ini dengan menyalin sistem dari disk ke disk.  Setelah mengganti disk, kami membangun cluster dari awal melalui SST.  Cluster dibangun di atas Percona dan Galera, dan hiburan seperti itu tidak pergi kepadanya secara gratis. <br><br>  Saat saya bepergian antara pusat data, <strong>kecambah keraguan pertama</strong> tentang rencana itu muncul. <br><br><img src="https://habrastorage.org/webt/3d/or/b2/3dorb2jimqxrud9f-mtog3yqltw.jpeg"><br>  <em>Ahhhhhh!</em> <br><br>  Pada saat yang sama, intensitas pekerjaan hitam begitu tinggi sehingga saya bahkan tidak berpikir untuk mengumpulkan riwayat medis yang lengkap, tetapi hanya mengambil beberapa foto untuk studi lebih lanjut. <br><br>  Secara paralel, pengantar lain muncul.  Dalam liter ada versi audio buku.  Agar pendengar tidak memundurkan rekaman setiap kali lagi, kami memiliki mekanisme yang melacak saat berhenti.  Lain kali Anda mendengarkan, versi audio diputar dari bagian yang diinginkan.  Untuk tugas ini, dibutuhkan untuk menemukan sekitar 500 core lebih cepat, satu terabyte RAM dan sedikit analisis di Jawa. <br><br>  Saya mulai memberi pengarahan kepada Azure, Google, DigitalOcean, dan semua hal lain yang diberikan solusi tetesan.  Containerisasi memohon, mengapa tidak menerapkannya dengan riang?  Terlebih lagi, dalam rencana "besar" ada poin terpisah tentang ini. <br><br>  Sebulan telah lewat dalam korespondensi dan penawaran, semuanya ditambahkan ke tugas-tugas di Trello, yang mana saya menghasilkan bagian yang penting, tetapi hasilnya tidak berkembang.  Saya bertanya-tanya apakah saya pergi ke sana.  Sebelum saya, semuanya bekerja entah bagaimana dan tidak akan berhenti, tidak peduli berapa banyak aktivitas kosong yang saya tunjukkan.  Saya duduk dengan hati-hati untuk mempelajari inventaris yang berhasil saya kumpulkan sedikit demi sedikit.  Kemudian dia bangkit dan pergi ke pusat data putaran kedua. <br><br>  Kunjungan tenang kedua ke pusat data menempatkan semuanya pada tempatnya.  Ketika saya melihat ini semua tidak di konsol, tidak di Excel, tapi hidup, kesadaran saya tentang kenyataan berubah secara radikal.  Saya menyadari bahwa saya sama sekali tidak sibuk dengan apa yang seharusnya.  Karena pertama-tama Anda perlu memahami apa yang saya kerjakan. <br><blockquote>  Sampai saya mengerti apa yang saya kerjakan, semua rencana adalah buang-buang waktu. </blockquote>  Saya mempelajari rak-rak itu, membandingkan kenyataan dengan daftar, melakukan pengeditan, dan menemukan unit semi dengan 20 bilah.  Dari 20, hanya 4 yang berhasil. Aku menyentak pedang dan menyadari bahwa kami tidak membutuhkan tetesan untuk solusi.  Karena saya menemukan 340 core tidak aktif, 2 terabyte RAM dan 17 terabyte ruang disk!  Ini adalah backend lama, node cluster lama yang hanya berhenti digunakan, dan waktu telah menghapus memori keberadaan mereka.  Saya menggulung Kubernet pada bilah-bilah ini dan menyingkirkan satu tugas besar. <br><br><h3>  Output kesalahan pertama </h3><blockquote>  Analisis dan pelajari.  Tanpa analisis awal terhadap situasi, kereta tidak bergerak. </blockquote>  Berkat perjalanan penuh pertimbangan ke ladang, saya sudah punya rencana yang cukup relevan untuk peralatan dan arsitektur keseluruhan sistem.  Di halaman adalah Januari.  Saya menghabiskan dua bulan untuk hal ini, setengahnya baru saya lewati dari sisi ke sisi.  Saya tidak tahu api mana yang harus dipadamkan terlebih dahulu, tugas apa yang harus dipecahkan pertama - aliran dukungan tidak kemana-mana. <br><br>  Secara paralel, saya menyimpulkan tiga aturan.  Ini adalah konsekuensi dari kesalahan pertama. <br><br><img src="https://habrastorage.org/webt/pk/bc/d6/pkbcd6tndhw7uz0jlv7wkttizts.jpeg"><br>  <em>Tiga akibat wajar.</em> <br><br><h3>  Rencana kedua </h3><br>  Saya membuang tugas-tugas sekunder dari foreground-log analysis dan implementasi CI / CD.  Pada skala bencana umum, hal-hal kecil ini tidak penting.  Liter telah bekerja selama bertahun-tahun dan telah mengembangkan logikanya sendiri untuk bekerja dengan log, dan telah memperoleh setan bergulir buatan sendiri.  Saya mendorong ke dalam rencana kelima apa yang berhasil dan tidak memerlukan intervensi. <br><br>  Rencana kedua terlihat seperti ini. <br><br>  <strong>Menangani pemantauan</strong> .  Dalam bentuknya saat ini, itu tidak mencerminkan setidaknya sepertiga dari masalah, meskipun berhasil. <br><br>  <strong>Jelaskan logika umum seluruh liter</strong> .  Nama server sangat bagus, tetapi bundel kunci adalah pengetahuan kritis: apa, di mana, di mana, mengapa dan mengapa.  Kesalahan sebelumnya membuatnya jelas bahwa tanpa ini dengan cara apa pun. <br><br>  <strong>Scaling</strong> .  Hampir sumber daya gratis terakhir mengambil Kubernetes.  Menurut perkiraan minimal, ia seharusnya menyelesaikan seluruh kumpulan pekerjaan dalam enam bulan. <br><br>  <strong>Inventarisasi dan kondisi peralatan</strong> .  Sebagai bagian dari perjalanan, saya benar-benar menggosok web dari sejumlah server yang takut dengan tag mereka - "cadangan", "berlangganan", "bgp".  Sekali lagi, cakram, menjatuhkan disk. <br><br>  <strong>Menyesuaikan panduan dengan kenyataan</strong> .  Sebagian besar instruksi sudah usang atau tidak lengkap. <br><br>  Enam bulan pertama berlalu tanpa disadari dalam pergantian, pembelian peralatan dan masalah, dan akhirnya saya membuktikan diri dalam kesalahan kedua. <br><br><h3>  Kesalahan kedua </h3><blockquote>  Jangan remehkan. </blockquote>  <strong>Istilah apa pun yang muncul dalam pikiran diremehkan</strong> .  Tentu, Anda dapat dengan cepat mendapat manfaat dari proyek ini.  Tetapi untuk memaksimalkan pengembalian, gandakan waktu yang direncanakan dengan <strong>setidaknya dua kali</strong> .  Terutama pada proyek yang kompleks dan sangat padat, yang terus tumbuh dalam lalu lintas lebih dari 100% per tahun. <br><br>  Kenapa setidaknya dua kali?  Jika proyek tidak stabil dan tidak diteliti, bersiaplah untuk kenyataan bahwa setiap kegiatan akan menimbulkan kegiatan lain di tempat-tempat tetangga.  Tampaknya mengganti disk - mana yang lebih mudah?  Prosedurnya sederhana sampai Anda menemukan pembelian, kemudian menjadwalkan waktu untuk node spesifik downtime, lalu melakukan servis setelah mengganti disk.  Saya memperkirakan operasi sederhana ini seminggu.  Pada akhirnya, butuh dua setengah minggu - bahkan dengan skema pengadaan sederhana. <br><br>  Contoh lain adalah pembelian dan pemasangan peralatan baru.  Beli dan pertahankan, apa yang sulit?  Saya mengambil tidak lebih dari sebulan untuk ini tanpa memperhitungkan waktu pengiriman.  Bahkan, satu dari tiga sasis masih berdiri di depan meja saya.  Ini karena peralatan tidak memiliki cukup ruang - kami menghitung tempat di dalam lubang di antara pemasangan saat ini.  Ketika kami tiba di salah satu pusat data dengan maksud mengguncang rak, kami tiba-tiba menyadari bahwa kedua server itu "tidak tersentuh".  Yang pertama adalah tuan rumah, dan sama sekali tidak aman untuk menyentuhnya.  Yang kedua adalah sekeranjang 16 disk, mematikan yang penuh dengan tumpukan data.  Sedotan tidak diletakkan, analisis tidak dilakukan, dan bagus bahwa mereka dapat menempel dua dari tiga. <br><br>  <strong>Jika tampaknya semuanya akan sederhana - segera Anda akan memiliki masalah</strong> .  Instalasi ini menimbulkan pertanyaan baru - jika semuanya sangat buruk dengan tempat itu, lalu bagaimana kita akan berkembang?  Sebuah tugas kecil sekarang melahirkan keringat raksasa.  Pada tahun 2020, menurut rencana, pemindahan satu pusat data ke pusat data lainnya dan perluasan sisanya dengan rak.  Ini berarti migrasi dalam pusat data antara modul.  Migrasi ini dilengkapi dengan restrukturisasi jaringan dan transfernya ke 10G. <br><blockquote>  Jangan meremehkan waktu, ambang masuk dan konsekuensi. </blockquote><br><h3>  Konsep dasar </h3><br>  Tentu saja, esensi kesalahan sudah dijelaskan dalam Wiki sebagai konsep dasar. <br><br>  <strong>Setiap proses birokrasi berlangsung setidaknya sebulan</strong> .  Ini berlaku untuk pengadaan, kesimpulan dari kondisi baru dengan pusat data atau kontraktor lainnya - untuk semuanya.  Anggap itu sebagai fakta. <br><br>  <strong>Setelah kontrak dan pembayaran berakhir, pengiriman apa pun berlangsung setidaknya satu setengah minggu</strong> , dari disk ke prosesor.  Belajarlah untuk bernegosiasi dengan pemasok untuk tanggal pra-pengiriman.  Sebagai contoh, disk dikirimkan dalam batch kecil kepada kami sekarang sampai pembayaran dan bahkan sebelum persetujuan aplikasi. <br><br>  <strong>Meskipun tidak ada pemahaman yang jelas tentang implementasi, rencana apa pun untuk mengimplementasikan sesuatu tetap merupakan rencana.</strong>  Semakin pendek langkah, semakin baik. <br><br>  Misalnya, untuk beralih dari MySQL ke ClickHouse, langkah lebar terlihat seperti ini: "Ayo mengisi beberapa server, lalu menggambar tiket untuk reintegrasi dan terbang!"  Bahkan, sebuah studi terperinci tentang masalah ini mengarah pada langkah-langkah baru: pembelian peralatan tambahan, misalnya, prosesor dan disk, tiket terperinci untuk mengubah logika pelacak perilaku pengguna, mempertahankan integrasi terbalik, server antrian, dan banyak lainnya. <br><blockquote>  Semakin detail rencananya, semakin baik.  Untuk menulis dengan sapuan kuas yang luas adalah jaminan 100% kesalahan dalam tenggat waktu. </blockquote>  <strong>Tunduk rencana apa pun untuk kritik maksimum dan harapkan risiko maksimum</strong> .  Pastikan untuk melihat rencana dari sudut pandang bisnis - untung apa yang akan dihasilkan setiap langkah. <br><br>  Kami harus melaksanakan implementasi wajib: pemantauan, Dapat dilakukan, tetapi kami tidak melupakan komponen bisnis. <br><br><ul><li>  Dengan mengubah arsitektur jaringan, kami akan dapat menerima lalu lintas tambahan dan menyelesaikan banyak masalah saat ini. </li><li>  Dengan mengubah jenis penyimpanan konten, kami akan mengurangi jumlah bug dengan pengembalian buku dan meningkatkan kecepatan bekerja dengan data. </li><li>  Pindahkan backend ke cloud - skala langsung beban selama kampanye pemasaran. </li><li>  Menerjemahkan pelacakan ke ClickHouse adalah peluang bagi analis untuk lebih memahami kebutuhan pembaca dan pendengar tercinta kami. </li></ul><br>  <strong>Cara terbaik untuk menghadapi situasi di mana Anda kurang berpengalaman dalam topik ini adalah dengan meminta bantuan spesialis, bukan Stack Overflow</strong> .  Kontak suara memecahkan masalah berkali-kali lebih cepat daripada korespondensi panjang atau membaca dokumentasi. <br><br><h3>  Enam bulan kemudian </h3><br>  Terlepas dari kenyataan bahwa tugas root yang saya fokuskan pada awalnya masih tergelincir, berkat penelitian dan koreksi, sesuatu yang baik muncul di tangan saya. <br><br>  <strong>Alat yang ditulis sendiri untuk inventaris jaringan dan alamat.</strong>  Dia secara teratur mengetuk semua subnet kami dan juga memeriksa data dengan konfigurasi BIND.  Ini membuatnya mudah dan cepat untuk memesan layanan baru dan memahami beban nyata kumpulan jaringan.  Saya benar-benar tidak ingin menghabiskan waktu untuk hal ini, tetapi saya tidak dapat menemukan alternatif yang sudah jadi, dan menemukan alamat untuk dialokasikan ke sumber daya baru memerlukan banyak waktu.  Saat menulis alat, draf pertama rencana muncul di jaringan. <br><br>  <strong>Wayang tidak lagi mati dan bingung</strong> .  Saya dipersenjatai dengan kesimpulan dari kesalahan nomor satu dan bahkan tidak mencoba untuk pindah ke Ansible, yang lebih nyaman bagi saya. <br><br>  <strong>Kurang lebih nagios yang dicurangi</strong> .  Saya memindahkannya dari kantor ke pusat data dan membagikannya di tiga titik.  Itu jauh lebih cepat dan lebih murah daripada mengimplementasikan Zabbix.  Kami memasang lubang dengan peringatan yang tidak benar dalam waktu dan acara, konfigurasi ulang aturan yang sederhana dan pengenalan node kontrol tambahan. <br><br>  <strong>Memahami</strong> pemeliharaan cluster database yang digunakan. <br><br>  <strong>Wiki yang sangat bengkak</strong> .  Dia "menjadi gemuk" dari komentar dan instruksi bekerja dengan lingkungan. <br><br>  <strong>Tiga sasis HP</strong> yang kami beli untuk pemasangan di masa mendatang. <br><br>  <strong>Memahami jalan menuju sisa tahun 2019</strong> dalam pendekatan yang lebih jelas. <br><br>  <strong>Ekosistem daur ulang</strong> untuk pekerjaan departemen. <br><br>  Semua enam bulan ini saya bekerja hampir sendirian.  Karyawan yang mewarisi lebih banyak administrator sistem.  Mereka tidak benar-benar ingin mempelajari esensi DevOps. <br><br>  Dengan susah payah, saya menemukan dua spesialis di tim - junior dan menengah.  Saya mengumpulkan jumlah maksimum pengetahuan, penampilan dan kata sandi dari administrator saat ini dan berpisah dengan mereka dengan berat hati. <br><br><h3>  Sistem kerja, lingkungan dan peralatan </h3><br>  Saya akan memberi tahu Anda tentang pentingnya memperkenalkan ekosistem dan lingkungan yang berfungsi.  Saya sudah menyebutkan Trello, tetapi tidak mengatakan mengapa dan mengapa saya menerapkannya.  Tidak ada pekerjaan yang akan dibangun tanpa menetapkan tujuan dan data terstruktur.  Ini sebagian dibuktikan dengan kesalahan pertama - kumpulkan semua yang ada. <br><blockquote>  Ambil semuanya, jangan berikan apa pun. </blockquote>  <strong>Prosesnya adalah mesin kemajuan</strong> .  Oleh karena itu, selama ini saya bekerja pada sistem, meskipun ada hambatan penelitian dan alur kerja.  Berkat sistem ini, enam bulan kemudian saya menempatkan lokomotif uap departemen pada rel yang stabil. <br><br>  Pengenalan alat pendukung dan kursus singkat tentang penggunaannya sangat menghemat waktu untuk Anda dan kolega Anda.  Terutama jika Anda bahkan di atas mengerti dalam manajemen dan sedikit mampu menjaga ketertiban pada desktop dan kehidupan. <br><br>  <strong>Kami tidak menyulitkan alat, kami pergi dari yang sederhana dan memperkenalkan yang diperlukan</strong> .  Pada awal tahun, saya pikir pelacak tugas mana yang cocok untuk kita.  Segera memecat Jira dan Redmine - terlalu banyak kendali.  Kami akan menghabiskan waktu mengisi formulir, bukan tugas.  Google Sheets - Saya pikir tidak ada gunanya menjelaskan mengapa tidak. <br><br>  <strong>Trello sempurna</strong> .  Beberapa kolom sederhana: "Tunggakan" - di mana semua kesalahan atau tugas yang diperhatikan untuk masa depan dijumlahkan, "Sampai selesai" - tugas utama yang perlu dilakukan, dan "Selesai".  Beberapa saat kemudian, ada lima kolom: "Backlog", "Jeda", "Sprint", "Finish" dan "Study". <br><br>  Dalam "Jeda" dilakukan hal-hal yang kehilangan relevansi dalam proses sprint.  Dalam "Belajar" - tugas yang membutuhkan penelitian dan tidak boleh hilang sampai saat memahami dan mentransfer pengetahuan ke Wiki.  Sprint telah menjadi bukti bahwa kami telah beralih ke sistem sprint.  Kami bereksperimen dan memilih waktu optimal - 2 minggu.  Kami menggunakan segmen ini sekarang, tetapi yang lain cocok untuk Anda.  <strong>Waktu lari adalah individual untuk setiap perusahaan</strong> . <br><br>  <strong>Pertemuan mingguan wajib</strong> adalah inovasi berikutnya setelah Trello.  Kami praktis tidak bekerja di kantor.  Waktu yang bisa kita habiskan di jalan, kita curahkan untuk bekerja.  Tetapi sekali seminggu, seluruh departemen berkumpul di kantor selama 2-3 jam secara terputus-putus, dan membahas jalannya sprint dan tugas-tugas yang muncul.  Dengan demikian, sebagai tambahan setiap dua minggu sekali kami merencanakan sprint berikutnya. <br><br>  Kemudian pergi mengimplementasikan alat yang diperlukan minimum.  Semua repositori layanan dengan konfigurasi - Wayang, Nagios, DNS - dikeluarkan dari SVN menjadi GitLab baru.  Mereka mengaitkan Jenkins dengannya.  Sekarang konfigurasi DNS diperbarui secara otomatis, dan suntingan kolega Wayang dapat dibaca melalui permintaan penggabungan lebih mudah dan lebih nyaman.  Sebelumnya, kata sandi ditransmisikan dari orang ke orang, kini kata sandi itu dikumpulkan dengan rapi di 1Password.  Sekarang ini adalah satu-satunya solusi berbayar dalam infrastruktur. <br><blockquote>  Mudah diimplementasikan dan dikonfigurasikan alat memunculkan proses, dan lebih mudah dikendalikan. </blockquote><br><h3>  Masalahnya </h3><br>  Dalam liter lalu lintas tumbuh dan menambah pekerjaan: klaster yang rusak, pecahan besi, komponen.  Paruh kedua tahun ini semakin dekat, untuk mana pengembangan penskalaan direncanakan. <br><br>  Pada saat ini, dua buku terlaris muncul - sebuah buku baru oleh seorang penulis populer dan sebuah dekrit presiden negara sahabat tentang pemblokiran liter.  Massively menuangkan keluhan tentang tidak dapat diaksesnya situs.  Dekrit itu dikeluarkan sejak lama, tetapi kami mengetahuinya hanya ketika mereka mulai benar-benar memblokir kami di seluruh kumpulan alamat.  Untungnya, dekrit tersebut hanya merujuk satu nama domain - “litres.ru”. <br><br>  Peningkatan lalu lintas (semua orang menginginkan buku terlaris) melalui proxy, kami mengira serangan DDoS dan membayarnya dengan mata uang keras.  Saya ingat bagaimana kami membayar tagihan satu perusahaan yang menjanjikan kami perlindungan terhadap DDoS.  Segera setelah pembayaran, saya mengganti DNS ke alamat mereka, dan setelah 10 menit saya ingat kesalahan pertama dan dengan panik membalik kembali DNS.  Tidak ada lalu lintas sampah, tetapi ada label harga kuda untuk lalu lintas yang melewati mereka - buku, audio, sampul.  Saya tidak akan mengatakan berapa biaya hidup kita 20 menit di alamat orang lain. <br><br>  Malam itu saya menelepon Cloudflare dan berbicara tentang masalah kami.               Anti-DDoS     .  ,      Cloudflare        .       .        ,  DDoS'   ,   . <br><br>         .          KPI. <br><br><h3>   KPI </h3><br>          .           .  ,  ,    . <br><br>      KPI.    —    . <br><br><ul><li>     .   —  . </li><li> Downtime.   —  . </li><li>     .    ,  --,   ,    .    ,    . </li></ul><br>         KPI,    — . ,   ,    KPI,        . <br><br>   .      90%.      ,    .  —  ,  .      .         ,        . <br><br> <strong>    -Nagios  -Puppet</strong>     Zabbix  Grafana  Ansible.      «        ». <br><br>      Prometheus          ,   Zabbix.      Zabbix,   Prometheus —     .        —      .                . <br><br> <strong>  ,     ,    </strong> . <br><br><ul><li>  . </li><li>     . </li><li>   . </li><li> . </li></ul><br><h3>   </h3><br>       .   ,  <strong>   ,    </strong> .     —    .          ,     . <br><br>       .    -    -,  -  .    ,     .      .         .       .       . <br><br>    ,            . <br><br><img src="https://habrastorage.org/webt/cx/ts/v2/cxtsv2pow8pwufw6dzq6ovfai6q.jpeg"><br>       2  .   3     « »,   —   .    . <br><br> <strong> </strong> .      :  ,      ,    ,    Ansible,    . <br><br> <strong> .</strong>          ,        .      .        . <br><br> <strong>  </strong> . <br><br> <strong></strong> — ,  ,  .       . <br><br> <strong> </strong> .    —  ,             . <br><br>      .      ,           .      .      2019.    ,  ,    , —     .                . <br><br><h3>    </h3><br>         .    . <br><blockquote>   . </blockquote>       ,  -    ,    .         . <br><br><ul><li>        ,  ,      . </li><li>   ,      . </li><li>    , ,    — . </li><li>      ,  ,  ,  —   ,       . </li></ul><br>       .    ,    - .        ,   ,  ,    . <br><blockquote>    . </blockquote>     — , , .     ,    ,     . <br><br><img src="https://habrastorage.org/webt/mo/rs/us/morsusn140tgpjhqq_r7j_brdlc.jpeg"><br><br>   ,     —  -   . ,     . <br><br><ul><li>        . </li><li>      ,    . </li><li>      ,      ,    . </li></ul><br>       «  ,    ».   ,        —  ,  , ,  . <br><br>    ,     ,     . <br><br><h2>   —    </h2><br>  Ansible? ,  ,   Puppet  ?        —     . <br><br><img src="https://habrastorage.org/webt/q6/7v/5j/q67v5jtkws8xri9l2v-eflfci8e.jpeg"><br><br>          CI/CD?   ,  .  CI/CD  ,      — . <strong>    .</strong> <br><br>    ,  ,      .      - ?   ,          KPI?       ,    -. <strong> -</strong> —  ,    ,   . <br><blockquote>  . </blockquote><br> <b>  :</b> <br><br><ul><li>    —      . </li><li>         . </li><li>    ,     . </li></ul><br><blockquote>    DevOpsConf  .     —  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> </a> , ,     .    DevOps-   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">HighLoad++ 2019</a>  .   DevOps 13     AWS,    Lamoda,    ,    Kubernetes,    Kubernetes,   Kubernetes   .          « <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="></a> »  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> </a> .    HighLoad++      —  ,   -. .       —    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="></a> . </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id468537/">https://habr.com/ru/post/id468537/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id468527/index.html">Sintesis pengontrol dengan metode masalah dinamika terbalik</a></li>
<li><a href="../id468529/index.html">Menjinakkan Gorynych, atau Mengompilasi eBPF di Ghidra</a></li>
<li><a href="../id468531/index.html">Bot PHP pertama untuk VKontakte</a></li>
<li><a href="../id468533/index.html">Menumpang di DevOps dengan Express 42</a></li>
<li><a href="../id468535/index.html">Tidak perlu log?</a></li>
<li><a href="../id468541/index.html">Seret - & - Jatuhkan komponen untuk pengguna tunanetra? Apakah kamu bercanda?</a></li>
<li><a href="../id468543/index.html">FrontendConf Komite Program Hari Kerja. Wawancara dengan Sergey Popov</a></li>
<li><a href="../id468545/index.html">"Alice, ayo pergi ke frontend!"</a></li>
<li><a href="../id468547/index.html">Berbicara Bahasa Inggris, CSS, Kisi dan Aksesibilitas di FrontendConf</a></li>
<li><a href="../id468549/index.html">Terikat GPU. Cara mentransfer semuanya ke kartu video dan sedikit lagi. Animasi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>