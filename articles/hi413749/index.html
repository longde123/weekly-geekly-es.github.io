<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯС╖ЁЯП╗ ЁЯЫгя╕П ЁЯСйЁЯП╛тАНЁЯдЭтАНЁЯСиЁЯП┐ рдПрдХ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рдмреА + рдкреЗрдбрд╝ ЁЯСиЁЯП┐тАНЁЯдЭтАНЁЯСиЁЯП╝ ЁЯШЪ ЁЯОЕЁЯП╝</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ, рд╣рдо рдЗрд╕ рдмрд╛рдд рдкрд░ рд╡рд┐рд╕реНрддреГрдд рдЪрд░реНрдЪрд╛ рдХрд░реЗрдВрдЧреЗ рдХрд┐ рд╡рд┐рддрд░рд┐рдд рдЕрдкрд╛рдЪреЗ рдЗрдЧреНрдирд╛рдЗрдЯ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ B + рдЯреНрд░реА рдХреИрд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред 




 рдПрдЪ-рдкреЗрдбрд╝реЛрдВ рдкрд░ рдмреА-рдкреЗрдбрд╝реЛрдВ ( рдПрдХ , рджреЛ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдПрдХ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рдмреА + рдкреЗрдбрд╝</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sberbank/blog/413749/"><p>  рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ, рд╣рдо рдЗрд╕ рдмрд╛рдд рдкрд░ рд╡рд┐рд╕реНрддреГрдд рдЪрд░реНрдЪрд╛ рдХрд░реЗрдВрдЧреЗ рдХрд┐ рд╡рд┐рддрд░рд┐рдд <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрдкрд╛рдЪреЗ рдЗрдЧреНрдирд╛рдЗрдЯ</a> рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ B + рдЯреНрд░реА рдХреИрд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br></p><br><img src="https://habrastorage.org/webt/mv/_t/zg/mv_tzg1o-c96a2ib19cf9umv67u.jpeg"><a name="habracut"></a><br><p>  рдПрдЪ-рдкреЗрдбрд╝реЛрдВ рдкрд░ рдмреА-рдкреЗрдбрд╝реЛрдВ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдПрдХ</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рджреЛ</a> ) рдкрд░ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдХреБрдЫ рд▓реЗрдЦ рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╡реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╕реИрджреНрдзрд╛рдВрддрд┐рдХ рд╣реИрдВ рдФрд░ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЕрдЧрд░ рдЙрдирдореЗрдВ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рд╣реЛрддрд╛ рд╣реИ, рддреЛ рд╡реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЙрддреНрдкрд╛рджрди рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░</a> рдирд╣реАрдВ рд╣реИрдВред  рдЗрд╕рд╕реЗ рдЬреАрд╡рди рдореЗрдВ рдЙрдкрдпреЛрдЧ рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЛ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд░реБрдЪрд┐ рд╣реИред </p><br><p>  рд▓реЗрдЦ рдХреЛ рдЖрдЧреЗ рдкрдврд╝рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдореИрдВ рдЖрдкрдХреЛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдореИрдХреНрд╕рд┐рдо рдмреЗрдмреЗрдВрдХреЛ рдХрд╛</a> рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╡реНрдпрд╛рдЦреНрдпрд╛рди</a> рджреЗрдЦрдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреЗрддрд╛ рд╣реВрдВ, рдЕрдЧрд░ рдЖрдкрдХреЛ рдЕрднреА рднреА рдирд╣реАрдВ рдкрддрд╛ рд╣реИ рдХрд┐ рдмреА-рдЯреНрд░реА рд╕рд┐рджреНрдзрд╛рдВрдд рдореЗрдВ рдХреНрдпрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдореБрдЭреЗ рдЬрд╛рд╡рд╛ рдХреЛ рдЧрд╣рд░рд╛рдИ рд╕реЗ рдпрд╛ рдЕрдкрд╛рдЪреЗ рдЗрдЧреНрдирд╛рдЗрдЯ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЛ рдЬрд╛рдирдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ - рдореИрдВ рдпрд╛ рддреЛ рд╡рд┐рд╡рд░рдг рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рд▓рд┐рдЦреВрдВрдЧрд╛ рдпрд╛ рдЗрд╕реЗ рдмрд┐рдЧрд╛рдбрд╝рдиреЗ рдХреЗ рддрд╣рдд рдЫрд┐рдкрд╛рдКрдВрдЧрд╛ред </p><br><p>  рдЬрдм рдЖрдк рдкреНрд░рдЬреНрд╡рд▓рд┐рдд рд╕реНрд░реЛрддреЛрдВ рдХреЛ рдкрдврд╝рддреЗ рд╣реИрдВ, рддреЛ рдореИрдВ рдЖрдкрдХреЛ рд╕рд▓рд╛рд╣ рджреЗрддрд╛ рд╣реВрдВ рдХрд┐ рдЖрдк рдЕрдкрдиреЗ рджрд┐рдорд╛рдЧ рдореЗрдВ рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЗ рддрд░реНрдХреЛрдВ рдХреЛ рдЫреЛрдбрд╝ рджреЗрдВ, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рдмрд╣реБрдд рд╕реНрдкрд╖реНрдЯ рдирд╣реАрдВ рд╣реИ рдФрд░ рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рдирд╛рдореЛрдВ рдХреЛ рдкрдврд╝рдирд╛ рд╣реИ - рдпрджрд┐ рдЖрдк рдЕрдЧреНрд░рд┐рдо рдореЗрдВ рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд╢рд░реАрд░ рдХреЛ рдкрдврд╝рдирд╛ рдмрд╣реБрдд рдЖрд╕рд╛рди рд╣реИред </p><br><p>  рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдореИрдВ рдЕрдкрд╛рдЪреЗ рдЗрдЧреНрдирд╛рдЗрдЯ рдХрд╛ рдкреНрд░рдореБрдЦ рдбреЗрд╡рд▓рдкрд░ рдирд╣реАрдВ рд╣реВрдВ рдФрд░ рдХреЛрдб рд╕реЗ рдХреБрдЫ рдЧрд▓рдд рд╕рдордЭ рд╕рдХрддрд╛ рдерд╛ред  рдЗрд╕рд▓рд┐рдП, рдореИрдВрдиреЗ рд╡рд╛рдХреНрдпрд╛рдВрд╢ "рдЬрд╣рд╛рдВ рддрдХ тАЛтАЛрдореИрдВ рд╕рдордЭрддрд╛ рд╣реВрдВ" рдХреЛ рдмрд╛рд╣рд░ рд░рдЦрд╛, рдЬрд┐рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рд╕рдХрд╛рд░рд╛рддреНрдордХ рд╡рд╛рдХреНрдп рд╕реЗ рдкрд╣рд▓реЗ рдорд╛рдирд╕рд┐рдХ рд░реВрдк рд╕реЗ рдЬреЛрдбрд╝рд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред </p><br><h1 id="zachem-b-derevo-v-apache-ignite">  рдХреНрдпреЛрдВ рдЕрдкрд╛рдЪреЗ рдореЗрдВ рдмреА + рдкреЗрдбрд╝ рдкреНрд░рдЬреНрд╡рд▓рд┐рдд </h1><br><p> рдЕрдкрд╛рдЪреЗ рдЗрдЧреНрдирд╛рдЗрдЯ рдПрдХ рдЗрди-рдореЗрдореЛрд░реА рдбреЗрдЯрд╛рдмреЗрд╕ рд╣реИ, рд▓реЗрдХрд┐рди рд╕рдВрд╕реНрдХрд░рдг 2.1 рдХреЗ рдмрд╛рдж рд╕реЗ рдЗрд╕рдореЗрдВ рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдирд┐рд░рдВрддрд░ рдбреЗрдЯрд╛ рд╕реНрдЯреЛрд░ рд╣реИ</a> - рдбрд┐рд╕реНрдХ рдХреЛ рдбреЗрдЯрд╛ рдмрдЪрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдлрд╝рдВрдХреНрд╢рди <em>( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓рдЧрд╛рддрд╛рд░ рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛ рдХреЗ</a> рд╕рд╛рде рдХреБрдЫ рднреА рдирд╣реАрдВ рдХрд░рдирд╛ рд╣реИ)</em> ред  рдЗрд╕рд▓рд┐рдП, рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реИ рдХрд┐ рдмрд╛рд╣рд░реА рд╕реНрдореГрддрд┐ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рдВрд░рдЪрдирд╛ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреНрдпреЛрдВ рд╣реИ, рдпрд╣ рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП рдмрдиреА рд╣реБрдИ рд╣реИ рдХрд┐ рдЙрдиреНрд╣реЛрдВрдиреЗ рджреВрд╕рд░реЗ рдХреЛ рдХреНрдпреЛрдВ рдирд╣реАрдВ рдЪреБрдирд╛ред </p><br><p>  рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдмреА + рдкреЗрдбрд╝ рдмреА-рдкреЗрдбрд╝ рдХрд╛ рдПрдХ рдЕрдиреБрдХреВрд▓рди рд╣реИ, рдЬрд╣рд╛рдВ рдореВрд▓реНрдпреЛрдВ рдХреЛ рдХреЗрд╡рд▓ рдкрддреНрддрд┐рдпреЛрдВ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЗрд╕ рдЕрдиреБрдХреВрд▓рди рдореЗрдВ, рдЕрдзрд┐рдХ рдХреБрдВрдЬреА рдПрдХ рдиреЛрдб рдореЗрдВ рдлрд┐рдЯ рд╣реЛрддреА рд╣реИрдВ, рдЬрд┐рд╕рд╕реЗ рдмреНрд░рд╛рдВрдЪрд┐рдВрдЧ рдХреА рдбрд┐рдЧреНрд░реА рдмрдврд╝ рдЬрд╛рддреА рд╣реИред  рдЗрд╕рд▓рд┐рдП, рдХреНрд▓рд╛рд╕рд┐рдХ рдмреА-рдЯреНрд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рдмрд╣реБрдд рдХрд╛рд░рдг рдирд╣реАрдВ рд╣реИред </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдмреА *</a> рдФрд░ рдмреА + * - рдбрд┐рд╕реНрдХ рдкрд░ рд╕рдШрди рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЙрдирдХрд╛ рдкреНрд░рджрд░реНрд╢рди рдЦрд░рд╛рдм рд╣реИ, рдХреНрдпреЛрдВрдХрд┐  рд╣рдо рд░реИрдо рд╕реЗ рдбреЗрдЯрд╛ рд╕реНрдЯреЛрд░ рдХрд░рддреЗ рд╣реИрдВ, рдкреНрд░рджрд░реНрд╢рди рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдЕрдзрд┐рдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдмреЗрдВрдЪрдорд╛рд░реНрдХ рд╕реЗ</a> рджреЗрдЦрддреЗ рд╣реБрдП <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">, рдПрдХ</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдПрд▓рдПрд╕рдПрдо рдкреЗрдбрд╝</a> рд▓рд┐рдЦрдиреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдореЗрдВ</a> рддреЗрдЬ рд╣реИ, рд▓реЗрдХрд┐рди рдкрдврд╝рдиреЗ рдореЗрдВ рдзреАрдорд╛ рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдкрдврд╝рдиреЗ рдореЗрдВ рдиреБрдХрд╕рд╛рди рд▓реЗрдЦрди рдореЗрдВ рд▓рд╛рдн рд╕реЗ рдЕрдзрд┐рдХ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдПрдХ рдХрд╛рд▓реНрдкрдирд┐рдХ рд╕рд╛рдорд╛рдиреНрдп рдорд╛рдорд▓реЗ рдХреЗ рд▓рд┐рдП, рдореИрдВ рдмреА + рдкреЗрдбрд╝ рднреА рд▓реЗ рдЬрд╛рдКрдВрдЧрд╛ред </p><br><p>  рд╡рд╣рд╛рдБ рднреА рдЕрдЬреАрдм <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рднрдЧреНрди рдкреЗрдбрд╝ рд╣реИрдВ</a> , рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЬрд╛рд╣рд┐рд░рд╛ рддреМрд░ рдкрд░, рд╡реЗ рдХреЗрд╡рд▓ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЯреЛрдХреБрдмреАрдбреА</a> рдореЗрдВ рдкреЗрдЯреЗрдВрдЯ рдФрд░ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рд┐рдд рдХрд┐рдП <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЬрд╛рддреЗ рд╣реИрдВ</a> ред </p><br><p>  рд╡реНрдпрдХреНрддрд┐рдЧрдд рд░реВрдк рд╕реЗ, рдореБрдЭреЗ рдЗрд╕ рдмрд╛рдд рдореЗрдВ рдЕрдзрд┐рдХ рджрд┐рд▓рдЪрд╕реНрдкреА рд╣реИ рдХрд┐ рдХреНрдпреЛрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓реЗрд╡рд▓рдмреИрдВрдХ рдХреА</a> рддрд░рд╣ рд░реЗрдбреАрдореЗрдб рдбрд┐рд╕реНрдХ рдмреИрдХрдПрдВрдб рд▓реЗрдирд╛ рдЕрд╕рдВрднрд╡ рдерд╛?  рдПрдХ рдЖрдВрд╢рд┐рдХ рдЙрддреНрддрд░ рдпрд╣ рд╣реИ рдХрд┐ рдкреАрдбреАрдПрд╕ рддреАрд╕рд░реЗ рдкрдХреНрд╖ рдХреЗ рднрдВрдбрд╛рд░рдг рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред </p><br><h1 id="realizaciya-v-krupnuyu-kletku">  рдмрдбрд╝реЗ рд╕реЗрд▓ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди </h1><br><p> рдкреНрд░рд╛рд░рдВрдн рдореЗрдВ, рдЧреНрд░рд┐рдбрдЧреИрди рдиреЗ рдЕрдкрд╛рдЪреЗ рдЗрдЧреНрдирд╛рдЗрдЯ рдХреЛ рд╡рд┐рдХрд╕рд┐рдд рдХрд┐рдпрд╛, рд▓реЗрдХрд┐рди рдУрдкрди-рд╕реЛрд░реНрд╕ рдХреЗ рд▓рд┐рдП рдЬрд╛рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдЗрд╕рдиреЗ рдХрдВрдкрдиреА рдХрд╛ рдирд╛рдо рдмреЛрд░ рдХрд░ рджрд┐рдпрд╛, рдЗрд╕рд▓рд┐рдП рдХреБрдЫ рдШрдЯрдХреЛрдВ рдХреЗ рдирд╛рдо <code>Grid</code> рд╢реБрд░реВ рд╣реЛрддреЗ рд╣реИрдВ, рдФрд░ рдЕрдиреНрдп рд▓реЛрдЧ <code>Ignite</code> рд╕рд╛рдеред  рдЗрд╕рд▓рд┐рдП <code>GridCursor</code> , рд▓реЗрдХрд┐рди <code>IgniteTree</code> ред  рдпрд╣рд╛рдВ рдХреЛрдИ рдФрд░ рддрд░реНрдХ рдирд╣реАрдВ рд╣реИред </p><br><p>  рдЕрдкрд╛рдЪреЗ рдЗрдЧреНрдирд╛рдЗрдЯ рдХреЛрдб рдЬрд╛рд╡рд╛ рд╕рд░реНрд╡реЛрддреНрддрдо рдкреНрд░рдерд╛рдУрдВ рдкреИрдЯрд░реНрди рдореЗрдВ рд▓рд┐рдЦрд╛ рдЧрдпрд╛ рд╣реИ, рдФрд░ рдкреНрд░рддреНрдпреЗрдХ рд╡рд░реНрдЧ рдПрдХ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ, рдпрджрд┐ рдПрдХ рдирд╣реАрдВред  <code>IgniteTree</code> рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рд╕реЗ рдФрд░ рдиреГрддреНрдп рд╢реБрд░реВ рдХрд░реЗрдВред  рдореИрдВ javadoc рдХреЗ рдмрд┐рдирд╛ рдХреЛрдб рджреЗрддрд╛ рд╣реВрдВ, рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВред </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IgniteTree</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">L</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">put</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(T val)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IgniteCheckedException</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">invoke</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(L key, Object x, InvokeClosure&lt;T&gt; c)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IgniteCheckedException</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findOne</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(L key)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IgniteCheckedException</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> GridCursor&lt;T&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">find</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(L lower, L upper)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IgniteCheckedException</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> GridCursor&lt;T&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">find</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(L lower, L upper, Object x)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IgniteCheckedException</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findFirst</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IgniteCheckedException</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findLast</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IgniteCheckedException</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">remove</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(L key)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IgniteCheckedException</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">long</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">size</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IgniteCheckedException</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InvokeClosure</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">call</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@Nullable T row)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IgniteCheckedException</span></span>; <span class="hljs-function"><span class="hljs-function">T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">newRow</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-function">OperationType </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">operationType</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> OperationType { NOOP, REMOVE, PUT } }</code> </pre> <br><p>  <code>IgniteTree</code> рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдСрдкрд░реЗрд╢рди рдХреЗ рдПрдХ рдорд╛рдирдХ рд╕реЗрдЯ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддрд╛ рд╣реИред  рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рд╕реАрдорд╛ рдЦреЛрдЬ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдПрдХ рд╕реВрдЪреА рдореЗрдВ рдкрддреНрддрд┐рдпреЛрдВ рдХреЛ рдмреБрдирдирд╛ рдкрдбрд╝рддрд╛ рд╣реИред  рдмреЛрдирд╕ рдПрдХ рдордирдорд╛рдирд╛ рд░рд┐рдХреЙрд░реНрдб рдСрдкрд░реЗрд╢рди рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ - <code>invoke</code> ред </p><br><p>  <code>put</code> рдСрдкрд░реЗрд╢рди рдмрд┐рдирд╛ рдЪрд╛рдмреА рдХреЗ рдХреЗрд╡рд▓ <code>T</code> рдХрд╛ рдПрдХ рддрд░реНрдХ рд▓реЗрддрд╛ рд╣реИред  рдЖрдкрдХреЛ рдЗрд╕рдХреЗ рд▓рд┐рдП <code>IgniteTree</code> рдореЗрдВ рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг рдирд╣реАрдВ рдорд┐рд▓реЗрдЧрд╛, рд╣рд╛рд▓рд╛рдВрдХрд┐ рдЗрд╕рдХрд╛ рдЬрд╡рд╛рдм <code>BPlusTree</code> рд╣реЗрдбрд░ рдореЗрдВ рдЫрд┐рдкрд╛ рд╣реИред </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BPlusTree</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">L</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">L</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DataStructure</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IgniteTree</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">L</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt;</span></span></code> </pre> <br><p>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдореВрд▓реНрдп рдХреБрдВрдЬреА рдХреЛ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рдорд┐рд▓рд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП, рдкреБрдЯ рдСрдкрд░реЗрд╢рди рдореЗрдВ, рдореВрд▓реНрдп рд╕реЗ рдХреБрдВрдЬреА рдХреА рдЧрдгрдирд╛ рдХреА рдЬрд╛рддреА рд╣реИред  рдпрд╣ рдкреЗрдбрд╝ рдХреА рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреЛ рд╕реАрдорд┐рдд рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред  рдореЗрд░реА рдзрд╛рд░рдгрд╛ рдпрд╣ рд╣реИ рдХрд┐ рдпрд╣ рд╕реНрдЯреЛрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХ рдХреЙрдореНрдкреИрдХреНрдЯ рд╣реИред </p><br><p>  рдЖрдорддреМрд░ рдкрд░ рд╡реЗ рдореВрд▓реНрдп рд╕реЗ рд╕реНрдерд┐рд░ рдХрдЪрд░рд╛ рд╕рдВрд▓рдЧреНрди рдХрд░рдХреЗ рдирдХреНрд╢реЗ рд╕реЗ рдмрд╛рд╣рд░ рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдмреА + рдкреЗрдбрд╝ рдореЗрдВ, <em>рдХреЗрд╡рд▓ рдЪрд╛рдмрд┐рдпрд╛рдБ</em> рдиреЛрдбреНрд╕ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХреА рдЬрд╛рддреА рд╣реИрдВ, рдпрджрд┐ рдореВрд▓реНрдп рднреА рдХреБрдВрдЬреА рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИ, рддреЛ рдкрддреНрддрд┐рдпреЛрдВ рдореЗрдВ рдпрд╣ <em>рдХреЗрд╡рд▓ рдореВрд▓реНрдпреЛрдВ</em> рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реИред  рдФрд░ рдЕрдЧрд░ рдкреЗрдбрд╝ рдПрдХ рд╕реЗрдЯ рд╣реИ, рддреЛ рдпрд╣ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдирд┐рдХрд▓рддрд╛ рд╣реИ рдХрд┐ рдкрддреНрддрд┐рдпреЛрдВ рдореЗрдВ рдХрдЪрд░рд╛ рдореВрд▓реНрдпреЛрдВ рдХреЗ рдмрд┐рдирд╛ рдХреЗрд╡рд▓ рдЪрд╛рдмрд┐рдпрд╛рдБ рд╣реЛрдВрдЧреАред </p><br><p><img src="https://habrastorage.org/webt/gk/5a/mj/gk5amjeohtkej5assnsgyy791p4.png"></p><br><p>  рдЕрдм рддрддреНрд╡ рдЦреЛрдЬ рдХреЛрдб рдХреЛ рджреЗрдЦрддреЗ рд╣реИрдВред </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> g Get. * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@throws</span></span></span><span class="hljs-comment"> IgniteCheckedException If failed. */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doFind</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Get g)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IgniteCheckedException </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (;;) { <span class="hljs-comment"><span class="hljs-comment">// Go down with retries. g.init(); switch (findDown(g, g.rootId, 0L, g.rootLvl)) { case RETRY: case RETRY_ROOT: checkInterrupted(); continue; default: return; } } } /** * @param g Get. * @param pageId Page ID. * @param fwdId Expected forward page ID. * @param lvl Level. * @return Result code. * @throws IgniteCheckedException If failed. */ private Result findDown(final Get g, final long pageId, final long fwdId, final int lvl) throws IgniteCheckedException { long page = acquirePage(pageId); try { for (;;) { // Init args. g.pageId = pageId; g.fwdId = fwdId; Result res = read(pageId, page, search, g, lvl, RETRY); switch (res) { case GO_DOWN: case GO_DOWN_X: assert g.pageId != pageId; assert g.fwdId != fwdId || fwdId == 0; // Go down recursively. res = findDown(g, g.pageId, g.fwdId, lvl - 1); switch (res) { case RETRY: checkInterrupted(); continue; // The child page got split, need to reread our page. default: return res; } case NOT_FOUND: assert lvl == 0 : lvl; g.row = null; // Mark not found result. return res; default: return res; } } } finally { if (g.canRelease(pageId, lvl)) releasePage(pageId, page); } }</span></span></code> </pre> <br><p>  рдмреА-рдЯреНрд░реА рдЯреНрд░реИрд╡рд░реНрд╕рд▓ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдХрд╛ рдЖрдзрд╛рд░ рдЕрдкрд░рд┐рд╡рд░реНрддрд┐рдд рд░рд╣рд╛ рд╣реИ: рд╡реЗ рдкреБрди: рдкреЗрдбрд╝ рдХреЛ рд╡рд╛рдВрдЫрд┐рдд рдкрддреНрддреА рддрдХ рд▓реЗ рдЬрд╛рддреЗ рд╣реИрдВ: рдпрджрд┐ рдореВрд▓реНрдп рдореМрдЬреВрдж рд╣реИ, рддреЛ рд╡реЗ рдкрд░рд┐рдгрд╛рдо рд╡рд╛рдкрд╕ рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдпрджрд┐ рдирд╣реАрдВ, рддреЛ <code>null</code> ред  рдкреБрдирд░рд╛рд╡реГрддреНрддрд┐ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП рдЫреЛрдбрд╝ рджреА рдЧрдИ рдереА, рд╡реИрд╕реЗ рднреА, рдмреА-рдкреЗрдбрд╝ рдЧрд╣рд░реЗ рдирд╣реАрдВ рд╣реИрдВред </p><br><p><img src="https://habrastorage.org/webt/tc/g3/0t/tcg30to_z-6fcrfegjfulubh0gq.jpeg"></p><br><p>  рдореИрдВ рдЖрд╢реНрдЪрд░реНрдпрдЪрдХрд┐рдд рдерд╛ рдХреНрдпреЛрдВрдХрд┐ рдореЗрд░реЗ рд╕рд┐рд░ рдореЗрдВ рдПрдХ рд╕реНрдкрд╖реНрдЯ рд╕реНрдерд╛рдкрдирд╛ рдереА: рдкреБрдирд░рд╛рд╡реГрддреНрддрд┐ рд╣рдореЗрд╢рд╛ рдПрдХ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рд╣рдЯрд╛ рджреА рдЬрд╛рддреА рд╣реИ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЬрд╛рд╡рд╛ рдореЗрдВ рдХреЛрдИ рдкреВрдВрдЫ рдкреБрдирд░рд╛рд╡реГрддреНрддрд┐ рдЕрдиреБрдХреВрд▓рди рдирд╣реАрдВ рд╣реИ</a> , рдЕрдиреНрдп рднрд╛рд╖рд╛рдУрдВ рдореЗрдВ рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рдореЗрдВ рдкреБрдирд░рд╛рд╡реГрддреНрддрд┐ рд╕реНрд╡реАрдХрд╛рд░реНрдп рд╣реИ)ред  рд▓реЗрдХрд┐рди рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдмреА-рдкреЗрдбрд╝ рдХреА рдКрдВрдЪрд╛рдИ рдЗрдХрд╛рдЗрдпреЛрдВ рдореЗрдВ рдорд╛рдкрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдСрд░реНрдбрд░ рдмреНрд▓реЙрдХ рдХрд╛ рдЖрдХрд╛рд░ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mn>2</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>10</mn></mrow></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.039ex" height="2.419ex" viewBox="0 -935.7 1308.3 1041.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/sberbank/blog/413749/&amp;usg=ALkJrhiGnOhewi2QFq8scTHk2KaXa19v6Q#MJMAIN-32" x="0" y="0"></use><g transform="translate(500,393)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/sberbank/blog/413749/&amp;usg=ALkJrhiGnOhewi2QFq8scTHk2KaXa19v6Q#MJMAIN-31"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/sberbank/blog/413749/&amp;usg=ALkJrhiGnOhewi2QFq8scTHk2KaXa19v6Q#MJMAIN-30" x="500" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mrow class="MJX-TeXAtom-ORD"><mn>10</mn></mrow></msup></math></span></span><script type="math/tex" id="MathJax-Element-1"> 2 ^ {10} </script>  , рдФрд░ рдЖрджреЗрд╢ рдХреЗ рдбреЗрдЯрд╛ рдХреА рд╕рдВрдЦреНрдпрд╛ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mn>2</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>40</mn></mrow></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.039ex" height="2.419ex" viewBox="0 -935.7 1308.3 1041.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/sberbank/blog/413749/&amp;usg=ALkJrhiGnOhewi2QFq8scTHk2KaXa19v6Q#MJMAIN-32" x="0" y="0"></use><g transform="translate(500,393)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/sberbank/blog/413749/&amp;usg=ALkJrhiGnOhewi2QFq8scTHk2KaXa19v6Q#MJMAIN-34"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/sberbank/blog/413749/&amp;usg=ALkJrhiGnOhewi2QFq8scTHk2KaXa19v6Q#MJMAIN-30" x="500" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mrow class="MJX-TeXAtom-ORD"><mn>40</mn></mrow></msup></math></span></span><script type="math/tex" id="MathJax-Element-2"> 2 ^ {40} </script>  рдФрд░ рдКрдВрдЪрд╛рдИ рд╣реЛрдЧреА <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x932;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x949;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x917;</mo></mrow><mo stretchy=&quot;false&quot;>(</mo><msup><mn>2</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>40</mn></mrow></msup><mo stretchy=&quot;false&quot;>)</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x932;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x949;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x917;</mo></mrow><mo stretchy=&quot;false&quot;>(</mo><msup><mn>2</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>10</mn></mrow></msup><mo stretchy=&quot;false&quot;>)</mo></mrow><mo>=</mo><mn>4</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="28.864ex" height="2.901ex" viewBox="0 -935.7 12427.6 1249" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/sberbank/blog/413749/&amp;usg=ALkJrhiGnOhewi2QFq8scTHk2KaXa19v6Q#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/sberbank/blog/413749/&amp;usg=ALkJrhiGnOhewi2QFq8scTHk2KaXa19v6Q#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/sberbank/blog/413749/&amp;usg=ALkJrhiGnOhewi2QFq8scTHk2KaXa19v6Q#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/sberbank/blog/413749/&amp;usg=ALkJrhiGnOhewi2QFq8scTHk2KaXa19v6Q#MJMATHI-63" x="1781" y="0"></use><g transform="translate(2215,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">рд▓</text><g transform="translate(674,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">реЙ</text></g><g transform="translate(1479,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">рдЧ</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/sberbank/blog/413749/&amp;usg=ALkJrhiGnOhewi2QFq8scTHk2KaXa19v6Q#MJMAIN-28" x="2101" y="0"></use><g transform="translate(2491,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/sberbank/blog/413749/&amp;usg=ALkJrhiGnOhewi2QFq8scTHk2KaXa19v6Q#MJMAIN-32" x="0" y="0"></use><g transform="translate(500,393)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/sberbank/blog/413749/&amp;usg=ALkJrhiGnOhewi2QFq8scTHk2KaXa19v6Q#MJMAIN-34"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/sberbank/blog/413749/&amp;usg=ALkJrhiGnOhewi2QFq8scTHk2KaXa19v6Q#MJMAIN-30" x="500" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/sberbank/blog/413749/&amp;usg=ALkJrhiGnOhewi2QFq8scTHk2KaXa19v6Q#MJMAIN-29" x="3799" y="0"></use></g><g transform="translate(6404,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">рд▓</text><g transform="translate(674,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">реЙ</text></g><g transform="translate(1479,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">рдЧ</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/sberbank/blog/413749/&amp;usg=ALkJrhiGnOhewi2QFq8scTHk2KaXa19v6Q#MJMAIN-28" x="2101" y="0"></use><g transform="translate(2491,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/sberbank/blog/413749/&amp;usg=ALkJrhiGnOhewi2QFq8scTHk2KaXa19v6Q#MJMAIN-32" x="0" y="0"></use><g transform="translate(500,393)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/sberbank/blog/413749/&amp;usg=ALkJrhiGnOhewi2QFq8scTHk2KaXa19v6Q#MJMAIN-31"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/sberbank/blog/413749/&amp;usg=ALkJrhiGnOhewi2QFq8scTHk2KaXa19v6Q#MJMAIN-30" x="500" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/sberbank/blog/413749/&amp;usg=ALkJrhiGnOhewi2QFq8scTHk2KaXa19v6Q#MJMAIN-29" x="3799" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/sberbank/blog/413749/&amp;usg=ALkJrhiGnOhewi2QFq8scTHk2KaXa19v6Q#MJMAIN-3D" x="10870" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/sberbank/blog/413749/&amp;usg=ALkJrhiGnOhewi2QFq8scTHk2KaXa19v6Q#MJMAIN-34" x="11927" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mrow class="MJX-TeXAtom-ORD"><mo>рд▓</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>реЙ</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>рдЧ</mo></mrow><mo stretchy="false">(</mo><msup><mn>2</mn><mrow class="MJX-TeXAtom-ORD"><mn>40</mn></mrow></msup><mo stretchy="false">)</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mrow class="MJX-TeXAtom-ORD"><mo>рд▓</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>реЙ</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>рдЧ</mo></mrow><mo stretchy="false">(</mo><msup><mn>2</mn><mrow class="MJX-TeXAtom-ORD"><mn>10</mn></mrow></msup><mo stretchy="false">)</mo></mrow><mo>=</mo><mn>4</mn></math></span></span><script type="math/tex" id="MathJax-Element-3"> \ frac {рд▓реЙрдЧ (2 ^ {40})} {рд▓реЙрдЧ (2 ^ {10})} = 4 </script>  ред </p><br><p>  рдЕрдкрд╛рдЪреЗ рдЗрдЧреНрдирд╛рдЗрдЯ рдХреЛ рдХреЙрдиреНрд╕рд░реНрдЯ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкрд╕рдВрдж рд╣реИ</a> ред  рдЗрд╕рд▓рд┐рдП, рдкреЗрдбрд╝ рдкреНрд░рддрд┐рд╕реНрдкрд░реНрдзреА рд╕рдВрд╢реЛрдзрди рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред  рдСрдкрд░реЗрд╢рди рдХреЗ рд╕рдордп, рдПрдХ рдкреГрд╖реНрда рдЕрд╡рд░реБрджреНрдз рд╣реИ, рд▓реЗрдХрд┐рди рдПрдХ рдФрд░ рдзрд╛рдЧрд╛ рдмрд╛рдХреА рдкреЗрдбрд╝ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдПрдХ рджреВрд╕рд░реЗ рдкрдврд╝рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛред  рдФрд░ рдЗрд╕рд▓рд┐рдП рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдЬрдбрд╝ рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддреА рд╣реИред </p><br><p>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдореБрдЭреЗ рдЗрд╕ рддрд░рд╣ рдХреА рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХрд╛ рдЕрд░реНрде рд╕рдордЭ рдореЗрдВ рдирд╣реАрдВ рдЖрдпрд╛, рдХреНрдпреЛрдВрдХрд┐ рдбрд┐рд╕реНрдХ рдзреАрдореА рд╣реИ рдФрд░ рдПрдХ рдзрд╛рдЧрд╛ рд╢рд╛рдВрддрд┐ рд╕реЗ рд╕рднреА I / O рд╕рдВрдЪрд╛рд▓рди рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд░реЗрдЧрд╛ред  рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реИ рдХрд┐ рдбрд┐рд╕реНрдХ рд╕реЗ рд▓реЛрдб рдиреЛрдб рдореЗрдВ рдЦреЛрдЬ рдХреА рдереЛрдбрд╝реА рд▓рд╛рдЧрдд рд╣реЛрддреА рд╣реИ рдФрд░ рдЗрд╕ рджреМрд░рд╛рди рдЖрдк рдбрд┐рд╕реНрдХ рдХреЛ рджреВрд╕рд░реЗ рдСрдкрд░реЗрд╢рди рдХреЗ рд╕рд╛рде рд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдмрд╛рд░-рдмрд╛рд░ рдкреНрд░рдпрд╛рд╕ рдХрд░рдиреЗ рд╕реЗ рд▓рд╛рдн рдкреНрд░рд╛рдкреНрдд рд╣реЛрдЧрд╛ред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рддрдм рдпрд╣ рдореБрдЭ рдкрд░ рд╣рд╛рд╡реА рд╣реЛ рдЧрдпрд╛ рдХрд┐ рдЗрд╕ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдореЗрдВ рдиреЛрдбреНрд╕ рдХреЛ рд╕рдВрд╢реЛрдзрди рдХреЗ рдмрд╛рдж рддреБрд░рдВрдд рдбрд┐рд╕реНрдХ рдореЗрдВ рдирд╣реАрдВ рдбрд╛рд▓рд╛ рдЧрдпрд╛ рдерд╛, рд▓реЗрдХрд┐рди рд╡реЗ рдХреБрдЫ рд╕рдордп рдХреЗ рд▓рд┐рдП рдореЗрдореЛрд░реА рдореЗрдВ рд▓рдЯрдХрд╛ рд░рд╣реЗ рдереЗ, рдлрд┐рд░ рддреБрд░рдВрдд рдХрдИ рд╕рдВрд╢реЛрдзрдиреЛрдВ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред  рдХреЛрдИ рдбреЗрдЯрд╛ рдирд╣реАрдВ рд▓рд┐рдЦрд╛ рд╣реИ рдзрдиреНрдпрд╡рд╛рдж рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж рд▓реЙрдЧ рдХрд░реЗрдВред  рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рд▓реЗрдЦ рдХреЗ рдЕрдВрдд рдореЗрдВ рд╣реЛрдЧрд╛ред </p><br><p>  рдЕрдм рдПрдХ рдЖрдЗрдЯрдо рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдб рджреЗрдЦрддреЗ рд╣реИрдВред </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doPut</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(T row, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">boolean</span></span></span></span><span class="hljs-function"><span class="hljs-params"> needOld)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IgniteCheckedException </span></span>{ checkDestroyed(); Put p = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Put(row, needOld); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (;;) { <span class="hljs-comment"><span class="hljs-comment">// Go down with retries. p.init(); Result res = putDown(p, p.rootId, 0L, p.rootLvl); switch (res) { case RETRY: case RETRY_ROOT: checkInterrupted(); continue; case FOUND: // We may need to insert split key into upper level here. if (!p.isFinished()) { // It must be impossible to have an insert higher than the current root, // because we are making decision about creating new root while keeping // write lock on current root, so it can't concurrently change. assert p.btmLvl &lt;= getRootLevel(); checkInterrupted(); continue; } return p.oldRow; default: throw new IllegalStateException("Result: " + res); } } } catch (IgniteCheckedException e) { throw new IgniteCheckedException("Runtime failure on row: " + row, e); } catch (RuntimeException e) { throw new IgniteException("Runtime failure on row: " + row, e); } catch (AssertionError e) { throw new AssertionError("Assertion error on row: " + row, e); } finally { checkDestroyed(); } } /** * @param p Put. * @param pageId Page ID. * @param fwdId Expected forward page ID. * @param lvl Level. * @return Result code. * @throws IgniteCheckedException If failed. */ private Result putDown(final Put p, final long pageId, final long fwdId, final int lvl) throws IgniteCheckedException { assert lvl &gt;= 0 : lvl; final long page = acquirePage(pageId); try { for (;;) { // Init args. p.pageId = pageId; p.fwdId = fwdId; Result res = read(pageId, page, search, p, lvl, RETRY); switch (res) { case GO_DOWN: case GO_DOWN_X: assert lvl &gt; 0 : lvl; assert p.pageId != pageId; assert p.fwdId != fwdId || fwdId == 0; res = p.tryReplaceInner(pageId, page, fwdId, lvl); if (res != RETRY) // Go down recursively. res = putDown(p, p.pageId, p.fwdId, lvl - 1); if (res == RETRY_ROOT || p.isFinished()) return res; if (res == RETRY) checkInterrupted(); continue; // We have to insert split row to this level or it is a retry. case FOUND: // Do replace. assert lvl == 0 : "This replace can happen only at the bottom level."; return p.tryReplace(pageId, page, fwdId, lvl); case NOT_FOUND: // Do insert. assert lvl == p.btmLvl : "must insert at the bottom level"; assert p.needReplaceInner == FALSE : p.needReplaceInner + " " + lvl; return p.tryInsert(pageId, page, fwdId, lvl); default: return res; } } } finally { if (p.canRelease(pageId, lvl)) releasePage(pageId, page); } }</span></span></code> </pre> <br><p>  рдЕрдВрддрд░ рдХреЗрд╡рд▓ рдЗрддрдирд╛ рд╣реИ рдХрд┐ рд╕реНрдерд┐рддрд┐ рдХрд╛ рдкрддрд╛ рд▓рдЧрдиреЗ рдХреЗ рдмрд╛рдж, рдХреЛрдб <code>replace</code> рдФрд░ <code>insert</code> ред  <code>remove</code> рдХреЛрдб рдХреЛ рдЕрдм рдирд╣реАрдВ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдмреБрдирд┐рдпрд╛рджреА рддрдВрддреНрд░ рдпрд╣ рд╣реИ рдХрд┐ рдСрдкрд░реЗрд╢рди рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдПрдХ рд╡рд┐рд╢реЗрд╖ рд╡рд╕реНрддреБ рдХреЗ рд╕рд╛рде рдкреЗрдбрд╝ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкреБрдирд░рд╛рд╡реГрддреНрддрд┐ рд╕реЗ рдЪрд▓рдиреЗ рдХрд╛ рдмрд╛рд░-рдмрд╛рд░ рдкреНрд░рдпрд╛рд╕: <code>Get</code> , <code>Put</code> рдпрд╛ <code>Remove</code> ред </p><br><p>  рдЙрд╕реА рддрд░рд╣ рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рдХреЗрд╡рд▓ рдСрдкрд░реЗрд╢рди рд░рд┐рдХреЙрд░реНрдб рдХреА рдПрдХ рдкреНрд░рддрд┐ рдХреЗ рд╕рд╛рде рд╣реЛрддрд╛ рд╣реИ, рдлрд┐рд░ рдЗрд╕рдХрд╛ рдкреНрд░рдХрд╛рд░ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: рдкрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП <code>NOOP</code> , <code>REMOVE</code> рд▓рд┐рдП REMOVE рдФрд░ рдЕрджреНрдпрддрди рдХрд░рдиреЗ рдпрд╛ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП <code>PUT</code> , рдФрд░ рдлрд┐рд░ рд╕рдВрдмрдВрдзрд┐рдд <code>Put</code> рдпрд╛ <code>Remove</code> рдСрдмреНрдЬреЗрдХреНрдЯ рдЙрддреНрдкрдиреНрди рд╣реЛрддрд╛ рд╣реИ, рдЬреЛ рдкреЗрдбрд╝ рдореЗрдВ рд░рд┐рдХреЙрд░реНрдб рдкрд░ рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИред </p><br><h1 id="ispolzovanie">  рдХреЗ рдЙрдкрдпреЛрдЧ </h1><br><p>  рдиреАрдЪреЗ рдореИрдВ рджреЛ <code>BPlusTree</code> рдкрд░ рдХрд░реАрдм рд╕реЗ рдирдЬрд╝рд░ <code>BPlusTree</code> : <code>CacheDataTree</code> рдФрд░ <code>PendingEntriesTree</code> ред  рдУрд╡рд░рдмреЛрд░реНрдб рдЗрдВрдбреЗрдХреНрд╕ рдХрд╛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рд╣реИ - рдпрд╣ рдПрдХ рдЕрд▓рдЧ рдЪрд░реНрдЪрд╛ рдХрд╛ рд╡рд┐рд╖рдп рд╣реИ, рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП рдореИрдВ рдЕрднреА рддреИрдпрд╛рд░ рдирд╣реАрдВ рд╣реВрдВред </p><br><p>  рдЖрдЧреЗ рдмрдврд╝рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдореИрдВ рд╕реНрдкрд╖реНрдЯ рдХрд░ рджреВрдВрдЧрд╛ рдХрд┐ рд╕реНрдерд╛рдиреАрдп рд╡рд┐рддрд░рд┐рдд рдирдХреНрд╢реЗ рдореЗрдВ <code>IgniteCache</code> рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ <code>IgniteCache</code> рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ - рдЗрд╕рдХреЗ рдмрд╛рдж рдХреЗрд╡рд▓ рдПрдХ рдХреИрд╢ред </p><br><h2 id="cachedatatree"> <code>CacheDataTree</code> </h2> <br><p>  <code>CacheDataTree</code> рдбрд┐рд╕реНрдХ рдХреЗ рд▓рд┐рдП рдХрдИ <code>IgniteCache</code> рдХреА рдореИрдкрд┐рдВрдЧ рд╣реИред  рд╕реЙрд░реНрдЯрд┐рдВрдЧ рдмрд╣реБ-рд╕реНрддрд░реАрдп рд╣реИ: рдкрд╣рд▓реЗ рдХреИрд╢ рдореЗрдВ рд╕рдореВрд╣ рдХреБрдВрдЬреА рдореЗрдВ рдХреИрд╢ рдЖрдИрдбреА рдФрд░ рдлрд┐рд░ рд╣реИрд╢ рджреНрд╡рд╛рд░рд╛ рд╕реЙрд░реНрдЯ рдХрд░реЗрдВред </p><br><p>  <code>CacheDataTree</code> рд╕реАрдорд╛ рд╕реЗ рдЕрдзрд┐рдХ рдкреБрдирд░рд╛рд╡реГрддреНрдд рдирд╣реАрдВ рд╣реЛрддреА рд╣реИ, рдЪреВрдВрдХрд┐ <code>H2Tree extends BPlusTree</code> рдХреЗ рд╡рд╛рд░рд┐рд╕ рдореЗрдВ рдЕрдиреБрдХреНрд░рдордгрд┐рдХрд╛ рдХреЛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рд┐рдд рдХрд┐рдпрд╛ <code>H2Tree extends BPlusTree</code> , рдЗрд╕рд▓рд┐рдП <code>H2Tree extends BPlusTree</code> , рдЗрд╕рд▓рд┐рдП рд╡рд┐рд╢рд┐рд╖реНрдЯ рдкреНрд░рдХрд╛рд░ рдХреА рдЫрдВрдЯрд╛рдИ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдирд╣реАрдВ рд╣реИ: рдХреЛрдИ рднреА <code>put</code> рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реИ рдФрд░ рд╕рдВрдЪрд╛рд▓рди <code>get</code> рдХрд░рддрд╛ рд╣реИред  рдмрд░рд╛рдмрд░реА рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рд╣реИрд╢ рдХреА рддреБрд▓рдирд╛ рдЕрдзрд┐рдХ рддреЗрдЬ рд╣реИред  рд▓реЗрдХрд┐рди рдЗрд╕рд╕реЗ рднреА рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд╛рдд, рдПрдХ рд╕рдорд╛рди рд╣реИрд╢ рдкреЗрдбрд╝ рдХреЛ рдЕрдзрд┐рдХ рдШрдиреА рд░реВрдк рд╕реЗ рднрд░ рджреЗрдЧрд╛ред </p><br><p>  рдкреЗрдбрд╝ рд╕рдВрддреБрд▓рди рдмрдирд╛рддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рд╡реЗ рдПрдХ рд╕реВрдЪреА рдореЗрдВ рди рдШрдЯреЗрдВред  рд▓реЗрдХрд┐рди рдпрджрд┐ рдЖрдк рдЦреЛрдЬ рдЯреНрд░реА рдореЗрдВ рд╕рдорд╛рди рд░реВрдк рд╕реЗ рд╡рд┐рддрд░рд┐рдд рдХреБрдВрдЬрд┐рдпрд╛рдБ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд╕рдВрддреБрд▓рд┐рдд рд╣реЛ рдЬрд╛рдПрдЧрд╛ред  рдЪреВрдВрдХрд┐ рдмреА-рдкреЗрдбрд╝ рд╕рдорд╕реНрдпрд╛рдПрдБ рдкреИрджрд╛ рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░ рджреЗрддреЗ рд╣реИрдВ, рдФрд░ рд╣реИрд╢ рдорд┐рдХреНрд╕ рдХреАрдЬрд╝ рднреА рд╕рдорд╛рди рд░реВрдк рд╕реЗ рд╣реЛрддреА рд╣реИрдВ, рд╣реИрд╢ рджреНрд╡рд╛рд░рд╛ рдЫрд╛рдБрдЯрдиреЗ рд╕реЗ рд╕рдВрддреБрд▓рди рдХреА рдЖрд╡реГрддреНрддрд┐ рдХрдо рд╣реЛ рдЬрд╛рддреА рд╣реИред </p><br><p>  рдЦреЛрдЬ рдХреЗ рдкреЗрдбрд╝ рдореЗрдВ рд╣реИрд╢ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЗрддрдирд╛ рдЕрдЬреАрдм рд╡рд┐рдЪрд╛рд░ рдирд╣реАрдВ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ, рдЗрд╕рдХреЗ рддрд╛рд░реНрдХрд┐рдХ рд╡рд┐рдХрд╛рд╕ рд╕реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реИрд╢ рдПрд░реЗ рдореИрдкреНрдб рдЯреНрд░рд╛рдИ рд╣реЛрдЧрд╛</a> ред </p><br><h2 id="pendingentriestree"> <code>PendingEntriesTree</code> </h2> <br><p>  <code>PendingEntriesTree</code> рд╕рдордп рдХреЗ рд╕рд╛рде рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдХреБрдВрдЬреА рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИ рдФрд░ рд╕реЗрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рд╕реЙрд░реНрдЯрд┐рдВрдЧ рдмрд╣реБ-рд╕реНрддрд░реАрдп рд╣реИ: рдкрд╣рд▓реЗ рдХреИрд╢ рдЖрдИрдбреА рджреНрд╡рд╛рд░рд╛ рд╕рдореВрд╣ рдХреБрдВрдЬреА рдореЗрдВ рдПрдХ рдХреИрд╢ рдореЗрдВ рд╕реЙрд░реНрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдлрд┐рд░ рдЬреАрд╡рдирдХрд╛рд▓ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ред  рдЕрдЧрд▓рд╛ рддреБрд▓рдирд╛ рдХрд╛ рдПрдХ рдФрд░ рджреМрд░ рд╣реИ - рдЬрд╛рд╣рд┐рд░ рд╣реИ, рд╡рд┐рд╢реБрджреНрдз рд░реВрдк рд╕реЗ рддрдХрдиреАрдХреА, рддрддреНрд╡реЛрдВ рдХреЗ рдмреАрдЪ рдЕрдВрддрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред  рдЫрдВрдЯрд╛рдИ рд╕реЗ рдпрд╣ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛рдирд╛ рдЖрд╕рд╛рди рд╣реИ рдХрд┐ рдЗрд╕ рд╡рд░реНрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рд╢реНрд░реЗрдгрд┐рдпреЛрдВ рдХреА рдЦреЛрдЬ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╣ рдкреЗрдбрд╝ рдкреНрд░реАрдореЗрд╢рди рдХреЗ рд▓рд┐рдП рдХреИрд╢ рдПрдВрдЯреНрд░реА рдХреАрдЬ рдХреЛ рдбреБрдкреНрд▓рд┐рдХреЗрдЯ рдХрд░рддрд╛ рд╣реИред </p><br><p>  рд╕рдордЭреЗрдВ рдХрд┐ рдпрд╣ рдЕрд▓рдЧ рд╕рд╛рд╣рд╕рд┐рдХ рдХрд╛рдо рдХреИрд╕реЗ рдХрд░рддрд╛ рд╣реИред </p><br><div class="spoiler">  <b class="spoiler_title">рд╕рд╛рд╣рд╕рд┐рдХ рдХрд╛рд░реНрдп</b> <div class="spoiler_text"><p>  <code>IgniteCacheOffheapManagerImpl.expire()</code> рдХрд░реНрд╕рд░ рд▓реЗ рдЬрд╛рдПрдВ рдФрд░ <code>PendingEntriesTree</code> рд╕реЗ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐рдпрд╛рдВ <code>PendingEntriesTree</code> ред  <code>CacheDataTree</code> рдореЗрдВ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐рдпрд╛рдВ рдХреНрд▓реЛрдЬрд░ <code>c</code> рдореЗрдВ рд╣рдЯрд╛ рджреА <code>CacheDataTree</code> рд╣реИрдВ, рдЬреЛ рдорд╛рдкрджрдВрдбреЛрдВ рдореЗрдВ рдкрд╛рд░рд┐рдд рд╣реЛ рдЬрд╛рддреА рд╣реИред </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">expire</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( GridCacheContext cctx, IgniteInClosure2X&lt;GridCacheEntryEx, GridCacheVersion&gt; c, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> amount )</span></span></span></span></code> </pre> <br><p>  Apache Ignite рдиреЗ рд╣рд╛рд▓ рд╣реА рдореЗрдВ Java 7 рдХреЛ рд╕рдкреЛрд░реНрдЯ рдХрд░рдирд╛ рдмрдВрдж рдХрд░ рджрд┐рдпрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдХреНрд▓реЛрдЬрд░ рдПрдХ рдЕрдирд╛рдо рд╡рд░реНрдЧ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> IgniteInClosure2X&lt;GridCacheEntryEx, GridCacheVersion&gt; expireC = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> IgniteInClosure2X&lt;GridCacheEntryEx, GridCacheVersion&gt;() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">applyx</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(GridCacheEntryEx entry, GridCacheVersion obsoleteVer)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> touch = !entry.isNear(); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (log.isTraceEnabled()) log.trace(<span class="hljs-string"><span class="hljs-string">"Trying to remove expired entry from cache: "</span></span> + entry); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (entry.onTtlExpired(obsoleteVer)) touch = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (GridCacheEntryRemovedException ignore) { entry = entry.context().cache().entryEx(entry.key()); touch = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (touch) entry.context().evicts().touch(entry, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); } };</code> </pre><br><p>  рд╣рдо рдЬреЛ рдЦреЛрдЬ рд░рд╣реЗ рд╣реИрдВ рд╡рд╣ <code>GridCacheMapEntry.onTtlExpired()</code> рд╡рд┐рдзрд┐ рдореЗрдВ рд╣реИ, рдЬрд╣рд╛рдВ рдХрд╝реАрдорддреА рд░реЗрдЦрд╛ <code>finally</code> рдмреНрд▓реЙрдХ рдореЗрдВ рд╣реИред </p><br><pre> <code class="java hljs">cctx.cache().removeEntry(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>);</code> </pre> </div></div><br><h1 id="detali-realizacii">  рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХрд╛ рд╡рд┐рд╡рд░рдг </h1><br><h2 id="rabota-so-stranicami-v-offheap">  Offheap рдореЗрдВ рдкреГрд╖реНрдареЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░реЗрдВ </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдСрдлрд╢реЗрдпрд░</a> рдПрдХ рдХрдЪрд░рд╛ рдХрд▓реЗрдХреНрдЯрд░ рдХреЗ рд╕рд╛рде рднрд╛рд╖рд╛ рдореЗрдВ рдореИрдиреБрдЕрд▓ рдореЗрдореЛрд░реА рдкреНрд░рдмрдВрдзрди рдХреЗ рдЕрдиреБрдХреВрд▓рди рдХреЗ рд▓рд┐рдП рдПрдХ рддрдХрдиреАрдХ рд╣реИред </p><br><p>  рдпрд╣ рдПрдХ рдорд┐рдердХ рд╣реИ рдХрд┐ рдХрдЪрд░рд╛ рдЗрдХрдЯреНрдард╛ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдХреЗ рдХрд╛рд░рдг рд╕рдм рдХреБрдЫ рдзреАрдорд╛ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рдЖрдорддреМрд░ рдкрд░ рдХрд▓реЗрдХреНрдЯрд░реЛрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдХрд╛ рджрдпрдиреАрдп рдкреНрд░рддрд┐рд╢рдд рд╣реЛрддрд╛ рд╣реИ</a> ред  рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЕрдкрдиреЗ рдЖрдк рдореЗрдВ рдмрдбрд╝реЗ рдвреЗрд░ рднреА рдПрдХ рд╕рдорд╕реНрдпрд╛ рдирд╣реАрдВ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐  рдХрд▓реЗрдХреНрдЯрд░ рдкреНрд░рддрд┐рд╕реНрдкрд░реНрдзреА рд░реВрдк рд╕реЗ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЬрд╛рд╡рд╛ рдореЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реАрдПрдордПрд╕ рдФрд░ рдЬреА</a> 1), рдФрд░ рд╕рд░реНрд╡рд░реЛрдВ рдореЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рджрд░реНрдЬрдиреЛрдВ рдХреЛрд░ рд╣реИрдВ</a> ред  рдмреЗрд╢рдХ, рдХрд▓реЗрдХреНрдЯрд░ рдЖрд╡реЗрджрди рдореЗрдВ рдЕрдкреНрд░рддреНрдпрд╛рд╢рд┐рдд рдард╣рд░рд╛рд╡ рдЬреЛрдбрд╝рддрд╛ рд╣реИ, рдЬреЛ рдЦреЗрд▓ рдХреЗ рд▓рд┐рдП рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ, рд▓реЗрдХрд┐рди рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд▓рд┐рдП рд╕рд╣рдиреАрдп рд╣реИред </p><br><p>  рд▓реЗрдХрд┐рди рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╕рдорд╕реНрдпрд╛ рдХреНрдпрд╛ рд╣реЛрдЧреА рдпрд╣ рдПрдХ рдмрдбрд╝реЗ рдвреЗрд░ рдкрд░ рдЙрддреНрдкрддреНрддрд┐ рд╕рдВрдмрдВрдзреА рдкрд░рд┐рдХрд▓реНрдкрдирд╛ рдХрд╛ рдЙрд▓реНрд▓рдВрдШрди рд╣реИред </p><br><div class="spoiler">  <b class="spoiler_title">рдкреАрдврд╝реА рдХреА рдкрд░рд┐рдХрд▓реНрдкрдирд╛</b> <div class="spoiler_text"><p>  рдЬреАрд╕реА рдЕрдиреБрдХреВрд▓рди рдЬреЗрдиреЗрд░рд┐рдХ рдкрд░рд┐рдХрд▓реНрдкрдирд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред  рдпрд╣ рдкрд░рд┐рдХрд▓реНрдкрдирд╛ рджреЛ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдореЗрдВ рдореМрдЬреВрдж рд╣реИ: рдордЬрдмреВрдд рдФрд░ рдХрдордЬреЛрд░ред </p><br><p>  <strong>рдХрдордЬреЛрд░ рдкреАрдврд╝реА рдХреА рдкрд░рд┐рдХрд▓реНрдкрдирд╛:</strong> рдЕрдзрд┐рдХрд╛рдВрд╢ рд╡рд╕реНрддреБрдПрдВ рдпреБрд╡рд╛ рдорд░ рдЬрд╛рддреА рд╣реИрдВред </p><br><p>  <strong>рдкреАрдврд╝рд┐рдпреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдПрдХ рдордЬрдмреВрдд рдкрд░рд┐рдХрд▓реНрдкрдирд╛:</strong> рдкреБрд░рд╛рдиреА рд╡рд╕реНрддреБ рдЬрд┐рддрдиреА рдкреБрд░рд╛рдиреА рд╣реЛрдЧреА, рдЙрддрдиреА рд╣реА рдЕрдзрд┐рдХ рд╕рдордп рддрдХ рдЬреАрд╡рд┐рдд рд░рд╣реЗрдЧреАред </p><br><p>  рдПрдХ рдордЬрдмреВрдд рдкрд░рд┐рдХрд▓реНрдкрдирд╛ рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрдордЬреЛрд░ рд╡реНрдпрдХреНрддрд┐, рд▓реЗрдХрд┐рди рдЗрд╕рдХреЗ рд╡рд┐рдкрд░реАрдд рдирд╣реАрдВред  рдЖрджрд░реНрд╢ рд░реВрдк рд╕реЗ, рдЬреАрд╕реА рдХреЛ рдХрдордЬреЛрд░ рдкрд░рд┐рдХрд▓реНрдкрдирд╛ рдХреЛ рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреЗ рд╕рд╛рде рд╕рдВрддреБрд╖реНрдЯ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП, рд▓реЗрдХрд┐рди рд╡реНрдпрд╡рд╣рд╛рд░ рдореЗрдВ рдРрд╕рд╛ рдирд╣реАрдВ рд╣реИред </p><br><p>  рдпрджрд┐ рдЖрдк рдЗрд╕ рд╡рд┐рд╖рдп рдХреЛ рдмреЗрд╣рддрд░ рдврдВрдЧ рд╕реЗ рд╕рдордЭрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рддреЛ рдПрд▓реЗрдХреНрд╕реА рд╢рд┐рдкрд┐рд▓реЗрд╡ рдХреА рдЬрд╛рд╡рд╛ рдореЗрдВ рдирдИ рдЬреАрд╕реА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░реЗрдВ: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдПрдХ</a> рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рджреЛ</a> ред </p></div></div><br><p>  рдФрд░ рдпрд╣рд╛рдВ рдпрд╣ рдРрд╕реА рдмрд╛рдд рд╣реИ рдХрд┐ рдкреАрдбреАрдПрд╕ рдХреЗ рдЖрдЧрдорди рд╕реЗ рдкрд╣рд▓реЗ, рдЕрдкрд╛рдЪреЗ рдЗрдЧреНрдирд╛рдЗрдЯ рдХреЛ рдореБрдЦреНрдп рд░реВрдк рд╕реЗ рд╕реЗрд╡рд╛рдУрдВ рдФрд░ рдПрдХ рдбрд┐рд╕реНрдХ рдбреЗрдЯрд╛рдмреЗрд╕ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣рдбреЛрдк</a> ) рдХреЗ рдмреАрдЪ рдХреИрд╢ рдХреЗ рд░реВрдк рдореЗрдВ рддреИрдирд╛рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред  рдЗрд╕рд▓рд┐рдП, <code>IgniteCache</code> рдореЗрдВ рдореИрдкреНрд╕ рдХреЛ рдЗрдЧреНрдирд╛рдЗрдЯреЗрдЪреЗ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдЗрд╕рдореЗрдВ рдПрдХреНрд╕рдЯреНрд░реВрдЬрд╝рди рдХреА рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рд╣реЛрддреА рд╣реИред  рдФрд░ рдХреИрд╢ рд╕рд┐рд░реНрдл рдкреАрдврд╝реАрдЧрдд рдкрд░рд┐рдХрд▓реНрдкрдирд╛ рдХрд╛ рдЙрд▓реНрд▓рдВрдШрди рдХрд░рддреЗ рд╣реИрдВ - рдЙрдирдореЗрдВ, рд╕рдордп рдХреЗ рд╕рд╛рде рдХрд┐рд╕реА рд╡рд╕реНрддреБ рдХреЗ рдирд╖реНрдЯ рд╣реЛрдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдмрдврд╝ рдЬрд╛рддреА рд╣реИред  рдЗрд╕рд▓рд┐рдП, рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдбреЗрдЯрд╛ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдСрдлрд╢ рдкреНрд░рджрд░реНрд╢рди рдореЗрдВ рд╕реБрдзрд╛рд░ рдХрд░рддрд╛ рд╣реИред </p><br><p>  рдЕрдзрд┐рдХ рдмреЛрдирд╕: </p><br><ul><li>  Offheap, <code>Integer.MAX_VALUE</code> рддрддреНрд╡реЛрдВ рд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрд░рдЪрдирд╛рдУрдВ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдирд╛ рдЖрд╕рд╛рди рдмрдирд╛рддрд╛ рд╣реИред </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрджрд┐ рдЖрдк 32 рдЬреАрдмреА рд╕реЗ рдХрдо рдХрд╛ рдПрдХ рдЧреБрдЪреНрдЫрд╛ рд░рдЦрддреЗ рд╣реИрдВ, рддреЛ рд▓рд┐рдВрдХ 4 рдмрд╛рдЗрдЯреНрд╕ рдХрд╛ рд╡рдЬрди рдХрд░реЗрдВрдЧреЗ</a> , рдЬреЛ рдХреБрдЫ рдЧреАрдЧрд╛рдмрд╛рдЗрдЯ рдмрдЪрд╛рддрд╛ рд╣реИред </li><li>  рдЪреВрдВрдХрд┐ рдХрд▓реЗрдХреНрдЯрд░ рд╡рд╕реНрддреБрдУрдВ рдХрд╛ рдПрдХ рдЧреНрд░рд╛рдл рдмрдирд╛рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдпрд╣ рдЙрдирдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЗ рдЕрдиреБрдкрд╛рдд рдореЗрдВ рдореЗрдореЛрд░реА рдХрд╛ рдЙрдкрднреЛрдЧ рдХрд░рддрд╛ рд╣реИред  рдФрд░ рд╡рд╕реНрддреБрдУрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдвреЗрд░ рдХреЗ рд╕рдорд╛рдиреБрдкрд╛рддреА рд╣реЛрддреА рд╣реИред  рдХрд▓реЗрдХреНрдЯрд░ рдПрдХ рд╕реАрдкреАрдпреВ рднреА рдЦрд╛рддреЗ рд╣реИрдВ, рдЬреЛ рдбреЗрдЯрд╛ рд╕рдВрдкреАрдбрд╝рди рдХреЗ рд▓рд┐рдП рдмреЗрд╣рддрд░ рдЦрд░реНрдЪ рд╣реЛрддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдПред </li><li>  рдмрд╣реБрдд рдмрдбрд╝реЗ рдвреЗрд░ рдкрд░, рднрд▓реЗ рд╣реА рдкреАрдврд╝реАрдЧрдд рдкрд░рд┐рдХрд▓реНрдкрдирд╛ рдХрд╛ рд╕рдордЧреНрд░ рд░реВрдк рд╕реЗ рдЙрд▓реНрд▓рдВрдШрди рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдлрд┐рд░ рднреА рдкреВрд░реНрдг рдореВрд▓реНрдп рдореЗрдВ рдмрд╣реБрдд рд╕рд╛рд░реА рдкреБрд░рд╛рдиреА рд╡рд╕реНрддреБрдПрдВ рд╣реЛрдВрдЧреА рдЬреЛ рдЗрд╕рдХрд╛ рдЙрд▓реНрд▓рдВрдШрди рдХрд░реЗрдЧреАред </li></ul><br><p>  рдЪреВрдВрдХрд┐ рдбреЗрдЯрд╛ рдХреЛ рдбрд┐рд╕реНрдХ рдореЗрдВ рднреЗрдЬрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╡рд╕реНрддреБрдУрдВ рдХреЛ рд╕реАрдзреЗ <code>unsafe</code> рдорд╛рдзреНрдпрдо рд╕реЗ рдореЗрдореЛрд░реА рдореЗрдВ рдХреНрд░рдордмрджреНрдз рдХрд┐рдпрд╛ <code>unsafe</code> , рдФрд░ рдлрд┐рд░ рдЗрд╕ рдореЗрдореЛрд░реА рдХреНрд╖реЗрддреНрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ I / O рдмрдлрд░ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><h2 id="write-ahead-log">  рдЖрдЧреЗ рд▓реЙрдЧ рд▓реЙрдЧ рдХрд░реЗрдВ </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓рд┐рдЦреЗрдВ рдЖрдЧреЗ рд▓реЙрдЧ</a> рдПрдХ рд░реИрдЦрд┐рдХ рд╕рдВрд░рдЪрдирд╛ рдХреЗ рд╕рд╛рде рд╕рдВрдЪрд╛рд▓рди рдХрд╛ рдПрдХ рд▓реЙрдЧ рд╣реИ, рдЗрд╕реЗ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдкреЗрдбрд╝ рдХреЗ рд╡рд┐рдкрд░реАрдд рдПрдХ рд╕реНрдерд┐рд░ рд▓рд╛рдЧрдд рд╣реЛрддреА рд╣реИред  рдкреЗрдбрд╝ рдХреЛ рдХрдо рдмрд╛рд░ рдЕрджреНрдпрддрди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдпрджрд┐ рдбреЗрдЯрд╛ рдЧрд┐рд░рдиреЗ рдХреЗ рдХрд╛рд░рдг рдЦреЛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЙрдиреНрд╣реЗрдВ рдЕрдВрддрд┐рдо рд╕рд╣реЗрдЬреЗ рдЧрдП рд░рд╛рдЬреНрдп рд╕реЗ рд╢реБрд░реВ рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ рд╕рдВрдЪрд╛рд▓рди рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдХреЗ рд▓реЙрдЧ рд╕реЗ рдкреБрдирд░реНрд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рд╡рд┐рд╢реНрд╡рд╕рдиреАрдпрддрд╛ рдореЗрдВ рд╕реБрдзрд╛рд░ рдХреЗ рдмрд┐рдирд╛ рдкрд░рд┐рдгрд╛рдо рдмреЗрд╣рддрд░ рдкреНрд░рджрд░реНрд╢рди рд╣реЛрддрд╛ рд╣реИред  рдореИрдВ рдЖрдкрдХреЛ <code>IgniteWriteAheadLogManager</code> рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдкрд░ рдПрдХ рдирдЬрд╝рд░ рдбрд╛рд▓рдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреЗрддрд╛ рд╣реВрдВ - рд╡рд┐рд╕реНрддреГрдд рдкреНрд░рд▓реЗрдЦрди рд╣реИред </p><br><h2 id="obhod-uzla">  рдиреЛрдб рдмрд╛рдИрдкрд╛рд╕ </h2><br><p>  рдЪреВрдВрдХрд┐ рдмреА-рдкреЗрдбрд╝реЛрдВ рдореЗрдВ рдиреЛрдбреНрд╕ рдЫреЛрдЯреЗ рдирд╣реАрдВ рд╣реИрдВ, рд╡реЗ рдмрд╛рдЗрдирд░реА рдЦреЛрдЬ рджреНрд╡рд╛рд░рд╛ рдмрд╛рдИрдкрд╛рд╕ рдХрд┐рдП рдЧрдП рд╣реИрдВред  рдЗрд╕рдХреЗ рд▓рд┐рдП, <code>BPlusTree.GetPageHandler</code> рд╡рд░реНрдЧ рдХреЗ рд╡рдВрд╢рдЬ рдХрд╛ <code>BPlusTree.GetPageHandler</code> , рдФрд░ рд╡рд┐рднрд┐рдиреНрди рдСрдкрд░реЗрд╢рдиреЛрдВ рдХреЗ рд▓рд┐рдП рд╡реЗ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╣реЛрддреЗ рд╣реИрдВред </p><br><div class="spoiler">  <b class="spoiler_title">рдмрд╛рдЗрдирд░реА рдЦреЛрдЬ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findInsertionPoint</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> lvl, BPlusIO&lt;L&gt; io, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> buf, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> low, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> cnt, L row, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> shift)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IgniteCheckedException </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> row != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> high = cnt - <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (low &lt;= high) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> mid = (low + high) &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> cmp = compare(lvl, io, buf, mid, row); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (cmp == <span class="hljs-number"><span class="hljs-number">0</span></span>) cmp = -shift; <span class="hljs-comment"><span class="hljs-comment">// We need to fix the case when search row matches multiple data rows. //noinspection Duplicates if (cmp &lt; 0) low = mid + 1; else if (cmp &gt; 0) high = mid - 1; else return mid; // Found. } return -(low + 1); // Not found. }</span></span></code> </pre> <br><p>  <code>BPlusTree</code> рд╡рд┐рднрд┐рдиреНрди рд╡рдВрд╢рдЬреЛрдВ рдХреЗ рд▓рд┐рдП <code>compare</code> рд╡рд┐рдзрд┐ рднрд┐рдиреНрди рд╣реИред  рдПрдХ рдирдХрд╛рд░рд╛рддреНрдордХ рд╕реВрдЪрдХрд╛рдВрдХ рдПрдХ рддрддреНрд╡ рдХреА рдЕрдиреБрдкрд╕реНрдерд┐рддрд┐ рдХреЛ рдЙрд╕ рд╕реНрдерд┐рддрд┐ рдХреЗ рд╕рд╛рде рд╕рдВрд▓рдЧреНрди рдХрд░рддрд╛ рд╣реИ рдЬрд╣рд╛рдВ рдпрд╣ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  рдорд╛рдирдХ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рд╕реЗ <code>Collections.binarySearch</code> рд╡рд╣реА рдХрд░рддрд╛ рд╣реИред </p><br><p>  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкрдВрдХреНрддрд┐рдпреЛрдВ рдкрд░ рдзреНрдпрд╛рди рджреЗрдВред </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (cmp == <span class="hljs-number"><span class="hljs-number">0</span></span>) cmp = -shift;</code> </pre> <br><p>  <code>findOne</code> рдСрдкрд░реЗрд╢рди рдХреЗ рд▓рд┐рдП, рдпрд╣ рдХреЛрдб рдХреБрдЫ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐  <code>shift</code> рдХреЛ рд╢реВрдиреНрдп рдкрд░ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЕрд░реНрдерд╛рдд  рдпрджрд┐ рд╡рд╣реА рдХреБрдВрдЬрд┐рдпрд╛рдВ рдкреЗрдбрд╝ рдореЗрдВ рд╣реИрдВ, рддреЛ рд╡реЗ рдЙрдирдореЗрдВ рд╕реЗ рдПрдХ рдордирдорд╛рдиреА рдкрд╛рдПрдВрдЧреЗред </p><br><p>  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрджрд┐ рдЖрдк рдЗрд╕ рддрд░рд╣ рд╕реЗ рд╕реАрдорд╛ рдХреА рддрд▓рд╛рд╢ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рддрддреНрд╡ рдЦреЛ рдЬрд╛рдПрдВрдЧреЗ, рдЗрд╕рд▓рд┐рдП рд╡рд╣рд╛рдВ <code>shift</code> <code>1</code> рд╕реЗрдЯ рд╣реИред  рдирддреАрдЬрддрди, рдЦреЛрдЬ <em>рддрддреНрд╡ рдирд╣реАрдВ рд╣реИ рднрд▓реЗ рд╣реА рд╡рд╣ рд╡рд╣рд╛рдВ рд╣реЛ</em> , рд▓реЗрдХрд┐рди рд░реЗрдВрдЬ рдХреА рдЦреЛрдЬ рдХрд░рдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдирд╣реАрдВ рд╣реИред </p></div></div><br><h2 id="spisok-listov">  рдЪрд╛рджрд░реЛрдВ рдХреА рд╕реВрдЪреА </h2><br><p>  рдХреБрд╢рд▓рддрд╛ рд╕реЗ рд╕реАрдорд╛ рдХреЗ рдЖрд╕рдкрд╛рд╕ рдкрд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдЪрд╛рджрд░реЗрдВ рдПрдХ рд╕реВрдЪреА рд╕реЗ рдмрдВрдзреА рд╣реЛрддреА рд╣реИрдВред  <code>BPlusTree.ForwardCursor</code> , рдЬреЛ рд╢реАрдЯ рд╕реЗ рд╢реАрдЯ рдкрд░ рдЬрд╛рддрд╛ рд╣реИ, рдПрдХ рдЦреЛрдЬ рдкрд░рд┐рдгрд╛рдо рдХреЗ рд░реВрдк рдореЗрдВ рд╡рд╛рдкрд╕ рдЖ рдЬрд╛рддрд╛ рд╣реИред  рдЬрд╛рд╣рд┐рд░ рд╣реИ, рдХрд░реНрд╕рд░ рдкрд╛рд╕ рдкреЗрдбрд╝ рдореЗрдВ рдЕрдиреНрдп рд╕рдВрдЪрд╛рд▓рди рд╕реЗ рдЕрд▓рдЧ рдирд╣реАрдВ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐  рдкрд╛рд╕ рдХрд░рддреЗ рд╕рдордп, рд▓реЙрдХ рдХреЗрд╡рд▓ рдПрдХ рдкреГрд╖реНрда рдкрд░ рд▓рд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдореБрдЭреЗ рдПрдХ рддреБрд▓реНрдпрдХрд╛рд▓рди рддрдВрддреНрд░ рдирд╣реАрдВ рдорд┐рд▓рд╛ рдЬреЛ рдХрд░реНрд╕рд░ рд╡рд┐рдзрд┐рдпреЛрдВ рддрдХ рдкрд╣реБрдВрдЪ рдХреА рд░рдХреНрд╖рд╛ рдХрд░рддрд╛ рд╣реИред </p><br><h1 id="zaklyuchenie">  рдирд┐рд╖реНрдХрд░реНрд╖ </h1><br><p>  рдЪреВрдВрдХрд┐ рдЕрдкрд╛рдЪреЗ рдЗрдЧреНрдирд╛рдЗрдЯ рдореЗрдВ B + рдЯреНрд░реА рдЕрдиреНрдп рд░рд┐рд▓реЗрд╢рдирд▓ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдпреБрд╡рд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдореЗрдВ рдкреНрд░реЛрдбрдХреНрд╢рди рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╕реЗрдЯ B + рдЯреНрд░реА рдорд┐рд▓рддрд╛ рд╣реИ: </p><br><ul><li>  <strong>рд╡рд╛рд▓</strong> рд╕рд╕реНрддреА рд╕реБрд░рдХреНрд╖рд╛ рджреЗрддрд╛ рд╣реИ, рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рдбрд┐рд╕реНрдХ рдкрд░ рдкреЗрдбрд╝ рдХреЛ рд╢рд╛рдпрдж рд╣реА рдХрднреА рдЕрдкрдбреЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </li><li>  рдХреНрд░рдордмрджреНрдз рд░реВрдк рдореЗрдВ рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде <strong>рдСрдлрд╢рд┐рдк</strong> ред </li><li>  <strong>рдХрдВрд╕реАрдбрд░</strong> - рд╕реНрдореГрддрд┐ рдореЗрдВ рд▓рджреЗ рдкреЗрдбрд╝ рдХреЗ рд╣рд┐рд╕реНрд╕реЛрдВ рдХреЗ рд▓рд┐рдПред </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi413749/">https://habr.com/ru/post/hi413749/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi413739/index.html">рд╣рдордиреЗ рдкреВрд░реЗ рдЗрдВрдЯрд░рдиреЗрдЯ рдХреЛ рдХреИрд╕реЗ рд╕реНрдХреИрди рдХрд┐рдпрд╛ рдФрд░ рд╣рдордиреЗ рдХреНрдпрд╛ рд╕реАрдЦрд╛</a></li>
<li><a href="../hi413741/index.html">рдпрд╣ рдХреНрдпрд╛ рдерд╛ рдФрд░ рдХреИрд╕реЗ: WWDC Redmadrobot рдЯреАрдо рдЫрд╛рдкреЗрдВ</a></li>
<li><a href="../hi413743/index.html">рдХреБрдЫ рд╣реА рдХреНрд▓рд┐рдХ рдореЗрдВ LAMP рдФрд░ рд╕реИрдХрдбрд╝реЛрдВ рдЕрдиреНрдп рд╡реЗрдм рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд▓реЙрдиреНрдЪ рдХрд░реЗрдВ</a></li>
<li><a href="../hi413745/index.html">рдорд╛рдирд╡ рд╢рд░реАрд░ рдореЗрдВ рд╕рднреА рдЗрд▓реЗрдХреНрдЯреНрд░реЙрдирд┐рдХреНрд╕ рдХреЗ рд▓рд┐рдП рдПрдХ рдмрд╛рд░ рдореЗрдВ рдПрдХ рд╡рд╛рдпрд░рд▓реЗрд╕ рдкрд╛рд╡рд░ рд╕рд┐рд╕реНрдЯрдо рд╡рд┐рдХрд╕рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛</a></li>
<li><a href="../hi413747/index.html">NULL рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЬрд╛ рд░рд╣реЗ рд╣реИрдВ</a></li>
<li><a href="../hi413751/index.html">рд░реБрд╕реНрд▓рд╛рди рдЪреЗрд░реАрдо рдФрд░ рдореИрдХреНрд╕рд┐рдо рдЧреНрд░рд╛рдореАрдг - jug.msk.ru рдкрд░ рдкрд░реНрдпрд╛рд╡рд░рдг рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ</a></li>
<li><a href="../hi413753/index.html">рдЖрдИ рдЗрди рдж рд╕реНрдХрд╛рдИ: рдЧрд╢реНрддреА рднреАрдбрд╝ рдФрд░ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд╕реНрдерд╛рдиреЛрдВ рдкрд░ рд╣рд┐рдВрд╕рд╛ рдХреА рдкрд╣рдЪрд╛рди рдХреЗ рд╕рд╛рде рдбреНрд░реЛрди</a></li>
<li><a href="../hi413757/index.html">рдПрдХ рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рдбреЗрдЯрд╛рдмреЗрд╕: рдХреНрдпрд╛ рдХрд░рдирд╛ рд╣реИ?</a></li>
<li><a href="../hi413759/index.html">рдХреНрдпреВрд░рд┐рдпреЛрд╕рд┐рдЯреА рдиреЗ рдордВрдЧрд▓ рдЧреНрд░рд╣ рдкрд░ рдСрд░реНрдЧреЗрдирд┐рдХреНрд╕ рдХреА рдЦреЛрдЬ рдХреА, рдЬреЛ рдЕрд░рдмреЛрдВ рд╕рд╛рд▓ рдкреБрд░рд╛рдирд╛ рд╣реИ</a></li>
<li><a href="../hi413761/index.html">рдЕрджреНрдпрддрдиреЛрдВ рдХреЗ рдмрд╛рдж рд╡рд┐рдВрдбреЛрдЬ 10 рдХреЛ рдкреБрдирдГ рдЖрд░рдВрдн рдХрд░рдиреЗ рд╕реЗ рдХреИрд╕реЗ рд░реЛрдХреЗрдВ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>