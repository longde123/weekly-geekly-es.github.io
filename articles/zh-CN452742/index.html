<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💸 🤘🏼 💪🏿 设置混合应用程序的自动测试 👎🏿 🌅 💂🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="在本文中，我想分享我的经验，以解决在Android上启动对移动应用程序进行自动化测试的问题。 

 我会说的是： 


- 如何使用Appium运行自动化测试环境 （PC作业系统-Windows 10） 
- 如何避免尝试在混合应用程序中运行测试时发生的一些错误 
- 一些基本命令可以运行最简单的测...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>设置混合应用程序的自动测试</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/452742/"> 在本文中，我想分享我的经验，以解决在Android上启动对移动应用程序进行自动化测试的问题。 <br><br><h2> 我会说的是： </h2><br><ul><li> 如何使用Appium运行自动化测试环境 <br>  （PC作业系统-Windows 10） </li><li> 如何避免尝试在混合应用程序中运行测试时发生的一些错误 </li><li> 一些基本命令可以运行最简单的测试。 我们将使用Java和JavaScript </li></ul><a name="habracut"></a><br><h2> 挑战赛 </h2><br> 自动化混合移动应用程序测试。 <br><br> 关于要测试的应用程序： <br><div class="scrollable-table"><table><tbody><tr><td> 平台平台 </td><td> 安卓系统 </td></tr><tr><td> 构架 </td><td> 角形，科尔多瓦，离子 </td></tr><tr><td> 浏览器 </td><td> 人行横道 </td></tr></tbody></table></div><br> 这些也许是影响PC运行测试的配置的关键点。 <br><br><h2> 测试环境 </h2><br> 我们将使用Appium作为自动测试工具。 <br> 简而言之，这是一个工具，使您可以使用服务器将命令发送给客户端，然后执行操作以及原因。 <br><br> 您可以在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">开发者的</a>网站上获取完整的信息。 <br><br> 让我们开始吧。 <br><br> 在磁盘上方便您放置的位置，创建“ Appium automation”文件夹。 <br><br> 例如： <br><br><pre><code class="plaintext hljs">C:\Appium automation</code> </pre> <br> 进一步在此文件夹（C：\ Appium自动化）中创建更多文件夹： <br><div class="scrollable-table"><table><tbody><tr><td>  Android SDK </td><td>  C：\ Appium自动化\ Android SDK </td></tr><tr><td>  Android Studio </td><td>  C：\ Appium自动化\ Android Studio </td></tr><tr><td>  APK </td><td>  C：\ Appium自动化\ APK </td></tr><tr><td> 阿皮库 </td><td>  C：\ Appium自动化\ Appium Lib </td></tr><tr><td> 硒库 </td><td>  C：\ Appium自动化\ Selenium Lib </td></tr></tbody></table></div><br> 如果您已安装了任何应用程序/组件，则按照说明进行操作即可理解关系的逻辑，即 无需重新安装所有内容。 <br><br><h2> 填充创建的文件夹并加载其他组件 </h2><br><h3>  1. Java SDK </h3><br> 单击链接，然后单击下载： <br><br><img src="https://habrastorage.org/webt/tk/v8/5e/tkv85eeozm-zxppbrbnhfnylnsu.png"><br><br> 接下来，我们转到不同操作系统的下载页面，如下所示 我有Windows 10 x64，请选择： <br><br><img src="https://habrastorage.org/webt/-c/az/xt/-cazxtubqocc54mw-t4mw6unzyc.png"><br><br> 下载文件后，将其打开并解压缩.exe-shnik（在安装过程中选择路径）到该文件夹​​： <br><br><pre> <code class="plaintext hljs">C:\Program Files\Java\jdk-12.0.1</code> </pre> <br>  <i>（下载时的版本号可能会有所不同）</i> <br><br><h3>  2. Android Studio和Android SDK </h3><br> 要下载，请<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">点击链接</a> 。 <br><br> 安装在以下文件夹中： <br><br><pre> <code class="plaintext hljs">C:\Appium automation\Android Studio</code> </pre> <br> 在首次启动Android Studio的过程中，您需要<b>配置程序</b> ： <br><br><ul><li> 安装类型选择“自定义”，然后单击“下一步”。 </li><li> 选择您喜欢的主题，然后单击“下一步”。 </li><li>  Android SDK位置指定C：\ Appium自动化\ Android SDK，单击下一步 </li><li> 仿真器设置可以保留在“推荐”上，单击“下一步”。 </li><li> 单击完成，然后等待安装过程完成。 </li></ul><br>  <b>在Android Studio中创建一个新项目：</b> <br><br><ul><li> 点击开始一个新的Android Studio项目 </li><li> 指明项目的名称，路径，或者您什么也不能更改，并保留建议的名称，请单击“下一步”。 </li><li> 在“手机和平板电脑”下拉列表中，选择“ API 23：Android 6.0（棉花糖）”，然后单击“下一步”。 </li><li> 选择清空活动，单击下一步 </li><li> 点击下一步 </li><li> 点击完成 </li></ul><br>  <b>安装SDK工具</b> <br><br> 在Android Studio中，选择“工具”“ SDK管理器”。 <br><br> 在出现的窗口中，将选择“ Android SDK”部分。 <br><br><img src="https://habrastorage.org/webt/os/_0/_v/os_0_vspi8pv4zxy7nd467jidns.png"><br><br> 在“ SDK平台”选项卡上，选择要在其上进行测试的Android版本。 <br> 并且，在SDK工具上，选择以下项目： <br><br><ul><li>  Android SDK构建工具 </li><li>  Android模拟器 </li><li>  Android SDK平台工具 </li><li>  Android SDK工具 </li><li>  Android SDK文档 </li><li> 支持资料库 </li></ul><br> 单击“应用”或“确定”，然后等待组件的下载和安装完成。 <br><br><img src="https://habrastorage.org/webt/or/yn/3m/oryn3mpv3hztnxhcbyswrii5lwo.png"><br><br><h3>  3.创建PATH变量 </h3><br> 右键单击“我的电脑”-“属性”-“高级系统设置”。 <br> 在打开的窗口的“高级”选项卡上，选择“环境变量...” <br><br> 在“系统变量”块中，创建一个新变量。 <br><br><img src="https://habrastorage.org/webt/w3/6j/qa/w36jqawmywp25jzuakdqjcxm7ew.png"><br><br><img src="https://habrastorage.org/webt/wa/-1/ln/wa-1lnnhoeq31tu9y5yijlaomfu.png"><br><br>  <b>第一个变量</b> <br><br> 变量名-JAVA_HOME <br><br> 变量的值为 <br><br><pre> <code class="plaintext hljs">C:\Program Files\Java\jdk-12.0.1</code> </pre> <br>  （在步骤1中安装jdk的路径，在某些情况下，可能是Program Files文件夹称为Program Files（x86）） <br><br>  <b>第二变数</b> <br><br> 变量名-ANDROID_HOME <br><br> 变量的值为 <br><br><pre> <code class="plaintext hljs">C:\Appium automation\Android SDK</code> </pre> <br>  <b>路径变量加法</b> <br><br> 在系统变量列表中找到Path变量，然后单击“更改...”。 <br><br> 在出现的窗口中单击“创建”，然后添加变量： <br><br><ul><li>  ％ANDROID_HOME％\模拟器 </li><li>  ％ANDROID_HOME％\平台工具 </li><li>  ％ANDROID_HOME％\工具 </li><li>  ％ANDROID_HOME％\工具\ bin </li></ul><br> 因此，您应该获得4个新变量，之后需要单击“确定”。 <br><br><img src="https://habrastorage.org/webt/c6/x6/vi/c6x6viqmdb0fqbhurecbqknjyiy.png"><br><br><h3>  4.鸦片 </h3><br>  <b>下载Appium：</b> <br><br><ul><li> 我们点击链接<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">http://appium.io/</a> </li><li> 点击下载 </li><li> 我们选择Appium-windows-1.13.0.exe（加载时的版本号可能会有所不同） </li></ul><br><img src="https://habrastorage.org/webt/hu/sm/yx/husmyxk1fvejkd7y4y8jaxdbvym.png"><br><br> 运行下载的.exe文件，然后在PC上安装Appium。 在安装过程中，您仅需要选择全局安装或特定用户安装。 我从全球安装 对我来说没关系。 <br><br>  <b>下载Appium库：</b> <br><br><ul><li> 我们点击链接<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">http://appium.io/downloads.html</a> </li><li> 选择一种语言，以我为例 </li><li> 点击下载图标 </li></ul><br><img src="https://habrastorage.org/webt/le/zv/el/lezvel7fmjx-eca19mywvtcxeos.png"><br><br> 将下载的.jar文件移动到文件夹 <br><br><pre> <code class="plaintext hljs">C:\Appium automation\Appium Lib</code> </pre> <br><ul><li> 我们点击链接<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://mvnrepository.com/artifact/junit/junit</a> </li><li> 我们选择最新的稳定版本（我有4.12） </li><li> 单击以加载.jar文件 </li></ul><br><img src="https://habrastorage.org/webt/vt/2w/l3/vt2wl3f8wgkrwqkttolyc_wxad0.png"><br><br> 将下载的.jar文件移动到文件夹： <br><br><pre> <code class="plaintext hljs">C:\Appium automation\Appium Lib</code> </pre> <br><br><ul><li> 我们点击链接<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://mvnrepository.com/artifact/org.hamcrest/hamcrest-core</a> </li><li> 选择最新的稳定版本（我使用1.3） </li><li> 单击以加载.jar文件 </li></ul><br><img src="https://habrastorage.org/webt/pm/rj/yl/pmrjylunp15yv4i9k2dbrt5qlli.png"><br><br> 将下载的.jar文件移动到文件夹： <br><br><pre> <code class="plaintext hljs">C:\Appium automation\Appium Lib</code> </pre> <br>  <b>下载Selenium库：</b> <br><br><ul><li> 我们点击链接<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://www.seleniumhq.org/download</a> </li><li> 选择一种语言，以我为例 </li><li> 点击下载 </li></ul><br><img src="https://habrastorage.org/webt/qe/vh/im/qevhimwudtjl4xuefskik1yffva.png"><br><br> 将下载的档案解压缩到该文件夹​​中： <br><br><pre> <code class="plaintext hljs">C:\Appium automation\Selenium Lib</code> </pre> <br><h2>  5. IntelliJ IDEA社区版 </h2><br> 要下载，请转到链接<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://www.jetbrains.com/idea/download</a> <br> 在社区版本附近，单击下载（这是一个免费版本，但足以进行自动测试）。 <br><br> 下载页面比较了Community和Ultimate版本。 <br><br> 如果您想购买旗舰版，可以放心地购买！ 但是，再一次，社区版本就足够了。 <br><br> 运行下载的.exe文件并安装（只需单击“下一步”，直到程序开始安装） <br><br>  <b>首次推出IntelliJ IDEA</b> <br><br><ul><li> 选择“不导入设置” </li><li> 我们接受许可协议 </li><li> 选择一个话题 </li><li> 点击下一步 </li><li> 单击“开始使用IntelliJ IDEA” </li></ul><br>  <b>在IntelliJ IDEA中创建项目</b> <br><br><ul><li> 选择创建新项目 </li><li> 指定Java SDK的路径 <br><ul><li> 点击新建... </li><li> 指定以前加载的Java SDK C的路径：\ Program Files \ Java \ jdk-12.0.1 </li></ul></li><li> 点击下一步 </li><li> 选中“根据模板创建项目”框 </li><li> 点击下一步 </li><li> 指定要保存的项目名称和位置 </li><li> 点击完成 </li></ul><br>  <b>创建项目的设置</b> <br><br> 选择文件-项目结构... <br><br> 在出现的窗口中，选择模块-依赖关系-“ +”-JAR或目录... <br><br><img src="https://habrastorage.org/webt/9x/j2/om/9xj2om_3_7ffkxapkghxa-nnm_8.png"><br><br> 然后，我们将所有先前加载的库添加到项目中。 <br><br><img src="https://habrastorage.org/webt/w7/ky/1f/w7ky1fqtizkqqxnbkjvc8lqmap8.png"><br><br> 单击确定。 <br><br> 现在，该项目可以运行测试了。 <br><br><h3>  6. Android设备设置 </h3><br>  <b>真实设备</b> <br> 您需要USB电缆将设备连接到计算机和智能手机本身。 <br><br> 要开始使用，请转到智能手机中的“设置”-“关于手机”。 <br><br> 此外，在不同的智能手机上，一切都不同，但最重要的是，您需要找到“序列号”并单击5-7次，直到烤面包机显示“您现在是开发者”（通知文本因型号而异） <br><br> 完成此操作后，“针对开发人员”部分将显示在手机的设置中。 他还可以在不同部分的模型之间进行隐藏，例如，将在“设置”-“对于开发人员”中的某个地方，以及在“设置”-“特殊功能”-“针对开发人员”中的某个地方。 。 <br><br> 您需要转到“面向开发人员”部分并激活“ USB调试”。 <br><br> 通过USB连接智能手机时，您会看到一条有关USB调试权限的消息，您可以选中“信任此设备”并单击“确定”，然后在下次将手机连接到此PC时不再显示此消息。 <br> 您所有的智能手机都可以在自动测试中使用。 <br><br>  <b>虚拟装置</b> <br><br> 您也可以通过Android Studio创建虚拟设备，然后无需将真实设备连接到计算机。 <br><br> 但是在虚拟设备上，测试的速度可能比在真实设备上慢。 <br><br> 为了创建它，请打开Android Studio，然后： <br><br><ul><li>  “工具”-“ AVD管理器”-“ +创建虚拟设备...” </li><li> 选择一个设备，单击下一步 </li><li> 选择所需的Android版本，单击“下一步”。 </li><li> 指定设备名称，单击完成 </li></ul><br> 完成“工具”-“ AVD管理器”部分中的操作后，您将看到创建的设备。 使用绿色的“播放”图标，可以启动设备。 <br><br>  <b>如何检查您的PC是否看到了已连接的设备？</b> <br><br> 运行命令行（“开始”-“实用程序-Windows”-“命令提示符”） <br> 并输入adb devices命令。 <br><br> 因此，如果设备启用了“ USB调试”功能，则您将收到所连接的设备及其UDID（序列号）： <br><br><pre> <code class="plaintext hljs">List of devices attached UDID device</code> </pre><br><h3>  7.我们正在编写一个项目 </h3><br>  <b>添加导入。</b> <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> name; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.*; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io.appium.java_client.android.AndroidDriver; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io.appium.java_client.android.AndroidElement; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io.appium.java_client.remote.MobileCapabilityType; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openqa.selenium.*; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openqa.selenium.remote.DesiredCapabilities; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openqa.selenium.JavascriptExecutor; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.net.MalformedURLException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.net.URL; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.concurrent.TimeUnit;</code> </pre><br>  <b>我们注册服务器以及它将在哪里发送请求</b> <br><br> 安装Android驱动程序： <br><br><pre> <code class="java hljs">AndroidDriver&lt;AndroidElement&gt; driver = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>;</code> </pre> <br> 我们设置参数（属性）： <br><br><pre> <code class="java hljs">DesiredCapabilities capabilities = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DesiredCapabilities();</code> </pre> <br> 设备的名称（您可以在“设置”-“关于电话”中找到真实设备，在虚拟的“工具”-“ AVD管理器”-“名称”字段中找到该设备）： <br><br><pre> <code class="java hljs">capabilities.setCapability(MobileCapabilityType.DEVICE_NAME, <span class="hljs-string"><span class="hljs-string">"MyPhone"</span></span>);</code> </pre> <br> 链接到将需要启动的APK（.apk必须是调试版本，以便您和appium可以检查应用程序）： <br><br><pre> <code class="java hljs">capabilities.setCapability(MobileCapabilityType.APP, <span class="hljs-string"><span class="hljs-string">"C:\\Appium automation\\APK\\My-debug-Apk.apk"</span></span>);</code> </pre> <br> 启动Appium驱动程序： <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { driver = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AndroidDriver&lt;&gt;(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> URL(<span class="hljs-string"><span class="hljs-string">"http://127.0.0.1:4723/wd/hub"</span></span>), capabilities); driver.manage().timeouts().implicitlyWait(<span class="hljs-number"><span class="hljs-number">10</span></span>, TimeUnit.SECONDS); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (MalformedURLException e) { System.out.println(e.getMessage()); }</code> </pre><br> 此代码足以在连接的设备上启动您的应用程序。 <br><br>  <b>其他团队</b> <br><br> 为了将项目挂起一定的时间，例如8秒。  （值以毫秒为单位）。 如果您需要等待页面或应用程序加载，则可能有必要： <br><br><pre> <code class="java hljs">Thread.sleep(<span class="hljs-number"><span class="hljs-number">8000</span></span>);</code> </pre> <br> 我们获得了ContextHandles，可以在其中了解我们正在使用的内容（NATIVE_APP或WEBVIEW）： <br><br><pre> <code class="java hljs">Set&lt;String&gt; contextNames = driver.getContextHandles(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (String contextName : contextNames) { System.out.println(contextName); }</code> </pre> <br> 将上下文分配给数组中接收到的最后一个值。 这将使您能够正确切换到tb的WEBVIEW。 默认上下文= NATIVE_APP： <br><br><pre> <code class="java hljs">driver.context((String) contextNames.toArray()[contextNames.toArray().length - <span class="hljs-number"><span class="hljs-number">1</span></span>]);</code> </pre> <br>  <b>我们控制应用程序界面</b> <br><br> 因为 我们正在使用混合应用程序，即 应用程序元素是在WEBVIEW中呈现的，而不是在NATIVE_APP中呈现的，那么大多数时候我们将不得不对findElementByCssSelector元素使用一种类型的搜索。 <br><br> 单击确定按钮： <br><br><pre> <code class="java hljs">driver.findElementByCssSelector(<span class="hljs-string"><span class="hljs-string">".button-ok"</span></span>).click();</code> </pre> <br>  -其中.button-ok是元素类。 您也可以完全使用元素ID。 <br><br> 我们在字段中发送值，例如，您进行搜索，并且您想要在此处发送值“电影院”。 <br><br><pre> <code class="java hljs">driver.findElementByCssSelector(<span class="hljs-string"><span class="hljs-string">".search-input"</span></span>).sendKeys(<span class="hljs-string"><span class="hljs-string">""</span></span>);</code> </pre> <br><br> 点击查找： <br><br><pre> <code class="java hljs">driver.findElementByCssSelector(<span class="hljs-string"><span class="hljs-string">".search-button"</span></span>).click();</code> </pre> <br> 这样，您就可以控制您的应用程序了。 <br><br> 迟早会遇到这种情况，并非所有内容都放置在智能手机屏幕上，即 您需要滚动。 如果在测试过程中屏幕上看不到某个元素，则Appium将抛出一个错误，即看不到该元素，并且很可能所有其他测试都将被错误覆盖。 <br><br> 为了在屏幕上滚动，您可以在Java中执行JS函数scrollIntoView。 <br><br><pre> <code class="java hljs">((JavascriptExecutor) driver).executeScript(<span class="hljs-string"><span class="hljs-string">"document.querySelector('.button-ok').scrollIntoView({block: \"end\", behavior: \"smooth\"});"</span></span>);</code> </pre> <br> 就我而言，这将允许您转到“确定”按钮。 <br><br> 您可能正确地编写了所有内容，但是没有执行滚动可能是一个事件。 <br><br> 尝试绑定到屏幕上的其他元素，首先最好通过Chrome-Inspect中的控制台执行此操作，因此可以确保您了解，绑定到此元素后，滚动将起作用。 <br><br> 您可以转到步骤8，如果一切都对您有用，那就太好了！ <br> 但是我还有另一个陷阱。 <br> 他的名字叫Crosswalk Browser。 <br><br> 当我开始这个项目时，我经常犯一个错误： <br><br><pre> <code class="plaintext hljs">“Make sure the app has its webview configured for debugging”</code> </pre> <br> 这意味着没有一项测试没有执行。 <br><br> 在这种情况下，您需要检查什么： <br><br><ul><li> 确保您有调试版本 </li><li> 确保调试版本允许Inspect-a应用程序 </li><li> 安装固定的chromedriver <br><ul><li> 按照链接<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://github.com/blutter/appium-crosswalk-fix</a> </li><li> 安装将通过npm进行，因此请提前在您的PC上安装（ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://www.npmjs.com/get-npm</a> ） </li></ul></li></ul><br> 完成这些操作后，向您的项目添加其他功能。 <br><br><pre> <code class="java hljs">capabilities.setCapability(<span class="hljs-string"><span class="hljs-string">"chromedriverExecutable"</span></span>, <span class="hljs-string"><span class="hljs-string">"C:\\node_modules\\appium-with-crosswalk-fix\\chromedriver\\2.28\\chromedriver.exe"</span></span>);</code> </pre> <br>  -其中C：\\ node_modules \\ appium-with-crosswalk-fix \\ chromedriver \\ 2.28 \\ chromedriver.exe <br> 这是固定chromedriver的方法 <br><br>  <b>因此，您的项目将如下所示：</b> <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> name; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.*; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io.appium.java_client.android.AndroidDriver; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io.appium.java_client.android.AndroidElement; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io.appium.java_client.remote.MobileCapabilityType; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openqa.selenium.*; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openqa.selenium.remote.DesiredCapabilities; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.openqa.selenium.JavascriptExecutor; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.net.MalformedURLException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.net.URL; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.concurrent.TimeUnit; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Main</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> InterruptedException </span></span>{ AndroidDriver&lt;AndroidElement&gt; driver = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; DesiredCapabilities capabilities = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DesiredCapabilities(); capabilities.setCapability(MobileCapabilityType.DEVICE_NAME, <span class="hljs-string"><span class="hljs-string">"MyPhone"</span></span>); capabilities.setCapability(MobileCapabilityType.APP, <span class="hljs-string"><span class="hljs-string">"C:\\Appium automation\\APK\\My-debug-apk.apk"</span></span>); capabilities.setCapability(<span class="hljs-string"><span class="hljs-string">"chromedriverExecutable"</span></span>, <span class="hljs-string"><span class="hljs-string">"C:\\node_modules\\appium-with-crosswalk-fix\\chromedriver\\2.28\\chromedriver.exe"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { driver = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AndroidDriver&lt;&gt;(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> URL(<span class="hljs-string"><span class="hljs-string">"http://127.0.0.1:4723/wd/hub"</span></span>), capabilities); driver.manage().timeouts().implicitlyWait(<span class="hljs-number"><span class="hljs-number">10</span></span>, TimeUnit.SECONDS); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (MalformedURLException e) { System.out.println(e.getMessage()); } Set&lt;String&gt; contextNames = driver.getContextHandles(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (String contextName : contextNames) { System.out.println(contextName); } driver.context((String) contextNames.toArray()[contextNames.toArray().length - <span class="hljs-number"><span class="hljs-number">1</span></span>]); Thread.sleep(<span class="hljs-number"><span class="hljs-number">8000</span></span>); driver.findElementByCssSelector(<span class="hljs-string"><span class="hljs-string">".search-input"</span></span>).sendKeys(<span class="hljs-string"><span class="hljs-string">""</span></span>); driver.findElementByCssSelector(<span class="hljs-string"><span class="hljs-string">".search-button"</span></span>).click(); }</code> </pre><br> 这样的项目： <br><br><ul><li> 在设备上安装应用程序。 </li><li> 在应用程序页面上找到搜索字段 </li><li> 将带来“电影院”的含义 </li><li> 点击“搜索”按钮 </li></ul><br><h3>  8.我们开始这个项目 </h3><br> 一个项目的开始有几个要点： <br><br><ul><li> 启动Appium服务器（项目4） <br><ul><li> 使用快捷方式启动Appium </li><li> 点击“启动服务器” </li></ul></li><li> 将设备连接到PC或启动虚拟设备（项目6） </li><li> 设置项目（第5页和第7页） </li><li> 单击运行（或在IntelliJ IDEA工具栏上，或运行-运行“主”） </li><li> 享受结果 </li></ul><br> 好了，您就可以自由测试设置了，必要的信息在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">开发人员</a>的官方网站上。 <br>  Appium也可以用于测试iOS应用程序。 <br><br> 我想简短地写，但结果还是一如既往。 <br><br> 感谢所有读完本书的人，希望它对您有用！ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN452742/">https://habr.com/ru/post/zh-CN452742/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN452730/index.html">信息系统的标准段原则认证。 神话与现实</a></li>
<li><a href="../zh-CN452734/index.html">使用Bitcode自动将iOS（ARM）应用程序迁移到macOS（x86）</a></li>
<li><a href="../zh-CN452736/index.html">SecureDialogues中的邮件加密</a></li>
<li><a href="../zh-CN452738/index.html">Snom D717 IP电话评论</a></li>
<li><a href="../zh-CN452740/index.html">机器学习数据集的选择</a></li>
<li><a href="../zh-CN452744/index.html">没有自由职业者的交流，是否有充裕的生活？</a></li>
<li><a href="../zh-CN452746/index.html">《 R.沉浸在大数据中的编程艺术》一书</a></li>
<li><a href="../zh-CN452748/index.html">NGINX开发现代应用程序的原理。 第一部分</a></li>
<li><a href="../zh-CN452750/index.html">OpenLiteSpeed内部和外部的Nextcloud：配置反向代理</a></li>
<li><a href="../zh-CN452752/index.html">自制BigData。 第1部分。AWS集群上的Spark流实践</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>