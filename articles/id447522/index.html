<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨ğŸ¿â€ğŸŒ¾ â™‰ï¸ ğŸ— Hal-hal berguna apa yang bisa ditarik dari log workstation berbasis Windows ğŸ© ğŸ‘„ ğŸš™</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Workstation pengguna adalah infrastruktur yang paling rentan dalam hal keamanan informasi. Pengguna dapat menerima surat dari surat kerja mereka yang ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Hal-hal berguna apa yang bisa ditarik dari log workstation berbasis Windows</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/galssoftware/blog/447522/"> Workstation pengguna adalah infrastruktur yang paling rentan dalam hal keamanan informasi.  Pengguna dapat menerima surat dari surat kerja mereka yang tampaknya berasal dari sumber yang aman, tetapi dengan tautan ke situs yang terinfeksi.  Mungkin seseorang akan mengunduh utilitas yang berguna untuk bekerja dari lokasi yang tidak dikenal.  Ya, Anda dapat menemukan lebih dari selusin kasus, bagaimana melalui pengguna malware dapat menyusup ke sumber daya internal perusahaan.  Oleh karena itu, workstation membutuhkan perhatian yang meningkat, dan dalam artikel kami akan memberi tahu Anda di mana dan peristiwa apa yang harus diambil untuk melacak serangan. <br><br><img src="https://habrastorage.org/webt/n1/5h/lf/n15hlfq8b3n3ka64c-ahfco6ktm.png"><br><a name="habracut"></a><br>  Ada tiga sumber peristiwa yang berguna untuk mendeteksi serangan pada tahap awal di Windows: log peristiwa keamanan, log pemantauan sistem, dan log Power Shell. <br><br><h2>  Log Keamanan </h2><br>  Ini adalah lokasi penyimpanan utama untuk log keamanan sistem.  Ini termasuk aktivitas masuk / keluar pengguna, akses ke objek, perubahan kebijakan, dan aktivitas terkait keamanan lainnya.  Tentu saja, jika kebijakan yang sesuai dikonfigurasi. <br><br><img src="https://habrastorage.org/webt/_9/eg/ys/_9egysaz3btzcitbobp2gofmcu0.png"><br><br>  <b>Enumerasi pengguna dan grup (peristiwa 4798 dan 4799).</b>  Perangkat lunak berbahaya pada awal serangan sering kali melewati akun pengguna lokal dan grup lokal di workstation untuk menemukan kredensial untuk urusan gelapnya.  Peristiwa ini akan membantu mendeteksi kode berbahaya sebelum bergerak lebih jauh dan, menggunakan data yang dikumpulkan, akan menyebar ke sistem lain. <br><br>  <b>Membuat akun lokal dan mengubah grup lokal (peristiwa 4720, 4722-4726, 4738, 4740, 4767, 4780, 4781, 4794, 5376 dan 5377).</b>  Serangan juga dapat dimulai, misalnya, dengan menambahkan pengguna baru ke grup administrator lokal. <br><br>  <b>Mencoba masuk dengan akun lokal (peristiwa 4624).</b>  Pengguna yang baik masuk dengan akun domain dan mengidentifikasi entri di bawah akun lokal dapat menunjukkan awal serangan.  Peristiwa 4624 juga termasuk login di bawah akun domain, jadi saat memproses acara, Anda perlu memfilter acara di mana domain berbeda dari nama workstation. <br><br>  <b>Upaya login dengan akun yang diberikan (peristiwa 4648).</b>  Ini terjadi ketika proses sedang berjalan dalam mode "Run as".  Dalam operasi normal sistem, ini tidak boleh, karena itu, kejadian seperti itu harus dikendalikan. <br><br>  <b>Kunci / buka kunci workstation (acara 4800-4803).</b>  Peristiwa mencurigakan mencakup tindakan apa pun yang terjadi pada stasiun kerja yang dikunci. <br><br>  <b>Perubahan konfigurasi firewall (peristiwa 4944-4958).</b>  Jelas, ketika menginstal perangkat lunak baru, pengaturan konfigurasi firewall dapat berubah, yang akan menyebabkan kesalahan positif.  Dalam kebanyakan kasus, tidak perlu mengendalikan perubahan tersebut, tetapi tidak akan berlebihan untuk mengetahuinya. <br><br>  <b>Menghubungkan perangkat Plug'n'play (acara 6416 dan hanya untuk Windows 10).</b>  Penting untuk memantau ini, jika pengguna biasanya tidak menghubungkan perangkat baru ke workstation, dan tiba-tiba, mereka menghubungkannya. <br><br>  Windows mencakup 9 kategori audit dan 50 subkategori untuk fine-tuning.  Set minimum subkategori yang harus dimasukkan dalam pengaturan: <br><br>  <b>Logon / logoff</b> <br><br><ul><li>  Logon; </li><li>  Logoff; </li><li>  Penguncian Akun; </li><li>  Acara Masuk / Keluar Lainnya. </li></ul><br>  <b>Manajemen akun</b> <br><br><ul><li>  Manajemen Akun Pengguna; </li><li>  Manajemen Grup Keamanan. </li></ul><br>  <b>Perubahan kebijakan</b> <br><br><ul><li>  Perubahan Kebijakan Audit </li><li>  Perubahan Kebijakan Otentikasi; </li><li>  Perubahan Kebijakan Otorisasi. </li></ul><br><h2>  Monitor Sistem (Sysmon) </h2><br>  Sysmon adalah utilitas bawaan di Windows yang dapat menulis acara ke log sistem.  Biasanya diperlukan untuk menginstalnya secara terpisah. <br><br><img src="https://habrastorage.org/webt/zt/e6/jg/zte6jgkrmzj6evy8vyojwcpo_fy.png"><br><br>  Peristiwa yang sama pada prinsipnya dapat ditemukan di log keamanan (dengan memasukkan kebijakan audit yang diinginkan), tetapi Sysmon memberikan rincian lebih lanjut.  Peristiwa apa yang bisa diambil dari Sysmon? <br><br>  <b>Membuat proses (ID acara 1).</b>  Log peristiwa sistem peristiwa keamanan juga dapat mengetahui kapan beberapa * .exe telah dimulai dan bahkan menunjukkan namanya dan memulai jalur.  Tetapi tidak seperti Sysmon, itu tidak akan dapat menunjukkan hash aplikasi.  Perangkat lunak berbahaya bahkan dapat disebut notepad.exe tidak berbahaya, tetapi hash yang akan meletakkannya di air jernih. <br><br>  <b>Koneksi Jaringan (ID Peristiwa 3).</b>  Jelas, ada banyak koneksi jaringan, dan Anda tidak dapat melacak semua orang.  Tetapi penting untuk diingat bahwa Sysmon, tidak seperti Log Keamanan, dapat mengikat koneksi jaringan ke bidang ProcessID dan ProcessGUID, menunjukkan port dan alamat IP sumber dan penerima. <br><br>  <b>Perubahan dalam registri (ID peristiwa 12-14).</b>  Cara termudah untuk menambahkan diri Anda ke startup adalah mendaftar di registri.  Log Keamanan dapat melakukan ini, tetapi Sysmon menunjukkan siapa yang membuat perubahan, kapan, di mana, memproses ID dan nilai kunci sebelumnya. <br><br>  <b>Pembuatan file (ID peristiwa 11).</b>  Sysmon, tidak seperti Security Log, tidak hanya akan menunjukkan lokasi file, tetapi juga namanya.  Jelas bahwa Anda tidak dapat melacak semuanya, tetapi Anda juga dapat mengaudit direktori tertentu. <br><br>  Dan sekarang apa yang tidak dimiliki kebijakan Log Keamanan, tetapi ada di Sysmon: <br><br>  <b>Ubah waktu pembuatan file (ID acara 2).</b>  Beberapa malware mungkin mengganti tanggal pembuatan file untuk menyembunyikannya dari laporan dengan file yang baru dibuat. <br><br>  <b>Unduh driver dan perpustakaan dinamis (ID acara 6-7).</b>  Melacak pemuatan DLL dan driver perangkat ke dalam memori, verifikasi tanda tangan digital dan validitasnya. <br><br>  <b>Membuat utas dalam proses yang sedang berlangsung (ID peristiwa 8).</b>  Salah satu jenis serangan, yang juga perlu dipantau. <br><br>  <b>Acara RawAccessRead (ID acara 9).</b>  Baca operasi dari disk menggunakan "\\. \".  Dalam sebagian besar kasus, aktivitas tersebut harus dianggap abnormal. <br><br>  <b>Membuat aliran file bernama (ID peristiwa 15).</b>  Suatu peristiwa dicatat ketika aliran file bernama dihasilkan yang menghasilkan peristiwa dengan hash dari isi file. <br><br>  <b>Membuat pipa dan koneksi bernama (ID peristiwa 17-18).</b>  Melacak kode jahat yang berkomunikasi dengan komponen lain melalui pipa bernama. <br><br>  <b>Aktivitas WMI (ID peristiwa 19).</b>  Registrasi acara yang dihasilkan saat mengakses sistem melalui protokol WMI. <br><br>  Untuk melindungi Sysmon itu sendiri, Anda perlu melacak peristiwa dengan ID 4 (berhenti dan mulai Sysmon) dan ID 16 (ubah konfigurasi Sysmon). <br><br><h2>  Majalah Power Shell </h2><br>  Power Shell adalah alat yang ampuh untuk mengelola infrastruktur Windows, jadi ada kemungkinan besar penyerang akan memilihnya.  Anda dapat menggunakan dua sumber untuk mendapatkan informasi tentang peristiwa Power Shell: Windows PowerShell log dan Microsoft-WindowsPowerShell / Operational log. <br><br><h4>  Log Windows PowerShell </h4><br><img src="https://habrastorage.org/webt/ao/zu/r3/aozur3ankpoqqckwf-x2af-ywza.png"><br><br>  <b>Penyedia data dimuat (ID peristiwa 600).</b>  Penyedia PowerShell adalah program yang berfungsi sebagai sumber data untuk PowerShell untuk melihat dan mengelolanya.  Misalnya, penyedia bawaan mungkin variabel lingkungan Windows atau registri.  Munculnya pemasok baru harus dipantau untuk mengidentifikasi aktivitas berbahaya pada waktunya.  Misalnya, jika Anda melihat WSMan muncul di antara penyedia, maka sesi PowerShell jarak jauh telah dimulai. <br><br><h4>  Microsoft-WindowsPowerShell / Operational log (atau MicrosoftWindows-PowerShellCore / Operational di PowerShell 6) </h4><br><img src="https://habrastorage.org/webt/de/ga/ci/degaci8kfzznwue4ywft7w2zwk8.png"><br><br>  <b>Modul jurnal (ID acara 4103).</b>  Peristiwa menyimpan informasi tentang setiap perintah dieksekusi dan parameter yang dipanggil. <br><br>  <b>Pencatatan kunci skrip (ID peristiwa 4104).</b>  Pencatatan kunci skrip menunjukkan setiap blok kode PowerShell yang dijalankan.  Bahkan jika seorang penyerang mencoba menyembunyikan perintah, jenis acara ini akan menunjukkan perintah PowerShell yang sebenarnya dieksekusi.  Bahkan dalam jenis peristiwa ini, beberapa panggilan API tingkat rendah dapat direkam, peristiwa ini biasanya ditulis sebagai Verbose, tetapi jika perintah atau skrip yang mencurigakan digunakan dalam blok kode, itu akan didaftarkan sebagai Peringatan dengan kritis. <br><br>  Harap perhatikan bahwa setelah menyiapkan alat untuk mengumpulkan dan menganalisis peristiwa ini, waktu debugging tambahan akan diperlukan untuk mengurangi jumlah positif palsu. <br><br>  Beri tahu kami di komentar log apa yang Anda kumpulkan untuk audit keamanan informasi dan alat apa yang Anda gunakan untuk ini.  Salah satu area kami adalah solusi untuk mengaudit acara keamanan informasi.  Untuk mengatasi masalah pengumpulan dan analisis log, kami dapat menawarkan untuk melihat lebih dekat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Quest InTrust</a> , yang dapat mengompresi data yang tersimpan dengan rasio 20: 1, dan satu instance yang diinstal mampu memproses hingga 60.000 peristiwa per detik dari 10.000 sumber. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id447522/">https://habr.com/ru/post/id447522/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id447510/index.html">GeekUniversity Membuka Pendaftaran di Departemen Desain</a></li>
<li><a href="../id447512/index.html">Dan siapa yang melakukan ini? Otomatis audit keamanan informasi</a></li>
<li><a href="../id447514/index.html">7 startup yang menarik di IoT</a></li>
<li><a href="../id447516/index.html">Bagaimana kami melakukan overclock CAD COMPASS-3D â†’ Bagian 2</a></li>
<li><a href="../id447520/index.html">Fitur Auto Tiering dalam penyimpanan Qsan XCubeSAN</a></li>
<li><a href="../id447526/index.html">Sepeda sendiri untuk menyinkronkan MariaDB dan Sphinx</a></li>
<li><a href="../id447528/index.html">Siapa yang bertanggung jawab atas kualitas?</a></li>
<li><a href="../id447530/index.html">OceanLotus: Pembaruan Malvari untuk macOS</a></li>
<li><a href="../id447532/index.html">Splunk Universal Forwarder di Docker sebagai pengumpul log sistem</a></li>
<li><a href="../id447534/index.html">Cosmonaut Aleksandr Laveykin tentang film ruang angkasa terbaik, G-force 20g, dan soft landing</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>