<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòá üßñ ‚ú¥Ô∏è Einf√ºhrung in ECMAScript 2017 (ES8) üëø ‚¨úÔ∏è üë®üèø‚Äçüîß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Inhaltsverzeichnis 
 Vorwort 
 ES7 √úbersicht 
 1. Objekt.Eintr√§ge 
 2. Objektwerte 
 3. String.prototype.padEnd 
 4. String.prototype.padStart 
 5. Ob...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Einf√ºhrung in ECMAScript 2017 (ES8)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/475074/"><h4>  Inhaltsverzeichnis </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Vorwort</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ES7 √úbersicht</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">1. Objekt.Eintr√§ge</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2. Objektwerte</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">3. String.prototype.padEnd</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">4. String.prototype.padStart</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">5. Object.getOwnPropertyDescriptor</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">6. Nachgestellte Kommas</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">7. SharedArrayBuffer</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">8. Atomics</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">9. Async-Funktionen</a> <br><br><a name="section000"></a><h2>  Vorwort </h2><br>  Hallo, in der Vergangenheit habe ich bereits √ºber Neuerungen in ES6 nachgedacht und jetzt ist es an der Zeit, ES8 auseinander zu nehmen, da es viele neue Dinge gebracht hat.  Ich habe ES7 (2016) nicht separat betrachtet, da diese Version nur 2 Neuerungen brachte.  Dies ist Array.prototype.includes () und der Exponentiationsoperator.  Bevor Sie ES8 starten, schauen wir uns die Neuerungen von ES7 an. <br><br><a name="section0000"></a><h2>  ES7 √úbersicht </h2><br>  <b>Die Methode includes ()</b> bestimmt, ob das Array ein bestimmtes Element enth√§lt. Abh√§ngig davon wird true oder false zur√ºckgegeben. <br><br><pre><code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>.prototype.includes(searchElement[, fromIndex = <span class="hljs-number"><span class="hljs-number">0</span></span>]) : <span class="hljs-built_in"><span class="hljs-built_in">Boolean</span></span></code> </pre> <br>  searchElement - Das zu durchsuchende Element. <br><br>  fromIndex - Die Position im Array, von der aus die Suche nach dem searchElement-Element gestartet werden soll.  Bei negativen Werten wird die Suche beginnend mit dem Index array.length + fromIndex aufsteigend ausgef√ºhrt.  Der Standardwert ist 0. <a name="habracut"></a><br><br>  <b>Beispiele</b> <br><br><pre> <code class="javascript hljs">[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>].includes(<span class="hljs-number"><span class="hljs-number">2</span></span>); <span class="hljs-comment"><span class="hljs-comment">// true [1, 2, 3].includes(4); // false [1, 2, 3].includes(3, 3); // false [1, 2, 3].includes(3, -1); // true [1, 2, NaN].includes(NaN); // true</span></span></code> </pre> <br>  includes () kann auf andere Arten von Objekten angewendet werden (z. B. array√§hnliche Objekte).  Beispiel: Verwenden der Methode includes () f√ºr ein Argumentobjekt. <br><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log([].includes.call(<span class="hljs-built_in"><span class="hljs-built_in">arguments</span></span>, <span class="hljs-string"><span class="hljs-string">'a'</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// true console.log([].includes.call(arguments, 'd')); // false })('a','b','c');</span></span></code> </pre> <br>  <b>Der Potenzierungsoperator</b> (**) gibt eine Potenz mit der Basis a und einem nat√ºrlichen Exponenten b zur√ºck.  Erh√∂hen von a auf die Potenz von b. <br><br><pre> <code class="javascript hljs">a ** b</code> </pre> <br>  <b>Beispiele</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">2</span></span> ** <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-comment"><span class="hljs-comment">// 8 3 ** 2 // 9 3 ** 2.5 // 15.588457268119896 10 ** -1 // 0.1 NaN ** 2 // NaN 2 ** 3 ** 2 // 512 2 ** (3 ** 2) // 512 (2 ** 3) ** 2 // 64 -(2 ** 2) // -4 (-2) ** 2 // 4</span></span></code> </pre> <br><a name="section001"></a><h2>  1. Objekt.Eintr√§ge </h2><br>  Object.entries () gibt ein Array zur√ºck, dessen Elemente Arrays sind, die der aufgez√§hlten Eigenschaft des direkt im Objekt gefundenen Paars [key, value] entsprechen.  Die Reihenfolge der Eigenschaften ist dieselbe wie beim manuellen Durchlaufen der Eigenschaften eines Objekts. <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.entries(obj) : <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span></code> </pre> <br>  obj - Ein Objekt, dessen aufgez√§hlte Eigenschaften als Array [Schl√ºssel, Wert] zur√ºckgegeben werden. <br><br>  Object.entries () gibt die Eigenschaften in derselben Reihenfolge zur√ºck wie in der for ... in-Schleife (der Unterschied besteht darin, dass for-in auch Eigenschaften aus der Prototypkette auflistet).  Die Reihenfolge der Elemente im Array, die Object.entries () zur√ºckgibt, ist unabh√§ngig von der Deklaration des Objekts.  Wenn eine bestimmte Reihenfolge erforderlich ist, muss das Array sortiert werden, bevor die Methode aufgerufen wird. <br><br>  <b>Beispiele</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> obj = { <span class="hljs-attr"><span class="hljs-attr">foo</span></span>: <span class="hljs-string"><span class="hljs-string">"bar"</span></span>, <span class="hljs-attr"><span class="hljs-attr">baz</span></span>: <span class="hljs-number"><span class="hljs-number">42</span></span> }; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.entries(obj)); <span class="hljs-comment"><span class="hljs-comment">// [ ['foo', 'bar'], ['baz', 42] ] //    var obj = { 0: 'a', 1: 'b', 2: 'c' }; console.log(Object.entries(obj)); // [ ['0', 'a'], ['1', 'b'], ['2', 'c'] ] //    c random   var an_obj = { 100: 'a', 2: 'b', 7: 'c' }; console.log(Object.entries(an_obj)); // [ ['2', 'b'], ['7', 'c'], ['100', 'a'] ] // getFoo  ,    var my_obj = Object.create({}, { getFoo: { value: function() { return this.foo; } } }); my_obj.foo = "bar"; console.log(Object.entries(my_obj)); // [ ['foo', 'bar'] ] // non-object     object console.log(Object.entries("foo")); // [ ['0', 'f'], ['1', 'o'], ['2', 'o'] ] let obj = { one: 1, two: 2 }; for (let [k,v] of Object.entries(obj)) console.log(`${JSON.stringify(k)}: ${JSON.stringify(v)}`) // "one": 1 // "two": 2</span></span></code> </pre> <br>  <b>Objekt in Karte konvertieren</b> <br><br>  Der neue Map () -Konstruktor akzeptiert die Wiederholung von Werten.  Mit Object.entries k√∂nnen Sie Object auf einfache Weise in Map konvertieren.  Dies ist pr√§gnanter als die Verwendung eines Arrays mit 2 Elementen, aber Schl√ºssel k√∂nnen nur Zeichenfolgen sein. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> obj = { <span class="hljs-attr"><span class="hljs-attr">foo</span></span>: <span class="hljs-string"><span class="hljs-string">"bar"</span></span>, <span class="hljs-attr"><span class="hljs-attr">baz</span></span>: <span class="hljs-number"><span class="hljs-number">42</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> map = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Map</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.entries(obj)); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(map); <span class="hljs-comment"><span class="hljs-comment">// Map {"foo" =&gt; "bar", "baz" =&gt; 42}</span></span></code> </pre> <br>  Warum ist der R√ºckgabewert von Object.entries () ein Array und kein Iterator? <br>  Der entsprechende Anwendungsfall ist in diesem Fall Object.keys () und nicht beispielsweise Map.prototype.entries (). <br><br>  Warum gibt Object.entries () nur aufgez√§hlte native Eigenschaften mit Zeichenfolgenschl√ºsseln zur√ºck? <br><br>  Auch dies geschieht, um mit Object.keys () √ºbereinzustimmen.  Diese Methode ignoriert auch Eigenschaften, deren Schl√ºssel Zeichen sind.  Am Ende gibt es m√∂glicherweise eine Reflect.ownEntries () -Methode, die alle ihre eigenen Eigenschaften zur√ºckgibt. <br><br>  Siehe object.entries in der offiziellen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Spezifikation</a> sowie in den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">MDN-Webdokumenten</a> . <br><br><a name="section002"></a><h2>  2. Objektwerte </h2><br>  Object.values ‚Äã‚Äã() gibt ein Array zur√ºck, dessen Elemente die Werte der im Objekt gefundenen Aufz√§hlungseigenschaften sind.  Die Reihenfolge ist dieselbe, als w√ºrden Sie das Objekt manuell durchlaufen. <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.values(obj) : <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span></code> </pre> <br>  obj - Ein Objekt, dessen Werte der aufgez√§hlten Eigenschaften zur√ºckgegeben werden. <br><br>  Die Object.values ‚Äã‚Äã() -Methode gibt ein Array von Werten der aufgez√§hlten Eigenschaften des Objekts in derselben Reihenfolge wie die for ... in-Schleife zur√ºck.  Der Unterschied zwischen einer Schleife und einer Methode besteht darin, dass die Schleife Eigenschaften von und von der Prototypkette auflistet. <br><br>  <b>Beispiele</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> obj = { <span class="hljs-attr"><span class="hljs-attr">foo</span></span>: <span class="hljs-string"><span class="hljs-string">"bar"</span></span>, <span class="hljs-attr"><span class="hljs-attr">baz</span></span>: <span class="hljs-number"><span class="hljs-number">42</span></span> }; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.values(obj)); <span class="hljs-comment"><span class="hljs-comment">// ['bar', 42] //    var obj = { 0: 'a', 1: 'b', 2: 'c' }; console.log(Object.values(obj)); // ['a', 'b', 'c']</span></span></code> </pre><br>  Der Unterschied zwischen Object.entries und Object.values ‚Äã‚Äã() besteht darin, dass das erste ein Array von Arrays zur√ºckgibt, das den Namen und den Wert der Eigenschaft enth√§lt, w√§hrend das zweite nur ein Array mit dem Wert der Eigenschaften zur√ºckgibt. <br><br>  <b>Beispielunterschied zwischen Object.values ‚Äã‚Äã() und Object.entries ()</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> object = { <span class="hljs-attr"><span class="hljs-attr">a</span></span>: <span class="hljs-string"><span class="hljs-string">'somestring'</span></span>, <span class="hljs-attr"><span class="hljs-attr">b</span></span>: <span class="hljs-number"><span class="hljs-number">42</span></span>, <span class="hljs-attr"><span class="hljs-attr">c</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.values(object)); <span class="hljs-comment"><span class="hljs-comment">// ["somestring", 42, false] console.log(Object.entries(object)); // [ ["a", "somestring"], ["b", 42], ["c", false] ]</span></span></code> </pre> <br>  Siehe Object.values ‚Äã‚Äã() in der offiziellen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Spezifikation</a> sowie in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">MDN Web Docs</a> . <br><br><a name="section003"></a><h2>  3. String.prototype.padEnd </h2><br>  Die padEnd () -Methode vervollst√§ndigt die aktuelle Zeile mit der angegebenen Zeichenfolge (wird m√∂glicherweise wiederholt), sodass die resultierende Zeichenfolge die angegebene L√§nge erreicht.  Die Addition wird am Ende (rechts) der aktuellen Zeile angewendet. <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">String</span></span>.prototype.padEnd(maxLength [ , fillString ]) : <span class="hljs-built_in"><span class="hljs-built_in">String</span></span></code> </pre> <br>  maxLength - Die L√§nge der resultierenden Zeile, nachdem die aktuelle Zeile aufgef√ºllt wurde.  Wenn dieser Parameter kleiner als die L√§nge der aktuellen Zeile ist, wird die aktuelle Zeile so wie sie ist zur√ºckgegeben. <br>  fillString - Ein String, der die aktuelle Zeile mit erg√§nzt.  Wenn diese Zeile zu lang ist, wird sie abgeschnitten und die am weitesten links stehende wird angewendet.  "" (0x0020 SPACE) ist der Standardwert f√ºr diesen Parameter. <br><br>  <b>Beispiele</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">'abc'</span></span>.padEnd(<span class="hljs-number"><span class="hljs-number">10</span></span>); <span class="hljs-comment"><span class="hljs-comment">// "abc " 'abc'.padEnd(10, "foo"); // "abcfoofoof" 'abc'.padEnd(6,"123456"); // "abc123"</span></span></code> </pre> <br>  Zu den Anwendungsf√§llen f√ºr das Auff√ºllen von Zeichenfolgen geh√∂ren: <br><br><ul><li>  Hinzuf√ºgen eines Z√§hlers oder einer Kennung zu einem Dateinamen oder einer URL: 'file 001.txt' </li><li>  Konsolenausgangsausrichtung: ‚ÄûTest 001: ‚úì‚Äú </li><li>  Drucken Sie hexadezimale oder bin√§re Zahlen mit einer festen Anzahl von Ziffern: '0x00FF' </li></ul><br>  Siehe String.prototype.padEnd in der offiziellen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Spezifikation</a> sowie in den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">MDN-Webdokumenten</a> . <br><br><a name="section004"></a><h2>  4. String.prototype.padStart </h2><br>  Die padStart () -Methode f√ºllt die aktuelle Zeile mit einer anderen Zeile (ggf. mehrmals), sodass die resultierende Zeile die angegebene L√§nge erreicht.  Das Bef√ºllen erfolgt am Anfang (links) der aktuellen Zeile. <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">String</span></span>.prototype.padStart(maxLength [, fillString]) : <span class="hljs-built_in"><span class="hljs-built_in">String</span></span></code> </pre> <br>  maxLength - Die L√§nge der Zusammenfassungszeile nach Abschluss der aktuellen Zeile.  Wenn der Wert kleiner als die L√§nge der aktuellen Zeile ist, wird die aktuelle Zeile unver√§ndert zur√ºckgegeben. <br><br>  fillString - Ein String zum F√ºllen der aktuellen Zeile.  Wenn diese Zeichenfolge f√ºr die angegebene L√§nge zu lang ist, wird sie abgeschnitten.  Der Standardwert ist "" (0x0020 SPACE). <br><br>  <b>Beispiele</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">'abc'</span></span>.padStart(<span class="hljs-number"><span class="hljs-number">10</span></span>); <span class="hljs-comment"><span class="hljs-comment">// " abc" 'abc'.padStart(10, "foo"); // "foofoofabc" 'abc'.padStart(6,"123465"); // "123abc" 'abc'.padStart(8, "0"); // "00000abc" 'abc'.padStart(1); // "abc"</span></span></code> </pre> <br>  Warum hei√üen die Auff√ºllmethoden padLeft und padRight nicht? <br><br>  Bei bidirektionalen Sprachen oder Sprachen von rechts nach links funktionieren die Begriffe "links" und "rechts" nicht.  Daher folgt die Benennung von padStart und padEnd vorhandenen Namen, die mit startsWith und endsWith beginnen. <br><br>  Siehe String.prototype.padStart in der offiziellen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Spezifikation</a> sowie in den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">MDN-Webdokumenten</a> . <br><br><a name="section005"></a><h2>  5. Object.getOwnPropertyDescriptor </h2><br>  Die Object.getOwnPropertyDescriptor () -Methode gibt einen Eigenschaftsdeskriptor f√ºr die eigene Eigenschaft (dh eine Eigenschaft, die sich direkt im Objekt befindet und nicht √ºber die Prototypkette empfangen wird) des √ºbergebenen Objekts zur√ºck.  Wenn die Eigenschaft nicht vorhanden ist, wird undefiniert zur√ºckgegeben. <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.getOwnPropertyDescriptor(obj, prop) : <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span></code> </pre> <br>  obj - Das Objekt, in dem die Eigenschaft gesucht wird. <br><br>  prop - Der Name der Eigenschaft, deren Beschreibung zur√ºckgegeben wird. <br><br>  Mit dieser Methode k√∂nnen Sie die genaue Beschreibung der Eigenschaft anzeigen.  Eine Eigenschaft in JavaScript besteht aus einem Zeichenfolgennamen und einem Eigenschaftsdeskriptor. <br><br>  Ein Eigenschaftsdeskriptor ist ein Datensatz mit einigen der folgenden Attribute: <br><br><ul><li>  value - Der mit der Eigenschaft verkn√ºpfte Wert (nur im Datendeskriptor). </li><li>  writable - true, wenn der mit der Eigenschaft verkn√ºpfte Wert ge√§ndert werden kann, andernfalls false (nur im Datendeskriptor). </li><li>  get - Eine Funktion, die den Wert der Eigenschaft zur√ºckgibt, oder undefiniert, wenn keine solche Funktion vorhanden ist (nur im Zugriffsdeskriptor). </li><li>  set - Eine Funktion, die den Wert einer Eigenschaft √§ndert oder undefiniert ist, wenn keine solche Funktion vorhanden ist (nur im Zugriffsdeskriptor). </li><li>  konfigurierbar - true, wenn der Handle-Typ dieser Eigenschaft ge√§ndert werden kann und wenn die Eigenschaft aus dem Objekt entfernt werden kann, das sie enth√§lt, andernfalls false. </li><li>  enumerable - true, wenn diese Eigenschaft verf√ºgbar ist, wenn die Eigenschaften des Objekts aufgelistet werden, das sie enth√§lt, andernfalls false. </li></ul><br>  <b>Beispiele</b> <br><br><pre> <code class="javascript hljs">obj = { get foo() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>; } }; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.getOwnPropertyDescriptor(obj, <span class="hljs-string"><span class="hljs-string">'foo'</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// {set: undefined, enumerable: true, configurable: true, get: ∆í} obj2 = { bar: 42 }; console.log(Object.getOwnPropertyDescriptor(obj2, 'bar')); // {value: 42, writable: true, enumerable: true, configurable: true}</span></span></code> </pre> <br><h4>  Anwendungsf√§lle f√ºr Object.getOwnPropertyDescriptor () </h4><br>  <b>Erster</b> Anwendungsfall: Kopieren von Eigenschaften in ein Objekt <br>  Ab ES6 verf√ºgt JavaScript bereits √ºber eine Werkzeugmethode zum Kopieren von Eigenschaften: Object.assign ().  Diese Methode verwendet jedoch einfache Abruf- und Festlegungsoperationen, um eine Eigenschaft zu kopieren, deren Schl√ºssel der Schl√ºssel ist: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> value = source[key]; <span class="hljs-comment"><span class="hljs-comment">// get target[key] = value; // set</span></span></code> </pre>  Dies bedeutet, dass Eigenschaften mit anderen als den standardm√§√üig festgelegten Attributen (Methoden zum Abrufen, Festlegen, Schreiben usw.) nicht korrekt kopiert werden.  Das folgende Beispiel veranschaulicht diese Einschr√§nkung.  Die Quelle des Objekts hat ein Installationsprogramm, dessen Schl√ºssel foo lautet: <pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> source = { set foo(value) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(value); } }; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.getOwnPropertyDescriptor(source, <span class="hljs-string"><span class="hljs-string">'foo'</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// { get: undefined, set: [Function: foo], enumerable: true, configurable: true }</span></span></code> </pre> <br>  Das Kopieren der foo-Eigenschaft in das Zielobjekt mit Object.assign () schl√§gt fehl: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> target1 = {}; <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.assign(target1, source); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.getOwnPropertyDescriptor(target1, <span class="hljs-string"><span class="hljs-string">'foo'</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// { value: undefined, writable: true, enumerable: true, configurable: true }</span></span></code> </pre>  Gl√ºcklicherweise funktioniert die Verwendung von Object.getOwnPropertyDescriptors () zusammen mit Object.defineProperties (): <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> target2 = {}; <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.defineProperties(target2, <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.getOwnPropertyDescriptors(source)); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.getOwnPropertyDescriptor(target2, <span class="hljs-string"><span class="hljs-string">'foo'</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// { get: undefined, set: [Function: foo], enumerable: true, configurable: true }</span></span></code> </pre> <br>  <b>Zweiter</b> Anwendungsfall: Klonen von Objekten <br>  Das flache Klonen √§hnelt dem Kopieren von Eigenschaften, daher ist Object.getOwnPropertyDescriptors () auch hier eine gute Wahl. <br><br>  Dieses Mal verwenden wir Object.create (), das zwei Parameter hat: <br>  Der erste Parameter gibt den Prototyp des zur√ºckgegebenen Objekts an. <br><br>  Ein optionaler zweiter Parameter ist eine Sammlung von Eigenschaftsbeschreibungen, die den von Object.getOwnPropertyDescriptors () zur√ºckgegebenen √§hnlich sind. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> clone = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.create(<span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.getPrototypeOf(obj), <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.getOwnPropertyDescriptors(obj));</code> </pre> <br>  <b>Dritter</b> Anwendungsfall: plattform√ºbergreifende Objektliterale mit beliebigen Prototypen. <br><br>  Die syntaktisch beste M√∂glichkeit, ein Objektliteral zum Erstellen eines Objekts mit einem beliebigen Prototyp zu verwenden, ist die Verwendung der speziellen Eigenschaft __proto__: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = { <span class="hljs-attr"><span class="hljs-attr">__proto__</span></span>: prot, <span class="hljs-attr"><span class="hljs-attr">foo</span></span>: <span class="hljs-number"><span class="hljs-number">123</span></span>, };</code> </pre> <br>  Leider ist diese Funktion nur in Browsern verf√ºgbar.  Die allgemeine Problemumgehung lautet Object.create () und die Zuweisung: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.create(prot); obj.foo = <span class="hljs-number"><span class="hljs-number">123</span></span>;</code> </pre> <br>  Sie k√∂nnen aber auch Object.getOwnPropertyDescriptors () verwenden: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.create( prot, <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.getOwnPropertyDescriptors({ <span class="hljs-attr"><span class="hljs-attr">foo</span></span>: <span class="hljs-number"><span class="hljs-number">123</span></span>, }) );</code> </pre> <br>  Eine andere Alternative ist Object.assign (): <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.assign( <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.create(prot), { <span class="hljs-attr"><span class="hljs-attr">foo</span></span>: <span class="hljs-number"><span class="hljs-number">123</span></span>, } );</code> </pre> <br>  Fallstricke: Kopiermethoden mit super. <br><br>  Die Methode, die Super verwendet, ist eng an sein Ausgangsobjekt (das Objekt, in dem es gespeichert ist) gebunden.  Derzeit gibt es keine M√∂glichkeit, eine solche Methode auf ein anderes Objekt zu kopieren oder zu verschieben. <br><br>  Siehe Object.getOwnPropertyDescriptor in der offiziellen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Spezifikation</a> sowie in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">MDN-Webdokumenten</a> . <br><br><a name="section006"></a><h2>  6. Nachgestellte Kommas </h2><br>  H√§ngende Kommas (nachstehende Kommas) - k√∂nnen hilfreich sein, wenn Sie dem JavaScript-Code neue Elemente, Parameter oder Eigenschaften hinzuf√ºgen.  Wenn Sie eine neue Eigenschaft hinzuf√ºgen m√∂chten, f√ºgen Sie einfach eine neue Zeile hinzu, ohne die vorherige zu √§ndern, sofern das Komma bereits verwendet wird.  Dadurch werden die Unterschiede in der Versionskontrolle klarer und Code√§nderungen k√∂nnen weniger problematisch sein. <br><br><h4>  Anf√ºhrungszeichen in Literalen </h4><br>  <b>Arrays</b> <br><br>  JavaScript ignoriert Kommas in Arrays: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> arr = [ <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, ]; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(arr); <span class="hljs-comment"><span class="hljs-comment">// [0, 1, 2] console.log(arr.length); // 3 var arr2 = [0, 1, 2,,,]; console.log(arr2.length); // 5 arr2.forEach((e) =&gt; console.log(e)); // 0 1 2 console.log(arr.map((e) =&gt; e)); // 0 1 2</span></span></code> </pre> <br>  Wenn mehr als ein Baumelpunkt verwendet wird, werden L√∂cher erzeugt.  Ein Array mit "L√∂chern" wird als d√ºnn bezeichnet (ein dichtes Array hat keine "L√∂cher").  Wenn Sie ein Array beispielsweise mit Array.prototype.forEach () oder Array.prototype.map () iterieren, werden L√∂cher √ºbersprungen. <br><br>  <b>Die Objekte</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> object = { <span class="hljs-attr"><span class="hljs-attr">foo</span></span>: <span class="hljs-string"><span class="hljs-string">"bar"</span></span>, <span class="hljs-attr"><span class="hljs-attr">baz</span></span>: <span class="hljs-string"><span class="hljs-string">"qwerty"</span></span>, <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-number"><span class="hljs-number">42</span></span>, }; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(object); <span class="hljs-comment"><span class="hljs-comment">// {foo: "bar", baz: "qwerty", age: 42}</span></span></code> </pre> <br><h4>  Kommas in Funktionen </h4><br>  <b>Parameterdefinition</b> <br><br>  Die folgenden Definitionen der Funktionsparameter sind g√ºltig und einander √§quivalent.  Baumelnde Kommas wirken sich nicht auf die Eigenschaft length einer Funktion oder deren Argumente aus. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">p</span></span></span><span class="hljs-function">) </span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">p,</span></span></span><span class="hljs-function">) </span></span>{} (p) =&gt; {}; <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">p,</span></span></span><span class="hljs-function">) =&gt;</span></span> {};</code> </pre> <br>  <b>Methodendefinition</b> <br><br>  Das Komma funktioniert auch beim Definieren von Methoden f√ºr Klassen oder Objekte. <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">C</span></span></span><span class="hljs-class"> </span></span>{ one(a,) {}, two(a, b,) {}, } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> obj = { one(a,) {}, two(a, b,) {}, };</code> </pre> <br>  <b>Funktionsaufruf</b> <br><br>  Die folgenden Funktionsaufrufe sind g√ºltig und einander gleichwertig. <br><br><pre> <code class="javascript hljs">f(p); f(p,); <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.max(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.max(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>,);</code> </pre> <br>  <b>Ung√ºltige Kommas</b> <br><br>  Das Definieren von Funktionsparametern oder das Aufrufen einer Funktion, die nur ein Komma enth√§lt, l√∂st einen SyntaxError aus.  Au√üerdem sind bei Verwendung der √ºbrigen Parameter H√§ngekommas nicht zul√§ssig. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">,</span></span></span><span class="hljs-function">) </span></span>{} <span class="hljs-comment"><span class="hljs-comment">// SyntaxError: missing formal parameter (,) =&gt; {}; // SyntaxError: expected expression, got ',' f(,) // SyntaxError: expected expression, got ',' function f(...p,) {} // SyntaxError: parameter after rest parameter (...p,) =&gt; {} // SyntaxError: expected closing parenthesis, got ','</span></span></code> </pre> <br><h4>  H√§ngende Kommas bei der Destrukturierung </h4><br>  H√§ngende Kommas k√∂nnen bei destruktiver Zuordnung auch links verwendet werden. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//      [a, b,] = [1, 2]; //      var o = { p: 42, q: true, }; var {p, q,} = o;</span></span></code> </pre> <br>  Mit den verbleibenden Parametern wird erneut ein SyntaxError ausgel√∂st. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> [a, ...b,] = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>]; <span class="hljs-comment"><span class="hljs-comment">// Uncaught SyntaxError: Rest element must be last element</span></span></code> </pre> <br><h4>  JSON Dangling Commas </h4><br>  H√§ngende Kommas in einem Objekt sind nur in ECMAScript 5 zul√§ssig. Da JSON auf einer √§lteren JavaScript-Syntax als ES5 basiert, sind <b>h√§ngende Kommas in JSON</b> nicht zul√§ssig <b>.</b> <br><br>  Beide Zeilen werfen einen SyntaxError <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(<span class="hljs-string"><span class="hljs-string">'[1, 2, 3, 4, ]'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(<span class="hljs-string"><span class="hljs-string">'{"foo" : 1, }'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// Uncaught SyntaxError: Unexpected token ] in JSON // Uncaught SyntaxError: Unexpected token } in JSON</span></span></code> </pre> <br><h4>  Warum sind Kommas n√ºtzlich? </h4><br>  Es gibt zwei Vorteile. <br><br>  Erstens ist das Neuanordnen von Elementen einfacher, da Sie keine Kommas hinzuf√ºgen oder entfernen m√ºssen, wenn das letzte Element seine Position √§ndert. <br><br>  Zweitens k√∂nnen Versionskontrollsysteme nachverfolgen, was sich wirklich ge√§ndert hat.  Zum Beispiel von: <br><br><pre> <code class="plaintext hljs">[ 'Foo' ] : [ 'Foo', '' ]</code> </pre> <br>  bewirkt, dass sowohl die Zeile mit 'foo' als auch die Zeile mit 'bar' als ge√§ndert markiert werden, obwohl die einzige echte √Ñnderung darin besteht, die letzte Zeile hinzuzuf√ºgen. <br><br>  Siehe Nachgestellte Kommas in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">MDN-Webdokumenten</a> . <br><br><a name="section007"></a><h2>  7. SharedArrayBuffer </h2><br>  Das SharedArrayBuffer-Objekt wird zum Erstellen eines geteilten Puffers mit fester L√§nge zum Speichern primitiver Bin√§rdaten verwendet, √§hnlich dem ArrayBuffer-Objekt. Im Gegensatz dazu k√∂nnen SharedArrayBuffer-Instanzen zum Erstellen einer Ansicht im gemeinsam genutzten Speicher verwendet werden.  SharedArrayBuffer kann nicht getrennt werden. <pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SharedArrayBuffer(length) : <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span></code> </pre>  length - Die Gr√∂√üe in Byte, um das Pufferarray zu erstellen. <br><br>  return - Ein neues SharedArrayBuffer-Objekt der angegebenen L√§nge.  Sein Inhalt nach der Initialisierung ist 0. <br><br>  PostMessage und strukturiertes Klonen werden verwendet, um den Speicher mithilfe eines SharedArrayBuffer-Objekts zwischen einem Agenten im Cluster und einem anderen aufzuteilen (der Agent kann entweder das Hauptprogramm der Webseite oder einer der Web-Worker sein). <br><br>  Der strukturierte Klonalgorithmus akzeptiert SharedArrayBuffers und TypedArrays, die SharedArrayBuffers zugeordnet sind.  In beiden F√§llen wird das SharedArrayBuffer-Objekt an den Empf√§nger √ºbergeben, wodurch ein neues privates SharedArrayBuffer-Objekt im empfangenden Agenten erstellt wird (wie bei ArrayBuffer).  Der gemeinsam genutzte Datenblock, auf den von beiden SharedArrayBuffer-Objekten verwiesen wird, ist jedoch derselbe Datenblock, und Effekte von Drittanbietern im Block in einem der Agenten werden m√∂glicherweise im anderen Agenten sichtbar. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sab = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SharedArrayBuffer(<span class="hljs-number"><span class="hljs-number">1024</span></span>); worker.postMessage(sab);</code> </pre> <br>  Shared Memory kann gleichzeitig in Workern oder im Haupt-Thread erstellt und ge√§ndert werden.  Je nach System (CPU, Betriebssystem, Browser) kann es einige Zeit dauern, bis die √Ñnderungen in alle Kontexte √ºbertragen werden.  Zur Synchronisation werden atomare Operationen ben√∂tigt. <br><br>  Shared Array Buffers ist ein primitiver Baustein f√ºr Parallelit√§tsabstraktionen h√∂herer Ebenen.  Mit ihnen k√∂nnen Sie die Bytes eines SharedArrayBuffer-Objekts f√ºr mehrere Worker und den Hauptthread freigeben (der Puffer wird f√ºr den Zugriff auf Bytes freigegeben und in ein typisiertes Array eingeschlossen).  Diese Art des Austauschs hat zwei Vorteile: <br>  Sie k√∂nnen Daten zwischen Mitarbeitern schneller austauschen. <br><br>  Die Koordination zwischen Arbeitnehmern wird einfacher und schneller (im Vergleich zu postMessage ()). <br><br>  Die Implementierung des Arbeiters ist wie folgt. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// worker.js self.addEventListener ('message', function (event) { const {sharedBuffer} = event.data; const sharedArray = new Int32Array (sharedBuffer); // ¬∑¬∑¬∑ });</span></span></code> </pre><br>  Zuerst extrahieren wir den Puffer des gemeinsam genutzten Arrays, das an uns gesendet wurde, und verpacken ihn dann in ein typisiertes Array, damit wir ihn lokal verwenden k√∂nnen. <br><br>  <b>Eigenschaften und Methoden von SharedArrayBuffer.</b> <br><br>  SharedArrayBuffer.length - Die L√§nge des SharedArrayBuffer-Konstruktors, dessen Wert 1 ist. <br>  SharedArrayBuffer.prototype - Erm√∂glicht zus√§tzliche Eigenschaften f√ºr alle SharedArrayBuffer-Objekte. <br><br>  <b>SharedArrayBuffer-Instanzen</b> <br>  <b>Die Eigenschaften</b> <br><br>  SharedArrayBuffer.prototype.constructor - Definiert eine Funktion, die einen Prototyp eines Objekts erstellt.  Der Anfangswert ist der standardm√§√üige integrierte SharedArrayBuffer-Konstruktor. <br><br>  SharedArrayBuffer.prototype.byteLength (schreibgesch√ºtzt) - Die Gr√∂√üe des Arrays in Byte.  Dies wird festgelegt, wenn das Array erstellt wird und kann nicht ge√§ndert werden. <br><br>  <b>Methoden</b> <br><br>  SharedArrayBuffer.prototype.slice () - Gibt einen neuen SharedArrayBuffer zur√ºck, dessen Inhalt eine Kopie der Bytes dieses SharedArrayBuffer vom Anfang bis zum Ende des Exklusivs ist.  Wenn der Anfang oder das Ende negativ ist, bezieht sich dies auf den Index vom Ende des Arrays, nicht vom Anfang.  Diese Methode hat den gleichen Algorithmus wie Array.prototype.slice (). <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//  SharedArrayBuffer     const buffer = new SharedArrayBuffer(16); const int32View = new Int32Array(buffer); //  view // produces Int32Array [0, 0, 0, 0] int32View[1] = 42; const sliced = new Int32Array(buffer.slice(4,12)); console.log(sliced); // Int32Array [42, 0]</span></span></code> </pre> <br><pre> <code class="javascript hljs">sab.slice([begin, end]) : <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span></code> </pre> <br>  begin - Der Nullindex, bei dem die Extraktion beginnt.  Sie k√∂nnen einen negativen Index verwenden, der den Versatz vom Ende der Sequenz angibt.  slice (-2) extrahiert die letzten beiden Elemente einer Sequenz.  Wenn der Anfang nicht definiert ist, beginnt das Slice bei Index 0. <br>  Ende - Der auf Null basierende Index, auf den extrahiert werden soll. <br><br>  Zum Beispiel ruft slice (1,4) das zweite Element √ºber das vierte Element ab (Elemente mit den Indizes 1, 2 und 3).  Sie k√∂nnen einen negativen Index verwenden, der den Versatz vom Ende der Sequenz angibt.  slice (2, -1) ruft das dritte Element √ºber das vorletzte Element in der Sequenz ab.  Wenn end weggelassen wird, ruft slice das Ende der Sequenz ab (sab.byteLength). <br><br>  <b>Beispiele</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sab = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SharedArrayBuffer(<span class="hljs-number"><span class="hljs-number">1024</span></span>); sab.slice(); <span class="hljs-comment"><span class="hljs-comment">// SharedArrayBuffer { byteLength: 1024 } sab.slice(2); // SharedArrayBuffer { byteLength: 1022 } sab.slice(-2); // SharedArrayBuffer { byteLength: 2 } sab.slice(0, 1); // SharedArrayBuffer { byteLength: 1 }</span></span></code> </pre> <br>  Siehe SharedArrayBuffer in der offiziellen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Spezifikation</a> sowie in den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">MDN-Webdokumenten</a> . <br><br><a name="section008"></a><h2>  8. Atomics </h2><br>  Das Atomics-Objekt stellt atomare Operationen als statische Methoden zur Verf√ºgung.  Wird mit einem SharedArrayBuffer-Objekt verwendet. <br><br>  Atomic-Operationen werden im Atomics-Modul installiert.  Im Gegensatz zu anderen globalen Objekten ist Atomics kein Konstruktor.  Es kann nicht mit dem neuen Operator oder zum Aufrufen eines Atomics-Objekts als Funktion verwendet werden.  Alle Atomics-Eigenschaften und -Methoden sind statisch (z. B. ein Math-Objekt). <br><br>  Wenn der Speicher gemeinsam genutzt wird, k√∂nnen mehrere Threads dieselben Daten lesen und in den Speicher schreiben.  Atomare Operationen garantieren, dass die erwarteten Werte geschrieben und gelesen und die Operationen abgeschlossen werden, bevor die n√§chste Operation ihre Arbeit aufnimmt, und dass sie nicht unterbrochen werden. <br><br><h4>  Die Eigenschaften </h4><br>  Atomics [Symbol.toStringTag] - Der Wert dieser Eigenschaft ist Atomics. <br><br><h4>  Methoden </h4><br>  <b>Atomare Operationen</b> <br><br><ul><li>  Atomics.add () - F√ºgt den angezeigten Wert an der angegebenen Position im Array zum aktuellen Wert hinzu.  Gibt den vorherigen Wert an dieser Position zur√ºck. </li><li>  Atomics.and () - Berechnet ein bitweises AND an der angegebenen Array-Position.  Gibt den vorherigen Wert an dieser Position zur√ºck. </li><li>  Atomics.compareExchange () - Speichert den angezeigten Wert an der angegebenen Position des Arrays, sofern er dem angezeigten Wert entspricht.  Gibt den vorherigen Wert zur√ºck. </li><li> Atomics.exchange() ‚Äî       .   . </li><li> Atomics.load() ‚Äî      . </li><li> Atomics.or() ‚Äî   OR    .      . </li><li> Atomics.store() ‚Äî       .  . </li><li> Atomics.sub() ‚Äî          .      . </li><li> Atomics.xor() ‚Äî   XOR    .      . </li></ul><br>   Atomics.add()                .    ,      ,       . <br><br><pre> <code class="javascript hljs">Atomics.add(typedArray, index, value) : mixed</code> </pre> <br><ul><li> typedArray ‚Äî    . Int8Array, Uint8Array, Int16Array, Uint16Array, Int32Array  Uint32Array. </li><li> index ‚Äî   typedArray   value. </li><li> value ‚Äî   . </li><li> return ‚Äî      (typedArray[index]). </li></ul><br><ul><li>  TypeError,   typedArray       . </li><li>  TypeError,   typedArray   . </li><li>  RangeError,  index  typedArray. </li></ul><br> <b></b> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sab = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SharedArrayBuffer(<span class="hljs-number"><span class="hljs-number">1024</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ta = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Uint8Array</span></span>(sab); Atomics.add(ta, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>); <span class="hljs-comment"><span class="hljs-comment">//  0,   Atomics.load(ta, 0); // 12</span></span></code> </pre> <br> Atomics.add()  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"></a> ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">MDN Web Docs</a> . <br><br><h4> Wait  notify </h4><br> wait()  wake()     futexes (¬´fast user-space mutex¬ª ‚Äî  mutex  ) Linux      ,      true,      . <br><br> Atomics.wait() <br> ,               -.  ¬´ok¬ª, ¬´not-equal¬ª  ¬´timed-out¬ª.       ,     (    wait()    ). <br><br><ul><li> Atomics.wait() ‚Äî ,               -.  ¬´ok¬ª, ¬´not-equal¬ª  ¬´timed-out¬ª.       ,     (    wait()    ). </li><li> Atomics.wake() ‚Äî   ,         .   ,   . </li><li> Atomics.isLockFree(size) ‚Äî  ,            .  true,                 (  ).   . </li></ul><br><h4>   </h4><br>      workers.       ,    . <br><br> ,  ,  : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (sharedArray [<span class="hljs-number"><span class="hljs-number">0</span></span>] === <span class="hljs-number"><span class="hljs-number">123</span></span>);</code> </pre> <br>     sharedArray [0]        ( sharedArray ‚Äî     ,  -    ).      : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> tmp = sharedArray [<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (tmp === <span class="hljs-number"><span class="hljs-number">123</span></span>);</code> </pre> <br>               ,    . <br><br>   ‚Äî  : <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// main.js sharedArray [1] = 11; sharedArray [2] = 22;</span></span></code> </pre> <br>         ,       .     ,   ,       : <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// worker.js while (sharedArray [2]! == 22); console.log (sharedArray [1]); // 0  11</span></span></code> </pre> <br>          workers,       . <br><br><h4>    </h4><br>    Atomics,       . <br><br>   : <b>.</b> <br><br>  Atomics        workers. ,              : <br><br><pre> <code class="javascript hljs">Atomics.load (TypedArray &lt;T&gt;, index) : T Atomics.store (TypedArray &lt;T&gt;, index, <span class="hljs-attr"><span class="hljs-attr">value</span></span>: T) : T</code> </pre> <br>    ,          ,      Atomics (,   ) ,       .       ,   ,     Atomics. <br><br>    ,   ,  Atomics (   sharedArray): <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// main.js console.log ('notified...'); Atomics.store (sharedArray, 0, 123); // worker.js while (Atomics.load (sharedArray, 0)! == 123); console.log ('notified');</span></span></code> </pre> <br>   : <b> </b> . <br><br>   while      ,   Atomics  ,  : Atomics.wait (Int32Array, index, value, timeout)  Atomics.wake (Int32Array, index, count). <br><br>   : <b>atomic operations</b> <br>   Atomics         ,    .  Zum Beispiel: <br><br><pre> <code class="javascript hljs">Atomics.add (TypedArray &lt;T&gt;, index, value) : T</code> </pre> <br>  ,   : index += value; <br><br>  c  . <br><br>        ‚Äî   ():        ‚Äî          ,   . <br><br>   ¬´Tear-Free Reads¬ª   ,   ,    : <br><br><ul><li>  ,      Typed Arrays ( DataViews). </li><li>         : sharedArray.byteOffset% sharedArray.BYTES_PER_ELEMENT === 0 </li><li>         . </li></ul><br>  ,    ,           : <br><br><ul><li>    DateViews; </li><li>        ; </li><li>      ; </li></ul><br>       ,  Atomics  . <br><br><h4> Shared Array Buffers   </h4><br> Shared Array Buffers   JavaScript    ¬´ ¬ª. JavaScript      ¬´ ¬ª:      ,          .        ,      ,    ,   . <br><br> Shared Array Buffers     (RTC): ,    ,         .    ,     RTC:     Shared Array Buffers,  . <br><br>     ,     RTC.          await. <br><br> Shared Array Buffers  emscripten  pthreads  asm.js.    emscripten: <br><br> [En] [Shared Array Buffers allow] Emscripten applications to share the main memory heap between web workers. This along with primitives for low level atomics and futex support enables Emscripten to implement support for the Pthreads (POSIX threads) API. <br><br> [Ru] [Shared Array Buffers ]  Emscripten      -.           futex  Emscripten   API Pthreads ( POSIX). <br><br>        C  C ++  asm.js. <br><br>    ,       WebAssembly. ,  web workers  , ,  WebAssembly   .    ,        WebAssembly. <br><br><h4>  ,     </h4><br>          (  32 ).  ,        ‚Äî      . ,   ,   : <br><br><ul><li> TextEncoder  TextDecoder:      Uint8Array,   . </li><li> stringview.js: ,      .   . </li><li> FlatJS:  JavaScript        (,   )    (ArrayBuffer  SharedArrayBuffer). JavaScript + FlatJS    JavaScript. JavaScript  (TypeScript  . .) . </li><li> TurboScript:  JavaScript-    .    asm.js  WebAssembly. </li></ul><br>   , ,   ‚Äî    ‚Äî    .     ,     . <br><br> <b>   ,   Shared Array?</b> <br><br>  .       (     " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">A Taste of JavaScript's New Parallel Primitives</a> ‚Äù¬ª,     ,    web workers.  4 web workers , ,  ,    ,  6,9    (1 web worker)  25,4    (4 web workers).  web workers    ,   . <br><br>  ,   ,         . <br><br> <b> </b>  Shared Array Buffers   : <br><br><ul><li> <a href="" rel="nofollow">Shared memory ‚Äì a brief tutorial</a> by Lars T. Hansen </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">A Taste of JavaScript's New Parallel Primitives</a> by Lars T. Hansen </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">SharedArrayBuffer and Atomics Stage 2.95 to Stage 3</a> (PDF), slides by Shu-yu Guo and Lars T. Hansen (2016-11-30) [c,   ES] </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">The Basics of Web Workers</a> by Eric Bidelman [  web workers]. </li></ul><br>   JavaScript,   : <br><br><ul><li> ‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">The Path to Parallel JavaScript</a> ‚Äù by Dave Herman [  ,  JavaScript     PJS] </li><li> ‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Write massively-parallel GPU code for the browser with WebGL</a> ‚Äù by Steve Sanderson [ , ,   WebGL      GPU]. </li><li> ‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Concurrency is not parallelism</a> ‚Äù by Rob Pike [Rob Pike   ¬´concurrency¬ª  ¬´parallelism¬ª    ]. </li><li> " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Using Web Workers</a> " from MDN [  MDN,      web workers]. </li><li> " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Shared memory and atomics</a> " by Axel Rauschmayer [     js   Shared Array Buffers  Atomics] </li></ul><br>  Atomics Object   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"></a> ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">MDN Web Docs</a> . <br><br><a name="section009"></a><h2> 9. Async functions </h2><br><h4>  Async function   AsyncFunction constructor </h4><br>  AsyncFunction    async function.  JavaScript       AsyncFunction. <br><br>  ,  AsyncFunction    .   ,   . <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.getPrototypeOf(<span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{}).constructor</code> </pre> <br> <b></b> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AsyncFunction([arg1[, arg2[, ...argN]],] functionBody)</code> </pre> <br> arg1, arg2,‚Ä¶ argN ‚Äî ,      .     ,     JavaScript    ,  ; , ¬´x¬ª, ¬´theValue¬ª,  ¬´a,b¬ª. <br><br> functionBody ‚Äî ,         JavaScript. <br><br>  async function,    AsyncFunction constructor    ,   .   ,       async function expression      ,        . <br><br>  ,  ,           ,    . <br><br>  AsyncFunction constructor   (   new)    ,      . <br><br>  async functions    AsyncFunction constructor,       ;       .                ,        ,     AsyncFunction constructor.     eval    async function. <br><br>   async function   AsyncFunction constructor <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">resolveAfter2Seconds</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">resolve</span></span></span><span class="hljs-function"> =&gt;</span></span> { setTimeout(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { resolve(x); }, <span class="hljs-number"><span class="hljs-number">2000</span></span>); }); } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> AsyncFunction = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.getPrototypeOf(<span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{}).constructor <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> a = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AsyncFunction(<span class="hljs-string"><span class="hljs-string">'a'</span></span>, <span class="hljs-string"><span class="hljs-string">'b'</span></span>, <span class="hljs-string"><span class="hljs-string">'return await resolveAfter2Seconds(a) + await resolveAfter2Seconds(b);'</span></span>); a(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>).then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">v</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(v); <span class="hljs-comment"><span class="hljs-comment">//  30  4  });</span></span></code> </pre> <br><h4>  async function </h4><br>  async function   ,    AsyncFunction.     async-,   async function. <br><br> <b></b> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">name</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[param[, param[, ... param]]]</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// body }</span></span></code> </pre> <br> name ‚Äî  . <br> param ‚Äî  ,     . <br> statements ‚Äî ,   . <br><br>    async  Promise.    , Promise ,   .   async  , Promise     (throws) . <br><br>  async    await,     async      Promise,     async    . <br><br>   await     .       SyntaxError. <br><br>   async/await   promises        Promises.     Promises   callback-, async/await     promises. <br><br>  <b>Beispiel</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">resolveAfter2Seconds</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">resolve</span></span></span><span class="hljs-function"> =&gt;</span></span> { setTimeout(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { resolve(x); }, <span class="hljs-number"><span class="hljs-number">2000</span></span>); }); } <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add1</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> resolveAfter2Seconds(<span class="hljs-number"><span class="hljs-number">20</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> b = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> resolveAfter2Seconds(<span class="hljs-number"><span class="hljs-number">30</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x + a + b; } add1(<span class="hljs-number"><span class="hljs-number">10</span></span>).then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">v</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(v); <span class="hljs-comment"><span class="hljs-comment">//  60  4  }); async function add2(x) { const a = resolveAfter2Seconds(20); const b = resolveAfter2Seconds(30); return x + await a + await b; } add2(10).then(v =&gt; { console.log(v); //  60  2  });</span></span></code> </pre> <br><h4>    ? </h4><br>     JS-   .js ,         .        ,     .         . <br><br>    ,    JS ‚Äî   ,       .  , ,      ,  ,   .        ,   . (You-Dont-Know-JS/async &amp; performance, Jake Archibald). <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ajax(..)  Ajax-,   var data = ajax( "http://some.url.1" ); console.log( data );// !  `data`     Ajax-</span></span></code> </pre> <br>    ? console.log()  ,      . <br><br>   ¬´¬ª    ,   : <br><br><pre> <code class="javascript hljs">ajax( <span class="hljs-string"><span class="hljs-string">"http://some.url.1"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">myCallbackFunction</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log( data ); <span class="hljs-comment"><span class="hljs-comment">// ,   ! } );</span></span></code> </pre> <br>        . <br><br>    3  getUser, getPosts, getComments. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { getUser, getPosts, getComments } = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./db'</span></span>); getUser(<span class="hljs-number"><span class="hljs-number">1</span></span>, (error, user) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(error) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(error); getPosts(user.id, (error, posts) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(error) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(error); getComments(posts[<span class="hljs-number"><span class="hljs-number">0</span></span>].id, (error, comment) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(error) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(error); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(comments); }); }); });</code> </pre> <br>       ,        .       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Callback Hell</a> .   ,     () ,     . <br><br>         Promise (      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a> ,        .        .        . <br><br><pre> <code class="javascript hljs">getUser(<span class="hljs-number"><span class="hljs-number">1</span></span>) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">user</span></span></span><span class="hljs-function"> =&gt;</span></span> getPosts(user,id)) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">posts</span></span></span><span class="hljs-function"> =&gt;</span></span> getComments(posts[<span class="hljs-number"><span class="hljs-number">0</span></span>].id)) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">comments</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(comments)) .catch(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(error));</code> </pre> <br>  Promise  Generators (       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a> .          ,       Promise,      ‚Äî  ,   .            try...catch.        ‚Äî        Promise    ,      .          ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">co</a> .         . <br><br><pre> <code class="javascript hljs">co(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">* (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> user = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> getUser(<span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> posts = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> getPosts(user.id); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> comments = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> getComments(posts[<span class="hljs-number"><span class="hljs-number">0</span></span>].id); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(comments); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (error) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(error); } }); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">co</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">generator</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> iterator = generator(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">resolve, reject</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">prev</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { value, done } = iterator.next(prev); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (done) resolve(value); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (value <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>) value.then(run, reject); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> run(value); } run(); }); }</code> </pre> <br>             . <br>    (Calback functions) ‚Äî   ,        . <br><br>  (Promises) ‚Äî   ,     . <br><br>  (Generators) ‚Äî     ,      ,        . <br><br>        (Promises)   (Generators),  ,         . <br><br>     ,      ,   : <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUser</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">id</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> }; } <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> user = getUser(<span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(user); <span class="hljs-comment"><span class="hljs-comment">// { id: 1 }</span></span></code> </pre> <br>      (   async),    Promise      id. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUser</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">id</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> }; } <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> user = getUser(<span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(user); <span class="hljs-comment"><span class="hljs-comment">// Promise { {id: 1} }</span></span></code> </pre> <br>  ,  ,      Promis (    Promis     ).          ,      . <br><br>          then(). <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUser</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">id</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> }; } getUser(<span class="hljs-number"><span class="hljs-number">1</span></span>) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">user</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(user)); <span class="hljs-comment"><span class="hljs-comment">// { id: 1 }</span></span></code> </pre> <br>       await    . <br><br>      (          HTTP . <br><br><pre> <code class="javascript hljs">fetch(<span class="hljs-string"><span class="hljs-string">`https://jsonplaceholder.typicode.com/users/1`</span></span>) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data</span></span></span><span class="hljs-function"> =&gt;</span></span> data.json()) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(data));</code> </pre> <br>        Promise. <br>        ,     . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sendRequest</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> response= <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> fetch(<span class="hljs-string"><span class="hljs-string">`https://jsonplaceholder.typicode.com/users/1`</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> response.json(); } <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> a = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> sendRequest(); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(a); } main();</code> </pre> <br>           async      .        main().       then(),         . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sendRequest</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> response= <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> fetch(<span class="hljs-string"><span class="hljs-string">`https://jsonplaceholder.typicode.com/users/1`</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> response.json(); } sendRequest() .then(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(data));</code> </pre> <br>              fetch().       await,      :    fetch()      response.       :    fetch()       . <br><br>      Promise  async function <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//  Promise function sendRequest() { return fetch(`https://jsonplaceholder.typicode.com/users/1`) .then(data =&gt; data.json()); } //  async function async function sendRequest() { let response = await fetch(`https://jsonplaceholder.typicode.com/users/1`); return response.json(); }</span></span></code> </pre> <br>  await       ,          . <br><br>          try...catch. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sendRequest</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> response = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> fetch(<span class="hljs-string"><span class="hljs-string">`https://jsonplaceholder.typicode.com/users/1`</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>(<span class="hljs-string"><span class="hljs-string">"Unexpected error"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> response.json(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>(error) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(error); <span class="hljs-comment"><span class="hljs-comment">// Error: Unexpected error at sendRequest } }</span></span></code> </pre> <br>   ‚Ä¶ <br><br><pre> <code class="javascript hljs"> <span class="hljs-comment"><span class="hljs-comment">//    async; await; async; await; async; await; async; await; In the System(); The function.sleep()s tonight~</span></span></code> </pre> <br>  Async Function Definitions   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"></a> ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">MDN Web Docs</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de475074/">https://habr.com/ru/post/de475074/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de475060/index.html">Erstellen eines einfachen Anrufverfolgungsdienstes, Teil 2</a></li>
<li><a href="../de475062/index.html">Einf√ºhrung Mit Apple anmelden - Apple Authorization System</a></li>
<li><a href="../de475064/index.html">.NET Core 3 f√ºr Windows Desktop</a></li>
<li><a href="../de475066/index.html">Die Chroniken des Buchhungers</a></li>
<li><a href="../de475068/index.html">Wir wickeln den gesamten LAN-Verkehr in VPN ohne Geschwindigkeitsbegrenzung</a></li>
<li><a href="../de475076/index.html">Sowjetische Superhelden, tschechische Booger und australische Klone</a></li>
<li><a href="../de475078/index.html">Grundlegendes zu Eigenschaftenwrappern in SwiftUI</a></li>
<li><a href="../de475082/index.html">Habr Weekly # 26 / Viert√§gige Arbeitswoche, GitLab ist in die Politik gekommen, Yandex testet Rover-Lieferroboter</a></li>
<li><a href="../de475092/index.html">"Ich werde es sp√§ter lesen": das schwierige Schicksal einer Offline-Sammlung von Webseiten</a></li>
<li><a href="../de475096/index.html">Ank√ºndigung von .NET Core 3.1 Preview 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>