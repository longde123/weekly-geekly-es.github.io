<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìí ü•É üïõ Projet Data Science de la recherche √† la mise en ≈ìuvre en utilisant Talking Hat comme exemple üöò üïß üöó</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il y a un mois, Lenta a lanc√© un concours dans lequel le m√™me chapeau parlant d'Harry Potter identifie les participants qui ont acc√®s au r√©seau social...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Projet Data Science de la recherche √† la mise en ≈ìuvre en utilisant Talking Hat comme exemple</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ods/blog/430006/"><p><img src="https://habrastorage.org/webt/4h/il/lk/4hillkjrgatenqqix3nypmyn8vm.png"></p><br><p>  Il y a un mois, Lenta a lanc√© un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">concours</a> dans lequel le m√™me <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">chapeau parlant</a> d'Harry Potter identifie les participants qui ont acc√®s au r√©seau social √† l'une des quatre facult√©s.  La concurrence n'est pas mauvaise, les noms qui sonnent diff√©remment sont d√©termin√©s par diff√©rents d√©partements, et les noms et pr√©noms anglais et russes similaires sont distribu√©s de mani√®re similaire.  Je ne sais pas si la distribution d√©pend uniquement des noms et pr√©noms, et si le nombre d'amis ou d'autres facteurs est pris en compte d'une mani√®re ou d'une autre, mais ce concours a sugg√©r√© l'id√©e de cet article: essayez de former un classificateur √† partir de z√©ro, ce qui permettra aux utilisateurs d'√™tre distribu√©s dans diff√©rentes facult√©s. </p><a name="habracut"></a><br><p>  Dans cet article, nous allons cr√©er un mod√®le ML simple qui r√©partit les personnes dans les d√©partements de Harry Potter en fonction de leur nom et pr√©nom, apr√®s avoir travers√© un petit processus de recherche suivant la m√©thodologie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CRISP</a> .  √Ä savoir, nous: </p><br><ul><li>  Nous formulons le probl√®me; </li><li>  Nous √©tudions les approches possibles de sa solution et formulons les besoins en donn√©es (m√©thodes et donn√©es de la solution); </li><li>  Nous collecterons les donn√©es n√©cessaires (m√©thodes de solution et donn√©es); </li><li>  Nous √©tudierons l'ensemble de donn√©es collect√©es (Recherche exploratoire); </li><li>  Extraire des fonctionnalit√©s de donn√©es brutes (Feature Engineering); </li><li>  Enseignons un mod√®le d'apprentissage automatique (√©valuation de mod√®le); </li><li>  Comparez les r√©sultats obtenus, √©valuez la qualit√© des solutions et, si n√©cessaire, r√©p√©tez les paragraphes 2 √† 6; </li><li>  Nous int√©grons la solution dans un service utilisable (Production). </li></ul><br><p><img src="https://habrastorage.org/webt/6l/pf/oa/6lpfoa17u8pxjkf7wke7pm19-h0.png"></p><br><p>  Cette t√¢che peut sembler triviale, nous imposerons donc une restriction suppl√©mentaire sur l'ensemble du processus (pour qu'il prenne moins de 2 heures) et sur cet article (pour que son temps de lecture soit inf√©rieur √† 15 minutes). </p><br><p>  Si vous √™tes d√©j√† plong√© dans le monde magnifique et merveilleux de la science des donn√©es et que vous ne voyez pas Kagglite en permanence, ou (Dieu nous en pr√©serve) comme pour mesurer la longueur de votre Hadup lors de r√©unions avec des coll√®gues, alors l'article vous semblera probablement simple et sans int√©r√™t.  De plus: la qualit√© des mod√®les finaux n'est pas la valeur principale de cet article.  Nous vous avons pr√©venu.  Allons-y. </p><br><p>  Un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">r√©f√©rentiel github</a> avec le code utilis√© dans l'article est √©galement disponible pour les lecteurs curieux.  En cas d'erreur, veuillez ouvrir PR. </p><br><h2 id="formuliruem-zadachu">  Nous formulons le probl√®me </h2><br><p>  Il est possible de r√©soudre un probl√®me qui n'a pas de crit√®res de d√©cision clairs pendant une dur√©e infiniment longue. Nous d√©ciderons donc imm√©diatement que nous voulons obtenir une solution qui nous permettrait d'obtenir la r√©ponse "Gryffondor", "Serdaigle", "Poufsouffle" ou "Serpentard" en r√©ponse √† la ligne saisie. </p><br><p>  En fait, nous voulons obtenir une bo√Æte noire: </p><br><pre><code class="plaintext hljs">" " =&gt; [?] =&gt; Griffindor</code> </pre> <br><p>  Le chapeau noir d'origine distribuait les jeunes sorciers aux d√©partements en fonction de leur nature et de leurs qualit√©s personnelles.  √âtant donn√© que les donn√©es sur le caract√®re et la personnalit√© selon les conditions de la t√¢che ne sont pas disponibles pour nous, nous utiliserons le nom et le pr√©nom du participant, en se rappelant que dans ce cas, nous devons r√©partir les caract√®res du livre entre les d√©partements qui correspondent √† leurs d√©partements natifs du livre.  Et les potteromanes seraient certainement contrari√©s si notre d√©cision distribuait Harry √† Poufsouffle ou Serdaigle (mais cela devrait envoyer Harry √† Gryffondor et Serpentard avec une probabilit√© √©gale de transmettre l'esprit du livre). </p><br><p>  Puisque nous parlons de probabilit√©s, nous formalisons le probl√®me en termes math√©matiques plus rigoureux.  Du point de vue de la Data Science, nous r√©solvons le probl√®me de classification, √† savoir assigner √† un objet (ligne, sous forme de nom et pr√©nom) une certaine classe (en fait c'est juste une √©tiquette, ou √©tiquette, qui peut √™tre un nombre ou 4 variables qui ont une valeur oui / non )  Nous comprenons qu'au moins dans le cas de Harry, il sera correct de donner 2 r√©ponses: Gryffondor et Serpentard, il serait donc pr√©f√©rable de ne pas pr√©dire la facult√© sp√©cifique que le chapeau d√©finit, mais la probabilit√© qu'une personne soit affect√©e √† cette facult√©, donc notre d√©cision sera prise en une sorte de fonction </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>f</mi><mo stretchy=&quot;false&quot;>(</mo><mo>&amp;lt;</mo><mi>N</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo>&amp;gt;&amp;lt;</mo><mi>S</mi><mi>u</mi><mi>r</mi><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo>&amp;gt;</mo><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>g</mi><mi>r</mi><mi>i</mi><mi>f</mi><mi>f</mi><mi>o</mi><mi>n</mi><mi>d</mi><mi>o</mi><mi>r</mi></mrow></msub><mo>;</mo><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>r</mi><mi>a</mi><mi>v</mi><mi>e</mi><mi>n</mi><mi>c</mi><mi>l</mi><mi>a</mi><mi>w</mi></mrow></msub><mo>;</mo><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>h</mi><mi>u</mi><mi>f</mi><mi>f</mi><mi>l</mi><mi>p</mi><mi>u</mi><mi>f</mi><mi>f</mi></mrow></msub><mo>;</mo><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>s</mi><mi>l</mi><mi>i</mi><mi>t</mi><mi>h</mi><mi>e</mi><mi>r</mi><mi>i</mi><mi>n</mi></mrow></msub><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="73.541ex" height="2.78ex" viewBox="0 -832 31663.4 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-66" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-28" x="550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-3C" x="940" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-4E" x="1996" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-61" x="2884" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6D" x="3414" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-65" x="4292" y="0"></use><g transform="translate(5037,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-3E"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-3C" x="778" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-53" x="6871" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-75" x="7517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-72" x="8089" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6E" x="8541" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-61" x="9141" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6D" x="9671" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-65" x="10549" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-3E" x="11294" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-29" x="12072" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-3D" x="12739" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-28" x="13796" y="0"></use><g transform="translate(14185,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-155)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-67" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-72" x="480" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-69" x="932" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-66" x="1277" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-66" x="1827" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6F" x="2378" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6E" x="2864" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-64" x="3464" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6F" x="3988" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-72" x="4473" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-3B" x="18410" y="0"></use><g transform="translate(18855,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-61" x="451" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-76" x="981" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-65" x="1466" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6E" x="1932" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-63" x="2533" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6C" x="2967" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-61" x="3265" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-77" x="3795" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-3B" x="22788" y="0"></use><g transform="translate(23233,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-155)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-68" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-75" x="576" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-66" x="1149" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-66" x="1699" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6C" x="2250" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-70" x="2548" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-75" x="3052" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-66" x="3624" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-66" x="4175" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-3B" x="27317" y="0"></use><g transform="translate(27762,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-73" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6C" x="469" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-69" x="768" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-74" x="1113" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-68" x="1475" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-65" x="2051" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-72" x="2518" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-69" x="2969" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6E" x="3315" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-29" x="31273" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>f</mi><mo stretchy="false">(</mo><mo>&lt;</mo><mi>N</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo>&gt;&lt;</mo><mi>S</mi><mi>u</mi><mi>r</mi><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo>&gt;</mo><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>g</mi><mi>r</mi><mi>i</mi><mi>f</mi><mi>f</mi><mi>o</mi><mi>n</mi><mi>d</mi><mi>o</mi><mi>r</mi></mrow></msub><mo>;</mo><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>r</mi><mi>a</mi><mi>v</mi><mi>e</mi><mi>n</mi><mi>c</mi><mi>l</mi><mi>a</mi><mi>w</mi></mrow></msub><mo>;</mo><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>h</mi><mi>u</mi><mi>f</mi><mi>f</mi><mi>l</mi><mi>p</mi><mi>u</mi><mi>f</mi><mi>f</mi></mrow></msub><mo>;</mo><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>s</mi><mi>l</mi><mi>i</mi><mi>t</mi><mi>h</mi><mi>e</mi><mi>r</mi><mi>i</mi><mi>n</mi></mrow></msub><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> f (<Name> <Surname>) = (P_ {griffondor}; P_ {ravenclaw}; P_ {hufflpuff}; P_ {slitherin}) </script></p><br><h3 id="metriki-i-ocenka-kachestva">  Mesures et √©valuation de la qualit√© </h3><br><p>  La t√¢che et le but sont formul√©s, <del>  Maintenant, nous allons penser comment le r√©soudre </del>  mais ce n‚Äôest pas tout.  Pour d√©marrer l'√©tude, vous devez saisir des mesures de qualit√©.  En d'autres termes, pour d√©terminer comment nous comparerons 2 solutions diff√©rentes l'une √† l'autre. </p><br><p>  Tout dans la vie est bon et simple - nous comprenons intuitivement qu'un d√©tecteur de spam doit transmettre un minimum de spam aux messages entrants, ainsi que passer un maximum des lettres n√©cessaires et il ne doit certainement pas envoyer les lettres n√©cessaires au spam. </p><br><p>  En r√©alit√©, tout est plus compliqu√© et la confirmation de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cela est un</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">grand</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nombre d'</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">articles</a> qui expliquent comment et quelles mesures sont utilis√©es.  La pratique aide √† mieux comprendre cela, mais c'est un sujet tellement volumineux que nous promettons d'√©crire un article s√©par√© √† ce sujet et de cr√©er une table ouverte afin que tout le monde puisse jouer et comprendre dans la pratique en quoi cela diff√®re. </p><br><p>  Le m√©nage ¬´mais choisissons le meilleur¬ª pour nous sera <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ROC AUC</a> .  C'est exactement ce que nous voulons de la m√©trique dans ce cas: moins il y a de faux positifs et plus la pr√©diction r√©elle est pr√©cise, plus l'ASC ROC est √©lev√©e. </p><br><p>  Pour un mod√®le ROC id√©al, AUC est 1, pour un mod√®le al√©atoire id√©al qui d√©finit les classes de <em>mani√®re absolument al√©atoire</em> - 0,5. </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>R</mi><mi>O</mi><mi>C</mi><mtext>&amp;#xA0;</mtext><mi>A</mi><mi>U</mi><mi>C</mi><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mo stretchy=&quot;false&quot;>[</mo><mn>0.5</mn><mo>;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>]</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="20.416ex" height="2.66ex" viewBox="0 -832 8790.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-52" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-4F" x="759" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-43" x="1523" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-41" x="2533" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-55" x="3284" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-43" x="4051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-69" x="5062" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6E" x="5407" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-5B" x="6008" y="0"></use><g transform="translate(6286,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-35" x="779" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-3B" x="7566" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-31" x="8011" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-5D" x="8511" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>R</mi><mi>O</mi><mi>C</mi><mtext>&nbsp;</mtext><mi>A</mi><mi>U</mi><mi>C</mi><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mo stretchy="false">[</mo><mn>0.5</mn><mo>;</mo><mn>1</mn><mo stretchy="false">]</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-2"> ROC \ AUC \ in [0.5; 1] </script></p><br><h2 id="algoritmy">  Des algorithmes </h2><br><p>  Notre bo√Æte noire devrait prendre en compte la distribution des h√©ros des livres, prendre un nom et un pr√©nom diff√©rents en entr√©e et donner le r√©sultat.  Pour r√©soudre le probl√®me de classification, vous pouvez utiliser diff√©rents algorithmes d'apprentissage automatique: </p><br><p>  r√©seaux de neurones, machines de factorisation, r√©gression lin√©aire ou, par exemple, SVM. </p><br><p>  Contrairement √† la croyance populaire, la Data Science ne se limite pas aux seuls r√©seaux de neurones, et pour vulgariser cette id√©e, dans cet article les r√©seaux de neurones sont laiss√©s <em>√† l'exercice pour un lecteur curieux</em> .  Ceux qui n'ont pas suivi un seul cours d'analyse de donn√©es (en particulier le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">meilleur</a> subjectivement de l'ODS), ou simplement lu <em>n</em> nouvelles sur l'apprentissage automatique ou l'IA, qui sont maintenant publi√©es m√™me dans les magazines de p√™cheurs amateurs, doivent avoir rencontr√© les noms de groupes g√©n√©raux d'algorithmes : ensachage, boosting, m√©thode des vecteurs supports (SVM), r√©gression lin√©aire.  Ce sont eux que nous utiliserons pour r√©soudre notre probl√®me. </p><br><p>  Et pour √™tre plus pr√©cis, on compare: </p><br><ul><li>  R√©gression lin√©aire </li><li>  Boosting (XGboost, LightGBM) </li><li>  D√©cider des arbres (√† proprement parler, c'est le m√™me coup de pouce, mais nous le retirerons s√©par√©ment: Extra Trees) </li><li>  Ensachage (for√™t al√©atoire) </li><li>  SVM </li></ul><br><p>  Nous pouvons r√©soudre le probl√®me de la distribution de chaque √©tudiant de Poudlard √† l'une des facult√©s en d√©finissant la facult√© qui lui correspond, mais √† proprement parler, cette t√¢che <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">revient</a> √† r√©soudre le probl√®me de d√©terminer si chaque classe appartient individuellement.  Par cons√©quent, dans le cadre de cet article, nous nous sommes fix√© pour objectif d'obtenir 4 mod√®les, un pour chaque facult√©. </p><br><h2 id="dannye">  Les donn√©es </h2><br><p>  Trouver le bon ensemble de donn√©es pour la formation, et plus important encore, l√©gal pour l'utiliser √† la bonne fin, est l'une des t√¢ches les plus complexes et chronophages de la science des donn√©es.  Pour notre t√¢che, nous prendrons les donn√©es de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Wikia</a> dans le monde de Harry Potter.  Par exemple, sur ce lien vous pouvez trouver tous les personnages qui ont √©tudi√© √† la facult√© de Gryffondor.  Il est important que dans ce cas, nous utilisons les donn√©es √† des fins non commerciales, par cons√©quent, nous ne violons pas la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">licence de</a> ce site. </p><br><p><img src="https://habrastorage.org/webt/ff/f8/4e/fff84efaafg_yqwbhuhbfyz17k0.jpeg"></p><br><p>  Pour ceux qui pensent que les Data Scientists sont des gars si cool, je vais aller voir les Data Scientists et laissez-moi enseigner, nous vous rappelons qu'il y a une telle √©tape que le nettoyage et la pr√©paration des donn√©es.  Les donn√©es t√©l√©charg√©es doivent √™tre mod√©r√©es manuellement afin de supprimer, par exemple, "Le septi√®me pr√©fet de Gryffondor" et de supprimer "Fille inconnue de Gryffondor" semi-automatiquement.  Dans le travail r√©el, une partie proportionnellement grande de la t√¢che est toujours associ√©e √† la pr√©paration, au nettoyage et √† la restauration des valeurs manquantes dans l'ensemble de donn√©es. </p><br><p>  Un peu ctrl + c &amp; ctrl + v et √† la sortie, nous obtenons 4 fichiers texte, qui contiennent les noms des caract√®res en 2 langues: anglais et russe. </p><br><h2 id="izuchaem-sobrannye-dannye--eda-exploratory-data-analysis">  Nous √©tudions les donn√©es collect√©es (EDA, Exploratory Data Analysis) </h2><br><p>  Pour cette √©tape, nous avons 4 fichiers contenant les noms des √©tudiants des facult√©s, nous allons regarder plus en d√©tail: </p><br><pre> <code class="bash hljs">$ ls ../input griffindor.txt hufflpuff.txt ravenclaw.txt slitherin.txt</code> </pre> <br><p>  Chaque dossier contient 1 nom et pr√©nom (le cas √©ch√©ant) de l'√©l√®ve par ligne: </p><br><pre> <code class="bash hljs">$ wc -l ../input/*.txt 250 ../input/griffindor.txt 167 ../input/hufflpuff.txt 180 ../input/ravenclaw.txt 254 ../input/slitherin.txt 851 total</code> </pre> <br><p>  Les donn√©es collect√©es se pr√©sentent sous la forme: </p><br><pre> <code class="bash hljs">$ cat ../input/griffindor.txt | head -3 &amp;&amp; cat ../input/griffindor.txt | tail -3      Charlie Stainforth Melanie Stanmore Stewart</code> </pre> <br><p>  Notre id√©e est bas√©e sur l'hypoth√®se qu'il y a quelque chose de similaire dans les noms et pr√©noms que notre bo√Æte noire (ou chapeau noir) peut apprendre √† distinguer. </p><br><p>  L'algorithme peut alimenter les lignes telles quelles, mais le r√©sultat ne sera pas bon, car les mod√®les de base ne pourront pas comprendre ind√©pendamment en quoi ¬´Draco¬ª diff√®re de ¬´Harry¬ª, nous devrons donc extraire des signes de nos noms et pr√©noms. </p><br><h3 id="podgotovka-dannyh-feature-engineering">  Pr√©paration des donn√©es (ing√©nierie des fonctionnalit√©s) </h3><br><p>  <strong>Les signes</strong> (ou caract√©ristiques, √† partir de la propri√©t√© <strong>caract√©ristique</strong> <em>anglaise</em> ) sont les propri√©t√©s distinctives d'un objet.  Le nombre de fois o√π une personne a chang√© d'emploi au cours de l'ann√©e √©coul√©e, le nombre de doigts sur sa main gauche, la cylindr√©e du moteur, que le kilom√©trage de la voiture d√©passe 100 000 km ou non.  Toutes sortes de classifications de signes ont √©t√© invent√©es par un tr√®s grand nombre, il n'y a pas et ne peut pas y avoir de syst√®me unique √† cet √©gard, nous allons donc donner des exemples de ce que peuvent √™tre les signes: </p><br><ol><li>  Num√©ro rationnel </li><li>  Cat√©gorie (jusqu'√† 12, 12-18 ou 18+) </li><li>  Valeur binaire (retourn√© le premier pr√™t ou non) </li><li>  Date, couleur, partages, etc. </li></ol><br><p>  <strong>La recherche</strong> (ou la formation) de <strong>fonctionnalit√©s</strong> (en <em>anglais</em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Feature Engineering</a> ) se d√©marque tr√®s souvent comme une √©tape distincte de la recherche ou le travail d'un sp√©cialiste de l'analyse de donn√©es.  En fait, le bon sens, l'exp√©rience et les tests d'hypoth√®ses contribuent au processus lui-m√™me.  Deviner les bons signes tout de suite est une question de combinaison d'une main pleine, de connaissances fondamentales et de chance.  Parfois, il y a du chamanisme, mais l'approche g√©n√©rale est tr√®s simple: vous devez faire ce qui vous vient √† l'esprit, puis v√©rifier s'il √©tait possible d'am√©liorer la solution en ajoutant un nouvel attribut.  Par exemple, comme signe de notre t√¢che, nous pouvons prendre le nombre de gr√©sillement dans le nom. </p><br><p>  Dans la premi√®re version (car la v√©ritable √©tude Data Science - en tant que chef-d'≈ìuvre, ne peut jamais √™tre termin√©e) de notre mod√®le, nous utiliserons les fonctionnalit√©s suivantes pour le nom et le pr√©nom: </p><br><ol><li>  1 et la derni√®re lettre du mot - voyelle ou consonne </li><li>  Voyelles doubles et consonnes </li><li>  Nombre de voyelles, consonnes, sourdes, vois√©es </li><li>  Longueur du nom, longueur du nom de famille </li><li>  ... </li></ol><br><p>  Pour ce faire, nous prendrons <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ce</a> r√©f√©rentiel comme base et ajouterons une classe afin qu'il puisse √™tre utilis√© pour les lettres latines.  Cela nous donnera l'occasion de d√©terminer le son de chaque lettre. </p><br><pre> <code class="python hljs">&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> Phonetic <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> RussianLetter, EnglishLetter &gt;&gt; RussianLetter(<span class="hljs-string"><span class="hljs-string">''</span></span>).classify() {<span class="hljs-string"><span class="hljs-string">'consonant'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, <span class="hljs-string"><span class="hljs-string">'deaf'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-string"><span class="hljs-string">'hard'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-string"><span class="hljs-string">'mark'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-string"><span class="hljs-string">'paired'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-string"><span class="hljs-string">'shock'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-string"><span class="hljs-string">'soft'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-string"><span class="hljs-string">'sonorus'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, <span class="hljs-string"><span class="hljs-string">'vowel'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>} &gt;&gt; EnglishLetter(<span class="hljs-string"><span class="hljs-string">'d'</span></span>).classify() {<span class="hljs-string"><span class="hljs-string">'consonant'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, <span class="hljs-string"><span class="hljs-string">'deaf'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-string"><span class="hljs-string">'hard'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, <span class="hljs-string"><span class="hljs-string">'mark'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-string"><span class="hljs-string">'paired'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-string"><span class="hljs-string">'shock'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-string"><span class="hljs-string">'soft'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-string"><span class="hljs-string">'sonorus'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, <span class="hljs-string"><span class="hljs-string">'vowel'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>}</code> </pre> <br><p>  Nous pouvons maintenant d√©finir des fonctions simples pour calculer des statistiques, par exemple: </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">starts_with_letter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(word, letter_type=</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'vowel'</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""   ,    . :param word:  :param letter_type: 'vowel'  'consonant'.   . :return: Boolean """</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> len(word) == <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Letter(word[<span class="hljs-number"><span class="hljs-number">0</span></span>]).classify()[letter_type] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">count_letter_type</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(word)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""       . :param word:  :param debug:    :return: :obj:`dict` of :obj:`str` =&gt; :int:count """</span></span> count = { <span class="hljs-string"><span class="hljs-string">'consonant'</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'deaf'</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'hard'</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'mark'</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'paired'</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'shock'</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'soft'</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'sonorus'</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'vowel'</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> letter <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> word: classes = Letter(letter).classify() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> key <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> count.keys(): <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> classes[key]: count[key] += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> count</code> </pre> <br><p>  En utilisant ces fonctions, nous pouvons d√©j√† obtenir les premiers signes: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> feature_engineering <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * &gt;&gt; print(<span class="hljs-string"><span class="hljs-string">"  (¬´¬ª): "</span></span>, len(<span class="hljs-string"><span class="hljs-string">""</span></span>))   (¬´¬ª): <span class="hljs-number"><span class="hljs-number">5</span></span> &gt;&gt; print(<span class="hljs-string"><span class="hljs-string">" (¬´¬ª)   : "</span></span>, starts_with_letter(<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'vowel'</span></span>))  (¬´¬ª)   : <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> &gt;&gt; print(<span class="hljs-string"><span class="hljs-string">" (¬´¬ª)   : "</span></span>, starts_with_letter(<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'consonant'</span></span>))  (¬´¬ª)   : <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> &gt;&gt; count_Harry = count_letter_type(<span class="hljs-string"><span class="hljs-string">""</span></span>) &gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"     (¬´¬ª): "</span></span>, count_Harry[<span class="hljs-string"><span class="hljs-string">'paired'</span></span>])      (¬´¬ª): <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br><p>  √Ä strictement parler, √† l'aide de ces fonctions, nous pouvons obtenir une repr√©sentation vectorielle de la cha√Æne, c'est-√†-dire que nous obtenons le mappage: </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>f</mi><mo stretchy=&quot;false&quot;>(</mo><mo>&amp;lt;</mo><mi>N</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo>&amp;gt;&amp;lt;</mo><mi>S</mi><mi>u</mi><mi>r</mi><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo>&amp;gt;</mo><mo stretchy=&quot;false&quot;>)</mo><mo>=&amp;gt;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>l</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><msub><mi>h</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi></mrow></msub><mo>,</mo><mi>l</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><msub><mi>h</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>s</mi><mi>u</mi><mi>r</mi><mi>n</mi><mi>o</mi><mi>m</mi><mi>s</mi></mrow></msub><mo>,</mo><mo>.</mo><mo>.</mo><mo>.</mo><mo>,</mo><mi>n</mi><mi>o</mi><mi>m</mi><mi>b</mi><mi>r</mi><mi>e</mi><mi>d</mi><mi>e</mi><msub><mtext>&amp;#xA0;</mtext><mi>v</mi></msub><mi>o</mi><mi>w</mi><mi>e</mi><mi>l</mi><msub><mi>s</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>s</mi><mi>u</mi><mi>r</mi><mi>n</mi><mi>o</mi><mi>m</mi><mi>s</mi></mrow></msub><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="89.719ex" height="2.66ex" viewBox="0 -832 38628.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-66" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-28" x="550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-3C" x="940" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-4E" x="1996" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-61" x="2884" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6D" x="3414" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-65" x="4292" y="0"></use><g transform="translate(5037,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-3E"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-3C" x="778" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-53" x="6871" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-75" x="7517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-72" x="8089" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6E" x="8541" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-61" x="9141" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6D" x="9671" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-65" x="10549" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-3E" x="11294" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-29" x="12072" y="0"></use><g transform="translate(12739,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-3D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-3E" x="778" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-28" x="14574" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6C" x="14964" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-65" x="15262" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6E" x="15729" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-67" x="16329" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-74" x="16810" y="0"></use><g transform="translate(17171,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-68" x="0" y="0"></use><g transform="translate(576,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-61" x="600" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6D" x="1130" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-65" x="2008" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-2C" x="19598" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6C" x="20043" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-65" x="20341" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6E" x="20808" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-67" x="21408" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-74" x="21889" y="0"></use><g transform="translate(22250,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-68" x="0" y="0"></use><g transform="translate(576,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-73" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-75" x="469" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-72" x="1042" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6E" x="1493" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6F" x="2094" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6D" x="2579" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-73" x="3457" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-2C" x="25704" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-2E" x="26149" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-2E" x="26594" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-2E" x="27040" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-2C" x="27485" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6E" x="27930" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6F" x="28530" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6D" x="29016" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-62" x="29894" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-72" x="30324" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-65" x="30775" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-64" x="31242" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-65" x="31765" y="0"></use><g transform="translate(32232,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-76" x="353" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6F" x="32925" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-77" x="33411" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-65" x="34127" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6C" x="34594" y="0"></use><g transform="translate(34892,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-73" x="0" y="0"></use><g transform="translate(469,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-73" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-75" x="469" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-72" x="1042" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6E" x="1493" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6F" x="2094" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-6D" x="2579" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMATHI-73" x="3457" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhhfYBBqdIYseWNIzDwCXftPCgEu-A#MJMAIN-29" x="38239" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>f</mi><mo stretchy="false">(</mo><mo>&lt;</mo><mi>N</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo>&gt;&lt;</mo><mi>S</mi><mi>u</mi><mi>r</mi><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo>&gt;</mo><mo stretchy="false">)</mo><mo>=&gt;</mo><mo stretchy="false">(</mo><mi>l</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><msub><mi>h</mi><mrow class="MJX-TeXAtom-ORD"><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi></mrow></msub><mo>,</mo><mi>l</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><msub><mi>h</mi><mrow class="MJX-TeXAtom-ORD"><mi>s</mi><mi>u</mi><mi>r</mi><mi>n</mi><mi>o</mi><mi>m</mi><mi>s</mi></mrow></msub><mo>,</mo><mo>.</mo><mo>.</mo><mo>.</mo><mo>,</mo><mi>n</mi><mi>o</mi><mi>m</mi><mi>b</mi><mi>r</mi><mi>e</mi><mi>d</mi><mi>e</mi><msub><mtext>&nbsp;</mtext><mi>v</mi></msub><mi>o</mi><mi>w</mi><mi>e</mi><mi>l</mi><msub><mi>s</mi><mrow class="MJX-TeXAtom-ORD"><mi>s</mi><mi>u</mi><mi>r</mi><mi>n</mi><mi>o</mi><mi>m</mi><mi>s</mi></mrow></msub><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-3"> f (<Name> <Surname>) => (length_ {name}, length_ {surnoms}, ..., nombre de \ _vowels_ {surnoms}) </script></p><br><p>  Nous pouvons maintenant pr√©senter nos donn√©es sous la forme d'un ensemble de donn√©es qui peut √™tre entr√© dans l'algorithme d'apprentissage automatique: </p><br><pre> <code class="python hljs">&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> data_loaders <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> load_processed_data &gt;&gt; hogwarts_df = load_processed_data() &gt;&gt; hogwarts_df.head()</code> </pre> <br><p><img src="https://habrastorage.org/webt/5-/-e/4g/5--e4gvhmdhe00fxjhwqnxzdajk.png"></p><br><p>  De plus, en cons√©quence, nous obtenons les sympt√¥mes suivants pour chaque √©l√®ve: </p><br><pre> <code class="python hljs">&gt;&gt; hogwarts_df[hogwarts_df.columns].dtypes</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Signes re√ßus</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">name object surname object is_english bool name_starts_with_vowel bool name_starts_with_consonant bool name_ends_with_vowel bool name_ends_with_consonant bool name_length int64 name_vowels_count int64 name_double_vowels_count int64 name_consonant_count int64 name_double_consonant_count int64 name_paired_count int64 name_deaf_count int64 name_sonorus_count int64 surname_starts_with_vowel bool surname_starts_with_consonant bool surname_ends_with_vowel bool surname_ends_with_consonant bool surname_length int64 surname_vowels_count int64 surname_double_vowels_count int64 surname_consonant_count int64 surname_double_consonant_count int64 surname_paired_count int64 surname_deaf_count int64 surname_sonorus_count int64 is_griffindor int64 is_hufflpuff int64 is_ravenclaw int64 is_slitherin int64 dtype: object</code> </pre> </div></div><br><p>  Les 4 derni√®res colonnes sont cibl√©es - elles contiennent des informations sur la facult√© dans laquelle un √©tudiant est inscrit. </p><br><h2 id="obuchenie-algoritmov">  Formation √† l'algorithme </h2><br><p>  En un mot, les algorithmes sont form√©s comme les gens: ils font des erreurs et apprennent d'eux.  Afin de comprendre combien ils ont commis une erreur, les algorithmes utilisent <strong>des</strong> fonctions d' <strong>erreur</strong> (fonctions de perte, fonction de <strong>perte en</strong> <em>anglais</em> ). </p><br><p>  En r√®gle g√©n√©rale, le processus d'apprentissage est tr√®s simple et comprend plusieurs √©tapes: </p><br><ol><li>  Faites une pr√©diction. </li><li>  √âvaluez l'erreur. </li><li>  Corrigez les param√®tres du mod√®le. </li><li>  R√©p√©tez 1-3 jusqu'√† ce que l'objectif soit atteint, que le processus s'arr√™te ou que les donn√©es se terminent. </li><li><p>  √âvaluez la qualit√© du mod√®le r√©sultant. </p><br><p>  Dans la pratique, bien s√ªr, tout est un peu plus compliqu√©.  Par exemple, il y a le ph√©nom√®ne de sur- <strong>ajustement</strong> - l'algorithme peut litt√©ralement se souvenir quelles caract√©ristiques correspondent √† la r√©ponse et ainsi aggraver le r√©sultat pour des objets qui ne sont pas similaires √† ceux sur lesquels il a √©t√© form√©.  Pour √©viter cela, il existe diff√©rentes techniques et hacks. </p><br></li></ol><br><p>  Comme mentionn√© ci-dessus, nous allons r√©soudre 4 probl√®mes: un pour chaque facult√©.  Par cons√©quent, nous pr√©parerons des donn√©es pour Serpentard: </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#  ,     - : &gt;&gt; data_full = hogwarts_df.drop( [ 'name', 'surname', 'is_griffindor', 'is_hufflpuff', 'is_ravenclaw' ], axis=1).copy() #    ,   : &gt;&gt; X_data = data_full.drop('is_slitherin', axis=1) #     ,   1    &gt;&gt; y = data_full.is_slitherin</span></span></code> </pre> <br><p>  Tout en apprenant, l'algorithme compare constamment ses r√©sultats avec des donn√©es r√©elles, car cette partie de l'ensemble de donn√©es est allou√©e pour validation.  La r√®gle du bon ton est √©galement consid√©r√©e pour √©valuer le r√©sultat de l'algorithme sur des donn√©es individuelles que l'algorithme n'a pas du tout vu.  Par cons√©quent, maintenant nous divisons l'√©chantillon dans la proportion de 70/30 et formons le premier algorithme: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.cross_validation <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> train_test_split <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.ensemble <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> RandomForestClassifier <span class="hljs-comment"><span class="hljs-comment">#      &gt;&gt; seed = 7 #    &gt;&gt; test_size = 0.3 &gt;&gt; X_train, X_test, y_train, y_test = train_test_split(X_data, y, test_size=test_size, random_state=seed) &gt;&gt; rfc = RandomForestClassifier() &gt;&gt; rfc_model = rfc.fit(X_train, y_train)</span></span></code> </pre> <br><p>  C'est fait.  Maintenant, si vous soumettez des donn√©es √† l'entr√©e de ce mod√®le, cela produira un r√©sultat.  C'est amusant, donc nous allons d'abord v√©rifier si le mod√®le dans Harry reconna√Æt le Serpentard.  Pour ce faire, pr√©parez d'abord les fonctions afin d'obtenir la pr√©diction de l'algorithme: </p><br><div class="spoiler">  <b class="spoiler_title">Afficher le code</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> data_loaders <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> parse_line_to_hogwarts_df <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_single_student_features</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(name)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""      :param name: string     :return: pd.DataFrame     """</span></span> featurized_person_df = parse_line_to_hogwarts_df(name) person_df = pd.DataFrame(featurized_person_df, columns=[ <span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname'</span></span>, <span class="hljs-string"><span class="hljs-string">'is_english'</span></span>, <span class="hljs-string"><span class="hljs-string">'name_starts_with_vowel'</span></span>, <span class="hljs-string"><span class="hljs-string">'name_starts_with_consonant'</span></span>, <span class="hljs-string"><span class="hljs-string">'name_ends_with_vowel'</span></span>, <span class="hljs-string"><span class="hljs-string">'name_ends_with_consonant'</span></span>, <span class="hljs-string"><span class="hljs-string">'name_length'</span></span>, <span class="hljs-string"><span class="hljs-string">'name_vowels_count'</span></span>, <span class="hljs-string"><span class="hljs-string">'name_double_vowels_count'</span></span>, <span class="hljs-string"><span class="hljs-string">'name_consonant_count'</span></span>, <span class="hljs-string"><span class="hljs-string">'name_double_consonant_count'</span></span>, <span class="hljs-string"><span class="hljs-string">'name_paired_count'</span></span>, <span class="hljs-string"><span class="hljs-string">'name_deaf_count'</span></span>, <span class="hljs-string"><span class="hljs-string">'name_sonorus_count'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname_starts_with_vowel'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname_starts_with_consonant'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname_ends_with_vowel'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname_ends_with_consonant'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname_length'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname_vowels_count'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname_double_vowels_count'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname_consonant_count'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname_double_consonant_count'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname_paired_count'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname_deaf_count'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname_sonorus_count'</span></span>, ], index=[<span class="hljs-number"><span class="hljs-number">0</span></span>] ) featurized_person = person_df.drop( [<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname'</span></span>], axis = <span class="hljs-number"><span class="hljs-number">1</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> featurized_person <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_predictions_vector</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(model, person)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""    :param model:   :param person: string   :return: list    """</span></span> encoded_person = get_single_student_features(person) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> model.predict_proba(encoded_person)[<span class="hljs-number"><span class="hljs-number">0</span></span>]</code> </pre> </div></div><br><p>  D√©finissons maintenant un petit ensemble de donn√©es de test pour prendre en compte les r√©sultats de l'algorithme. </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">score_testing_dataset</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(model)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""      . :param model:   """</span></span> testing_dataset = [ <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">"Kirill Malev"</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">"Harry Potter"</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>,<span class="hljs-string"><span class="hljs-string">"Severus Snape"</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">"Tom Riddle"</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">"Salazar Slytherin"</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> name <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> testing_dataset: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"{} ‚Äî {}"</span></span>.format(name, get_predictions_vector(model, name)[<span class="hljs-number"><span class="hljs-number">1</span></span>])) score_testing_dataset(rfc_model)</code> </pre> <br><pre> <code class="plaintext hljs">  ‚Äî 0.5 Kirill Malev ‚Äî 0.5   ‚Äî 0.0 Harry Potter ‚Äî 0.0   ‚Äî 0.75   ‚Äî 0.9 Severus Snape ‚Äî 0.5   ‚Äî 0.2 Tom Riddle ‚Äî 0.5   ‚Äî 0.2 Salazar Slytherin ‚Äî 0.3</code> </pre> <br><p>  Les r√©sultats √©taient douteux.  M√™me le fondateur de la facult√© ne serait pas dans sa facult√©, selon ce mod√®le.  Par cons√©quent, vous devez √©valuer une qualit√© stricte: regardez les m√©triques que nous avons demand√©es au d√©but: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.metrics <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> accuracy_score, roc_auc_score, classification_report predictions = rfc_model.predict(X_test) print(<span class="hljs-string"><span class="hljs-string">"Classification report: "</span></span>) print(classification_report(y_test, predictions)) print(<span class="hljs-string"><span class="hljs-string">"Accuracy for Random Forest Model: %.2f"</span></span> % (accuracy_score(y_test, predictions) * <span class="hljs-number"><span class="hljs-number">100</span></span>)) print(<span class="hljs-string"><span class="hljs-string">"ROC AUC from first Random Forest Model: %.2f"</span></span> % (roc_auc_score(y_test, predictions)))</code> </pre> <br><pre> <code class="plaintext hljs">Classification report: precision recall f1-score support 0 0.66 0.88 0.75 168 1 0.38 0.15 0.21 89 avg / total 0.56 0.62 0.56 257 Accuracy for Random Forest Model: 62.26 ROC AUC from first Random Forest Model: 0.51</code> </pre> <br><p>  Il n'est pas surprenant que les r√©sultats soient si douteux - l'ASC ROC d'environ 0,51 sugg√®re que le mod√®le pr√©dit l√©g√®rement mieux qu'un tirage au sort. </p><br><h2 id="testirovanie-poluchennyh-rezultatov-metriki-kachestva">  Test des r√©sultats.  Mesures de qualit√© </h2><br><p>  En utilisant un exemple ci-dessus, nous avons examin√© comment 1 algorithme est form√© qui prend en charge les interfaces sklearn.  Les autres sont form√©s exactement de la m√™me mani√®re, nous ne pouvons donc former que tous les algorithmes et choisir le meilleur dans chaque cas. </p><br><p><img src="https://habrastorage.org/webt/ff/i0/fq/ffi0fqqs7gbi3aczbucvusrw2qi.jpeg"></p><br><p>  Ce n'est pas compliqu√©, pour chaque algorithme, nous formons 1 avec des param√®tres standard, et nous formons √©galement un ensemble complet, triant diverses options qui affectent la qualit√© de l'algorithme.  Cette √©tape est appel√©e Model Tuning ou Hyperparameter Optimization et son essence est tr√®s simple: l'ensemble de param√®tres qui donne le meilleur r√©sultat est s√©lectionn√©. </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> model_training <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> train_classifiers <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> data_loaders <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> load_processed_data <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> warnings warnings.filterwarnings(<span class="hljs-string"><span class="hljs-string">'ignore'</span></span>) <span class="hljs-comment"><span class="hljs-comment">#   hogwarts_df = load_processed_data() #     data_full = hogwarts_df.drop( [ 'name', 'surname', 'is_griffindor', 'is_hufflpuff', 'is_ravenclaw' ], axis=1).copy() X_data = data_full.drop('is_slitherin', axis=1) y = data_full.is_slitherin #    slitherin_models = train_classifiers(data_full, X_data, y) score_testing_dataset(slitherin_models[5])</span></span></code> </pre> <br><pre> <code class="plaintext hljs">  ‚Äî 0.09437856871661066 Kirill Malev ‚Äî 0.20820536334902712   ‚Äî 0.07550095601699099 Harry Potter ‚Äî 0.07683794773639624   ‚Äî 0.9414529336862744   ‚Äî 0.9293671807790949 Severus Snape ‚Äî 0.6576783576162999   ‚Äî 0.18577792617672767 Tom Riddle ‚Äî 0.8351835484058869   ‚Äî 0.25930925139546795 Salazar Slytherin ‚Äî 0.24008788903854789</code> </pre> <br><p>  Les chiffres de cette version sont subjectivement meilleurs que par le pass√©, mais toujours pas assez bons pour un perfectionniste interne.  Par cons√©quent, nous descendrons un niveau plus profond et reviendrons au sens du produit de notre t√¢che: nous devons pr√©dire la facult√© la plus probable, √† laquelle le h√©ros sera d√©termin√© par le chapeau de distribution.  Cela signifie que vous devez former des mod√®les pour chacune des facult√©s. </p><br><p><img src="https://habrastorage.org/webt/hc/ag/ci/hcagciojsjdzpglovd1xabohtym.jpeg"></p><br><pre> <code class="python hljs">&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> model_training <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> train_all_models <span class="hljs-comment"><span class="hljs-comment">#      &gt;&gt; slitherin_models, griffindor_models, ravenclaw_models, hufflpuff_models = \ train_all_models()</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Longue conclusion des r√©sultats et r√©sultats de la r√©gression multinomiale</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">SVM Default Report Accuracy for SVM Default: 73.93 ROC AUC for SVM Default: 0.53 Tuned SVM Report Accuracy for Tuned SVM: 72.37 ROC AUC for Tuned SVM: 0.50 KNN Default Report Accuracy for KNN Default: 70.04 ROC AUC for KNN Default: 0.58 Tuned KNN Report Accuracy for Tuned KNN: 69.65 ROC AUC for Tuned KNN: 0.58 XGBoost Default Report Accuracy for XGBoost Default: 70.43 ROC AUC for XGBoost Default: 0.54 Tuned XGBoost Report Accuracy for Tuned XGBoost: 68.09 ROC AUC for Tuned XGBoost: 0.56 Random Forest Default Report Accuracy for Random Forest Default: 73.93 ROC AUC for Random Forest Default: 0.62 Tuned Random Forest Report Accuracy for Tuned Random Forest: 74.32 ROC AUC for Tuned Random Forest: 0.54 Extra Trees Default Report Accuracy for Extra Trees Default: 69.26 ROC AUC for Extra Trees Default: 0.57 Tuned Extra Trees Report Accuracy for Tuned Extra Trees: 73.54 ROC AUC for Tuned Extra Trees: 0.55 LGBM Default Report Accuracy for LGBM Default: 70.82 ROC AUC for LGBM Default: 0.62 Tuned LGBM Report Accuracy for Tuned LGBM: 74.71 ROC AUC for Tuned LGBM: 0.53 RGF Default Report Accuracy for RGF Default: 70.43 ROC AUC for RGF Default: 0.58 Tuned RGF Report Accuracy for Tuned RGF: 71.60 ROC AUC for Tuned RGF: 0.60 FRGF Default Report Accuracy for FRGF Default: 68.87 ROC AUC for FRGF Default: 0.59 Tuned FRGF Report Accuracy for Tuned FRGF: 69.26 ROC AUC for Tuned FRGF: 0.59 SVM Default Report Accuracy for SVM Default: 70.43 ROC AUC for SVM Default: 0.50 Tuned SVM Report Accuracy for Tuned SVM: 71.60 ROC AUC for Tuned SVM: 0.50 KNN Default Report Accuracy for KNN Default: 63.04 ROC AUC for KNN Default: 0.49 Tuned KNN Report Accuracy for Tuned KNN: 65.76 ROC AUC for Tuned KNN: 0.50 XGBoost Default Report Accuracy for XGBoost Default: 69.65 ROC AUC for XGBoost Default: 0.54 Tuned XGBoost Report Accuracy for Tuned XGBoost: 68.09 ROC AUC for Tuned XGBoost: 0.50 Random Forest Default Report Accuracy for Random Forest Default: 66.15 ROC AUC for Random Forest Default: 0.51 Tuned Random Forest Report Accuracy for Tuned Random Forest: 70.43 ROC AUC for Tuned Random Forest: 0.50 Extra Trees Default Report Accuracy for Extra Trees Default: 64.20 ROC AUC for Extra Trees Default: 0.49 Tuned Extra Trees Report Accuracy for Tuned Extra Trees: 70.82 ROC AUC for Tuned Extra Trees: 0.51 LGBM Default Report Accuracy for LGBM Default: 67.70 ROC AUC for LGBM Default: 0.56 Tuned LGBM Report Accuracy for Tuned LGBM: 70.82 ROC AUC for Tuned LGBM: 0.50 RGF Default Report Accuracy for RGF Default: 66.54 ROC AUC for RGF Default: 0.52 Tuned RGF Report Accuracy for Tuned RGF: 65.76 ROC AUC for Tuned RGF: 0.53 FRGF Default Report Accuracy for FRGF Default: 65.76 ROC AUC for FRGF Default: 0.53 Tuned FRGF Report Accuracy for Tuned FRGF: 69.65 ROC AUC for Tuned FRGF: 0.52 SVM Default Report Accuracy for SVM Default: 74.32 ROC AUC for SVM Default: 0.50 Tuned SVM Report Accuracy for Tuned SVM: 74.71 ROC AUC for Tuned SVM: 0.51 KNN Default Report Accuracy for KNN Default: 69.26 ROC AUC for KNN Default: 0.48 Tuned KNN Report Accuracy for Tuned KNN: 73.15 ROC AUC for Tuned KNN: 0.49 XGBoost Default Report Accuracy for XGBoost Default: 72.76 ROC AUC for XGBoost Default: 0.49 Tuned XGBoost Report Accuracy for Tuned XGBoost: 74.32 ROC AUC for Tuned XGBoost: 0.50 Random Forest Default Report Accuracy for Random Forest Default: 73.93 ROC AUC for Random Forest Default: 0.52 Tuned Random Forest Report Accuracy for Tuned Random Forest: 74.32 ROC AUC for Tuned Random Forest: 0.50 Extra Trees Default Report Accuracy for Extra Trees Default: 73.93 ROC AUC for Extra Trees Default: 0.52 Tuned Extra Trees Report Accuracy for Tuned Extra Trees: 73.93 ROC AUC for Tuned Extra Trees: 0.50 LGBM Default Report Accuracy for LGBM Default: 73.54 ROC AUC for LGBM Default: 0.52 Tuned LGBM Report Accuracy for Tuned LGBM: 74.32 ROC AUC for Tuned LGBM: 0.50 RGF Default Report Accuracy for RGF Default: 73.54 ROC AUC for RGF Default: 0.51 Tuned RGF Report Accuracy for Tuned RGF: 73.93 ROC AUC for Tuned RGF: 0.50 FRGF Default Report Accuracy for FRGF Default: 73.93 ROC AUC for FRGF Default: 0.53 Tuned FRGF Report Accuracy for Tuned FRGF: 73.93 ROC AUC for Tuned FRGF: 0.50 SVM Default Report Accuracy for SVM Default: 80.54 ROC AUC for SVM Default: 0.50 Tuned SVM Report Accuracy for Tuned SVM: 80.93 ROC AUC for Tuned SVM: 0.52 KNN Default Report Accuracy for KNN Default: 78.60 ROC AUC for KNN Default: 0.50 Tuned KNN Report Accuracy for Tuned KNN: 80.16 ROC AUC for Tuned KNN: 0.51 XGBoost Default Report Accuracy for XGBoost Default: 80.54 ROC AUC for XGBoost Default: 0.50 Tuned XGBoost Report Accuracy for Tuned XGBoost: 77.04 ROC AUC for Tuned XGBoost: 0.52 Random Forest Default Report Accuracy for Random Forest Default: 77.43 ROC AUC for Random Forest Default: 0.49 Tuned Random Forest Report Accuracy for Tuned Random Forest: 80.54 ROC AUC for Tuned Random Forest: 0.50 Extra Trees Default Report Accuracy for Extra Trees Default: 76.26 ROC AUC for Extra Trees Default: 0.48 Tuned Extra Trees Report Accuracy for Tuned Extra Trees: 78.60 ROC AUC for Tuned Extra Trees: 0.50 LGBM Default Report Accuracy for LGBM Default: 75.49 ROC AUC for LGBM Default: 0.51 Tuned LGBM Report Accuracy for Tuned LGBM: 80.54 ROC AUC for Tuned LGBM: 0.50 RGF Default Report Accuracy for RGF Default: 78.99 ROC AUC for RGF Default: 0.52 Tuned RGF Report Accuracy for Tuned RGF: 75.88 ROC AUC for Tuned RGF: 0.55 FRGF Default Report Accuracy for FRGF Default: 76.65 ROC AUC for FRGF Default: 0.50 #   ,       </code> </pre> <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.linear_model <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> LogisticRegression clf = LogisticRegression(random_state=<span class="hljs-number"><span class="hljs-number">0</span></span>, solver=<span class="hljs-string"><span class="hljs-string">'lbfgs'</span></span>, multi_class=<span class="hljs-string"><span class="hljs-string">'multinomial'</span></span>) hogwarts_df = load_processed_data_multi() <span class="hljs-comment"><span class="hljs-comment">#     data_full = hogwarts_df.drop( [ 'name', 'surname', ], axis=1).copy() X_data = data_full.drop('faculty', axis=1) y = data_full.faculty clf.fit(X_data, y) score_testing_dataset(clf)</span></span></code> </pre> <br><pre> <code class="plaintext hljs">  ‚Äî [0.3602361 0.16166944 0.16771712 0.31037733] Kirill Malev ‚Äî [0.47473072 0.16051924 0.13511385 0.22963619]   ‚Äî [0.38697926 0.19330242 0.17451052 0.2452078 ] Harry Potter ‚Äî [0.40245098 0.16410043 0.16023278 0.27321581]   ‚Äî [0.13197025 0.16438855 0.17739254 0.52624866]   ‚Äî [0.17170203 0.1205678 0.14341742 0.56431275] Severus Snape ‚Äî [0.15558044 0.21589378 0.17370406 0.45482172]   ‚Äî [0.39301231 0.07397324 0.1212741 0.41174035] Tom Riddle ‚Äî [0.26623969 0.14194379 0.1728505 0.41896601]   ‚Äî [0.24843037 0.21632736 0.21532696 0.3199153 ] Salazar Slytherin ‚Äî [0.09359144 0.26735897 0.2742305 0.36481909]</code> </pre> <br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Et confusion_matrix: </font></font></p><br><pre> <code class="python hljs">confusion_matrix(clf.predict(X_data), y)</code> </pre> <br><pre> <code class="plaintext hljs">array([[144, 68, 64, 78], [ 8, 9, 8, 6], [ 22, 18, 31, 20], [ 77, 73, 78, 151]])</code> </pre> </div></div><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_predctions_vector</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(models, person)</span></span></span><span class="hljs-function">:</span></span> predictions = [get_predictions_vector (model, person)[<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> model <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> models] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-string"><span class="hljs-string">'slitherin'</span></span>: predictions[<span class="hljs-number"><span class="hljs-number">0</span></span>], <span class="hljs-string"><span class="hljs-string">'griffindor'</span></span>: predictions[<span class="hljs-number"><span class="hljs-number">1</span></span>], <span class="hljs-string"><span class="hljs-string">'ravenclaw'</span></span>: predictions[<span class="hljs-number"><span class="hljs-number">2</span></span>], <span class="hljs-string"><span class="hljs-string">'hufflpuff'</span></span>: predictions[<span class="hljs-number"><span class="hljs-number">3</span></span>] } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">score_testing_dataset</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(models)</span></span></span><span class="hljs-function">:</span></span> testing_dataset = [ <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">"Kirill Malev"</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">"Harry Potter"</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>,<span class="hljs-string"><span class="hljs-string">"Severus Snape"</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">"Tom Riddle"</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">"Salazar Slytherin"</span></span>] data = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> name <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> testing_dataset: predictions = get_predctions_vector(models, name) predictions[<span class="hljs-string"><span class="hljs-string">'name'</span></span>] = name data.append(predictions) scoring_df = pd.DataFrame(data, columns=[<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'slitherin'</span></span>, <span class="hljs-string"><span class="hljs-string">'griffindor'</span></span>, <span class="hljs-string"><span class="hljs-string">'hufflpuff'</span></span>, <span class="hljs-string"><span class="hljs-string">'ravenclaw'</span></span>]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> scoring_df <span class="hljs-comment"><span class="hljs-comment"># Data Science ‚Äî    ,       top_models = [ slitherin_models[3], griffindor_models[3], ravenclaw_models[3], hufflpuff_models[3] ] score_testing_dataset(top_models)</span></span></code> </pre> <br><pre> <code class="plaintext hljs"> name slitherin griffindor hufflpuff ravenclaw 0   0.349084 0.266909 0.110311 0.091045 1 Kirill Malev 0.289914 0.376122 0.384986 0.103056 2   0.338258 0.400841 0.016668 0.124825 3 Harry Potter 0.245377 0.357934 0.026287 0.154592 4   0.917423 0.126997 0.176640 0.096570 5   0.969693 0.106384 0.150146 0.082195 6 Severus Snape 0.663732 0.259189 0.290252 0.074148 7   0.268466 0.579401 0.007900 0.083195 8 Tom Riddle 0.639731 0.541184 0.084395 0.156245 9   0.653595 0.147506 0.172940 0.137134 10 Salazar Slytherin 0.647399 0.169964 0.095450 0.26126</code> </pre> <br><p><img src="https://habrastorage.org/webt/kc/pq/r7/kcpqr7dw_t-yudtoda54qj1su3o.jpeg"></p><br><p>     , <del>     </del>   .    ROC AUC  ,  0.5.    ,   : </p><br><ul><li>   ; </li><li>    ; </li><li>    ,        ; </li><li>      ,     ; </li><li>  ,            ,   . </li></ul><br><p>            ,    ,   ,   ,          XGBoost      CV ,       . </p><br><p>  Important! ,       70% .     ,    4          . </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> model_training <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> train_production_models <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> xgboost <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> XGBClassifier best_models = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range (<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>): best_models.append(XGBClassifier(base_score=<span class="hljs-number"><span class="hljs-number">0.5</span></span>, booster=<span class="hljs-string"><span class="hljs-string">'gbtree'</span></span>, colsample_bylevel=<span class="hljs-number"><span class="hljs-number">1</span></span>, colsample_bytree=<span class="hljs-number"><span class="hljs-number">0.7</span></span>, gamma=<span class="hljs-number"><span class="hljs-number">0</span></span>, learning_rate=<span class="hljs-number"><span class="hljs-number">0.05</span></span>, max_delta_step=<span class="hljs-number"><span class="hljs-number">0</span></span>, max_depth=<span class="hljs-number"><span class="hljs-number">6</span></span>, min_child_weight=<span class="hljs-number"><span class="hljs-number">11</span></span>, missing=<span class="hljs-number"><span class="hljs-number">-999</span></span>, n_estimators=<span class="hljs-number"><span class="hljs-number">1000</span></span>, n_jobs=<span class="hljs-number"><span class="hljs-number">1</span></span>, nthread=<span class="hljs-number"><span class="hljs-number">4</span></span>, objective=<span class="hljs-string"><span class="hljs-string">'binary:logistic'</span></span>, random_state=<span class="hljs-number"><span class="hljs-number">0</span></span>, reg_alpha=<span class="hljs-number"><span class="hljs-number">0</span></span>, reg_lambda=<span class="hljs-number"><span class="hljs-number">1</span></span>, scale_pos_weight=<span class="hljs-number"><span class="hljs-number">1</span></span>, seed=<span class="hljs-number"><span class="hljs-number">1337</span></span>, silent=<span class="hljs-number"><span class="hljs-number">1</span></span>, subsample=<span class="hljs-number"><span class="hljs-number">0.8</span></span>)) slitherin_model, griffindor_model, ravenclaw_model, hufflpuff_model = \ train_production_models(best_models) top_models = slitherin_model, griffindor_model, ravenclaw_model, hufflpuff_model score_testing_dataset(top_models)</code> </pre> <br><pre> <code class="plaintext hljs">name slitherin griffindor hufflpuff ravenclaw 0   0.273713 0.372337 0.065923 0.279577 1 Kirill Malev 0.401603 0.761467 0.111068 0.023902 2   0.031540 0.616535 0.196342 0.217829 3 Harry Potter 0.183760 0.422733 0.119393 0.173184 4   0.945895 0.021788 0.209820 0.019449 5   0.950932 0.088979 0.084131 0.012575 6 Severus Snape 0.634035 0.088230 0.249871 0.036682 7   0.426440 0.431351 0.028444 0.083636 8 Tom Riddle 0.816804 0.136530 0.069564 0.035500 9   0.409634 0.213925 0.028631 0.252723 10 Salazar Slytherin 0.824590 0.067910 0.111147 0.085710</code> </pre> <br><p>      ,  ,   . </p><br><p>    ,           ,     .   . </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pickle pickle.dump(slitherin_model, open(<span class="hljs-string"><span class="hljs-string">"../output/slitherin.xgbm"</span></span>, <span class="hljs-string"><span class="hljs-string">"wb"</span></span>)) pickle.dump(griffindor_model, open(<span class="hljs-string"><span class="hljs-string">"../output/griffindor.xgbm"</span></span>, <span class="hljs-string"><span class="hljs-string">"wb"</span></span>)) pickle.dump(ravenclaw_model, open(<span class="hljs-string"><span class="hljs-string">"../output/ravenclaw.xgbm"</span></span>, <span class="hljs-string"><span class="hljs-string">"wb"</span></span>)) pickle.dump(hufflpuff_model, open(<span class="hljs-string"><span class="hljs-string">"../output/hufflpuff.xgbm"</span></span>, <span class="hljs-string"><span class="hljs-string">"wb"</span></span>))</code> </pre> <br><h2 id="prodakshn">  </h2><br><p>           ,     .   ,     , ,       . </p><br><p>           ,  ,      .        ,       .  ,   Data Scientist ‚Äî       -. </p><br><p>     : </p><br><ul><li>     ; </li><li>     json-       json; </li><li>            . </li></ul><br><p> ,     docker-,           python-.  ,           flask. </p><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> __future__ <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> print_function <span class="hljs-comment"><span class="hljs-comment"># In python 2.7 import os import subprocess import json import re from flask import Flask, request, jsonify from inspect import getmembers, ismethod import numpy as npb import pandas as pd import math import os import pickle import xgboost as xgb import sys from letter import Letter from talking_hat import * from sklearn.ensemble import RandomForestClassifier import warnings def prod_predict_classes_for_name (full_name): featurized_person = parse_line_to_hogwarts_df(full_name) person_df = pd.DataFrame(featurized_person, columns=[ 'name', 'surname', 'is_english', 'name_starts_with_vowel', 'name_starts_with_consonant', 'name_ends_with_vowel', 'name_ends_with_consonant', 'name_length', 'name_vowels_count', 'name_double_vowels_count', 'name_consonant_count', 'name_double_consonant_count', 'name_paired_count', 'name_deaf_count', 'name_sonorus_count', 'surname_starts_with_vowel', 'surname_starts_with_consonant', 'surname_ends_with_vowel', 'surname_ends_with_consonant', 'surname_length', 'surname_vowels_count', 'surname_double_vowels_count', 'surname_consonant_count', 'surname_double_consonant_count', 'surname_paired_count', 'surname_deaf_count', 'surname_sonorus_count', ], index=[0] ) slitherin_model = pickle.load(open("models/slitherin.xgbm", "rb")) griffindor_model = pickle.load(open("models/griffindor.xgbm", "rb")) ravenclaw_model = pickle.load(open("models/ravenclaw.xgbm", "rb")) hufflpuff_model = pickle.load(open("models/hufflpuff.xgbm", "rb")) predictions = get_predctions_vector([ slitherin_model, griffindor_model, ravenclaw_model, hufflpuff_model ], person_df.drop(['name', 'surname'], axis=1)) return { 'slitherin': float(predictions[0][1]), 'griffindor': float(predictions[1][1]), 'ravenclaw': float(predictions[2][1]), 'hufflpuff': float(predictions[3][1]) } def predict(params): fullname = params['fullname'] print(params) return prod_predict_classes_for_name(fullname) def create_app(): app = Flask(__name__) functions_list = [predict] @app.route('/&lt;func_name&gt;', methods=['POST']) def api_root(func_name): for function in functions_list: if function.__name__ == func_name: try: json_req_data = request.get_json() if json_req_data: res = function(json_req_data) else: return jsonify({"error": "error in receiving the json input"}) except Exception as e: data = { "error": "error while running the function" } if hasattr(e, 'message'): data['message'] = e.message elif len(e.args) &gt;= 1: data['message'] = e.args[0] return jsonify(data) return jsonify({"success": True, "result": res}) output_string = 'function: %s not found' % func_name return jsonify({"error": output_string}) return app if __name__ == '__main__': app = create_app() app.run(host='0.0.0.0')</span></span></code> </pre> </div></div><br><p> Dockerfile: </p><br><pre> <code class="bash hljs">FROM datmo/python-base:cpu-py35 <span class="hljs-comment"><span class="hljs-comment">#  python3-wheel,        RUN apt-get update; apt-get install -y python3-pip python3-numpy python3-scipy python3-wheel ADD requirements.txt / RUN pip3 install -r /requirements.txt RUN mkdir /code;mkdir /code/models COPY ./python_api.py ./talking_hat.py ./letter.py ./request.py /code/ COPY ./models/* /code/models/ WORKDIR /code CMD python3 /code/python_api.py</span></span></code> </pre> <br><p>    : </p><br><pre> <code class="bash hljs">docker build -t talking_hat . &amp;&amp; docker rm talking_hat &amp;&amp; docker run --name talking_hat -p 5000:5000 talking_hat</code> </pre> <br><h2 id="testirovanie-prodakshn-modeli">    </h2><br><p>     ‚Äî            .  ,         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://">Apache Benchmark</a> .      ,      .  ‚Äî  . </p><br><pre> <code class="bash hljs">$ ab -p data.json -T application/json -c 50 -n 10000 http://0.0.0.0:5000/predict</code> </pre> <br><div class="spoiler"> <b class="spoiler_title"> ab</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">This is ApacheBench, Version 2.3 &lt;$Revision: 1807734 $&gt; Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/ Licensed to The Apache Software Foundation, http://www.apache.org/ Benchmarking 0.0.0.0 (be patient) Completed 1000 requests Completed 2000 requests Completed 3000 requests Completed 4000 requests Completed 5000 requests Completed 6000 requests Completed 7000 requests Completed 8000 requests Completed 9000 requests Completed 10000 requests Finished 10000 requests Server Software: Werkzeug/0.14.1 Server Hostname: 0.0.0.0 Server Port: 5000 Document Path: /predict Document Length: 141 bytes Concurrency Level: 50 Time taken for tests: 238.552 seconds Complete requests: 10000 Failed requests: 0 Total transferred: 2880000 bytes Total body sent: 1800000 HTML transferred: 1410000 bytes Requests per second: 41.92 [#/sec] (mean) Time per request: 1192.758 [ms] (mean) Time per request: 23.855 [ms] (mean, across all concurrent requests) Transfer rate: 11.79 [Kbytes/sec] received 7.37 kb/s sent 19.16 kb/s total Connection Times (ms) min mean[+/-sd] median max Connect: 0 0 0.1 0 3 Processing: 199 1191 352.5 1128 3352 Waiting: 198 1190 352.5 1127 3351 Total: 202 1191 352.5 1128 3352 Percentage of the requests served within a certain time (ms) 50% 1128 66% 1277 75% 1378 80% 1451 90% 1668 95% 1860 98% 2096 99% 2260 100% 3352 (longest request)</code> </pre> </div></div><br><p>     ,      : </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">prod_predict_classes_for_name</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(full_name)</span></span></span><span class="hljs-function">:</span></span> &lt;...&gt; predictions = get_predctions_vector([ app.slitherin_model, app.griffindor_model, app.ravenclaw_model, app.hufflpuff_model ], person_df.drop([<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname'</span></span>], axis=<span class="hljs-number"><span class="hljs-number">1</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-string"><span class="hljs-string">'slitherin'</span></span>: float(predictions[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-number"><span class="hljs-number">1</span></span>]), <span class="hljs-string"><span class="hljs-string">'griffindor'</span></span>: float(predictions[<span class="hljs-number"><span class="hljs-number">1</span></span>][<span class="hljs-number"><span class="hljs-number">1</span></span>]), <span class="hljs-string"><span class="hljs-string">'ravenclaw'</span></span>: float(predictions[<span class="hljs-number"><span class="hljs-number">2</span></span>][<span class="hljs-number"><span class="hljs-number">1</span></span>]), <span class="hljs-string"><span class="hljs-string">'hufflpuff'</span></span>: float(predictions[<span class="hljs-number"><span class="hljs-number">3</span></span>][<span class="hljs-number"><span class="hljs-number">1</span></span>]) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create_app</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> &lt;...&gt; <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> app.app_context(): app.slitherin_model = pickle.load(open(<span class="hljs-string"><span class="hljs-string">"models/slitherin.xgbm"</span></span>, <span class="hljs-string"><span class="hljs-string">"rb"</span></span>)) app.griffindor_model = pickle.load(open(<span class="hljs-string"><span class="hljs-string">"models/griffindor.xgbm"</span></span>, <span class="hljs-string"><span class="hljs-string">"rb"</span></span>)) app.ravenclaw_model = pickle.load(open(<span class="hljs-string"><span class="hljs-string">"models/ravenclaw.xgbm"</span></span>, <span class="hljs-string"><span class="hljs-string">"rb"</span></span>)) app.hufflpuff_model = pickle.load(open(<span class="hljs-string"><span class="hljs-string">"models/hufflpuff.xgbm"</span></span>, <span class="hljs-string"><span class="hljs-string">"rb"</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> app</code> </pre> <br><p>    : </p><br><pre> <code class="bash hljs">$ docker build -t talking_hat . &amp;&amp; docker rm talking_hat &amp;&amp; docker run --name talking_hat -p 5000:5000 talking_hat $ ab -p data.json -T application/json -c 50 -n 10000 http://0.0.0.0:5000/predict</code> </pre> <br><div class="spoiler"> <b class="spoiler_title"> ab</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">This is ApacheBench, Version 2.3 &lt;$Revision: 1807734 $&gt; Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/ Licensed to The Apache Software Foundation, http://www.apache.org/ Benchmarking 0.0.0.0 (be patient) Completed 1000 requests Completed 2000 requests Completed 3000 requests Completed 4000 requests Completed 5000 requests Completed 6000 requests Completed 7000 requests Completed 8000 requests Completed 9000 requests Completed 10000 requests Finished 10000 requests Server Software: Werkzeug/0.14.1 Server Hostname: 0.0.0.0 Server Port: 5000 Document Path: /predict Document Length: 141 bytes Concurrency Level: 50 Time taken for tests: 219.812 seconds Complete requests: 10000 Failed requests: 3 (Connect: 0, Receive: 0, Length: 3, Exceptions: 0) Total transferred: 2879997 bytes Total body sent: 1800000 HTML transferred: 1409997 bytes Requests per second: 45.49 [#/sec] (mean) Time per request: 1099.062 [ms] (mean) Time per request: 21.981 [ms] (mean, across all concurrent requests) Transfer rate: 12.79 [Kbytes/sec] received 8.00 kb/s sent 20.79 kb/s total Connection Times (ms) min mean[+/-sd] median max Connect: 0 0 0.1 0 2 Processing: 235 1098 335.2 1035 3464 Waiting: 235 1097 335.2 1034 3462 Total: 238 1098 335.2 1035 3464 Percentage of the requests served within a certain time (ms) 50% 1035 66% 1176 75% 1278 80% 1349 90% 1541 95% 1736 98% 1967 99% 2141 100% 3464 (longest request)</code> </pre> </div></div><br><p> .   .         ,          . </p><br><h2 id="zaklyuchenie">  Conclusion </h2><br><p>            ,             .       -     . </p><br><p> ,     : </p><br><ul><li>    feature engineering-     ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a>  ),  , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Soundex</a>     . </li><li>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>   PyTorch        .       ,        ,         . </li><li>     flask   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Quart</a> ,        ,          . </li><li>    -  -,     . </li></ul><br><p>      ,           ,     .   ,  ! </p><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cet article n'aurait pas √©t√© publi√© sans la communaut√© Open Data Science, qui rassemble un grand nombre d'experts russophones dans le domaine de l'analyse des donn√©es. </font></font></p><cut></cut></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr430006/">https://habr.com/ru/post/fr430006/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr429996/index.html">Administrateur de r√©seau cloud</a></li>
<li><a href="../fr429998/index.html">Moyens scientifiques pour am√©liorer l'attention: nootropiques, interfaces neuro et stimulation √©lectrique</a></li>
<li><a href="../fr430000/index.html">Le dernier des Mohicans. Le plus ancien PDG du Fortune 500 met tout sur la chute des smartphones</a></li>
<li><a href="../fr430002/index.html">Red Hat Enterprise Linux 8 Beta - en m√™me temps que le monde</a></li>
<li><a href="../fr430004/index.html">Tracker GPS non certifi√© de Chine. Est-ce l√©gal en Russie?</a></li>
<li><a href="../fr430008/index.html">Ugears: chevaux, voile et autres divertissements royaux</a></li>
<li><a href="../fr430010/index.html">Le√ßon ouverte "Comment ne pas faire: anti-exemples dans l'analyse des processus m√©tier"</a></li>
<li><a href="../fr430014/index.html">Classes scell√©es. S√©mantique vs performance</a></li>
<li><a href="../fr430016/index.html">Les scientifiques admettent confus√©ment qu'ils ne connaissent toujours pas l'ampleur exacte de l'interaction gravitationnelle</a></li>
<li><a href="../fr430024/index.html">Comment un crash d'avion peut am√©liorer l'analyse informatique</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>