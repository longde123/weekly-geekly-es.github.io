<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ’ ğŸ¼ âœ¡ï¸ YIMP - Control Panel untuk Yii 2 di Bootstrap 4 ğŸ§£ ğŸ‘©ğŸ¼â€ğŸ¤â€ğŸ‘¨ğŸ» â™Œï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya yakin bahwa banyak pengembang yang lebih memilih kerangka kerja daripada CMS yang sudah jadi memiliki solusi pada Bootstrap atau analognya, yang ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>YIMP - Control Panel untuk Yii 2 di Bootstrap 4</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/466505/"><p>  Saya yakin bahwa banyak pengembang yang lebih memilih kerangka kerja daripada CMS yang sudah jadi memiliki solusi pada Bootstrap atau analognya, yang digunakan untuk membuat antarmuka admin dan antarmuka back-office lainnya.  Dan saya memilikinya.  Ini telah bekerja dengan sukses selama bertahun-tahun, tetapi sudah usang.  Saatnya menulis ulang. </p><br><p>  Saat mengerjakan versi baru, saya mencoba merangkum semua pengalaman saya tentang topik ini, dan sebagai hasilnya saya mendapatkan <strong>YIMP - sepeda</strong> yang <strong>tidak malu untuk saya bagikan:</strong> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">GitHub</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">LiveDemo</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Dokumentasi API</a> . </p><br><p>  YIMP sangat sederhana.  Namun di balik kesederhanaan ini adalah pemikiran yang panjang, yang juga ingin saya bagikan.  Jadi artikel ini bukan instruksi.  Di sini kita berbicara tentang arsitektur, manajemen ketergantungan, paradigma MVC, dan antarmuka pengguna, tentu saja. </p><a name="habracut"></a><br><p>  Jadi, YIMP adalah dasbor.  Ini bukan panel admin yang sudah jadi, bukan CMS atau bahkan CMF.  Kode representasi perlu ditulis secara independen atau menggunakan Gii (templat terlampir).  YIMP menyediakan tata letak yang menentukan di mana kontrol harus berada, serta antarmuka tempat aplikasi mentransfer data ke tata letak.  Ini adalah tampilannya di desktop: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mg/cq/8p/mgcq8plajqml62wpyw6za3gnode.png"></div><br><p>  Layout adaptif.  Saat layar menyusut, elemen-elemen mulai menghilang atau bergerak di atas tombol di navbar.  Akibatnya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">, halaman yang sama</a> di ponsel terlihat seperti ini: </p><br><div class="spoiler">  <b class="spoiler_title">Lebih baik membiarkannya di bawah spoiler</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/vv/gi/ni/vvginigkcypah1yxxxp7jnr6-6e.png" width="250"></div></div></div><br><p>  Apa yang kita lihat di tata letak?  Judul aplikasi, remah roti, tiga menu (kiri, kanan dan atas), widget di bilah sisi, judul halaman.  Dalam praktik saya, rangkaian elemen ini cukup untuk mengembangkan antarmuka apa pun - dari halaman admin halaman arahan ke sistem informasi perusahaan.  Saya mencoba mengaturnya sehingga ruang itu digunakan seefisien mungkin.  Apa yang kamu katakan </p><br><p>  Markup ditulis dalam Bootstrap murni, tanpa ekstensi dan penyesuaian.  Jika memungkinkan, kelas dari Bootstrap digunakan, jadi jika Anda memutuskan untuk menggunakan penyesuaian, maka seharusnya tidak ada masalah. </p><br><p>  Seperti yang saya katakan, YIMP menyertakan antarmuka tempat aplikasi mentransfer data ke tata letak.  Mari kita lihat bagaimana ini terjadi.  Buka kap mesin! </p><br><h2 id="leyaut">  Tata letak </h2><br><p>  Saya percaya bahwa pengembang harus memiliki kontrol penuh atas tata letak, jadi ketika menginstal YIMP, saya sarankan menyalin kodenya ke aplikasinya.  Menurut pendapat saya, ini jauh lebih baik daripada meninggalkan tata letak dalam paket dan memblokir banyak pengaturan untuk itu.  Mari kita lihat kode tata letak: </p><br><div class="spoiler">  <b class="spoiler_title">77 baris kode.</b>  <b class="spoiler_title">Tidak perlu mempelajari!</b> <div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">dmitrybtn</span></span>\<span class="hljs-title"><span class="hljs-title">yimp</span></span>\<span class="hljs-title"><span class="hljs-title">widgets</span></span>\<span class="hljs-title"><span class="hljs-title">Alert</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">dmitrybtn</span></span>\<span class="hljs-title"><span class="hljs-title">yimp</span></span>\<span class="hljs-title"><span class="hljs-title">Yimp</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">yii</span></span>\<span class="hljs-title"><span class="hljs-title">bootstrap4</span></span>\<span class="hljs-title"><span class="hljs-title">Html</span></span>; $yimp = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Yimp(); $yimp-&gt;register(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>); <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> string $content Content came from view */</span></span> <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;beginPage() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;!DOCTYPE html&gt; &lt;html lang=<span class="hljs-string"><span class="hljs-string">"en"</span></span>&gt; &lt;head&gt; &lt;meta charset=<span class="hljs-string"><span class="hljs-string">"&lt;?= Yii::$app-&gt;charset ?&gt;"</span></span>&gt; &lt;meta name=<span class="hljs-string"><span class="hljs-string">"viewport"</span></span> content=<span class="hljs-string"><span class="hljs-string">"width=device-width, initial-scale=1, shrink-to-fit=no"</span></span>&gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> Html::csrfMetaTags() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;title&gt;<span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> Html::encode($yimp-&gt;nav-&gt;getTitle()) <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span>&lt;/title&gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;head() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;/head&gt; &lt;body&gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;beginBody() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;navbar() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;beginSidebars() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;beginLeftSidebar() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;beginLeftSidebarMenu() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;menuLeft([ <span class="hljs-string"><span class="hljs-string">'options'</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'class'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'nav-pills flex-column border rounded py-2'</span></span>] ]) <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;endLeftSidebarMenu() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;blocks[$yimp::SIDEBAR_LEFT])): <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;blocks[$yimp::SIDEBAR_LEFT] <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">endif</span></span> <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;endLeftSidebar() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;beginRightSidebar() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;beginRightSidebarMenu() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;menuRight([ <span class="hljs-string"><span class="hljs-string">'options'</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'class'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'nav-pills flex-column border rounded py-2'</span></span>] ]) <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;endRightSidebarMenu() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;blocks[$yimp::SIDEBAR_RIGHT])): <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;blocks[$yimp::SIDEBAR_RIGHT] <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">endif</span></span> <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;endRightSidebar() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;endSidebars() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;beginContent() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;headerDesktop() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> Alert::widget() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $content <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;endContent() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;blocks[$yimp::FOOTER])): <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;blocks[$yimp::FOOTER] <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">endif</span></span> <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;endBody() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;/body&gt; &lt;/html&gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;endPage() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre> </div></div><br><p>  Seperti yang Anda lihat, semua markup YIMP dibungkus dengan metode.  Sebagian besar metode ini hanya mencetak garis yang diambil <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dari array ini</a> .  Ya, prinsip <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">KISS</a> adalah segalanya bagi kami. </p><br><p>  Harap perhatikan bahwa blok digunakan dalam tata letak.  Mereka diperlukan untuk menampilkan widget yang ditentukan dalam tampilan (ini adalah bagaimana kontrol formulir diberikan).  Nah, jika widget harus menggantung di semua halaman, lebih baik untuk menentukannya langsung di tata letak. </p><br><p>  Jadi, area utama dan widget didefinisikan dalam tampilan.  Dan di mana tajuk, menu, dan remah roti ditentukan?  Menurut pendapat saya, mereka paling baik didefinisikan dalam pengontrol.  Ini adalah poin penting, karena keputusan seperti itu bertentangan dengan paradigma MVC.  Mari kita lihat masalah ini secara lebih rinci. </p><br><h2 id="kontrollery">  Pengontrol </h2><br><p>  Jadi, biarkan ada <code>ProfileController</code> yang dapat menampilkan informasi tentang profil pengguna saat ini dan mengubah kata sandi.  Secara logis, tindakan <code>profile/view</code> akan disebut "Profil Saya."  Juga logis bahwa di menu utama harus ada item "Profil saya".  Akhirnya, "Profil saya" harus berada dalam remah roti: "Beranda / Profil saya / Ubah kata sandi."  Saya pikir keinginan untuk mendefinisikan konstanta dengan kata-kata "Profil saya" cukup dibenarkan.  Anda tidak dapat melakukan ini dalam tampilan.  Memilih layer terpisah untuk judul adalah rumit.  Dengan alasan seperti ini, saya datang ke controller. </p><br><p>  Langkah selanjutnya adalah keputusan untuk menentukan tidak hanya header tindakan di controller, tetapi juga remah roti dan menu.  Dan lakukan itu agar YIMP dapat membacanya.  Dan di sini kita membutuhkan sebuah contoh.  Mari kita lihat kemungkinan implementasi kelas <code>ProfileController</code> . </p><br><div class="spoiler">  <b class="spoiler_title">52 baris kode sederhana.</b>  <b class="spoiler_title">Lebih baik perhatikan dengan teliti!</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ProfileController</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> \</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">yii</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">web</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Controller</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $nav; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>::init(); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;nav = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> \dmitrybtn\yimp\Navigator; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">titleView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">' '</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">titlePassword</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">' '</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">crumbsToView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ [<span class="hljs-string"><span class="hljs-string">'label'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span>::titleView(), <span class="hljs-string"><span class="hljs-string">'url'</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'/profile/view'</span></span>]] ]; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">actionView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;nav-&gt;title = <span class="hljs-keyword"><span class="hljs-keyword">static</span></span>::titleView(); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;nav-&gt;menuRight = [ [<span class="hljs-string"><span class="hljs-string">'label'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">''</span></span>], [<span class="hljs-string"><span class="hljs-string">'label'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span>::titlePassword(), [<span class="hljs-string"><span class="hljs-string">'password'</span></span>]], ]; ... <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;render(<span class="hljs-string"><span class="hljs-string">'view'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">actionPassword</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;nav-&gt;title = <span class="hljs-keyword"><span class="hljs-keyword">static</span></span>::titlePassword(); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;nav-&gt;crumbs = <span class="hljs-keyword"><span class="hljs-keyword">static</span></span>::crumbsToView(); ... <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;render(<span class="hljs-string"><span class="hljs-string">'password'</span></span>); } }</code> </pre> </div></div><br><p>  Header dan remah roti didefinisikan menggunakan metode statis, yang berarti mereka dapat digunakan di mana saja.  Misalnya, di menu utama aplikasi Anda dapat menulis: </p><br><pre> <code class="php hljs">[<span class="hljs-string"><span class="hljs-string">'label'</span></span> =&gt; ProfileController::titleView(), <span class="hljs-string"><span class="hljs-string">'url'</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'/profile/view'</span></span>]],</code> </pre> <br><p>  Mengapa tepatnya metodenya?  Karena besok Anda akan ditanya alih-alih kata "Profil saya" untuk menampilkan login pengguna saat ini. </p><br><p>  Dengan remah roti yang sama.  Misalkan pengguna kami memiliki daftar gambar yang menjadi tanggung jawab <code>ImageController</code> .  Kemudian pada <code>image/create</code> tindakan Anda dapat menulis: </p><br><pre> <code class="php hljs"> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;nav-&gt;crumbs = ProfileController::crumbsToView(),</code> </pre> <br><p>  dan dapatkan remah roti seperti "Beranda / Profil saya / Tambahkan gambar."  Ngomong-ngomong, karena tindakan <code>image/create</code> disebut "Tambah gambar", menu tindakan <code>profile/view</code> perlu diperbaiki: </p><br><pre> <code class="php hljs"> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;nav-&gt;menuRight = [ [<span class="hljs-string"><span class="hljs-string">'label'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">''</span></span>], [<span class="hljs-string"><span class="hljs-string">'label'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span>::titlePassword(), [<span class="hljs-string"><span class="hljs-string">'password'</span></span>]], [<span class="hljs-string"><span class="hljs-string">'label'</span></span> =&gt; ImageController::titleCreate(), <span class="hljs-string"><span class="hljs-string">'url'</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'/image/create'</span></span>]] ];</code> </pre> <br><p>  Saya pikir idenya bisa dimengerti.  Menurut pendapat saya, ini adalah solusi sederhana dan efektif untuk mana Anda dapat menjauh dari paradigma MVC.  Ya, kode pengontrol semakin besar, tetapi ada tempat untuk itu di pengontrol - kami tidak menulis logika bisnis di sana, kan?  Dan ya, saya akan sangat tertarik untuk mengetahui pendapat Anda tentang masalah ini. </p><br><p>  Kita melangkah lebih jauh.  Seperti yang mungkin sudah Anda duga, properti <code>nav</code> , didefinisikan sebagai <code>\dmitrybtn\yimp\Navigator</code> , digunakan untuk mentransfer header, menu, dan remah roti dari pengontrol ke tata letak.  Dan ini adalah fitur lain dari YIMP. </p><br><h2 id="navigator">  Navigator </h2><br><p>  Bagaimana pengaturannya masuk ke tata letak?  Sangat sederhana.  Selama inisialisasi, YIMP memeriksa properti <code>nav</code> dari kontroler saat ini.  Jika properti ini dapat dibaca dan merupakan navigator ( <code>instanceof \dmitrybtn\yimp\Navigator</code> ), properti ini digunakan untuk menampilkan informasi yang sesuai.  Navigator menyertakan properti yang berkaitan dengan elemen tata letak, daftar lengkap yang lebih mudah dilihat dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi API</a> . </p><br><p>  Dalam aplikasi, disarankan untuk membuat navigator Anda sendiri dan menentukan menu di dalamnya yang tidak akan bergantung pada tindakan saat ini (atas dan kiri).  Setelah itu, di semua pengontrol, Anda perlu membuat properti <code>nav</code> dan mendefinisikannya sebagai navigator (Anda dapat menggunakan tangan Anda, Anda dapat mewarisi, atau Anda dapat ciri).  Jika perlu, Anda dapat menetapkan beberapa navigator. </p><br><p>  Pendekatan ini menghilangkan hubungan langsung antara YIMP dan pengontrol.  Semua interaksi dilakukan melalui satu objek, yang implementasinya dikendalikan oleh pengembang.  Artinya, ini adalah Prinsip Ketergantungan Inversi yang sama dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">SOLID</a> atau Low Coupling dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">GRASP</a> . </p><br><p>  Secara ideologis akan benar untuk menggunakan antarmuka, baik untuk controller maupun navigator.  Tapi di sini saya memutuskan untuk pergi dengan cara paling sederhana dan tidak mengacaukan sistem.  Pada akhirnya, DIP tidak berbicara tentang antarmuka, tetapi tentang abstraksi.  Dan dalam hal ini, abstraksi adalah kesepakatan tentang keberadaan jenis properti tertentu dalam kelas tertentu.  Apa yang kamu pikirkan </p><br><p>  Tidak adanya hubungan langsung antara YIMP dan controller menjadi penting ketika modul muncul di sistem yang tidak tahu apa-apa tentang YIMP.  Atau sebaliknya - modul yang ditulis di bawah YIMP dipasang di sistem yang tidak digunakan YIMP. </p><br><p>  Dalam kasus pertama, YIMP tidak akan melihat properti <code>nav</code> di controller.  Tidak akan ada kesalahan, tetapi menu Anda akan hilang dari layar, dan ID tindakan akan digunakan sebagai judul.  Bagaimana menjadi  Sangat sederhana - jika YIMP tidak dapat mengambil navigator dari controller, itu akan membuatnya melalui wadah DI menggunakan alias <code>yimp-nav</code> .  Dengan menggunakan alias ini, Anda dapat mendaftarkan navigator default Anda sendiri, misalnya dengan menentukan dalam pengaturan aplikasi: </p><br><pre> <code class="php hljs"> <span class="hljs-string"><span class="hljs-string">'container'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'definitions'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'yimp-nav'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'class'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'\your\own\Navigator'</span></span>, ] ] ],</code> </pre> <br><p>  Dalam kasus kedua, navigator di controller akan, tetapi tidak akan ada yang membacanya.  Dalam hal ini, disarankan untuk menulis pembungkus dalam modul untuk tampilan, yang akan mengadaptasi navigator dari pengontrol saat ini ke format yang diterima dalam Yii.  Yaitu, tampilkan <code>&lt;h1&gt;</code> di area utama, <code>&lt;title&gt;</code> dan remah roti melewati parameter tampilan <code>Yii::$app-&gt;view</code> , dan tampilkan menu yang tepat dalam bentuk tombol. </p><br><h2 id="zaklyuchenie">  Kesimpulan </h2><br><p>  YIMP sekarang diterbitkan tanpa versi.  Saya tidak melihat alasan untuk mempublikasikan versi pra-rilis - semuanya terlalu sederhana untuk itu.  Saya pikir lebih baik untuk menguji beberapa minggu pada proyek nyata dan segera beralih ke versi 1.0.0.  Jadi kritik, komentar, dan bantuan pada GitHub sangat disambut. </p><br><p>  Dan saya menyelesaikan modul yang mengimplementasikan kontrol akses.  Cara menyelesaikan - Saya akan menulis. </p><br><p>  Seperti yang Anda lihat, tidak ada yang rumit di sini.  Saya yakin banyak dari Anda memiliki stok yang serupa.  Dan saya akan sangat tertarik untuk mengetahui bagaimana Anda menyelesaikan tugas antarmuka pengguna di area admin Anda. </p><br><p>  Terima kasih semuanya! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id466505/">https://habr.com/ru/post/id466505/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id466495/index.html">Bagaimana tidak salah dengan persaingan di Go</a></li>
<li><a href="../id466497/index.html">Lingkungan modern untuk aplikasi Bereaksi Asli</a></li>
<li><a href="../id466499/index.html">C / C ++ dari Python (ctypes)</a></li>
<li><a href="../id466501/index.html">Tindakan Github dan pembangunan lintas platform</a></li>
<li><a href="../id466503/index.html">Slurm DevOps. Hari kedua IaC, pengujian infrastruktur dan â€œSlurm menginspirasi!â€</a></li>
<li><a href="../id466509/index.html">Pandangan ke dalam: proses perangkat untuk bekerja dan adaptasi di Google</a></li>
<li><a href="../id466515/index.html">Wawancara Apa yang seharusnya seorang insinyur harapkan dari bekerja di startup Eropa, bagaimana wawancara dilakukan dan apakah sulit untuk beradaptasi</a></li>
<li><a href="../id466517/index.html">Pelatihan lokalisasi Universitas Washington</a></li>
<li><a href="../id466519/index.html">Analisis terperinci AWS Lambda</a></li>
<li><a href="../id466521/index.html">C for Metal - logam mulia untuk komputasi pada kartu grafis Intel</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>