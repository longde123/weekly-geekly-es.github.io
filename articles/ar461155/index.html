<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐น ๐จ๐ฟโ๐ฌ ๐ ุณุญุงุจุฉ ุงูุฎูุฑูุฉ: ุฏููู ุงููุฌุฑุฉ ๐ ๐ฉ๐ปโ๐ญ ๐ผ๐ผ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููุฐ ููุช ููุณ ุจุจุนูุฏ ุ ุฃุทููุช Mail.Ru Cloud Solutions (MCS) ูุฎุฏูุฉ Welcome Mail.Ru ูุดุฑูุน Cloud for Charity Foundations ุ ุจูุถู ุงูููุธูุงุช ุบูุฑ ุงูุฑุจุญูุฉ ุงูุชู ููู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุณุญุงุจุฉ ุงูุฎูุฑูุฉ: ุฏููู ุงููุฌุฑุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/461155/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/z_/wc/we/z_wcwe5eqwz8ndq8g4jsdakds_q.jpeg"><br><br>  ููุฐ ููุช ููุณ ุจุจุนูุฏ ุ ุฃุทููุช Mail.Ru Cloud Solutions (MCS) ูุฎุฏูุฉ Welcome Mail.Ru ูุดุฑูุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Cloud for Charity Foundations</a> ุ ุจูุถู ุงูููุธูุงุช ุบูุฑ ุงูุฑุจุญูุฉ ุงูุชู ูููููุง ุงูุญุตูู ุนูู ููุงุฑุฏ ููุตุฉ MCS ุงูุณุญุงุจูุฉ ูุฌุงููุง.  ุดุงุฑูุช ูุคุณุณุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Arithmetic of Good</a> ุงูุฎูุฑูุฉ ูู ุงููุดุฑูุน ููุดุฑุช ุจูุฌุงุญ ุฌุฒุกูุง ูู ุจููุชูุง ุงูุชุญุชูุฉ ุงููุงุฆูุฉ ุนูู MCS. <br><br>  ุจุนุฏ ุงูุชุญูู ูู ุงูุตุญุฉ ุ ูููู ุฃู ูุญุตู NPO ุนูู ุทุงูุฉ ุงูุชุฑุงุถูุฉ ูู MCS ุ ููู ุงููุฒูุฏ ูู ุงูุถุจุท ูุชุทูุจ ูุคููุงุช ูุนููุฉ.  ูู ูุฐู ุงูููุงูุฉ ุ ูุฑูุฏ ูุดุงุฑูุฉ ุฅุฑุดุงุฏุงุช ูุญุฏุฏุฉ ูุฅุนุฏุงุฏ ุฎุงุฏู ูุณุชูุฏ ุฅูู Ubuntu Linux ููููุน ุงูุตูุฏูู ุงูุฑุฆูุณู ูุนุฏุฏ ูู ุงููุทุงูุงุช ุงููุฑุนูุฉ ุงูุชู ุชุณุชุฎุฏู ุดูุงุฏุงุช SSL ุงููุฌุงููุฉ.  ุจุงููุณุจุฉ ูููุซูุฑูู ุ ุณูููู ูุฐุง ุฏููููุง ุจุณูุทูุง ุ ููููุง ูุฃูู ุฃู ุชููู ุชุฌุฑุจุชูุง ูููุฏุฉ ููููุธูุงุช ุงูุฃุฎุฑู ุบูุฑ ุงููุงุฏูุฉ ููุฑุจุญ ุ ูููุณ ููุท. <br><a name="habracut"></a><br><blockquote style=";text-align:right;direction:rtl">  <b>ููุนูููุงุชู</b> : ูุง ุงูุฐู ูููููู ุงูุญุตูู ุนููู ูู MCSุ  4 ูุญุฏุงุช ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุ ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู 32 ุฌูุฌุงุจุงูุช ุ 1 ุชูุฑุงุจุงูุช HDD ุ ูุธุงู ุงูุชุดุบูู Ubuntu Linux ุ ุชุฎุฒูู ุงููุงุฆูุงุช 500 ุฌูุฌุงุจุงูุช. </blockquote><br><h2 style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ 1: ุจุฏุก ุงูุฎุงุฏู ุงูุธุงูุฑู </h2><br>  ุฏุนูุง ูุจุฏุฃ ุงูุนูู ุนูู ุงูููุฑ ูููุดุฆ ุฎุงุฏููุง ุงูุธุงูุฑู (ุงููุนุฑูู ุฃูุถูุง ุจุงุณู "ูุซูู") ูู ุญุณุงุจ MCS ุงูุดุฎุตู ุงูุฎุงุต ุจู.  ูู ูุชุฌุฑ ุงูุชุทุจููุงุช ุ ุชุญุชุงุฌ ุฅูู ุชุญุฏูุฏ ูุชุซุจูุช ููุฏุณ LAMP ุฌุงูุฒ ุ ููู ูุฌููุนุฉ ูุนูุฏุฉ ูู ุจุฑูุงูุฌ ุงูุฎุงุฏู (LAMP = Linux ู Apache ู MySQL ู PHP) ุ ููู ุฃูุฑ ุถุฑูุฑู ูุชุดุบูู ูุนุธู ููุงูุน ุงูููุจ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/b5d/93d/178/b5d93d1782388ebd587829d84a008aa5.png"></div><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/0eb/ed2/9ab/0ebed29ab326affe50d91d5202d38754.png"></div><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/662/781/dd9/662781dd94c321c69c9387d1007f744e.png"></div><br>  ุงุฎุชุฑ ุงูุชูููู ุงูููุงุณุจ ููุฎุงุฏู ููู ุจุฅูุดุงุก ููุชุงุญ SSH ุฌุฏูุฏ.  ุจุนุฏ ุงูููุฑ ููู ุงูุฒุฑ "ุชุซุจูุช" ุ ุณูุจุฏุฃ ุงูุฎุงุฏู ููุฌููุนุฉ LAMP ูู ุงูุชุซุจูุช ุ ูุณูู ูุณุชุบุฑู ุงูุฃูุฑ ุจุนุถ ุงูููุช.  ุณููุฏู ุงููุธุงู ุฃูุถูุง ุชูุฒูู ููุชุงุญ ุฎุงุต ุนูู ุฌูุงุฒ ุงูููุจููุชุฑ ููุชุญูู ูู ุงูุฌูุงุฒ ุงูุธุงูุฑู ูู ุฎูุงู ูุญุฏุฉ ุงูุชุญูู ูุญูุธู. <br><br>  ุจุนุฏ ุชุซุจูุช ุงูุชุทุจูู ุ ูููู ุจุชูููู ุฌุฏุงุฑ ุงูุญูุงูุฉ ุนูู ุงูููุฑ ุ ููุชู ุฐูู ุฃูุถูุง ูู ุญุณุงุจู ุงูุดุฎุตู: ุงูุชูู ุฅูู ูุณู "ุงูุญูุณุจุฉ ุงูุณุญุงุจูุฉ -&gt; ุงูุฃุฌูุฒุฉ ุงูุธุงูุฑูุฉ" ูุญุฏุฏ ุนูุตุฑ "ุชูููู ุฌุฏุงุฑ ุงูุญูุงูุฉ": <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/9b9/2f1/b65/9b92f1b65d57f871e3c02c8d21852982.png"></div><br>  ุชุญุชุงุฌ ุฅูู ุฅุถุงูุฉ ุฅุฐู ูุญุฑูุฉ ุงููุฑูุฑ ุงููุงุฑุฏุฉ ูู ุฎูุงู ุงููููุฐ 80 ู 9997.  ูุนุฏ ุฐูู ุถุฑูุฑููุง ูู ุงููุณุชูุจู ูุชุซุจูุช ุดูุงุฏุงุช ุทุจูุฉ ุงูููุงุจุณ ุงูุขููุฉ ูุงูุนูู ูุน phpMyAdmin.  ูู ุงูููุงูุฉ ุ ูุฌุจ ุฃู ุชุจุฏู ูุฌููุนุฉ ุงูููุงุนุฏ ููุง ููู: <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/b88/a71/623/b88a7162366be236441488f4f5e3539d.png"></div><br>  ููููู ุงูุขู ุงูุงุชุตุงู ุจุงูุฎุงุฏู ุนุจุฑ ุณุทุฑ ุงูุฃูุงูุฑ ุจุงุณุชุฎุฏุงู ุจุฑูุชูููู SSH.  ููููุงู ุจุฐูู ุ ุงูุชุจ ุงูุฃูุฑ ุงูุชุงูู ุ ูุน ุงูุฅุดุงุฑุฉ ุฅูู ููุชุงุญ SSH ุนูู ุฌูุงุฒ ุงูููุจููุชุฑ ุงูุฎุงุต ุจู ูุนููุงู IP ุงูุฎุงุฑุฌู ูุฎุงุฏูู (ููููู ุงูุนุซูุฑ ุนููู ูู ูุณู "ุงูุฃุฌูุฒุฉ ุงูุธุงูุฑูุฉ"): <br><br><pre style=";text-align:right;direction:rtl"><code class="bash hljs">$ ssh -i ////key.pem ubuntu@&lt;ip_&gt;</code> </pre> <br>  ุฃุซูุงุก ุงูุงุชุตุงู ุงูุฃูู ุจุงูุฎุงุฏู ุ ููุตู ุจุชุซุจูุช ุฌููุน ุงูุชุญุฏูุซุงุช ุงูุญุงููุฉ ุนููู ูุฅุนุงุฏุฉ ุชุดุบููู.  ููููุงู ุจุฐูู ุ ูู ุจุชุดุบูู ุงูุฃูุงูุฑ ุงูุชุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ sudo apt-get update</code> </pre> <br>  ุณูุชููู ุงููุธุงู ูุงุฆูุฉ ุจุงูุชุญุฏูุซุงุช ูุชุซุจูุชูุง ุจุงุณุชุฎุฏุงู ูุฐุง ุงูุฃูุฑ ูุงุชุจุน ุงูุฅุฑุดุงุฏุงุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ sudo apt-get upgrade</code> </pre> <br>  ุจุนุฏ ุชุซุจูุช ุงูุชุญุฏูุซุงุช ุ ุฃุนุฏ ุชุดุบูู ุงูุฎุงุฏู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ sudo reboot</code> </pre> <br><h2 style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ 2: ุชูููู ุงููุถูููู ุงูุธุงูุฑู </h2><br>  ุชุญุชุงุฌ ุงูุนุฏูุฏ ูู ุงูููุธูุงุช ุบูุฑ ุงูุญููููุฉ ุงููุทููุฉ ุฅูู ุงูุนุฏูุฏ ูู ุงููุฌุงูุงุช ุฃู ุงููุทุงูุงุช ุงููุฑุนูุฉ ูู ููุณ ุงูููุช (ุนูู ุณุจูู ุงููุซุงู ุ ุงููููุน ุงูุฑุฆูุณู ูุงูุนุฏูุฏ ูู ุงูุตูุญุงุช ุงูููุตูุฏุฉ ููุญููุงุช ุงูุชุฑููุฌูุฉ ุ ุฅูุฎ).  ูู ูุฐุง ูููู ุงุณุชุถุงูุชู ุจุณูููุฉ ุนูู ุฎุงุฏู ูุงุญุฏ ุนู ุทุฑูู ุฅูุดุงุก ูุถููุงุช ุงูุชุฑุงุถูุฉ ูุชุนุฏุฏุฉ. <br><br>  ุฃููุงู ุ ูุญุชุงุฌ ุฅูู ุฅูุดุงุก ุจููุฉ ุฏููู ููููุงูุน ุงูุชู ุณูุชู ุนุฑุถูุง ููุฒุงุฆุฑูู.  ูููู ุจุฅูุดุงุก ุจุนุถ ุงูุฃุฏูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ sudo mkdir -p /var/www/a-dobra.ru/public_html</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ sudo mkdir -p /var/www/promo.a-dobra.ru/public_html</code> </pre> <br>  ู ุงุฐูุฑ ุตุงุญุจ ุงููุณุชุฎุฏู ุงูุญุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ sudo chown -R $USER:$USER /var/www/a-dobra.ru/public_html</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ sudo chown -R $USER:$USER /var/www/promo.a-dobra.ru/public_html</code> </pre> <br>  ูุญุชูู ุงููุชุบูุฑ <code>$USER</code> ุนูู ุงุณู ุงููุณุชุฎุฏู ุงูุฐู ููุช ุจุชุณุฌูู ุงูุฏุฎูู ุฅููู ุญุงูููุง (ุจุดูู ุงูุชุฑุงุถู ุ ูุฐุง ูู ูุณุชุฎุฏู <code>ubuntu</code> ).  ุงูุขู ููุชูู ุงููุณุชุฎุฏู ุงูุญุงูู ุฃุฏูุฉ public_html ุงูุชู ุณูููู ุจุชุฎุฒูู ุงููุญุชูู ุจูุง. <br><br>  ูุญุชุงุฌ ุฃูุถูุง ุฅูู ุชุนุฏูู ุงูุฃุฐููุงุช ููููุงู ููุชุฃูุฏ ูู ุฃู ุงููุตูู ูููุฑุงุกุฉ ูุณููุญ ุจู ูู ุฏููู ุงูููุจ ุงููุดุชุฑู ุ ูุฌููุน ุงููููุงุช ูุงููุฌูุฏุงุช ุงูููุฌูุฏุฉ ููู.  ูุนุฏ ุฐูู ุถุฑูุฑููุง ูุนุฑุถ ุตูุญุงุช ุงููููุน ุจุดูู ุตุญูุญ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ sudo chmod -R 755 /var/www</code> </pre> <br>  ูุฌุจ ุฃู ููุชูู ุฎุงุฏู ุงูููุจ ุงูุขู ุงูุฃุฐููุงุช ุงููุงุฒูุฉ ูุนุฑุถ ุงููุญุชูู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุฃุตุจุญ ูุฏู ุงููุณุชุฎุฏู ุงูุขู ุงููุฏุฑุฉ ุนูู ุฅูุดุงุก ูุญุชูู ูู ุงูุฏูุงุฆู ุงูุถุฑูุฑูุฉ. <br><br>  ููุฌุฏ ุจุงููุนู ููู index.php ูู ุฏููู / var / www / html ุ ููููุณุฎู ุฅูู ุฃุฏูุฉูุง ุงูุฌุฏูุฏุฉ - ุณูููู ูุฐุง ูู ุงููุญุชูู ุงูุฎุงุต ุจูุง ูู ุงูููุช ุงูุญุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ cp /var/www/html/index.php /var/www/a-dobra.ru/public_html/index.php</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ cp /var/www/html/index.php /var/www/promo.a-dobra.ru/public_html/index.php</code> </pre> <br>  ุฃูุช ุงูุขู ุจุญุงุฌุฉ ุฅูู ุงูุชุฃูุฏ ูู ุฃูู ูููู ูููุณุชุฎุฏู ุงูุฏุฎูู ุฅูู ูููุนู.  ููููุงู ุจุฐูู ุ ุฃููุงู ููุจู ูู ุดูุก ุ ุณูููู ุจุชูููู ูููุงุช ุงููุถูู ุงูุธุงูุฑู ุ ูุงูุชู ุชุญุฏุฏ ูุฏู ุงุณุชุฌุงุจุฉ ุฎุงุฏู ุงูููุจ Apache ูุทูุจุงุช ุงููุทุงูุงุช ุงููุฎุชููุฉ. <br><br>  ุจุดูู ุงูุชุฑุงุถู ุ ูุญุชูู Apache ุนูู ููู ูุถูู ุงูุชุฑุงุถู 000-default.conf ุ ูุงูุฐู ูููููุง ุงุณุชุฎุฏุงูู ูููุทุฉ ุจุฏุงูุฉ.  ุณูููู ุจูุณุฎู ูุฅูุดุงุก ูููุงุช ูุถููุฉ ุงูุชุฑุงุถูุฉ ููู ูุฌุงู ูู ูุฌุงูุงุชูุง.  ุณูุจุฏุฃ ูู ูุฌุงู ูุงุญุฏ ุ ููููุฆู ุ ูููุณุฎู ุฅูู ูุฌุงู ุขุฎุฑ ุ ุซู ูุฌุฑู ุงูุชุนุฏููุงุช ุงููุงุฒูุฉ ูุฑุฉ ุฃุฎุฑู. <br><br>  ูุชุทูุจ ุงูุชูููู ุงูุงูุชุฑุงุถู ูุฃูุจููุชู ุฃู ูููู ููู ููู ูุถูู ุงูุชุฑุงุถู ุงูุชุฏุงุฏ * .conf. <br><br>  ููุจุฏุฃ ุจูุณุฎ ุงูููู ูููุทุงู ุงูุฃูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ sudo cp /etc/apache2/sites-available/000-default.conf /etc/apache2/sites-available/a-dobra.ru.conf</code> </pre> <br>  ุงูุชุญ ููููุง ุฌุฏูุฏูุง ูู ุงููุญุฑุฑ ุจุงูุชูุงุฒุงุช ุงูุฌุฐุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ sudo nano /etc/apache2/sites-available/a-dobra.ru.conf</code> </pre> <br>  ูู ุจุชุญุฑูุฑ ุงูุจูุงูุงุช ุนูู ุงููุญู ุงูุชุงูู ุ ูุน ุงูุฅุดุงุฑุฉ ุฅูู ุงููููุฐ 80 ุ ูุจูุงูุงุช <code>ServerAdmin</code> ุ ู <code>ServerName</code> ุ ู <code>ServerAlias</code> ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงููุณุงุฑ ุฅูู ุงูุฏููู ุงูุฌุฐุฑ ููููุนู ุ ุงุญูุธ ุงูููู (Ctrl + X ุ ุซู Y): <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">&lt;VirtualHost *:80&gt; ServerAdmin e.valuisky@a-dobra.ru ServerName a-dobra.ru ServerAlias www.a-dobra.ru DocumentRoot /var/www/a-dobra.ru/public_html ErrorLog <span class="hljs-variable"><span class="hljs-variable">${APACHE_LOG_DIR}</span></span>/error.log CustomLog <span class="hljs-variable"><span class="hljs-variable">${APACHE_LOG_DIR}</span></span>/access.log combined &lt;Directory /var/www/a-dobra.ru/public_html&gt; Options -Indexes +FollowSymLinks +MultiViews AllowOverride All Require all granted &lt;/Directory&gt; &lt;FilesMatch \.php$&gt; SetHandler <span class="hljs-string"><span class="hljs-string">"proxy:unix:/var/run/php/php7.2-fpm.sock|fcgi://localhost/"</span></span> &lt;/FilesMatch&gt; &lt;/VirtualHost&gt;</code> </pre> <br>  ูุนูู <code>ServerName</code> ุงููุฌุงู ุงูุฃุณุงุณู ุ ูุงูุฐู ูุฌุจ ุฃู ูุชุทุงุจู ูุน ุงุณู ุงููุถูู ุงูุธุงูุฑู.  ูุฌุจ ุฃู ูููู ุงุณู ุงููุฌุงู ุงูุฎุงุต ุจู.  ุงูุซุงูู ุ <code>ServerAlias</code> ุ ูุนุฑู ุงูุฃุณูุงุก ุงูุฃุฎุฑู ุงูุชู ูุฌุจ ุฃู ุชูุณุฑ ููุง ูู ูุงูุช ุงููุฌุงู ุงูุฃุณุงุณู.  ูุนุฏ ูุฐุง ููุงุณุจูุง ูุงุณุชุฎุฏุงู ุฃุณูุงุก ูุทุงูุงุช ุฅุถุงููุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุงุณุชุฎุฏุงู www. <br><br>  ูุญู ููุณุฎ ูุฐุง ุงูุชูููู ููุถูู ุขุฎุฑ ููููู ุฃูุถูุง ุจุชุญุฑูุฑู ุนู ุทุฑูู ุงูููุงุณ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ sudo cp /etc/apache2/sites-available/a-dobra.ru.conf /etc/apache2/sites-available/promo.a-dobra.ru.conf</code> </pre> <br>  ููููู ุฅูุดุงุก ุฃู ุนุฏุฏ ูู ุงูุฏูุงุฆู ูุงููุถููุงุช ุงูุงูุชุฑุงุถูุฉ ูููุงูุน ุงูููุจ ุงูุฎุงุตุฉ ุจู!  ุงูุขู ููุฏ ุฃูุดุฃูุง ูููุงุช ุงููุถูู ุงูุงูุชุฑุงุถูุฉ ุงูุฎุงุตุฉ ุจูุง ุ ูุญุชุงุฌ ุฅูู ุชุถููููุง.  ูููููุง ุงุณุชุฎุฏุงู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ a2ensite ูุชูููู ูู ูู ููุงูุนูุง ุนูู ุงููุญู ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ sudo a2ensite a-dobra.ru.conf</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ sudo a2ensite promo.a-dobra.ru.conf</code> </pre> <br>  ุงูุชุฑุงุถููุง ุ ูุชู ุฅุบูุงู ุงููููุฐ 80 ูู LAMP ุ ูุณูุญุชุงุฌ ุฅููู ูู ุงููุณุชูุจู ูุชุซุจูุช ุดูุงุฏุฉ SSL.  ูุฐูู ุ ุฏุนููุง ูููู ุนูู ุงูููุฑ ุจุชุญุฑูุฑ ููู ports.conf ุซู ุฅุนุงุฏุฉ ุชุดุบูู Apache: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ sudo nano /etc/apache2/ports.conf</code> </pre> <br>  ุฃุถู ุณุทุฑูุง ุฌุฏูุฏูุง ูุงุญูุธ ุงูููู ุจุญูุซ ูุจุฏู ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">Listen 80 Listen 443 Listen 9997</code> </pre> <br>  ุจุนุฏ ุงูุงูุชูุงุก ูู ุงูุฅุนุฏุงุฏุงุช ุ ูุฌุจ ุฅุนุงุฏุฉ ุชุดุบูู Apache ุญุชู ุชุตุจุญ ุฌููุน ุงูุชุบููุฑุงุช ูุงูุฐุฉ ุงูููุนูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ sudo systemctl reload apache2</code> </pre> <br><h2 style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ 3: ุฅุนุฏุงุฏ ุฃุณูุงุก ุงููุทุงูุงุช </h2><br>  ุจุนุฏ ุฐูู ุ ุชุญุชุงุฌ ุฅูู ุฅุถุงูุฉ ุณุฌูุงุช DNS ุงูุชู ุณุชุดูุฑ ุฅูู ุฎุงุฏูู ุงูุฌุฏูุฏ.  ูุฅุฏุงุฑุฉ ุงููุทุงู ุ ุชุณุชุฎุฏู Arithmetic of Good Foundation ุฎุฏูุฉ dns-master.ru ุ ุฏุนูุง ูุนุฑุถูุง ุนูู ุณุจูู ุงููุซุงู. <br><br>  ูุดุงุฑ ุนุงุฏุฉู ุฅูู ุฅุนุฏุงุฏ A- ุณุฌู ูููุทุงู ุงูุฑุฆูุณู ูุซู (ุนูุงูุฉ <code>@</code> ): <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/22c/823/c72/22c823c7228723207e222f6c63918d2f.png"></div><br>  ูุดุงุฑ ุนุงุฏุฉู ุฅูู ุงูุณุฌู A ูููุทุงูุงุช ุงููุฑุนูุฉ ุนูู ุงููุญู ุงูุชุงูู: <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/6fb/964/276/6fb964276c962e380244c77f92ba31a4.png"></div><br>  ุนููุงู IP ูู ุนููุงู ุฎุงุฏู Linux ุงูุฐู ุฃูุดุฃูุงู ููุชู.  ูููู ุชุญุฏูุฏ TTL = 3600. <br><br>  ุจุนุฏ ูุชุฑุฉ ุ ุณูููู ูู ุงููููู ุจุงููุนู ุงููุตูู ุฅูู ูููุนู ุ ูููู ุญุชู ุงูุขู ููุท ูู ุฎูุงู <code>http://</code> .  ูู ุงูุฎุทูุฉ ุงูุชุงููุฉ ุ ุณูุถูู <code>https://</code> support. <br><br><h2 style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ 4: ุชูููู ุดูุงุฏุงุช SSL ุงููุฌุงููุฉ </h2><br>  ููููู ุงูุญุตูู ุนูู ุฏุนููุง ุชุดููุฑ ุดูุงุฏุงุช SSL ุงููุฌุงููุฉ ููููุนู ุงูุฑุฆูุณู ูุฌููุน ุงููุทุงูุงุช ุงููุฑุนูุฉ.  ููููู ุฃูุถูุง ุชูููู ุงูุชุฌุฏูุฏ ุงูุชููุงุฆู ุ ููู ูุฑูุญ ููุบุงูุฉ.  ููุญุตูู ุนูู ุดูุงุฏุงุช SSL ุ ูู ุจุชุซุจูุช Certbot ุนูู ุงูุฎุงุฏู ุงูุฎุงุต ุจู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ sudo add-apt-repository ppa:certbot/certbot</code> </pre> <br>  ูู ุจุชุซุจูุช ุญุฒูุฉ Certbot ูู Apache ุจุงุณุชุฎุฏุงู <code>apt</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ sudo apt install python-certbot-apache</code> </pre> <br>  Certbot ุฌุงูุฒ ุงูุขู ููุงุณุชุฎุฏุงู ุ ููุญู ูููุฐ ุงูุฃูุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ sudo certbot --apache -d a-dobra.ru -d www.a-dobra.ru -d promo.a-dobra.ru</code> </pre> <br>  ูููู ูุฐุง ุงูุฃูุฑ ุจุชุดุบูู certbot ุ ูุชุญุฏุฏ ููุงุชูุญ ุงูุชุจุฏูู <code>-d</code> ุฃุณูุงุก ุงููุทุงูุงุช ุงูุชู ุณูุชู ุฅุตุฏุงุฑ ุงูุดูุงุฏุฉ ููุง. <br><br>  ุฅุฐุง ูุงูุช ูุฐู ูู ุงููุฑุฉ ุงูุฃููู ุงูุชู ุชููู ูููุง ุจุชุดุบูู certbot ุ ูุณููุทูุจ ููู ุฅุฏุฎุงู ุนููุงู ุจุฑูุฏ ุฅููุชุฑููู ูุงูููุงููุฉ ุนูู ุดุฑูุท ุงูุฎุฏูุฉ.  ุจุนุฏ ุฐูู ุ ุณูุชุตู certbot ุจุฎุงุฏู Let's Encrypt ุซู ูุชุญูู ูู ุฃูู ุชุชุญูู ุญููุง ูู ุงููุฌุงู ุงูุฐู ุทูุจุช ุงูุดูุงุฏุฉ ูู ุฃุฌูู. <br><br>  ุฅุฐุง ุณุงุฑุช ุงูุฃููุฑ ุนูู ูุง ูุฑุงู ุ ูุณูู ูุณุฃู certbot ููู ุชุฑูุฏ ุชูููู ุชูููู HTTPS: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">Please choose whether or not to redirect HTTP traffic to HTTPS, removing HTTP access. - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 1: No redirect - Make no further changes to the webserver configuration. 2: Redirect - Make all requests redirect to secure HTTPS access. Choose this for new sites, or if you're confident your site works on HTTPS. You can undo this change by editing your web server's configuration. - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - Select the appropriate number [1-2] then [enter] (press 'c' to cancel):</code> </pre> <br>  ููุตู ุจุชุญุฏูุฏ ุงูุฎูุงุฑ 2 ูุงุถุบุท ENTER.  ุณูุชู ุชุญุฏูุซ ุงูุชูููู ูุฅุนุงุฏุฉ ุชุดุบูู Apache ูุชุทุจูู ุงูุชุบููุฑุงุช. <br><br>  ุงูุขู ูุชู ุชุญููู ุงูุดูุงุฏุงุช ุงูุฎุงุตุฉ ุจู ูุชุซุจูุชูุง ูุงูุนูู.  ุญุงูู ุฅุนุงุฏุฉ ุชุญููู ูููุนู ุจุงุณุชุฎุฏุงู https: // ูุณุชุฑู ุฑูุฒ ุงูุญูุงูุฉ ูู ุงููุชุตูุญ.  ุฅุฐุง ุงุฎุชุจุฑุช ุงูุฎุงุฏู ุงูุฎุงุต ุจู ุจุงุณุชุฎุฏุงู ุงุฎุชุจุงุฑ ุฎุงุฏู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุทุจูุฉ ุงูููุงุจุณ ุงูุขููุฉ (SSL)</a> ุ ูุณุชุญุตู ุนูู ุฏุฑุฌุฉ ุฃ. <br><br>  ุฏุนูุง ุชุดููุฑ ุงูุดูุงุฏุงุช ุตุงูุญุฉ ููุท ููุฏุฉ 90 ููููุง ุ ูููู ุญุฒูุฉ certbot ุงูุชู ูููุง ุจุชุซุจูุชูุง ููุชู ุณุชุฌุฏุฏ ุงูุดูุงุฏุงุช ุชููุงุฆููุง.  ูุงุฎุชุจุงุฑ ุนูููุฉ ุงูุชุฑููุฉ ุ ูููููุง ุฃู ูุฌุนู certbot ุงููุฏู ุงูุฌุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ sudo certbot renew --dry-run</code> </pre> <br>  ุฅุฐุง ูู ุชุฑู ุฃู ุฃุฎุทุงุก ูุงุชุฌุฉ ุนู ูุฐุง ุงูุฃูุฑ ุ ูุณูุนูู ูู ุดูุก! <br><br><h2 style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ 5: ุงููุตูู ุฅูู MySQL ู phpMyAdmin </h2><br>  ุงูุนุฏูุฏ ูู ุงูููุงูุน ุชุณุชุฎุฏู ููุงุนุฏ ุงูุจูุงูุงุช.  ุฃุฏุงุฉ phpMyAdmin ูุฅุฏุงุฑุฉ ููุงุนุฏ ุงูุจูุงูุงุช ูุซุจุชุฉ ุจุงููุนู ุนูู ุงูุฎุงุฏู ุงูุฎุงุต ุจูุง.  ูููุตูู ุฅููู ุ ุงููุฑ ุนูู ุงูุฑุงุจุท ูู ูุชุตูุญู ูุซู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">https://&lt;ip- &gt;:9997</code> </pre> <br>  ูููู ุงูุญุตูู ุนูู ูููุฉ ูุฑูุฑ ุงููุตูู ุฅูู ุงูุฌุฐุฑ ูู ุญุณุงุจ MCS ุงูุดุฎุตู ุงูุฎุงุต ุจู ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://mcs.mail.ru/app/services/marketplace/apps/</a> ).  ูุง ุชูุณู ุชุบููุฑ ูููุฉ ูุฑูุฑ ุงูุฌุฐุฑ ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู ูุฃูู ูุฑุฉ! <br><br><h2 style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ 6: ุชูููู ุชุญููู ุงูููู ุนุจุฑ SFTP </h2><br>  ุณูููู ูู ุงูููุงุณุจ ูููุทูุฑูู ุชุญููู ุงููููุงุช ููููุน ุงูููุจ ุงูุฎุงุต ุจู ูู ุฎูุงู SFTP.  ููููุงู ุจุฐูู ุ ุณููุดุฆ ูุณุชุฎุฏููุง ุฌุฏูุฏูุง ุ ูุณููู ูุดุฑู ุงููููุน: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ sudo adduser webmaster</code> </pre> <br>  ุณูุทูุจ ููู ุงููุธุงู ุชุนููู ูููุฉ ูุฑูุฑ ูุฅุฏุฎุงู ุจุนุถ ุงูุจูุงูุงุช ุงูุฃุฎุฑู. <br><br>  ุชุบููุฑ ุตุงุญุจ ุงูุฏููู ุจุงุณุชุฎุฏุงู ูููุน ุงูููุจ ุงูุฎุงุต ุจู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ sudo chown -R webmaster:webmaster /var/www/a-dobra.ru/public_html</code> </pre> <br>  ุงูุขู ุฏุนููุง ูุบูุฑ ุชููุฆุฉ SSH ุจุญูุซ ูููู ูููุณุชุฎุฏู ุงูุฌุฏูุฏ ุญู ุงููุตูู ุฅูู SFTP ููุท ุ ูููุณ ุฅูู ูุญุทุฉ SSH: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ sudo nano /etc/ssh/sshd_config</code> </pre> <br>  ูู ุจุงูุชูุฑูุฑ ุฅูู ููู ุงูุชูููู ุญุชู ุงูููุงูุฉ ูุฅุถุงูุฉ ุงููุชูุฉ ุงูุชุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">Match User webmaster ForceCommand internal-sftp PasswordAuthentication yes ChrootDirectory /var/www/a-dobra.ru PermitTunnel no AllowAgentForwarding no AllowTcpForwarding no X11Forwarding no</code> </pre> <br>  ุงุญูุธ ุงูููู ูุฃุนุฏ ุชุญููู ุงูุฎุฏูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ sudo systemctl restart sshd</code> </pre> <br>  ููููู ุงูุขู ุงูุงุชุตุงู ุจุงูุฎุงุฏู ูู ุฎูุงู ุฃู ุนููู ูู SFTP ุ ุนูู ุณุจูู ุงููุซุงู ุ ูู ุฎูุงู FileZilla. <br><br><h2 style=";text-align:right;direction:rtl">  ูุคุฏู </h2><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฃูุช ุงูุขู ุชุนุฑู ููููุฉ ุฅูุดุงุก ุฃุฏูุฉ ุฌุฏูุฏุฉ ูุชูููู ุงููุถูููู ุงูุธุงูุฑู ูููุงูุน ุงูููุจ ุงูุฎุงุตุฉ ุจู ุนูู ููุณ ุงูุฎุงุฏู. </li><li style=";text-align:right;direction:rtl">  ููููู ุจุณูููุฉ ุฅูุดุงุก ุดูุงุฏุงุช SSL ุงููุงุฒูุฉ - ุฅููุง ูุฌุงููุฉ ุ ูุณูุชู ุชุญุฏูุซูุง ุชููุงุฆููุง. </li><li style=";text-align:right;direction:rtl">  ููููู ุงูุนูู ุจุณูููุฉ ูุน ูุงุนุฏุฉ ุจูุงูุงุช MySQL ูู ุฎูุงู phpMyAdmin ุงููุนุชุงุฏ. </li><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุญุณุงุจุงุช SFTP ุฌุฏูุฏุฉ ูุฅุนุฏุงุฏ ุญููู ุงููุตูู ูู ูุชุทูุจ ุงููุซูุฑ ูู ุงูุฌูุฏ.  ูููู ููู ูุฐู ุงูุญุณุงุจุงุช ุฅูู ูุทูุฑู ุงูููุจ ูู ุฌูุฉ ุฎุงุฑุฌูุฉ ููุณุคููู ุงููููุน. </li><li style=";text-align:right;direction:rtl">  ูุง ุชูุณ ุชุญุฏูุซ ุงููุธุงู ุจุดูู ุฏูุฑู ุ ููุญู ููุตู ุฃูุถูุง ุจุนูู ูุณุฎ ุงุญุชูุงุทูุฉ - ูู MCS ุ ููููู ุงูุชูุงุท "ููุทุงุช" ูููุธุงู ุจุฃูููู ุจููุฑุฉ ูุงุญุฏุฉ ุ ุซู ุ ุนูุฏ ุงูุถุฑูุฑุฉ ุ ูู ุจุชุดุบูู ุงูุตูุฑ ุจุฃููููุง. </li></ol><br>  ุงูููุงุฑุฏ ุงููุณุชุฎุฏูุฉ ุงูุชู ูุฏ ุชููู ูููุฏุฉ: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://www.digitalocean.com/community/tutorials/apache-ubuntu-14-04-lts-ru</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://www.digitalocean.com/community/tutorials/apache-let-s-encrypt-ubuntu-18-04-ru</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://www.digitalocean.com/community/tutorials/how-to-enable-sftp-without-shell-access-on-ubuntu-18-04</a> <br><br>  ุจุงูููุงุณุจุฉ ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> ููููู ุฃู ุชูุฑุฃ ุนูู VC ููู ุฃุทููุช ูุคุณุณุชูุง ููุตุฉ ูุชุนููู ุงูุฃูุชุงู ุนุจุฑ ุงูุฅูุชุฑูุช ุงุณุชูุงุฏูุง ุฅูู ุณุญุงุจุฉ MCS. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar461155/">https://habr.com/ru/post/ar461155/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar461145/index.html">ูุงุฐุง ููุจุบู ุฃู ูุคุฏู ุงููุฑูู: ุงูุฃุฏูุงุฑ ูุงููุณุคูููุงุช ูุงูููุงุฑุงุช</a></li>
<li><a href="../ar461147/index.html">ููููุฉ ุญูุธ 64 ุณุงุนุฉ ุนู ุทุฑูู ุงูุฌูุน ุจูู ุงูููุงุชูุญ ูู PowerPoint</a></li>
<li><a href="../ar461149/index.html">ุงููุฌุฑุฉ ุฏูู ุนุงุฆู MongoDB ุฅูู Kubernetes</a></li>
<li><a href="../ar461151/index.html">ูู ุงูููุฑุฉ ุฅูู ุงูุฅูุชุงุฌ - ุชุทููุฑ ูุดุฑูุน ุฅูุชุฑูุช ุงูุฃุดูุงุก</a></li>
<li><a href="../ar461153/index.html">Web ููููุงุช ูุซู ุงูุฃุทุฑ ุ ูุงูุชูุงุนู ุงููููู</a></li>
<li><a href="../ar461157/index.html">ูุง ุณููุฏูู ูุณุงุนุฏ ุงูุชุนูููุงุช - ููุตุฉ ูุทูุฑ ุชุญู ูุญู Bug Reporter</a></li>
<li><a href="../ar461159/index.html">Ivideon Bridge: ููููุฉ ุชูุตูู ุฃูุธูุฉ CCTV ุงููุฏููุฉ ุจุงูุณุญุงุจุฉ</a></li>
<li><a href="../ar461161/index.html">ุชูููุถ ุชูุถููุงุช Android</a></li>
<li><a href="../ar461163/index.html">ูุง ุงูุฐู ูุฑุจุท ุจูู ููุงุฑูุฉ ุฃุนูุงุฏ ุงููููุงุฏ ููุดุงุดุฉ ุงูุชูููุนุงุช ุงูุฅููุชุฑูููุฉุ</a></li>
<li><a href="../ar461165/index.html">ุงูููุงุณ ุงูุญููู ููุชุฑุจ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>