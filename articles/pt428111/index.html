<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôã ü§í üßô Aritm√©tica da precis√£o arbitr√°ria em Erlang üîÑ üêû üì∫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="@rawpixel 


 At√© as crian√ßas em idade escolar est√£o cientes da exist√™ncia de v√°rios sistemas num√©ricos e do fato de que nem toda fra√ß√£o decimal finit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Aritm√©tica da precis√£o arbitr√°ria em Erlang</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/428111/"><p><img src="https://habrastorage.org/webt/h6/vn/cg/h6vncgl-xdc_8d5peworwhnrg4a.jpeg"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">@rawpixel</a> </p><br><p>  At√© as crian√ßas em idade escolar est√£o cientes da exist√™ncia de v√°rios sistemas num√©ricos e do fato de que nem toda fra√ß√£o decimal finita √© uma fra√ß√£o finita em um sistema num√©rico bin√°rio.  Poucas pessoas pensam que, devido a esse fato, as opera√ß√µes em float e double n√£o sejam exatas. </p><br><p>  Se falamos sobre Erlang, ent√£o, como muitas outras linguagens, ele implementa o padr√£o IEEE754 para float, enquanto o tipo inteiro padr√£o em Erlang √© implementado usando aritm√©tica de precis√£o arbitr√°ria.  No entanto, gostaria de ter n√£o apenas bigint, mas tamb√©m a capacidade de operar com n√∫meros racionais, complexos e de ponto flutuante com a precis√£o necess√°ria. </p><br><p> O artigo fornece uma vis√£o geral m√≠nima da teoria da codifica√ß√£o de n√∫meros de ponto flutuante e os exemplos mais impressionantes de efeitos emergentes.  A solu√ß√£o que fornece a precis√£o necess√°ria das opera√ß√µes atrav√©s da transi√ß√£o para uma representa√ß√£o de ponto fixo √© projetada como uma biblioteca EAPA (Aritm√©tica de Precis√£o Arbitr√°ria Erlang), projetada para atender √†s necessidades de aplicativos financeiros desenvolvidos em Erlang / Elixir. </p><a name="habracut"></a><br><hr><br><h2 id="standarty-standarty-standarty">  Padr√µes, normas, normas ... </h2><br><p>  Hoje, o principal padr√£o para aritm√©tica bin√°ria de ponto flutuante √© o IEEE754, amplamente utilizado em engenharia e programa√ß√£o.  Ele define quatro formatos de apresenta√ß√£o: </p><br><ul><li>  precis√£o √∫nica de 32 bits </li><li>  precis√£o dupla de 64 bits </li><li>  precis√£o estendida √∫nica&gt; = 43 bits (raramente usada) </li><li>  precis√£o estendida dupla&gt; = 79 bits (geralmente 80 bits usados) <br>  e quatro modos de arredondamento: </li><li>  Arredondamento, tendendo para o todo mais pr√≥ximo. </li><li>  Arredondamento tendendo a zero. </li><li>  Arredondamento tendendo a + ‚àû </li><li>  Arredondando para -‚àû </li></ul><br><p>  Os microprocessadores mais modernos s√£o fabricados com a implementa√ß√£o de hardware da representa√ß√£o de vari√°veis ‚Äã‚Äãreais no formato IEEE754.  Os formatos de apresenta√ß√£o limitam o tamanho do n√∫mero e os modos de arredondamento afetam a precis√£o.  Os programadores geralmente n√£o podem alterar o comportamento do hardware e implementar linguagens de programa√ß√£o.  Por exemplo, a implementa√ß√£o oficial do Erlang armazena um float em 3 palavras em uma m√°quina de 64 bits e em 4 palavras em uma m√°quina de 32 bits. </p><br><p>  Como mencionado acima, os n√∫meros no formato IEEE754 s√£o um conjunto finito no qual um conjunto infinito de n√∫meros reais √© mapeado; portanto, o n√∫mero original pode ser apresentado no formato IEEE754 com um erro. </p><br><p>  A maior parte dos n√∫meros, quando exibidos em um conjunto finito, apresenta um erro relativo est√°vel e pequeno.  Portanto, para float √© 11.920928955078125e-6% e para dobro - 2.2204460492503130808472633361816e-14%.  Na vida dos programadores, a maioria das tarefas di√°rias a serem resolvidas nos permite negligenciar esse erro, embora deva-se observar que mesmo em tarefas simples voc√™ pode pisar no rake, j√° que a magnitude do erro absoluto pode chegar a 10 <sup>31</sup> e 10 <sup>292</sup> para flutuar e dobrar, respectivamente, causando dificuldades nos c√°lculos. </p><br><h2 id="illyustraciya-effektov">  Ilustra√ß√£o de efeitos </h2><br><p>  De informa√ß√µes gerais a neg√≥cios.  Vamos tentar reproduzir os efeitos emergentes em Erlang. </p><br><p>  Todos os exemplos abaixo s√£o projetados como testes ct. </p><br><h3 id="okruglenie-i-poterya-tochnosti">  Arredondamento e perda de precis√£o </h3><br><p>  Vamos come√ßar com os cl√°ssicos - a adi√ß√£o de dois n√∫meros: 0,1 + 0,2 = ?: </p><br><pre><code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">t30000000000000004</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(_)</span></span></span><span class="hljs-function">-&gt;</span></span> [<span class="hljs-string"><span class="hljs-string">"0.30000000000000004"</span></span>] = io_lib:format(<span class="hljs-string"><span class="hljs-string">"~w"</span></span>, [<span class="hljs-number"><span class="hljs-number">0.1</span></span> + <span class="hljs-number"><span class="hljs-number">0.2</span></span>]).</code> </pre> <br><p>  O resultado da adi√ß√£o √© um pouco diferente do esperado intuitivamente, e o teste passa com sucesso.  Vamos tentar alcan√ßar o resultado certo.  Reescreva o teste usando EAPA: </p><br><pre> <code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">t30000000000000004_eapa</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(_)</span></span></span><span class="hljs-function">-&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">%% prec = 1 symbols after coma X = eapa_int:with_val(1, &lt;&lt;"0.1"&gt;&gt;), Y = eapa_int:with_val(1, &lt;&lt;"0.2"&gt;&gt;), &lt;&lt;"0.3"&gt;&gt; = eapa_int:to_float(1, eapa_int:add(X, Y)).</span></span></code> </pre> <br><p>  Este teste tamb√©m foi bem-sucedido, mostrando que o problema foi resolvido. <br>  Vamos continuar os experimentos, adicionar um valor muito pequeno para 1.0: </p><br><pre> <code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tiny</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(_)</span></span></span><span class="hljs-function">-&gt;</span></span> X = <span class="hljs-number"><span class="hljs-number">1.0</span></span>, Y = <span class="hljs-number"><span class="hljs-number">0.0000000000000000000000001</span></span>, <span class="hljs-number"><span class="hljs-number">1.0</span></span> = X + Y.</code> </pre> <br><p>  Como voc√™ pode ver, nosso aumento passou despercebido.  Estamos tentando corrigir o problema, ilustrando simultaneamente um dos recursos da biblioteca - escala autom√°tica: </p><br><pre> <code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tiny_eapa</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(_)</span></span></span><span class="hljs-function">-&gt;</span></span> X1 = eapa_int:with_val(<span class="hljs-number"><span class="hljs-number">1</span></span>, &lt;&lt;<span class="hljs-string"><span class="hljs-string">"1.0"</span></span>&gt;&gt;), X2 = eapa_int:with_val(<span class="hljs-number"><span class="hljs-number">25</span></span>, &lt;&lt;<span class="hljs-string"><span class="hljs-string">"0.0000000000000000000000001"</span></span>&gt;&gt;), &lt;&lt;<span class="hljs-string"><span class="hljs-string">"1.0000000000000000000000001"</span></span>&gt;&gt; = eapa_int:to_float(eapa_int:add(X1, X2)).</code> </pre> <br><h3 id="perepolnenie-razryadnoy-setki">  Excesso de grade de bits </h3><br><p>  Al√©m dos problemas associados a n√∫meros pequenos, o excesso √© um problema √≥bvio e significativo. </p><br><pre> <code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">float_overflow</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(_)</span></span></span><span class="hljs-function"> -&gt;</span></span> <span class="hljs-number"><span class="hljs-number">1.0</span></span> = <span class="hljs-number"><span class="hljs-number">9007199254740991.0</span></span> - <span class="hljs-number"><span class="hljs-number">9007199254740990.0</span></span>, <span class="hljs-number"><span class="hljs-number">1.0</span></span> = <span class="hljs-number"><span class="hljs-number">9007199254740992.0</span></span> - <span class="hljs-number"><span class="hljs-number">9007199254740991.0</span></span>, <span class="hljs-number"><span class="hljs-number">0.0</span></span> = <span class="hljs-number"><span class="hljs-number">9007199254740993.0</span></span> - <span class="hljs-number"><span class="hljs-number">9007199254740992.0</span></span>, <span class="hljs-number"><span class="hljs-number">2.0</span></span> = <span class="hljs-number"><span class="hljs-number">9007199254740994.0</span></span> - <span class="hljs-number"><span class="hljs-number">9007199254740993.0</span></span>.</code> </pre> <br><p>  Como voc√™ pode ver no teste, em algum momento a diferen√ßa deixa de ser igual a 1,0, o que √© obviamente um problema.  A EAPA tamb√©m resolve esse problema: </p><br><pre> <code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">float_overflow_eapa</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(_)</span></span></span><span class="hljs-function">-&gt;</span></span> X11 = eapa_int:with_val(<span class="hljs-number"><span class="hljs-number">1</span></span>, &lt;&lt;<span class="hljs-string"><span class="hljs-string">"9007199254740992.0"</span></span>&gt;&gt;), X21 = eapa_int:with_val(<span class="hljs-number"><span class="hljs-number">1</span></span>, &lt;&lt;<span class="hljs-string"><span class="hljs-string">"9007199254740991.0"</span></span>&gt;&gt;), &lt;&lt;<span class="hljs-string"><span class="hljs-string">"1.0"</span></span>&gt;&gt; = eapa_int:to_float(<span class="hljs-number"><span class="hljs-number">1</span></span>, eapa_int:sub(X11, X21)), X12 = eapa_int:with_val(<span class="hljs-number"><span class="hljs-number">1</span></span>, &lt;&lt;<span class="hljs-string"><span class="hljs-string">"9007199254740993.0"</span></span>&gt;&gt;), X22 = eapa_int:with_val(<span class="hljs-number"><span class="hljs-number">1</span></span>, &lt;&lt;<span class="hljs-string"><span class="hljs-string">"9007199254740992.0"</span></span>&gt;&gt;), &lt;&lt;<span class="hljs-string"><span class="hljs-string">"1.0"</span></span>&gt;&gt; = eapa_int:to_float(<span class="hljs-number"><span class="hljs-number">1</span></span>, eapa_int:sub(X12, X22)), X13 = eapa_int:with_val(<span class="hljs-number"><span class="hljs-number">1</span></span>, &lt;&lt;<span class="hljs-string"><span class="hljs-string">"9007199254740994.0"</span></span>&gt;&gt;), X23 = eapa_int:with_val(<span class="hljs-number"><span class="hljs-number">1</span></span>, &lt;&lt;<span class="hljs-string"><span class="hljs-string">"9007199254740993.0"</span></span>&gt;&gt;), &lt;&lt;<span class="hljs-string"><span class="hljs-string">"1.0"</span></span>&gt;&gt; = eapa_int:to_float(<span class="hljs-number"><span class="hljs-number">1</span></span>, eapa_int:sub(X13, X23)).</code> </pre> <br><h3 id="opasnaya-redukciya">  Redu√ß√£o perigosa </h3><br><p>  O teste a seguir demonstra a ocorr√™ncia de uma redu√ß√£o perigosa.  Esse processo √© acompanhado por uma diminui√ß√£o catastr√≥fica na precis√£o dos c√°lculos nas opera√ß√µes em que o valor resultante √© muito menor que o valor de entrada.  No nosso caso, o resultado da subtra√ß√£o 1. </p><br><p>  Mostramos que em Erlang esse problema est√° presente: </p><br><pre> <code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reduction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(_)</span></span></span><span class="hljs-function">-&gt;</span></span> X = float(<span class="hljs-number"><span class="hljs-number">87654321098765432</span></span>), Y = float(<span class="hljs-number"><span class="hljs-number">87654321098765431</span></span>), <span class="hljs-number"><span class="hljs-number">16.0</span></span> = XY. <span class="hljs-comment"><span class="hljs-comment">%% has to be 1.0</span></span></code> </pre> <br><p>  Descobriu-se 16.0 em vez do esperado 1.0.  Vamos tentar corrigir esta situa√ß√£o: </p><br><pre> <code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reduction_eapa</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(_)</span></span></span><span class="hljs-function">-&gt;</span></span> X = eapa_int:with_val(<span class="hljs-number"><span class="hljs-number">1</span></span>, &lt;&lt;<span class="hljs-string"><span class="hljs-string">"87654321098765432"</span></span>&gt;&gt;), Y = eapa_int:with_val(<span class="hljs-number"><span class="hljs-number">1</span></span>, &lt;&lt;<span class="hljs-string"><span class="hljs-string">"87654321098765431"</span></span>&gt;&gt;), &lt;&lt;<span class="hljs-string"><span class="hljs-string">"1.0"</span></span>&gt;&gt; = eapa_int:to_float(eapa_int:sub(X, Y)).</code> </pre> <br><h3 id="drugie-osobennosti-arifmetiki-s-plavayuschey-tochkoy-v-erlang">  Outras caracter√≠sticas da aritm√©tica de ponto flutuante em Erlang </h3><br><p>  Vamos come√ßar ignorando o zero negativo. </p><br><pre> <code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">eq</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(_)</span></span></span><span class="hljs-function">-&gt;</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> = list_to_float(<span class="hljs-string"><span class="hljs-string">"0.0"</span></span>) =:= list_to_float(<span class="hljs-string"><span class="hljs-string">"-0.0"</span></span>).</code> </pre> <br><p>  S√≥ quero dizer que o EAPA mant√©m esse comportamento: </p><br><pre> <code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">eq_eapa</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(_)</span></span></span><span class="hljs-function">-&gt;</span></span> X = eapa_int:with_val(<span class="hljs-number"><span class="hljs-number">1</span></span>, &lt;&lt;<span class="hljs-string"><span class="hljs-string">"0.0"</span></span>&gt;&gt;), Y = eapa_int:with_val(<span class="hljs-number"><span class="hljs-number">1</span></span>, &lt;&lt;<span class="hljs-string"><span class="hljs-string">"-0.0"</span></span>&gt;&gt;), <span class="hljs-literal"><span class="hljs-literal">true</span></span> = eapa_int:eq(X, Y).</code> </pre> <br><p>  uma vez que √© v√°lido.  Erlang n√£o possui uma sintaxe e processamento claros de NaN e infinitos, o que d√° origem a v√°rios recursos, por exemplo, estes: </p><br><pre> <code class="hljs erlang-repl"><span class="hljs-meta"><span class="hljs-meta">1&gt; </span></span>math:sqrt(list_to_float(<span class="hljs-string"><span class="hljs-string">"-0.0"</span></span>)). <span class="hljs-number"><span class="hljs-number">0.0</span></span></code> </pre> <br><p>  O pr√≥ximo ponto √© a caracter√≠stica do processamento de n√∫meros grandes e pequenos.  Vamos tentar reproduzir para os mais pequenos: </p><br><pre> <code class="hljs erlang-repl"><span class="hljs-meta"><span class="hljs-meta">2&gt; </span></span>list_to_float(<span class="hljs-string"><span class="hljs-string">"0."</span></span>++lists:duplicate(<span class="hljs-number"><span class="hljs-number">322</span></span>, $<span class="hljs-number"><span class="hljs-number">0</span></span>)++<span class="hljs-string"><span class="hljs-string">"1"</span></span>). <span class="hljs-number"><span class="hljs-number">1.0e-323</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>&gt; list_to_float(<span class="hljs-string"><span class="hljs-string">"0."</span></span>++lists:duplicate(<span class="hljs-number"><span class="hljs-number">323</span></span>, $<span class="hljs-number"><span class="hljs-number">0</span></span>)++<span class="hljs-string"><span class="hljs-string">"1"</span></span>). <span class="hljs-number"><span class="hljs-number">0.0</span></span></code> </pre> <br><p>  e para grandes n√∫meros: </p><br><pre> <code class="hljs erlang-repl"><span class="hljs-meta"><span class="hljs-meta">4&gt; </span></span>list_to_float(<span class="hljs-string"><span class="hljs-string">"1"</span></span>++lists:duplicate(<span class="hljs-number"><span class="hljs-number">308</span></span>, $<span class="hljs-number"><span class="hljs-number">0</span></span>)++<span class="hljs-string"><span class="hljs-string">".0"</span></span>). <span class="hljs-number"><span class="hljs-number">1.0e308</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>&gt; list_to_float(<span class="hljs-string"><span class="hljs-string">"1"</span></span>++lists:duplicate(<span class="hljs-number"><span class="hljs-number">309</span></span>, $<span class="hljs-number"><span class="hljs-number">0</span></span>)++<span class="hljs-string"><span class="hljs-string">".0"</span></span>). ** exception error: bad argument</code> </pre> <br><p>  Aqui est√£o mais alguns exemplos para n√∫meros pequenos: </p><br><pre> <code class="hljs erlang-repl"><span class="hljs-meta"><span class="hljs-meta">6&gt; </span></span>list_to_float(<span class="hljs-string"><span class="hljs-string">"0."</span></span>++lists:duplicate(<span class="hljs-number"><span class="hljs-number">322</span></span>, $<span class="hljs-number"><span class="hljs-number">0</span></span>)++<span class="hljs-string"><span class="hljs-string">"123456789"</span></span>). <span class="hljs-number"><span class="hljs-number">1.0e-323</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span>&gt; list_to_float(<span class="hljs-string"><span class="hljs-string">"0."</span></span>++lists:duplicate(<span class="hljs-number"><span class="hljs-number">300</span></span>, $<span class="hljs-number"><span class="hljs-number">0</span></span>)++<span class="hljs-string"><span class="hljs-string">"123456789"</span></span>). <span class="hljs-number"><span class="hljs-number">1.23456789e-301</span></span></code> </pre> <br><pre> <code class="hljs erlang-repl"><span class="hljs-meta"><span class="hljs-meta">8&gt; </span></span><span class="hljs-number"><span class="hljs-number">0.123456789e-100</span></span> * <span class="hljs-number"><span class="hljs-number">0.123456789e-100</span></span>. <span class="hljs-number"><span class="hljs-number">1.524157875019052e-202</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span>&gt; <span class="hljs-number"><span class="hljs-number">0.123456789e-200</span></span> * <span class="hljs-number"><span class="hljs-number">0.123456789e-200</span></span>. <span class="hljs-number"><span class="hljs-number">0.0</span></span></code> </pre> <br><p>  Os exemplos acima confirmam a verdade para os projetos Erlang: o dinheiro n√£o pode ser contado no IEEE754. </p><br><h2 id="eapa-erlang-arbitrary-precision-arithmetic">  EAPA (Aritm√©tica de precis√£o arbitr√°ria de Erlang) </h2><br><p>  EAPA √© uma extens√£o NIF escrita em Rust.  No momento, o reposit√≥rio EAPA fornece a interface eapa_int mais simples e conveniente para trabalhar com n√∫meros de ponto fixo.  Os recursos de eapa_int incluem o seguinte: </p><br><ol><li>  Falta de efeitos da codifica√ß√£o IEEE754 </li><li>  Suporte para grandes n√∫meros </li><li>  Precis√£o configur√°vel at√© 126 casas decimais.  (na implementa√ß√£o atual) </li><li>  Escalonamento autom√°tico </li><li>  Suporte para todas as opera√ß√µes b√°sicas em n√∫meros </li><li>  Teste mais ou menos completo, incluindo a propriedade. </li></ol><br><p>  Interface <code>eapa_int</code> : </p><br><ul><li>  <code>with_val/2</code> - tradu√ß√£o de um n√∫mero de ponto flutuante em uma representa√ß√£o fixa, que pode ser usada, incluindo com seguran√ßa, em json, xml. </li><li>  <code>to_float/2</code> - convers√£o de um n√∫mero de ponto fixo em um n√∫mero de ponto flutuante com uma determinada precis√£o. </li><li>  <code>to_float/1</code> - converte um n√∫mero de ponto fixo em um n√∫mero de ponto flutuante. </li><li>  <code>add/2</code> - a soma de dois n√∫meros </li><li>  <code>sub/2</code> - diferen√ßa </li><li>  <code>mul/2</code> - multiplica√ß√£o </li><li>  <code>divp/2</code> - divis√£o </li><li>  <code>min/2</code> - o m√≠nimo de n√∫meros </li><li>  <code>max/2</code> - o m√°ximo dos n√∫meros </li><li>  <code>eq/2</code> - verifica a igualdade de n√∫meros </li><li>  <code>lt/2</code> - verifique se o n√∫mero √© menor </li><li>  <code>lte/2</code> - verificando menos que igual </li><li>  <code>gt/2</code> - verifique se o n√∫mero √© maior </li><li>  <code>gte/2</code> - a verifica√ß√£o √© mais que igual </li></ul><br><p>  O c√≥digo EAPA pode ser encontrado no reposit√≥rio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://github.com/Vonmo/eapa</a> </p><br><p>  Quando voc√™ deve usar eapa_int?  Por exemplo, se seu aplicativo funcionar com dinheiro ou voc√™ precisar executar opera√ß√µes computacionais de maneira conveniente e precisa em n√∫meros como 92233720368547758079223372036854775807.92233720368547758079223372036854775807, voc√™ poder√° usar o EAPA com seguran√ßa. </p><br><p>  Como qualquer solu√ß√£o, o EAPA √© um compromisso.  Obtemos a precis√£o necess√°ria sacrificando a mem√≥ria e a velocidade computacional.Os testes de desempenho e as estat√≠sticas coletadas em sistemas reais mostram que a maioria das opera√ß√µes √© realizada na faixa de 3-30 Œºs.  Este ponto tamb√©m deve ser considerado ao escolher uma interface de ponto fixo EAPA. </p><br><h2 id="zaklyuchenie">  Conclus√£o </h2><br><p>  Obviamente, nem sempre √© necess√°rio resolver esses problemas no Erlang ou no Elixir, mas quando surge um problema e uma ferramenta adequada n√£o √© encontrada, voc√™ precisa inventar uma solu√ß√£o. <br>  Este artigo √© uma tentativa de compartilhar com a comunidade a ferramenta e a experi√™ncia, na esperan√ßa de que para algumas pessoas essa biblioteca seja √∫til e ajude a economizar tempo. <br>  O que voc√™ acha do dinheiro em Erlang? </p><br><p>  PS O trabalho com n√∫meros racionais e complexos, bem como o acesso nativo aos tipos inteiro, flutuante, complexo e racional de precis√£o arbitr√°ria ser√£o abordados nas publica√ß√µes a seguir.  N√£o mude! </p><br><hr><br><p>  Materiais relacionados: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O que todo cientista da computa√ß√£o deve saber sobre aritm√©tica de ponto flutuante</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O que voc√™ precisa saber sobre aritm√©tica de ponto flutuante</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">N√∫meros de ponto flutuante padr√£o IEEE 754</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">IEEE 754 - padr√£o aritm√©tico bin√°rio</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ponto flutuante</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">0.30000000000000004</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt428111/">https://habr.com/ru/post/pt428111/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt428101/index.html">Como automatizar com Jenkins a constru√ß√£o e rolagem de artefatos de artefatos de modelo de metadados para tabelas no reposit√≥rio</a></li>
<li><a href="../pt428103/index.html">Mitap em S√£o Petersburgo: Engenharia de Dados e mais</a></li>
<li><a href="../pt428105/index.html">O Blogger recomenda: influenciar o marketing</a></li>
<li><a href="../pt428107/index.html">Containeriza√ß√£o de aplicativos Angular 6 SPA Template ASP .NET Core 2.1</a></li>
<li><a href="../pt428109/index.html">Parede corporativa</a></li>
<li><a href="../pt428113/index.html">Para a quest√£o das curvas de Bezier, velocidade do Arduino e um site interessante, ou como passei o fim de semana</a></li>
<li><a href="../pt428115/index.html">Desenvolvimento web para com√©rcio eletr√¥nico: 5 tend√™ncias tecnol√≥gicas para 2019</a></li>
<li><a href="../pt428117/index.html">Processadores tensores gratuitos do Google na Nuvem Colaborativa</a></li>
<li><a href="../pt428119/index.html">"Classe-campos-proposta" ou "O que deu errado no commit do tc39"</a></li>
<li><a href="../pt428121/index.html">Stan Drapkin. Armadilhas de criptografia de alto n√≠vel no .NET</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>