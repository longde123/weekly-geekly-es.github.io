<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíâ üê§ üôèüèª Sistemas multiagente en la construcci√≥n de espacios virtuales. üíü üëµ üë©üèª‚Äçüè´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Uno de los problemas cr√≠ticos que surgen al construir sistemas multiusuario es el escalado. Existen varias soluciones a estos problemas: fragmentaci√≥n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sistemas multiagente en la construcci√≥n de espacios virtuales.</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/microsoft/blog/419129/">  Uno de los problemas cr√≠ticos que surgen al construir sistemas multiusuario es el escalado.  Existen varias soluciones a estos problemas: fragmentaci√≥n, modelo de servicio, sistema de entidad-componente.  Hoy consideraremos todas las opciones y tambi√©n discutiremos un caso pr√°ctico para resolver el problema.  √önete ahora! <br><br><img src="https://habrastorage.org/webt/s1/_h/go/s1_hgomg5gsnukfd8hs4gdql6so.jpeg"><a name="habracut"></a><br><br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a></b> <br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a></b> <br><br>  <i>Paso la palabra a los autores.</i> <br><br><h2>  Enfoques tradicionales para construir sistemas multiusuario.  Arquitectura de servicio </h2><br>  Hist√≥ricamente, el primer m√©todo para resolver el problema del escalado fue la fragmentaci√≥n: dividir todo el sistema en varios servidores por cualquier criterio sin un estado general del mundo.  Es decir, hasta cierto n√∫mero de usuarios, podr√≠an estar en el mismo servidor, verse e interactuar entre ellos;  pero al agregar nuevos, terminaron en copias del espacio virtual que se ejecuta en otro servidor y, en consecuencia, no pudieron interactuar con otros.  Est√° claro que esto no es una soluci√≥n al problema, es una soluci√≥n alternativa.  Y aunque el fragmentaci√≥n tiene sentido incluso ahora, en muchos casos se requieren enfoques que realmente puedan aumentar la posible carga en el servidor. <br><br>  La segunda t√©cnica com√∫n es el modelo de servicio.  El servidor tiene una serie de componentes que se pueden duplicar f√°cilmente.  Por ejemplo, esta es una base de datos y est√° trabajando con ella, o un servidor de activos que los env√≠a a un cliente, o un servidor de autorizaci√≥n.  Todos estos servicios se distinguen por el hecho de que puede tenerlos en varias instancias y paralelizar las solicitudes para ellos. <br><br><h2>  El principal problema es el estado compartido </h2><br>  Pero el problema principal es diferente.  ¬øQu√© hacer con un estado espec√≠fico del mundo, el estado del espacio virtual?  Supongamos que nuestro "mundo" consiste en una escena 3D, un conjunto de objetos y varios usuarios conectados.  Te√≥ricamente, podemos duplicar algunos componentes de software que son responsables de trabajar con la escena en el lado del servidor.  Pero el problema es que el estado de la escena es una cosa com√∫n a todos estos componentes.  Por consiguiente, al paralelizar los manejadores, necesitamos resolver de alguna manera el problema de sincronizar el trabajo con los datos, y al mismo tiempo en la sincronizaci√≥n misma podemos perder m√°s rendimiento que ganar en paralelismo. <br><br><h2>  Soluci√≥n: Sistema de entidad-componente.  Problemas en el caso del Lejano Oriente </h2><br>  Uno de los enfoques relativamente recientes para tales problemas es ECS (Entity - Component System).  En esta versi√≥n, representamos el objeto del sistema como una determinada entidad que tiene algunas propiedades.  Por ejemplo, esta puede ser la posici√≥n de un objeto en el espacio y su velocidad.  Adem√°s, todo lo que almacenamos en el objeto en s√≠ es solo algunos datos, pero no la l√≥gica de trabajar con ellos.  Es decir, en nuestro caso, simplemente se asignar√°n seis n√∫meros al objeto: el vector de coordenadas y el vector de velocidad. <br><br>  La segunda parte de ECS es trabajador, un sistema que funciona con un tipo espec√≠fico de componente.  Por ejemplo, en nuestro caso, puede ser un sistema que cambia las coordenadas de un objeto cada segundo, a√±adi√©ndoles velocidad.  La idea principal es que el trabajador no sabe nada sobre el objeto como tal, solo tiene una cola, una tuber√≠a de componentes que debe procesar de acuerdo con ciertas reglas.  En consecuencia, podemos paralelizar a los trabajadores, as√≠ como los servicios paralelizados. <br><br><h2>  Sistemas de agentes como m√©todo para escribir c√≥digo paralelo </h2><br>  El enfoque de m√∫ltiples agentes tampoco es una novedad especial, pero recientemente, el inter√©s en los sistemas de agentes ha ido creciendo.  Hay una serie de art√≠culos bastante buenos que lo cuentan en detalle, por lo que aqu√≠ enumeramos brevemente solo los principios m√°s generales de dichos sistemas: <br><br><ol><li>  El componente principal del sistema es un componente llamado agente o actor.  De alguna manera, se parece a un objeto familiar para todos, pero el actor no tiene m√©todos p√∫blicos, la √∫nica forma de comunicarse con √©l es enviarle un mensaje; </li><li>  Para enviar un mensaje al agente existe el concepto de "enlaces".  El enlace proporciona una interfaz determinada (en varias implementaciones puede verse muy diferente), lo que le permite enviar mensajes.  Una de las propiedades importantes aqu√≠ es la transparencia de ubicaci√≥n y la presencia de cada agente con una direcci√≥n, una cadena que le permite obtener un enlace al agente independientemente de su ubicaci√≥n f√≠sica, es decir.  el agente puede ubicarse y trabajar en el sistema del agente en la misma computadora, o tal vez en otra; en este caso, el enlace se obtiene en alguna direcci√≥n de red; </li><li>  El agente tiene una cola de mensajes y se procesan secuencialmente.  Un agente puede ser una m√°quina de estados que cambia estados y manejadores de mensajes en el orden de reacci√≥n a ellos; </li><li>  Como regla general, los sistemas multiagente son jer√°rquicos, es decir, los agentes forman una especie de √°rbol.  En este caso, un error en uno de los agentes no detiene todo el sistema, solo un agente espec√≠fico se desconecta y env√≠a un mensaje de error a su antecesor.  Uno de los enfoques populares para manejar tales errores es dejar que se bloquee: cuando un agente falla, simplemente creamos una nueva copia del mismo; </li><li>  Crear un nuevo agente no es una operaci√≥n que requiere muchos recursos, y crear el sistema en s√≠ es muy costoso. </li></ol><br>  Muy a menudo, los sistemas de agentes se usan solo en el enfoque que usa ECS.  Dado que el sistema de agentes hace que sea muy f√°cil crear la cantidad requerida de trabajadores y hacer que su trabajo sea paralelo, simplemente distribuyendo el flujo de mensajes entre ellos, este parece un enfoque muy prometedor.  Por ejemplo, as√≠ es como funciona SpatialOS de Improbable. <br><br>  Los problemas surgen aqu√≠ en un plano ligeramente diferente.  El enfoque de ECS es bastante simple, pero en principio no puede llamarse intuitivo, especialmente para programadores inexpertos.  Por lo tanto, la creaci√≥n de c√≥digo de usuario en dicho sistema es una tarea bastante trivial.  Adem√°s, surgen preguntas sobre la portabilidad de varios objetos entre instancias de servidores virtuales, porque junto con el objeto debemos transferir a todos los trabajadores si ellos (para este tipo de componente) no est√°n presentes en otro servidor.  En principio, algunas implementaciones de sistemas de agentes pueden resolver algunos de estos problemas, pero hemos elegido un enfoque diferente. <br><br><h2>  Nuestro caso es la esencia del Lejano Oriente como agente </h2><br>  En nuestro caso, cada objeto espacial virtual es un agente, o m√°s bien, un sistema de agentes.  Comparando con el ECS cl√°sico, podemos decir que cada entidad en nosotros lleva un sistema de "micro trabajadores", ligados al objeto mismo.  Al mismo tiempo, se conservan todas las ventajas del sistema de agente (es decir, podemos ejecutar dicho objeto en un hilo separado, en una m√°quina separada, etc., simplemente cambiando la configuraci√≥n del servidor), pero el objeto sigue siendo port√°til y escribir scripts para √©l no requiere divisi√≥n ECS . <br><br>  En este caso, el estado del mundo se divide en el estado de los objetos individuales, y cada uno de ellos puede procesarse por separado.  En el cliente, tambi√©n creamos un sistema de agente, que es una especie de reflejo del estado del servidor, y asociamos cada agente de cliente con el agente del servidor.  Entre otras cosas, esto tambi√©n aumenta la confiabilidad del sistema, ya que si un objeto individual falla, solo este objeto est√° deshabilitado, y no todo el espacio virtual. <br>  En un poco m√°s de detalle, se ve as√≠: <br><br><img src="https://habrastorage.org/webt/81/at/0d/81at0dd-wlkdcnx5abgrktulxv0.png"><br><br>  Cualquier objeto espacial es un sistema de agente peque√±o que consiste en el agente principal de la entidad que se crea cuando se inicia el servidor, que no es un agente contenedor de componentes y un conjunto de componentes de controlador de mensajes.  Para conectar al cliente, se utiliza la propiedad de transparencia de red, es decir, cada objeto espec√≠fico en el cliente tiene un enlace al objeto del agente del servidor.  Al mismo tiempo, cuando se conecta, se crea din√°micamente un nuevo agente, que es un descendiente del principal. <br><br><img src="https://habrastorage.org/webt/sx/zc/zj/sxzczji0iavh3gibmxwv9pkitm4.png"><br><br>  Tambi√©n se crea un sistema de agente en el lado del cliente, pero los agentes de entidad en √©l est√°n formados por un mensaje del lado del servidor.  Despu√©s de la creaci√≥n, el agente recibe un enlace al agente del servidor y crea un componente de procesamiento de mensajes que incluye colas para recibir y enviar mensajes desde el servidor.  Tambi√©n se crea un objeto Unity, y las partes cliente de los componentes del objeto se heredan de MonoBehaviour.  Al mismo tiempo, la parte de Unity y la parte de agente trabajan en diferentes subprocesos, el controlador de mensajes es responsable de la sincronizaci√≥n (si es posible, se minimiza). <br><br>  Algo como esto (sin detalles especiales) se parece a la implementaci√≥n del espacio virtual din√°mico en la variante JIF.  En el pr√≥ximo art√≠culo, le informaremos sobre big data personal y trabajaremos con estad√≠sticas, as√≠ como sobre blockchain. <br><br><h2>  Los autores </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Jedium</a> es una empresa asociada de Microsoft que trabaja en el campo de la realidad virtual aumentada y la inteligencia artificial.  Jedium ha desarrollado un marco para simplificar el desarrollo de proyectos complejos en Unity, parte del cual est√° disponible p√∫blicamente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en GitHub</a> .  Jedium planea reponer el repositorio con nuevos m√≥dulos de marco, as√≠ como soluciones de integraci√≥n con Microsoft Azure. <br><br><img src="https://habrastorage.org/webt/jh/ag/3n/jhag3namj6wkh2bvqqo6_ftaj80.png" align="left" width="70">  <b>Vitaliy Chashchin</b> : desarrollador de software con m√°s de 10 a√±os de experiencia en el dise√±o e implementaci√≥n de aplicaciones tridimensionales cliente-servidor, desde el concepto hasta la implementaci√≥n e integraci√≥n completas de aplicaciones y soluciones en el campo de la realidad virtual.  Arquitecto de sistemas Jedium LLC, MSc en TI. <br><br><img src="https://habrastorage.org/webt/v3/pv/lq/v3pvlqbh3g0yastjzzsrckofgeo.jpeg" align="left" width="70">  <b>Alexey Sarafanov</b> <br><br>  Gerente de Marketing en Jedium LLC. <br><br><img src="https://habrastorage.org/webt/-7/j2/bl/-7j2bl1twtkxgfndf1a2xmzduzs.jpeg" align="left" width="70">  <b>Sergey Kudryavtsev</b> <br><br>  CEO y fundador de Jedium LLC. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es419129/">https://habr.com/ru/post/es419129/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es419117/index.html">"Es dif√≠cil para m√≠ entender la motivaci√≥n de un cient√≠fico de datos que no ve la belleza en las matem√°ticas" - Kirill Danilyuk, Data Scientist</a></li>
<li><a href="../es419119/index.html">El bol√≠grafo inteligente premium Montblanc es el bol√≠grafo inteligente m√°s caro hasta la fecha</a></li>
<li><a href="../es419123/index.html">Las desventajas del trabajo independiente. Experiencia personal</a></li>
<li><a href="../es419125/index.html">El regreso de la estaci√≥n sovi√©tica. An√°lisis y documentos.</a></li>
<li><a href="../es419127/index.html">Tres reencarnaciones de una tienda en l√≠nea. C√≥mo gastar dinero, tiempo y por qu√© las plantillas son buenas</a></li>
<li><a href="../es419131/index.html">La fecha de lanzamiento preliminar del m√≥dulo lunar SpaceIL anunci√≥</a></li>
<li><a href="../es419133/index.html">Seminarios web de los viernes: aprender a programar gratis</a></li>
<li><a href="../es419135/index.html">Friday JS: juego de 0 l√≠neas JS y CSS</a></li>
<li><a href="../es419137/index.html">Registro de actividad utilizando la API de Web Beacon</a></li>
<li><a href="../es419141/index.html">El phishing sexual est√° ganando impulso en los EE. UU.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>