<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üò≠ ‚òÄÔ∏è üâê Contribuya a Go con el analizador go-critico üéÖüèæ üßíüèæ ü§≤üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Quiz√°s recuerde el reciente anuncio de un nuevo analizador est√°tico para Go llamado go-critical . 


 Verifiqu√© el proyecto golang / go con √©l y envi√©...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Contribuya a Go con el analizador go-critico</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/416903/"><p><img src="https://habrastorage.org/webt/fp/k0/rn/fpk0rncwtlo5ozovjev4yi_gok8.png"></p><br><p>  Quiz√°s recuerde el reciente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">anuncio de un nuevo analizador est√°tico para Go</a> llamado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">go-critical</a> . </p><br><p>  Verifiqu√© el proyecto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">golang / go</a> con √©l y envi√© algunos parches que solucionan algunos problemas encontrados all√≠. </p><br><p>  En este art√≠culo, analizaremos el c√≥digo corregido, y tambi√©n estaremos motivados para enviar a√∫n m√°s cambios de este tipo a Go. </p><br><p>  Para los m√°s impacientes: una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">lista actualizada de trofeos</a> . </p><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Ir a la lista de an√°lisis</b> <div class="spoiler_text"><ol><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">net: combina llamadas anexas en reverseaddr</a> <code>appendCombine</code> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cmd / link / internal / ld: evite las copias Reloc en los bucles de rango</a> <code>rangeValCopy</code> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cmd / compile / internal / ssa: arregla el m√©todo</a> <code>dupSubExpr</code> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tiempo de ejecuci√≥n: elimine la deref expl√≠cita redundante en trace.go</a> <code>underef</code> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cmd / link / internal / sym: c√≥digo de comentario para casos ELF en RelocName</a> <code>commentedOutCode</code> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tiempo de ejecuci√≥n: simplifique la expresi√≥n de corte al valor cortado en s√≠</a> <code>unslice</code> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">html / template: use consts nombrados en lugar de sus valores</a> <code>namedConst</code> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cmd / internal / obj / arm64: simplifica algunas expresiones bool</a> <code>boolExprSimplify</code> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">math, net: omite expl√≠citamente la etiqueta verdadera expr en switch</a> <code>switchTrue</code> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">archive / tar: eliminar parens redundantes en expresiones de tipo</a> <code>typeUnparen</code> </li></ol></div></div><br><h1 id="dupsubexpr">  dupSubExpr </h1><br><p>  Todos cometemos errores y, muy a menudo, por falta de atenci√≥n.  Ir, siendo un idioma en el que a veces tienes que escribir c√≥digo aburrido y repetitivo, a veces contribuye a errores tipogr√°ficos y / o copiar / pegar. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CL122776</a> contiene una soluci√≥n para un error encontrado por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">dupSubExpr</a> : </p><br><pre> <code class="diff hljs">func (a partsByVarOffset) Less(i, j int) bool { - return varOffset(a.slots[a.slotIDs[i]]) &lt; varOffset(a.slots[a.slotIDs[i]]) + return varOffset(a.slots[a.slotIDs[i]]) &lt; varOffset(a.slots[a.slotIDs[j]]) // ^__________________________________^ }</code> </pre> <br><p>  Presta atenci√≥n al √≠ndice a la izquierda y a la derecha.  Antes de la correcci√≥n, el LHS y el RHS del operador <code>&lt;</code> eran id√©nticos, y <code>dupSubExpr</code> trabaj√≥ para <code>dupSubExpr</code> . </p><br><h1 id="commentedoutcode">  coment√≥OutCode </h1><br><p>  Si su proyecto est√° patrocinado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">por un sistema de control de versiones</a> , en lugar de deshabilitar el c√≥digo envolvi√©ndolo en un comentario, vale la pena eliminarlo por completo.  Hay excepciones, pero m√°s a menudo un c√≥digo "inactivo" interfiere, confunde y puede ocultar errores. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">commentOutCode</a> podr√≠a encontrar un fragmento tan interesante ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CL122896</a> ): </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> arch.Family { <span class="hljs-comment"><span class="hljs-comment">// ...  case clause. case sys.I386: return elf.R_386(nr).String() case sys.MIPS, sys.MIPS64: // return elf.R_MIPS(nr).String() // &lt;- 1 case sys.PPC64: // return elf.R_PPC64(nr).String() // &lt;- 2 case sys.S390X: // return elf.R_390(nr).String() // &lt;- 3 default: panic("unreachable") }</span></span></code> </pre> <br><p>  Hay un comentario un poco m√°s alto: </p><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// We didn't have some relocation types at Go1.4. // Uncomment code when we include those in bootstrap code.</span></span></code> </pre> <br><p>  Si cambia a la rama <code>go1.4</code> y elimina estas 3 l√≠neas del comentario, el c√≥digo no se compilar√°, sin embargo, si las descomenta en el asistente, todo funcionar√°. </p><br><p>  Por lo general, el c√≥digo oculto en un comentario requiere eliminaci√≥n o activaci√≥n inversa. </p><br><p>  Es √∫til, de vez en cuando, visitar esos ecos del pasado en su c√≥digo. </p><br><div class="spoiler">  <b class="spoiler_title">Sobre las dificultades de detecci√≥n</b> <div class="spoiler_text"><p>  Este es uno de mis controles favoritos, pero es uno de los m√°s "ruidosos". </p><br><p>  Una gran cantidad de falsos positivos para paquetes que usan <code>math/big</code> y dentro del compilador.  En el primer caso, estos suelen ser comentarios explicativos sobre las operaciones realizadas, y en el segundo, una descripci√≥n del c√≥digo que describe el fragmento AST.  Distinguir tales comentarios del c√≥digo real "muerto" sin introducir falsos negativos no es trivial. </p><br><p>  Esto da lugar a la idea: ¬øqu√© pasa si acordamos de alguna manera especializar el c√≥digo dentro de los comentarios, lo cual es explicativo?  Entonces el an√°lisis est√°tico se simplificar√°.  Esto puede ser un truco que facilitar√° la definici√≥n de dicho comentario explicativo o lo invalidar√° en el c√≥digo Go (por ejemplo, si agrega un signo de <code>#</code> , <code>#</code> al comienzo de la l√≠nea). </p><br><p>  Otra categor√≠a son los comentarios con <code>TODO</code> expl√≠citos.  Si el c√≥digo se elimina para hacer comentarios, pero hay una descripci√≥n clara de por qu√© se hace esto y cu√°ndo se planea arreglar este c√≥digo, entonces es mejor no dar una advertencia.  Esto ya se ha implementado, pero podr√≠a funcionar de manera m√°s confiable. </p></div></div><br><h1 id="boolexprsimplify">  boolExprSimplify </h1><br><p>  A veces las personas escriben c√≥digos extra√±os.  Tal vez me parece, pero las expresiones l√≥gicas ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">booleanas</a> ) a veces se ven especialmente extra√±as. </p><br><p>  Go tiene un excelente backend de ensamblador x86 (aqu√≠ cay√≥ una l√°grima), pero ARM realmente hizo mal: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> !(o1 != <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">break</span></span> }</code> </pre> <br><p>  "Si no, o1 no es igual a 0" ... La doble negaci√≥n es un cl√°sico.  Si te gust√≥, te invito a que te familiarices con el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CL123377</a> .  All√≠ puedes ver la versi√≥n corregida. </p><br><div class="spoiler">  <b class="spoiler_title">Opci√≥n corregida (para aquellos que no pueden ser atra√≠dos para revisar)</b> <div class="spoiler_text"><pre> <code class="diff hljs"><span class="hljs-deletion"><span class="hljs-deletion">- if !(o1 != 0) { + if o1 == 0 {</span></span></code> </pre> </div></div><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">boolExprSimplify</a> est√° dirigido a simplificaciones que aumentan la legibilidad (y el optimizador Go habr√≠a hecho frente al problema del rendimiento sin √©l). </p><br><h1 id="underef">  underef </h1><br><p>  Si usa Go de sus versiones anteriores, puede recordar los puntos y comas obligatorios, la falta de desreferencia autom√°tica de punteros y otras caracter√≠sticas que hoy en d√≠a son casi imposibles de ver en el nuevo c√≥digo. </p><br><p>  En el c√≥digo anterior, a√∫n puede ver algo como esto: </p><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// -    : buf := (*bufp).ptr() // ...     : buf := bufp.ptr()</span></span></code> </pre> <br><p>  Varios desencadenantes del analizador <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">underef</a> solucionados en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CL122895</a> . </p><br><h1 id="appendcombine">  appendCombine </h1><br><p>  Puede saber que <code>append</code> puede tomar varios argumentos como elementos para agregar al segmento objetivo.  En algunas situaciones, esto le permite mejorar ligeramente la legibilidad del c√≥digo, pero, lo que puede ser m√°s interesante, tambi√©n puede acelerar su programa, ya que el compilador no suprime las llamadas de <code>append</code> compatibles ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cmd / compile: combine las llamadas de anexos</a> ). </p><br><p>  En Go, la comprobaci√≥n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">appendCombine</a> encontr√≥ la siguiente secci√≥n: </p><br><pre> <code class="diff hljs"><span class="hljs-deletion"><span class="hljs-deletion">- for i := len(ip) - 1; i &gt;= 0; i-- { - v := ip[i] - buf = append(buf, hexDigit[v&amp;0xF]) - buf = append(buf, '.') - buf = append(buf, hexDigit[v&gt;&gt;4]) - buf = append(buf, '.') - } + for i := len(ip) - 1; i &gt;= 0; i-- { + v := ip[i] + buf = append(buf, hexDigit[v&amp;0xF], + '.', + hexDigit[v&gt;&gt;4], + '.') + }</span></span></code> </pre> <br><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">name</span></span> <span class="hljs-built_in"><span class="hljs-built_in">old</span></span> <span class="hljs-type"><span class="hljs-type">time</span></span>/op <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-type"><span class="hljs-type">time</span></span>/op delta ReverseAddress<span class="hljs-number"><span class="hljs-number">-8</span></span> <span class="hljs-number"><span class="hljs-number">4.10</span></span>¬µs ¬± <span class="hljs-number"><span class="hljs-number">3</span></span>% <span class="hljs-number"><span class="hljs-number">3.94</span></span>¬µs ¬± <span class="hljs-number"><span class="hljs-number">1</span></span>% <span class="hljs-number"><span class="hljs-number">-3.81</span></span>% (p=<span class="hljs-number"><span class="hljs-number">0.000</span></span> n=<span class="hljs-number"><span class="hljs-number">10</span></span>+<span class="hljs-number"><span class="hljs-number">9</span></span>)</code> </pre> <br><p>  Detalles en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CL117615</a> . </p><br><h1 id="rangevalcopy">  rangeValCopy </h1><br><p>  No es ning√∫n secreto que los valores iterados en un bucle de <code>range</code> se copian.  Para objetos peque√±os, digamos, menos de 64 bytes, es posible que ni siquiera note esto.  Sin embargo, si dicho ciclo se encuentra en una ruta "activa" o, en la que usted repite, contiene una gran cantidad de elementos, la sobrecarga puede ser tangible. </p><br><p>  Go tiene un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">enlazador</a> bastante lento (cmd / enlace), y sin cambios significativos en su arquitectura, no se puede lograr un fuerte aumento de rendimiento.  Pero luego puede reducir ligeramente su ineficiencia con la ayuda de microoptimizaciones.  Cada porcentaje o dos cuenta. </p><br><p>  La verificaci√≥n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">rangeValCopy</a> encontr√≥ varios ciclos con copia de datos no deseados a la vez.  Aqu√≠ est√°n los m√°s interesantes de ellos: </p><br><pre> <code class="diff hljs"><span class="hljs-deletion"><span class="hljs-deletion">- for _, r := range exports.R { - d.mark(r.Sym, nil) - } + for i := range exports.R { + d.mark(exports.R[i].Sym, nil) + }</span></span></code> </pre> <br><p>  En lugar de copiar <code>R[i]</code> en cada iteraci√≥n, solo recurrimos al √∫nico miembro que nos interesa, <code>Sym</code> . </p><br><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">name</span></span> <span class="hljs-built_in"><span class="hljs-built_in">old</span></span> <span class="hljs-type"><span class="hljs-type">time</span></span>/op <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-type"><span class="hljs-type">time</span></span>/op delta Linker<span class="hljs-number"><span class="hljs-number">-4</span></span> <span class="hljs-number"><span class="hljs-number">530</span></span>ms ¬± <span class="hljs-number"><span class="hljs-number">2</span></span>% <span class="hljs-number"><span class="hljs-number">521</span></span>ms ¬± <span class="hljs-number"><span class="hljs-number">3</span></span>% <span class="hljs-number"><span class="hljs-number">-1.80</span></span>% (p=<span class="hljs-number"><span class="hljs-number">0.000</span></span> n=<span class="hljs-number"><span class="hljs-number">17</span></span>+<span class="hljs-number"><span class="hljs-number">20</span></span>)</code> </pre> <br><p>  La versi√≥n completa del parche est√° disponible en: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CL113636</a> . </p><br><h1 id="namedconst">  namedConst </h1><br><p>  En Go, desafortunadamente, las constantes con nombre, incluso ensambladas en grupos, no est√°n interconectadas y no forman una enumeraci√≥n ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">propuesta: especificaci√≥n: agregar soporte de enumeraci√≥n escrita</a> ) </p><br><p>  Un problema es emitir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">constantes sin</a> tipo al tipo que le gustar√≠a usar como enumeraci√≥n. </p><br><p>  Supongamos que define un tipo de <code>Color</code> , tiene un valor de <code>const ColDefault Color = 0</code> . <br>  ¬øCu√°l de estos dos fragmentos de c√≥digo te gusta m√°s? </p><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// (A) if color == 0 { return colorBlack } // (B) if color == colorDefault { return colorBlack }</span></span></code> </pre> <br><p>  Si <code>(B)</code> parece m√°s apropiado, la comprobaci√≥n de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">namedConst</a> lo ayudar√° a rastrear el uso de valores constantes con nombre, omitiendo la constante con nombre en s√≠. </p><br><p>  As√≠ es como se transform√≥ el m√©todo <a href=""><code>context.mangle</code></a> del paquete <code>html/template</code> : </p><br><pre> <code class="diff hljs"> s := templateName + "$htmltemplate_" + c.state.String() - if c.delim != 0 { + if c.delim != delimNone { s += "_" + c.delim.String() } - if c.urlPart != 0 { + if c.urlPart != urlPartNone { s += "_" + c.urlPart.String() } - if c.jsCtx != 0 { + if c.jsCtx != jsCtxRegexp { s += "_" + c.jsCtx.String() } - if c.attr != 0 { + if c.attr != attrNone { s += "_" + c.attr.String() } - if c.element != 0 { + if c.element != elementNone { s += "_" + c.element.String() } return s</code> </pre> <br><p>  Por cierto, a veces en los enlaces a los parches puedes encontrar discusiones interesantes ... <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CL123376</a> es uno de esos casos. </p><br><h1 id="unslice">  cortar </h1><br><p>  Una caracter√≠stica de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">expresi√≥n</a> de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">corte</a> es que <code>x[:]</code> siempre <code>x[:]</code> id√©ntico a <code>x</code> si el tipo <code>x</code> es un corte o una cadena.  En el caso de cortes, esto funciona para cualquier tipo de elemento <code>[]T</code> </p><br><p>  Todo en la lista a continuaci√≥n es lo mismo ( <code>x</code> - slice): </p><br><ul><li> <code>x</code> </li> <li> <code>x[:]</code> </li> <li> <code>x[:][:]</code> </li> <li>  ... </li></ul><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">unslice</a> encuentra expresiones de corte redundantes similares.  Estas expresiones son perjudiciales, en primer lugar, con una carga cognitiva adicional.  <code>x[:]</code> tiene una sem√°ntica bastante significativa en el caso de tomar una porci√≥n de la matriz.  Un segmento de corte con rangos predeterminados no hace nada excepto ruido. </p><br><p>  Pido un parche en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CL123375</a> . </p><br><h1 id="switchtrue">  switchTrue </h1><br><p>  En <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CL123378</a> , " <code>switch true {...}</code> " se reemplaza por " <code>switch {...}</code> ". <br>  Ambas formas son equivalentes, pero la segunda es m√°s idiom√°tica. <br>  Encontrado marcando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">switchTrue</a> . </p><br><p>  La mayor√≠a de los controles estil√≠sticos revelan precisamente casos en los que ambas opciones son aceptables, pero una de ellas es m√°s com√∫n y familiar para m√°s programadores de Go.  Siguiente cheque de la misma serie. </p><br><h1 id="typeunparen">  tipoUnparen </h1><br><p>  Go, como muchos otros lenguajes de programaci√≥n, ama los par√©ntesis.  Tanto es as√≠ que estoy listo para aceptar cualquier n√∫mero de ellos: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> ( t0 <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> t1 (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) t2 ((<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)) <span class="hljs-comment"><span class="hljs-comment">// ... ,  . )</span></span></code> </pre> <br><p>  Pero, ¬øqu√© pasa si ejecutas <code>gofmt</code> ? </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> ( t0 <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> t1 (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) <span class="hljs-comment"><span class="hljs-comment">// &lt;- !   . t2 (int) // &lt;-    ... )</span></span></code> </pre> <br><p>  Por eso existe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">typeUnparen</a> .  Encuentra en el programa todas las expresiones de tipo en las que puede reducir el n√∫mero de par√©ntesis.  Intent√© enviar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CL123379</a> , veamos c√≥mo la comunidad lo aceptar√°. </p><br><div class="spoiler">  <b class="spoiler_title">A Lisp no le gustan los frenillos</b> <div class="spoiler_text"><p>  A diferencia de los lenguajes tipo C, en Lisp no es tan f√°cil insertar par√©ntesis in√∫tiles en ning√∫n lugar.  Entonces, en lenguajes cuya sintaxis se basa en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">expresiones S</a> , escribir un programa que no hace m√°s que tener una gran cantidad de par√©ntesis es m√°s dif√≠cil que en otros lenguajes. </p></div></div><br><h1 id="go-critic-na-sluzhbe-go">  go-cr√≠tico en marcha </h1><br><p> <a href="" title="Haga clic para ampliar"><img src="https://habrastorage.org/webt/bq/0a/ig/bq0aigrftmrocldewkgzuhiycdo.jpeg"></a> </p><br><p>  Examinamos solo una peque√±a parte de los controles implementados.  Al mismo tiempo, su cantidad y calidad solo evolucionar√°n con el tiempo, incluso gracias a aquellas personas que se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">unieron al desarrollo</a> . </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Go-Critic es</a> absolutamente gratuito para cualquier uso ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">licencia MIT</a> ), y tambi√©n abierto para su participaci√≥n en el desarrollo del proyecto.  Env√≠enos ideas para cheques, puede de inmediato con la implementaci√≥n, informar sobre errores y deficiencias encontradas, compartir sus impresiones.  Tambi√©n puede proponer proyectos para auditor√≠a o informar sobre la revisi√≥n de su c√≥digo Go, esta experiencia es invaluable para nosotros. </p><br><h2 id="tema-kontribyutinga-v-go">  Ir tema contribuyente </h2><br><p>  ¬øHas visto el art√≠culo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Ir taller de contribuci√≥n en Rusia</a> ?  Este oto√±o ser√° la segunda ronda.  Y esta vez, adem√°s de un formato y patrocinadores m√°s exitosos, tendremos un arma secreta: un maravilloso analizador est√°tico.  ¬°Habr√° suficientes contribuciones en absoluto! </p><br><p>  Pero, de hecho, puede comenzar en este momento (aunque es mejor, un poco m√°s tarde, despu√©s de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">congelaci√≥n del c√≥digo</a> ).  Si logras sentirte c√≥modo antes del pr√≥ximo taller, ser√° genial, porque tenemos muy pocos mentores en Rusia. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es416903/">https://habr.com/ru/post/es416903/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es416891/index.html">En los Estados Unidos, todav√≠a se les permit√≠a distribuir modelos 3D y dibujos digitales para armas de bricolaje.</a></li>
<li><a href="../es416893/index.html">Vaadin Flow - un extra√±o ciervo</a></li>
<li><a href="../es416897/index.html">C√≥mo hacer un sistema de pago h√°galo usted mismo</a></li>
<li><a href="../es416899/index.html">Le decimos al alcalde a d√≥nde ir (usando el Open Street Map)</a></li>
<li><a href="../es416901/index.html">C√≥mo se protegen los profesionales de TI y seguridad: casos reales con Cisco Connect, BlackHat, RSAC y MWC</a></li>
<li><a href="../es416905/index.html">Presentaci√≥n de Boston Dynamics SpotMini</a></li>
<li><a href="../es416907/index.html">Teor√≠a de la felicidad. La ley de la cebra y la cola alien√≠gena</a></li>
<li><a href="../es416909/index.html">Historial de sesiones activas de PostgreSQL: nueva extensi√≥n de pgsentinel</a></li>
<li><a href="../es416911/index.html">Se supon√≠a que los chatbots ser√≠an el pr√≥ximo avance: ¬øqu√© sali√≥ mal?</a></li>
<li><a href="../es416913/index.html">¬øQu√© debe olvidar el administrador al cambiar a la nube? Y qu√© aprender</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>