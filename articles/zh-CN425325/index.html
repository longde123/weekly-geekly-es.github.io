<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤µğŸ¼ ğŸ› ğŸ˜› DIYå­—èŠ‚ç è§£é‡Šå™¨ ğŸ›ï¸ ğŸ–•ğŸ¾ ğŸ”ˆ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="è¿‘å‡ åå¹´æ¥ï¼Œç¼–ç¨‹è¯­è¨€çš„è™šæ‹Ÿæœºå·²ç»éå¸¸æ™®åŠã€‚ è‡ªä»90å¹´ä»£ååŠå¶Javaè™šæ‹Ÿæœºé—®ä¸–ä»¥æ¥ï¼Œå·²ç»è¿‡å»äº†å¾ˆå¤šæ—¶é—´ï¼Œå¯ä»¥è‚¯å®šåœ°è¯´å­—èŠ‚ç è§£é‡Šå™¨ä¸æ˜¯æœªæ¥ï¼Œè€Œæ˜¯ç°åœ¨ã€‚ 


 ä½†æ˜¯ï¼Œæˆ‘è®¤ä¸ºè¿™ç§æŠ€æœ¯å‡ ä¹æ˜¯é€šç”¨çš„ï¼Œç†è§£è§£é‡Šå™¨å¼€å‘çš„åŸºæœ¬åŸç†ä¸ä»…å¯¹ä¸‹ä¸€ä¸ªæŒ‘æˆ˜è€…çš„åˆ›å»ºè€…ï¼ˆ TIOBEç§°å…¶ä¸ºâ€œå¹´åº¦è¯­è¨€â€ï¼‰ å¾ˆæœ‰ç”¨ ï¼Œè€Œä¸”å¯¹æ‰€æœ‰...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>DIYå­—èŠ‚ç è§£é‡Šå™¨</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/badoo/blog/425325/"><p><img src="https://habrastorage.org/webt/aa/zv/cl/aazvcl84q5xly1zkqhtxelkemju.png"></p><br><p> è¿‘å‡ åå¹´æ¥ï¼Œç¼–ç¨‹è¯­è¨€çš„è™šæ‹Ÿæœºå·²ç»éå¸¸æ™®åŠã€‚ è‡ªä»90å¹´ä»£ååŠå¶Javaè™šæ‹Ÿæœºé—®ä¸–ä»¥æ¥ï¼Œå·²ç»è¿‡å»äº†å¾ˆå¤šæ—¶é—´ï¼Œå¯ä»¥è‚¯å®šåœ°è¯´å­—èŠ‚ç è§£é‡Šå™¨ä¸æ˜¯æœªæ¥ï¼Œè€Œæ˜¯ç°åœ¨ã€‚ </p><br><p> ä½†æ˜¯ï¼Œæˆ‘è®¤ä¸ºè¿™ç§æŠ€æœ¯å‡ ä¹æ˜¯é€šç”¨çš„ï¼Œç†è§£è§£é‡Šå™¨å¼€å‘çš„åŸºæœ¬åŸç†ä¸ä»…å¯¹ä¸‹ä¸€ä¸ªæŒ‘æˆ˜è€…çš„åˆ›å»ºè€…ï¼ˆ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">TIOBEç§°å…¶</a>ä¸ºâ€œå¹´åº¦è¯­è¨€â€ï¼‰ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¾ˆæœ‰ç”¨</a> ï¼Œè€Œä¸”å¯¹æ‰€æœ‰ç¨‹åºå‘˜éƒ½æ˜¯æœ‰ç”¨çš„ã€‚ </p><br><p> ç®€è€Œè¨€ä¹‹ï¼Œå¦‚æœæ‚¨æœ‰å…´è¶£äº†è§£æˆ‘ä»¬æœ€å–œæ¬¢çš„ç¼–ç¨‹è¯­è¨€å¦‚ä½•ç´¯åŠ æ•°å­—ï¼Œè™šæ‹Ÿæœºå¼€å‘äººå‘˜ä»åœ¨äº‰è®ºä»€ä¹ˆä»¥åŠå¦‚ä½•è½»æ¾åœ°åŒ¹é…å­—ç¬¦ä¸²å’Œæ­£åˆ™è¡¨è¾¾å¼ï¼Œæˆ‘ä¼šè¯·çŒ«ã€‚ </p><a name="habracut"></a><br><p> ç¬¬ä¸€éƒ¨åˆ†ï¼Œç®€ä»‹ï¼ˆå½“å‰ï¼‰ <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç¬¬äºŒéƒ¨åˆ†ï¼Œä¼˜åŒ–</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç¬¬ä¸‰éƒ¨åˆ†ï¼Œåº”ç”¨</a> </p><br><h1 id="predystoriya"> èƒŒæ™¯çŸ¥è¯† </h1><br><p> æˆ‘ä»¬å…¬å¸å•†åŠ¡æ™ºèƒ½éƒ¨é—¨çš„ä¸€ç§è‡ªå†™ç³»ç»Ÿå…·æœ‰ç®€å•æŸ¥è¯¢è¯­è¨€å½¢å¼çš„ç•Œé¢ã€‚ åœ¨ç³»ç»Ÿçš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬ä¸­ï¼Œæ— éœ€ç¼–è¯‘å³å¯ç›´æ¥ä»å¸¦æœ‰è¯·æ±‚çš„è¾“å…¥è¡Œä¸­å³æ—¶è§£é‡Šè¯¥è¯­è¨€ã€‚ è§£æå™¨çš„ç¬¬äºŒä¸ªç‰ˆæœ¬å·²ç»å¯ä»¥ä¸ä¸­é—´å­—èŠ‚ç ä¸€èµ·ä½¿ç”¨ï¼Œè¿™å°†ä½¿æ‚¨å¯ä»¥å°†æŸ¥è¯¢è¯­è¨€ä¸å…¶æ‰§è¡Œåˆ†å¼€ï¼Œä»è€Œå¤§å¤§ç®€åŒ–äº†ä»£ç ã€‚ </p><br><p>åœ¨ä½¿ç”¨ç¬¬äºŒç‰ˆç³»ç»Ÿçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘åº¦è¿‡äº†ä¸€ä¸ªå‡æœŸï¼Œåœ¨æ­¤æœŸé—´ï¼Œæˆ‘æ¯å¤©è¦èŠ±ä¸€ä¸¤ä¸ªå°æ—¶æ¥å¤„ç†å®¶åº­äº‹åŠ¡ï¼Œä»¥ç ”ç©¶æœ‰å…³å­—èŠ‚ç è§£é‡Šå™¨çš„ä½“ç³»ç»“æ„å’Œæ€§èƒ½çš„ææ–™ã€‚ æˆ‘å†³å®šä¸Habrçš„è¯»è€…åˆ†äº«ç”±æ­¤äº§ç”Ÿçš„æ³¨é‡Šå’Œå£è¯‘å‘˜ç¤ºä¾‹ï¼Œä½œä¸ºä¸€ç³»åˆ—æ–‡ç« ã€‚ </p><br><p> ä»–ä»¬ä¸­çš„ç¬¬ä¸€ä¸ªä»‹ç»äº†äº”ä¸ªå°å‹ï¼ˆæœ€å¤šæ•°ç™¾è¡Œç®€å•çš„Cä»£ç ï¼‰è™šæ‹Ÿæœºï¼Œæ¯ä¸ªè™šæ‹Ÿæœºéƒ½æ­ç¤ºäº†æ­¤ç±»è§£é‡Šå™¨å¼€å‘çš„æŸä¸ªæ–¹é¢ã€‚ </p><br><h1 id="otkuda-est-poshli-bayt-kody-v-yazykah-programmirovaniya"> å­—èŠ‚ç åœ¨å“ªé‡Œç¼–ç¨‹è¯­è¨€ï¼Ÿ </h1><br><p> å·²ç»å‘æ˜äº†è®¸å¤šè™šæ‹Ÿæœºï¼Œè¿™æ˜¯è¿‡å»å‡ åå¹´æ¥æœ€å¤šæ ·åŒ–çš„è™šæ‹ŸæŒ‡ä»¤é›†ã€‚ ç»´åŸºç™¾ç§‘å£°ç§°ï¼Œæœ€æ—©çš„ç¼–ç¨‹è¯­è¨€å¯ä»¥è¿½æº¯åˆ°ä¸Šä¸ªä¸–çºª60å¹´ä»£ï¼Œå¼€å§‹è¢«ç¼–è¯‘ä¸ºå„ç§ç®€åŒ–çš„ä¸­é—´è¡¨ç¤ºå½¢å¼ã€‚ è¿™äº›ç¬¬ä¸€ä¸ªå­—èŠ‚ä»£ç ä¸­çš„æŸäº›è¢«è½¬æ¢ä¸ºæœºå™¨ä»£ç ï¼Œå¹¶ç”±çœŸå®å¤„ç†å™¨æ‰§è¡Œï¼Œè€Œå…¶ä»–ä¸€äº›åˆ™ç”±è™šæ‹Ÿå¤„ç†å™¨å³æ—¶è§£é‡Šã€‚ </p><br><p> è™šæ‹ŸæŒ‡ä»¤é›†ä½œä¸ºä»£ç çš„ä¸­é—´è¡¨ç¤ºå½¢å¼çš„æµè¡Œæ˜¯ç”±äºä¸‰ä¸ªåŸå› ï¼š </p><br><ol><li> å­—èŠ‚ç ç¨‹åºå¾ˆå®¹æ˜“ç§»æ¤åˆ°æ–°å¹³å°ã€‚ </li><li> å­—èŠ‚ç è§£é‡Šå™¨æ¯”ä»£ç è¯­æ³•æ ‘çš„è§£é‡Šå™¨å¿«ã€‚ </li><li> æ‚¨å¯ä»¥åœ¨å‡ ä¸ªå°æ—¶å†…å¼€å‘ä¸€ä¸ªç®€å•çš„è™šæ‹Ÿæœºã€‚ </li></ol><br><p> è®©æˆ‘ä»¬åˆ¶ä½œä¸€äº›ç®€å•çš„Cè™šæ‹Ÿæœºï¼Œå¹¶ä½¿ç”¨è¿™äº›ç¤ºä¾‹æ¥å¼ºè°ƒå®ç°è™šæ‹Ÿæœºçš„ä¸»è¦æŠ€æœ¯æ–¹é¢ã€‚ </p><br><p> å®Œæ•´çš„ç¤ºä¾‹ä»£ç å¯åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">GitHubä¸Šè·å¾—</a> ã€‚ å¯ä»¥ä½¿ç”¨ä»»ä½•ç›¸å¯¹è¾ƒæ–°çš„GCCç¼–è¯‘ç¤ºä¾‹ï¼š </p><br><pre><code class="plaintext hljs">gcc interpreter-basic-switch.c -o interpreter ./interpreter</code> </pre> <br><p> æ‰€æœ‰ç¤ºä¾‹éƒ½å…·æœ‰ç›¸åŒçš„ç»“æ„ï¼šé¦–å…ˆæ˜¯è™šæ‹Ÿæœºæœ¬èº«çš„ä»£ç ï¼Œç„¶åæ˜¯å¸¦æœ‰æ–­è¨€çš„ä¸»è¦å‡½æ•°ï¼Œè¿™äº›æ–­è¨€æ£€æŸ¥ä»£ç çš„è¿è¡Œã€‚ æˆ‘è¯•å›¾å¯¹è§£é‡Šå™¨çš„æ“ä½œç å’Œå…³é”®ä½ç½®è¿›è¡Œæ¸…æ™°è¯„è®ºã€‚ æˆ‘å¸Œæœ›å³ä½¿ä¸æ˜¯æ¯å¤©éƒ½ç”¨Cå†™ä½œçš„äººä¹Ÿå¯ä»¥ç†è§£æœ¬æ–‡ã€‚ </p><br><h1 id="samyy-prostoy-v-mire-interpretator-bayt-koda"> ä¸–ç•Œä¸Šæœ€ç®€å•çš„å­—èŠ‚ç è§£é‡Šå™¨ </h1><br><p> æ­£å¦‚æˆ‘æ‰€è¯´ï¼Œæœ€ç®€å•çš„è§£é‡Šå™¨å¾ˆå®¹æ˜“åˆ¶ä½œã€‚ æ³¨é‡Šå°±åœ¨æ¸…å•çš„åé¢ï¼Œä½†è®©æˆ‘ä»¬ç›´æ¥ä»ä»£ç å¼€å§‹ï¼š </p><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> *ip; <span class="hljs-keyword"><span class="hljs-keyword">uint64_t</span></span> accumulator; } vm; <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> { <span class="hljs-comment"><span class="hljs-comment">/* increment the register */</span></span> OP_INC, <span class="hljs-comment"><span class="hljs-comment">/* decrement the register */</span></span> OP_DEC, <span class="hljs-comment"><span class="hljs-comment">/* stop execution */</span></span> OP_DONE } opcode; <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> interpret_result { SUCCESS, ERROR_UNKNOWN_OPCODE, } interpret_result; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vm_reset</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">puts</span></span>(<span class="hljs-string"><span class="hljs-string">"Reset vm state"</span></span>); vm = (typeof(vm)) { <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> }; } <span class="hljs-function"><span class="hljs-function">interpret_result </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vm_interpret</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">uint8_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *bytecode)</span></span></span><span class="hljs-function"> </span></span>{ vm_reset(); <span class="hljs-built_in"><span class="hljs-built_in">puts</span></span>(<span class="hljs-string"><span class="hljs-string">"Start interpreting"</span></span>); vm.ip = bytecode; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (;;) { <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> instruction = *vm.ip++; <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (instruction) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> OP_INC: { vm.accumulator++; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> OP_DEC: { vm.accumulator--; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> OP_DONE: { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> SUCCESS; } <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ERROR_UNKNOWN_OPCODE; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> SUCCESS; }</code> </pre><br><p> å°‘äºä¸€ç™¾è¡Œï¼Œä½†æ˜¯ä»£è¡¨äº†è™šæ‹Ÿæœºçš„æ‰€æœ‰ç‰¹å¾å±æ€§ã€‚ è¯¥æœºå™¨å…·æœ‰å•ä¸ªå¯„å­˜å™¨ï¼ˆ <code>vm.accumulator</code> ï¼‰ï¼Œä¸‰ä¸ªæ“ä½œï¼ˆå¯„å­˜å™¨é€’å¢ï¼Œå¯„å­˜å™¨é€’å‡å’Œç¨‹åºæ‰§è¡Œå®Œæˆï¼‰ä»¥åŠæŒ‡å‘å½“å‰æŒ‡ä»¤çš„æŒ‡é’ˆï¼ˆ <code>vm.ip</code> ï¼‰ã€‚ </p><br><p> æ¯ä¸ªæ“ä½œï¼ˆengã€‚ <em>æ“ä½œç </em>æˆ–<em>opcode</em> ï¼‰éƒ½ç”¨ä¸€ä¸ªå­—èŠ‚ç¼–ç ï¼Œå¹¶ä½¿ç”¨<code>vm_interpret</code>å‡½æ•°ä¸­çš„å¸¸è§„<code>switch</code>æ‰§è¡Œè°ƒåº¦ã€‚  <code>switch</code>çš„åˆ†æ”¯åŒ…å«æ“ä½œé€»è¾‘ï¼Œå³ï¼Œå®ƒä»¬æ›´æ”¹å¯„å­˜å™¨çš„çŠ¶æ€æˆ–ç»ˆæ­¢ç¨‹åºçš„æ‰§è¡Œã€‚ </p><br><p> è¿™äº›æ“ä½œä»¥å­—èŠ‚æ•°ç»„ï¼ˆå­—èŠ‚ç ï¼ˆè‹±æ–‡<em>å­—èŠ‚ç </em> ï¼‰ï¼‰çš„å½¢å¼ä¼ é€åˆ°<code>vm_interpret</code>å‡½æ•°ï¼Œå¹¶é¡ºåºæ‰§è¡Œï¼Œç›´åˆ°<code>OP_DONE</code>è™šæ‹Ÿæœºçš„æ“ä½œï¼ˆ <code>OP_DONE</code> ï¼‰ <code>OP_DONE</code> ã€‚ </p><br><p> è™šæ‹Ÿæœºçš„å…³é”®æ–¹é¢æ˜¯è¯­ä¹‰ï¼Œå³åœ¨è™šæ‹Ÿæœºä¸Šå¯èƒ½æ‰§è¡Œçš„ä¸€ç»„æ“ä½œã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåªæœ‰ä¸¤ä¸ªæ“ä½œï¼Œå®ƒä»¬ä¼šæ›´æ”¹å•ä¸ªå¯„å­˜å™¨çš„å€¼ã€‚ </p><br><p> ä¸€äº›ç ”ç©¶è€…ï¼ˆ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è™šæ‹ŸæœºæŠ½è±¡å’Œä¼˜åŒ–æŠ€æœ¯</a> ï¼Œ2009ï¼‰å»ºè®®æ ¹æ®è™šæ‹Ÿæœºè¯­ä¹‰ä¸å°†åœ¨å…¶ä¸Šæ‰§è¡Œå­—èŠ‚ç çš„ç‰©ç†æœºè¯­ä¹‰ä¹‹é—´çš„æ¥è¿‘ç¨‹åº¦ï¼Œå°†è™šæ‹Ÿæœºåˆ†ä¸º<em>é«˜çº§</em>å’Œ<em>ä½çº§</em> ã€‚ </p><br><p> åœ¨æç«¯æƒ…å†µä¸‹ï¼Œä½çº§è™šæ‹Ÿæœºçš„å­—èŠ‚ç å¯ä»¥å®Œå…¨é‡å¤å…·æœ‰æ¨¡æ‹ŸRAMï¼Œå…¨å¥—å¯„å­˜å™¨ï¼Œç”¨äºå †æ ˆçš„æŒ‡ä»¤ç­‰çš„ç‰©ç†æœºçš„æœºå™¨ç ã€‚ ä¾‹å¦‚ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Bochs</a>è™šæ‹Ÿæœºé‡å¤x86ä½“ç³»ç»“æ„æŒ‡ä»¤é›†ã€‚ </p><br><p> åä¹‹äº¦ç„¶ï¼šé«˜çº§è™šæ‹Ÿæœºçš„æ“ä½œç´§å¯†åæ˜ äº†ç¼–è¯‘ä¸ºå­—èŠ‚ç çš„ä¸“ç”¨ç¼–ç¨‹è¯­è¨€çš„è¯­ä¹‰ã€‚ è¿™æ ·å°±å¯ä»¥ä½¿ç”¨ï¼Œä¾‹å¦‚SQLiteï¼ŒGawkå’Œä¼—å¤šPrologç‰ˆæœ¬ã€‚ </p><br><p> ä¸­é—´ä½ç½®ç”±å…·æœ‰é«˜çº§å’Œä½çº§å…ƒç´ çš„é€šç”¨ç¼–ç¨‹è¯­è¨€çš„è§£é‡Šå™¨å æ®ã€‚ æœ€å—æ¬¢è¿çš„Javaè™šæ‹Ÿæœºæ—¢å…·æœ‰ç”¨äºå †æ ˆçš„ä½çº§æŒ‡ä»¤ï¼Œåˆå…·æœ‰å¯¹å…·æœ‰è‡ªåŠ¨å†…å­˜åˆ†é…åŠŸèƒ½çš„é¢å‘å¯¹è±¡ç¼–ç¨‹çš„å†…ç½®æ”¯æŒã€‚ </p><br><p> ä¸Šé¢çš„ä»£ç å¾ˆå¯èƒ½æ˜¯æœ€åº•å±‚çš„è™šæ‹Ÿæœºï¼šæ¯ä¸ªè™šæ‹ŸæŒ‡ä»¤æ˜¯ä¸€ä¸ªæˆ–ä¸¤ä¸ªç‰©ç†æŒ‡ä»¤çš„åŒ…è£…ï¼Œè™šæ‹Ÿå¯„å­˜å™¨ä¸â€œé“â€å¤„ç†å™¨çš„ä¸€ä¸ªå¯„å­˜å™¨å®Œå…¨ä¸€è‡´ã€‚ </p><br><h1 id="argumenty-instrukciy-v-bayt-kode"> å­—èŠ‚ç æŒ‡ä»¤å‚æ•° </h1><br><p> å¯ä»¥è¯´ï¼Œåœ¨æˆ‘ä»¬çš„è™šæ‹Ÿæœºç¤ºä¾‹ä¸­ï¼Œå”¯ä¸€çš„å¯„å­˜å™¨æ—¢æ˜¯å‚æ•°ï¼Œä¹Ÿæ˜¯æ‰€æœ‰å·²æ‰§è¡ŒæŒ‡ä»¤çš„è¿”å›å€¼ã€‚ ä½†æ˜¯ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå‘ç°åœ¨æŒ‡ä»¤ä¸­ä¼ é€’å‚æ•°å¾ˆæœ‰ç”¨ã€‚ ä¸€ç§æ–¹æ³•æ˜¯ç›´æ¥å°†å®ƒä»¬æ”¾å…¥å­—èŠ‚ç ä¸­ã€‚ </p><br><p> æˆ‘ä»¬å°†é€šè¿‡å¼•å…¥æŒ‡ä»¤ï¼ˆOP_ADDIï¼ŒOP_SUBIï¼‰æ¥æ‰©å±•è¯¥ç¤ºä¾‹ï¼Œè¿™äº›æŒ‡ä»¤é‡‡ç”¨ç´§éšæ“ä½œç ä¹‹åçš„å­—èŠ‚å½¢å¼çš„å‚æ•°ï¼š </p><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> *ip; <span class="hljs-keyword"><span class="hljs-keyword">uint64_t</span></span> accumulator; } vm; <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> { <span class="hljs-comment"><span class="hljs-comment">/* increment the register */</span></span> OP_INC, <span class="hljs-comment"><span class="hljs-comment">/* decrement the register */</span></span> OP_DEC, <span class="hljs-comment"><span class="hljs-comment">/* add the immediate argument to the register */</span></span> OP_ADDI, <span class="hljs-comment"><span class="hljs-comment">/* subtract the immediate argument from the register */</span></span> OP_SUBI, <span class="hljs-comment"><span class="hljs-comment">/* stop execution */</span></span> OP_DONE } opcode; <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> interpret_result { SUCCESS, ERROR_UNKNOWN_OPCODE, } interpret_result; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vm_reset</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">puts</span></span>(<span class="hljs-string"><span class="hljs-string">"Reset vm state"</span></span>); vm = (typeof(vm)) { <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> }; } <span class="hljs-function"><span class="hljs-function">interpret_result </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vm_interpret</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">uint8_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *bytecode)</span></span></span><span class="hljs-function"> </span></span>{ vm_reset(); <span class="hljs-built_in"><span class="hljs-built_in">puts</span></span>(<span class="hljs-string"><span class="hljs-string">"Start interpreting"</span></span>); vm.ip = bytecode; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (;;) { <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> instruction = *vm.ip++; <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (instruction) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> OP_INC: { vm.accumulator++; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> OP_DEC: { vm.accumulator--; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> OP_ADDI: { <span class="hljs-comment"><span class="hljs-comment">/* get the argument */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> arg = *vm.ip++; vm.accumulator += arg; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> OP_SUBI: { <span class="hljs-comment"><span class="hljs-comment">/* get the argument */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> arg = *vm.ip++; vm.accumulator -= arg; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> OP_DONE: { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> SUCCESS; } <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ERROR_UNKNOWN_OPCODE; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> SUCCESS; }</code> </pre><br><p> æ–°æŒ‡ä»¤ï¼ˆè¯·å‚é˜…<code>vm_interpret</code>å‡½æ•°ï¼‰ä»å­—èŠ‚ç è¯»å–å…¶å‚æ•°ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°å¯„å­˜å™¨ä¸­/ä»å¯„å­˜å™¨ä¸­å‡å»ã€‚ </p><br><p> è¿™æ ·çš„å‚æ•°ç§°ä¸º<em>ç›´æ¥å‚æ•°</em> ï¼Œå› ä¸ºå®ƒç›´æ¥ä½äºæ“ä½œç æ•°ç»„ä¸­ã€‚ åœ¨æˆ‘ä»¬çš„å®ç°ä¸­çš„ä¸»è¦é™åˆ¶æ˜¯è¯¥å‚æ•°æ˜¯å•ä¸ªå­—èŠ‚ï¼Œå¹¶ä¸”åªèƒ½é‡‡ç”¨256ä¸ªå€¼ã€‚ </p><br><p> åœ¨æˆ‘ä»¬çš„è™šæ‹Ÿæœºä¸­ï¼Œå¯èƒ½çš„æŒ‡ä»¤å‚æ•°å€¼çš„èŒƒå›´å¹¶ä¸é‡è¦ã€‚ ä½†æ˜¯ï¼Œå¦‚æœå°†è™šæ‹Ÿæœºç”¨ä½œçœŸå®è¯­è¨€çš„è§£é‡Šå™¨ï¼Œåˆ™å¯ä»¥é€šè¿‡æ·»åŠ ä¸€ä¸ªä¸æ“ä½œç å’ŒæŒ‡ä»¤æ•°ç»„åˆ†å¼€çš„å¸¸é‡è¡¨ï¼Œå¹¶åœ¨è¯¥å¸¸é‡è¡¨ä¸­æ·»åŠ ä¸å¸¸é‡è¡¨ä¸­æ­¤å‚æ•°çš„åœ°å€ç›¸å¯¹åº”çš„ç›´æ¥å‚æ•°æ¥ä½¿å­—èŠ‚ç å¤æ‚åŒ–ã€‚ </p><br><h1 id="stekovaya-mashina"> å †ç æœº </h1><br><p> æˆ‘ä»¬ç®€å•çš„è™šæ‹Ÿæœºä¸­çš„æŒ‡ä»¤å§‹ç»ˆä½¿ç”¨ä¸€ä¸ªå¯„å­˜å™¨ï¼Œå¹¶ä¸”ä¸èƒ½ä»¥ä»»ä½•æ–¹å¼ç›¸äº’ä¼ è¾“æ•°æ®ã€‚ å¦å¤–ï¼ŒæŒ‡ä»¤çš„å‚æ•°åªèƒ½æ˜¯ç«‹å³æ•°ï¼Œä¾‹å¦‚åŠ æ³•æˆ–ä¹˜æ³•è¿ç®—éœ€è¦ä¸¤ä¸ªå‚æ•°ã€‚ </p><br><p> ç®€è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬æ— æ³•è¯„ä¼°å¤æ‚çš„è¡¨è¾¾å¼ã€‚ è¦è§£å†³æ­¤é—®é¢˜ï¼Œéœ€è¦ä¸€å°å †å è®¡ç®—æœºï¼Œå³å…·æœ‰é›†æˆå †å çš„è™šæ‹Ÿæœºï¼š </p><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> STACK_MAX 256 struct { uint8_t *ip; </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Fixed-size stack */</span></span></span><span class="hljs-meta"> uint64_t stack[STACK_MAX]; uint64_t *stack_top; </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* A single register containing the result */</span></span></span><span class="hljs-meta"> uint64_t result; } vm; typedef enum { </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* push the immediate argument onto the stack */</span></span></span><span class="hljs-meta"> OP_PUSHI, </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* pop 2 values from the stack, add and push the result onto the stack */</span></span></span><span class="hljs-meta"> OP_ADD, </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* pop 2 values from the stack, subtract and push the result onto the stack */</span></span></span><span class="hljs-meta"> OP_SUB, </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* pop 2 values from the stack, divide and push the result onto the stack */</span></span></span><span class="hljs-meta"> OP_DIV, </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* pop 2 values from the stack, multiply and push the result onto the stack */</span></span></span><span class="hljs-meta"> OP_MUL, </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* pop the top of the stack and set it as execution result */</span></span></span><span class="hljs-meta"> OP_POP_RES, </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* stop execution */</span></span></span><span class="hljs-meta"> OP_DONE, } opcode; typedef enum interpret_result { SUCCESS, ERROR_DIVISION_BY_ZERO, ERROR_UNKNOWN_OPCODE, } interpret_result; void vm_reset(void) { puts(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Reset vm state"</span></span></span><span class="hljs-meta">); vm = (typeof(vm)) { NULL }; vm.stack_top = vm.stack; } void vm_stack_push(uint64_t value) { *vm.stack_top = value; vm.stack_top++; } uint64_t vm_stack_pop(void) { vm.stack_top--; return *vm.stack_top; } interpret_result vm_interpret(uint8_t *bytecode) { vm_reset(); puts(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Start interpreting"</span></span></span><span class="hljs-meta">); vm.ip = bytecode; for (;;) { uint8_t instruction = *vm.ip++; switch (instruction) { case OP_PUSHI: { </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* get the argument, push it onto stack */</span></span></span><span class="hljs-meta"> uint8_t arg = *vm.ip++; vm_stack_push(arg); break; } case OP_ADD: { </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Pop 2 values, add 'em, push the result back to the stack */</span></span></span><span class="hljs-meta"> uint64_t arg_right = vm_stack_pop(); uint64_t arg_left = vm_stack_pop(); uint64_t res = arg_left + arg_right; vm_stack_push(res); break; } case OP_SUB: { </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Pop 2 values, subtract 'em, push the result back to the stack */</span></span></span><span class="hljs-meta"> uint64_t arg_right = vm_stack_pop(); uint64_t arg_left = vm_stack_pop(); uint64_t res = arg_left - arg_right; vm_stack_push(res); break; } case OP_DIV: { </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Pop 2 values, divide 'em, push the result back to the stack */</span></span></span><span class="hljs-meta"> uint64_t arg_right = vm_stack_pop(); </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Don't forget to handle the div by zero error */</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (arg_right == 0) return ERROR_DIVISION_BY_ZERO; uint64_t arg_left = vm_stack_pop(); uint64_t res = arg_left / arg_right; vm_stack_push(res); break; } case OP_MUL: { </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Pop 2 values, multiply 'em, push the result back to the stack */</span></span></span><span class="hljs-meta"> uint64_t arg_right = vm_stack_pop(); uint64_t arg_left = vm_stack_pop(); uint64_t res = arg_left * arg_right; vm_stack_push(res); break; } case OP_POP_RES: { </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Pop the top of the stack, set it as a result value */</span></span></span><span class="hljs-meta"> uint64_t res = vm_stack_pop(); vm.result = res; break; } case OP_DONE: { return SUCCESS; } default: return ERROR_UNKNOWN_OPCODE; } } return SUCCESS; }</span></span></code> </pre><br><p> åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œå·²ç»æœ‰æ›´å¤šçš„æ“ä½œï¼Œå¹¶ä¸”å‡ ä¹æ‰€æœ‰æ“ä½œä»…é€‚ç”¨äºå †æ ˆã€‚  OP_PUSHIå°†å…¶ç›´æ¥å‚æ•°å‹å…¥å †æ ˆã€‚ ä»å€¼å †æ ˆä¸­å¼¹å‡ºæŒ‡ä»¤OP_ADDï¼ŒOP_SUBï¼ŒOP_DIVï¼ŒOP_MULï¼Œè®¡ç®—ç»“æœï¼Œç„¶åå°†å…¶æ¨å›å †æ ˆä¸­ã€‚  OP_POP_RESä»å †æ ˆä¸­åˆ é™¤è¯¥å€¼ï¼Œå¹¶å°†å…¶æ”¾ç½®åœ¨ç»“æœå¯„å­˜å™¨ä¸­ï¼Œä»¥ç”¨äºè™šæ‹Ÿæœºçš„ç»“æœã€‚ </p><br><p> å¯¹äºé™¤æ³•è¿ç®—ï¼ˆOP_DIVï¼‰ï¼Œå°†æ•è·é™¤ä»¥é›¶çš„é”™è¯¯ï¼Œè¿™å°†åœæ­¢è™šæ‹Ÿæœºã€‚ </p><br><p> è¿™ç§æœºå™¨çš„åŠŸèƒ½æ¯”å…·æœ‰å•ä¸ªå¯„å­˜å™¨çš„å‰ä¸€å°æœºå™¨çš„åŠŸèƒ½è¦å¹¿æ³›å¾—å¤šï¼Œä¾‹å¦‚ï¼Œå¯ä»¥è®¡ç®—å¤æ‚çš„ç®—æœ¯è¡¨è¾¾å¼ã€‚ å¦ä¸€ä¸ªï¼ˆä¹Ÿæ˜¯é‡è¦çš„ï¼ï¼‰ä¼˜ç‚¹æ˜¯å°†ç¼–ç¨‹è¯­è¨€ç¼–è¯‘åˆ°å †æ ˆæœºçš„å­—èŠ‚ç ä¸­çš„ç®€å•æ€§ã€‚ </p><br><h1 id="registrovaya-mashina"> æ³¨å†Œæœº </h1><br><p> ç”±äºå…¶ç®€å•æ€§ï¼Œå †å è™šæ‹Ÿæœºåœ¨ç¼–ç¨‹è¯­è¨€çš„å¼€å‘äººå‘˜ä¸­å¾—åˆ°æœ€å¹¿æ³›çš„ä½¿ç”¨ã€‚ ç›¸åŒçš„JVMå’ŒPython VMå®Œå…¨ä½¿ç”¨å®ƒä»¬ã€‚ </p><br><p> ä½†æ˜¯ï¼Œè¿™æ ·çš„æœºå™¨æœ‰ç¼ºç‚¹ï¼šå®ƒä»¬å¿…é¡»æ·»åŠ ç‰¹æ®Šçš„æŒ‡ä»¤æ¥å¤„ç†å †æ ˆï¼Œåœ¨è®¡ç®—è¡¨è¾¾å¼æ—¶ï¼Œæ‰€æœ‰å‚æ•°éƒ½åå¤é€šè¿‡å•ä¸ªæ•°æ®ç»“æ„ä¼ é€’ï¼Œå¾ˆå¤šé¢å¤–çš„æŒ‡ä»¤å°†ä¸å¯é¿å…åœ°å‡ºç°åœ¨å †æ ˆä»£ç ä¸­ã€‚ </p><br><p> åŒæ—¶ï¼Œæ¯æ¡é¢å¤–æŒ‡ä»¤çš„æ‰§è¡Œéƒ½å¸¦æ¥äº†è°ƒåº¦çš„æˆæœ¬ï¼Œå³è§£ç æ“ä½œç å¹¶åˆ‡æ¢åˆ°æŒ‡ä»¤ä¸»ä½“ã€‚ </p><br><p> å †å è®¡ç®—æœºçš„æ›¿ä»£æ–¹æ³•æ˜¯æ³¨å†Œè™šæ‹Ÿæœºã€‚ å®ƒä»¬å…·æœ‰æ›´å¤æ‚çš„å­—èŠ‚ç ï¼šå¯„å­˜å™¨å‚æ•°çš„æ•°é‡å’Œå¯„å­˜å™¨ç»“æœçš„æ•°é‡åœ¨æ¯æ¡æŒ‡ä»¤ä¸­éƒ½ç»è¿‡æ˜¾å¼ç¼–ç ã€‚ å› æ­¤ï¼Œä»£æ›¿å †æ ˆï¼Œæ‰©å±•çš„å¯„å­˜å™¨é›†è¢«ç”¨ä½œä¸­é—´å€¼çš„å­˜å‚¨ã€‚ </p><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> REGISTER_NUM 16 struct { uint16_t *ip; </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Register array */</span></span></span><span class="hljs-meta"> uint64_t reg[REGISTER_NUM]; </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* A single register containing the result */</span></span></span><span class="hljs-meta"> uint64_t result; } vm; typedef enum { </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Load an immediate value into r0 */</span></span></span><span class="hljs-meta"> OP_LOADI, </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Add values in r0,r1 registers and put them into r2 */</span></span></span><span class="hljs-meta"> OP_ADD, </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Subtract values in r0,r1 registers and put them into r2 */</span></span></span><span class="hljs-meta"> OP_SUB, </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Divide values in r0,r1 registers and put them into r2 */</span></span></span><span class="hljs-meta"> OP_DIV, </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Multiply values in r0,r1 registers and put them into r2 */</span></span></span><span class="hljs-meta"> OP_MUL, </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Move a value from r0 register into the result register */</span></span></span><span class="hljs-meta"> OP_MOV_RES, </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* stop execution */</span></span></span><span class="hljs-meta"> OP_DONE, } opcode; typedef enum interpret_result { SUCCESS, ERROR_DIVISION_BY_ZERO, ERROR_UNKNOWN_OPCODE, } interpret_result; void vm_reset(void) { puts(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Reset vm state"</span></span></span><span class="hljs-meta">); vm = (typeof(vm)) { NULL }; } void decode(uint16_t instruction, uint8_t *op, uint8_t *reg0, uint8_t *reg1, uint8_t *reg2, uint8_t *imm) { *op = (instruction &amp; 0xF000) &gt;&gt; 12; *reg0 = (instruction &amp; 0x0F00) &gt;&gt; 8; *reg1 = (instruction &amp; 0x00F0) &gt;&gt; 4; *reg2 = (instruction &amp; 0x000F); *imm = (instruction &amp; 0x00FF); } interpret_result vm_interpret(uint16_t *bytecode) { vm_reset(); puts(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Start interpreting"</span></span></span><span class="hljs-meta">); vm.ip = bytecode; uint8_t op, r0, r1, r2, immediate; for (;;) { </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* fetch the instruction */</span></span></span><span class="hljs-meta"> uint16_t instruction = *vm.ip++; </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* decode it */</span></span></span><span class="hljs-meta"> decode(instruction, &amp;op, &amp;r0, &amp;r1, &amp;r2, &amp;immediate); </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* dispatch */</span></span></span><span class="hljs-meta"> switch (op) { case OP_LOADI: { vm.reg[r0] = immediate; break; } case OP_ADD: { vm.reg[r2] = vm.reg[r0] + vm.reg[r1]; break; } case OP_SUB: { vm.reg[r2] = vm.reg[r0] - vm.reg[r1]; break; } case OP_DIV: { </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Don't forget to handle the div by zero error */</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (vm.reg[r1] == 0) return ERROR_DIVISION_BY_ZERO; vm.reg[r2] = vm.reg[r0] / vm.reg[r1]; break; } case OP_MUL: { vm.reg[r2] = vm.reg[r0] * vm.reg[r1]; break; } case OP_MOV_RES: { vm.result = vm.reg[r0]; break; } case OP_DONE: { return SUCCESS; } default: return ERROR_UNKNOWN_OPCODE; } } return SUCCESS; }</span></span></code> </pre><br><p> è¯¥ç¤ºä¾‹æ˜¾ç¤ºäº†å…·æœ‰16ä¸ªå¯„å­˜å™¨çš„å¯„å­˜å™¨æœºã€‚ æŒ‡ä»¤æ¯ä¸ªå ç”¨16ä½ï¼Œå¹¶ä»¥ä¸‰ç§æ–¹å¼è¿›è¡Œç¼–ç ï¼š </p><br><ol><li> æ¯ä¸ªæ“ä½œç 4ä½+æ¯ä¸ªå¯„å­˜å™¨åç§°4ä½+æ¯ä¸ªå‚æ•°8ä½ã€‚ </li><li> æ¯ä¸ªæ“ä½œç 4ä½+æ¯ä¸ªå¯„å­˜å™¨åç§°4ä½çš„ä¸‰å€ã€‚ </li><li> æ¯ä¸ªæ“ä½œç 4ä½+æ¯ä¸ªå•ä¸ªå¯„å­˜å™¨åç§°4ä½+ 8ä¸ªæœªä½¿ç”¨ä½ã€‚ </li></ol><br><p> æˆ‘ä»¬çš„å°å‹è™šæ‹Ÿæœºå‡ ä¹æ²¡æœ‰æ“ä½œï¼Œå› æ­¤æ¯ä¸ªæ“ä½œç åªæœ‰4ä½ï¼ˆæˆ–16ç§å¯èƒ½çš„æ“ä½œï¼‰å°±è¶³å¤Ÿäº†ã€‚ è¯¥æ“ä½œç¡®å®šè¯¥æŒ‡ä»¤çš„å…¶ä½™ä½ç¡®åˆ‡ä»£è¡¨ä»€ä¹ˆã€‚ </p><br><p> éœ€è¦ç¬¬ä¸€ç±»ç¼–ç ï¼ˆ4 + 4 + 8ï¼‰ï¼Œæ‰èƒ½é€šè¿‡OP_LOADIæ“ä½œå°†æ•°æ®åŠ è½½åˆ°å¯„å­˜å™¨ä¸­ã€‚ ç¬¬äºŒç§ç±»å‹ï¼ˆ4 + 4 + 4 + 4ï¼‰ç”¨äºç®—æœ¯è¿ç®—ï¼Œè¯¥ç®—æœ¯è¿ç®—åº”çŸ¥é“åœ¨å“ªé‡Œä½¿ç”¨ä¸€å¯¹å‚æ•°ä»¥åŠåœ¨å“ªé‡Œæ·»åŠ è®¡ç®—ç»“æœã€‚ æœ€åï¼Œæœ€åä¸€ç§å½¢å¼ï¼ˆ4 + 4 + 8ä¸ªä¸å¿…è¦çš„ä½ï¼‰ç”¨äºä»¥å•ä¸ªå¯„å­˜å™¨ä½œä¸ºå‚æ•°çš„æŒ‡ä»¤ï¼Œåœ¨æˆ‘ä»¬çš„æƒ…å†µä¸‹ä¸ºOP_MOV_RESã€‚ </p><br><p> ä¸ºäº†å¯¹æŒ‡ä»¤è¿›è¡Œç¼–ç å’Œè§£ç ï¼Œæˆ‘ä»¬ç°åœ¨éœ€è¦ç‰¹æ®Šçš„é€»è¾‘ï¼ˆ <code>decode</code>åŠŸèƒ½ï¼‰ã€‚ å¦ä¸€æ–¹é¢ï¼Œç”±äºå¯¹å‚æ•°ä½ç½®çš„æ˜ç¡®æŒ‡ç¤ºï¼ŒæŒ‡ä»¤çš„é€»è¾‘å˜å¾—æ›´å®¹æ˜“-å †æ ˆæ“ä½œæ¶ˆå¤±äº†ã€‚ </p><br><p> å…³é”®ç‰¹å¾ï¼šåœ¨å¯„å­˜å™¨æœºçš„å­—èŠ‚ç ä¸­ï¼ŒæŒ‡ä»¤è¾ƒå°‘ï¼Œå•ä¸ªæŒ‡ä»¤è¾ƒå®½ï¼Œå°†æ­¤ç±»å­—èŠ‚ç ç¼–è¯‘èµ·æ¥æ›´åŠ å›°éš¾-ç¼–è¯‘å™¨å¿…é¡»å†³å®šå¦‚ä½•ä½¿ç”¨å¯ç”¨çš„å¯„å­˜å™¨ã€‚ </p><br><p> åº”è¯¥æ³¨æ„çš„æ˜¯ï¼Œå®é™…ä¸Šåœ¨æ³¨å†Œè™šæ‹Ÿæœºæ—¶é€šå¸¸ä¼šæœ‰ä¸€ä¸ªå †æ ˆï¼Œåœ¨è¯¥å †æ ˆä¸­æ”¾ç½®ä¾‹å¦‚å‡½æ•°è‡ªå˜é‡ã€‚ å¯„å­˜å™¨ç”¨äºè®¡ç®—å•ä¸ªè¡¨è¾¾å¼ã€‚ å³ä½¿æ²¡æœ‰æ˜¾å¼å †æ ˆï¼Œä¹Ÿå°†ä½¿ç”¨æ•°ç»„æ¥æ„å»ºå †æ ˆï¼Œå…¶ä½œç”¨ä¸ç‰©ç†æœºä¸­çš„RAMç›¸åŒã€‚ </p><br><h1 id="stekovye-i-registrovye-mashiny-sravnenie"> å †å å’Œå¥—å‡†æœºï¼Œæ¯”è¾ƒ </h1><br><p> æœ‰ä¸€é¡¹æœ‰è¶£çš„ç ”ç©¶ï¼ˆ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è™šæ‹Ÿæœºå¯¹å†³ï¼šå †æ ˆä¸å¯„å­˜å™¨</a> ï¼Œ2008å¹´ï¼‰å¯¹ç¼–ç¨‹è¯­è¨€è™šæ‹Ÿæœºé¢†åŸŸä¸­çš„æ‰€æœ‰åç»­å¼€å‘éƒ½äº§ç”Ÿäº†é‡å¤§å½±å“ã€‚ å®ƒçš„ä½œè€…æå‡ºäº†ä¸€ç§å°†æ ‡å‡†JVMçš„å †æ ˆä»£ç ç›´æ¥è½¬æ¢ä¸ºå¯„å­˜å™¨ä»£ç å¹¶æ¯”è¾ƒæ€§èƒ½çš„æ–¹æ³•ã€‚ </p><br><p> è¯¥æ–¹æ³•å¹¶éæ˜“äº‹ï¼šé¦–å…ˆç¿»è¯‘ä»£ç ï¼Œç„¶åä»¥ç›¸å½“å¤æ‚çš„æ–¹å¼å¯¹å…¶è¿›è¡Œä¼˜åŒ–ã€‚ ä½†æ˜¯éšåå¯¹åŒä¸€ç¨‹åºæ€§èƒ½çš„æ¯”è¾ƒè¡¨æ˜ï¼Œé€šè¿‡å‡å°‘æŒ‡ä»¤æ€»æ•°å¯ä»¥å®Œå…¨è¡¥å¿åœ¨è§£ç æŒ‡ä»¤ä¸ŠèŠ±è´¹çš„é¢å¤–å¤„ç†å™¨å‘¨æœŸã€‚ ç®€è€Œè¨€ä¹‹ï¼Œæ€»çš„æ¥è¯´ï¼Œå¥—å‡†æœºæ¯”å †æ ˆçš„æ•ˆç‡æ›´é«˜ã€‚ </p><br><p> å¦‚ä¸Šæ‰€è¿°ï¼Œè¿™ç§æ•ˆç‡å…·æœ‰æ˜æ˜¾çš„ä»£ä»·ï¼šç¼–è¯‘å™¨å¿…é¡»è‡ªå·±åˆ†é…å¯„å­˜å™¨ï¼Œå¹¶ä¸”è¿˜éœ€è¦é«˜çº§ä¼˜åŒ–å™¨ã€‚ </p><br><p> å…³äºå“ªç§æ¶æ„æ›´å¥½çš„äº‰è®ºä»ç„¶æ²¡æœ‰ç»“æŸã€‚ å¦‚æœæˆ‘ä»¬è°ˆè®ºJavaç¼–è¯‘å™¨ï¼Œé‚£ä¹ˆDalvik VMå­—èŠ‚ç ï¼ˆç›´åˆ°æœ€è¿‘æ‰å¯åœ¨æ¯ä¸ªAndroidè®¾å¤‡ä¸Šä½¿ç”¨ï¼‰éƒ½å·²æ³¨å†Œã€‚ ä½†æ˜¯æ ‡é¢˜JVMä¿ç•™äº†ä¸€å †æŒ‡ä»¤ã€‚  Luaè™šæ‹Ÿæœºä½¿ç”¨æ³¨å†Œæœºï¼Œä½†Python VMä»å¯å †å ã€‚ ä¾æ­¤ç±»æ¨ã€‚ </p><br><h1 id="bayt-kod-v-interpretatorah-regulyarnyh-vyrazheniy"> æ­£åˆ™è¡¨è¾¾å¼è§£é‡Šå™¨ä¸­çš„å­—èŠ‚ç  </h1><br><p> æœ€åï¼Œä¸ºäº†åˆ†æ•£ä½çº§è™šæ‹Ÿæœºçš„æ³¨æ„åŠ›ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¸“é—¨çš„è§£é‡Šå™¨ï¼Œè¯¥è§£é‡Šå™¨æ£€æŸ¥å­—ç¬¦ä¸²ä»¥è¿›è¡Œæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼š </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> { <span class="hljs-comment"><span class="hljs-comment">/* match a single char to an immediate argument from the string and advance ip and cp, or * abort*/</span></span> OP_CHAR, <span class="hljs-comment"><span class="hljs-comment">/* jump to and match either left expression or the right one, abort if nothing matches*/</span></span> OP_OR, <span class="hljs-comment"><span class="hljs-comment">/* do an absolute jump to an offset in the immediate argument */</span></span> OP_JUMP, <span class="hljs-comment"><span class="hljs-comment">/* stop execution and report a successful match */</span></span> OP_MATCH, } opcode; <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> match_result { MATCH_OK, MATCH_FAIL, MATCH_ERROR, } match_result; <span class="hljs-function"><span class="hljs-function">match_result </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vm_match_recur</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">uint8_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *bytecode, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">uint8_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *ip, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *sp)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (;;) { <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> instruction = *ip++; <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (instruction) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> OP_CHAR:{ <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> cur_c = *sp; <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> arg_c = (<span class="hljs-keyword"><span class="hljs-keyword">char</span></span>)*ip ; <span class="hljs-comment"><span class="hljs-comment">/* no match? FAILed to match */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (arg_c != cur_c) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MATCH_FAIL; <span class="hljs-comment"><span class="hljs-comment">/* advance both current instruction and character pointers */</span></span> ip++; sp++; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> OP_JUMP:{ <span class="hljs-comment"><span class="hljs-comment">/* read the offset and jump to the instruction */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> offset = *ip; ip = bytecode + offset; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> OP_OR:{ <span class="hljs-comment"><span class="hljs-comment">/* get both branch offsets */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> left_offset = *ip++; <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> right_offset = *ip; <span class="hljs-comment"><span class="hljs-comment">/* check if following the first offset get a match */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> *left_ip = bytecode + left_offset; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (vm_match_recur(bytecode, left_ip, sp) == MATCH_OK) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MATCH_OK; <span class="hljs-comment"><span class="hljs-comment">/* no match? Check the second branch */</span></span> ip = bytecode + right_offset; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> OP_MATCH:{ <span class="hljs-comment"><span class="hljs-comment">/* success */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MATCH_OK; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MATCH_ERROR; } } <span class="hljs-function"><span class="hljs-function">match_result </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vm_match</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">uint8_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *bytecode, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *str)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"Start matching a string: %s\n"</span></span>, str); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> vm_match_recur(bytecode, bytecode, str); }</code> </pre><br><p> ä¸»è¦æŒ‡ä»¤æ˜¯OP_CHARã€‚ å¥¹æ¥å—ç›´æ¥å‚æ•°ï¼Œå¹¶å°†å…¶ä¸å­—ç¬¦ä¸²ï¼ˆ <code>char *sp</code> ï¼‰ä¸­çš„å½“å‰å­—ç¬¦è¿›è¡Œæ¯”è¾ƒã€‚ å¦‚æœè¯¥è¡Œä¸­çš„é¢„æœŸå­—ç¬¦ä¸å½“å‰å­—ç¬¦ä¸€è‡´ï¼Œåˆ™è¿‡æ¸¡åˆ°ä¸‹ä¸€æ¡æŒ‡ä»¤å’Œä¸‹ä¸€ä¸ªå­—ç¬¦ã€‚ </p><br><p> æœºå™¨è¿˜äº†è§£è·³è½¬æ“ä½œï¼ˆOP_JUMPï¼‰ï¼Œè¯¥æ“ä½œåªéœ€ä¸€ä¸ªç«‹å³å‚æ•°ã€‚ è¯¥å‚æ•°è¡¨ç¤ºå­—èŠ‚ç ä¸­ä»æ­¤å¤„ç»§ç»­è®¡ç®—çš„ç»å¯¹åç§»é‡ã€‚ </p><br><p> æœ€åä¸€ä¸ªé‡è¦æ“ä½œæ˜¯OP_ORã€‚ å¥¹é‡‡ç”¨äº†ä¸¤ä¸ªåç§»é‡ï¼Œå°è¯•é¦–å…ˆåœ¨ç¬¬ä¸€ä¸ªåç§»é‡ä¸Šåº”ç”¨ä»£ç ï¼Œç„¶ååœ¨å‡ºç°é”™è¯¯çš„æƒ…å†µä¸‹å°è¯•ç¬¬äºŒä¸ªã€‚ å¥¹é€šè¿‡é€’å½’è°ƒç”¨æ¥æ‰§è¡Œæ­¤æ“ä½œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥æŒ‡ä»¤æ·±å…¥äº†æ­£åˆ™è¡¨è¾¾å¼æ‰€æœ‰å¯èƒ½å˜ä½“çš„æ ‘çš„æ·±åº¦ã€‚ </p><br><p> ä»¤äººæƒŠè®¶çš„æ˜¯ï¼Œå››ä¸ªæ“ä½œç å’Œ70è¡Œä»£ç è¶³ä»¥è¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼ï¼Œä¾‹å¦‚â€œ abcâ€ï¼Œâ€œ aï¼ŸBcâ€ï¼Œâ€œï¼ˆab | bcï¼‰dâ€ï¼Œâ€œ a * bcâ€ã€‚ è¯¥è™šæ‹Ÿæœºç”šè‡³æ²¡æœ‰æ˜ç¡®çš„çŠ¶æ€ï¼Œå› ä¸ºæ‚¨éœ€è¦çš„æ‰€æœ‰å†…å®¹ï¼ˆæŒ‡å‘æŒ‡ä»¤æµå¼€å¤´çš„æŒ‡é’ˆï¼Œå½“å‰æŒ‡ä»¤å’Œå½“å‰å­—ç¬¦ï¼‰éƒ½ä½œä¸ºå‚æ•°ä¼ é€’ç»™é€’å½’å‡½æ•°ã€‚ </p><br><p> å¦‚æœæ‚¨å¯¹æ­£åˆ™è¡¨è¾¾å¼å¼•æ“çš„å·¥ä½œç»†èŠ‚æ„Ÿå…´è¶£ï¼Œå¯ä»¥å…ˆé˜…è¯»Russ Coxçš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç³»åˆ—æ–‡ç« ï¼Œ</a> Russ Coxæ˜¯Google <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">RE2</a>çš„æ­£åˆ™è¡¨è¾¾å¼å¼•æ“çš„ä½œè€…ã€‚ </p><br><h1 id="itogi"> æ€»ç»“ </h1><br><p> è®©æˆ‘ä»¬æ€»ç»“ä¸€ä¸‹ã€‚ </p><br><p> é€šå¸¸ï¼Œå¯¹äºé€šç”¨ç¼–ç¨‹è¯­è¨€ï¼Œä½¿ç”¨ä¸¤ç§ä½“ç³»ç»“æ„ï¼šå †æ ˆå’Œå¯„å­˜å™¨ã€‚ </p><br><p> åœ¨å †æ ˆæ¨¡å‹ä¸­ï¼ŒæŒ‡ä»¤ä¹‹é—´ä¼ é€’å‚æ•°çš„ä¸»è¦æ•°æ®ç»“æ„å’Œæ–¹æ³•æ˜¯å †æ ˆã€‚ åœ¨å¯„å­˜å™¨æ¨¡å‹ä¸­ï¼Œä¸€ç»„å¯„å­˜å™¨ç”¨äºè®¡ç®—è¡¨è¾¾å¼ï¼Œä½†æ˜¯æ˜¾å¼æˆ–éšå¼å †æ ˆä»ç”¨äºå­˜å‚¨å‡½æ•°å‚æ•°ã€‚ </p><br><p> æ˜¾å¼å †æ ˆå’Œä¸€ç»„å¯„å­˜å™¨çš„å­˜åœ¨ä½¿æ­¤ç±»æœºå™¨æ›´æ¥è¿‘äºåº•å±‚æœºå™¨ç”šè‡³ç‰©ç†æœºå™¨ã€‚ è¿™ç§å­—èŠ‚ç ä¸­å¤§é‡çš„ä½çº§æŒ‡ä»¤æ„å‘³ç€ç‰©ç†å¤„ç†å™¨èµ„æºçš„å¤§é‡æ¶ˆè€—è½åœ¨äº†è™šæ‹ŸæŒ‡ä»¤çš„è§£ç å’Œè°ƒåº¦ä¸Šã€‚ </p><br><p> å¦ä¸€æ–¹é¢ï¼Œé«˜çº§æŒ‡ä»¤åœ¨æµè¡Œçš„è™šæ‹Ÿæœºä¸­èµ·ç€é‡è¦ä½œç”¨ã€‚ ä¾‹å¦‚ï¼Œåœ¨Javaä¸­ï¼Œè¿™äº›æ˜¯ç”¨äºå¤šæ€å‡½æ•°è°ƒç”¨ï¼Œå¯¹è±¡åˆ†é…å’Œåƒåœ¾å›æ”¶çš„æŒ‡ä»¤ã€‚ </p><br><p> çº¯é«˜çº§è™šæ‹Ÿæœºï¼ˆä¾‹å¦‚ï¼Œå…·æœ‰å‘è¾¾ä¸”è¿œéé“åˆ¶è¯­ä¹‰çš„è¯­è¨€çš„å­—èŠ‚ç è§£é‡Šå™¨ï¼‰å¤§éƒ¨åˆ†æ—¶é—´ä¸èŠ±åœ¨è°ƒåº¦ç¨‹åºæˆ–è§£ç å™¨ä¸Šï¼Œè€Œæ˜¯èŠ±åœ¨æŒ‡ä»¤ä¸»ä½“ä¸Šï¼Œå› æ­¤ç›¸å¯¹é«˜æ•ˆã€‚ </p><br><p> å®ç”¨å»ºè®®ï¼š </p><br><ol><li> å¦‚æœæ‚¨éœ€è¦æ‰§è¡Œä»»ä½•å­—èŠ‚ç å¹¶åœ¨åˆç†çš„æ—¶é—´å†…æ‰§è¡Œï¼Œè¯·å°è¯•ä½¿ç”¨æœ€æ¥è¿‘æ‚¨çš„ä»»åŠ¡çš„æŒ‡ä»¤è¿›è¡Œæ“ä½œï¼› è¯­ä¹‰çº§åˆ«è¶Šé«˜ï¼Œè¶Šå¥½ã€‚ è¿™å°†å‡å°‘è°ƒåº¦æˆæœ¬å¹¶ç®€åŒ–ä»£ç ç”Ÿæˆã€‚ </li><li> å¦‚æœæ‚¨éœ€è¦æ›´å¤šçš„çµæ´»æ€§å’Œå¼‚æ„è¯­ä¹‰ï¼Œåˆ™è‡³å°‘åº”å°è¯•çªå‡ºæ˜¾ç¤ºå­—èŠ‚ç ä¸­çš„å…¬åˆ†æ¯ï¼Œä»¥ä½¿ç»“æœæŒ‡ä»¤å¤„äºæœ‰æ¡ä»¶çš„å¹³å‡æ°´å¹³ã€‚ </li><li> å¦‚æœå°†æ¥å¯èƒ½éœ€è¦è®¡ç®—ä»»ä½•è¡¨è¾¾å¼ï¼Œè¯·åˆ¶é€ ä¸€å°å †æ ˆæœºï¼Œè¿™å°†å‡å°‘ç¼–è¯‘å­—èŠ‚ç æ—¶çš„éº»çƒ¦ã€‚ </li><li> å¦‚æœä¸å¸Œæœ›ä½¿ç”¨è¡¨è¾¾å¼ï¼Œåˆ™ä½¿ç”¨æ™®é€šçš„å¯„å­˜å™¨æœºå™¨ï¼Œè¿™å°†é¿å…å †æ ˆçš„å¼€é”€å¹¶ç®€åŒ–æŒ‡ä»¤æœ¬èº«ã€‚ </li></ol><br><p> åœ¨ä»¥ä¸‹æ–‡ç« ä¸­ï¼Œæˆ‘å°†è®¨è®ºæµè¡Œçš„ç¼–ç¨‹è¯­è¨€å¯¹è™šæ‹Ÿæœºçš„å®é™…å®ç°ï¼Œå¹¶è§£é‡Šä¸ºä»€ä¹ˆBusiness Intelligence Badooéƒ¨é—¨éœ€è¦å­—èŠ‚ç ã€‚ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN425325/">https://habr.com/ru/post/zh-CN425325/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN425313/index.html">2018å¹´é¢å‘å‰ç«¯å¼€å‘äººå‘˜çš„10ä¸ªæœ€ä½³VS Codeæ‰©å±•</a></li>
<li><a href="../zh-CN425315/index.html">åœ¨GitLabä¸­å®‰æ’ä»£ç å­˜å‚¨å¹¶å°†ä»£ç å®¡æŸ¥é›†æˆåˆ°GitFlowä¸­</a></li>
<li><a href="../zh-CN425317/index.html">æ€ä¹ˆåšï¼šæˆ‘ä»¬åœ¨4åˆ†é’Ÿå†…å†™ä¸‹â€œæ‰«é›·â€</a></li>
<li><a href="../zh-CN425321/index.html">ç¼–ç¨‹æ˜¯æ€æƒ³çš„å…·ä½“åŒ–ã€‚</a></li>
<li><a href="../zh-CN425323/index.html">â€œå…”å­æ´ã€‚â€ äº§å“å›¢é˜Ÿä¸­çš„UXè®¾è®¡å¸ˆ</a></li>
<li><a href="../zh-CN425327/index.html">åŠŸèƒ½ç¼–ç¨‹ï¼šæµ‹é‡ä¸ƒæ¬¡ï¼Œåˆ‡ä¸€æ¬¡</a></li>
<li><a href="../zh-CN425329/index.html">ä»â€œè€æ­Œâ€åˆ°åƒç¦§ä¸€ä»£çš„ä¸€äº›å»ºè®®ã€‚ å¦‚ä½•åœ¨æˆ‘ä»¬çš„æ•°å­—ä¸–ç•Œä¸­å–å¾—æˆåŠŸ</a></li>
<li><a href="../zh-CN425331/index.html">çˆ±ä¸½ä¸å°†å¸®åŠ©å¼€å‘äººå‘˜åœ¨ç”¨æˆ·è¯·æ±‚ä¸­æŸ¥æ‰¾å¯¹è±¡ã€‚ å¯¹è¯æ¡†ä¸­çš„NER</a></li>
<li><a href="../zh-CN425333/index.html">è‡ªå·±åŠ¨æ‰‹ï¼Œæ˜¥å¤©æ¥äº†ï¼ˆç¬¬2éƒ¨åˆ†ï¼‰</a></li>
<li><a href="../zh-CN425335/index.html">ä¸è´¥çš„èˆ°é˜ŸGarmin</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>