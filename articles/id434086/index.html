<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ’†ğŸ½ ğŸ˜ ğŸ‘· Penyebaran Tertanam Windows dan Linux ğŸƒ ğŸš  ğŸ›ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Artikel ini menjelaskan cara menyebarkan sistem embedded dengan cepat berbasis Windows 10 dan Debian Linux. Contoh membangun antarmuka yang aman diber...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Penyebaran Tertanam Windows dan Linux</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/434086/">  Artikel ini menjelaskan cara menyebarkan sistem embedded dengan cepat berbasis Windows 10 dan Debian Linux.  Contoh membangun antarmuka yang aman diberikan. <br><a name="habracut"></a><br><h1>  Pendahuluan </h1><br><p>  Dalam proses pengembangan perangkat yang memiliki antarmuka manusia-mesin grafis, cepat atau lambat tugas muncul tidak hanya untuk menciptakan antarmuka itu sendiri, tetapi juga memilih platform di mana ia harus bekerja.  Platform semacam itu dapat berupa komputer papan tunggal dengan sistem operasi, atau mikrokontroler dengan layar dan satu set perpustakaan yang relevan, atau beberapa solusi asli lainnya. </p><br><p>  Sering terjadi bahwa pada tingkat atas sistem kontrol tempat antarmuka berjalan, tugas komunikasi dengan dunia luar dan interaksi dengan berbagai perangkat periferal juga dilakukan.  Selain itu, antarmuka itu sendiri bisa sangat menuntut sumber daya grafis.  Mengingat hal ini, dan untuk menghemat biaya tenaga kerja, dimungkinkan untuk menggunakan komputer papan tunggal sebagai dasar dan menginstal sistem operasi yang sudah jadi.  Pengembangan perangkat lunak dalam hal ini dapat sangat disederhanakan dengan menggunakan kerangka kerja modern dengan dokumentasi yang baik dan serangkaian contoh. </p><br><h2>  Persyaratan Antarmuka </h2><br><p>  Dari sudut pandang pengguna, antarmuka harus memenuhi persyaratan berikut: </p><br><ul><li>  Saat memuat dalam layar penuh, satu aplikasi akan muncul, itu adalah antarmuka yang sama, itu adalah shell grafis yang sama; </li><li>  Selain aplikasi ini, tidak ada lagi yang harus tersedia bagi pengguna; </li><li>  Aplikasi harus bekerja setiap saat, sistem tidak boleh tertidur, layar tidak boleh mati; </li><li>  Semua pintasan keyboard, pembantu, fitur aksesibilitas, dan fungsi serupa lainnya harus dinonaktifkan; </li><li>  Dalam hal terjadi kegagalan aplikasi - itu harus secara otomatis restart oleh sistem; </li><li>  Sistem tidak memiliki persyaratan khusus untuk mode kecepatan atau waktu nyata, namun, antarmuka perlu merespons perintah pengguna tanpa penundaan yang nyata; </li><li>  Sistem harus tahan terhadap reboot berulang kali, seharusnya tidak perlu menjalankan skrip khusus untuk menyelesaikan pekerjaan; </li><li>  Seharusnya memungkinkan untuk mengkloning perakitan yang telah selesai ke dalam serangkaian perangkat dengan semua pengaturan yang diperlukan dibuat dalam mode otomatis. </li></ul><br><p>  Dengan kata lain, batasan lengkap tindakan pengguna, stabilitas dan skalabilitas. </p><br><p>  Sedangkan untuk sistem operasi untuk komputer papan tunggal, kami akan segera mempertimbangkan dua opsi, satu berbasis Windows, yang lain berbasis Linux, dan membandingkannya satu sama lain. </p><br><p>  Misalnya, mari kita buat antarmuka kios layar sentuh.  Dan sebagai aplikasi, mari kita ambil salah satu contoh pelatihan Qt Quick dan menerapkannya dengan beberapa perubahan.  Kerangka kerja Qt tersedia untuk kedua sistem operasi. </p><br><p>  Agar tidak mempelajari nuansa menginstal Windows dan Linux pada platform ARM, sistem dapat dengan mudah dipasang berdasarkan beberapa prosesor yang kompatibel dengan x86.  Dalam hal ini, salah satu dari banyak papan yang tersedia pada platform Intel Bay Trail digunakan untuk percobaan. </p><br><p>  Paket semua program dan skrip tersedia di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">GitHub</a> . </p><br><h1>  Jalur Windows </h1><br><p>  Pada suatu waktu, Windows Embedded dari Microsoft diperkenalkan untuk membuat sistem embedded.  Bahkan di versi awal Windows Embedded XP, pengembang disediakan dengan seperangkat alat untuk merakit yang paling terpotong, tetapi dilengkapi dengan driver gambar yang diperlukan.  Perangkat ini membutuhkan RAM minimum dan berfungsi dengan baik bahkan pada prosesor yang lemah.  Teknologi ini dikembangkan dalam versi Windows Embedded Standard 7, di mana proses membuat rakitan Anda sendiri dibawa ke pikiran.  Windows Embedded menggunakan ideologi katalog terbuka modul, dan siapa pun dapat melengkapi sistem mereka dengan hanya set komponen yang diperlukan.  Versi terbaru di mana pendekatan ini tersedia, meskipun dalam bentuk terpotong, adalah Windows Embedded Standard 8.1. </p><br><p>  Windows 10 IoT modern diposisikan sebagai alternatif untuk Windows Embedded, tetapi sangat berbeda dari pendahulunya.  Katalog komponen terbuka tidak lagi tersedia.  Kemampuan untuk mengumpulkan gambar cahaya dari perancang dan membuat disk instalasi mereka sendiri telah menghilang.  Opsi khusus sistem tertanam, seperti filter rekaman, branding bootloader, filter keyboard, dll., Sekarang dikonfigurasikan dalam sistem pra-instal.  Selain itu, dukungan untuk fungsi-fungsi ini hanya tersedia sebagai bagian dari versi berat Windows 10 Enterprise. </p><br><p>  Namun, terlepas dari persyaratan sistem yang tinggi, terutama untuk jumlah RAM, penggunaan bahkan versi berat dalam solusi tertanam tidak menyebabkan masalah khusus, terutama karena ketersediaan komponen perangkat keras.  Selain itu, jangan lupa bahwa dalam beberapa tahun terakhir ini menjadi semakin sulit untuk membeli lisensi untuk produk lama dari Microsoft. </p><br><h2>  Perbaikan cepat </h2><br><p>  Setelah pemeriksaan pertama, ternyata bahkan dalam Windows 10 biasa sudah ada fungsi "Assigned Access" bawaan (Gbr. 1), yang terlihat seperti solusi siap pakai untuk tugas tersebut. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/t6/14/yr/t614yroc8ueu_rkh1t7srjo0cnu.png" alt="Akses yang ditentukan"></div><p>  <i>Fig.</i>  <i>1. Fungsi Akses yang Ditugaskan</i> </p><br><p>  Suatu program yang dapat digunakan sebagai antarmuka dalam kasus ini pada awalnya harus dikembangkan sebagai aplikasi Platform Windows Universal.  <i>Aplikasi appx</i> ini diinstal, misalnya, pada Windows Phone.  Aplikasi layar penuh yang sederhana, tentu saja, dapat dikonversi ke <i>appx</i> dan ditandatangani dengan sertifikat yang diperlukan, dan kemudian diinstal.  Ini bisa berfungsi sebagai antarmuka, tetapi tanpa perlindungan yang tepat.  Sayangnya, dalam mode â€œAssigned accessâ€ yang normal, pengguna masih memiliki akses terbuka ke beberapa pengaturan sistem dan tombol pintas.  Akibatnya, antarmuka yang memenuhi semua persyaratan di atas tidak dapat diperoleh dengan menggunakan pendekatan ini.  Sistem harus dikonfigurasikan secara manual, dengan cara yang berbeda. </p><br><h2>  Keputusan yang tepat </h2><br><h3>  1. Instalasi awal </h3><br><p>  Jadi, pertama-tama, kita memerlukan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">distribusi Windows 10 Enterprise LTSB</a> .  Anda dapat mengambil gambar Microsoft asli, Anda dapat menggunakan yang ringan, atau membuat sendiri menggunakan alat pihak ketiga.  Untuk papan eksperimental, salah satu rakitan siap pakai dipilih (versi 32-bit yang ringan). </p><br><p>  Kami memasang sistem dari kit distribusi di papan target.  Saat menginstal, kami memecah disk menjadi dua bagian, C: - untuk sistem, D: - untuk aplikasi utama, utilitas, dan log.  Kerusakan seperti itu berguna di masa depan untuk filter rekaman.  Setelah instalasi, kami menunggu hingga menu pengaturan muncul, atau kami tidak melanjutkan menu dengan pengaturan jaringan. </p><br><p>  Kami reboot ke mode layanan melalui Ctrl + Shift + F3. </p><br><p>  Jika tidak ada kesalahan selama proses instalasi, maka setelah reboot, sistem itu sendiri akan masuk ke akun layanan administrator dan jendela <i>SysPrep</i> akan muncul di layar (Gbr. 2).  Itu harus ditutup, kita akan memulai <i>SysPrep secara</i> berbeda, menggunakan file jawaban khusus yang belum dibuat. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/kw/xn/3y/kwxn3yxs3totane-ogcok3z9bto.png" alt="Jendela sysprep"></div><p>  <i>Fig.</i>  <i>2. Mode layanan.</i> </p><br><h3>  2. Konfigurasi sistem </h3><br><p>  Untuk tindakan lebih lanjut, Anda akan memerlukan Alat Penerapan dari <a href="">Windows 10 Assessment and Deployment Kit</a> . </p><br><p>  Dari disk dengan distribusi Windows yang diinstal di papan tulis, Anda perlu mengekstrak <i>file</i> gambar <i>install.wim</i> .  Kebetulan di beberapa majelis file ini dapat disimpan dalam bentuk terkompresi dengan ekstensi <i>esd</i> .  Dalam hal ini, Anda harus membukanya terlebih dahulu.  Utilitas <i>disp</i> digunakan untuk ini. </p><br><p>  Cari tahu nomor seri versi yang diinginkan di dalam wadah (SourceIndex). </p><br><pre><code class="plaintext hljs">dism /Get-WimInfo /WimFile:install.esd</code> </pre> <br><p>  Kemudian, ekstrak file gambar (dalam hal ini, yang pertama dalam wadah). </p><br><pre> <code class="plaintext hljs">dism /export-image /SourceImageFile:install.esd /SourceIndex:1 /DestinationImageFile:install.wim /Compress:max /CheckIntegrity</code> </pre> <br><p>  Sekarang Anda perlu membuka gambar di Windows System Image Manager (dari Deployment Tools) dan menghasilkan direktori. </p><br><p>  Perlu dicatat bahwa bekerja dengan gambar di Windows System Image Manager hanya mungkin jika kedalaman bit gambar cocok dengan kedalaman bit host.  Artinya, tidak mungkin untuk mengedit gambar versi 32-bit dalam sistem 64-bit.  Di sini, seperti yang mereka katakan, tidak ada komentar. </p><br><p>  Ketika direktori dibuat, edit file jawaban untuk utilitas <i>SysPrep</i> .  Masukkan informasi pemilik, tambahkan pengguna yang diperlukan dan konfigurasikan autologin pertama (Gbr. 3). </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/ch/fn/4f/chfn4fan0jtazdofcrskqz6dakc.png" alt="File jawaban"></div><p>  <i>Fig.</i>  <i>3. Membuat file jawaban.</i> </p><br><p>  Tidak masuk akal untuk mendaftar semua parameter, isi dari file jawaban dapat ditemukan di repositori.  Hal utama adalah jangan lupa untuk mengatur parameter <i>CopyProfile</i> menjadi <i>true</i> , <i>SkipReam</i> ke <i>1</i> dan aktifkan administrator <i>autologin</i> .  Anda dapat memasukkan kunci produk Anda di bagian <i>4 khusus - Microsoft-Windows-Shell-Setup - ProductKey</i> . </p><br><h3>  3. Menginstal program </h3><br><p>  Selanjutnya, Anda memerlukan <i>file</i> gambar <i>install.wim yang</i> sebenarnya, jadi Anda harus meletakkannya di sebelah file jawaban <i>customize.xml</i> , di mana, setelah menyimpan, Anda harus secara manual mengganti jalur ke gambar.  Di akhir file, barisnya akan terlihat seperti ini: </p><br><pre> <code class="plaintext hljs">&lt;cpi:offlineImage cpi:source="wim:d:/service/install.wim#Windows 10 Enterprise LTSB" xmlns:cpi="urn:schemas-microsoft-com:cpi" /&gt;</code> </pre> <br><p>  Untuk mendapatkan antarmuka demo KioskShell, Anda perlu membuat versi untuk Windows dari sumber.  Kiat perakitan ada di repositori. </p><br><p>  Kami menyalin file ke papan tulis dan mendapatkan struktur file dan direktori berikut: </p><br><pre> <code class="plaintext hljs">C:\ â””â”€â”€ Design\ â”œâ”€â”€ backgroundDefault.jpg -      ( ) â””â”€â”€ oemlogo.bmp -  ,      D:\ â”œâ”€â”€ Logs\ -       â”œâ”€â”€ Service\ â”‚ â”œâ”€â”€ AfterSetup.bat -   ,     SysPrep â”‚ â”œâ”€â”€ FirstLogon.bat -        â”‚ â”œâ”€â”€ customize.xml -   â”‚ â”œâ”€â”€ install.wim -   â”‚ â”œâ”€â”€ CustomShellSetup.ps1 -  PowerShell     â”‚ â”œâ”€â”€ EnableRules.ps1 -  PowerShell     â”‚ â”œâ”€â”€ DisableAllRules.ps1 -      ( ) â”‚ â””â”€â”€ UserLogon.bat -      ( ) â””â”€â”€ Shell\ -     "KioskShell.exe"   </code> </pre> <br><h3>  4. Pengaturan sistem manual </h3><br><p>  Ketika sistem berada dalam mode layanan, Anda dapat reboot sebanyak yang Anda suka, sistem akan kembali ke sana secara otomatis.  Namun, dengan waktu idle yang lama sebelum menyiapkan daya, layar dapat mengunci dan tidak akan kembali, hanya reboot yang akan membantu.  Karena setiap proyek tertentu mungkin memiliki fitur konfigurasi sendiri, lebih baik melakukannya secara manual, tetapi Anda juga dapat menggunakan skrip otomatisasi. </p><br><p>  Kami menginstal komponen yang diperlukan dari sistem tertanam dan menonaktifkan kontrol akun pengguna (lihat <i>AfterSetup.bat</i> dari repositori) </p><br><p>  Instal semua driver, konfigurasikan perangkat keras (kartu jaringan IP, resolusi dan orientasi layar, porta perangkat eksternal, dll.), Nonaktifkan kunci lengket dan semua fitur khusus. </p><br><p>  Karena di masa depan saya ingin dapat mengelola dari jarak jauh, kami akan mengaktifkan akses melalui RDP.  Kata sandi administrator akan kedaluwarsa pada tahap konfigurasi otomatis. </p><br><p>  Selanjutnya, Anda perlu menonaktifkan pembaruan sistem di <i>Editor Kebijakan Grup Lokal</i> (di <i>Konfigurasi Komputer - Template Administratif - Komponen Windows -</i> bagian <i>Pembaruan Windows</i> , Anda perlu mengatur <i>Pembaruan Otomatis yang Dikonfigurasi</i> untuk <i>Dinonaktifkan</i> ).  Selain itu, Anda juga perlu mematikan pemindaian otomatis Pembaruan Windows (dalam penjadwal tugas di bagian <i>Microsoft - Windows - UpdateOrchestrator</i> Anda perlu menonaktifkan semua tugas), jika tidak, jendela hitam akan muncul setiap kali Anda boot, dan ketika Anda terhubung ke Internet, Windows tiba-tiba dapat mulai memperbarui. </p><br><p>  Selanjutnya, konfigurasikan pengaturan daya.  Untuk melakukan ini, Anda harus terlebih dahulu membuat semua pengaturan daya terlihat di bagian <i>Pengaturan Daya Lanjut</i> (untuk ini, dalam registri di setiap subkunci di <i>HKEY_LOCAL_MACHINE \ SYSTEM \ CurrentControlSet \ Control \ Power \ PowerSettings \ 238C9FA8-0AAD-41ED-83F4-97BE242C8F20,</i> jika Anda memiliki parameter <i>atribut yang</i> Anda perlukan, Anda perlu menetapkan parameter <i>atribut</i> , Anda perlu menetapkan parameter, nilai padanya <i>2</i> ).  Sekarang setelah semua pengaturan tersedia, matikan mode tidur, mode absen, hapus aksi pada tombol daya (kecuali, tentu saja, Anda perlu sebaliknya), dan matikan pewaktu otorisasi saat idle.  Selanjutnya, kami menghapus mode siaga dengan koneksi (di bagian <i>HKEY_LOCAL_MACHINE \ SYSTEM \ CurrentControlSet \ Control \ Power</i> <i>,</i> atur parameter <i>CsEnabled</i> ke <i>0</i> ).  Jika perlu, matikan kontrol kecerahan adaptif layar. </p><br><p>  Ketika semua pengaturan sistem selesai, kami memiliki kesempatan terakhir untuk melakukan perubahan, karena menjalankan kedua skrip <i>AfterSetup.bat akan</i> memulai mekanisme konfigurasi otomatis menggunakan <i>SysPrep</i> , yang tidak dapat dihentikan.  Anda masih harus ingat untuk mengaktifkan sistem (disarankan untuk membiasakan diri dengan opsi aktivasi untuk versi korporat Windows sendiri).  Bahkan pada tahap ini, Anda dapat membuat salinan cadangan seluruh disk dan memperbaiki keadaan awal gambar jika terjadi perubahan di masa depan. </p><br><p>  Di akhir pekerjaan, <i>SysPrep</i> tidak akan memulai ulang, tetapi matikan komputer - pada titik ini, Anda sudah dapat membuat gambar yang berfungsi, siap untuk porting ke seri. </p><br><h3>  5. Pengaturan sistem otomatis akhir </h3><br><p>  Setelah pemuatan pertama gambar yang berfungsi (lihat <i>FirstLogon.bat</i> dari repositori), antarmuka aman akan dikonfigurasikan, <i>login otomatis</i> akan dikonfigurasi ulang ke akun <i>Pengguna</i> , dan pintasan keyboard yang dapat merusak sistem akan dinonaktifkan.  Selanjutnya, Filter Tulis Bersatu akan dikonfigurasikan dan diaktifkan.  Dalam kasus ini, filter dikonfigurasi untuk melindungi semua partisi kecuali folder <i>Layanan</i> dan <i>Log</i> , dan menggunakan swap 256 MB.  Sistem akan reboot beberapa kali dan, jika semuanya dilakukan dengan benar, maka pada boot berikutnya antarmuka yang aman akan muncul, diluncurkan atas nama akun <i>Pengguna</i> . </p><br><p>  Untuk memperbaiki sistem di situs, dimungkinkan untuk masuk ke layar masuk dan, misalnya, masuk ke akun administrator.  Di Windows 10, metode standar disediakan untuk ini, Anda perlu menekan tombol "Win" 5 kali berturut-turut. </p><br><h1>  Jalur Linux </h1><br><p>  Tidak ada cara standar tunggal untuk membuat sistem tertanam dengan antarmuka grafis berbasis Linux.  Karena tidak ada distribusi tunggal yang sama, semua sama, ini adalah keluarga sistem yang dibuat pada prinsip yang sama sekali berbeda.  Hal yang paling dekat dalam materi pelajaran tampaknya adalah proyek Yocto Linux.  Namun, cukup sulit untuk mengumpulkan gambar yang penuh dengan aplikasi, driver, dan perpustakaan pihak ketiga di dalamnya.  Untuk mengatasi masalah ini, lebih mudah untuk mengambil distribusi yang siap pakai, didukung dengan baik, dan mengonfigurasinya secara manual. </p><br><h2>  Solusi sederhana </h2><br><h3>  1. Instalasi awal </h3><br><p>  Jadi, pertama-tama, kita perlu distribusinya sendiri, misalnya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Debian</a> .  Anda dapat mengambil yang lain, Anda bisa membuatnya sendiri.  Yang utama adalah bahwa distribusi tidak memiliki sistem pembaruan otomatis.  Untuk papan eksperimental, Debian Linux 9 (versi 64-bit, kernel 4.9) dipilih. </p><br><p>  Kami memasang sistem dengan cara tradisional.  Saat menginstal, kami membagi disk menjadi dua bagian, sda1 - <i>/</i> untuk sistem, sda2 - <i>/ var / log</i> untuk <i>log</i> sistem dan perangkat lunak.  Kerusakan seperti itu berguna di masa depan untuk filter rekaman.  Instal <i>GUI xfce</i> standar dan server <i>ssh</i> .  Kami menambahkan <i>administrator</i> selama instalasi pengguna dan mengatur kata sandi. </p><br><p>  Setelah instalasi, hal pertama dari akun <i>root</i> adalah menambahkan pengguna <i>administrator</i> ke grup <i>sudo</i> . </p><br><pre> <code class="plaintext hljs">apt install sudo adduser administrator sudo</code> </pre> <br><p>  Kami masuk ke sistem di bawah <i>administrator</i> nama pengguna dan menambahkan pengguna <i>pengguna baru</i> . </p><br><pre> <code class="plaintext hljs">sudo useradd -m user</code> </pre> <br><p>  Untuk kenyamanan, Anda dapat menghapus kata sandi untuknya sama sekali, karena akses ke akun ini akan tetap ditutup di mana-mana. </p><br><pre> <code class="plaintext hljs">sudo passwd -d user</code> </pre> <br><h3>  2. Konfigurasi sistem </h3><br><p>  Kami menginstal driver, paket firmware, program tambahan yang diinginkan. </p><br><p>  Untuk mengaktifkan administrasi jarak jauh di masa depan, jika perlu, Anda dapat menginstal dan mengkonfigurasi server <i>vnc</i> .  Namun, dalam hal ini ini tidak masuk akal, karena semua tugas administratif dapat dengan mudah dilakukan melalui konsol, dan untuk ini hanya akses melalui <i>ssh yang</i> cukup. </p><br><p>  Linux memiliki kemampuan untuk menggunakan window manager yang berbeda untuk pengguna yang berbeda.  Agar antarmuka pengguna berfungsi, instal manajer minimalis dengan kemampuan untuk menyempurnakan.  Dan untuk konfigurasi Anda akan memerlukan beberapa aplikasi lagi. </p><br><pre> <code class="plaintext hljs">sudo apt install fluxbox arandr plymouth</code> </pre> <br><p>  Dengan menggunakan <i>arandr,</i> Anda dapat mengubah resolusi dan orientasi layar, jika perlu, dan kemudian menyimpan konfigurasi sebagai skrip (Gbr. 4). </p><br><p><img src="https://habrastorage.org/webt/fm/qo/nw/fmqonwqu3j3rua5xd_nr9zbj4p4.png" alt="Parameter layar set_resolution.sh"></p><br><p>  Fig.  4. Pengaturan layar. </p><br><p>  Selanjutnya, Anda harus masuk ke sistem sekali di bawah akun pengguna, setelah memilih <i>fluxbox yang</i> diinstal sebelumnya sebagai manajer jendela, dan kemudian keluar lagi.  Ini diperlukan agar <i>fluxbox</i> di awal mulai membuat semua file pengaturan dan dipilih sebagai manajer standar untuk akun <i>pengguna</i> (lihat file <i>.dmrc</i> di direktori home <i>pengguna</i> ). </p><br><p>  Sekarang Anda perlu mengkonfigurasi <i>fluxbox</i> untuk memenuhi persyaratan antarmuka yang dijelaskan di atas.  Untuk melakukan ini, di <i>/home/user/.fluxbox/init, matikan</i> <i>session.screen0.toolbar.visible</i> panel <i>: false</i> , di <i>/home/user/.fluxbox/keys kami</i> berkomentar semua pintasan keyboard kecuali tombol volume, dan di <i>/ home / user /. fluxbox / startup</i> menambahkan peluncuran skrip konfigurasi layar, menonaktifkan fungsi hemat energi monitor dan autorun aplikasi layar penuh.  Script akan memulai kembali aplikasi jika terjadi kegagalan yang tidak terduga. </p><br><pre> <code class="plaintext hljs">set_resolution.sh xset -dmps s off /home/user/autostart.sh &amp;</code> </pre><br><p>  Sekarang Anda perlu mempercepat proses boot sistem dan menyembunyikannya dari pengguna.  Untuk melakukan ini, atur <i>GRUB_TIMEOUT = 0</i> di <i>/ etc / default / grub dan</i> set <i>quiet_boot = "1"</i> di <i>/etc/grub.d/10_linux</i> .  Untuk menampilkan animasi saat memuat ke parameter kernel <i>GRUB_CMDLINE_LINUX,</i> Anda perlu menambahkan opsi <i>splash</i> , dan jika orientasi layar berubah, opsi <i>fbcon = rotate: 1</i> atau <i>fbcon = rotate: 3</i> , tergantung pada arah.  Jika perlu, Anda dapat mengubah resolusi dan orientasi pada layar login.  Untuk ini, <i>display-setup-script = set_resolution.sh</i> harus ditentukan dalam <i>/etc/lightdm/lightdm.conf</i> .  Dan jika Anda perlu menyembunyikan kursor, maka tambahkan <i>xserver-command = X -core -nocursor</i> . </p><br><p>  Kami akan memilih gaya animasi pemuatan. </p><br><pre> <code class="plaintext hljs">sudo plymouth-set-default-theme -R text</code> </pre> <br><p>  Dan akhirnya perbaiki semua perubahan. </p><br><pre> <code class="plaintext hljs">sudo update-grub2</code> </pre> <br><h3>  3. Menginstal program </h3><br><p>  Untuk mendapatkan antarmuka demo KioskShell, Anda perlu membangun versi Linux dari sumber.  Kiat perakitan ada di repositori. </p><br><p>  Kami menyalin file ke papan tulis dan mendapatkan struktur file dan direktori berikut: </p><br><pre> <code class="plaintext hljs">/ â”œâ”€â”€ usr/ -      "KioskShell"    â”œâ”€â”€ local/ â”‚ â””â”€â”€ bin/ â”‚ â””â”€â”€ set_resolution.sh â””â”€â”€ home/ â”œâ”€â”€ administrator/ â”‚ â””â”€â”€ relogin.sh -       â””â”€â”€ user/ â””â”€â”€ autostart.sh -    </code> </pre> <br><h3>  4. Pengaturan sistem akhir </h3><br><p>  Pada tahap ini, Anda dapat membuat salinan cadangan seluruh disk dan memperbaiki keadaan awal gambar jika ada perubahan di masa depan. </p><br><p>  Atur login otomatis di bawah akun pengguna, untuk ini, atur <i>autologin-user = pengguna</i> di <i>/etc/lightdm/lightdm.conf</i> . </p><br><p>  Sekarang atur proteksi penulisan. </p><br><pre> <code class="plaintext hljs">sudo apt install bilibop</code> </pre> <br><p>  Saat memasang, pilih <i>peta perangkat palsu dinamis</i> . </p><br><p>  Edit file pengaturan <i>/etc/bilibop/bilibop.conf</i> .  Kami mengaktifkan modul dengan parameter <i>BILIBOP_LOCKFS = "true"</i> dan menambahkan bagian dengan log ke pengecualian <i>BILIBOP_LOCKFS_WHITELIST = "/ var / log"</i> .  Mari kita aktifkan kemampuan untuk menonaktifkan perlindungan sementara jika perlu <i>BILIBOP_LOCKFS_POLICY = "soft"</i> .  Dan karena tidak ada enkripsi dalam sistem, Anda perlu mengatur <i>BILIBOP_LOCKFS_SWAP_POLICY = "soft"</i> . </p><br><p>  Kami me-reboot sistem dan, jika semuanya dilakukan dengan benar, antarmuka yang aman muncul, diluncurkan atas nama akun pengguna. </p><br><p>  Langkah terakhir dapat dengan mudah diotomatisasi untuk mendapatkan sistem dengan konfigurasi otomatis di awal pertama.  Ini akan membuat distribusi untuk penskalaan ke beberapa perangkat (mekanisme ini diusulkan untuk diterapkan secara independen). </p><br><p>  Untuk memperbaiki sistem di tempat, dimungkinkan untuk masuk ke layar login dan masuk ke akun administrator.  Di Linux, Anda harus masuk ke konsol melalui Ctrl + Alt + F1.  Setelah masuk ke akun administrator, paksa <i>pengguna</i> untuk keluar dari sistem. </p><br><pre> <code class="plaintext hljs">sudo skill -KILL -u user</code> </pre> <br><p>  Kemudian kembali ke mode grafis melalui Ctrl + Alt + F7 dan masuk sebagai administrator lagi. </p><br><h1>  Kesimpulan </h1><br><p>  Tidak peduli jalan mana yang dipilih, hasil akhirnya adalah hasil yang sama.  Dengan konfigurasi yang tepat, antarmuka pengguna akan memenuhi semua persyaratan yang dijelaskan di atas.  Hanya perbedaan visual yang mungkin, terkait, sebagai aturan, dengan fitur rendering elemen grafis menggunakan akselerasi perangkat keras pada platform yang berbeda. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/rm/nk/1-/rmnk1-wetcbmnk4qnwng5ztxdri.png" alt="Aplikasi shell yang dilindungi"></div><p>  Fig.  5. Antarmuka sedang beroperasi. </p><br><p></p><p>  Karena dasar dari sistem ini adalah komputer papan tunggal, itu tidak akan menjadi masalah untuk menginstal layar sentuh atau kontrol lainnya.  Jika Anda memiliki aplikasi yang sesuai, di pangkalan ini Anda tidak hanya dapat membuat konsol kontrol perangkat atau dasbor interaktif, tetapi juga perangkat lain, misalnya, informasi atau terminal perdagangan. </p><br><h2>  Masalah pilihan </h2><br><p>  Ada pendapat bahwa Linux sangat sulit untuk dikonfigurasikan dan dipelihara, tetapi pada saat yang sama itu gratis, dan Windows sederhana dan nyaman, tetapi membutuhkan biaya.  Ini mungkin benar, tetapi hanya di tingkat rumah tangga.  Ketika datang untuk menciptakan sistem embedded, keadaan lain harus dipertimbangkan.  Sebagai contoh, fine-tuning Windows, terutama dalam hal manajemen daya dan elemen tingkat rendah lainnya, tampaknya tidak lagi sederhana dan nyaman.  Selain itu, jangan lupa bahwa Windows 10 cukup menuntut sumber daya.  Dalam contoh ini, dimungkinkan untuk mengukur konsumsi memori sistem bersih beberapa kali, dan sekitar 400 MB dalam kondisi siaga.  Sebagai perbandingan, Linux Debian dengan semua add-on-nya menempati memori sekitar 200 MB.  Tentu saja, jika Anda memiliki beberapa gigabytes RAM, ini bukan masalah, tetapi tetap saja, ketika menggunakan Windows dan aplikasi klien yang sangat dimuat, Anda harus mengambil komputer papan tunggal yang lebih kuat.  Linux kurang menuntut sumber daya, tetapi sangat sulit untuk mengkonfigurasi dan memerlukan pendekatan yang rapi, terutama ketika bekerja dengan bootloader.  Selain itu, selama pengembangan dan implementasi beberapa elemen ke dalam sistem, terkadang perlu untuk merakit kernel Anda sendiri dengan parameter khusus.  Ini efektif, tetapi membutuhkan tingkat keterampilan yang sesuai. </p><br><p>  Sulit untuk membuat pilihan yang tidak ambigu sebagai bagian dari menciptakan antarmuka yang aman.  Kompleksitas sistem penempatan kurang lebih sama.  Biaya untuk memperoleh lisensi Windows untuk serangkaian instrumen dapat sama dengan biaya pemeliharaan sistem di Linux.  Sistem mana yang dipilih, Anda yang memutuskan. </p><br><p>  Berbagai antarmuka manusia-mesin berdasarkan contoh-contoh yang dijelaskan diperkenalkan oleh penulis ke dalam perangkat elektronik untuk berbagai aplikasi dan membuktikan operabilitasnya di dunia nyata. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id434086/">https://habr.com/ru/post/id434086/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id434076/index.html">Mengapa di Rusia tidak ada kerahasiaan perbankan</a></li>
<li><a href="../id434078/index.html">Anda hanya perlu mengambil dan melakukan: podcast baru tentang proyek editorial dan karier media</a></li>
<li><a href="../id434080/index.html">Bagaimana cara berhenti menulis firmware untuk mikrokontroler. Kami mulai hidup ...</a></li>
<li><a href="../id434082/index.html">Jaringan saraf yang dikembangkan oleh para ilmuwan Rusia telah belajar untuk menentukan usia dari video dengan tingkat akurasi yang tinggi</a></li>
<li><a href="../id434084/index.html">Bisakah mobil dari film "Men in Black" (1997) menaiki langit-langit terowongan?</a></li>
<li><a href="../id434088/index.html">Cara membantu karyawan jarak jauh menghindari kesepian dan kelelahan</a></li>
<li><a href="../id434090/index.html">Memperkenalkan Transistor Vakum: Perangkat Yang Terbuat Dari Void</a></li>
<li><a href="../id434092/index.html">Orang-orang yang menyelamatkan 1968</a></li>
<li><a href="../id434096/index.html">Heisenbug 2018 Moskow: pemandangan dari kerumunan</a></li>
<li><a href="../id434098/index.html">Posting & Pra Pemrosesan CSS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>