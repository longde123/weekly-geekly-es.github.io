<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë© ü§∑üèº üë®üèº‚Äçüíª Sicherheitswoche 28: Ein Smart Home hacken üîÉ üíè üïô</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Welche Risiken gehen wir bei der Installation des ‚ÄûSmart Home‚Äú -Systems ein? Diejenige, die Gl√ºhbirnen und einen Wasserkocher √ºber die Anwendung auf d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sicherheitswoche 28: Ein Smart Home hacken</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/kaspersky/blog/459252/"><img src="https://habrastorage.org/webt/jb/f0/or/jbf0ork45cxrjax-puw3f0w6wtg.jpeg" align="right">  Welche Risiken gehen wir bei der Installation des ‚ÄûSmart Home‚Äú -Systems ein?  Diejenige, die Gl√ºhbirnen und einen Wasserkocher √ºber die Anwendung auf dem Smartphone, innerhalb des lokalen Netzwerks und remote antreibt.  Wenn Sicherheit und Sperrverwaltung an ein intelligentes System gebunden sind (wie im Fall von Amazon Key), ist klar, welche.  Wenn nicht, ist es theoretisch m√∂glich, sich die Gefahr eines Softwarefehlers einer Kaffeemaschine mit einem nachfolgenden Brand vorzustellen.  Aber es ist besser, nicht zu phantasieren, sondern es genau zu wissen. <br><br>  Spezialisten des ICS CERT-Teams von Kaspersky Lab beschlossen, einen Feldtest am Smart Home eines Mitarbeiters des Unternehmens durchzuf√ºhren ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Nachrichten</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Blogbeitrag</a> , technischer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel</a> ).  Das Hacken war erfolgreich: Die Kaffeemaschine litt nicht, aber es war m√∂glich, die Kontrolle √ºber das System zu erlangen, wenn auch mit einigen (recht realistischen) Annahmen w√§hrend des Experiments.  Eine der unangenehmen Folgen dieses Angriffs war das Auslaufen personenbezogener Daten: die Koordinaten des Hauses und leider die Geolokalisierung des Smartphones.  Das Experiment endete jedoch positiv: Der Hersteller des Smart-Home-Systems hat die Sicherheitsl√ºcken erfolgreich geschlossen. <br><a name="habracut"></a><br><iframe width="560" height="315" src="https://www.youtube.com/embed/cFA4_ZwlM9I" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>  <i>K√ºnstlerische Interpretation der Folgen von Hacking</i> <br><br>  In einem technischen Artikel wird ziemlich viel Platz f√ºr relativ langweilige, aber wichtige Punkte aufgewendet: Was war NICHT erfolgreich beim Hacken und wie wurde das Smart-Home-System auf potenzielle Schwachstellen analysiert?  Vor Beginn des Experiments kannten die Forscher bereits den Hersteller des Systems.  Es stellte sich heraus, dass es sich um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fibaro handelt</a> , das eine Reihe eigener Ger√§te f√ºr ein modernes Smart Home herstellt und die Integration mit Ger√§ten von Drittanbietern erm√∂glicht.  Dar√ºber hinaus gab der Eigent√ºmer einen wichtigen Hinweis - eine permanente IP, um in das Admin-Panel zu gelangen.  Fibaro selbst empfiehlt √ºbrigens nicht, den Zugriff auf den Controller √ºber IP zu √∂ffnen - nur √ºber das Cloud-System.  In diesem Experiment spielte diese vom Eigent√ºmer absichtlich hinterlassene L√ºcke eine Rolle. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qh/ou/rj/qhourje0njxqjfureefeilcoosy.jpeg"></div><br>  Theoretisch kann ein solches System in drei Hauptrichtungen angegriffen werden: Versuchen Sie, das Steuerger√§t auf die eine oder andere Weise zu hacken, suchen Sie nach Schwachstellen im Cloud-Teil des Dienstes oder greifen Sie die mit dem Controller selbst verbundenen IoT-Ger√§te an.  Im letzteren Fall muss es in unmittelbarer N√§he sein, damit die ersten beiden Optionen vielversprechender aussehen. <br><br>  Der n√§chste Schritt ist die Analyse der Ger√§tefirmware und der WebAPI.  Normalerweise endet bei einer solchen Analyse alles und die Nachricht wird im Stil "Ein verkabeltes Passwort wird im Ger√§t erkannt" ausgegeben.  Bei Fibaro gab es jedoch keine offensichtlichen Sicherheitsl√ºcken.  Es wurden jedoch n√ºtzliche Informationen √ºber die Implementierung eines Teils der Steuerlogik in PHP erhalten.  Ohne Autorisierung gibt der Controller nur die Seriennummer des Ger√§ts an, und zum Hacken eines St√ºcks Eisen sind diese Informationen unbrauchbar.  Wie sich herausstellte, k√∂nnen Sie damit den Cloud-Teil des Dienstes hacken. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/i6/dv/ss/i6dvssb2y9cspliysjqo19496vq.png"></div><br>  Durch den Zugriff auf die Cloud k√∂nnen Sie wiederum SQLite-Datenbanksicherungen mit allen Ger√§teeinstellungen ohne Autorisierung abrufen und Ihre eigenen hochladen.  Theoretisch erm√∂glichte das Umgehen der Autorisierung (vor dem Beheben der Sicherheitsanf√§lligkeit) das Herunterladen von Sicherungskopien aller Benutzer des Cloud-Systems.  Die Analyse der realen Basis des angegriffenen Ger√§ts erm√∂glichte den Zugriff auf private Informationen, einschlie√ülich der Koordinaten des Hauses und des Smartphones, auf dem die Steuerungsanwendung installiert ist.  Dies ist bereits ein ernstes Problem, da Sie (mit einigen Einschr√§nkungen) feststellen k√∂nnen, wann der Besitzer des Systems nicht zu Hause ist. <br><br>  Dar√ºber hinaus verf√ºgte die Datenbank √ºber vollst√§ndige Informationen zu angeschlossenen IoT-Ger√§ten sowie √ºber ein Kennwort f√ºr den Zugriff auf die Einstellungen, das jedoch mit dem Zusatz ‚Äûsalt‚Äú gehasht wurde.  Die Analyse der Firmware ergab, dass das ‚ÄûSalz‚Äú nicht zuf√§llig ist, sondern fest in das Ger√§t eingen√§ht ist.  Theoretisch kann ein sehr einfaches Passwort geknackt werden, aber in diesem Fall hat es nicht funktioniert.  Die SQLite-Basis enthielt auch offene Kennw√∂rter f√ºr die Verbindung zu anderen Ger√§ten im Netzwerk: Wenn diese Kennw√∂rter mit den Hauptkennw√∂rtern √ºbereinstimmten, konnte der Controller auch leicht geknackt werden. <br><br>  Aber auch hier hat es nicht geklappt: Der Systembesitzer war mit den grundlegenden Sicherheitsempfehlungen vertraut und verwendete nicht dasselbe Kennwort f√ºr verschiedene Ger√§te.  Deshalb musste ich Social Engineering anwenden.  Eine Sicherheitsanf√§lligkeit im Cloud-System, die es erm√∂glicht, eine Reihe von Aktionen ohne Autorisierung auszuf√ºhren, wobei nur die Seriennummer des Ger√§ts bekannt ist (die "kostenlos" angegeben wird, wenn von au√üen auf das Admin-Panel zugegriffen werden kann), hat das folgende Szenario erm√∂glicht.  Eine vorbereitete Sicherungskopie des Ger√§ts, in das das sch√§dliche Skript eingebettet war, wurde in die ‚ÄûCloud‚Äú hochgeladen.  Eine Nachricht √ºber die Notwendigkeit, das Ger√§t √ºber die regul√§ren Funktionen des Cloud-Systems zu aktualisieren, wurde an den Eigent√ºmer gesendet (per E-Mail und SMS). <br><br>  Da der Systembesitzer von dem Experiment wusste, wurde ihm sofort klar, dass dies kein echter Patch war.  Im Allgemeinen ist dies jedoch ein sehr reales Szenario, wenn ein Benutzer eine plausible Nachricht √ºber einen vertrauten Kommunikationskanal empf√§ngt und daher eine Sicherungskopie installiert wurde.  Sch√§dlicher Code wurde mit Systemrechten ausgef√ºhrt, da der PHP-Code √ºbersehen wurde und das Bash-Skript ausgef√ºhrt wurde: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/n5/ys/qn/n5ysqnjncbnpjoez_nnnbcttb-w.png"></div><br>  Hier wird der vom Benutzer festgelegte Parameter (unter normalen Bedingungen hat selbst der Systemadministrator keine Superuser-Berechtigungen auf dem Ger√§t) in das Argument f√ºr die Befehlszeile eingegeben.  Eine unzureichende √úberpr√ºfung der Argumente erm√∂glichte es uns, beliebigen Code mit Root-Rechten auszuf√ºhren und schlie√ülich die volle Kontrolle √ºber das Ger√§t zu erlangen.  Parallel dazu wurde die M√∂glichkeit der SQL-Injection gefunden, aber nicht genutzt: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/y8/9j/r3/y89jr3_wg5c6ti0iu45w0kovi_e.png"></div><br>  Die Forscher hatten nicht vor, eine Kaffeemaschine in einem echten Haus zu knacken, deshalb √§nderten sie die Melodie des Weckers als "Hallo".  Die genannten Schwachstellen im Cloud-System und im Controller-Code wurden geschlossen.  Aus offensichtlichen Gr√ºnden werden bestimmte Methoden zur Umgehung des Schutzes in einem technischen Artikel nicht beschrieben, um zu vermeiden, dass sie von echten Angreifern auf Ger√§ten verwendet werden, die noch nicht aktualisiert wurden.  In diesem Experiment wird jedoch deutlich, was in den √úberschriften normalerweise nicht ber√ºcksichtigt wird: Es gibt viele M√∂glichkeiten, den Ger√§teschutz zu untersuchen, von denen die meisten mit nichts enden.  In der Praxis konnten sowohl der Ger√§tehersteller als auch sein Besitzer die einfachsten Sicherheitsfehler wie eingebettete und wiederverwendete Kennw√∂rter vermeiden.  Es wurde jedoch eine ausreichende Anzahl von Problemen festgestellt, die zumindest zu einem Verlust privater Daten und im schlimmsten Fall zur Umgehung von Sicherheitssystemen f√ºhren k√∂nnten. <br><br>  <i>Haftungsausschluss: Die in dieser √úbersicht ge√§u√üerten Meinungen stimmen m√∂glicherweise nicht immer mit der offiziellen Position von Kaspersky Lab √ºberein.</i>  <i>Sehr geehrte Redakteure empfehlen generell, Meinungen mit gesunder Skepsis zu behandeln.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de459252/">https://habr.com/ru/post/de459252/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de459242/index.html">Im Anschluss an die T + Conf 2019 Konferenz</a></li>
<li><a href="../de459244/index.html">Hinweise Produktmanager: Benutzerverhalten auf Spieleseiten im App Store. Wie lange dauert das Herunterladen eines Spiels?</a></li>
<li><a href="../de459246/index.html">Warum nimmt die Site-Conversion ab? Beispiele f√ºr 60 Design- und Usability-Fehler</a></li>
<li><a href="../de459248/index.html">Digitale Veranstaltungen in Moskau vom 9. bis 14. Juli</a></li>
<li><a href="../de459250/index.html">WAL in PostgreSQL: 2. Protokoll aufzeichnen</a></li>
<li><a href="../de459254/index.html">Noch bessere Rei√üverschlussbombe</a></li>
<li><a href="../de459256/index.html">Wie wir unser Themenkrankenhaus f√ºr verschiedene Plattformen optimiert haben</a></li>
<li><a href="../de459258/index.html">14.000 Meilen nicht haken</a></li>
<li><a href="../de459262/index.html">Mit 22 in den Ruhestand getreten</a></li>
<li><a href="../de459264/index.html">Verlassen von Tarantool-Netzwerken. Knotensynchronisation beim Filtern des Datenverkehrs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>