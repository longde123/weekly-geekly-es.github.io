<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏽‍🍳 👎🏻 🕴🏿 Eclipse #include <Arduino.h> 👲🏼 👸🏼 🏨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Olá pessoal! 
 Recentemente, alguns artigos foram publicados no GT contra e por usar o Arduino para algo mais lucrativo do que luzes piscantes e criaç...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Eclipse #include <Arduino.h></h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/390441/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Olá pessoal! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Recentemente, alguns artigos foram publicados no GT </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contra</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">por</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> usar o Arduino para algo mais lucrativo do que luzes piscantes e criação de estações meteorológicas domésticas. O habitual discurso do mundo da tecnologia, quando a tecnologia se torna cada vez mais acessível ao público em geral, nada, sabemos. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tendo uma educação técnica e uma especialidade universitária diretamente relacionada à programação de microcontroladores, eu entendo aqueles que são contra. E com muitos anos de experiência em comercializar não apenas os meus, mas também, em maior medida, conhecimentos e habilidades estrangeiras, entendo perfeitamente quem é a favor. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Você está certo, e você também está certo, e a verdade, como sempre, está em algum lugar </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">próximo</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no meio.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primeiro de tudo, você precisa entender sobre o que é o argumento. O Arduino não é apenas belamente embalado pelos italianos em placas de circuito impresso e caixas de microcontroladores, e não apenas no ambiente de desenvolvimento do Arduino IDE. Primeiro de tudo, essas são bibliotecas para desenvolvimento rápido e, na minha opinião, são de maior valor. Se você observar os diagramas de circuitos das placas Arduino, não veremos nada de impressionante. Ambiente de desenvolvimento ... Digamos apenas que </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ele não alcança o modelo Borland C ++ de 1994</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como sabemos, essas bibliotecas são distribuídas sob a licença GNU, elas podem ser obtidas e usadas sem pagar royalties aos seus criadores. </font><font style="vertical-align: inherit;">Esse modelo de negócios exige ganhar dinheiro com algo que não seja royalties. </font><font style="vertical-align: inherit;">Assim, eles ganham produzindo e vendendo em um belo pacote por 20 dólares o que um engenheiro eletrônico comprará por 20 centavos. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E o importante aqui não é que eles sejam uma burguesia gananciosa, roubando os trabalhadores e repreensíveis de toda a humanidade progressista, mas por que eles podem fazer isso. </font><font style="vertical-align: inherit;">Porque:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eles apareceram na hora certa, no lugar certo e viram as primeiras oportunidades que outros não viram;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eles disponibilizaram ao consumidor o que anteriormente estava disponível para um círculo restrito de indivíduos limitados;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tudo foi lindamente embalado e apresentado ao consumidor em um formato pronto para uso.</font></font></li>
</ul><br>
<br>
  ,              .     Arduino      —  .<br>
 —      .   ,        <b></b>               .<br>
<br>
,    ,    - -,           86%     .       :<br>
<ol>
<li>  ?</li>
<li>  ?</li>
</ol><br>
(        «»)<br>
<table>
<tbody><tr>
<td>  </td>
<td> </td>
</tr>
<tr>
<td>    ,   ,                              .</td>
<td>    ,    ,    .      M    X  Y    Z .</td>
</tr>
</tbody></table><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Com base na experiência comercial, ouso dizer que o cliente escolherá o caminho do </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fumante do</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> arduino. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais sobre como usar o Arduino para propósitos egoístas, com </font><font style="vertical-align: inherit;">desenvolvimento de </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">blackjack e</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> grupo, controle de versão, documentando o projeto e outros cisnes empalhados do mundo do desenvolvimento comercial. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De fato, tudo é muito simples. Para isso, além dos desenvolvedores, precisamos de um ambiente de desenvolvimento e de uma posição na qual eles possam se desenvolver. C ++, está na África C ++, AVR e no Arduino permanece AVR. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como ambiente, considere o Eclipse. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aqui está um artigo muito bom</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sobre como configurar o Eclipse primeiro para funcionar com o AVR Toolchain e, em seguida, conectar as bibliotecas do Arduino e piscar o LED no Uno.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E aqui está ainda melhor</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mas em inglês. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vou suplementá-los com alguns ancinhos em que pisei, talvez isso economize a alguém algumas horas. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todos os seguintes são descritos para Linux e Leonardo. </font><font style="vertical-align: inherit;">Para Windows, você deve primeiro instalar o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MinGW / msys</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para criar todas as fontes incluídas no núcleo do Arduino, você precisa definir as constantes do pré-processador corretamente. </font><font style="vertical-align: inherit;">Se você olhar o código fonte das bibliotecas, poderá ver muitas estruturas de compilação condicional #ifdef #else #endif. </font><font style="vertical-align: inherit;">No artigo, por referência, o autor pontuou tudo ao pegar o arquivo .a finalizado compilado pelo Arduino IDE. </font><font style="vertical-align: inherit;">Mas nem todas as bibliotecas se enquadram no kernel, por exemplo, SPI e Ethernet não se enquadram nelas, e as mesmas piadas com compilação condicional nos esperam nelas.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Descobrir quais constantes e como definir pode ser muito simples.</font></font><br>
<ol>
<li> Arduino IDE</li>
<li> ,     </li>
<li> —  —    — </li>
<li>     ,   <br>
<pre><code class="bash hljs">*** avr-g++ -c -g -Os -w -std=gnu++11 -fno-exceptions -ffunction-sections -fdata-sections -fno-threadsafe-statics  -w -x c++ -E -CC -mmcu=atmega32u4 -DF_CPU=16000000L -DARDUINO=10607 -DARDUINO_AVR_LEONARDO -DARDUINO_ARCH_AVR  -DUSB_VID=0x2341 -DUSB_PID=0x8036 <span class="hljs-string"><span class="hljs-string">'-DUSB_MANUFACTURER="Unknown"'</span></span> <span class="hljs-string"><span class="hljs-string">'-DUSB_PRODUCT="Arduino Leonardo"'</span></span> ***
</code></pre><br>
,     -D ( F_CPU,  Eclipse  )       Eclipse.<br>
</li>
</ol><br>
<img src="https://habrastorage.org/files/b65/27d/dc8/b6527ddc8f374bd193b728fb70856b5b.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para que o compilador encontre todos os arquivos .h que queremos usar no projeto, precisamos especificar o caminho para eles nas configurações. Existem duas maneiras. Você pode especificar caminhos absolutos para as pastas IDE do Arduino ou vincular a biblioteca ao projeto e especificar o caminho relativo de {workspase} / {ProjName}. O segundo método permitirá que você compile o kernel no Eclipse, embora não haja diferença fundamental, e no Arduino IDE e no Eclipse, o avr-g ++ é responsável pela compilação. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Além disso, especifique o caminho para pins_arduino.h para o quadro que usamos no projeto.</font></font><br>
<img src="https://habrastorage.org/files/23d/006/16a/23d00616a5b04c96b3d33ade8789b44f.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para não violar a estrutura harmoniosa dos arquivos da biblioteca main.cpp, não a editaremos. Apenas inclua como está no kernel no projeto e chamaremos nosso arquivo com outro nome. Não é necessário declarar a função main (), ela já está em main.cpp, inicializa tudo o que é necessário e chama a função loop () em um loop infinito, o vinculador coletará tudo como deveria. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O ambiente está pronto para ir. Nós escrevemos da mesma maneira que no IDE do Arduino, mas aqui eles monitoram a conformidade com os cânones C ++ um pouco mais estritamente. E a qualquer momento podemos passar da programação de alto nível para o andar abaixo. Se a velocidade de trabalho com portas através do digitalWrite não for suficiente, escrevemos diretamente nas portas. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Infelizmente, o hábito de desligar o processador com uma chamada</font></font><pre><code class="cpp hljs">delay(<span class="hljs-number"><span class="hljs-number">5000</span></span>);</code></pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eclipse não cura. Isso é ensinado em algum lugar do ensino médio ou do ensino médio, que penetra a personalidade tão profundamente que nenhuma moralização pode levar uma pessoa ao caminho certo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para preencher o Arduino IDE e o Eclipse, use o utilitário do programador AVRDude. Ela realmente conhece quadros como Uno com o nome "arduino", mas se recusa categoricamente a reconhecer quadros mais baratos como Leonardo. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos para o boards.txt e descobrimos que, para o programador, o </font><font style="vertical-align: inherit;">
programador nas configurações do AVRDude é chamado de "Carregador de inicialização Atmel AppNote AVR109", aqui está: </font><font style="vertical-align: inherit;">
Um pequeno inconveniente é que o Eclipse não fará isso. Você </font><font style="vertical-align: inherit;">
precisará pressionar reset com as canetas antes de carregar. </font><font style="vertical-align: inherit;">
Bem, em conclusão, o mesmo projeto, montado no IDE do Arduino</font></font><br>
<code>leonardo.upload.protocol=avr109<br>
</code><br><font style="vertical-align: inherit;"></font><br>
<img src="https://habrastorage.org/files/a47/e6b/bd4/a47e6bbd4afe47da8374653d5c7792ed.png"><br><font style="vertical-align: inherit;"></font><br>
<code>leonardo.upload.use_1200bps_touch=true<br>
</code><br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<code>  28&nbsp;432  (99%)  .   28&nbsp;672 .<br>
   1&nbsp;254  (48%)  ,  1&nbsp;306    . : 2&nbsp;560 .<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
e em Eclipse A </font><font style="vertical-align: inherit;">
ninharia, mas para terminar é apenas um quilo e não é o suficiente.</font></font><br>
<code>Invoking: Print Size<br>
avr-size --format=avr --mcu=atmega32u4 EthernetController.elf<br>
AVR Memory Usage<br>
----------------<br>
Device: atmega32u4<br>
<br>
Program: 27834 bytes (84.9% Full)<br>
(.text + .data + .bootloader)<br>
<br>
Data: 1257 bytes (49.1% Full)<br>
(.data + .bss + .noinit)<br>
<br>
Finished building: sizedummy<br>
</code><br><font style="vertical-align: inherit;"></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt390441/">https://habr.com/ru/post/pt390441/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt390429/index.html">Fazendo um simples barco aero RC</a></li>
<li><a href="../pt390431/index.html">Projetores domésticos Epson EH-TW5210, EH-TW5300 e EH-TW5350 - melhores, mais rápidos, mais brilhantes</a></li>
<li><a href="../pt390435/index.html">Математики построили карту связей во вселенной «Звездных войн»</a></li>
<li><a href="../pt390437/index.html">Altímetro-variômetro eletrônico caseiro com sinais de aviso sonoro e luminoso</a></li>
<li><a href="../pt390439/index.html">Reflexões de Andreev entre bandas espelhadas sobre os contatos de van der Waals entre grafeno e seleneto de nióbio</a></li>
<li><a href="../pt390447/index.html">Tendências tecnológicas para as quais todas as companhias aéreas e aeroportos devem estar preparados</a></li>
<li><a href="../pt390451/index.html">Competição de robótica escolar de Illinois</a></li>
<li><a href="../pt390453/index.html">Atualização do mouse - adicionando inclinações das rodas, substituindo os eletrônicos</a></li>
<li><a href="../pt390455/index.html">Como chaleira, o controle remoto dizia</a></li>
<li><a href="../pt390457/index.html">Ondas gravitacionais registradas pela primeira vez: agora oficialmente</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>