<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§õüèΩ üë©üèΩ‚Äçüé® üë®‚Äçüç≥ USB-Soundkarte am YM3812 üîÑ üë≤üèΩ üëÖ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ich liebe alte Computerspiele. Ich liebe altes Eisen, aber nicht genug, um es zu Hause zu sammeln. Eine andere Sache ist, einen alten Chip auszuw√§hlen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>USB-Soundkarte am YM3812</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/478666/"><p> Ich liebe alte Computerspiele.  Ich liebe altes Eisen, aber nicht genug, um es zu Hause zu sammeln.  Eine andere Sache ist, einen alten Chip auszuw√§hlen und zu versuchen, etwas selbst zu reproduzieren, das Alte mit dem Neuen zu kombinieren.  In diesem Artikel geht es darum, wie ich den AVR-Mikrocontroller an den YM3812 angeschlossen habe, der in Soundkarten wie Adlib, Sound Blaster und Pro AudioSpectrum verwendet wurde.  Ich habe nichts grundlegend Neues geschaffen, ich habe einfach verschiedene Ideen kombiniert.  Vielleicht interessiert sich jemand f√ºr meine Umsetzung.  Oder vielleicht wird meine Erfahrung jemanden dazu bringen, sein eigenes Retro-Projekt zu erstellen. </p><a name="habracut"></a><br><p><img src="https://habrastorage.org/webt/vf/rv/kn/vfrvknahkg_69vegikncccu-mqq.jpeg" alt="Die Essenz dieses Projekts"></p><br><p>  Als ich eines Tages durch das Internet ging, stie√ü ich auf ein interessantes Projekt <a href="https://hackaday.io/project/18995-opl2-audio-board-for-arduino-raspberry-pi">OPL2 Audio Board f√ºr Arduino &amp; Raspberry Pi</a> .  Kurz gesagt: Schlie√üen Sie ein Board an Arduino oder Raspberry Pi an, laden Sie eine Skizze oder Software, und h√∂ren Sie zu.  Die verlockende Idee, den OPL2-Chip auszuw√§hlen, zu h√∂ren, wie er sich anh√∂rt, und zu versuchen, etwas Eigenes zu tun, lie√ü mich nicht los, und ich bestellte, montierte und begann herauszufinden, wie es funktioniert. </p><br><h3 id="para-slov-ob-upravlenii-chipom-ym3812">  Ein paar Worte zum YM3812 Chip Management </h3><br><p>  Damit Musik abgespielt werden kann, m√ºssen Register gesetzt werden.  Einige sind f√ºr das Stimmen der Instrumente verantwortlich, andere f√ºr das Spielen von Noten usw.  Die Registeradresse betr√§gt 8 Bit.  Der Wert des Registers betr√§gt 8 Bits.  Eine Liste der Register ist in der <a href="https://pdf1.alldatasheet.com/datasheet-pdf/view/84281/YAMAHA/YM3812.html">Spezifikation angegeben</a> . </p><br><p>  Um die Register zu √ºbertragen, m√ºssen die Messwerte an den Steuereing√§ngen CS, RD, WR und A0 sowie am Datenbus D0..D7 korrekt eingestellt werden. </p><br><p>  Der CS-Eingang wird ben√∂tigt, um den Datenbus w√§hrend der Installation zu blockieren.  Setze CS = 1 (schalte den Eingang aus), setze D0..D7, setze CS = 0 (ein). </p><br><p>  Der RD-Eingang muss eine logische Einheit sein <br>  Um die Adresse des Registers zu schreiben, setzen Sie WR = 0, A0 = 0 <br>  Um den Wert des Registers zu schreiben, setzen Sie WR = 0, A0 = 1 </p><br><h3 id="opl2-audio-board-for-arduino--raspberry-pi">  OPL2 Audio Board f√ºr Arduino &amp; Raspberry Pi </h3><br><p><img src="https://habrastorage.org/webt/fs/mz/rv/fsmzrv2bambihtoluiqsruj5z7k.png" alt="Vereinfachtes Schema"></p><br><p>  √úbertragungsvorgang registrieren: </p><br><ol><li> Setzen Sie w√§hrend der Initialisierung PB2 = 1, um den Eingang von <code>YM3812</code> zu blockieren </li><li>  Wir √ºbergeben die Registeradresse <br>  2.1 PB1 = 0 (A0 = 0) <br>  2.2 Wir √ºbertragen die Registeradressbytes √ºber die SPI-Schnittstelle.  Die Daten werden im Schieberegister <code>74595</code> gespeichert <br>  2,3 PB2 = 0 (WR = 0, CS = 0).  Der Chip 7404 invertiert das Signal und liefert 1 an den Eingang von ST_CP <code>74595</code> , der seine Ausg√§nge Q0 ... <code>74595</code> schaltet.  <code>YM3812</code> schreibt die Registeradresse <br>  2.4 PB2 = 1 (WR = 1, CS = 1) </li><li>  Wir √ºbergeben den Wert des Registers <br>  3.1 PB1 = 1 (A0 = 1) <br>  3.2 Wir √ºbertragen Datenbytes √ºber die SPI-Schnittstelle √§hnlich wie in S.2.2 <br>  3,3 PB2 = 0 (WR = 0, CS = 0).  <code>YM3812</code> schreibt Daten <br>  3.4 PB2 = 1 (WR = 1, CS = 1) </li></ol><br><p>  Ein Inverter <code>7404</code> und Quarz <code>XTAL1</code> realisieren einen Rechteckimpulsgenerator mit einer Frequenz von 3.579545 MHz, der f√ºr den Betrieb des <code>YM3812</code> notwendig ist. <br>  <code>YM3014B</code> wandelt ein digitales Signal in ein analoges Signal um, das vom Operationsverst√§rker <code>LM358</code> verst√§rkt wird. <br>  Der Audioverst√§rker <code>LM386</code> ben√∂tigt, damit <code>LM386</code> passive Lautsprecher oder Kopfh√∂rer an das Ger√§t angeschlossen werden k√∂nnen  <code>LM358</code> Leistung des <code>LM358</code> reicht nicht aus. </p><br><p>  Versuchen wir nun, den Klang aus all dem herauszuholen.  Das erste, wor√ºber ich (und wahrscheinlich nicht nur ich) nachdachte, war, wie alles in DosBox funktioniert.  Leider funktioniert das Ausspielen mit der Adlib-Hardware nicht, weil  DosBox wei√ü nichts √ºber unser Ger√§t und wei√ü nicht, wie OPL2-Befehle irgendwo √ºbertragen werden sollen (bisher nicht). </p><br><p>  Der Autor des Projekts bietet eine Skizze f√ºr Teensy an, die als MIDI-Ger√§t arbeitet.  Nat√ºrlich wird der Sound aus vorkompilierten Instrumenten bestehen und der Sound wird anders sein, wir werden eine Emulation eines MIDI-Ger√§ts auf einem OPL2-Chip erhalten.  Ich habe keinen Teensy und konnte diese Option nicht ausprobieren. </p><br><h3 id="rabota-cherez-posledovatelnyy-port">  Serielle Schnittstelle </h3><br><p>  Es gibt eine Skizze <a href="">SerialPassthrough</a> .  Damit k√∂nnen wir Befehle √ºber die serielle Schnittstelle √ºbertragen.  Es bleibt nur die Unterst√ºtzung in DoxBox zu implementieren.  Ich habe die Version von SVN verwendet: <code>svn://svn.code.sf.net/p/dosbox/code-0/dosbox/trunk</code> </p><br><p>  In der <code>src/hardware/adlib.cpp</code> √§ndern wir die Implementierung von OPL2: </p><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"serialport/libserial.h"</span></span></span><span class="hljs-meta"> namespace OPL2 { #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"opl.cpp"</span></span></span><span class="hljs-meta"> struct Handler : public Adlib::Handler { virtual void WriteReg( Bit32u reg, Bit8u val ) { </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//adlib_write(reg,val); if (comport) { SERIAL_sendchar(comport, reg); SERIAL_sendchar(comport, val); } } virtual Bit32u WriteAddr( Bit32u port, Bit8u val ) { return val; } virtual void Generate( MixerChannel* chan, Bitu samples ) { Bit16s buf[1024]; while( samples &gt; 0 ) { Bitu todo = samples &gt; 1024 ? 1024 : samples; samples -= todo; adlib_getsample(buf, todo); chan-&gt;AddSamples_m16( todo, buf ); } } virtual void Init( Bitu rate ) { adlib_init(rate); LOG_MSG("Init OPL2"); if (!SERIAL_open("COM4", &amp;comport)) { char errorbuffer[256]; SERIAL_getErrorString(errorbuffer, sizeof(errorbuffer)); LOG_MSG("Serial Port could not be opened."); LOG_MSG("%s", errorbuffer); return; } if (!SERIAL_setCommParameters(comport, 115200, 'n', SERIAL_1STOP, 8)) { LOG_MSG("Error serial set parameters"); SERIAL_close(comport); return; } } ~Handler() { if (comport) SERIAL_close(comport); } private: COMPORT comport; }; }</span></span></span></span></code> </pre> <br><p>  Ersetzen Sie vor dem Zusammenbau die COM-Anschlussnummer durch die aktuelle. </p><br><p>  Wenn Sie den Kommentar in der Zeile entfernen <code>//adlib_write(reg,val);</code>  , dann wird der Ton gleichzeitig √ºber den Emulator und das Ger√§t abgespielt. </p><br><p>  Im DosBox-Setup m√ºssen Sie die Verwendung von OPL2 angeben: </p><br><pre> <code class="plaintext hljs">[sblaster] oplemu=compat oplmode=opl2</code> </pre> <br><p>  So habe ich es bekommen: </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/GxNwjkhRZiI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Es sieht ziemlich sperrig aus.  Auch wenn Sie Arduino anstelle des Steckbretts verwenden, m√ºssen Sie die Dr√§hte anschlie√üen.  Die Portnummer auf dem System kann sich √§ndern und Sie m√ºssen die DosBox neu erstellen.  Ich wollte wirklich alles auf den Punkt bringen, unn√∂tige Teile entfernen und alles auf einer Platine zusammenbauen. </p><br><h3 id="opl2-usb">  OPL2-USB </h3><br><p>  Es entstand die Idee, ein unabh√§ngiges Ger√§t mit einem Minimum an Komponenten und Problemen beim Anschlie√üen zu erstellen.  Zun√§chst k√∂nnen Sie den <code>74595</code> entfernen und die Atmega-Ports verwenden.  Hier wird es nur verwendet, um die Anzahl der Dr√§hte zu reduzieren.  Zweitens k√∂nnen Sie einen vorgefertigten Quarzoszillator verwenden und den <code>7404</code> Chip <code>7404</code> .  Ein Audioverst√§rker wird auch nicht ben√∂tigt, wenn Sie das Ger√§t an die Lautsprecher anschlie√üen.  Und schlie√ülich k√∂nnen Sie USB-UART loswerden, wenn Sie den atmega direkt an USB anschlie√üen, z. B. √ºber die V-USB-Bibliothek: <a href="https://www.obdev.at/products/vusb/index.html">https://www.obdev.at/products/vusb/index.html</a> .  Um das Schreiben und Installieren von Treibern zu vermeiden, k√∂nnen Sie den Mikrocontroller zu einem benutzerdefinierten HID-Ger√§t machen. </p><br><p><img src="https://habrastorage.org/webt/jp/iw/ss/jpiwssd7un9hb37qjgv8fttvmhy.png" alt="USB-OPL2 vereinfachte Schaltung"></p><br><p>  Die Ports B und C sind teilweise mit dem ISP-Programmierer und dem Quarz verbunden.  Port D blieb v√∂llig frei, wir nutzen es f√ºr die Daten√ºbertragung.  Ich habe die verbleibenden Ports im PCB-Design-Prozess zugewiesen. </p><br><p>  Das vollst√§ndige Schema kann hier <a href="https://easyeda.com/marchukov.ivan/opl2usb">eingesehen</a> werden: <a href="https://easyeda.com/marchukov.ivan/opl2usb">https://easyeda.com/marchukov.ivan/opl2usb</a> </p><br><p>  <code>LED1</code> mit Widerstand ist optional und wurde bei der Montage nicht <code>LED1</code> .  Die U4-Sicherung wird ben√∂tigt, um den USB-Anschluss nicht versehentlich zu besch√§digen.  Es kann auch nicht gesetzt, sondern durch einen Jumper ersetzt werden. </p><br><p>  Um das Ger√§t kompakt zu gestalten, habe ich mich entschlossen, es auf SMD-Bauteilen zu montieren. </p><br><div class="spoiler">  <b class="spoiler_title">Leiterplatten und fertiges Ger√§t</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/getpro/habr/post_images/0d7/12a/296/0d712a296128668272ad07d9a21c95f5.jpg"><br><img src="https://habrastorage.org/getpro/habr/post_images/baf/4b7/67b/baf4b767b3b982948cd23c03778384e6.jpg"></p><br><p>  Option "Sicher" beim Schrumpfen 50 / 25mm <br><img src="https://habrastorage.org/getpro/habr/post_images/999/29c/dc4/99929cdc4a688fe67ec306eb4384f223.jpg"><br><img src="https://habrastorage.org/getpro/habr/post_images/632/60d/e6c/63260de6c1f91b34aa60a2481314069b.jpg"></p></div></div><br><p>  Digitalteil links, Analogteil rechts. </p><br><p>  F√ºr mich war dies die erste Erfahrung beim Entwerfen und Zusammenbauen eines fertigen Ger√§ts und konnte nicht ohne Pfosten auskommen.  Zum Beispiel sollten die L√∂cher in den Ecken der Platte einen Durchmesser von 3 mm f√ºr die Gestelle haben, es stellte sich jedoch heraus, dass sie 1,5 mm betragen. </p><br><p>  Die Firmware kann auf <a href="https://github.com/deadman2000/usb_opl2">Github</a> eingesehen <a href="https://github.com/deadman2000/usb_opl2">werden</a> .  In der fr√ºheren Version wurde ein Befehl in einem USB-Paket gesendet.  Dann stellte sich heraus, dass DosBox auf dynamischen Tracks aufgrund des hohen Overheads und der geringen Geschwindigkeit von USB 1.0 langsamer wird. DosBox bleibt beim Senden eines Pakets und beim Empfangen einer Antwort h√§ngen.  Ich musste eine asynchrone Warteschlange erstellen und Befehle stapelweise senden.  Dies f√ºhrte zu einer leichten Verz√∂gerung, die sich jedoch nicht bemerkbar macht. </p><br><h4 id="nastroyka-v-usb">  V-USB-Setup </h4><br><p>  Wenn wir bereits fr√ºher herausgefunden haben, dass wir Daten an das YM3812 senden, muss USB daran basteln. </p><br><p>  <code>usbconfig-prototype.h</code> in <code>usbconfig.h</code> und f√ºgen Sie es hinzu (im Folgenden sind nur die √Ñnderungen aufgef√ºhrt): </p><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//   .   define       #define F_CPU 12000000UL //    #define USB_CFG_IOPORTNAME B #define USB_CFG_DMINUS_BIT 0 #define USB_CFG_DPLUS_BIT 1 #define USB_CFG_HAVE_INTRIN_ENDPOINT 1 //    20  #define USB_CFG_MAX_BUS_POWER 20 // ,      usbFunctionWrite #define USB_CFG_IMPLEMENT_FN_WRITE 1 //     (    OPL2) #define USB_RESET_HOOK(resetStarts) if(!resetStarts){hadUsbReset();} //  .         #define USB_CFG_DEVICE_ID 0xdf, 0x05 /* VOTI's lab use PID */ #define USB_CFG_VENDOR_NAME 'd', 'e', 'a', 'd', '_', 'm', 'a', 'n' #define USB_CFG_VENDOR_NAME_LEN 8 #define USB_CFG_DEVICE_NAME 'O', 'P', 'L', '2' #define USB_CFG_DEVICE_NAME_LEN 4 // ,    HID- #define USB_CFG_DEVICE_CLASS 0 #define USB_CFG_INTERFACE_CLASS 3 //   usbHidReportDescriptor #define USB_CFG_HID_REPORT_DESCRIPTOR_LENGTH 22 //      INT0,      PCINT0 #define USB_INTR_CFG PCICR #define USB_INTR_CFG_SET (1 &lt;&lt; PCIE0) #define USB_INTR_CFG_CLR 0 #define USB_INTR_ENABLE PCMSK0 #define USB_INTR_ENABLE_BIT PCINT0 #define USB_INTR_VECTOR PCINT0_vect</span></span></code> </pre> <br><p>  In der Datei <code>main.c</code> definieren wir die <code>main.c</code> </p><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//      #define BUFF_SIZE 16 //  -   struct command_t { uchar address; uchar data; }; //   struct dataexchange_t { uchar size; struct command_t commands[BUFF_SIZE]; } pdata;</span></span></code> </pre> <br><p>  Deklarieren Sie ein Handle f√ºr HID </p><br><pre> <code class="cpp hljs">PROGMEM <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> usbHidReportDescriptor[] = { <span class="hljs-comment"><span class="hljs-comment">// USB report descriptor 0x06, 0x00, 0xff, // USAGE_PAGE (Vendor Defined Page) 0x09, 0x01, // USAGE (Vendor Usage 1) 0xa1, 0x01, // COLLECTION (Application) 0x15, 0x00, // LOGICAL_MINIMUM (0) 0x26, 0xff, 0x00, // LOGICAL_MAXIMUM (255) 0x75, 0x08, // REPORT_SIZE (8) 0x95, sizeof(struct dataexchange_t), // REPORT_COUNT 0x09, 0x00, // USAGE (Undefined) 0xb2, 0x02, 0x01, // FEATURE (Data,Var,Abs,Buf) 0xc0 // END_COLLECTION };</span></span></code> </pre> <br><p>  Eventhandler: </p><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//    .         static uchar currentAddress; static uchar bytesRemaining; //   uchar usbFunctionWrite(uchar *data, uchar len) { if (bytesRemaining == 0) return 1; if (len &gt; bytesRemaining) len = bytesRemaining; uchar *buffer = (uchar*)&amp;pdata; memcpy(buffer + currentAddress, data, len); currentAddress += len; bytesRemaining -= len; if (bytesRemaining == 0) { for (int i = 0; i &lt; pdata.size; ++i) { struct command_t cmd = pdata.commands[i]; if (cmd.address == 0xff &amp;&amp; cmd.data == 0xff) //    OPL2      FFFF opl_reset(); else opl_write(cmd.address, cmd.data); } } return bytesRemaining == 0; } //    USBRQ_HID_SET_REPORT       usbMsgLen_t usbFunctionSetup(uchar data[8]) { usbRequest_t *rq = (void*)data; if ((rq-&gt;bmRequestType &amp; USBRQ_TYPE_MASK) == USBRQ_TYPE_CLASS) { if (rq-&gt;bRequest == USBRQ_HID_SET_REPORT) { bytesRemaining = sizeof(struct dataexchange_t); currentAddress = 0; return USB_NO_MSG; } } return 0; /* default for not implemented requests: return no data back to host */ } //      extern void hadUsbReset(void) { opl_reset(); }</span></span></code> </pre> <br><p>  Ich empfehle diese russischsprachigen Artikel √ºber V-USB: <br>  <a href="http://microsin.net/programming/avr-working-with-usb/avr-v-usb-tutorial.html">http://microsin.net/programming/avr-working-with-usb/avr-v-usb-tutorial.html</a> <br>  <a href="http://we.easyelectronics.ru/electro-and-pc/usb-dlya-avr-chast-2-hid-class-na-v-usb.html">http://we.easyelectronics.ru/electro-and-pc/usb-dlya-avr-chast-2-hid-class-na-v-usb.html</a> </p><br><h3 id="podderzhka-v-dosbox">  DosBox-Unterst√ºtzung </h3><br><p>  Der Code f√ºr DosBox kann im <a href="https://github.com/deadman2000/usb_opl2/tree/master/DosBox">selben Repository</a> angezeigt werden. </p><br><p>  Um mit dem Ger√§t auf der PC-Seite zu arbeiten, habe ich die Bibliothek <code>hidlibrary.h</code> verwendet (ich habe leider keine Links zum Original gefunden), die ein wenig modifiziert werden musste. </p><br><p>  Ich beschloss, den OPL-Emulator nicht zu ber√ºhren, sondern eine eigene Klasse zu implementieren.  Das Umschalten auf USB in Configs sieht jetzt so aus: </p><br><pre> <code class="plaintext hljs">[sblaster] oplemu=usb</code> </pre> <br><p>  <code>adlib.cpp</code> im Konstruktor des Adlib-Moduls in <code>adlib.cpp</code> die Bedingung hinzu: </p><br><pre> <code class="cpp hljs"> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (oplemu == <span class="hljs-string"><span class="hljs-string">"usb"</span></span>) { handler = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OPL2USB::Handler(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {</code> </pre> <br><p>  Und in <code>dosbox.cpp</code> neue Konfigurationsoption: </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span>* oplemus[]={ <span class="hljs-string"><span class="hljs-string">"default"</span></span>, <span class="hljs-string"><span class="hljs-string">"compat"</span></span>, <span class="hljs-string"><span class="hljs-string">"fast"</span></span>, <span class="hljs-string"><span class="hljs-string">"mame"</span></span>, <span class="hljs-string"><span class="hljs-string">"usb"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>};</code> </pre> <br><p>  Die kompilierte exe kann hier abgeholt werden: <a href="">https://github.com/deadman2000/usb_opl2/releases/tag/0.1</a> </p><br><h3 id="video">  Video </h3><br><div class="spoiler">  <b class="spoiler_title">Bereit Ger√§t in Aktion</b> <div class="spoiler_text"><p>  Anschluss: </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/uX3m0wpGJ_c" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Sound aufgenommen √ºber eine Soundkarte: </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/5Y09eJponyc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed/ms40UXUkVAI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed/nk-59EaP9JM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><br><h3 id="itogi-i-plany">  Ergebnisse und Pl√§ne </h3><br><p>  Ich war mit dem Ergebnis zufrieden.  Das Ger√§t l√§sst sich problemlos anschlie√üen.  Nat√ºrlich werden meine DosBox-Modifikationen niemals in die offizielle Version und in popul√§re Zweige gelangen, wie  Dies ist eine sehr spezifische L√∂sung. </p><br><p>  Als n√§chstes kommt die OPL3.  Es gibt immer noch eine Idee, einen Tracker auf OPL-Chips aufzubauen </p><br><h3 id="pohozhie-proekty">  √Ñhnliche Projekte </h3><br><p>  <a href="https://github.com/AidanHockey5/YM3812_VGM_Player">VGM-Player</a> </p><br><p>  <a href="http://www.malinov.com/Home/sergeys-projects/isa-opl2-card">Soundkarte OPL2 auf ISA Bus</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de478666/">https://habr.com/ru/post/de478666/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de478650/index.html">Dawn 3D</a></li>
<li><a href="../de478652/index.html">DNS-Paketstruktur</a></li>
<li><a href="../de478654/index.html">Gesch√§tzte Verteilungsz√§hlung - am h√§ufigsten neu erfundene Sortierung</a></li>
<li><a href="../de478658/index.html">Wie man Art aufwacht? Neuer Dawn Plus Light Alarm</a></li>
<li><a href="../de478660/index.html">Ingenieure optimieren Partikelfalle am CERN</a></li>
<li><a href="../de478670/index.html">Wie Angreifer Ihre Korrespondenz im Telegramm lesen k√∂nnen. Und wie k√∂nnen sie das verhindern?</a></li>
<li><a href="../de478672/index.html">AI Testing und Startup: Interview mit Adam Carmi (Applitools)</a></li>
<li><a href="../de478680/index.html">Warum und vor allem, wohin gehen die Leute von der IT?</a></li>
<li><a href="../de478684/index.html">Einf√ºhrung in die SSD. Teil 2. Schnittstelle</a></li>
<li><a href="../de478688/index.html">Wie es war, 2019 Data Science zu studieren</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>