<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤰 👏🏿 💋 Sécurité PHP: où et comment stocker les mots de passe. Partie 1 🌩️ 🚡 🅱️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Chaque année, de plus en plus d'attaques de pirates ont lieu dans le monde: des vols de cartes de crédit aux sites de piratage de boutiques en ligne. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sécurité PHP: où et comment stocker les mots de passe. Partie 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/474754/">  <i>Chaque année, de plus en plus d'attaques de pirates ont lieu dans le monde: des vols de cartes de crédit aux sites de piratage de boutiques en ligne.</i>  <i>Êtes-vous sûr que vos scripts sont vraiment protégés?</i>  <i>En prévision du début du cours <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">«Développeur PHP Backend»,</a> notre collègue a préparé une publication intéressante sur la sécurité en PHP ...</i> <br><br><img src="https://habrastorage.org/webt/ej/zp/uq/ejzpuq65zlwmf5lvr9x1v8h6sak.png"><br><hr><a name="habracut"></a><br><h3>  Présentation </h3><br>  Le scandale Facebook et Cambridge Analytica, la fuite de correspondance du Parti démocrate américain en 2016, la violation de données de Google en 2018 et le piratage de Yahoo Voice en 2012 ne sont que quelques exemples de fuites majeures enregistrées au cours des dernières années. <br><br>  Les informations à l'échelle mondiale sont désormais à notre disposition comme jamais auparavant.  Si vous ne prenez pas les précautions nécessaires, les informations nous concernant (y compris les informations de nature confidentielle) peuvent également être du domaine public. <br><br>  Peu importe le type de projet que vous développez: un jeu pour enfants open-source ou la commande d'une grande entreprise.  Votre responsabilité en tant que développeur Web est d'assurer la sécurité de toutes vos plateformes.  La sécurité est un aspect très difficile. <br><br>  Le langage PHP fournit plusieurs outils et fonctions que vous pouvez utiliser pour garantir la sécurité des applications. <br><br><h2>  3 règles de sécurité par mot de passe </h2><br><img src="https://habrastorage.org/webt/xa/5c/jg/xa5cjgfsiv78usmjiivd9h5cyim.png"><br><br><h4>  Les mots de passe des utilisateurs doivent vous rester inconnus. </h4><br>  Je me souviens encore de mes premiers pas en tant que développeur PHP.  La première application que j'ai créée était un jeu où, avec mes amis, j'ai joué le rôle d'un constructeur de gratte-ciel.  Chacun de nous pourrait se connecter à notre compte, acheter des constructeurs et envoyer notre équipe sur un nouveau chantier chaque semaine.  J'ai créé des comptes de base: j'ai ajouté un nom d'utilisateur et un mot de passe pour chaque utilisateur et je leur ai envoyé par e-mail.  Et seulement après quelques mois, j'ai réalisé à quel point c'était stupide. <br><br>  <i>La règle générale est la suivante: non seulement vous ne devez pas connaître les mots de passe de vos utilisateurs, mais vous ne devez pas non plus les reconnaître.</i>  <i>Il s'agit d'un aspect très grave qui peut même entraîner une responsabilité légale.</i> <br><br>  Par essais et erreurs, vous arrivez toujours à la conclusion que les mots de passe n'ont pas besoin d'être stockés en texte brut ou de manière à pouvoir être facilement décryptés. <br><br><h4>  N'entrez pas de restrictions de mot de passe </h4><br>  Jouons un jeu.  Essayez de deviner le mot de passe: <br><br>  <i>**********</i> <br><br>  Difficile, non?  Essayons ceci: <br><br>  <i>P * r *** e ***</i> <br><br>  Vous savez maintenant qu'il y a une majuscule et quelques majuscules.  Et si oui: <br><br>  <i>P * r *** e911</i> <br><br>  Maintenant, il vous sera beaucoup plus facile de deviner le mot de passe - car vous savez qu'il comprend une lettre majuscule, des lettres majuscules et un chiffre. <br><br>  La même chose se produit lorsque vous imposez des restrictions aux utilisateurs et aux masques pour leurs mots de passe.  Si votre application doit suivre un modèle spécifique, vous donnez aux intrus des conseils qu'ils peuvent utiliser contre vous. <br><br>  Exiger une certaine longueur minimale de mot de passe est normal, car la longueur du mot de passe affecte le temps qu'il faut pour le récupérer.  Cependant, il sera beaucoup plus utile de découvrir le fonctionnement des algorithmes et du hachage. <br><br>  Soit dit en passant, la bonne réponse à l'énigme ci-dessus est <b>«Porsche911»</b> :) <br><br><h4>  N'envoyez jamais de mots de passe par e-mail dans leur forme la plus pure </h4><br>  L'une de mes premières erreurs en tant que développeur Web est que je n'ai pas appris à gérer les mots de passe à l'avance. <br><br>  Imaginez que vous êtes un client et que vous embauchez un développeur pour créer un joli site de commerce électronique pour votre entreprise.  Ce développeur vous a envoyé un e-mail contenant le mot de passe de votre site.  Maintenant, vous savez trois choses sur votre employé: <br><br><ol><li>  Il connaît votre mot de passe. </li><li>  Il stocke votre mot de passe dans sa forme la plus pure, sans utiliser de cryptage. </li><li>  Il ne ressent pas la moindre inquiétude lors de l'envoi de mots de passe sur Internet. </li></ol><br>  En réponse, il n'y a pas d'autre choix que de licencier un tel employé. <br><br>  <i>Voici ce qu'un développeur Web devrait faire:</i> <br><br><ol><li>  Créez une page dans votre application web où l'utilisateur peut saisir son e-mail au cas où il aurait oublié le mot de passe et ainsi demander un nouveau mot de passe. </li><li>  Votre application générera des droits d'accès uniques et la liera à l'utilisateur qui a fait la demande (j'utilise personnellement un identifiant individuel universel). </li><li>  L'application enverra à l'utilisateur un e-mail avec un lien menant au droit d'accès. </li></ol><br>  Dès que l'utilisateur suit le lien, l'application confirme le bon accès et permet à l'utilisateur de changer le mot de passe. <br><br>  Voyez comment la sécurité de l'application a augmenté avec ces étapes simples?  Si vous le souhaitez, nous pouvons encore augmenter le niveau de sécurité en ajoutant un délai entre la demande et la définition d'un nouveau mot de passe. <br><br><h2>  Comment hacher les mots de passe des utilisateurs </h2><br><img src="https://habrastorage.org/webt/nu/v1/by/nuv1bycogzso930__eofqolixas.png"><br><br>  Les mots de passe d'une application Web doivent être hachés et non chiffrés.  Le cryptage est un algorithme bidirectionnel.  La séquence est chiffrée, que vous pouvez ensuite déchiffrer et réutiliser.  Cette technique est souvent utilisée en renseignement pour obtenir des informations auprès d'alliés. <br><br>  Le hachage suggère que la séquence ne peut pas être renvoyée en texte brut.  C'est le but ultime de tout le processus. <br><br>  Pour atteindre différents objectifs, de nombreux algorithmes ont été développés: certains sont caractérisés par une grande vitesse, d'autres sont très fiables.  Cette technologie est en constante évolution et, au cours des dernières années, a subi de nombreux changements.  Maintenant, nous allons en considérer les trois variétés les plus populaires dans l'ordre chronologique. <br><br><h4>  SHA-1 </h4><br>  C'était historiquement la première fonction de hachage.  L'acronyme SHA-1 signifie «Safe Hashing Algorithm», développé par la US National Security Agency. <br><br>  SHA-1 était bien connu et largement utilisé en PHP pour créer une chaîne hexadécimale de 20 octets avec une longueur de 40 caractères. <br><br>  L'industrie SSL utilise SHA-1 pour les signatures numériques depuis plusieurs années.  Ensuite, après avoir identifié certaines faiblesses, Google a décidé qu'il était temps de passer à SHA-2. <br>  La première version de l'algorithme a été déconseillée en 2005.  Par la suite, de nouvelles versions ont été développées et adoptées pour utilisation: SHA-2, SHA-2 et SHA-256. <br><br><h4>  Bcrypt </h4><br>  Bcrypt, qui n'est pas le résultat du développement naturel de SHA, a réussi à attirer un large public en raison de son niveau de sécurité. <br><br>  Cet algorithme extrêmement lent a été créé pour créer les séquences de hachage les plus sécurisées.  Dans le processus de hachage des données, il passe par plusieurs cycles qui, en informatique, sont décrits par l'indicateur des coûts salariaux.  Plus le taux de travail est élevé, plus il sera coûteux pour un pirate d'obtenir un mot de passe. <br><br>  Il y a une bonne nouvelle: à l'avenir, nous pourrons utiliser des machines plus puissantes capables de passer plus rapidement plus de cycles. <br><br><h4>  Argon2 </h4><br>  Il s'agit d'un nouvel algorithme de hachage à la mode développé par Alex Biryukov, Daniel Dinu et Dmitry Hovratovich de l'Université du Luxembourg.  En 2015, il a remporté le concours de hachage de mot de passe. <br><br>  <i>Argon2 est présenté en 3 versions:</i> <br><br><ol><li>  Argon2d accède à un tableau de mémoire, ce qui réduit la mémoire et la surcharge de temps.  Cependant, il présente un risque d'attaque via des canaux tiers. </li><li>  Argon2i est l'opposé d'Argon 2d.  Il est optimisé pour les attaques sur les canaux tiers et accède à la mémoire de manière indépendante du mot de passe. </li><li>  Argon2id est une version intermédiaire entre deux versions précédentes. </li></ol><br>  Cette fonction a 6 paramètres: <b><i>séquence de mots de passe, sel, coût de la mémoire, coût du temps, facteur de parallélisme (nombre maximum autorisé de threads parallèles), longueur de hachage.</i></b> <br><br>  Dans la deuxième partie de l'article, je vais vous dire comment utiliser ce hachage en PHP en utilisant les fonctions intégrées, et maintenant je veux inviter tout le monde au serveur de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">web gratuit en ligne</a> "ServerLess PHP", dans lequel nous allons nous familiariser avec le concept Serverless, parler de son implémentation dans AWS, de l'applicabilité, prix.  Nous analyserons les principes d'assemblage et de lancement, ainsi que la construction d'un TG-bot simple basé sur AWS Lambda. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr474754/">https://habr.com/ru/post/fr474754/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr474738/index.html">Modélisation géométrique des surfaces de congé</a></li>
<li><a href="../fr474740/index.html">Le meilleur du musée d'histoire de l'ordinateur à Mountain View</a></li>
<li><a href="../fr474744/index.html">Uber entre sur le marché des services financiers et lance la division Uber Money</a></li>
<li><a href="../fr474746/index.html">Stockage d'objets dans l'arrière-boutique ou Comment devenir votre propre fournisseur de services</a></li>
<li><a href="../fr474748/index.html">Systèmes Service Desk et leur intégration. Comment automatiser le processus de collaboration avec les entrepreneurs et les fabricants?</a></li>
<li><a href="../fr474756/index.html">VMworld Europe 2019: annonces clés et déballage du légendaire sac à dos</a></li>
<li><a href="../fr474760/index.html">Nous fixons ngx-translate dans une application angulaire. Procédure pratique</a></li>
<li><a href="../fr474762/index.html">Séminaire: Solutions informatiques hybrides pour les entreprises. 14 novembre, Moscou</a></li>
<li><a href="../fr474768/index.html">Diffusion ouverte du Main Hall HighLoad ++ 2019</a></li>
<li><a href="../fr474770/index.html">Comment nous effectuons les tests de régression de la paie dans SAP HCM</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>