<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü¶à üßúüèø üßóüèΩ Teste voc√™ mesmo: voc√™ pode proteger a empresa contra ataques cibern√©ticos? ‚ÄºÔ∏è ‚òùüèª üë©üèæ‚Äçüè´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recentemente, Samara organizou o concurso internacional aberto VolgaCTF para seguran√ßa da informa√ß√£o. Vladimir Dryukov, diretor do Centro de Resposta ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Teste voc√™ mesmo: voc√™ pode proteger a empresa contra ataques cibern√©ticos?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/solarsecurity/blog/425861/">  Recentemente, Samara organizou o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">concurso</a> internacional aberto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">VolgaCTF</a> para seguran√ßa da informa√ß√£o.  Vladimir Dryukov, diretor do Centro de Resposta e Monitoramento de Ataques Cibern√©ticos Solar JSOC, contou aos participantes cerca de tr√™s ataques reais e perguntou como eles poderiam ser identificados.  Verifique se voc√™ pode responder corretamente. <br><a name="habracut"></a><br>  Abaixo est√° uma transcri√ß√£o do discurso de Vladimir, mas para aqueles que querem ver a vers√£o sem censura e sem cortes (incluindo as respostas da plat√©ia) - eis o v√≠deo: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/GD4XtcGc5zA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Ent√£o, a palavra para Vladimir: <br><br><img src="https://habrastorage.org/webt/cg/96/xz/cg96xz4oz_vipsa2ddddygmwgxu.jpeg"><br><br>  Eu quero contar v√°rias hist√≥rias de nossas vidas.  Vou contar a maioria deles desde o final - ou seja, come√ßando com o que foi o incidente.  E voc√™ tenta descobrir como esse ataque pode ser visto no in√≠cio, para que voc√™, como defensor da empresa, fa√ßa com que as a√ß√µes dos atacantes cheguem ao seu radar. <br><br>  Espero que isso ajude voc√™ no futuro, quando voc√™ se tornar um penteado profissional e trabalhar na Positive Technologies, Digital Security ou conosco.  Voc√™ saber√° como o centro de monitoramento v√™ esses ataques, como reage a eles e - quem sabe - talvez isso ajude voc√™ a ignorar a defesa, alcan√ßar seu objetivo e mostrar ao cliente que ele n√£o √© t√£o invulner√°vel quanto ele pensava.  Bem, vamos l√°? <br><br><h3>  Tarefa n√∫mero 1.  Este servi√ßo √© perigoso e dif√≠cil e, √† primeira vista, n√£o parece ser vis√≠vel ... </h3><br>  A hist√≥ria come√ßou com o fato de que o chefe do servi√ßo de seguran√ßa da informa√ß√£o de uma empresa veio at√© n√≥s e disse: <br><br>  "Gente, estou fazendo algumas bobagens estranhas.  Existem quatro carros que come√ßam a reiniciar espontaneamente, caem em uma tela azul - em geral, h√° algum tipo de absurdo.  Vamos resolver isso. <br><br>  Quando os caras do grupo forense chegaram ao local, verificou-se que os logs de seguran√ßa de todas as m√°quinas estavam limpos - havia tantas atividades que a revista de seguran√ßa foi rapidamente girada (reescrita).  Tamb√©m n√£o foi encontrado nada interessante na tabela de arquivos mestre - a fragmenta√ß√£o √© forte, os dados s√£o substitu√≠dos rapidamente.  No entanto, conseguimos encontrar algo no log do sistema: aproximadamente uma vez por dia nessas quatro m√°quinas, o servi√ßo it_helpdesk aparece, faz algo desconhecido (n√£o h√° logs de seguran√ßa, como lembramos) e desaparece. <br><br>  Nosso cap√≠tulo forense abordou essa express√£o facial: <br><br><img src="https://habrastorage.org/webt/xj/sn/kn/xjsnkn-0rd57c2t65aajfzvyluy.jpeg"><br><br>  Eles come√ßaram a entender melhor e o servi√ßo it_helpdesk foi renomeado para PSExec. <br><blockquote> Utilit√°rios, como o Telnet, e programas de gerenciamento remoto, como o PC Anywhere da Symantec, permitem executar programas em sistemas remotos, mas n√£o s√£o t√£o f√°ceis de instalar, porque voc√™ tamb√©m precisa instalar o software cliente nos sistemas remotos que voc√™ precisa receber. acesso. <br><br>  PsExec √© uma vers√£o leve do Telnet.  Ele permite executar processos em sistemas remotos, usando todos os recursos da interface interativa dos aplicativos de console, e n√£o √© necess√°rio instalar manualmente o software cliente.  A principal vantagem do PsExec √© a capacidade de chamar a interface da linha de comandos interativamente em sistemas remotos e executar remotamente ferramentas como IpConfig.  Essa √© a √∫nica maneira de exibir informa√ß√µes sobre o sistema remoto na tela do computador local. <br><br>  technet.microsoft.com </blockquote><br>  Ap√≥s verificar os logs do sistema em outras m√°quinas, vimos que n√£o estavam envolvidas 4 esta√ß√µes de trabalho, mas 20, mais 19 servidores, incluindo um servidor cr√≠tico.  Conversamos com especialistas em TI e descobrimos que eles n√£o t√™m rela√ß√£o com isso, eles n√£o t√™m esse subsistema.  Eles come√ßaram a cavar mais, e ent√£o uma coisa bastante curiosa e rara foi descoberta - o tunelamento de DNS, que usava o m√≥dulo de malware, respons√°vel pela comunica√ß√£o com o centro de controle de botnets. <br><blockquote>  T√∫nel de DNS - uma t√©cnica que permite transferir tr√°fego arbitr√°rio (de fato, aumentar o t√∫nel) sobre o protocolo DNS.  Pode ser usado, por exemplo, para obter acesso total √† Internet a partir do ponto em que a resolu√ß√£o de nomes DNS √© permitida. <br><br>  O encapsulamento de DNS n√£o pode ser negado por regras simples de firewall, enquanto permite o restante do tr√°fego DNS.  Isso ocorre porque o tr√°fego de t√∫nel DNS e as consultas DNS leg√≠timas s√£o indistingu√≠veis.  O encapsulamento de DNS pode ser detectado pela intensidade da consulta (se o tr√°fego no t√∫nel for grande), bem como por m√©todos mais sofisticados usando sistemas de detec√ß√£o de intrus√£o. <br><br>  xgu.ru <br></blockquote><br>  O c√≥digo malicioso entrou na organiza√ß√£o por email, espalhou-se pela infraestrutura e interagiu com o servidor C&amp;C atrav√©s do t√∫nel DNS.  Portanto, as proibi√ß√µes de intera√ß√£o com a Internet que estavam no segmento de servidores n√£o funcionaram. <br><br>  Em um dos servidores cr√≠ticos, havia um keylogger que lia automaticamente as senhas e o malware tentava rastrear ainda mais, recebendo novas credenciais de usu√°rio, incluindo a retirada de carros no BSOD e a leitura das senhas dos administradores que o criaram. <br><br>  O que isso levou?  Durante o tempo em que o malware residia na infraestrutura, muitas contas foram comprometidas e, al√©m disso, uma grande quantidade de outros dados potencialmente sens√≠veis.  Durante a investiga√ß√£o, localizamos o escopo dos atacantes e os expulsamos da rede.  O cliente recebeu mais quatro meses de farinha - foram necess√°rios para reencher metade das m√°quinas e reemitir todas as senhas - de bancos de dados, contas e assim por diante.  Pessoas com experi√™ncia em TI n√£o precisam explicar que hist√≥ria dif√≠cil √© essa.  Mas, no entanto, tudo terminou bem. <br><br>  Portanto, a pergunta √©: como esse ataque pode ser detectado e um cibercriminoso preso no bra√ßo? <br><br><div class="spoiler">  <b class="spoiler_title">A resposta para a primeira tarefa</b> <div class="spoiler_text">  Primeiro, como voc√™ se lembra, a infec√ß√£o afetou um servidor cr√≠tico.  Se um servi√ßo novo, anteriormente desconhecido, for lan√ßado em um host, esse √© um incidente muito cr√≠tico.  Isso n√£o deveria acontecer.  Se voc√™ pelo menos monitorar servi√ßos executados em servidores cr√≠ticos, isso por si s√≥ ajudar√° a identificar esse ataque em um est√°gio inicial e impedir√° que ele se desenvolva. <br><br>  Em segundo lugar, n√£o negligencie as informa√ß√µes dos meios mais b√°sicos de prote√ß√£o.  O PSExec √© bem detectado por antiv√≠rus, mas n√£o √© marcado como malware, mas como Remote Admin Tool ou Hacking Tool.  Se voc√™ observar atentamente os logs do antiv√≠rus, poder√° ver a resposta em tempo √∫til e tomar as medidas apropriadas. <br></div></div><br><br><h3>  Tarefa n√∫mero 2.  Contos assustadores <br></h3><br>  Um banco grande, uma mulher trabalha no servi√ßo financeiro e tem acesso ao AWP CBD. <br><blockquote>  AWP KBR - um local de trabalho automatizado de um cliente do Banco da R√∫ssia.  √â uma solu√ß√£o de software para troca segura de informa√ß√µes com o Banco da R√∫ssia, incluindo o envio de ordens de pagamento, voos banc√°rios etc. </blockquote><br>  Esse diretor financeiro trouxe uma unidade flash com um arquivo chamado Skazki_dlya_bolshih_i_malenkih.pdf.exe para funcionar.  Ela tinha uma filha pequena, e a mulher queria imprimir no trabalho um livro infantil, que baixou da Internet.  A extens√£o do arquivo .pdf.exe n√£o lhe parecia suspeita e, quando ela lan√ßou o arquivo, o pdf usual foi aberto. <br><br><img src="https://habrastorage.org/webt/wm/dl/-4/wmdl-4ix7ki9r5pdry7o6evkjqg.jpeg"><br><br>  A mulher abriu o livro e foi para casa.  Mas a extens√£o .exe, √© claro, n√£o foi acidental.  Atr√°s dele, havia a Remo Admin Tool, que ficava em uma esta√ß√£o de trabalho e trabalhava nos processos do sistema por mais de um ano. <br><br>  Como esse malware funciona?  Primeiro, eles fazem capturas de tela cerca de 15 vezes por minuto.  Em um arquivo separado, eles adicionam os dados recebidos do keylogger - logins e senhas, correspond√™ncia no correio, mensageiros instant√¢neos e muito mais.  Ap√≥s conectar o cliente, notamos rapidamente um host infectado e limpamos o v√≠rus da rede. <br><br>  Pergunta: como foi poss√≠vel detectar o malware "invis√≠vel" que n√£o foi detectado pelo antiv√≠rus? <br><br><div class="spoiler">  <b class="spoiler_title">A resposta para a segunda tarefa</b> <div class="spoiler_text">  Em primeiro lugar, o malware, como regra, faz algo no sistema de arquivos, altera as entradas do registro - em uma palavra, de alguma forma, √© carregado no sistema.  Isso pode ser rastreado se voc√™ monitorar o host no n√≠vel de logs que o pr√≥prio sistema operacional grava - logs de seguran√ßa, inicializa√ß√£o de processos, altera√ß√µes no registro. <br><br>  Em segundo lugar, √© importante lembrar que esse malware n√£o vive autonomamente, est√° sempre batendo em algum lugar.  Freq√ºentemente, as esta√ß√µes de trabalho em uma rede t√™m acesso √† Internet apenas por meio de um proxy; portanto, se uma m√°quina tentar bater em algum lugar diretamente, esse √© um incidente s√©rio que precisa ser tratado. <br></div></div><br><br><h3>  Tarefa n√∫mero 3.  "Warez sangrento" <br></h3><br>  O administrador do sistema precisava comparar e colar dois arquivos .xml.  Ele seguiu o caminho simples - digitou em um mecanismo de pesquisa "baixar fus√£o xml sem registro e sms".  O site oficial do desenvolvedor deste utilit√°rio ficou em terceiro lugar na edi√ß√£o e nos dois primeiros - compartilhamento de arquivos.  L√°, o administrador baixou o programa. <br><br>  Como voc√™ provavelmente j√° adivinhou, um bom m√≥dulo de escalonamento de privil√©gios de alta qualidade foi incorporado ao utilit√°rio "gratuito".  Ele demoliu o agente antiv√≠rus na m√°quina e criou um arquivo com o mesmo nome.  Portanto, o malware tamb√©m ficou pendurado na m√°quina, comunicando-se periodicamente com o centro de controle. <br><br><img src="https://habrastorage.org/webt/vr/g-/mr/vrg-mrq9nozu9x1hpgh68r6olp0.png"><br><br>  O pior foi que o administrador de TI √© o rei do castelo, ele tem acesso a todos os lugares.  De sua m√°quina, o v√≠rus pode chegar a qualquer host ou servidor.  O malware passou pela rede atrav√©s do ponto de compartilhamento de dom√≠nio, tentando chegar ao carro do principal financeiro.  Naquele momento, ela foi pega pela cauda e a hist√≥ria foi extinta. <br><br>  Pergunta: como detectar um ataque desse tipo na m√°quina de um usu√°rio privilegiado? <br><br><div class="spoiler">  <b class="spoiler_title">A resposta para o terceiro problema</b> <div class="spoiler_text">  Novamente, voc√™ pode ouvir o tr√°fego, tentando pegar o malware em flagrante - no momento da solicita√ß√£o ao servidor C&amp;C.  No entanto, se a empresa n√£o possui NGFW, IDS, um sistema de an√°lise de tr√°fego de rede ou SIEM que captura pelo menos algo valioso do tr√°fego, voc√™ pode ouvi-lo ad infinitum. <br><br>  √â mais eficiente observar os logs do sistema operacional enviando-os para algum sistema externo.  Embora o malware tenha removido o agente antiv√≠rus, n√£o foi poss√≠vel limpar o arquivo de auditoria; portanto, os logs enviados ao sistema externo definitivamente conter√£o informa√ß√µes sobre a remo√ß√£o do agente antiv√≠rus ou, pelo menos, o fato de limpar a pr√≥pria auditoria.  Depois disso, os logs na pr√≥pria m√°quina ficar√£o vazios e nenhum rastreamento poder√° ser encontrado. <br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt425861/">https://habr.com/ru/post/pt425861/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt425849/index.html">Amazon desistiu e aumentou os sal√°rios dos funcion√°rios</a></li>
<li><a href="../pt425851/index.html">Infer.NET: Poderoso sistema de aprendizado de m√°quina agora √© de c√≥digo aberto</a></li>
<li><a href="../pt425853/index.html">Todas as IA de conversa√ß√£o na primeira confer√™ncia de conversas</a></li>
<li><a href="../pt425855/index.html">Twitch me fez melhorar e me ajudou a sobreviver aos tr√™s meses mais sombrios da minha vida.</a></li>
<li><a href="../pt425859/index.html">Operadores regionais se op√µem ao cancelamento de roaming</a></li>
<li><a href="../pt425867/index.html">Teste de desempenho de servi√ßo da Web como parte da Integra√ß√£o Cont√≠nua. Experi√™ncia Yandex</a></li>
<li><a href="../pt425869/index.html">iFixit: Apple ainda n√£o ativou o bloqueio de MacBooks recondicionados</a></li>
<li><a href="../pt425871/index.html">Ecaterimburgo, 11 de outubro - Atlassian encontra estivador</a></li>
<li><a href="../pt425873/index.html">[CppCon 2018] Herb Sutter: em dire√ß√£o a um C ++ mais simples e mais poderoso</a></li>
<li><a href="../pt425875/index.html">Atualiza√ß√£o da matriz do notebook TN-> IPS ou como obter um laptop mais avan√ßado a partir de um laptop econ√¥mico</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>