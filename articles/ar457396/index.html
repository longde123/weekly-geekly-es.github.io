<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ค ๐ต๐ฝ โฐ๏ธ ุฅูุบุงุก ุชุฃููู ุญุงููุฉ LUKS ุงูุฌุฐุฑูุฉ ุชููุงุฆููุง ุจุนุฏ ุงูุชูููุฏ ุงูุณุฑูุน ๐ณ ๐ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููุงุฐุง ูููู ุงููุงุณ ุนููููุง ุจุชุดููุฑ ูุญุฑูุงุช ุฃูุฑุงุต ุฃุฌูุฒุฉ ุงูููุจููุชุฑ ุงูุดุฎุตูุฉ ุ ูุฃุญูุงููุง ุงูุฎูุงุฏูุ ูู ุงููุงุถุญ ุฃู ูุง ุฃุญุฏ ุณุฑู ุตูุฑ ุงููุทุท ุงูุฃูููุฉ ุงูููุถูุฉ ูุฏููู ูู ุงูู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุฅูุบุงุก ุชุฃููู ุญุงููุฉ LUKS ุงูุฌุฐุฑูุฉ ุชููุงุฆููุง ุจุนุฏ ุงูุชูููุฏ ุงูุณุฑูุน</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457396/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ููุงุฐุง ูููู ุงููุงุณ ุนููููุง ุจุชุดููุฑ ูุญุฑูุงุช ุฃูุฑุงุต ุฃุฌูุฒุฉ ุงูููุจููุชุฑ ุงูุดุฎุตูุฉ ุ ูุฃุญูุงููุง ุงูุฎูุงุฏูุ  ูู ุงููุงุถุญ ุฃู ูุง ุฃุญุฏ ุณุฑู ุตูุฑ ุงููุทุท ุงูุฃูููุฉ ุงูููุถูุฉ ูุฏููู ูู ุงููุฑุต!  ูุฐุง ูุฌุฑุฏ ุณูุก ุญุธ: ูุญุฑู ุงูุฃูุฑุงุต ุงููุดูุฑ ูุชุทูุจ ููู ุฅุฏุฎุงู ุนุจุงุฑุฉ ุฑุฆูุณูุฉ ูู ููุญุฉ ุงูููุงุชูุญ ูู ูู ุชูููุฏ ุ ููู ุทูููุฉ ููููุฉ.  ูุฅุฒุงูุชู ุญุชู ูู ุจุนุถ ุงูุฃุญูุงู ุนูู ุงูุฃูู ูู ูููู ูู ุงูุถุฑูุฑู ุชุฌููุฏู.  ูุนู ุ ุญุชู ูุง ูุถูุน ูุนูู ุงูุชุดููุฑ. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงููุท ููุงูุชูุงู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/sr/rt/ny/srrtnywyggbrscsufm8ux8tvxmu.jpeg" alt="ูุงูู ูุงุฑูู"></p></div></div><br><p style=";text-align:right;direction:rtl">  ุญุณูุง ุ ุฅุฒุงูุชู ุชูุงูุง ูู ุชุนูู.  ููููู ุจุฏูุงู ูู ุฐูู ุฅูุดุงุก ููู ููุชุงุญ ุนูู ูุญุฑู ุฃูุฑุงุต ููุงุด USB ุ ูุณูุนูู ุฃูุถูุง.  ูุจุฏูู ูุญุฑู ุฃูุฑุงุต ููุงุด (ูุจุฏูู ููุจููุชุฑ ุขุฎุฑ ุนูู ุงูุดุจูุฉ) ูู ูู ุงูููููุ  ุฅุฐุง ููุช ูุญุธูุธูุง ูุน BIOS ุ ูููููู ุชูุฑูุจูุง!  ุชุญุช ุงููุต ุณูููู ุฏููู ุญูู ููููุฉ ุชูููู ุชุดููุฑ ุงููุฑุต ูู ุฎูุงู LUKS ูุน ุงูุฎุตุงุฆุต ุงูุชุงููุฉ: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> ูุง ูุชู ุชุฎุฒูู ุนุจุงุฑุฉ ุงููุฑูุฑ ุฃู ููู ุงูููุชุงุญ ูู ุฃู ููุงู ูู ุดูู ููุชูุญ (ุฃู ูู ุงููููุฐุฌ ุงูููุงูุฆ ููุชุญ) ุนูุฏ ุฅููุงู ุชุดุบูู ุงูููุจููุชุฑ. </li><li style=";text-align:right;direction:rtl">  ุนูุฏ ุชุดุบูู ุงูููุจููุชุฑ ูุฃูู ูุฑุฉ ุ ูุฌุจ ุฅุฏุฎุงู ุนุจุงุฑุฉ ูุฑูุฑ. </li><li style=";text-align:right;direction:rtl">  ูู ุนูููุงุช ุฅุนุงุฏุฉ ุงูุชูููุฏ ุงููุงุญูุฉ (ูุจู ุฅููุงู ุงูุชุดุบูู) ุ ูุง ููุฒู ุงุณุชุฎุฏุงู ุนุจุงุฑุฉ ูุฑูุฑ. </li></ol><br><p style=";text-align:right;direction:rtl">  ุชู ุงุฎุชุจุงุฑ ุงูุชุนูููุงุช ุนูู CentOS 7.6 ู Ubuntu 19.04 ู openSUSE Leap 15.1 ูู ุงูุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ ูุงูุฃุฌูุฒุฉ ุงูุญููููุฉ (ุณุทุญ ุงูููุชุจ ูุงูููุจููุชุฑ ุงููุญููู ูุฎุงุฏูุงู).  ูุฌุจ ุฃู ุชุนูู ุนูู ุงูุชูุฒูุนุงุช ุงูุฃุฎุฑู ุงูุชู ูุฏููุง ุฅุตุฏุงุฑ ุนูู ูู Dracut. </p><br><p style=";text-align:right;direction:rtl">  ููุนู ุ ุจุทุฑููุฉ ุฌูุฏุฉ ุ ูุงู ูุฌุจ ุฃู ููุชูู ูุฐุง ูู ูุญูุฑ "ุฅุฏุงุฑุฉ ุงููุธุงู ุบูุฑ ุงูุทุจูุนู" ุ ูููู ูุง ููุฌุฏ ูุซู ูุฐุง ุงููุญูุฑ. </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  ุฃูุชุฑุญ ุงุณุชุฎุฏุงู ูุชุญุฉ ูููุตูุฉ ูู ุญุงููุฉ LUKS ูุชุฎุฒูู ุงูููุชุงุญ ุฅูููุง ... ูู RAM! </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฃู ููุน ูู ุงููุชุญุฉุ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"> ุญุงููุฉ LUKS ุชููุฐ ุงูุชุดููุฑ ูุชุนุฏุฏ ุงููุณุชููุงุช.  ูุชู ุชุดููุฑ ุงูุจูุงูุงุช ุงููููุฏุฉ ุงูููุฌูุฏุฉ ุนูู ุงููุฑุต ุจุงุณุชุฎุฏุงู ุชุดููุฑ ูุชูุงุซู ุ ุนุงุฏุฉู <code>aes-xts-plain64</code> .  ูุชู ุฅูุดุงุก ููุชุงุญ ูุฐุง ุงูุชุดููุฑ ุงููุชูุงุซู (ุงูููุชุงุญ ุงูุฑุฆูุณู) ูู ูุฑุญูุฉ ุฅูุดุงุก ุงูุญุงููุฉ ูุชุณูุณู ุนุดูุงุฆู ููุจุงูุช.  ูุชู ุชุฎุฒูู ุงูููุชุงุญ ุงูุฑุฆูุณู ูู ุดูู ูุดูุฑ ุ ูู ุงูุญุงูุฉ ุงูุนุงูุฉ - ูู ุนุฏุฉ ูุณุฎ (ูุชุญุงุช).  ุจุดูู ุงูุชุฑุงุถู ุ ูุงุญุฏุฉ ููุท ูู ูุชุญุงุช ุงูุซูุงููุฉ ูุดุทุฉ.  ุชุญุชูู ูู ูุชุญุฉ ูุดุทุฉ ุนูู ุนุจุงุฑุฉ ููุชุงุญ ูููุตูุฉ (ุฃู ููู ููุชุงุญ ูููุตู) ุ ุญูุซ ููููู ูู ุชุดููุฑ ุงูููุชุงุญ ุงูุฑุฆูุณู.  ูู ูุฌูุฉ ูุธุฑ ุงููุณุชุฎุฏู ุ ุงุชุถุญ ุฃูู ููููู ูุชุญ ูุญุฑู ุงูุฃูุฑุงุต ุจุงุณุชุฎุฏุงู ุฃู ูู ุนุฏุฉ ุนุจุงุฑุงุช ุฑุฆูุณูุฉ ูุฎุชููุฉ (ุฃู ูููุงุช ุงูููุงุชูุญ).  ูู ุญุงูุชูุง ุ ุงุณุชุฎุฏุงู ุนุจุงุฑุฉ ุฑุฆูุณูุฉ (ุงููุชุญุฉ 0) ุฃู ุงุณุชุฎุฏุงู ูุทุนุฉ ูู ุงูุฐุงูุฑุฉ ุชุณุชุฎุฏู ูููู ููุชุงุญ (ุงููุชุญุฉ 6). </p></div></div><br><p style=";text-align:right;direction:rtl">  ูุง ูููู BIOS ูู ูุนุธู ุงูููุญุงุช ุงูุฃู ุจุชูุธูู ุงูุฐุงูุฑุฉ ุนูุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู ุ ุฃู ููููู ุชููููู ุจุญูุซ ูุง ูุชู ุชูุธููู (ุงุณุชุซูุงุก ูุนุฑูู: "Intel Corporation S1200SP / S1200SP ุ BIOS S1200SP.86B.03.01.0042.013020190050 01/30/2019").  ูุฐูู ุ ููููู ุชุฎุฒูู ุงูููุชุงุญ ููุงู.  ุนูุฏ ุฅููุงู ุชุดุบูู ุงูุทุงูุฉ ุ ูุชู ูุณุญ ูุญุชููุงุช ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ููุณูุง ุจุนุฏ ูุชุฑุฉ ูู ุงูููุช ุ ุจุงูุฅุถุงูุฉ ุฅูู ูุณุฎุฉ ุบูุฑ ูุญููุฉ ูู ุงูููุชุงุญ. </p><br><p style=";text-align:right;direction:rtl">  ูุฐูู ุฏุนููุง ูุฐูุจ. </p><br><h3 id="shag-pervyy-ustanovit-sistemu-na-zashifrovannyy-s-pomoschyu-luks-disk" style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ ุงูุฃููู: ุชุซุจูุช ุงููุธุงู ุนูู ูุฑุต ูุดูุฑ ุจุงุณุชุฎุฏุงู LUKS </h3><br><p style=";text-align:right;direction:rtl">  ูู ูุฐู ุงูุญุงูุฉ ุ ูุฌุจ ุฃู ูุธู ูุณู ุงููุฑุต (ุนูู ุณุจูู ุงููุซุงู ุ <code>/dev/sda1</code> ) ุงููุซุจุช ูู <code>/boot</code> ุบูุฑ ูุดูุฑ ุ <code>/dev/sda2</code> ูุฌุจ ุชุดููุฑ ูู ุดูุก ุขุฎุฑ ุนููู (ุนูู ุณุจูู ุงููุซุงู ุ <code>/dev/sda2</code> ).  ูููู ุฃู ูููู ูุธุงู ุงููููุงุช ุงูููุฌูุฏ ุนูู ุงููุณู ุงููุดูุฑ ุฃููุง ุ ูููููู ุฃูุถูุง ุงุณุชุฎุฏุงู LVM ุจุญูุซ ูููู ูุธุงู ุงููููุงุช ุงูุฌุฐุฑ ููุญุฏุฉ ุงูุชุฎุฒูู ููุชุจุงุฏู ููู ุดูุก ุขุฎุฑ ุจุงุณุชุซูุงุก <code>/boot</code> ูู ุงูุญุงููุฉ ููุณูุง.  ูุฐุง ูุชูุงูู ูุน ุชูุณูู ุงููุฑุต ุงูุงูุชุฑุงุถู ูู CentOS 7 ู Debian ุนูุฏ ุงุฎุชูุงุฑ ุฎูุงุฑ ุงูุชุดููุฑ.  SUSE ููุนู ูู ุดูุก ุจุดูู ูุฎุชูู (ุชุดููุฑ <code>/boot</code> ) ูุจุงูุชุงูู ูุชุทูุจ ุงูุชูุณูู ุงููุฏูู ูููุฑุต. </p><br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ุชููู ุงููุชูุฌุฉ ููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ lsblk NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT sda 8:0 0 10G 0 disk โโsda1 8:1 0 1G 0 part /boot โโsda2 8:2 0 9G 0 part โโluks-d07a97d7-3258-408c-a17c-e2fb56701c69 253:0 0 9G 0 crypt โโcentos_centos--encrypt2-root 253:1 0 8G 0 lvm / โโcentos_centos--encrypt2-swap 253:2 0 1G 0 lvm [SWAP]</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุญุงูุฉ ุงุณุชุฎุฏุงู UEFI ุ ุณูููู ููุงู ุฃูุถูุง ูุณู ูุธุงู EFI. </p><br><blockquote style=";text-align:right;direction:rtl">  ููุณุชุฎุฏูู Debian ู Ubuntu: <code>initramfs-tools</code> ุญุฒูุฉ <code>initramfs-tools</code> <code>dracut</code> . <br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># apt install --no-install-recommends dracut</code> </pre> <br><br>  <code>initramfs-tools</code> ููุทููุง ุบูุฑ ุตุญูุญ ูู ุญุงูุชูุง ุ ูุชู ุชุทุจููู ุนูู ุงูุฃูุณุงู ุงููุดูุฑุฉ ุจุงุณุชุฎุฏุงู ููู ููุชุงุญ.  ูุชู ุชุฌุงูู ูุซู ูุฐู ุงูุฃูุณุงู ุชูุงููุง ุ ุฃู ูุชู ูุณุฎ ูุญุชููุงุช ููู ุงูููุชุงุญ ุฅูู initramfs (ุฃู ููุชูุฌุฉ ูุฐูู ุ ุนูู ุงููุฑุต) ุจุดูู ูุงุถุญ ุ ููู ูุง ูุง ูุญุชุงุฌ ุฅููู. </blockquote><br><h3 id="shag-vtoroy-sozdat-klyuchevoy-fayl-kotoryy-budet-ispolzovatsya-dlya-avtomaticheskogo-razblokirovaniya-diska-posle-goryachey-perezagruzki" style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ ุงูุซุงููุฉ: ูู ุจุฅูุดุงุก ููู ููุชุงุญ ููุชู ุงุณุชุฎุฏุงูู ูุฅูุบุงุก ุชุฃููู ูุญุฑู ุงูุฃูุฑุงุต ุชููุงุฆููุง ุจุนุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู ุงูุณุฑูุน </h3><br><p style=";text-align:right;direction:rtl">  128 ุจุช ุนุดูุงุฆูุฉ ูุงููุฉ ุจุงููุณุจุฉ ููุง ุ ุฃู  16 ุจุงูุช.  ุณูุชู ุชุฎุฒูู ุงูููู ุนูู ูุฑุต ูุดูุฑ ุ ูุฐูู ูู ููุฑุฃู ุฃู ุดุฎุต ูุง ูุนุฑู ููุชุงุญ ุงูุชุดููุฑ ููุง ูููู ุญู ุงููุตูู ุงูุฌุฐุฑ ุฅูู ุงููุธุงู ุงูุฐู ุชู ุชุญูููู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># touch -m 0600 /root/key # head -c16 /dev/urandom &gt; /root/key</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุฌุฏ ูุง ูููู ูู ุงูุจุชุงุช ุงูุนุดูุงุฆูุฉ ูู ููู ุงูููุชุงุญ ุจุญูุซ ูุง ุชููู ููุงู ุญุงุฌุฉ ุฅูู ุฎูุงุฑุฒููุฉ PBKDF ุงูุจุทูุฆุฉ ุ ูุงูุชู ุชุตูุน ููุชุงุญ ุชุดููุฑ ูุตุนุจ ุงุฎุชูุงุฑู ูู ุนุจุงุฑุฉ ููุชุงุญ ุถุนููุฉ ูุญุชููุฉ.  ูุฐูู ุ ุนูุฏ ุฅุถุงูุฉ ููุชุงุญ ุ ููููู ุชูููู ุนุฏุฏ ุงูุชูุฑุงุฑุงุช: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># cryptsetup luksAddKey --key-slot=6 --iter-time=1 /dev/sda2 /root/key Enter any existing passphrase:</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุง ุชุฑูู ุ ูุชู ุชุฎุฒูู ููู ุงูููุชุงุญ ุนูู ูุฑุต ูุดูุฑ ูุจุงูุชุงูู ูุง ูุดูู ุฃู ุฎุทุฑ ุนูู ุงูุฃูุงู ูู ุญุงูุฉ ุฅููุงู ุชุดุบูู ุงูููุจููุชุฑ. </p><br><h3 id="shag-tretiy-vydelit-mesto-v-fizicheskoy-pamyati-dlya-hraneniya-klyucha" style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ ุงูุซุงูุซุฉ: ุชุฎุตูุต ูุณุงุญุฉ ูู ุงูุฐุงูุฑุฉ ุงููุนููุฉ ูุชุฎุฒูู ุงูููุชุงุญ </h3><br><p style=";text-align:right;direction:rtl">  ูุญุชูู Linux ุนูู ุซูุงุซุฉ ุจุฑุงูุฌ ุชุดุบูู ูุฎุชููุฉ ุนูู ุงูุฃูู ุชุชูุญ ูู ุงููุตูู ุฅูู ุงูุฐุงูุฑุฉ ุงููุนููุฉ ูู ุนููุงู ูุนุฑูู.  ูุฐุง ูู <code>linux/drivers/char/mem.c</code> ุ ููู ูุณุคูู ุฃูุถูุง ุนู ุงูุฌูุงุฒ <code>/dev/mem</code> ุ ุจุงูุฅุถุงูุฉ ุฅูู ูุญุฏุงุช <code>phram</code> (ุชุญุงูู ุดุฑูุญุฉ MTD ุ ููุนุทู ุงูุฌูุงุฒ <code>/dev/mtd0</code> ) ู <code>nd_e820</code> (ูุณุชุฎุฏู ุนูุฏ ุงูุนูู ูุน NVDIMM ุ ููุนุทู <code>/dev/pmem0</code> ).  ูุฏููู ุฌููุน ููุฒุงุชูุง ุบูุฑ ุงูุณุงุฑุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>/dev/mem</code> ูุงุจู ูููุชุงุจุฉ ุนูุฏ ุงุณุชุฎุฏุงู Secure Boot ุ ุฅุฐุง ูุงูุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฌููุนุฉ</a> ุงูุชูุฒูุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุณุชุฎุฏู ูุฌููุนุฉ ุชุตุญูุญ LOCKDOWN</a> ูู Matthew Garrett (ูุชููู ูุฌููุนุฉ ุงูุชุตุญูุญ ูุฐู ูุทููุจุฉ ุฅุฐุง ูุงู ุงูุชูุฒูุน ุณูุฏุนู Secure Boot ูุน ุฃุฏุงุฉ ุชุญููู bootloaded ูููุนุฉ ูู ูุจู Microsoft) ุ </li><li style=";text-align:right;direction:rtl">  <code>phram</code> ูุชุงุญ ุนูู CentOS ู Fedora - ูู ููู <code>phram</code> ุจุจุณุงุทุฉ ุจุชูููู ุงูุฎูุงุฑ ุงูููุงุจู ุนูุฏ ุฅูุดุงุก ุงูููุงุฉ ุ </li><li style=";text-align:right;direction:rtl">  ูุญุชุงุฌ <code>nd_e820</code> ุฅูู ุญุฌุฒ 128 ููุฌุงุจุงูุช ุนูู ุงูุฃูู ูู ุงูุฐุงูุฑุฉ - ููุฐุง ูุนูู NVDIMM.  ูููู ูุฐุง ูู ุงูุฎูุงุฑ ุงููุญูุฏ ุงูุฐู ูุนูู ุนูู CentOS ูุน Secure Boot. </li></ul><br><p style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุนุฏู ูุฌูุฏ ุฎูุงุฑ ูุซุงูู ุ ูุชู ุงููุธุฑ ูู ุงูุนูุงุตุฑ ุงูุซูุงุซุฉ ุฃุฏูุงู. </p><br><blockquote style=";text-align:right;direction:rtl">  ุนูุฏ ุงุณุชุฎุฏุงู ุฃู ูู ุงูุทุฑู ุ ููุฒู ุชูุฎู ุงูุญุฐุฑ ุงูุดุฏูุฏ ุญุชู ูุง ุชุคุซุฑ ุจุดูู ุบูุฑ ููุตูุฏ ุนูู ุงูุฃุฌูุฒุฉ ุฃู ูุทุงูุงุช ุงูุฐุงูุฑุฉ ุจุฎูุงู ูุง ูู ูุทููุจ.  ููุทุจู ูุฐุง ุจุดูู ุฎุงุต ุนูู ุฃุฌูุฒุฉ ุงูููุจููุชุฑ ุงูุชู ุชุญุชูู ุจุงููุนู ุนูู ุดุฑุงุฆุญ MTD ุฃู ูุญุฏุงุช NVDIMM.  ููู <code>/dev/mtd0</code> ุฃู <code>/dev/pmem0</code> ูุฏ ูุง ูููู ุงูุฌูุงุฒ ุงูุฐู ูุชูุงูู ูุน ูุณุงุญุฉ ุงูุฐุงูุฑุฉ ุงููุฎุตุตุฉ ูุชุฎุฒูู ุงูููุชุงุญ.  ูุฏ ูุชู ุงูุฎูุท ุจูู ุชุฑููู ุงูุฃุฌูุฒุฉ ุงูููุฌูุฏุฉ ุ ูุงูุชู ุชุนุชูุฏ ุนูููุง ูููุงุช ุงูุชูููู ูุงูุจุฑุงูุฌ ุงููุตูุฉ.  ููููุง ูุฐูู ุ ููุตู ุจุชุนุทูู ุฌููุน ุงูุฎุฏูุงุช ุงูุชู ุชุนุชูุฏ ุนูู ุงูุฃุฌูุฒุฉ ุงูุญุงููุฉ <code>/dev/mtd*</code> ู <code>/dev/pmem*</code> . </blockquote><p style=";text-align:right;direction:rtl">  ูุชู <code>memmap</code> ูู ุงูุฐุงูุฑุฉ ุงููุนููุฉ ููุธุงู Linux ุจุชูุฑูุฑ ุฎูุงุฑ <code>memmap</code> ุฅูู <code>memmap</code> .  ูุญู ููุชููู ุจููุนูู ูู ูุฐุง ุงูุฎูุงุฑ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>memmap=4K$0x10000000</code> ุงุญุชูุงุทู <code>memmap=4K$0x10000000</code> (ุจูุนูู ุ ุงูุนูุงูุงุช ุงููุญุฌูุฒุฉ ุจุญูุซ ูุง ูุณุชุฎุฏู kernel ููุณู) 4 ูููู ุจุงูุช ูู ุงูุฐุงูุฑุฉ ุ ุจุฏุกูุง ูู ุงูุนููุงู ุงููุนูู 0x10000000 ุ </li><li style=";text-align:right;direction:rtl">  <code>memmap=128M!0x10000000</code> ูุตูุฑ 128 ููุบุงุจุงูุช ูู ุงูุฐุงูุฑุฉ ุงููุนููุฉ ุ ุจุฏุกูุง ูู ุงูุนููุงู 0x10000000 ุ ูุซู NVDIMM (ูู ุงููุงุถุญ ุฃููุง ูุฒููุฉ ุ ูููููุง ุณุชูุนู ุจุงููุณุจุฉ ููุง). </li></ul><br><p style=";text-align:right;direction:rtl">  ุงูุฎูุงุฑ c <code>$</code> ููุงุณุจ ููุงุณุชุฎุฏุงู ูุน <code>/dev/mem</code> ู <code>phram</code> ุ ุงูุฎูุงุฑ c <code>!</code>  - ู <code>nd_e820</code> .  ุนูุฏ ุงุณุชุฎุฏุงู <code>$</code> ูุฌุจ ุฃู ูููู ุนููุงู ุงูุจุฏุงูุฉ ููุฐุงูุฑุฉ ุงููุญุฌูุฒุฉ ูุถุงุนูุงุช <code>0x1000</code> (ุฃู 4 ูููู ุจุงูุช) ุ ุนูุฏ ุงุณุชุฎุฏุงู <code>!</code>  - ูุถุงุนูุงุช <code>0x8000000</code> (ุฃู 128 ููุฌุงุจุงูุช). </p><br><p style=";text-align:right;direction:rtl">  ูุงู: ุนูุงูุฉ ุงูุฏููุงุฑ ( <code>$</code> ) ูู ูููุงุช ุชูููู GRUB ูู ุดุฎุตูุฉ ุฎุงุตุฉ ููุฌุจ ุงููุฑูุจ ูููุง.  <code>grub.cfg</code> : ูุฑุฉ ูุงุญุฏุฉ - ุนูุฏ <code>grub.cfg</code> ูู <code>/etc/default/grub</code> ุ ูุฑุฉ ุซุงููุฉ - ุนูุฏ ุชูุณูุฑ ููู ุงูุชูููู ุงููุงุชุฌ ูู ูุฑุญูุฉ ุงูุชูููุฏ.  ุฃู  ูู <code>/etc/default/grub</code> ุ ูุฌุจ ุฃู ูุธูุฑ ุงูุณุทุฑ ุงูุชุงูู ูู ุงูููุงูุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">GRUB_CMDLINE_LINUX="memmap=4K\\\$0x10000000 ...  ..."</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุฏูู ุชุฌุงูุฒ ุถุนู ุนูุงูุฉ <code>$</code> ุ ูู ูููู ุงููุธุงู ุจุจุณุงุทุฉ ุจุงูุชูููุฏ ุ ุญูุซ ูุนุชูุฏ ุฃู ูุฏูู 4 ููููุจุงูุช ููุท ูู ุงูุฐุงูุฑุฉ.  ูุง ุชูุฌุฏ ูุซู ูุฐู ุงูุตุนูุจุงุช ูู ุนูุงูุฉ ุงูุชุนุฌุจ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">GRUB_CMDLINE_LINUX="memmap=128M!0x10000000 ...  ..."</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููู ุงููุตูู ุฅูู ุจุทุงูุฉ ุงูุฐุงูุฑุฉ ุงููุนููุฉ (ูุงููุทููุจุฉ ููุนุฑูุฉ ุงูุนูุงููู ุงูุชู ูุฌุจ <code>/proc/iomem</code> <code>root</code> ูู <code>/proc/iomem</code> ุงูุฒุงุฆู <code>/proc/iomem</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># cat /proc/iomem ... 000f0000-000fffff : reserved 000f0000-000fffff : System ROM 00100000-7ffddfff : System RAM 2b000000-350fffff : Crash kernel 73a00000-7417c25e : Kernel code 7417c25f-747661ff : Kernel data 74945000-74c50fff : Kernel bss 7ffde000-7fffffff : reserved 80000000-febfffff : PCI Bus 0000:00 fd000000-fdffffff : 0000:00:02.0 ...</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชู ูุถุน ุนูุงูุฉ ุนูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ุจุงุณู "ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ูููุธุงู" ุ ููู ูุง ูููู ุจุงููุณุจุฉ ููุง ูุญุฌุฒ ุฅุญุฏู ุตูุญุงุชูุง ูุชุฎุฒูู ุงูููุชุงุญ.  ุฅู ุชุฎููู ุฃู ุฌุฒุก ูู ุฐุงูุฑุฉ BIOS ูุง ููุณ ุนูุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู ูู ูุนูู ุจุดูู ููุซูู ูุณุจููุง.  ูุง ูู ููู ููุงู ููุจููุชุฑ ุขุฎุฑ ุจููุณ ุฅุตุฏุงุฑ BIOS ุชูุงููุง ูุจููุณ ุชูููู ุงูุฐุงูุฑุฉ ุงูุฐู ุชู ุจุงููุนู ุงุณุชููุงู ูุฐุง ุงูุฏููู ุนููู.  ูุฐูู ุ ูู ุงูุญุงูุฉ ุงูุนุงูุฉ ุ ุณูููู ุนููู ุงูุชุตุฑู ุนู ุทุฑูู ุงูุชุฌุฑุจุฉ ูุงูุฎุทุฃ.  ููุงุนุฏุฉ ุนุงูุฉ ุ ุนูุฏ ุฅุนุงุฏุฉ ุชุดุบูู BIOS ุ ูุฅูู ูุบูุฑ ุงูุจูุงูุงุช ููุท ูู ุจุฏุงูุฉ ูููุงูุฉ ูู ูุทุงู ุงูุฐุงูุฑุฉ.  ุนุงุฏุฉ ูุง ูููู ูุงููุงู ุงูุชุฑุงุฌุน 128 ููุบุงุจุงูุช ( <code>0x8000000</code> ) ูู ุงูุญูุงู.  ุจุงููุณุจุฉ ุฅูู ุงูุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ KVM ุฐุงุช 1 ุฌูุฌุงุจุงูุช ูู ุงูุฐุงูุฑุฉ ุฃู ุฃูุซุฑ ุ ุชุนูู ุงูุฎูุงุฑุงุช ุงูููุชุฑุญุฉ ( <code>memmap=4K$0x10000000</code> ู <code>memmap=128M!0x10000000</code> ). </p><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุงุณุชุฎุฏุงู ูุญุฏุฉ <code>phram</code> ุ <code>phram</code> ุฅูู ูุนููุฉ ุณุทุฑ ุฃูุงูุฑ kernel ุฃุฎุฑู ุ ูุงูุชู ูู ุงููุงูุน ุ ุชุฎุจุฑ ุงููุญุฏุฉ ุงูููุทูุฉ ุฃู ุฌุฒุก ูู ุงูุฐุงูุฑุฉ ุงููุนููุฉ ูุงุณุชุฎุฏุงููุง - ุฎุงุตุชูุง ุ ูุญููุธุฉ.  ุชุณูู ุงููุนููุฉ <code>phram.phram</code> ูุชุญุชูู ุนูู ุซูุงุซุฉ ุฃุฌุฒุงุก: ุงูุงุณู (ุงูุชุนุณูู ุญุชู 63 ุญุฑููุง ุ ุณูููู ูุฑุฆููุง ูู <code>sysfs</code> ) ุ ูุนููุงู ุงูุจุฏุก ูุงูุทูู.  ูุฌุจ ุฃู ูููู ุนููุงู ุงูุจุฏุงูุฉ ูุงูุทูู ูู ููุณู ููุง ูู ุงูุญุงู ูู <code>memmap</code> ุ ููู ุงููุงุญูุงุช <code>K</code> ู <code>M</code> ุบูุฑ ูุฏุนููุฉ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">GRUB_CMDLINE_LINUX="memmap=4K\\\$0x10000000 phram.phram=savedkey,0x10000000,4096 ..."</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุงูุชุญุฑูุฑ <code>/etc/default/grub</code> ุชุญุชุงุฌ ุฅูู ุฅุนุงุฏุฉ ุฅูุดุงุก ููู ุงูุชูููู ุงูุญูููู ุงูุฐู ููุฑุฃู GRUB ุนูุฏ ุงูุชูููุฏ.  ุงูุฃูุฑ ุงูุตุญูุญ ููุฐุง ูุนุชูุฏ ุนูู ุงูุชูุฒูุน. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># grub2-mkconfig -o /boot/grub2/grub.cfg # CentOS (Legacy BIOS) # grub2-mkconfig -o /boot/efi/EFI/centos/grub.cfg # CentOS (UEFI) # update-grub # Debian, Ubuntu # update-bootloader --reinit # SUSE</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุชุญุฏูุซ ุชูููู GRUB ุ ูุฌุจ ุฅุนุงุฏุฉ ุชุดุบูู ุงูููุจููุชุฑ ุ ููููุง ุณูููู ุจุฐูู ูุงุญููุง ุนูุฏูุง ูููู ุจุชุญุฏูุซ initramfs. </p><br><h3 id="shag-chetvertyy-nastroit-luks-na-chtenie-klyucha-iz-pamyati" style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ ุงูุฑุงุจุนุฉ: ุชูููู LUKS ููุฑุงุกุฉ ุงูููุชุงุญ ูู ุงูุฐุงูุฑุฉ </h3><br><p style=";text-align:right;direction:rtl">  ูุชู ุชุฎุฒูู ุฅุนุฏุงุฏุงุช ุชุดููุฑ <code>/etc/crypttab</code> ูู ููู <code>/etc/crypttab</code> .  ูุชููู ูู ุตู ูู ุฃุฑุจุนุฉ ุญููู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุฌูุงุฒ ุงูุฐู ูุฌุจ ุงูุญุตูู ุนููู ุนูุฏ ูุชุญ ุ </li><li style=";text-align:right;direction:rtl">  ุฌูุงุฒ ูุดูุฑ </li><li style=";text-align:right;direction:rtl">  ุฃูู ูููู ุงูุญุตูู ุนูู ููู ุงูููุชุงุญ ( <code>none</code> ูุนูู ุฅุฏุฎุงู ุนุจุงุฑุฉ ุฑุฆูุณูุฉ ูู ููุญุฉ ุงูููุงุชูุญ) ุ </li><li style=";text-align:right;direction:rtl">  ุญูู ุงุฎุชูุงุฑู ููุฎูุงุฑุงุช. </li></ul><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ููู ุงูููุชุงุญ ููุฌูุฏูุง ููููู ุบูุฑ ููุงุณุจ ุ ูุณุฃู Dracut ุนู ุงูุนุจุงุฑุฉ ุงูุฑุฆูุณูุฉ.  ูุงูุชู ุ ูู ุงููุงูุน ุ ุณูู ุชููู ูุทููุจุฉ ูู ุงูุชูููุฏ ุงูุฃูู. </p><br><p style=";text-align:right;direction:rtl">  ูุซุงู ุนูู ููู <code>/etc/crypttab</code> ูู ุชูุฒูุน ุชู ุชุซุจูุชู ุญุฏูุซูุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># cat /etc/crypttab #   luks-d07....69 UUID=d07....69 none</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุณูููู ุงูููู ุงูุฑุฆูุณู ูู ุญุงูุชูุง ูุทุนุฉ ูู ุงูุฐุงูุฑุฉ ุงููุนููุฉ.  ุฃู  <code>/dev/mem</code> ุ <code>/dev/mtd0</code> ุฃู <code>/dev/pmem0</code> ุ ุงุนุชูุงุฏูุง ุนูู ุชูููุฉ ุงููุตูู ุฅูู ุงูุฐุงูุฑุฉ ุงููุญุฏุฏุฉ.  ููุงู ุญุงุฌุฉ ุฅูู ุฎูุงุฑุงุช ููุฅุดุงุฑุฉ ุฅูู ุฃู ุฌุฒุก ูู ุงูููู ูู ุงูููุชุงุญ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># cat /etc/crypttab #   #   /dev/mem: luks-d07....69 UUID=d07....69 /dev/mem keyfile-offset=0x10000000,keyfile-size=16 #   phram: luks-d07....69 UUID=d07....69 /dev/mtd0 keyfile-size=16 #   nd_e820: luks-d07....69 UUID=d07....69 /dev/pmem0 keyfile-size=16</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฐุง ููุท ูู ููุฌุญ ููุฐุง. </p><br><p style=";text-align:right;direction:rtl">  ุงูููุทุฉ ุงููููุฉ ูู ููู ูุญุฏุฏ systemd ูุชู ูููู ุฅูุบุงุก ููู ุงูุฌูุงุฒ.  ููู ูุฃุฎุฐ ุงูุฌูุงุฒ ูู ุงูุนููุฏ ุงูุซุงูุซ ูููุชุธุฑ ุฃู ุชุตุจุญ ูุญุฏุฉ ุงูุฌูุงุฒ ุงูููุงุจูุฉ ูุดุทุฉ.  ูุจุฏู ููุทูููุง: ูู ุบูุฑ ุงูููุทูู ูุญุงููุฉ ูุชุญ ููู ุญุงููุฉ LUKS ุญุชู ูุธูุฑ ุฌูุงุฒ ุจู ููู ููุชุงุญ.  ููู ูุญุฏุฉ ุงูุฌูุงุฒ ููุณุช ูู ููุณูุง ุงูุฌูุงุฒ ููุณู.  ูููู Systemd ุงูุชุฑุงุถููุง ุจุฅูุดุงุก ูุญุฏุงุช ุงูุฌูุงุฒ ููุท ูุฃุฌูุฒุฉ kernel ุงููุชุนููุฉ ุจุงููุธู ุงููุฑุนูุฉ ูุฃุฌูุฒุฉ ุงููุชูุฉ ููุงุฌูุงุช ุงูุดุจูุฉ.  ุชุนุฏ ุงูุฃุฌูุฒุฉ <code>/dev/mem</code> ู <code>/dev/mtd0</code> ุญุฑููุง ุชูู ุงูุขุฎุฑ ุ ูุจุงูุชุงูู ูุง ูุชู ูุฑุงูุจุชูุง ุงูุชุฑุงุถููุง ููู ูุชู ุงูุชุนุฑู ุนูููุง ุนูู ุฃููุง ุฌุงูุฒุฉ ุฃุจุฏูุง. </p><br><p style=";text-align:right;direction:rtl">  ุณูููู ุนููู ุฅุฎุจุงุฑ systemd ุฃูู ูุฌุจ ุนููู ุชุชุจุนูุง ุนู ุทุฑูู ุฅูุดุงุก ููุงุนุฏ udev ูู ููู <code>/etc/udev/rules.d/99-mem.rules</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># /dev/mem KERNEL=="mem", TAG+="systemd" # /dev/mtd* KERNEL=="mtd*", TAG+="systemd" #  /dev/pmem*      </code> </pre> <br><h3 id="shag-pyatyy-peregenerirovat-initramfs" style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ ุงูุฎุงูุณุฉ: ุชุฌุฏูุฏ initramfs </h3><br><blockquote style=";text-align:right;direction:rtl">  ุฃุฐูุฑูู: ูุฐุง ุงูููุงู ููุงูุด ุงูุชูุฒูุนุงุช ููุท ุจุงุณุชุฎุฏุงู Dracut.  ุจูุง ูู ุฐูู ุชูู ุงูุชู ูุง ูุชู ุงุณุชุฎุฏุงููุง ุจุดูู ุงูุชุฑุงุถู ุ ูููู ูููู ุงููุตูู ุฅูููุง ููุนุงูุฉ. </blockquote><p style=";text-align:right;direction:rtl">  ุชุญุชุงุฌ ุฅูู ุชุฌุฏูุฏ initramfs ูู ุฃุฌู ุชุญุฏูุซ ุงูููู <code>/etc/crypttab</code> ููุงู.  ูุฃูุถุง - ูุชุดูู ูุญุฏุงุช ููุงุฉ ุฅุถุงููุฉ ูููุงุนุฏ udev ููุงู.  ูุฅูุง ุ ููู ูุชู ุฅูุดุงุก ุงูุฌูุงุฒ <code>/dev/mtd0</code> ุฃู <code>/dev/pmem0</code> .  ุชุนุชุจุฑ ูุนููุฉ ุงูุชูููู <code>force_drivers</code> ูุณุคููุฉ ุนู ุชูููู ูุญุฏุงุช kernel ุงูุฅุถุงููุฉ ูุชุญููููุง ุ ูุชููู <code>install_items</code> ูุณุคููุฉ ุนู ุงููููุงุช ุงูุฅุถุงููุฉ.  ูููู ุจุฅูุดุงุก ุงูููู <code>/etc/dracut.conf.d/mem.conf</code> ุงูุชุงููุฉ (ูุณุงูุฉ ุจุนุฏ ุนูุงูุฉ ุงูุชุจุงุณ ุงููุชุญ ูุทููุจุฉ ุ ูุฐุง ูุงุตู): </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">#   /dev/mem: install_items+=" /etc/udev/rules.d/99-mem.rules" #   phram: install_items+=" /etc/udev/rules.d/99-mem.rules" force_drivers+=" phram" #   nd_e820: force_drivers+=" nd_e820 nd_pmem"</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุงููุงูุน ุชุฌุฏูุฏ initramfs: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># dracut -f</code> </pre> <br><blockquote style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ููุณุชุฎุฏูู Debian ู Ubuntu ุ ูุงู ุงููุดุฑู ุจูุถุน ุฃุดุนู ุงููุงุฑ: ูุณูู ุงูููู ุงููุงุชุฌ ุจุดูู ุบูุฑ ุตุญูุญ.  ุชุญุชุงุฌ ุฅูู ุฅุนุงุฏุฉ ุชุณููุชู ุจุญูุซ ูุชู ุชุณููุชู ุจููุณ ุงูุทุฑููุฉ ุงูููุถุญุฉ ูู ุชูููู GRUB: <br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># mv /boot/initramfs-5.0.0-19-generic.img /boot/initrd.img-5.0.0-19-generic</code> </pre> <br><br>  ุนูุฏ ุชุซุจูุช ุญุจุงุช ุฌุฏูุฏุฉ ุ ูุชู ุงูุชูููุฐ ุงูุชููุงุฆู ููุฑุงุจุทุงุช ุนุจุฑ Dracut ุจุดูู ุตุญูุญ ุ ูุคุซุฑ ุงูุฎุทุฃ ููุท ุนูู ุงูุฅุทูุงู ุงููุฏูู ูู <code>dracut -f</code> . </blockquote><br><h3 id="shag-shestoy-perezagruzit-kompyuter" style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ ุงูุณุงุฏุณุฉ: ุฃุนุฏ ุชุดุบูู ุงูููุจููุชุฑ </h3><br><p style=";text-align:right;direction:rtl">  ููุงู ุญุงุฌุฉ ุฅูู ุฅุนุงุฏุฉ ุงูุชุดุบูู ูุชุตุจุญ ุงูุชุบููุฑุงุช ูุงูุฐุฉ ุงูููุนูู ุนูู GRUB ู Dracut. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># reboot</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุฐู ุงููุฑุญูุฉ ุ ูุง ููุฌุฏ ููุชุงุญ ูู ุงูุฐุงูุฑุฉ ุ ูุฐูู ุณุชุญุชุงุฌ ุฅูู ุฅุฏุฎุงู ุนุจุงุฑุฉ ูุฑูุฑ. </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู ุ ุชุญุชุงุฌ ุฅูู ุงูุชุญูู ูู ุนูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ููุฐุงูุฑุฉ ุจุดูู ุตุญูุญ.  ูุญุฏ ุฃุฏูู ุ ูู <code>/proc/iomem</code> ุงูุฒุงุฆู <code>/proc/iomem</code> ูุฌุจ ุชูููุฒ ูููุน ุงูุฐุงูุฑุฉ ุงููุฑุบูุจ ููู ุนูู ุฃูู "ูุญุฌูุฒ" (ุนูุฏ ุงุณุชุฎุฏุงู <code>/dev/mem</code> ุฃู <code>phram</code> ) ุฃู "ุงูุฐุงูุฑุฉ ุงูุฏุงุฆูุฉ (ุฅุฑุซ)". </p><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุงุณุชุฎุฏุงู <code>phram</code> ุฃู <code>nd_e820</code> ุชุญุชุงุฌ ุฅูู ุงูุชุฃูุฏ ูู ุฃู ุงูุฌูุงุฒ <code>/dev/mtd0</code> ุฃู <code>/dev/pmem0</code> ูุดูุฑ ูุนูููุง ุฅูู ุงูุฌุฒุก <code>/dev/pmem0</code> ูุณุจููุง ูู ุงูุฐุงูุฑุฉ ุ ูููุณ ุฅูู ุดูุก ุขุฎุฑ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># cat /sys/class/mtd/mtd0/name #  : "savedkey" # cat /sys/block/pmem0/device/resource #    </code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูู ููู ุงูุฃูุฑ ูุฐูู ุ ูุฃูุช ุจุญุงุฌุฉ ุฅูู ุงูุนุซูุฑ ุนูู ุฃู ูู ุงูุฃุฌูุฒุฉ <code>/dev/mtd*</code> ุฃู <code>/dev/pmem*</code> "ุฎุงุตุชูุง" ุ ุซู ุฅุตูุงุญ / etc / crypttab ุ ูุชุฌุฏูุฏ initramfs ูุฅุนุงุฏุฉ ุงูุชุญูู ูู ุงููุชูุฌุฉ ุจุนุฏ ุฅุนุงุฏุฉ ุชุดุบูู ุฃุฎุฑู. </p><br><h3 id="shag-sedmoy-nastroit-kopirovanie-klyuchevogo-fayla-v-pamyat" style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ ุงูุณุงุจุนุฉ: ุชูููู ูุณุฎ ููู ุงูููุชุงุญ ุฅูู ุงูุฐุงูุฑุฉ </h3><br><p style=";text-align:right;direction:rtl">  ุณูุชู ูุณุฎ ููู ุงูููุชุงุญ ุฅูู ุงูุฐุงูุฑุฉ ูุจู ุฅุนุงุฏุฉ ุงูุชุดุบูู.  ุฅุญุฏู ุงูุทุฑู ูุชุดุบูู ุฃู ุฃูุฑ ูู ูุฑุญูุฉ ุฅููุงู ุชุดุบูู ุงููุธุงู ูู ุชุณุฌููู ูู ุชูุฌูู <code>ExecStop</code> ูู ุฎุฏูุฉ systemd.  ููู ูููู systemd ุฃู ูุฐุง ููุณ ุจุฑูุงูุฌูุง <code>ExecStart</code> ููุง ููุณู ุนูู ุนุฏู ูุฌูุฏ ุชูุฌูู <code>ExecStart</code> ุ ูุฃูุช ุจุญุงุฌุฉ ุฅูู ุชุญุฏูุฏ ููุน ุงูุฎุฏูุฉ ูุตูุฑุฉ <code>oneshot</code> ุฃูุถูุง ุฅูู ุฃู ุงูุฎุฏูุฉ ุชุนุชุจุฑ ููุฏ ุงูุชุดุบูู ุ ุญุชู ุฅุฐุง ูู ุชูู ููุงู ุนูููุฉ ุชุดุบูู ูุฑุชุจุทุฉ ุจูุง.  ูุฐูู ุ <code>/etc/systemd/system/savekey.service</code> ููู <code>/etc/systemd/system/savekey.service</code> .  ูู ุงูุถุฑูุฑู ุชุฑู ูุงุญุฏ ููุท ูู ุงููุชุบูุฑุงุช ุงููุนุทุงุฉ ูู ุชูุฌูู <code>ExecStop</code> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">[Unit] Description=Saving LUKS key into RAM Documentation=https://habr.com/ru/post/457396/ [Service] Type=oneshot RemainAfterExit=true #   /dev/mem: ExecStop=/bin/sh -c 'dd if=/root/key of=/dev/mem bs=1 seek=$((0x10000000))' #   /dev/mtd0: ExecStop=/bin/dd if=/root/key of=/dev/mtd0 #   /dev/pmem0: ExecStop=/bin/dd if=/root/key of=/dev/pmem0 [Install] WantedBy=default.target</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุงู ุญุงุฌุฉ ุฅูู ุงูุจูุงุก ูุน <code>/bin/sh</code> ูุฃู <code>dd</code> ูุง ูููู ุงูุชุฑููุฒ ุงูุณุฏุงุณู ุนุดุฑู. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุจุชูุดูุท ุงูุฎุฏูุฉ ุ ุชุญูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># systemctl enable savekey # systemctl start savekey # reboot</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฃุซูุงุก ุฅุนุงุฏุฉ ุงูุชุดุบูู ุงููุงุญูุฉ ุ ูุง ููุฒู ุฅุฏุฎุงู ุนุจุงุฑุฉ ุงููุฑูุฑ ูู ุงููุฑุต.  ูุฅุฐุง ูุฒู ุงูุฃูุฑ ุ ููุฐุง ูุนูู ุนุงุฏุฉู ุฃู ุนููุงู ุงูุจุฏุก ุงูุฎุงุต ุจููุทูุฉ ุงูุฐุงูุฑุฉ ุงููุญุฌูุฒุฉ ูุญุฏุฏ ุจุดูู ุบูุฑ ุตุญูุญ.  ูุง ุจุฃุณ ูู ุฅุตูุงุญ ูุชุฌุฏูุฏ ุงูุนุฏูุฏ ูู ุงููููุงุช ูุฅุนุงุฏุฉ ุชุดุบูู ุงูููุจููุชุฑ ูุฑุชูู. </p><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุงุณุชุฎุฏุงู <code>phram</code> ุฃู <code>nd_e820</code> ุชุนุฏูู ุชูููู GRUB ููุท.  ุนูุฏ ุงุณุชุฎุฏุงู <code>/dev/mem</code> ูุชู ุฐูุฑ ุนููุงู ุงูุจุฏุงูุฉ ุฃูุถูุง ูู <code>/etc/crypttab</code> (ูุจุงูุชุงูู ุ ูุฌุจ ุฅุนุงุฏุฉ ุฅูุดุงุก initramfs) ููู ุฎุฏูุฉ systemd. </p><br><p style=";text-align:right;direction:rtl">  ููู ูุฐุง ููุณ ูู ุดูุก. </p><br><h3 id="voprosy-bezopasnosti" style=";text-align:right;direction:rtl">  ูุถุงูุง ุงูุฃูู </h3><br><p style=";text-align:right;direction:rtl">  ุชุณุชูุฏ ุฃู ููุงูุดุฉ ููุถุงูุง ุงูุฃูู ุฅูู ูููุฐุฌ ุชูุฏูุฏ.  ุฃู  ุนูู ุฃูุฏุงู ููุณุงุฆู ุงูููุงุฌู.  ุฃุฏุฑู ุฃู ุจุนุถ ุงูุฃูุซูุฉ ุฃุฏูุงู ุจุนูุฏุฉ ุงูููุงู. </p><br><p style=";text-align:right;direction:rtl">  ูุง ุชุฎุชูู ุงูููุงูู ูุน ุงููุตูู ุงููุนูู ุฅูู ุฌูุงุฒ ุงูููุจููุชุฑ ุงูุฐู ุชู ุฅููุงู ุชุดุบููู ุนู ุชูู ุงูุชู ูุง ุชุญุชูู ุนูู ุชุฎุฒูู ููุชุงุญ ููููู ูู ุงูุฐุงูุฑุฉ.  ููุงู ููุณ ุฃููุงุน ุงููุฌูุงุช ุงูุชู ุชูุฏู ุฅูู ุงูุญุตูู ุนูู ุนุจุงุฑุงุช ุฑุฆูุณูุฉ ุ ุจูุง ูู ุฐูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Evil Maid</a> ุ ูููุณ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุฒุงุช ุงูุฃูุงู</a> .  ูุญู ูุง ูุชููู ุนูุฏูู ุ ูุฃูู ูุง ููุฌุฏ ุดูุก ุฌุฏูุฏ. </p><br><p style=";text-align:right;direction:rtl">  ููุงูู ุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู ุนูุฏูุง ูุชู ุชุดุบูู ุงูููุจููุชุฑ. </p><br><p style=";text-align:right;direction:rtl">  <strong>ุงููุถุน 1</strong> .  ูุง ูููู ุงูููุงุฌู ุฅููุงููุฉ ุงููุตูู ุงููุนูู ุฅูู ุงูููุจููุชุฑ ุ ููุง ูุนุฑู ุนุจุงุฑุฉ ุงููุฑูุฑ ุ ูููู ูุฏูู ุญู ุงููุตูู ุฅูู ุงูุฌุฐุฑ ุนุจุฑ ssh.  ุงููุฏู ูู ุงูููุชุงุญ ููู ุชุดููุฑ ุงููุฑุต.  ุนูู ุณุจูู ุงููุซุงู ุ ูููุตูู ุฅูู ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ุงููุฏููุฉ ููู ูุทุงุน ูุตูุฑุฉ ูุฑุต ุงูุฌูุงุฒ ุงูุธุงูุฑู. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงููุงูุน ุ ุงูููุชุงุญ ูู ุงูุตุญู ููุฌูุฏ ูู ููู <code>/root/key</code> ุงูููู.  ูุงูุณุคุงู ูู ููู ูุฑุชุจุท ูุฐุง ุจูุง ุญุฏุซ ูุจู ุชูููุฐ ูุฐู ุงูุชุนูููุงุช.  ุงูุฅุฌุงุจุฉ: ุจุงููุณุจุฉ ุฅูู luks1 ุ ุงูุชูุฏูุฏ ููุณ ุฌุฏูุฏูุง.  ููุงู <code>dmsetup table --target crypt --showkeys</code> ุงูุฐู ูุธูุฑ ุงูููุชุงุญ ุงูุฑุฆูุณู ุ ุฃู  ุฃูุถุง ุงูุจูุงูุงุช ุงูุชู ุชุณูุญ ุจุงููุตูู ุฅูู ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ุงููุฏููุฉ.  ุจุงููุณุจุฉ ุฅูู luks2 ุ ูุญุฏุซ ุชุฎููุถ ุงูุฃูุงู ูู ูุฐุง ุงูุณููุงุฑูู ุจุงููุนู: ูุชู ุชุฎุฒูู ููุงุชูุญ dm-crypt ูู ุณูุณูุฉ ุงูููุงุชูุญ ุนูู ูุณุชูู kernel ุ ููู ุงููุณุชุญูู ุฃู ููุธุฑ ุฅูููุง ูู ูุณุงุญุฉ ุงููุณุชุฎุฏููู. </p><br><p style=";text-align:right;direction:rtl">  <strong>ุงููุถุน 2</strong> .  ูููู ููููุงุฌู ุงุณุชุฎุฏุงู ููุญุฉ ุงูููุงุชูุญ ูุงููุธุฑ ุฅูู ุงูุดุงุดุฉ ุ ูููู ุบูุฑ ุฌุงูุฒ ููุชุญ ุงูุนูุจุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุงุณุชุฎุฏูุช ูููุฉ ุงููุฑูุฑ ุงููุณุฑุจุฉ ูู IPMI ุฃู ุงุนุชุฑุถุช ุฌูุณุฉ noVNC ูู ุงูุณุญุงุจุฉ.  ุฅูู ูุง ูุนุฑู ุงูุนุจุงุฑุฉ ุงูุฃุณุงุณูุฉ ุ ููุง ูุนุฑู ุฃู ูููุงุช ูุฑูุฑ ุฃุฎุฑู ุฃูุถูุง.  ุงููุฏู ูู ุงููุตูู ุฅูู ุงูุฌุฐุฑ. </p><br><p style=";text-align:right;direction:rtl">  ูุฑุฌู: ุฅุนุงุฏุฉ ุงูุชุดุบูู ุนุจุฑ <code>Ctrl-Alt-Del</code> ุ ูุน ุฅุถุงูุฉ ุฎูุงุฑ kernel <code>init=/bin/sh</code> ุนุจุฑ GRUB.  ูู ุชูู ูููุฉ ุงููุฑูุฑ ูุทููุจุฉ ุ ุญูุซ ุชูุช ูุฑุงุกุฉ ุงูููุชุงุญ ุจูุฌุงุญ ูู ุงูุฐุงูุฑุฉ.  ูุญูุงูุฉ ููุณู ูู ูุฐุง ุ ูุฌุจ ุนููู ููุน GRUB ูู ุชุญููู ูุง ูู ุบูุฑ ููุฌูุฏ ูู ุงููุงุฆูุฉ.  ูุณูุก ุงูุญุธ ุ ูุชู ุชูููุฐ ูุฐู ุงููุธููุฉ ุจุดูู ูุฎุชูู ูู ุชูุฒูุนุงุช ูุฎุชููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุจุฏุกูุง ูู ุงูุฅุตุฏุงุฑ 7.2 ุ ูุญุชูู CentOS ุนูู <code>grub2-setpassword</code> ุ ูุงูุฐู ูุญูู GRUB ูุนูููุง ุจูููุฉ ูุฑูุฑ.  ูุฏ ูููู ููุชูุฒูุนุงุช ุงูุฃุฎุฑู ุฃุฏูุงุช ูุณุงุนุฏุฉ ุฎุงุตุฉ ุจูุง ูููุณ ุงููููุฉ.  ุฅุฐุง ูู ุชูู ูุฐูู ุ ูููููู ุชุญุฑูุฑ ุงููููุงุช ูุจุงุดุฑุฉ ูู ุฏููู <code>grub.cfg</code> ูุฅุนุงุฏุฉ <code>grub.cfg</code> . </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูููู <code>/etc/grub.d/10_linux</code> ุ ูู ุจุชุบููุฑ ุงููุชุบูุฑ CLASS ุ ุฃุถู ุงูุฎูุงุฑ - <code>--unrestricted</code> ุฅูู ุงูููุงูุฉ ุ ุฅุฐุง ูู ููู ููุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">CLASS="--class gnu-linux --class gnu --class os --unrestricted"</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุงูููู <code>/etc/grub.d/40_custom</code> ุฃุถู ุงูุฃุณุทุฑ ุงูุชู ุชุญุฏุฏ ุงุณู ุงููุณุชุฎุฏู ููููุฉ ุงููุฑูุฑ ุงููุงุฒูุฉ ูุชุญุฑูุฑ ุณุทุฑ ุฃูุงูุฑ kernel: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">set superusers="root" password_pbkdf2 root grub.pbkdf2....... #    grub2-mkpasswd-pbkdf2</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฃู ุ ุฅุฐุง ูุงูุช ูุฐู ุงููุธููุฉ ุจุญุงุฌุฉ ุฅูู ุชุนุทูู ุนูู ุงูุฅุทูุงู ุ ูุฅููู ุณุทุฑูุง ูุซู ูุฐุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">set superusers=""</code> </pre> <br><p style=";text-align:right;direction:rtl">  <strong>ุงููููู 3</strong> .  ููุชูู ุงูููุงุฌู ุฅููุงููุฉ ุงููุตูู ุฅูู ุงูููุจููุชุฑ ุงููุถููู ุ ููุง ูุณูุญ ูู ุจุงูุชุดุบูู ูู ูุณุงุฆุท ุบูุฑ ููุซูู ุจูุง.  ูููู ุฃู ูููู ูุฐุง ุงููุตูู ุงููุนูู ุฏูู ูุชุญ ุงูุญุงูุฉ ุฃู ุงููุตูู ุนุจุฑ IPMI.  ุงููุฏู ูู ุงููุตูู ุฅูู ุงูุฌุฐุฑ. </p><br><p style=";text-align:right;direction:rtl">  ููููู ุชุญููู GRUB ุงูุฎุงุต ุจู ูู ูุญุฑู ุฃูุฑุงุต USB ูุญููู ุฃู ูุฑุต ูุถุบูุท ูุฅุถุงูุฉ <code>init=/bin/sh</code> ุฅูู ูุนููุงุช kernel ุ ููุง ูู ุงููุซุงู ุงูุณุงุจู.  ูููุง ูุฐูู ุ ูุฌุจ ุญุธุฑ ุงูุชูููุฏ ูู ุฃู ูุณุงุฆุท ูุธูุนุฉ ูู BIOS.  ููุฐูู ุญูุงูุฉ ุฅุนุฏุงุฏุงุช BIOS ุชุชุบูุฑ ุจูููุฉ ูุฑูุฑ. </p><br><p style=";text-align:right;direction:rtl">  <strong>ุงููุถุน 4</strong> .  ููุชูู ุงูููุงุฌู ุฅููุงููุฉ ุงููุตูู ุงููุนูู ุฅูู ุงูููุจููุชุฑ ุงููุถููู ุ ุจูุง ูู ุฐูู ุงููุฏุฑุฉ ุนูู ูุชุญ ุงูุนูุจุฉ.  ุงููุฏู ูู ูุนุฑูุฉ ุงูููุชุงุญ ุฃู ุงููุตูู ุฅูู ุงูุฌุฐุฑ. </p><br><p style=";text-align:right;direction:rtl">  ุจุดูู ุนุงู ุ ูุฐุง ูุถุน ุฎุงุณุฑ ุนูู ุฃู ุญุงู.  ูู ูุชู ุฅูุบุงุก ุงููุฌูู ุนูู ูุญุฏุงุช ุงูุฐุงูุฑุฉ ุนู ุทุฑูู ุชุจุฑูุฏูุง ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฌูู ุชูููุฏ ุจุงุฑุฏ</a> ).  ูุธุฑููุง ุฃูุถูุง (ูู ูุชู ุงูุชุญูู) ุ ููููู ุงูุงุณุชูุงุฏุฉ ูู ุญูููุฉ ุฃู ุฃูุฑุงุต SATA ุงูุญุฏูุซุฉ ุชุฏุนู ุฅุนุงุฏุฉ ุงูุงุชุตุงู ุงูุณุงุฎู.  ุนูุฏ ุฅุนุงุฏุฉ ุชุดุบูู ุฌูุงุฒ ุงูููุจููุชุฑ ุ ูู ุจูุตู ุงููุฑุต ุ <code>grub.cfg</code> ุจุชุบููุฑ <code>grub.cfg</code> ูู <code>init=/bin/sh</code> ุ <code>grub.cfg</code> ุงูุงุชุตุงู ุ ูุงุณูุญ ูููุธุงู ุจุฅุนุงุฏุฉ ุงูุชุดุบูู.  ุงุชุถุญ (ุฅุฐุง ูููุช ุจุดูู ุตุญูุญ) ุงููุตูู ุฅูู ุงูุฌุฐุฑ. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุงูููุงู ุจุงูุดูุก ููุณู ูู ูุจู ููุธู ูุง ุถููุฑ ูู ูุงุณุชุถุงูุฉ ุณุญุงุจุฉ ุนู ุทุฑูู ุนูู ููุทุฉ ูุฌูุงุฒ ุธุงูุฑู ูุน ุชุนุฏููู ุงููุงุญู. </p><br><h3 id="prochie-voprosy" style=";text-align:right;direction:rtl">  ูุณุงุฆู ุฃุฎุฑู </h3><br><p style=";text-align:right;direction:rtl">  <strong>ุงูุญูุงุธ ุนูู ุงูููุชุงุญ ูู ุงูุฐุงูุฑุฉ ุฃุซูุงุก ุฅุนุงุฏุฉ ุงูุชุดุบูู ูู ุงุณุชูุฒุงุก.</strong>  <strong>ุงูุงุณุชุฎุฏุงู ุจุนุฏ ุฎุงููุฉ ูู ุฃููู ุตูุฑูุง.</strong>  <strong>ุงูุญู ุงูุฃูุธู ูู ุงุณุชุฎุฏุงู kexec ูุฅุถุงูุฉ ุงูููุชุงุญ ุฅูู initramfs ุงููููุฏุฉ ุฏููุงูููููุง.</strong>  <strong>ููุง ุฃูู ูุญูู ูู ุงุณุชุจุฏุงู ูุนููุงุช kernel</strong> .  ูุนู ุ ูู ุ ุฅุฐุง ูุงู ูุนูู kexec.  ุฌุนูุช ุงูุชูุฒูุนุงุช ุงูุญุฏูุซุฉ ุงูุชูููู kexec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุนูุฏุฉ ููุบุงูุฉ</a> . </p><br><p style=";text-align:right;direction:rtl">  <strong>ูู ูุฑุงูุฒ ุงูุจูุงูุงุช ุ ูุญุชู ุฃูุซุฑ ูู ุฐูู ูู ุงูุณุญุงุจุฉ ุ ูุง ุชุฎุชูู ุงูุณูุทุฉ ุฃุจุฏูุง.</strong>  <strong>ุงุชุถุญ ุฃู ุงูุนุจุงุฑุฉ ุงูุฑุฆูุณูุฉ ูู ุชุนุฏ ููุงู ุญุงุฌุฉุ</strong>  ูู ุงููุงูุน ุ <em>ุฅุฐุง</em> ููุช ูุชุฃูุฏูุง ูู ุฐูู ุ ูููููู ุญุฐูู.  ุณูู ูุชุญูู ุฅูู ุฎุงุฏู ูุนูู ุ ููู ุงูููุชุงุญ ุงูุฐู ูุง ูุนุฑูู ุฃุญุฏ ุนูู ุงููุฑุต ุ ูุจุงูุชุงูู ูู ูุนุทูู ุ ูููู ุงููุธุงู ุงูุฐู ูููู ุชุญุฏูุซู ุจุงุณุชุฎุฏุงู ุงููุณุงุฆู ุงูุนุงุฏูุฉ.    โ        <code>sudo poweroff</code> . </p><br><p style=";text-align:right;direction:rtl"> ยน    <code>/root/key</code> โ         ,        cron. </p><br><p style=";text-align:right;direction:rtl"> <strong>   ?  IPMI,       </strong> .    IPMI      Java.        . </p><br><p style=";text-align:right;direction:rtl"> <strong>   ?     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> SSH</a></strong> .  ุนุธูู!    .  ,      <code>sudo reboot</code> ,      ? </p><br><p style=";text-align:right;direction:rtl">             ,         .     SSH       ,      .       ,      ,   . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar457396/">https://habr.com/ru/post/ar457396/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar457380/index.html">Ultramodern OpenGL. ุงูุฌุฒุก 2</a></li>
<li><a href="../ar457382/index.html">7 ุนุงุฏุงุช ูููุจุฑูุฌูู ุฐูู ุงูุฃุฏุงุก ุงูุนุงูู</a></li>
<li><a href="../ar457386/index.html">ุชูุฏูู ููููุณ ูุงุฌูุงุช ุงูุชุฑุงุถูุฉ: ุงูุฃููุงู</a></li>
<li><a href="../ar457390/index.html">ูุฏุบุดูุฑ - ุฌุฒูุฑุฉ ุงูุชูุงูุถุงุช</a></li>
<li><a href="../ar457392/index.html">ูููุฑุงุช ูู ุงูุชูููุฉ ุนุจุฑ ููุตุฉ ูุชูููุฉ: ุฏุฑุงุณุฉ ุญุงูุฉ Skyeng</a></li>
<li><a href="../ar457398/index.html">ููู ูู ุฃูุนู ูุฑุงุกุ ููุงุฐุง ูุฐูุจ ุงููุทูุฑูู ุฅูู gemba</a></li>
<li><a href="../ar457400/index.html">ุฅู ุนุฏุฏ ุงูุถุญุงูุง ูู ุงูููุงุฑุซ ุงูููููุฉ ูุซู ุชุดูุฑููุจูู ูุจุงูุบ ููู ุฅูู ุญุฏ ูุจูุฑ ุจุณุจุจ ุงูุฏุฑุงูุง</a></li>
<li><a href="../ar457402/index.html">ููููุฉ ุชูุธูู ุชุทููุฑ ูุฏุนู ูุฏููุฉ ุนูู WordPress ูู 2Q19 ูููุณ ุฅุตูุงุญูุง</a></li>
<li><a href="../ar457404/index.html">ุฃุฎุจุงุฑ ูู ุฎุฑูุทุฉ ุงูุดุงุฑุน ุงูููุชูุญ ุฑูู 465 (06/11/2019 - 06/16/2019)</a></li>
<li><a href="../ar457406/index.html">ูู ููุณุจ ุฎุฑูุฌู ุงูุฌุงูุนุงุช ุงูุฑูุณูุฉ ุงููุฎุชููุฉุ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>