<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧑🏾‍🤝‍🧑🏾 🦏 🕡 ATmega16 + DS18B20 + LED + Matlab / Simulink = AR 🌚 🌬️ 🌛</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya berpikir entah bagaimana bermain-main dengan sensor DS18B20 . Ya, tidak hanya untuk mendapatkan nilai suhu (apa yang dapat dilakukan semua orang)...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ATmega16 + DS18B20 + LED + Matlab / Simulink = AR</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/390985/"><img align="left" src="https://habrastorage.org/files/e2a/4a8/d70/e2a4a8d7092845e082baee85d185ebd2.bmp"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saya berpikir entah bagaimana bermain-main dengan sensor </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DS18B20</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ya, tidak hanya untuk mendapatkan nilai suhu (apa yang dapat dilakukan semua orang), tetapi juga memvisualisasikannya. </font><font style="vertical-align: inherit;">Ada ide sederhana. </font><font style="vertical-align: inherit;">Kami menempatkan webcam. </font><font style="vertical-align: inherit;">Kami menyalakan lampu pada frame genap, pada yang aneh kami memadamkannya. </font><font style="vertical-align: inherit;">Kurangi gambar - hanya flash yang tersisa. </font><font style="vertical-align: inherit;">Di atasnya, kami mencari lokasi sensor, yang secara fisik melekat pada LED di ruang angkasa. </font><font style="vertical-align: inherit;">Dan kemudian pemrosesan matematis. </font><font style="vertical-align: inherit;">Nah, semua ini dalam simulinka. </font><font style="vertical-align: inherit;">Di bawah katom dijelaskan cara menerima gambar yang indah. </font><font style="vertical-align: inherit;">Dan bagi yang tidak mau mengerti, saya sarankan melihat eksperimen di akhir artikel.</font></font><br>
<a name="habracut"></a><br>
<br clear="left">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sirkuit</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sirkuit sangat sederhana. </font><font style="vertical-align: inherit;">Jantung adalah ATmega16. </font><font style="vertical-align: inherit;">Semua sensor DS18B20 tergantung pada satu pin (dalam kasus saya, pada PB0 port PORTB). </font><font style="vertical-align: inherit;">Pin itu sendiri ditarik ke tegangan suplai melalui resistor 4,7 kΩ. </font><font style="vertical-align: inherit;">Skema ini scalable. </font><font style="vertical-align: inherit;">Gambar bisa diklik.</font></font><br>
<br>
<a href=""><img src="https://habrastorage.org/files/1d6/87f/7dd/1d687f7ddbbc4e29858d20b4ceebcfe7.bmp"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semua LED terhubung ke port PORTA melalui terminating resistor. </font><font style="vertical-align: inherit;">Poligon abu-abu berarti bahwa LED ini terhubung secara fisik ke DS18B20. </font><font style="vertical-align: inherit;">Pin reset ditarik tinggi melalui resistor 10 kΩ untuk menghindari reset yang tidak disengaja karena gangguan. </font><font style="vertical-align: inherit;">Mikrokontroler clock pada kuarsa 16 MHz. </font><font style="vertical-align: inherit;">Letakkan sedekat mungkin dengan kesimpulan. </font><font style="vertical-align: inherit;">Tangki muat digunakan secara internal. </font><font style="vertical-align: inherit;">Dikonfigurasi melalui sekering. </font><font style="vertical-align: inherit;">Keluarkan konektor ICP secara terpisah (untuk mengunggah firmware) dan UART untuk "komunikasi". </font><font style="vertical-align: inherit;">Kapasitas C1 (elektrolit 10 μF) dan C2 (keramik 100 nF). </font><font style="vertical-align: inherit;">Letakkan sedekat mungkin ke pin daya mikrokontroler. </font><font style="vertical-align: inherit;">Digunakan untuk menghindari pembuangan yang tidak disengaja selama transfer beban.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perakitan sirkuit</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/20a/9b3/6fa/20a9b36fade242d9b70e10be068168ad.jpg"></div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apa itu poligon abu-abu?</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/d61/bca/b30/d61bcab30e4041e6977ff8d55687d58a.jpg"></div></div><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algoritma Firmware + kerja</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Firmware ditulis dalam C di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atmel Studio 7</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> IDE. </font><font style="vertical-align: inherit;">Sumber diposting di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Kode didokumentasikan secara maksimal. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Proyek ini dibagi menjadi beberapa tingkatan abstraksi:</font></font><br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perangkat Keras</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - tingkat terendah, pengikatan maksimal pada perangkat keras. </font><font style="vertical-align: inherit;">Bekerja dengan pinggiran mikrokontroler.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Middleware</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah jalan tengah antara Hardware dan Drivers. </font><font style="vertical-align: inherit;">Misalnya, implementasi protokol 1-kawat.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Driver</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - tingkat driver. </font><font style="vertical-align: inherit;">Misalnya, bekerja dengan chip DS18B20.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aplikasi</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - tingkat abstraksi tertinggi. </font><font style="vertical-align: inherit;">Misalnya, menerima dan mentransmisikan suhu melalui UART.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekilas melalui fungsi utama. </font><font style="vertical-align: inherit;">Pertama adalah tabel alamat ROM. </font><font style="vertical-align: inherit;">Adalah perlu bahwa alamat sensor yang terhubung secara fisik ke LED nol (tergantung pada PA0 port PORTA) berada di posisi nol, dll. </font><font style="vertical-align: inherit;">Untuk mendapatkan ROM, ada fungsi </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sendROMToUART</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Anda hanya perlu mengingat bahwa sensor harus berada di bus saja, jika tidak akan ada konflik alamat.</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">utama</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">
</span></span>{	
	<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> ROM[][<span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(ROM_T)] = <span class="hljs-comment"><span class="hljs-comment">/* ROM array */</span></span><font></font>
	{<font></font>
		{<span class="hljs-number"><span class="hljs-number">0x26</span></span>, <span class="hljs-number"><span class="hljs-number">0x00</span></span>, <span class="hljs-number"><span class="hljs-number">0x00</span></span>, <span class="hljs-number"><span class="hljs-number">0x04</span></span>, <span class="hljs-number"><span class="hljs-number">0x4B</span></span>, <span class="hljs-number"><span class="hljs-number">0x15</span></span>, <span class="hljs-number"><span class="hljs-number">0x89</span></span>, <span class="hljs-number"><span class="hljs-number">0x28</span></span>}, <span class="hljs-comment"><span class="hljs-comment">// 0</span></span>
		{<span class="hljs-number"><span class="hljs-number">0x71</span></span>, <span class="hljs-number"><span class="hljs-number">0x00</span></span>, <span class="hljs-number"><span class="hljs-number">0x00</span></span>, <span class="hljs-number"><span class="hljs-number">0x04</span></span>, <span class="hljs-number"><span class="hljs-number">0x4A</span></span>, <span class="hljs-number"><span class="hljs-number">0xC0</span></span>, <span class="hljs-number"><span class="hljs-number">0x65</span></span>, <span class="hljs-number"><span class="hljs-number">0x28</span></span>}, <span class="hljs-comment"><span class="hljs-comment">// 1</span></span>
		{<span class="hljs-number"><span class="hljs-number">0xA5</span></span>, <span class="hljs-number"><span class="hljs-number">0x00</span></span>, <span class="hljs-number"><span class="hljs-number">0x00</span></span>, <span class="hljs-number"><span class="hljs-number">0x04</span></span>, <span class="hljs-number"><span class="hljs-number">0x4A</span></span>, <span class="hljs-number"><span class="hljs-number">0xCB</span></span>, <span class="hljs-number"><span class="hljs-number">0xCE</span></span>, <span class="hljs-number"><span class="hljs-number">0x28</span></span>}, <span class="hljs-comment"><span class="hljs-comment">// 2</span></span>
		{<span class="hljs-number"><span class="hljs-number">0x41</span></span>, <span class="hljs-number"><span class="hljs-number">0x00</span></span>, <span class="hljs-number"><span class="hljs-number">0x00</span></span>, <span class="hljs-number"><span class="hljs-number">0x04</span></span>, <span class="hljs-number"><span class="hljs-number">0x4A</span></span>, <span class="hljs-number"><span class="hljs-number">0xAC</span></span>, <span class="hljs-number"><span class="hljs-number">0x65</span></span>, <span class="hljs-number"><span class="hljs-number">0x28</span></span>}, <span class="hljs-comment"><span class="hljs-comment">// 3</span></span>
		{<span class="hljs-number"><span class="hljs-number">0x22</span></span>, <span class="hljs-number"><span class="hljs-number">0x00</span></span>, <span class="hljs-number"><span class="hljs-number">0x00</span></span>, <span class="hljs-number"><span class="hljs-number">0x04</span></span>, <span class="hljs-number"><span class="hljs-number">0x4B</span></span>, <span class="hljs-number"><span class="hljs-number">0x06</span></span>, <span class="hljs-number"><span class="hljs-number">0x0D</span></span>, <span class="hljs-number"><span class="hljs-number">0x28</span></span>}, <span class="hljs-comment"><span class="hljs-comment">// 4</span></span>
		{<span class="hljs-number"><span class="hljs-number">0x86</span></span>, <span class="hljs-number"><span class="hljs-number">0x00</span></span>, <span class="hljs-number"><span class="hljs-number">0x00</span></span>, <span class="hljs-number"><span class="hljs-number">0x04</span></span>, <span class="hljs-number"><span class="hljs-number">0x4A</span></span>, <span class="hljs-number"><span class="hljs-number">0xF6</span></span>, <span class="hljs-number"><span class="hljs-number">0x46</span></span>, <span class="hljs-number"><span class="hljs-number">0x28</span></span>}  <span class="hljs-comment"><span class="hljs-comment">// 5</span></span><font></font>
	};<font></font>
	<font></font>
	<span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> nDevices = <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(ROM) / <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(ROM_T); <span class="hljs-comment"><span class="hljs-comment">/* Number of DS18B20 devices */</span></span><font></font>
	<font></font>
	initUART(MYUBRR); <span class="hljs-comment"><span class="hljs-comment">/* Initialization of UART with appropriate baudrate */</span></span>
	initTimer0(); <span class="hljs-comment"><span class="hljs-comment">/* Initialization of Timer/counter0 */</span></span>
	initLED(nDevices); <span class="hljs-comment"><span class="hljs-comment">/* Initialization of LEDs */</span></span><font></font>
	<font></font>
	{ <span class="hljs-comment"><span class="hljs-comment">/* DS18B20s initialization */</span></span>
		<span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> nDevices = <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(ROM) / <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(ROM_T); <span class="hljs-comment"><span class="hljs-comment">/* Number of DS18B20 devices */</span></span>
		ROM_T *pROM = (ROM_T *)&amp;ROM; <span class="hljs-comment"><span class="hljs-comment">/* Pointer to ROM array */</span></span><font></font>
		<font></font>
		initDQ(); <span class="hljs-comment"><span class="hljs-comment">/* Initialization of DQ pin */</span></span><font></font>
		<font></font>
		<span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (nDevices--) <span class="hljs-comment"><span class="hljs-comment">/* For all DS18B20 */</span></span>
			initDS18B20(pROM++, RESOLUTION_11BIT); <span class="hljs-comment"><span class="hljs-comment">/* Initialization of DS18B20 with appropriate resolution */</span></span><font></font>
	}<font></font>
	<font></font>
	sei(); <span class="hljs-comment"><span class="hljs-comment">/* Global enable interrupts */</span></span><font></font>
	<font></font>
	<span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-comment"><span class="hljs-comment">/* Infinite loop */</span></span><font></font>
	{<font></font>
		sendTemperatureToUART((ROM_T *)&amp;ROM, nDevices); <span class="hljs-comment"><span class="hljs-comment">/* Execute function routine */</span></span><font></font>
	}<font></font>
}<font></font>
</code></pre></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikutnya adalah inisialisasi periferal dan DS-ok sendiri dengan resolusi yang sesuai. </font><font style="vertical-align: inherit;">Periode pengambilan sampel suhu tergantung padanya. </font><font style="vertical-align: inherit;">Untuk 11 bit, ini adalah 375 ms. </font><font style="vertical-align: inherit;">Dalam loop tak terbatas, program terus membaca suhu dari setiap sensor dan mengirimkannya melalui UART. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bekerja dengan LED didasarkan pada interupsi. </font><font style="vertical-align: inherit;">Dengan UART, ID LED muncul 2 kali berturut-turut pada frame genap dan ganjil. </font><font style="vertical-align: inherit;">Pada awalnya, LED menyala. </font><font style="vertical-align: inherit;">Timer padam setelah waktu tertentu (dalam kasus saya, 15 ms). </font><font style="vertical-align: inherit;">Kali kedua diabaikan begitu saja. </font><font style="vertical-align: inherit;">Timer dikonfigurasikan dalam mode CTC sehingga interupsi terjadi setiap 1 ms.</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kode</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">volatile</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> ledID = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* Current ledID value */</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">volatile</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> ledID_prev = <span class="hljs-number"><span class="hljs-number">255</span></span>;  <span class="hljs-comment"><span class="hljs-comment">/* Previous ledID value */</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">volatile</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> duration = FLASH_DURATION; <span class="hljs-comment"><span class="hljs-comment">/* Flash duration value */</span></span><font></font>
<font></font>
ISR(USART_RXC_vect) <span class="hljs-comment"><span class="hljs-comment">/* UART interrupt handler */</span></span><font></font>
{<font></font>
	ledID = UDR; <span class="hljs-comment"><span class="hljs-comment">/* Assign ledID to receive via UART value */</span></span>
	<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ledID != ledID_prev) <span class="hljs-comment"><span class="hljs-comment">/* If current ledID equal to previous value */</span></span><font></font>
	{<font></font>
		turnOnLED(ledID); <span class="hljs-comment"><span class="hljs-comment">/* Turn on the ledID LED */</span></span>
		timer0Start(); <span class="hljs-comment"><span class="hljs-comment">/* Start Timer0 */</span></span>
		ledID_prev = ledID; <span class="hljs-comment"><span class="hljs-comment">/* Previous ledID assign to current */</span></span>
		duration = FLASH_DURATION; <span class="hljs-comment"><span class="hljs-comment">/* Update LED flash duration */</span></span><font></font>
	}<font></font>
}<font></font>
<font></font>
ISR(TIMER0_COMP_vect) <span class="hljs-comment"><span class="hljs-comment">/* Timer0 compare interrupt handler */</span></span><font></font>
{<font></font>
	<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (--duration == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-comment"><span class="hljs-comment">/* Decrement Duration value each 1ms and if it reach to 0 */</span></span><font></font>
	{<font></font>
		timer0Stop(); <span class="hljs-comment"><span class="hljs-comment">/* Stop Timer0 */</span></span>
		turnOffAllLED(); <span class="hljs-comment"><span class="hljs-comment">/* Turn off all LEDs */</span></span>
		timer0Clear(); <span class="hljs-comment"><span class="hljs-comment">/* Clear Timer0 counter register */</span></span><font></font>
	}<font></font>
}<font></font>
</code></pre></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagian kode yang peka terhadap waktu, yang merupakan sinyal 1-Kawat, dibungkus dengan </font><font style="vertical-align: inherit;">konstruksi </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ATOMIC_BLOCK</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Semua pengaturan dasar dibuat di </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">global.h</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">UART beroperasi pada kecepatan 250.000. Cepat dan bebas kesalahan untuk kuarsa 16 MHz. </font><font style="vertical-align: inherit;">Driver DS18B20 memiliki fungsi minimum yang diperlukan untuk proyek ini. </font><font style="vertical-align: inherit;">Sisanya - lihat kodenya. </font><font style="vertical-align: inherit;">Akan ada pertanyaan - tanyakan, jangan malu-malu. </font><font style="vertical-align: inherit;">Saya juga ingin mengingatkan Anda tentang pengaturan sekering. </font><font style="vertical-align: inherit;">Mereka perlu mengatur kemampuan clocking dari kuarsa eksternal, jika tidak maka akan dari generator internal (dan itu adalah maksimum 8 MHz dan tidak sangat stabil). </font><font style="vertical-align: inherit;">Nah, programkan bit CKOPT, kalau tidak kuarsa di atas 8 MHz tidak akan mulai. </font><font style="vertical-align: inherit;">Saya memiliki </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fuse Tinggi = 0xD9</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fuse Rendah = 0xFF</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algoritma operasi model Simulink +</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Versi </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Matlab R2015b</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dalam </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Simulink</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , selain built-in perpustakaan, terutama digunakan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Computer Vision System Toolbox</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gambar Akuisisi Toolbox</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Seluruh model dan file terkait diunggah ke </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Di bawah ini adalah deskripsi rinci dengan contoh ilustrasi. </font><font style="vertical-align: inherit;">Semua gambar dapat diklik.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modul WebCamTemp</font></font></h2><br>
<a href=""><img align="left" src="https://habrastorage.org/files/f1d/b35/8bb/f1db358bbf3f4bb4b9b31dc3724daf27.bmp"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blok kuning menunjukkan blok port COM. Pemancar, penerima, dan konfigurator secara terpisah. Pengaturan port harus sama persis dengan yang mikrokontroler (kecepatan, paritas, jumlah bit, dll.). Penerima mengambil suhu dengan mengelompokkannya ke dalam array satu dimensi ukuran </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[n 1]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tipe </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">int16</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , di mana </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah jumlah DS18B20 (Saya punya 6). Setiap elemen dari array ini dibagi lagi dengan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ini dari </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lembar data di</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> halaman 6. Pemancar mengirimkan nilai penghitung saat ini ke </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penghitung</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Itu hanya menyalakan LED tertentu. Berdetak dari </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hingga </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Sampel periode 2. </font><font style="vertical-align: inherit;">Blok yang bertanggung jawab untuk menampilkan / menyimpan aliran video dikelompokkan dalam warna biru. </font><font style="vertical-align: inherit;">Hijau - blokir untuk menerima informasi video. </font><font style="vertical-align: inherit;">Sebenarnya webcam itu sendiri. </font><font style="vertical-align: inherit;">Ada banyak pengaturan, berbeda, tergantung pada pabriknya. </font><font style="vertical-align: inherit;">Gambar ditampilkan dalam nada abu-abu. </font><font style="vertical-align: inherit;">Sangat menarik. </font><font style="vertical-align: inherit;">Blok </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diff</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> membuat perbedaan antara frame sebelumnya dan saat ini. </font><font style="vertical-align: inherit;">Blok </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aneh Downsample</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hanya menyoroti perbedaan yang menyala - bukan LED yang menyala, tetapi tidak sebaliknya. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Downsample even</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> blok </font><font style="vertical-align: inherit;">hanya melompati frame di mana LED mati.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Img diff</font></font></b><div class="spoiler_text"> ,  —  .        (  ).    ,       .    0.25.<br>
<br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://www.youtube.com/embed/tbpDALqIc0g%3Ffeature%3Doembed&amp;usg=ALkJrhhA7iDL86DFX_5q2y6-4wh3_HM8Dw" frameborder="0" allowfullscreen=""></iframe><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gambar abu-abu</font></font></b><div class="spoiler_text"> ,  — ,     .      ,    .    .<br>
<br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://www.youtube.com/embed/ATGUUmG77eo%3Ffeature%3Doembed&amp;usg=ALkJrhjwOFIN8qHvZaWwFPH8YFn9I0qZJg" frameborder="0" allowfullscreen=""></iframe><br>
</div></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Frame Rate Display</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> menampilkan FPS saat ini. </font><font style="vertical-align: inherit;">Semua pemrosesan ada di blok </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LED</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Kami akan mempertimbangkannya sebagai berikut.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modul LED</font></font></h2><br>
<a href=""><img align="left" src="https://habrastorage.org/files/636/73d/92d/63673d92d053459c9c0c226edded2d13.bmp"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Violet mengelompokkan blok-blok untuk memperoleh </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gaussians 2D</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Kami membutuhkan dua: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interferensi</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opacity</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Mereka berbeda dalam sigma. </font><font style="vertical-align: inherit;">Pusat mereka berada pada titik maksimum (di mana LED menyala). </font><font style="vertical-align: inherit;">Koordinat terletak di blok </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maksimum</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Alih-alih terus-menerus menghasilkan Gaussians (dan eksponen adalah operasi matematika yang sangat memakan waktu), ia memutuskan untuk memotongnya. </font><font style="vertical-align: inherit;">Untuk melakukan ini, dalam file-m, dua </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Int</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Op</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dihasilkan yang </font><font style="vertical-align: inherit;">2 kali lebih besar dengan pusat di tengah, di mana, lebih lanjut, yang diperlukan hanya dipotong dengan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gangguan </font></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tanaman</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font><font style="vertical-align: inherit;">blok </font><b><font style="vertical-align: inherit;">tanaman opacity</font></b><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contoh kerja</font></font></b><div class="spoiler_text">  —   .   —         .   —      .   —     .     0.25.<br>
<br>
<iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://www.youtube.com/embed/wGYyoVUJ8nQ%3Ffeature%3Doembed&amp;usg=ALkJrhhhTa-YAT2yNfvqDKvbt_3vmBW16w" frameborder="0" allowfullscreen=""></iframe><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blok memori dilingkari hijau. Tujuan mereka adalah untuk menyimpan koordinat dan Gaussians untuk setiap LED. Kami mempertimbangkan lebih detail di bawah ini. Blok </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To color</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dimaksudkan untuk membangun distribusi suhu dan peta warna. Juga akan dibahas di bawah ini. Signal Unit komposisi </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengomposisian</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> campuran dua gambar </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Image1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Image2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dengan cara sebagai berikut:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/84a/62d/3d6/84a62d3d604b42c5b0923eb74d8d58d4.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blok </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sisipkan Teks</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> memaksakan teks yang diformat (dalam hal ini, suhu) pada gambar. </font><font style="vertical-align: inherit;">Menerima </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> variabel dan koordinat dalam format </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[XY]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Anda dapat memilih font dan ukurannya. </font><font style="vertical-align: inherit;">Blok di dalam kotak merah menerapkan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">algoritma moving average</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Transisi menjadi tidak terlalu gugup, yang menjaga saraf dan menyenangkan mata.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contoh</font></font></b><div class="spoiler_text"> ,  —    8- .            (  )     .<br>
<br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://www.youtube.com/embed/Z8NgbGUZS50%3Ffeature%3Doembed&amp;usg=ALkJrhj0T_Lr-Ssf282oIufKeuxU0VU5wg" frameborder="0" allowfullscreen=""></iframe><br>
</div></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modul memori</font></font></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gangguan memori</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font><font style="vertical-align: inherit;">penyimpanan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opacity Memori.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kumpulan Gaussian 2D, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Poin Memori</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - koordinat untuk setiap LED.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gangguan memori dan opacity memori</font></font></b><div class="spoiler_text"><a href=""><img align="left" src="https://habrastorage.org/files/06d/f15/23e/06df1523e1d245f7b824b151f7dfa0e3.bmp"></a>   .   <b>Address</b>       .   .     .  <b>Delay</b>  <b>LEDs</b>     (  ,    ).      .  <b>Enable</b>  .   ,      (  <b>Maximum</b>  <b>Threshold</b>  <b>LEDs</b>).    —    .       .      <b>[H W n]</b>,  <b>HxW</b> —  -,   <b>n</b> —  /.<br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Poin memori</font></font></b><div class="spoiler_text"><a href=""><img align="left" src="https://habrastorage.org/files/f25/02b/441/f2502b4415bd4badad2de75142a84044.bmp"></a>     .           .   <b>Permute Matrix</b>    ,     <b>[Y X]</b>,   <b>[X Y]</b>.<br>
</div></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Untuk modul warna</font></font></h2><br>
<a href=""><img align="left" src="https://habrastorage.org/files/ff4/661/f73/ff4661f7313342bc87aab6257d405ee9.bmp"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hijau - Pemrosesan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opacity</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ringkas array input dalam dimensi ketiga. Kami menormalkannya secara maksimal. Lipat gandakan dengan nilai </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gain</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (dari 0 ke 1) </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(1)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Secara total, kami memiliki array dengan Gaussians yang saling bertumpukan dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mendapatkan keuntungan</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> maksimum </font><font style="vertical-align: inherit;">. Digunakan sebagai </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">faktor</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk mencampur gambar. Merah - menerima peta warna suhu. Di sini sedikit berbeda matematika, semua Gaussians yang sama. Ini dijelaskan dengan rumus </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(2)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Secara kasar, suhu pada titik arbitrer adalah rata-rata tertimbang dari semua sensor. Tetapi pengaruh masing-masing sensor dalam rasio persentase sebanding dengan nilai Gaussian di dalamnya. Jumlah semua diambil sebagai 100%.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/87a/e2d/4a3/87ae2d4a31ba4759bb9cf4d093fff846.gif"></div><br>
<a href=""><img align="left" src="https://habrastorage.org/files/c51/f48/e29/c51f48e29b614eb28a0134f517ee49e8.bmp"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tetap mempertimbangkan bagaimana distribusi suhu berubah menjadi peta warna. </font><font style="vertical-align: inherit;">Apa yang dilingkari dengan warna biru mengubah suhu spesifik menjadi nilai antara 0 dan 1. Di zona merah, blok </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prelookup</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> menghitung indeks di mana nilai merah, hijau dan biru dicari. </font><font style="vertical-align: inherit;">Array warna berisi 64 nilai. </font><font style="vertical-align: inherit;">Intermediate dihitung dengan interpolasi. </font><font style="vertical-align: inherit;">Dari fitur-fiturnya, ada dua mode: relatif dan absolut. </font><font style="vertical-align: inherit;">Di tempat yang paling dingin dan terpanas, nilai minimum dan maksimum dari array input sesuai. </font><font style="vertical-align: inherit;">Secara absolut, ada beberapa nilai konstan. </font><font style="vertical-align: inherit;">Yang pertama, lebih mudah untuk melihat profil distribusi suhu. </font><font style="vertical-align: inherit;">Di sisi lain, perubahan absolutnya.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">file m</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Itu dieksekusi di awal, sebelum simulasi, memperkenalkan variabel ke dalam Workspace.</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kode</font></font></b><div class="spoiler_text"><pre><code class="matlab hljs">H = <span class="hljs-number"><span class="hljs-number">480</span></span>; <span class="hljs-comment"><span class="hljs-comment">% Height of image</span></span>
W = <span class="hljs-number"><span class="hljs-number">640</span></span>; <span class="hljs-comment"><span class="hljs-comment">% Width of image</span></span>
minT = <span class="hljs-number"><span class="hljs-number">20</span></span>; <span class="hljs-comment"><span class="hljs-comment">% Min temperature</span></span>
maxT = <span class="hljs-number"><span class="hljs-number">25</span></span>; <span class="hljs-comment"><span class="hljs-comment">% Max temperature</span></span>
sigmaInt = <span class="hljs-number"><span class="hljs-number">40</span></span>; <span class="hljs-comment"><span class="hljs-comment">% Sigma interference</span></span>
sigmaOp = <span class="hljs-number"><span class="hljs-number">80</span></span>; <span class="hljs-comment"><span class="hljs-comment">% Sigma opacity</span></span>
gain = <span class="hljs-number"><span class="hljs-number">1.0</span></span>; <span class="hljs-comment"><span class="hljs-comment">% Gain value</span></span>
T = <span class="hljs-number"><span class="hljs-number">0.3</span></span>; <span class="hljs-comment"><span class="hljs-comment">% Threshold value</span></span>
nAvr = <span class="hljs-number"><span class="hljs-number">8</span></span>; <span class="hljs-comment"><span class="hljs-comment">% number of means</span></span>
<span class="hljs-comment"><span class="hljs-comment">% ------------------------------------------------------</span></span>
[M,N] = <span class="hljs-built_in"><span class="hljs-built_in">meshgrid</span></span>(-W:W, -H:H); <span class="hljs-comment"><span class="hljs-comment">% Meshgrid function</span></span><font></font>
<font></font>
R = <span class="hljs-built_in"><span class="hljs-built_in">sqrt</span></span>(M.^<span class="hljs-number"><span class="hljs-number">2</span></span> + N.^<span class="hljs-number"><span class="hljs-number">2</span></span>); <span class="hljs-comment"><span class="hljs-comment">% Distance from the center</span></span><font></font>
<font></font>
Int = normpdf(R, <span class="hljs-number"><span class="hljs-number">0</span></span>, sigmaInt); <span class="hljs-comment"><span class="hljs-comment">% 2D gaussian for interference</span></span>
Op = normpdf(R, <span class="hljs-number"><span class="hljs-number">0</span></span>, sigmaOp); <span class="hljs-comment"><span class="hljs-comment">% 2D gaussian for opacity</span></span><font></font>
<font></font>
Int = Int/<span class="hljs-built_in"><span class="hljs-built_in">max</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">max</span></span>(Int)); <span class="hljs-comment"><span class="hljs-comment">% Normalization of interference gaussian</span></span>
Op = Op/<span class="hljs-built_in"><span class="hljs-built_in">max</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">max</span></span>(Op)); <span class="hljs-comment"><span class="hljs-comment">% Normalization of opacity gaussian</span></span><font></font>
<font></font>
clear M N R sigmaInt sigmaOp <span class="hljs-comment"><span class="hljs-comment">% Delete unused variables from memory</span></span><font></font>
<font></font>
load(<span class="hljs-string"><span class="hljs-string">'MyColormaps'</span></span>,<span class="hljs-string"><span class="hljs-string">'mycmap'</span></span>); <span class="hljs-comment"><span class="hljs-comment">% Load colormap</span></span>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berisi variabel kontrol utama di antaranya:</font></font><br>
<ul>
<li><b>H</b> —    .</li>
<li><b>W</b> —    .</li>
<li><b>minT</b> —   .</li>
<li><b>maxT</b> —   .</li>
<li><b>sigmaInt</b> —   Interference.</li>
<li><b>sigmaOp</b> —   Opacity.</li>
<li><b>gain</b> —   Factor.</li>
<li><b>T</b> —    .</li>
<li><b>nAvr</b> —     .</li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">W</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> harus cocok dengan arus di blok WebCamera. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">minT</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">maxT</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> memengaruhi peta warna dalam mode suhu absolut. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> diatur dari 0 ke 1. Terkadang port COM dan webcam tidak sinkron. </font><font style="vertical-align: inherit;">Fase gambar diferensial dapat berubah 180 °. </font><font style="vertical-align: inherit;">Dan di mana harus ada maksimum - ada minimum. </font><font style="vertical-align: inherit;">Dan sistem dapat memilih koordinat sewenang-wenang yang tidak sesuai dengan kenyataan. </font><font style="vertical-align: inherit;">Untuk ini, ada sistem ambang batas. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nAvr adalah</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> jumlah rata-rata dalam moving average. </font><font style="vertical-align: inherit;">Semakin besar, semakin halus transisi, tetapi relevansinya hilang (pergeseran waktu muncul). </font><font style="vertical-align: inherit;">Untuk memahami efek dari variabel yang tersisa, kita tidak bisa menemukannya tanpa contoh ilustrasi.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Efek SigmaInt</font></font></b><div class="spoiler_text"> <img src="https://habrastorage.org/files/dd4/52e/fa0/dd452efa07f74879864a7da50c880f39.gif">      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> </a>.  <img src="https://habrastorage.org/files/5de/994/dd0/5de994dd0e834600b8fff948ae13eb07.gif">       ,   , .   —    .<br>
<br>
<iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://www.youtube.com/embed/cZV_ayNrWgE%3Ffeature%3Doembed&amp;usg=ALkJrhjYRyJeHo-CJM_l024LAS5dD1bLjA" frameborder="0" allowfullscreen=""></iframe><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Efek SigmaOp</font></font></b><div class="spoiler_text">     .<br>
<br>
<iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://www.youtube.com/embed/S8R4A9AKFZU%3Ffeature%3Doembed&amp;usg=ALkJrhg9A6hO6FA7XYl1t0D22wEBG-tr1g" frameborder="0" allowfullscreen=""></iframe><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dapatkan efek</font></font></b><div class="spoiler_text">-   .    «»  « »  .<br>
<br>
<iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://www.youtube.com/embed/mvKfUSIw3rI%3Ffeature%3Doembed&amp;usg=ALkJrhgaSBsITl8tCUI9F2QZsjmO86C6RA" frameborder="0" allowfullscreen=""></iframe><br>
</div></div><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eksperimen</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di bawah ini adalah beberapa percobaan.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buka jendela</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sensor tersebar di tempat tidur dekat jendela. </font><font style="vertical-align: inherit;">Jendela membuka dan menutup setelah beberapa saat. </font><font style="vertical-align: inherit;">Contoh yang baik tentang perbedaan antara mode relatif (kiri) dan absolut (kanan). </font><font style="vertical-align: inherit;">Menggunakan yang pertama, nyaman untuk mempertimbangkan distribusi, dan yang kedua, bagaimana dingin didistribusikan atau panas dipulihkan.</font></font><br>
<br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://www.youtube.com/embed/AlDT9XyCSeo%3Ffeature%3Doembed&amp;usg=ALkJrhiwispAzEvIVthNcVWZj0OFs0e2qg" frameborder="0" allowfullscreen=""></iframe><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windowsill</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sensor terletak di sepanjang jendela. </font><font style="vertical-align: inherit;">Jendela terbuka - profil berubah. </font><font style="vertical-align: inherit;">Zona terdingin dan terhangat jelas terlihat.</font></font><br>
<br>
<iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://www.youtube.com/embed/OX8_0pjPLZg%3Ffeature%3Doembed&amp;usg=ALkJrhgG8IQZ3BT1MWj1UyI9grHI3Rmo0Q" frameborder="0" allowfullscreen=""></iframe><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apakah lebih hangat di atas?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mereka mengatakan bahwa bagian atas lebih hangat. </font><font style="vertical-align: inherit;">Eksperimen ini adalah konfirmasi lengkap untuk ini. </font><font style="vertical-align: inherit;">Pada detik ke-10, jendela terbuka, pada tanggal 30 - jendela ditutup.</font></font><br>
<br>
<iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://www.youtube.com/embed/pUDan07bd-E%3Ffeature%3Doembed&amp;usg=ALkJrhhIVllH3rCm3pgHmAxT_QrIj_VrAg" frameborder="0" allowfullscreen=""></iframe><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesimpulan</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Skema semacam itu tidak akan menggantikan imager termal yang lengkap. </font><font style="vertical-align: inherit;">Tapi dia tidak bisa melihat penyebaran massa udara. </font><font style="vertical-align: inherit;">Dan dengan harga desain ini jauh lebih rendah. </font><font style="vertical-align: inherit;">Anda dapat menggunakan peta warna berbeda di dalamnya. </font><font style="vertical-align: inherit;">Anda dapat mengambil fungsi lain, bukan Gaussians. </font><font style="vertical-align: inherit;">Anda bahkan dapat mengubah hukum konstruksi. </font><font style="vertical-align: inherit;">Atau tulis ulang ke OpenCV + QT untuk kecepatan dan kenyamanan. </font><font style="vertical-align: inherit;">Tapi itulah yang saya bayangkan - saya telah capai. </font><font style="vertical-align: inherit;">Just </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Just For Fun</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id390985/">https://habr.com/ru/post/id390985/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id390975/index.html">Prakiraan untuk 2016: Tiga Tren Utama di Industri Semikonduktor</a></li>
<li><a href="../id390977/index.html">Berita Sony di MWC 2016: Xperia X, Xperia X Performance dan Xperia XA</a></li>
<li><a href="../id390979/index.html">Lenovo Ideacentre Stick 300: Kecil Ya</a></li>
<li><a href="../id390981/index.html">Bagaimana Motorika membuat gigi palsu untuk anak-anak</a></li>
<li><a href="../id390983/index.html">Serigala dan Domba, Zombi dan Perangkap Lobster: Kamus Singkat Stock Slang</a></li>
<li><a href="../id390987/index.html">Sony membeli video oleh artis Rusia dan memblokirnya di YouTube (lagi)</a></li>
<li><a href="../id390989/index.html">Fairphone 2 Telepon Modular Sekarang Tersedia</a></li>
<li><a href="../id390993/index.html">Mata kupu-kupu menjadi model graphene rectenes dengan catatan penyerapan cahaya</a></li>
<li><a href="../id390995/index.html">MasterCard menyiapkan opsi verifikasi pelanggan menggunakan selfie, nada suara, dan detak jantung</a></li>
<li><a href="../id390997/index.html">9 drone yang tidak perlu registrasi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>