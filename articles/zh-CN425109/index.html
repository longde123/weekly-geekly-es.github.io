<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ–ï¸ ğŸ’“ ğŸ’ƒğŸ» ã€Šäº‘ä¸­çš„Javaã€‹ä¸€ä¹¦ã€‚ Spring Bootï¼ŒSpring Cloudï¼ŒCloud FoundryÂ» ğŸ‘¨â€ğŸš€ ğŸ” ğŸ”¬</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å¤§å®¶å¥½ï¼ æœ¬ä¹¦ä¸»è¦é¢å‘Javaå’ŒJVMè®¡ç®—æœºçš„å¼€å‘äººå‘˜ï¼Œä»–ä»¬æ­£åœ¨å¯»æ‰¾ä½¿ç”¨Spring Bootï¼ŒSpring Cloudå’ŒCloud Foundryåœ¨çŸ­æ—¶é—´å†…åˆ›å»ºæ›´å¥½çš„è½¯ä»¶çš„æ–¹æ³•ã€‚ å®ƒé€‚ç”¨äºé‚£äº›å·²ç»å¬åˆ°å¾®æœåŠ¡å‘¨å›´çš„å™ªéŸ³ä¸Šå‡çš„äººã€‚ æ‚¨å¯èƒ½å·²ç»äº†è§£äº†Spring Bootæ‰€è¾¾åˆ°çš„å¹³æµå±‚é«˜åº¦ï¼Œå¹¶ä¸”è®©å½“ä»Šçš„...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ã€Šäº‘ä¸­çš„Javaã€‹ä¸€ä¹¦ã€‚ Spring Bootï¼ŒSpring Cloudï¼ŒCloud FoundryÂ»</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/425109/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/webt/g5/vp/gz/g5vpgzgoyh2hlalmrajcysuwvwo.jpeg" align="left" alt="å›¾ç‰‡"></a> å¤§å®¶å¥½ï¼ æœ¬ä¹¦ä¸»è¦é¢å‘Javaå’ŒJVMè®¡ç®—æœºçš„å¼€å‘äººå‘˜ï¼Œä»–ä»¬æ­£åœ¨å¯»æ‰¾ä½¿ç”¨Spring Bootï¼ŒSpring Cloudå’ŒCloud Foundryåœ¨çŸ­æ—¶é—´å†…åˆ›å»ºæ›´å¥½çš„è½¯ä»¶çš„æ–¹æ³•ã€‚ å®ƒé€‚ç”¨äºé‚£äº›å·²ç»å¬åˆ°å¾®æœåŠ¡å‘¨å›´çš„å™ªéŸ³ä¸Šå‡çš„äººã€‚ æ‚¨å¯èƒ½å·²ç»äº†è§£äº†Spring Bootæ‰€è¾¾åˆ°çš„å¹³æµå±‚é«˜åº¦ï¼Œå¹¶ä¸”è®©å½“ä»Šçš„ä¼ä¸šä½¿ç”¨Cloud Foundryå¹³å°æ„Ÿåˆ°æƒŠè®¶ã€‚ å¦‚æœæ˜¯è¿™æ ·ï¼Œé‚£ä¹ˆè¿™æœ¬ä¹¦é€‚åˆæ‚¨ã€‚ <br><br><h3> æ‘˜å½•ã€‚  3.åäºŒå› ç´ åº”ç”¨ç¨‹åºé…ç½®æ ·å¼ </h3><br> æœ¬ç« å°†è®¨è®ºå¦‚ä½•å®ç°åº”ç”¨ç¨‹åºé…ç½®ã€‚ <br><a name="habracut"></a><br> å®šä¹‰è®¸å¤šè¯æ±‡ã€‚ å…³äºSpringçš„é…ç½®ï¼Œé€šå¸¸æ˜¯æŒ‡è¿›å…¥Springç¯å¢ƒä¸­åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡çš„å„ç§å®ç°<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">-ApplicationContext</a> ï¼Œå®ƒå¯ä»¥å¸®åŠ©å®¹å™¨äº†è§£å¦‚ä½•è¿æ¥Beanç»„ä»¶ã€‚ å¯ä»¥å°†è¿™ç§é…ç½®è¡¨ç¤ºä¸ºXMLæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å¿…é¡»åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ClassPathXmlApplicationContextä¸­æä¾›</a> ï¼Œæˆ–è€…ä»¥å¯ä»¥æä¾›ç»™<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">AnnotationConfigApplicationContext</a>å¯¹è±¡çš„æ–¹å¼æ³¨é‡Šçš„Javaç±»ã€‚ å½“ç„¶ï¼Œåœ¨ç ”ç©¶æœ€åä¸€ä¸ªé€‰é¡¹æ—¶ï¼Œæˆ‘ä»¬å°†å‚è€ƒ<i>Javaé…ç½®ã€‚</i> <br><br> ä½†æ˜¯åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬å°†ä»¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">12å› å­åº”ç”¨ç¨‹åº</a>æ¸…å•ä¸­å®šä¹‰çš„å½¢å¼æŸ¥çœ‹é…ç½®ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒæ¶‰åŠå¯ä»¥ä»ä¸€ç§ç¯å¢ƒæ›´æ”¹ä¸ºå¦ä¸€ç§ç¯å¢ƒçš„æ–‡å­—å€¼ï¼šæˆ‘ä»¬åœ¨è°ˆè®ºå¯†ç ï¼Œç«¯å£å’Œä¸»æœºåï¼Œæˆ–è€…å…³äºå±æ€§æ ‡å¿—ã€‚ è¯¥é…ç½®å°†å¿½ç•¥ä»£ç ä¸­å†…ç½®çš„é­”æœ¯å¸¸æ•°ã€‚ æ¸…å•åŒ…å«æ­£ç¡®é…ç½®çš„æå¥½çš„æ ‡å‡†ï¼šåº”ç”¨ç¨‹åºä»£ç åº“æ˜¯å¦å¯ä»¥åœ¨ä¸æ³„éœ²å’ŒæŸå®³é‡è¦å‡­æ®çš„æƒ…å†µä¸‹éšæ—¶å¼€æºï¼Ÿ è¿™ç§é…ç½®ä¸“é—¨æŒ‡çš„æ˜¯åœ¨ä¸€ä¸ªç¯å¢ƒä¸å¦ä¸€ä¸ªç¯å¢ƒä¹‹é—´å˜åŒ–çš„å€¼ï¼Œå¹¶ä¸”ä¸é€‚ç”¨äºä¾‹å¦‚è¿æ¥Spring Beanæˆ–é…ç½®Rubyè·¯ç”±ã€‚ <br><br><h3> åœ¨Springæ¡†æ¶ä¸­çš„æ”¯æŒ </h3> <br> åœ¨Springä¸­ï¼Œè‡ª<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PropertyPlaceholderConfigurer</a>ç±»é—®ä¸–ä»¥æ¥ï¼Œå·²æ”¯æŒ12å› å­é…ç½®æ ·å¼ã€‚ å®šä¹‰å…¶å®ä¾‹åï¼Œå®ƒå°†ä½¿ç”¨ä»æ‰©å±•åä¸º.propertiesçš„æ–‡ä»¶ä¸­æå–çš„å€¼æ›¿æ¢XMLé…ç½®ä¸­çš„æ–‡å­—ã€‚ åœ¨Springç¯å¢ƒä¸­ï¼Œä»2003å¹´å¼€å§‹æä¾›<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PropertyPlaceholderConfigurer</a>ç±»ã€‚  Spring 2.5å¼•å…¥äº†å¯¹XMLåç§°ç©ºé—´çš„æ”¯æŒï¼Œå¹¶åŒæ—¶æ”¯æŒæ­¤ç©ºé—´ä¸­çš„å±æ€§æ›¿æ¢ã€‚ è¿™å…è®¸ç”¨åˆ†é…ç»™å¤–éƒ¨å±æ€§æ–‡ä»¶ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåœ¨simple.propertiesæ–‡ä»¶ä¸­ï¼Œå¯ä»¥å‡ºç°åœ¨ç±»è·¯å¾„ä¸­æˆ–ä½äºåº”ç”¨ç¨‹åºå¤–éƒ¨ï¼‰ä¸­çš„é”®çš„å€¼ï¼Œåœ¨Beanå®šä¹‰çš„æ–‡å­—å€¼çš„XMLé…ç½®ä¸­è¿›è¡Œæ›¿æ¢ã€‚ <br><br> å…·æœ‰12ä¸ªå› ç´ çš„æ ·å¼çš„é…ç½®æ—¨åœ¨æ¶ˆé™¤ç°æœ‰é­”æœ¯å­—ç¬¦ä¸²çš„ä¸å¯é æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¸å¦‚æ•°æ®åº“çš„åœ°å€å’Œç”¨äºè¿æ¥å®ƒä»¬çš„å¸æˆ·ï¼Œç«¯å£ç­‰å€¼åœ¨ç¼–è¯‘çš„åº”ç”¨ç¨‹åºä¸­è¿›è¡Œäº†ç¡¬ç¼–ç ã€‚ å¦‚æœå°†é…ç½®ç§»åˆ°åº”ç”¨ç¨‹åºå¤–éƒ¨ï¼Œåˆ™å¯ä»¥åœ¨ä¸å€ŸåŠ©æ–°ä»£ç æ±‡ç¼–çš„æƒ…å†µä¸‹å°†å…¶æ›¿æ¢ã€‚ <br><br><h3> ç±»PropertyPlaceholderConfigurer </h3><br> è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªç¤ºä¾‹ï¼Œè¯¥ç¤ºä¾‹ä½¿ç”¨PropertyPlaceholderConfigurerç±»ï¼ŒSpring beanç»„ä»¶çš„XMLå®šä¹‰ä»¥åŠä¸€ä¸ªè¶…å‡ºåº”ç”¨ç¨‹åºé™åˆ¶çš„æ‰©å±•åä¸º.propertiesçš„æ–‡ä»¶ã€‚ æˆ‘ä»¬åªéœ€è¦æ‰“å°æ­¤å±æ€§æ–‡ä»¶ä¸­å¯ç”¨çš„å€¼ã€‚ è¿™å°†æœ‰åŠ©äºæ‰§è¡Œç¤ºä¾‹3.1ä¸­æ‰€ç¤ºçš„ä»£ç ã€‚ <br><br> èŒƒä¾‹3.1 å±æ€§æ–‡ä»¶ï¼šsome.properties <br><br><pre><code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">configuration</span></span>.projectName=Spring Framework</code> </pre> <br> è¿™æ˜¯Springçš„ClassPathXmlApplicationContextç±»ï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨Springä¸Šä¸‹æ–‡ä¸­çš„XMLåç§°ç©ºé—´å¹¶æŒ‡å‘æˆ‘ä»¬çš„some.propertiesæ–‡ä»¶ã€‚ ç„¶åï¼Œåœ¨beanç»„ä»¶çš„å®šä¹‰ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨$ {configuration.projectName}å½¢å¼çš„æ–‡å­—ï¼Œå¹¶ä¸”Springå°†ç”¨å±æ€§æ–‡ä»¶ä¸­çš„å€¼æ›¿æ¢å®ƒä»¬ï¼ˆç¤ºä¾‹3.2ï¼‰ã€‚ <br><br> ç¤ºä¾‹3.2  Springé…ç½®XMLæ–‡ä»¶ <br><br><pre> <code class="hljs pgsql">&lt;context:property-placeholder <span class="hljs-keyword"><span class="hljs-keyword">location</span></span>="classpath:some.properties"/&gt; (<span class="hljs-number"><span class="hljs-number">1</span></span>) &lt;bean <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>="classic.Application"&gt; &lt;property <span class="hljs-type"><span class="hljs-type">name</span></span>="configurationProjectName" <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>="${configuration.projectName}"/&gt; &lt;/bean&gt;</code> </pre> <br>  ï¼ˆ1ï¼‰classpathï¼šå¼•ç”¨å½“å‰ç¼–è¯‘ä»£ç å—ï¼ˆ.jarï¼Œ.warç­‰ï¼‰ä¸­çš„æ–‡ä»¶çš„ä½ç½®ã€‚  Springæ”¯æŒè®¸å¤šæ›¿ä»£æ–¹æ¡ˆï¼ŒåŒ…æ‹¬fileï¼šå’Œurlï¼šï¼Œå®ƒä»¬å…è®¸æ–‡ä»¶ä¸ä»£ç å—åˆ†å¼€å­˜åœ¨ã€‚ <br><br> æœ€åï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹Javaç±»çš„å¤–è§‚ï¼Œç”±äºè¿™ä¸ªåŸå› ï¼Œå¯ä»¥å°†æ‰€æœ‰è¿™äº›ç»„åˆåœ¨ä¸€èµ·ï¼ˆç¤ºä¾‹3.3ï¼‰ã€‚ <br><br> ç¤ºä¾‹3.3 å¿…é¡»ä½¿ç”¨å±æ€§å€¼é…ç½®çš„Javaç±» <br> å¥—é¤ç»å…¸ï¼› <br><br><pre> <code class="hljs actionscript"><span class="hljs-meta"><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span></span></span><span class="hljs-meta"> org.apache.commons.logging.LogFactory;</span></span> <span class="hljs-meta"><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span></span></span><span class="hljs-meta"> org.springframework.context.support.ClassPathXmlApplicationContext;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Application</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> main(String[] args) { <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ClassPathXmlApplicationContext(<span class="hljs-string"><span class="hljs-string">"classic.xml"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> setConfigurationProjectName(String pn) { LogFactory.getLog(getClass()).info(<span class="hljs-string"><span class="hljs-string">"the configuration project name is "</span></span> + pn); } }</code> </pre> <br> ç¬¬ä¸€ä¸ªç¤ºä¾‹ä½¿ç”¨Spring beané…ç½®XMLæ ¼å¼ã€‚ åœ¨Spring 3.0å’Œ3.1ä¸­ï¼Œä½¿ç”¨Javaé…ç½®çš„å¼€å‘äººå‘˜çš„æƒ…å†µå·²å¤§å¤§æ”¹å–„ã€‚ åœ¨è¿™äº›å‘è¡Œç‰ˆä¸­å¼•å…¥äº†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">Value</a>æ³¨é‡Šå’ŒEnvironmentæŠ½è±¡ã€‚ <br><br><h3> æŠ½è±¡ç¯å¢ƒä¸<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">ä»·å€¼</a> </h3><br> åœ¨ä»£ç æ‰§è¡ŒæœŸé—´ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç¯å¢ƒ</a>æŠ½è±¡è¡¨ç¤ºå…¶ä¸è¿è¡Œç¯å¢ƒä¹‹é—´çš„é—´æ¥å…³ç³»ï¼Œå¹¶å…è®¸åº”ç”¨ç¨‹åºæå‡ºæœ‰å…³ç¯å¢ƒå±æ€§çš„é—®é¢˜ï¼ˆâ€œæ­¤å¹³å°ä¸Šçš„line.separatoræ˜¯ä»€ä¹ˆè¡Œåˆ†éš”ç¬¦ï¼Ÿâ€ï¼‰ã€‚ æŠ½è±¡å……å½“é”®å’Œå€¼çš„æ˜ å°„ã€‚ é€šè¿‡åœ¨ç¯å¢ƒä¸­é…ç½®PropertySourceï¼Œå¯ä»¥é…ç½®ä»ä½•å¤„è¯»å–è¿™äº›å€¼ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpringåŠ è½½ç³»ç»Ÿé”®å’Œç¯å¢ƒå€¼ï¼Œä¾‹å¦‚line.separatorã€‚ æ‚¨å¯ä»¥ä½¿ç”¨@PropertySourceæ‰¹æ³¨æŒ‡ç¤ºSpringæŒ‰ç…§ä¸åœ¨Springçš„å±æ€§æ›¿æ¢è§£å†³æ–¹æ¡ˆçš„æ—©æœŸç‰ˆæœ¬ä¸­ä½¿ç”¨çš„é¡ºåºç›¸åŒçš„é¡ºåºä»æ–‡ä»¶ä¸­åŠ è½½é…ç½®å¯†é’¥ã€‚ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">Value</a>æ³¨é‡Šæä¾›äº†ä¸€ç§å°†ç¯å¢ƒå€¼åµŒå…¥åˆ°æ„é€ å‡½æ•°ï¼Œsetterï¼Œå­—æ®µç­‰ä¸­çš„æ–¹æ³•ã€‚å¯ä»¥ä½¿ç”¨Spring Expression Languageæˆ–å±æ€§æ›¿æ¢è¯­æ³•ï¼ˆå¦‚æœ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å·²</a>æ³¨å†Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PropertySourcesPlaceholderConfigurer</a>æ¥è®¡ç®—è¿™äº›å€¼ï¼‰ï¼Œå¦‚ç¤ºä¾‹3.4ä¸­æ‰€ç¤ºã€‚ <br><br> ç¤ºä¾‹3.4 æ³¨å†ŒPropertySourcesPlaceholderConfigurer <br> åŒ…ç¯å¢ƒ; <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.apache.commons.logging.Log; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.apache.commons.logging.LogFactory; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.beans.factory.InitializingBean; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.beans.factory.<span class="hljs-keyword"><span class="hljs-keyword">annotation</span></span>.Autowired; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.beans.factory.<span class="hljs-keyword"><span class="hljs-keyword">annotation</span></span>.Value; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.<span class="hljs-keyword"><span class="hljs-keyword">annotation</span></span>.AnnotationConfigApplicationContext; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.<span class="hljs-keyword"><span class="hljs-keyword">annotation</span></span>.Bean; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.<span class="hljs-keyword"><span class="hljs-keyword">annotation</span></span>.Configuration; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.<span class="hljs-keyword"><span class="hljs-keyword">annotation</span></span>.PropertySource; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.support.PropertySourcesPlaceholderConfigurer; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.core.env.Environment; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.<span class="hljs-keyword"><span class="hljs-keyword">annotation</span></span>.PostConstruct; (<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Configuration</span></span> <span class="hljs-meta"><span class="hljs-meta">@PropertySource(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"some.properties"</span></span></span><span class="hljs-meta">)</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Application</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Log log = LogFactory.getLog(getClass()); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> static void main(String[] args) throws Throwable { new AnnotationConfigApplicationContext(Application.<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>); } (<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Bean</span></span> static PropertySourcesPlaceholderConfigurer pspc() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> new PropertySourcesPlaceholderConfigurer(); } (<span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Value(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"</span></span><span class="hljs-subst"><span class="hljs-meta"><span class="hljs-meta-string"><span class="hljs-subst">${configuration.projectName}</span></span></span></span><span class="hljs-meta"><span class="hljs-meta-string">"</span></span></span><span class="hljs-meta">)</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String fieldValue; (<span class="hljs-number"><span class="hljs-number">4</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> Application(<span class="hljs-meta"><span class="hljs-meta">@Value(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"</span></span><span class="hljs-subst"><span class="hljs-meta"><span class="hljs-meta-string"><span class="hljs-subst">${configuration.projectName}</span></span></span></span><span class="hljs-meta"><span class="hljs-meta-string">"</span></span></span><span class="hljs-meta">)</span></span> String pn) { log.info(<span class="hljs-string"><span class="hljs-string">"Application constructor: "</span></span> + pn); } (<span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Value(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"</span></span><span class="hljs-subst"><span class="hljs-meta"><span class="hljs-meta-string"><span class="hljs-subst">${configuration.projectName}</span></span></span></span><span class="hljs-meta"><span class="hljs-meta-string">"</span></span></span><span class="hljs-meta">)</span></span> void setProjectName(String projectName) { log.info(<span class="hljs-string"><span class="hljs-string">"setProjectName: "</span></span> + projectName); } (<span class="hljs-number"><span class="hljs-number">6</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> void setEnvironment(Environment env) { log.info(<span class="hljs-string"><span class="hljs-string">"setEnvironment: "</span></span> + env.getProperty(<span class="hljs-string"><span class="hljs-string">"configuration.projectName"</span></span>)); } (<span class="hljs-number"><span class="hljs-number">7</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Bean</span></span> InitializingBean both(Environment env, <span class="hljs-meta"><span class="hljs-meta">@Value(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"</span></span><span class="hljs-subst"><span class="hljs-meta"><span class="hljs-meta-string"><span class="hljs-subst">${configuration.projectName}</span></span></span></span><span class="hljs-meta"><span class="hljs-meta-string">"</span></span></span><span class="hljs-meta">)</span></span> String projectName) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> () -&gt; { log.info(<span class="hljs-string"><span class="hljs-string">"@Bean with both dependencies (projectName): "</span></span> + projectName); log.info(<span class="hljs-string"><span class="hljs-string">"@Bean with both dependencies (env): "</span></span> + env.getProperty(<span class="hljs-string"><span class="hljs-string">"configuration.projectName"</span></span>)); }; } <span class="hljs-meta"><span class="hljs-meta">@PostConstruct</span></span> void afterPropertiesSet() throws Throwable { log.info(<span class="hljs-string"><span class="hljs-string">"fieldValue: "</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.fieldValue); } }</code> </pre> <br>  ï¼ˆ1ï¼‰æ³¨é‡Š@PropertySourceæ˜¯ç±»ä¼¼äºproperty-placeholderçš„ç®€å†™ï¼Œå®ƒä»æ‰©å±•åä¸º.propertiesçš„æ–‡ä»¶ä¸­è®¾ç½®PropertySourceã€‚ <br><br>  ï¼ˆ2ï¼‰PropertySourcesPlaceholderConfigureréœ€è¦æ³¨å†Œä¸ºé™æ€beanï¼Œå› ä¸ºå®ƒæ˜¯BeanFactoryPostProcessorçš„å®ç°ï¼Œå¹¶ä¸”å¿…é¡»åœ¨Spring beançš„åˆå§‹åŒ–ç”Ÿå‘½å‘¨æœŸçš„æ—©æœŸé˜¶æ®µè°ƒç”¨ã€‚ åœ¨Spring XMLé…ç½®ä¸­ä½¿ç”¨beanç»„ä»¶æ—¶ï¼Œè¿™ç§ç»†å¾®å·®åˆ«æ˜¯ä¸å¯è§çš„ã€‚ <br><br>  ï¼ˆ3ï¼‰æ‚¨å¯ä»¥ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">Value</a>æ³¨é‡Šä¿®é¥°å­—æ®µï¼ˆä½†ä¸è¦è¿™æ ·åšï¼Œå¦åˆ™ä»£ç å°†æ— æ³•é€šè¿‡æµ‹è¯•ï¼ï¼‰... <br><br>  ï¼ˆ4ï¼‰...æˆ–è€…<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">Value</a>æ³¨é‡Šå¯ä»¥ä¿®é¥°æ„é€ å‡½æ•°å‚æ•°... <br><br>  ï¼ˆ5ï¼‰...æˆ–ä½¿ç”¨å®‰è£…æ–¹æ³•... <br><br>  ï¼ˆ6ï¼‰...æˆ–åµŒå…¥Spring Environmentå¯¹è±¡å¹¶æ‰‹åŠ¨æ‰§è¡Œé”®è§£æã€‚ <br><br>  ï¼ˆ7ï¼‰å…·æœ‰<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">Value</a>æ‰¹æ³¨çš„å‚æ•°ä¹Ÿå¯ä»¥åœ¨Spring Javaé…ç½®çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">Bean</a>æ–¹æ³•å‚æ•°æä¾›ç¨‹åºä¸­ä½¿ç”¨ã€‚ <br><br> åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œå€¼æ˜¯ä»simple.propertiesæ–‡ä»¶åŠ è½½çš„ï¼Œç„¶åå…·æœ‰å€¼configuration.projectNameï¼Œè¯¥å€¼ä»¥å„ç§æ–¹å¼æä¾›ã€‚ <br><br><h3> ä¸ªäººèµ„æ–™ </h3><br> å…¶ä¸­ï¼Œç¯å¢ƒæŠ½è±¡å¼•å…¥äº†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">profile</a> ã€‚ è¿™å…è®¸æ‚¨åˆ†é…æ ‡ç­¾ï¼ˆé…ç½®æ–‡ä»¶ï¼‰ä»¥ä¾¿å¯¹beanç»„ä»¶è¿›è¡Œåˆ†ç»„ã€‚ æ¦‚è¦æ–‡ä»¶åº”ç”¨äºæè¿°å› ç¯å¢ƒè€Œå¼‚çš„beanç»„ä»¶å’Œbeanå›¾ã€‚ å¯ä»¥åŒæ—¶æ¿€æ´»å¤šä¸ªé…ç½®æ–‡ä»¶ã€‚ æ²¡æœ‰ä¸ºå…¶åˆ†é…æ¦‚è¦æ–‡ä»¶çš„Beanæ€»æ˜¯è¢«æ¿€æ´»ã€‚ å…·æœ‰ç¼ºçœæ¦‚è¦æ–‡ä»¶çš„Beanä»…åœ¨æ²¡æœ‰å…¶ä»–æ´»åŠ¨æ¦‚è¦æ–‡ä»¶çš„æƒ…å†µä¸‹æ‰è¢«æ¿€æ´»ã€‚ å¯ä»¥åœ¨XMLçš„beanç»„ä»¶å®šä¹‰ä¸­æˆ–åœ¨æ ‡è®°ç±»ï¼Œé…ç½®ç±»ï¼Œå•ä¸ªbeanç»„ä»¶ä¸­ï¼Œæˆ–åœ¨ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">Profile</a>çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">Bean</a>æä¾›ç¨‹åºçš„æ–¹æ³•ä¸­æŒ‡å®šprofileå±æ€§ã€‚ <br><br> æ¦‚è¦æ–‡ä»¶ä½¿æ‚¨èƒ½å¤Ÿæè¿°å¿…é¡»åœ¨ä¸€ä¸ªç¯å¢ƒä¸­åˆ›å»ºçš„beanç»„ä»¶é›†ä¸åœ¨å¦ä¸€ä¸ªç¯å¢ƒä¸­æœ‰æ‰€ä¸åŒçš„é›†ã€‚ ä¾‹å¦‚ï¼Œåœ¨æœ¬åœ°å¼€å‘devæ¦‚è¦æ–‡ä»¶ä¸­ï¼Œå¯ä»¥ä½¿ç”¨å†…ç½®çš„H2æ•°æ®æºjavax.sql.DataSourceï¼Œç„¶ååœ¨prodæ¦‚è¦æ–‡ä»¶å¤„äºæ´»åŠ¨çŠ¶æ€æ—¶ï¼Œåˆ‡æ¢åˆ°ä½¿ç”¨JNDIæœç´¢è·å¾—çš„javax.sql.DataSourceæ•°æ®æºã€‚é€šè¿‡ä»<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Cloud Foundryä¸­</a>çš„ç¯å¢ƒå˜é‡è¯»å–å±æ€§ã€‚ åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œæ‚¨çš„ä»£ç éƒ½å¯ä»¥å·¥ä½œï¼šæ‚¨å°†è·å¾—javax.sql.DataSourceï¼Œä½†æ˜¯é€šè¿‡æ¿€æ´»ä¸€ä¸ªæˆ–å¤šä¸ªæ¦‚è¦æ–‡ä»¶ï¼ˆç¤ºä¾‹3.5ï¼‰æ¥å†³å®šä½¿ç”¨å“ªä¸ªç‰¹å®šå®ä¾‹ã€‚ <br><br> ç¤ºä¾‹3.5 æ¼”ç¤º@Configurationç±»å¯ä»¥åŠ è½½å„ç§é…ç½®æ–‡ä»¶å¹¶æ ¹æ®ä»¥ä¸‹å†…å®¹æä¾›ä¸åŒçš„bean <br> æ´»åŠ¨èµ„â€‹â€‹æ–™ <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> profiles; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.apache.commons.logging.Log; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.apache.commons.logging.LogFactory; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.beans.factory.InitializingBean; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.beans.factory.<span class="hljs-keyword"><span class="hljs-keyword">annotation</span></span>.Value; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.<span class="hljs-keyword"><span class="hljs-keyword">annotation</span></span>.*; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.support.PropertySourcesPlaceholderConfigurer; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.core.env.Environment; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.util.StringUtils; <span class="hljs-meta"><span class="hljs-meta">@Configuration</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Application</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Log log = LogFactory.getLog(getClass()); <span class="hljs-meta"><span class="hljs-meta">@Bean</span></span> static PropertySourcesPlaceholderConfigurer pspc() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> new PropertySourcesPlaceholderConfigurer(); } (<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Configuration</span></span> <span class="hljs-meta"><span class="hljs-meta">@Profile(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"prod"</span></span></span><span class="hljs-meta">)</span></span> <span class="hljs-meta"><span class="hljs-meta">@PropertySource(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"some-prod.properties"</span></span></span><span class="hljs-meta">)</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> static <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ProdConfiguration</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Bean</span></span> InitializingBean <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> () -&gt; LogFactory.getLog(getClass()).info(<span class="hljs-string"><span class="hljs-string">"prod InitializingBean"</span></span>); } } <span class="hljs-meta"><span class="hljs-meta">@Configuration</span></span> <span class="hljs-meta"><span class="hljs-meta">@Profile({ </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"default"</span></span></span><span class="hljs-meta">, </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"dev"</span></span></span><span class="hljs-meta"> })</span></span> (<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-meta"><span class="hljs-meta">@PropertySource(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"some.properties"</span></span></span><span class="hljs-meta">)</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> static <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DefaultConfiguration</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Bean</span></span> InitializingBean <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> () -&gt; LogFactory.getLog(getClass()).info(<span class="hljs-string"><span class="hljs-string">"default InitializingBean"</span></span>); } } (<span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Bean</span></span> InitializingBean which(Environment e, <span class="hljs-meta"><span class="hljs-meta">@Value(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"</span></span><span class="hljs-subst"><span class="hljs-meta"><span class="hljs-meta-string"><span class="hljs-subst">${configuration.projectName}</span></span></span></span><span class="hljs-meta"><span class="hljs-meta-string">"</span></span></span><span class="hljs-meta">)</span></span> String projectName) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> () -&gt; { log.info(<span class="hljs-string"><span class="hljs-string">"activeProfiles: '"</span></span> + StringUtils.arrayToCommaDelimitedString(e.getActiveProfiles()) + <span class="hljs-string"><span class="hljs-string">"'"</span></span>); log.info(<span class="hljs-string"><span class="hljs-string">"configuration.projectName: "</span></span> + projectName); }; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> static void main(String[] args) { AnnotationConfigApplicationContext ac = new AnnotationConfigApplicationContext(); ac.getEnvironment().setActiveProfiles(<span class="hljs-string"><span class="hljs-string">"dev"</span></span>); (<span class="hljs-number"><span class="hljs-number">4</span></span>) ac.register(Application.<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>); ac.refresh(); } }</code> </pre> <br>  ï¼ˆ1ï¼‰ä»…å½“prodé…ç½®æ–‡ä»¶å¤„äºæ´»åŠ¨çŠ¶æ€æ—¶ï¼Œæ‰ä¼šè®¡ç®—æ­¤é…ç½®ç±»åŠå…¶ä¸­åŒ…å«çš„æ‰€æœ‰<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">Bean</a>å®šä¹‰ã€‚ <br><br>  ï¼ˆ2ï¼‰ä»…å½“devé…ç½®æ–‡ä»¶å¤„äºæ´»åŠ¨çŠ¶æ€æˆ–æ²¡æœ‰é…ç½®æ–‡ä»¶å¤„äºæ´»åŠ¨çŠ¶æ€ï¼ˆåŒ…æ‹¬devï¼‰æ—¶ï¼Œæ‰ä¼šè®¡ç®—æ­¤é…ç½®ç±»åŠå…¶ä¸­åŒ…å«çš„æ‰€æœ‰<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">Bean</a>å®šä¹‰ã€‚ <br><br>  ï¼ˆ3ï¼‰æ­¤InitializingBeanç»„ä»¶ä»…è®°å½•å½“å‰æ´»åŠ¨çš„æ¦‚è¦æ–‡ä»¶ï¼Œå¹¶è¾“å…¥æœ€ç»ˆè¾“å…¥åˆ°å±æ€§æ–‡ä»¶ä¸­çš„å€¼ã€‚ <br><br>  ï¼ˆ4ï¼‰ä»¥ç¼–ç¨‹æ–¹å¼æ¿€æ´»ä¸€ä¸ªæˆ–å¤šä¸ªé…ç½®æ–‡ä»¶éå¸¸ç®€å•ã€‚ <br><br>  Springä½¿ç”¨spring_profiles_activeæˆ–spring.profiles.activeä»¤ç‰Œå“åº”å…¶ä»–å‡ ç§é…ç½®æ–‡ä»¶æ¿€æ´»æ–¹æ³•ã€‚ å¯ä»¥ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼ˆä¾‹å¦‚ï¼ŒSPRING_PROFILES_ACTIVEï¼‰ï¼ŒJVMå±æ€§ï¼ˆ-Dspring.profiles.active = ...ï¼‰ï¼ŒServletåº”ç”¨ç¨‹åºåˆå§‹åŒ–å‚æ•°æˆ–é€šè¿‡ç¼–ç¨‹æ¥è®¾ç½®æ¦‚è¦æ–‡ä»¶ã€‚ <br><br><h3> å¼•å¯¼é…ç½® </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Spring Boot</a>å¤§å¤§æ”¹å–„äº†è¿™ç§æƒ…å†µã€‚ è¯¥ç¯å¢ƒæœ€åˆå°†è‡ªåŠ¨ä»é¢„å®šä¹‰ä½ç½®çš„å±‚æ¬¡ç»“æ„ä¸­åŠ è½½å±æ€§ã€‚ å‘½ä»¤è¡Œå‚æ•°è¦†ç›–ä»JNDIæ´¾ç”Ÿçš„å±æ€§å€¼ï¼Œè¯¥å±æ€§å€¼è¦†ç›–ä»System.getPropertiesï¼ˆï¼‰ç­‰è·å–çš„å±æ€§ã€‚ <br><br>  -å‘½ä»¤è¡Œå‚æ•°ã€‚ <br>  -æ¥è‡ªJavaçš„JNDIå±æ€§ï¼šcomp / envã€‚ <br>  -System.getPropertiesï¼ˆï¼‰çš„å±æ€§ã€‚ <br>  -æ“ä½œç³»ç»Ÿç¯å¢ƒå˜é‡ã€‚ <br>  -æ–‡ä»¶ç³»ç»Ÿä¸­çš„å¤–éƒ¨å±æ€§æ–‡ä»¶ï¼šï¼ˆconfig /ï¼‰ï¼ŸApplicationï¼ˆYml.propertiesï¼‰ã€‚ <br>  -å­˜æ¡£ï¼ˆconfig /ï¼‰ï¼Ÿåº”ç”¨ç¨‹åºï¼ˆYml.propertiesï¼‰ä¸­çš„å†…éƒ¨å±æ€§æ–‡ä»¶ã€‚ <br>  -é…ç½®ç±»ä¸­çš„æ³¨é‡Š@PropertySourceã€‚ <br>  -æ¥è‡ªSpringApplication.getDefaultPropertiesï¼ˆï¼‰çš„æºå±æ€§ã€‚ <br><br> å¦‚æœ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ¦‚è¦æ–‡ä»¶å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œ</a>é‚£ä¹ˆå°†è‡ªåŠ¨ä»åŸºäºæ¦‚è¦æ–‡ä»¶åç§°çš„é…ç½®æ–‡ä»¶ä¸­è¯»å–æ•°æ®ï¼Œä¾‹å¦‚ï¼Œä»è¯¸å¦‚src / main / resources / application-foo.propertiesä¹‹ç±»çš„æ–‡ä»¶ä¸­è¯»å–ï¼Œå…¶ä¸­fooæ˜¯å½“å‰æ¦‚è¦æ–‡ä»¶ã€‚ <br><br> å¦‚æœåœ¨ç±»è·¯å¾„ä¸­æåˆ°äº†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SnakeYAML</a>åº“ï¼Œåˆ™å°†éµå¾ªåŸºæœ¬ç›¸åŒçš„çº¦å®šè‡ªåŠ¨åŠ è½½YAMLæ–‡ä»¶ã€‚ <br><br><blockquote>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">YAML</a>è§„èŒƒé¡µé¢æŒ‡å‡ºï¼šâ€œ YAMLæ˜¯ä¸€ç§äººç±»å¯è¯»çš„æ ‡å‡†ï¼Œç”¨äºåºåˆ—åŒ–æ‰€æœ‰ç¼–ç¨‹è¯­è¨€çš„æ•°æ®ã€‚â€  YAMLæ˜¯å€¼çš„å±‚æ¬¡ç»“æ„è¡¨ç¤ºã€‚ åœ¨æ‰©å±•åä¸º.propertiesçš„å¸¸è§„æ–‡ä»¶ä¸­ï¼Œå±‚æ¬¡ç»“æ„ç”±ç‚¹ï¼ˆâ€œã€‚â€ï¼‰è¡¨ç¤ºï¼›åœ¨YAMLæ–‡ä»¶ä¸­ï¼Œä½¿ç”¨æ¢è¡Œç¬¦å’Œé™„åŠ çš„ç¼©è¿›çº§åˆ«ã€‚ æœ€å¥½ä½¿ç”¨è¿™äº›æ–‡ä»¶æ¥é¿å…åœ¨å­˜åœ¨é«˜åº¦åˆ†æ”¯çš„é…ç½®æ ‘æ—¶æŒ‡å®šå…¬å…±æ ¹çš„éœ€æ±‚ã€‚ </blockquote><br> ä¾‹3.6ä¸­æ˜¾ç¤ºäº†æ‰©å±•åä¸º.ymlçš„æ–‡ä»¶çš„å†…å®¹ã€‚ <br><br> ç¤ºä¾‹3.6  Application.ymlå±æ€§æ–‡ä»¶ã€‚ æ•°æ®æŒ‰å±‚æ¬¡ç»“æ„é¡ºåºæ˜¾ç¤ºã€‚ <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">configuration</span></span>: projectName : Spring Boot management: <span class="hljs-keyword"><span class="hljs-keyword">security</span></span>: enabled: <span class="hljs-keyword"><span class="hljs-keyword">false</span></span></code> </pre> <br> å¦å¤–ï¼Œåœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒSpring Bootç¯å¢ƒä½¿è·å¾—æ­£ç¡®ç»“æœå˜å¾—å®¹æ˜“å¾—å¤šã€‚ å®ƒå°†-Då‚æ•°è½¬æ¢ä¸ºå¯ç”¨ä½œå±æ€§çš„è¿›ç¨‹å’Œjavaç¯å¢ƒå˜é‡ã€‚ å®ƒç”šè‡³æ‰§è¡Œè§„èŒƒåŒ–ï¼Œå…¶ä¸­ç¯å¢ƒå˜é‡$ CONFIGURATION_PROJECTNAMEï¼ˆPROJECT_NAME CONFIGURATIONï¼‰æˆ–-Då‚æ•°å½¢å¼ä¸ºâ€“Dconfiguration.projectNameï¼ˆconfiguration.project_nameï¼‰ï¼Œå¯ä»¥åƒä»¥å‰ä¸€æ ·ä½¿ç”¨configuration.projectNameé”®ï¼ˆconfiguration.project_nameï¼‰ä½¿ç”¨ã€‚ spring_profiles_activeä»¤ç‰Œå¯ç”¨ã€‚ <br><br> é…ç½®å€¼æ˜¯å­—ç¬¦ä¸²ï¼Œå¦‚æœè¶³å¤Ÿï¼Œåˆ™åœ¨å°è¯•ç¡®ä¿è¿™äº›é”®æœ¬èº«ä¸ä¼šæˆä¸ºä»£ç ä¸­çš„é­”æœ¯å­—ç¬¦ä¸²æ—¶ï¼Œå®ƒä»¬å¯èƒ½å˜å¾—ä¸å¯è¯»ã€‚  Spring Bootå¼•å…¥äº†ç»„ä»¶ç±»å‹@ConfigurationPropertiesã€‚ å½“ä½¿ç”¨@ConfigurationPropertiesæ³¨é‡ŠPOJOï¼ˆæ™®é€šçš„Javaå¯¹è±¡ï¼‰å¹¶æŒ‡å®šå‰ç¼€æ—¶ï¼ŒSpringä¼šå°è¯•å°†æ‰€æœ‰ä»¥æ­¤å‰ç¼€å¼€å¤´çš„å±æ€§æ˜ å°„åˆ°POJOå±æ€§ã€‚ åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œconfiguration.projectNameçš„å€¼å°†æ˜ å°„åˆ°POJOå®ä¾‹ï¼Œç„¶åæ‰€æœ‰ä»£ç éƒ½å¯ä»¥æ³¨å…¥å¹¶å–æ¶ˆå¼•ç”¨ä»¥è¯»å–ç±»å‹å®‰å…¨å€¼ã€‚ å¦‚æ­¤ä¸€æ¥ï¼Œæ‚¨å°†åªä»ï¼ˆStringï¼‰é”®è·å¾—ä¸€ä¸ªæ˜ å°„ï¼ˆç¤ºä¾‹3.7ï¼‰ã€‚ <br><br> ç¤ºä¾‹3.7 è‡ªåŠ¨ä»src / main / resources / application.ymlä¸­è§£æå±æ€§ <br> è½¯ä»¶åŒ…å¯åŠ¨ï¼› <br><br><pre> <code class="hljs java"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.apache.commons.logging.Log; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.apache.commons.logging.LogFactory; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.beans.factory.annotation.Autowired; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.boot.SpringApplication; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.boot.autoconfigure.SpringBootApplication; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.boot.context.properties.ConfigurationProperties; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.boot.context.properties.EnableConfigurationProperties; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.stereotype.Component; (<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-meta"><span class="hljs-meta">@EnableConfigurationProperties</span></span> <span class="hljs-meta"><span class="hljs-meta">@SpringBootApplication</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Application</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Log log = LogFactory.getLog(getClass()); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ SpringApplication.run(Application.class); } <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Application</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ConfigurationProjectProperties cp)</span></span></span><span class="hljs-function"> </span></span>{ log.info(<span class="hljs-string"><span class="hljs-string">"configurationProjectProperties.projectName = "</span></span> + cp.getProjectName()); } } (<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Component</span></span> <span class="hljs-meta"><span class="hljs-meta">@ConfigurationProperties</span></span>(<span class="hljs-string"><span class="hljs-string">"configuration"</span></span>) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ConfigurationProjectProperties</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String projectName; (<span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getProjectName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> projectName; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setProjectName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String projectName)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.projectName = projectName; } }</code> </pre> <br>  ï¼ˆ1ï¼‰@EnableConfigurationPropertiesæ³¨é‡Šå‘Šè¯‰Springå°†å±æ€§æ˜ å°„åˆ°ä»¥@ConfigurationPropertiesæ³¨é‡Šçš„POJOã€‚ <br><br>  ï¼ˆ2ï¼‰@ConfigurationPropertiesæ³¨é‡Šæ˜¾ç¤ºSpringè¯¥beanåº”è¯¥ç”¨ä½œé…ç½®å¼€å§‹çš„æ‰€æœ‰å±æ€§çš„æ ¹ã€‚ç´§éšå…¶åçš„æ˜¯æ˜ å°„åˆ°å¯¹è±¡å±æ€§çš„æ ‡è®°ã€‚ <br><br>  ï¼ˆ3ï¼‰projectNameå­—æ®µæœ€ç»ˆå°†å…·æœ‰åˆ†é…ç»™configuration.projectNameå±æ€§é”®çš„å€¼ã€‚ <br><br>  Spring Bootä¸»åŠ¨ä½¿ç”¨@ConfigurationPropertiesæœºåˆ¶ä½¿ç”¨æˆ·èƒ½å¤Ÿè¦†ç›–ç³»ç»Ÿçš„åŸºæœ¬ç»„ä»¶ã€‚ æ‚¨å¯èƒ½ä¼šæ³¨æ„åˆ°ï¼Œå±æ€§é”®ä½¿æ‚¨å¯ä»¥è¿›è¡Œæ›´æ”¹ï¼Œä¾‹å¦‚ï¼Œé€šè¿‡å°†org.springframework.bootï¼šspring-boot-starter-actuatorä¾èµ–é¡¹æ·»åŠ åˆ°Spring Boot Webåº”ç”¨ç¨‹åºï¼Œç„¶åè®¿é—®<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">127.0.0.1ï¼š8080</a> / configpropsã€‚ <br><br><blockquote> æ‰§è¡Œå™¨ç«¯ç‚¹å°†åœ¨ç¬¬13ç« ä¸­æ›´è¯¦ç»†åœ°è®¨è®ºã€‚å®ƒä»¬è¢«é”å®šï¼Œå¹¶ä¸”éœ€è¦é»˜è®¤çš„ç”¨æˆ·åå’Œå¯†ç ã€‚ å¯ä»¥é€šè¿‡åœ¨application.propertiesæ–‡ä»¶ï¼ˆæˆ–application.ymlï¼‰ä¸­æŒ‡å®šmanagement.security.enabled = falseæ¥ç¦ç”¨å®‰å…¨æªæ–½ï¼ˆä½†ä»…è€ƒè™‘è¿™äº›è¦ç‚¹ï¼‰ã€‚ </blockquote><br> æ‚¨å°†åœ¨è¿è¡Œæ—¶åŸºäºç±»è·¯å¾„ä¸­æ˜¾ç¤ºçš„ç±»å‹è·å–å—æ”¯æŒçš„é…ç½®å±æ€§çš„åˆ—è¡¨ã€‚ éšç€Spring Bootç±»å‹æ•°é‡çš„å¢åŠ ï¼Œå°†æ˜¾ç¤ºå…¶ä»–å±æ€§ã€‚ è¯¥ç«¯ç‚¹è¿˜å°†æ˜¾ç¤ºç”±POJOå¯¼å‡ºçš„å…·æœ‰@ConfigurationPropertiesæ‰¹æ³¨çš„å±æ€§ã€‚ <br><br><h3> ä½¿ç”¨Spring Cloud Configuration Serverè¿›è¡Œé›†ä¸­å¼æ³¨å†Œé…ç½® </h3><br> åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä¸€åˆ‡éƒ½å¾ˆå¥½ï¼Œä½†æ˜¯äº‹æƒ…éœ€è¦æ›´åŠ æˆåŠŸã€‚ æˆ‘ä»¬ä»æœªå›ç­”æœ‰å…³å¸¸è§ç”¨ä¾‹çš„é—®é¢˜ï¼š <br><br><ul><li> å¯¹åº”ç”¨ç¨‹åºé…ç½®è¿›è¡Œæ›´æ”¹åï¼Œéœ€è¦é‡æ–°å¯åŠ¨ï¼› </li><li> æ— å¯è¿½æº¯æ€§ï¼šå¦‚ä½•ç¡®å®šæŠ•å…¥è¿è¡Œçš„æ›´æ”¹ï¼Œå¹¶åœ¨å¿…è¦æ—¶å°†å…¶å›æ»šï¼Ÿ </li><li> é…ç½®åˆ†æ•£ ç›®å‰å°šä¸æ¸…æ¥šåº”åœ¨ä½•å¤„è¿›è¡Œæ›´æ”¹ä»¥æ›´æ”¹ä¸€ä¸ªæˆ–å¦ä¸€ä¸ªæ–¹é¢ï¼› </li><li> å‡ºäºå®‰å…¨ç›®çš„ï¼Œæ²¡æœ‰å®‰è£…æ”¯æŒç¼–ç å’Œè§£ç ã€‚ </li></ul><br><h3>  Spring Cloudé…ç½®æœåŠ¡å™¨ </h3><br> é€šè¿‡å°†é…ç½®ä¿å­˜åœ¨ä¸€ä¸ªç›®å½•ä¸­å¹¶å°†æ‰€æœ‰åº”ç”¨ç¨‹åºæŒ‡å‘è¯¥ç›®å½•ï¼Œå¯ä»¥è§£å†³é›†ä¸­é…ç½®çš„é—®é¢˜ã€‚ æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨Gitæˆ–Subversionå®‰è£…æ­¤ç›®å½•çš„ç‰ˆæœ¬æ§åˆ¶ã€‚ ç„¶åå°†æ”¶åˆ°éªŒè¯å’Œæ³¨å†Œæ‰€éœ€çš„æ”¯æŒã€‚ ä½†æ˜¯ä»ç„¶ä¸èƒ½æ»¡è¶³æœ€åä¸¤ä¸ªè¦æ±‚ï¼Œå› æ­¤éœ€è¦æ›´å¤æ‚çš„ä¸œè¥¿ã€‚ è½¬åˆ°<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Spring Cloud</a>é…ç½®æœåŠ¡å™¨ã€‚  Spring Cloudå¹³å°æä¾›äº†é…ç½®æœåŠ¡å™¨å’Œè¯¥æœåŠ¡å™¨çš„å®¢æˆ·ç«¯ã€‚ <br><br>  Spring Cloud ConfigæœåŠ¡å™¨æ˜¯ä¸€ä¸ªREST APIï¼Œæˆ‘ä»¬çš„å®¢æˆ·ç«¯å°†è¿æ¥åˆ°è¯¥REST APIä»¥æ£€ç´¢å…¶é…ç½®ã€‚ æœåŠ¡å™¨è¿˜ç®¡ç†ç‰ˆæœ¬æ§åˆ¶é…ç½®å­˜å‚¨åº“ã€‚ ä»–æ˜¯æˆ‘ä»¬çš„å®¢æˆ·ç«¯å’Œé…ç½®å­˜å‚¨åº“ä¹‹é—´çš„ä¸­ä»‹ï¼Œå› æ­¤åœ¨å®æ–½å®‰å…¨å·¥å…·æ–¹é¢å¤„äºæœ‰åˆ©çš„ä½ç½®ï¼Œè¯¥å®‰å…¨å·¥å…·ç”¨äºè¿æ¥å®¢æˆ·ç«¯åˆ°æœåŠ¡çš„è¿æ¥ä»¥åŠå…·æœ‰ç‰ˆæœ¬æ§åˆ¶çš„æœåŠ¡åˆ°é…ç½®å­˜å‚¨åº“çš„è¿æ¥ã€‚  Spring Cloud Configå®¢æˆ·ç«¯ä¸ºå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºæä¾›äº†ä¸€ä¸ªæ–°çš„èŒƒå›´ï¼Œåˆ·æ–°ï¼Œè¿™ä½¿æ‚¨æ— éœ€é‡æ–°å¯åŠ¨åº”ç”¨ç¨‹åºå³å¯å†æ¬¡é…ç½®Springç»„ä»¶ã€‚ <br><br><blockquote> è¯¸å¦‚Spring Cloud ConfigæœåŠ¡å™¨ä¹‹ç±»çš„æŠ€æœ¯èµ·ç€é‡è¦ä½œç”¨ï¼Œä½†ä¼šå¸¦æ¥é¢å¤–çš„å¼€é”€ã€‚ ç†æƒ³æƒ…å†µä¸‹ï¼Œåº”å°†æ­¤è´£ä»»è½¬ç§»åˆ°å¹³å°å¹¶è‡ªåŠ¨æ‰§è¡Œã€‚ ä½¿ç”¨Cloud Foundryæ—¶ï¼Œæ‚¨å¯ä»¥åœ¨æœåŠ¡ç›®å½•ä¸­æ‰¾åˆ°Config ServeræœåŠ¡ï¼Œå…¶æ“ä½œåŸºäºå¯¹Spring Cloud ConfigæœåŠ¡å™¨çš„ä½¿ç”¨ã€‚ </blockquote><br> è€ƒè™‘ä¸€ä¸ªç®€å•çš„ä¾‹å­ã€‚ é¦–å…ˆï¼Œé…ç½®Spring Cloud ConfigæœåŠ¡å™¨ã€‚ ä¸€ä¸ªè¿™æ ·çš„æœåŠ¡å¯ä»¥è¢«å¤šä¸ªSpring Bootåº”ç”¨ç¨‹åºä¸€æ¬¡è®¿é—®ã€‚ æ‚¨éœ€è¦ä½¿å…¶ä»¥æŸç§æ–¹å¼å·¥ä½œã€‚ ç„¶åï¼Œä»…å°†æ‰€æœ‰é…ç½®æœåŠ¡é€šçŸ¥åˆ°æˆ‘ä»¬çš„æœåŠ¡å³å¯ã€‚ å®ƒå……å½“ä¸­ä»‹çš„ä¸€ç§ä¸­ä»‹ï¼Œå®ƒå¯ä»¥é€šè¿‡ç½‘ç»œæˆ–ç£ç›˜ä»Gitå­˜å‚¨ä¸­è¯»å–é…ç½®å¯†é’¥å’Œå€¼ã€‚ å°†å­—ç¬¦ä¸²org.springframework.cloudï¼šspring-cloud-config-serveræ·»åŠ åˆ°Spring Bootåº”ç”¨ç¨‹åºçš„ç¨‹åºé›†ä¸­ï¼Œä»¥è¾“å…¥Spring Cloud ConfigæœåŠ¡å™¨ï¼ˆç¤ºä¾‹3.8ï¼‰ã€‚ <br><br> ç¤ºä¾‹3.8 è¦å°†é…ç½®æœåŠ¡å™¨åµŒå…¥åˆ°ç¨‹åºé›†ä¸­ï¼Œè¯·ä½¿ç”¨@EnableConfigServeræ‰¹æ³¨ <br><br><pre> <code class="hljs java"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> demo; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.boot.SpringApplication; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.boot.autoconfigure.SpringBootApplication; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.cloud.config.server.EnableConfigServer; (<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-meta"><span class="hljs-meta">@SpringBootApplication</span></span> <span class="hljs-meta"><span class="hljs-meta">@EnableConfigServer</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Application</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ SpringApplication.run(Application.class, args); } }</code> </pre> <br>  ï¼ˆ1ï¼‰ä½¿ç”¨@EnableConfigServeræ‰¹æ³¨å°†å¯¼è‡´å®‰è£…Spring Cloud ConfigæœåŠ¡å™¨ã€‚ <br><br> ä¾‹3.9æ˜¾ç¤ºäº†é…ç½®æœåŠ¡çš„é…ç½®ã€‚ <br><br> ç¤ºä¾‹3.9  src / main / resources / application.ymlé…ç½®æœåŠ¡å™¨é…ç½® <br><br>  server.port = 8888 <br>  spring.cloud.config.server.git.uri = \ <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">github.com/cloud-native-java/config-server-configuration-repositoryï¼ˆ1</a> ï¼‰ <br><br>  ï¼ˆ1ï¼‰æŒ‡ç¤ºæ­£å¸¸å·¥ä½œçš„Gitå­˜å‚¨åº“çš„æŒ‡ç¤ºï¼Œè¯¥å­˜å‚¨åº“æœ¬è´¨ä¸Šæ˜¯æœ¬åœ°çš„ï¼Œæˆ–è€…å¯ä»¥é€šè¿‡ç½‘ç»œè®¿é—®ï¼ˆä¾‹å¦‚ï¼Œåœ¨GitHubï¼ˆhttps://github.com/ï¼‰ä¸Šï¼‰ï¼Œå¹¶ç”±Spring Cloud ConfigæœåŠ¡å™¨ä½¿ç”¨ã€‚ <br><br> åœ¨è¿™é‡Œï¼ŒæŒ‡ç¤ºSpring Cloudé…ç½®æœåŠ¡åœ¨GitHubä¸Šçš„Gitå­˜å‚¨åº“ä¸­æœç´¢å•ä¸ªå®¢æˆ·ç«¯çš„é…ç½®æ–‡ä»¶ã€‚ æˆ‘ä»¬æŒ‡å‘æ­¤å­˜å‚¨åº“ï¼Œä½†æ˜¯æŒ‡å‘ä»»ä½•æœ‰æ•ˆGit URIçš„é“¾æ¥éƒ½å¯ä»¥ã€‚ å½“ç„¶ï¼Œä»–ç”šè‡³ä¸å¿…ç”³è¯·Gitç³»ç»Ÿï¼Œæ‚¨å¯ä»¥ä½¿ç”¨Subversionç”šè‡³æ˜¯éæ‰˜ç®¡ç›®å½•ï¼ˆå°½ç®¡æˆ‘ä»¬å¼ºçƒˆå»ºè®®æ‚¨ä¸è¦è¿™æ ·åšï¼‰ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå­˜å‚¨URIæ˜¯ç¡¬ç¼–ç çš„ï¼Œä½†æ˜¯æ²¡æœ‰ä»€ä¹ˆé˜»æ­¢å®ƒä»-Då‚æ•°ï¼Œå‚æ•°æˆ–ç¯å¢ƒå˜é‡ä¸­è·å–çš„ã€‚ <br><br>  Â»è¿™æœ¬ä¹¦çš„æ›´å¤šä¿¡æ¯å¯ä»¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨å‡ºç‰ˆå•†çš„ç½‘ç«™ä¸Šæ‰¾åˆ°</a> <br>  Â» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç›®å½•</a> <br>  Â» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ‘˜å½•</a> <br><br>  <b>Java</b>å‘é…µç½ä¼˜æƒ åˆ¸20ï¼…çš„æŠ˜æ‰£<b>-Java</b> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN425109/">https://habr.com/ru/post/zh-CN425109/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN425099/index.html">åˆ›å»ºHacker Newså…‹éš†æ—¶æˆ‘äº†è§£äº†ä»€ä¹ˆä»¥åŠé‡åˆ°äº†ä»€ä¹ˆé—®é¢˜</a></li>
<li><a href="../zh-CN425101/index.html">Docker + Laravel =â¤</a></li>
<li><a href="../zh-CN425103/index.html">åœæ­¢Googleæ é£Ÿè€…è¿½é€å­©å­</a></li>
<li><a href="../zh-CN425105/index.html">è‹±ç‰¹å°”MEåˆ¶é€ æ¨¡å¼-éšè—çš„å¨èƒæˆ–MacBookä¸­æ¼æ´CVE-2018-4251çš„åŸå› </a></li>
<li><a href="../zh-CN425107/index.html">é‡‘èç§‘æŠ€æ‘˜è¦ï¼šç§»åŠ¨ç”Ÿç‰©è¯†åˆ«é—®é¢˜ï¼Œä¸‰æ˜Ÿæ‰‹æœºç§Ÿèµï¼ŒåŒºå—é“¾ä¸Šçš„è¯åˆ¸</a></li>
<li><a href="../zh-CN425111/index.html">å¹¿å‘Šæ‹›æ•°å¯èƒ½ä¼šæµªè´¹æ‚¨çš„é‡‘é’±å’Œå£°èª‰</a></li>
<li><a href="../zh-CN425113/index.html">â€œæ•°å­—å°åˆ·æœ¯â€æˆ–æˆ‘åœ¨ä¹¦ç±ç§»åŠ¨æ•°å­—åŒ–æ–¹é¢çš„ç»éªŒ</a></li>
<li><a href="../zh-CN425115/index.html">æˆç†Ÿçš„DevOpsï¼šä¸‰å¹•å¸Œè…Šæ‚²å‰§</a></li>
<li><a href="../zh-CN425117/index.html">æ¯ä¸ªæ™¶ä½“ç®¡ä¸¤ä½ï¼šIntel 8087æµ®ç‚¹èŠ¯ç‰‡ä¸­çš„é«˜å¯†åº¦ROM</a></li>
<li><a href="../zh-CN425123/index.html">ç½—å…°TR-808é¼“æœºçš„ç¥ç§˜å¿ƒè„</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>