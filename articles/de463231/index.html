<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•ô üåî üéÖüèø Schulung Cisco 200-125 CCNA v3.0. Tag 14. VTP, Bereinigen und natives VLAN üè° üë®‚Äçüè≠ ü§æüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Heute werden wir unsere Diskussion √ºber VLAN fortsetzen und das VTP-Protokoll sowie die Konzepte von VTP-Bereinigung und nativem VLAN diskutieren. In ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Schulung Cisco 200-125 CCNA v3.0. Tag 14. VTP, Bereinigen und natives VLAN</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/463231/"> Heute werden wir unsere Diskussion √ºber VLAN fortsetzen und das VTP-Protokoll sowie die Konzepte von VTP-Bereinigung und nativem VLAN diskutieren.  In einem fr√ºheren Video haben wir √ºber VTP gesprochen, und das erste, was Ihnen einf√§llt, wenn Sie von VTP h√∂ren, ist, dass es sich trotz des sogenannten ‚ÄûVLAN-Trunking-Protokolls‚Äú nicht um ein Trunking-Protokoll handelt. <br><br><img src="https://habrastorage.org/webt/3i/q0/z9/3iq0z9bwjsogzqjcdksb76_iy94.jpeg"><br><br>  Wie Sie wissen, gibt es zwei beliebte Trunking-Protokolle - das propriet√§re Cisco ISL-Protokoll, das heute nicht verwendet wird, und das 802.q-Protokoll, das in Netzwerkger√§ten verschiedener Hersteller zur Kapselung des Trunking-Verkehrs verwendet wird.  Dieses Protokoll wird auch in Cisco-Switches verwendet.  Wir haben bereits gesagt, dass VTP ein VLAN-Synchronisationsprotokoll ist, dh es wurde entwickelt, um die VLAN-Datenbank in allen Switches des Netzwerks zu synchronisieren. <br><br><img src="https://habrastorage.org/webt/aw/i8/6c/awi86cfo128hwy2xwtw0c_mj5kq.jpeg"><br><br>  Wir haben verschiedene VTP-Modi erw√§hnt - Server, Client, transparent.  Wenn das Ger√§t den Servermodus verwendet, k√∂nnen Sie √Ñnderungen vornehmen, VLANs hinzuf√ºgen oder entfernen.  Im Client-Modus k√∂nnen keine √Ñnderungen an den Switch-Einstellungen vorgenommen werden. Sie k√∂nnen eine VLAN-Datenbank nur √ºber einen VTP-Server konfigurieren und sie wird auf alle VTP-Clients repliziert.  Der Switch im transparenten Modus nimmt keine √Ñnderungen an seiner eigenen VLAN-Datenbank vor, sondern geht einfach durch sich selbst und leitet die √Ñnderungen im Client-Modus an das n√§chste Ger√§t weiter.  Dieser Modus √§hnelt dem Deaktivieren des VTP-Protokolls auf einem bestimmten Ger√§t und verwandelt es in einen Informationstr√§ger √ºber VLAN-√Ñnderungen. <a name="habracut"></a><br><br>  Zur√ºck zu Packet Tracer und der in der vorherigen Lektion beschriebenen Netzwerktopologie.  Wir haben das VLAN10-Netzwerk f√ºr die Vertriebsabteilung und das VLAN20-Netzwerk der Marketingabteilung konfiguriert und mit drei Switches kombiniert. <br><br><img src="https://habrastorage.org/webt/nw/cc/2r/nwcc2rmc4zke8sz_t9hpfr1fn6a.jpeg"><br><br>  Zwischen den Switches SW0 und SW1 ist VLAN20 verbunden, und zwischen SW0 und SW2 ist VLAN10 verbunden, da wir VLAN10 zur VLAN-Datenbank von Switch SW1 hinzugef√ºgt haben. <br>  Um den Betrieb des VTP-Protokolls zu betrachten, verwenden wir einen der Switches als VTP-Server, sei es SW0.  Wenn Sie sich erinnern, arbeiten standardm√§√üig alle Switches im VTP-Servermodus.  Gehen wir zum Befehlszeilenterminal des Schalters und geben den Befehl show vtp status ein.  Sie sehen die aktuelle Version des VTP-Protokolls - 2 und die Versionsnummer der Konfiguration 4. Wenn Sie sich erinnern, wird die Versionsnummer jedes Mal um eins erh√∂ht, wenn √Ñnderungen an der VTP-Datenbank vorgenommen werden. <br><br><img src="https://habrastorage.org/webt/ry/_o/vk/ry_ovka1bovj7mdz-dbrb7ocyjw.jpeg"><br><br>  Die maximale Anzahl unterst√ºtzter VLANs betr√§gt 255. Diese Anzahl h√§ngt von der Marke eines bestimmten Cisco-Switches ab, da verschiedene Switches eine unterschiedliche Anzahl lokaler virtueller Netzwerke unterst√ºtzen k√∂nnen.  Die Anzahl der vorhandenen VLANs betr√§gt 7, in einer Minute werden wir √ºberlegen, welche Art von Netzwerk.  Der VTP-Verwaltungsmodus ist der Server, der Dom√§nenname ist nicht festgelegt, der VTP-Bereinigungsmodus ist deaktiviert. Wir werden sp√§ter darauf zur√ºckkommen.  Die Generierungsmodi VTP V2 und VTP-Traps sind ebenfalls deaktiviert.  Sie m√ºssen die letzten beiden Modi nicht kennen, um die 200-125 CCNA-Pr√ºfung zu bestehen, sodass Sie sich keine Sorgen machen m√ºssen. <br><br>  Werfen wir einen Blick auf die VLAN-Datenbank, f√ºr die wir den Befehl show vlan verwenden.  Wie wir im vorherigen Video gesehen haben, haben wir 4 nicht unterst√ºtzte Netzwerke: 1002, 1003, 1004 und 1005. <br><br><img src="https://habrastorage.org/webt/1r/91/gw/1r91gwmtwtcliixet8gmqvwbefq.jpeg"><br><br>  Au√üerdem werden die 2 von uns erstellten VLANs 10 und 20 sowie das Standardnetzwerk-VLAN1 aufgelistet.  Gehen wir nun zu einem anderen Switch √ºber und geben denselben Befehl ein, um den VTP-Status anzuzeigen.  Sie sehen, dass die Versionsnummer f√ºr diesen Switch 3 ist, sich im VTP-Servermodus befindet und alle anderen Informationen dem ersten Switch √§hnlich sind.  Wenn ich den Befehl show VLAN eingebe, sehe ich, dass wir 2 √Ñnderungen an den Einstellungen vorgenommen haben, eine weniger als der Schalter SW0, weshalb die Versionsnummer von SW1 3 ist. Wir haben 3 √Ñnderungen an den Standardeinstellungen des ersten Schalters vorgenommen, also dessen Versionsnummer erh√∂ht auf 4. <br><br><img src="https://habrastorage.org/webt/0t/mj/y0/0tmjy0ccn59trobdq3sdbev0cny.jpeg"><br><br>  Schauen wir uns nun den Status von SW2 an.  Die Revisionsnummer hier ist 1, und das ist seltsam.  Wir m√ºssen eine zweite Revision durchf√ºhren, da 1 √Ñnderung an den Einstellungen vorgenommen wurde.  Schauen wir uns die VLAN-Datenbank an. <br><br><img src="https://habrastorage.org/webt/kf/y4/1d/kfy41dkjx4jgowh7s5kfqkwxgle.jpeg"><br><br>  Wir haben eine √Ñnderung vorgenommen, indem wir ein VLAN10-Netzwerk erstellt haben, und ich wei√ü nicht, warum diese Informationen nicht aktualisiert wurden.  Vielleicht lag dies daran, dass wir kein echtes Netzwerk haben, sondern einen Software-Netzwerksimulator, in dem m√∂glicherweise Fehler auftreten.  Wenn Sie die M√∂glichkeit haben, w√§hrend des √úbens bei Cisco mit realen Ger√§ten zu arbeiten, hilft Ihnen dies mehr als der Packet Tracer-Simulator.  Eine weitere n√ºtzliche Sache ohne echte Ger√§te w√§re GNC3 oder der Cisco-Netzwerksimulator.  Dies ist ein Emulator, der das reale Betriebssystem des Ger√§ts verwendet, z. B. einen Router.  Es gibt einen Unterschied zwischen dem Simulator und dem Emulator - das erste ist ein Programm, das wie ein echter Router aussieht, aber nicht.  Der Emulator erstellt programmgesteuert nur das Ger√§t selbst, verwendet jedoch f√ºr seinen Betrieb echte Software.  Wenn Sie jedoch nicht die M√∂glichkeit haben, mit echter Cisco IOS-Software zu arbeiten, ist Packet Tracer die beste Option. <br><br>  Wir m√ºssen also SW0 als VTP-Server konfigurieren. Dazu gehe ich in den globalen Konfigurationsmodus und gebe den Befehl vtp Version 2 ein. Wie gesagt, wir k√∂nnen die Version des Protokolls installieren, die wir ben√∂tigen - 1 oder 2, in diesem Fall wir brauche eine zweite Version.  Als N√§chstes legen wir mit dem Befehl vtp mode den VTP-Modus des Switch fest - Server, Client oder transparent.  In diesem Fall ben√∂tigen wir den Servermodus. Nach Eingabe des Befehls vtp mode server zeigt das System eine Meldung an, dass sich das Ger√§t bereits im Servermodus befindet.  Als n√§chstes m√ºssen wir die VTP-Dom√§ne konfigurieren, f√ºr die wir den Befehl vtp domain nwking.org verwenden.  Warum wird das ben√∂tigt?  Wenn sich im Netzwerk ein anderes Ger√§t mit einer h√∂heren Versionsnummer befindet, beginnen alle anderen Ger√§te mit einer niedrigeren Version, die VLAN-Datenbank von diesem Ger√§t zu replizieren.  Dies geschieht jedoch nur, wenn die Ger√§te denselben Dom√§nennamen haben.  Wenn Sie beispielsweise in nwking.org arbeiten, geben Sie diese Dom√§ne an. Wenn Sie in Cisco arbeiten, lautet die Dom√§ne Cisco.com usw.  Mit dem Domainnamen der Ger√§te Ihres Unternehmens k√∂nnen Sie sie von Ger√§ten eines anderen Unternehmens oder anderen externen Netzwerkger√§ten unterscheiden.  Wenn Sie einem Ger√§t einen Unternehmensdom√§nennamen zuweisen, machen Sie ihn Teil des Unternehmensnetzwerks. <br><br>  Als n√§chstes m√ºssen Sie ein VTP-Passwort festlegen.  Dies ist erforderlich, damit ein Hacker mit einem Ger√§t mit einer gro√üen Versionsnummer seine VTP-Einstellungen nicht auf Ihren Switch kopieren kann.  Ich gebe das Cisco-Passwort mit dem Befehl vtp password cisco ein.  Danach ist die Replikation von VTP-Daten zwischen Switches nur m√∂glich, wenn die Kennw√∂rter √ºbereinstimmen.  Wenn das falsche Kennwort verwendet wird, wird die VLAN-Datenbank nicht aktualisiert. <br><br>  Versuchen wir, weitere VLANs zu erstellen.  Dazu verwende ich den Befehl config t, verwende den Befehl vlan 200, um ein Netzwerk mit der Nummer 200 zu erstellen, benenne es TEST und speichere die √Ñnderungen mit dem Befehl exit.  Dann erstelle ich ein weiteres vlan 500-Netzwerk und nenne es TEST1.  Wenn Sie jetzt den Befehl show vlan eingeben, sehen Sie in der Tabelle des virtuellen Netzwerks des Switch diese beiden neuen Netzwerke, denen keine Ports zugewiesen sind. <br><br><img src="https://habrastorage.org/webt/_n/um/mc/_nummc6z1slkdz0ydz7ekzh7qys.jpeg"><br><br>  Fahren wir mit SW1 fort und sehen den VTP-Status.  Wir sehen, dass sich hier nichts ge√§ndert hat, au√üer dem Dom√§nennamen, die Anzahl der VLANs ist gleich 7 geblieben. Wir sehen das Erscheinungsbild der von uns erstellten Netzwerke nicht, da das VTP-Passwort nicht √ºbereinstimmt.  Legen Sie das VTP-Kennwort f√ºr diesen Switch fest, indem Sie die Befehle conf t, vtp pass und vtp password cisco nacheinander eingeben.  Das System hat eine Meldung ausgegeben, dass die Ger√§te-VLAN-Datenbank jetzt das Cisco-Kennwort verwendet.  Schauen wir uns noch einmal den VTP-Status an, um zu √ºberpr√ºfen, ob die Informationen repliziert wurden.  Wie Sie sehen, wurde die Anzahl der vorhandenen VLANs automatisch auf 9 erh√∂ht. <br><br>  Wenn Sie sich die VLAN-Datenbank dieses Switches ansehen, sehen Sie, dass die von uns erstellten VLAN200- und VLAN500-Netzwerke automatisch darin angezeigt werden. <br><br>  Das gleiche muss mit dem letzten Schalter SW2 gemacht werden.  Geben Sie den Befehl show vlan ein - Sie sehen, dass keine √Ñnderungen daran vorgenommen wurden.  Ebenso gibt es keine √Ñnderungen im VTP-Status.  Damit dieser Schalter die Informationen aktualisiert, m√ºssen Sie auch ein Kennwort konfigurieren, dh dieselben Befehle wie f√ºr SW1 eingeben.  Danach erh√∂ht sich die Anzahl der VLANs im SW2-Status auf 9. <br><br>  Daf√ºr ist das VTP-Protokoll gedacht.  Dies ist eine gro√üartige Sache, da Informationen auf allen Client-Netzwerkger√§ten automatisch aktualisiert werden, nachdem √Ñnderungen am Serverger√§t vorgenommen wurden.  Sie m√ºssen nicht manuell √Ñnderungen an der VLAN-Datenbank aller Switches vornehmen - die Replikation erfolgt automatisch.  Wenn Sie √ºber 200 Netzwerkger√§te verf√ºgen, werden Ihre √Ñnderungen gleichzeitig auf allen zweihundert Ger√§ten gespeichert.  Nur f√ºr den Fall, dass wir sicherstellen m√ºssen, dass SW2 auch ein VTP-Client ist, gehen Sie zu den Einstellungen mit dem Befehl config t und geben Sie den Befehl vtp mode client ein. <br><br>  Daher befindet sich in unserem Netzwerk nur der erste Switch im VTP-Servermodus, die anderen beiden im VTP-Client-Modus.  Wenn ich jetzt in die Einstellungen von SW2 gehe und den Befehl vlan 1000 eingebe, wird die Meldung angezeigt: "Die VTP-VLAN-Konfiguration ist nicht zul√§ssig, wenn sich das Ger√§t im Client-Modus befindet."  Daher kann ich keine √Ñnderungen an der VLAN-Datenbank vornehmen, wenn sich der Switch im VTP-Client-Modus befindet.  Wenn ich √Ñnderungen vornehmen m√∂chte, muss ich zum Switch-Server gehen. <br><br>  Ich gehe in die Einstellungen des Terminals SW0 und gebe die Befehle vlan 999 ein, benenne IMRAN und beende.  Dieses neue Netzwerk wurde in der VLAN-Datenbank dieses Switches angezeigt. Wenn ich jetzt zur Datenbank des Switch-Clients SW2 gehe, werden hier dieselben Informationen angezeigt, dh es wurde repliziert. <br><br>  Wie gesagt, VTP ist eine gro√üartige Software, aber bei unsachgem√§√üer Verwendung kann dieses Protokoll das gesamte Netzwerk st√∂ren.  Daher m√ºssen Sie mit dem Unternehmensnetzwerk sehr vorsichtig sein, wenn der Dom√§nenname und das VTP-Kennwort nicht angegeben sind.  In diesem Fall muss der Hacker lediglich das Kabel seines Switches in eine Wandsteckdose an der Wand einf√ºhren, √ºber das DTP-Protokoll eine Verbindung zu einem beliebigen Office-Switch herstellen und dann mithilfe des erstellten Trunks alle Informationen mithilfe des VTP-Protokolls aktualisieren.  So kann der Hacker alle wichtigen VLANs l√∂schen und dabei die Tatsache nutzen, dass die Versionsnummer seines Ger√§ts h√∂her ist als die Versionsnummer der verbleibenden Switches.  Gleichzeitig ersetzen Unternehmens-Switches automatisch alle VLAN-Datenbankinformationen durch Informationen, die von einem b√∂swilligen Switch repliziert wurden, und Ihr gesamtes Netzwerk wird zusammenbrechen. <br><br>  Dies liegt daran, dass Computer, die ein Netzwerkkabel verwenden, an einen bestimmten Switch-Port angeschlossen sind, an den VLAN 10 oder VLAN20 angeschlossen ist.  Wenn diese Netzwerke aus der LAN-Datenbank des Switches entfernt werden, wird der zu einem nicht vorhandenen Netzwerk geh√∂rende Port automatisch getrennt.  In der Regel kann das Netzwerk eines Unternehmens abst√ºrzen, da die Switches einfach die mit dem VLAN verkn√ºpften Ports deaktivieren, die beim n√§chsten Update entfernt wurden. <br><br>  Um das Auftreten eines solchen Problems zu verhindern, m√ºssen Sie den VTP-Dom√§nennamen und das Kennwort festlegen oder die Cisco Port Security-Funktion verwenden, mit der Sie die MAC-Adressen von Switch-Ports verwalten k√∂nnen, indem Sie verschiedene Einschr√§nkungen f√ºr deren Verwendung einf√ºhren.  Wenn beispielsweise eine andere Person versucht, die MAC-Adresse zu √§ndern, wird der Port sofort heruntergefahren.  Sehr bald werden wir diese Funktion von Cisco-Switches sehr genau kennenlernen. Jetzt m√ºssen Sie nur noch wissen, dass Sie mit Port Security sicherstellen k√∂nnen, dass VTP vor einem Angreifer gesch√ºtzt ist. <br><br>  Fassen Sie die VTP-Einstellung zusammen.  Diese Wahl der Protokollversion ist 1 oder 2, der Zweck des VTP-Modus ist Server, Client oder transparent.  Wie gesagt, der letzte Modus aktualisiert nicht die VLAN-Datenbank des Ger√§ts selbst, sondern √ºbergibt einfach alle √Ñnderungen an benachbarte Ger√§te.  Im Folgenden finden Sie die Befehle zum Zuweisen eines Dom√§nennamens und eines Kennworts: vtp domain &lt;Dom√§nenname&gt; und vtp password &lt;Kennwort&gt;. <br><br><img src="https://habrastorage.org/webt/cc/w-/ar/ccw-ardwngn7z0mm4ub3ggg7gps.jpeg"><br><br>  Lassen Sie uns nun √ºber die Einstellungen f√ºr das VTP-Bereinigen sprechen.  Wenn Sie sich die Netzwerktopologie ansehen, sehen Sie, dass alle drei Switches dieselbe VLAN-Datenbank haben. Dies bedeutet, dass VLAN10 und VLAN20 Teil aller drei Switches sind.  Technisch gesehen ben√∂tigt der SW2-Switch kein VLAN20-Netzwerk, da er keine mit diesem Netzwerk verbundenen Ports hat.  Unabh√§ngig davon wird der gesamte vom Laptop0-Computer √ºber VLAN20 gesendete Datenverkehr an Switch SW1 und von dort √ºber eine Amtsleitung an SW2-Ports gesendet.  Ihre Hauptaufgabe als Netzwerkspezialist ist es, sicherzustellen, dass so wenig Daten wie m√∂glich √ºber das Netzwerk √ºbertragen werden.  Sie m√ºssen die √úbertragung der erforderlichen Daten sicherstellen, aber wie k√∂nnen Sie die √úbertragung von Informationen einschr√§nken, die f√ºr dieses Ger√§t nicht ben√∂tigt werden? <br><br>  Sie m√ºssen sicherstellen, dass der f√ºr VLAN20-Ger√§te bestimmte Datenverkehr nicht √ºber den Trunk zu SW2-Ports geleitet wird, wenn er nicht ben√∂tigt wird.  Das hei√üt, der Laptop0-Verkehr sollte SW1 und weiter zu Computern im VLAN20-Netzwerk erreichen, jedoch nicht √ºber den rechten Trunk-Port von SW1 hinausgehen.  Dies kann mit VTP Pruning erreicht werden. <br><br>  Dazu m√ºssen wir in die Einstellungen des VTP-Servers SW0 gehen, da VTP-Einstellungen, wie bereits erw√§hnt, nur √ºber den Server vorgenommen werden k√∂nnen. Gehen Sie zu den globalen Konfigurationseinstellungen und geben Sie den Befehl vtp pruning ein.  Da Packet Tracer nur ein Simulator ist, enth√§lt die Befehlszeile keinen solchen Befehl.  Wenn ich jedoch vtp pruning eingebe und "Enter" dr√ºcke, meldet das System, dass vtp pruning nicht verf√ºgbar ist. <br><br>  Mit dem Befehl show vtp status sehen wir, dass sich der VTP-Bereinigungsmodus im deaktivierten Zustand befindet. Daher m√ºssen wir ihn verf√ºgbar machen, indem wir ihn in die Aktivierungsposition verschieben.  Anschlie√üend aktivieren wir den VTP-Bereinigungsmodus auf allen drei Switches unseres Netzwerks innerhalb der Netzwerkdom√§ne. <br>  Ich m√∂chte Sie daran erinnern, was VTP-Bereinigung ist.  Wenn wir diesen Modus aktivieren, teilt der Switch-Server SW0 dem Switch SW2 mit, dass nur VLAN10 an seinen Ports konfiguriert ist.  Danach informiert der Switch SW2 den Switch SW1, dass er keinen anderen Verkehr als den f√ºr das VLAN10-Netzwerk bestimmten Verkehr ben√∂tigt.  Dank VTP Pruning verf√ºgt der SW1-Switch nun √ºber die Information, dass er keinen VLAN20-Verkehr auf der SW1-SW2-Amtsleitung senden muss. <br><br>  Als Netzwerkadministrator ist dies f√ºr Sie sehr praktisch.  Sie m√ºssen keine Befehle manuell eingeben, da der Switch intelligent genug ist, um genau das zu senden, was ein bestimmtes Netzwerkger√§t ben√∂tigt.  Wenn Sie morgen eine weitere Marketingeinheit in einem benachbarten Geb√§ude platzieren und das VLAN20-Netzwerk mit dem Switch SW2 verbinden, informiert dieser Switch den Switch SW1 sofort dar√ºber, dass er jetzt √ºber VLAN10- und VLAN20-Netzwerke verf√ºgt, und fordert Sie auf, den Datenverkehr f√ºr beide Netzwerke an ihn zu √ºbertragen.  Diese Informationen werden auf allen Ger√§ten st√§ndig aktualisiert, wodurch die Kommunikation effizienter wird. <br><br><img src="https://habrastorage.org/webt/zh/i3/7l/zhi37lgxyefzidb0olg0j9xsqcc.jpeg"><br><br>  Es gibt eine andere M√∂glichkeit, die Verkehrs√ºbertragung anzugeben: Verwenden Sie einen Befehl, der die Daten√ºbertragung nur f√ºr das angegebene VLAN zul√§sst.  Ich gehe in die Einstellungen des Switches SW1, wo ich mich f√ºr den Fa0 / 4-Port interessiere, und gebe die Befehle int fa0 / 4 und switchport trunk allow vlan ein.  Da ich bereits wei√ü, dass SW2 nur √ºber VLAN10 verf√ºgt, kann ich den SW1-Switch so angeben, dass sein Trunk-Port nur den Datenverkehr f√ºr dieses Netzwerk mithilfe des zul√§ssigen Befehls vlan zul√§sst.  Daher habe ich den Fa0 / 4-Trunk-Port so programmiert, dass er nur Datenverkehr f√ºr VLAN10 √ºbertr√§gt.  Dies bedeutet, dass dieser Port keinen weiteren Datenverkehr VLAN1, VLAN20 oder ein anderes Netzwerk als das angegebene weiterleitet. <br><br>  Sie k√∂nnen fragen, welches besser zu verwenden ist - VTP-Bereinigung oder der zul√§ssige vlan-Befehl.  Die Antwort ist subjektiv, da es in einigen F√§llen sinnvoll ist, die erste und in einigen F√§llen die zweite Methode anzuwenden.  Als Netzwerkadministrator m√ºssen Sie selbst die beste L√∂sung ausw√§hlen.  In einigen F√§llen kann die Entscheidung, den Port so zu programmieren, dass Datenverkehr f√ºr ein bestimmtes VLAN zugelassen wird, gut sein, in einigen F√§llen jedoch schlecht.  In unserem Netzwerk kann die Verwendung des zul√§ssigen Befehls vlan gerechtfertigt sein, wenn wir die Netzwerktopologie nicht √§ndern.  Wenn jemand sp√§ter eine Gruppe von Ger√§ten mit VLAN20 zu SW 2 hinzuf√ºgen m√∂chte, ist es ratsamer, den VTP-Bereinigungsmodus anzuwenden. <br><br><img src="https://habrastorage.org/webt/qp/df/1d/qpdf1dmfb0p4assdcvctqizzgwi.jpeg"><br><br>  Zum Einrichten von VTP Pruning m√ºssen Sie also die folgenden Befehle verwenden.  Der Befehl vtp pruning erm√∂glicht die automatische Verwendung dieses Modus.  Wenn Sie die VTP-Bereinigung des Trunk-Ports so konfigurieren m√∂chten, dass bestimmter VLAN-Verkehr manuell √ºbersprungen wird, w√§hlen Sie mit dem Befehl die Schnittstelle f√ºr die Trunk-Portnummer &lt;#&gt; aus, aktivieren Sie den Trunk-Modus-Switchport-Modus-Trunk und aktivieren Sie den Verkehr eines bestimmten Netzwerks mithilfe des Switchport-Trunk-zul√§ssigen VLAN &lt; all / none / add / remove / #&gt;. <br><br>  Sie k√∂nnen im letzten Befehl 5 Parameter verwenden.  Alle bedeutet, dass Datenverkehr f√ºr alle VLANs zul√§ssig ist, keiner - Datenverkehr ist nicht f√ºr alle VLANs zul√§ssig.  Wenn Sie den Parameter add verwenden, k√∂nnen Sie einen Verkehrspass f√ºr ein anderes Netzwerk hinzuf√ºgen.  Beispielsweise haben wir VLAN10-Verkehr zugelassen, und mit dem Befehl add k√∂nnen Sie auch den Durchgang von VLAN20-Netzwerkverkehr zulassen.  Mit dem Befehl remove k√∂nnen Sie eines der Netzwerke entfernen. Wenn Sie beispielsweise den Parameter remove 20 verwenden, bleibt nur die √úbertragung des VLAN10-Verkehrs √ºbrig. <br><br>  Betrachten Sie nun das native VLAN.  Wir haben bereits gesagt, dass natives VLAN ein virtuelles Netzwerk ist, um nicht getaggten Datenverkehr √ºber einen bestimmten Trunk-Port zu leiten. <br><br><img src="https://habrastorage.org/webt/dr/_l/ng/dr_lngwzayijz9dg5hrnrxruf2m.jpeg"><br><br>  Ich gehe in die Einstellungen eines bestimmten Ports, wie im Befehlszeilen-Header SW (config-if) # angegeben, und verwende den nativen vlan &lt;Netzwerknummer&gt; -Befehl f√ºr Switchport-Trunk, z. B. VLAN10.  Jetzt wird der gesamte VLAN10-Verkehr durch das taglose Tag geleitet. <br><br>  Zur√ºck zur logischen Netzwerktopologie im Packet Tracer-Fenster.  Wenn ich den nativen vlan 20-Befehl f√ºr Switchport-Trunk f√ºr den Fa0 / 4-Switch-Port verwende, wird der gesamte VLAN20-Netzwerkverkehr ohne Tag durch den Fa0 / 4-SW2-Trunk geleitet.  Wenn der SW2-Switch diesen Datenverkehr empf√§ngt, wird er denken: "Dies ist Datenverkehr ohne Tags, daher muss ich ihn an das native VLAN weiterleiten."  F√ºr diesen Switch ist das native VLAN das Netzwerk-VLAN1.  Die Netzwerke 1 und 20 sind in keiner Weise verbunden. Da jedoch der native VLAN-Modus verwendet wird, haben wir die M√∂glichkeit, den VLAN20-Verkehr an ein v√∂llig anderes Netzwerk weiterzuleiten.  Dieser Datenverkehr wird jedoch nicht gekapselt, und die Netzwerke selbst sollten weiterhin √ºbereinstimmen. <br><br>  Schauen wir uns ein Beispiel an.  Ich gehe in die SW1-Einstellungen und verwende den nativen vlan 10-Befehl f√ºr Switchport-Trunk. Jetzt wird jeglicher VLAN10-Verkehr vom Trunk-Port ohne Tags kommen.  Wenn es den Trunk-Port SW2 erreicht, wird der Switch verstehen, dass er ihn an VLAN1 weiterleiten muss.  Aufgrund dieser L√∂sung kann der Datenverkehr die Computer PC2, 3 und 4 nicht erreichen, da sie mit den Zugriffsports des f√ºr VLAN10 bestimmten Switch verbunden sind. <br><br>        ,  native VLAN  Fa0/4,    VLAN10,     Fa0/1,    VLAN1.  ,          -  native VLAN. <br><br><img src="https://habrastorage.org/webt/gw/qt/xg/gwqtxg60_7zjscy-yhlvo9fv6nc.jpeg"><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/8Ai0Bi71PsE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Vielen Dank f√ºr Ihren Aufenthalt bei uns.  Gef√§llt dir unser Artikel?  M√∂chten Sie weitere interessante Materialien sehen?       , <b>30%        entry-level ,      :</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">   VPS (KVM) E5-2650 v4 (6 Cores) 10GB DDR4 240GB SSD 1Gbps  $20     ?</a>  (Optionen sind mit RAID1 und RAID10, bis zu 24 Kernen und bis zu 40 GB DDR4 verf√ºgbar). <br><br>  <b>Dell R730xd 2 mal g√ºnstiger?</b>  Nur wir haben <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2 x Intel TetraDeca-Core Xeon 2x E5-2697v3 2,6 GHz 14C 64 GB DDR4 4 x 960 GB SSD 1 Gbit / s 100 TV von 199 US-Dollar</a> in den Niederlanden!</b>  <b><b>Dell R420 - 2x E5-2430 2,2 GHz 6C 128 GB DDR3 2x960 GB SSD 1 Gbit / s 100 TB - ab 99 US-Dollar!</b></b>  Lesen Sie mehr √ºber <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">den Aufbau eines Infrastrukturgeb√§udes.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Klasse mit Dell R730xd E5-2650 v4 Servern f√ºr 9.000 Euro f√ºr einen Cent?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de463231/">https://habr.com/ru/post/de463231/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de463221/index.html">Beobachten der Sonne: 5 Arten von Ger√§ten, von 5 bis 5.000 US-Dollar</a></li>
<li><a href="../de463223/index.html">Die Zusammenfassung interessanter Materialien f√ºr den mobilen Entwickler # 310 (vom 5. bis 11. August)</a></li>
<li><a href="../de463225/index.html">WiFi Enterprise. FreeRadius + FreeIPA + Ubiquiti</a></li>
<li><a href="../de463227/index.html">Probleml√∂sung mit pwnable.kr 19 - Verkn√ºpfung aufheben. Heap-Puffer√ºberlauf</a></li>
<li><a href="../de463229/index.html">Jetpacks in Kultur: Kino</a></li>
<li><a href="../de463233/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 15. Langsame Kommunikation und Port-Sicherheit</a></li>
<li><a href="../de463237/index.html">Wie wir Musik mit neuronalen Netzen v 2.0 gespielt haben</a></li>
<li><a href="../de463239/index.html">22. August - Alfa JS MeetUP SPb</a></li>
<li><a href="../de463241/index.html">ACL 2019 Konferenznotizen</a></li>
<li><a href="../de463243/index.html">Manipulation des Bewusstseins. Warum ist es so einfach?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>