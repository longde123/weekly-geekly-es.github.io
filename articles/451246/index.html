<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö∂üèæ üõ£Ô∏è üî∫ Ingenier√≠a inversa de una estaci√≥n de soldadura de alta gama üì¥ üåë üîì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="(Esta es la traducci√≥n del art√≠culo original realizado por baragol ) 

 Tuvimos un mont√≥n de fotograf√≠as de la PCB principal, un video de YouTube con ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ingenier√≠a inversa de una estaci√≥n de soldadura de alta gama</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/451246/"><img src="https://habrastorage.org/webt/zy/do/hq/zydohqpxzvzoygol3o6ci9wkebw.jpeg"><br><br>  <i>(Esta es la traducci√≥n del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo</a> original realizado por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">baragol</a> )</i> <br><br>  Tuvimos un mont√≥n de fotograf√≠as de la PCB principal, un video de YouTube con formas de onda de voltaje de drenaje de MOSFET, una publicaci√≥n en el foro con un desglose de los valores de capacitancia de los condensadores del circuito LC y tambi√©n una serie de videos de unboxing que muestran el calentamiento del Punta de soldadura.  Lo √∫nico que realmente me preocup√≥ fue el video con la medici√≥n del consumo m√°ximo de energ√≠a durante el calentamiento.  No hay nada en el mundo m√°s indefenso e irresponsable y depravado que el cartucho quemado reci√©n comprado por 60 d√≥lares de Amazon.  Pero d√©jame comenzar desde el principio. <br><a name="habracut"></a><br><h4>  Introducci√≥n al tema </h4><br>  Para entender qu√© tipo de dispositivo vamos a dise√±ar hoy, primero recordemos brevemente los tipos de estaciones de soldadura que se ofrecen y c√≥mo son diferentes. <br><br>  Como habr√°s adivinado, todo el segmento de precios de gama baja de este equipo est√° en manos de marcas chinas, que clonan en gran medida el dise√±o bastante exitoso del soldador japon√©s Hakko.  El principio de funcionamiento tanto del modelo original como de sus numerosas r√©plicas es muy sencillo: un calentador de nicromo o de pel√≠cula delgada transfiere su calor a una punta de soldadura desmontable, y su temperatura se regula con una unidad de termopar o un termistor integrado en el calentador.  Esta es una soluci√≥n simple y barata, pero su calidad puede resultar un poco lejos de ser perfecta en las r√©plicas chinas, por ejemplo, un calentador de tama√±o ligeramente incorrecto, un material de la punta ligeramente m√°s barato, lo que resulta en tener que envolver el calentador en papel de aluminio, pedir una punta japonesa original del extranjero, reemplazar el conector por una m√°s potente ... en otras palabras, tendr√°s tu plato lleno en poco tiempo. <br><br>  En alg√∫n lugar en el medio del espectro de precios se encuentran las estaciones de soldadura originales de reconocidas marcas occidentales.  El ERSA alem√°n, el Weller de EE. UU., El Hakko japon√©s, ese tipo de marcas.  Su principio de funcionamiento es b√°sicamente id√©ntico, excepto que realmente no necesita acceder a sus recursos para que funcionen;  incluyen buenos accesorios listos para usar, como un cable de silicona suave que no se derrite al menor contacto con el soldador, y ... bueno, ¬°en realidad no hay tantos extras!  El precio?  Coincide con la promesa.  Los cientos de d√≥lares para gastar en las cosas pueden angustiar no solo a un humilde entusiasta del bricolaje que le gusta pasar sus tardes retocando su hardware, sino incluso un negocio de mediana escala. <br><br>  Sin embargo, el art√≠culo de hoy trata sobre algo diferente.  Le contar√© sobre el fen√≥meno real de alta gama en el mundo de las estaciones de soldadura, a saber, los soldadores de inducci√≥n hechos en los Estados Unidos de Metcal (actualmente son producidos bajo esta marca por OK International).  En realidad, varias compa√±√≠as est√°n produciendo estos equipos, por ejemplo, aparte de Metcal, tambi√©n puedo mencionar a Thermaltronics, JBC e incluso a Hakko que venden un dise√±o similar.  El dise√±o operativo del calentador de inducci√≥n en estos dispositivos es bastante elegante: <br><br> <a href=""><img src="https://habrastorage.org/webt/u_/zy/lj/u_zyljn2jccu9qkjsywbyn1w7ro.jpeg"></a> <br><br>  Como puede ver, carece de sensores de temperatura;  su punta de soldadura est√° hecha de cobre con un recubrimiento ferromagn√©tico que, cuando se expone a un campo magn√©tico alterno de alta frecuencia (13.56 MHz), se calienta y luego, a cierta temperatura, llamada temperatura Curie, pierde sus cualidades magn√©ticas y se detiene calentando m√°s.  Cuando toca el punto de soldadura, el elemento ferromagn√©tico pierde parcialmente su calor, y el inductor comienza inmediatamente a transmitir su potencia a la punta de soldadura.  Los cartuchos vienen con cuatro temperaturas fijas, de las cuales realmente solo necesita dos, para soldar sin plomo.  Eso es todo lo que es. <br><br>  OKI / Metcal produce varios modelos de estaciones de soldadura por inducci√≥n que vienen a diferentes precios y con diferentes potencias de salida, sin embargo, el rango de precios de $ 1000 elimina cualquier deseo de aprovechar este hermoso dispositivo, no importa cu√°n hermoso pueda parecer.  ¬°Lo que me lleva a la idea de tratar de ahorrar algo de dinero! <br><br><h4>  Problemm </h4><br>  Dig√°moslo as√≠: al usar solo fuentes disponibles p√∫blicamente, para llevar a cabo la ingenier√≠a inversa virtual del dispositivo original MX-5200 y terminar con el dise√±o de un oscilador de forma de onda de alta frecuencia de un solo canal de clase de consumidor con la potencia de salida de 80W, que replicar√° la funcionalidad de la estaci√≥n de soldadura original tanto como sea posible. <br><br>  Si realiza alguna b√∫squeda en l√≠nea, encontrar√° f√°cilmente un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">diagrama esquem√°tico</a> de la generaci√≥n anterior de la estaci√≥n Metcal MX-500, copiado cuidadosamente de su PCB.  La implementaci√≥n directa de las ideas de dise√±o de ese diagrama no funcionar√°, ya que la potencia de salida de este equipo es de solo 40 W y no se puede ampliar f√°cilmente.  Sin embargo, este viejo diagrama nos ayudar√° a comprender el funcionamiento de los conjuntos clave. <br><br>  Entonces, los siguientes elementos se pueden ver en el diagrama: <br><br><ol><li>  Un generador de HF de alta potencia con tres circuitos resonantes de salida; </li><li>  Un convertidor reductor de impulsos para alimentar el generador (1), con un voltaje de salida de 17-21V; </li><li>  Un circuito de retroalimentaci√≥n para regular el voltaje del convertidor reductor (2) dependiendo del voltaje en uno de los circuitos resonantes de salida del generador (1); </li><li>  Un circuito de protecci√≥n para apagar el generador (1) en caso de desconexi√≥n del inductor; </li><li>  Una fuente de alimentaci√≥n de transformador con un voltaje de salida de 53V. </li></ol><br>  Consideremos r√°pidamente algunas soluciones comunes de dise√±o de circuitos.  Por ejemplo, el circuito se puede alimentar con un transformador de n√∫cleo toroidal de baja frecuencia.  Espere, mejor usemos un transformador LLC resonante con un raro microchip HiperLCS de Power Integrations: hace tiempo que ten√≠a la intenci√≥n de trabajar con √©l.  Tambi√©n tomemos un transformador reductor m√°s actualizado para controlar la potencia de salida y ver si podemos obtener 5A de un paquete SO-8.  Espere un minuto, ¬øpuede sobrevivir un proyecto sin un Arduino, un boceto y un LED?  Agreguemos tambi√©n un chip STM32 y una peque√±a pantalla para mostrar la potencia de salida actual.  Para simplificar las cosas, mediremos la potencia en el circuito de alimentaci√≥n del generador de HF;  En cuanto a la eficiencia, lo tendremos en cuenta (o lo ignoraremos) en el software.  Usaremos una caja de metal del tama√±o correcto, que servir√° tanto como escudo como disipador de calor al mismo tiempo. <br><br><img src="https://habrastorage.org/webt/gc/u2/w1/gcu2w1dww-mhiyltoow_rpraa8c.jpeg"><br><br>  Para la soldadura real, ir√© a Amazon y comprar√© un kit de actualizaci√≥n Metcal MX-UK1, que incluye una mesa de trabajo y el soldador en s√≠ (que es solo una pieza de mano unida a un cable) y cartuchos de soldadura.  Seg√∫n mi experiencia laboral, me resulta m√°s f√°cil manejar art√≠culos peque√±os con una punta de soldador de casco de 30 ¬∞, y para soldar cualquier cosa m√°s grande tomar√© algo m√°s ancho, m√°s pesado y m√°s caliente, as√≠ que esta es mi elecci√≥n: un Metcal SMTC-0167 para soldadura fina y un Thermaltronics M7K100 para trabajar con art√≠culos de mayor escala.  Por cierto, los consejos m√°s econ√≥micos de Thermaltronics tambi√©n ser√°n √∫tiles. <br><br><img src="https://habrastorage.org/webt/dt/go/ha/dtgohazuklmmwjlzrnkjeqatbrc.jpeg"><br><br>  Mientras se env√≠an mis art√≠culos, dibujar√© un diagrama de flujo del dispositivo en el proyecto. <br><br><img src="https://habrastorage.org/webt/zl/uy/bh/zluybhztltpnmerd00thb0u5smo.png"><br><br>  Es importante describir la retroalimentaci√≥n entre la salida del generador de HF y la entrada de control del convertidor reductor.  El problema es que, despu√©s de que una punta de soldadura se ha calentado a la temperatura de funcionamiento, el oscilador sigue emitiendo un voltaje de amplitud bastante alto (alrededor de 100 V), y la potencia resultante comienza a disiparse en la resistencia activa de la bobina inductora, que, debido a la efecto de piel, es mucho m√°s alto de lo que un mult√≠metro ordinario puede registrar.  Como resultado, la peque√±a bobina se pone al rojo vivo y se quema.  Para evitar esto, las estaciones originales usan una retroalimentaci√≥n negativa que reduce el voltaje de la fuente de alimentaci√≥n del oscilador en respuesta a la creciente relaci√≥n de onda estacionaria que viene con el cambio en la impedancia del inductor.  El modelo de 40 W usa un m√©todo relativamente sencillo de la patente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">US4626767A</a> , mientras que el modelo de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">80 W</a> usa una retroalimentaci√≥n m√°s sofisticada que involucra un transformador de corriente.  Echemos un vistazo a este video que puede encontrar en la web: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/-55dR4yTJDQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  La l√≠nea azul muestra el voltaje de suministro en la etapa de salida del generador de HF, y como puede ver en el video, debemos proporcionar que el voltaje de suministro pueda aumentar al menos al doble (en consecuencia, la potencia de salida ser√° creciendo en proporci√≥n al voltaje al cuadrado, es decir, cuatro veces el valor del voltaje).  Como no logr√© garantizar la misma calidad de regulaci√≥n con un circuito de retroalimentaci√≥n simple que model√© en LTSpice, simplemente copi√© el circuito de retroalimentaci√≥n de la fotograf√≠a de la PCB. <br><br><h4>  Generador de alta frecuencia </h4><br>  Comencemos a dise√±ar el m√≥dulo de alta frecuencia resolviendo primero el circuito resonante de salida.  Echa un vistazo a esta foto de alta resoluci√≥n: <br><br> <a href=""><img src="https://habrastorage.org/webt/ng/9m/ia/ng9miake_7v8hi53skrpz8ko3lm.jpeg"></a> <br><br>  Puede ver tres bobinas enrolladas alrededor de n√∫cleos toroidales amarillos, con 4, 6 y 7 vueltas respectivamente, de izquierda a derecha.  Seg√∫n el sistema de clasificaci√≥n de Amidon, el amarillo se usa para n√∫cleos de hierro en polvo con una permeabilidad de 8.5 (material # 6).  El tama√±o de las bobinas se puede calcular primero usando una regla para medir el di√°metro de las bobinas en la pantalla y luego compar√°ndolo con la medida de alg√∫n componente bien reconocible, como el transistor de salida en el paquete TO-247.  Aparentemente, este dise√±o usa n√∫cleos T130-6;  Esto, en mi opini√≥n, es un poco exagerado: tales toroides grandes est√°n destinados a una potencia mucho mayor.  Pero no tengo intenci√≥n de jugar pantalones inteligentes aqu√≠: ciertamente no puedo pagar los n√∫cleos originales de EE. UU., Por lo tanto, ordenar√© sus r√©plicas chinas baratas de AliExpress y ver√© si pueden hacer el trabajo (alerta de spoiler: lo hicieron bien) .  Sus valores de inductancia se calcularon como 180, 400 y 540 nH respectivamente. <br><br>  En los circuitos resonantes, los inductores funcionan junto a los condensadores.  No podemos derivar sus valores de capacitancia de la fotograf√≠a, sin embargo, podemos encontrar f√°cilmente un mensaje publicado por el puntiagudo micr√≥fono el√©ctrico (el autor del video anterior) que amablemente comparti√≥ sus observaciones (resaltadas en amarillo): <br><br><img src="https://habrastorage.org/webt/hq/aq/md/hqaqmdiwweyahwjsjwp5ayrhqx0.png"><br><br>  Despu√©s de alimentar estos valores a un modelo de especias, queda claro que las frecuencias resonantes de los circuitos est√°n ligeramente alejadas de 13.56 MHz.  La cuesti√≥n es que cuanto m√°s cerca est√© la frecuencia de la autorresonante, menos voltaje se necesita para alimentar el generador de HF y mayor es su consumo de corriente.  El dise√±o original alimenta la etapa de salida con un convertidor reductor con un l√≠mite de corriente de 3A, por lo que los dise√±adores ponen las etapas de salida ligeramente fuera de resonancia para poder aumentar el voltaje de suministro y disminuir el uso de corriente.  Nosotros, por otro lado, estamos planeando emplear un chip 5A, sin embargo, result√≥ ser corto de corriente mientras estaba en modo resonante, por lo que tambi√©n pondremos las etapas de salida fuera de resonancia solo un poco.  Descubriremos los valores exactos de capacitancia experimentalmente, en funci√≥n de los l√≠mites del proyecto para el voltaje de suministro m√°ximo del circuito de salida (22V) y el uso m√°ximo de corriente (4A). <br><br>  Tenga en cuenta que una gran cantidad de energ√≠a fluye dentro de los circuitos resonantes, ansiosos por ser liberados al medio ambiente en forma de calor.  Entonces, para aumentar el factor Q, usemos un cable esmaltado bastante grueso (1,25 mm) para las bobinas y conectemos varios condensadores en paralelo. <br><br>  Elegir el transistor de salida correcto es otra pregunta desconcertante.  En caso de que el cartucho sea reemplazado o retirado, la sobretensi√≥n puede aumentar a 300-350V, pero los autores del dise√±o original decidieron no molestarse con una protecci√≥n sofisticada y simplemente equiparon la etapa de salida con un transistor de RF IXFH12N50F bastante raro, r√°pido y costoso de IXYS con el l√≠mite de tensi√≥n de drenaje de 500V.  No podemos permitirnos ese lujo, as√≠ que tomemos un transistor de efecto de campo est√°ndar de 200V STP19NF20 que cuesta solo medio d√≥lar y con√©ctelo en paralelo con un supresor de sobretensiones de 150V.  Perfecto!  El supresor cortar√° ligeramente las sobretensiones de los circuitos resonantes, evitando que se balanceen demasiado, mientras que el m√≥dulo de protecci√≥n detendr√° el oscilador dentro de unos 10 ms despu√©s de que desaparezca la carga. <br><br><img src="https://habrastorage.org/webt/rf/tg/il/rftgil-a5rpht6bup_enjbtq8kk.jpeg"><br><br>  Debido a la gran capacidad de entrada y la alta frecuencia, no podemos controlar la puerta del transistor de salida directamente con un controlador de puerta habitual.  La foto de la placa original revela una bobina inductora sin n√∫cleo entre los dos transistores de potencia.  Este es un peque√±o truco de uso com√∫n: junto con la capacitancia de la fuente de la puerta, el inductor crea un circuito resonante que sostiene el flujo de energ√≠a a trav√©s del circuito de la puerta, lo que resulta en un aumento en la eficiencia del preamplificador.  Al mismo tiempo, ese mismo circuito impone una restricci√≥n impl√≠cita al posible modelo del transistor de salida: su valor de resistencia de puerta debe ser lo m√°s bajo posible para mantener un factor Q razonable del circuito.  Sin entrar en muchos detalles, reproduzcamos la soluci√≥n del fabricante.  Seleccionaremos el valor de inductancia correcto en funci√≥n de la eficiencia m√°xima del circuito real apretando / estirando los devanados de la bobina. <br><br>  A partir de entonces, el dise√±o del circuito se vuelve m√°s trivial.  Conduciremos el preamplificador dise√±ado alrededor de un transistor IRF510 con baja capacitancia de entrada usando un controlador dual <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">MAX17602</a> , ya que sus caracter√≠sticas de velocidad se ven bien.  Un MAX17600 o un MAX17601 funcionar√≠a a√∫n mejor, y podr√≠amos conectar sus salidas en paralelo, pero no ten√≠a las disponibles de inmediato, as√≠ que trabajaremos con lo que tengamos. <br><br>  La frecuencia oscilante correcta ser√° establecida por un resonador de cristal.  Desafortunadamente, no pude encontrar un cristal de 13.56 MHz para el oscilador activo.  Pero no se preocupe, tomaremos un resonador de 27.12 MHz m√°s com√∫nmente usado y reduciremos a la mitad la frecuencia.  Haremos un buen uso de un microcontrolador, o m√°s bien uno de sus temporizadores programados en consecuencia.  Tambi√©n debo mencionar que una MCU solo se puede conectar directamente a un resonador de cristal que funciona a la frecuencia fundamental del cristal.  Los resonadores rusos de 27.120 kHz de tercer tono com√∫nmente utilizados solo se pueden conectar a trav√©s de un corte r√°pido en forma de un circuito resonante adicional. <br><br><h4>  Fuente de alimentaci√≥n </h4><br>  Despu√©s de una larga serie de experimentos infructuosos con productos fabricados en China, decid√≠ alimentar la etapa de salida del oscilador HF desde un convertidor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">reductor</a> basado en el chip <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">TPS54560</a> de TI.  Para evitar latidos audibles, estableceremos la frecuencia del oscilador interno en alrededor de 450 kHz, a una distancia del rango de frecuencia de trabajo del convertidor LLC.  Alternativamente, podr√≠a haber hecho todo lo contrario, es decir, sincronizar el convertidor reductor con el oscilador del convertidor LLC, pero en ese momento me estaba volviendo perezoso, as√≠ que abandon√© esta idea. <br><br>  El convertidor TPS54560 en s√≠ mismo, a pesar de su peque√±o tama√±o, cuenta con un valor de corriente de salida significativo, por lo que a veces podr√≠a imaginarse que esto es un avance sin precedentes en una lucha por la eficiencia energ√©tica ... Sin embargo, la verdad es que el chip realmente necesita enfriarse adecuadamente .  La placa de demostraci√≥n ofrecida por Texas Instruments contiene dos grandes planos de tierra de 2 oz de espesor en ambos lados;  La transferencia de calor a trav√©s de las capas est√° asegurada por seis orificios a trav√©s de la parte inferior del chip (donde tiene un pasador de disipaci√≥n de calor).  Tal dise√±o hace que sea un poco m√°s dif√≠cil hacer una tabla de bricolaje, por lo que obviamente tendr√© que pedirla a un fabricante chino.  ¬°Maldito! <br><br>  Para alimentar el controlador y el preamplificador, eliminemos el voltaje no regulado de 12 V de la segunda bobina del convertidor LLC.  El consumo de corriente en el resto de la placa ser√° insignificante, por lo que para alimentar el controlador de 5V e iluminar la pantalla LCD, usaremos el regulador lineal de producci√≥n nacional KR142EN5A, mientras que la l√≠nea de 3.3V para el MCU estar√° regulada por El min√∫sculo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">LD2985</a> . <br><br>  Para reducir el voltaje de l√≠nea a los 30V y 12V requeridos, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">emplearemos</a> un convertidor LLC basado en el chip <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">LCS708HG</a> . <br><br><img src="https://habrastorage.org/webt/65/l8/ed/65l8edk_ucvq50zsc5hf2jbxxp8.jpeg"><br><br>  Estoy seguro de que a muchos lectores les gustar√≠a saber m√°s acerca de los convertidores LLC, por lo que explicar√© su principio de funcionamiento con m√°s detalles.  La LLC no es exactamente un acr√≥nimo, ya que estas letras significan "inductor-inductor-condensador" y, en resumen, implementan el dise√±o el√©ctrico para conectar el devanado primario de un transformador.  El punto es que, a veces, parte del flujo generado por el devanado primario puede no vincularse con el devanado secundario, lo que provoca la llamada inductancia de fuga, inductancia par√°sita que no puede transferir la energ√≠a acumulada al circuito secundario.  En los convertidores de retorno est√°ndar, esta energ√≠a se debe disipar en supresores o resistencias amortiguadoras, por lo que los transformadores (o, m√°s espec√≠ficamente, los estranguladores de doble bobina) generalmente est√°n dise√±ados de tal manera que reducen la inductancia de fuga tanto como sea posible.  Sin embargo, las cosas son completamente diferentes con las LLC. <br><br>  En un convertidor resonante, la inductancia de fuga combinada con la capacitancia conectada en serie al devanado primario crea un circuito de tanque que resuelve dos problemas importantes.  Primero, realiza la conmutaci√≥n de los transistores de alto voltaje de salida del convertidor a valores de voltaje cercanos a cero (el llamado Conmutaci√≥n de voltaje cero, ZVS), que reduce significativamente las p√©rdidas de energ√≠a causadas por la conmutaci√≥n.  En segundo lugar, la energ√≠a acumulada en el inductor desacoplado fluye de regreso al circuito, por lo que esto elimina cualquier necesidad en los amortiguadores ya que en realidad no hay p√©rdida de energ√≠a.  En su nota de aplicaci√≥n AN-55, Power Integrations proporciona un resumen detallado de c√≥mo dise√±ar un transformador para aumentar su inductancia de fuga (esto es necesario para garantizar la caracter√≠stica correcta del transformador).  Yo, por ejemplo, enrollo las vueltas primaria y secundaria muy separadas, en dos secciones diferentes: <br><br><img src="https://habrastorage.org/webt/7i/iu/z-/7iiuz-igqg1rhgqisg31neowkm8.jpeg"><br><br>  En general, este dise√±o de dise√±o sofisticado da como resultado un valor de eficiencia muy decente, por ejemplo, un chip LCS708HG sin disipador t√©rmico, a pesar de su tama√±o en miniatura, ofrece una potencia de salida de aproximadamente 200W.  Este es un resultado realmente sobresaliente, pero solo se puede lograr cuando se opera exactamente a la frecuencia de resonancia propia del circuito de salida.  Aqu√≠ es donde est√° la trampa. <br><br>  La cuesti√≥n es que, en este caso, el voltaje de salida se regula cambiando la frecuencia del pulso en lugar de la relaci√≥n del pulso, y la regulaci√≥n tiene lugar en un rango muy estrecho de voltaje, alrededor de ¬± 15%.  Adem√°s, en respuesta a las fluctuaciones del voltaje de entrada desde su valor nominal, la frecuencia de conversi√≥n se aleja de la resonancia, imponiendo el modo de conmutaci√≥n dura en los transistores dentro del chip, por lo que los calienta mucho.  En efecto, ¬°el convertidor necesita recibir voltaje regulado en su entrada! <br><br>  En los productos fabricados en f√°brica, los convertidores est√°n equipados con correctores activos de factor de potencia (APFC) en su entrada, que, adem√°s de corregir la potencia, tambi√©n mantienen un voltaje de salida de alrededor de 380-390V.  Pero despu√©s de todo, estamos lidiando con un dise√±o de bricolaje aqu√≠, as√≠ que ignoremos felizmente tal hipo insignificante como la sensibilidad a la calidad de la l√≠nea de alimentaci√≥n.  Seg√∫n los c√°lculos y teniendo en cuenta la pulsaci√≥n de voltaje en la capacidad del b√∫fer, el voltaje de entrada est√° en el rango de aproximadamente 230 V ¬± 10%, por lo que si la red el√©ctrica funciona dentro de los est√°ndares, todo funcionar√° sin problemas.  Vamos a dejarlo ah√≠ por ahora. <br><br>  Copiaremos el resto del dise√±o del convertidor de la hoja de datos correspondiente.  Probablemente solo me centrar√≠a en el condensador resonante, este componente aparentemente sencillo.  Si alguna vez se pregunt√≥ cu√°l es la diferencia entre los capacitores de pel√≠cula de polipropileno y los capacitores de pel√≠cula de tereftalato de polietileno (PET), esta es la respuesta: los primeros tienen una tangente de p√©rdida diez veces menor.  Esa es precisamente la raz√≥n por la cual mi intento de reemplazar el voluminoso K78-2 (otro producto producido en el pa√≠s) con un modelo de PET K73-17 m√°s barato y m√°s peque√±o caus√≥ un comportamiento curioso: el condensador se calent√≥ y comenz√≥ a generar un ruido crepitante sospechoso.  Interesante <br><br>  Los chips de la serie HiperLCS requieren una l√≠nea de alimentaci√≥n de 12V dedicada.  Para evitar la molestia de jugar con un devanado adicional, un rectificador y circuitos de arranque, sigamos con el libro de texto.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Obtendremos</a> el voltaje requerido de un peque√±o convertidor separado en un chip <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">LNK304</a> .  Su caracter√≠stica clave es su dise√±o sin transformador, ya que el √∫nico inductor que necesitaremos es un estrangulador barato fabricado en f√°brica.  La corriente de salida m√°xima permanece dentro de un rango peque√±o, alrededor de 100 mA, y la simplicidad del dise√±o junto con la capacidad de mantener el n√∫mero de componentes al m√≠nimo lo convierten en una soluci√≥n atractiva (mientras que el n√∫mero de convertidores por pulgada cuadrada de superficie est√° comenzando ponerme de los nervios. ¬°El Dios de los convertidores exige m√°s de ellos!) <br><br><h4>  Cerebro </h4><br>  Bueno, solo algunas cosas m√°s que hacer.  La estaci√≥n original tiene una pantalla LCD que, por el precio que ha pagado, muestra un parecido con la potencia de salida.  Hagamos algo similar: tomaremos el controlador STM32F030 en su configuraci√≥n m√≠nima (en un paquete TSSOP-20).  Una de las entradas del convertidor A / D medir√° el voltaje de alimentaci√≥n de la etapa de salida en el generador de HF, mientras que la otra entrada medir√° la corriente.  Para evitar romper el circuito de tierra, conectaremos la resistencia de detecci√≥n de corriente al cable positivo e implementaremos el cambio de nivel usando el chip <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">INA138 de</a> prop√≥sito <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">especial</a> , un dise√±o de Burr-Brown en sus d√≠as gloriosos.  Para mostrar informaci√≥n, usemos un texto OLED con una resoluci√≥n de 16x2 hecha por WinStar.  Eso es en pocas palabras.  Espera, hemos dejado un pin del procesador desocupado.  Bueno, entonces deja que parpadee un LED.  No me preguntes por qu√©. <br><br>  El firmware del controlador fue escrito en lenguaje C usando STM32CubeMX y la versi√≥n gratuita de IAR Embedded Workbench.  El c√≥digo es bastante trivial.  En el tic del temporizador del sistema, una vez cada 300 ms, el bucle principal lee los datos de los dos canales del convertidor A / D, los multiplica y los env√≠a a la pantalla como lectura de potencia.  En la parte inferior de la pantalla, el valor de potencia se visualiza en una barra renderizada con fuentes personalizadas.  Tras la desconexi√≥n de la punta de soldadura, el controlador de la interrupci√≥n proveniente de la salida del detector de carga detiene el temporizador de referencia del oscilador de HF.  Para asegurarme de cualquier congelaci√≥n o falla en la MCU, he agregado controladores para errores de hardware y las se√±ales del temporizador de vigilancia;  el firmware tambi√©n emplea la tecnolog√≠a CSS (Clock Security System) que, en caso de una humedad en las oscilaciones del resonador de cristal primario, cambia al oscilador RC incorporado y reinicia el microcontrolador.  El tama√±o total del firmware es de 10 KB.  Sub√≠ el c√≥digo fuente del firmware junto con los otros archivos del proyecto a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GitHub</a> para que los m√°s curiosos lo echen un vistazo (pero no esperen nada extraordinario all√≠). <br><br><h4>  Dise√±o </h4><br><div class="spoiler">  <b class="spoiler_title">El dispositivo incluye varias bobinas hechas a medida.</b> <div class="spoiler_text"><ul><li>  Las bobinas de drenaje MOSFET y el transformador de corriente se hirieron en un n√∫cleo de anillo de ferrita HF de 16x8x6 mm con una permeabilidad de 50. Est√° bien usar alambre esmaltado de 0.6 mm, las bobinas tienen 15 vueltas, transformador de corriente - 2x14 vueltas; </li><li>  El inductor sin n√∫cleo tiene 10 vueltas de cable de 0.6 mm distribuidas uniformemente a lo largo de 10 mm de longitud.  El di√°metro interno es de 5 mm; </li><li>  El transformador principal se basa en un peque√±o n√∫cleo EFD25 de material N87 Epcos.  Agregu√© un espacio de 0.2 mm en cada pata insertando dos capas de papel para notas.  Eso nos da un espacio de 0.4 mm en total.  Para el devanado primario (33 vueltas) y el primer devanado secundario (2x6 vueltas), el cable litz con triple aislamiento se usa con un tama√±o de 100/46 y 175/46 respectivamente (aqu√≠ el primer n√∫mero es el recuento de cables, y el segundo es El di√°metro del AWG).  El segundo devanado secundario de 10 V tiene dos vueltas de cualquier cable trenzado flexible apropiado (he usado uno aislado con PTFE). </li></ul></div></div><br>  Los c√°lculos para todos los componentes del convertidor LLC, incluidos los valores de inductancia de los devanados del transformador, se proporcionan en el archivo de dise√±o adjunto al proyecto, que puede ver con PI Xls Designer.  Tambi√©n inclu√≠ todas las hojas de datos de las partes electr√≥nicas que utilic√© en el proyecto, cargu√© modelos LTspice de algunas partes del circuito y algunas fotos, por supuesto. <br><br>  El resultado del dise√±o descrito anteriormente es el siguiente diagrama esquem√°tico el√©ctrico: <br><br> <a href=""><img src="https://habrastorage.org/webt/6a/bn/p0/6abnp0p3g-16iu0umf5eq4eo3zq.png"></a> <br><br>  El diagrama y el dise√±o de la PCB se prepararon utilizando DipTrace, con los dibujos convertidos al formato Gerber para su posterior env√≠o a la planta de fabricaci√≥n.  El dise√±o de la PCB est√° hecho para encajar perfectamente en la carcasa del dispositivo, con una capa completa cubierta con un plano de tierra para proteger los circuitos fr√°giles de baja corriente.  Tal dise√±o hace que sea mucho m√°s f√°cil fabricar el tablero en casa, ya que no requiere una alineaci√≥n precisa de las plantillas de fotos: puede llenar casi toda la superficie inversa del tablero con un plano s√≥lido y luego usar un taladro grueso para hacer biseles de agujeros alrededor de los pines que no necesitan estar conectados a tierra. <br><br><img src="https://habrastorage.org/webt/py/hr/jg/pyhrjgytrdz7antf8jetd_xzu-4.jpeg"><br><br><img src="https://habrastorage.org/webt/rv/-a/nv/rv-anvkpggckyvycywv2kgr8bja.jpeg"><br><br>  Dado que algunas piezas de HF utilizadas en el dise√±o emiten mucho ruido de radio y los componentes de alimentaci√≥n se sobrecalientan f√°cilmente, naturalmente, mi elecci√≥n del material para la carcasa ser√° aluminio.  Voy a elegir un caso G0476 aproximadamente coincidente del cat√°logo de Gainta.  Cortaremos una ventana en el caso del OLED usando una herramienta rotativa.  Luego conectaremos la caja directamente al cable de tierra del cable de alimentaci√≥n junto con el blindaje del cable de soldadura y la tierra de la PCB. <br><br>  Desafortunadamente, la idea de conectar un OLED de mayor contraste en lugar de un LCD surgi√≥ mucho despu√©s de haber enviado mi pedido de PCB a la planta de fabricaci√≥n.  Los niveles CMOS de entrada de un OLED <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">WEH001602AGPP5N00001</a> de WinStar son diferentes de los niveles TTL est√°ndar de una pantalla LCD, por lo que el truco es alimentar + 5V al controlador de pantalla y su iluminaci√≥n, y luego leer las se√±ales l√≥gicas del microprocesador alimentado desde + 3.3V No funcionar√° aqu√≠.  Tuve que conectar la pantalla a una l√≠nea de 3.3V usando un cable separado. <br><br>  Para reducir el ruido, instal√© resistencias supresoras de interferencia de 390 ohmios en el bus que conecta la PCB y la pantalla, y cubr√≠ el microcontrolador con un escudo de l√°mina de cobre.  En condiciones normales de funcionamiento, el conector de programaci√≥n debe cubrirse con una parte hembra que conecta a tierra los pines de depuraci√≥n directamente y el pin NRST, a trav√©s de un condensador. <br><br>  Al final, mi dispositivo adquiri√≥ su apariencia final: <br><br><img src="https://habrastorage.org/webt/dp/pj/ay/dppjaykwjjd0xym_k3nxxe5n4g4.jpeg"><br><br>  Aqu√≠ est√° el procedimiento resultante para el calentamiento del soldador: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/odTL6zllHzc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h4>  L√≠nea inferior </h4><br>  Ahora totalicemos el gasto en esta peque√±a diversi√≥n: <br><br>  Componentes electr√≥nicos: alrededor de $ 50 (los m√°s caros fueron el chip HiperLCS por $ 15 y el OLED por $ 10); <br>  Fabricaci√≥n de PCB, costo por 10 piezas.  - un poco m√°s de $ 40; <br>  Estuche - $ 8. <br><br>  El <b>costo total</b> de la unidad de fuente de alimentaci√≥n de alta frecuencia actual fue de alrededor de $ 100.  Tambi√©n he pagado un soldador con una mesa de trabajo ($ 170) y dos cartuchos ($ 100). <br><br>  Por supuesto, podr√≠a optimizar el gasto en cierta medida, por ejemplo, eBay tiene una amplia gama de piezas Metcal usadas, en este caso estamos hablando de unas pocas decenas de d√≥lares, pero eso es probablemente una cuesti√≥n de preferencia personal. <br><br><h4>  Erratas </h4><br><ol><li>  La red de condensadores de carga de cristal se encamin√≥ de manera incorrecta y es muy sensible al ruido de HF.  La forma correcta es <a href="">eso</a> .  Gracias a Alexander Chulkin por esta importante mejora. </li><li>  No se admite la capacidad de desconectar el cable del soldador de una estaci√≥n operativa, ya que a veces puede reiniciar el microcontrolador.  Vale la pena considerar la introducci√≥n de alg√∫n blindaje adicional de la parte de HF (aunque no estoy 100% seguro). </li></ol><br><h4>  Conclusiones </h4><br>  Ahora perm√≠tanme compartir con ustedes el objetivo final que estaba persiguiendo con este proyecto: la experiencia que obtengo al trabajar con el dispositivo.  Se siente como usar un soldador muy potente y candente mientras sostiene una herramienta peque√±a y ligera en sus manos.  Si vali√≥ la pena el dinero y el esfuerzo gastado, es dif√≠cil de decir.  Dejar√© la pregunta abierta. <br><br><img src="https://habrastorage.org/webt/gy/uj/vn/gyujvninztoywjpa9ruzoae0dts.jpeg"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/451246/">https://habr.com/ru/post/451246/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../451226/index.html">Nueva vida de juegos antiguos: el directorio de c√≥digo fuente m√°s abierto de los puertos de origen (Java + PHP)</a></li>
<li><a href="../451230/index.html">Cinco errores que cometen las personas al prepararse para la inmigraci√≥n laboral en los Estados Unidos</a></li>
<li><a href="../451232/index.html">El uso del modelo de financiaci√≥n continua en crowdfunding</a></li>
<li><a href="../451240/index.html">¬øPor qu√© me gustan las interfaces Go?</a></li>
<li><a href="../451242/index.html">MMORPG solo (acosador 2d)</a></li>
<li><a href="../451248/index.html">El lado oscuro de los hackatones.</a></li>
<li><a href="../451252/index.html">¬øDeben las cadenas en Python ser iterables?</a></li>
<li><a href="../451254/index.html">Categor√≠a: proveedor de IaaS de hierro unboxing</a></li>
<li><a href="../451256/index.html">¬øQu√© es un sistema de informes ideal? ¬øEs realista entender lo que est√° sucediendo en la empresa?</a></li>
<li><a href="../451258/index.html">Atr√°pame si puedes. Carta del gerente</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>