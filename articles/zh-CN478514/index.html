<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ“† ğŸ‘ğŸ» ğŸˆ ä½¿ç”¨åŠ å¯†çš„æ•°æ®è¿›è¡Œæœºå™¨å­¦ä¹ è€Œä¸è§£å¯† ğŸŒ³ ğŸ—ï¸ ğŸ“˜</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ä½¿ç”¨åŠ å¯†çš„æ•°æ®è¿›è¡Œæœºå™¨å­¦ä¹ è€Œä¸è§£å¯† 
 æœ¬æ–‡è®¨è®ºäº†é«˜çº§åŠ å¯†æŠ€æœ¯ã€‚ è¿™åªæ˜¯Julia Computingè¿›è¡Œçš„ç ”ç©¶çš„æ¦‚è¿°ã€‚ ä¸è¦åœ¨å•†ä¸šåº”ç”¨ä¸­ä½¿ç”¨æ­¤å¤„ç»™å‡ºçš„ç¤ºä¾‹ã€‚ åœ¨åº”ç”¨åŠ å¯†ä¹‹å‰ï¼Œè¯·åŠ¡å¿…å’¨è¯¢åŠ å¯†ä¸“å®¶ã€‚ 

 åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥ä¸‹è½½å®ç°æ‰€æœ‰é­”æœ¯çš„ç¨‹åºåŒ…ï¼Œè¿™æ˜¯æœ¬æ–‡ä¸­è®¨è®ºçš„ä»£ç ã€‚ 

 å¼•è¨€ 
 å‡è®¾æ‚¨åˆšåˆšå¼€å‘äº†...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ä½¿ç”¨åŠ å¯†çš„æ•°æ®è¿›è¡Œæœºå™¨å­¦ä¹ è€Œä¸è§£å¯†</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/478514/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/_p/ns/yf/_pnsyfz49v6t61j8whitl-q4qw0.jpeg"></div><br> ä½¿ç”¨åŠ å¯†çš„æ•°æ®è¿›è¡Œæœºå™¨å­¦ä¹ è€Œä¸è§£å¯† <br> æœ¬æ–‡è®¨è®ºäº†é«˜çº§åŠ å¯†æŠ€æœ¯ã€‚ è¿™åªæ˜¯Julia Computingè¿›è¡Œçš„ç ”ç©¶çš„æ¦‚è¿°ã€‚ ä¸è¦åœ¨å•†ä¸šåº”ç”¨ä¸­ä½¿ç”¨æ­¤å¤„ç»™å‡ºçš„ç¤ºä¾‹ã€‚ åœ¨åº”ç”¨åŠ å¯†ä¹‹å‰ï¼Œè¯·åŠ¡å¿…å’¨è¯¢åŠ å¯†ä¸“å®¶ã€‚ <br><br>  <a href="">åœ¨è¿™é‡Œï¼Œ</a>æ‚¨å¯ä»¥ä¸‹è½½å®ç°æ‰€æœ‰é­”æœ¯çš„ç¨‹åºåŒ…ï¼Œè¿™æ˜¯æœ¬æ–‡ä¸­è®¨è®ºçš„ä»£ç ã€‚ <br><a name="habracut"></a><br><h2> å¼•è¨€ </h2><br> å‡è®¾æ‚¨åˆšåˆšå¼€å‘äº†ä¸€ä¸ªå¾ˆé…·çš„æ–°æœºå™¨å­¦ä¹ æ¨¡å‹ï¼ˆå½“ç„¶ï¼Œä½¿ç”¨<a href="">Flux.jl</a> ï¼‰ã€‚ ç°åœ¨ï¼Œæ‚¨æƒ³å¼€å§‹ä¸ºæ‚¨çš„ç”¨æˆ·éƒ¨ç½²å®ƒã€‚ æ‚¨å°†å¦‚ä½•åšï¼Ÿ å¯èƒ½æœ€ç®€å•çš„æ–¹æ³•æ˜¯å°†æ¨¡å‹æä¾›ç»™ç”¨æˆ·ï¼Œå¹¶ä½¿å…¶åœ¨å…¶æ•°æ®ä¸Šæœ¬åœ°è¿è¡Œã€‚ ä½†æ˜¯è¿™ç§æ–¹æ³•æœ‰ç¼ºç‚¹ï¼š <br><br><ol><li> æœºå™¨å­¦ä¹ æ¨¡å‹å¾ˆå¤§ï¼Œå¹¶ä¸”ç”¨æˆ·è®¡ç®—æœºå¯èƒ½æ²¡æœ‰è¶³å¤Ÿçš„è®¡ç®—æˆ–ç£ç›˜èµ„æºã€‚ </li><li> æœºå™¨å­¦ä¹ æ¨¡å‹é€šå¸¸ä¼šæ›´æ–°ï¼Œå› æ­¤å¯èƒ½æ— æ³•æ–¹ä¾¿åœ°é€šè¿‡ç½‘ç»œå®šæœŸå‘é€å¤§é‡æ•°æ®ã€‚ <br></li><li> æ¨¡å‹å¼€å‘éå¸¸è€—æ—¶ï¼Œå¹¶ä¸”éœ€è¦å¤§é‡çš„è®¡ç®—èµ„æºã€‚ æ‚¨å¯èƒ½å¸Œæœ›ä»¥ä½¿ç”¨æ¨¡å‹çš„è´¹ç”¨çš„å½¢å¼å¯¹æ­¤è¿›è¡Œè¡¥å¿ã€‚ </li></ol><br> ç„¶åä»–ä»¬é€šå¸¸ä¼šå›å¿†èµ·å¯ä»¥é€šè¿‡APIåœ¨äº‘ä¸­æä¾›è¯¥æ¨¡å‹ã€‚ åœ¨è¿‡å»çš„å‡ å¹´ä¸­ï¼Œå‡ºç°äº†è®¸å¤šæ­¤ç±»æœåŠ¡ï¼›æ¯ä¸ªå¤§å‹äº‘å¹³å°éƒ½ä¸ºä¼ä¸šå¼€å‘äººå‘˜æä¾›äº†ç±»ä¼¼çš„æœåŠ¡ã€‚ ä½†æ˜¯æ½œåœ¨çš„ç”¨æˆ·é¢ä¸´ä¸€ä¸ªæ˜æ˜¾çš„éš¾é¢˜ï¼šç°åœ¨ï¼Œä»–ä»¬çš„æ•°æ®åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šå¤„ç†ï¼Œè¿™å¯èƒ½æ˜¯ä¸å¯ä¿¡çš„ã€‚ è¿™å…·æœ‰æ˜æ˜¾çš„é“å¾·å’Œæ³•å¾‹å½±å“ï¼Œé™åˆ¶äº†æ­¤ç±»æœåŠ¡çš„ä½¿ç”¨ã€‚ åœ¨å—ç›‘ç®¡çš„è¡Œä¸šä¸­ï¼Œå°¤å…¶æ˜¯åŒ»ç–—ä¿å¥å’Œé‡‘èæœåŠ¡ï¼Œé€šå¸¸æ— æ³•å°†æ‚£è€…å’Œå®¢æˆ·æ•°æ®å‘é€ç»™ç¬¬ä¸‰æ–¹è¿›è¡Œå¤„ç†ã€‚ <br><br> è¿˜æœ‰å…¶ä»–é€‰æ‹©å—ï¼Ÿ <br><br> åŸæ¥æœ‰ï¼ å¯†ç å­¦çš„æœ€æ–°å‘ç°å…è®¸å¯¹æ•°æ®è¿›è¡Œè®¡ç®—è€Œ<i>æ— éœ€å¯¹å…¶è¿›è¡Œè§£ç </i> ã€‚ ä¾‹å¦‚ï¼Œç”¨æˆ·å°†åŠ å¯†çš„æ•°æ®ï¼ˆä¾‹å¦‚ï¼Œå›¾åƒï¼‰å‘é€åˆ°äº‘APIï¼Œè¯¥APIå¯åŠ¨æœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œç„¶åå‘é€åŠ å¯†çš„å“åº”ã€‚ åœ¨ä»»ä½•é˜¶æ®µéƒ½ä¸ä¼šè§£å¯†æ•°æ®ï¼Œäº‘æä¾›å•†ä¸ä¼šè®¿é—®æºå›¾åƒï¼Œä¹Ÿæ— æ³•è§£å¯†è®¡ç®—å‡ºçš„é¢„æµ‹ã€‚ è¿™æ€ä¹ˆå¯èƒ½ï¼Ÿ è®©æˆ‘ä»¬é€šè¿‡åˆ›å»ºç”¨äºåœ¨MNISTæ•°æ®é›†ä¸­çš„åŠ å¯†å›¾åƒä¸Šè¿›è¡Œæ‰‹å†™è¯†åˆ«çš„æœåŠ¡æ¥æ‰¾åˆ°ç­”æ¡ˆã€‚ <br><br><h2> å…³äºåŒæ€åŠ å¯† </h2><br> ä½¿ç”¨åŠ å¯†æ•°æ®æ‰§è¡Œè®¡ç®—çš„èƒ½åŠ›é€šå¸¸ç§°ä¸ºâ€œå®‰å…¨è®¡ç®—â€ã€‚ è¿™æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„ç ”ç©¶é¢†åŸŸï¼Œæ ¹æ®å„ç§åº”ç”¨åœºæ™¯ï¼Œå¯ä»¥ä½¿ç”¨å¤šç§åŠ å¯†æ–¹æ³•ã€‚ æˆ‘ä»¬å°†ä¸“æ³¨äºä¸€ç§ç§°ä¸ºâ€œåŒæ€åŠ å¯†â€çš„æŠ€æœ¯ã€‚ åœ¨è¿™æ ·çš„ç³»ç»Ÿä¸­ï¼Œé€šå¸¸å¯ä»¥è¿›è¡Œä»¥ä¸‹æ“ä½œï¼š <br><br><ul><li><code>pub_key, eval_key, priv_key = keygen()</code> <br> </li><li> <code>encrypted = encrypt(pub_key, plaintext)</code> <br> </li><li> <code>decrypted = decrypt(priv_key, encrypted)</code> <br> </li><li> <code>encryptedâ€² = eval(eval_key, f, encrypted)</code> <br> </li></ul><br> å¯¹äºå·²ç»ä½¿ç”¨ä»»ä½•éå¯¹ç§°åŠ å¯†ç®—æ³•çš„æ¯ä¸ªäººï¼ˆä¾‹å¦‚ï¼Œå¦‚æœæ‚¨é€šè¿‡TLSè¿›è¡Œè¿æ¥ï¼‰ï¼Œå‰ä¸‰ä¸ªæ“ä½œéƒ½å¾ˆç®€å•ä¸”ç†Ÿæ‚‰ã€‚ æ‰€æœ‰çš„é­”æœ¯éƒ½å‘ç”Ÿåœ¨æœ€åçš„æ“ä½œä¸­ã€‚ åœ¨åŠ å¯†è¿‡ç¨‹ä¸­ï¼Œå®ƒè¯„ä¼°å‡½æ•°<code>f</code>å¹¶è¿”å›æ ¹æ®å¯¹åŠ å¯†å€¼è¯„ä¼°<code>f</code>çš„ç»“æœè®¡ç®—å‡ºçš„å¦ä¸€ä¸ªåŠ å¯†å€¼ã€‚ æ­¤åŠŸèƒ½ä¸ºå…¶æ–¹æ³•å‘½åã€‚ è¯„ä¼°ä¸åŠ å¯†æ“ä½œæœ‰å…³ï¼š <br><br><pre> <code class="julia hljs">f(decrypt(priv_key, encrypted)) == decrypt(priv_key, eval(eval_key, f, encrypted))</code> </pre> <br> ç±»ä¼¼åœ°ï¼Œä½¿ç”¨åŠ å¯†çš„å€¼ï¼Œæˆ‘ä»¬å¯ä»¥è¯„ä¼°ä»»æ„åŒæ„æ€§<code>f</code> ã€‚ <br><br> æ”¯æŒå“ªäº›åŠŸèƒ½<code>f</code>å–å†³äºåŠ å¯†æ–¹æ¡ˆå’Œæ”¯æŒçš„æ“ä½œã€‚ å¦‚æœä»…æ”¯æŒä¸€ä¸ª<code>f</code> ï¼ˆä¾‹å¦‚<code>f = +</code> ï¼‰ï¼Œåˆ™è¯¥ç”µè·¯ç§°ä¸ºâ€œéƒ¨åˆ†åŒæ€â€ã€‚ å¦‚æœ<code>f</code>å¯ä»¥æ˜¯ç½‘å…³çš„ä»»ä½•å®Œæ•´é›†åˆï¼Œå¯ä»¥åœ¨è¯¥ç½‘å…³çš„åŸºç¡€ä¸Šåˆ›å»ºä»»æ„æ–¹æ¡ˆï¼Œåˆ™å¯¹äºæ–¹æ¡ˆçš„æœ‰é™å¤§å°ï¼Œè¿™ç§°ä¸ºå¦ä¸€ç§éƒ¨åˆ†åŒæ€è®¡ç®—-â€œæœ‰äº›åŒæ€â€ï¼Œè€Œå¯¹äºæ— é™åˆ¶å¤§å°ï¼Œåˆ™ç§°ä¸ºâ€œå®Œå…¨åŒæ„â€è®¡ç®—ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨è‡ªä¸¾æŠ€æœ¯å°†â€œä»¥æŸç§æ–¹å¼â€è½¬æ¢ä¸ºå®Œå…¨åŒæ€åŠ å¯†ï¼Œä½†è¿™è¶…å‡ºäº†æœ¬æ–‡çš„èŒƒå›´ã€‚ å…¨åŒæ€åŠ å¯†æ˜¯ä¸€ä¸ªç›¸å¯¹è¾ƒæ–°çš„å‘ç°ï¼Œç¬¬ä¸€ä¸ªå·¥ä½œæ–¹æ¡ˆï¼ˆå°½ç®¡ä¸åˆ‡å®é™…ï¼‰æ˜¯ç”±<a href="https://www.cs.cmu.edu/~odonnell/hits09/gentry-homomorphic-encryption.pdf">Craig Gentryåœ¨2009å¹´å‘å¸ƒçš„</a> ã€‚ æœ‰è®¸å¤šåæ¥çš„ï¼ˆå’Œå®é™…çš„ï¼‰å®Œå…¨åŒæ„æ–¹æ¡ˆã€‚ è¿˜æœ‰ä¸€äº›è½¯ä»¶åŒ…å¯ä»¥å®šæ€§åœ°å®ç°è¿™äº›æ–¹æ¡ˆã€‚ å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä»–ä»¬ä½¿ç”¨<a href="https://github.com/microsoft/SEAL">Microsoft SEAL</a>å’Œ<a href="https://palisade-crypto.org/">PALISADE</a> ã€‚ å¦å¤–ï¼Œæˆ‘æœ€è¿‘æ‰“å¼€äº†è¿™äº›<a href="">Pure Julia</a>ç®—æ³•çš„å®ç°ä»£ç ã€‚ å¯¹äºæœ¬æ–‡ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨å…¶ä¸­å®ç°çš„CKKSåŠ å¯†ã€‚ <br><br><h2>  CKSæ¦‚è¿° </h2><br>  CKKSï¼ˆä»¥2016å¹´æå‡ºè¯¥ç®—æ³•çš„<a href="https://eprint.iacr.org/2016/421.pdf">ç§‘å­¦è‘—ä½œ</a> Cheon-Kim-Kim-Songçš„ä½œè€…çš„åå­—å‘½åï¼‰æ˜¯ä¸€ç§åŒæ€åŠ å¯†æ–¹æ¡ˆï¼Œå¯ä»¥å¯¹ä»¥ä¸‹åŸå§‹æ“ä½œè¿›è¡ŒåŒæ€è¯„ä¼°ï¼š <br><br><ul><li>  <code>n</code>ä¸ªå¤æ•°å‘é‡çš„é•¿åº¦çš„å…ƒç´ åŠ æ³•ã€‚ <br></li><li>  <code>n</code>å¤æ•°å‘é‡çš„é•¿åº¦çš„é€å…ƒç´ ä¹˜æ³•ã€‚ <br></li><li> æ—‹è½¬ï¼ˆåœ¨<code>circshift</code>çš„æƒ…å†µä¸‹ï¼‰å‘é‡ä¸­çš„å…ƒç´ ã€‚ <br></li><li> å‘é‡å…ƒç´ çš„é›†æˆé…å¯¹ã€‚ <br></li></ul><br> å‚æ•°<code>n</code>å–å†³äºæ‰€éœ€çš„å®‰å…¨æ€§å’Œå‡†ç¡®æ€§ï¼Œé€šå¸¸å¾ˆé«˜ã€‚ åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œå®ƒå°†ç­‰äº4096ï¼ˆè¾ƒé«˜çš„å€¼å¯æé«˜å®‰å…¨æ€§ï¼Œä½†åœ¨è®¡ç®—ä¸­ä¹Ÿè¾ƒå›°éš¾ï¼Œå®ƒçš„ç¼©æ”¾æ¯”ä¾‹è¿‘ä¼¼ä¸º<code>n log n</code> ï¼‰ã€‚ <br><br> æ­¤å¤–ï¼Œä½¿ç”¨CKKSè¿›è¡Œçš„è®¡ç®—æ¯”è¾ƒ<i>å˜ˆæ‚</i> ã€‚ å› æ­¤ï¼Œç»“æœæ˜¯è¿‘ä¼¼å€¼ï¼Œå¿…é¡»æ³¨æ„ä»¥è¶³å¤Ÿçš„å‡†ç¡®æ€§è¯„ä¼°ç»“æœï¼Œä»¥å…å½±å“ç»“æœçš„æ­£ç¡®æ€§ã€‚ <br><br> å¦ä¸€æ–¹é¢ï¼Œè¿™æ ·çš„é™åˆ¶å¯¹äºæœºå™¨å­¦ä¹ åŒ…çš„å¼€å‘äººå‘˜æ¥è¯´å¹¶ä¸ç½•è§ã€‚ åƒGPUè¿™æ ·çš„ç‰¹æ®ŠåŠ é€Ÿå™¨é€šå¸¸ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°å­—çŸ¢é‡è¿è¡Œã€‚ å¦å¤–ï¼Œå¯¹äºè®¸å¤šå¼€å‘äººå‘˜æ¥è¯´ï¼Œç”±äºé€‰æ‹©ç®—æ³•ï¼Œå¤šçº¿ç¨‹ç­‰çš„å½±å“ï¼Œæµ®ç‚¹æ•°æœ‰æ—¶çœ‹èµ·æ¥å¾ˆå˜ˆæ‚ã€‚ æˆ‘æƒ³å¼ºè°ƒä¸€ç‚¹ï¼Œè¿™é‡Œçš„ä¸»è¦åŒºåˆ«åœ¨äºï¼Œå°½ç®¡CKKSåŸè¯­ç¡®å®å¾ˆå˜ˆæ‚ï¼Œä½†ç”±äºå®ç°çš„å¤æ‚æ€§ï¼Œå°½ç®¡æµ®ç‚¹æ•°çš„ç®—æœ¯è®¡ç®—æœ€åˆæ˜¯ç¡®å®šæ€§çš„ï¼Œå³ä½¿è¿™å¹¶ä¸æ˜æ˜¾ã€‚ ä½†è¿™ä¹Ÿè®¸å¯ä»¥ä½¿ç”¨æˆ·ç†è§£å™ªéŸ³å¹¶ä¸åƒçœ‹èµ·æ¥é‚£æ ·å¯æ€•ã€‚ <br><br> ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•åœ¨Juliaä¸­æ‰§è¡Œè¿™äº›æ“ä½œï¼ˆæ³¨æ„ï¼šé€‰æ‹©äº†éå¸¸ä¸å®‰å…¨çš„å‚æ•°ï¼Œåœ¨è¿™äº›æ“ä½œä¸­ï¼Œæˆ‘ä»¬ä»…è¯´æ˜äº†REPLä¸­åº“çš„ä½¿ç”¨ï¼‰ã€‚ <br><br><pre> <code class="julia hljs">julia&gt; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ToyFHE <span class="hljs-comment"><span class="hljs-comment"># Let's play with 8 element vectors julia&gt; N = 8; # Choose some parameters - we'll talk about it later julia&gt; â„› = NegacyclicRing(2N, (40, 40, 40)) â„¤â‚â‚ƒâ‚‚â‚‰â‚‚â‚‚â‚‡â‚‰â‚‰â‚‡â‚…â‚†â‚ˆâ‚€â‚ˆâ‚â‚„â‚…â‚‡â‚„â‚€â‚‚â‚‡â‚€â‚â‚‚â‚€â‚‡â‚â‚€â‚„â‚‚â‚„â‚ˆâ‚‚â‚…â‚‡/(xÂ¹â¶ + 1) # We'll use CKKS julia&gt; params = CKKSParams(â„›) CKKS parameters # We need to pick a scaling factor for a numbers - again we'll talk about that later julia&gt; Tscale = FixedRational{2^40} FixedRational{1099511627776,T} where T # Let's start with a plain Vector of zeros julia&gt; plain = CKKSEncoding{Tscale}(zero(â„›)) 8-element CKKSEncoding{FixedRational{1099511627776,T} where T} with indices 0:7: 0.0 + 0.0im 0.0 + 0.0im 0.0 + 0.0im 0.0 + 0.0im 0.0 + 0.0im 0.0 + 0.0im 0.0 + 0.0im 0.0 + 0.0im # Ok, we're ready to get started, but first we'll need some keys julia&gt; kp = keygen(params) CKKS key pair julia&gt; kp.priv CKKS private key julia&gt; kp.pub CKKS public key # Alright, let's encrypt some things: julia&gt; foreach(i-&gt;plain[i] = i+1, 0:7); plain 8-element CKKSEncoding{FixedRational{1099511627776,T} where T} with indices 0:7: 1.0 + 0.0im 2.0 + 0.0im 3.0 + 0.0im 4.0 + 0.0im 5.0 + 0.0im 6.0 + 0.0im 7.0 + 0.0im 8.0 + 0.0im julia&gt; c = encrypt(kp.pub, plain) CKKS ciphertext (length 2, encoding CKKSEncoding{FixedRational{1099511627776,T} where T}) # And decrypt it again julia&gt; decrypt(kp.priv, c) 8-element CKKSEncoding{FixedRational{1099511627776,T} where T} with indices 0:7: 0.9999999999995506 - 2.7335193113350057e-16im 1.9999999999989408 - 3.885780586188048e-16im 3.000000000000205 + 1.6772825551165524e-16im 4.000000000000538 - 3.885780586188048e-16im 4.999999999998865 + 8.382500573679615e-17im 6.000000000000185 + 4.996003610813204e-16im 7.000000000001043 - 2.0024593503998215e-16im 8.000000000000673 + 4.996003610813204e-16im # Note that we had some noise. Let's go through all the primitive operations we'll need: julia&gt; decrypt(kp.priv, c+c) 8-element CKKSEncoding{FixedRational{1099511627776,T} where T} with indices 0:7: 1.9999999999991012 - 5.467038622670011e-16im 3.9999999999978817 - 7.771561172376096e-16im 6.00000000000041 + 3.354565110233105e-16im 8.000000000001076 - 7.771561172376096e-16im 9.99999999999773 + 1.676500114735923e-16im 12.00000000000037 + 9.992007221626409e-16im 14.000000000002085 - 4.004918700799643e-16im 16.000000000001346 + 9.992007221626409e-16im julia&gt; csq = c*c CKKS ciphertext (length 3, encoding CKKSEncoding{FixedRational{1208925819614629174706176,T} where T}) julia&gt; decrypt(kp.priv, csq) 8-element CKKSEncoding{FixedRational{1208925819614629174706176,T} where T} with indices 0:7: 0.9999999999991012 - 2.350516767363621e-15im 3.9999999999957616 - 5.773159728050814e-15im 9.000000000001226 - 2.534464540987068e-15im 16.000000000004306 - 2.220446049250313e-15im 24.99999999998865 + 2.0903753311370056e-15im 36.00000000000222 + 4.884981308350689e-15im 49.000000000014595 + 1.0182491378134327e-15im 64.00000000001077 + 4.884981308350689e-15im</span></span></code> </pre> <br> å¥½ç®€å•ï¼ ç»†å¿ƒçš„è¯»è€…å¯èƒ½ä¼šæ³¨æ„åˆ°CSQä¸ä»¥å‰çš„å¯†æ–‡ç•¥æœ‰ä¸åŒã€‚ ç‰¹åˆ«åœ°ï¼Œå¯†æ–‡å…·æœ‰â€œé•¿åº¦3â€å¹¶ä¸”è§„æ¨¡æ›´å¤§ã€‚ å…³äºä»€ä¹ˆæ˜¯ä»€ä¹ˆä»¥åŠéœ€è¦ä»€ä¹ˆçš„è§£é‡Šè¶…å‡ºäº†æœ¬æ–‡çš„èŒƒå›´ã€‚ è¶³ä»¥è¯´æ˜æˆ‘ä»¬éœ€è¦åœ¨ç»§ç»­è®¡ç®—ä¹‹å‰é™ä½è¿™äº›å€¼ï¼Œå¦åˆ™â€œä½ç½®â€å°†ä»¥å¯†æ–‡ç»“å°¾ã€‚ å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å‡å°‘ä¸¤ä¸ªå¢åŠ çš„å€¼ä¸­çš„æ¯ä¸€ä¸ªï¼š <br><br><pre> <code class="julia hljs"><span class="hljs-comment"><span class="hljs-comment"># To get back down to length 2, we need to `keyswitch` (aka # relinerarize), which requires an evaluation key. Generating # this requires the private key. In a real application we would # have generated this up front and sent it along with the encrypted # data, but since we have the private key, we can just do it now. julia&gt; ek = keygen(EvalMultKey, kp.priv) CKKS multiplication key julia&gt; csq_length2 = keyswitch(ek, csq) CKKS ciphertext (length 2, encoding CKKSEncoding{FixedRational{1208925819614629174706176,T} where T}) # Getting the scale back down is done using modswitching. julia&gt; csq_smaller = modswitch(csq_length2) CKKS ciphertext (length 2, encoding CKKSEncoding{FixedRational{1.099511626783e12,T} where T}) # And it still decrypts correctly (though note we've lost some precision) julia&gt; decrypt(kp.priv, csq_smaller) 8-element CKKSEncoding{FixedRational{1.099511626783e12,T} where T} with indices 0:7: 0.9999999999802469 - 5.005163520332181e-11im 3.9999999999957723 - 1.0468514951188039e-11im 8.999999999998249 - 4.7588542623100616e-12im 16.000000000023014 - 1.0413447889166631e-11im 24.999999999955193 - 6.187833723406491e-12im 36.000000000002345 + 1.860733715346631e-13im 49.00000000001647 - 1.442396043149794e-12im 63.999999999988695 - 1.0722489563648028e-10im</span></span></code> </pre> <br> å¦å¤–ï¼Œmodswitchingï¼ˆæ¨¡æ•°è½¬æ¢ï¼Œæ¨¡å—è½¬æ¢çš„ç¼©å†™ï¼‰å‡å°äº†å¯†æ–‡æ¨¡å—çš„å¤§å°ï¼Œå› æ­¤æˆ‘ä»¬ä¸èƒ½æ— é™æœŸåœ°ç»§ç»­è¿™æ ·åšï¼ˆæˆ‘ä»¬ä½¿ç”¨äº†æŸç§åŒæ€åŠ å¯†æ–¹æ¡ˆï¼‰ï¼š <br><br><pre> <code class="julia hljs">julia&gt; â„› <span class="hljs-comment"><span class="hljs-comment"># Remember the ring we initially created â„¤â‚â‚ƒâ‚‚â‚‰â‚‚â‚‚â‚‡â‚‰â‚‰â‚‡â‚…â‚†â‚ˆâ‚€â‚ˆâ‚â‚„â‚…â‚‡â‚„â‚€â‚‚â‚‡â‚€â‚â‚‚â‚€â‚‡â‚â‚€â‚„â‚‚â‚„â‚ˆâ‚‚â‚…â‚‡/(xÂ¹â¶ + 1) julia&gt; ToyFHE.ring(csq_smaller) # It shrunk! â„¤â‚â‚‚â‚€â‚ˆâ‚‰â‚‚â‚…â‚ˆâ‚‚â‚€â‚â‚„â‚„â‚…â‚‰â‚ƒâ‚‡â‚‡â‚‰â‚ƒâ‚ƒâ‚â‚…â‚…â‚ƒ/(xÂ¹â¶ + 1)&lt;/code&gt;     â€”  (rotations).      keyswitch,       (evaluation key,     ): &lt;source lang="julia"&gt;julia&gt; gk = keygen(GaloisKey, kp.priv; steps=2) CKKS galois key (element 25) julia&gt; decrypt(circshift(c, gk)) decrypt(kp, circshift(c, gk)) 8-element CKKSEncoding{FixedRational{1099511627776,T} where T} with indices 0:7: 7.000000000001042 + 5.68459112632516e-16im 8.000000000000673 + 5.551115123125783e-17im 0.999999999999551 - 2.308655353580721e-16im 1.9999999999989408 + 2.7755575615628914e-16im 3.000000000000205 - 6.009767921608429e-16im 4.000000000000538 + 5.551115123125783e-17im 4.999999999998865 + 4.133860996136768e-17im 6.000000000000185 - 1.6653345369377348e-16im # And let's compare to doing the same on the plaintext julia&gt; circshift(plain, 2) 8-element OffsetArray(::Array{Complex{Float64},1}, 0:7) with eltype Complex{Float64} with indices 0:7: 7.0 + 0.0im 8.0 + 0.0im 1.0 + 0.0im 2.0 + 0.0im 3.0 + 0.0im 4.0 + 0.0im 5.0 + 0.0im 6.0 + 0.0im</span></span></code> </pre> <br> æˆ‘ä»¬ä»‹ç»äº†ä½¿ç”¨HEåº“çš„åŸºç¡€çŸ¥è¯†ã€‚ ä½†æ˜¯åœ¨ç»§ç»­ä½¿ç”¨è¿™äº›åŸè¯­æ¥è®¡ç®—ç¥ç»ç½‘ç»œé¢„æµ‹ä¹‹å‰ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹å­¦ä¹ å®ƒçš„è¿‡ç¨‹ã€‚ <br><br><h2> æœºå™¨å­¦ä¹ æ¨¡å‹ </h2><br> å¦‚æœæ‚¨ä¸ç†Ÿæ‚‰æœºå™¨å­¦ä¹ æˆ–Flux.jlåº“ï¼Œé‚£ä¹ˆå»ºè®®æ‚¨ç®€è¦æµè§ˆä¸€ä¸‹<a href="https://fluxml.ai/Flux.jl/stable/">Flux.jlæ–‡æ¡£ï¼Œ</a>æˆ–è€…å…è´¹é˜…è¯»<a href="https://juliaacademy.com/p/introduction-to-machine-learning">æœºå™¨å­¦ä¹ ç®€ä»‹</a> ï¼Œå› ä¸ºæˆ‘ä»¬å°†ä»…è®¨è®ºå°†æ¨¡å‹åº”ç”¨äºåŠ å¯†æ•°æ®çš„æ›´æ”¹ã€‚ <br><br> è®©æˆ‘ä»¬<a href="">ä»ä½¿ç”¨FluxåŠ¨ç‰©å›­</a>çš„å·ç§¯ç¥ç»ç½‘ç»œå¼€å§‹ã€‚ æˆ‘ä»¬å°†æ‰§è¡Œç›¸åŒçš„è®­ç»ƒå‘¨æœŸï¼Œå¹¶è¿›è¡Œæ•°æ®å‡†å¤‡ç­‰ï¼Œåªéœ€ç¨å¾®å»ºç«‹ä¸€ä¸‹æ¨¡å‹å³å¯ã€‚ è¿™æ˜¯ï¼š <br><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> reshape_and_vcat(x) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> y=reshape(x, <span class="hljs-number"><span class="hljs-number">64</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, size(x, <span class="hljs-number"><span class="hljs-number">4</span></span>)) vcat((y[:,i,:] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i=axes(y,<span class="hljs-number"><span class="hljs-number">2</span></span>))...) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> model = Chain( <span class="hljs-comment"><span class="hljs-comment"># First convolution, operating upon a 28x28 image Conv((7, 7), 1=&gt;4, stride=(3,3), x-&gt;x.^2), reshape_and_vcat, Dense(256, 64, x-&gt;x.^2), Dense(64, 10), )</span></span></code> </pre><br> è¿™ä¸<a href="https://eprint.iacr.org/2018/1041.pdf">â€œå®‰å…¨å¤–åŒ…çŸ©é˜µè®¡ç®—å’Œåº”ç”¨äºç¥ç»ç½‘ç»œâ€</a>å·¥ä½œä¸­çš„æ¨¡å‹ç›¸åŒï¼Œåè€…ä½¿ç”¨ç›¸åŒçš„å¯†ç æ–¹æ¡ˆï¼Œä½†æœ‰ä¸¤ä¸ªåŒºåˆ«ï¼š1ï¼‰ä¸ºç®€å•èµ·è§ï¼Œæˆ‘ä»¬æœªå¯¹æ¨¡å‹æœ¬èº«è¿›è¡ŒåŠ å¯†ï¼› 2ï¼‰åœ¨æ¯ä¸€å±‚ä¹‹åä½¿ç”¨è´å¶æ–¯å‘é‡ï¼ˆåœ¨Fluxä¸­é»˜è®¤å®Œæˆï¼‰ï¼Œæˆ‘ä¸ç¡®å®šåœ¨æåˆ°çš„å·¥ä½œä¸­æ˜¯ä»€ä¹ˆã€‚ ä¹Ÿè®¸æ˜¯ç”±äºç¬¬äºŒç‚¹ï¼Œæˆ‘ä»¬æ¨¡å‹çš„æµ‹è¯•é›†çš„å‡†ç¡®æ€§åŸæ¥æ›´é«˜ï¼ˆ98.6ï¼…å¯¹98.1ï¼…ï¼‰ï¼Œä½†æ˜¯é«˜å‚æ•°å·®å¼‚ä¹Ÿå¯èƒ½æ˜¯åŸå› ã€‚ <br><br>  <code>x.^2</code>å‡½æ•°æ¿€æ´»æ˜¯ä¸å¯»å¸¸çš„ï¼ˆå¯¹äºé‚£äº›æ‹¥æœ‰æœºå™¨å­¦ä¹ ç»éªŒçš„äººè€Œè¨€ï¼‰ã€‚ åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä»–ä»¬ä½¿ç”¨<code>tanh</code> ï¼Œ <code>relu</code>æˆ–å…¶ä»–æ›´å¤æ€ªçš„ä¸œè¥¿ã€‚ ä½†æ˜¯ï¼Œå°½ç®¡è¿™äº›å‡½æ•°ï¼ˆå°¤å…¶æ˜¯<code>relu</code> ï¼‰å¾ˆå®¹æ˜“é’ˆå¯¹æ™®é€šæ–‡æœ¬å€¼è¿›è¡Œè®¡ç®—ï¼Œä½†æ˜¯å®ƒä»¬å¯èƒ½éœ€è¦å¤§é‡çš„è®¡ç®—èµ„æºæ‰èƒ½ä»¥åŠ å¯†å½¢å¼å¯¹å…¶è¿›è¡Œè¯„ä¼°ï¼ˆæˆ‘ä»¬é€šå¸¸ä¼°ç®—å¤šé¡¹å¼è¿‘ä¼¼å€¼ï¼‰ã€‚ å¹¸è¿çš„æ˜¯ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ <code>x.^2</code>éå¸¸æœ‰æ•ˆã€‚ <br><br> å­¦ä¹ å‘¨æœŸçš„å…¶ä½™éƒ¨åˆ†ä¿æŒä¸å˜ã€‚ æˆ‘ä»¬ä»æŸå¤±å‡½æ•°å¯¹æ•°<code>logitcrossentropy</code>æ¨¡å‹ä¸­åˆ é™¤äº†<code>softmax</code> ï¼ˆæ‚¨å¯ä»¥å°†å…¶ä¿ç•™ï¼Œå¹¶åœ¨å®¢æˆ·ç«¯è§£å¯†åè¯„ä¼°softmaxï¼‰ã€‚ è®­ç»ƒæ¨¡å‹çš„å®Œæ•´ä»£ç ä½äº<a href="">GitHubä¸Š</a> ï¼Œå¯åœ¨å‡ åˆ†é’Ÿå†…åœ¨ä»»ä½•æ–°çš„è§†é¢‘å¡ä¸Šè¿è¡Œã€‚ <br><br><h2> æœ‰æ•ˆè¿ä½œ </h2><br> ç°åœ¨æˆ‘ä»¬çŸ¥é“æˆ‘ä»¬éœ€è¦æ‰§è¡Œå“ªäº›æ“ä½œï¼š <br><br><ul><li> å‡è¡€ã€‚ <br></li><li> å…ƒç´ å¹³æ–¹ã€‚ <br></li><li> çŸ©é˜µä¹˜æ³•ã€‚ <br></li></ul><br> é€šè¿‡å¹³æ–¹ï¼Œä¸€åˆ‡éƒ½å¾ˆç®€å•ï¼Œæˆ‘ä»¬å·²ç»åœ¨ä¸Šé¢è¿›è¡Œäº†æ£€æŸ¥ï¼Œå› æ­¤æˆ‘ä»¬å°†è€ƒè™‘å¦å¤–ä¸¤ä¸ªæ“ä½œã€‚ æˆ‘ä»¬å‡è®¾æ•°æ®åŒ…çš„é•¿åº¦ä¸º64ï¼ˆæ‚¨å¯èƒ½ä¼šæ³¨æ„åˆ°é€‰æ‹©æ¨¡å‹å‚æ•°å’Œæ•°æ®åŒ…å¤§å°æ˜¯ä¸ºäº†åˆ©ç”¨ç”±äºå®é™…é€‰æ‹©å‚æ•°è€Œè·å¾—çš„4096å…ƒç´ çŸ¢é‡ï¼‰ã€‚ <br><br><h3> å‡ç»“ </h3><br> å›æƒ³ä¸€ä¸‹å‡è¡€æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚ å–åŸå§‹è¾“å…¥æ•°ç»„çš„ä¸€ä¸ªçª—å£ï¼ˆåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ä¸º7x7ï¼‰ï¼Œæ¯ä¸ªçª—å£å…ƒç´ ä¹˜ä»¥å·ç§¯æ©ç å…ƒç´ ã€‚ ç„¶åï¼Œå°†çª—å£ç§»è‡³æŸä¸ªæ­¥éª¤ï¼ˆåœ¨æœ¬ä¾‹ä¸­ï¼Œè¯¥æ­¥éª¤ä¸º3ï¼Œå³ï¼Œç§»åŠ¨3ä¸ªå…ƒç´ ï¼‰å¹¶é‡å¤è¯¥è¿‡ç¨‹ï¼ˆä½¿ç”¨ç›¸åŒçš„å·ç§¯è’™ç‰ˆï¼‰ã€‚ ä¸‹å›¾æ˜¾ç¤ºäº†3x3å·ç§¯ä¸æ­¥éª¤<code>(2, 2)</code> ï¼‰çš„è¿‡ç¨‹ï¼ˆ <a href="https://github.com/vdumoulin/conv_arithmetic">source</a> ï¼‰çš„åŠ¨ç”»ï¼ˆè“è‰²æ•°ç»„-è¾“å…¥ï¼Œç»¿è‰²-è¾“å‡ºï¼‰ï¼š <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/h5/a3/q3/h5a3q3ea0pljgdagz1wd-k2igdy.gif"></div><br> å¦å¤–ï¼Œæˆ‘ä»¬åœ¨å››ä¸ªä¸åŒçš„â€œé€šé“â€ä¸­æ‰§è¡Œå·ç§¯ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸åŒçš„è’™ç‰ˆé‡å¤å·ç§¯3æ¬¡ä»¥ä¸Šï¼‰ã€‚ <br><br> ç°åœ¨æˆ‘ä»¬çŸ¥é“è¯¥æ€ä¹ˆåšäº†ï¼Œä»ç„¶éœ€è¦äº†è§£å¦‚ä½•åšã€‚ å¹¸è¿çš„æ˜¯ï¼Œå·ç§¯æ˜¯æ¨¡å‹ä¸­çš„ç¬¬ä¸€ä¸ªæ“ä½œã€‚ å› æ­¤ï¼Œä¸ºäº†èŠ‚çœèµ„æºï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å®¢æˆ·ç«¯ä¸Šé¢„å¤„ç†æ•°æ®ï¼Œç„¶åå¯¹å®ƒä»¬è¿›è¡ŒåŠ å¯†ï¼ˆä¸ä½¿ç”¨æƒé‡ï¼‰ã€‚ è®©æˆ‘ä»¬è¿™æ ·åšï¼š <br><br><ul><li> é¦–å…ˆï¼Œæˆ‘ä»¬è®¡ç®—æ¯ä¸ªå·ç§¯çª—å£ï¼ˆå³æ¥è‡ªæºå›¾åƒçš„7x7æ ·æœ¬ï¼‰ï¼Œä»è€Œä¸ºæ¯ä¸ªè¾“å…¥å›¾åƒæä¾›64ä¸ª7x7çŸ©é˜µã€‚ è¯·æ³¨æ„ï¼Œå¯¹äºä»¥2ä¸ºå¢é‡çš„7x7çª—å£ï¼Œå°†æœ‰8x8å·ç§¯çª—å£ç”¨äºè¯„ä¼°28x28è¾“å…¥å›¾åƒã€‚ <br></li><li> è®©æˆ‘ä»¬åœ¨ä¸€ä¸ªå‘é‡ä¸­æ”¶é›†æ¯ä¸ªçª—å£ä¸­ç›¸åŒçš„ä½ç½®ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºæ¯ä¸ªå›¾åƒï¼Œå¯¹äºå¤§å°ä¸º64çš„æ•°æ®åŒ…ï¼ˆæ€»å…±49ä¸ª64x64çŸ©é˜µï¼‰ï¼Œæˆ‘ä»¬å°†å…·æœ‰64ä¸ªå…ƒç´ çš„å‘é‡æˆ–64x64ä¸ªå…ƒç´ çš„å‘é‡ã€‚ <br></li><li> æˆ‘ä»¬å°†åŠ å¯†ã€‚ <br></li></ul><br> ç„¶åï¼Œå‡ç»“ç®€å•åœ°å˜æˆæ•´ä¸ªçŸ©é˜µä¸ç›¸åº”çš„è’™ç‰ˆå…ƒç´ çš„æ ‡é‡ä¹˜æ³•ã€‚ ç„¶åæ±‡æ€»æ‰€æœ‰49ä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬å¾—åˆ°æŠ˜å çš„ç»“æœã€‚ è¿™æ˜¯è¯¥ç­–ç•¥çš„å®ç°å½¢å¼ï¼ˆä»¥çº¯æ–‡æœ¬å½¢å¼ï¼‰ï¼š <br><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> public_preprocess(batch) ka = OffsetArray(<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">7</span></span>) <span class="hljs-comment"><span class="hljs-comment"># Create feature extracted matrix I = [[batch[iâ€²*3 .+ (1:7), jâ€²*3 .+ (1:7), 1, k] for iâ€²=ka, jâ€²=ka] for k = 1:64] # Reshape into the ciphertext Iáµ¢â±¼ = [[I[k][l...][i,j] for k=1:64, l=product(ka, ka)] for i=1:7, j=1:7] end Iáµ¢â±¼ = public_preprocess(batch) # Evaluate the convolution weights = model.layers[1].weight conv_weights = reverse(reverse(weights, dims=1), dims=2) conved = [sum(Iáµ¢â±¼[i,j]*conv_weights[i,j,1,channel] for i=1:7, j=1:7) for channel = 1:4] conved = map(((x,b),)-&gt;x .+ b, zip(conved, model.layers[1].bias))</span></span></code> </pre> <br> è¿™ä¸ªï¼ˆç”¨äºæ›´æ”¹å°ºå¯¸çš„æ¨¡å—ï¼‰ï¼ˆä»¥æ¨¡æ•°å½¢å¼æ›´æ”¹å°ºå¯¸çš„é¡ºåºï¼‰ç»™å‡ºçš„ç­”æ¡ˆä¸æ“ä½œ<code>model.layers[1](batch)</code> ã€‚ <br><br> æ·»åŠ åŠ å¯†æ“ä½œï¼š <br><br><pre> <code class="julia hljs">Iáµ¢â±¼ = public_preprocess(batch) C_Iáµ¢â±¼ = map(Iáµ¢â±¼) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> Iij plain = CKKSEncoding{Tscale}(zero(plaintext_space(ckks_params))) plain .= OffsetArray(vec(Iij), <span class="hljs-number"><span class="hljs-number">0</span></span>:(NÃ·<span class="hljs-number"><span class="hljs-number">2</span></span>-<span class="hljs-number"><span class="hljs-number">1</span></span>)) encrypt(kp, plain) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> weights = model.layers[<span class="hljs-number"><span class="hljs-number">1</span></span>].weight conv_weights = reverse(reverse(weights, dims=<span class="hljs-number"><span class="hljs-number">1</span></span>), dims=<span class="hljs-number"><span class="hljs-number">2</span></span>) conved3 = [sum(C_Iáµ¢â±¼[i,j]*conv_weights[i,j,<span class="hljs-number"><span class="hljs-number">1</span></span>,channel] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i=<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">7</span></span>, j=<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">7</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> channel = <span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">4</span></span>] conved2 = map(((x,b),)-&gt;x .+ b, zip(conved3, model.layers[<span class="hljs-number"><span class="hljs-number">1</span></span>].bias)) conved1 = map(ToyFHE.modswitch, conved2)</code> </pre> <br> è¯·æ³¨æ„ï¼Œç”±äºç ç æ˜¯å…¬å…±çš„ï¼Œå› æ­¤æ­¤å¤„ä¸éœ€è¦æŒ‰é”®å¼€å…³ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬ä¸ä¼šå¢åŠ å¯†æ–‡çš„é•¿åº¦ã€‚ <br><br><h3> çŸ©é˜µä¹˜æ³• </h3><br> ç»§ç»­çŸ©é˜µä¹˜æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘é‡ä¸­å…ƒç´ çš„æ—‹è½¬æ¥æ›´æ”¹ä¹˜æ³•ç´¢å¼•çš„é¡ºåºã€‚ è€ƒè™‘å‘é‡ä¸­çŸ©é˜µå…ƒç´ çš„é€è¡Œæ”¾ç½®ã€‚ å¦‚æœå°†å‘é‡ç§»ä½è¡Œå¤§å°çš„å€æ•°ï¼Œåˆ™ä¼šå¾—åˆ°åˆ—æ—‹è½¬çš„æ•ˆæœï¼Œè¿™è¶³ä»¥å®ç°çŸ©é˜µä¹˜æ³•ï¼ˆè‡³å°‘æ˜¯å¹³æ–¹çŸ©é˜µï¼‰ã€‚ è®©æˆ‘ä»¬å°è¯•ï¼š <br><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> matmul_square_reordered(weights, x) sum(<span class="hljs-number"><span class="hljs-number">1</span></span>:size(weights, <span class="hljs-number"><span class="hljs-number">1</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> k <span class="hljs-comment"><span class="hljs-comment"># We rotate the columns of the LHS and take the diagonal weight_diag = diag(circshift(weights, (0,(k-1)))) # We rotate the rows of the RHS x_rotated = circshift(x, (k-1,0)) # We do an elementwise, broadcast multiply weight_diag .* x_rotated end end function matmul_reorderd(weights, x) sum(partition(1:256, 64)) do range matmul_square_reordered(weights[:, range], x[range, :]) end end fc1_weights = model.layers[3].W x = rand(Float64, 256, 64) @assert (fc1_weights*x) â‰ˆ matmul_reorderd(fc1_weights, x)</span></span></code> </pre> <br> å½“ç„¶ï¼Œå¯¹äºä¸€èˆ¬çš„çŸ©é˜µä¹˜æ³•ï¼Œéœ€è¦åšä¸€äº›æ›´å¤æ‚çš„äº‹æƒ…ï¼Œä½†æ˜¯åˆ°ç›®å‰ä¸ºæ­¢ï¼Œè¿™å·²ç»è¶³å¤Ÿäº†ã€‚ <br><br><h2> æ”¹è¿›æŠ€æœ¯ </h2><br> ç°åœ¨ï¼Œæˆ‘ä»¬æŠ€æœ¯çš„æ‰€æœ‰ç»„ä»¶éƒ½å¯ä»¥å·¥ä½œäº†ã€‚ è¿™æ˜¯å®Œæ•´çš„ä»£ç ï¼ˆè®¾ç½®é€‰æ‹©é€‰é¡¹å’Œç±»ä¼¼å†…å®¹é™¤å¤–ï¼‰ï¼š <br><br><pre> <code class="julia hljs">ek = keygen(EvalMultKey, kp.priv) gk = keygen(GaloisKey, kp.priv; steps=<span class="hljs-number"><span class="hljs-number">64</span></span>) Iáµ¢â±¼ = public_preprocess(batch) C_Iáµ¢â±¼ = map(Iáµ¢â±¼) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> Iij plain = CKKSEncoding{Tscale}(zero(plaintext_space(ckks_params))) plain .= OffsetArray(vec(Iij), <span class="hljs-number"><span class="hljs-number">0</span></span>:(NÃ·<span class="hljs-number"><span class="hljs-number">2</span></span>-<span class="hljs-number"><span class="hljs-number">1</span></span>)) encrypt(kp, plain) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> weights = model.layers[<span class="hljs-number"><span class="hljs-number">1</span></span>].weight conv_weights = reverse(reverse(weights, dims=<span class="hljs-number"><span class="hljs-number">1</span></span>), dims=<span class="hljs-number"><span class="hljs-number">2</span></span>) conved3 = [sum(C_Iáµ¢â±¼[i,j]*conv_weights[i,j,<span class="hljs-number"><span class="hljs-number">1</span></span>,channel] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i=<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">7</span></span>, j=<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">7</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> channel = <span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">4</span></span>] conved2 = map(((x,b),)-&gt;x .+ b, zip(conved3, model.layers[<span class="hljs-number"><span class="hljs-number">1</span></span>].bias)) conved1 = map(ToyFHE.modswitch, conved2) Csqed1 = map(x-&gt;x*x, conved1) Csqed1 = map(x-&gt;keyswitch(ek, x), Csqed1) Csqed1 = map(ToyFHE.modswitch, Csqed1) <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> encrypted_matmul(gk, weights, x::ToyFHE.CipherText) result = repeat(diag(weights), inner=<span class="hljs-number"><span class="hljs-number">64</span></span>).*x rotated = x <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> k = <span class="hljs-number"><span class="hljs-number">2</span></span>:<span class="hljs-number"><span class="hljs-number">64</span></span> rotated = ToyFHE.rotate(gk, rotated) result += repeat(diag(circshift(weights, (<span class="hljs-number"><span class="hljs-number">0</span></span>,(k-<span class="hljs-number"><span class="hljs-number">1</span></span>)))), inner=<span class="hljs-number"><span class="hljs-number">64</span></span>) .* rotated <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> result <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> fq1_weights = model.layers[<span class="hljs-number"><span class="hljs-number">3</span></span>].W Cfq1 = sum(enumerate(partition(<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">256</span></span>, <span class="hljs-number"><span class="hljs-number">64</span></span>))) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> (i,range) encrypted_matmul(gk, fq1_weights[:, range], Csqed1[i]) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> Cfq1 = Cfq1 .+ OffsetArray(repeat(model.layers[<span class="hljs-number"><span class="hljs-number">3</span></span>].b, inner=<span class="hljs-number"><span class="hljs-number">64</span></span>), <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">4095</span></span>) Cfq1 = modswitch(Cfq1) Csqed2 = Cfq1*Cfq1 Csqed2 = keyswitch(ek, Csqed2) Csqed2 = modswitch(Csqed2) <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> naive_rectangular_matmul(gk, weights, x) <span class="hljs-meta"><span class="hljs-meta">@assert</span></span> size(weights, <span class="hljs-number"><span class="hljs-number">1</span></span>) &lt; size(weights, <span class="hljs-number"><span class="hljs-number">2</span></span>) weights = vcat(weights, zeros(eltype(weights), size(weights, <span class="hljs-number"><span class="hljs-number">2</span></span>)-size(weights, <span class="hljs-number"><span class="hljs-number">1</span></span>), size(weights, <span class="hljs-number"><span class="hljs-number">2</span></span>))) encrypted_matmul(gk, weights, x) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> fq2_weights = model.layers[<span class="hljs-number"><span class="hljs-number">4</span></span>].W Cresult = naive_rectangular_matmul(gk, fq2_weights, Csqed2) Cresult = Cresult .+ OffsetArray(repeat(vcat(model.layers[<span class="hljs-number"><span class="hljs-number">4</span></span>].b, zeros(<span class="hljs-number"><span class="hljs-number">54</span></span>)), inner=<span class="hljs-number"><span class="hljs-number">64</span></span>), <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">4095</span></span>)</code> </pre> <br> çœ‹èµ·æ¥ä¸å¤ªæ•´æ´ï¼Œä½†æ˜¯å¦‚æœæ‚¨å®Œæˆäº†æ‰€æœ‰è¿™äº›æ­¥éª¤ï¼Œåˆ™åº”è¯¥äº†è§£æ¯ä¸ªæ­¥éª¤ã€‚ <br> ç°åœ¨ï¼Œè®©æˆ‘ä»¬è€ƒè™‘ä¸€ä¸‹æŠ½è±¡å¯ä»¥ç®€åŒ–æˆ‘ä»¬çš„ç”Ÿæ´»ã€‚ æˆ‘ä»¬å°†ç¦»å¼€åˆ¶å›¾å­¦å’Œæœºå™¨å­¦ä¹ é¢†åŸŸï¼Œè€Œè½¬å‘ç¼–ç¨‹è¯­è¨€çš„ä½“ç³»ç»“æ„ï¼Œå› æ­¤è®©æˆ‘ä»¬åˆ©ç”¨Juliaå…è®¸æ‚¨ä½¿ç”¨å’Œåˆ›å»ºå¼ºå¤§çš„æŠ½è±¡è¿™ä¸€äº‹å®ã€‚ ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥å°†æå–å·ç§¯çš„æ•´ä¸ªè¿‡ç¨‹å°è£…ä¸ºæ•°ç»„ç±»å‹ï¼š <br><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> BlockArrays <span class="hljs-string"><span class="hljs-string">""" ExplodedConvArray{T, Dims, Storage} &lt;: AbstractArray{T, 4} Represents a an `nxmx1xb` array of images, but rearranged into a series of convolution windows. Evaluating a convolution compatible with `Dims` on this array is achievable through a sequence of scalar multiplications and sums on the underling storage. """</span></span> <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> ExplodedConvArray{T, <span class="hljs-built_in"><span class="hljs-built_in">Dims</span></span>, Storage} &lt;: <span class="hljs-built_in"><span class="hljs-built_in">AbstractArray</span></span>{T, <span class="hljs-number"><span class="hljs-number">4</span></span>} <span class="hljs-comment"><span class="hljs-comment"># sx*sy matrix of b*(dx*dy) matrices of extracted elements # where (sx, sy) = kernel_size(Dims) # (dx, dy) = output_size(DenseConvDims(...)) cdims::Dims x::Matrix{Storage} function ExplodedConvArray{T, Dims, Storage}(cdims::Dims, storage::Matrix{Storage}) where {T, Dims, Storage} @assert all(==(size(storage[1])), size.(storage)) new{T, Dims, Storage}(cdims, storage) end end Base.size(ex::ExplodedConvArray) = (NNlib.input_size(ex.cdims)..., 1, size(ex.x[1], 1)) function ExplodedConvArray{T}(cdims, batch::AbstractArray{T, 4}) where {T} x, y = NNlib.output_size(cdims) kx, ky = NNlib.kernel_size(cdims) stridex, stridey = NNlib.stride(cdims) kax = OffsetArray(0:x-1, 0:x-1) kay = OffsetArray(0:x-1, 0:x-1) I = [[batch[iâ€²*stridex .+ (1:kx), jâ€²*stridey .+ (1:ky), 1, k] for iâ€²=kax, jâ€²=kay] for k = 1:size(batch, 4)] Iáµ¢â±¼ = [[I[k][l...][i,j] for k=1:size(batch, 4), l=product(kax, kay)] for (i,j) in product(1:kx, 1:ky)] ExplodedConvArray{T, typeof(cdims), eltype(Iáµ¢â±¼)}(cdims, Iáµ¢â±¼) end function NNlib.conv(x::ExplodedConvArray{&lt;:Any, Dims}, weights::AbstractArray{&lt;:Any, 4}, cdims::Dims) where {Dims&lt;:ConvDims} blocks = reshape([ Base.ReshapedArray(sum(xx[i,j]*weights[i,j,1,channel] for i=1:7, j=1:7), (NNlib.output_size(cdims)...,1,size(x, 4)), ()) for channel = 1:4 ],(1,1,4,1)) BlockArrays._BlockArray(blocks, BlockArrays.BlockSizes([8], [8], [1,1,1,1], [64])) end</span></span></code> </pre><br> åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å†æ¬¡ä½¿ç”¨<code>BlockArrays</code>å°†<code>8x8x4x64</code>æ•°ç»„è¡¨ç¤ºä¸ºå››ä¸ª<code>8x8x1x64</code>æ•°ç»„ï¼Œå¦‚æºä»£ç ä¸­æ‰€ç¤ºã€‚ ç°åœ¨ï¼Œè‡³å°‘ä½¿ç”¨æœªåŠ å¯†çš„æ•°ç»„ï¼Œç¬¬ä¸€é˜¶æ®µçš„æ¼”ç¤ºå˜å¾—æ›´åŠ ç¾è§‚ï¼š <br><br><pre> <code class="julia hljs">julia&gt; cdims = DenseConvDims(batch, model.layers[<span class="hljs-number"><span class="hljs-number">1</span></span>].weight; stride=(<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>), padding=(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>), dilation=(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>)) DenseConvDims: (<span class="hljs-number"><span class="hljs-number">28</span></span>, <span class="hljs-number"><span class="hljs-number">28</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) * (<span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>) -&gt; (<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>), stride: (<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) pad: (<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>), dil: (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>), flip: <span class="hljs-literal"><span class="hljs-literal">false</span></span> julia&gt; a = ExplodedConvArray{eltype(batch)}(cdims, batch); julia&gt; model(a) <span class="hljs-number"><span class="hljs-number">10</span></span>Ã—<span class="hljs-number"><span class="hljs-number">64</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>{<span class="hljs-built_in"><span class="hljs-built_in">Float32</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>}: [snip]</code> </pre><br> ç°åœ¨æˆ‘ä»¬å¦‚ä½•å°†å…¶ä¸åŠ å¯†è¿æ¥èµ·æ¥ï¼Ÿ ä¸ºæ­¤ï¼Œæ‚¨éœ€è¦ï¼š <br><br><ol><li> åŠ å¯†ç»“æ„ï¼ˆ <code>ExplodedConvArray</code> ï¼‰ï¼Œä»¥ä¾¿æˆ‘ä»¬è·å–æ¯ä¸ªå­—æ®µçš„å¯†æ–‡ã€‚ å…·æœ‰è¿™ç§åŠ å¯†ç»“æ„çš„æ“ä½œå°†éªŒè¯å‡½æ•°å°†å¯¹åŸå§‹ç»“æ„æ‰§è¡Œçš„æ“ä½œï¼Œå¹¶ä¸”åŒæ€åœ°æ‰§è¡Œç›¸åŒçš„æ“ä½œã€‚ <br></li><li> æ‹¦æˆªæŸäº›æ“ä½œï¼Œä»¥ä¾¿åœ¨åŠ å¯†çš„ä¸Šä¸‹æ–‡ä¸­ä¸åŒåœ°æ‰§è¡Œå®ƒä»¬ã€‚ </li></ol><br> å¹¸è¿çš„æ˜¯ï¼ŒJuliaä¸ºæ­¤æä¾›äº†ä¸€ä¸ªæŠ½è±¡ï¼šä¸€ä¸ªä½¿ç”¨<a href="">Cassette.jl</a>æœºåˆ¶çš„ç¼–è¯‘å™¨æ’ä»¶ã€‚ æˆ‘ä¸ä¼šå‘Šè¯‰æ‚¨å®ƒæ˜¯ä»€ä¹ˆä»¥åŠå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œæˆ‘ä¼šç®€å•åœ°è¯´ä¸€è¯´å®ƒå¯ä»¥ç¡®å®šä¸Šä¸‹æ–‡ï¼ˆä¾‹å¦‚<code>Encrypted</code> ï¼Œç„¶åå®šä¹‰è§„åˆ™åœ¨è¯¥ä¸Šä¸‹æ–‡ä¸­åº”å¦‚ä½•å·¥ä½œã€‚ ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä¸ºç¬¬äºŒä¸ªè¦æ±‚ç¼–å†™æ­¤ä»£ç ï¼š <br><br><pre> <code class="julia hljs"><span class="hljs-comment"><span class="hljs-comment"># Define Matrix multiplication between an array and an encrypted block array function (*::Encrypted{typeof(*)})(a::Array{T, 2}, b::Encrypted{&lt;:BlockArray{T, 2}}) where {T} sum(a*b for (i,range) in enumerate(partition(1:size(a, 2), size(b.blocks[1], 1)))) end # Define Matrix multiplication between an array and an encrypted array function (*::Encrypted{typeof(*)})(a::Array{T, 2}, b::Encrypted{Array{T, 2}}) where {T} result = repeat(diag(a), inner=size(a, 1)).*x rotated = b for k = 2:size(a, 2) rotated = ToyFHE.rotate(GaloisKey(*), rotated) result += repeat(diag(circshift(a, (0,(k-1)))), inner=size(a, 1)) .* rotated end result end</span></span></code> </pre><br> ç»“æœï¼Œç”¨æˆ·å°†èƒ½å¤Ÿç”¨æœ€å°‘çš„æ‰‹å·¥ç¼–å†™ä»¥ä¸Šæ‰€æœ‰å†…å®¹ï¼š <br><br><pre> <code class="julia hljs">kp = keygen(ckks_params) ek = keygen(EvalMultKey, kp.priv) gk = keygen(GaloisKey, kp.priv; steps=<span class="hljs-number"><span class="hljs-number">64</span></span>) <span class="hljs-comment"><span class="hljs-comment"># Create evaluation context ctx = Encrypted(ek, gk) # Do public preprocessing batch = ExplodedConvArray{eltype(batch)}(cdims, batch); # Run on encrypted data under the encryption context Cresult = ctx(model)(encrypt(kp.pub, batch)) # Decrypt the answer decrypt(kp, Cresult)</span></span></code> </pre> <br> ,     .   (   â„›,   modswitch, keyswitch  ..)       ,      .  ,    ,    ,         ,        . <br><br><h2> ç»“è®º </h2><br>          â€”      .     Julia          .  RAMPARTS ( <a href="https://eprint.iacr.org/2019/988.pdf">paper</a> , <a href="https://www.youtube.com/watch%3Fv%3D_KLlMg6jKQg">JuliaCon talk</a> )       :  Julia-   -  PALISADE. Julia Computing    RAMPARTS    Verona, <a href="https://galois.com/news/15m-iarpa-hector-contract-privacy-preserving-technology/"> </a>     .             ,     .  .     ,   ,          . <br><br>        ,   <a href=""> ToyFHE</a> .   <a href="https://juliacomputing.github.io/ToyFHE.jl/dev/man/background/"></a> , ,   ,         . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN478514/">https://habr.com/ru/post/zh-CN478514/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN478500/index.html">ä¸ºä»€ä¹ˆå¤å¤©çš„ä¼šè®®è¿™ä¹ˆå°‘ï¼Ÿ</a></li>
<li><a href="../zh-CN478502/index.html">æ‰€æœ‰äººçš„æ™ºèƒ½æŠ€æœ¯</a></li>
<li><a href="../zh-CN478504/index.html">å·¥ä½œåœºæ‰€å¦‚ä½•éšç€ç¬”è®°æœ¬ç”µè„‘çš„å‘å±•è€Œæ”¹å˜</a></li>
<li><a href="../zh-CN478508/index.html">ç”µæŠ¥å³æœåŠ¡</a></li>
<li><a href="../zh-CN478510/index.html">æˆ‘ä»¬é‚€è¯·æ‚¨å‚åŠ DINS QA EVENING 12/12/19ï¼šåˆ›å»ºJenkinsç®¡é“ï¼Œå¹¶äº†è§£å¦‚ä½•åœ¨ä»–ä»¬çš„å¸®åŠ©ä¸‹å¹¶è¡Œå¯åŠ¨æµ‹è¯•</a></li>
<li><a href="../zh-CN478516/index.html">Houdiniå’ŒUnityä¸­çš„ç¨‹åºæ€§é“è·¯</a></li>
<li><a href="../zh-CN478518/index.html">ä½“éªŒåœ¨Zextras / Zimbra OSEä¸Šéƒ¨ç½²åŠå…¬åŸºç¡€æ¶æ„çš„ç»éªŒ</a></li>
<li><a href="../zh-CN478522/index.html">æ‰¿è®¤å§ï¼Œæ²ƒæ£®ï¼Œä½ å®Œå…¨å›°æƒ‘äº†å—ï¼Ÿ</a></li>
<li><a href="../zh-CN478526/index.html">Windows Serverå’ŒMikrotikä¸Šçš„ä¸€å †OpenVPNï¼Œå¹¶å°†è¿™äº›ä¸œè¥¿è¿ç§»åˆ°Linux</a></li>
<li><a href="../zh-CN478528/index.html">å® ç‰©ï¼ˆä¸€ä¸ªæ¢¦å¹»èˆ¬çš„æ•…äº‹ï¼‰</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>