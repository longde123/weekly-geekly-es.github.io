<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí≥ üëâüèæ ü¶ñ Automatisation du processus de contr√¥le de la qualit√© des donn√©es de stockage d'entreprise ü•£ ‚ùé üê∑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="√Ä Rostelecom, comme dans toute grande entreprise, il existe un entrep√¥t de donn√©es d'entreprise (WCD). Notre WCD est en constante croissance et expans...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Automatisation du processus de contr√¥le de la qualit√© des donn√©es de stockage d'entreprise</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/rostelecom/blog/434542/"> √Ä Rostelecom, comme dans toute grande entreprise, il existe un entrep√¥t de donn√©es d'entreprise (WCD).  Notre WCD est en constante croissance et expansion, nous y construisons des vitrines, des rapports et des cubes de donn√©es utiles.  √Ä un moment donn√©, nous avons √©t√© confront√©s au fait que des donn√©es de mauvaise qualit√© interf√®rent avec nous lors de la cr√©ation de fen√™tres d'affichage, les unit√©s r√©sultantes ne convergent pas avec les unit√©s des syst√®mes source et provoquent un manque de compr√©hension de l'entreprise.  Par exemple, les donn√©es avec des valeurs Null dans des cl√©s √©trang√®res (cl√©s √©trang√®res) ne sont pas connect√©es aux donn√©es d'autres tables. <br>  Bref diagramme de WCD: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bd8/4e9/34f/bd84e934f59ab39d8142ed7c18b397a8.png"><br><br>  Nous avons compris que pour garantir la confiance dans la qualit√© des donn√©es, nous avions besoin d'un processus de r√©conciliation r√©gulier.  Bien s√ªr, automatis√© et permettant √† chacun des niveaux technologiques d'√™tre s√ªr de la qualit√© des donn√©es et de leur convergence, √† la fois verticalement et horizontalement.  En cons√©quence, nous avons simultan√©ment examin√© trois plates-formes pr√™tes √† l'emploi pour g√©rer les rapprochements de divers fournisseurs et √©crit la n√¥tre.  Nous partageons notre exp√©rience dans ce post. <br><a name="habracut"></a><br>  Les inconv√©nients des plates-formes finies sont connus de tous: prix, flexibilit√© limit√©e, manque de possibilit√© d'ajouter et de corriger des fonctionnalit√©s.  Avantages - les pi√®ces mdm (donn√©es d'or, etc.), la formation et le support sont √©galement ferm√©s.  Ayant appr√©ci√© cela, nous avons rapidement oubli√© l'achat et nous sommes concentr√©s sur le d√©veloppement de notre solution. <br><br>  Le c≈ìur de notre syst√®me est √©crit en Python, et la base de donn√©es de m√©tadonn√©es pour le stockage, la journalisation et le stockage des r√©sultats est √©crite dans Oracle.  Il existe de nombreuses biblioth√®ques pour Python, nous utilisons le minimum n√©cessaire pour les connexions Hive (pyhive), GreenPlum (pgdb), Oracle (cx_Oracle).  La connexion d'un autre type de source ne devrait pas non plus poser de probl√®me. <br><br>  L'ensemble de donn√©es r√©sultant (jeu de r√©sultats) que nous avons mis dans la table Oracle r√©sultante, sur la route √©valuant l'√©tat de la r√©conciliation (SUCC√àS / ERREUR).  APEX est configur√© sur les tables r√©sultantes dans lesquelles la visualisation des r√©sultats est construite, pratique pour la maintenance et la gestion. <br><br>  Pour ex√©cuter des v√©rifications dans le r√©f√©rentiel, l'orchestre Informatica est utilis√©, qui t√©l√©charge les donn√©es.  D√®s r√©ception d'un statut de t√©l√©chargement r√©ussi, ces donn√©es commenceront automatiquement √† √™tre v√©rifi√©es.  L'utilisation du param√©trage des requ√™tes et des m√©tadonn√©es WCD permet l'utilisation de mod√®les de r√©conciliation des requ√™tes pour les ensembles de tables. <br><br>  Maintenant sur les rapprochements impl√©ment√©s sur cette plateforme. <br><br>  Nous avons commenc√© par des rapprochements techniques, qui comparent la quantit√© de donn√©es √† l'entr√©e et les couches du WCD avec l'application de certains filtres.  Nous prenons le fichier ctl qui est arriv√© √† l'entr√©e WCD, lisons le nombre d'enregistrements et le comparons avec le tableau sur Stage ODL et / ou Stage ODS (1, 2, 3 dans le diagramme).  Le crit√®re de v√©rification est d√©fini dans l'√©galit√© du nombre d'enregistrements (nombre).  Si la quantit√© converge, le r√©sultat est SUCC√àS, non - ERREUR et analyse manuelle de l'erreur. <br><br>  Cette cha√Æne de rapprochements techniques, par rapport au nombre d'enregistrements, s'√©tend √† la couche ADS (8 sur le sch√©ma).  Les filtres sont chang√©s entre les couches, qui d√©pendent du type de chargement - DIM (livre de r√©f√©rence), HDIM (livre de r√©f√©rence historique), FACT (tables de r√©gularisation r√©elles), etc. - ainsi que de la version du SCD et de la couche.  Le plus proche de la couche d'affichage, les algorithmes de filtrage les plus sophistiqu√©s que nous utilisons. <br><br>  Une v√©rification technique a √©galement √©t√© effectu√©e sur l'entr√©e en Python, qui d√©tecte les doublons dans les champs cl√©s.  Dans notre GreenPlum, les champs cl√©s (PK) ne sont pas prot√©g√©s contre les doublons par les outils du syst√®me de base de donn√©es.  Nous avons donc √©crit un script Python qui lit les champs de la table charg√©e √† partir des m√©tadonn√©es PK et g√©n√®re un script SQL qui v√©rifie l'absence de prises sur eux.  La flexibilit√© de l'approche nous permet d'utiliser PK compos√© d'un ou plusieurs champs, ce qui est extr√™mement pratique.  Cette r√©conciliation s'√©tend √† la couche STG ADS. <br><br><pre><code class="python hljs">unique_check  <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> datetime <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> datetime log_tmstmp = datetime.now().strftime(<span class="hljs-string"><span class="hljs-string">"%Y-%m-%d %H:%M:%S"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">do_check</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(args, context)</span></span></span><span class="hljs-function">:</span></span> tab = args[<span class="hljs-number"><span class="hljs-number">0</span></span>] data = [] fld_str = <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: sql = <span class="hljs-string"><span class="hljs-string">"""SELECT 't_'||lower(table_id) as tn, lower(column_name) as cn FROM src_column@meta_data WHERE  table_id = '%s' and is_primary_key = 'Y'"""</span></span> % (tab,) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> fld <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> context[<span class="hljs-string"><span class="hljs-string">'ora_get_data'</span></span>](context[<span class="hljs-string"><span class="hljs-string">'ora_con'</span></span>], sql): fld_str = fld_str + (fld_str <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-string"><span class="hljs-string">","</span></span>) + fld[<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> fld_str: config = context[<span class="hljs-string"><span class="hljs-string">'script_config'</span></span>] con_gp = context[<span class="hljs-string"><span class="hljs-string">'pg_open_con'</span></span>](config[<span class="hljs-string"><span class="hljs-string">'user'</span></span>], config[<span class="hljs-string"><span class="hljs-string">'pwd'</span></span>], config[<span class="hljs-string"><span class="hljs-string">'host'</span></span>], config[<span class="hljs-string"><span class="hljs-string">'port'</span></span>], config[<span class="hljs-string"><span class="hljs-string">'dbname'</span></span>]) sql = <span class="hljs-string"><span class="hljs-string">"""select %s as pkg_id, 't_%s' as table_name, 'PK fields' as column_name, coalesce(sum(cnt), 0) as NOT_UNIQUE_PK, to_char(current_timestamp, 'YYYY-MM-DD HH24:MI:SS') as sys_creation from (select 1 as cnt from edw_%s.t_%s where %s group by %s  having count(*) &gt; 1 ) sq; """</span></span> % (context[<span class="hljs-string"><span class="hljs-string">"package"</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-string"><span class="hljs-string">'0'</span></span>,tab.lower(), args[<span class="hljs-number"><span class="hljs-number">1</span></span>], tab.lower(), (context[<span class="hljs-string"><span class="hljs-string">"package"</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> (<span class="hljs-string"><span class="hljs-string">"package_id = "</span></span> + context[<span class="hljs-string"><span class="hljs-string">"package"</span></span>]) <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-string"><span class="hljs-string">"1=1"</span></span>), fld_str ) data.extend(context[<span class="hljs-string"><span class="hljs-string">'pg_get_data'</span></span>](con_gp, sql)) con_gp.close() <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> Exception <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> e: <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> data <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> [[(context[<span class="hljs-string"><span class="hljs-string">"package"</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>),<span class="hljs-string"><span class="hljs-string">'t_'</span></span>+tab.lower(), <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, log_tmstmp]] <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">'__main__'</span></span>: sys.exit(do_check([sys.argv[<span class="hljs-number"><span class="hljs-number">1</span></span>], sys.argv[<span class="hljs-number"><span class="hljs-number">2</span></span>]], {}))</code> </pre> <br>  <i>Exemple de code python de r√©conciliation d'unicit√©.</i>  <i>L'appel, le transfert des param√®tres de connexion et la mise des r√©sultats dans la table r√©sultante sont effectu√©s par le module de contr√¥le en Python.</i> <br><br>  La r√©conciliation pour l'absence de valeurs NULL est construite de mani√®re similaire √† la pr√©c√©dente et √©galement en Python.  Nous lisons dans les champs de m√©tadonn√©es de chargement qui ne peuvent pas avoir de valeurs vides (NULL) et v√©rifions leur pl√©nitude.  La r√©conciliation est utilis√©e avant la couche DDS (6 dans le premier diagramme). <br><br>  A l'entr√©e du stockage, une analyse de tendance des paquets de donn√©es arrivant √† l'entr√©e est √©galement impl√©ment√©e.  La quantit√© de donn√©es re√ßues √† l'arriv√©e d'un nouveau package est entr√©e dans le tableau d'historique.  Avec un changement significatif dans la quantit√© de donn√©es, la personne responsable de la table et du SI (syst√®me source) re√ßoit une notification par courrier (dans les plans), voit une erreur dans APEX avant que le paquet de donn√©es ne p√©n√®tre dans l'entrep√¥t et en trouve la raison avec le SI. <br><br>  Entre STG (STAGE) _ODS et ODS (couche de donn√©es op√©rationnelles) (3 et 4 dans le diagramme), des champs de suppression technique apparaissent (indicateur de suppression = supprim√©_ind), dont nous v√©rifions √©galement l'exactitude au moyen de requ√™tes SQL.  L'entr√©e manquante doit √™tre marqu√©e comme supprim√©e dans ODS. <br><br>  Le r√©sultat du script de rapprochement ne devrait afficher aucune erreur.  Dans l'exemple de r√©conciliation pr√©sent√©, les param√®tres ~ # PKG_ID # ~ sont transmis via le bloc de contr√¥le Python, et les param√®tres de type ~ P_JOIN_CONDITION ~ et ~ PERIOD_COL ~ sont remplis √† partir des m√©tadonn√©es de la table, le nom de la table elle-m√™me ~ TABLE ~ √† partir des param√®tres de lancement. <br><br>  Ce qui suit est une r√©conciliation param√©tr√©e.  Exemple de code de r√©conciliation SQL entre STG_ODS et ODS pour le type HDIM: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> package_id <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pkg_id, <span class="hljs-string"><span class="hljs-string">'T_~TABLE~'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> table_name, to_char(<span class="hljs-keyword"><span class="hljs-keyword">current_timestamp</span></span>, <span class="hljs-string"><span class="hljs-string">'YYYY-MM-DD HH24:MI:SS'</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">coalesce</span></span>(empty_in_ods, <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> empty_in_ods, <span class="hljs-keyword"><span class="hljs-keyword">coalesce</span></span>(not_equal_md5, <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> not_equal_md5, <span class="hljs-keyword"><span class="hljs-keyword">coalesce</span></span>(deleted_in_ods, <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> deleted_in_ods, <span class="hljs-keyword"><span class="hljs-keyword">coalesce</span></span>(not_deleted_in_ods, <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> not_deleted_in_ods, max_load_dttm <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span>    <span class="hljs-keyword"><span class="hljs-keyword">max</span></span> (src.package_id) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> package_id,    <span class="hljs-keyword"><span class="hljs-keyword">sum</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> tgt.md5 <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> empty_in_ods,    <span class="hljs-keyword"><span class="hljs-keyword">sum</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> src.md5&lt;&gt;tgt.md5 <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> tgt.~PK~ <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> tgt.deleted_ind = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> not_equal_md5,    <span class="hljs-keyword"><span class="hljs-keyword">sum</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> tgt.deleted_ind = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> src.md5=tgt.md5 <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> deleted_in_ods <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> EDW_STG_ODS.T_~<span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span>~  src <span class="hljs-keyword"><span class="hljs-keyword">left</span></span> <span class="hljs-keyword"><span class="hljs-keyword">join</span></span> EDW_ODS.T_~<span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span>~  tgt       <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ~P_JOIN_CONDITION~ <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> tgt.active_ind =<span class="hljs-string"><span class="hljs-string">'Y'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> ~<span class="hljs-comment"><span class="hljs-comment">#PKG_ID#~ = 0   or src.package_id = ~#PKG_ID#~ ) aa, (select sum (case when src.~PK~ is null then 1 else 0 end) as not_deleted_in_ods, max (tgt.load_dttm) as max_load_dttm from EDW_STG_ODS.T_~TABLE~  src right join EDW_ODS.T_~TABLE~  tgt        on ~P_JOIN_CONDITION~ where tgt.deleted_ind = 0 and tgt.active_ind ='Y'  and tgt.~PERIOD_COL~ between (select min(~PERIOD_COL~) from EDW_STG_ODS.T_~TABLE~ where ~#PKG_ID#~ = 0 or package_id = ~#PKG_ID#~)                           and (select max(~PERIOD_COL~) from EDW_STG_ODS.T_~TABLE~ where ~#PKG_ID#~ = 0 or package_id = ~#PKG_ID#~) ) bb where 1=1</span></span></code> </pre> <br>  Un exemple de code de r√©conciliation SQL entre STG_ODS et ODS pour un type HDIM avec des param√®tres substitu√©s: <br><br><br><pre> <code class="sql hljs"><span class="hljs-comment"><span class="hljs-comment">--------------HDIM_CHECKS--------------- select package_id as pkg_id, 'TABLE_NAME' as table_name, to_char(current_timestamp, 'YYYY-MM-DD HH24:MI:SS'), coalesce(empty_in_ods, 0) as empty_in_ods, coalesce(not_equal_md5, 0) as not_equal_md5, coalesce(deleted_in_ods, 0) as deleted_in_ods, coalesce(not_deleted_in_ods, 0) as not_deleted_in_ods, max_load_dttm from (select    max (src.package_id) as package_id,    sum (case when tgt.md5 is null then 1 else 0 end) as empty_in_ods,    sum (case when src.md5&lt;&gt;tgt.md5 and tgt.ACTION_ID is not null and tgt.deleted_ind = 0 then 1 else 0 end) as not_equal_md5,    sum (case when tgt.deleted_ind = 1 and src.md5=tgt.md5 then 1 else 0 end) as deleted_in_ods from EDW_STG_ODS.TABLE_NAME  src left join EDW_ODS.TABLE_NAME  tgt       on SRC.PK_ID=TGT.PK_ID and tgt.active_ind ='Y' where 709083887 = 0   or src.package_id = 709083887 ) aa, (select sum (case when src.PK_ID is null then 1 else 0 end) as not_deleted_in_ods, max (tgt.load_dttm) as max_load_dttm from EDW_STG_ODS.TABLE_NAME  src right join EDW_ODS.TABLE_NAME  tgt        on SRC.PK_ID =TGT.PK_ID where tgt.del_ind = 0 and tgt.active_ind ='Y'  and tgt.DATE_SYS between (select min(DATE_SYS) from EDW_STG_ODS.TABLE_NAME where 70908 = 0 or package_id = 70908)                           and (select max(DATE_SYS) from EDW_STG_ODS.TABLE_NAME where 70908 = 0 or package_id = 70908) ) bb where 1=1</span></span></code> </pre> <br>  √Ä partir d'ODS, l'historique est conserv√© dans les r√©pertoires, il faut donc v√©rifier l'absence d'intersections et de lacunes.  Cela se fait en comptant le nombre de valeurs incorrectes dans l'historique et en √©crivant le nombre d'erreurs r√©sultant dans la table r√©sultante.  S'il y a des erreurs d'historique dans le tableau, elles devront √™tre recherch√©es manuellement.  La r√©conciliation d√©pend du type de t√©l√©chargement - HDIM (guide de r√©f√©rence historique) en premier lieu.  Nous effectuons des rapprochements de l'exactitude de l'historique des r√©pertoires jusqu'√† la couche ADS. <br><br>  Sur la couche DDS (6 dans le premier diagramme), diff√©rents SI (syst√®mes source) sont combin√©s en une seule table; des tables HUB pour g√©n√©rer des cl√©s de substitution pour relier les donn√©es de diff√©rents syst√®mes source apparaissent.  Nous v√©rifions leur unicit√© avec une v√©rification en python similaire √† la couche stage. <br><br>  Sur la couche DDS, il est n√©cessaire de v√©rifier qu'apr√®s combinaison avec la table HUB, les valeurs des types 0, -1, -2 n'apparaissent pas dans les champs cl√©s, ce qui signifie une jointure incorrecte de la table, un manque de donn√©es.  Ils pourraient appara√Ætre en l'absence des donn√©es n√©cessaires dans la table HUB.  Et c'est une erreur pour l'analyse manuelle. <br><br>  Les rapprochements les plus complexes pour les donn√©es de la couche vitrine ADS (8 dans le premier diagramme).  Pour une confiance totale dans la convergence du r√©sultat obtenu, une v√©rification avec un syst√®me source d'agr√©gation du montant des charges est d√©ploy√©e ici.  D'une part, il existe une classe d'indicateurs qui incluent les charges √† payer agr√©g√©es.  Nous les r√©cup√©rons pendant un mois aux fen√™tres du WCD.  D'un autre c√¥t√©, nous prenons des agr√©gats des m√™mes charges du syst√®me source.  Un √©cart ne d√©passant pas 1% ou une valeur absolue certaine et convenue est autoris√©.  Les ensembles de r√©sultats obtenus par rapprochement sont plac√©s dans des ensembles de donn√©es sp√©cialement cr√©√©s qui re√ßoivent des tables Oracle.  La comparaison des donn√©es se fait dans la vue Oracle.  Visualisation des r√©sultats dans APEX.  La pr√©sence de tout un ensemble de donn√©es (jeu de r√©sultats) nous permet, s'il y a des erreurs, d'approfondir et d'analyser les donn√©es d√©taill√©es du r√©sultat, de trouver un article sp√©cifique sur lequel la divergence s'est produite et de rechercher ses raisons. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/097/e40/ec3/097e40ec3c68bb49522d89aa228dbd5e.jpg"><br>  <i>Pr√©sentation des r√©sultats de rapprochement aux utilisateurs dans APEX</i> <br><br>  √Ä l'heure actuelle, nous avons obtenu une application utilisable et activement utilis√©e pour la r√©conciliation des donn√©es.  Bien entendu, nous pr√©voyons de d√©velopper davantage √† la fois la quantit√© et la qualit√© des rapprochements, ainsi que le d√©veloppement de la plateforme elle-m√™me.  Notre propre d√©veloppement nous permet de changer et de modifier la fonctionnalit√© assez rapidement. <br><br>  <i>Cet article a √©t√© pr√©par√© par l'√©quipe de gestion des donn√©es de Rostelecom</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr434542/">https://habr.com/ru/post/fr434542/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr434530/index.html">Calendrier par d√©faut, correctifs dans LDAP et autres innovations dans Zimbra 8.8.11</a></li>
<li><a href="../fr434532/index.html">L'histoire d'un projet: lorsqu'une √©quipe n'a pas de d√©veloppeur senior</a></li>
<li><a href="../fr434534/index.html">ONYX BOOX ¬´Mon premier livre¬ª: une lecture inoffensive pour maman et b√©b√©</a></li>
<li><a href="../fr434538/index.html">La lutte pour l'espace: ce qui se passe sur le march√© de l'Internet par satellite</a></li>
<li><a href="../fr434540/index.html">Que faire des gens qui seront remplac√©s par des robots?</a></li>
<li><a href="../fr434544/index.html">¬´Nous ne voulons pas de guerre¬ª - Entretien avec Ben Williams, directeur d'Adblock Plus</a></li>
<li><a href="../fr434548/index.html">Le Patriote du Zimbabwe d√©pense 5 000 $ pour num√©riser son pays natal sur Google Street View</a></li>
<li><a href="../fr434550/index.html">Les entrailles des jeux r√©tro: Punch-Out pour NES</a></li>
<li><a href="../fr434552/index.html">GDG SPb. Ce que nous avons r√©ussi √† faire en un an</a></li>
<li><a href="../fr434558/index.html">Communaut√© de soutien sib√©rienne: commencer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>