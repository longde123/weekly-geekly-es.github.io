<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧠 🤙🏾 💾 Crea globos planetarios de procedimiento 🙁 🎧 🤙</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Distorsión, ruido continuo y cómo trabajar con ellos. 


 Generamos un planeta 
 Una de las formas más simples de generar un planeta es utilizar el ru...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Crea globos planetarios de procedimiento</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/448324/">  <em>Distorsión, ruido continuo y cómo trabajar con ellos.</em> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/400/20a/dde/40020adde06482d85b634f28a2d6e74a.png" alt="imagen"></div><br><h3>  Generamos un planeta </h3><br>  Una de las formas más simples de generar un planeta es utilizar el ruido.  Si decidimos elegirlo, tenemos un par de opciones posibles.  Veamos cada uno y determinemos lo mejor: <br><br><ul><li>  <strong>Perlin Noise</strong> es la opción más fácil.  El ruido de Perlin fue desarrollado por Ken Perlin en 1983, tiene un par de inconvenientes: artefactos visuales y una velocidad bastante baja en comparación con otras opciones al generar imágenes grandes. </li><li>  <strong>Ruido simple (ruido simple)</strong> - fue desarrollado por Ken Perlin en 2001 como un intento de eliminar los defectos del ruido Perlin;  Esta es una solución muy valiosa y rápida, pero tiene un serio inconveniente: el uso del ruido tridimensional simple está protegido por una patente, lo que lo hace bastante costoso. </li><li>  <strong>Open Simplex Noise</strong> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">KDotJPG</a> se desarrolló con un objetivo simple: crear una versión moderna y gratuita de ruido simplex, relativamente rápida y sin distorsiones. </li></ul><br>  De estos tres, personalmente prefiero Open Simplex Noise, que uso en mis proyectos personales.  Vale la pena señalar que en la implementación actual de OpenSimplexNoise <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">,</a> se requerirá trabajo adicional para obtener un fácil acceso a la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">escala, octavas y generadores</a> .  Hay mucha información en Internet sobre lo que hace cada uno de estos elementos, y le recomiendo que lo estudie.  Sin embargo, en mi artículo no hablaré sobre esto. <br><a name="habracut"></a><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fa6/85f/5bb/fa685f5bb817c45cd368af2aa7c206a0.png"></div><br>  <i>Así es como se ve Open Simplex Noise con 16 octavas.</i> <br><br><h3>  Ruido continuo </h3><br>  El ruido es interminable, lo que significa que si solo creamos un lienzo con una relación de aspecto de 2: 1 para obtener una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">proyección igualmente espaciada</a> , no se colocará en bucle cuando se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">superponga en la esfera</a> (expreso mi gratitud a este increíble sitio web), sino en la costura horizontal y en los polos Grandes diferencias. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/69b/aa7/cce/69baa7ccea9425dfd0f641b2272905f0.png" alt="imagen"></div><br>  <i>Ruido creado sin costuras.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/497/873/4b0/4978734b0a9386c37eecbc9563bf7f96.png" alt="imagen"></div><br>  <i>Observe las enormes costuras que aparecieron cuando el ruido se aplicó a la esfera.</i> <br><br>  Hay muchas formas de arreglar esto;  Por ejemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en esta excelente publicación de</a> Red Blob Games <i>[ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">traducción</a> en Habré]</i> fue suficiente generar una isla usando una función que recibe la distancia al centro como una variable y establece la altura 0 en los bordes para minimizar las costuras. <br><br>  Sin embargo, esto no es lo que necesitamos.  Queremos generar un planeta con la posibilidad de la existencia de los polos norte y sur, y para esto necesitaremos cálculos matemáticos más complejos. <br><br><h4>  Recubrimiento esférico </h4><br>  Un método que puede generar planetas esféricos es convertir las coordenadas cartesianas de nuestro lienzo en coordenadas esféricas, generar ruido en función de estas coordenadas y luego convertir el ruido de nuevo en coordenadas cartesianas y aplicarlo al lienzo. <br><br>  Sin embargo, esta implementación tiene sus limitaciones, cuyas causas se muestran en una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">publicación increíble de Ron Valstar</a> .  Lo más importante, las formas de los continentes en este caso se ven extremadamente extrañas y distorsionadas, y por lo tanto no usaremos esta opción. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e18/349/329/e18349329ff3a646eba44e82bbde1bb7.png" alt="imagen"></div><br>  <i>Superposición de ruido esférico.</i>  <i>Las formas extrañas y las distorsiones hacen que los continentes sean bastante feos.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8df/652/984/8df6529849ed4df493b4243db9ce04a0.png" alt="imagen"></div><br>  <i>Pero al menos no hay más costuras.</i> <br><br><h4>  Recubrimiento cúbico </h4><br>  Como resultado, utilicé el segundo método, tomado de una publicación de Ron Valstar y una serie de artículos de acko <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Making Worlds</a> .  Describen la generación de un globo a través de la generación de un cubo y su "inflación", como si fuera un globo, hasta que fue un ejemplo de la forma de una esfera. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0e3/4ce/d5e/0e34ced5eea890cc14d43df596796c08.png"></div><br>  <i>Imagen tomada de acko.net.</i>  <i>Explica el concepto de un mapa cúbico de forma simple y visualizada.</i> <br><br>  Ahora solo necesitamos generar seis caras, lo cual es bastante simple, hay muchas formas de hacerlo. <br><br>  Al final, decidí crear una matriz y llenarla con datos.  Convertí las coordenadas 2D del lienzo a las coordenadas 3D del cubo, y luego generé ruido para cada una de estas coordenadas 3D, de modo que las guardé en el valor de coordenadas 2D correspondiente. <br><br><pre><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//Z STATIC for(int y = 0; y &lt; cubeFaceSize; y++) { for(int x = 0; x &lt; cubeFaceSize * 2; x++) { //Generates FRONT if(x &lt; cubeFaceSize) { cubeMap[cubeFaceSize+x][cubeFaceSize+y] = noise.noise3D(x, y, 0); } //Generates BACK else { cubeMap[cubeFaceSize*3+(x-cubeFaceSize)][cubeFaceSize+y] = noise.noise3D(cubeFaceSize-(x-cubeFaceSize), y, cubeFaceSize); } } } //X STATIC for(int y = 0; y &lt; cubeFaceSize; y++) { for(int x = 0; x &lt; cubeFaceSize * 2; x++) { //Generates LEFT if(x &lt; cubeFaceSize) { cubeMap[x][cubeFaceSize+y] = noise.noise3D(0, y, cubeFaceSize-x); } //Generates RIGHT else { cubeMap[cubeFaceSize*2+(x-cubeFaceSize)][cubeFaceSize+y] = noise.noise3D(cubeFaceSize, y, x-cubeFaceSize); } } } //Y STATIC for(int y = 0; y &lt; cubeFaceSize * 2; y++) { for(int x = 0; x &lt; cubeFaceSize; x++) { //Generates TOP if(y &lt; cubeFaceSize) { cubeMap[cubeFaceSize+x][y] = noise.noise3D(x, 0, cubeFaceSize-y); } //Generates BOTTOM else { cubeMap[cubeFaceSize+x][cubeFaceSize*2+(y-cubeFaceSize)] = noise.noise3D(x, cubeFaceSize, y-cubeFaceSize); } } }</span></span></code> </pre> <br>  De esta manera, podemos crear un mapa cúbico que se puede convertir fácilmente en una proyección igualmente espaciada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">utilizando el maravilloso código escrito por Bartosz</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/79d/0b4/68a/79d0b468aeb2369d2d1dd7bb36e1b4c9.png" alt="imagen"></div><br>  <i>Algoritmo generado mapa cúbico.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/400/20a/dde/40020adde06482d85b634f28a2d6e74a.png" alt="imagen"></div><br>  <i>Transformación equidistante de un mapa cúbico.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c84/c0c/c95/c84c0cc95f5dd011a9db111d1677252b.png" alt="imagen"></div><br>  <i>Un globo de mapa cúbico representado en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">maptoglobe.com</a> .</i> <br><br>  Como puede ver, un mapa equidistante tiene formas mucho más hermosas, y cuando se superpone en una esfera, crea resultados similares a la superposición esférica, sin todos sus inconvenientes.  Por cierto, la proyección equidistante se puede convertir fácilmente mediante diferentes programas, por ejemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">NASA G.Projector</a> , en casi cualquier tipo de tarjeta. <br><br><h2>  En conclusión </h2><br>  Generar un planeta entero puede parecer una tarea desalentadora, y aunque el ruido cuando se usa correctamente es una herramienta bastante poderosa, tiene sus propios problemas que las personas han enfrentado durante muchos siglos, como la superposición de un globo sobre un lienzo 2D con una distorsión mínima. <br><br>  La solución que propuse crea planetas muy generados que no tienen en cuenta las placas tectónicas, los ríos, las cadenas de islas e incluso las montañas, y, por lo tanto, solo se pueden usar como demostración o como base para simulaciones más complejas. <br><br>  De hecho, solo crea una matriz de valores en un cierto rango de valores.  Para imágenes en escala de grises, esto es 0-255.  Los valores se convierten en un píxel que crea una imagen similar a la primera imagen en escala de grises, o en una imagen en el rango de -11000 a 8000 para simular una diferencia de altura en el mundo real, después de lo cual los píxeles se colorean de acuerdo con los intervalos de altura <em>(por ejemplo, valores de 0 5 son de color arena para simular la costa)</em> . <br><br><blockquote>  Al construir el universo, Dios usó las matemáticas de nivel superior. <br><br>  <i>- Paul Dirac</i> </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/448324/">https://habr.com/ru/post/448324/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../448308/index.html">Data Science Digest (abril de 2019)</a></li>
<li><a href="../448310/index.html">Escribir un bot de telegramas en python usando la biblioteca telebot parte 1</a></li>
<li><a href="../448316/index.html">Determinación de la raza de un perro: un ciclo de desarrollo completo, desde una red neuronal en Python hasta una aplicación en Google Play</a></li>
<li><a href="../448320/index.html">¿Por qué silicio y por qué CMOS?</a></li>
<li><a href="../448322/index.html">C ++ Rusia 2019: transmisión gratuita de la primera sala y un poco sobre lo que será en la conferencia</a></li>
<li><a href="../448326/index.html">Ver a través de ¿Cómo estudiar asignaturas sin romperlas?</a></li>
<li><a href="../448328/index.html">En Moscú mostrará una impresora que imprime órganos y tejidos</a></li>
<li><a href="../448330/index.html">Números aleatorios y redes descentralizadas: una aplicación práctica</a></li>
<li><a href="../448332/index.html">Iniciadores de TI: demuestre su fortaleza en un arrecife</a></li>
<li><a href="../448334/index.html">Cuando la productividad de alguien despierta interés</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>