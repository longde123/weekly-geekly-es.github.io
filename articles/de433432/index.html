<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü¶Å üöë üë©üèø‚ÄçüöÄ Zehn Dinge, die Sie mit GraalVM tun k√∂nnen ü¶ë üëâüèª üë∏üèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Vom √úbersetzer: GraalVM ist eine neue, interessante Technologie, aber auf Habr√© gibt es nicht viele Artikel, die Beispiele f√ºr Graal-F√§higkeiten zeige...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Zehn Dinge, die Sie mit GraalVM tun k√∂nnen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/haulmont/blog/433432/"><p><img src="https://habrastorage.org/webt/7z/5d/ap/7z5dap05rvptsue50u6ajtsxsmw.png"><br>  <em>Vom √úbersetzer: GraalVM ist eine neue, interessante Technologie, aber auf Habr√© gibt es nicht viele Artikel, die Beispiele f√ºr Graal-F√§higkeiten zeigen k√∂nnten.</em>  <em>Der folgende Artikel enth√§lt nicht nur eine Auflistung der M√∂glichkeiten von GraalVM, sondern auch eine kleine Meisterklasse, die der von Chris Seaton und Oleg Shelaev bei Oracle CodeOne 2018 durchgef√ºhrten √§hnelt. Nach dem Autor fordere ich Sie dringend auf, zu versuchen, Beispiele aus dem Artikel zu erstellen interessant.</em> </p><br><p>  Es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gibt</a> viele verschiedene Dinge in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GraalVM</a> , und wenn Sie diesen Namen schon einmal geh√∂rt oder sogar Berichte gesehen haben, gibt es noch viele Dinge, von denen Sie wahrscheinlich noch nichts wissen, die GraalVM jedoch tun kann.  In diesem Artikel werden wir uns die verschiedenen Funktionen von GraalVM ansehen und zeigen, was Sie damit tun k√∂nnen. </p><br><ol><li>  Java schnelle Ausf√ºhrung </li><li>  Verringern Sie die Startzeit und die Speichernutzung f√ºr Java </li><li>  Kombinieren von JavaScript, Java, Ruby und R. </li><li>  Ausf√ºhrung von Programmen in plattformspezifischen Sprachen </li><li>  Gemeinsame Tools f√ºr alle Programmiersprachen </li><li>  JVM Application Supplement </li><li>  Plattformabh√§ngige Anwendungen </li><li>  Java-Code als plattformspezifische Bibliothek </li><li>  Unterst√ºtzung f√ºr mehrere Programmiersprachen in der Datenbank </li><li>  Programmiersprachen f√ºr GraalVM erstellen </li></ol><a name="habracut"></a><br><p>  Sie k√∂nnen alles, was in diesem Artikel gezeigt wird, mit GraalVM 1.0.0 RC1 tun, das √ºber den Link <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">auf der GraalVM-Website verf√ºgbar ist</a> .  Ich habe die MacOS Enterprise Edition verwendet, aber der hier geschriebene Code funktioniert unter Linux und GraalVM Community Edition. </p><br><p>  F√ºhren Sie beim Lesen des Artikels die darin beschriebenen Programme aus!  Der Code kann von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GitHub</a> heruntergeladen werden. </p><br><h2 id="ustanovka">  Installation </h2><br><p> Nach dem Herunterladen von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">http://graalvm.org/downloads habe</a> ich den Pfad zu den ausf√ºhrbaren Dateien von GraalVM in <code>$PATH</code> hinzugef√ºgt.  Standardm√§√üig wird die Ausf√ºhrung von Java und JavaScript unterst√ºtzt. </p><br><pre> <code class="plaintext hljs">$ git clone https://github.com/chrisseaton/graalvm-ten-things.git $ cd foo $ tar -zxf graalvm-ee-1.0.0-rc1-macos-amd64.tar.gz # or graalvm-ee-1.0.0-rc1-linux-amd64.tar.gz on Linux $ export PATH=graalvm-1.0.0-rc1/Contents/Home/bin:$PATH # or PATH=graalvm-1.0.0-rc1/bin:$PATH on Linux</code> </pre> <br><p>  GraalVM verf√ºgt √ºber eine integrierte JavaScript-Unterst√ºtzung und enth√§lt einen Paketmanager namens <code>gu</code> , mit dem die Unterst√ºtzung f√ºr andere Sprachen als Java und JavaScript installiert werden kann.  Ich habe zus√§tzlich Ruby, Python und R installiert, sie werden von GitHub heruntergeladen. </p><br><pre> <code class="plaintext hljs">$ gu install -c org.graalvm.ruby $ gu install -c org.graalvm.python $ gu install -c org.graalvm.R</code> </pre> <br><p>  Wenn Sie nun den Befehl <code>java</code> oder <code>js</code> ausf√ºhren, werden GraalVM-Versionen dieser Engines angezeigt. </p><br><pre> <code class="plaintext hljs">$ java -version java version "1.8.0_161" Java(TM) SE Runtime Environment (build 1.8.0_161-b12) GraalVM 1.0.0-rc1 (build 25.71-b01-internal-jvmci-0.42, mixed mode) $ js --version Graal JavaScript 1.0 (GraalVM 1.0.0-rc1)</code> </pre> <br><h2 id="1-bystroe-vypolnenie-java">  1. Schnelle Java-Ausf√ºhrung </h2><br><p>  "Graal" in GraalVM ist der Name des Compilers.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Er allein ist geschaffen, um alle zu regieren</a> !  Dies bedeutet, dass dies eine Compiler-Implementierung ist, die in Form einer Bibliothek geschrieben wurde, die f√ºr viele verschiedene Dinge verwendet werden kann.  Zum Beispiel verwenden wir Graal, um sowohl <em>vorab</em> als auch <em>just-in-time</em> zu kompilieren, um Code zu kompilieren, der in verschiedenen Programmiersprachen geschrieben wurde, auch f√ºr verschiedene Prozessorarchitekturen. </p><br><p>  Die erste und einfachste M√∂glichkeit, Graal zu verwenden, besteht darin, es als Java JIT-Compiler zu verwenden. </p><br><p>  Als Beispiel verwenden wir ein Programm, das 10 der h√§ufigsten W√∂rter in einem Dokument erzeugt.  Das Programm nutzt die Funktionen der modernen Java-Sprache wie Streams und Sammlungen. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.IOException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.nio.file.Files; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.nio.file.Paths; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.Arrays; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.function.Function; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.stream.Collectors; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.stream.Stream; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TopTen</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ Arrays.stream(args) .flatMap(TopTen::fileLines) .flatMap(line -&gt; Arrays.stream(line.split(<span class="hljs-string"><span class="hljs-string">"\\b"</span></span>))) .map(word -&gt; word.replaceAll(<span class="hljs-string"><span class="hljs-string">"[^a-zA-Z]"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>)) .filter(word -&gt; word.length() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) .map(word -&gt; word.toLowerCase()) .collect(Collectors.groupingBy(Function.identity(), Collectors.counting())) .entrySet().stream() .sorted((a, b) -&gt; -a.getValue().compareTo(b.getValue())) .limit(<span class="hljs-number"><span class="hljs-number">10</span></span>) .forEach(e -&gt; System.out.format(<span class="hljs-string"><span class="hljs-string">"%s = %d%n"</span></span>, e.getKey(), e.getValue())); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Stream&lt;String&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fileLines</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String path)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Files.lines(Paths.get(path)); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (IOException e) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RuntimeException(e); } } }</code> </pre> <br><p>  GraalVM enth√§lt den <code>javac</code> Compiler, aber es gibt keinen Unterschied f√ºr diese Demo, ob sie oder der Standard-Compiler verwendet werden soll.  Daher k√∂nnen Sie den Standard- <code>javac</code> Compiler verwenden, wenn Sie m√∂chten. </p><br><pre> <code class="plaintext hljs">$ javac TopTen.java</code> </pre> <br><p>  Wenn wir den <code>java</code> Befehl ausf√ºhren, der in GraalVM enthalten ist, wird der Grait JIT-Compiler automatisch verwendet - es sind keine zus√§tzlichen Schritte erforderlich.  Ich werde den Befehl <code>time</code> verwenden, um echte Daten √ºber die Zeit zu erhalten, die f√ºr die Ausf√ºhrung des Programms von Anfang bis Ende aufgewendet wurde, anstatt ein komplexes Mikrobenchmark bereitzustellen.  Es wird auch eine gro√üe Menge an Eingaben verwendet, damit hier oder da keine Andeutungen √ºber die gespeicherten paar Sekunden gemacht werden.  Die Gr√∂√üe der Datei <code>large.txt</code> betr√§gt 150 MB. </p><br><pre> <code class="plaintext hljs">$ make large.txt $ time java TopTen large.txt sed = 502701 ut = 392657 in = 377651 et = 352641 id = 317627 eu = 317627 eget = 302621 vel = 300120 a = 287615 sit = 282613 real 0m17.367s user 0m32.355s sys 0m1.456s</code> </pre> <br><p>  Graal ist in Java geschrieben, nicht in C ++, wie die meisten anderen JIT-Compiler f√ºr Java.  Wir glauben, dass dies uns erm√∂glicht, es schneller als vorhandene Compiler zu verbessern und neue leistungsstarke Optimierungen (wie zum Beispiel die partielle Escape-Analyse) hinzuzuf√ºgen, die im Standard-JIT-Compiler f√ºr HotSpot nicht verf√ºgbar sind. <br>  Und dies kann Ihre Java-Programme viel schneller machen. </p><br><p>  Zu Vergleichszwecken verwende ich zum Ausf√ºhren von Programmen ohne den Grait JIT-Compiler das <code>-XX:-UseJVMCICompiler</code> .  JVMCI ist die Schnittstelle zwischen Graal und der JVM.  Sie k√∂nnen das Beispiel auch auf einer Standard-JVM ausf√ºhren und die Ergebnisse vergleichen. </p><br><pre> <code class="plaintext hljs">$ time java -XX:-UseJVMCICompiler TopTen large.txt sed = 502701 ut = 392657 in = 377651 et = 352641 id = 317627 eu = 317627 eget = 302621 vel = 300120 a = 287615 sit = 282613 real 0m23.511s user 0m24.293s sys 0m0.579s</code> </pre> <br><p>  Dieser Test zeigt, dass Graal unser Java-Programm in etwa drei Viertel der Zeit ausf√ºhrt, die f√ºr die Ausf√ºhrung mit dem Standard-HotSpot-Compiler erforderlich ist.  Wo wir glauben, dass die Verbesserung der Produktivit√§t um Prozenteinheiten eine bedeutende Leistung ist, sind 25% eine gro√üe Sache. </p><br><p>  Twitter ist heute das einzige Unternehmen, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">das Graal auf "Battle" -Servern einsetzt</a> , und sie sagen, dass dies f√ºr sie gerechtfertigt ist, um echtes Geld zu sparen.  Twitter verwendet Graal, um in Scala geschriebene Anwendungen auszuf√ºhren - Graal arbeitet auf der JVM-Ebene des Bytecodes, d. H.  gilt f√ºr jede JVM-Sprache. </p><br><p>  Dies ist der erste Anwendungsfall f√ºr GraalVM. Ersetzen Sie einfach den JIT-Compiler durch eine bessere Version f√ºr Ihre vorhandenen Java-Anwendungen. </p><br><h2 id="2-umenshenie-vremeni-starta-i-potrebleniya-pamyati-dlya-java">  2. Verringern Sie die Startzeit und die Speichernutzung f√ºr Java </h2><br><p>  Die St√§rken der Java-Plattform zeigen sich insbesondere bei der Arbeit mit lang laufenden Prozessen und Spitzenlasten.  Im Gegensatz dazu leiden kurzlebige Prozesse unter langen Startzeiten und einer relativ hohen Speichernutzung. </p><br><p>  Wenn wir beispielsweise die Anwendung aus dem vorherigen Abschnitt ausf√ºhren und ihr eine viel geringere Menge an Eingabedaten zuf√ºhren - etwa 1 KB anstelle von 150 MB -, scheint es unangemessen lange und ziemlich viel Speicher zu dauern - etwa 60 MB, um eine so kleine Datei zu verarbeiten .  Wir verwenden die Option <code>-l</code> , um die zus√§tzlich zur Ausf√ºhrungszeit verwendete Speichermenge zu drucken. </p><br><pre> <code class="plaintext hljs">$ make small.txt $ /usr/bin/time -l java TopTen small.txt # -v on Linux instead of -l sed = 6 sit = 6 amet = 6 mauris = 3 volutpat = 3 vitae = 3 dolor = 3 libero = 3 tempor = 2 suscipit = 2 0.32 real 0.49 user 0.05 sys 59846656 maximum resident set size</code> </pre> <br><p>  GraalVM bietet uns ein Tool, das dieses Problem l√∂st.  Wir haben gesagt, dass Graal eine Compiler-Bibliothek ist und auf viele verschiedene Arten verwendet werden kann.  Eine davon ist das <em>vorzeitige</em> Kompilieren in ein plattformabh√§ngiges ausf√ºhrbares Image, anstatt <em>Just-in-Time</em> zur Laufzeit zu kompilieren.  Dies √§hnelt der Funktionsweise eines regul√§ren Compilers wie <code>gcc</code> . </p><br><pre> <code class="plaintext hljs">$ native-image --no-server TopTen classlist: 1,513.82 ms (cap): 2,333.95 ms setup: 3,584.09 ms (typeflow): 4,642.13 ms (objects): 3,073.58 ms (features): 156.34 ms analysis: 8,059.94 ms universe: 353.02 ms (parse): 1,277.02 ms (inline): 1,412.08 ms (compile): 10,337.76 ms compile: 13,776.23 ms image: 2,526.63 ms write: 1,525.03 ms [total]: 31,439.47 ms</code> </pre> <br><p>  Dieser Befehl erstellt eine plattformspezifische <code>topten</code> namens <code>topten</code> .  Diese Datei startet die JVM nicht, ist nicht mit der JVM verkn√ºpft und enth√§lt in keiner Weise die JVM.  Der Befehl <code>native-image</code> kompiliert Ihren Java-Code und die von Ihnen verwendeten Java-Bibliotheken wirklich zu vollst√§ndigem Maschinencode.  F√ºr Laufzeitkomponenten wie den Garbage Collector starten wir unsere eigene neue VM namens SubstrateVM, die wie Graal auch in Java geschrieben ist. </p><br><p>  Wenn Sie sich die Abh√§ngigkeiten <code>topten</code> , die <code>topten</code> verwendet, werden Sie <code>topten</code> , dass dies nur Standardsystembibliotheken sind.  Wir k√∂nnen nur diese eine Datei auf ein System √ºbertragen, auf dem die JVM noch nie installiert wurde, und sie dort ausf√ºhren, um zu √ºberpr√ºfen, ob die JVM oder andere Dateien nicht verwendet werden.  <code>Topten</code> auch ziemlich klein - der ausf√ºhrbare Code nimmt weniger als 6 MB ein. </p><br><pre> <code class="plaintext hljs">$ otool -L topten # ldd topten on Linux topten: .../CoreFoundation.framework ... .../libz.1.dylib ... .../libSystem.B.dylib ... $ du -h topten 5.7M topten</code> </pre> <br><p>  Wenn wir diese ausf√ºhrbare Datei ausf√ºhren, werden wir feststellen, dass sie etwa eine Gr√∂√üenordnung schneller startet und etwa eine Gr√∂√üenordnung weniger Speicher ben√∂tigt als dasselbe Programm, das unter der JVM ausgef√ºhrt wird.  Der Start ist so schnell, dass Sie nicht bemerken, wie lange es gedauert hat.  Wenn Sie die Befehlszeile verwenden, sp√ºren Sie nicht die Pause, die normalerweise auftritt, wenn Sie ein kleines, kurzlebiges Programm unter der JVM ausf√ºhren </p><br><pre> <code class="plaintext hljs">$ /usr/bin/time -l ./topten small.txt sed = 6 sit = 6 amet = 6 mauris = 3 volutpat = 3 vitae = 3 dolor = 3 libero = 3 tempor = 2 suscipit = 2 0.02 real 0.00 user 0.00 sys 4702208 maximum resident set size</code> </pre> <br><p>  Das <code>native-image</code> Dienstprogramm weist einige <a href="">Einschr√§nkungen auf</a> .  Zum Zeitpunkt der Kompilierung sollten also alle Klassen vorhanden sein. Au√üerdem gibt es Einschr√§nkungen f√ºr die Verwendung der Reflection-API.  Es gibt jedoch einige zus√§tzliche Vorteile gegen√ºber der grundlegenden Kompilierung, z. B. die Ausf√ºhrung statischer Initialisierer zur Kompilierungszeit.  Dadurch wird der Arbeitsaufwand bei jedem Herunterladen der Anwendung verringert. </p><br><p>  Dies ist die zweite Anwendung von GraalVM - die Verteilung und Ausf√ºhrung vorhandener Java-Programme mit schnellem Start und geringerem Speicherverbrauch.  Diese Methode behebt Konfigurationsprobleme wie das Finden des richtigen JAR zur Laufzeit und erm√∂glicht das Erstellen kleinerer Docker-Images. </p><br><h2 id="3-kombinirovanie-javascript-java-ruby-i-r">  3. Kombinieren von JavaScript, Java, Ruby und R. </h2><br><p>  Neben Java enth√§lt GraalVM neue Implementierungen von JavaScript-, Ruby-, R- und Python-Engines.  Sie werden mit einem neuen Framework namens <em>Truffle geschrieben</em> .  Dieses Framework erm√∂glicht es, Sprachinterpreter zu erstellen, die sowohl einfach als auch leistungsstark sind.  Wenn Sie einen Sprachinterpreter mit Truffle schreiben, wird Graal automatisch verwendet, um die JIT-Kompilierung f√ºr Ihre Sprache bereitzustellen.  Somit ist Graal nicht nur ein JIT-Compiler und AOT-Compiler f√ºr Java, sondern kann auch ein JIT-Compiler f√ºr JavaScript, Ruby, R und Python sein. </p><br><p>  Die Unterst√ºtzung von Sprachen von Drittanbietern in GraalVM soll ein transparenter Ersatz f√ºr vorhandene Engines f√ºr die Ausf√ºhrung verschiedener Sprachen sein.  Zum Beispiel k√∂nnen wir das "Farb" -Modul f√ºr Node.js installieren: </p><br><pre> <code class="plaintext hljs">$ npm install --global color ... + color@3.0.0 added 6 packages in 14.156s</code> </pre> <br><p>  Schreiben Sie dann mit diesem Modul ein Programm, um RGB-HTML-Farben in HSL zu konvertieren: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Color = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'color'</span></span>); process.argv.slice(<span class="hljs-number"><span class="hljs-number">2</span></span>).forEach(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">val</span></span></span><span class="hljs-function">) </span></span>{ print(Color(val).hsl().string()); });</code> </pre> <br><p>  Und f√ºhren Sie es wie gewohnt aus: </p><br><pre> <code class="plaintext hljs">$ node color.js '#42aaf4' hsl(204.89999999999998, 89%, 60.8%)</code> </pre> <br><p>  Die Ausf√ºhrungs-Engines verschiedener Sprachen in GraalVM arbeiten zusammen. Es gibt eine API, mit der Sie Code aus einer Sprache in einem Programm ausf√ºhren k√∂nnen, das in einer anderen Sprache geschrieben ist.  Auf diese Weise k√∂nnen Sie mehrsprachige Programme schreiben - Programme, die in mehr als einer Programmiersprache geschrieben sind. </p><br><p>  Dies kann erforderlich sein, wenn Sie den gr√∂√üten Teil Ihres Programms in einer Sprache schreiben, aber eine Bibliothek verwenden m√∂chten, die in einer anderen Programmiersprache geschrieben ist.  Angenommen, wir m√ºssen eine Anwendung schreiben, um einen Farbnamen von CSS in seine numerische Darstellung in Node.js zu konvertieren. Wir m√∂chten jedoch eine Ruby-Farbbibliothek verwenden, anstatt die Konvertierung selbst zu schreiben. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> express = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'express'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> app = express(); color_rgb = Polyglot.eval(<span class="hljs-string"><span class="hljs-string">'ruby'</span></span>, <span class="hljs-string"><span class="hljs-string">` require 'color' Color::RGB `</span></span>); app.get(<span class="hljs-string"><span class="hljs-string">'/css/:name'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">req, res</span></span></span><span class="hljs-function">) </span></span>{ color = color_rgb.by_name(req.params.name).html() res.send(<span class="hljs-string"><span class="hljs-string">'&lt;h1 style="color: '</span></span> + color + <span class="hljs-string"><span class="hljs-string">'" &gt;'</span></span> + color + <span class="hljs-string"><span class="hljs-string">'&lt;/h1&gt;'</span></span>); }); app.listen(<span class="hljs-number"><span class="hljs-number">8080</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'serving at http://localhost:8080'</span></span>) });</code> </pre> <br><p>  In diesem Code haben wir geschrieben, dass wir Ruby-Code als Zeichenfolge ausf√ºhren m√ºssen, aber beachten Sie, dass wir hier nicht viel getan haben - wir haben nur die Bibliotheken verbunden und dann das Ruby-Objekt zur√ºckgegeben.  In Ruby w√ºrden wir es folgenderma√üen verwenden: <code>Color::RGB.by_name (name).html</code> .  Wenn Sie sich ansehen, wie <code>color_rgb</code> sp√§ter in JavaScript verwendet wird, werden Sie <code>color_rgb</code> , dass wir tats√§chlich dieselben Methoden aus JavaScript aufrufen, obwohl dies Ruby-Objekte und -Methoden sind.  Wir √ºbergeben sie als JavaScript-Zeichenfolgen und kombinieren das Ergebnis, bei dem es sich um eine Ruby-Zeichenfolge handelt, mit einer JavaScript-Zeichenfolge. </p><br><p>  Installieren Sie beide Abh√§ngigkeiten - Ruby und JavaScript. </p><br><pre> <code class="plaintext hljs">$ gem install color Fetching: color-1.8.gem (100%) Successfully installed color-1.8 1 gem installed $ npm install express + express@4.16.2 updated 1 package in 10.393s</code> </pre> <br><p>  Dann m√ºssen Sie den <code>node</code> mit einigen zus√§tzlichen Optionen <code>--polyglot</code> : <code>--polyglot</code> , um zu sagen, dass wir Zugriff auf andere Sprachen und <code>--jvm</code> , da das ausf√ºhrbare <code>node</code> standardm√§√üig nichts anderes als JavaScript enth√§lt. </p><br><pre> <code class="plaintext hljs">$ node --polyglot --jvm color-server.js serving at http://localhost:8080</code> </pre> <br><p>  Gehen Sie dann wie gewohnt in Ihrem Browser zur URL <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">http: // localhost: 8080 / css / orange</a> (oder einer anderen Farbe). <br><img src="https://habrastorage.org/webt/_h/uz/e2/_huze29ugzgpz8ecll22rpv6s1w.png"><br>  Lassen Sie uns versuchen, ein ernsthafteres Beispiel zu erstellen, das mehr Sprachen und Module verwendet. </p><br><p>  JavaScript unterst√ºtzt keine sehr gro√üen Ganzzahlen.  Ich habe mehrere Module wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Big-Integer gefunden</a> , aber sie sind alle ineffizient, weil  Speichern Sie die Komponenten einer Zahl als JavaScript-Gleitkommazahlen.  Die <code>BigInteger</code> Klasse in Java ist effizienter. Verwenden Sie sie, um einige arithmetische Operationen mit gro√üen Ganzzahlen auszuf√ºhren. </p><br><p>  JavaScript bietet auch keine integrierte Unterst√ºtzung f√ºr das Zeichnen von Diagrammen, w√§hrend R Diagramme hervorragend zeichnet.  Verwenden wir das <code>svg</code> Modul von R, um ein Streudiagramm einer trigonometrischen Funktion im 3D-Raum zu zeichnen. </p><br><p>  In beiden F√§llen verwenden wir die API, um die Mehrsprachigkeit von GraalVM (im Folgenden als Polyglot-API bezeichnet) zu unterst√ºtzen, und k√∂nnen die Ergebnisse der Ausf√ºhrung von Programmen in anderen Sprachen einfach in JavaScript einf√ºgen. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> express = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'express'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> app = express() <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> BigInteger = Java.type(<span class="hljs-string"><span class="hljs-string">'java.math.BigInteger'</span></span>) app.get(<span class="hljs-string"><span class="hljs-string">'/'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">req, res</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> text = <span class="hljs-string"><span class="hljs-string">'Hello World from Graal.js!&lt;br&gt; '</span></span> <span class="hljs-comment"><span class="hljs-comment">// Using Java standard library classes text += BigInteger.valueOf(10).pow(100) .add(BigInteger.valueOf(43)).toString() + '&lt;br&gt;' // Using R interoperability to create graphs text += Polyglot.eval('R', `svg(); require(lattice); x &lt;- 1:100 y &lt;- sin(x/10) z &lt;- cos(x^1.3/(runif(1)*5+10)) print(cloud(x~y*z, main="cloud plot")) grDevices:::svg.off() `); res.send(text) }) app.listen(3000, function () { console.log('Example app listening on port 3000!') })</span></span></code> </pre> <br><p>  √ñffnen Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">http: // localhost: 3000 /</a> in Ihrem Browser, um das Ergebnis anzuzeigen: <br><img src="https://habrastorage.org/webt/1o/so/fj/1osofjuimjcfd7pv1qhcikonupo.png"><br>  Dies ist das dritte, was wir mit GraalVM tun k√∂nnen - Programme ausf√ºhren, die in mehreren Sprachen geschrieben sind, und Module aus diesen Sprachen zusammen in einem Programm verwenden.  Wir pr√§sentieren dies als eine M√∂glichkeit, Laufzeitumgebungen und Bibliotheken zu vereinheitlichen. Sie k√∂nnen die Programmiersprache verwenden, die Ihrer Meinung nach am besten zur L√∂sung der aktuellen Aufgabe und jeder gew√ºnschten Bibliothek geeignet ist, unabh√§ngig davon, in welcher Programmiersprache sie geschrieben ist. </p><br><h2 id="4-ispolnenie-programm-napisannyh-na-platformo-zavisimyh-yazykah">  4. Ausf√ºhrung von Programmen, die in plattformspezifischen Sprachen geschrieben sind </h2><br><p>  Eine andere Sprache, die GraalVM unterst√ºtzt, ist C. GraalVM kann C-Code auf dieselbe Weise ausf√ºhren wie in JavaScript und Ruby geschriebene Programme. </p><br><p>  Was GraalVM tats√§chlich unterst√ºtzt, ist die Ausf√ºhrung des Codes, der sich aus der Ausf√ºhrung der LLVM-Dienstprogramme ergibt, d. H.  Bitcode, keine direkte Unterst√ºtzung f√ºr C. Dies bedeutet, dass Sie die vorhandenen Tools f√ºr die C-Sprache und andere, die LLVM unterst√ºtzen, wie C ++, Fortran und m√∂glicherweise in Zukunft weitere Sprachen verwenden k√∂nnen.  Zur Vereinfachung der Demonstration <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">f√ºhre</a> ich eine spezielle Version von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gzip aus</a> , die in einer einzigen Datei zusammengestellt ist ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Stephen McCamant</a> unterst√ºtzt diese Version).  Dies ist lediglich ein <code>gzip</code> Quellcode und eine <code>autoconf</code> Konfiguration, die der Einfachheit halber in einer Datei zusammengefasst sind.  Ich musste ein paar Dinge patchen, damit es unter macOS und mit clang funktioniert, aber ich habe nichts spezielles getan, um GraalVM zu unterst√ºtzen. </p><br><p>  Wir kompilieren gzip mit dem Standard- <code>clang</code> (LLVM-Compiler f√ºr C) und m√∂chten, dass es uns zu einem LLVM-Bitcode und nicht zu einem plattformspezifischen Build macht, da GraalVM ihn nicht startet.  Ich benutze <code>clang</code> 4.0.1. </p><br><pre> <code class="plaintext hljs">$ clang -c -emit-llvm gzip.c</code> </pre> <br><p>  F√ºhren Sie dann das Ergebnis direkt mit dem Befehl lli (LLVM-Bitcode-Interpreter) von GraalVM aus.  Versuchen wir, die Datei mit meinem gzip-Systemarchivator zu komprimieren und sie dann mit gzip zu entpacken, das unter GraalVM ausgef√ºhrt wird. </p><br><pre> <code class="plaintext hljs">$ cat small.txt Lorem ipsum dolor sit amet... $ gzip small.txt $ lli gzip.bc -d small.txt.gz $ cat small.txt Lorem ipsum dolor sit amet...</code> </pre> <br><p>  Die Ruby- und Python-Implementierungen in GraalVM verwenden dieselbe Technik, um in C geschriebene Erweiterungen f√ºr diese Sprachen auszuf√ºhren.  Dies bedeutet, dass Sie diese Erweiterungen innerhalb der VM ausf√ºhren k√∂nnen. Dadurch k√∂nnen wir eine hohe Ausf√ºhrungsgeschwindigkeit beibehalten, selbst wenn wir veraltete plattformspezifische Erweiterungsschnittstellen verwenden. </p><br><p>  Dies ist die vierte M√∂glichkeit, GraalVM zu verwenden - Programme auszuf√ºhren, die in plattformspezifischen Sprachen wie C oder C ++ geschrieben sind, sowie Erweiterungen f√ºr Sprachen wie Python oder Ruby zu starten, die keine JVM-Implementierungen dieser Sprachen wie JRuby durchf√ºhren k√∂nnen. </p><br><h2 id="5-obschie-instrumenty-dlya-vseh-yazykov-programmirovaniya">  5. Allgemeine Tools f√ºr alle Programmiersprachen </h2><br><p>  Wenn Sie in Java programmieren, verwenden Sie wahrscheinlich sehr hochwertige Tools wie IDEs, Debugger und Profiler.  Nicht alle Sprachen verf√ºgen √ºber dieses Toolkit. Sie k√∂nnen jedoch eines erwerben, wenn Sie Sprachen verwenden, die von GraalVM unterst√ºtzt werden. </p><br><p>  Die Unterst√ºtzung f√ºr alle Sprachen in GraalVM (derzeit au√üer Java) wird mithilfe eines gemeinsamen Frameworks implementiert - Truffle.  Auf diese Weise k√∂nnen wir die Funktionalit√§t, beispielsweise einen Debugger, einmal erstellen und f√ºr alle Sprachen verwenden. </p><br><p>  Um dies zu versuchen, werden wir das einfachste Programm schreiben - <em>FizzBuzz</em> , da es visuell ist (es druckt etwas auf dem Bildschirm) und klare Zweige hat, die nur in einigen Iterationen verwendet werden.  Somit ist es f√ºr uns einfacher, Haltepunkte zu setzen.  Beginnen wir mit einer JavaScript-Implementierung. </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fizzbuzz</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">n</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((n % <span class="hljs-number"><span class="hljs-number">3</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>) &amp;&amp; (n % <span class="hljs-number"><span class="hljs-number">5</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'FizzBuzz'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (n % <span class="hljs-number"><span class="hljs-number">3</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'Fizz'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (n % <span class="hljs-number"><span class="hljs-number">5</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'Buzz'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n; } } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> n = <span class="hljs-number"><span class="hljs-number">1</span></span>; n &lt;= <span class="hljs-number"><span class="hljs-number">20</span></span>; n++) { print(fizzbuzz(n)); }</code> </pre> <br><p>  Wir starten das Programm wie gewohnt mit dem Dienstprogramm js unter GraalVM. </p><br><pre> <code class="plaintext hljs">$ js fizzbuzz.js 1 2 Fizz 4 Buzz Fizz</code> </pre> <br><p>  Wir k√∂nnen das Programm auch mit dem Flag <code>--inspect</code> .  Dadurch erhalten wir einen Link, den Sie in Chrome √∂ffnen und das Programm im Debugger stoppen k√∂nnen. </p><br><pre> <code class="plaintext hljs">$ js --inspect fizzbuzz.js Debugger listening on port 9229. To start debugging, open the following URL in Chrome: chrome-devtools://devtools/bundled/inspector.html?ws=127.0.0.1:9229/6c478d4e-1350b196b409</code> </pre> <br><p>  Sie k√∂nnen einen Haltepunkt im <em>FizzBuzz-</em> Code <em>festlegen</em> und dann die Ausf√ºhrung fortsetzen.  Wenn das Programm die Ausf√ºhrung unterbricht, wird der Wert der Variablen <code>n</code> im Debugger angezeigt, und wir k√∂nnen die Programmausf√ºhrung fortsetzen oder die Debugger-Schnittstelle untersuchen. <br><img src="https://habrastorage.org/webt/kn/nq/so/knnqsotzl0j-k8e4y83a1ziz97w.png"><br>  Der Debugger in Chrome wird normalerweise f√ºr JavaScript verwendet, aber f√ºr GraalVM in JavaScript unterscheidet sich nichts von anderen Sprachen.  Das Flag <code>--inspect</code> ebenfalls verf√ºgbar und funktioniert in den Python-, Ruby- und R-Implementierungen. Ich zeige Ihnen nicht die Quelle jedes Programms, aber sie werden auf dieselbe Weise ausgef√ºhrt, und Sie erhalten f√ºr jede Version denselben Debugger in Chrome. </p><br><pre> <code class="plaintext hljs">$ graalpython --jvm --inspect fizzbuzz.py</code> </pre> <br><p><img src="https://habrastorage.org/webt/6t/fx/2m/6tfx2m4btthox9mxxkweqehwjgm.png"></p><br><pre> <code class="plaintext hljs">$ ruby --inspect fizzbuzz.rb</code> </pre> <br><p><img src="https://habrastorage.org/webt/2z/_z/ti/2z_ztia4yk9fqomzo_vxj9c7mb0.png"></p><br><pre> <code class="plaintext hljs">$ Rscript --inspect fizzbuzz.r</code> </pre> <br><p><img src="https://habrastorage.org/webt/rg/12/wn/rg12wnspfc176rtrz7uww4qymo0.png"><br>  Ein weiteres Tool, mit dem Sie m√∂glicherweise aus Java vertraut sind, ist VisualVM.  Es bietet eine Benutzeroberfl√§che, √ºber die Sie einer laufenden JVM auf Ihrem lokalen Computer oder √ºber ein Netzwerk beitreten k√∂nnen, um verschiedene Aspekte der Programmausf√ºhrung zu √ºberpr√ºfen, z. B. die Speichernutzung oder die Thread-Ausf√ºhrung. </p><br><p>  GraalVM enth√§lt VisualVM als Standarddienstprogramm f√ºr <code>jvisualvm</code> . </p><br><pre> <code class="plaintext hljs">$ jvisualvm &amp;&gt; /dev/null &amp;</code> </pre> <br><p>  Wenn wir VisualVM ausf√ºhren, w√§hrend das <code>TopTen</code> Java-Programm ausgef√ºhrt wird, k√∂nnen wir die Speichernutzung beobachten oder beispielsweise eine Momentaufnahme des Speicherinhalts erstellen und sehen, welche Arten von Objekten wir auf dem Heap verwenden. </p><br><pre> <code class="plaintext hljs">$ java TopTen large.txt</code> </pre> <br><p><img src="https://habrastorage.org/webt/gd/-5/ld/gd-5ldwlrn3y9szdaoqrmd_7res.png"><br>  Ich habe dieses Programm in Ruby geschrieben, um zur Laufzeit M√ºll im Speicher zu generieren. </p><br><pre> <code class="ruby hljs"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'erb'</span></span> x = <span class="hljs-number"><span class="hljs-number">42</span></span> template = ERB.new &lt;&lt;-EOF The value of x <span class="hljs-symbol"><span class="hljs-symbol">is:</span></span> &lt;%= x %&gt; EOF loop <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> puts template.result(binding) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br><p>  Wenn Sie die Standard-Ruby-Implementierung auf JVM - JRuby ausf√ºhren, werden Sie von VisualVM entt√§uscht sein, da anstelle von Objekten in Ihrer Sprache nur interne Java-Objekte angezeigt werden. </p><br><p>  Wenn Sie die Version von Ruby f√ºr GraalVM verwenden, erkennt VisualVM Ruby-Objekte.  Wir m√ºssen die Option <code>--jvm</code> , um VisualVM als zu verwenden  native Versionen von Ruby werden nicht unterst√ºtzt. </p><br><pre> <code class="plaintext hljs">$ ruby --jvm render.rb</code> </pre> <br><p> ,  ,       Java ,    , ,   Summary,   Ruby Heap       Ruby . <br><img src="https://habrastorage.org/webt/ge/d4/xc/ged4xcxp5ylkaxjxyxd5b8v3kyo.png"><br>  Truffle ‚Äî  -  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Nexus</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">  </a> .         Truffle      ,  ,   API Truffle'  ,         ,   Truffle,         . </p><br><p> ,   GraalVM ‚Äî         ,       .   Truffle  GraalVM      ,       VisualVM. </p><br><h2 id="6-dopolnenie-jvm-prilozheniy"> 6.  JVM  </h2><br><p>   ,   ,   ,        Java .  API   <code>org.graalvm.polyglot</code>      ,         . </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.graalvm.polyglot.Context; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.graalvm.polyglot.Value; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ExtendJava</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ String language = <span class="hljs-string"><span class="hljs-string">"js"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> (Context context = Context.newBuilder().allowNativeAccess(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>).build()) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (String arg: args) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (arg.startsWith(<span class="hljs-string"><span class="hljs-string">"-"</span></span>)) { language = arg.substring(<span class="hljs-number"><span class="hljs-number">1</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { Value v = context.eval(language, arg); System.out.println(v); } } } } }</code> </pre> <br><p>    <code>javac</code>  <code>java</code>   GraalVM,   <code>org.graalvm.*</code>     <code>classpath</code> , ..          . </p><br><pre> <code class="plaintext hljs">$ javac ExtendJava.java $ java ExtendJava '14 + 2' 16 $ java ExtendJava -js 'Math.sqrt(14)' 3.7416573867739413 $ java ExtendJava -python '[2**n for n in range(0, 8)]' [1, 2, 4, 8, 16, 32, 64, 128] $ java ExtendJava -ruby '[4, 2, 3].sort' [2, 3, 4]</code> </pre> <br><p> ,        ‚Äî     ,      <code>node</code>  <code>ruby</code> ,  GraalVM. </p><br><p>     GraalVM ‚Äî             Java . Polyglot API     ‚Äú‚Äù      Java ,       . </p><br><h2 id="7-dopolnenie-platformo-zavisimyh-prilozheniy"> 7.  -  </h2><br><p>  GraalVM    ,  ,    ‚Äî  ,        ,  GraalVM,  - . ,  JavaScript ,  V8,  Python ‚Äî CPython     , ..          . GraalVM           ‚Äî      Polyglot . </p><br><p>    GraalVM,       ,         JavaScript.    Polyglot ,    ,  : </p><br><pre> <code class="plaintext hljs">$ graalvm-1.0.0-rc1/Contents/Home/jre/lib/svm/bin/rebuild-images libpolyglot</code> </pre> <br><p>     C,   ,    ,  GraalVM,     .       <code>ExtendJava</code>   ,    ,   . </p><br><div class="spoiler"> <b class="spoiler_title">  </b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;stdlib.h&gt; #include &lt;stdio.h&gt; #include &lt;polyglot_api.h&gt; int main(int argc, char **argv) { graal_isolate_t *isolate = NULL; graal_isolatethread_t *thread = NULL; if (graal_create_isolate(NULL, &amp;isolate) != 0 || (thread = graal_current_thread(isolate)) == NULL) { fprintf(stderr, "initialization error\n"); return 1; } poly_context context = NULL; if (poly_create_context(thread, NULL, 0, &amp;context) != poly_ok) { fprintf(stderr, "initialization error\n"); return 1; } char* language = "js"; for (int n = 1; n &lt; argc; n++) { if (argv[n][0] == '-') { language = &amp;argv[n][1]; } else { poly_value result = NULL; if (poly_context_eval(thread, context, language, "unicalc", argv[n], &amp;result) != poly_ok) { fprintf(stderr, "eval error\n"); return 1; } char buffer[1024]; size_t length; if (poly_value_to_string_utf8(thread, result, buffer, sizeof(buffer), &amp;length) != poly_ok) { fprintf(stderr, "to string error\n"); return 1; } buffer[length] = '\0'; printf("%s\n", buffer); poly_destroy_handle(thread, result); } } return 0; }</span></span></span></span></code> </pre> </div></div><br><p>      ,       polyglot   GraalVM.  , ,    JVM. </p><br><pre> <code class="plaintext hljs">$ clang -Igraalvm-1.0.0-rc1/Contents/Home/jre/lib/polyglot / -rpath graalvm-1.0.0-rc1/Contents/Home / -Lgraalvm-1.0.0-rc1/Contents/Home/jre/lib/polyglot / -lpolyglot extendc.c -o extendc $ otool -L extendc extendc: .../libpolyglot.dylib ... .../libSystem.B.dylib ...</code> </pre> <br><pre> <code class="plaintext hljs">$ ./extendc '14 + 2' 16 $ ./extendc -js 'Math.sqrt(14)' 3.7416573867739413 $ ./extendc -python '[2**n for n in range(0, 8)]' [1, 2, 4, 8, 16, 32, 64, 128]</code> </pre> <br><p>   ,      GraalVM ‚Äî  -    ,    ,  GraalVM. </p><br><h2 id="8-kod-na-java-kak-platformo-zavisimaya-biblioteka"> 8.   Java  -  </h2><br><p>  Java        , , ,    ,  - ,      .     Java   - ,     JVM   ,         . </p><br><p> GraalVM    Java ,   ,      - ,          .      ,    ,    Java    JVM. </p><br><p>   ,     Apache SIS    ,     ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a> )     .   SIS 0.8,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">http://sis.apache.org/</a>     jar. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.apache.sis.distance.DistanceUtils; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Distance</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> aLat = Double.parseDouble(args[<span class="hljs-number"><span class="hljs-number">0</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> aLong = Double.parseDouble(args[<span class="hljs-number"><span class="hljs-number">1</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> bLat = Double.parseDouble(args[<span class="hljs-number"><span class="hljs-number">2</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> bLong = Double.parseDouble(args[<span class="hljs-number"><span class="hljs-number">3</span></span>]); System.out.printf(<span class="hljs-string"><span class="hljs-string">"%.2f km%n"</span></span>, DistanceUtils.getHaversineDistance(aLat, aLong, bLat, bLong)); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">double</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">distance</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(IsolateThread thread, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> aLat, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> aLong, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> bLat, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> bLong)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> DistanceUtils.getHaversineDistance(aLat, aLong, bLat, bLong); } }</code> </pre> <br><p>      ,       - </p><br><pre> <code class="plaintext hljs">$ javac -cp sis.jar -parameters Distance.java $ java -cp sis.jar:. Distance 51.507222 -0.1275 40.7127 -74.0059 5570.25 km</code> </pre> <br><p>       ,      <code>topten</code> . </p><br><pre> <code class="plaintext hljs">$ native-image --no-server -cp sis.jar:. Distance ... $ ./distance 51.507222 -0.1275 40.7127 -74.0059 5570.25 km</code> </pre> <br><p>      ,    .   ,        <code>@CEntryPoint</code> </p><br><pre> <code class="java hljs">... <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.graalvm.nativeimage.IsolateThread; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.graalvm.nativeimage.c.function.CEntryPoint; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Distance</span></span></span><span class="hljs-class"> </span></span>{ ... <span class="hljs-meta"><span class="hljs-meta">@CEntryPoint</span></span>(name = <span class="hljs-string"><span class="hljs-string">"distance"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">double</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">distance</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(IsolateThread thread, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a_lat, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a_long, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b_lat, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b_long)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> DistanceUtils.getHaversineDistance(a_lat, a_long, b_lat, b_long); } ... }</code> </pre> <br><p>      <code>javac</code> ,   GraalVM    API  <code>classpath</code> . C         . </p><br><pre> <code class="plaintext hljs">$ native-image --no-server -cp sis.jar:. -H:Kind=SHARED_LIBRARY \ -H:Name=libdistance $ otool -L libdistance.dylib # .so on Linux libdistance.dylib: .../libdistance.dylib ... .../CoreFoundation.framework ... .../libz.1.dylib ... .../libSystem.B.dylib ... $ du -h libdistance.dylib 4.8M libdistance.dylib</code> </pre> <br><p>      ,     .     ,    :   VM   ,      ,           . </p><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;stdlib.h&gt; #include &lt;stdio.h&gt; #include &lt;libdistance.h&gt; int main(int argc, char **argv) { graal_isolate_t *isolate = NULL; graal_isolatethread_t *thread = NULL; if (graal_create_isolate(NULL, &amp;isolate) != 0 || (thread = graal_current_thread(isolate)) == NULL) { fprintf(stderr, "initialization error\n"); return 1; } double a_lat = strtod(argv[1], NULL); double a_long = strtod(argv[2], NULL); double b_lat = strtod(argv[3], NULL); double b_long = strtod(argv[4], NULL); printf("%.2f km\n", distance(thread, a_lat, a_long, b_lat, b_long)); return 0; }</span></span></span></span></code> </pre> <br><p>       ,       (  <code>LD_LIBRARY_PARTH=.</code>  Linux) </p><br><pre> <code class="plaintext hljs">$ clang -I. -L. -ldistance distance.c -o distance $ otool -L distance distance: .../libdistance.dylib ... .../libSystem.B.dylib ... $ ./distance 51.507222 -0.1275 40.7127 -74.0059 5570.25 km</code> </pre> <br><p>     GraalVM ‚Äî   java  - ,         JVM </p><br><h2 id="9-podderzhka-neskolkih-yazykov-programmirovaniya-v-baze-dannyh"> 9.        </h2><br><p>     Polyglot  ‚Äî     Oracle.      Oracle Database Multilingual Engine (MLE),         GraalVM   SQL. </p><br><p> ,    front-end,    JavaScript     email ,  JavaScript  <code>validator</code> .     -       ,      SQL  PL/SQL.         ,    . </p><br><p>  MLE  Docker  : </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://oracle.github.io/oracle-db-mle/releases/0.2.7/docker/</a> </p><br><p>     Docker Daemon. </p><br><pre> <code class="plaintext hljs">$ docker load --input mle-docker-0.2.7.tar.gz</code> </pre> <br><p>  ,  Docker,  ,    (    ),  Bash   . </p><br><pre> <code class="plaintext hljs">$ docker run mle-docker-0.2.7 $ docker ps $ docker exec -ti &lt;container_id&gt; bash -li</code> </pre> <br><p>    <code>sqlplus</code> ( SQL ),   Bash,     ,   ,     . </p><br><pre> <code class="plaintext hljs">$ sqlplus scott/tiger@localhost:1521/ORCLCDB</code> </pre> <br><p>    ,    <code>sqlplus</code> . ,   Bash  Docker,         <code>dbjs</code> ,       .   <code>sqlplus</code> . </p><br><pre> <code class="plaintext hljs">$ npm install validator $ npm install @types/validator $ dbjs deploy -u scott -p tiger -c localhost:1521/ORCLCDB validator $ sqlplus scott/tiger@localhost:1521/ORCLCDB</code> </pre> <br><p>         <code>validator</code>   SQL . </p><br><pre> <code class="plaintext hljs">SQL&gt; select validator.isEmail('hello.world@oracle.com') from dual; VALIDATOR.ISEMAIL('HELLO.WORLD@ORACLE.COM') ------------------------------------------- 1 SQL&gt; select validator.isEmail('hello.world') from dual; VALIDATOR.ISEMAIL('HELLO.WORLD') -------------------------------- 0</code> </pre> <br><p>    ,     GraalVM ‚Äî  ,  GraalVM,   Oracle.  ,     front-end  back-end,    ,  ,           . </p><br><h2 id="10-sozdanie-yazykov-programmirovaniya-dlya-graalvm"> 10.     GraalVM </h2><br><p> Oracle Labs            JavaScript, R, Ruby, Python  C   ,      Truffle,       GraalVM. </p><br><p> Truffle ‚Äî  java ,     <em>  </em> (AST).  AST ‚Äî ,     ,                ,   , ,  .     ,    ,   Truffle  Graal   JIT  ,       AST . </p><br><p>    Truffle,    GraalVM    ,      ,  DSL.      Truffle  Graal   ,     ,  Truffle ‚Äî         GraalVM.        , , , , . ,         ,        . Oracle labs    Ruby ,    ,         . </p><br><p>       ,     ,   ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SimpleLanguage</a> ‚Äî         Truffle,       JavaScript.  ,  ,   , , , <a href="">   if</a> . </p><br><p>  ,    Truffle   Oracle Labs,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SmallTalk</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Newspeak</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Lisp</a> .    Lisp  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a> ,         . </p><br><h2 id="zaklyuchenie">  Fazit </h2><br><p> GraalVM        ‚Äî  ,         ,       .       ,  ,    ,      ,    . </p><br><p>   GraalVM,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">http://www.graalvm.org/</a> .          ,  ,      . </p><br><p>    ,              ,    .     ,     GraalVM         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">@ChrisGSeaton</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">@shelajev</a> . </p><br><p> <em>:</em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Oleg ≈†elajev</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Olya Gupalo</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Doug Simon</a> </p><cut></cut></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de433432/">https://habr.com/ru/post/de433432/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de433414/index.html">PRTG Network Monitor testen und mit Zabbix vergleichen</a></li>
<li><a href="../de433420/index.html">ZeroNights 2018 Ergebnisse</a></li>
<li><a href="../de433424/index.html">Ist es m√∂glich, ein unpassierbares Level in Super Mario Maker zu laden?</a></li>
<li><a href="../de433428/index.html">Woher kommt Kreativit√§t: Analyse der Alpha-Wellen-Aktivit√§t des Gehirns w√§hrend RAT-Tests</a></li>
<li><a href="../de433430/index.html">Android Box Mecool KM9 auf dem frischen SoC Amlogic S905X2 mit 4 GB RAM und Android TV 8.1 - verstehen und vergeben</a></li>
<li><a href="../de433434/index.html">"Pascal und noch weniger Basic werden definitiv nicht ben√∂tigt": ein Interview mit Trainern im Sportprogramm</a></li>
<li><a href="../de433436/index.html">Performance Research Einf√ºhrung</a></li>
<li><a href="../de433438/index.html">Die Staatsduma wird Crowdfunding begrenzen</a></li>
<li><a href="../de433442/index.html">Entity Framework Core 2.2 ver√∂ffentlicht. Was gibt's Neues? (3 von 3)</a></li>
<li><a href="../de433446/index.html">Sicherheitswoche 51: Fehler in WordPress 5.0 und Logitech-Software, Sicherheitsl√ºcke bei Facebook-Fotos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>