<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèæ üìÑ ‚≠êÔ∏è tinc-boot - r√©seau maill√© sans douleur üòì üöµüèø üë©üèæ‚Äçüíº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Automatique, s√©curis√©, distribu√©, avec des connexions transitives (c'est-√†-dire le transfert de messages lorsqu'il n'y a pas d'acc√®s direct entre les ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>tinc-boot - r√©seau maill√© sans douleur</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468213/"><p><img src="https://habrastorage.org/webt/hi/bi/xp/hibixpblgmg9-ctqwsnijobvxvc.png"></p><br><p>  Automatique, s√©curis√©, distribu√©, avec des connexions transitives (c'est-√†-dire le transfert de messages lorsqu'il n'y a pas d'acc√®s direct entre les abonn√©s), sans point de d√©faillance unique, homologue, test√© dans le temps, faible consommation de ressources, r√©seau VPN √† maillage complet avec la capacit√© de ¬´perforer¬ª NAT - est-ce possible? </p><a name="habracut"></a><br><p>  Les bonnes r√©ponses sont: </p><br><ul><li>  oui, avec douleur si vous utilisez du tinc. </li><li>  oui, facile si vous utilisez tinc + tinc-boot </li></ul><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Lien de saut d'introduction</a> </p><br><h1 id="opisanie-tinc">  Description de la tinc </h1><br><p>  Malheureusement, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">quelques</a> informations ont √©t√© publi√©es sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Tinc VPN</a> sur Habr√©, mais quelques articles pertinents peuvent toujours √™tre trouv√©s: </p><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Notre recette pour un serveur VPN √† s√©curit√© int√©gr√©e bas√© sur tinc, OpenVPN, Linux</a> de Flant </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Liste des solutions VPN Full-Mesh</a> du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">ValdikSS</a> respect√© </li></ul><br><p>  Des articles de langue anglaise peuvent √™tre distingu√©s: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment installer Tinc et configurer un VPN de base sur Ubuntu 14.04 √†</a> partir de Digital Ocean </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment configurer tinc, un VPN Peer-to-Peer</a> de Linode </li></ul><br><p>  La source d'origine est pr√©f√©rable de consid√©rer la documentation originale de <a href="">Tinc man</a> </p><br><p> Ainsi (une r√©impression gratuite sur le site officiel), Tinc VPN est un service (d√©mon <code>tincd</code> ) qui assure le fonctionnement d'un r√©seau priv√© en tunnelant et en chiffrant le trafic entre les n≈ìuds.  Le code source est ouvert et disponible sous la licence GPL2.  Comme la solution classique (OpenVPN), le r√©seau virtuel cr√©√© est disponible au niveau IP (OSI 3), ce qui signifie que, dans le cas g√©n√©ral, il n'est pas n√©cessaire d'apporter des modifications aux applications. </p><br><p>  Caract√©ristiques cl√©s: </p><br><ul><li>  cryptage, authentification et compression du trafic; </li><li>  solution enti√®rement maill√©e enti√®rement automatique, qui comprend l'√©tablissement de connexions aux n≈ìuds de r√©seau dans un mode tout avec tous ou, si cela n'est pas applicable, le transfert de messages entre des h√¥tes interm√©diaires; </li><li>  punch NAT; </li><li>  la possibilit√© de connecter des r√©seaux isol√©s au niveau ethernet (commutateur virtuel); </li><li>  prise en charge de plusieurs syst√®mes d'exploitation: Linux, FreeBSD, OS X, Solaris, Windows, etc. </li></ul><br><p>  Il existe deux branches de d√©veloppement tinc: 1.0.x (dans presque tous les r√©f√©rentiels) et 1.1 (b√™ta √©ternelle).  L'article utilise la version 1.0.x partout. </p><br><blockquote>  Tinc 1.1x fournit plusieurs nouvelles fonctionnalit√©s cl√©s: une s√©curit√© avant parfaite, une connectivit√© client simplifi√©e (rempla√ßant en fait <code>tinc-boot</code> ) et une conception g√©n√©ralement plus r√©fl√©chie. <br><br>  Cependant, pour le moment, une version stable - 1.0.x est indiqu√©e et mise en √©vidence sur le site officiel, donc lorsque vous utilisez tous les avantages de la branche 1.1, vous devez √©valuer tous les avantages et les inconv√©nients de l'utilisation d'une version non finale. </blockquote><p>  De mon point de vue, l'une des possibilit√©s les plus fortes est de transmettre des messages lorsque la connexion directe n'est pas possible.  Dans le m√™me temps, les tables de routage sont construites automatiquement.  M√™me les n≈ìuds sans adresse publique peuvent faire passer le trafic par eux-m√™mes. </p><br><p><img src="https://habrastorage.org/webt/po/ls/gk/polsgk0pdev-rayy9tkqd74mrss.png"></p><br><p>  Consid√©rons la situation avec trois serveurs (Chine, Russie, Singapour) et trois clients (Russie, Chine et Philippines): </p><br><ul><li>  les serveurs ont une adresse publique, les clients derri√®re NAT; </li><li>  ILV lors de la prochaine interdiction des procurations probables Le T√©l√©gramme a bloqu√© tous les h√©bergeurs √† l'exception de la Chine "amie"; </li><li>  la fronti√®re du r√©seau de la Chine &lt;-&gt; RF est instable et peut tomber (en raison de l'ILV et / ou de la censure chinoise); </li><li>  les connexions √† Singapour sont conditionnellement stables (exp√©rience personnelle); </li><li>  Manille (Philippines) n'est une menace pour personne et est donc autoris√©e pour tout le monde (en raison de la distance de tout le monde et de tout). </li></ul><br><p>  Par exemple, l'√©change de trafic entre Shanghai et Moscou, consid√©rons les sc√©narios de Tinc (environ): </p><br><ol><li>  Situation d'origine: Moscou &lt;-&gt; russie-srv &lt;-&gt; chine-srv &lt;-&gt; Shanghai </li><li>  ILV a ferm√© la connexion avec la Chine: Moscou &lt;-&gt; russia-srv &lt;-&gt; Manille &lt;-&gt; Singapour &lt;-&gt; Shanghai </li><li>  (apr√®s 2) en cas de panne du serveur √† Singapour, le trafic est transf√©r√© vers le serveur en Chine et vice versa. </li></ol><br><p>  Dans la mesure du possible, Tinc tente d'√©tablir une connexion directe entre les deux n≈ìuds derri√®re NAT par poin√ßonnage. </p><br><h1 id="kratkaya-vvodnaya-v-konfigurirovanie-tinc">  Une br√®ve introduction √† la configuration tinc </h1><br><p>  Tinc se positionne comme un service facile √† configurer.  Cependant, quelque chose s'est mal pass√© - pour cr√©er un nouveau n≈ìud, il est minimalement n√©cessaire: </p><br><ul><li>  D√©crivez la configuration de l'h√¥te (type, nom) ( <code>tinc.conf</code> ); </li><li>  D√©crire le fichier de configuration (sous-r√©seaux desservis, adresses publiques) ( <code>hosts/</code> ); </li><li>  cr√©er une cl√©; </li><li>  cr√©er un script sp√©cifiant l'adresse du n≈ìud et les param√®tres associ√©s ( <code>tinc-up</code> ); </li><li>  il est conseill√© de cr√©er un script qui efface les param√®tres cr√©√©s apr√®s l'arr√™t ( <code>tinc-down</code> ). </li></ul><br><p>  De plus, lors de la connexion √† un r√©seau existant, vous devez obtenir les cl√©s d'h√¥te existantes et fournir les v√¥tres. </p><br><p>  C'est-√†-dire: pour le deuxi√®me n≈ìud </p><br><p><img src="https://habrastorage.org/webt/o7/nk/x8/o7nkx80o15rsuzphmncldc2ywek.png"></p><br><p>  Pour le troisi√®me </p><br><p><img src="https://habrastorage.org/webt/_p/ag/sf/_pagsfvg-lspeyvn-s0b2unhcha.png"></p><br><p>  Lorsque vous utilisez la synchronisation bidirectionnelle (par exemple, √† l' <code>unison</code> ), le nombre d'op√©rations suppl√©mentaires augmente √† N √©l√©ments, o√π N est le nombre de n≈ìuds publics. </p><br><blockquote>  Nous devons rendre hommage aux d√©veloppeurs de Tinc - pour l'inclusion dans le r√©seau, il suffit d'√©changer des cl√©s <br>  avec un seul des n≈ìuds (bootnode).  Apr√®s avoir d√©marr√© le service et se connecter au participant, tinc obtiendra la topologie <br>  r√©seau et pourra travailler avec tous les abonn√©s. <br><br>  <strong>Cependant</strong> , si l'h√¥te de d√©marrage est devenu indisponible et que tinc a red√©marr√©, il n'y a aucun moyen <br>  se connectera au r√©seau virtuel. </blockquote><p>  De plus, les √©normes possibilit√©s du tinc, ainsi que la documentation acad√©mique de celui-ci (bien d√©crit, mais peu d'exemples), fournissent un vaste champ d'erreurs. </p><br><h1 id="prichiny-sozdaniya-tinc-boot">  Raisons de cr√©er tinc-boot </h1><br><p>  Si nous g√©n√©ralisons les probl√®mes d√©crits ci-dessus et les formulons en t√¢ches, nous obtenons: </p><br><ol><li>  la capacit√© de cr√©er un nouveau site avec un effort minimal est n√©cessaire; <br><ul><li>  potentiellement, il faut permettre de donner au sp√©cialiste moyen (enikey) une petite ligne pour cr√©er un nouveau n≈ìud et se connecter au r√©seau; </li></ul></li><li>  il est n√©cessaire de fournir une distribution automatique des cl√©s entre tous les n≈ìuds actifs; </li><li>  il est n√©cessaire de pr√©voir une proc√©dure simplifi√©e d'√©change de cl√©s entre le bootnod et le nouveau client. </li></ol><br><blockquote>  bootnode - un n≈ìud avec une adresse publique (voir ci-dessus); </blockquote><p>  En raison des exigences de la revendication 2, on peut faire valoir qu'apr√®s l'√©change de cl√©s entre le n≈ìud de d√©marrage et le nouveau n≈ìud, et apr√®s <br>  en connectant le n≈ìud au r√©seau, la distribution de la nouvelle cl√© se fera automatiquement. </p><br><p>  Ce sont ces t√¢ches que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tinc-boot</a> effectue. </p><br><p>  <strong>tinc-boot</strong> est une application open source autonome, en dehors de <code>tinc</code> , qui fournit: </p><br><ul><li>  cr√©ation simple d'un nouveau n≈ìud; </li><li>  connexion automatique √† un r√©seau existant; </li><li>  d√©finir la majorit√© des param√®tres par d√©faut; </li><li>  distribution cl√© aux n≈ìuds de miel. </li></ul><br><h1 id="arhitektura">  L'architecture </h1><br><p>  Le fichier ex√©cutable <code>tinc-boot</code> compose de quatre composants: un serveur bootnode, un serveur de gestion de distribution de cl√©s et des commandes de gestion RPC pour celui-ci, ainsi qu'un module de g√©n√©ration de n≈ìuds. </p><br><h2 id="modul-generacii-uzla">  Module de g√©n√©ration de n≈ìuds </h2><br><p>  Le module de g√©n√©ration de n≈ìuds ( <code>tinc-boot gen</code> ) cr√©e tous les fichiers n√©cessaires au bon fonctionnement de tinc. </p><br><p>  Simplifi√©, son algorithme peut √™tre d√©crit comme suit: </p><br><ol><li>  D√©finissez le nom d'h√¥te, le r√©seau, les param√®tres IP, le port, le masque de sous-r√©seau, etc. </li><li>  Normalisez-les (tinc a une limite sur certaines valeurs) et cr√©ez celles qui manquent </li><li>  V√©rifier les param√®tres </li><li>  Si n√©cessaire, installez tinc-boot sur le syst√®me (d√©sactivable) </li><li>  Cr√©er des <code>subnet-down</code> <code>tinc-up</code> , <code>tinc-down</code> , <code>subnet-up</code> , <code>subnet-down</code> </li><li>  Cr√©er un <code>tinc.conf</code> configuration <code>tinc.conf</code> </li><li>  Cr√©er un <code>hosts/</code> </li><li>  Effectuer la g√©n√©ration de cl√©s </li><li>  Effectuer un √©change de cl√©s avec bootnode <br><ol><li>  Chiffrez et signez votre propre fichier h√¥te avec une cl√© publique, un vecteur d'initialisation al√©atoire (nom) et un nom d'h√¥te √† l'aide de xchacha20poly1305, o√π la cl√© de chiffrement est le r√©sultat de la fonction sha256 du jeton </li><li>  Envoyer des donn√©es via le protocole HTTP √† bootnode </li><li>  D√©chiffrez la r√©ponse re√ßue et l'en <code>X-Node</code> t√™te <code>X-Node</code> contenant le nom du n≈ìud de d√©marrage en utilisant le nom d'origine et le m√™me algorithme </li><li>  En cas de succ√®s, enregistrez la cl√© re√ßue dans les <code>hosts/</code> et ajoutez une entr√©e <code>ConnectTo</code> au fichier de configuration (c'est-√†-dire une recommandation o√π se connecter) </li><li>  Sinon, utilisez l'adresse suivante dans la liste du n≈ìud de d√©marrage et r√©p√©tez √† partir de l'√©tape 2 </li></ol></li><li>  Afficher des recommandations sur le d√©marrage d'un service </li></ol><br><blockquote>  La conversion via SHA-256 est utilis√©e uniquement pour normaliser la cl√© √† 32 octets </blockquote><p>  Pour le tout premier n≈ìud (c'est-√†-dire lorsqu'il n'y a rien √† sp√©cifier comme adresse de d√©marrage), l'√©tape 9 est ignor√©e.  Drapeau - <code>--standalone</code> . </p><br><p>  <strong>Exemple 1 - cr√©ation du premier site public</strong> </p><br><p>  L'adresse publique est <code>1.2.3.4</code> </p><br><p> <code>sudo tinc-boot gen --standalone -a 1.2.3.4</code> </p> <br><ul><li>  l'indicateur <code>-a</code> vous permet de sp√©cifier des adresses accessibles au public </li></ul><br><p>  <strong>Exemple 1 - Ajout d'un n≈ìud non public au r√©seau</strong> </p><br><p>  Le n≈ìud de d√©marrage sera tir√© de l'exemple ci-dessus.  L'h√¥te doit avoir un noeud de d√©marrage tinc-boot en cours d'ex√©cution (d√©crit plus loin). </p><br><p> <code>sudo tinc-boot gen --token "MY TOKEN" http://1.2.3.4:8655</code> </p> <br><ul><li>  l'indicateur <code>--token</code> d√©finit le jeton d'autorisation </li></ul><br><h2 id="modul-nachalnoy-zagruzki">  Module d'amor√ßage </h2><br><p>  Le <code>tinc-boot bootnode</code> d√©clenche un serveur HTTP avec une API pour l'√©change de cl√©s primaires avec de nouveaux clients. </p><br><p>  Par d√©faut, le port <code>8655</code> . </p><br><p>  Simplifi√©, l'algorithme peut √™tre d√©crit comme suit: </p><br><ol><li>  Accepter une demande d'un client </li><li>  D√©chiffrez et v√©rifiez la demande √† l'aide de xchacha20poly1305, √† l'aide du vecteur d'initialisation transmis lors de la demande, et o√π la cl√© de chiffrement est le r√©sultat de la fonction sha256 du jeton </li><li>  V√©rifier le nom </li><li>  Enregistrez le fichier s'il n'y a pas encore de fichier du m√™me nom </li><li>  Chiffrez et signez votre propre fichier h√¥te et votre nom en utilisant l'algorithme d√©crit ci-dessus </li><li>  Retour √† l'article 1 </li></ol><br><p>  Ensemble, le processus d'√©change de cl√© primaire est le suivant: </p><br><p><img src="https://habrastorage.org/webt/ui/_p/sq/ui_psqswkeazp6yjeggbekuz58m.png"></p><br><p>  <strong>Exemple 1 - d√©marrage du n≈ìud de t√©l√©chargement</strong> </p><br><p>  On suppose que l'initialisation initiale du n≈ìud a √©t√© effectu√©e ( <code>tinc-boot gen</code> ) </p><br><p> <code>tinc-boot bootnode --token "MY TOKEN"</code> </p> <br><ul><li>  l'indicateur <code>--token</code> d√©finit le jeton d'autorisation.  Il devrait en √™tre de m√™me pour les clients se connectant √† l'h√¥te. </li></ul><br><p>  <strong>Exemple 2 - d√©marrage du n≈ìud de t√©l√©chargement en tant que service</strong> </p><br><p> <code>tinc-boot bootnode --service --token "MY TOKEN"</code> </p> <br><ul><li>  l'indicateur <code>--service</code> de cr√©er un service systemd (par d√©faut, pour cet exemple <code>tinc-boot-dnet.service</code> ) </li><li>  l'indicateur <code>--token</code> d√©finit le jeton d'autorisation.  Il devrait en √™tre de m√™me pour les clients se connectant √† l'h√¥te. </li></ul><br><h2 id="modul-raspredeleniya-klyuchey">  Module de distribution de cl√©s </h2><br><p>  Le module de distribution de cl√©s ( <code>tinc-boot monitor</code> ) l√®ve un serveur HTTP avec une API pour √©changer des cl√©s avec d'autres n≈ìuds <strong>√† l'int√©rieur du VPN</strong> .  Il est fix√© √† l'adresse √©mise par le r√©seau (le port par d√©faut est <code>1655</code> , il n'y aura pas de conflits avec plusieurs r√©seaux, car chaque r√©seau a / doit avoir sa propre adresse). </p><br><p>  Le module d√©marre et fonctionne de mani√®re enti√®rement automatique: vous n'avez pas besoin de travailler avec lui en mode manuel. </p><br><p>  Ce module d√©marre automatiquement lorsque le r√©seau est <code>tinc-up</code> (dans le script <code>tinc-up</code> ) et s'arr√™te automatiquement lorsqu'il s'arr√™te (dans le script <code>tinc-down</code> ). </p><br><p>  Prise en charge des op√©rations: </p><br><ul><li>  <code>GET /</code> - donnez votre fichier de noeud </li><li>  <code>POST /rpc/watch?node=&lt;&gt;&amp;subnet=&lt;&gt;</code> - r√©cup√©rez un fichier √† partir d'un autre n≈ìud, en supposant qu'un service similaire est en cours d'ex√©cution dessus.  Par d√©faut, les tentatives sont expir√©es √† 10 secondes, toutes les 30 secondes jusqu'√† la r√©ussite ou l'annulation. </li><li>  <code>POST /rpc/forget?node=&lt;&gt;</code> - laissez les tentatives (le cas √©ch√©ant) de r√©cup√©rer le fichier √† partir d'un autre n≈ìud </li><li>  <code>POST /rpc/kill</code> - met fin au service </li></ul><br><p>  De plus, chaque minute (par d√©faut) et lorsqu'un nouveau fichier de configuration est re√ßu, l'indexation des n≈ìuds enregistr√©s est effectu√©e pour les nouveaux n≈ìuds publics.  Lorsque des n≈ìuds avec l'indicateur d' <code>Address</code> sont d√©tect√©s, une entr√©e est ajout√©e au fichier de configuration <code>tinc.conf</code> pour recommander la connexion lors du red√©marrage. </p><br><h2 id="modul-raspredeleniya-klyuchey-upravlenie">  Module de distribution de cl√©s (gestion) </h2><br><p>  Les commandes pour demander ( <code>tinc-boot watch</code> ) et annuler la demande ( <code>tinc-boot forget</code> ) du fichier de configuration √† partir d'autres n≈ìuds sont ex√©cut√©es automatiquement lorsqu'un nouveau n≈ìud est d√©tect√© (script de <code>subnet-up</code> ) et arr√™t√© (script de <code>subnet-down</code> ), respectivement. </p><br><p>  Lors de l'arr√™t du service, le script <code>tinc-down</code> est <code>tinc-down</code> dans lequel la commande <code>tinc-boot kill</code> arr√™te le module de distribution de cl√©s. </p><br><h1 id="vmesto-itogo">  Au lieu du total </h1><br><p>  Cet utilitaire a √©t√© cr√©√© sous l'influence de la dissonance cognitive entre le g√©nie des d√©veloppeurs Tinc et la complexit√© croissante de la mise en place de nouveaux n≈ìuds. </p><br><p>  Les principales id√©es du processus de d√©veloppement √©taient les suivantes: </p><br><ul><li>  si quelque chose peut √™tre automatis√©, il doit √™tre automatis√©; </li><li>  les valeurs par d√©faut devraient couvrir au moins 80% de l'utilisation (principe de Pareto); </li><li>  toute valeur peut √™tre red√©finie en utilisant √† la fois des indicateurs et des variables d'environnement; </li><li>  l'utilit√© devrait aider, et non pas provoquer le d√©sir d'appeler toute la punition du ciel sur le cr√©ateur; </li><li>  l'utilisation d'un jeton d'autorisation pour l'initialisation initiale est un risque √©vident, cependant, dans la mesure du possible, il a √©t√© minimis√© en raison de la cryptographie et de l'authentification totales (m√™me le nom de n≈ìud dans l'en-t√™te de r√©ponse ne peut pas √™tre remplac√©). </li></ul><br><p>  Un peu de chronologie: </p><br><ul><li>  La premi√®re fois que j'ai utilis√© du tinc il y a plus de 4 ans.  A √©tudi√© une quantit√© importante de mat√©riel.  Mettre en place un r√©seau id√©al (√† mon avis) </li><li>  Apr√®s six mois, le tinc a √©t√© remplac√© par le z√©rotier, comme un outil plus pratique / flexible </li><li>  Il y a 2 ans, j'ai fait un playbook ansible pour d√©ployer tinc </li><li>  Un mois plus tard, mon script est tomb√© en panne sur le d√©ploiement incr√©mentiel (c'est-√†-dire lorsqu'il est impossible d'acc√©der √† tous les n≈ìuds du r√©seau, ce qui signifie distribuer des cl√©s) </li><li>  Il y a deux semaines, j'ai √©crit un script bash-script qui √©tait le prototype de <code>tinc-boot</code> </li><li>  Il y a 3 jours apr√®s la deuxi√®me it√©ration, la premi√®re version (0.0.1 pour √™tre exacte) de l'utilitaire est n√©e </li><li>  Il y a 1 jour, j'ai r√©duit l'installation d'un nouveau n≈ìud √† une seule ligne: <code>curl -L https://github.com/reddec/tinc-boot/releases/latest/download/tinc-boot_linux_amd64.tar.gz | sudo tar -xz -C /usr/local/bin/ tinc-boot</code> <code>curl -L https://github.com/reddec/tinc-boot/releases/latest/download/tinc-boot_linux_amd64.tar.gz | sudo tar -xz -C /usr/local/bin/ tinc-boot</code> </li><li>  Bient√¥t, la possibilit√© d'une connexion encore plus simple au r√©seau sera ajout√©e (sans sacrifier la s√©curit√©) </li></ul><br><p>  Pendant le d√©veloppement, j'ai activement test√© sur de vrais serveurs et clients (l'image de la description de tinc ci-dessus est tir√©e de la vie r√©elle).  D√©sormais, le syst√®me fonctionne parfaitement et tous les services VPN tiers sont d√©sormais d√©sactiv√©s. </p><br><p>  Le code d'application est √©crit en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GO et est ouvert</a> sous la licence MPL 2.0.  Une licence (traduction gratuite) permet une utilisation commerciale (si quelqu'un en a soudainement besoin) sans ouvrir le produit source.  La seule exigence est que les modifications doivent √™tre transf√©r√©es au projet. </p><br><p>  Les demandes de piscine sont les bienvenues. </p><br><h1 id="poleznye-ssylki">  Liens utiles </h1><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">D√©p√¥t</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Documentation Tinc</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr468213/">https://habr.com/ru/post/fr468213/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr468197/index.html">Comment nous automatisons un grand r√©seau existant</a></li>
<li><a href="../fr468203/index.html">√ânigmes √† la recherche d'une chance parfaite</a></li>
<li><a href="../fr468205/index.html">GIT de l'int√©rieur: introduction (traduction)</a></li>
<li><a href="../fr468207/index.html">Comment nous avons mis √† jour Zabbix</a></li>
<li><a href="../fr468211/index.html">¬´Je voulais juste faire une blague, mais personne n'a compris¬ª ou comment ne pas m'enterrer lors de la pr√©sentation du projet</a></li>
<li><a href="../fr468217/index.html">Dr. Jekyll et M. Hyde Culture d'entreprise</a></li>
<li><a href="../fr468219/index.html">M√©canismes d'extensibilit√© extensible en JavaScript</a></li>
<li><a href="../fr468223/index.html">Habr Weekly # 19 / BT-porte pour le chat, pourquoi l'IA triche, que demander au futur employeur, une journ√©e avec iPhone 11 Pro</a></li>
<li><a href="../fr468225/index.html">R√©duction des tailles de bundle avec Webpack Analyzer et React Lazy / Suspense</a></li>
<li><a href="../fr468227/index.html">Acc√©l√©ration instagram.com. partie 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>