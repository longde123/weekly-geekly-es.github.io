<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§≥üèø üßùüèΩ ü§∞üèº Tri "topologique" d'un graphe avec cycles üÜô üë≤üèª ‚úåüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le titre complet de l'article aurait d√ª √™tre ¬´Tri¬´ topologique ¬ªdurable d'un graphique avec des cycles en O(|V| + |e| log |e|) dans le temps et O(|V|)...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Tri "topologique" d'un graphe avec cycles</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/451208/"> Le titre complet de l'article aurait d√ª √™tre ¬´Tri¬´ topologique ¬ªdurable d'un graphique avec des cycles en <code>O(|V| + |e| log |e|)</code> dans le temps et <code>O(|V|)</code> en m√©moire sans r√©cursivit√©¬ª, mais on m'a dit qu'est-ce que c'est exag√©r√©. <br><a name="habracut"></a><br>  Avertissement: je suis un programmeur, pas un math√©maticien, donc un langage inexact est possible dans des endroits pour lesquels vous pouvez et devez donner un coup de pied. <br><br><h3>  Essence de la t√¢che </h3><br>  J'analyserai le libell√© du probl√®me, dont je veux partager la solution en partie. <br><br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le tri topologique</a></b> est l'ordre des sommets d'un graphe acyclique dirig√© dans lequel chacun des sommets d'o√π sort l'ar√™te vient plus t√¥t que le sommet dans lequel cette ar√™te entre.  Il y a deux nuances importantes ici: un graphique peut avoir <em>plusieurs</em> ordonnances de ce type et il ne s'applique qu'aux graphiques <em>acycliques</em> .  Les math√©maticiens s'en moquent, mais les programmeurs veulent parfois du d√©terminisme et un peu plus que "Je suis d√©sol√©, vous avez un cycle ici, vous n'aurez pas de tri". <br><br>  Par cons√©quent, nous ajoutons l'exigence de <b>stabilit√©</b> : une paire de sommets, dont l'ordre n'est pas sp√©cifi√© par les bords du graphique, doit √™tre d√©termin√©e par l'ordre dans lequel ces sommets sont arriv√©s √† l'entr√©e de l'algorithme.  Par cons√©quent, les tris r√©p√©t√©s ne changeront pas l'ordre des sommets. <br><br>  Avec l'absence de <b>r√©cursivit√©,</b> tout est simple, l'ordinateur est nettement plus faible que la machine de Turing et la m√©moire (et surtout la pile) a limit√©.  Par cons√©quent, en programmation appliqu√©e, les algorithmes it√©ratifs sont g√©n√©ralement pr√©f√©rables aux algorithmes r√©cursifs. <br><br>  Et enfin, je d√©finirai ce que j'appelle le tri ¬´topologique¬ª s'il y a des <b>cycles</b> dans le graphique.  Il s'agit de l'ordre des sommets, qui co√Øncide avec le v√©ritable tri topologique, si chacun des cycles est remplac√© par un sommet, et les sommets du cycle lui-m√™me, conform√©ment √† l'exigence de stabilit√©, sont situ√©s les uns par rapport aux autres dans l'ordre d'origine. <br><br>  Et maintenant, <s>avec toutes ces ordures, nous allons essayer de d√©coller.</s> Je vais tout faire dans le cadre des restrictions de temps et de m√©moire indiqu√©es au d√©but de l'article. <br><br><h3>  Rechercher une solution </h3><br>  Si vous regardez les algorithmes existants pour le tri topologique ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">algorithme de Kahn</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">recherche approfondie</a> ), il s'av√®re que tous, s'il y a un cycle, dites "je ne peux pas" et arr√™te de fonctionner. <br><br>  Par cons√©quent, allons-y d'un autre c√¥t√©, avec des algorithmes qui peuvent faire quelque chose d'intelligible avec des cycles.  Par exemple, <em>trouvez-</em> les.  Parmi les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">algorithmes</a> r√©pertori√©s dans Wikipedia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pour trouver des cycles dans les graphiques</a> , l'attention a √©t√© attir√©e sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">l'algorithme Taryan</a> .  Il contient une remarque int√©ressante selon laquelle, en tant que sous-produit, l'algorithme produit le tri topologique <em>inverse</em> du graphique: <br><blockquote>  Bien qu'il n'y ait rien de sp√©cial √† propos de l'ordre des n≈ìuds dans chaque composant fortement connect√©, une propri√©t√© utile de l'algorithme est qu'aucun composant fortement connect√© ne sera identifi√© avant aucun de ses successeurs.  Par cons√©quent, <em>l'ordre dans lequel les composants fortement connect√©s sont identifi√©s constitue une sorte topologique inverse du DAG form√© par les composants fortement connect√©s</em> . </blockquote>  Certes, l'algorithme est r√©cursif et il n'est pas clair ce qu'il a avec la stabilit√©, mais c'est clairement un mouvement dans la bonne direction.  Une lecture plus approfondie de Wikip√©dia r√©v√®le une r√©f√©rence √† l'article <a href="">Un algorithme √©conome en espace pour trouver des composants fortement connect√©s</a> , √©crit par le camarade David Pierce, dans lequel non seulement il existe un algorithme imp√©ratif, mais il a √©galement r√©duit les besoins en m√©moire par rapport au classique Algorithme de Tarjan.  Le bonus est la <a href="">mise en ≈ìuvre de l'algorithme en Java</a> .  Doit prendre! <br><br><div class="spoiler">  <b class="spoiler_title">Algorithme PEA_FIND_SCC3 (V, E) de l'article de Pierce</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/wq/44/il/wq44iloqbs-c5f4qxqabj710a2c.png"><br></div></div><br>  Nous avons donc une liste de sommets en entr√©e et (gr√¢ce √† Pierce) un certain indice de la composante de forte connectivit√© √† laquelle appartient ce sommet en sortie.  L'√©tape suivante consiste √† trier de mani√®re stable les sommets en fonction du num√©ro de s√©rie de leur composant.  Il existe un algorithme pour une telle t√¢che, il est appel√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">comptage tri</a> , qui effectue cela en temps <code>O(n)</code> . <br><br>  Dans le processus de regroupement de l'algorithme en tas, il s'est av√©r√© que le fait qu'il soit naturel de lui donner le tri topologique <em>inverse</em> est en fait tr√®s ext√©rieur √† Taryan - puis les branches voisines du graphique (n'ayant pas de relation d'ordre entre elles) seront num√©rot√©es √† l'envers, puis les morceaux du graphique ne seront pas ayant des connexions entre eux, se r√©v√®lent √™tre dans l'ordre inverse ... <br><br><h3>  La r√©ponse </h3><br>  Donc, la solution finale: <br><br><ol><li>  Nous num√©rotons les sommets de la liste d'origine. <code>O(|V|)</code> </li><li>  Nous trions les bords de chaque sommet en fonction du num√©ro du sommet auquel va le bord. <code>O(|e| log |e|)</code> </li><li>  En utilisant l'algorithme Pierce, nous trouvons et num√©rotons les composants d'une connexion forte. <code>O(|V|)</code> </li><li>  En utilisant le tri par comptage, nous trions les sommets en fonction du nombre de composants fortement connect√©s qu'ils ont re√ßus. <code>O(|V|)</code> </li></ol><br>  <a href="">Code GitHub, Java, domaine public</a> .  On peut noter que pour assurer la stabilit√© du tri, l'algorithme de Pierce est l√©g√®rement modifi√© et contourne les sommets dans l'ordre inverse. <br><br><h3>  Mais pourquoi ??? </h3><br>  Et maintenant le contexte, pourquoi tout cela √©tait n√©cessaire.  Lors du chargement / d√©chargement de biblioth√®ques dynamiques (.so), la glibc doit d√©cider dans quel ordre initialiser les variables statiques.  Les variables d√©pendent les unes des autres, d√©pendent de diff√©rentes fonctions, etc.  En g√©n√©ral, tout cela forme le graphe m√™me dans lequel il y a des cycles et qui doit √™tre tri√©. <br><br>  Il √©tait une fois, un code plut√¥t sous-optimal qui effectuait la t√¢che pour <code>O(n^2)</code> √©tait engag√© dans cette t√¢che.  Et en g√©n√©ral, cela ne d√©rangeait personne, jusqu'√† ce qu'en 2012, on <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d√©couvre</a> que le code ne fonctionnait pas correctement et, dans certains cas, qu'il se trompait. <br><br>  Les hommes durs de RedHat ont pens√©, pens√© et foir√© quelques cycles de plus d'en haut.  Les cas probl√©matiques ont √©t√© r√©par√©s, mais l'algorithme a commenc√© √† fonctionner pour <code>O(n^3)</code> , et cela est d√©j√† devenu visible et sur certaines applications, cela a commenc√© √† prendre plusieurs dizaines de secondes, ce qui √©tait un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">bug</a> en 2013.  De plus, l'auteur du bogue a d√©couvert des cas dans lesquels l'algorithme avec <code>O(n^3)</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√©galement tromp√©</a> .  Il a sugg√©r√© d'utiliser l'algorithme Taryan, bien que le patch avec corrections n'ait jamais √©t√© con√ßu. <br><br>  Et le temps a pass√©, la glibc a impitoyablement ralenti et en 2015, il y a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">eu une autre tentative pour r√©parer l'algorithme</a> .  Malheureusement, sans succ√®s, l'algorithme a √©t√© choisi <code>O(n^2)</code> , en plus de confondre les branches du graphe, entre lesquelles l'ordre n'est pas d√©fini. <br><br>  Aujourd'hui est l'ann√©e 2019, la glibc continue de ralentir.  √Ä en juger par le temps qu'il m'a fallu pour r√©soudre le probl√®me, les chances que je le r√©sorbe sont nettement inf√©rieures √† 100%.  Ceci est encore aggrav√© par le fait que les choses se passent en C, sans support IDE, dans le code de style de codage GNU, fou test runner ("si vous voulez relancer le test, supprimez simplement le fichier .out correspondant").  Et pour que la glibc puisse jeter un ≈ìil √† votre patch, vous devez suivre la proc√©dure d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">attribution des droits d'auteur</a> , √©mettre correctement le patch et le diable sait quoi d'autre.  Par cons√©quent, afin d'√©liminer au moins le probl√®me de l'invention d'un algorithme qui r√©sout le probl√®me, ce message a √©t√© √©crit. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr451208/">https://habr.com/ru/post/fr451208/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr451196/index.html">S√©paration des profils client et freelance</a></li>
<li><a href="../fr451198/index.html">Le r√¥le de la r√©alit√© augment√©e et de la r√©alit√© virtuelle dans la NBA</a></li>
<li><a href="../fr451200/index.html">Obtention automatique de certificats SSL par Let's Encrypt en utilisant le d√©fi DNS-01 et AWS</a></li>
<li><a href="../fr451204/index.html">√âditeurs de texte gratuits pour la collaboration</a></li>
<li><a href="../fr451206/index.html">Que se passe-t-il actuellement avec les r√©f√©rentiels RDF?</a></li>
<li><a href="../fr451210/index.html">Int√©gration de Jira avec GitLab</a></li>
<li><a href="../fr451212/index.html">Syst√®me de protection contre les arcs avec la possibilit√© de fonctionner sur un signal de courant</a></li>
<li><a href="../fr451214/index.html">Fondements de l'intelligence artificielle moderne: comment √ßa marche et va-t-il d√©truire notre soci√©t√© cette ann√©e?</a></li>
<li><a href="../fr451216/index.html">Comment d√©sactiver compl√®tement Windows Defender sur Windows 10</a></li>
<li><a href="../fr451218/index.html">Business Intelligence en russe - Quintettes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>