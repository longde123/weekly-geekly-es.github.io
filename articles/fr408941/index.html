<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí† üßëüèæ üõí Connecteur de diagnostic OBD-II comme interface pour l'IoT üõãÔ∏è üßñüèΩ ü¶Ç</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il √©tait une fois, vers le milieu des ann√©es 90, lors de l'av√®nement du processeur Pentium Pro, l'un des fondateurs d'Intel Gordon Moore a not√© que: ¬´...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Connecteur de diagnostic OBD-II comme interface pour l'IoT</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/unet/blog/408941/">  Il √©tait une fois, vers le milieu des ann√©es 90, lors de l'av√®nement du processeur Pentium Pro, l'un des fondateurs d'Intel Gordon Moore a not√© que: ¬´Si l'industrie automobile s'est d√©velopp√©e au rythme de l'√©volution de l'industrie des semi-conducteurs, Rolls-Royce pourrait aujourd'hui conduire un demi-million miles par gallon d'essence, et il serait moins cher de le jeter que de payer le stationnement. "  Mais, peut-√™tre, d√©j√† aujourd'hui, l'industrie automobile fait un pas de g√©ant dans le sens d'un changement fondamental dans le type de carburant et la technologie pour conduire une voiture.  Presque r√©cemment, des voitures √©lectriques commerciales et des voitures √† hydrog√®ne sont pr√©sent√©es, et le pilote automatique devient le composant souhait√© du ¬´remplissage¬ª √©lectronique du v√©hicule.  Pour l'essentiel, une perc√©e rapide dans l'industrie automobile est due √† l'√©mergence de solutions fiables et s√ªres bas√©es sur une √©lectronique intelligente pour les syst√®mes de contr√¥le embarqu√©s automobiles.  Mais o√π est Internet dans la voiture au quotidien, o√π est la technologie de l'Internet des objets (IoT), ainsi que le concept bien connu d'une voiture connect√©e au r√©seau (voiture connect√©e)? <br><br><img src="https://habrastorage.org/webt/wx/d9/lt/wxd9lt00v41ta-q6gyxxgtmssx0.jpeg"><br>  <font color="gray"><i>La Rolls-Royce 103EX.</i></font>  <font color="gray"><i>Rolls-Royce d√©voile un concept-car √©lectrique sans conducteur, complet avec une causeuse en soie - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">The Telegraph</a> .</i></font> <br><a name="habracut"></a><br>  En fait, toutes les technologies ci-dessus existent d√©j√† et ne sont cependant utilis√©es que dans des solutions suffisamment s√©par√©es.  La raison en est les exigences de s√©curit√© strictes qui doivent certainement √™tre mises en ≈ìuvre lors du lancement de toute nouvelle technologie ou solution dans le transport.  Par cons√©quent, on ne peut pas dire que lorsque vous montez dans une voiture avec un smartphone, vous pouvez automatiquement obtenir une solution IoT ou voiture connect√©e.  Dans la plupart des pays, et cela est tr√®s logique, il est interdit d'utiliser un smartphone ou d'autres gadgets pendant la conduite, et si nous parlons des assistants vocaux, dans la plupart des cas, ils sont maintenant ennuyeux et distrayants, √† la fois pour le conducteur et les passagers.  √Ä son tour, le centre multim√©dia, des √©crans vid√©o suppl√©mentaires et une excellente acoustique, bien s√ªr, sont des composants tr√®s attrayants d'une voiture moderne.  Mais je veux m'attraper sur le mot et noter qu'il est bon d'√©touffer la musique et de regarder par la fen√™tre les rues ou la nature qui passe.  Bien s√ªr, il y a des embouteillages, mais dans cette publication, le but est de noter non pas quelques composants √©thiques ou de consid√©rer les probl√®mes de surabondance d'informations des usagers de la route, mais de consid√©rer ces composants "invisibles" des technologies IoT qui sont d√©j√† utilis√©s dans les v√©hicules et sont disponibles pour une utilisation g√©n√©ralis√©e. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/gXpDx22dSiU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  Aujourd'hui, une solution int√©ressante et tr√®s prometteuse pour l'IoT automobile est la plate-forme Open Connected Car de Mojio.  Cette plateforme avec une interface ouverte (API) fournit un service cloud pour les voitures "connect√©es" et des offres commerciales sont d√©j√† disponibles.  Par exemple, le g√©ant des t√©l√©communications T-Mobile, bas√© sur cette plateforme, fournit le service SyncUP DRIVE.  Il s'agit d'une solution mat√©rielle-logicielle bas√©e sur un appareil portable connect√© √† la voiture via le connecteur de diagnostic <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">OBD-II</a> et l'application mobile correspondante.  Gr√¢ce √† cette approche, il est possible d'effectuer efficacement une surveillance continue des param√®tres de fonctionnement de votre voiture et √† tout moment d'obtenir sa position actuelle.  L'application peut parler des styles de conduite, avertir de l'entretien pr√©ventif et √©galement informer le propri√©taire des probl√®mes avec le v√©hicule.  De plus, SyncUP DRIVE d√©ploie un point d'acc√®s Wi-Fi dans la voiture en utilisant l'acc√®s via le protocole haut d√©bit de la norme LTE mobile. <br><br><img src="https://habrastorage.org/webt/em/tc/ps/emtcpswczvhsacuttewampbi6dk.png"><br>  <font color="gray"><i>La plate-forme de voiture connect√©e ouverte - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Mojio</a></i></font> <br><br>  Un connecteur de diagnostic OBD-II standard est utilis√© pour se connecter au v√©hicule.  La plupart des voitures de production produites apr√®s 1996 ont d√©j√† ce connecteur.  Bien qu'un tel connecteur de diagnostic soit normalis√©, il prend en charge plusieurs protocoles de diff√©rents syst√®mes de contr√¥le moteur (diff√©rents contacts sur le connecteur sont physiquement utilis√©s) que le module de communication IoT doit conna√Ætre.  En cons√©quence, dans diff√©rentes marques de voitures, il peut y avoir diff√©rents bus internes pour obtenir des donn√©es de diagnostic √† partir de l'unit√© de commande du moteur (ECU - Unit√© de commande √©lectronique).  Pour fonctionner avec le service SyncUP DRIVE, une solution bas√©e sur le module ZTEWelink VM6200S est propos√©e. <br><br>  Le module VM6200S prend en charge la connexion via le protocole mobile LTE, contient un capteur d'acc√©l√©ration 3 axes int√©gr√© et un gyroscope 3 axes, un r√©cepteur de signal GPS, une puce OBD-II, avec prise en charge des protocoles ISO 15765-4 (CAN), ISO 14230-4 KWP (Keyword Protocol 2000), ISO 9141-2 (Chrysler, Euro et automobiles asiatiques), SAE J1850 PWM (v√©hicules Ford), SAE J1850 VPW (v√©hicules GM).  Ainsi, le module vous permet de d√©ployer un point d'acc√®s Wi-Fi 802.11 b / g / n /, d'enregistrer des √©v√©nements pendant la conduite, d'effectuer des diagnostics moteur, d'√©valuer l'√©conomie de carburant, etc.  Et comme les partenaires de Mojio sont les projets Amazon Alexa, le service IFTTT et autres, toutes les perspectives s'ouvrent pour les d√©veloppeurs et int√©grateurs de solutions jusqu'√† la cr√©ation d'un IoT social bas√© sur une voiture ¬´connect√©e¬ª, dans le cadre d'une telle infrastructure. <br><br><img src="https://habrastorage.org/webt/yk/ay/bd/ykaybdys59rvcgp4_fktlbr3w1q.jpeg"><br>  <font color="gray"><i>Dispositif OBD VM6200S4G - ZTEWelink Corporation</i></font> <br><br>  Mais non seulement SyncUP DRIVE est maintenant sur le march√©, par exemple, de nombreuses entreprises proposent quelque chose de similaire.  Bien s√ªr, le dispositif automatique Samsung Connect r√©cemment introduit est l'une de ces propositions int√©ressantes qui transforment la voiture en un appareil connect√©.  La solution de Samsung utilise le r√©seau mobile 4G LTE de la m√™me mani√®re et d√©ploie un point d'acc√®s Wi-Fi √† l'int√©rieur de la voiture: 802.11 a / b / g / n.  Connect auto device prend en charge Bluetooth v4.1, contient un r√©cepteur GPS, un capteur d'acc√©l√©ration, un gyroscope et est bas√© sur un processeur √† 4 c≈ìurs avec une fr√©quence de 1,2 GHz et le syst√®me d'exploitation Tizen.  Il convient de noter que le g√©ant √©lectronique cor√©en Samsung parle de la s√©curit√© du syst√®me gr√¢ce √† l'utilisation de Samsung Knox - une solution mobile avec une protection au niveau de l'entreprise.  En fait, Samsung Knox est une solution logicielle et mat√©rielle pour am√©liorer la protection du syst√®me d'exploitation Android. <br><br><img src="https://habrastorage.org/webt/b1/lg/t3/b1lgt3mnkkvh8jouptfu2w8b2gc.jpeg"><br>  <font color="gray"><i>Samsung Connect auto</i></font> <br><br>  Ainsi, les informations obtenues par la lecture des donn√©es de l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">OBD-II</a> , les coordonn√©es actuelles de la position du r√©cepteur GPS et les param√®tres de la dynamique du v√©hicule, obtenus √† partir des capteurs gyroscopiques, √† l'heure actuelle et de facto, sont devenus la base pour transformer tout v√©hicule en Appareil IoT.  De plus, vous pouvez envisager des sc√©narios d'utilisation des informations agr√©g√©es re√ßues des voitures, appliquer diverses techniques de traitement du Big Data, et vous ne devez pas oublier les perspectives de combiner ces donn√©es avec des informations provenant de l'infrastructure des routes intelligentes.  Mais avant de commencer √† traiter les donn√©es, vous devez d'abord les obtenir, donc dans cette publication, nous nous concentrerons sur le composant mat√©riel de la mise en ≈ìuvre des sc√©narios de travail au niveau du connecteur de diagnostic OBD-II. <br><br>  D'une mani√®re ou d'une autre, mais toutes les solutions discut√©es pr√©c√©demment sont des produits industriels plus avanc√©s, par rapport √† un lecteur de code de diagnostic conventionnel bas√© sur la puce <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ELM327</a> de la soci√©t√© canadienne Elm Electronics.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ELM327</a> est un convertisseur universel de protocoles utilis√©s dans les bus de diagnostic automobile en un protocole s√©rie comme RS-232. <br><br><img src="https://habrastorage.org/webt/bd/fl/ti/bdfltiij2wefjc2hs9iegcrg67c.png"><br>  <font color="gray"><i>Sch√©ma fonctionnel d'une puce ELM327 v2.2 - Elm Electronics</i></font> <br><br>  L'interaction avec ELM327 est effectu√©e par des commandes AT standard prises en charge par la puce.  Il vous suffit d'organiser l'√©change de SMS en utilisant le protocole <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RS-232</a> , qui est d√©j√† devenu un classique (ou plut√¥t <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">UART</a> , car nous ne parlons que de flux de donn√©es, pas de niveaux de signal).  Et la connexion physique de bas niveau elle-m√™me via USB, Bluetooth ou Wi-Fi est simplement impl√©ment√©e √† l'aide de puces UART de protocole de conversion s√©rie.  Il s'av√®re que pour transformer la voiture en un appareil IoT, il suffit, sans oublier de coordonner les niveaux de tension, de connecter la puce ELM327 au connecteur de diagnostic OBD-II et, par exemple, de mettre le convertisseur d'interface s√©rie en Bluetooth ou Wi-Fi √† la sortie de cette puce.  Ensuite, vous pouvez ¬´lire¬ª les diagnostics du v√©hicule depuis votre smartphone.  Cependant, il existe de nombreux modules ou blocs pr√™ts √† l'emploi sur le march√©.  Et leur prix sur AliExpress varie de 2,50 $ US √† 10 $ US.  Bien que le module ne doive pas consommer beaucoup d'√©nergie, il sera tr√®s pratique si le bouton de mise hors tension est d√©j√† pr√©sent dessus.  Soit dit en passant, du point de vue de la s√©curit√© - ce n'est pas mal non plus. <br><br><img src="https://habrastorage.org/webt/2-/yq/4k/2-yq4kpvpmmay4csvmstieigi_c.jpeg"><br>  <font color="gray"><i>Mini ELM327 Bluetooth OBD-II adaptateur de diagnostic de voiture V1.5</i></font> <br><br>  Vous pouvez maintenant connecter le module Bluetooth OBD-II V1.5 Mini ELM327 standard (il est int√©ressant de noter que dans de nombreuses sources, il est conseill√© d'utiliser des modules avec l'ancienne version 1.5 du firmware, et non des nouveaux avec la version 2.2, c'est-√†-dire comme argument un fonctionnement plus stable du module sur l'ancien). firmware et support pour plus de voitures, mais cela est tr√®s subjectif) et exp√©rimentez la connexion du smartphone au module s√©lectionn√©, par exemple, pour la plate-forme Android, vous pouvez utiliser l'un des programmes de diagnostic les plus populaires Torque Lite (OBD2 &amp; Car) ou Torque Pro (OBD 2 &amp; Car) ainsi que quoi que ce soit n  plus facile √† utiliser, ou leurs r√©alisations. <br><br><img src="https://habrastorage.org/webt/nv/ff/qe/nvffqeyv0gpaxedvswhtk6a30e4.jpeg"><br>  <font color="gray"><i>L'application Torque Pro fonctionne sur Android.</i></font> <br><br>  Soit dit en passant, je tiens √† noter un service <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MockUPhone</a> tr√®s pratique avec une maquette gratuite de gadgets modernes, qui a √©t√© tr√®s utile pour pr√©parer une capture d'√©cran du programme Torque.  Mais cela s'√©carte l√©g√®rement du sujet de la publication.  Il convient de noter que dans la plupart des cas, le connecteur OBD-II, auquel le module de diagnostic est connect√©, est situ√© sous la colonne de direction de la voiture. <br><br><img src="https://habrastorage.org/webt/gv/gy/fv/gvgyfvzqitu32obmtknn7cnu5da.jpeg"><br>  <font color="gray"><i>Premiers pas avec OBD-II - SparkFun Electronics</i></font> <br><br>  Il est clair qu'il existe de nombreuses solutions toutes faites.  Mais si nous parlons de d√©velopper un service bas√© sur l'IoT ou plus sp√©cifiquement - le concept de voiture connect√©e est en cours de mise en ≈ìuvre, il est tr√®s pratique d'utiliser l'√©mulateur de r√©seau d'information embarqu√© de la voiture afin de ne pas courir √† la voiture √† chaque fois.  Par exemple, Mojio propose un simulateur de voiture en ligne pour travailler avec son API, et en utilisant le service cloud IBM Watson IoT Platform comme exemple, dans l'article: ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Envoi de donn√©es de v√©hicule √† la plateforme IBM Watson IoT - IBM developerWorks Recipes</a> ¬ª est propos√© pour l'envoi vers le cloud de donn√©es √† partir d'un transport signifie utiliser une application mobile, par exemple, ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">IBM IoT for Automotive - OBDII Fleet Management App for Android</a> ¬ª, qui interagit avec le service cloud d√©ploy√© ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">IBM IoT for Automotive (Bluemix) - Fleet Management Starter Application</a> ¬ª, mais si vous n'√™tes pas distrait par ces projets, vous pouvez utilisez simplement un √©mulateur de donn√©es: " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Car Simulator</a> ".  Certes, toutes ces solutions, essentiellement, √©mulent des donn√©es d√©j√† re√ßues, et nous nous int√©ressons √† l'√©mulateur du r√©seau d'information embarqu√©.  La solution la plus connue est ECUsim 2000, dont le co√ªt commence √† 200 $ US et d√©pend du nombre de protocoles √©mul√©s pris en charge. <br><br><img src="https://habrastorage.org/webt/p6/f2/hz/p6f2hzxzn86wrgci0es-j_r0dgk.jpeg"><br>  <font color="gray"><i>ECUsim 2000 OBD Simulator - ScanTool</i></font> <br><br>  Bien s√ªr, un √©mulateur professionnel ne peut pas √™tre remplac√©, mais les amateurs et les geeks pourraient bien √™tre int√©ress√©s par la mise en ≈ìuvre ind√©pendante d'un projet moins complexe sur un Arduino ou un Raspberry Pi.  Par exemple, vous pouvez vous limiter √† l'interface CAN (Controller Area Network) la plus courante.  √Ä un moment donn√©, la norme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CAN</a> propos√©e par Bosch a fait des progr√®s significatifs dans le d√©veloppement de syst√®mes pour l'√©lectronique automobile.  Si une voiture sur Internet n'est apparue que r√©cemment, le concept de r√©seau √† l'int√©rieur d'une voiture existe depuis le milieu des ann√©es 80.  L'id√©e est tr√®s simple, et comme Ethernet a fait une perc√©e dans les r√©seaux informatiques, CAN est devenu la base de communications fiables √† l'int√©rieur de la voiture. <br><br><img src="https://habrastorage.org/webt/1-/rr/8e/1-rr8er1qx_evsnys-2hc6ndzcw.png"><br>  <font color="gray"><i>Un r√©seau de bus CAN bas√© sur Arduino - Henry's Bench</i></font> <br><br>  Auparavant, dans une voiture, en r√®gle g√©n√©rale, les bus et les fils de divers modules et appareils connect√©s ¬´coulaient¬ª vers l'unit√© centrale de commande du moteur.  Le bus CAN s√©rie √† deux fils a permis de mettre en ≈ìuvre des modules intelligents d√©j√† ind√©pendants, par exemple, la centrale de commande n'est devenue qu'un de ces modules qui ¬´communiquent¬ª entre eux via le protocole r√©seau.  Cela r√©duit consid√©rablement la quantit√© de c√¢blage √† l'int√©rieur de la voiture. <br><br>  Contrairement √† Ethernet, le r√©seau CAN est beaucoup plus fiable, ce qui a conduit √† son utilisation non seulement dans l'industrie automobile, mais aussi dans les syst√®mes d'automatisation industrielle, les solutions de maison intelligente, etc.  Au niveau physique, CAN utilise une ligne √† deux fils, CAN Lo et CAN Hi, qui transmettent bit √† bit les donn√©es emball√©es dans un paquet.  Aux extr√©mit√©s du bus, il existe des r√©sistances correspondantes de 120 ohms, et un faisceau de c√¢bles doit √©galement √™tre utilis√© pour supprimer les interf√©rences.  Le taux de transfert de donn√©es peut atteindre 1 Mbps. <br><br><img src="https://habrastorage.org/webt/if/rh/lo/ifrhlo06vmiuaf7ipkjhngrovb4.png"><br>  <font color="gray"><i>Un r√©seau de zone de contr√¥leur (bus CAN)</i></font> <br><br>  Le transfert de donn√©es vers le bus CAN rappelle quelque peu le mod√®le √©diteur-abonn√©, o√π chaque appareil sur le bus a un identifiant unique et lorsqu'un appareil transmet des donn√©es, tout le monde √©coute et prend une d√©cision en fonction de cet identifiant - ont-ils sp√©cifiquement besoin de ces donn√©es √† recevoir et √† traiter ou non.  En g√©n√©ral, le protocole est assez compliqu√©, mais pour un microcontr√¥leur ou un microprocesseur, il est peu probable qu'il doive √©crire une impl√©mentation CAN, ainsi que r√©fl√©chir aux caract√©ristiques du support de transfert de donn√©es physiques.  Pour r√©soudre ces probl√®mes, il existe d√©j√† des contr√¥leurs de bus mat√©riels pr√™ts √† l'emploi et pour l'adaptation de niveau, des convertisseurs int√©gr√©s sont souvent utilis√©s.  Par exemple, le contr√¥leur MCP2515 avec SPI et l'√©metteur-r√©cepteur (puce de niveau correspondant) MCP2551.  C'est sur la base de ces microcircuits que le projet Arduino OBD2 Simulator, publi√© sur la plateforme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Instructable</a> , a √©t√© propos√©.  Pour l'impl√©menter, vous n'avez besoin que de la carte Arduino UNO et du blindage CAN-BUS, par exemple, Seeed Technology. <br><br><img src="https://habrastorage.org/webt/kg/av/py/kgavpyoaa2n_x3lwvojs8zljiti.jpeg"><br>  <font color="gray"><i>Exp√©riences utilisant Arduino OBD2 Simulator</i></font> <br><br>  En principe, pour le d√©veloppement d'un √©mulateur de donn√©es OBD-II, une alimentation DC 12V pour le module ELM327, ainsi qu'un connecteur OBD-II, ne feront pas de mal.  Cependant, le convertisseur sans nom DC-DC-USB-TO-12V peut bien r√©soudre le probl√®me, car  plusieurs alimentations pour 5V, peut-√™tre, seront √† la port√©e de tout d√©veloppeur pour l'Internet des objets et pas seulement.  Pour se connecter √† OBD-II, deux fils d'information CAN_H et CAN_L seront n√©cessaires, ainsi que la pr√©sence d'une alimentation 12 V, mais comme indiqu√© pr√©c√©demment, le 12 V n'est n√©cessaire que pour garantir le fonctionnement du module ELM327. <br><br><img src="https://habrastorage.org/webt/kz/mw/-c/kzmw-crivoyb07chmevezznxyvy.png"><br>  <font color="gray"><i>Bouclier CAN-BUS V1.2 - Seeed Development Limited Wiki</i></font> <br><br>  Sur la carte d'extension CAN-BUS Shield, il est tr√®s pratique d'utiliser non pas le connecteur D-SUB, mais simplement un bornier pour deux contacts (CAN_H, CAN_L).  Du point de vue du d√©veloppement de code logiciel, il convient de noter que les passionn√©s de prototypes ont post√© sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GitHub</a> .  Maintenant, les cartes Seeed ont chang√©, et dans tous les cas, pour le contr√¥leur MCP2515, il est pr√©f√©rable d'utiliser de nouveaux pilotes du m√™me <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Seeed-Studio</a> .  Bien s√ªr, le programme d'origine devra √™tre l√©g√®rement modifi√© pour les nouveaux pilotes, mais cela prend quelques minutes. <br><br><img src="https://habrastorage.org/webt/yq/me/li/yqmelislz2chb8q02rgk3cgmwq4.png"><br>  <font color="gray"><i>Travailler avec CAN-BUS dans un IDE Arduino bas√© sur un simulateur ECU OBD2 √† faible co√ªt</i></font> <br><br>  Cependant, l'exemple consid√©r√© est tr√®s primitif, car tous les param√®tres envoy√©s via le protocole OBD-II sont simplement g√©n√©r√©s de mani√®re al√©atoire, il n'y a pas de connexion entre les param√®tres de fonctionnement du moteur, etc.  Dans la continuit√© du projet, le d√©veloppement d'une application similaire √† l'interface graphique de l'√©mulateur Freematics OBD-II est √©vident.  Il s'agit d'un shell graphique open source utilis√© dans la solution mat√©rielle de l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√©mulateur Freematics OBD-II</a> . <br><br><img src="https://habrastorage.org/webt/8d/vp/wu/8dvpwumfchp8cs30kwhiwdj5boa.png"><br>  <font color="gray"><i>Interface graphique de l'√©mulateur Freematics OBD-II - Freematics</i></font> <br><br>  Ainsi, apr√®s avoir assembl√© un module bas√© sur Arduino qui permet de travailler avec CAN, il est tout √† fait possible de cr√©er un √©mulateur OBD-II, car le protocole de diagnostic est bien d√©crit et il n'est pas difficile √† mettre en ≈ìuvre.  Il convient de noter que l'interaction entre le microcontr√¥leur et le bus CAN embarqu√© est une t√¢che compl√®tement diff√©rente et vous devez comprendre que les protocoles internes de haut niveau de ce bus ne sont pas document√©s par les constructeurs automobiles, et d'autre part, ils ne doivent pas √™tre int√©gr√©s dans le dispositif interne de l'√©lectronique automobile, de sorte qu'en aucun cas r√©duire la s√©curit√© des v√©hicules.  Si nous parlons de CAN en g√©n√©ral, il est tout √† fait possible d'utiliser le protocole CANopen ouvert de haut niveau pour d√©velopper vos appareils sur la base de ce bus. <br><br>  Cela reste le cas pour les petits - un peu de temps libre et de plaisir pour r√©aliser le d√©veloppement de votre code.  Certes, o√π est-ce le temps de trouver √† la fin de l'ann√©e?  Mais nous serons optimistes.  Mais en parlant de l'utilisation d'un tel √©mulateur OBD-II, la direction la plus directe est le d√©veloppement de son propre module pour le connecteur de diagnostic.  Par exemple, vous pouvez prendre le projet ouvert Carloop comme point de d√©part, qui vise √† cr√©er un module pour connecter la voiture au cloud en utilisant les technologies 3G, Wi-Fi ou Bluetooth. <br><br><img src="https://habrastorage.org/webt/qk/lr/sz/qklrszijfy8fd7qhtjwwswowlgu.jpeg"><br>  <font color="gray"><i>Carloop bluetooth</i></font> <br><br>  Le projet Carloop est bas√© sur l'utilisation de cartes: Particle Photon (bas√© sur le module Wi-Fi Cypress BCM43362, qui prend en charge 802.11b / g / n; la famille de contr√¥leurs ARM Cortex M3 - STM32F205 √† une fr√©quence de 120 MHz, 1 Mo de m√©moire flash; 128 Ko de RAM) et Electron (cartes avec prise en charge de la connexion √† un r√©seau mobile 3G / 2G).  La plateforme Particle elle-m√™me est tr√®s int√©ressante car elle est bas√©e sur le service de connexion d'appareils IoT bas√© sur le cloud, un IDE bas√© sur le cloud pour le d√©veloppement, par exemple, bas√© sur des cartes Photon, qui utilisent un langage similaire √† C / C ++ pour Arduino.  En fait, Particle est un sujet distinct pour la publication, et le projet Carloop m√©rite certainement une attention particuli√®re de la part des passionn√©s de la voiture, en tant qu'appareil IoT connect√©. <br><br>  En connectant la voiture aux services Internet et IoT, vous pouvez mettre en ≈ìuvre de nombreux sc√©narios qui contribueront sans aucun doute √† la facilit√© d'utilisation des v√©hicules, augmenteront le confort et, simplement, une solution efficace aux probl√®mes quotidiens, bien s√ªr, y compris la solution de transport.  Par exemple, les donn√©es sur le style de conduite, la fiabilit√© des composants du moteur et du v√©hicule pourraient bien √™tre d√©j√† prises en compte par les compagnies d'assurance.  L'emplacement actuel de la voiture sera pertinent pour les services de taxi et la location de voitures.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> L'interaction des usagers de la route devient plus pratique lors de l'utilisation de l'IoT, ainsi que le probl√®me du stationnement, de la recherche de places de stationnement disponibles, et bien plus encore. </font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/m4ypWq9dMV0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous esp√©rons que l'id√©e de cette publication a √©t√© r√©alis√©e - en un seul endroit, des mat√©riaux ont √©t√© collect√©s pour travailler avec le connecteur de diagnostic OBD-II, √† la fois au niveau de la simple lecture des codes d'erreur et de l'√©mulation d'une connexion physique √† la voiture. </font><font style="vertical-align: inherit;">Nous esp√©rons √©galement recevoir les commentaires des lecteurs. </font><font style="vertical-align: inherit;">En conclusion, je voudrais noter que seuls quelques probl√®mes de d√©veloppement d'appareils connect√©s ont √©t√© pris en compte, mais de nombreuses technologies sont rest√©es dans les coulisses, qui, d'une mani√®re ou d'une autre, transforment une voiture moderne en un appareil IoT et rendent les trajets plus confortables et plus s√ªrs. </font><font style="vertical-align: inherit;">Bien s√ªr, nous reviendrons sur ces sujets dans nos futures publications.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ressources et liens int√©ressants: </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Piratage automobile: les syst√®mes de s√©curit√© automobile sont-ils si s√ªrs? - Habrahabr</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le microprocesseur a 25 ans! - Computerworld</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T - Mobile SyncUP DRIVE - T-MOBILE</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ZTE et Mojio feront de presque n'importe quelle voiture une partie de l'Internet des objets - ZTE Corporation</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Samsung Knox - SAMSUNG</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fonctionnalit√©s du protocole CAN - Magazine STA</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Internet des objets dans votre maison - connectez-vous √† votre maison votre machine - IBM developerWorks</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Analyse t√©l√©matique des v√©hicules √† l'aide de Watson IoT Platform Cloud Analytics - Recettes IBM developerWorks</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilisation du r√©seau CAN et de la pile CANopen - Habrahabr</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CANopen High Level Protocol - RADIOLOCMAN Magazine - Do-it</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">yourself on</font></a><font style="vertical-align: inherit;"> - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">board computer for cars on Arduino - Geektimes</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wiring the MCP2515 Controller Area Network CAN BUS Diagnostics - 14CORE</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arduino OBD2 ELM327 I2C-LCD HC05 Bluetooth - Instructables</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Android application development for working with OBDII protocol - Habrahabr</font></font></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr408941/">https://habr.com/ru/post/fr408941/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr408929/index.html">Les d√©veloppeurs de certains jeux mobiles exploitent la crypto-monnaie sur les smartphones des utilisateurs</a></li>
<li><a href="../fr408931/index.html">Courte critique du PC portable ASUS N580VD</a></li>
<li><a href="../fr408933/index.html">Remplacement d'un pressostat m√©canique par un pressostat num√©rique (aux propri√©taires de puits)</a></li>
<li><a href="../fr408935/index.html">Antenne intelligente pour les r√©seaux LTE</a></li>
<li><a href="../fr408939/index.html">Rapport final sur le projet de satellite Mayak</a></li>
<li><a href="../fr408943/index.html">Ce que l'ennui fait √† une personne: la science de la conscience errante</a></li>
<li><a href="../fr408945/index.html">Un millionnaire anonyme de Bitcoin donne 86 millions de dollars √† une ≈ìuvre caritative.</a></li>
<li><a href="../fr408947/index.html">Examen du registraire russe trop bon march√© AdvoCam-FD4</a></li>
<li><a href="../fr408949/index.html">Comment prendre le contr√¥le de soi depuis les r√©seaux sociaux</a></li>
<li><a href="../fr408953/index.html">Toshiba a pr√©sent√© un disque dur "h√©lium" d'une capacit√© de 14 To</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>