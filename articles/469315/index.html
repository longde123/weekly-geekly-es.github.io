<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ùáÔ∏è üö≠ üõçÔ∏è Herramientas de desarrollo de Node.js. Protocolo Mqtt para trabajar con sockets web ü•£ üßëüèø‚Äçü§ù‚Äçüßëüèæ üõ†Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La tecnolog√≠a de socket web permite enviar mensajes desde un servidor a un cliente en una aplicaci√≥n web o en una aplicaci√≥n m√≥vil, lo que no se puede...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Herramientas de desarrollo de Node.js. Protocolo Mqtt para trabajar con sockets web</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469315/">  La tecnolog√≠a de socket web permite enviar mensajes desde un servidor a un cliente en una aplicaci√≥n web o en una aplicaci√≥n m√≥vil, lo que no se puede hacer utilizando la REST-API.  Para trabajar con sockets web, a menudo usan la biblioteca socket.io, o los desarrolladores trabajan con objetos de sockets web nativos del navegador.  En esta publicaci√≥n, intentar√© mostrar que ambas formas no resuelven todos los problemas, y es mucho mejor usar servidores especializados, por ejemplo, el servidor mqtt (antes se llamaba el agente mqtt) para trabajar con sockets web. <br><br>  Para ser justos, y para evitar disputas innecesarias, observo que, adem√°s del servidor mqtt, se pueden utilizar otros servidores, por ejemplo, rabbitmq. <br><a name="habracut"></a><br>  Desarrollar aplicaciones usando sockets web parece muy simple hasta que nos encontramos con una realidad en la que a menudo ocurren interrupciones de conexi√≥n.  La primera tarea que debe resolverse es rastrear los cortes de conexi√≥n y restaurarlos.  La situaci√≥n se complica por el hecho de que durante la desconexi√≥n y reconexi√≥n, el cliente contin√∫a enviando nuevos mensajes, as√≠ como tambi√©n se pueden enviar nuevos mensajes al cliente que tienen m√°s probabilidades de perderse. <br><br>  Es necesario en el nivel de la aplicaci√≥n monitorear la recepci√≥n de mensajes e implementar su entrega repetida.  Especialmente me gustar√≠a llamar la atenci√≥n sobre la frase "a nivel de aplicaci√≥n" (pero me gustar√≠a que fuera a nivel de protocolo). <br><br>  Tan pronto como agregamos l√≥gica para rastrear la entrega de mensajes, todos los mensajes comenzaron a llegar, pero de inmediato qued√≥ claro que hab√≠a mensajes duplicados, ya que el mensaje podr√≠a haberse recibido, y la confirmaci√≥n de este hecho se perdi√≥ debido a una conexi√≥n desconectada.  Y debe duplicar la cantidad de c√≥digo de programa para excluir mensajes duplicados. <br><br>  Junto con la complicaci√≥n del c√≥digo del programa, su eficiencia tambi√©n disminuye, por lo que a menudo critican la biblioteca socket.io.  Por supuesto, es menos efectivo que trabajar con sockets web nativos, en particular, debido a la presencia de l√≥gica de reconexi√≥n y confirmaci√≥n de entrega de mensajes (inmediatamente noto que la l√≥gica de reenv√≠o no est√° implementada en socket.io). <br><br>  Una forma m√°s confiable y eficiente ser√≠a llevar esta l√≥gica al nivel de protocolo.  Y ese protocolo existe: es mqtt.  La primera versi√≥n del protocolo mqtt fue desarrollada por Andy Stanford-Clark (IBM) y Arlene Nipper (Arcom) en 1999. La especificaci√≥n MQTT 3.1.1 fue estandarizada por el consorcio OASIS en 2014. <br><br>  El protocolo mqtt tiene un par√°metro de "calidad de servicio" (qos) que puede tomar valores: <br>  0: el mensaje se entrega si es posible; <br>  1 - el mensaje se entrega garantizado, pero puede haber duplicados; <br>  2 - el mensaje se entrega garantizado y garantizado una vez. <br><br>  Es decir, el protocolo mqtt resuelve el problema con la entrega garantizada de mensajes, y este problema se elimina de la agenda.  Pero no solo esta pregunta. <br><br>  Rendimiento y escalamiento. <br><br>  Cuando se trabaja con sockets web, todos los clientes conectados dejan conexiones abiertas al servidor, incluso si no hay mensajes reales.  Esta carga es inherentemente diferente de la carga en la REST-API, que est√° determinada por el flujo de solicitudes.  La carga de las conexiones abiertas en los sockets web es dif√≠cil de emular durante la fase de prueba.  Por lo tanto, a menudo se hace una suposici√≥n err√≥nea sobre el rendimiento suficiente de la aplicaci√≥n por la cantidad de mensajes enviados y recibidos, sin tener en cuenta la carga de mantener una gran cantidad de conexiones abiertas con los clientes. <br><br>  Si transferimos todo el trabajo con sockets web a un servidor mqtt especializado, entonces nuestra aplicaci√≥n nodejs abre solo una conexi√≥n en un socket web (o tcp, ya que mqtt admite ambos protocolos) con un servidor mqtt, y podemos escale nuestra aplicaci√≥n conectando m√∫ltiples instancias de nodejs al servidor mqtt. <br><br>  Si los recursos de un servidor mqtt est√°n agotados, puede organizar un cl√∫ster de servidores mqtt sin afectar las aplicaciones en nodejs. <br><br>  Ahora pasemos a un ejemplo. <br><br>  El servidor o corredor mqtt, como se llamaba en las especificaciones anteriores, funciona de acuerdo con el modelo de env√≠o de mensajes / suscripci√≥n a mensajes.  Cada mensaje se env√≠a al tema.  El destinatario se suscribe al hilo del mensaje.  Tanto el remitente como el receptor tienen dos identificadores: clientId (identificador de dispositivo) y userName (nombre de usuario). <br><br>  El identificador del dispositivo es importante, ya que est√° asociado con la suscripci√≥n y se le enviar√°n mensajes.  El nombre de usuario, a diferencia del identificador del dispositivo, no juega un papel decisivo en la entrega de mensajes, y se utiliza para diferenciar el acceso a los temas. <br><br>  Para trabajar con el protocolo mqtt en el lado del cliente, se usa la biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">github.com/eclipse/paho.mqtt.javascript</a> .  Hay varias implementaciones de servidor, incluidas las gratuitas.  En este ejemplo, utilizaremos el servidor emqx, que se ejecuta a trav√©s de docker-compose (consulte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">github.com/apapacy/tut-mqtt</a> ). <br><br>  Para las pruebas, cree un documento en el que configuraremos clientId, userName y mensaje de texto: <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/paho-mqtt.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/messages.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sender"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onsubmit</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"return false"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"user"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"client"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"message"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"connect()"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"connect"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"send()"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"send"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  El env√≠o de mensajes se implementa en el archivo message.js: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> client; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> connectOptions = { <span class="hljs-attr"><span class="hljs-attr">timeout</span></span>: <span class="hljs-number"><span class="hljs-number">30</span></span>, <span class="hljs-attr"><span class="hljs-attr">reconnect</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">cleanSession</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">mqttVersion</span></span>: <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-attr"><span class="hljs-attr">keepAliveInterval</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-attr"><span class="hljs-attr">onSuccess</span></span>: onConnect, <span class="hljs-attr"><span class="hljs-attr">onFailure</span></span>: onFailure } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">connect</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { client = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Paho.Client(<span class="hljs-string"><span class="hljs-string">'localhost'</span></span>, <span class="hljs-number"><span class="hljs-number">8083</span></span>, <span class="hljs-string"><span class="hljs-string">'/mqtt'</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.forms.sender.client.value); connectOptions.userName = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.forms.sender.user.value; client.connect(connectOptions); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (ex) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(ex); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onConnect</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'on connect'</span></span>); client.onMessageArrived = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">message</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"onMessageArrived: "</span></span> + message.payloadString); } client.subscribe(<span class="hljs-string"><span class="hljs-string">"test"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">qos</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span> }); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onFailure</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">err</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'on failure'</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify(err)); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">send</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> message = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Paho.Message(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.forms.sender.message.value); message.destinationName = <span class="hljs-string"><span class="hljs-string">"test"</span></span>; message.qos = <span class="hljs-number"><span class="hljs-number">2</span></span>; client.send(message); }</code> </pre><br><br>  Para verificar, abra el archivo index.html en el navegador, especifique clientId, userName, mensaje de texto y env√≠e varios mensajes (puede leerlos en la consola, ya que el cliente env√≠a mensajes al tema de prueba y est√° suscrito a este tema). <br><br>  Ahora abra otro navegador u otra pesta√±a del navegador, y √∫nase a otro (esto es importante) clientId.  Env√≠e algunos mensajes m√°s desde el primer navegador y aseg√∫rese de que lleguen a ambos clientes, ya que tienen un ID de cliente diferente y ambos est√°n suscritos a la prueba de tema. <br><br>  Ahora cierre el segundo navegador (o la segunda pesta√±a del navegador) y env√≠e algunos mensajes m√°s.  Despu√©s de eso, vuelva a abrir el segundo navegador y √∫nase al mismo clientId.  Aseg√∫rese de que en los registros de la consola haya recibido todos los mensajes que se enviaron durante el per√≠odo en que se cerr√≥ el segundo navegador (segunda pesta√±a).  Esto sucedi√≥ porque: <br><br><ul><li>  Al enviar un mensaje, se estableci√≥ el nivel de calidad qos = 2; </li><li>  Anteriormente se uni√≥ al mismo tema con el mismo clientId estableciendo qos = 2; </li><li>  Las opciones de conexi√≥n est√°n establecidas en cleanSession: false. </li></ul><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">El c√≥digo de muestra se puede descargar desde el repositorio</a> . <br><br>  apapacy@gmail.com <br>  29 de septiembre de 2019 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/469315/">https://habr.com/ru/post/469315/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../469299/index.html">Vista instant√°nea, instant√°nea e inaccesible</a></li>
<li><a href="../469301/index.html">Agilean: Lean + Agile</a></li>
<li><a href="../469303/index.html">Andrei Belyaev sobre la reflexi√≥n en Java en la reuni√≥n jug.msk.ru</a></li>
<li><a href="../469307/index.html">Nueces de Google</a></li>
<li><a href="../469309/index.html">Instalamos un servicio simple para monitorear el movimiento de objetos al servidor</a></li>
<li><a href="../469317/index.html">Finanzas para PMa en preventa: c√≥mo calcular r√°pidamente el presupuesto y el flujo de caja en MS Project</a></li>
<li><a href="../469319/index.html">Experiencia del campus F2P</a></li>
<li><a href="../469321/index.html">Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 51. Soluci√≥n de problemas de EIGRP</a></li>
<li><a href="../469323/index.html">Getters / setters y problema de encapsulaci√≥n en proyectos de Symfony</a></li>
<li><a href="../469327/index.html">Una forma de calcular los logaritmos de base 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>