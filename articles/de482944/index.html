<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📹 🕴🏼 🖐🏽 Mehrkomponenten-Förderspender ❤️ 👩🏿‍🏫 🙌🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Implementierung eines Mehrkomponenten-Förderspenders 


 In diesem Artikel möchte ich eine der möglichen Implementierungen eines automatischen Mehrkom...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mehrkomponenten-Förderspender</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482944/"><h2>  Implementierung eines Mehrkomponenten-Förderspenders </h2><br><img src="https://habrastorage.org/webt/xe/5v/wi/xe5vwiarccwkeaz_hbxtpolox8e.jpeg" alt="Bild"><br><br>  In diesem Artikel möchte ich eine der möglichen Implementierungen eines automatischen Mehrkomponenten-Fördersystems für Substanzen demonstrieren und meine Erfahrungen teilen.  Die anfängliche technische Aufgabe war sehr einfach und umfasste 4 parallele Messkanäle, die per USB über Tasten und PC-Software gesteuert werden.  Die Hauptkomponenten sind ziemlich viskose Flüssigkeiten - Propylenglykol, Aromen, Glycerin und mehr.  Das Endgerät sollte sich in dem Büroraum befinden, in dem das Personal arbeitete - d. H.  sei so leise wie möglich.  Das Design jedes dosierten Kanals sollte so einfach wie möglich sein und minimale Kosten verursachen.  In erster Näherung schien alles ziemlich einfach zu sein, aber mit der Entwicklung des Projekts stieg auch die Spezifikation, und infolgedessen stellte sich heraus, dass ein ganzer Förderdosierer ausfiel.  Für wen solche Themen interessant sind - ich bitte um eine Katze.  Der Artikel verwendet eine große Menge an Textinformationen, Bildern und Filmmaterial. <br><a name="habracut"></a><br><h3>  Einführungsteil und primärer Prototyp </h3><br>  Zunächst wurden bestehende Lösungen überwacht, sowohl schlüsselfertige automatische Dosierstationen als auch einzelne handgehaltene Geräte und Einheiten.  Da ich mich zuvor nicht mit solchen Themen befasst hatte, schlug ich vor, dass es ähnliche Aufgaben in der Lebensmittel- und Medizinbranche gibt.  Solche Lösungen wurden gefunden, passten aber aus mehreren Gründen nicht.  In der Lebensmittelindustrie manipulieren sie ziemlich große Volumina, und in der aktuellen Aufgabe lagen die spezifizierten Rahmen im Bereich von 100 ml.  bis zu 1 liter  Und die Kosten für solche Systeme waren extrem hoch.  In der medizinischen Industrie gibt es geeignete Lösungen, aber die Kosten sind enorm.  Und all diese Lösungen hatten einen Nachteil: Jeder Kanal war ein funktionsfähiges Komplettgerät und nur für eine Komponente ausgelegt.  Sie können natürlich den Kanal mit destilliertem Wasser spülen, wenn Sie den Stoff wechseln, aber es ist äußerst schwierig, alles nach den Aromen zu waschen.  Und sie werden etwa 40 Stück verwendet.  Wenn Sie für jede Komponente einen eigenen Kanal auswählen, hat das endgültige Design eine enorme Größe und enorme Kosten. <br><br>  Es gibt auch eine universelle Lösung - die Verwendung von Schlauchpumpen.  Sie sind in verschiedenen Ausführungen, mit unterschiedlicher Genauigkeit und Vorschubgeschwindigkeit erhältlich.  Am meisten bevorzugt wäre eine Pumpe, die einen Schrittmotor und eine Silikonschlauch-Wechselklemme verwendet.  Die Volumina des Dosiermittels können jedoch von 0,1 ml variieren.  bis zu 10 ml  mit sehr hoher Genauigkeit.  Und hier ist es wünschenswert, sowohl dicke als auch dünne Silikonschläuche verwenden zu können, ohne die Klemme oder die Kalibrierung neu zu konfigurieren, wenn Schläuche mit unterschiedlichen Durchmessern gewechselt werden.  Konstruktiv ist dies nicht bei allen Pumpen möglich.  Ja, und eine weniger zuverlässige chinesische Schlauchpumpe mit Steuerelektronik ist auch nicht billig. <br><br>  Da ich keine praktischen Erfahrungen mit ähnlichen Geräten hatte, entschloss ich mich, einen eigenen Spenderkanal zu entwickeln.  Ich muss gleich sagen, dass es nach der Umsetzung dieses Projekts, nachdem ich bereits einige Erfahrungen und Kenntnisse über den Prozess gesammelt und Erfahrungen mit dem 3D-Druck und den physikalischen Eigenschaften der verwendeten Substanzen gesammelt habe, viel sinnvoller wäre, eine peristaltische Pumpe mit eigener Konstruktion zu verwenden.  Dies würde das endgültige Design erheblich vereinfachen, die Dosierungszeit und die Zeit zum Wechseln der Substanz für jeden Kanal verringern.  All dies wurde jedoch erst nach einer großen Menge an Zeit, Mühe und Erfahrung deutlich. <br><br>  Als einfachste und genaueste Dosiervorrichtung wurde eine konventionelle medizinische Spritze verwendet.  Die Arbeitseinheit war ein einfacher Schrittmotor eines alten Matrixdruckers.  Eine Adapterhülse wurde aus einem Stück dickem Schlauch und einer M5-Mutter hergestellt.  5 ml Spritze.  durch Aluminiumecken fixiert.  Der Motor ist über den L298N-Treiber mit einer Debug-Karte verbunden, die auf dem AT91SAM7SX256-Mikrocontroller basiert, der über USB mit dem PC verbunden ist. <br><br><img src="https://habrastorage.org/webt/hf/yl/as/hfylas4ulv9_0sz7udwawb-kwmc.jpeg" alt="Bild"><br><br>  Die einfache C ++ - Software wurde für den Anschluss über USB, das Laden von Dispenservorgaben, die Steuerung und Kalibrierung jedes Kanals für jeden verwendeten Spritzentyp entwickelt. <br><br><img src="https://habrastorage.org/webt/1w/o0/xa/1wo0xa25h80ywtumef9sfvlkkey.jpeg" alt="Bild"><br><br>  Nach einem langen Testlauf des Systems wurden viele Aspekte der aktuellen Aufgabe und des verwendeten Ansatzes deutlich.  Erstens ist es nicht möglich, mit einer einzigen Spritze eine hohe Dosiergenauigkeit für alle Wertebereiche zu gewährleisten.  Es ist notwendig, Spritzen für 1, 5, 10, 20, 50 ml zu verwenden.  Da die Anordnung der Substanzen während des Mischens in der Zusammensetzung und in den Dosierungsvolumina erheblich variieren kann, muss das Endmodul in der Lage sein, Spritzen mit einem Schlauch und einer festen Spitze zu wechseln.  Zweitens wurde klar, dass die Geschwindigkeit der Sammlung eines Stoffes sehr stark von seiner Viskosität abhängt und es einfach nutzlos ist, schnelle und leistungsstarke Schrittmotoren zu verwenden.  Und drittens ergab die Verwendung verschiedener Spritzentypen für die erforderlichen Dosierungsvolumina eine sehr hohe Genauigkeit.  Das Design eines solchen Moduls erwies sich jedoch als sehr unzuverlässig - die rostfreie Mutter des M5 löschte sich schnell und begann, die Schritte des Motors auszulassen.  Auch die Polymerbasis, auf der die Aluminiumecke lief, wurde im Laufe der Zeit verformt, selbst wenn ständig Silikonfett verwendet wurde.  Basierend auf den Ergebnissen wurde entschieden, den Ansatz mit Spritzen und einem Schrittmotor zu verwenden und die Mechanik des Spenderkanals anders zu implementieren. <br><br><h3>  Die Implementierung der ersten Version des Mehrkanal-Dispensers </h3><br>  Es stellte sich heraus, dass die gebräuchlichsten, erschwinglichsten und kostengünstigsten Komponenten in meiner Peripherie Sets für die Mechanik von 3D-Druckern waren.  Dies sind Kugelumlaufspindelpaare, Führungen mit Lagern und Halterungen.  Zuerst entschied ich mich, eine Führung und eine Kugelumlaufspindel zu verwenden, um die Breite des Spenderkanals zu verringern.  Aber nach einiger Zeit der Entwicklung traten Vibrationen auf. <br><br><img src="https://habrastorage.org/webt/hx/ga/km/hxgakmunnbpct-_tbd7rjbvy4-o.jpeg" alt="Bild"><br><br>  Ich habe auch angefangen, verschiedene Materialien für den Boden des Spenderkanals auszuprobieren, um allgemeine Vibrationen und Geräusche zu reduzieren, aber gleichzeitig eine ausreichende Steifigkeit zu haben.  Ich habe sowohl Polymer-Basen als auch dickes Sperrholz und Aluminiumplatten mit unterschiedlichen Stärken ausprobiert.  Das beste Ergebnis wurde mit 10 mm dickem Fiberglas erzielt - es hatte eine gute Steifheit und dämpfte die meisten Vibrationen.  Es wurde auch beschlossen, zwei Führer zu verwenden. <br><br><img src="https://habrastorage.org/webt/n-/jz/un/n-jzungw9vgc_cadhibwqb9yrgm.jpeg" alt="Bild"><br><br>  Um die Größe des Spenderkanals zu verringern, wurde der Schrittmotor zum unteren Teil der Basis entfernt und das Getriebe mit einem Riemen hergestellt.  Es vereinfacht auch die Positionierung des Motors in Bezug auf die Kugelumlaufspindel und verringert die Vibration. <br><br><img src="https://habrastorage.org/webt/lp/_9/rq/lp_9rqx04fgtf1w-gs_u7etg2dg.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/hn/kh/xz/hnkhxzbrwywpdvsjdmz8jtd9si4.jpeg" alt="Bild"><br><br>  Dann setzte ich einen Retainer mit der Möglichkeit zum Spritzenwechsel ein.  Dabei wurden Handwerkzeuge verwendet - eine Aluminiumecke, ein 2 mm dickes Aluminiumblech, rostfreie Verbindungselemente und viel Handarbeit mit einer Bügelsäge, Feilen und einem Schraubendreher.  Außerdem wurde eine Riemenscheibe für eine größere Anzahl von Zähnen am Schrittmotor angebracht, um die Bewegungsgeschwindigkeit des Schiebers zu erhöhen.  Die endgültige Ansicht eines Moduls unter 1ml.  Die Spritze ist unten abgebildet. <br><br><img src="https://habrastorage.org/webt/mt/b-/xf/mtb-xf5xp0khkm_6xyynfghj4ek.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/jy/np/sk/jynpskt9uvfhrrmavdd5h3qrma8.jpeg" alt="Bild"><br><br>  Für die Steuerelektronik wurde der Mikrocontroller AT91SAM7X128 ausgewählt.  Es verfügt über eine große Anzahl von Eingangs- / Ausgangsleitungen, einen USB-Anschluss, für den im Debugger eine Firmware implementiert wurde und wie die meisten Komponenten nach dem vorherigen Projekt verfügbar war.  Zur Steuerung der Schrittmotoren wurde der Treiber L298N verwendet.  Die Steuerkarte ermöglichte den Anschluss einer Taste und zweier LEDs für jeden Kanal.  Versorgungsspannung für 24V Motoren.  Die Treiber befinden sich ganz am Rand des Boards und passen so genau an die Seitenwand des Aluminiumgehäuses.  Die Platine wurde von JLCPCB hergestellt. <br><br><img src="https://habrastorage.org/webt/wb/ij/fw/wbijfw2frufkqkrqsssuodnlztu.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/kv/0v/8b/kv0v8b6p7egnwhxwimpp2f2airo.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/tu/jr/sf/tujrsf-ki820sopbdgwmv6h5rba.jpeg" alt="Bild"><br><br>  Ein Prüfstand zum Pumpen von Substanzen wurde aufgebaut.  Nach mehreren Starts und langen Ausfallzeiten begannen sich Luftblasen im Silikonschlauchsystem zu bilden, was nicht akzeptabel ist.  Um dies zu vermeiden, wurden teurere Rückschlagventile verwendet, die Länge der Schläuche wurde minimiert, ein kleinerer Schlauchdurchmesser wurde für eine dichtere Verbindung mit Spritzen verwendet. <br><br><img src="https://habrastorage.org/webt/v1/9b/bo/v19bboucguxgw8hvichshz3ezbw.jpeg" alt="Bild"><br><br><h3>  Verwenden von 3D-Druck und 3D-Modellierung </h3><br>  Bei der derzeitigen Implementierung des Spenderkanals gab es keine Beanstandungen bezüglich der Arbeit, aber die Herstellung der Klemme erforderte einen enormen Aufwand.  Und die Klammern für Spritzen mussten unter 1, 5, 10, 20, 50 ml hergestellt werden.  und für alle vier Kanäle.  Ursprünglich wollte ich Teile dieser Klammern zum Laserschneiden und Biegen mit einer Maschine geben.  Aber bei der Herstellung der Testinstanz habe ich alle Details dreimal überarbeitet, da der Fehler bei den Berechnungen 1-1,5 mm betrug.  Dies führte dazu, dass die Spritze nicht fest hielt, der Kolben sich zu verbiegen begann und infolgedessen die Dosierungsgenauigkeit instabil war.  Mehrfache Bestellungen von Laserschneidteilen sind nicht billig und schnell.  Dann ist es Zeit, sich mit der Technologie des 3D-Drucks vertraut zu machen.  Der budgetierte Betrag für das Laserschneiden und Biegen von Aluminium reichte aus, um Teile für den Grabber i3 3D-Drucker zu erwerben.  Alle notwendigen Teile wurden gekauft und der Prozess des Zusammenbaus, Debuggens und Flashens des Druckers begann. <br><br><img src="https://habrastorage.org/webt/-3/zz/xj/-3zzxjeg78iannsxaw1pzffc8_a.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/dh/gw/vb/dhgwvb8spxuhlxjtqozczbk8izs.png" alt="Bild"><br><br>  Nachdem ich die Arbeit zusammengebaut und eingerichtet hatte, begann ich, 3D-Modellierung zu studieren.  Nach einiger Zeit wurde mir klar, dass die Verwendung eines 3D-Druckers für einen Entwickler im Wesentlichen unbegrenzte Möglichkeiten eröffnet.  Alle nicht standardmäßigen Befestigungen, Klemmen, Riegel, Kästen für die Elektronik, komplexe vorgefertigte Strukturen - all dies wird leicht zugänglich und wird automatisch implementiert, während der Entwickler mit anderen Aufgaben beschäftigt ist.  Es wurde nach Kompromissen zwischen Kunststofftyp, Druckgeschwindigkeit und -qualität, Haltbarkeit, Füllungen und mehr gesucht. <br><br><img src="https://habrastorage.org/webt/na/n4/n6/nan4n67kwzcoo1w6xhflmhyib2m.jpeg" alt="Bild"><br><br>  Für alle Teile wurde ABS-Kunststoff verwendet.  Für einfachere Teile wurde Kunststoff zu einem günstigeren Preis genommen, für größere und präzisere Teile jeweils teurerer Kunststoff.  Zur Fixierung der Spritzen wurden Verschlüsse entwickelt, deren Umsetzung aus Aluminium schlicht unmöglich ist.  Die Klemmengrößen sind für jeden Spritzentyp optimiert.  Testteile wurden gedruckt, der erste Prototypenhalter wurde montiert und fehlerfrei bearbeitet.  Um die Bewegung des Drückers zu stoppen, wurden ein Hallsensor und eine einstellbare Halterung mit einem Magneten verwendet. <br><br><img src="https://habrastorage.org/webt/rn/ux/0z/rnux0zobu926zopfvpcsrfb15f0.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/e5/cx/xf/e5cxxfkfjppywd7kufjyrhbzcss.jpeg" alt="Bild"><br><br>  Die Gesamtansicht des zusammengebauten Testkanalspenders hat die folgende Form angenommen: <br><br><img src="https://habrastorage.org/webt/fr/8i/v2/fr8iv2gkyruejmv0qkstnw35ck4.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/5f/_a/hg/5f_ahg5yaceeko92cgravd5otzo.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/uh/p-/xe/uhp-xeughycwtpmoihgocdrtrno.jpeg" alt="Bild"><br><br>  Nach der Entwicklung von Teilen für alle Arten von Spritzen wurden Komponenten für die verbleibenden drei Kanäle bestellt und der Druck von Klemmkomponenten gestartet. <br><br><img src="https://habrastorage.org/webt/hd/wl/fk/hdwlfkb62ornguecdkcsgb6k8uy.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/mv/bn/u6/mvbnu6alvd6ra6ftowgftb7h0qq.jpeg" alt="Bild"><br><br>  Nach dem Zusammenbau und der Kalibrierung der Mechanik aller vier Kanäle ergaben sich folgende Ansicht und ungefähre Abmessungen des Spenders: <br><br><img src="https://habrastorage.org/webt/gj/cs/lu/gjcslusf_t5qygmv20guppmbgac.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/4p/qr/ii/4pqriip7nwwtucpi0ilh378t4cq.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/qf/6_/tk/qf6_tk_u-e9_hgjdf3evjhki_-a.jpeg" alt="Bild"><br><br>  Alles war bereit, die Kanäle auf einem gemeinsamen Rahmen aus Aluminiumprofilen zu montieren, Drähte zu verlegen und Elektronik zu installieren, aber der Kunde nahm Anpassungen an den Vorgaben des Projekts vor.  Minimieren Sie zunächst den Verbrauch der Substanz, wenn Sie den Spritzentyp oder die Substanz selbst wechseln.  In der aktuellen Implementierung wurde zuerst die Substanz aus dem großen Tank durch ein System von Silikonschläuchen und ein Rückschlagventil entnommen und dann wurde das Material zum zweiten Rückschlagventil und zur Spitze abgelassen.  Vor dem Dosieren war es erforderlich, das verwendete System vollständig zu füllen und beim Wechsel wieder in den Tank oder in den Arbeitstank zu gießen.  Es war wirtschaftlich irrational und erforderte eine zusätzliche Zeitverschwendung und erhöhte auch die Wahrscheinlichkeit einer Kontamination des Arbeitsplatzes.  Zweitens sollten Sie angesichts der höheren Montagegeschwindigkeit der Spenderkanäle im 3D-Druck weitere 5 Kanäle implementieren und diese zu einem Förderer kombinieren.  Diese Implementierung deckte alle möglichen Optionen zum Mischen von Substanzen vollständig ab.  Auf den ersten Blick sind die Änderungen nicht wesentlich, aber für ihre Umsetzung musste ich das Projekt komplett überarbeiten. <br><br><h3>  Die Implementierung der zweiten Option Mehrkanal-Dispenser </h3><br>  Um das System der Silikonschläuche und -ventile nicht mit einer Substanz zu füllen, wurde beschlossen, ein pneumatisches System mit austauschbaren Spitzen herzustellen.  Die Spitze des erforderlichen Volumens wurde in einen Behälter mit der Substanz getaucht, ein Zaun wurde ausgeführt, dann wurde die Spitze zum Mischen in ein Gefäß bewegt und es trat ein Ausstoß auf.  Die Substanz drang nicht in die Silikonschläuche ein, es gab keine Rückschlagventile, und beim Materialwechsel reichte es aus, nur die Spitze auszutauschen.  Um das Eintauchen der Spitze in einen Behälter mit einer Substanz zu fixieren, wurde ein Flüssigkeitskontaktsensor implementiert.  Es bestand aus 2 dünnen rostfreien Kontakten, die mit einem Logikelement K176LA9 verbunden waren. <br><br><img src="https://habrastorage.org/webt/di/9w/0o/di9w0og7a5yrmtlsco5wqez3mje.jpeg" alt="Bild"><br><br>  Um die Spitzen zwischen den Behältern mit der Substanz und den Dosen zum Mischen zu bewegen, wurde ein Manipulator unter Verwendung von 2 Servos und einer Basis mit Riegeln entwickelt. <br><br><img src="https://habrastorage.org/webt/hq/gh/vc/hqghvcbem-i4-8yd-nwibdtsaue.jpeg" alt="Bild"><br><br>  Die allgemeine Konstruktion des entwickelten Förderers umfasste 2 Arme mit Spenderkanälen, einen Block mit einem beweglichen Abschnitt mit gefüllten Dosen, 2 Manipulatoren mit Spitzen und 2 Fächer mit Klammern unter dem Behälter mit der Substanz.  Die Schultern mit Spenderkanälen und Manipulatoren lagen einander gegenüber, und zwischen ihnen befand sich ein Block mit einem beweglichen Abschnitt. <br><br><img src="https://habrastorage.org/webt/7-/q1/l_/7-q1l_cepmct_trhprepl4bqhl8.png" alt="Bild"><br><br>  Eine solche Implementierung ermöglichte die gleichzeitige Dosierung von 2 Substanzen pro Dose.  Nach Minimierung aller möglichen Abmessungen der Struktur wurde ein Aluminiumrahmen der folgenden Form erhalten: <br><br><img src="https://habrastorage.org/webt/tt/zm/ud/ttzmudjle9w1dh4artunnwfk-we.jpeg" alt="Bild"><br><br>  Der nächste Schritt war die Entwicklung eines beweglichen Teils der gefüllten Dosen.  Die Sektion war für 10 Dosen ausgelegt und wurde von einem Schrittmotor über einen an beiden Enden befestigten Riemen angetrieben.  Die Bewegung des Abschnitts wurde durch 6 Paare kegelförmiger Rollen realisiert, die sich entlang der Außenkante des Aluminiumrahmens bewegten.  Jede Rolle war mit einem Lager an der Seite des beweglichen Abschnitts befestigt.  Die Basis des Abschnitts bestand aus Aluminium und wurde durch Gestelle befestigt.  Für den Riementrieb waren Stützrollen und ein Spanner vorgesehen.  Alle Details des Abschnitts wurden auch auf einem 3D-Drucker gedruckt. <br><br><img src="https://habrastorage.org/webt/qq/js/2p/qqjs2pdddhyctmywrs96yua95-c.png" alt="Bild"><br><br>  Dann wurde eine einstellbare Klammer für Behälter mit einer Substanz implementiert: <br><br><img src="https://habrastorage.org/webt/6t/cs/v8/6tcsv8crlvvoybyhk8gqyar5heu.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/fy/zl/rr/fyzlrrsm4sz1moejtfevlo0i1nc.png" alt="Bild"><br><br>  Nach der Entwicklung aller Bereiche des automatischen Mehrkomponenten-Fördersubstanzspenders ergab sich folgende Gesamtübersicht: <br><br><img src="https://habrastorage.org/webt/la/-x/yb/la-xybcbqo6i9sej-mbjonfrjhi.jpeg" alt="Bild"><br><br><h3>  Förderersteuerungselektronik </h3><br>  Bei der Implementierung des Förderers für die Steuerelektronik haben sich auch die Anforderungen geändert: <br>  - Die Notwendigkeit, 4 Servos zu steuern, wurde hinzugefügt. <br>  - Steuerung des Schrittmotors des beweglichen Teils der gefüllten Dosen und Abfrage der Positionssensoren dieses Teils; <br>  - Abfrage des Berührungssensors mit der Flüssigkeit; <br>  - Abfrage der Identifikationssensoren des eingebauten Moduls (4 Hallsensoren - 16 mögliche Module); <br>  - Steuerung von 9 Kanälen. <br><br>  Aufgrund der obigen Änderungen war es nicht möglich, mehrere zuvor entwickelte 4-Kanal-Steuerelektronikmodule zu verwenden.  Es wurde beschlossen, für jeden Kanal ein gemeinsames Universalmodul zu entwickeln und über das RS485-Protokoll in ein Netzwerk zu integrieren.  Infolgedessen musste jedes Modul die Steuerung von 2 Servos, die Schrittmotorsteuerung, die Abfrage von 5 Hallsensoren (4 für ein Einsteckmodul und 1 zum Stoppen des Drückers), die Abfrage eines Flüssigkeitskontaktsensors, die Abfrage von 2 Uhrentasten, die Steuerung von 3 LEDs, Einstellen der Geräteadresse und des Datenübertragungsmoduls über RS485.  Der Steuermikrocontroller ist ATmega8A, der Schrittmotortreiber ist DRV8825, das RS485-Datenübertragungsmodul ist HW-0519.  Die Versorgungsspannung für den Schrittmotor beträgt -24V, für die Logik - 5V.  Die Platine wurde von JLCPCB hergestellt. <br><br><img src="https://habrastorage.org/webt/5h/gd/c9/5hgdc9mjem60ga5shyubipc6l1i.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/e9/21/yk/e921ykhz2hfqwapyqbtewmybcii.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/tc/m6/ub/tcm6ubjpag-awvwsxccpeoxth0q.jpeg" alt="Bild"><br><br>  Für die Steuerelektronik wurde ebenfalls ein Gehäuse für den 3D-Druck entworfen.  Auf dem Gehäusedeckel wurde eine Aluminiumplatte montiert, die als Kühler für den Schrittmotortreiber diente.  Thermische Polsterung wurde verwendet, um die Platte und den Treiber zu kontaktieren.  Versiegelte Kabeleinführungen wurden zum Anschließen von Sensoren, Steuer- und Versorgungsleitungen verwendet.  Alle Anschlüsse wurden zusätzlich versiegelt.  Im Gehäuse befanden sich eine Steuerelektronikplatine, ein Spannungswandler und eine Platine mit einem Logikchip für einen Flüssigkeitskontaktsensor.  Alle Platten wurden mit Polyurethanlack beschichtet. <br><br><img src="https://habrastorage.org/webt/fb/c_/6w/fbc_6wajvxs2nza8nijpzey7sxq.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/bo/ej/vx/boejvxvfynivtfhac7zosu5c9cg.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/fe/un/kf/feunkfngjhahli_gvovvbbrvakq.jpeg" alt="Bild"><br><br><h3>  Produktion eines Mehrkanalförderers </h3><br>  Nach Abschluss der Konstruktion begann die Fertigungs-, Montage- und Inbetriebnahmephase der einzelnen Fördermodule.  Zunächst wurden die fehlenden Komponenten gedruckt und alle Spenderkanäle zusammengebaut.  Dann wurde das Aluminiumprofil geschnitten und der Förderrahmen, bestehend aus 2 Schultern und einem Block des beweglichen Abschnitts, geschweißt. <br><br><img src="https://habrastorage.org/webt/ek/vx/4t/ekvx4tcvlpmcaxbj3svkhkhrqwm.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/xe/on/ha/xeonhal3nzl32tkxjk_j8_uhfyk.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/jx/gg/4_/jxgg4_yblv19yfbt65hxat3l5jk.jpeg" alt="Bild"><br><br>  Die nächste Stufe der Versammlung waren Manipulatoren mit Tipps.  Alle Komponenten der Spitzen wurden zusammenklappbar gemacht und auf Riegel montiert.  Dies vereinfacht den Spitzenwechsel erheblich. <br><br><img src="https://habrastorage.org/webt/jq/zx/kr/jqzxkrkbomojkehyquhs_rty_wa.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/wg/md/f5/wgmdf5m21cd-llplvcsrzrl0-im.jpeg" alt="Bild"><br><br>  Eine der arbeitsintensivsten Phasen der Montage ist der bewegliche Teil der Abfülldosen.  Die bedruckten Teile mussten verarbeitet, fest aufeinander abgestimmt und zusammengesetzt, der Aluminiumsockel herausgeschnitten und am Profil befestigt werden, um die Position der konischen Rollen für eine gleichmäßige Positionierung auf dem Aluminiumrahmen einzustellen, ein Schrittmotor, ein Treiber, eine luftdichte Box mit Elektronik, Führungen und ein Riemenspanner installiert werden sowie eine Gruppe von Positionssensoren der Sektion (Ausgangsposition, Substanzzufuhr, Position - Propylenglykol, Position - Glycerin, Endposition).  Für das aktuelle Modul wurde ein leistungsstärkerer Schrittmotor ausgewählt.  Der Schrittmotortreiber ist TB6600. <br><br><img src="https://habrastorage.org/webt/ho/-0/27/ho-027fykwe3ztmborngzxm8swy.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/tf/nl/wj/tfnlwjnpqzcc1evle1pd8r4qu90.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/qp/lv/dp/qplvdpmqndawow5as6vt8-adlpw.jpeg" alt="Bild"><br><br>  Um Vibrationen zu reduzieren, wurden alle Verbindungselemente auch auf einem 3D-Drucker gedruckt.  Nach allen Kalibrierungen betrug der Abstand zwischen dem beweglichen Fach und den Rippen des Aluminiumrahmens nicht mehr als 1-2 mm. <br><br><img src="https://habrastorage.org/webt/bp/jb/bg/bpjbbg3emzzy1q-x2qodxgy2h0y.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/qa/ph/lu/qaphluwwndcspx8rk-6a7llixvg.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/pg/ri/oz/pgriozsvgtggkuujrtugun0vff8.jpeg" alt="Bild"><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/2d619oNfyYU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Möglichkeiten und der Umfang des Einsatzes des 3D-Drucks waren beeindruckend - neben allen Spritzenhaltern, Elektronik- und Motorlagern, Elektronikboxen mit Leiterplatten, Gummidichtungen, wurden auch ganze Abschnitte gedruckt und montiert. Die letzte Komponente für die Montage des Förderers war eine Klemme für Sensoren: 4 Sensoren zur Überprüfung des Typs der montierten Klemme und ein Anschluss für den Drücker-Stopp-Sensor. </font></font><br><br><img src="https://habrastorage.org/webt/sn/hf/47/snhf47w5qwisc3ucii55qcqoqbk.jpeg" alt="Bild"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die restlichen Kartons für die Elektronik wurden ebenfalls vorgepresst, worauf ich mit Manipulatoren zur Endmontage der einzelnen Schultern überging. </font></font><br><br><img src="https://habrastorage.org/webt/ry/xh/u6/ryxhu60gjemhq8nxfz6douoff_i.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/dt/vf/am/dtvfamuukix1zebmspl31w7itnc.jpeg" alt="Bild"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nach dem Zusammenbau und der Installation des ersten Moduls wurden Messungen durchgeführt und alle Drähte der erforderlichen Länge mit installierten Verbindern vorbereitet.</font></font><br><br><img src="https://habrastorage.org/webt/59/i8/nq/59i8nqodkp3mzb1tr3dtqzi2yl8.jpeg" alt="Bild"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nach der Installation des Netzteils und der restlichen Module, dem Verlegen der Stromkabel, der Sensoren und der Kommunikation sowie dem Verlegen in Kisten und dem Befestigen am Rahmen stellte sich die folgende Ansicht einer der Schultern heraus: </font></font><br><br><img src="https://habrastorage.org/webt/q5/zv/ok/q5zvokfvjfwww7wasmlx0tze_vi.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/t2/po/lk/t2polkxwrabv4_nathj8tlgoiva.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/em/1w/ry/em1wry6o2qwewnvjkeqjgrny-40.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/2v/jk/wh/2vjkwh9pwnl-ishrditwx_dvukg.jpeg" alt="Bild"><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/rrPAdKwjACI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nachdem beide Arme zusammengebaut, alle Kanäle kalibriert, die Position der Abschnitte und die Positionen der Sensoren ausgewählt, alle Kabel und Systeme der Silikonschläuche verlegt wurden, erhält der automatische Mehrkomponentenspender die folgende Form: </font></font><br><br><img src="https://habrastorage.org/webt/3u/na/3a/3una3antqp3icrsdnlflnd4oupm.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/vl/zm/xm/vlzmxmixwcintyp6xorowpgtnss.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/k7/ih/na/k7ihna_oewv0xqr_nyxxz3yvsna.jpeg" alt="Bild"><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Software-Implementierung </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Die Fördersoftware wurde ebenfalls in C ++ neu entwickelt und umfasste die Verarbeitung einer Datei mit Voreinstellungen, die dynamische Anzeige aller Spenderkanäle, Manipulatoren und eines beweglichen Abschnitts, die Anzeige des Stofffüllstands in Behältern, die Anzeige statistischer Informationen und die Abstimmung aller Einheiten. </font></font><br><br><img src="https://habrastorage.org/webt/_c/dd/nd/_cddndjnujlbhmx72ythbf9f-cw.jpeg" alt="Bild"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Software hat die erforderlichen Einstellungen entsprechend der ausgewählten Voreinstellung vorgenommen. Wurde ein falsches Modul installiert oder fehlte es vollständig, kam es zu einer Anzeige und einer entsprechenden Meldung. Als der Stoffstand in den Tanks kritisch wurde, erfolgte ebenfalls eine Warnung. Die fehlenden Schritte der Motoren wurden ebenfalls gezählt, und als der Wert den festgelegten Grenzwert überschritt, wurde eine Meldung ausgegeben, die die Kanalnummer und die Notwendigkeit ihrer Wartung angab. Die Einstellungen der Einheiten ermöglichten es, die Werte der Schritte des Dosiermotors zu korrigieren, die Position der Manipulatoren zu ändern, die Zwischenbedingungen des Förderers zu überprüfen, die Funktion der Sensoren, die Menge des verwendeten Stoffes, die Endprodukte und Fehler während des Betriebs zu überprüfen.</font></font><br><br><img src="https://habrastorage.org/webt/uu/sj/ir/uusjird7njy-xm3yvlnvup8nexm.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/m_/zi/xq/m_zixq8nvgwqrruftohazx7bsis.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/ah/hl/67/ahhl67w-qmsmwolaljg6y4oc294.png" alt="Bild"><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/qFzZfKP5xYI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3>  Fazit </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dieses Projekt wurde von mir in meiner Freizeit aus der Hauptarbeit heraus entwickelt, und vom ersten Entwurf bis zur Inbetriebnahme verging ungefähr ein Jahr. Nach dem Debuggen und einer gewissen Zeit wurden die Einschränkungen der aktuellen Implementierung sichtbar. Auch nach dem Einbau präziser Servos konnte der Positionierungsfehler der Manipulatorspitzen deutlich reduziert werden, war aber angesichts der Designschulter immer noch erheblich. In seiner jetzigen Form konnte der Förderer nur große Dosen befüllen. Ich sah zwei Möglichkeiten, um diese Einschränkung zu lösen: Die erste besteht darin, den Manipulatoren eine horizontale Bewegungsachse hinzuzufügen und die Spitze vertikal in den Behälter mit der Substanz und in das gefüllte Gefäß einzutauchen. Die zweite besteht darin, den Kanalspender selbst zu wechseln.realisiert mittels einer peristaltischen pumpe mit mehreren verstellbaren riegeln für unterschiedliche durchmesser des silikonschlauches. Wenn ich diesen Entwurf noch einmal wiederholen würde, würde ich mich für die zweite Ausführungsform des Spenderkanals entscheiden. Mit einer universellen peristaltischen Pumpe für jeden Kanal konnte ich nicht nur die Dosiergeschwindigkeit verdoppeln, sondern auch die Spitzen über der beweglichen Sektion mit Bänken fest fixieren und komplizierte Bewegungen der Manipulatoren vermeiden. Es war auch möglich, eine große peristaltische Universalpumpe und eine Gruppe von automatischen Verschlüssen für jeden Ausgabekanal mit verschiedenen Arten von Silikonschläuchen und einem Trommelsatz für nachfüllbare Dosen zu verwenden. Aber all diese Entscheidungen, wie ich am Anfang des Artikels schrieb,Dies zeigte sich erst nach den Erfahrungen bei der Implementierung eines Mehrkomponenten-Dosierers.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alle Quelldateien, 3D-Modelle, elektrischen Schaltkreise, High- und Low-Level-Software sowie Konstruktionsmerkmale des Förderbatchers gehören dem Kunden - SMAUGY. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Danke für die Aufmerksamkeit.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de482944/">https://habr.com/ru/post/de482944/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de482934/index.html">Scheitern des ERP-Projekts (Liqui Moly, Otto und andere wie er)</a></li>
<li><a href="../de482936/index.html">Einführung in ASGI: Aufbau eines asynchronen Python-Web-Ökosystems</a></li>
<li><a href="../de482938/index.html">Anwendung der Prinzipien der funktionalen Programmierung bei der Gestaltung von ERP</a></li>
<li><a href="../de482940/index.html">Die Verdauung von frischen Materialien aus der Welt des Frontends für die letzte Woche Nr. 396 (30. Dezember 2019 - 5. Januar 2020)</a></li>
<li><a href="../de482942/index.html">Mythen und Legenden des alten Fediversums</a></li>
<li><a href="../de482946/index.html">1С DSS und Schätzung der Projektlaufzeiten und -kosten nach der COCOMO II-Methode</a></li>
<li><a href="../de482948/index.html">"Eins, zwei, drei - verbrenne den Weihnachtsbaum!" Oder mein erster Blick auf den CANNY 3 winzigen Controller</a></li>
<li><a href="../de482950/index.html">Java: Dinge, die einem erfahrenen Entwickler neugierig erscheinen mögen</a></li>
<li><a href="../de482956/index.html">Überprüfung von WCS 5.2 - WebRTC Server für Webcast- und Webcam-Entwickler</a></li>
<li><a href="../de482958/index.html">"Wachstumsregeln: Vom Junior zum CTO", Auszug aus einem Webinar von Fedor Borshchev</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>