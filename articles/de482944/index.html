<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìπ üï¥üèº üñêüèΩ Mehrkomponenten-F√∂rderspender ‚ù§Ô∏è üë©üèø‚Äçüè´ üôåüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Implementierung eines Mehrkomponenten-F√∂rderspenders 


 In diesem Artikel m√∂chte ich eine der m√∂glichen Implementierungen eines automatischen Mehrkom...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mehrkomponenten-F√∂rderspender</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482944/"><h2>  Implementierung eines Mehrkomponenten-F√∂rderspenders </h2><br><img src="https://habrastorage.org/webt/xe/5v/wi/xe5vwiarccwkeaz_hbxtpolox8e.jpeg" alt="Bild"><br><br>  In diesem Artikel m√∂chte ich eine der m√∂glichen Implementierungen eines automatischen Mehrkomponenten-F√∂rdersystems f√ºr Substanzen demonstrieren und meine Erfahrungen teilen.  Die anf√§ngliche technische Aufgabe war sehr einfach und umfasste 4 parallele Messkan√§le, die per USB √ºber Tasten und PC-Software gesteuert werden.  Die Hauptkomponenten sind ziemlich viskose Fl√ºssigkeiten - Propylenglykol, Aromen, Glycerin und mehr.  Das Endger√§t sollte sich in dem B√ºroraum befinden, in dem das Personal arbeitete - d. H.  sei so leise wie m√∂glich.  Das Design jedes dosierten Kanals sollte so einfach wie m√∂glich sein und minimale Kosten verursachen.  In erster N√§herung schien alles ziemlich einfach zu sein, aber mit der Entwicklung des Projekts stieg auch die Spezifikation, und infolgedessen stellte sich heraus, dass ein ganzer F√∂rderdosierer ausfiel.  F√ºr wen solche Themen interessant sind - ich bitte um eine Katze.  Der Artikel verwendet eine gro√üe Menge an Textinformationen, Bildern und Filmmaterial. <br><a name="habracut"></a><br><h3>  Einf√ºhrungsteil und prim√§rer Prototyp </h3><br>  Zun√§chst wurden bestehende L√∂sungen √ºberwacht, sowohl schl√ºsselfertige automatische Dosierstationen als auch einzelne handgehaltene Ger√§te und Einheiten.  Da ich mich zuvor nicht mit solchen Themen befasst hatte, schlug ich vor, dass es √§hnliche Aufgaben in der Lebensmittel- und Medizinbranche gibt.  Solche L√∂sungen wurden gefunden, passten aber aus mehreren Gr√ºnden nicht.  In der Lebensmittelindustrie manipulieren sie ziemlich gro√üe Volumina, und in der aktuellen Aufgabe lagen die spezifizierten Rahmen im Bereich von 100 ml.  bis zu 1 liter  Und die Kosten f√ºr solche Systeme waren extrem hoch.  In der medizinischen Industrie gibt es geeignete L√∂sungen, aber die Kosten sind enorm.  Und all diese L√∂sungen hatten einen Nachteil: Jeder Kanal war ein funktionsf√§higes Komplettger√§t und nur f√ºr eine Komponente ausgelegt.  Sie k√∂nnen nat√ºrlich den Kanal mit destilliertem Wasser sp√ºlen, wenn Sie den Stoff wechseln, aber es ist √§u√üerst schwierig, alles nach den Aromen zu waschen.  Und sie werden etwa 40 St√ºck verwendet.  Wenn Sie f√ºr jede Komponente einen eigenen Kanal ausw√§hlen, hat das endg√ºltige Design eine enorme Gr√∂√üe und enorme Kosten. <br><br>  Es gibt auch eine universelle L√∂sung - die Verwendung von Schlauchpumpen.  Sie sind in verschiedenen Ausf√ºhrungen, mit unterschiedlicher Genauigkeit und Vorschubgeschwindigkeit erh√§ltlich.  Am meisten bevorzugt w√§re eine Pumpe, die einen Schrittmotor und eine Silikonschlauch-Wechselklemme verwendet.  Die Volumina des Dosiermittels k√∂nnen jedoch von 0,1 ml variieren.  bis zu 10 ml  mit sehr hoher Genauigkeit.  Und hier ist es w√ºnschenswert, sowohl dicke als auch d√ºnne Silikonschl√§uche verwenden zu k√∂nnen, ohne die Klemme oder die Kalibrierung neu zu konfigurieren, wenn Schl√§uche mit unterschiedlichen Durchmessern gewechselt werden.  Konstruktiv ist dies nicht bei allen Pumpen m√∂glich.  Ja, und eine weniger zuverl√§ssige chinesische Schlauchpumpe mit Steuerelektronik ist auch nicht billig. <br><br>  Da ich keine praktischen Erfahrungen mit √§hnlichen Ger√§ten hatte, entschloss ich mich, einen eigenen Spenderkanal zu entwickeln.  Ich muss gleich sagen, dass es nach der Umsetzung dieses Projekts, nachdem ich bereits einige Erfahrungen und Kenntnisse √ºber den Prozess gesammelt und Erfahrungen mit dem 3D-Druck und den physikalischen Eigenschaften der verwendeten Substanzen gesammelt habe, viel sinnvoller w√§re, eine peristaltische Pumpe mit eigener Konstruktion zu verwenden.  Dies w√ºrde das endg√ºltige Design erheblich vereinfachen, die Dosierungszeit und die Zeit zum Wechseln der Substanz f√ºr jeden Kanal verringern.  All dies wurde jedoch erst nach einer gro√üen Menge an Zeit, M√ºhe und Erfahrung deutlich. <br><br>  Als einfachste und genaueste Dosiervorrichtung wurde eine konventionelle medizinische Spritze verwendet.  Die Arbeitseinheit war ein einfacher Schrittmotor eines alten Matrixdruckers.  Eine Adapterh√ºlse wurde aus einem St√ºck dickem Schlauch und einer M5-Mutter hergestellt.  5 ml Spritze.  durch Aluminiumecken fixiert.  Der Motor ist √ºber den L298N-Treiber mit einer Debug-Karte verbunden, die auf dem AT91SAM7SX256-Mikrocontroller basiert, der √ºber USB mit dem PC verbunden ist. <br><br><img src="https://habrastorage.org/webt/hf/yl/as/hfylas4ulv9_0sz7udwawb-kwmc.jpeg" alt="Bild"><br><br>  Die einfache C ++ - Software wurde f√ºr den Anschluss √ºber USB, das Laden von Dispenservorgaben, die Steuerung und Kalibrierung jedes Kanals f√ºr jeden verwendeten Spritzentyp entwickelt. <br><br><img src="https://habrastorage.org/webt/1w/o0/xa/1wo0xa25h80ywtumef9sfvlkkey.jpeg" alt="Bild"><br><br>  Nach einem langen Testlauf des Systems wurden viele Aspekte der aktuellen Aufgabe und des verwendeten Ansatzes deutlich.  Erstens ist es nicht m√∂glich, mit einer einzigen Spritze eine hohe Dosiergenauigkeit f√ºr alle Wertebereiche zu gew√§hrleisten.  Es ist notwendig, Spritzen f√ºr 1, 5, 10, 20, 50 ml zu verwenden.  Da die Anordnung der Substanzen w√§hrend des Mischens in der Zusammensetzung und in den Dosierungsvolumina erheblich variieren kann, muss das Endmodul in der Lage sein, Spritzen mit einem Schlauch und einer festen Spitze zu wechseln.  Zweitens wurde klar, dass die Geschwindigkeit der Sammlung eines Stoffes sehr stark von seiner Viskosit√§t abh√§ngt und es einfach nutzlos ist, schnelle und leistungsstarke Schrittmotoren zu verwenden.  Und drittens ergab die Verwendung verschiedener Spritzentypen f√ºr die erforderlichen Dosierungsvolumina eine sehr hohe Genauigkeit.  Das Design eines solchen Moduls erwies sich jedoch als sehr unzuverl√§ssig - die rostfreie Mutter des M5 l√∂schte sich schnell und begann, die Schritte des Motors auszulassen.  Auch die Polymerbasis, auf der die Aluminiumecke lief, wurde im Laufe der Zeit verformt, selbst wenn st√§ndig Silikonfett verwendet wurde.  Basierend auf den Ergebnissen wurde entschieden, den Ansatz mit Spritzen und einem Schrittmotor zu verwenden und die Mechanik des Spenderkanals anders zu implementieren. <br><br><h3>  Die Implementierung der ersten Version des Mehrkanal-Dispensers </h3><br>  Es stellte sich heraus, dass die gebr√§uchlichsten, erschwinglichsten und kosteng√ºnstigsten Komponenten in meiner Peripherie Sets f√ºr die Mechanik von 3D-Druckern waren.  Dies sind Kugelumlaufspindelpaare, F√ºhrungen mit Lagern und Halterungen.  Zuerst entschied ich mich, eine F√ºhrung und eine Kugelumlaufspindel zu verwenden, um die Breite des Spenderkanals zu verringern.  Aber nach einiger Zeit der Entwicklung traten Vibrationen auf. <br><br><img src="https://habrastorage.org/webt/hx/ga/km/hxgakmunnbpct-_tbd7rjbvy4-o.jpeg" alt="Bild"><br><br>  Ich habe auch angefangen, verschiedene Materialien f√ºr den Boden des Spenderkanals auszuprobieren, um allgemeine Vibrationen und Ger√§usche zu reduzieren, aber gleichzeitig eine ausreichende Steifigkeit zu haben.  Ich habe sowohl Polymer-Basen als auch dickes Sperrholz und Aluminiumplatten mit unterschiedlichen St√§rken ausprobiert.  Das beste Ergebnis wurde mit 10 mm dickem Fiberglas erzielt - es hatte eine gute Steifheit und d√§mpfte die meisten Vibrationen.  Es wurde auch beschlossen, zwei F√ºhrer zu verwenden. <br><br><img src="https://habrastorage.org/webt/n-/jz/un/n-jzungw9vgc_cadhibwqb9yrgm.jpeg" alt="Bild"><br><br>  Um die Gr√∂√üe des Spenderkanals zu verringern, wurde der Schrittmotor zum unteren Teil der Basis entfernt und das Getriebe mit einem Riemen hergestellt.  Es vereinfacht auch die Positionierung des Motors in Bezug auf die Kugelumlaufspindel und verringert die Vibration. <br><br><img src="https://habrastorage.org/webt/lp/_9/rq/lp_9rqx04fgtf1w-gs_u7etg2dg.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/hn/kh/xz/hnkhxzbrwywpdvsjdmz8jtd9si4.jpeg" alt="Bild"><br><br>  Dann setzte ich einen Retainer mit der M√∂glichkeit zum Spritzenwechsel ein.  Dabei wurden Handwerkzeuge verwendet - eine Aluminiumecke, ein 2 mm dickes Aluminiumblech, rostfreie Verbindungselemente und viel Handarbeit mit einer B√ºgels√§ge, Feilen und einem Schraubendreher.  Au√üerdem wurde eine Riemenscheibe f√ºr eine gr√∂√üere Anzahl von Z√§hnen am Schrittmotor angebracht, um die Bewegungsgeschwindigkeit des Schiebers zu erh√∂hen.  Die endg√ºltige Ansicht eines Moduls unter 1ml.  Die Spritze ist unten abgebildet. <br><br><img src="https://habrastorage.org/webt/mt/b-/xf/mtb-xf5xp0khkm_6xyynfghj4ek.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/jy/np/sk/jynpskt9uvfhrrmavdd5h3qrma8.jpeg" alt="Bild"><br><br>  F√ºr die Steuerelektronik wurde der Mikrocontroller AT91SAM7X128 ausgew√§hlt.  Es verf√ºgt √ºber eine gro√üe Anzahl von Eingangs- / Ausgangsleitungen, einen USB-Anschluss, f√ºr den im Debugger eine Firmware implementiert wurde und wie die meisten Komponenten nach dem vorherigen Projekt verf√ºgbar war.  Zur Steuerung der Schrittmotoren wurde der Treiber L298N verwendet.  Die Steuerkarte erm√∂glichte den Anschluss einer Taste und zweier LEDs f√ºr jeden Kanal.  Versorgungsspannung f√ºr 24V Motoren.  Die Treiber befinden sich ganz am Rand des Boards und passen so genau an die Seitenwand des Aluminiumgeh√§uses.  Die Platine wurde von JLCPCB hergestellt. <br><br><img src="https://habrastorage.org/webt/wb/ij/fw/wbijfw2frufkqkrqsssuodnlztu.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/kv/0v/8b/kv0v8b6p7egnwhxwimpp2f2airo.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/tu/jr/sf/tujrsf-ki820sopbdgwmv6h5rba.jpeg" alt="Bild"><br><br>  Ein Pr√ºfstand zum Pumpen von Substanzen wurde aufgebaut.  Nach mehreren Starts und langen Ausfallzeiten begannen sich Luftblasen im Silikonschlauchsystem zu bilden, was nicht akzeptabel ist.  Um dies zu vermeiden, wurden teurere R√ºckschlagventile verwendet, die L√§nge der Schl√§uche wurde minimiert, ein kleinerer Schlauchdurchmesser wurde f√ºr eine dichtere Verbindung mit Spritzen verwendet. <br><br><img src="https://habrastorage.org/webt/v1/9b/bo/v19bboucguxgw8hvichshz3ezbw.jpeg" alt="Bild"><br><br><h3>  Verwenden von 3D-Druck und 3D-Modellierung </h3><br>  Bei der derzeitigen Implementierung des Spenderkanals gab es keine Beanstandungen bez√ºglich der Arbeit, aber die Herstellung der Klemme erforderte einen enormen Aufwand.  Und die Klammern f√ºr Spritzen mussten unter 1, 5, 10, 20, 50 ml hergestellt werden.  und f√ºr alle vier Kan√§le.  Urspr√ºnglich wollte ich Teile dieser Klammern zum Laserschneiden und Biegen mit einer Maschine geben.  Aber bei der Herstellung der Testinstanz habe ich alle Details dreimal √ºberarbeitet, da der Fehler bei den Berechnungen 1-1,5 mm betrug.  Dies f√ºhrte dazu, dass die Spritze nicht fest hielt, der Kolben sich zu verbiegen begann und infolgedessen die Dosierungsgenauigkeit instabil war.  Mehrfache Bestellungen von Laserschneidteilen sind nicht billig und schnell.  Dann ist es Zeit, sich mit der Technologie des 3D-Drucks vertraut zu machen.  Der budgetierte Betrag f√ºr das Laserschneiden und Biegen von Aluminium reichte aus, um Teile f√ºr den Grabber i3 3D-Drucker zu erwerben.  Alle notwendigen Teile wurden gekauft und der Prozess des Zusammenbaus, Debuggens und Flashens des Druckers begann. <br><br><img src="https://habrastorage.org/webt/-3/zz/xj/-3zzxjeg78iannsxaw1pzffc8_a.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/dh/gw/vb/dhgwvb8spxuhlxjtqozczbk8izs.png" alt="Bild"><br><br>  Nachdem ich die Arbeit zusammengebaut und eingerichtet hatte, begann ich, 3D-Modellierung zu studieren.  Nach einiger Zeit wurde mir klar, dass die Verwendung eines 3D-Druckers f√ºr einen Entwickler im Wesentlichen unbegrenzte M√∂glichkeiten er√∂ffnet.  Alle nicht standardm√§√üigen Befestigungen, Klemmen, Riegel, K√§sten f√ºr die Elektronik, komplexe vorgefertigte Strukturen - all dies wird leicht zug√§nglich und wird automatisch implementiert, w√§hrend der Entwickler mit anderen Aufgaben besch√§ftigt ist.  Es wurde nach Kompromissen zwischen Kunststofftyp, Druckgeschwindigkeit und -qualit√§t, Haltbarkeit, F√ºllungen und mehr gesucht. <br><br><img src="https://habrastorage.org/webt/na/n4/n6/nan4n67kwzcoo1w6xhflmhyib2m.jpeg" alt="Bild"><br><br>  F√ºr alle Teile wurde ABS-Kunststoff verwendet.  F√ºr einfachere Teile wurde Kunststoff zu einem g√ºnstigeren Preis genommen, f√ºr gr√∂√üere und pr√§zisere Teile jeweils teurerer Kunststoff.  Zur Fixierung der Spritzen wurden Verschl√ºsse entwickelt, deren Umsetzung aus Aluminium schlicht unm√∂glich ist.  Die Klemmengr√∂√üen sind f√ºr jeden Spritzentyp optimiert.  Testteile wurden gedruckt, der erste Prototypenhalter wurde montiert und fehlerfrei bearbeitet.  Um die Bewegung des Dr√ºckers zu stoppen, wurden ein Hallsensor und eine einstellbare Halterung mit einem Magneten verwendet. <br><br><img src="https://habrastorage.org/webt/rn/ux/0z/rnux0zobu926zopfvpcsrfb15f0.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/e5/cx/xf/e5cxxfkfjppywd7kufjyrhbzcss.jpeg" alt="Bild"><br><br>  Die Gesamtansicht des zusammengebauten Testkanalspenders hat die folgende Form angenommen: <br><br><img src="https://habrastorage.org/webt/fr/8i/v2/fr8iv2gkyruejmv0qkstnw35ck4.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/5f/_a/hg/5f_ahg5yaceeko92cgravd5otzo.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/uh/p-/xe/uhp-xeughycwtpmoihgocdrtrno.jpeg" alt="Bild"><br><br>  Nach der Entwicklung von Teilen f√ºr alle Arten von Spritzen wurden Komponenten f√ºr die verbleibenden drei Kan√§le bestellt und der Druck von Klemmkomponenten gestartet. <br><br><img src="https://habrastorage.org/webt/hd/wl/fk/hdwlfkb62ornguecdkcsgb6k8uy.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/mv/bn/u6/mvbnu6alvd6ra6ftowgftb7h0qq.jpeg" alt="Bild"><br><br>  Nach dem Zusammenbau und der Kalibrierung der Mechanik aller vier Kan√§le ergaben sich folgende Ansicht und ungef√§hre Abmessungen des Spenders: <br><br><img src="https://habrastorage.org/webt/gj/cs/lu/gjcslusf_t5qygmv20guppmbgac.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/4p/qr/ii/4pqriip7nwwtucpi0ilh378t4cq.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/qf/6_/tk/qf6_tk_u-e9_hgjdf3evjhki_-a.jpeg" alt="Bild"><br><br>  Alles war bereit, die Kan√§le auf einem gemeinsamen Rahmen aus Aluminiumprofilen zu montieren, Dr√§hte zu verlegen und Elektronik zu installieren, aber der Kunde nahm Anpassungen an den Vorgaben des Projekts vor.  Minimieren Sie zun√§chst den Verbrauch der Substanz, wenn Sie den Spritzentyp oder die Substanz selbst wechseln.  In der aktuellen Implementierung wurde zuerst die Substanz aus dem gro√üen Tank durch ein System von Silikonschl√§uchen und ein R√ºckschlagventil entnommen und dann wurde das Material zum zweiten R√ºckschlagventil und zur Spitze abgelassen.  Vor dem Dosieren war es erforderlich, das verwendete System vollst√§ndig zu f√ºllen und beim Wechsel wieder in den Tank oder in den Arbeitstank zu gie√üen.  Es war wirtschaftlich irrational und erforderte eine zus√§tzliche Zeitverschwendung und erh√∂hte auch die Wahrscheinlichkeit einer Kontamination des Arbeitsplatzes.  Zweitens sollten Sie angesichts der h√∂heren Montagegeschwindigkeit der Spenderkan√§le im 3D-Druck weitere 5 Kan√§le implementieren und diese zu einem F√∂rderer kombinieren.  Diese Implementierung deckte alle m√∂glichen Optionen zum Mischen von Substanzen vollst√§ndig ab.  Auf den ersten Blick sind die √Ñnderungen nicht wesentlich, aber f√ºr ihre Umsetzung musste ich das Projekt komplett √ºberarbeiten. <br><br><h3>  Die Implementierung der zweiten Option Mehrkanal-Dispenser </h3><br>  Um das System der Silikonschl√§uche und -ventile nicht mit einer Substanz zu f√ºllen, wurde beschlossen, ein pneumatisches System mit austauschbaren Spitzen herzustellen.  Die Spitze des erforderlichen Volumens wurde in einen Beh√§lter mit der Substanz getaucht, ein Zaun wurde ausgef√ºhrt, dann wurde die Spitze zum Mischen in ein Gef√§√ü bewegt und es trat ein Aussto√ü auf.  Die Substanz drang nicht in die Silikonschl√§uche ein, es gab keine R√ºckschlagventile, und beim Materialwechsel reichte es aus, nur die Spitze auszutauschen.  Um das Eintauchen der Spitze in einen Beh√§lter mit einer Substanz zu fixieren, wurde ein Fl√ºssigkeitskontaktsensor implementiert.  Es bestand aus 2 d√ºnnen rostfreien Kontakten, die mit einem Logikelement K176LA9 verbunden waren. <br><br><img src="https://habrastorage.org/webt/di/9w/0o/di9w0og7a5yrmtlsco5wqez3mje.jpeg" alt="Bild"><br><br>  Um die Spitzen zwischen den Beh√§ltern mit der Substanz und den Dosen zum Mischen zu bewegen, wurde ein Manipulator unter Verwendung von 2 Servos und einer Basis mit Riegeln entwickelt. <br><br><img src="https://habrastorage.org/webt/hq/gh/vc/hqghvcbem-i4-8yd-nwibdtsaue.jpeg" alt="Bild"><br><br>  Die allgemeine Konstruktion des entwickelten F√∂rderers umfasste 2 Arme mit Spenderkan√§len, einen Block mit einem beweglichen Abschnitt mit gef√ºllten Dosen, 2 Manipulatoren mit Spitzen und 2 F√§cher mit Klammern unter dem Beh√§lter mit der Substanz.  Die Schultern mit Spenderkan√§len und Manipulatoren lagen einander gegen√ºber, und zwischen ihnen befand sich ein Block mit einem beweglichen Abschnitt. <br><br><img src="https://habrastorage.org/webt/7-/q1/l_/7-q1l_cepmct_trhprepl4bqhl8.png" alt="Bild"><br><br>  Eine solche Implementierung erm√∂glichte die gleichzeitige Dosierung von 2 Substanzen pro Dose.  Nach Minimierung aller m√∂glichen Abmessungen der Struktur wurde ein Aluminiumrahmen der folgenden Form erhalten: <br><br><img src="https://habrastorage.org/webt/tt/zm/ud/ttzmudjle9w1dh4artunnwfk-we.jpeg" alt="Bild"><br><br>  Der n√§chste Schritt war die Entwicklung eines beweglichen Teils der gef√ºllten Dosen.  Die Sektion war f√ºr 10 Dosen ausgelegt und wurde von einem Schrittmotor √ºber einen an beiden Enden befestigten Riemen angetrieben.  Die Bewegung des Abschnitts wurde durch 6 Paare kegelf√∂rmiger Rollen realisiert, die sich entlang der Au√üenkante des Aluminiumrahmens bewegten.  Jede Rolle war mit einem Lager an der Seite des beweglichen Abschnitts befestigt.  Die Basis des Abschnitts bestand aus Aluminium und wurde durch Gestelle befestigt.  F√ºr den Riementrieb waren St√ºtzrollen und ein Spanner vorgesehen.  Alle Details des Abschnitts wurden auch auf einem 3D-Drucker gedruckt. <br><br><img src="https://habrastorage.org/webt/qq/js/2p/qqjs2pdddhyctmywrs96yua95-c.png" alt="Bild"><br><br>  Dann wurde eine einstellbare Klammer f√ºr Beh√§lter mit einer Substanz implementiert: <br><br><img src="https://habrastorage.org/webt/6t/cs/v8/6tcsv8crlvvoybyhk8gqyar5heu.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/fy/zl/rr/fyzlrrsm4sz1moejtfevlo0i1nc.png" alt="Bild"><br><br>  Nach der Entwicklung aller Bereiche des automatischen Mehrkomponenten-F√∂rdersubstanzspenders ergab sich folgende Gesamt√ºbersicht: <br><br><img src="https://habrastorage.org/webt/la/-x/yb/la-xybcbqo6i9sej-mbjonfrjhi.jpeg" alt="Bild"><br><br><h3>  F√∂rderersteuerungselektronik </h3><br>  Bei der Implementierung des F√∂rderers f√ºr die Steuerelektronik haben sich auch die Anforderungen ge√§ndert: <br>  - Die Notwendigkeit, 4 Servos zu steuern, wurde hinzugef√ºgt. <br>  - Steuerung des Schrittmotors des beweglichen Teils der gef√ºllten Dosen und Abfrage der Positionssensoren dieses Teils; <br>  - Abfrage des Ber√ºhrungssensors mit der Fl√ºssigkeit; <br>  - Abfrage der Identifikationssensoren des eingebauten Moduls (4 Hallsensoren - 16 m√∂gliche Module); <br>  - Steuerung von 9 Kan√§len. <br><br>  Aufgrund der obigen √Ñnderungen war es nicht m√∂glich, mehrere zuvor entwickelte 4-Kanal-Steuerelektronikmodule zu verwenden.  Es wurde beschlossen, f√ºr jeden Kanal ein gemeinsames Universalmodul zu entwickeln und √ºber das RS485-Protokoll in ein Netzwerk zu integrieren.  Infolgedessen musste jedes Modul die Steuerung von 2 Servos, die Schrittmotorsteuerung, die Abfrage von 5 Hallsensoren (4 f√ºr ein Einsteckmodul und 1 zum Stoppen des Dr√ºckers), die Abfrage eines Fl√ºssigkeitskontaktsensors, die Abfrage von 2 Uhrentasten, die Steuerung von 3 LEDs, Einstellen der Ger√§teadresse und des Daten√ºbertragungsmoduls √ºber RS485.  Der Steuermikrocontroller ist ATmega8A, der Schrittmotortreiber ist DRV8825, das RS485-Daten√ºbertragungsmodul ist HW-0519.  Die Versorgungsspannung f√ºr den Schrittmotor betr√§gt -24V, f√ºr die Logik - 5V.  Die Platine wurde von JLCPCB hergestellt. <br><br><img src="https://habrastorage.org/webt/5h/gd/c9/5hgdc9mjem60ga5shyubipc6l1i.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/e9/21/yk/e921ykhz2hfqwapyqbtewmybcii.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/tc/m6/ub/tcm6ubjpag-awvwsxccpeoxth0q.jpeg" alt="Bild"><br><br>  F√ºr die Steuerelektronik wurde ebenfalls ein Geh√§use f√ºr den 3D-Druck entworfen.  Auf dem Geh√§usedeckel wurde eine Aluminiumplatte montiert, die als K√ºhler f√ºr den Schrittmotortreiber diente.  Thermische Polsterung wurde verwendet, um die Platte und den Treiber zu kontaktieren.  Versiegelte Kabeleinf√ºhrungen wurden zum Anschlie√üen von Sensoren, Steuer- und Versorgungsleitungen verwendet.  Alle Anschl√ºsse wurden zus√§tzlich versiegelt.  Im Geh√§use befanden sich eine Steuerelektronikplatine, ein Spannungswandler und eine Platine mit einem Logikchip f√ºr einen Fl√ºssigkeitskontaktsensor.  Alle Platten wurden mit Polyurethanlack beschichtet. <br><br><img src="https://habrastorage.org/webt/fb/c_/6w/fbc_6wajvxs2nza8nijpzey7sxq.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/bo/ej/vx/boejvxvfynivtfhac7zosu5c9cg.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/fe/un/kf/feunkfngjhahli_gvovvbbrvakq.jpeg" alt="Bild"><br><br><h3>  Produktion eines Mehrkanalf√∂rderers </h3><br>  Nach Abschluss der Konstruktion begann die Fertigungs-, Montage- und Inbetriebnahmephase der einzelnen F√∂rdermodule.  Zun√§chst wurden die fehlenden Komponenten gedruckt und alle Spenderkan√§le zusammengebaut.  Dann wurde das Aluminiumprofil geschnitten und der F√∂rderrahmen, bestehend aus 2 Schultern und einem Block des beweglichen Abschnitts, geschwei√üt. <br><br><img src="https://habrastorage.org/webt/ek/vx/4t/ekvx4tcvlpmcaxbj3svkhkhrqwm.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/xe/on/ha/xeonhal3nzl32tkxjk_j8_uhfyk.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/jx/gg/4_/jxgg4_yblv19yfbt65hxat3l5jk.jpeg" alt="Bild"><br><br>  Die n√§chste Stufe der Versammlung waren Manipulatoren mit Tipps.  Alle Komponenten der Spitzen wurden zusammenklappbar gemacht und auf Riegel montiert.  Dies vereinfacht den Spitzenwechsel erheblich. <br><br><img src="https://habrastorage.org/webt/jq/zx/kr/jqzxkrkbomojkehyquhs_rty_wa.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/wg/md/f5/wgmdf5m21cd-llplvcsrzrl0-im.jpeg" alt="Bild"><br><br>  Eine der arbeitsintensivsten Phasen der Montage ist der bewegliche Teil der Abf√ºlldosen.  Die bedruckten Teile mussten verarbeitet, fest aufeinander abgestimmt und zusammengesetzt, der Aluminiumsockel herausgeschnitten und am Profil befestigt werden, um die Position der konischen Rollen f√ºr eine gleichm√§√üige Positionierung auf dem Aluminiumrahmen einzustellen, ein Schrittmotor, ein Treiber, eine luftdichte Box mit Elektronik, F√ºhrungen und ein Riemenspanner installiert werden sowie eine Gruppe von Positionssensoren der Sektion (Ausgangsposition, Substanzzufuhr, Position - Propylenglykol, Position - Glycerin, Endposition).  F√ºr das aktuelle Modul wurde ein leistungsst√§rkerer Schrittmotor ausgew√§hlt.  Der Schrittmotortreiber ist TB6600. <br><br><img src="https://habrastorage.org/webt/ho/-0/27/ho-027fykwe3ztmborngzxm8swy.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/tf/nl/wj/tfnlwjnpqzcc1evle1pd8r4qu90.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/qp/lv/dp/qplvdpmqndawow5as6vt8-adlpw.jpeg" alt="Bild"><br><br>  Um Vibrationen zu reduzieren, wurden alle Verbindungselemente auch auf einem 3D-Drucker gedruckt.  Nach allen Kalibrierungen betrug der Abstand zwischen dem beweglichen Fach und den Rippen des Aluminiumrahmens nicht mehr als 1-2 mm. <br><br><img src="https://habrastorage.org/webt/bp/jb/bg/bpjbbg3emzzy1q-x2qodxgy2h0y.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/qa/ph/lu/qaphluwwndcspx8rk-6a7llixvg.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/pg/ri/oz/pgriozsvgtggkuujrtugun0vff8.jpeg" alt="Bild"><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/2d619oNfyYU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die M√∂glichkeiten und der Umfang des Einsatzes des 3D-Drucks waren beeindruckend - neben allen Spritzenhaltern, Elektronik- und Motorlagern, Elektronikboxen mit Leiterplatten, Gummidichtungen, wurden auch ganze Abschnitte gedruckt und montiert. Die letzte Komponente f√ºr die Montage des F√∂rderers war eine Klemme f√ºr Sensoren: 4 Sensoren zur √úberpr√ºfung des Typs der montierten Klemme und ein Anschluss f√ºr den Dr√ºcker-Stopp-Sensor. </font></font><br><br><img src="https://habrastorage.org/webt/sn/hf/47/snhf47w5qwisc3ucii55qcqoqbk.jpeg" alt="Bild"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die restlichen Kartons f√ºr die Elektronik wurden ebenfalls vorgepresst, worauf ich mit Manipulatoren zur Endmontage der einzelnen Schultern √ºberging. </font></font><br><br><img src="https://habrastorage.org/webt/ry/xh/u6/ryxhu60gjemhq8nxfz6douoff_i.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/dt/vf/am/dtvfamuukix1zebmspl31w7itnc.jpeg" alt="Bild"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nach dem Zusammenbau und der Installation des ersten Moduls wurden Messungen durchgef√ºhrt und alle Dr√§hte der erforderlichen L√§nge mit installierten Verbindern vorbereitet.</font></font><br><br><img src="https://habrastorage.org/webt/59/i8/nq/59i8nqodkp3mzb1tr3dtqzi2yl8.jpeg" alt="Bild"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nach der Installation des Netzteils und der restlichen Module, dem Verlegen der Stromkabel, der Sensoren und der Kommunikation sowie dem Verlegen in Kisten und dem Befestigen am Rahmen stellte sich die folgende Ansicht einer der Schultern heraus: </font></font><br><br><img src="https://habrastorage.org/webt/q5/zv/ok/q5zvokfvjfwww7wasmlx0tze_vi.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/t2/po/lk/t2polkxwrabv4_nathj8tlgoiva.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/em/1w/ry/em1wry6o2qwewnvjkeqjgrny-40.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/2v/jk/wh/2vjkwh9pwnl-ishrditwx_dvukg.jpeg" alt="Bild"><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/rrPAdKwjACI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nachdem beide Arme zusammengebaut, alle Kan√§le kalibriert, die Position der Abschnitte und die Positionen der Sensoren ausgew√§hlt, alle Kabel und Systeme der Silikonschl√§uche verlegt wurden, erh√§lt der automatische Mehrkomponentenspender die folgende Form: </font></font><br><br><img src="https://habrastorage.org/webt/3u/na/3a/3una3antqp3icrsdnlflnd4oupm.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/vl/zm/xm/vlzmxmixwcintyp6xorowpgtnss.jpeg" alt="Bild"><br><br><img src="https://habrastorage.org/webt/k7/ih/na/k7ihna_oewv0xqr_nyxxz3yvsna.jpeg" alt="Bild"><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Software-Implementierung </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Die F√∂rdersoftware wurde ebenfalls in C ++ neu entwickelt und umfasste die Verarbeitung einer Datei mit Voreinstellungen, die dynamische Anzeige aller Spenderkan√§le, Manipulatoren und eines beweglichen Abschnitts, die Anzeige des Stofff√ºllstands in Beh√§ltern, die Anzeige statistischer Informationen und die Abstimmung aller Einheiten. </font></font><br><br><img src="https://habrastorage.org/webt/_c/dd/nd/_cddndjnujlbhmx72ythbf9f-cw.jpeg" alt="Bild"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Software hat die erforderlichen Einstellungen entsprechend der ausgew√§hlten Voreinstellung vorgenommen. Wurde ein falsches Modul installiert oder fehlte es vollst√§ndig, kam es zu einer Anzeige und einer entsprechenden Meldung. Als der Stoffstand in den Tanks kritisch wurde, erfolgte ebenfalls eine Warnung. Die fehlenden Schritte der Motoren wurden ebenfalls gez√§hlt, und als der Wert den festgelegten Grenzwert √ºberschritt, wurde eine Meldung ausgegeben, die die Kanalnummer und die Notwendigkeit ihrer Wartung angab. Die Einstellungen der Einheiten erm√∂glichten es, die Werte der Schritte des Dosiermotors zu korrigieren, die Position der Manipulatoren zu √§ndern, die Zwischenbedingungen des F√∂rderers zu √ºberpr√ºfen, die Funktion der Sensoren, die Menge des verwendeten Stoffes, die Endprodukte und Fehler w√§hrend des Betriebs zu √ºberpr√ºfen.</font></font><br><br><img src="https://habrastorage.org/webt/uu/sj/ir/uusjird7njy-xm3yvlnvup8nexm.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/m_/zi/xq/m_zixq8nvgwqrruftohazx7bsis.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/ah/hl/67/ahhl67w-qmsmwolaljg6y4oc294.png" alt="Bild"><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/qFzZfKP5xYI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3>  Fazit </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dieses Projekt wurde von mir in meiner Freizeit aus der Hauptarbeit heraus entwickelt, und vom ersten Entwurf bis zur Inbetriebnahme verging ungef√§hr ein Jahr. Nach dem Debuggen und einer gewissen Zeit wurden die Einschr√§nkungen der aktuellen Implementierung sichtbar. Auch nach dem Einbau pr√§ziser Servos konnte der Positionierungsfehler der Manipulatorspitzen deutlich reduziert werden, war aber angesichts der Designschulter immer noch erheblich. In seiner jetzigen Form konnte der F√∂rderer nur gro√üe Dosen bef√ºllen. Ich sah zwei M√∂glichkeiten, um diese Einschr√§nkung zu l√∂sen: Die erste besteht darin, den Manipulatoren eine horizontale Bewegungsachse hinzuzuf√ºgen und die Spitze vertikal in den Beh√§lter mit der Substanz und in das gef√ºllte Gef√§√ü einzutauchen. Die zweite besteht darin, den Kanalspender selbst zu wechseln.realisiert mittels einer peristaltischen pumpe mit mehreren verstellbaren riegeln f√ºr unterschiedliche durchmesser des silikonschlauches. Wenn ich diesen Entwurf noch einmal wiederholen w√ºrde, w√ºrde ich mich f√ºr die zweite Ausf√ºhrungsform des Spenderkanals entscheiden. Mit einer universellen peristaltischen Pumpe f√ºr jeden Kanal konnte ich nicht nur die Dosiergeschwindigkeit verdoppeln, sondern auch die Spitzen √ºber der beweglichen Sektion mit B√§nken fest fixieren und komplizierte Bewegungen der Manipulatoren vermeiden. Es war auch m√∂glich, eine gro√üe peristaltische Universalpumpe und eine Gruppe von automatischen Verschl√ºssen f√ºr jeden Ausgabekanal mit verschiedenen Arten von Silikonschl√§uchen und einem Trommelsatz f√ºr nachf√ºllbare Dosen zu verwenden. Aber all diese Entscheidungen, wie ich am Anfang des Artikels schrieb,Dies zeigte sich erst nach den Erfahrungen bei der Implementierung eines Mehrkomponenten-Dosierers.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alle Quelldateien, 3D-Modelle, elektrischen Schaltkreise, High- und Low-Level-Software sowie Konstruktionsmerkmale des F√∂rderbatchers geh√∂ren dem Kunden - SMAUGY. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Danke f√ºr die Aufmerksamkeit.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de482944/">https://habr.com/ru/post/de482944/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de482934/index.html">Scheitern des ERP-Projekts (Liqui Moly, Otto und andere wie er)</a></li>
<li><a href="../de482936/index.html">Einf√ºhrung in ASGI: Aufbau eines asynchronen Python-Web-√ñkosystems</a></li>
<li><a href="../de482938/index.html">Anwendung der Prinzipien der funktionalen Programmierung bei der Gestaltung von ERP</a></li>
<li><a href="../de482940/index.html">Die Verdauung von frischen Materialien aus der Welt des Frontends f√ºr die letzte Woche Nr. 396 (30. Dezember 2019 - 5. Januar 2020)</a></li>
<li><a href="../de482942/index.html">Mythen und Legenden des alten Fediversums</a></li>
<li><a href="../de482946/index.html">1–° DSS und Sch√§tzung der Projektlaufzeiten und -kosten nach der COCOMO II-Methode</a></li>
<li><a href="../de482948/index.html">"Eins, zwei, drei - verbrenne den Weihnachtsbaum!" Oder mein erster Blick auf den CANNY 3 winzigen Controller</a></li>
<li><a href="../de482950/index.html">Java: Dinge, die einem erfahrenen Entwickler neugierig erscheinen m√∂gen</a></li>
<li><a href="../de482956/index.html">√úberpr√ºfung von WCS 5.2 - WebRTC Server f√ºr Webcast- und Webcam-Entwickler</a></li>
<li><a href="../de482958/index.html">"Wachstumsregeln: Vom Junior zum CTO", Auszug aus einem Webinar von Fedor Borshchev</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>