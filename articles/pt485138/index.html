<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§òüèΩ ü§≤üèæ üßíüèΩ Localiza√ß√£o de aplicativos: como fizemos amigos tradu√ß√£o e desenvolvimento üñêüèæ üé´ üå§Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√° Habr! Sou desenvolvedor l√≠der de localiza√ß√£o no Badoo. Trabalhamos com v√°rios grandes projetos: Badoo, Bumble, Lumen e Chappy. Agora, no sistema d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Localiza√ß√£o de aplicativos: como fizemos amigos tradu√ß√£o e desenvolvimento</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/badoo/blog/485138/"><p><img src="https://habrastorage.org/webt/nf/cq/xr/nfcqxrdevs142q38yne6mjrdsh4.png"></p><br><p>  Ol√° Habr!  Sou desenvolvedor l√≠der de localiza√ß√£o no Badoo.  Trabalhamos com v√°rios grandes projetos: Badoo, Bumble, Lumen e Chappy.  Agora, no sistema de localiza√ß√£o, temos 150.000 frases e textos traduzidos para 52 idiomas.  Al√©m disso, cada um de nossos aplicativos tem seu pr√≥prio p√∫blico, seus mercados, seu pr√≥prio estilo de comunica√ß√£o com os usu√°rios, vers√µes para a web e plataformas m√≥veis. </p><br><p> Neste artigo, mostrarei como criamos o processo de localiza√ß√£o, como abordamos o controle de qualidade, como lan√ßaremos tradu√ß√µes dependendo da plataforma e, o mais importante, como garantimos que os desenvolvedores falem bem do nosso sistema de tradu√ß√£o.  Este √© um ponto muito importante: mais de 300 desenvolvedores trabalham em projetos, cujo trabalho deve ser confort√°vel.  Os desenvolvedores n√£o s√£o tradutores e n√£o devem pensar em tradu√ß√µes. </p><br><p>  O artigo foi escrito com base no <a href="https://youtu.be/OJk9wP8jTak">meu relat√≥rio</a> na confer√™ncia Highload ++ em novembro. </p><a name="habracut"></a><br><h3 id="soderzhanie">  Conte√∫do: </h3><br><p>  <a href="https://habr.com/ru/company/badoo/blog/485138/">Os termos de refer√™ncia para toda a cabe√ßa!</a> <br>  <a href="https://habr.com/ru/company/badoo/blog/485138/">Recursos do processo de tradu√ß√£o</a> <br>  <a href="https://habr.com/ru/company/badoo/blog/485138/">Pedimos aos usu√°rios para ajudar</a> <br>  <a href="https://habr.com/ru/company/badoo/blog/485138/">Organiza√ß√£o de Desenvolvimento</a> <br>  <a href="https://habr.com/ru/company/badoo/blog/485138/">Controle de qualidade de localiza√ß√£o</a> <br>  <a href="https://habr.com/ru/company/badoo/blog/485138/">Vers√µes, Vers√µes</a> <br>  <a href="https://habr.com/ru/company/badoo/blog/485138/">A principal coisa.</a>  <a href="https://habr.com/ru/company/badoo/blog/485138/">Sum√°rio</a> <br>  <a href="https://habr.com/ru/company/badoo/blog/485138/">Materiais adicionais</a> </p><br><p>  Para come√ßar, vamos ver como √© o processo de localiza√ß√£o em nossa empresa. </p><br><p><img src="https://habrastorage.org/webt/xb/ya/w4/xbyaw4efvkzyxtaxumvnbbabwaa.png"><br>  Neste diagrama, n√£o refleti todas as nuances - elas n√£o s√£o necess√°rias para um entendimento geral.  O ponto principal √© que come√ßamos com os termos de refer√™ncia (TOR).  A seguir, vem o desenvolvimento de clientes e servidores e, paralelamente, a eles, √© o processo de tradu√ß√£o. </p><br><p>  TK e a fase final de lan√ßamento n√£o s√£o em v√£o real√ßadas em uma cor.  Essa √© uma dica de que o release deve estar em conformidade com o ToR.  N√£o tem outro jeito.  Se o TK n√£o estiver completo o suficiente, n√£o ficar√° claro para os desenvolvedores respons√°veis ‚Äã‚Äãpelo qu√™, qual deles deve integrar o texto: o "telefone celular" deve "costur√°-lo" no aplicativo m√≥vel ou os desenvolvedores do servidor devem envi√°-lo do servidor em resposta √† solicita√ß√£o. </p><br><p>  Vamos lidar com tudo isso.  Mas primeiro, quero apresentar e explicar um termo. </p><br><blockquote>  Um token √© qualquer texto indivis√≠vel que precise ser traduzido.  Pode ser uma legenda de bot√£o, um t√≠tulo ou um par√°grafo inteiro. </blockquote><p>  Agora estamos prontos para avan√ßar para o material principal! </p><br><h2 id="tehnicheskoe-zadanie">  Termos de Refer√™ncia </h2><br><p>  A primeira etapa do nosso processo √© a prepara√ß√£o das especifica√ß√µes t√©cnicas corretas.  O principal elemento relacionado √† localiza√ß√£o √© a tabela de tokens.  De fato, esta √© uma lista de textos que devem ser usados ‚Äã‚Äãno aplicativo ou no site. </p><br><p><img src="https://habrastorage.org/webt/lg/tg/cb/lgtgcbibmgsl-watz1qqup-_ala.png"></p><br><p>  A tabela de token indica se o texto √© fornecido pelo servidor ou integrado ao aplicativo.  A chave deve ser indicada: se o texto foi usado anteriormente, a chave estar√° presente nesta tabela;  se o texto n√£o foi usado em nenhum lugar, o n√∫mero de s√©rie do texto ser√° indicado e o desenvolvedor poder√° definir uma chave conveniente. </p><br><p>  Reutilizar texto √© um momento muito insidioso.  Por um lado, o processo de localiza√ß√£o √© acelerado e, por outro, voc√™ pode entrar em uma situa√ß√£o engra√ßada. </p><br><p>  Vou explicar com um exemplo.  Uma vez, tivemos a pergunta "Voc√™ fuma?" Com as op√ß√µes de resposta "Sim" e "N√£o".  Aqui vemos tr√™s tokens: dois para respostas e um para a pergunta.  A pergunta foi traduzida para o russo como "Voc√™ fuma?", As respostas s√£o "Eu fumo" e "Eu n√£o fumo".  Decidimos realizar outra pesquisa e reutilizar as op√ß√µes de resposta.  Em ingl√™s, tudo parecia correto: ‚ÄúGosta de visitar uma festa?‚Äù - ‚ÄúSim‚Äù / ‚ÄúN√£o‚Äù.  Em russo, devido √† reutiliza√ß√£o de tokens, o seguinte "di√°logo" acabou: "Voc√™ vai √† festa?" - "Eu fumo" / "Eu n√£o fumo". </p><br><p>  Agora, quando compilamos o ToR e decidimos sobre a reutiliza√ß√£o do texto, levamos em considera√ß√£o em quais contextos ele foi usado anteriormente.  Tamb√©m indicamos se o token √© fornecido pelo servidor ou integrado ao cliente e entregue aos clientes atrav√©s da App Store ou do Google Play. </p><br><p>  Essas t√©cnicas ajudam a economizar tempo porque excluem discuss√µes em est√°gios posteriores. </p><br><h2 id="perevody">  Tradu√ß√µes </h2><br><p>  O pr√≥ximo passo √© a tradu√ß√£o.  E o principal aqui √© n√£o perder o pensamento original.  E isso geralmente acontece, porque todos os idiomas s√£o diferentes, com suas pr√≥prias sombras e curvas.  √Äs vezes, a tradu√ß√£o mais precisa simplesmente n√£o se encaixa na tela e os tradutores precisam encontrar um compromisso. </p><br><p>  Vou falar sobre como come√ßamos a traduzir, como trazemos o contexto para os tradutores, mantemos um estilo comum e verificamos o resultado. </p><br><h3 id="poryadok-perevoda">  Ordem de tradu√ß√£o </h3><br><p>  H√° ordem em que existem regras (e todas as seguem).  Portanto, temos um regulamento sobre a ordem da tradu√ß√£o. </p><br><p>  Para come√ßar, escolhemos um idioma que seja entendido pela maioria dos tradutores.  √â nela que prepararemos os textos originais, para que mais tarde possam ser facilmente traduzidos para outros idiomas.  Todos os idiomas para os quais traduzimos (e temos 52 deles) s√£o divididos em principal (pai) e dialetos.  O idioma em que os textos s√£o preparados √© o ingl√™s (chamamos de mestre).  Al√©m disso, do ingl√™s traduzimos para outros idiomas: espanhol, franc√™s, russo e outros.  √Äs vezes, a tradu√ß√£o precisa ser esclarecida para um dos dialetos - depois traduzimos para o espanhol mexicano ou o ingl√™s australiano.  Mas se n√£o precisarmos disso, usaremos a tradu√ß√£o no idioma principal: espanhol b√°sico ou ingl√™s b√°sico. </p><br><p>  Um exemplo  Digamos que precisamos tornar a sauda√ß√£o mais formal.  Inicialmente, havia "Hey" em ingl√™s, "Hola" em espanhol, "Salut" em franc√™s, "Hello" em russo, "G'day mate" em australiano e "Que onda" em mexicano ("Like a wave ? ‚Äù; Mexicanos s√£o legais!).  Se quisermos mudar o texto, tornando-o mais oficial, teremos que mudar o texto original em ingl√™s.  Nesse momento, as tradu√ß√µes para outros idiomas ficam incorretas: elas precisam ser verificadas e esclarecidas.  Chamamos a aten√ß√£o dos tradutores para isso. </p><br><h3 id="vliyanie-konteksta">  Impacto do contexto </h3><br><p>  Um ponto importante √© o contexto em que a tradu√ß√£o existe. </p><br><p>  Vou explicar com exemplos. </p><br><p>  Imediatamente, observo que alguns exemplos s√£o capturas de tela de recursos conhecidos, mas seus nomes n√£o importam para n√≥s, apenas analisamos os tipos mais comuns de erros na localiza√ß√£o. <br><img src="https://habrastorage.org/webt/lo/bi/zq/lobizqc1vlu7zxvrn3ejwqqhzci.png"><br>  Este √© um sinal com um posto de gasolina: "Antes de iniciar o movimento, verifique se n√£o h√° pistola no tanque".  A palavra "arma" foi traduzida literalmente para o ingl√™s: "arma".  Mas uma arma para um americano √© uma arma.  Nesse contexto, a solicita√ß√£o "Tire a arma do tanque" parece um tanto estranha. </p><br><p>  No exemplo a seguir, os criadores do aplicativo decidiram criar uma vers√£o universal do texto para homens e mulheres - aparentemente, h√° algum benef√≠cio para eles.  A sensa√ß√£o √© de que textos e imagens s√£o simplesmente coletados em uma tela: o que est√° em jogo n√£o √© claro. </p><br><p><img src="https://habrastorage.org/webt/fx/hv/6h/fxhv6h4gfymze8k_q_avdzxk0hi.png"></p><br><p>  O pr√≥ximo exemplo √© sobre como o pensamento original do texto foi perdido como resultado da tradu√ß√£o.  Veja a vers√£o russa √† direita: somos oferecidos a iniciar a comunica√ß√£o conosco.  Embora tenha sido entendido que eles nos d√£o a oportunidade de vincular nossa conta do Instagram. </p><br><p><img src="https://habrastorage.org/webt/o3/ji/-q/o3ji-qvunspolmjgckhfpjpaide.png"></p><br><p>  Tais erros ocorrem quando a tradu√ß√£o ocorre fora do contexto.  Portanto, para cada token em nosso sistema de localiza√ß√£o, o seguinte √© indicado: </p><br><ul><li>  descri√ß√£o do texto; </li><li>  uma imagem que mostra quais elementos est√£o pr√≥ximos ao texto na tela; </li><li>  uma observa√ß√£o sobre se o texto ser√° exibido para homens ou mulheres - para que os tradutores possam determinar se s√£o necess√°rias duas tradu√ß√µes diferentes ou apenas uma; </li><li>  tipos de vari√°veis ‚Äã‚Äã(este √© um ponto muito importante, e eu falarei mais sobre isso quando analisarmos o processo de desenvolvimento); </li><li>  tamanho m√°ximo do texto: √© muito importante para notifica√ß√µes por push, porque a largura da tela de um dispositivo m√≥vel n√£o √© ilimitada. <br>  Al√©m disso, definitivamente dividiremos o texto grande em partes.  Isso √© conveniente se voc√™ precisar pesquisar ou fazer altera√ß√µes. </li></ul><br><p>  Vamos analisar esse momento com mais detalhes.  Quando quebramos o texto, perdemos a conex√£o entre frases e senten√ßas individuais.  Portanto, devemos mostrar aos tradutores o que aconteceu antes e depois deste texto.  Isso √© relevante, por exemplo, no caso de documentos legais - para que sejam traduzidos corretamente. </p><br><p>  Tamb√©m destacamos termos locais, g√≠rias em tokens.  Por exemplo, no caso da frase "Desbloqueie sua lista de curtidas para ver todos os que est√£o interessados ‚Äã‚Äãao mesmo tempo", o tradutor precisa saber que as curtidas nesse caso s√£o um diret√≥rio de aplicativo especial que cont√©m contatos de usu√°rios que gostam do perfil.  Outro exemplo semelhante √© o termo "Hist√≥rias".  H√° dez anos, ningu√©m na palavra "hist√≥ria" imaginava o Instagram.  Agora est√° associado principalmente a ele. </p><br><p>  Portanto, garantimos que a op√ß√£o de tradu√ß√£o seja altamente dependente do contexto, ou seja, dos seguintes fatores: </p><br><ul><li>  Sexo do usu√°rio </li><li>  a vari√°vel num√©rica que aparece no texto: "Voc√™ tem apenas um amigo" e "Voc√™ j√° tem dez amigos"; </li><li>  Plataformas: Web, Android, iOS; </li><li>  o projeto para o qual a tradu√ß√£o est√° sendo executada. </li></ul><br><p>  Vamos nos debru√ßar sobre o √∫ltimo ponto - a depend√™ncia da tradu√ß√£o no projeto.  Isso √© importante porque cada projeto tem seu pr√≥prio estilo. <br><img src="https://habrastorage.org/webt/x1/wl/2d/x1wl2dxpvgw82op7mpcbuftryso.png"><br>  Esses s√£o os cabe√ßalhos das cartas enviadas ao usu√°rio se sua conta foi bloqueada. </p><br><p>  Para o Badoo: "Sua conta est√° bloqueada". <br>  Para o Lumen: "Sua conta est√° bloqueada". <br>  Para Bumble: "Voc√™ foi bloqueado". <br>  E para Chappy - "Ah!" </p><br><p>  Para manter um estilo unificado em cada projeto, voc√™ precisa conceder aos tradutores acesso ao hist√≥rico de tradu√ß√µes.  Temos uma ferramenta chamada Translation memory (TM).  O tradutor sempre tem acesso a informa√ß√µes sobre correspond√™ncias e a porcentagem de similaridade: ele pode usar a tradu√ß√£o antiga ou inserir uma nova.  Mostramos aos tradutores n√£o apenas 100% de correspond√™ncias, mas tamb√©m op√ß√µes menos semelhantes, e definitivamente destacaremos as diferen√ßas. <br><img src="https://habrastorage.org/webt/-b/um/g3/-bumg3pkborvc3sx8scoayxu8nm.png"><br>  Al√©m do fato de a ‚ÄúMem√≥ria de tradu√ß√£o‚Äù permitir preservar o estilo na estrutura do projeto, tamb√©m ajuda a acelerar o processo, pois o tradutor n√£o precisa digitar a mesma coisa duas vezes. </p><br><h3 id="padezhi-i-chislitelnye">  Casos e n√∫meros </h3><br><p>  Temos uma ferramenta chamada Case Matrix.  √â como uma tabuada de multiplica√ß√£o, apenas para mai√∫sculas e min√∫sculas. </p><br><p>  Os tradutores, conforme necess√°rio, preenchem essa matriz para palavras diferentes em cada idioma.  Preench√™-lo em uma etapa √© irreal, ent√£o isso acontece gradualmente: foi preciso uma palavra feita. </p><br><p>  Como resultado, a matriz ajuda a evitar esses erros: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/is/j2/vc/isj2vcq3qezihkcq2rgrpesiz6y.png" width="400"></div><br><p>  A vantagem da ferramenta √© que a forma desejada √© selecionada imediatamente antes da renderiza√ß√£o, antes de ser exibida ao usu√°rio.  Aqui est√° como vai: </p><br><p><img src="https://habrastorage.org/webt/_s/fn/kx/_sfnkxv1s0a7o5sim7hsl2zuhlo.png"><br>  Por exemplo, temos uma tradu√ß√£o para o russo.  "Cr√©ditos" no centro √© um identificador, um link para uma matriz de casos.  O "Valor dos cr√©ditos" √† esquerda √© o n√∫mero que vir√° do desenvolvedor.  E @ 3 √© o caso indicado pelo tradutor (neste caso, o acusativo). </p><br><p>  "Voc√™ precisa de 10 cr√©ditos": a frase "10 cr√©ditos" ser√° substitu√≠da automaticamente. </p><br><h3 id="proverka-perevodov">  Verifica√ß√£o de tradu√ß√£o </h3><br><p>  Se multiplicarmos 150.000 frases e textos em 52 idiomas, obteremos um n√∫mero na regi√£o de 7,5 milh√µes, √© claro, verificar manualmente tudo isso √© irreal.  Portanto, fizemos uma verifica√ß√£o autom√°tica das tradu√ß√µes no momento da economia. </p><br><p>  Verificamos automaticamente recursos como emoji ou vari√°veis ‚Äã‚Äãausentes.  Se o tradutor excluiu acidentalmente uma vari√°vel, a frase perde sua estrutura e significado.  Compare: ‚ÄúVoc√™ precisa de 10 cr√©ditos‚Äù e ‚ÄúVoc√™ precisa de cr√©ditos‚Äù - a segunda frase √© estragada, o pensamento est√° perdido. </p><br><p>  Tamb√©m verificamos o HTML ausente, caso contr√°rio, o layout continuar√°. </p><br><p>  E sempre advertimos o tradutor de que sua tradu√ß√£o √© mais longa que a original.  Nesse ponto, ele deve verificar se √© adequado, se o texto caber√° na tela. </p><br><h4 id="vydelim-osnovnye-momenty">  Destacamos os principais pontos: </h4><br><ul><li>  tradutores precisam entender o contexto; </li><li>  o sistema de tradu√ß√£o deve ser t√£o flex√≠vel que uma tradu√ß√£o apropriada possa ser feita para cada idioma, para que o tradutor n√£o escolha formula√ß√µes universais;  √© necess√°rio suporte para declina√ß√µes e casos; </li><li>  Certifique-se de verificar automaticamente as tradu√ß√µes. </li></ul><br><h2 id="pomosch-polzovateley">  Ajuda do Usu√°rio </h2><br><p>  Al√©m do trabalho de tradutores profissionais, usamos a ajuda dos usu√°rios.  Existem dois m√©todos aqui: teste A / B e tradu√ß√£o conjunta. </p><br><h3 id="ab-testirovanie">  Teste A / B </h3><br><p>  Ent√£o, voc√™ precisa de uma tradu√ß√£o, por exemplo, para o russo.  O tradutor traduziu uma frase de duas maneiras diferentes e voc√™ n√£o sabe qual op√ß√£o escolher.  Nesse caso, voc√™ pode realizar um teste A / B: mostre aos usu√°rios op√ß√µes diferentes e escolha uma, dependendo da rea√ß√£o deles. </p><br><p>  Tivemos uma escolha entre duas op√ß√µes: ‚ÄúPronto para novos conhecidos?  Participe! ‚ÄùE‚Äú Mais alguns passos ... e voc√™ se tornar√° parte do Badoo. "  Como resultado dos testes, descobrimos que mais usu√°rios conclu√≠ram o registro quando viram a segunda op√ß√£o de notifica√ß√£o por push.  N√≥s o deixamos. </p><br><p>  Abaixo est√° um resumo completo dos fatores dos quais a op√ß√£o de tradu√ß√£o depende.  O quinto elemento √© apenas um teste A / B: se o usu√°rio se enquadra em algum grupo, ser√° mostrada a vers√£o correspondente do texto. </p><br><p><img src="https://habrastorage.org/webt/in/ex/4-/inex4-w4uv5uwal9nijqawj-ah4.png"></p><br><h3 id="sovmestnyy-perevod">  Tradu√ß√£o conjunta </h3><br><p>  Depois que enviamos aos usu√°rios do M√©xico uma notifica√ß√£o solicitando que eles traduzissem alguns textos para o idioma por uma pequena taxa na forma de empr√©stimos - a moeda interna do aplicativo.  E eles concordaram: em apenas dois dias, 5.000 tokens foram traduzidos para n√≥s.  √â uma grande ajuda, e os mexicanos s√£o √≥timos! </p><br><p>  O que √© interessante e por que essa abordagem √© importante?  Se voc√™ n√£o possui um tradutor de dialeto local, permita que os usu√°rios fa√ßam esse trabalho.  Como se viu, eles est√£o realmente prontos para participar do desenvolvimento de um projeto que eles gostam. </p><br><p>  Temos uma <a href="https://translate.badoo.com/">plataforma de tradu√ß√£o colaborativa</a> .  Voc√™ pode fazer login usando sua conta do Badoo.  E vote na melhor tradu√ß√£o. </p><br><p><img src="https://habrastorage.org/webt/fj/0h/ju/fj0hju7qxogr5qamrgjb17jz2bq.png"><br>  Esta √© uma captura de tela da janela de tradu√ß√£o em alem√£o.  O usu√°rio pode adicionar sua pr√≥pria vers√£o.  Quando uma das op√ß√µes obt√©m um n√∫mero limite de votos, mostramos ao nosso tradutor em tempo integral e pode ser usada como a principal (desde que corresponda ao estilo, √†s regras do projeto, n√£o ofenda ningu√©m e assim por diante). </p><br><p>  N√£o tenha medo de pedir ajuda aos usu√°rios.  Eles pedir√£o e ajudar√£o. </p><br><h2 id="razrabotka">  Desenvolvimento </h2><br><p>  Passamos para o mais interessante - para o processo de desenvolvimento.  Falei especificamente sobre o processo de tradu√ß√£o, descrevi problemas comuns e depois mostrei como os desenvolvedores resolvem esses problemas. </p><br><p>  Existem duas dificuldades principais: como organizar o desenvolvimento paralelo e como rastrear erros ao usar tokens para que as tradu√ß√µes corretas apare√ßam no momento certo. </p><br><h3 id="parallelnaya-razrabotka">  Desenvolvimento paralelo </h3><br><p>  Vou come√ßar com a hist√≥ria.  Anteriormente, nosso esquema de desenvolvimento parecia diferente.  O c√≥digo fonte foi armazenado em um arquivo no reposit√≥rio.  Dois desenvolvedores poderiam mudar algo em paralelo e, em seguida, houve a necessidade de combinar essas mudan√ßas.  O problema √© pequeno, mas inconveniente. <br><img src="https://habrastorage.org/webt/ah/ri/op/ahriop_pe2yunladuczzimjbsdg.png"><br>  <em>O antigo esquema no qual as mudan√ßas precisavam ser combinadas</em> </p><br><p>  Agora, alteramos e adicionamos tokens centralmente no sistema de localiza√ß√£o.  Os desenvolvedores precisam apenas baixar um conjunto de tokens antes de iniciar o trabalho na tarefa e us√°-los.  A chave est√° indicada, voc√™ escreveu o c√≥digo, usa-o - tudo o que voc√™ n√£o pensa em mais nada. </p><br><h3 id="oshibki-pri-ispolzovanii-leksem">  Erros ao usar tokens </h3><br><p>  Existem muitas vari√°veis ‚Äã‚Äãnas tradu√ß√µes. <br><img src="https://habrastorage.org/webt/tr/4p/mm/tr4pmmcfltxw7stx6hqj6kjzafi.png"><br>  Se voc√™ estiver com pressa, pode facilmente confundir "quantidade de cr√©dito" e "cr√©dito".  Para evitar isso, introduzimos o controle - um cont√™iner de texto, um tipo de abstra√ß√£o sobre a tradu√ß√£o, que sabe que tipo de vari√°veis ‚Äã‚Äãs√£o usadas nessa tradu√ß√£o.  Ele executa a substitui√ß√£o e verifica se os tipos de valores passados ‚Äã‚Äãpara a substitui√ß√£o s√£o conforme o esperado.  Se todas as substitui√ß√µes forem feitas, ele retornar√° uma linha que j√° pode ser mostrada ao usu√°rio.  Caso contr√°rio, o mesmo cont√™iner √© retornado.  Se tentarmos mostrar ao usu√°rio uma tradu√ß√£o antes de concluir todas as substitui√ß√µes, veremos um aviso nos logs e saberemos para onde ir e como corrigir a situa√ß√£o. </p><br><h4 id="osnovnye-momenty-v-razrabotke">  Destaques em desenvolvimento: </h4><br><ul><li>  os desenvolvedores devem lidar apenas com seu trabalho - eles n√£o devem pensar em localiza√ß√£o, altera√ß√£o de textos e assim por diante; </li><li>  voc√™ precisa verificar o que os desenvolvedores fizeram, e essa verifica√ß√£o tamb√©m √© melhor para automatizar - isso preservar√° as c√©lulas nervosas de todos os participantes do processo. </li></ul><br><h2 id="kontrol-kachestva">  Controle de qualidade </h2><br><p>  Ent√£o, j√° temos um produto desenvolvido que traduzimos.  Resta verificar o qu√£o bem fizemos. </p><br><p>  Vamos come√ßar com os exemplos.  Quantos batentes nesta captura de tela? </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/_j/gv/kn/_jgvknlwwxo47huj9cwj-dra3fa.png" width="350"></div><br><p>  Eu destaquei dois.  Acima - o tradutor aparentemente n√£o sabia que uma dist√¢ncia seria mostrada na frente de sua frase.  Inferior - a largura da tela na qual a tradu√ß√£o √© exibida n√£o √© levada em considera√ß√£o. </p><br><p>  O segundo exemplo tamb√©m diz respeito a tradu√ß√µes muito longas que n√£o correspondem √† largura da tela - tudo √© simplesmente recortado aqui, a inscri√ß√£o n√£o cabe no bot√£o. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/on/lf/0u/onlf0uznl5earnq1m2lwpantgco.png" width="350"></div><br><p>  No exemplo a seguir, al√©m de nos mostrar texto em diferentes idiomas, tamb√©m nos √© oferecido o conhecimento da dor. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sb/_f/lk/sb_flkmdm0wbs63r4l39yzpvxgk.png" width="350"></div><br><p>  Para evitar que esses erros ocorram no produto, o controle de qualidade √© simplesmente necess√°rio. </p><br><h3 id="varianty-kontrolya">  Op√ß√µes de controle </h3><br><p>  Vamos ver quais op√ß√µes de controle existem. </p><br><p>  O primeiro que vem √† mente √© verificar a tradu√ß√£o em uma vers√£o de teste do site ou aplicativo.  Ou seja, basta come√ßar e ver se o que aconteceu √© consistente com o design, ideia, especifica√ß√µes t√©cnicas e assim por diante.  Usando esse m√©todo, detectamos esse erro na notifica√ß√£o por push: </p><br><p><img src="https://habrastorage.org/webt/qg/39/ct/qg39ctmg1m03q8keznq_eh96uv4.png"></p><br><h4 id="skrinshoty-prilozheniya">  Capturas de tela do aplicativo </h4><br><p>  O pr√≥ximo m√©todo de controle de qualidade √© de acordo com as capturas de tela do aplicativo. </p><br><p>  Desenvolvemos uma ferramenta especial que, em um ambiente de teste, captura capturas de tela de todas as telas de aplicativos m√≥veis em todos os idiomas.  Voc√™ pode ver como eles ficam no navegador.  H√° tamb√©m um modo especial, alternando para o qual podemos ver os identificadores do texto que nos s√£o mostrados.  Isso ajuda muito na depura√ß√£o: voc√™ pode descobrir rapidamente qual token √© e por que chegou at√© onde chegou (talvez tenhamos herdado o c√≥digo no qual esse token √© substitu√≠do). </p><br><p>  Se voc√™ possui uma vers√£o da Web e precisa apenas tirar fotos de algum lugar, pode integrar marcadores de token no texto de origem, escrever um plug-in para o Google Chrome - e nas m√°quinas dos testadores, em seus navegadores, esse plug-in enviar√° capturas de tela de p√°ginas para o seu sistema de localiza√ß√£o em que ele descobriu fichas. </p><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--lexeme_12345--&gt;</span></span>  <span class="hljs-comment"><span class="hljs-comment">&lt;!--lexeme_12345_end--&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Usamos esse m√©todo por algum tempo.  Ele permitiu coletar um grande n√∫mero de fotos em apenas duas semanas.  Mas n√≥s recusamos, porque com ele voc√™ s√≥ pode obter imagens da vers√£o j√° lan√ßada e aprendemos como obter fotos e design na fase de forma√ß√£o do TK. </p><br><h4 id="kontrol-vo-vremya-perevoda">  Controle durante a tradu√ß√£o </h4><br><p>  Como eu disse acima, parecia-nos insuficiente tirar fotos quando j√° existe um aplicativo pronto.  Decidimos fazer capturas de tela quando o aplicativo ainda n√£o est√° pronto, quando ainda n√£o h√° nada e √© necess√°rio controlar de alguma forma a qualidade, para entender se tudo est√° indo como deveria. </p><br><p>  Ent√£o, n√≥s temos uma ferramenta de controle durante a tradu√ß√£o. <br><img src="https://habrastorage.org/webt/hg/fo/te/hgfotes0rb0xnjta0taqzqwwebm.png"><br>  Vou explicar o princ√≠pio do seu trabalho.  Nossos designers usam o Sketch, um aplicativo no qual eles criam interfaces, incluindo interfaces de aplicativos m√≥veis.  Aprendemos como substituir textos nos arquivos do Sketch e gerar capturas de tela da tela que precisamos usando a interface do software Sketch.  Agora, no processo de trabalho do tradutor, podemos mostrar imediatamente a ele capturas de tela de telas em seu idioma.  E para fazer isso antes mesmo de os desenvolvedores come√ßarem a criar a primeira vers√£o da nova funcionalidade. </p><br><p>  Mais tarde, projetamos esta solu√ß√£o como c√≥digo-fonte aberto ( <a href="https://habr.com/ru/company/badoo/blog/338814/">artigo</a> , <a href="https://github.com/AlexTimin/sketch-modifier">c√≥digo</a> ). </p><br><h4 id="audit-perevoda">  Auditoria de tradu√ß√£o </h4><br><p>  Se n√£o for poss√≠vel verificar a tradu√ß√£o em qualquer idioma espec√≠fico, por exemplo, em japon√™s, voc√™ poder√° solicitar uma auditoria seletiva, ou seja, uma empresa terceirizada poder√° mostrar a tradu√ß√£o de cada cent√©simo token com uma imagem e perguntar se est√° tudo correto. </p><br><h4 id="osnovnye-momenty-v-kontrole-kachestva">  Destaques no controle de qualidade: </h4><br><p>  √© necess√°ria uma avalia√ß√£o visual da qualidade da tradu√ß√£o; <br>  durante o processo de teste, √© importante entender quais dispositivos seu p√∫blico est√° usando e testar o aplicativo em todos esses dispositivos. </p><br><h2 id="reliz">  Data de lan√ßamento </h2><br><p>  Portanto, testamos a funcionalidade escrita legal.  Resta entreg√°-lo aos usu√°rios. </p><br><h3 id="versionirovanie-leksem">  Tokens de vers√£o </h3><br><p>  Em nosso aplicativo Badoo, havia um servi√ßo Super Power.  Em algum momento, precis√°vamos mudar o nome para ‚ÄúBadoo Premium‚Äù e, ao mesmo tempo, em todas as vers√µes, era at√¥mica para que o usu√°rio n√£o visse ‚ÄúSuper Strength‚Äù em uma tela e ‚ÄúBadoo Premium‚Äù na outra. </p><br><p>  Para fazer isso, anexamos uma vers√£o de token a cada ramo de tarefa no Jira.  Quando inclu√≠mos altera√ß√µes de uma ramifica√ß√£o em uma nova vers√£o de um projeto, a nova vers√£o dos tokens √© imediatamente exibida.  Se voc√™ precisar reverter algo, removeremos o ramo da tarefa da nova vers√£o e, juntamente com ele, a vers√£o dos tokens com tradu√ß√µes para todos os idiomas. </p><br><p>  Quando um token √© testado ou quando os usu√°rios j√° o veem, √© preciso ter muito cuidado: √© melhor n√£o alterar nada, mas criar uma nova vers√£o, anex√°-lo ao ticket e, com a nova vers√£o, implantar a nova vers√£o do token com novas tradu√ß√µes. </p><br><h3 id="versionirovanie-perevodov">  Versionamento de Tradu√ß√£o </h3><br><p>  No entanto, voc√™ pode cometer erros durante a tradu√ß√£o.  No exemplo abaixo, existem dois deles. </p><br><p>  Falso: "√â um descanso." <br>  Verdade: "√â uma revanche". </p><br><p>  Em ingl√™s, voc√™ n√£o pode usar o ap√≥strofo direto.  A letra "c" tamb√©m est√° ausente. </p><br><p>  Tokens de vers√£o e tradu√ß√µes de vers√£o s√£o duas coisas diferentes.  A tradu√ß√£o pode ser corrigida a qualquer momento: quando a tarefa estiver em desenvolvimento, quando estiver no est√°gio de teste ou mesmo quando a funcionalidade j√° tiver sido trazida para o usu√°rio (nada de ruim acontecer√° se os usu√°rios virem a tradu√ß√£o corrigida na nova vers√£o do aplicativo). </p><br><h3 id="server--smartfon">  Servidor! = Smartphone </h3><br><p>  A entrega de atualiza√ß√µes para plataformas diferentes ocorre de maneiras diferentes.  Se voc√™ estiver desenvolvendo um aplicativo m√≥vel, certifique-se de ter as partes do servidor e do cliente. </p><br><p>  O que voc√™ mostra ao usu√°rio vem parcialmente do servidor ou est√° localizado em seu smartphone (por exemplo, tradu√ß√£o integrada). <br><img src="https://habrastorage.org/webt/r2/kg/ds/r2kgdslkka-vttrapuv6hptobfs.png"><br>  O caminho que passa a transfer√™ncia do servidor para o usu√°rio est√° no nosso servidor de produ√ß√£o, onde voc√™ pode entregar facilmente vers√µes atualizadas de arquivos com tradu√ß√µes. </p><br><p>  Mas o caminho da tradu√ß√£o integrada √© longo: est√° na App Store ou no Google Play.  O usu√°rio baixa a atualiza√ß√£o e somente depois v√™ a corre√ß√£o.  Esse processo parecia muito lento para n√≥s e criamos nosso pr√≥prio mecanismo de atualiza√ß√£o "Hot Update".  Ele permite gerar uma nova vers√£o de tradu√ß√µes com o clique de um bot√£o e deixar claro para todos os clientes no mundo que h√° algo novo que precisa ser baixado e usado. <br><img src="https://habrastorage.org/webt/oc/4u/fv/oc4ufva4riryrpwvm0dlwzpydw0.png"><br>  Quando o aplicativo √© iniciado em um dispositivo m√≥vel, ele envia uma notifica√ß√£o de inicializa√ß√£o ao servidor e relata a vers√£o atual das tradu√ß√µes.  Se o sistema de localiza√ß√£o tiver uma atualiza√ß√£o pronta, ele emitir√° uma notifica√ß√£o em resposta.  O cliente baixa a atualiza√ß√£o, aplica-a. </p><br><p>  O usu√°rio ver√° novas tradu√ß√µes quando mudar para a pr√≥xima tela.  Dois de nossos artigos s√£o dedicados √† implementa√ß√£o desta solu√ß√£o: <a href="https://tech.badoo.com/ru/article/403/obnovlenie-strok-na-letu-part-1/">um</a> e <a href="https://tech.badoo.com/ru/article/419/obnovlenie-strok-na-letu-v/">dois</a> . </p><br><h4 id="reliz-osnovnye-momenty">  Lan√ßamento: Destaques </h4><br><p>  No processo de libera√ß√£o, voc√™ deve levar em considera√ß√£o o caminho que o aplicativo percorre de voc√™ para seus clientes.  Provavelmente, diferentes partes do seu aplicativo s√£o atualizadas de maneira diferente. </p><br><h2 id="finalnye-vyvody">  Conclus√µes finais </h2><br><p>  Vamos voltar ao esquema que citei no in√≠cio do artigo. <br><img src="https://habrastorage.org/webt/xb/ya/w4/xbyaw4efvkzyxtaxumvnbbabwaa.png"><br>  O que voc√™ deve prestar aten√ß√£o se estiver desenvolvendo um sistema de tradu√ß√£o: </p><br><ul><li>  escreva termos de refer√™ncia detalhados; </li><li>  levar em conta o contexto e fornecer aos tradutores acesso a ele; </li><li>  manter um hist√≥rico de tradu√ß√µes para manter um estilo unificado dentro do projeto; </li><li>  automatizar o controle (caso contr√°rio, qualquer tradutor aleat√≥rio localizado em v√°rios fusos hor√°rios poder√° fazer tudo √† sua maneira); </li><li>  livre desenvolvedores de resolver tarefas n√£o essenciais.  Eles criam novas vers√µes do seu produto, alegram os usu√°rios e satisfazem o projeto que voc√™ est√° criando. </li></ul><br><h3 id="materialy-kotorymi-ya-by-hotel-s-vami-podelitsya">  Materiais que eu gostaria de compartilhar com voc√™ </h3><br><p>  <a href="https://tech.badoo.com/ru/article/403/obnovlenie-strok-na-letu-part-1/">Atualizar seq√º√™ncias em tempo real em aplicativos m√≥veis: parte 1</a> </p><br><p>  <a href="https://tech.badoo.com/ru/article/419/obnovlenie-strok-na-letu-v/">Atualizar seq√º√™ncias em tempo real em aplicativos m√≥veis: parte 2</a> </p><br><p>  <a href="https://habr.com/ru/company/badoo/blog/317484/">Como ensinar um aplicativo Web a falar 100 idiomas: recursos de localiza√ß√£o</a> </p><br><p>  <a href="https://habr.com/ru/company/badoo/blog/338814/">Traduzimos interfaces para cinquenta idiomas.</a>  <a href="https://habr.com/ru/company/badoo/blog/338814/">Esbo√ßo</a> </p><br><p>  <a href="https://github.com/AlexTimin/sketch-modifier">Modificador de esbo√ßo do Github</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt485138/">https://habr.com/ru/post/pt485138/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt485124/index.html">Testes puros em PHP e PHPUnit</a></li>
<li><a href="../pt485126/index.html">Mu-mu, woof-woof, quack-quack: evolu√ß√£o da comunica√ß√£o ac√∫stica</a></li>
<li><a href="../pt485128/index.html">Economize nas licen√ßas Mikrotik CHR</a></li>
<li><a href="../pt485132/index.html">Participe do Festival de jogos independentes do Google Play</a></li>
<li><a href="../pt485136/index.html">Rastreamento e monitoramento Istio: microsservi√ßos e o princ√≠pio da incerteza</a></li>
<li><a href="../pt485144/index.html">Como consertei uma base quebrada e o que veio dela</a></li>
<li><a href="../pt485146/index.html">Sal√°rios em TI no segundo semestre de 2019: de acordo com a calculadora Habr Career</a></li>
<li><a href="../pt485148/index.html">Esse ador√°vel Unicode</a></li>
<li><a href="../pt485152/index.html">Est√°gio de primavera para desenvolvedores m√≥veis da Redmadrobot</a></li>
<li><a href="../pt485154/index.html">Como criar uma marca nerd de um desenvolvedor: um sistema de motiva√ß√£o para programadores</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>