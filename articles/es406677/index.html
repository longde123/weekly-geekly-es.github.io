<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏑 🔶 🌑 Pi-Sonos o altavoces portátiles de bricolaje en la Raspberry Pi ⚜️ 😁 🤱</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cualquiera que se haya encontrado con los productos de Sonos definitivamente aceptará que Sonos es Apple del mundo de la acústica portátil (en cualqui...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pi-Sonos o altavoces portátiles de bricolaje en la Raspberry Pi</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/406677/"><img src="https://habrastorage.org/web/ff6/20c/c31/ff620cc31ae74fd1985615b8d7d6dbcc.jpg"><br><br>  Cualquiera que se haya encontrado con los productos de Sonos definitivamente aceptará que Sonos es Apple del mundo de la acústica portátil (en cualquier caso, el HomePod aún no se ha lanzado oficialmente).  Sonidos acústicos: una combinación de minimalismo, calidad y comodidad, que se deleita desde el primer toque.  No soy el orgulloso propietario de esta acústica, pero mi conocimiento de Sonos Play 1 me impresionó tanto que decidí crear algo similar: una acústica doméstica portátil con Raspberry Pi.  Debajo del corte, te diré cómo lo hice. <br><a name="habracut"></a><br>  Soñé con tratar de hacer algo en la Raspberry Pi desde su inicio, pero no podía pensar en un uso adecuado de la "frambuesa" en la vida cotidiana.  La idea de crear una acústica basada en ella nació por casualidad, cuando durante otras reuniones en nuestra casa mi amigo notó con razón que no había suficiente música de fondo en la sala de estar.  La idea de hacer mi propio Sonos me capturó de inmediato. <br><br>  Los requisitos para el futuro sistema de altavoces eran obvios: repetir o imitar la conveniencia de Sonos Play 1: "lo metió en la toma y lo controló desde el teléfono inteligente".  En este sentido, Raspberry es casi perfecto: ya hay Wi-Fi y Bluetooth en el tablero, y puede ejecutar Kodi, que mastica todo y que ya tiene aplicaciones de control remoto para iOS y Android.  Sin embargo, para obtener el resultado deseado, aún era necesario implementar una serie de soluciones de ingeniería, a saber: <br><br><ol><li>  Recoger altavoces </li><li>  Lleve el sonido de frambuesa a los altavoces </li><li>  Alimenta a todas las glándulas </li><li>  Construye un hermoso diseño acústico para altavoces </li><li>  Para lograr simplicidad y facilidad de manejo </li></ol><br><h3>  1. Elija altavoces </h3><br>  Era necesario elegir los altavoces correctos para que, por un lado, fueran lo suficientemente grandes (para un rango de frecuencia más amplio) y, por otro lado, pequeños, ya que se planeaba que los altavoces fueran portátiles.  Después de un largo tormento de elección, leer las reseñas y comparar las características, me decidí por los altavoces coaxiales de 5 pulgadas JBL Club 5020 de 5 pulgadas para automóvil.  Mi experiencia personal ayudó aquí: los altavoces de mi estantería en mi oficina comienzan a reproducirse desde 50 Hz, emitiendo graves notables, pero en una situación habitual, mi cabeza rápidamente comienza a lastimarlo, por lo que elimino cuidadosamente todo lo que está por debajo de 70Hz con el ecualizador.  En realidad, es por eso que no pagué demasiado por los altavoces que prometen frecuencias más bajas.  Además, JBL tiene un diseño agradable, e inmediatamente tuve una idea de cómo superar esto. <br><br><h3>  2. Lleva el sonido de Raspberry a los altavoces </h3><br>  En el "Malinka" hay 3 posibilidades de salida de sonido: mini-jack, HDMI y GPIO.  Solo perezoso no jura por la calidad del sonido que sale de un miniconector, y HDMI es difícil.  Pero para el GPIO hay excelentes opciones.  El primero es el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Suptronics X400</a> , que es un DAC audiófilo de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">384 kHz</a> (PCM5122) y un amplificador estéreo de clase D de 20 W (TPA3118D2), soldado en una placa.  El segundo es Hifiberry, que ofrece placas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">DAC +</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">AMP +</a> separadas (DAC y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">amplificador,</a> respectivamente).  Al mismo tiempo, la placa Suptronics parece preferible.  Además del hecho de que este es un tablero en lugar de dos, también es más barato y es más fácil comprar / entregar a la Federación Rusa. <br><br><h3>  3. Alimenta todas las glándulas </h3><br>  La fuente de alimentación se tomó 12V, a pesar del hecho de que la frambuesa funciona con 5V a través de micro-USB.  Se trata de Saptronic genial: alimenta la "frambuesa" a través del GPIO.  Esta es una solución lógica y práctica, dado que el amplificador de audio consume mucha más energía que la "frambuesa".  El X400 puede ser alimentado por cualquier fuente de alimentación con un voltaje constante de 6 a 24 voltios, pero es a partir de 12 voltios que la indicación LED del funcionamiento del altavoz también podría alimentarse, lo que se usó como recortador de mi cinta Navigator 12V 4.8W / m.  En realidad, la fuente de alimentación se ordenó al vendedor de tiras de LED en Ali. <br><br><h3>  4. Construye un hermoso diseño acústico para altavoces </h3><br>  Quizás este fue el mayor problema de todo el proyecto.  La elección del material fue entre mi madera contrachapada de 15 mm y el MDF de 8 mm.  Para la acústica, por supuesto, era mejor tomar madera contrachapada, pero el MDF era más fácil de procesar, y la resistencia del MDF era suficiente para una potencia y tamaño determinados.  Además, se suponía que la caja tenía una serie de agujeros (para el cable de alimentación y los conectores HDMI, RJ-45 y USB, control de volumen e inversor de fase), lo que complicó aún más la tarea en el caso de la madera contrachapada.  Además, no tengo suficiente experiencia y herramientas para hacer algo más interesante de madera contrachapada que una simple caja rectangular.  Y preferí el MDF maleable. <br><br>  Por separado, vale la pena mencionar acerca de FI.  Hacer una "caja cerrada" sería más fácil, pero después de leer varios materiales, me di cuenta de que sería un error.  Con el volumen planeado (~ 4.5 litros), se creará una resistencia acústica suficientemente fuerte dentro de la caja cerrada para dos altavoces de cinco pulgadas, lo que finalmente conducirá a un aumento en la frecuencia más baja de todo el sistema de altavoces en su conjunto.  No quería hacer un "chirrido" de cinco litros, y el calor de la electrónica que se calentaba constantemente también tuvo que ser eliminado en alguna parte.  Como resultado, el reflejo de bajos ranurado se diseñó para una frecuencia de 60-65Hz, ligeramente más baja que la frecuencia más baja de los altavoces, con el margen de que el volumen interno de la caja disminuirá ligeramente debido a las glándulas y el material insonorizado, y, por lo tanto, la frecuencia aumentará. <br><br><div class="spoiler">  <b class="spoiler_title">Escondí la descripción del proceso con fotos debajo del spoiler</b> <div class="spoiler_text">  Primero, se cortaron los paneles frontales en los que se deben montar los altavoces.  No fue difícil: había una plantilla especial en la caja de los altavoces.  Para una mayor resistencia, pegué 2 capas de MDF con clavos líquidos, para una mayor resistencia, porque cada altavoz pesa medio kilo. <br><br><img src="https://habrastorage.org/web/bb0/777/8b5/bb07778b58eb47a987e7080ac7e64d61.jpg"><br><br><img src="https://habrastorage.org/web/819/cc1/3b0/819cc13b021e4e8e8e5fc7ceebef31a1.jpg"><br><br>  Luego, las paredes inferiores y laterales salieron de debajo del rompecabezas. <br><br><img src="https://habrastorage.org/web/2d7/880/126/2d7880126e4a409a91e75d7c79c50d05.jpg"><br><br>  Tuve que jugar con las paredes superior y posterior.  En la pared posterior, era necesario llegar a una conclusión para los conectores y el reflejo de graves, y en la superior había una abertura para el control de volumen.  Rehice la pared posterior tres veces por varias razones, en la versión final también agregó un interruptor de encendido y conclusiones para los cables: alimentación y HDMI.  Afortunadamente con la cubierta superior: el orificio para el control de volumen pudo ajustarse la primera vez.  Bueno, en general fue fácil hacer un reflejo de graves.  También tuve que sacar conclusiones adicionales de la placa Suptronics debajo de los "tulipanes", para no hacer agujeros adicionales en la cubierta superior. <br><br>  En el espacio entre los altavoces había un soporte con LED que se ilumina cuando se enciende la alimentación.  Además de la belleza, se suponía que este bar serviría como un refuerzo adicional de toda la estructura.  Según lo planeado, se suponía que los LED debían brillar en naranja (el color de los insertos en los altavoces), y para esto tuve que pintar un pedazo de plástico transparente mate con pintura naranja. <br><br><img src="https://habrastorage.org/web/54d/d59/806/54dd59806d414c5db30ad8cacac502a2.jpg"><br><br>  Todas las partes se pegaron con polietileno espumado (soporte laminado).  Este material tiene suficiente aislamiento principalmente del ruido de golpes y vibraciones.  Luego, todo se ensambló con tornillos autorroscantes y clavos líquidos.  Las costuras y las grietas se untaron con sellador, y para aislar los ángulos rectos, también se les pegó aislamiento acústico. <br><br><img src="https://habrastorage.org/web/c09/9aa/790/c099aa7901624fab887db70dd38bcdf1.jpg"><br><br>  Luego, el cuerpo fue masillado, lijado ... <br><br><img src="https://habrastorage.org/web/277/92a/3af/27792a3af22d4aa1b8988936a631a0b3.jpg"><br><br>  ... y pintado con esmalte en dos capas.  Los altavoces se asentaron en la caja con tornillos autorroscantes con una arandela, cuyas cabezas luego también se tiñeron del color de la caja. <br></div></div><br>  Columna de producción: <br><br><img src="https://habrastorage.org/web/049/5e0/a90/0495e0a902e848bd9453cae118121a36.jpg"><br><br><img src="https://habrastorage.org/web/c4c/7c3/9f3/c4c7c39f3c4a4d2891beac560bcc963c.jpg"><br><br><h3>  5. Para lograr simplicidad y facilidad de manejo </h3><br>  La asamblea es la mitad de la batalla.  La segunda mitad es el software.  No todo es fácil aquí tampoco. <br>  Por supuesto, antes de sellar para siempre la Raspberry Pi en las entrañas de la carcasa, instalé una imagen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">OSMC</a> en ella.  Quién no sabe: este es el mismo Kodi, solo incrustado.  Este es un reproductor multimedia que reemplaza la interfaz gráfica del sistema operativo y le permite configurar redes y servicios, etc.  Entre el paquete Raspbian + Kodi y OSMC, todos los beneficios están claramente del lado de este último. <br><br>  Después de instalar el sistema y configurar la tarjeta de sonido de acuerdo con las instrucciones del sitio web de Suptronics, todo lo que quedaba era agregar la extensión Radio a OSMC y meter en ella una docena de sus estaciones de radio favoritas.  Luego instalé Kodi Remote en mi teléfono inteligente, y parece que todo se puede disfrutar. <br><br>  Pero desafortunadamente, Kodi Remote mató lo principal que quería lograr con la acústica: simplicidad y facilidad de control.  El hecho es que puede encender y cambiar las estaciones de radio solo desde el menú de expansión de Radio, y para acceder debe hacer 5 cintas y 1 desplazamiento.  Más o menos UX. <br><br><div class="spoiler">  <b class="spoiler_title">Prueba</b> <div class="spoiler_text"><img src="https://habrastorage.org/web/ee8/551/486/ee85514864b249d898b95608a1ca15a3.png"><br></div></div><br>  Tuve que sumergirme en el maravilloso mundo maravilloso de Kodi-API, después de lo cual escribí una versión simple de la consola en React, con un diseño minimalista, diseñado exclusivamente para la radio.  La esencia de su trabajo es simple: al inicio, pregunta el contenido de la sección Mis estaciones desde el complemento Radio, después de lo cual le pide al usuario que seleccione cualquier estación de radio de esta lista.  Hay una reproducción de inicio-parada, control de volumen y muestra el nombre de la pista actual.  Comme il faut.  Las fuentes se publican en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">github</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/38a/8ff/4b3/38a8ff4b3ced4484b7d7ed413044e249.jpg"></div><br>  Como resultado, todo el relleno de hierro del proyecto consistió en: <br><br>  1. Raspberry Pi 3 Modelo B <br>  2. Suptronics X400 <br>  3. fuente de alimentación 12V 60W <br>  4. JBL Club 5020 <br>  5. MicroSDHC Transcend 16GB <br><br>  Se ordenaron altavoces y unidades flash en la tienda en línea más cercana, todo lo demás, en Ali.  En total, el hierro costó alrededor de 7,000 rublos.  Tendrían que gastar otros 1,000 a 1,500 rublos en materiales del cuerpo, cables, pintura, etc., si no los tuviera. <br><br>  Me gusta el resultado, a pesar del hecho de que hay una serie de quejas.  Entonces, por ejemplo, es imposible editar la lista de estaciones de radio favoritas sin conectarse a una columna de monitor y teclado - restricciones Kodi / OSMC.  No hay forma de sintonizar el sonido con un ecualizador, al menos no sé cómo hacerlo.  Y también me gustaría agregar la reproducción automática de la última estación cuando está encendida, pero hasta ahora no está claro cómo.  Si alguien lo sabe, deje una línea en los comentarios, lo agradeceré enormemente.  AirPlay funciona de fábrica, pero Bluetooth A2DP tampoco se pudo configurar.  Pero todo esto no importa mucho, y en 99 casos de cada 100 es suficiente simplemente meter una estación en un teléfono inteligente por género o estado de ánimo. <br><br>  Por separado, hay que decir sobre el sonido, porque Sonos en términos de sonido es un avanzado.  Suptronics X400 no decepcionó: 25 cuadrados de la sala de estar ya están llenos de sonido a 1/10 de volumen.  En general, el sonido es detallado, sin sibilancias y traqueteo.  Bajo: ¡oh milagro!  - hay, además, potente y al mismo tiempo que no se desliza en un "murmullo" - elimina el reflejo de graves.  Cerca de allí, uno puede escuchar claramente los sonidos de charles y los sonidos "c" y "c" de la voz "dispersión".  Sorprendentemente, este efecto desagradable desaparece por completo si cubre los tweeters con los dedos (quién sabe por qué, escriba en los comentarios).  Por supuesto, el Hi-Fi no funcionó, pero en términos de sonido, la acústica resultante puede equipararse de manera segura con parlantes domésticos tan populares como el Microlab Solo 6C o Sven SPS-7xx. <br><br>  Por supuesto, si tuviera que elegir comprar un "Pi-Sonos" por 8 mil o Sonos por 18, ciertamente elegiría Sonos.  Pero el objetivo era diferente: quería sumergirme en las nuevas tecnologías.  Esta es mi primera experiencia con Raspberry Pi y SoC en general, el primer intento de crear acústica, el primer proyecto completamente independiente en React.  La creación de la acústica requirió las habilidades de diseño, soldadura, carpintería, pintura, diseño, diseño, programación.  ¡Y dio ese inolvidable sentimiento de inspiración y asombro que acompaña el proceso de creación, por el bien de lo cual vale la pena involucrarse en tales aventuras! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es406677/">https://habr.com/ru/post/es406677/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es406665/index.html">Dell XPS 13 9365: transformador ligero para todos los días</a></li>
<li><a href="../es406667/index.html">Elegir un escáner 3D para control metrológico</a></li>
<li><a href="../es406669/index.html">Homo singularitatis</a></li>
<li><a href="../es406671/index.html">Mira las estrellas: los mejores observatorios abiertos del mundo</a></li>
<li><a href="../es406673/index.html">Cultivo de la inteligencia artificial como ejemplo de un juego simple.</a></li>
<li><a href="../es406679/index.html">¿Funcionará el Wi-Fi a una velocidad de 340 km / h?</a></li>
<li><a href="../es406683/index.html">Encrucijada Capítulos 9 y 10</a></li>
<li><a href="../es406689/index.html">No nos hemos acercado a los límites de los logros deportivos.</a></li>
<li><a href="../es406691/index.html">Mi 286: desde la compra hasta hoy</a></li>
<li><a href="../es406693/index.html">Estación meteorológica (Arduino pro mini, BME280, LCD1602)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>