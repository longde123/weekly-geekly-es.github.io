<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔉 🧑🏿‍🤝‍🧑🏿 👨🏻‍🚀 NB-IoT: como funciona? Parte 1 🙎🏾 🎦 🆖</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Os dispositivos no padrão NB-IoT podem funcionar por até 10 anos com uma bateria comum. Devido a quê? Reunimos todas as coisas mais importantes sobre ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>NB-IoT: como funciona? Parte 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ru_mts/blog/430496/">  <b>Os dispositivos no padrão NB-IoT podem funcionar por até 10 anos com uma bateria comum.</b>  <b>Devido a quê?</b>  <b>Reunimos todas as coisas mais importantes sobre essa tecnologia.</b>  <b>Neste artigo, falaremos sobre seus recursos em termos de arquitetura da rede de acesso por rádio e, na segunda parte, sobre as mudanças no núcleo da rede que ocorrem durante o NB-IoT.</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/65b/560/7c8/65b5607c862fc52c571a5b3cb30aa910.jpg" alt="imagem"><br><br>  A tecnologia NB-IoT herdou muito do LTE - da estrutura física do sinal de rádio à arquitetura.  É impossível listar tudo em um artigo, então vamos tentar focar nos principais recursos para os quais essa tecnologia foi criada.  Então: <br><br>  <b>Quais são as diferenças entre o NB-IoT em termos de arquitetura de rede de acesso via rádio?</b> <br><a name="habracut"></a><br>  Primeiro, lembre-se do importante sobre o LTE: <br><br>  Para o sinal LTE, é utilizado o princípio de separação de canais OFDM com espaçamento de subportadoras de 15 kHz.  No DL (Downlink, a direção do BS) OFDMA é usada, e no UL (Uplink, a direção do BS), o SC-FDMA.  Toda a operadora no LTE é dividida em blocos de recursos (bloco de recursos, RB), cada um composto por 12 subportadoras e uma largura de banda total ocupada de 12x15 kHz = 180 kHz (Fig. 1).  Cada bloco de recursos é dividido em 12x7 = 84 elementos de recurso (elemento de recurso, RE). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bb6/9ca/b77/bb69cab774699051718cfa68ff0cc63b.jpg" alt="imagem"><br><br>  <i>Fig. 1.</i>  <i>Bloco de Recursos, Elemento de Recursos</i> <br><br>  Para obter alta taxa de transferência de células, são aplicados pedidos de alta modulação QAM256 para DL e QAM64 no UL.  Além disso, as tecnologias MIMO2x2 e MIMO4x4 são usadas para a mesma finalidade. <br><br>  <b>Recursos do sinal de rádio NB-IoT</b> : <br><br>  A coisa mais importante no NB-IoT é a capacidade de trabalhar em níveis mais baixos de sinal e altos níveis de ruído, além de economizar bateria.  O NB-IoT também foi projetado para transmitir mensagens curtas e não requer a transferência de conteúdo de áudio e vídeo, arquivos grandes e outras coisas. <br><br>  Com base nisso, no nível físico, existem certos recursos que ajudam a fornecer as características necessárias: <br><br><ol><li>  a largura de banda total para NB-IoT é limitada a um RB com uma largura de 180 kHz; </li><li>  o caminho de rádio do dispositivo do usuário possui apenas uma antena, receptor e transmissor; </li><li>  transmissão e recepção são espaçadas no tempo, isto é,  este é essencialmente o modo half duplex; </li><li>  a capacidade de transmitir na direção UL em uma subportadora; </li><li>  Os tipos de modulação utilizados são limitados a BPSK e QPSK; </li><li>  repetições do sinal transmitido (aprimoramento da cobertura). </li></ol><br>  Abaixo, abordaremos alguns deles com mais detalhes. <br><br>  Usando uma banda de frequência estreita de uma RB, o modo de transmissão de uma antena e meio duplex permite simplificar o dispositivo e obter: <br><br><ul><li>  reduzir os requisitos de CPU; </li><li>  diminuição no consumo de energia; </li><li>  redução de tamanho; </li><li> dispositivos mais baratos. </li></ul><br>  <b>A nomeação de radiofrequências:</b> <br><br>  Para NB-IoT, quase todas as mesmas faixas de frequência podem ser usadas como para 2G / 3G / 4G na banda "baixa".  Estes são B20 (800 MHz), B8 (900 MHz), B3 (1800 MHz).  Não há razão para usar frequências "mais altas" mais altas devido à maior atenuação do sinal. <br><br>  Existem <b>três maneiras de alocar um recurso de frequência para o NB-IoT:</b> <br><br>  <b>1. Independente.</b> <br><br>  Canal de frequência dedicado com largura de 200 kHz.  Esta opção é a mais eficaz para NB-IoT, mas também a mais cara.  O fato é que, nesse caso, você pode precisar de 300 a 600 kHz de um espectro muito valioso junto com intervalos de guarda.  Nesse caso, a interferência mútua com outras tecnologias é mínima (Fig. 2). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/614/7fb/873/6147fb8730991bef03217cb37691ade0.jpg" alt="imagem"><br><br>  <i>Fig.</i>  <i>2. Opções de posicionamento para NB-IoT no modo independente.</i> <br><br>  <b>2. Dentro da banda</b> <br><br>  Nesse caso, os recursos são alocados para o NB-IoT dentro da operadora LTE existente, mas a operadora NB-IoT possui uma potência aumentada de 6 dB em comparação com os blocos de recursos LTE.  Esta opção é adequada para salvar o recurso de frequência, mas há um problema de influência mútua com a rede LTE (Fig. 3). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bf3/9b3/7f9/bf39b37f97487530a1e73d127d416dab.jpg" alt="imagem"><br><br>  <i>Fig.</i>  <i>3. Colocação do NB-IoT no modo em banda.</i> <br><br>  <b>3. Banda de Guarda</b> <br><br>  Nesse caso, o NB-IoT é iniciado no chamado intervalo de guarda.  Por exemplo, na banda LTE10 MHz, 500 kHz de espectro livre usado como um intervalo de guarda.  Como no modo em banda para um alcance maior, a portadora NB-IoT possui uma potência aumentada de 6-9 dB em comparação com os blocos de recursos LTE (Fig. 4).  Esse caso de uso permite salvar simultaneamente o recurso de frequência e reduzir a influência mútua com a rede LTE, embora neste caso as emissões fora de banda para LTE sejam degradadas. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/880/925/a1e/880925a1e37e8a2ff590c85301fd5a4e.jpg" alt="imagem"><br><br>  <i>Fig.</i>  <i>4. Colocação de NB-IoT no modo banda de guarda.</i> <br><br>  <b>Capacidade de transmitir na direção UL em uma subportadora:</b> <br><br>  Se no LTE as unidades do bloco de recursos constituídas por uma ou várias RBs são alocadas ao assinante, no NB-IoT a unidade mínima é RE - elas cortam partes do recurso de rádio para o assinante.  Portanto, tornou-se possível para o dispositivo transmitir um sinal para UL em uma subportadora a 15 kHz.  Ao mesmo tempo, a separação de RB em 48 subportadoras de 3,75 kHz na direção UL já está padronizada para NB-IoT.  A duração dos elementos de recurso nesse caso aumenta quatro vezes e, portanto, o intervalo de tempo de até 2 ms, para que sua capacidade de informação não seja alterada (Fig. 5). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/44a/bec/d2b/44abecd2bf57a6cdf5f71f51152398cf.jpg" alt="imagem"><br><br>  <i><b>Fig. 5.</b></i>  <i><b>Elemento de recurso.</b></i> <br><br>  A transmissão de sinal em uma banda estreita em uma subportadora de 15 kHz e, ainda mais, a 3,75 kHz, pode aumentar significativamente a densidade espectral do sinal e, consequentemente, a relação sinal / ruído, que é muito importante para dispositivos de assinantes que possuem transmissores muito menos potentes que a estação base.  Além disso, no NB-IoT e no LTE, a potência dos dispositivos de assinante é limitada a 23dBm (200mW). <br><br>  Ao mesmo tempo, se as condições do rádio permitirem, reduzir o tempo do modo de transmissão ativo e, consequentemente, economizar a bateria, é possível transmitir em várias subportadoras ao mesmo tempo.  A transmissão em uma subportadora é chamada de modo de transmissão de tom único e, em várias subportadoras, é chamada de multitonal (são 3, 6 ou 12 subportadoras de 15 kHz).  A Figura 6 mostra a formação a partir dos elementos de recursos de várias variações de uma unidade de recursos (unidade de recursos, RU). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9bd/e4b/0c0/9bde4b0c0aa7e4034108486ec6e4afd8.jpg" alt="imagem"><br><br>  <i>Fig. 6.</i>  <i>Unidades de recursos (RU).</i> <br><br>  RU - este é outro bloco maior, a partir do qual os blocos de transporte (bloco de transporte, TB) são formados, atribuídos ao usuário.  Um TB pode ter de um a dez RU.  Além disso, dependendo da qualidade do sinal, cada TB pode conter uma quantidade diferente de informações úteis, dependendo do esquema de codificação da modulação (MCS) usado.  O tamanho da TB no NB-IoT, é claro, é muito menor que no LTE e é de 680 bits em DL e 1000 bits em UL (Rel.13 3GPP).  Também neste padrão, há apenas um processo HARQ (solicitação de repetição automática híbrida), portanto, o próximo TB só pode ser transmitido depois de confirmar o recebimento do TB anterior.  Na liberação 14 3GPP, os tamanhos dos blocos de transporte são aumentados para 2536 bits e o Dual-HARQ, que permite transferir dois blocos de transporte seguidos. <br><br>  <b>Melhoria da cobertura:</b> <br><br>  Outra característica do NB-IoT é a funcionalidade de aprimoramento da cobertura, que é alcançada por retransmissões sucessivas do sinal transmitido.  Esse mecanismo não deve ser confundido com a retransmissão do pacote após a recepção malsucedida; no caso de aprimoramento da cobertura, a decisão sobre o sucesso do sinal recebido ocorre após o recebimento de todas as mensagens repetidas (Fig. 7).  Todos os canais físicos NPDCCH, NPDSCH, NPRACH e NPUSCH (aqui N é o prefixo de banda estreita) podem ser repetidos. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7b5/2ff/d8b/7b52ffd8baba020ba8a69487722b3b46.jpg" alt="imagem"><br><br>  <i>Fig.</i>  <i>7. Repetições em NB-IoT</i> <br><br>  O padrão define três níveis, chamados de nível de cobertura 0, 1 e 2. O número de repetições pode variar bastante e é definido individualmente para cada tipo de canal físico e seu formato.  Por exemplo, o padrão especifica valores para o sinal útil em UL até 128 e em DL até 2048. Na realidade, é claro, tudo dependerá das configurações de rede otimizadas para o modo operacional (independente, dentro da banda / banda de guarda), qualidade do sinal e outras condições.  As repetições permitem decodificar um sinal em um nível muito mais baixo da relação sinal / ruído, teoricamente até 10dB e inferior. <br><br>  Todas as opções acima - o uso de uma banda mais estreita e a função de aprimoramento da cobertura - permitem alcançar o ganho notório de 20dB em relação ao GSM. <br><br>  <b>Taxas de transmissão em NB-IoT</b> <br><br>  Em geral, o próprio princípio da IoT, como mencionado acima, não implica uma troca significativa de informações com dispositivos e, portanto, esses valores são muito arbitrários.  Em primeiro lugar, eles são alcançados apenas com boa qualidade de sinal.  Em segundo lugar, a troca de sinal, incluindo a nomeação do DCI kagala e do reconhecimento ACK, não é adaptada, como no LTE, para obter velocidades máximas.  Em terceiro lugar, se o dispositivo transmitir apenas uma ou duas mensagens curtas, nesse caso, não está totalmente claro o que se entende por taxa de transmissão.  Mas você não pode dizer sobre velocidades aqui.  Por exemplo, a Fig. 8 mostra a velocidade calculada em DL para o usuário. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/895/60b/b31/89560bb31b94b94054ce2db4db845bba.jpg" alt="imagem"><br><br>  <i>Fig. 8.</i>  <i>Taxa de bits em DL.</i> <br><br>  Pode ser visto na figura que, no NB-IoT, diferentemente do LTE, o dispositivo do usuário não pode ocupar todo o recurso de rádio disponível.  E o restante do recurso de rádio que a BS pode usar para se comunicar com outros dispositivos.  Uma situação semelhante na UL (Fig. 9). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/424/db3/78c/424db378c261fe18ab5e9cd3eaa08115.jpg" alt="imagem"><br><br>  <i>Fig. 9.</i>  <i>Taxa de transmissão UL.</i> <br><br>  Portanto, o uso do Dual-HARQ e o tamanho aumentado dos blocos de transporte de até 2536 bits (versão 14 3GPP) permitem aumentar a velocidade de transmissão em DL e UL acima de 100 kbit / s. <br>  Isso é tudo - se falarmos sobre os principais recursos do ponto de vista da arquitetura do acesso por rádio, sem ir muito longe.  Espero que tenha sido útil.  Em breve - no próximo post - mostraremos como o núcleo da rede (Rede Principal) mudou com o NB-IoT.  O feedback seria apreciado. <br><br>  <i>Postado por</i> <i><br></i>  <i>Especialista do Departamento de Arquitetura de Rede de Acesso por Rádio da MTS Ilnur Fauziev</i> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">ilnurf</a> <cut></cut></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt430496/">https://habr.com/ru/post/pt430496/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt430486/index.html">Como vivem os freelancers: de um desenvolvedor a um redator técnico</a></li>
<li><a href="../pt430488/index.html">Troca de dados assíncrona com um aplicativo remoto via SSH</a></li>
<li><a href="../pt430490/index.html">Antecipe, eduque e decida: como e por que o EPAM constrói o Java Competency Center</a></li>
<li><a href="../pt430492/index.html">Stick de computação neural da Intel. Mente artificial em uma unidade flash USB - 2</a></li>
<li><a href="../pt430494/index.html">Monitor de Tráfego InfoWatch. À beira de bugs e recursos</a></li>
<li><a href="../pt430498/index.html">Ignore o controle de conta de usuário (UAC) imitando diretórios confiáveis</a></li>
<li><a href="../pt430500/index.html">Evitando o caos da base de conhecimento corporativo: nossa experiência de confluência</a></li>
<li><a href="../pt430502/index.html">Teste de carga com gafanhoto</a></li>
<li><a href="../pt430504/index.html">Métodos de pensamento júnior e racional</a></li>
<li><a href="../pt430506/index.html">Arte escura da ressurreição: como recuperar dados de mídia danificada</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>