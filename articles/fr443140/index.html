<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåé üêæ üë©üèæ‚Äçü§ù‚Äçüë©üèº Syst√®me de simulation de script ZenCad 3D üé∫ ü§ó ü§∑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le travail que je veux porter √† votre attention est une tentative d'√©crire √† nouveau un syst√®me de mod√©lisation 3D script√©. √âcrivez comme je voudrais ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Syst√®me de simulation de script ZenCad 3D</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443140/"><p>  Le travail que je veux porter √† votre attention est une tentative d'√©crire √† nouveau un syst√®me de mod√©lisation 3D script√©.  √âcrivez comme je voudrais la voir. </p><br><p>  La recette du syst√®me ZenCad est assez simple.  Le concept de script de mod√©lisation 3D d'OpenScad, le noyau g√©om√©trique d'OpenCascade, python3 comme colle, la biblioth√®que de calcul paresseux evalcache pour une mise en cache agressive des calculs.  Ajouter les √©pices de quelques autres instruments, assaisonner le gui avec la sauce PyQt et servir, en remuant, sans secouer. </p><br><p><img src="https://habrastorage.org/webt/w6/nc/yl/w6ncylhxottruicqjsgvfl6yv4g.png" alt="machine.png"></p><a name="habracut"></a><br><h2 id="skriptovye-cad-sistemy">  Syst√®mes de CAO de script </h2><br><p>  CAD, ou selon notre CAD, est un syst√®me de conception assist√©e par ordinateur.  Contrairement aux √©diteurs 3D interactifs, les syst√®mes de CAO script√©s interpr√®tent le mot "automatis√©" dans le sens o√π ses cr√©ateurs le comprennent habituellement.  C'est-√†-dire, non pas comme un ensemble d'outils informatiques, mais comme un algorithme limpide qui ne n√©cessite une intervention humaine qu'au moment de sa cr√©ation. </p><br><p>  En travaillant en CAD script√©, nous ne dessinons pas le mod√®le directement sur l'√©cran, mais construisons le programme selon lequel le mod√®le est g√©n√©r√©.  Pour les personnes qui ne connaissent que la CAO interactive, cette approche peut √™tre d√©crite comme une mod√©lisation param√©trique absolue.  √Ä proprement parler, les scripts sont souvent utilis√©s pour compl√©ter un environnement interactif, pour √©crire des outils suppl√©mentaires, mais travailler dans un CAD script√© d'une nettet√© paradigmatique n√©cessite une organisation diff√©rente du flux de travail, une fa√ßon de penser et est con√ßu pour une gamme l√©g√®rement diff√©rente de t√¢ches. </p><br><p>  Le CAD de script le plus c√©l√®bre et le plus pur √† l'heure actuelle est OpenScad. </p><br><h2 id="v-nachale-byl-openscad">  Au d√©but √©tait OpenScad </h2><br><p>  Il y a un certain cercle de personnes qui pr√©f√®rent la boussole pratique, SolidWorks, FreeCad, l'OpenScad banal et sans pr√©tention.  Il est assez difficile de r√©pondre √† la question de savoir quel est le secret de son succ√®s, mais on peut affirmer avec certitude qu'il est l√©ger, suffisamment flexible √† utiliser et dispose d'un minimum de r√©glages.  Certaines parties des mod√®les √©crits dessus sont faciles √† r√©utiliser. </p><br><p>  Cependant, openscad a quelques d√©fauts g√™nants: </p><br><ul><li>  openscad ne fonctionne qu'avec les r√©seaux maill√©s. </li><li>  openscad a une limite d'√©volutivit√© assez faible, il commence √† accuser un retard important sur les grands mod√®les. </li><li>  openscad est assez difficile √† int√©grer avec d'autres syst√®mes, c'est pourquoi utiliser son propre langage. </li></ul><br><p>  Malheureusement, malgr√© toute la puissance de l'approche de script, aller au-del√† de la port√©e du clignotement utilitaire pour √©crire des mod√®les simples avec OpenScad est assez probl√©matique. </p><br><h2 id="yazyk-i-vse-vse-vse">  Langue et tout-tout </h2><br><p>  La premi√®re chose que je veux corriger ici est de prendre un langage √† usage g√©n√©ral comme outil de combat.  L'utilisation d'un langage polyvalent vous permet d'utiliser l'int√©gralit√© de ses capacit√©s syntaxiques et la combinaison de biblioth√®ques pr√©c√©demment √©crites pour r√©soudre des probl√®mes de mod√©lisation 3D. </p><br><div class="spoiler">  <b class="spoiler_title">Comparaison des interfaces graphiques ZenCad et OpenScad</b> <div class="spoiler_text"><p>  Interface ZenCad: <br><img src="https://habrastorage.org/webt/bv/78/4t/bv784thyay1gwnf84yghwmi3wwq.png" alt="zencad.png"></p><br><p>  Interface OpenScad: <br><img src="https://habrastorage.org/webt/ft/2m/yq/ft2myqxwwooor6bqhdszuk9wujs.png" alt="openscad.png"></p></div></div><br><p>  L'utilisation de python simplifie le code openscad en rendant le code du mod√®le plus transparent par rapport √† OpenScad. </p><br><div class="spoiler">  <b class="spoiler_title">Exemple: CSG</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/env python #coding: utf-8 from zencad import * lazy.diag = True c1 = 100 c2 = 130 c3 = c2/2 + 20 base = box(c1,c1,c1,center=True) f1 = ngon(r = 35, n = 3) f2 = ngon(r = 35, n = 5) f3 = circle(35) s1 = linear_extrude(f1, c2, center=True) s2 = linear_extrude(f2, c2, center=True).rotateY(deg(90)) s3 = linear_extrude(f3, c2, center=True).rotateX(deg(90)) #          3 . m1 = base - s1 - s2 - s3 m2 = base ^ s1 ^ s2 ^ s3 m3 = s1 + s2 + s3 ystep = 240 xstep = 240 fontpath = os.path.join(zencad.moduledir, "examples/fonts/testfont.ttf") #    .      . t1 = textshape("difference", fontpath, 40) t1c = t1.center() t1=t1.translate(-t1c.x, -t1c.y, 0).rotateZ(deg(45)) t2 = textshape("intersect", fontpath, 40) t2c = t2.center() t2=t2.translate(-t2c.x, -t2c.y, 0).rotateZ(deg(45)) t3 = textshape("union", fontpath, 40) t3c = t3.center() t3=t3.translate(-t3c.x, -t3c.y, 0).rotateZ(deg(45)) #  ,  . disp(base.forw(ystep)) disp(s1) disp(s2.left(xstep)) disp(s3.right(xstep)) disp(m1.back(ystep)) disp(m2.left(xstep).back(ystep)) disp(m3.right(xstep).back(ystep)) disp(t1.back(ystep).up(c3), Color(1,1,0)) disp(t2.left(xstep).back(ystep).up(c3), Color(1,1,0)) disp(t3.right(xstep).back(ystep).up(c3), Color(1,1,0)) disp(s1.left(xstep).back(ystep), Color(0.5,0,0,0.95)) disp(s2.left(xstep).back(ystep), Color(0.5,0,0,0.95)) disp(s3.left(xstep).back(ystep), Color(0.5,0,0,0.95)) disp(s1.back(ystep), Color(0.5,0,0,0.95)) disp(s2.back(ystep), Color(0.5,0,0,0.95)) disp(s3.back(ystep), Color(0.5,0,0,0.95)) show()</span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/w5/ha/tk/w5hatkmfyuajjjclhsgwhezawpw.png" alt="boolean.png"></p></div></div><br><p>  Il est tr√®s pratique, par exemple, de filtrer un nuage de points en utilisant la syntaxe des g√©n√©rateurs. </p><br><div class="spoiler">  <b class="spoiler_title">Exemple: filtrage d'un tableau de points.</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/env python3 from zencad import * #  . ng = ngon(r = 10, n = 6) #      . vertices = ng.vertices() filtered_vertices = [v for v in vertices if vx &lt; 0] #      . m = ng.fillet(4, filtered_vertices) disp(m) show()</span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/pt/9b/i8/pt9bi8nrml6jqyaef6vvroehwbs.png" alt="ngon"></p></div></div><br><p>  Gr√¢ce √† python, occupant officieusement le titre de roi de la colle dans l'√©cosyst√®me logiciel moderne, zencad s'int√®gre facilement avec d'autres biblioth√®ques et syst√®mes logiciels.  Nous pouvons utiliser sympy dans un script pour g√©n√©rer une surface analytique, numpy pour traiter un nuage de points g√©n√©r√© sur cette surface et, bien s√ªr, zencad pour la construction, la visualisation et le post-traitement. </p><br><div class="spoiler">  <b class="spoiler_title">Exemple: construction de surface simple point par point</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> zencad <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy xcoords = numpy.linspace(<span class="hljs-number"><span class="hljs-number">-10</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>) ycoords = numpy.linspace(<span class="hljs-number"><span class="hljs-number">-10</span></span>,<span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>) lines = [ interpolate([point(x, y, <span class="hljs-number"><span class="hljs-number">0.01</span></span>*(x**<span class="hljs-number"><span class="hljs-number">2</span></span> + y**<span class="hljs-number"><span class="hljs-number">3</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> xcoords]) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> y <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ycoords ] wires = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> l <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> lines: trans = translate(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">-30</span></span>) sf = l.endpoints() w=sew([l, segment(sf[<span class="hljs-number"><span class="hljs-number">0</span></span>], trans(sf[<span class="hljs-number"><span class="hljs-number">0</span></span>])), trans(l), segment(sf[<span class="hljs-number"><span class="hljs-number">1</span></span>], trans(sf[<span class="hljs-number"><span class="hljs-number">1</span></span>]))]) wires.append(w) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> l <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> lines: disp(l.left(<span class="hljs-number"><span class="hljs-number">30</span></span>)) disp(loft(wires) - halfspace().down(<span class="hljs-number"><span class="hljs-number">10</span></span>)) show()</code> </pre> <br><p><img src="https://habrastorage.org/webt/rh/0k/ia/rh0kiafb1ht7enhhvispgpnec3m.png" alt="chair.png"></p></div></div><br><h2 id="prochnyy-fundament-opencascade">  La base solide d'OpenCascade </h2><br><p>  Les math√©matiques des maillages polygonaux sont beaucoup plus simples que les math√©matiques de la repr√©sentation des limites, mais la repr√©sentation des limites est beaucoup plus pratique.  En particulier, les maillages polygonaux ont un probl√®me d'explosion combinatoire, qui se manifeste surtout quand vient le temps de rendre un mod√®le.  Dans OpenScad, il est souvent n√©cessaire de d√©velopper un produit avec une r√©solution bien inf√©rieure √† la r√©solution d'un mod√®le r√©el, ce qui viole la puret√© du paradigme. </p><br><p>  Ainsi, le deuxi√®me point de mise en ≈ìuvre est l'utilisation d'un noyau g√©om√©trique √† part enti√®re qui utilise la repr√©sentation des limites au lieu du mod√®le de maillage.  Construit autour du noyau g√©om√©trique pirate d'OpenCascade, ZenCad, bien s√ªr, n'a pas pour objectif de fournir la totalit√© de ses capacit√©s dans l'environnement python.  Essayer de transmettre pleinement OpenCascade entra√Ænerait l'√©criture d'un deuxi√®me pythonOCC.  ZenCad prend le dessus, essayant de maintenir un √©quilibre entre fonctionnalit√© et ergonomie. </p><br><div class="spoiler">  <b class="spoiler_title">Exemple: bouteille de logiciel OpenCascade jou√©e dans ZenCad</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/env python3 #coding: utf-8 from zencad import * import zencad.surface as surface import zencad.curve2 as curve2 lazy.diag=True height = 70 width = 50 thickness = 30 # BASE pnt1 = point(-width/2,0,0); pnt2 = point(-width/2,-thickness/4,0); pnt3 = point(0,-thickness/2,0); pnt4 = point(width/2,-thickness/4,0); pnt5 = point(width/2,0,0); edge1 = segment(pnt1, pnt2) edge2 = circle_arc(pnt2, pnt3, pnt4) edge3 = segment(pnt4, pnt5) wire = sew([edge1, edge2, edge3]) profile = sew([wire, wire.mirrorX()]) body = profile.fill().extrude(height) body = fillet(body, thickness/12) hl(body.forw(140)) # NECK neck_radius = thickness/4.; neck_height = height/10; neck = cylinder(r=neck_radius, h=neck_height).up(height) body = body + neck hl(body.forw(100)) # THICK body = thicksolid(body, -thickness / 50, [point(0,0,height+height/10)]) hl(body.forw(60)) # THREAD ( 2       .) cylsurf1 = surface.cylinder(neck_radius * 0.99) cylsurf2 = surface.cylinder(neck_radius * 1.05) major = 2 * math.pi; minor = neck_height / 10; angle = math.atan2(neck_height / 4, 2 * math.pi) ellipse1 = curve2.ellipse(major, minor).rotate(angle) arc1 = cylsurf1.map(curve2.trimmed_curve2(ellipse1, 0, math.pi)) segment1 = cylsurf1.map(curve2.segment(ellipse1.value(0), ellipse1.value(math.pi))) ellipse2 = curve2.ellipse(major, minor/4).rotate(angle) arc2 = cylsurf2.map(curve2.trimmed_curve2(ellipse2, 0, math.pi)) segment2 = cylsurf2.map(curve2.segment(ellipse2.value(0), ellipse2.value(math.pi))) m1 = sew([arc1, segment1]) m2 = sew([arc2, segment2]) thread = loft([m1, m2]).up(height + neck_height / 2) hl(m1.up(height + neck_height / 2).right(80)) hl(m2.up(height + neck_height / 2).right(60)) hl(thread.right(40)) # FINAL m = thread + body display(m) show()</span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/on/os/vh/onosvht54lqyzfjbc7-17o7r2qa.png" alt="bottle.png"></p></div></div><br><h2 id="preemstvennost-tradicii-nachalo-koordinat-kak-istok-vsego">  Continuit√© de la tradition.  L'origine comme source de tout </h2><br><p>  Les solutions de syntaxe zencad, √† l'instar de son fr√®re a√Æn√© et professeur OpenScad, minimisent le nombre d'entit√©s dans la biblioth√®que.  Comme OpenScad, ZenCad est fondamentalement incapable de cr√©er une primitive au point (x, y, z), malgr√© le fait qu'OpenCascade le permette.  ZenCad cr√©e d'abord une primitive √† l'origine, puis d√©finit la position dont il a besoin √† l'aide de transformations.  Les transformations dans ZenCad existent √† la fois comme objets s√©par√©s et comme m√©thodes de corps. </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#  . cube(40, center=True).rotateX(deg(45)).rotateZ(deg(45)).right(20) #  . (right(20) * rotateZ(deg(45)) * rotateX(deg(45)))(cube(40, center=True)) #  . trans = right(20) * rotateZ(deg(45)) * rotateX(deg(45)) cube(40, center=True).transform(trans)</span></span></code> </pre> <br><p>  Un ensemble de transformations est standard et comprend la translation, la rotation, la r√©flexion et le zoom. </p><br><h2 id="len">  La paresse </h2><br><p>  Afin de minimiser le temps de calcul, les calculs dans ZenCad sont l√©nifi√©s et tous les calculs sont agressivement mis en cache.  La biblioth√®que evalcache [del] blockchain [/ del], dont j'ai parl√© il y a quelque temps sur les pages de Habrahabr, s'occupe de la gestion des algorithmes de l√©nification: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mise en cache disque des arbres informatiques paresseux</a> .  Zencad enregistre les r√©sultats des calculs dans un cache commun, dont l'√©tat peut √™tre surveill√© via l'interface du visualiseur.  L'algorithme de hachage sha512 utilis√© avec une redondance marqu√©e √©limine la possibilit√© de collisions de cl√©s de hachage pour les objets paresseux (l'espace de hachage est 10 ^ 74 fois le nombre d'atomes dans l'univers). </p><br><p>  Lors de la cr√©ation de ce mod√®le, il g√©n√®re quatre m√©gaoctets de g√©om√©trie et lors de la premi√®re passe il peut √™tre calcul√© assez longtemps: </p><br><p><img src="https://habrastorage.org/webt/jf/ea/xn/jfeaxnyj1e66bxuvjvfdnvonais.png" alt="bolt.png"></p><br><p>  Le travail avec des surfaces filet√©es est co√ªteux en calcul: </p><br><p><img src="https://habrastorage.org/webt/0c/6e/rz/0c6erzyjnosptm_a-flflbk_hda.png" alt="logo.png"></p><br><h2 id="problema-refleksii-topologii-metod-blizhney-tochki">  Le probl√®me de la topologie de r√©flexion.  M√©thode du point proche </h2><br><p>  OpenScad n'a aucune op√©ration de chanfreinage ou d'arrondi.  OpenCascade les fournit.  Ce sont des op√©rations tr√®s importantes, et il serait dommage de ne pas les mettre en service pour ZenCad.  Il existe d'autres op√©rations qui n√©cessitent de sp√©cifier un objet topologique, par exemple, l'op√©ration consistant √† prendre un mod√®le √† paroi mince dans l'exemple de bouteille OpenCascade.  Dans un syst√®me de CAO graphique, nous indiquons un objet topologique (ar√™te, face, sommet) avec la souris.  Lors de l'√©criture d'un script, nous n'avons pas une telle opportunit√©.  Native OpenCascade r√©sout le probl√®me de la r√©flexion et l'utilise pour travailler avec la CAO graphique.  Bien que ZenCad prenne en charge la r√©flexion du mod√®le, son utilisation comme outil principal pr√©sente un certain nombre d'inconv√©nients importants.  Premi√®rement, le niveau de connaissance requis pour utiliser ces outils augmente fortement, car il faut au moins comprendre le concept topologique interne.  Deuxi√®mement, d√®s qu'il appara√Æt dans le script, l'harmonie des algorithmes paresseux se casse imm√©diatement et le code du mod√®le est √©galement assez compliqu√©.  Au cours d'une r√©flexion et d'une exp√©rimentation assez longues, j'ai opt√© pour la m√©thode du point proche.  En bref, lors de l'ex√©cution d'op√©rations d√©pendantes de la topologie, le programme contourne l'objet et trouve l'objet topologique le plus proche du point donn√© parmi ceux qui p√©n√®trent dans le corps.  Cet √©l√©ment est consid√©r√© comme s√©lectionn√©.  Une telle solution est plus co√ªteuse en termes de calcul, mais en raison de la mise en cache, elle fonctionne bien.  Cette approche est utilis√©e pour toutes les op√©rations qui d√©pendent des √©l√©ments de topologie. </p><br><p>  Comme d√©j√† mentionn√© ci-dessus, la possibilit√© de refl√©ter le mod√®le, par le bon sens, est √©galement pr√©serv√©e, comme le montre l'exemple ci-dessus (Exemple: filtrage d'un tableau de points). </p><br><h2 id="marker-q-i-marker-w">  Marqueur Q et marqueur W </h2><br><p>  Les dimensions du mod√®le peuvent √™tre difficiles √† lire √† l'√©cran en raison de la non-√©vidence de l'√©chelle.  En partie, les marqueurs peuvent r√©soudre ce probl√®me.  Disposant d'une interface intuitive (nulle part plus intuitive), les marqueurs signalent les coordonn√©es et affichent la distance, ce qui simplifie l'analyse de la g√©om√©trie et la s√©lection des points pour des op√©rations telles que les chanfreins / arrondis. </p><br><p><img src="https://habrastorage.org/webt/uk/lf/md/uklfmd0b6ernw7oxd3tr9jbu8zg.png" alt="marqueurs"></p><br><h2 id="otslezhivanie-obnovleniy-istochnika">  Suivre les mises √† jour des sources </h2><br><p>  Comme le grand fr√®re (OpenScad), ZenCad est capable de mettre √† jour le mod√®le g√©n√©r√© lors de la modification du fichier source.  En combinaison avec le syst√®me de mise en cache, cela vous permet de modifier tr√®s commod√©ment le script, ayant sous vos yeux presque en temps r√©el l'√©tat changeant du produit. </p><br><h2 id="animaciya">  L'animation </h2><br><p>  Les m√©rites de zencad ne s'arr√™tent pas l√†. </p><br><p>  ZenCad (gr√¢ce √† l'opencascade de base rapide) peut redessiner la sc√®ne en temps r√©el, ce qui vous permet d'animer un mod√®le 3D.  L'animation est impl√©ment√©e par une fonction python ordinaire et vous permet de vous faire plaisir en toute libert√©.  √âtant donn√© que nous sommes dans un environnement python, zencad est capable de visualiser les donn√©es de sources externes sous forme de mouvements de mod√®le (par exemple, en utilisant le multithreading + tcpsocket).  Ainsi, le zencad peut √™tre utilis√©, par exemple, pour des tests semi-naturels de produits robotiques.  Oh bonjour Gazebo !!!  Salut ROS !!!  Je suis ravi de vous voir √©galement dans le public.  Une biblioth√®que de cin√©matique, qui simplifierait consid√©rablement la construction de cha√Ænes cin√©matiques de manipulateurs robotiques, est d'ailleurs en cours de d√©veloppement. </p><br><p>  L'animation est pour l'instant encore en version semi-exp√©rimentale (notamment en termes de contr√¥le de cam√©ra) donc je ne m'attarderai pas l√†-dessus en d√©tail. </p><br><h2 id="eksport---import">  Exporter - Importer </h2><br><p>  Actuellement, l'exportation et l'importation au format brep sont prises en charge, ce qui permet l'int√©gration avec freecad et l'exportation au format stl, ce qui permet de g√©n√©rer des mod√®les pour l'impression 3D.  La g√©n√©ration de captures d'√©cran est √©galement prise en charge.  Y compris automatique.  En particulier, les captures d'√©cran du manuel en ligne sont g√©n√©r√©es automatiquement par ZenCad. </p><br><h2 id="tekuschee-sostoyanie">  Statut actuel </h2><br><p>  Pour le moment, ZenCad est encore tr√®s loin d'√™tre achev√©, et n√©anmoins il est pleinement op√©rationnel dans la partie dans laquelle il est pr√™t. </p><br><p>  La biblioth√®que est disponible en pipy pour les axes compatibles Debian avec les versions de python3.5, python3.6, python3.7 </p><br><p>  (Vous devrez peut-√™tre installer qt5-default, en raison de certains probl√®mes avec les plugins dans PyQt5) </p><br><pre> <code class="plaintext hljs">python3 -m pip install zencad apt install qt5-default</code> </pre> <br><p>  Ex√©cuter gui √† partir de la ligne de commande: </p><br><pre> <code class="plaintext hljs">python3 -m zencad</code> </pre> <br><p>  Ex√©cuter gui √† partir d'un script python: </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/env python3 import zencad m = zencad.cube(20) zencad.disp(m) zencad.show()</span></span></code> </pre><br><p>  Malheureusement, les progr√®s du syst√®me ne vont pas aussi vite que nous le souhaiterions.  La plupart des API de g√©om√©trie bidimensionnelle et des API de travail avec des surfaces n'ont pas encore √©t√© impl√©ment√©es, la prise en charge de l'exportation et de l'importation de formats standard, la gestion des erreurs n'est pas toujours transparente, les tests automatiques n'ont pas √©t√© √©labor√©s, des biblioth√®ques pour la construction de joints filet√©s et de produits d'engrenage ont √©t√© con√ßues et pas encore impl√©ment√©es.  En tant qu'√©diteur externe, ce qui est compl√®tement anormal, c'est soudainement hardcore !!!  Sublime Text ... Je veux aussi vraiment affiner le syst√®me pour qu'il puisse √™tre ex√©cut√© sous Windows (cela n√©cessite beaucoup de travail d'expertise). </p><br><p>  Cependant, zencad vous permet d√©sormais de concevoir des mod√®les 3D assez complexes, de cr√©er des mod√®les pour l'impression 3D et m√™me de visualiser la cin√©matique des m√©canismes. </p><br><h2 id="ssylki-na-proekt">  Liens du projet </h2><br><p>  github: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://github.com/mirmik/zencad</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://github.com/mirmik/servoce</a> </p><br><p>  pypi: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://pypi.org/project/zencad/</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://pypi.org/project/pyservoce/</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">manuel</a> </p><br><p>  Merci de votre attention. </p><br><p><img src="https://habrastorage.org/webt/gk/mg/z5/gkmgz5fkgkyje5e4bxhdhtz5yis.png"></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr443140/">https://habr.com/ru/post/fr443140/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr443126/index.html">D = Trust: pourquoi Google, Amazon, Apple et Facebook le perdent et comment le restaurer</a></li>
<li><a href="../fr443128/index.html">kW, kW * h et kW / h</a></li>
<li><a href="../fr443132/index.html">Comment d√©couvrir les bases de donn√©es ouvertes MongoDB et Elasticsearch</a></li>
<li><a href="../fr443136/index.html">Ne simplifiez pas trop votre CI / CD et utilisez Docker de mani√®re significative</a></li>
<li><a href="../fr443138/index.html">¬´L'audio est cool, mais un peu plus tard¬ª: un podcast sur les cr√©ateurs de contenu, GTD pour un √©diteur et une carri√®re m√©diatique</a></li>
<li><a href="../fr443144/index.html">√âcole Programmation 42 √©coles aux Etats-Unis - le r√™ve am√©ricain accessible √† tous</a></li>
<li><a href="../fr443146/index.html">Parking intelligent - navigation adaptative, √©clairage et bornes de recharge pour v√©hicules √©lectriques</a></li>
<li><a href="../fr443150/index.html">Angular vs React: biblioth√®que compl√®te avec un framework</a></li>
<li><a href="../fr443152/index.html">Comment bloquer Microsoft Edge en arri√®re-plan sous Windows 10</a></li>
<li><a href="../fr443154/index.html">R√©tro√©clairage du clavier DasKeyboard bas√© sur la glyc√©mie √† l'aide de l'API REST</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>