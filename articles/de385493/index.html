<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèø‚Äçüåæ ü§´ üë®üèæ‚Äçüè≠ Installieren Sie ROS auf einem Raspberry Pi üëºüèø üòØ üòù</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ich habe bereits in einem fr√ºheren Artikel √ºber die Installation von rosserial_arduino f√ºr die Interaktion des Arduino-Mikrocontrollers mit der ROS-Ro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Installieren Sie ROS auf einem Raspberry Pi</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/385493/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich habe bereits in einem </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">fr√ºheren Artikel</font></a><font style="vertical-align: inherit;"> √ºber die Installation von rosserial_arduino f√ºr die Interaktion des Arduino-Mikrocontrollers mit der ROS-Roboterplattform geschrieben</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">rosserial_arduino ist ein Paket des Rosserial-Stacks, das f√ºr die ROS-Plattform entwickelt wurde, und verwandelt die Arduino-Karte in einen eigenst√§ndigen ROS-Knoten, mit dem andere Komponenten des Systems interagieren k√∂nnen. </font><font style="vertical-align: inherit;">Bei der Verwendung von Arduino f√ºr Roboterprojekte gibt es eine wesentliche Einschr√§nkung: Arduino kann nicht als vollwertiger Rechenknoten verwendet werden, der alle f√ºr die normale Funktion des Roboters erforderlichen Vorg√§nge ausf√ºhren kann. </font><font style="vertical-align: inherit;">Beispielsweise k√∂nnen Sie keine OpenCV-Skripts f√ºr Computer Vision-Aufgaben ausf√ºhren. </font><font style="vertical-align: inherit;">In diesem Artikel m√∂chte ich √ºber meine Erfahrungen bei der Installation eines ROS-Systems und dem Anschlie√üen eines Arduino an einen Raspberry Pi-Mikrocomputer mit dem bereits bekannten Paket rosserial_arduino sprechen.</font></font><br>
<br>
<img src="https://habrastorage.org/files/90a/722/adb/90a722adbfe44d879f3d1fd7cd317952.JPG" alt="Bild"><br>
<br>
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Motivation</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem ich die Plattform rosserial_arduino kennengelernt hatte, hatte ich eine Frage: Kann ich Arduino irgendwie in Verbindung mit einem leistungsst√§rkeren Mikrocomputer so verwenden, dass der Roboter unabh√§ngiger vom Laptop wird? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dann kam mir die Idee, ROS auf einem Raspberry Pi-Mikrocomputer auszuprobieren. Der Raspberry Pi ist ein eigenst√§ndiger Mini-Computer auf dem Board. Es verf√ºgt √ºber einen CPU-Chip, einen Grafikchip, einen SD-Kartensteckplatz, einen Ethernet-Eingang, mehrere USB-Schnittstellen und einen HDMI-Videoausgang zum Anschlie√üen eines Monitors. Sie k√∂nnen eine Maus, eine Tastatur und eine externe Festplatte an die USB-Eing√§nge anschlie√üen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Kombination aus Raspberry Pi und Arduino ist sehr vielversprechend und wurde wiederholt in Roboterprojekten eingesetzt.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit Raspberry Pi k√∂nnen Sie auch eine Kamera (Webcam oder spezielle RPi-Board-Kamera) anschlie√üen. </font><font style="vertical-align: inherit;">Ein einfacher Roboter mit R√§dern auf einem modifizierten Arduino Uno-Board ist mir vor einem Jahr in die H√§nde gefallen. </font><font style="vertical-align: inherit;">In meinen H√§nden war gerade das Raspberry Pi Model B.</font></font><br>
<br>
<img src="https://habrastorage.org/files/56f/faa/000/56ffaa0003b94e6e82cf6402d210ab1f.JPG" alt="Bild"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installieren des Betriebssystems auf dem Raspberry Pi</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zuerst m√ºssen Sie die Linux-Distribution auf der "Himbeere" installieren. </font><font style="vertical-align: inherit;">Der einfachste Weg, dies zu tun, ist mit dem NOOBS OS-Installationsmanager. </font><font style="vertical-align: inherit;">Wie das geht, lesen Sie in diesem Handbuch auf dem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">offiziellen Raspberry Pi-Portal</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe mich f√ºr Raspbian entschieden, eine modifizierte Debian-Distribution, die speziell f√ºr Raspberry entwickelt wurde. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hinweis: Beim Anschlie√üen eines Monitors treten h√§ufig Probleme bei der Anzeige eines Bildes auf, insbesondere bei √§lteren Monitoren ohne HDMI-Eingang. </font><font style="vertical-align: inherit;">Hier hilft uns die Datei config.txt - die Himbeer-Konfigurationsdatei f√ºr die Monitoreinstellungen. </font><font style="vertical-align: inherit;">In einigen F√§llen befindet es sich bereits im System-Image-Archiv (Raspbian), im Fall von NOOBS muss es im Stammverzeichnis der SD-Karte erstellt werden. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºgen Sie die folgenden Zeilen in die Datei ein:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># For more options and information see</span>
<span class="hljs-comment"># http://www.raspberrypi.org/documentation/configuration/config-txt.md</span>
<span class="hljs-comment"># Some settings may impact device functionality. See link above for details</span><font></font>
 <font></font>
<span class="hljs-comment"># uncomment if you get no picture on HDMI for a default "safe" mode</span><font></font>
hdmi_safe=1<font></font>
 <font></font>
<span class="hljs-comment"># uncomment this if your display has a black border of unused pixels visible</span>
<span class="hljs-comment"># and your display can output without overscan</span>
<span class="hljs-comment">#disable_overscan=1</span><font></font>
 <font></font>
<span class="hljs-comment"># uncomment the following to adjust overscan. Use positive numbers if console</span>
<span class="hljs-comment"># goes off screen, and negative if there is too much border</span>
<span class="hljs-comment">#overscan_left=16</span>
<span class="hljs-comment">#overscan_right=16</span>
<span class="hljs-comment">#overscan_top=16</span>
<span class="hljs-comment">#overscan_bottom=16</span><font></font>
 <font></font>
<span class="hljs-comment"># uncomment to force a console size. By default it will be display's size minus</span>
<span class="hljs-comment"># overscan.</span>
<span class="hljs-comment">#framebuffer_width=1280</span>
<span class="hljs-comment">#framebuffer_height=720</span><font></font>
 <font></font>
<span class="hljs-comment"># uncomment if hdmi display is not detected and composite is being output</span><font></font>
hdmi_force_hotplug=1<font></font>
 <font></font>
<span class="hljs-comment"># uncomment to force a specific HDMI mode (this will force VGA)</span>
<span class="hljs-comment">#hdmi_group=1</span>
<span class="hljs-comment">#hdmi_mode=1</span><font></font>
 <font></font>
<span class="hljs-comment"># uncomment to force a HDMI mode rather than DVI. This can make audio work in</span>
<span class="hljs-comment"># DMT (computer monitor) modes</span>
<span class="hljs-comment">#hdmi_drive=2</span><font></font>
 <font></font>
<span class="hljs-comment"># uncomment to increase signal to HDMI, if you have interference, blanking, or</span>
<span class="hljs-comment"># no display</span><font></font>
config_hdmi_boost=4<font></font>
 <font></font>
<span class="hljs-comment"># uncomment for composite PAL</span>
<span class="hljs-comment">#sdtv_mode=2</span><font></font>
 <font></font>
<span class="hljs-comment">#uncomment to overclock the arm. 700 MHz is the default.</span>
<span class="hljs-comment">#arm_freq=800</span><font></font>
<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Fall sind die wichtigen Zeilen:</font></font><br>
<br>
<pre><code class="bash hljs">hdmi_safe=1<font></font>
‚Ä¶<font></font>
hdmi_force_hotplug=1<font></font>
‚Ä¶<font></font>
config_hdmi_boost=4<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In meinem Fall erm√∂glichten diese Einstellungen das Erhalten des richtigen Bildes auf einem Monitor mit einem VGA-Eingang.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konfigurieren Sie den Remotezugriff auf den Raspberry Pi</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie k√∂nnen √ºber das Netzwerk √ºber SSH eine Verbindung zur Raspberry Pi-Karte herstellen. </font><font style="vertical-align: inherit;">Dazu muss der Raspberry Pi entweder √ºber ein Ethernet-Kabel (hierf√ºr befindet sich ein spezieller Eingang auf der Karte) oder √ºber einen an einen USB-Anschluss angeschlossenen WLAN-Adapter mit dem Netzwerk verbunden sein. </font><font style="vertical-align: inherit;">Wenn Sie ein Ethernet-Kabel anschlie√üen, erh√§lt Raspberry automatisch eine IP-Adresse im Netzwerk und wird sofort verf√ºgbar. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie einen Adapter verwenden, m√ºssen Sie eine Reihe einfacher Verfahren ausf√ºhren. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe den folgenden TPLINK-WLAN-Adapter verwendet: Schlie√üen Sie </font></font><br>
<br>
<img src="https://habrastorage.org/files/952/ec9/f72/952ec9f7266249dfb27c147e747a06df.JPG" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
den Adapter an den USB-Anschluss an und √ºberpr√ºfen Sie, ob das Ger√§t im System vom Befehl erkannt wird</font></font><br>
<br>
<pre><code class="bash hljs">$ iwconfig
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt scannen wir den Raum, um nach verf√ºgbaren drahtlosen Netzwerken zu suchen:</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo iwlist wlan0 scan
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das ESSID-Feld in der Befehlsausgabe gibt den Namen des Zugriffspunkts an. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Stellen Sie nun mit dem Dienstprogramm wpa_supplicant eine Verbindung zum Zugriffspunkt f√ºr die WPA-Verschl√ºsselung her. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit dem Dienstprogramm wpa_passphrase, das Teil des Pakets wpa_supplicant ist, generieren wir ein Kennwort basierend auf dem Zugriffsschl√ºssel:</font></font><br>
<br>
<pre><code class="bash hljs">$ wpa_passphrase &lt;hotspot_name&gt; &lt;hotspot_access_key&gt;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dabei sind hotspot_name und hotspot_access_key der Name des Zugriffspunkts bzw. des Zugriffsschl√ºssels. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Dienstprogramm gibt die generierte psk-Zeichenfolge zur√ºck. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als n√§chstes wird der gesamte Netzwerkblock, der die Netzwerk-SSID und die PSK-Zeile enth√§lt, am Ende der Konfigurationsdatei /etc/wpa_supplicant/wpa_supplicant.conf eingef√ºgt und gespeichert. </font><font style="vertical-align: inherit;">Schlie√ülich starten wir unseren Raspberry Pi neu und √ºberpr√ºfen die Netzwerkverbindung. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um eine Verbindung √ºber SSH im Terminal des Computers herzustellen, m√ºssen Sie den folgenden Befehl ausf√ºhren:</font></font><br>
<br>
<pre><code class="bash hljs">$ ssh pi@&lt;raspi_ip&gt;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dabei ist &lt;raspi_ip&gt; die Himbeer-IP-Adresse, die vom Befehl ifconfig erkannt werden kann, der direkt im Himbeer-Terminal ausgef√ºhrt wird. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Verwenden Sie den folgenden Befehl, um eine Verbindung √ºber SSH mit der M√∂glichkeit zum Ausf√ºhren grafischer Anwendungen herzustellen:</font></font><br>
<br>
<pre><code class="bash hljs">$ ssh -X pi@&lt;raspi_ip&gt;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie k√∂nnen im Remotedesktopmodus mit dem Programm Virtual Network Computing (VNC) eine Verbindung zum ‚ÄûMalinka‚Äú herstellen. </font><font style="vertical-align: inherit;">Die Verwaltung erfolgt durch √úbertragen von Tastenanschl√§gen auf der Tastatur und der Maus von einem Computer auf einen anderen und Weiterleiten des Bildschirminhalts √ºber ein Computernetzwerk. </font><font style="vertical-align: inherit;">Das VNC-System ist plattformunabh√§ngig. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Installieren Sie zuerst den VNC-Server auf dem Raspberry Pi mit dem Befehl im Terminal:</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo apt-get install tightvncserver
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºhren Sie nach Abschluss der Installation den folgenden Befehl aus:</font></font><br>
<br>
<pre><code class="bash hljs">$ vncserver :1 -geometry 1280x800 -depth 16
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Befehl startet den VNC-Server. </font><font style="vertical-align: inherit;">In diesem Fall bedeutet dies, dass eine virtuelle X-Sitzung ausgef√ºhrt wird (virtuelle Pr√§sentation des Raspberry Pi-Desktops). </font><font style="vertical-align: inherit;">Nachdem Sie den VNC-Client gestartet und eine Verbindung hergestellt haben, werden Sie mit diesem virtuellen Desktop verbunden. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parameter: 1 definiert die Portnummer, auf der der VNC-Prozess ausgef√ºhrt wird. </font><font style="vertical-align: inherit;">Der Geometrieparameter legt die Aufl√∂sung (in diesem Fall die Gr√∂√üe) des virtuellen Desktops fest. </font><font style="vertical-align: inherit;">Der Tiefenparameter bestimmt die Farbtiefe der Desktop-Anzeige in Bit (8, 16 und 24, der Standardwert ist 16). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beim ersten Start werden Sie vom VNC-Server aufgefordert, ein Kennwort einzugeben, das beim Herstellen einer Verbindung zum Remotedesktop abgefragt wird. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Installieren Sie nun den VNC-Client auf einem Desktop-Computer:</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo apt-get install xtightvncviewer
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir sind bereit, eine Verbindung zum Remote-Desktop ‚ÄûMalinka‚Äú herzustellen:</font></font><br>
<br>
<pre><code class="bash hljs">$ vncviewer &lt;raspi_ip&gt;:1
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
und geben Sie das Passwort ein. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein Fenster mit einem √§hnlichen Desktop-Image wird ge√∂ffnet: </font></font><br>
<br>
<img src="https://habrastorage.org/files/d95/11e/dc4/d9511edc43df42b8b9a49a8ea88f5669.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beachten Sie, dass der VNC-Server bei jedem Neustart einer Himbeere neu gestartet werden muss.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verbinde Arduino mit Raspberry Pi</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Arduino kann genauso einfach an den Raspberry Pi angeschlossen werden wie an einen normalen Computer. </font><font style="vertical-align: inherit;">Installieren Sie zun√§chst die Arduino IDE auf dem Raspberry Pi:</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo apt-get update<font></font>
$ sudo apt-get install arduino<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Starten Sie den Befehl Arduino IDE:</font></font><br>
<br>
<pre><code class="bash hljs">$ arduino
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Arduino IDE wird √ºber ihr USB-Programmierkabel mit dem Raspberry Pi verbunden. </font><font style="vertical-align: inherit;">F√ºr eine solche Verbindung muss die serielle Konsole getrennt werden. </font><font style="vertical-align: inherit;">Standardm√§√üig konfiguriert der Raspberry Pi die serielle Schnittstelle (GPIO14-GPIO15) so, dass Startinformationen bereitgestellt werden. </font><font style="vertical-align: inherit;">Sie k√∂nnen sich auch √ºber ein angeschlossenes Ger√§t bei Ihrem Raspberry Pi anmelden. </font><font style="vertical-align: inherit;">Um Arduino programmieren zu k√∂nnen, m√ºssen Sie diese Option standardm√§√üig deaktivieren. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bearbeiten Sie die inittab-Systemdatei, um die Autorisierung zu deaktivieren:</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo nano /etc/inittab
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Finden Sie die Linie:</font></font><br>
<br>
<pre><code class="bash hljs">T0:23:respawn:/sbin/getty -L ttyAMA0 115200 vt100
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
kommentiere es aus:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment">#T0:23:respawn:/sbin/getty -L ttyAMA0 115200 vt100</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Speichern und schlie√üen Sie danach die Datei. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beim Booten sendet der Raspberry Pi Debugging-Meldungen an die serielle Schnittstelle. </font><font style="vertical-align: inherit;">Dies kann in einigen F√§llen n√ºtzlich sein, aber jetzt m√ºssen wir diese Funktionalit√§t deaktivieren. </font><font style="vertical-align: inherit;">Bearbeiten Sie dazu die Systemdatei cmdline.txt:</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo nano /boot/cmdline.txt
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Finden Sie die Linie:</font></font><br>
<br>
<pre><code class="bash hljs">dwc_otg.lpm_enable=0 console=ttyAMA0,115200 kgdboc=ttyAMA0,115200 console=tty1 root=/dev/mmcblk0p2 rootfstype=ext4 elevator=deadline rootwait
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
und entfernen Sie den Konsolenparameterblock, um eine Zeile wie die folgende zu erhalten:</font></font><br>
<br>
<pre><code class="bash hljs">dwc_otg.lpm_enable=0 console=tty1 root=/dev/mmcblk0p2 rootfstype=ext4 elevator=deadline rootwait
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Speichern und schlie√üen Sie die Datei. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Damit die √Ñnderungen vom System √ºbernommen werden, m√ºssen Sie den Raspberry Pi neu starten:</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo reboot
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt k√∂nnen Sie die Arduino-Karte an den USB-Anschluss des Raspberry Pi anschlie√üen, die Arduino-IDE f√ºr Ihr Arduino-Kartenmodell konfigurieren und die Skizze darauf hochladen.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ROS und rosserial_arduino einstellen</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe mich f√ºr die Installation von ROS Indigo entschieden. </font><font style="vertical-align: inherit;">Die Installationsanweisungen f√ºr ROS Indigo sind auf der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">offiziellen Seite</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ausf√ºhrlich beschrieben </font><font style="vertical-align: inherit;">. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich empfehle die Installation der ROS-Comm-Installationsoption. </font><font style="vertical-align: inherit;">Aus eigener Erfahrung kann ich sagen, dass die Installation der Desktop-Option sehr lange dauern kann. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach der Installation von ROS und dem Aufl√∂sen aller Abh√§ngigkeiten mit dem Dienstprogramm rosdep kompilieren wir einfach catkin_workspace:</font></font><br>
<br>
<pre><code class="bash hljs">$ catkin_make<font></font>
$ catkin_make install<font></font>
</code></pre><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ausf√ºhren von rosserial_arduino-Skizzen auf Raspberry Pi</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt haben wir rosserial_arduino installiert und k√∂nnen es ausf√ºhren:</font></font><br>
<br>
<pre><code class="bash hljs">$ roslaunch rosserial_python serial_node.py /de/ttyACM0
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beim Starten des Rosserial-Servers kann ein Fehler auftreten: Kein Modul mit dem Namen diagnostic_msgs.msg. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um das Problem zu l√∂sen, m√ºssen Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Quelle der </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">ROS-</font></a><font style="vertical-align: inherit;"> Nachrichten - common_msgs, die sich nicht in der Installation befinden, </font><font style="vertical-align: inherit;">aus dem </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">offiziellen ROS-Repository</font></a><font style="vertical-align: inherit;"> herunterladen </font><font style="vertical-align: inherit;">und in den Ordner rosserial package im Arbeitsbereichsordner laden und anschlie√üend ROS kompilieren:</font></font><br>
<br>
<pre><code class="bash hljs">$ catkin_make install
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kommentar! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beim Laden von Skizzen in die Arduino IDE kann der Fehler "Schwerwiegender Fehler: Zeichenfolge: Keine solche Datei- oder Verzeichniskompilierung beendet" auftreten. </font><font style="vertical-align: inherit;">Dies bedeutet, dass wir ROS-Nachrichtentypen in ros_lib haben, diese m√ºssen jedoch auch in die entsprechenden Typen f√ºr Arduino kompiliert werden. </font><font style="vertical-align: inherit;">Sie m√ºssen sie folgenderma√üen kompilieren:</font></font><br>
<br>
<pre><code class="bash hljs">$ <span class="hljs-built_in">cd</span> &lt;sketchbook&gt;/libraries<font></font>
$ rm -rf ros_lib<font></font>
$ rosrun rosserial_python make_libraries.py .<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt k√∂nnen Sie mit rosserial_arduino auf dem Raspberry Pi wie auf einem normalen Computer arbeiten: Knoten erstellen, Themen abonnieren, Themen ver√∂ffentlichen usw. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie k√∂nnen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eine RPi-Board-Kamera</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> an den Raspberry Pi anschlie√üen </font><font style="vertical-align: inherit;">und das ROS-Paket cv_bridge (die ROS-Schnittstelle f√ºr die Interaktion mit OpenCV, die Beschreibung finden Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) verwenden, um Computer-Vision-Aufgaben auszuf√ºhren. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mein Roboter ist √ºbrigens voll bewaffnet:</font></font><br>
<br>
<img src="https://habrastorage.org/files/ceb/c98/e8b/cebc98e8b13640138361a5f683bd85fd.JPG" alt="Bild"><br>
<br>
<img src="https://habrastorage.org/files/0ac/9e4/c98/0ac9e4c987c64bbcb3c0d9f83d0654ad.JPG" alt="Bild"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazit</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich hoffe, dass dieser Artikel ein guter Input f√ºr Sie ist, um mit ROS auf dem Raspberry Pi zu arbeiten, und Sie haben Ihre eigenen Ideen f√ºr die Verwendung des Raspberry Pi in Verbindung mit Arduino oder anderen Mikrocontrollern dieses Typs. </font><font style="vertical-align: inherit;">Ich w√ºnsche Ihnen viel Gl√ºck bei Ihren Experimenten und Projekten und hoffe, dass ich bald meine neuen Ideen in den folgenden Artikeln teilen werde! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS: Einige Anweisungen stammen aus dem Buch von V. Petin, ‚ÄûElectronics. </font><font style="vertical-align: inherit;">Raspberry Pi Mikrocomputer. </font><font style="vertical-align: inherit;">Praktischer Leitfaden. ‚Äú</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de385493/">https://habr.com/ru/post/de385493/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de385479/index.html">USPS h√∂rt auf, registrierte internationale Post zu verfolgen</a></li>
<li><a href="../de385481/index.html">Kleine Autos, gro√ües Herz</a></li>
<li><a href="../de385483/index.html">Aufstieg der Maschinen: Intelligente Internetkessel und Internet-Eisen kommen</a></li>
<li><a href="../de385485/index.html">Heute ist Marty McFly in der Zukunft angekommen</a></li>
<li><a href="../de385491/index.html">Solarenergie: Wie z√§hlt man?</a></li>
<li><a href="../de385497/index.html">"Quanten" hier und jetzt (Teil 2)</a></li>
<li><a href="../de385501/index.html">Build 10572 Verf√ºgbar f√ºr mobile Windows-Insider</a></li>
<li><a href="../de385505/index.html">Wie Russland sich am 21. Oktober 2015 traf (aktualisierter Beitrag)</a></li>
<li><a href="../de385507/index.html">Der 17-j√§hrige Teenager baute zu Hause einen realistischen Flugzeugsimulator</a></li>
<li><a href="../de385509/index.html">Google investiert in Afrikas gr√∂√üten Windpark</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>