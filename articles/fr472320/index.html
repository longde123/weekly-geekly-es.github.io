<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë∑üèº üê¢ üë®üèª‚Äç‚úàÔ∏è Entretien avec Zabbix: 12 r√©ponses franches ü§∏üèº üïò üÜë</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En informatique, il y a une telle superstition: "√áa marche, ne touchez pas". Cela peut √™tre dit √† propos de notre syst√®me de surveillance. Chez Southb...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Entretien avec Zabbix: 12 r√©ponses franches</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/472320/"><p>  En informatique, il y a une telle superstition: "√áa marche, ne touchez pas".  Cela peut √™tre dit √† propos de notre syst√®me de surveillance.  Chez Southbridge, nous utilisons Zabbix - quand nous l'avons choisi, c'√©tait tr√®s cool.  Et, en fait, il n'avait pas d'alternative. </p><br><p>  Au fil du temps, notre √©cosyst√®me a envahi les instructions, les liaisons suppl√©mentaires et l'int√©gration avec Redmine est apparue.  Zabbix a un concurrent puissant qui a excell√© dans de nombreux aspects: vitesse, HA presque hors de la bo√Æte, belle visualisation, optimisation du travail dans les environnements kubernethes. </p><br><p>  Mais nous ne sommes pas press√©s de traverser.  Nous avons d√©cid√© de jeter un ≈ìil au scintillement dans Zabbix et de demander quelles puces ils envisagent de faire dans les prochaines versions.  Nous ne nous sommes pas tenus sur la c√©r√©monie et avons pos√© des questions inconfortables √† Sergey Sorokin, directeur du d√©veloppement de Zabbix, et Vitaly Zhuravlev, architecte de la solution.  Qu'est-il advenu de cela, lisez la suite. </p><br><p><img src="https://habrastorage.org/webt/2t/qo/rd/2tqord_tteskkrfhhwulioiapoa.jpeg"></p><br><p><a name="habracut"></a>  <em>1. Parlez-nous de l'histoire de l'entreprise.</em>  <em>Comment est n√©e l'id√©e du produit?</em> </p><br><p> L'histoire de l'entreprise a commenc√© en 1997, lorsque le fondateur et propri√©taire de l'entreprise, Alexey Vladyshev, a travaill√© comme administrateur de base de donn√©es dans l'une des banques.  Il a paru inefficace √† Alexey de g√©rer les bases sans disposer des donn√©es sur les valeurs historiques de divers param√®tres, sans comprendre l'√©tat actuel et historique de l'environnement. </p><br><p>  Dans le m√™me temps, la solution de surveillance pr√©sente √† ce moment sur le march√© est tr√®s co√ªteuse, lente et n√©cessite des ressources importantes.  Par cons√©quent, Alex commence √† √©crire divers scripts qui lui permettent de surveiller efficacement la partie de l'infrastructure qui lui est confi√©e.  Cela devient un passe-temps.  Alexey change de travail, mais l'int√©r√™t pour le projet demeure.  En 2000-2001, le projet √©tait en cours de r√©√©criture √† partir de z√©ro - et Alexei envisageait de donner √† d'autres administrateurs la possibilit√© d'utiliser les meilleures pratiques.  Dans le m√™me temps, la question s'est pos√©e sous quelle licence d√©livrer le code existant.  Alex a d√©cid√© de le publier sous la licence GPLv2.  L'outil a √©t√© imm√©diatement remarqu√© dans un environnement professionnel.  Au fil du temps, des demandes d'assistance, de formation et d'extension des capacit√©s logicielles ont commenc√© √† arriver √† Alexey.  Le nombre de ces commandes est en constante augmentation.  Alors, naturellement, la d√©cision a √©t√© prise de cr√©er une entreprise.  L'entreprise a √©t√© fond√©e le 12 avril 2005. </p><br><p><img src="https://habrastorage.org/webt/na/sc/_a/nasc_al5yv6h80y9oojux984xwk.png"></p><br><p>  <em>2. Quels points cl√©s pouvez-vous souligner dans l'histoire de Zabbix?</em> </p><br><p>  Il existe actuellement plusieurs points de ce type: <br>  a.  Le d√©but du travail d'Alexey sur les scripts - 1997. <br>  b.  Publication du code GPLv2 - 2001. <br>  c.  Cr√©ation de Zabbix - 2005 <br>  La conclusion des premiers accords de partenariat, la cr√©ation d'un programme d'affiliation - 2007. <br>  e. Fondation de Zabbix Japan LLC - 2012. <br>  e. Fondation de Zabbix LLC (√âtats-Unis) - 2015 <br>  g.  Fondation de Zabbix LLC - 2018 </p><br><p>  <em>3. Combien de personnes avez-vous?</em> </p><br><p>  Actuellement, le groupe d'entreprises Zabbix emploie un peu plus de 70 employ√©s: d√©veloppeurs, testeurs, chefs de projet, ing√©nieurs support, consultants, vendeurs et employ√©s marketing. </p><br><p>  <em>4. Comment r√©digez-vous la feuille de route, recueillez-vous les commentaires des utilisateurs?</em>  <em>Comment d√©terminez-vous o√π aller ensuite?</em> </p><br><p>  Lors de la cr√©ation de la feuille de route pour la prochaine version de Zabbix, nous nous concentrons sur les facteurs importants suivants, plus pr√©cis√©ment, nous collectons la feuille de route dans les cat√©gories suivantes: </p><br><p>  a.  Am√©liorations strat√©giques de Zabbix.  Quelque chose que Zabbix lui-m√™me consid√®re comme tr√®s important.  Par exemple, l'agent Zabbix √©crit en Go. <br>  b.  Ce que les clients et partenaires de Zabbix veulent voir sur Zabbix.  Et pour lesquels ils sont pr√™ts √† payer. <br>  c.  Souhaits / suggestions de la communaut√© Zabbix. <br>  d. Dettes techniques.  :) Les choses que nous avons publi√©es dans les versions pr√©c√©dentes, mais qui ne fournissaient pas toutes les fonctionnalit√©s, ne le rendaient pas suffisamment flexible, n'offraient pas toutes les options. </p><br><p><img src="https://habrastorage.org/webt/rr/kq/rq/rrkqrq7vdugbislodziuxbrl2uo.png"></p><br><p>  <em>5. Pouvez-vous comparer Zabbix et prometheus?</em>  <em>Quoi de mieux et de pire dans Zabbix?</em> </p><br><p>  La principale diff√©rence, √† notre avis, Prometheus est principalement un syst√®me de collecte de mesures - et afin de collecter une surveillance compl√®te dans l'entreprise, vous devez ajouter de nombreux autres composants au prometeus, tels que graphane pour la visualisation, un stockage s√©par√© √† long terme, g√©rer s√©par√©ment quelque part probl√®mes, travailler s√©par√©ment avec les journaux ... </p><br><p>  Il n'y aura pas de mod√®les de surveillance typiques dans Prometheus, apr√®s avoir re√ßu toutes les milliers de m√©triques des exportateurs, vous devrez y trouver ind√©pendamment des signaux probl√©matiques.  Configuration de Prometheus - fichiers de configuration.  Quelque part c'est plus pratique, quelque part non. </p><br><p>  Zabbix est une plate-forme universelle pour cr√©er une surveillance ¬´de et vers¬ª, nous avons notre propre visualisation, la corr√©lation des probl√®mes et leur affichage, la distribution des droits d'acc√®s au syst√®me, l'audit des actions, de nombreuses options pour collecter des donn√©es via un agent, un proxy, en utilisant des protocoles compl√®tement diff√©rents, la possibilit√© de rapidement √©tendre le syst√®me avec des plugins, des scripts, des modules ... </p><br><p>  Et vous pouvez simplement collecter des donn√©es, comme c'est le cas, par exemple, en utilisant le protocole HTTP, puis transformer les r√©ponses en mesures utiles en utilisant des fonctions de pr√©traitement telles que JavaScript, JSONPath, XMLPath, CSV et similaires.  De nombreux utilisateurs appr√©cient Zabbix pour la possibilit√© de configurer et de g√©rer le syst√®me via une interface Web, pour la possibilit√© de d√©crire des configurations de surveillance typiques sous la forme de mod√®les pouvant √™tre partag√©s entre eux et contenant non seulement des mesures, mais aussi des r√®gles de d√©tection, des seuils, des graphiques, des descriptions - Un ensemble complet d'objets pour surveiller les objets standard. </p><br><p>  Beaucoup appr√©cient √©galement la possibilit√© d'automatiser la gestion et la configuration via l'API Zabbix.  En g√©n√©ral, je ne veux pas organiser un holivar.  Il nous semble que les deux syst√®mes sont bien adapt√©s √† leurs t√¢ches et peuvent se compl√©ter harmonieusement, par exemple, Zabbix de la version 4.2 peut prendre des donn√©es provenant ou des exportateurs de Prometheus. </p><br><p>  <em>6. Avez-vous pens√© √† faire des saas zabbix?</em> </p><br><p>  Nous avons pens√© et le ferons √† l'avenir, mais nous voulons rendre une telle solution aussi pratique que possible pour les clients.  Dans ce cas, le Zabbix standard doit √™tre propos√© avec des outils de communication, des outils avanc√©s de collecte de donn√©es, etc. </p><br><p>  <em>7. Quand attendre zabbix ha?</em>  <em>Et s'il fallait attendre?</em> </p><br><p>  Zabbix HA attend d√©finitivement.  Nous esp√©rons vraiment voir quelque chose dans Zabbix 5.0 LTS, mais la situation deviendra plus claire en novembre 2019, lorsque la feuille de route Zabbix 5.0 sera pleinement confirm√©e. </p><br><p>  <em>8. Pourquoi le type de support a-t-il un choix si maigre hors de la bo√Æte?</em>  <em>Vous ne pr√©voyez pas d'ajouter Slack, un t√©l√©gramme, etc.?</em>  <em>Quelqu'un d'autre utilise-t-il du jabber?</em> </p><br><p>  Jabber dans la version Zabbix 4.4 a √©t√© supprim√©, mais Webhooks a √©t√© ajout√©.  En ce qui concerne les types de supports, je ne voudrais pas cr√©er des applications sp√©cifiques √† partir du syst√®me, mais des outils de messagerie standard.  Ce n'est un secret pour personne que bon nombre de ces chats ou services de bureau disposent d'API via HTTP - par cons√©quent, cette ann√©e, la situation changera avec la sortie de la version 4.4. </p><br><p>  Avec l'av√®nement des webhooks dans Zabbix, vous pouvez vous attendre √† l'int√©gration la plus populaire pr√™te √† l'emploi dans un avenir proche.  Dans cette int√©gration sera bidirectionnelle, et pas seulement de simples notifications unidirectionnelles.  Et ces types de m√©dias que nous n'obtiendrons pas seront cr√©√©s par notre communaut√© - car maintenant le type de m√©dia entier peut √™tre export√© vers le fichier de configuration, publi√© sur share.zabbix.com ou github.  Et les autres utilisateurs n'auront qu'√† importer le fichier pour commencer √† utiliser une telle int√©gration.  En m√™me temps, vous n'avez pas besoin d'installer de scripts suppl√©mentaires! </p><br><p>  <em>9. Pourquoi la direction de la d√©couverte de machine virtuelle ne se d√©veloppe-t-elle pas?</em>  <em>Il n'y a que vmware.</em>  <em>Beaucoup attendent une int√©gration avec ec2, openstack.</em> </p><br><p>  Non, la direction se d√©veloppe.  Par exemple, dans 4.4, la d√©couverte du magasin de donn√©es est apparue via la cl√© vm.datastore.discovery.  Des cl√©s wmi.getall tr√®s cool sont √©galement apparues dans 4.4 - nous nous attendons √† ce que, avec la cl√© perf_counter_en, vous puissiez faire une bonne surveillance Hyper-V.  Eh bien, il y aura d'autres changements importants dans cette direction dans Zabbix 5.0. </p><br><p><img src="https://habrastorage.org/webt/it/vy/nn/itvynndqe0qi8nlavpd4kjs8nmo.png"></p><br><p>  <em>10. N'a pas pens√© √† abandonner les mod√®les et √† faire comme prometeus, quand tout ce qui est donn√© est enlev√©?</em> </p><br><p>  Prometheus prend automatiquement toutes les m√©triques, c'est pratique.  Un mod√®le est plus qu'un simple ensemble de m√©triques, c'est un ¬´conteneur¬ª qui contient toute la configuration de surveillance de type n√©cessaire pour un type de ressource ou de service donn√©.  Il dispose d√©j√† d'un ensemble de d√©clencheurs importants, de graphiques, de r√®gles de d√©tection, il contient des descriptions de mesures et de valeurs de seuil qui aident l'utilisateur √† comprendre ce qui se passe, quels seuils sont v√©rifi√©s et pourquoi.  Dans le m√™me temps, les mod√®les sont faciles √† partager avec d'autres utilisateurs - et ils obtiendront une bonne surveillance de leur syst√®me, sans m√™me √™tre un expert en la mati√®re. </p><br><p>  <em>11. Pourquoi y a-t-il si peu de mesures pr√™tes √† l'emploi?</em>  <em>Cela complique grandement la configuration en termes de fonctionnement.</em> </p><br><p>  Si hors de la bo√Æte vous voulez dire des mod√®les pr√™ts √† l'emploi, alors en ce moment nous travaillons sur l'expansion et l'am√©lioration de nos mod√®les.  Zabbix 4.4 est sorti avec un nouvel ensemble am√©lior√© et de meilleures fonctionnalit√©s. </p><br><p>  Pour Zabbix, vous pouvez toujours trouver share.zabbix.com un mod√®le pr√™t √† l'emploi pour presque tous les syst√®mes.  Mais nous avons d√©cid√© que nous devions faire les mod√®les de base nous-m√™mes, en montrant un exemple aux autres, et en lib√©rant √©galement les utilisateurs d'√©crire √† nouveau un mod√®le pour certains MySQL.  Par cons√©quent, maintenant dans Zabbix, il n'y aura plus de mod√®les officiels avec chaque version. </p><br><p><img src="https://habrastorage.org/webt/nq/e3/15/nqe315qll6wte1sv2qhb-o8cwb4.png"></p><br><p>  <em>12. Quand il sera possible de construire des d√©clencheurs qui ne sont pas li√©s √† des h√¥tes, mais par exemple sur la base d'√©tiquettes.</em>  <em>Par exemple, nous surveillons un site √† partir de n points diff√©rents, et nous voulons un d√©clencheur simple qui se d√©clenche lorsque le site n'est pas accessible √† partir de 2 points ou plus.</em> </p><br><p>  En fait, une telle fonctionnalit√© est pr√©sente dans Zabbix depuis plusieurs ann√©es, √©crite pour l'un des clients.  Le client est l'ICANN.  Des contr√¥les similaires peuvent √™tre effectu√©s, par exemple, via des √©l√©ments agr√©g√©s ou en utilisant l'API Zabbix.  Maintenant, nous travaillons activement √† simplifier la cr√©ation de ces ch√®ques. </p><br><p>  <strong>PS</strong> : Lors de l'un des Slurms, les d√©veloppeurs de Zabbix nous ont demand√© ce que nous voulions voir dans le produit afin de surveiller les clusters Kubernetes en utilisant Zabbix, et non Prometheus. </p><br><p>  C'est g√©nial lorsque les d√©veloppeurs vont √† la rencontre des clients, plut√¥t que de rester une chose pour eux-m√™mes.  Et maintenant, nous rencontrons chaque version avec un int√©r√™t sinc√®re - la bonne nouvelle est que de plus en plus de fonctionnalit√©s dont nous avons parl√© acqui√®rent de la chair et du sang. </p><br><p>  Alors que les d√©veloppeurs ne se replient pas sur eux-m√™mes, mais s'int√©ressent aux besoins des clients, le produit vit et se d√©veloppe.  Nous suivrons les nouvelles versions de Zabbix. </p><br><p>  <strong>PPS</strong> : Dans quelques mois, nous lancerons un cours de monitoring en ligne.  √Ä qui c'est int√©ressant, abonnez-vous, afin de ne pas manquer l'annonce.  En attendant, vous pouvez passer par notre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kubernetes Slurm</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr472320/">https://habr.com/ru/post/fr472320/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr472306/index.html">PHP Digest n ¬∞ 166 (7-21 octobre 2019)</a></li>
<li><a href="../fr472310/index.html">Identification des clients sur les sites sans mots de passe et cookies: application pour standard</a></li>
<li><a href="../fr472312/index.html">Exp√©rience de transfert d'un projet Maven vers Multi-Release Jar: d√©j√† possible, mais toujours difficile</a></li>
<li><a href="../fr472314/index.html">J'aime les gens en carton</a></li>
<li><a href="../fr472318/index.html">Suivi distribu√© dans Istio</a></li>
<li><a href="../fr472326/index.html">Notre industrie spatiale ... Et si vous consid√©rez les probl√®mes de l'industrie du point de vue d'un geek?</a></li>
<li><a href="../fr472334/index.html">La vie par coupons ou comment nous optimisons le travail des services sociaux</a></li>
<li><a href="../fr472336/index.html">Acc√©l√©ration instagram.com. 3e partie</a></li>
<li><a href="../fr472338/index.html">Qui est le tueur JavaScript?</a></li>
<li><a href="../fr472340/index.html">GraphQL a-t-il perdu de sa pertinence √† l'√®re HTTP / 2?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>