<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë±üèø üë®üèª‚Äçüíª üíö Qualit√© du code üë∏üèæ üßñüèø üñ≤Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La qualit√© du code est un th√®me n√© de la programmation. ISO 9000 est utilis√© pour √©valuer et contr√¥ler la qualit√© de la gestion d'entreprise, GOST et ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Qualit√© du code</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/433326/">  La qualit√© du code est un th√®me n√© de la programmation.  ISO 9000 est utilis√© pour √©valuer et contr√¥ler la qualit√© de la gestion d'entreprise, GOST et la m√™me ISO sont utilis√©s pour les produits, mais il n'y a pas de code GOST pour l'√©valuation de la qualit√©.  Il n'y a pas non plus de d√©finition exacte ni de norme pour la qualit√© du code. <br><br><img src="https://habrastorage.org/webt/g7/lf/vf/g7lfvflqvaed3arisqbaikdvrhi.jpeg"><br><br>  Chaque d√©veloppeur comprend la qualit√© √† sa mani√®re, bas√©e sur l'exp√©rience.  Les vues des joons et du plomb sont diff√©rentes, ce qui conduit √† des d√©saccords.  Chaque √©quipe pour des projets individuels √©value le code √† sa mani√®re.  L'√©quipe est mise √† jour, les d√©veloppeurs partent, les chefs d'√©quipe changent - la d√©finition de la qualit√© change.  <strong>Ivan Botanov</strong> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">StressoID</a> ) de Tinkoff.ru, d√©veloppeur frontend, un tuteur en ligne sur Angular, un conf√©rencier lors de r√©unions et de conf√©rences, un tuteur sur YouTube et parfois un coach d'√©quipe dans les entreprises, tentera d'aider √† r√©soudre ce probl√®me. <br><br>  En d√©codant le rapport d'Ivan sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Frontend Conf, nous</a> parlerons de lisibilit√©, de d√©nomination, de caract√®re d√©claratif, de style de code, et aborderons indirectement les relations de juin et de Lead: erreurs, ratisser et ¬´br√ªler¬ª des chefs d'√©quipe. <br><br>  <em>Avertissement:</em> Pr√©parez-vous mentalement, il y <em>aura beaucoup de mauvais code</em> dans le texte <em>, provenant d'un site <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"sp√©cial"</a> .</em> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/dpkKf-Nkwcw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><a name="habracut"></a><br><h2>  Un peu d'histoire <br></h2><br>  Nous √©crivons tous de diff√©rentes mani√®res.  Vous l'avez peut-√™tre remarqu√© lorsque vous avez chang√© de lieu de travail, de projet ou d'√©quipe - des choses inhabituelles sont imm√©diatement √©videntes.  Cela m'est √©galement arriv√© plusieurs fois, c'est pourquoi ce rapport est n√©.  Je me suis concentr√© sur les d√©veloppeurs novices, mais l'article sera utile √† ceux qui g√®rent d√©j√† plus que d'√©crire ou de personnaliser les processus de d√©veloppement.  De quoi allons-nous parler: <br><br><ul><li>  √Ä propos des probl√®mes de code illisible. </li><li>  Discutons du nommage. </li><li>  Voyons quelles sont les diff√©rences entre le style d√©claratif et imp√©ratif, et quels sont les probl√®mes. </li><li>  √Ä propos de la modularisation et de la frappe du code. </li><li>  √Ä propos du style de code et de la dette technique, des commits et du flux git. </li><li>  √Ä propos des outils que vous pouvez utiliser et de la correction des erreurs dans le prod. </li></ul><br>  Avant de commencer, je pose la question: <strong>"Combien de programmeurs le bus doit-il d√©coller pour que le projet cesse de se d√©velopper?"</strong>  .  La bonne r√©ponse: tout le monde. <br><br><h2>  Qu'est-ce qu'un facteur de bus? <br></h2><br>  Conditionnellement, Petya ou Vasya travaille en √©quipe, qui sait tout sur le projet: ils vont le voir, lui demandent ceci et cela, comment √ßa marche ici, et comment √ßa marche l√†-bas.  Tout le monde d√©pend de Petya, le num√©ro de bus du projet est un.  Plus le nombre est petit, plus il est difficile de d√©velopper le projet, car tout le monde distrait Petya, et il est cool, et doit faire les t√¢ches, et ne pas r√©pondre aux questions. <br><br>  Vous direz √† <em>quel point c'est cool d'√™tre Pete!</em>  <em>Tout le monde l'aime, l'appr√©cie, a besoin de lui.</em> <br><br>  Ce n'est pas le cas.  Habituellement, Petya est un chef d'√©quipe, et il doit faire face √† d'autres t√¢ches: discuter du d√©veloppement du projet, construire l'architecture, g√©rer l'√©quipe, mais n'allez pas dans les dunes et expliquez pourquoi il est √©crit ici et pas autrement. <br><br>  Si le code est propre et bon, alors c'est bien de le lire et il y a moins de questions des jones.  <strong>Un code propre augmente la viabilit√© du projet et abaisse le seuil d'entr√©e</strong> .  Lorsque de nouvelles personnes apparaissent dans l'√©quipe, elles poseront moins de questions.  Dans un tel projet, <strong>il est plus facile d'attirer les d√©veloppeurs en</strong> raison du seuil d'entr√©e bas. <br><br><blockquote>  Le code de qualit√© augmente les num√©ros de bus. <br></blockquote><br><h2>  Lisibilit√© <br></h2><br>  La lisibilit√© est affect√©e par l'indentation, la d√©nomination tordue et l'imbrication forte - de nombreux projets en souffrent.  Outre l'indentation, les op√©rateurs ternaires multilignes, l'absence d'un style de code unique, une combinaison d'approches de d√©veloppement et une red√©finition non √©vidente des variables r√©duisent la lisibilit√©.  Tous ces facteurs sont les causes les plus courantes de mauvaise lisibilit√© du code. <br><br>  Pour ma part, j'ai identifi√© le terme <strong>code lin√©aire</strong> - c'est un code qui peut √™tre lu comme un livre. <br><br><blockquote>  Le code lin√©aire se lit de gauche √† droite, de haut en bas, sans avoir √† revenir au code pr√©c√©demment √©crit. <br></blockquote><br>  Un exemple d'un tel code: <br><br><pre><code class="javascript hljs">list.forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">element1</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (element1.parent_id == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { output.push(element1); list.forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">element2</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (element2.parent_id == element1.id) { output.push(element2); list.forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">element3</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (element3.parent_id == element2.id) { output.push(element3); list.forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">element4</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (element4.parent_id == element3.id) { output.push(element4); } }) } }) } }) } })</code> </pre> <br>  Ce code est lin√©aire, mais il a un autre probl√®me - il est fortement imbriqu√©.  Par cons√©quent, nous devons √©galement surveiller la nidification. <br><br>  Exemple de code <strong>non lin√©aire</strong> : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!brk &amp;&amp; html.childNodes[<span class="hljs-number"><span class="hljs-number">0</span></span>].value &amp;&amp; html.childNodes[<span class="hljs-number"><span class="hljs-number">0</span></span>].max) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(clear) html.childNodes[<span class="hljs-number"><span class="hljs-number">0</span></span>].value = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(html.childNodes[<span class="hljs-number"><span class="hljs-number">0</span></span>].value &lt;= html.childNodes[<span class="hljs-number"><span class="hljs-number">0</span></span>].max) { ++ html.childNodes[<span class="hljs-number"><span class="hljs-number">0</span></span>].value; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(brk) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(id = <span class="hljs-number"><span class="hljs-number">1</span></span>; id &lt; html.childNodes.length; ++ id) findActive(html.childNodes[id], <span class="hljs-literal"><span class="hljs-literal">true</span></span>); html.parentNode.className = <span class="hljs-string"><span class="hljs-string">""</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { html.parentNode.className = <span class="hljs-string"><span class="hljs-string">"Ready"</span></span>; html.className = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> html; } }</code> </pre><br>  Si nous rejetons tout ce qui est superflu et d√©couvrons ce qui rompt la lin√©arit√©, alors nous verrons quelque chose comme ceci: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (condition) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; }</code> </pre><br>  Lorsqu'il y a autre chose, vous devez d'abord regarder ce qui est √©crit √† un endroit, puis √† un autre.  S'il s'agit d'un si grand ou fortement imbriqu√©, alors l'attention est dispers√©e et le code est difficile √† lire. <br><br><h3>  Comment r√©duire l'imbrication et obtenir un code lin√©aire? <br></h3><br>  <strong>Combinez les conditions</strong> .  C'est la chose la plus simple que nous puissions faire - imbriqu√©e si je peux combiner en condition et r√©duire l√©g√®rement l'imbrication. <br><br>  C'√©tait: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isUser()) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isAdmin()) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'admin'</span></span>); } }</code> </pre><br>  C'est devenu: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(isUser() &amp;&amp; isAdmin()) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'admin'</span></span>); }</code> </pre><br>  Appliquer un <strong>mod√®le de retour pr√©coce</strong> .  Il vous permet de vous d√©barrasser compl√®tement des autres.  Je peux remplacer la m√©thode ou un morceau de code par if-else avec un retour anticip√©, puis un bloc de code ou un autre sera ex√©cut√©.  C'est tr√®s pratique - vous n'avez pas √† faire d√©filer et revenir √† certaines parties du code. <br><br>  C'√©tait: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isAdmin()) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> admin; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> user; }</code> </pre><br>  C'est devenu: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isAdmin()) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> admin; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> user;</code> </pre><br><br>  <strong>Appliquer la cha√Æne de promesse</strong> .  Il s'agit d'un code Protractor typique.  J'ai √©crit des tests E2E il n'y a pas si longtemps, et un tel code m'a fait mal aux yeux: <br><br><pre> <code class="javascript hljs">ptor.findElement(protractor.By.id(<span class="hljs-string"><span class="hljs-string">'q01_D'</span></span>)).click().then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { ptor.findElement(protractor.By.id(<span class="hljs-string"><span class="hljs-string">'q02_C'</span></span>)).click().then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { ptor.findElement(protractor.By.id(<span class="hljs-string"><span class="hljs-string">'q03_D'</span></span>)).click().then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'done'</span></span>); }); }); })</code> </pre><br>  Avec la cha√Æne de promesses, le code se transforme: <br><br><pre> <code class="javascript hljs">ptor.findElement(protractor.By.id(<span class="hljs-string"><span class="hljs-string">'q01_D'</span></span>)).click() .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ptor.findElement(protractor.By.id(<span class="hljs-string"><span class="hljs-string">'q02_C'</span></span>)).click(); }) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ptor.findElement(protractor.By.id(<span class="hljs-string"><span class="hljs-string">'q03_D'</span></span>)).click(); }) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'done'</span></span>); });</code> </pre><br><br>  Si nous utilisons la connaissance de la fonction fl√®che, nous pouvons le faire: <br><br><pre> <code class="javascript hljs">ptor.findElement(protractor.By.id(<span class="hljs-string"><span class="hljs-string">'q01_D'</span></span>)).click() .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> ptor.findElement(protractor.By.id(<span class="hljs-string"><span class="hljs-string">'q02_C'</span></span>)).click()) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> ptor.findElement(protractor.By.id(<span class="hljs-string"><span class="hljs-string">'q03_D'</span></span>)).click()) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'done'</span></span>));</code> </pre><br>  Il est lisible, d√©claratif, beau - tout est clairement visible. <br><br>  <strong>Ordre sup√©rieur observable.</strong>  √âtant donn√© que je suis un angulaire et que j'utilise RxJS, je suis confront√© au probl√®me de l'imbrication forte du code spaghetti - imbriqu√© <strong>observable</strong> , c'est-√†-dire des abonnements imbriqu√©s.  Il y a un flux, et √† l'int√©rieur du flux, vous devez obtenir la valeur, puis quelque chose √† faire avec un autre flux.  Certains √©crivent comme ceci: <br><br><pre> <code class="javascript hljs">Observable.of(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>) .subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">item</span></span></span><span class="hljs-function"> =&gt;</span></span> { item += <span class="hljs-number"><span class="hljs-number">2</span></span>; Observable.of(item) .subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">element</span></span></span><span class="hljs-function"> =&gt;</span></span> { element += <span class="hljs-number"><span class="hljs-number">1</span></span>; }) })</code> </pre><br>  Et cela affecte vraiment les projets pour adultes.  Vous pouvez le faire: <br><br><pre> <code class="javascript hljs">Observable.of(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>) .mergeMap(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">item</span></span></span><span class="hljs-function"> =&gt;</span></span> Observable.of(item + <span class="hljs-number"><span class="hljs-number">2</span></span>)) .mergeMap(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">element</span></span></span><span class="hljs-function"> =&gt;</span></span> Observable.of(element + <span class="hljs-number"><span class="hljs-number">1</span></span>)) .subscribe()</code> </pre><br>  En appliquant les connaissances de l'API RxJS, nous nous sommes √©loign√©s de l'imbrication forte, gr√¢ce √† <strong>un ordre sup√©rieur observable</strong> , et sommes arriv√©s √† la <strong>d√©claration</strong> .  Cette chose, qui jette la valeur du flux interne vers l'ext√©rieur, c'est tout.  Mais c'est propre, lin√©aire, beau et pas investi. <br><br><h3>  Op√©rateurs ternaires imbriqu√©s <br></h3><br>  √Ä mon avis, le pire que l'on puisse trouver dans le code est <strong>les op√©rateurs ternaires imbriqu√©s</strong> .  R√©√©crivez-les sur les instructions conditionnelles de bloc, essayez de ne pas les utiliser du tout.  Nous ne parlerons pas du tout de conditions implicites - c'est un √©chec. <br><br>  Un exemple d'op√©rateurs ternaires imbriqu√©s et de conditions implicites: <br><br><pre> <code class="javascript hljs">arr.length &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> ? arr[<span class="hljs-number"><span class="hljs-number">1</span></span>] == <span class="hljs-number"><span class="hljs-number">1</span></span> ? arr[<span class="hljs-number"><span class="hljs-number">1</span></span>] = <span class="hljs-number"><span class="hljs-number">2</span></span> : arr[<span class="hljs-number"><span class="hljs-number">1</span></span>] = <span class="hljs-number"><span class="hljs-number">1</span></span> : <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'empty arr'</span></span>); !a &amp;&amp; b &amp;&amp; func()</code> </pre><br>  J'ai √©crit ce simple ternaire en 5 minutes.  Il a la longueur du tableau et certaines op√©rations, mais il est difficile √† lire, car quelque part une question, quelque part ailleurs - tout n'est pas clair.  Ce code peut √™tre r√©√©crit √† l'aide d'op√©rateurs ternaires imbriqu√©s sur plusieurs lignes: <br><br><pre> <code class="javascript hljs">arr.length &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> ? arr[<span class="hljs-number"><span class="hljs-number">1</span></span>] === <span class="hljs-number"><span class="hljs-number">1</span></span> ? arr[<span class="hljs-number"><span class="hljs-number">1</span></span>] = <span class="hljs-number"><span class="hljs-number">2</span></span> : arr[<span class="hljs-number"><span class="hljs-number">1</span></span>] = <span class="hljs-number"><span class="hljs-number">1</span></span> : <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'empty arr'</span></span>);</code> </pre><br>  Vous direz: <br><br>  - D' <em>accord, d'accord!</em> <br>  - <em>Vu?</em> <br>  - <em>C'est visible!</em> <br><br>  Et que r√©pondez-vous √† ceci: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> query <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> <span class="hljs-built_in"><span class="hljs-built_in">RegExp</span></span> ? (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ fn.each(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">id</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (id.match(query)) { seatSet.push(id, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> seatSet; })() : (query.length == <span class="hljs-number"><span class="hljs-number">1</span></span> ? (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">character</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//user searches just for a particual character fn.each(function () { if (this.char() == character) { seatSet.push(this.settings.id, this); } }); return seatSet; })(query) : (function () { //user runs a more sophisticated query, so let's see if there's a dot return query.indexOf('.') &gt; -1 ? (function () { //there's a dot which separates character and the status var parts = query.split('.'); fn.each(function (seatId) { if (this.char() == parts[0] &amp;&amp; this.status() == parts[1]) { seatSet.push(this.settings.id, this); } }); return seatSet; })() : (function () { fn.each(function () { if (this.status() == query) { seatSet.push(this.settings.id, this); } }); return seatSet; })(); })() );</span></span></code> </pre><br>  Quelqu'un a √©crit et soutenu ce ternarnik.  En acc√©dant √† une telle section de code, il sera difficile de comprendre o√π le point d'interrogation commence et o√π il se termine.  Si vous utilisez des ternaires, veuillez ne pas investir les uns dans les autres - c'est mauvais. <br><br><h2>  Nommer <br></h2><br>  Un autre mauvais code: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> _0x30119c = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> _0x3af68e = { <span class="hljs-string"><span class="hljs-string">'data'</span></span>: { <span class="hljs-string"><span class="hljs-string">'key'</span></span>: <span class="hljs-string"><span class="hljs-string">'cookie'</span></span>, <span class="hljs-string"><span class="hljs-string">'value'</span></span>: <span class="hljs-string"><span class="hljs-string">'timeout'</span></span> }, <span class="hljs-string"><span class="hljs-string">'setCookie'</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">_0x3543f3, _0x13e5c1, _0x586dac, _0x1c9d63</span></span></span><span class="hljs-function">) </span></span>{ _0x1c9d63 = _0x1c9d63 || {}; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> _0x47b83f = _0x13e5c1 + <span class="hljs-string"><span class="hljs-string">'='</span></span> + _0x586dac; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> _0xae3be = <span class="hljs-number"><span class="hljs-number">0x0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> _0xae3be = <span class="hljs-number"><span class="hljs-number">0x0</span></span>, _0x5d2845 = _0x3543f3[<span class="hljs-string"><span class="hljs-string">'length'</span></span>]; _0xae3be &lt; _0x5d2845; _0xae3be++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> _0x440369 = _0x3543f3[_0xae3be]; _0x47b83f += <span class="hljs-string"><span class="hljs-string">';\x20'</span></span> + _0x440369; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> _0x411875 = _0x3543f3[_0x440369]; _0x3543f3[<span class="hljs-string"><span class="hljs-string">'push'</span></span>](_0x411875); _0x5d2845 = _0x3543f3[<span class="hljs-string"><span class="hljs-string">'length'</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_0x411875 !== !![]) { _0x47b83f += <span class="hljs-string"><span class="hljs-string">'='</span></span> + _0x411875; } } _0x1c9d63[<span class="hljs-string"><span class="hljs-string">'cookie'</span></span>] = _0x47b83f; } };</code> </pre><br><br>  Nous pouvons dire que ce code est <strong>obscurci</strong> , mais m√™me ainsi: nous voyons qu'il y a une fonction compr√©hensible, des `` donn√©es '' claires, setCookie fait quelque chose, puis c'est juste une couverture et rien n'est clair - quelque chose est <strong>concat√©n√©</strong> , quelque part des espaces.  Tout va tr√®s mal. <br><br><h3>  Ce que vous devez consid√©rer lors de la d√©nomination <br></h3><br>  Utilisez la <strong>notation</strong> <code>camelCaseNotation</code> : <code>camelCaseNotation</code> .  <strong>Il n'y a pas de translitt√©ration, tous les noms des m√©thodes sont uniquement en anglais</strong> : <code>ssylka, vikup, tovar, yslyga</code> ou <code>checkTovaraNaNalichieTseni</code> est un √©chec.  Ce dernier, d'ailleurs, j'ai √©crit quand je commen√ßais √† peine √† programmer. <br><br>  <strong>Aucun √©l√©ment, donn√©es, el, html, arr</strong> , en particulier lors de l'it√©ration √† travers des tableaux.  Par exemple, pour une gamme de produits ou d'offres, choisissez des noms conviviaux: <code>product, offer, etc</code>  La diff√©rence entre l'article et le produit n'est pas si grande, mais la lisibilit√© est plus √©lev√©e.  M√™me si vous avez une fonction d'une ligne qui ajoute quelque chose, un nom convivial augmentera la lisibilit√©. <br><br>  <code>private_property</code> <strong>pour les propri√©t√©s priv√©es</strong> : <code>private_property</code> .  J'ai ajout√© cette r√®gle parce que j'√©cris TypeScript depuis la deuxi√®me ann√©e, mais il n'y a pas de modificateurs d'acc√®s dans JS, et dans la convention de d√©nomination, nous avons convenu que le trait de soulignement d√©finit des propri√©t√©s priv√©es pour les autres d√©veloppeurs. <br><br>  <strong>Constantes en majuscules</strong> : <code>const BLOCK_WIDTH = 300;</code>  et <strong>les noms de classe en majuscule:</strong> <code>class SomeClass</code> .  J'√©cris en TypeScript et tout est clair l√†-bas, tout est clair dans <strong>ES6</strong> , mais il y a aussi des projets h√©rit√©s dans lesquels toutes les classes de fonctions avec le <code>new</code> op√©rateur √©crivent en majuscules. <br><br>  <strong>Aucune variable d'une lettre</strong> : <code>u = user</code> .  Il s'agit d'une r√©f√©rence √† <strong>i</strong> - ne pas.  √âcrivez clairement, c'est-√†-dire commercialement.  Il n'est pas n√©cessaire de faire la m√©thode Check, qui v√©rifie quelque chose, mais ce qui n'est pas clair.  √âcrivez l' <code>addProductToCard(); sendFeedback()</code> <strong>des m√©thodes</strong> : <code>addProductToCard(); sendFeedback()</code>  <code>addProductToCard(); sendFeedback()</code> . <br><br><h2>  Imp√©rativit√© <br></h2><br>  Une petite digression.  L'imp√©rativit√© est apparue simultan√©ment avec la programmation.  A cette √©poque, ils codaient dans Assembler, et √©crivaient imp√©rativement: chaque commande, chaque √©tape √©tait d√©crite en d√©tail, et une cellule m√©moire √©tait affect√©e √† la valeur.  Nous vivons en 2019 et n'√©crivons donc plus sur JS. <br><br><img src="https://habrastorage.org/webt/zl/ra/s4/zlras4uvhmk2psu5vnew5pgxqya.jpeg"><br><br>  C'est un code simple mais imp√©ratif qui a une boucle for, des variables.  On ne sait pas pourquoi ils sont ajout√©s ici. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &gt;= <span class="hljs-number"><span class="hljs-number">10</span></span>; i++) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> someItem = conferences[i]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> prefixString = <span class="hljs-string"><span class="hljs-string">'Hello '</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (someItem === <span class="hljs-string"><span class="hljs-string">'Frontend Conf'</span></span>) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(prefixString + someItem); } }</code> </pre><br>  Probl√®mes de code imp√©ratifs <strong>:</strong> beaucoup de variables, beaucoup de constructions de maintenance de ces variables et beaucoup de commentaires, car ces variables doivent √™tre d√©crites d'une mani√®re ou d'une autre - vous ne pouvez pas cr√©er une variable et l'oublier.  Tout cela affecte la lisibilit√© du code. <br><br><h2>  D√©claration <br></h2><br>  Le style d√©claratif a remplac√©.  Nous √©crivons en JavaScript et il est disponible pour nous.  Le style d√©claratif ressemble √† ceci: <br><br><pre> <code class="javascript hljs">conferences .filter(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">someItem</span></span></span><span class="hljs-function"> =&gt;</span></span> someItem === <span class="hljs-string"><span class="hljs-string">'Frontend Conf'</span></span>) .forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">someItem</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Hello'</span></span> + someItem));</code> </pre><br>  C'est la m√™me chose que dans l'imp√©ratif, mais beaucoup plus simple et plus compr√©hensible. <br><br><h3>  Avantages d'un code d√©claratif <br></h3><br>  Un tel code est plus facile √† lire, √† maintenir et √† tester, et des constructions de code complexes peuvent √™tre cach√©es derri√®re des m√©thodes et des abstractions.  Vous pouvez comprendre les diff√©rences entre le style imp√©ratif et d√©claratif par l'exemple de la friture des ≈ìufs.  Pour faire frire des ≈ìufs frits de fa√ßon imp√©rative, nous prenons une po√™le, la mettons au feu, versons de l'huile, prenons un ≈ìuf, le cassons, le versons.  Dans un style d√©claratif, nous disons: ¬´Oeufs frits¬ª, et le processus sera cach√© derri√®re les abstractions.  Nous voulons faire frire des ≈ìufs brouill√©s, pas pour comprendre comment cela fonctionne. <br><br>  Les probl√®mes commencent lorsque des d√©veloppeurs peu exp√©riment√©s viennent de l'universit√© o√π ils ont √©tudi√© Pascal et √©crivent comme ceci: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> prefix = <span class="hljs-string"><span class="hljs-string">'Hello '</span></span>; conferences .forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">someItem</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (someItem === <span class="hljs-string"><span class="hljs-string">'Frontend Conf'</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> result = prefix + someItem; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(result) } });</code> </pre><br><br>  Il s'agit d'une <strong>combinaison de</strong> styles d√©claratifs et imp√©ratifs.  Il n'y a aucune lisibilit√©, aucun imp√©ratif complet, certaines variables et <code>if</code> .  Ceci <code>if</code> personne a ajout√© parce qu'il ne savait tout simplement pas sur le filtre.  Si vous √™tes un lead et voyez un tel code, montez, piquez un lien <s>avec un b√¢ton</s> et amenez le code √† d√©claratif. <br><br><h3>  Cr√©ation de variables <br></h3><br>  Ne cr√©ez pas de variables pour le plaisir de variables - c'est une mauvaise id√©e.  Lorsque j'ai d√©couvert pourquoi les d√©veloppeurs font cela, j'ai entendu: <br><br>  - Eh bien, cela augmente la lisibilit√©! <br><br>  Qu'est-ce qui augmente la lisibilit√© ici - <code>const username = user.name</code> ?  Si vous souhaitez cr√©er une variable, donnez une signification au nom.  Par exemple, nous avons une expression r√©guli√®re: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> somePattern = <span class="hljs-regexp"><span class="hljs-regexp">/[0-9]+/</span></span>; str.split(somePattern); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> someResult = a + b - c;</code> </pre><br>  Ici, je cr√©erais une variable pour qu'une personne ne perde pas de temps sur les proc√©dures, mais lirais que cette v√©rification r√©guli√®re du t√©l√©phone, et va plus loin.  Si vous avez des op√©rations math√©matiques, √©crivez √©galement dans une variable, car, bien s√ªr, l'op√©ration math√©matique a une entit√© commerciale, un certain point de rep√®re commercial, par exemple, pour calculer le panier ou faire une remise.  Dans ce cas, vous pouvez cr√©er une variable. <br><br><blockquote>  Cr√©er une variable pour cr√©er des variables n'en vaut pas la peine. </blockquote><br><h3>  Red√©finition peu √©vidente des variables <br></h3><br>  Supposons que nous avons cr√©√© une variable d' <code>element</code> , √† partir du nom de laquelle il n'est pas clair de quoi il s'agit.  Nous avons √©crit un <code>element</code> DOM, √©crit son remplacement dans un tableau pour une raison quelconque, et laiss√©: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> element = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">'someId'</span></span>); arr.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">item</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">// ... //      // ... element = document.getElementById('someItem') if (typeof item === 'string') { let element = document.getElementById('some' + item); element.appendChild(); } });</span></span></code> </pre><br>  Tout va bien, disparu, oubli√©.  Apr√®s Petya, qui travaille dans notre √©quipe, est venu et a ajout√© le bloc <code>if</code> .  Qu'est ce que c'est?  Juste red√©fini la variable √† nouveau, et √† gauche.  Et la port√©e est d√©j√† diff√©rente.  Lorsque le d√©veloppeur suivant essaie de comprendre ce code, surtout si la m√©thode est volumineuse, il attendra <code>someId</code> ou <code>someItem</code> , et l√† ce n'est pas du tout.  C'est un endroit o√π vous pouvez perdre beaucoup de temps √† chercher quel est le probl√®me.  Nous allons √©crire un <code>debugger</code> , mettre un <code>brake point</code> , voir ce qui est l√† - en g√©n√©ral, ne pas √©crire comme √ßa. <br><br><h3>  Division en m√©thodes <br></h3><br>  Nous consid√©rons bri√®vement la division en m√©thodes et passons en douceur aux abstractions. <br><br>  Les m√©thodes devraient porter <strong>la fonctionnalit√© atomique</strong> : <strong>une m√©thode - une action</strong> .  Si vous avez une action sur une seule ligne, ne la m√©langez pas encore, tout simplement parce que la m√©thode est si petite.  La m√©thode ne doit <strong>pas d√©passer 10 lignes.</strong>  Cette d√©claration provoque un holivar et maintenant aussi des "shoots", alors √©crivez-moi ou dans les commentaires, et je vous expliquerai pourquoi j'ai √©crit cette r√®gle. <br><br><h3>  Modularit√© du code <br></h3><br>  La modularit√© <strong>am√©liore la lisibilit√© du code</strong> en se divisant en abstractions, <strong>aide √† ¬´masquer¬ª le code difficile √† lire,</strong> il est <strong>plus facile √† tester</strong> et il est plus facile de <strong>corriger les erreurs</strong> .  Je vais vous expliquer plus en d√©tail. <br><br><h3>  Se cacher derri√®re des abstractions <br></h3><br>  Par exemple, il existe du code qui cr√©e un bouton, lui attribue un identifiant, une classe et clique dessus - tout est simple. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> element = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createElement(<span class="hljs-string"><span class="hljs-string">'button'</span></span>); element.id = <span class="hljs-string"><span class="hljs-string">'id_button'</span></span>; element.classList = <span class="hljs-string"><span class="hljs-string">'red'</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.appendChild(element); element.click();</code> </pre><br>  Vous pouvez ajouter une fonction au code du bouton, l' <code>createButton</code> et utiliser la fonction <code>createButton</code> lors de la cr√©ation du bouton: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span>.button = createButton(<span class="hljs-string"><span class="hljs-string">'id_button'</span></span>); button.click(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createButton</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(id</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">') { element = document.createElement('</span></span></span></span><span class="hljs-function"><span class="hljs-params">button</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'); element.id = id; element.classList = '</span></span></span></span><span class="hljs-function"><span class="hljs-params">red</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'; document.body.appendChild(element); return element; }</span></span></span></span></span></span></code> </pre><br>  Par le nom "parlant", il est clair ce que fait la fonction et cet identifiant est transmis.  Si nous voulons cr√©er un bouton et ne pas comprendre comment il est cr√©√© et pourquoi, nous √©crivons du code en utilisant cette fonction. <br><br><pre> <code class="javascript hljs">button.component.js <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> button = createButton(<span class="hljs-string"><span class="hljs-string">'id_button'</span></span>); button.click();</code> </pre><br>  Ensuite, nous √©crivons <strong>helper</strong> , qui sera ensuite utilis√© par d'autres d√©veloppeurs.  S'ils veulent comprendre comment les ≈ìufs brouill√©s sont frits ou veulent changer la recette - ajoutez ou retirez du sel, ils passeront et v√©n√©reront. <br><br><pre> <code class="javascript hljs">button.helpers.js <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createButton</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">id</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> button = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createElement(<span class="hljs-string"><span class="hljs-string">'button'</span></span>); button.id = id; button.classList = <span class="hljs-string"><span class="hljs-string">'red'</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.appendChild(element); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> button; }</code> </pre><br><h3>  Dactylographie <br></h3><br>  Je ne parlerai pas de taper pendant longtemps - il y a un tas de rapports.  J'√©cris en TypeScript, j'aime bien, mais il y a encore du flux et d'autres outils.  Si vous n'avez pas de saisie dans votre projet, il est temps de l'impl√©menter.  Cela aide √† d√©boguer un tas d'erreurs. <br><br><h3>  Le code sent <br></h3><br>  Les odeurs de code sont tr√®s √©troitement li√©es √† mon th√®me, car l'√©criture de code de mauvaise qualit√© g√©n√®re les m√™mes odeurs.  Regardez le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">rapport cool d'Alexei Okhrimenko</a> , il aborde ce sujet en d√©tail. <br><br><h2>  Style de code <br></h2><br>  Il s'agit de l'ensemble de r√®gles d'√©quipe, de projet ou d'entreprise auxquelles les d√©veloppeurs adh√®rent.  Un bon <strong>style de code</strong> contient des exemples de bon et de mauvais code.  Il peut √™tre √©crit dans n'importe quel outil et endroit pratique.  Nous avons ce Wiki, et pour une petite entreprise, un fichier Word suffit.  Vous pouvez √©galement prendre le style Code pr√™t √† l'emploi, qui est d√©j√† utilis√© par d'autres soci√©t√©s: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JQuery</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Google</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Airbnb</a> - le style Code le plus populaire. <br><br>  Si vous utilisez une technologie ou un framework sp√©cifique, ils ont g√©n√©ralement leur propre style de code, qui vaut le coup d'≈ìil.  Par exemple, dans Angular, il s'agit du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Angular Style Guide</a> ou du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">React / JSX Style Guide</a> d'Airbnb. <br><br>  Ceci est un exemple de notre style de code. <br><br><img src="https://habrastorage.org/webt/3q/2v/h0/3q2vh0awwujjwunmpkg3e7iqtfe.png"><br><br>  Voici une section pour cr√©er des variables et d√©crit comment ne pas faire et comment. <br><br><h2>  Dette technique <br></h2><br>  C'est une sorte de paiement pour le fait que nous avons fauch√© quelque part.  Souvent, une dette technique na√Æt lorsque nous n'avons pas le temps de terminer une t√¢che et d'√©crire un rappel pour y revenir plus tard.  Parmi les cas qui ne sont pas li√©s aux fonctionnalit√©s m√©tier, il s'agit par exemple de la mise √† jour du framework. <br><br><blockquote>  La dette technologique engendre des b√©quilles et un code de mauvaise qualit√©. <br></blockquote><br>  √Ä cause de la dette technique, j'√©cris du mauvais code et des b√©quilles.  Le prochain d√©veloppeur va regarder √ßa, c'est tout, voir les montants et ajouter une autre b√©quille: "S'il y a encore du support, il n'y a rien de mal."  La dette technologique engendre des b√©quilles, la qualit√© est perdue, ce qui engendre √† nouveau des b√©quilles, et elles augmentent encore plus la dette technologique. <br><br>  Il existe une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">th√©orie des ¬´fen√™tres cass√©es¬ª</a> .  Si une fen√™tre cass√©e appara√Æt dans le b√¢timent et qu'elle n'est pas modifi√©e, apr√®s un certain temps, une deuxi√®me fen√™tre cass√©e appara√Ætra, une troisi√®me, des graffitis.  Les gens voient que personne ne suit le b√¢timent et la punition pour les fen√™tres cass√©es ne devrait pas l'√™tre.  Le code aussi.  Souvent dans les projets h√©rit√©s, le code est entour√© de b√©quilles, car les conditionnels Petit et Vasya voient des b√©quilles et pensent: "√áa va, je serai le premier."  Par cons√©quent, dans les entreprises normales, la dette technique dispose de suffisamment de temps - elles prennent un quota ou un sprint technique qui r√©soudra le probl√®me.  Si vous √™tes un leader, ou si vous influencez en quelque sorte les processus de construction de sprints et la liste des t√¢ches qui sont mises en ≈ìuvre, faites attention √† la dette technique - c'est important. <br><br><h2>  D√©p√¥t <br></h2><br>  Discutons des messages de validation.  L'image montre des exemples de messages r√©els que j'ai vus dans diff√©rents projets.  Selon vous, lesquels sont informatifs? <br><br><img src="https://habrastorage.org/webt/q8/72/mj/q872mjvfvpr0ykuknmkekksni6m.png"><br><br><div class="spoiler">  <b class="spoiler_title">Bonne r√©ponse</b> <div class="spoiler_text">  Les messages informatifs sont en blocs, mais ¬´ajout d'une fonctionnalit√©¬ª, ¬´correction d'un bug¬ª - ne sont pas informatifs. <br></div></div><br><h3>  Valider les messages <br></h3><br>  J'√©cris dans <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WebStorm</a></strong> et j'adore √ßa.  Dans celui-ci, vous pouvez configurer la mise en surbrillance des num√©ros de t√¢che, la transition lorsque vous cliquez dans Task Tracker est cool.  Si quelqu'un n'utilise pas WebStorm, il est temps, car avec lui, les messages de validation sont obtenus en haute qualit√©.  Qu'est-ce qu'un message de validation de qualit√©?  Il s'agit d'un commit, dans lequel il y a <strong>un num√©ro de t√¢che</strong> et une d√©claration courte mais succincte de l' <strong>essence des changements</strong> <strong>:</strong> "a fait un nouveau module", "a ajout√© un bouton", "a ajout√© une fonctionnalit√© o√π le composant est cr√©√©", et pas une "fonctionnalit√© ajout√©e" sans visage.  Lors de la visualisation des validations, il sera clair o√π le composant a √©t√© ajout√© et o√π le bogue a √©t√© corrig√©.  M√™me dans les messages de validation, il est n√©cessaire d'indiquer le <strong>type de modifications</strong> <strong>:</strong> fonctionnalit√©, correction de bogue, afin qu'il soit clair dans lequel les modifications se sont produites. <br><br><h3>  Gitflow <br></h3><br>  Je vais parler bri√®vement de Gitflow.  Description d√©taill√©e dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">traduction de l'article de Vincent Driessen</a> .  Gitflow est l'un des mod√®les de gestion de r√©f√©rentiel les plus populaires et les plus r√©ussis, qui a les <strong>branches principales</strong> - d√©velopper, master, pr√©prod, prod et <strong>branches temporaires</strong> : fonctionnalit√©, bogue, version.  Lorsque nous d√©marrons la t√¢che, nous d√©tournons la branche de fonctionnalit√© de la branche de d√©veloppement.  Apr√®s avoir pass√© en revue le code sur la branche de fonctionnalit√©, nous le r√©injectons dans develop.  Au final, nous collectons les versions de develop et les versions en master. <br><br><img src="https://habrastorage.org/webt/e4/kk/3g/e4kk3g7gg9-wfqfl38ecmdfstvg.png"><br><br><h3>  Les outils <br></h3><br>  Le premier est <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Commitizen</a></strong> .  Il s'agit d'un utilitaire logiciel que j'ai appris il n'y a pas si longtemps - j'ai regard√©, ressenti, aim√©.  Il vous permet de normaliser les validations de messages, poss√®de une belle interface de console dans laquelle vous pouvez s√©lectionner des fonctionnalit√©s.  Si vous avez commis dans l'esprit de ¬´corriger une fonctionnalit√©¬ª ou de ¬´corriger un bogue¬ª, il est temps de montrer Commitizen √† vos gars afin qu'ils puissent l'utiliser au moins pour commencer, puis vous pouvez l'√©crire de la t√™te. <br><br>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Linters</a></strong> est un outil indispensable dans chaque projet.  Il existe de nombreuses configurations pr√©d√©finies dans les linters, mais vous pouvez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√©crire vos propres r√®gles</a> .  Si vous avez vos propres r√®gles, le linter devrait peloter ces r√®gles - vous devrez √©crire les r√®gles de votre style de code. <br>  Liens utiles sur linter: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">github.com/dustinspecker/awesome-eslint</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">eslint.org</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">github.com/reid/node-jslint</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">palantir.github.io/tslint/</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><br></a> </li></ul><br>  Un paragraphe s√©par√© a attribu√© <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sonarJS</a> .</strong>  Il s'agit d'un outil qui vous permet d'int√©grer la validation de code dans CI.  Par exemple, nous faisons une demande d'extraction, puis sonarJS √©crit pour extraire la demande de nos √©coles, et bouleverse ou non.  C'est cool - j'ai bien aim√©.  M√™me si le Vasya conditionnel pense que personne ne remarquera son inclinaison - il remarquera sonarJS. <br><br>  L'outil s'int√®gre facilement dans Jenkins.  Nos gars ont int√©gr√© assez rapidement.  Tr√®s probablement, il s'int√®gre dans d'autres syst√®mes, mais nous ne l'avons pas essay√©.  SonarJS v√©rifie toujours le code pour les odeurs de code.  Pour √™tre honn√™te, je ne sais pas si un linter ordinaire fait √ßa. <br><br>  <strong>Les formateurs ou les stylistes</strong> sont un outil qui formate le code selon une configuration, par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Prettier</a> .  Vous pouvez le configurer pour le <strong>pr√©-push hook</strong> et obtenir un style de code uniforme dans le r√©f√©rentiel.  Petya de notre √©quipe peut mettre 500 espaces, ou pas du tout √©crire un point-virgule - tout sera propre et beau dans le r√©f√©rentiel. <br><br><blockquote>  Le formateur vous permet de conserver le code dans un seul style. <br></blockquote><br>  Je voulais raconter une histoire qui nous est arriv√©e.  Nous avons impl√©ment√© Prettier dans un projet qui a √©crit beaucoup de t√¢ches et avons d√©cid√© de ne pas ex√©cuter tout le projet, mais uniquement des morceaux de code avec des fonctionnalit√©s.  Il nous a sembl√© que peu √† peu nous sortirions et ne g√¢cherions pas l'histoire des commits: dans l'annotation nous verrons qui dure.  C'√©tait une mauvaise d√©cision.  Quand nous avons fait la t√¢che et la demande de tirage, et chang√© quelques lignes, Prettier a format√© tout le fichier, et quand nous avons regard√© la demande de tirage - seulement deux lignes!  Cela a pris une tonne de temps de r√©vision de code.  Par cons√©quent, <strong>si vous souhaitez impl√©menter Prettier, ex√©cutez l'int√©gralit√© du projet</strong> . <br><br>    ‚Äî <strong>error tracking</strong>  runtime. ,     ,    .  -       ‚Äî    . Error tracking     DOM-,  ,        .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Sentry</a> ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">TrackJS</a>   ,    . <br><br>      Sentry,  .  Pourquoi?   ,   Sentry.   . <br><br><img src="https://habrastorage.org/webt/zi/wx/ua/ziwxuafsfcoonphdjgxesammrxu.jpeg"><br>   . <br><br><img src="https://habrastorage.org/webt/hh/7q/cc/hh7qccwp1liaxrjlvblcyktusry.jpeg"><br>     , ,    : ¬´,    iOS,  ,     ,   Android  ‚Äî ,    iOS¬ª. <br><br>  Sentry  <strong>StackTrace</strong> ‚Äî   ,  . <br><br><img src="https://habrastorage.org/webt/qy/um/vc/qyumvcgz6gerwfs9u0bwrnaudeu.jpeg"><br>    Sentry.      ,    ‚Äî  :   .     ,  ,   : ¬´   ,     ?¬ª.  ‚Äî  .       ,    .   ,      ‚Äî  ¬´¬ª       . <br><br><h2> - <br></h2><br> -   ,    . <br><br><ul><li>       . </li><li>    ‚Äî  . </li><li>     . </li><li>   .   ,     frontend-developer  Tinkoff.ru. </li><li>   Code style,    .   ‚Äî  . </li><li>    ‚Äî   .   ,   ,     . </li><li>  Git Flow ‚Äî   ,   .         ‚Äî  . </li><li>   ‚Äî , .     ,     . </li></ul><br>       <strong> </strong> .   ¬´ ¬ª ,          ‚Äî      ,      .      .       ,   ,      ,   .   ,    ,    . <br><br>    : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Twitter</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Facebook</a> . <br><br><blockquote>   ‚Äî     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Frontend Conf</a> .  √áa vous a plu?   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Frontend Conf ++</a>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">  </a> :  , ,       . <br><br>        ‚Äî    FrontendConf ++.      ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a> ,       . ,    27  </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr433326/">https://habr.com/ru/post/fr433326/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr433316/index.html">Design digest: int√©gration, feedback, recherche d'id√©es et prise de d√©cision</a></li>
<li><a href="../fr433318/index.html">garbage.collect ()</a></li>
<li><a href="../fr433320/index.html">Disposition de la grille comme base des mises en page modernes</a></li>
<li><a href="../fr433322/index.html">API JSON - nous travaillons selon les sp√©cifications</a></li>
<li><a href="../fr433324/index.html">Collecter le paquet de r√™ves avec Webpack</a></li>
<li><a href="../fr433328/index.html">Mieux vaut perdre un jour</a></li>
<li><a href="../fr433330/index.html">R√©solvez les mots crois√©s japonais avec SAT Solver</a></li>
<li><a href="../fr433332/index.html">Prise en charge de Python dans Azure Functions</a></li>
<li><a href="../fr433334/index.html">Comportements XAML pour WPF est d√©sormais Open Source</a></li>
<li><a href="../fr433336/index.html">L'impl√©mentation de la biblioth√®que babylonienne</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>