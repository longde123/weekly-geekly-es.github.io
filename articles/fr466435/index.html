<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèø‚Äçü§ù‚Äçüë®üèæ üë©üèº‚Äçü§ù‚Äçüë®üèø üíÖüèæ Formation Cisco 200-125 CCNA v3.0. Jour 42. Routage inter-VLAN et SVI üéß ü§∑ üë®üèø‚Äçü§ù‚Äçüë®üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Aujourd'hui, nous examinons le routage Inter-VLAN et l'interface du commutateur virtuel SVI. Nous nous sommes d√©j√† familiaris√©s avec ces sujets dans l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Formation Cisco 200-125 CCNA v3.0. Jour 42. Routage inter-VLAN et SVI</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/466435/"> Aujourd'hui, nous examinons le routage Inter-VLAN et l'interface du commutateur virtuel SVI.  Nous nous sommes d√©j√† familiaris√©s avec ces sujets dans le cours ICND1 et nous allons maintenant les traiter plus en d√©tail.  Ces sujets sont mentionn√©s dans la section 2.0, Technologies de routage, de l'ICND2, sous-sections 2.1a et 2.1b.  Nous examinons d'abord les probl√®mes de configuration, de v√©rification et de routage inter-VLAN, puis le concept d'architecture r√©seau Router-on-a-Stick (ROAS) et l'interface du commutateur SVI. <br><br>  Passons au programme Packet Tracer et consid√©rons ce qu'est l'interface virtuelle du commutateur SVI.  Le diagramme montre deux r√©seaux: un service commercial et un service marketing, chacun ayant son propre commutateur.  Par d√©faut, les ordinateurs sont connect√©s au commutateur via le VLAN1 par d√©faut, afin qu'ils puissent communiquer entre eux sans probl√®me. <br><br><img src="https://habrastorage.org/webt/df/gp/ym/dfgpymzyjf8ai0gpqna6iezvqwk.jpeg"><br><br>  Mais si l'ordinateur n ¬∞ 1 du service commercial souhaite contacter l'ordinateur n ¬∞ 1 du service marketing, il ne pourra pas le faire car les r√©seaux ne sont pas connect√©s.  Techniquement, vous pouvez connecter les deux commutateurs par c√¢ble, mais les ordinateurs ne pourront toujours pas communiquer, car ils font partie de diff√©rents r√©seaux avec diff√©rentes plages d'adresses IP - 192.168.10.0/24 et 192.168.20.0/24. <a name="habracut"></a><br><br>  Il est possible d'√©tablir une communication entre ces deux r√©seaux si vous placez entre les p√©riph√©riques de commutateurs du 3√®me niveau OSI, un routeur, et connectez les commutateurs et le routeur avec des c√¢bles. <br><br><img src="https://habrastorage.org/webt/gf/lk/ia/gflkiawp5nctwcrocn1m7atuzk0.jpeg"><br><br>  Habituellement, dans un bureau, vous n'avez pas deux commutateurs diff√©rents pour deux r√©seaux, principalement parce que les commutateurs Cisco sont assez chers, vous devez donc g√©rer un commutateur pour 24 et 48 ports.  Supposons que nous ayons un commutateur √† 48 ports. <br><br><img src="https://habrastorage.org/webt/wv/8l/fg/wv8lfgunfgblsrsdpwqmhxmlnoo.jpeg"><br><br>  Nous cr√©ons diff√©rents VLAN. Laissez la couleur des ports sur le diagramme ne vous d√©range pas, je vais les dessiner en noir.  Le r√©seau bleu est VLAN10 et le rouge est VLAN20.  Si nous le faisons, les ordinateurs de diff√©rents r√©seaux ne pourront toujours pas communiquer entre eux, car le commutateur est un p√©riph√©rique OSI de niveau 2.  Nous avons besoin d'un appareil de niveau 3 pour l'interconnexion. <br><br>  Vous pouvez r√©soudre ce probl√®me en utilisant un routeur, dont un port sera connect√© √† l'un des ports du r√©seau VLAN10 bleu et l'autre port - √† l'un des ports du r√©seau VLAN20 rouge.  Dans le m√™me temps, nous pouvons facilement organiser la communication entre les ordinateurs de diff√©rents r√©seaux via ce routeur. <br><br><img src="https://habrastorage.org/webt/zb/em/wn/zbemwnondyrrqvdtdpco0dhhl-g.jpeg"><br><br>  Avec ce sch√©ma, nous utilisons irrationnellement des interfaces de routeur, il est donc beaucoup plus efficace d'utiliser une autre fa√ßon d'interconnexion appel√©e Router-on-a-Stick.  Plus tard, nous y reviendrons, mais pour l'instant, nous consid√©rerons l'interface virtuelle du commutateur SVI.  Comme vous le savez, le commutateur ¬´pr√™t √† l'emploi¬ª, tous les ports sont configur√©s par d√©faut sur VLAN1, et le commutateur poss√®de une interface virtuelle pour ces r√©seaux - l'interface VLAN1.  Qu'est-ce qu'une interface virtuelle? <br><br>  Si vous, en tant qu'administrateur r√©seau, configurez le commutateur, puis utilisez votre ordinateur, qui est connect√© par c√¢ble au port de console du commutateur.  Le probl√®me est que pour utiliser la console, vous devez √™tre √† c√¥t√© du commutateur, √† une distance ne d√©passant pas la longueur du c√¢ble.  Supposons que vous √™tes un grand administrateur r√©seau et que vous souhaitez configurer l'appareil √† distance.  Cependant, le commutateur est un appareil du 2e niveau du r√©seau, il ne peut donc pas avoir d'adresse IP, et il n'y a aucun moyen d'y acc√©der via le r√©seau, car il est impossible d'attribuer des adresses IP aux interfaces physiques du commutateur.  Comment r√©soudre ce probl√®me? <br>  Pour ce faire, nous devons cr√©er une interface virtuelle pour VLAN1 et lui affecter une adresse IP 192.168.1.1 ou toute autre adresse.  Ensuite, l'ordinateur de l'administrateur r√©seau dessin√© par moi avec l'adresse IP 192.168.1.10 pourra se connecter √† cette interface virtuelle avec un commutateur via Telnet ou SSH.  Cette fonctionnalit√© existe par d√©faut pour VLAN1. <br><br><img src="https://habrastorage.org/webt/e9/ra/mp/e9rampetqlahniqxfzfljf9wyhs.jpeg"><br><br>  Cependant, le r√©seau bleu PC1 appartient √† VLAN10 et l'interface virtuelle appartient √† VLAN1, de sorte que l'ordinateur ne peut pas communiquer avec l'interface VLAN1, car il appartient √† un autre r√©seau.  Dans ce cas, vous pouvez cr√©er une interface virtuelle pour VLAN10 et cr√©er la m√™me interface pour VLAN20.  Ensuite, l'ordinateur PC1 du r√©seau bleu et l'ordinateur PC1 du r√©seau rouge peuvent communiquer √† distance avec le commutateur via des interfaces virtuelles - pour cela, il vous suffit d'attribuer des adresses IP √† ces interfaces dans les plages d'adresses VLAN10 et VLAN20. <br><br>  Ainsi, afin de fournir un acc√®s √† distance de tout appareil au commutateur, vous devez cr√©er une interface virtuelle avec le m√™me num√©ro de VLAN auquel appartient cet appareil, par exemple, cr√©er une interface virtuelle VLAN20 pour un ordinateur √† partir de VLAN20, etc. <br><br>  En discutant des VLAN, nous mentionnons la couche 2 et la couche 3 du mod√®le OSI.  Afin de comprendre la diff√©rence entre eux, nous utilisons Packet Tracer. <br><br><img src="https://habrastorage.org/webt/pc/8t/sf/pc8tsfbggxpcmkkq0uon_imdlue.jpeg"><br><br>  J'h√©berge un appareil de niveau 2 - un commutateur et j'ajoute quelques PC d'utilisateur final.  Le PC0 gauche est sur VLAN10 et le PC1 droit est sur VLAN20.  Ensuite, je vais cr√©er un r√©seau en connectant des ordinateurs au commutateur.  Les deux ordinateurs doivent avoir leurs propres adresses IP, je vais donc dans leurs param√®tres r√©seau et attribuer √† PC0 l'adresse 198.168.10.1 et le masque de sous-r√©seau 255.255.255.0.  Je n'utilise pas de passerelle pour l'instant, je laisse donc les param√®tres par d√©faut.  Je fais de m√™me avec PC1, en lui attribuant l'adresse 198.168.20.1 et le masque de sous-r√©seau 255.255.255.0. <br>  Maintenant, je lance un ping depuis PC0 sur un ordinateur avec l'adresse 198.168.20.1.  Des le√ßons pr√©c√©dentes, vous devez savoir que cela ne fonctionnera pas.  Malgr√© le fait que les deux PC sont connect√©s aux interfaces par d√©faut du commutateur VLAN1, ils ne peuvent toujours pas communiquer, car ils ont des adresses IP appartenant √† diff√©rentes plages d'adresses r√©seau - VLAN10 a une plage de 192.168.10.0/0 et VLAN20 a 192.168.20.0 / 0.  Autrement dit, physiquement, les ordinateurs peuvent communiquer entre eux, mais logiquement - non. <br><br>  Je vais dans la console du commutateur et modifie les param√®tres du VLAN.  Pour ce faire, j'appelle l'interface f0 / 1 et saisis les commandes d'acc√®s en mode switchport et d'acc√®s switchlan vlan10, apr√®s quoi le syst√®me affichera un message indiquant qu'un tel r√©seau n'existe pas et qu'il sera cr√©√©.  Ensuite, je vais entrer la commande show vlan brief, et vous pouvez voir que nous avons cr√©√© un r√©seau VLAN10.  Ensuite, j'entre la commande show ip interface brief, et nous voyons qu'√† la fin de la liste des interfaces, nous avons l'interface virtuelle VLAN1 par d√©faut - c'est SVI.  Il est dans un √©tat administratif insuffisant. <br>  Essayons maintenant de cr√©er une interface virtuelle pour VLAN10.  Nous voyons que le commutateur n'avait pas de r√©seau VLAN10 et donc cr√©√©, c'est le 2√®me niveau du mod√®le OSI.  L'interface virtuelle pour VLAN10 est de niveau 3, et vous devez utiliser la commande int vlan10 pour la cr√©er.  Apr√®s cela, le syst√®me affichera un message indiquant que l'interface VLAN10 a chang√© d'√©tat en up - ¬´on¬ª, tandis que le protocole lin√©aire de l'interface VLAN10 est √©galement activ√©. <br><br>  Si vous entrez √† nouveau la commande show int brief, il est clair que nous venons de recevoir l'interface VLAN10 cr√©√©e, qui est √† l'√©tat haut.  Si nous cr√©ons un SVI, alors par d√©faut, il sera √† l'√©tat ¬´on¬ª.  N'oubliez pas - l'interface pour VLAN1 est d√©sactiv√©e par d√©faut, mais lorsque nous cr√©ons une autre interface VLAN virtuelle, elle sera activ√©e. <br><br><img src="https://habrastorage.org/webt/xr/ic/yl/xricylmwm336r4_v_sw-y05sclg.jpeg"><br><br>  Comme vous pouvez le voir, il n'y a pas de VLAN20 dans la base de donn√©es VLAN, donc je vais le cr√©er avec la commande int vlan 20. Vous voyez que je suis en mode sous-commande de cette interface.  Je peux entrer la commande d'arr√™t pour d√©sactiver ce SVI, ou √©crire pas de fermeture si je veux le laisser dans l'√©tat d'activation.  Examinons √† nouveau la liste des interfaces.  Comme vous pouvez le voir, nous avons automatiquement cr√©√© un r√©seau VLAN20.  Le VLAN10 pr√©c√©demment cr√©√© est √† l'√©tat haut, il n'y a aucun probl√®me avec lui.  Mais maintenant, quand j'ai cr√©√© VLAN20, il est apparu √† l'√©tat d√©connect√©.  Il s'agit d'un type de probl√®me, nous devons donc comprendre pourquoi lui et son protocole correspondant sont en panne. <br><br>  Il s'av√®re que l'interface VLAN20 est d√©sactiv√©e car nous n'avons pas encore de r√©seau VLAN20.  Par cons√©quent, quittons les param√®tres d'interface et cr√©ons ce r√©seau.  N'oubliez pas que lors de la cr√©ation d'un √©l√©ment d'une structure de niveau 3 du mod√®le OSI, utilisez la commande int vlan 20 et pour cr√©er un √©l√©ment de niveau 2, utilisez simplement la commande vlan 20. Apr√®s avoir cr√©√© ce r√©seau, le syst√®me affiche un message indiquant que l'interface VLAN20 a d√©sormais chang√© d'√©tat.  Vous pouvez √©galement voir que le syst√®me √©met ensuite des conseils au niveau des sous-commandes comme Switch (config-vlan) # au lieu de Switch (config) #. <br>  Essayons maintenant de changer le nom du r√©seau que nous avons cr√©√©.  Si nous cr√©ons un r√©seau VLAN10, le syst√®me lui donne par d√©faut le m√™me nom - VLAN0010.  Si nous voulons le changer, utilisez la commande name SALES.  Ensuite, √† l'aide de la commande show vlan brief, nous examinons la base de donn√©es VLAN et constatons que le r√©seau VLAN20 s'est transform√© en r√©seau SALES. <br><br>  Si vous regardez maintenant la liste des interfaces, vous pouvez voir que l'interface VLAN20 a chang√© son √©tat en Up car maintenant la base de donn√©es VLAN contient un r√©seau qui correspond √† cette interface. <br><br>  Cependant, vous voyez que le protocole de ce port est toujours inactif et est en panne.  En effet, il ne ¬´voit¬ª aucun trafic sur le r√©seau VLAN20.  Pourquoi ne voit-il pas ce trafic?  Parce qu'aucun port n'est connect√© au r√©seau VLAN20.  Nous devons donc y connecter un port de travail.  Dans ce cas, seuls les p√©riph√©riques de connexion des ports f0 / 1 et f0 / 2 sont actifs. <br><br><img src="https://habrastorage.org/webt/1q/ra/te/1qrateol8sltkg469nmalbiruiu.jpeg"><br><br>  Par cons√©quent, √† l'aide de la commande int f0 / 2, j'entre dans le mode sous-commande de cette interface et entre les commandes d'acc√®s en mode switchport et d'acc√®s vlan20.  Apr√®s cela, le syst√®me signale que le protocole de ligne d'interface VLAN20 est pass√© √† up.  Le m√™me peut √™tre vu avec la commande show int brief - les deux √©l√©ments, et l'interface, et son protocole sont dans un √©tat activ√©.  Ainsi, si vous avez un probl√®me avec une interface VLAN d√©sactiv√©e, examinez d'abord la base de donn√©es des VLAN et assurez-vous qu'il existe un r√©seau qui correspond √† cette interface.  Si vous voyez un protocole d√©sactiv√©, assurez-vous qu'il y a du trafic actif sur le r√©seau, c'est-√†-dire qu'il y a un port connect√© √† ce r√©seau. <br><br>  Si nous regardons les autres interfaces du commutateur, par exemple, f0 / 5, nous verrons que le protocole de cette interface est √† l'√©tat bas, car aucun trafic n'est observ√© sur cette interface.  Par d√©faut, le port est d√©sactiv√© si aucun p√©riph√©rique n'y est connect√© et le protocole n'est pas actif, car il n'y a pas de trafic sur ce port.  Donc, si vous voyez que le SVI est √† l'√©tat bas, vous devez d'abord v√©rifier les choses mentionn√©es ci-dessus. <br>  Maintenant que nos ordinateurs ont des adresses IP et que les ports du commutateur sont configur√©s, nous allons v√©rifier si le ping PC0 passe √† PC1.  Bien s√ªr, vous ne pouvez pas envoyer de requ√™te ping au bon ordinateur, car les p√©riph√©riques se trouvent toujours dans des r√©seaux VLAN10 et VLAN20 diff√©rents. <br><br>  Pour r√©soudre ce probl√®me, je vais placer un appareil sur le circuit auquel une adresse IP peut √™tre affect√©e - un routeur, et connecter l'une de ses interfaces au port de commutateur f0 / 3 avec un c√¢ble, et connecter l'autre interface de routeur avec le port f0 / 4 avec un deuxi√®me c√¢ble.  Il s'agit de la connexion standard pour de tels cas - tout fonctionnera si je connecte une interface au VLAN10 et l'autre au VLAN20.  Afin de ne pas perdre de temps, j'ai pr√©configur√© les ports du routeur en leur attribuant des adresses IP.  Pour voir cela, je vais entrer dans les param√®tres de la console du routeur et entrer la commande show ip int brief.  Maintenant, je vais apporter les modifications n√©cessaires en entrant les commandes config terminal, int f0 / 3, switchport mode access et switchport access vlan 10. De la m√™me mani√®re, je configurerai l'interface f0 / 4 pour fonctionner avec le r√©seau VLAN20. <br><br>  Voyons voir si le ping va passer maintenant.  Vous pouvez voir que les ports de commutation prennent un certain temps pour passer √† l'√©tat pr√™t de saut de trafic - les marqueurs orange deviendront bient√¥t verts.  J'entre ping 192.168.20.1 sur la ligne de commande PC0, mais ping √©choue √† nouveau.  La raison en est mon erreur, car je n'ai pas cr√©√© de passerelle dans les param√®tres r√©seau des ordinateurs.  Par cons√©quent, je vais dans le panneau des param√®tres et sp√©cifie l'adresse de passerelle pour le premier ordinateur 192.168.10.10 et pour le second - 192.168.20.10. <br><br><img src="https://habrastorage.org/webt/qk/xz/me/qkxzme8udtdgopncrtuz_bfmu8e.jpeg"><br><br>  Apr√®s cela, le ping est r√©ussi et maintenant PC0 et PC1 peuvent communiquer entre eux.  Cependant, comme je l'ai dit, avec une telle topologie de r√©seau, nous gaspillons les capacit√©s des ports du routeur - g√©n√©ralement le routeur n'a que deux ports, il est donc criminel de les utiliser de cette fa√ßon.  Pour utiliser plus efficacement les capacit√©s du routeur, le concept de Router-on-s-Stick, ou "routeur sur une cl√©, un routeur sur un lecteur flash" est utilis√©.  Revenons √† l'une des diapositives pr√©c√©dentes. <br><br><img src="https://habrastorage.org/webt/sp/9c/hc/sp9chcaueg3swye8nwdjsfiehds.jpeg"><br><br>  Si nous travaillons avec le 3√®me niveau du mod√®le OSI, le mot-cl√© dans les commandes de configuration sera ¬´interface¬ª.  Il met le syst√®me en mode sous-commande d'interface, o√π vous pouvez sp√©cifier le param√®tre no shutdown ou shutdown et v√©rifier le r√©sultat des param√®tres d'interface √† l'aide de la commande show ip interface brief. <br><br>  Si nous travaillons avec le niveau 2, et dans le cas d'un commutateur ce n'est rien de plus qu'une base de donn√©es VLAN, alors la commande pour entrer les param√®tres du r√©seau virtuel ne contient pas le mot-cl√© "interface", mais commence par le mot "vlan" avec le num√©ro correspondant r√©seaux, par exemple, vlan 10. Apr√®s √™tre entr√© en mode sous-commande, vous pouvez nommer le r√©seau cr√©√© avec la commande de nom VLAN10.  Utilisez la commande show vlan brief pour v√©rifier vos param√®tres. <br><br>  Pour assurer le routage entre deux r√©seaux, comme d√©j√† mentionn√©, nous connectons les commutateurs de ces r√©seaux √† un routeur connect√© √† un r√©seau externe - Internet. <br><br><img src="https://habrastorage.org/webt/wq/81/ei/wq81eiwsldjufkfj_mn9nf8dut4.jpeg"><br><br>  Avec ce sch√©ma, l'ordinateur n ¬∞ 1 peut acc√©der √† Internet ou communiquer avec des ordinateurs sur un autre r√©seau.  Autrement dit, si nous avons deux commutateurs diff√©rents, chacun pour son propre r√©seau, alors pour la communication entre eux, vous avez besoin d'un appareil du 3√®me niveau du mod√®le OSI. <br><br>  Comme je l'ai dit, g√©n√©ralement au bureau, un commutateur est utilis√©, divis√© en deux en utilisant le VLAN.  Dans le sch√©ma, je d√©signerai deux VLAN diff√©rents - bleu SALES et rouge MARKETING.  Pour utiliser cette m√©thode, vous pouvez utiliser deux interfaces de routeur diff√©rentes ou une interface f0 / 0, dans le diagramme, il s'agit d'une colonne bleue entre le routeur et le commutateur.  Ce concept est appel√© sous-interface - l'interface f0 / 0.10 est affect√©e au r√©seau bleu et f0 / 0.20 au r√©seau rouge. <br><br><img src="https://habrastorage.org/webt/e3/wg/s7/e3wgs7t7m8s11tk0hmyabgyrsv4.jpeg"><br><br>  Supposons que tout ce truc bleu soit connect√© √† une interface du commutateur f0 / 1, les ordinateurs du VLAN bleu sont connect√©s aux interfaces f0 / 2 et f0 / 3, et les ordinateurs du r√©seau rouge sont connect√©s √† f0 / 4 et f0 / 5.  Dans ce cas, f0 / 1 doit √™tre un port de jonction, et une jonction doit √™tre cr√©√©e entre le commutateur et le routeur, car nous avons besoin de tout le trafic de VLAN10 et VLAN20 pour arriver au routeur.  Dans ce cas, nous ne pouvons utiliser qu'une seule interface de routeur, qui est divis√©e en deux sous-interfaces ou sous-interfaces. <br><br>  Les sous-interfaces sont virtuellement cr√©√©es dans le routeur avec l'ajout d'un point dans la d√©signation de l'interface physique.  √Ä la sous-interface f0 / 0.10, nous attribuons une adresse IP √† partir de la plage d'adresses de VLAN10, et f0 / 0.20 re√ßoit une adresse IP √† partir de la plage d'adresses du r√©seau VLAN20.  Je note que les chiffres apr√®s le point dans la d√©signation de sous-interface ne doivent pas n√©cessairement correspondre au num√©ro VLAN.  J'utilise des nombres correspondants juste pour vous faire mieux comprendre ce concept.  Donc, si l'examen pose une question sur une sorte de probl√®me et que vous pensez qu'il a √©t√© caus√© par l'inad√©quation des num√©ros de VLAN et des sous-interfaces, puisque vous avez appris que les num√©ros de r√©seau doivent correspondre, alors vous vous trompez!  Encore une fois, je note - le num√©ro de la sous-interface et le VLAN correspondant peuvent ne pas co√Øncider, c'est normal, donc la cause des probl√®mes ne r√©side pas dans cela. <br>  Ainsi, lorsque l'ordinateur n ¬∞ 1 du r√©seau bleu envoie du trafic, il arrive au port de jonction du commutateur, o√π il est encapsul√© √† l'aide du protocole .1q, c'est-√†-dire qu'il re√ßoit la balise VLAN10 et est envoy√© au routeur via la jonction.  Le trafic VLAN20 est balis√© de la m√™me mani√®re.  Mais le probl√®me est que par d√©faut le routeur ne comprend pas la langue .1q.  Par cons√©quent, nous devons entrer dans les param√®tres du routeur et indiquer aux sous-interfaces que l'encapsulation utilise .1q.  Cela fait, nous leur attribuons des adresses IP √† partir des plages d'adresses correspondantes des r√©seaux VLAN10 et VLAN20.  D√®s que nous le ferons, la communication entre les r√©seaux sera √©tablie. <br><br>  Passons √† Packet Tracer, o√π je supprime d'abord les SVI cr√©√©s pr√©c√©demment, entrant dans le mode de configuration du commutateur global et appliquant les commandes no int vlan 10 et no int vlan 20. Si vous regardez la liste des interfaces apr√®s cela, vous pouvez voir que les interfaces VLAN10 et VLAN20 ont disparu.  Au 2√®me niveau du mod√®le OSI, ces r√©seaux sont toujours dans la base de donn√©es VLAN, puisque nous voulons les utiliser, mais sans les interfaces virtuelles correspondantes. <br><br>  Ensuite, je retire les 2 c√¢bles reliant le commutateur et le routeur, et connecte le commutateur et le routeur avec un seul c√¢ble, car je vais utiliser un seul port du routeur f0 / 0. <br><br><img src="https://habrastorage.org/webt/s9/mm/ty/s9mmtyamqn-sf-jb1bk_d6n0tdq.jpeg"><br><br>  Maintenant, je vais dans les param√®tres du routeur, s√©lectionnez l'interface f0 / 0 et entrez la commande no ip address (sans adresse IP).  Vous pouvez afficher une liste d'interfaces o√π vous pouvez voir que l'adresse IP de l'interface FastEthernet0 / 0 n'est pas attribu√©e, comme pour l'interface Vlan1, et que l'adresse IP 192.168.20.10 est utilis√©e pour l'interface FastEthernet0 / 1. <br><br><img src="https://habrastorage.org/webt/gj/iz/og/gjizog_0wuadcf617dceupnaade.jpeg"><br><br>  Pour utiliser la m√©thode du ¬´routeur sur b√¢ton¬ª, l'interface physique ne doit pas √™tre en mode arr√™t.  Comme vous pouvez le voir, FastEthernet0 / 0 est en mode de mont√©e manuelle, donc tout va bien.  C'est la premi√®re chose dont vous devez vous assurer avant d'utiliser Router-on-s-Stick, la seconde est que cette interface n'a pas d'adresse IP. <br><br>  Ensuite, je tape int f0 / 0 pour entrer dans le mode de sous-commande de l'interface, et saisis la commande f0 / 0.10 pour cr√©er la sous-interface .10.  Si vous regardez maintenant la liste des interfaces, vous pouvez voir que le syst√®me a cr√©√© une nouvelle interface virtuelle FastEthernet0 / 0.10, qui est √† l'√©tat activ√©. <br><br><img src="https://habrastorage.org/webt/ug/rs/oy/ugrsoyfd-abo7yzblfem-llzmb0.jpeg"><br><br>  Un point dans le nom indique qu'il s'agit d'une interface virtuelle et non physique.  Ensuite, nous revenons au mode des param√®tres globaux et cr√©ons la sous-interface f0 / 0.20.  Passons maintenant aux param√®tres de la nouvelle sous-interface f0 / 0.10, en utilisant la commande int f0 / 0.10.  Vous voyez que l'invite de ligne de commande a pris la forme de sous-commandes de routeur (config-subif) #.  Maintenant, je peux attribuer une adresse IP √† cette interface avec la commande ip address 192.168.10.10 255.255.255.0.  Si j'appuie sur ¬´Entr√©e¬ª, le syst√®me affichera un message: ¬´La configuration du routage IP pour le sous-interface LAN n'est possible que si cette interface est d√©j√† configur√©e dans le cadre de IEEE 802.10, 802.1q ou ISL vLAN¬ª.  Par cons√©quent, je dois entrer la commande pour utiliser l'encapsulation en utilisant le protocole .1q pour un VLAN sp√©cifique, pour lequel je tape l'encapsulation dot1Q 10, o√π 10 est le num√©ro du VLAN. <br><br><img src="https://habrastorage.org/webt/om/us/c7/omusc7o_mydv1t5iqywmscxek60.jpeg"><br><br>  Maintenant, je vais saisir l'adresse IP souhait√©e et le syst√®me l'acceptera.        f0/0.20 ‚Äì         IP- 192.168.20.10.  ,   IP-    f0/1,         no ip address.         f0/0.20,    ,    . <br><br>       PC0  ,      PC1.   ,     -,    .    ,  int f0/3     switchport mode trunk. ,        ,     VLAN10  VLAN20.    ,   ,  ,       !   ,   Router-on-a-Stick.     -    ,      .  ,     . <br><br> ,       ,         VLAN1.    ¬´¬ª  .     IP- 192.168.30.1,   255.255.255.0    192.168.30.10.  ,    PC2,  VLAN1,      VLAN10? <br><br><img src="https://habrastorage.org/webt/la/ge/_e/lage_e7xfreaxgjnfjb9ma_ab-s.jpeg"><br><br>     native VLAN,       ,      ?      2  ‚Äì   VLAN10,   VLAN20. <br><br><img src="https://habrastorage.org/webt/pz/oj/up/pzojuplzc-d_b1hy-0dhy-m_xhi.jpeg"><br><br>  2    .  ‚Äì          int f0/0.      ip address 192.168.30.10 255.255.255.0,       IP-.         PC2,      VLAN,        f0/0       . <br><br>   ,     192.168.10.1   PC2.         ,         PC0.  ,    ,   ,   .     ,       ‚Äì  Fa0/4,      PC2,     VLAN 20 SALES. <br><br><img src="https://habrastorage.org/webt/f3/t-/2y/f3t-2yzbnzlg0jt5ewlgpyduudw.jpeg"><br><br>         int f0/4, switchport mode access  switchport access vlan 1.   PC0  ,    ,       ,  ,       ,        PC2  . <br><br> ,    Native VLAN      IP-.       ‚Äì    IP-  f0/0 ‚Äì    .        ,   f0/0.30.            .1q      ¬´native¬ª: encapsulation dot1Q 1 native.       ,      native VLAN,     .       IP- 192.168.30.10 255.255.255.0    no shutdown. <br><br>  ,    .      PC2  ping 192.168.10.1,   ,   . <br><br>      .     ,     ,       3 .    ,    3-   OSI. <br><br><img src="https://habrastorage.org/webt/k3/2p/is/k32pisnmdl-kmjnaidfcpacxtdw.jpeg"><br><br>  3-        ,    VLAN. ,          ,  ,    Inter-VLAN    3- ,          .   3-       2-     3- . <br>      .      3   ‚Äì     ,  .    VLAN10  VLAN20       SVI.    ,       VLAN,      ,            VLAN     .      SVI     IP-     VLAN. <br><br><img src="https://habrastorage.org/webt/nb/3f/fx/nb3ffx8m-jzciutqgpurd5zsqza.jpeg"><br><br>     SVI  ,       .     ,       SVI   ROAS,    .    3-      SVI. <br><br>   Packet Tracer.            Cisco 3- ,         VLAN:  f0/1   VLAN10,  f0/2   VLAN20,       .   , VLAN1  PC2,    . <br><br><img src="https://habrastorage.org/webt/f4/wx/c4/f4wxc474bwjd_ozhdhtwziztxtu.jpeg"><br><br>    ,    SVI   VLAN1,     administratively down. <br><br>    3- ,      .     show ip route      ,    , , IP-   . <br><br><img src="https://habrastorage.org/webt/dy/kc/5l/dykc5lba_x3itqmqokxx04e6zug.jpeg"><br><br>            ip routing,      .     show ip rout,  ,      ,      SVI     VLAN10  VLAN20. <br><br><img src="https://habrastorage.org/webt/yr/nw/un/yrnwunrbm8cvh05hpvhn-bikova.jpeg"><br><br>     Packet Tracer   SVI.     ,    int vlan 10,   ip address 192.168.10.10 255.255.255.0  no shutdown.      , ,     IP-      VLAN10. <br><br>      int vlan 20, ip address 192.168.20.10 255.255.255.0  no shutdown.  ,      PC0  PC1   192.168.20.1.  ,  VLAN10        VLAN20,     3-       Inter-VLAN. <br><br>        VLAN1,          int vlan 1, n shutdown     IP-  ip address 192.168.30.10 255.255.255.0,   n shutdown.       PC2. <br><br>        , ,       ,            VLAN.      f0/4    VLAN40.    f0/4  IP-     VLAN40. <br><br><img src="https://habrastorage.org/webt/ju/vs/5z/juvs5zhe5kefbf-astocgzygffw.jpeg"><br><br>    3-      ,    access-,      VLAN. <br><br>  ,   Inter-VLAN    :   ROAS   Cisco 3- . ,       SVI,        . <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Z7WM7wFTWrs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Merci de rester avec nous.  Aimez-vous nos articles?  Vous voulez voir des mat√©riaux plus int√©ressants?  Soutenez-nous en passant une commande ou en le recommandant √† vos amis, une <b>r√©duction de 30% pour les utilisateurs Habr sur un analogue unique de serveurs d'entr√©e de gamme que nous avons invent√©s pour vous:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Toute la v√©rit√© sur VPS (KVM) E5-2650 v4 (6 c≈ìurs) 10 Go DDR4 240 Go SSD 1 Gbps √† partir de 20 $ ou comment diviser le serveur?</a>  (les options sont disponibles avec RAID1 et RAID10, jusqu'√† 24 c≈ìurs et jusqu'√† 40 Go de DDR4). <br><br>  <b>Dell R730xd 2 fois moins cher?</b>  Nous avons seulement <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2 x Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV √† partir de 199 $</a> aux Pays-Bas!</b>  <b><b>Dell R420 - 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB - √† partir de 99 $!</b></b>  Pour en savoir plus sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cr√©ation d'un b√¢timent d'infrastructure.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">classe utilisant des serveurs Dell R730xd E5-2650 v4 co√ªtant 9 000 euros pour un sou?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr466435/">https://habr.com/ru/post/fr466435/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr466425/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 37. STP: S√©lection du pont racine, fonctions de protection PortFast et BPDU. 2e partie</a></li>
<li><a href="../fr466427/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 38. Protocole EtherChannel pour la couche 2 OSI</a></li>
<li><a href="../fr466429/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 39. Piles et agr√©gation de ch√¢ssis de commutateurs</a></li>
<li><a href="../fr466431/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 40. Norme 802.1X et famille de protocoles AAA</a></li>
<li><a href="../fr466433/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 41. DHCP Snooping et Nondefault Native VLAN</a></li>
<li><a href="../fr466437/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 43. Protocoles de routage Distance du vecteur et √©tat de la liaison</a></li>
<li><a href="../fr466439/index.html">V√©rifiez vous-m√™me: combien de questions pouvez-vous r√©pondre √† ChGK?</a></li>
<li><a href="../fr466441/index.html">Code buggy Python: 10 erreurs les plus courantes que les d√©veloppeurs font</a></li>
<li><a href="../fr466443/index.html">ShIoTiny et le monde: capteurs analogiques ou ADC pour les plus petits</a></li>
<li><a href="../fr466445/index.html">Attaques entre approbations entre domaines</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>