<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèΩ üë®üèæ‚Äçüè´ üòÖ Deno: Le temps de Node.JS est √©coul√©? üíπ üå´Ô∏è ‚ô•Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Environ 18 mois se sont √©coul√©s depuis la sortie interne de Deno, une version pr√©liminaire a √©t√© publi√©e, plusieurs articles ont √©t√© publi√©s sur Habr√©...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Deno: Le temps de Node.JS est √©coul√©?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/476972/"><p><img src="https://habrastorage.org/webt/ph/0g/t5/ph0gt5rsvagsf2ysoqple3gg7oo.png"></p><br><p>  Environ 18 mois se sont √©coul√©s depuis la sortie interne de Deno, une version pr√©liminaire a √©t√© publi√©e, plusieurs articles ont √©t√© publi√©s sur Habr√© et Ryan va √† des conf√©rences et parle de lui.  Cependant, je n'ai jamais vu d'analyse r√©fl√©chie de ce projet nulle part - pour une raison quelconque, tout le monde se limite √† traduire la documentation ... </p><br><p> Eh bien, essayons de le faire maintenant.  Depuis 5 ans, j'√©cris sur Node.JS, et la soci√©t√© OneTwoTrip, o√π je travaille actuellement, √©crit des projets sur le n≈ìud depuis environ 9 ans (oui, j'ai √©crit l'histoire d'environ <a href="https://habr.com/ru/post/459206/">9 ans dans un monolithe sur le n≈ìud</a> ).  Donc, l'analyse devrait √™tre bonne.  De plus, je lui ai d√©j√† dit lors du <a href="https://axept.timepad.ru/event/1110942/">Meetup 10 du Node.JS de Moscou</a> , et c'√©tait int√©ressant.  Soit dit en passant, si c'est plus pratique pour vous d'√©couter, pas de lire, alors vous <a href="https://youtu.be/4414kjKYekM">pouvez</a> √©couter et regarder <a href="https://youtu.be/4414kjKYekM">ici</a> .  Mon deuxi√®me discours, je suis un mec en chemise rose. </p><a name="habracut"></a><br><p>  Curieusement, pour comprendre d'o√π vient le projet et pourquoi, il faut tomber dans le pass√©.  Nous jetons donc du plutonium, ouvrons les portes de notre Delorean et nous embarquons pour un voyage - regardez les 10 ann√©es importantes qui ont fait de Node.JS ce que nous voyons maintenant. </p><br><p><img src="https://habrastorage.org/webt/sv/f7/xa/svf7xamhyfsi4rzxzdkwxlkfum0.jpeg"></p><br><h2 id="vperyod-v-proshloe">  Vers le pass√© </h2><br><h3 id="2009">  2009 </h3><br><p>  Ryan Dahl annonce Node.JS, la <a href="https://www.youtube.com/watch%3Fv%3DztspvPYybIY">voici</a> - la toute premi√®re pr√©sentation au JSConf 2009. </p><br><h3 id="2010">  2010 </h3><br><p>  Express, socket.io appara√Æt - les briques principales pour le moment sont presque tous les services. </p><br><p>  Il y a des fous qui √©crivent vraiment du code serveur l√†-dessus! </p><br><h3 id="2011">  2011 </h3><br><p>  Les gros gars commencent √† flirter avec Node.JS - y compris Uber et Linkedin. </p><br><p>  Version Npm 1.0. </p><br><p>  Le n≈ìud commence √† fonctionner sous Windows. </p><br><h3 id="2012">  2012 </h3><br><p>  Ryan s'√©loigne du d√©veloppement de Node.JS.  <strong>N'oubliez pas</strong> .  C'√©tait en 2012.  Ryan est donc certainement le cr√©ateur et a fait beaucoup pour l'√©cosyst√®me - mais les 7 prochaines ann√©es se sont √©coul√©es <strong>sans</strong> sa participation. </p><br><h3 id="2013">  2013 </h3><br><p>  Node at Paypal, Walmart, eBay. </p><br><p>  Koa appara√Æt - rappelez-vous combien de copies ont √©t√© cass√©es sur les g√©n√©rateurs? </p><br><h3 id="2014">  2014 </h3><br><p>  Node chez Netflix.  Des tentatives commencent √† officialiser le projet en quelque chose de plus mature, avec un mod√®le ouvert de gestion d'un conseil consultatif.  Il y a une stagnation technique menant √† la fourche d'io.js. </p><br><h3 id="2015">  2015 </h3><br><p>  Travaillez sur les bugs.  La fusion d'io.js et de Node en extase sous les auspices de la Node Foundation et la sortie de Node 4. Je dois dire que c'est la version que je consid√®re comme la premi√®re sur laquelle il √©tait vraiment possible de d√©velopper quelque chose.  Si quelqu'un a √©crit sur les versions 0.xx - alors vous vous souvenez de var, callback hell, un tas de biblioth√®ques diff√©rentes pour simplifier le travail asynchrone (comme step et async. Oui, async n'est pas seulement async en attente, mais aussi une biblioth√®que npm). </p><br><h3 id="2016">  2016 </h3><br><p>  L'incident avec le pad gauche, qui est encore de mauvaises langues, rappelle l'√©cosyst√®me.  Combien d'articles et d'attaques.  Les haineux vont d√©tester.  Cependant, d'importantes le√ßons en ont √©t√© tir√©es. </p><br><h3 id="2017">  2017 </h3><br><p>  Ann√©e r√©volutionnaire.  Je ne mentionnerai pas toutes les versions du n≈ìud et l'augmentation du nombre d'installations de modules avec npm, cependant cette ann√©e le nombre de services sur Node.JS a d√©pass√© 8 millions, et le nombre d'installations √©tait de 3 milliards par semaine.  Des figures absolument cosmiques difficiles √† imaginer. </p><br><p>  La N-API est √©galement apparue et Node.JS a de nouveau √©t√© bifurqu√© dans Ayo.js.  Une histoire tr√®s dr√¥le et instructive √† propos de SJW - cela vaut un article s√©par√©, donc je ne m'y attarderai pas - je recommande simplement de la lire √† votre guise.  Ce n'est qu'au prospoiler que la fourche est morte en toute s√©curit√©. </p><br><h3 id="2018">  2018 </h3><br><p>  La deuxi√®me hyst√©rie de masse depuis le clavier gauche - maintenant sur la fa√ßon dont le flux d'√©v√©nements vole les bitcoins.  Des centaines de messages sur l'ins√©curit√© des √©cosyst√®mes.  Des articles fantastiques sur la fa√ßon dont les packages npm volent les informations de carte de cr√©dit.  La communaut√© pulv√©rise de la boue comme un tuyau.  Je dois dire que cela a √©t√© tr√®s utile et des conclusions ont √©galement √©t√© tir√©es - √† leur sujet un peu plus tard. </p><br><p>  De plus, Ryan fait soudain exploser les messages de la communaut√© sur le fait que des services s√©rieux m√©ritent d'√™tre √©crits sur Go, d√©crit 10 choses dans Node qu'il regrette et annonce Deno, qui r√©sout tous les probl√®mes. </p><br><h3 id="2019">  2019 </h3><br><p>  Deno passe √† la version pr√©liminaire, un tas d'articles apparaissent sur le hub, et maintenant vous lisez l'un d'eux. </p><br><p><img src="https://habrastorage.org/webt/r2/df/4i/r2df4igff7g0bhkz6a0sl0hq_cs.jpeg"></p><br><h2 id="nazad-v-nastoyaschee">  Retour au pr√©sent </h2><br><p>  J'esp√®re qu'apr√®s cette tourn√©e, il est devenu plus clair quel type de points douloureux l'√©cosyst√®me avait et comment il s'est d√©velopp√© - dans ce contexte, il est beaucoup plus facile de comprendre ce qui se passe maintenant. </p><br><h2 id="10-veschey-v-nodejs-o-kotoryh-sozhaleet-rayan-dal">  10 choses que Ryan Dahl regrette √† propos de Node.JS </h2><br><p>  Malheureusement, je n'ai pas trouv√© l'article avec la traduction du rapport, je vais donc les √©num√©rer ici bri√®vement, et ici je commenterai. </p><br><ol><li>  <strong>Manque de soutien aux promesses au d√©but du voyage</strong> .  Oui, cela aurait √©t√© plus simple si Ryan n'avait pas tenu ses promesses, les consid√©rant comme une complication suppl√©mentaire qui n'a pas d√©coll√© au d√©but du d√©veloppement du n≈ìud.  Le temps perdu pour tout cet enfer de rappel est certainement dommage - mais en 2019, toutes les biblioth√®ques sens√©es ont des promesses comme interface principale.  De plus, m√™me les biblioth√®ques syst√®me fournissent enfin des promesses. </li><li>  <strong>S√©curit√© des appels syst√®me et des appels r√©seau.</strong>  D'une part - oui, c'est bien quand tout est en s√©curit√©.  D'un autre c√¥t√©, on ne sait pas comment, √† cet √©gard, le n≈ìud s'est av√©r√© pire que tout autre m√©dium ... </li><li>  <strong>Cr√©ez des modules natifs √† l'aide de GYP.</strong>  Oui, c'√©tait probablement superflu, mais qui pourrait savoir que le chrome la quitterait.  Encore une fois - si le chrome a disparu, nous pouvons aussi partir ... </li><li>  <strong>Package.json excessif.</strong>  <strong>NPM en tant que registre de monopole.</strong>  L'argument concernant package.json est un peu √©trange.  Par exemple, Ryan dit qu'il y a des d√©chets comme une licence.  Mais si ce n'√©tait pas le cas, comment pourriez-vous trouver rapidement les licences des modules utilis√©s dans votre projet? .. L'argument concernant NPM ressemble plus √† la v√©rit√©, mais nous nous attarderons sur cela plus en d√©tail plus tard. </li><li>  <strong>Modules de n≈ìuds.</strong>  <strong>La r√©solution complexe des d√©pendances ne fonctionne pas comme dans un navigateur.</strong>  Oui, c'est vrai.  Les d√©pendances stables ont commenc√© √† √™tre mises sans miracle uniquement sur la version 4-5 de npm.  Mais le m√©canisme fonctionne et vous permet de faire des choses incroyables - pour le moment, √ßa va.  En ce qui concerne la compatibilit√© avec le navigateur, peu importe ce que vous faites, il y aura toujours des √©tapes de traitement du code comme la compilation et la collecte de bundles.  Il est donc peu probable que les modules de n≈ìuds aient une signification dans ce contexte. </li><li>  <strong>Exige sans extension et son incertitude</strong> .  Oui, probablement mauvais.  Mais pas assez pour le mentionner ... </li><li>  <strong>index.js comme complication inutile.</strong>  Point trop trivial et ennuyeux √† d√©crire. </li></ol><br><p>  Soit dit en passant, rappelez-vous, j'ai dit que Ryan regrette environ 10 choses, mais seulement 7 points. Ce n'est pas une erreur, j'ai examin√© son rapport plusieurs fois et les critiques du rapport.  Soit c'√©tait une blague compliqu√©e sur le sujet du traitement des valeurs num√©riques, soit Ryan √©tait tout simplement trop timide pour nommer 3 autres points ... </p><br><p>  Mais bon, nous avons compris les probl√®mes et avons continu√©.  Logiquement, √† Deno, Ryan a d√©cid√© de se d√©barrasser de tous les probl√®mes de Node.JS.  Voyons ce qui lui est arriv√©. </p><br><h2 id="iz-chego-sostoit-deno">  En quoi consiste Deno </h2><br><ol><li>  Deno est √©crit en rouille. </li><li>  En tant que boucle d'√©v√©nement, Deno utilise Tokio, r√©√©crit en rouille. </li><li>  Deno prend en charge Typescript pr√™t √† l'emploi. </li><li>  Eh bien, le code est ex√©cut√© en utilisant le m√™me V8, qui a captur√© le monde entier. </li></ol><br><p>  √Ä premi√®re vue, cela semble bon, mais regardons de plus pr√®s ces points. </p><br><p>  <strong>Rouille</strong> .  Non, s'il vous pla√Æt, comprenez-moi bien - je crois que Rust and Go sont des langues merveilleuses, et je suis sinc√®rement heureux qu'elles le soient.  Ils permettent d'√©crire du code bas niveau plus rapidement et en toute s√©curit√© qu'en C ++.  Cependant, il y a une nuance - dans le meilleur des cas, elle ne sera pas plus lente que l'impl√©mentation en C ++.  Donc, personnellement, je ne vois pas l'int√©r√™t d'√©crire un analogue complet des brins du syst√®me et une boucle d'√©v√©nement - il est peu probable qu'il apporte un r√©el avantage, car ce sont des choses qui atteignent √† un moment donn√© l'√©tat optimal et ne sont pas r√©ellement optimis√©es davantage. </p><br><p>  <strong>TypeScript</strong>  Encore une fois - je n'ai rien contre TS.  Un grand nombre d'entreprises et de d√©veloppeurs l'utilisent, et il a d√©j√† fait ses preuves.  Mais Deno cache simplement le transpilateur dans le binaire et le code transpil√© dans des r√©pertoires sp√©ciaux.  Autrement dit, tout est le m√™me sous le capot, et il n'y a aucun avantage √† cela, sauf pour l'esth√©tique.  Mais il y a un inconv√©nient - la version transpiler est √©troitement li√©e √† la version Deno.  Je ne suis pas s√ªr que ce soit bon - il est facile d'imaginer une situation o√π vous souhaitez mettre √† jour le transpilateur ou le runtime.  Mais pas les deux √† la fois. </p><br><p>  Donc, alors que rien de savoureux n'est visible.  Allons plus loin, regardons les principales fonctionnalit√©s. </p><br><h2 id="osnovnye-otlichiya-deno-i-nodejs">  Les principales diff√©rences entre Deno et Node.JS </h2><br><h3 id="deno-ne-ispolzuet-npm-net-centralizovannogo-reestra-moduli-importiruyutsya-po-url-net-packagejson">  Deno n'utilise pas npm.  Il n'y a pas de registre central.  Les modules sont import√©s par URL.  Pas de package.json. </h3><br><p>  Autrement dit, le code ressemble √† ceci: </p><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { test, runIfMain } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"https://deno.land/std/testing/mod.ts"</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { assertEquals } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"https://deno.land/std/testing/asserts.ts"</span></span>;

test(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">t1</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{
  assertEquals(<span class="hljs-string"><span class="hljs-string">"hello"</span></span>, <span class="hljs-string"><span class="hljs-string">"hello"</span></span>);
});
</code></pre><br>
<p>      ,    .        .  ,       .       :</p><br>
<ol>
<li>      .         ,    ,      . .  ,     :<br>
1.1.  ,      ,      .<br>
1.2.    ,       ,    ,       .<br>
1.3.       ,         .       2012 ,  npm  ,  ?     , " "?</li>
<li> ,  .      github, gitlab,    ,       .   .   .  npm , ,  ‚Äî   ,     ?       ‚Äî   .     Entropic, , ,   ‚Äî    .</li>
</ol><br>
<p>     .    ,     -       (       ) ‚Äî   ‚Ä¶        ‚Ä¶    2019? ,    ,   2012   Node.JS   shrinkwrap,   lock file?      ,   ?</p><br>
<p>  ,    URL ‚Äî     ,    ‚Äî     .</p><br>
<h3 id="vse-asinhronnye-operacii-v-deno-vozvraschayut-promise">    Deno  Promise.</h3><br>
<p>  , .   2012      ‚Äî          .        .     -  .</p><br>
<h3 id="deno-vsegda-zavershaet-rabotu-na-uncaught-errors">Deno     Uncaught Errors</h3><br>
<p>      .  Node.JS       .    .</p><br>
<h3 id="ispolzuyutsya-es-modules-a-ne-require"> ES Modules,   require</h3><br>
<p>, ,        .  ,  Node.JS     ES Modules...</p><br>
<h3 id="deno-trebuet-razresheniya-na-rabotu-s-setyu-faylami-i-peremennymi-okruzheniya">Deno      ,    .</h3><br>
<p> !  ‚Ä¶  ‚Äî     allow-read, allow-net, allow-run, allow-env.   - :</p><br>
<pre><code class="bash hljs">deno --allow-read=/etc https://deno.land/std/examples/cat.ts /etc/passwd</code></pre><br>
<p>      :</p><br>
<ol>
<li>        .</li>
<li> ,          --allow-all.</li>
<li>        .      .    ,                ,    .       .   ,     ‚Äî   .</li>
<li>  .    ,     ,      .      .  ,     2019       2012,      ‚Äî        ...</li>
</ol><br>
<h2 id="nashe-vremya-nashi-dni-npm"> .  . NPM.</h2><br>
<p><img src="https://habrastorage.org/webt/zk/gz/ei/zkgzeiqxfwe_gxqhgbndrhi3sem.png"></p><br>
<p>      ,    npm  2012 :</p><br>
<ol>
<li>  .      .</li>
<li>Lock file   .</li>
<li>  .    github, snyk   npm.</li>
<li>    .</li>
<li>  .</li>
<li>       ‚Äî , ,  .</li>
<li>  .</li>
</ol><br>
<p>   npm  ‚Ä¶ ,         .  ,  ,   ‚Ä¶   " ",        ‚Äî facebook, google, microsoft, gitlab‚Ä¶         ,  npm       .</p><br>
<h2 id="podvodya-itogi"> </h2><br>
<p>  :</p><br>
<ol>
<li>Rust ‚Äî  .</li>
<li>TypeScript ‚Äî  .</li>
<li>   URL  NPM ‚Äî    .</li>
<li>  ‚Äî  .</li>
<li>  .   .  .  !</li>
</ol><br>
<p><img src="https://habrastorage.org/webt/qw/v8/qc/qwv8qcrwbqujdxridpefbeet4-0.png"></p><br>
<p>         Deno.     " ,  " ‚Äî ,     ,  Deno   ‚Äî      .</p><br>
<p>     ,    ,    ,     ,       .    Deno  , ,      Moscow Node.JS Meetup ‚Äî       .        ‚Äî ,     -     ?</p></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr476972/">https://habr.com/ru/post/fr476972/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr476948/index.html">Trajectoires quantiques et ce avec quoi ils mangent</a></li>
<li><a href="../fr476954/index.html">Le travail n'est pas un loup, partie 3. D√©butant - grandir ou survivre?</a></li>
<li><a href="../fr476956/index.html">Angulaire sans zone.js: performances maximales</a></li>
<li><a href="../fr476958/index.html">√âmulateur Omega Red + PS1 = Kojima Genius</a></li>
<li><a href="../fr476970/index.html">EkbDotNet Meeting No. 1 - Ekaterinbourg rejoint la communaut√© DotNet.Ru</a></li>
<li><a href="../fr476974/index.html">Apprenez la conception Web r√©active en 5 minutes</a></li>
<li><a href="../fr476976/index.html">6 erreurs de prise de parole en public lors de conf√©rences</a></li>
<li><a href="../fr476980/index.html">Qu'est-ce que le soutien juridique: recommandations pour un avocat de soci√©t√© informatique</a></li>
<li><a href="../fr476982/index.html">D√©veloppeur sur un site distant - de z√©ro √† h√©ros</a></li>
<li><a href="../fr476984/index.html">Cas de Narcade: les d√©veloppeurs turcs parlent de la localisation des jeux mobiles et du march√© turc des jeux</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>