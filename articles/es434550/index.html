<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>游낾 游뉧릞 九엂잺 El interior de los juegos retro: Punch-Out para NES 游떀 游 游끽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Parte 1. Contrase침as 
 El juego NES Mike Tyson Punch-Out utiliza un sistema de contrase침a que permite a los jugadores continuar el juego desde un punt...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>El interior de los juegos retro: Punch-Out para NES</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/434550/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b0b/41b/4f2/b0b41b4f285c002424e55b62ff530362.png" alt="imagen"></div><br><h2>  Parte 1. Contrase침as </h2><br>  El juego NES Mike Tyson Punch-Out utiliza un sistema de contrase침a que permite a los jugadores continuar el juego desde un punto espec칤fico.  Cada contrase침a consta de 10 d칤gitos, que pueden variar de 0 a 9. El juego puede aceptar dos tipos de contrase침as, que llamo contrase침as "normales" y "especiales".  Las contrase침as especiales son ciertas combinaciones de 10 d칤gitos, cuya entrada el juego reacciona de una manera 칰nica.  Una lista completa de contrase침as especiales se ve as칤: <br><br><ul><li>  075 541 6113 - se침al de ocupado 1 </li><li>  800 422 2602 - se침al de ocupado 2 </li><li>  206882 2040 - se침al de ocupado 3 </li><li>  135 792 4680 - juego en un torneo oculto: "Otro circuito mundial" (para que se acepte la contrase침a, debe mantener presionado el bot칩n Seleccionar y presionar A + B) </li><li>  106 113 0120 - visualizaci칩n de t칤tulos (para que se acepte la contrase침a, debe mantener presionado el bot칩n Seleccionar y presionar A + B) </li><li>  007373 5963 - transfiere al jugador a la batalla con Mike Tyson </li></ul><br>  El segundo tipo de contrase침as aceptadas por el juego son las contrase침as normales.  Las contrase침as regulares codifican el progreso que el jugador ha hecho en el juego.  Los siguientes datos del juego est치n codificados en una contrase침a normal: <br><br><ul><li>  N칰mero de victorias profesionales </li><li>  N칰mero de p칠rdidas profesionales </li><li>  Knockout gana </li><li>  Siguiente oponente </li></ul><br><h2>  Codificaci칩n de contrase침a </h2><br>  Como ejemplo, para estudiar la generaci칩n de contrase침as, utilizamos un juego con 24 victorias, 1 derrota, 19 nocauts y comenzamos en el torneo mundial con una batalla contra Super Macho Man. <br><a name="habracut"></a><br>  El proceso de codificar el estado de un juego en una contrase침a comienza con la recopilaci칩n del n칰mero de victorias, p칠rdidas y nocauts en el b칰fer.  El juego presenta cada n칰mero en forma de un <a title="Decimal codificado en binario" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">c칩digo decimal binario</a> formado por 8 bits por d칤gito y 2 d칤gitos para cada valor.  Es decir, para 24 victorias, necesita un byte con un valor de 2 y un segundo byte con un valor de 4. Lo mismo sucede con pares de bytes para p칠rdidas y nocauts, es decir, se obtiene un total de 6 bytes de datos.  En el diagrama a continuaci칩n, estos 6 bytes se indican con valores tanto en decimal como binario. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/489/fab/198/489fab1987ec36a598e9f53353ddab14.png"></div><br>  El siguiente paso es generar una suma de verificaci칩n para estos 6 bytes.  El byte de suma de comprobaci칩n se calcula sumando 6 bytes separados y restando el resultado de 255. En nuestro caso, 2 + 4 + 0 + 1 + 1 + 9 = 17, es decir, 255-17 = 238. <br><br>  Luego escribimos unos bits de 6 bytes en un nuevo b칰fer.  Este b칰fer se puede interpretar como un valor intermedio de 28 bits, que completaremos paso a paso.  Los bits del primer b칰fer se dividen en grupos de dos y se mueven a diferentes posiciones codificadas del segundo b칰fer.  Este es el primero de varios pasos cuya 칰nica tarea es simplemente ofuscar los datos para complicar el proceso de generaci칩n de contrase침as para los jugadores. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/369/41d/366/36941d366047379b7279a42b1305ea86.png"></div><br>  Tenga en cuenta que no todos los bits del b칰fer original se transfieren al nuevo b칰fer intermedio.  Estos bits se ignoran porque se sabe que siempre son 0. Gracias a las reglas del juego, es suficiente transmitir el n칰mero de p칠rdidas en la contrase침a con solo 2 bits de informaci칩n.  Si la cantidad total de p칠rdidas llega a 3, entonces ocurre el juego y el jugador no recibe una contrase침a.  Por lo tanto, es suficiente describir el n칰mero de p칠rdidas con los n칰meros 0, 1 y 2, y para esto solo son suficientes 2 bits. <br><br>  Luego escribimos otros pares de bits en el b칰fer intermedio.  Los primeros cuatro pares se toman del valor de suma de control previamente calculado.  Se toma otro par del valor del enemigo.  El valor de un adversario es un n칰mero que indica contra qu칠 adversario pelear치 un jugador despu칠s de ingresar una contrase침a.  Se pueden usar tres posibles valores enemigos: <br><br>  0 - DON FLAMENCO (primera pelea del gran torneo) <br><br>  1 - PISTON HONDA (primera pelea del torneo mundial) <br><br>  2 - SUPER MACHO MAN (칰ltima pelea del torneo mundial) <br><br>  Como quer칤amos generar una contrase침a que nos confronte con Super Macho Man, usamos 2 como el valor del adversario. Luego, los bits de suma de comprobaci칩n y los valores del adversario se escriben en los bits intermedios de la siguiente manera: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0e5/e6c/b30/0e5e6cb30922b23fc4f27cb10edfa383.png"></div><br>  El siguiente paso es realizar varias permutaciones c칤clicas de los bits intermedios a la izquierda.  Una permutaci칩n c칤clica hacia la izquierda significa que todos los bits se desplazan una posici칩n hacia la izquierda, y el bit que estaba m치s a la izquierda se mueve y se convierte en el m치s a la derecha.  Para calcular el n칰mero de permutaciones a la izquierda, tomamos la suma del valor del oponente y el n칰mero de p칠rdidas, sumamos 1 y tomamos el resto de dividir por 3 este resultado.  En nuestro caso, resulta que 2 + 1 + 1 = 4. Entonces el resto de 4/3 es 1, por lo que desplazamos c칤clicamente los bits intermedios hacia la izquierda una vez. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9b6/877/748/9b68777488be3ba29882276e1bb9f3be.png"></div><br>  En este punto, los bits intermedios ya est치n completamente mezclados y es hora de comenzar a romperlos para obtener los n칰meros que componen la contrase침a.  Las contrase침as deben constar de 10 d칤gitos, por lo que dividiremos 28 bits intermedios en 10 n칰meros separados, a los que llamaremos valores de contrase침a P0, P1, P2, etc.  Cada uno de los primeros nueve valores de contrase침a recibe 3 bits de datos, y el 칰ltimo obtiene solo uno de los bits intermedios.  Para completar el valor de la contrase침a terminada, tambi칠n incluiremos bits que indican el n칰mero de permutaciones realizadas en el paso anterior. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/afe/071/3ee/afe0713eea345b68c5a429b804b146c5.png"></div><br>  Finalmente, agregamos a cada valor de contrase침a un desplazamiento 칰nico y codificado.  El d칤gito de contrase침a terminado ser치 el resto de esta suma dividida por 10. Por ejemplo, en la s칠ptima posici칩n usamos el desplazamiento 1, es decir, obtenemos 5 + 1 = 6, y el 칰ltimo d칤gito es el resto de 6/10, es decir 6. En la cuarta posici칩n usamos desplazamiento 7, es decir, obtenemos 5 + 7 = 12, y la cifra final es igual al resto 12/10, es decir 2. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f08/767/d3f/f08767d3fb4dff169947863869e2d7db.png"></div><br>  Entonces, obtuvimos d칤gitos de contrase침a listos para usar que se pueden verificar en el juego. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/70f/3df/4d4/70f3df4d44e3dee701740b7d1408a8c4.png"></div><br><h2>  Decodificaci칩n de contrase침a </h2><br>  El proceso de decodificar las contrase침as de vuelta al n칰mero de victorias / p칠rdidas / nocauts y el valor del oponente es una implementaci칩n simple en el orden inverso de todos los pasos descritos anteriormente.  Lo dejar칠 como tarea para los lectores.  Sin embargo, el juego tiene dos errores notables que comete al decodificar y verificar las contrase침as ingresadas por el jugador. <br><br>  El primer error ocurre en el primer paso de decodificar la contrase침a, es decir, al restar las compensaciones para volver a los valores de la contrase침a.  Los valores de contrase침a iniciales conten칤an 3 bits de datos cada uno, es decir, sus valores antes de aplicar compensaciones deber칤an estar en el rango 0-7.  Sin embargo, el jugador puede ingresar una contrase침a, que despu칠s de restar el desplazamiento da como resultado un valor de contrase침a de 8 o 9 (dividiendo entre 10 con el resto).  En lugar de rechazar inmediatamente dicha contrase침a, el juego por error no verifica este caso y le permite agregar un bit de datos adicional al valor de la contrase침a que puede contaminar el conjunto de bits intermedios de tal manera que las contrase침as ya no ser치n 칰nicas.  Dado que ciertos bits intermedios se pueden establecer con el d칤gito correspondiente de la contrase침a, O con un bit adicional del valor de la contrase침a vecina, hay muchas contrase침as que se pueden convertir al mismo conjunto de bits intermedios.  Es por eso que puedes encontrar diferentes contrase침as que dan el mismo resultado en el juego, aunque deber칤an haber sido 칰nicas. <br><br>  El segundo error es un error en la l칩gica que utiliza el juego para verificar los datos despu칠s de decodificar la contrase침a.  El juego est치 tratando de aplicar las siguientes condiciones: <br><br><ul><li>  la suma de verificaci칩n almacenada en la contrase침a corresponde a la suma de verificaci칩n que debe obtenerse teniendo en cuenta el n칰mero de victorias / p칠rdidas / nocauts almacenados en la contrase침a </li><li>  el valor de p칠rdida es 0, 1 o 2 </li><li>  el valor del enemigo es 0, 1 o 2 </li><li>  El n칰mero de permutaciones c칤clicas almacenadas en la contrase침a es el n칰mero correcto teniendo en cuenta el valor de las p칠rdidas y el valor del oponente almacenado en la contrase침a. </li><li>  todos los n칰meros ganadores / perdidos / eliminados almacenados en la contrase침a est치n en el rango 0-9 </li><li>  gana&gt; = 3 </li><li>  gana&gt; = nocauts </li></ul><br>  Si alguna de estas condiciones no se cumple, el juego debe rechazar la contrase침a.  Sin embargo, hay un error en la implementaci칩n de la verificaci칩n final (es decir, cuando se verifican los n칰meros codificados por BCD). En lugar de verificar la victoria&gt; = nocauts, el juego permite casos en los que el n칰mero m치s alto de victorias es 0, el n칰mero m치s bajo de victorias&gt; = 3, y el n칰mero m치s alto de nocauts es menor que el n칰mero m치s bajo gana.  Por ejemplo, el juego aceptar치 un r칠cord con 3 victorias, 0 derrotas y 23 nocauts (lo que demuestra la contrase침a 099 837 5823), aunque debe ser rechazado (ya que es imposible ganar 23 peleas por nocaut si gana en solo 3 peleas). <br><br><h2>  Conclusi칩n </h2><br>  Los detalles particulares de tal esquema de codificaci칩n son exclusivos de Punch-Out, pero la idea general de obtener partes importantes del estado del juego, convertirlas con la posibilidad de restauraci칩n para ofuscar el estado inicial, y luego usarlas para generar un cierto n칰mero de caracteres para demostrarle al jugador como contrase침a es un enfoque bastante universal.  Puede usar sumas de verificaci칩n para que los cambios accidentales de contrase침a (por ejemplo, si un jugador comete un error) conduzcan a su rechazo, en lugar de crear otra contrase침a con un estado de juego aleatorio. <br><br><h2>  Parte 2. Descripci칩n general de Punch-Out </h2><br>  춰Todos los luchadores en Punch-Out de Mike Tyson!  controlado por uno o m치s scripts de bytecode interpretados.  El personaje del jugador, Little Mac, ejecuta un gui칩n simple que contiene la l칩gica de cada acci칩n disponible para el jugador (evasi칩n, bloqueos, pu침etazos, etc.) Los personajes de los oponentes est치n controlados por 3 niveles de guiones independientes que juntos crean el comportamiento del personaje. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d0b/c1e/911/d0bc1e9118006e13ce453f7ed991cead.png"></div><br><h2>  Match script </h2><br>  El script enemigo de m치s alto nivel se ejecuta a lo largo de las 3 rondas de batalla y controla los cambios m치s ambiciosos en el comportamiento del oponente.  Llamar칠 a este script "script de coincidencia".  Su tarea principal es elegir los comportamientos que el enemigo realizar치 en respuesta a varios eventos durante la batalla.  Por ejemplo, un cierto comportamiento se activar치 instant치neamente despu칠s de que el oponente se levante despu칠s de una ca칤da, o cuando el jugador se quede sin corazones y se canse.  Estos comportamientos se escriben en la tabla y son llamados por el motor del juego en respuesta a los eventos correspondientes.  El gui칩n del partido tambi칠n establece los valores iniciales para las opciones de configuraci칩n relacionadas con la complejidad de la batalla (por ejemplo, la cantidad de tiempo que el oponente permanece vulnerable despu칠s de un golpe fallido). Finalmente, el gui칩n del partido comienza a esperar ciertos marcadores temporales durante la batalla para realizar cambios en los valores previamente establecidos. . <br><br><h2>  Script de comportamiento </h2><br>  El gui칩n de un adversario de un nivel inferior es un "gui칩n de comportamiento".  Este nivel es responsable de la secuencia de ciertos golpes y ataques que el oponente debe realizar dentro del marco del comportamiento actual (establecido por el script de coincidencia). Los scripts de comportamiento ejecutan comandos como "aplicar el jab correcto, pausar durante 28 cuadros, aplicar aleatoriamente el uppercut izquierdo o derecho, repetir todo es 5 veces ".  El script tambi칠n tiene comandos para leer y escribir en cualquier direcci칩n en la memoria del motor del juego, por lo que el comportamiento puede ser muy din치mico. <br><br><h2>  Gui칩n de animaci칩n </h2><br>  El gui칩n adversario de nivel m치s bajo es un "gui칩n de animaci칩n".  Tales guiones realizan los detalles de cada golpe individual, bloqueo o ataque especial como parte del comportamiento (definido por el gui칩n de comportamiento). En este nivel, comandos como "asignar sprite 23 al cuadro actual de la animaci칩n del enemigo, moverlo hacia abajo y hacia la derecha 1 p칤xel por segundo cuadro en cada segundo cuadro". para los pr칩ximos 10 cuadros, cambie el cuadro de animaci칩n al sprite 24, reproduzca el efecto de sonido 7 ".  Adem치s de los comandos de animaci칩n, los guiones de animaci칩n tambi칠n realizan secuencias de varios cambios en los estados de juego que est치n estrechamente relacionados con los movimientos enemigos.  Por ejemplo, en una animaci칩n larga de un ataque especial, un gui칩n de animaci칩n puede insertar comandos que hacen que el enemigo sea vulnerable a derribos con un solo golpe en un per칤odo de tiempo muy corto.  Al igual que los guiones de comportamiento, los guiones de animaci칩n pueden leer y escribir direcciones de memoria arbitrarias en el motor del juego para lograr efectos m치s din치micos. <br><br><h2>  Script Little Mac </h2><br>  El gui칩n ejecutado por el personaje del reproductor Little Mac es muy similar a los guiones de animaci칩n del enemigo.  Cambia el cuadro actual de la animaci칩n reflejada y mueve al jugador por la pantalla.  Al igual que los guiones de animaci칩n, el gui칩n de Little Mac ejecuta secuencias de ciertos eventos de juego, por ejemplo, en qu칠 momento en particular el Mac deber칤a golpear al enemigo, o cu치ndo deber칤a ejecutar un bloqueo o evasi칩n.  La secuencia de comandos Little Mac controla la entrada del jugador, de forma similar a c칩mo las secuencias de comandos de comportamiento controlan las secuencias de comandos de animaci칩n enemigas. <br><br>  Cada uno de estos cuatro guiones es procesado por su propio int칠rprete.  Aunque muchos de ellos tienen la misma funcionalidad, por ejemplo, control de control b치sico y acceso directo a la memoria, cada sistema implementa su propia versi칩n y no comparte el c칩digo com칰n (o el espacio del c칩digo de operaci칩n) con otros sistemas.  Esto permite que cada tipo de script sea muy espec칤fico y use efectivamente un peque침o conjunto de comandos de destino.  Los datos de script representan aproximadamente el 22% de los datos no gr치ficos del cartucho del juego (el c칩digo de m치quina para el motor del juego solo ocupa el 17%), por lo que era muy importante que los scripts tuvieran un aspecto compacto. <br><br><h2>  Parte 3. Secuencia de comandos de pu침etazo </h2><br>  El gui칩n del partido controla el comportamiento del oponente al m치s alto nivel.  La operaci칩n principal que realiza una y otra vez es esperar un cierto momento de la ronda y realizar cambios en los datos de configuraci칩n del oponente en ese momento.  El video muestra la primera ronda de la primera batalla contra Bald Bull, junto con un gui칩n de partido que controla su comportamiento general. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/99DN0sM9ep8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Hay tres operaciones principales que puede realizar un script de coincidencia.  El primero es esperar hasta que el temporizador de ronda alcance un cierto valor.  El segundo es preguntar si el comportamiento actual del adversario ha cambiado.  Los comportamientos se registran en la tabla de configuraci칩n de la batalla en la memoria, y luego son llamados en diferentes momentos por los guiones del partido y el motor del juego.  La tabla tiene dos segmentos de comportamiento utilizados por scripts de coincidencia.  Los llamo comportamiento "b치sico" y comportamiento "especial".  Los comportamientos especiales son, por ejemplo, un golpe de Bull Charge de un oponente de Bald Bull o Honda Rush de un oponente de Piston Honda, y los comportamientos principales son los golpes habituales que el oponente entrega por el resto del tiempo.  Los scripts de comportamiento espec칤ficos utilizados para implementar este tipo de comportamientos pueden ser cambiados por el script de combate directamente durante la batalla, por lo que los luchadores pueden comenzar con un comportamiento principal y luego cambiar a otro (como se nota en el video, Bald Bull hace esto cuando el temporizador llega a 0 : 20.) <br><br>  Una caracter칤stica de los comportamientos cambiantes realizados por los scripts de coincidencia es que pueden ser reemplazados por cambios de comportamiento solicitados por el motor del juego.  El motor del juego usa cuatro segmentos de comportamiento para solicitar nuevos comportamientos cuando la Mac pierde todos sus corazones y se cansa, y tambi칠n cuando el oponente se levanta despu칠s de una ca칤da.  Si el gui칩n del partido cumpli칩 con la solicitud de cambiar el comportamiento, pero uno de estos cuatro eventos del motor del juego ocurre antes de que se procese la solicitud (las solicitudes no se pueden procesar hasta que el oponente entre en el estado de espera), el motor del juego establece el comportamiento deseado y la solicitud del gui칩n del partido se rechaza.  Algunos luchadores, como Bald Bull, solicitan un comportamiento especial varias veces durante un corto per칤odo de tiempo.  Parece que esto solo es necesario para reducir la probabilidad de que cualquiera de estas solicitudes se descarte accidentalmente. <br><br>  La tercera operaci칩n principal del script de coincidencia es el parcheo de memoria.  La mayor칤a de los parches de memoria afectan la tabla de configuraci칩n de batalla, donde se graban los scripts de comportamiento.  Adem치s de los conjuntos de comportamientos, la tabla contiene datos relacionados con la complejidad de la batalla.  Por ejemplo, cuando el temporizador del video llega a las 0:30, Bald Bull cambia su configuraci칩n de seguridad.  Esto lleva al hecho de que el jugador ya no puede enga침arlo presionando hacia arriba y luego golpeando el cuerpo.  Adem치s, los guiones de coincidencia tienen la capacidad de parchear direcciones de memoria arbitrarias, pero esta funci칩n se usa solo una vez, al comienzo de la segunda ronda con Mike Tyson, de modo que el jugador recibe una estrella por primera vez cuando la golpea, que est치 en modo de espera. <br><br><h2>  Parte 4. Script de Comportamiento Punch-Out </h2><br>  Ahora observamos los scripts de comportamiento que est치n directamente involucrados en la implementaci칩n de comportamientos. <br><br>  El video muestra una interpretaci칩n de c칩mo se ver칤a el gui칩n de comportamiento rival del Piston Honda 1 en los equipos ingleses. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/_Q9_7vSLndQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2>  Comandos de animacion </h2><br>  Los guiones de comportamiento son responsables del lanzamiento secuencial de animaciones de la misma manera que los guiones de coincidencia fueron responsables del lanzamiento de animaciones.  El comando <code>anim</code> reproduce una animaci칩n espec칤fica y el comando <code>anim_rnd</code> realiza una animaci칩n seleccionada al azar de una lista de 8 opciones.  En el video anterior, en el momento de una selecci칩n aleatoria de una lista de opciones, la opci칩n seleccionada se resalta moment치neamente en rojo.  Cuando Piston Honda aplica sus dos primeros golpes, <code>anim</code> usa <code>anim</code> para cada uno de ellos.  Despu칠s de eso, usa <code>anim_rnd</code> para seleccionar aleatoriamente de un conjunto que contiene 6 animaciones de gancho y 2 animaciones vac칤as.  Como resultado de esto, engancha el 75% del tiempo y no hace nada el 25% del tiempo. <br><br>  Desde el punto de vista del gui칩n, el comportamiento de las animaciones se reproduce sincr칩nicamente, porque cuando el sistema de animaci칩n no est치 en modo inactivo, el int칠rprete del gui칩n se detiene. <br><br><h2>  Comandos de control de ejecuci칩n </h2><br>  Hay varios comandos que modifican la ejecuci칩n del script de comportamiento en s칤.  <code>pause</code> comandos de pausa pueden pausar la ejecuci칩n del script para un cierto n칰mero de cuadros, o para el n칰mero de cuadros seleccionados al azar de una lista de 2 opciones. <br><br>  Hay varios comandos de ramificaci칩n que, bajo ciertas condiciones, opcionalmente cambian a diferentes partes del script de comportamiento.  El <code>branch_rnd</code> tiene una probabilidad dada de que se produzca una rama cada vez que se ejecuta.  Un caso especial de ramificaci칩n probabil칤stica es el comando <code>branch_always</code> , que tiene un 100% de probabilidad de ramificaci칩n. <br><br>  Un mecanismo de bucle simple est치 integrado en el int칠rprete de script de comportamiento.  El comando <code>set_loop_count</code> establece el valor actual del contador de bucles.  Cada vez que se <code>branch_while_loop</code> comando <code>branch_while_loop</code> disminuye el valor del contador del bucle en uno y realiza una ramificaci칩n solo si el valor del contador es mayor que cero. <br><br>  El 칰ltimo tipo de ramificaci칩n verifica el contenido de la memoria para tomar una decisi칩n sobre la ramificaci칩n.  Piston Honda usa este comando <code>branch_mem_test</code> para verificar si su 칰ltimo golpe en un comportamiento particular fue exitoso.  Si el golpe alcanza el objetivo, se bifurca para el siguiente golpe.  Si el golpe no fue exitoso, entonces usa el comando <code>branch_while_loop</code> para continuar golpeando solo cuando se acumulan 5 golpes fallidos. <br><br><h2>  Comandos de comportamiento </h2><br>  Hay dos comandos mediante los cuales los scripts de comportamiento pueden controlar el sistema de comportamiento en s칤.  El comando <code>begin_behavior_main</code> usa para finalizar el comportamiento ejecutable actual e iniciar el comportamiento principal.  Esto difiere de la ramificaci칩n en el script de comportamiento, porque la parte del script que se considera el comportamiento "principal" actual se puede cambiar durante el partido mediante el script de coincidencia (consulte la parte anterior del art칤culo sobre los scripts de coincidencia). <br><br>  Otro comando relacionado con el comportamiento es <code>enable_behavior_change</code> .  Cuando se inicia un nuevo comportamiento, comienza con un estado de bloqueo, cuando se bloquean todas las solicitudes adicionales de cambio de comportamiento.  Usando el comando <code>enable_behavior_change</code> script indica que est치 listo para permitir otros comportamientos.  Por ejemplo, en el comportamiento especial de Piston Honda, el comando <code>enable_behavior_change</code> nunca se ejecuta, por lo que si la Mac est치 cansada durante este tiempo, el comportamiento especial contin칰a.  Sin embargo, los eventos de ca칤da omiten este sistema, por lo que si durante el comportamiento especial del Piston Honda el personaje principal es derribado, el comportamiento cambiar치 en cualquier caso. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es434550/">https://habr.com/ru/post/es434550/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es434538/index.html">La lucha por el espacio: lo que est치 sucediendo en el mercado satelital de Internet</a></li>
<li><a href="../es434540/index.html">쯈u칠 hacer con las personas que ser치n reemplazadas por robots?</a></li>
<li><a href="../es434542/index.html">Automatizaci칩n del proceso de control de calidad de datos de almacenamiento corporativo.</a></li>
<li><a href="../es434544/index.html">"No queremos la guerra" - Entrevista con el director de Adblock Plus, Ben Williams</a></li>
<li><a href="../es434548/index.html">Patriota de Zimbabwe gasta $ 5,000 para digitalizar pa칤s nativo en Google Street View</a></li>
<li><a href="../es434552/index.html">GDG SPb. Lo que logramos hacer en un a침o</a></li>
<li><a href="../es434558/index.html">Comunidad de soporte siberiano: inicio</a></li>
<li><a href="../es434560/index.html">쯈u칠 ense침칩 2018 o pasos pr치cticos sobre c칩mo comenzar a implementar tecnolog칤as digitales en 2019?</a></li>
<li><a href="../es434562/index.html">Samsung SSD 860 QVO 1 TB y 4 TB: el primer consumidor SATA QLC (1 parte)</a></li>
<li><a href="../es434564/index.html">El dibujo es el 10% del trabajo del dise침ador de UX</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>