<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü¶ç ü§ô üêü Alles, was Sie √ºber die MAC-Adresse wissen wollten üéã üôé ‚ùÑÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Jeder wei√ü, dass es sich um sechs Bytes handelt, die normalerweise im Hexadezimalformat angezeigt werden und werkseitig einer Netzwerkkarte zugewiesen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Alles, was Sie √ºber die MAC-Adresse wissen wollten</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483670/"><p><img src="https://habrastorage.org/webt/so/w5/21/sow5218j24fiojm2deevv3xnko8.jpeg" align="right">  Jeder wei√ü, dass es sich um sechs Bytes handelt, die normalerweise im Hexadezimalformat angezeigt werden und werkseitig einer Netzwerkkarte zugewiesen wurden. Auf den ersten Blick sind sie zuf√§llig.  Einige Leute wissen, dass die ersten drei Bytes der Adresse die Kennung des Herstellers sind und die restlichen drei Bytes ihnen zugewiesen sind.  Es ist auch bekannt, dass Sie sich <em>eine beliebige</em> Adresse einstellen k√∂nnen.  Viele haben √ºber die "zuf√§lligen Adressen" in Wi-Fi geh√∂rt. </p><br><p>  Lassen Sie uns herausfinden, was es ist. </p><br><p> MAC-Adresse (Media Access Control-Adresse) - eine eindeutige Kennung, die einem Netzwerkadapter zugewiesen wird und in IEEE 802-Standardnetzwerken, haupts√§chlich Ethernet, Wi-Fi und Bluetooth, verwendet wird.  Offiziell wird es als "EUI-48-Typenkennung" bezeichnet.  Aus dem Namen geht hervor, dass die Adresse 48 Bit lang ist, d.  6 Bytes.  Es gibt keinen allgemein akzeptierten Standard f√ºr das Schreiben einer Adresse (im Gegensatz zu einer IPv4-Adresse, bei der Oktette immer durch Punkte getrennt sind). Es wird normalerweise als sechs Hexadezimalzahlen geschrieben, die durch einen Doppelpunkt getrennt sind: 00: AB: CD: EF: 11: 22, obwohl einige Ger√§tehersteller es vorziehen, wie 00 zu schreiben -AB-CD-EF-11-22 und sogar 00ab.cdef.1122. </p><a name="habracut"></a><br><p>  In der Vergangenheit wurden die Adressen im ROM des Netzwerkkarten-Chipsatzes zusammengef√ºgt, ohne dass die M√∂glichkeit bestand, sie ohne einen Flash-Programmierer zu √§ndern. Derzeit kann die Adresse jedoch √ºber das Betriebssystem programmgesteuert ge√§ndert werden.  Sie k√∂nnen die MAC-Adresse der Netzwerkkarte unter Linux und MacOS (immer), Windows (fast immer, wenn der Treiber dies zul√§sst) und Android (nur root) manuell festlegen.  Mit iOS (ohne root) ist ein √§hnlicher Trick unm√∂glich. </p><br><h3>  Adressstruktur </h3><br><p>  Die Adresse besteht aus einem Teil der Herstellerkennung (OUI) und der vom Hersteller zugewiesenen Kennung.  Die OUI (Organizationally Unique Identifier) <a href="https://standards.ieee.org/products-services/regauth/oui/index.html" rel="nofollow">wird</a> vom IEEE vergeben.  Tats√§chlich kann seine L√§nge nicht nur 3 Bytes (24 Bits) sein, sondern 28 oder 36 Bits, aus denen Bl√∂cke (MAC Address Block, MA) von Adressen der Typen Large (MA-L), Medium (MA-M) und Small gebildet werden (MA-S).  Die Gr√∂√üe des ausgegebenen Blocks betr√§gt in diesem Fall 24, 20, 12 Bit oder 16 Millionen, 1 Million, viertausend Adressen.  Derzeit sind rund 38.000 Bl√∂cke verteilt, die mit zahlreichen Online-Tools wie <a href="https://regauth.standards.ieee.org/standards-ra-web/pub/view.html" rel="nofollow">IEEE</a> oder <a href="https://www.wireshark.org/tools/oui-lookup.html" rel="nofollow">Wireshark</a> angezeigt werden k√∂nnen. </p><br><h3>  Wem geh√∂ren die Adressen? </h3><br><p>  Die einfache Verarbeitung der √∂ffentlich zug√§nglichen IEEE- <a href="https://code.wireshark.org/review/gitweb%3Fp%3Dwireshark.git%3Ba%3Dblob_plain%3Bf%3Dmanuf%3Bhb%3DHEAD" rel="nofollow">Upload-Datenbank</a> liefert viele Informationen.  Beispielsweise haben einige Organisationen viele OUI-Bl√∂cke belegt.  Hier sind unsere Helden: </p><br><div class="scrollable-table"><table><thead><tr><th>  Verk√§ufer </th><th>  Die Anzahl der Bl√∂cke / Datens√§tze </th><th>  Die Anzahl der Adressen, Millionen </th></tr></thead><tbody><tr><td>  Cisco Systems Inc </td><td>  888 </td><td>  14208 </td></tr><tr><td>  Apple </td><td>  772 </td><td>  12352 </td></tr><tr><td>  Samsung </td><td>  636 </td><td>  10144 </td></tr><tr><td>  Huawei Technologies Co. Ltd </td><td>  606 </td><td>  9696 </td></tr><tr><td>  Intel Corporation </td><td>  375 </td><td>  5776 </td></tr><tr><td>  ARRIS Group Inc. </td><td>  319 </td><td>  5104 </td></tr><tr><td>  Nokia Corporation </td><td>  241 </td><td>  3856 </td></tr><tr><td>  Privat </td><td>  232 </td><td>  2704 </td></tr><tr><td>  Texas Instruments </td><td>  212 </td><td>  3392 </td></tr><tr><td>  zte corporation </td><td>  198 </td><td>  3168 </td></tr><tr><td>  IEEE Registrierungsstelle </td><td>  194 </td><td>  3072 </td></tr><tr><td>  Hewlett Packard </td><td>  149 </td><td>  2384 </td></tr><tr><td>  Hon Hai Pr√§zision </td><td>  136 </td><td>  2176 </td></tr><tr><td>  TP-LINK </td><td>  134 </td><td>  2144 </td></tr><tr><td>  Dell Inc. </td><td>  123 </td><td>  1968 </td></tr><tr><td>  Juniper Networks </td><td>  110 </td><td>  1760 </td></tr><tr><td>  Sagemcom Broadband SAS </td><td>  97 </td><td>  1552 </td></tr><tr><td>  Fiberhome Telecommunication Technologies Co.  LTD </td><td>  97 </td><td>  1552 </td></tr><tr><td>  Xiaomi Communications Co Ltd </td><td>  88 </td><td>  1408 </td></tr><tr><td>  Guangdong Oppo Mobile Telecommunications Corp.Ltd </td><td>  82 </td><td>  1312 </td></tr></tbody></table></div><br><p>  Google hat nur 40 von ihnen, und das ist nicht verwunderlich: Sie produzieren selbst nicht so viele Netzwerkger√§te. </p><br><p>  MA-Bl√∂cke werden nicht kostenlos zur Verf√ºgung gestellt. Sie k√∂nnen f√ºr angemessenes Geld (ohne monatliche Geb√ºhr) f√ºr 3000, 1800 bzw. 755 US-Dollar erworben werden.  Es ist interessant, dass Sie f√ºr das zus√§tzliche Geld (pro Jahr) die "Verschleierung" von √∂ffentlichen Informationen √ºber den zugewiesenen Block erwerben k√∂nnen.  Wie oben zu sehen ist, gibt es jetzt 232 davon. </p><br><h3 id="kogda-zakonchatsya-mas-adresa">  Wann wird die MAC-Adresse ausgehen? </h3><br><p>  Wir alle haben es satt, die zehnj√§hrige Geschichte zu erz√§hlen, dass "IPv4-Adressen bald ausgehen".  Ja, neue IPv4-Bl√∂cke sind nicht mehr einfach zu beschaffen.  Es ist auch bekannt, dass IP-Adressen <a href="https://habr.com/ru/company/globalsign/blog/355006/">extrem ungleich verteilt</a> sind.  Es gibt gigantische und wenig genutzte Bl√∂cke, die sich im Besitz gro√üer Unternehmen und der US-Regierung befinden, jedoch ohne gro√üe Hoffnung auf eine Umverteilung zugunsten der Bed√ºrftigen.  Die Verbreitung von NAT, CG-NAT und IPv6 hat das Problem des Mangels an √∂ffentlichen Adressen weniger akut gemacht. </p><br><p>  Die MAC-Adresse enth√§lt 48 Bits, von denen 46 als "n√ºtzlich" angesehen werden k√∂nnen (warum? Weiterlesen). Dies ergibt 2 <sup>46</sup> oder 10 <sup>14</sup> Adressen, was dem 2 <sup>14-</sup> fachen des IPv4-Adressraums entspricht. <br>  Derzeit sind rund eine halbe Billion Adressen verteilt, das sind nur 0,73% des Gesamtvolumens.  Die Ersch√∂pfung der MAC-Adressen ist immer noch sehr, sehr weit. </p><br><h3 id="sluchaynost-bit">  Zuf√§lliges Bit </h3><br><p>  Es kann davon ausgegangen werden, dass OUIs zuf√§llig verteilt werden und der Anbieter dann auch einzelnen Netzwerkger√§ten zuf√§llig Adressen zuweist.  Ist es so?  Sehen wir uns die Verteilung der Bits in den MAC-Datenbanken der Adressen an, die mir f√ºr 802.11-Ger√§te zur Verf√ºgung stehen, die von funktionierenden Autorisierungssystemen in drahtlosen <a href="https://www.netams.com/wnam/" rel="nofollow">WNAM-</a> Netzwerken gesammelt wurden.  Die Adressen geh√∂ren zu realen Ger√§ten, die seit mehreren Jahren in drei L√§ndern mit Wi-Fi verbunden sind.  Dar√ºber hinaus gibt es eine kleine Anzahl von 802.3-LAN-Ger√§ten. </p><br><p>  Wir teilen jede MAC-Adresse (sechs Bytes) von jedem der Samples in bitweise auf und untersuchen die H√§ufigkeit des Auftretens des "1" -Bits an jeder der 48 Stellen.  Wenn das Bit v√∂llig willk√ºrlich gesetzt ist, sollte die Wahrscheinlichkeit, eine "1" zu erhalten, 50% betragen. </p><br><div class="scrollable-table"><table><thead><tr><th></th><th>  WLAN-Beispiel Nr. 1 (RF) </th><th>  Wi-Fi Probe Nr. 2 (Wei√ürussland) </th><th>  Wi-Fi Probe Nr. 3 (Usbekistan) </th><th>  LAN-Beispiel (RF) </th></tr></thead><tbody><tr><td>  Die Anzahl der Datens√§tze in der Datenbank </td><td>  5929000 </td><td>  1274000 </td><td>  366000 </td><td>  1000 </td></tr><tr><td>  Bit Nummer: </td><td>  % bit "1" </td><td>  % bit "1" </td><td>  % bit "1" </td><td>  % bit "1" </td></tr><tr><td>  1 </td><td>  48,6% </td><td>  49,2% </td><td>  50,7% </td><td>  28,7% </td></tr><tr><td>  2 </td><td>  44,8% </td><td>  49,1% </td><td>  47,7% </td><td>  30,7% </td></tr><tr><td>  3 </td><td>  46,7% </td><td>  48,3% </td><td>  46,8% </td><td>  35,8% </td></tr><tr><td>  4 </td><td>  48,0% </td><td>  48,6% </td><td>  49,8% </td><td>  37,1% </td></tr><tr><td>  5 </td><td>  45,7% </td><td>  46,9% </td><td>  47,0% </td><td>  32,3% </td></tr><tr><td>  6 </td><td>  46,6% </td><td>  46,7% </td><td>  47,8% </td><td>  27,1% </td></tr><tr><td>  7 </td><td>  <strong>0,3%</strong> </td><td>  <strong>0,3%</strong> </td><td>  <strong>0,2%</strong> </td><td>  <strong>0,7%</strong> </td></tr><tr><td>  8 </td><td>  <strong>0,0%</strong> </td><td>  <strong>0,0%</strong> </td><td>  <strong>0,0%</strong> </td><td>  <strong>0,0%</strong> </td></tr><tr><td></td></tr><tr><td>  9 </td><td>  48,1% </td><td>  50,6% </td><td>  49,4% </td><td>  38,1% </td></tr><tr><td>  10 </td><td>  49,1% </td><td>  50,2% </td><td>  47,4% </td><td>  42,7% </td></tr><tr><td>  11 </td><td>  50,8% </td><td>  50,0% </td><td>  50,6% </td><td>  42,9% </td></tr><tr><td>  12 </td><td>  49,0% </td><td>  48,4% </td><td>  48,2% </td><td>  53,7% </td></tr><tr><td>  13 </td><td>  47,6% </td><td>  47,0% </td><td>  46,3% </td><td>  48,5% </td></tr><tr><td>  14 </td><td>  47,5% </td><td>  47,4% </td><td>  51,7% </td><td>  46,8% </td></tr><tr><td>  15 </td><td>  48,3% </td><td>  47,5% </td><td>  48,7% </td><td>  46,1% </td></tr><tr><td>  16 </td><td>  50,6% </td><td>  50,4% </td><td>  51,2% </td><td>  45,3% </td></tr><tr><td></td></tr><tr><td>  17 </td><td>  49,4% </td><td>  50,4% </td><td>  54,3% </td><td>  38,2% </td></tr><tr><td>  18 </td><td>  49,8% </td><td>  50,5% </td><td>  51,5% </td><td>  51,9% </td></tr><tr><td>  19 </td><td>  51,6% </td><td>  53,3% </td><td>  53,9% </td><td>  42,6% </td></tr><tr><td>  20 </td><td>  46,6% </td><td>  46,1% </td><td>  45,5% </td><td>  48,4% </td></tr><tr><td>  21 </td><td>  51,7% </td><td>  52,9% </td><td>  47,7% </td><td>  48,9% </td></tr><tr><td>  22 </td><td>  49,2% </td><td>  49,6% </td><td>  41,6% </td><td>  49,8% </td></tr><tr><td>  23 </td><td>  51,2% </td><td>  50,9% </td><td>  47,0% </td><td>  41,9% </td></tr><tr><td>  24 </td><td>  49,5% </td><td>  50,2% </td><td>  50,1% </td><td>  47,5% </td></tr><tr><td></td></tr><tr><td>  25 </td><td>  47,1% </td><td>  47,3% </td><td>  47,7% </td><td>  44,2% </td></tr><tr><td>  26 </td><td>  48,6% </td><td>  48,6% </td><td>  49,2% </td><td>  43,9% </td></tr><tr><td>  27 </td><td>  49,8% </td><td>  49,0% </td><td>  49,7% </td><td>  48,9% </td></tr><tr><td>  28 </td><td>  49,3% </td><td>  49,3% </td><td>  49,7% </td><td>  55,1% </td></tr><tr><td>  29. </td><td>  49,5% </td><td>  49,4% </td><td>  49,8% </td><td>  49,8% </td></tr><tr><td>  30 </td><td>  49,8% </td><td>  49,8% </td><td>  49,7% </td><td>  52,1% </td></tr><tr><td>  31 </td><td>  49,5% </td><td>  49,7% </td><td>  49,6% </td><td>  46,6% </td></tr><tr><td>  32 </td><td>  49,4% </td><td>  49,7% </td><td>  49,5% </td><td>  47,5% </td></tr><tr><td></td></tr><tr><td>  33 </td><td>  49,4% </td><td>  49,8% </td><td>  49,7% </td><td>  48,3% </td></tr><tr><td>  34 </td><td>  49,7% </td><td>  50,0% </td><td>  49,6% </td><td>  44,9% </td></tr><tr><td>  35 </td><td>  49,9% </td><td>  50,0% </td><td>  50,0% </td><td>  50,6% </td></tr><tr><td>  36 </td><td>  49,9% </td><td>  49,9% </td><td>  49,8% </td><td>  49,1% </td></tr><tr><td>  37 </td><td>  49,8% </td><td>  50,0% </td><td>  49,9% </td><td>  51,4% </td></tr><tr><td>  38 </td><td>  50,0% </td><td>  50,0% </td><td>  49,8% </td><td>  51,8% </td></tr><tr><td>  39 </td><td>  49,9% </td><td>  50,0% </td><td>  49,9% </td><td>  55,7% </td></tr><tr><td>  40 </td><td>  50,0% </td><td>  50,0% </td><td>  50,0% </td><td>  49,5% </td></tr><tr><td></td></tr><tr><td>  41 </td><td>  49,9% </td><td>  50,0% </td><td>  49,9% </td><td>  52,2% </td></tr><tr><td>  42 </td><td>  50,0% </td><td>  50,0% </td><td>  50,0% </td><td>  53,9% </td></tr><tr><td>  43 </td><td>  50,1% </td><td>  50,0% </td><td>  50,3% </td><td>  56,1% </td></tr><tr><td>  44 </td><td>  50,1% </td><td>  50,0% </td><td>  50,1% </td><td>  45,8% </td></tr><tr><td>  45 </td><td>  50,0% </td><td>  50,0% </td><td>  50,1% </td><td>  50,1% </td></tr><tr><td>  46 </td><td>  50,0% </td><td>  50,0% </td><td>  50,1% </td><td>  49,5% </td></tr><tr><td>  47 </td><td>  49,2% </td><td>  49,4% </td><td>  49,7% </td><td>  45,2% </td></tr><tr><td>  48 </td><td>  49,9% </td><td>  50,1% </td><td>  50,7% </td><td>  54,6% </td></tr></tbody></table></div><br><p>  Woher kommt diese Ungerechtigkeit in Bit 7 und 8?  Es gibt fast immer Nullen. </p><br><p>  Tats√§chlich definiert der Standard diese Bits als speziell ( <a href="https://ru.wikipedia.org/wiki/MAC-%25D0%25B0%25D0%25B4%25D1%2580%25D0%25B5%25D1%2581" rel="nofollow">Wikipedia</a> ): <br><img src="https://habrastorage.org/webt/0-/oc/jk/0-ocjkovhfyalpqzrsjdecvg7na.png"></p><br><p>  Das achte (von Anfang an) Bit des ersten Bytes der MAC-Adresse wird als Unicast / Multicast-Bit bezeichnet und bestimmt, welcher Rahmentyp (Frame) mit dieser Adresse gesendet wird, normal (0) oder rundgesendet (1) (Multicast oder rundgesendet).  F√ºr eine normale Unicast-Netzwerkadapter-Interaktion wird dieses Bit in allen an ihn gesendeten Paketen auf "0" gesetzt. </p><br><p>  Das siebte (von Anfang an) Bit des ersten Bytes der MAC-Adresse wird als U / L-Bit (Universal / Local) bezeichnet und bestimmt, ob die Adresse global eindeutig (0) oder lokal eindeutig (1) ist.  Standardm√§√üig sind alle "vom Hersteller zusammengestellten" Adressen global eindeutig, daher enth√§lt die √ºberwiegende Anzahl gesammelter MAC-Adressen das auf "0" gesetzte siebte Bit.  In der Tabelle der zugewiesenen OUI-Kennungen haben nur etwa 130 Eintr√§ge ein U / L-Bit ‚Äû1‚Äú, und dies sind h√∂chstwahrscheinlich MAC-Adressbl√∂cke f√ºr spezielle Anforderungen. </p><br><p>  Vom sechsten bis zum ersten Bit des ersten Bytes sind die Bits des zweiten und dritten Bytes in OUI-Kennungen und insbesondere die Bits in 4 bis 6 Bytes der vom Hersteller zugewiesenen Adresse mehr oder weniger gleichm√§√üig verteilt. </p><br><p>  Somit sind in der realen MAC-Adresse des Netzwerkadapters die Bits praktisch gleich und haben keine technologische Bedeutung, mit Ausnahme von zwei Overhead-Bits des High-Bytes. </p><br><h3 id="rasprostranennost">  Verbreitung </h3><br><p>  Ich frage mich, welche Hersteller von drahtlosen Ger√§ten am beliebtesten sind?  Kombinieren Sie die OUI-Suche mit den Beispieldaten Nr. 1. </p><br><div class="scrollable-table"><table><thead><tr><th>  Verk√§ufer </th><th>  Der Anteil der Ger√§te,% </th></tr></thead><tbody><tr><td>  Apple </td><td>  26.09 </td></tr><tr><td>  Samsung </td><td>  19,79 </td></tr><tr><td>  Huawei Technologies Co.  Ltd </td><td>  7,80 </td></tr><tr><td>  Xiaomi Communications Co Ltd </td><td>  6,83 </td></tr><tr><td>  Sony Mobile Communications Inc </td><td>  3.29 </td></tr><tr><td>  LG Electronics (Mobilfunk) </td><td>  2,76 </td></tr><tr><td>  ASUSTek COMPUTER INC. </td><td>  2,58 </td></tr><tr><td>  TCT mobile ltd </td><td>  2.13 </td></tr><tr><td>  zte corporation </td><td>  2.00 </td></tr><tr><td>  nicht in IEEE-Datenbank gefunden </td><td>  1,92 </td></tr><tr><td>  Lenovo Mobile Communication Technology Ltd. </td><td>  1,71 </td></tr><tr><td>  HTC Corporation </td><td>  1,68 </td></tr><tr><td>  Murata Manufactuaring </td><td>  1,31 </td></tr><tr><td>  Inpro comm </td><td>  1.26 </td></tr><tr><td>  Microsoft Corporation </td><td>  1,11 </td></tr><tr><td>  Shenzhen TINNO Mobile Technology Corp. </td><td>  1,02 </td></tr><tr><td>  Motorola (Wuhan) Mobility Technologies Communication Co.  Ltd. </td><td>  0,93 </td></tr><tr><td>  Nokia Corporation </td><td>  0,88 </td></tr><tr><td>  Shanghai Wind Technologies Co.  Ltd </td><td>  0,74 </td></tr><tr><td>  Lenovo Mobilkommunikation (Wuhan) Company Limited </td><td>  0,71 </td></tr></tbody></table></div><br><p>  Die Praxis zeigt, dass der Anteil der Apple-Ger√§te umso gr√∂√üer ist, je gr√∂√üer das Kontingent der drahtlosen Teilnehmer an diesem Ort ist. </p><br><h3 id="unikalnost">  Einzigartigkeit </h3><br><p>  Sind MAC-Adressen eindeutig?  Theoretisch ja, da jeder Ger√§tehersteller (Besitzer des MA-Ger√§ts) f√ºr jeden seiner Netzwerkadapter eine eindeutige Adresse angeben muss.  Einige Chiphersteller, n√§mlich: </p><br><ul><li>  00: 0A: F5 Airgo Networks, Inc.  (jetzt Qualcomm) </li><li>  00.08.22 InPro Comm (jetzt MediaTek) </li></ul><br><p>  Setzen Sie die letzten drei Bytes der MAC-Adresse auf eine Zufallszahl, anscheinend nach jedem Neustart des Ger√§ts.  In meiner Stichprobe Nr. 1 befanden sich 82.000 solcher Adressen. </p><br><p>  Sie k√∂nnen sich einen Fremden und nicht eine eindeutige Adresse aussuchen, indem Sie sie absichtlich ‚Äûwie einen Nachbarn‚Äú einrichten, als Schn√ºffler definieren oder nach dem Zufallsprinzip ausw√§hlen.  Sie k√∂nnen auch versehentlich eine nicht eindeutige Adresse festlegen, indem Sie beispielsweise eine Sicherungskonfiguration eines Routers wie Mikrotik oder OpenWrt wiederherstellen. </p><br><p>  Was passiert, wenn zwei Ger√§te mit derselben MAC-Adresse im Netzwerk vorhanden sind?  Es h√§ngt alles von der Logik der Netzwerkger√§te ab (verkabelter Router, kabelloser Netzwerkcontroller).  H√∂chstwahrscheinlich funktionieren beide Ger√§te entweder nicht oder nur zeitweise.  Aus Sicht der IEEE-Standards wird vorgeschlagen, den Schutz vor F√§lschung von MAC-Adressen zu l√∂sen, indem beispielsweise MACsec oder 802.1X verwendet werden. </p><br><p>  Was ist, wenn Sie sich einen MAC mit dem siebten oder achten Bit auf "1" setzen, d. H.  lokale oder Multicast-Adresse?  H√∂chstwahrscheinlich beachtet Ihr Netzwerk dies nicht, aber formal entspricht eine solche Adresse nicht dem Standard, und es ist besser, dies nicht zu tun. </p><br><h3 id="kak-rabotaet-randomizaciya">  Wie funktioniert die Randomisierung? </h3><br><p>  Wir wissen, dass zur Verhinderung der Verfolgung von Personenbewegungen durch Scannen der Luft und Sammeln von MAC-Betriebssystemen von Smartphones die Randomisierungstechnologie seit mehreren Jahren verwendet wird.  Theoretisch sendet das Smartphone beim Scannen von Luft auf der Suche nach bekannten Netzwerken ein Paket (eine Gruppe von Paketen) vom Typ 802.11 Probe Request mit der MAC-Adresse als Quelle: </p><br><p><img src="https://habrastorage.org/webt/ys/xx/sp/ysxxspu7y2giwvvdflhwrgiar-m.gif"></p><br><p>  Mit der enthaltenen Randomisierung k√∂nnen Sie nicht "geflasht", sondern eine andere Quelladresse des Pakets angeben, die sich mit jedem Scan-Zyklus zeitlich oder irgendwie √§ndert.  Funktioniert das  Schauen wir uns die Statistiken der gesammelten MAC-Adressen aus der Luft mit dem sogenannten "Wi-Fi-Radar" an: </p><br><div class="scrollable-table"><table><thead><tr><th></th><th>  Ganze Probe </th><th>  Sampling mit nur 7m Bit </th></tr></thead><tbody><tr><td>  Die Anzahl der Datens√§tze in der Datenbank </td><td>  3920000 </td><td>  305.000 </td></tr><tr><td>  Bit Nummer: </td><td>  % bit "1" </td><td>  % bit "1" </td></tr><tr><td>  1 </td><td>  66,1% </td><td>  43,3% </td></tr><tr><td>  2 </td><td>  66,5% </td><td>  43,4% </td></tr><tr><td>  3 </td><td>  31,7% </td><td>  43,8% </td></tr><tr><td>  4 </td><td>  66,6% </td><td>  46,4% </td></tr><tr><td>  5 </td><td>  66,7% </td><td>  45,7% </td></tr><tr><td>  6 </td><td>  31,9% </td><td>  46,4% </td></tr><tr><td>  7 </td><td>  <strong>92,2%</strong> </td><td>  0,0% </td></tr><tr><td>  8 </td><td>  0,0% </td><td>  0,0% </td></tr><tr><td></td><td></td><td></td></tr><tr><td>  9 </td><td>  67,2% </td><td>  47,5% </td></tr><tr><td>  10 </td><td>  32,3% </td><td>  45,6% </td></tr><tr><td>  11 </td><td>  66,9% </td><td>  45,3% </td></tr><tr><td>  12 </td><td>  32,3% </td><td>  46,8% </td></tr><tr><td>  13 </td><td>  32,6% </td><td>  50,1% </td></tr><tr><td>  14 </td><td>  33,0% </td><td>  56,1% </td></tr><tr><td>  15 </td><td>  32,5% </td><td>  45,0% </td></tr><tr><td>  16 </td><td>  67,2% </td><td>  48,3% </td></tr><tr><td></td><td></td><td></td></tr><tr><td>  17 </td><td>  33,2% </td><td>  56,9% </td></tr><tr><td>  18 </td><td>  33,3% </td><td>  56,8% </td></tr><tr><td>  19 </td><td>  33,3% </td><td>  56,3% </td></tr><tr><td>  20 </td><td>  66,8% </td><td>  43,2% </td></tr><tr><td>  21 </td><td>  67,0% </td><td>  46,4% </td></tr><tr><td>  22 </td><td>  32,6% </td><td>  50,1% </td></tr><tr><td>  23 </td><td>  32,9% </td><td>  51,2% </td></tr><tr><td>  24 </td><td>  67,6% </td><td>  52,2% </td></tr><tr><td></td><td></td><td></td></tr><tr><td>  25 </td><td>  49,8% </td><td>  47,8% </td></tr><tr><td>  26 </td><td>  50,0% </td><td>  50,0% </td></tr><tr><td>  27 </td><td>  50,0% </td><td>  50,2% </td></tr><tr><td>  28 </td><td>  50,0% </td><td>  49,8% </td></tr><tr><td>  29. </td><td>  50,0% </td><td>  49,4% </td></tr><tr><td>  30 </td><td>  50,0% </td><td>  50,0% </td></tr><tr><td>  31 </td><td>  50,0% </td><td>  49,7% </td></tr><tr><td>  32 </td><td>  50,0% </td><td>  49,9% </td></tr><tr><td></td><td></td><td></td></tr><tr><td>  33 </td><td>  50,0% </td><td>  49,7% </td></tr><tr><td>  34 </td><td>  50,0% </td><td>  49,6% </td></tr><tr><td>  35 </td><td>  50,0% </td><td>  50,1% </td></tr><tr><td>  36 </td><td>  50,0% </td><td>  49,5% </td></tr><tr><td>  37 </td><td>  50,0% </td><td>  49,9% </td></tr><tr><td>  38 </td><td>  50,0% </td><td>  49,8% </td></tr><tr><td>  39 </td><td>  50,0% </td><td>  49,9% </td></tr><tr><td>  40 </td><td>  50,0% </td><td>  50,1% </td></tr><tr><td></td><td></td><td></td></tr><tr><td>  41 </td><td>  50,0% </td><td>  50,2% </td></tr><tr><td>  42 </td><td>  50,0% </td><td>  50,2% </td></tr><tr><td>  43 </td><td>  50,0% </td><td>  50,1% </td></tr><tr><td>  44 </td><td>  50,0% </td><td>  50,1% </td></tr><tr><td>  45 </td><td>  50,0% </td><td>  50,0% </td></tr><tr><td>  46 </td><td>  50,0% </td><td>  49,8% </td></tr><tr><td>  47 </td><td>  50,0% </td><td>  49,8% </td></tr><tr><td>  48 </td><td>  50,1% </td><td>  50,9% </td></tr></tbody></table></div><br><p>  Das Bild ist v√∂llig anders. </p><br><p>  Das 8. Bit des ersten Bytes der MAC-Adresse stimmt weiterhin mit der Unicast-Art der SRC-Adresse im Pr√ºfanforderungspaket √ºberein. </p><br><p>  Das 7. Bit ist in 92,2% der F√§lle auf Lokal gesetzt, d. H.  Mit einiger Sicherheit k√∂nnen wir davon ausgehen, dass genau so viele Adressen zuf√§llig gesammelt werden und weniger als 8% real sind.  Dar√ºber hinaus stimmt die Verteilung der Bits in der OUI f√ºr solche reellen Adressen ungef√§hr mit den Daten in der vorhergehenden Tabelle √ºberein. </p><br><p>  Zu welchem ‚Äã‚ÄãHersteller geh√∂ren laut OUI die zuf√§lligen Adressen (also mit dem 7. Bit in ‚Äû1‚Äú)? </p><br><div class="scrollable-table"><table><thead><tr><th>  Hersteller von OUI </th><th>  Teilen Sie unter allen Adressen </th></tr></thead><tbody><tr><td>  nicht in IEEE-Datenbank gefunden </td><td>  62,45% </td></tr><tr><td>  Google Inc. </td><td>  37,54% </td></tr><tr><td>  der Rest </td><td>  0,01% </td></tr></tbody></table></div><br><p>  Dar√ºber hinaus geh√∂ren alle Google zugewiesenen zuf√§lligen Adressen zu einer OUI mit dem Pr√§fix <strong>DA: A1: 19</strong> .  Was ist das Pr√§fix?  Schauen wir uns den <a href="" rel="nofollow">Quellcode f√ºr Android an</a> . </p><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> MacAddress BASE_GOOGLE_MAC = MacAddress.fromString(<span class="hljs-string"><span class="hljs-string">"da:a1:19:0:0:0"</span></span>);</code> </pre> <br><p>  Der serienm√§√üige Android verwendet eine spezielle, registrierte OUI, eine der wenigen mit dem siebten gesetzten Bit, bei der Suche nach drahtlosen Netzwerken. </p><br><h3 id="vychislit-realnyy-mas-iz-randomnogo">  Berechnen Sie den realen MAC nach dem Zufallsprinzip </h3><br><p>  Schauen wir uns das an: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> VALID_LONG_MASK = (<span class="hljs-number"><span class="hljs-number">1L</span></span> &lt;&lt; <span class="hljs-number"><span class="hljs-number">48</span></span>) - <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> LOCALLY_ASSIGNED_MASK = MacAddress.fromString(<span class="hljs-string"><span class="hljs-string">"2:0:0:0:0:0"</span></span>).mAddr; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> MULTICAST_MASK = MacAddress.fromString(<span class="hljs-string"><span class="hljs-string">"1:0:0:0:0:0"</span></span>).mAddr; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> <span class="hljs-function"><span class="hljs-function">MacAddress </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createRandomUnicastAddress</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(MacAddress base, Random r)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> addr; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (base == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { addr = r.nextLong() &amp; VALID_LONG_MASK; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { addr = (base.mAddr &amp; OUI_MASK) | (NIC_MASK &amp; r.nextLong()); } addr |= LOCALLY_ASSIGNED_MASK; addr &amp;= ~MULTICAST_MASK; MacAddress mac = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MacAddress(addr); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (mac.equals(DEFAULT_MAC_ADDRESS)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> createRandomUnicastAddress(base, r); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mac; }</code> </pre><br><p>  Die gesamte Adresse oder ihre mindestens drei Bytes sind reine <em>Random.nextLong ()</em> .  "Patentierte Wiederherstellung von echten MAS" - ein Betrug.  Mit hoher Sicherheit ist zu erwarten, dass Hersteller von Android-Telefonen andere nicht registrierte OUIs verwenden.  Wir haben keine iOS-Quellen, aber h√∂chstwahrscheinlich wird dort ein √§hnlicher Algorithmus verwendet. </p><br><p>  Das Obige hebt den Betrieb anderer Mechanismen der Deanonymisierung von Wi-Fi-Teilnehmern auf der Grundlage der Analyse anderer Felder des Untersuchungsanforderungsrahmens oder der Korrelation der relativen H√§ufigkeit der vom Ger√§t gesendeten Anforderungen nicht auf.  Die zuverl√§ssige Verfolgung eines Teilnehmers durch externe Mittel ist jedoch √§u√üerst problematisch.  Die gesammelten Daten eignen sich besser zur Analyse der Durchschnitts- / Spitzenlast nach Ort und Zeit, basierend auf einer gro√üen Anzahl, ohne Bezugnahme auf bestimmte Ger√§te und Personen.  Genaue Daten sind nur f√ºr diejenigen, die "drinnen", die Hersteller von mobilen Betriebssystemen selbst, Anwendungen installiert haben. </p><br><p>  Was kann gef√§hrlich sein, wenn jemand anderes die MAC-Adresse Ihres Ger√§ts herausfindet?  F√ºr drahtgebundene und drahtlose Netzwerke kann ein Denial-of-Service-Angriff organisiert werden.  Bei einem drahtlosen Ger√§t ist es au√üerdem mit einiger Wahrscheinlichkeit m√∂glich, den Zeitpunkt des Auftretens an dem Ort zu bestimmen, an dem der Sensor installiert ist.  Indem Sie die Adresse f√§lschen, k√∂nnen Sie versuchen, sich als Ihr Ger√§t auszugeben, was nur funktioniert, wenn Sie keine zus√§tzlichen Sicherheitsfunktionen (Autorisierung und / oder Verschl√ºsselung) verwenden.  99,9% der Menschen hier haben nichts zu bef√ºrchten. </p><br><p>  Die MAC-Adresse ist komplexer als sie sich anh√∂rt, aber einfacher als sie sein k√∂nnte. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de483670/">https://habr.com/ru/post/de483670/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de483660/index.html">Telegramm-Bot f√ºr das Infrastrukturmanagement</a></li>
<li><a href="../de483662/index.html">Integration von Cisco Threat Response und Cisco Stealthwatch Enterprise</a></li>
<li><a href="../de483664/index.html">Keras Functional API in TensorFlow</a></li>
<li><a href="../de483666/index.html">√úber Volodya und den Ozonisator</a></li>
<li><a href="../de483668/index.html">Die Verdauung von frischen Materialien aus der Welt des Frontends f√ºr die letzte Woche Nr. 397 (6. - 12. Januar 2020)</a></li>
<li><a href="../de483674/index.html">Wie bin√§re neuronale Netze funktionieren und warum sie 2020 popul√§r sein werden</a></li>
<li><a href="../de483676/index.html">Bewertung der Wirksamkeit und der Kosten der Implementierung eines umfassenden Marketinganalysesystems</a></li>
<li><a href="../de483680/index.html">H√§ufig zu vermeidende Programmierfehler</a></li>
<li><a href="../de483682/index.html">JavaScript-B√ºndelung und Leistung: Best Practices</a></li>
<li><a href="../de483684/index.html">PHP Digest Nr. 171 (1. - 13. Januar 2020)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>