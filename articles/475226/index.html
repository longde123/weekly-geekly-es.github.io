<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèª‚Äç‚úàÔ∏è üëêüèΩ üë©üèΩ‚Äçü§ù‚Äçüë©üèª Pasant√≠a en la Fundaci√≥n Haxe üêö ü§± üê∞</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Les presento la traducci√≥n de otro informe de HaxeUp Sessions 2019 Linz , creo que es un buen complemento al anterior , porque contin√∫a el tema de los...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pasant√≠a en la Fundaci√≥n Haxe</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/475226/"><p>  Les presento la traducci√≥n de otro informe de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">HaxeUp Sessions 2019 Linz</a> , creo que es un buen complemento al <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">anterior</a> , porque  contin√∫a el tema de los cambios en Haxe que ocurrieron en 2019, as√≠ como una peque√±a charla sobre su futuro. <br>  Un poco sobre el autor del informe: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aurel Bili se</a> reuni√≥ con <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Haxe</a> , participando en varios juegos, y contin√∫a participando en ellos (por ejemplo, aqu√≠ est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">su juego del √∫ltimo Ludum Dare 45</a> ). </p><br><p><img src="https://habrastorage.org/webt/ad/lm/cg/adlmcgnsnfq_dtf9i0ouddgb1s4.png" alt="imagen"></p><a name="habracut"></a><br><p>  Aurel actualmente est√° completando estudios en el Imperial College de Londres, lo que implica pasant√≠as obligatorias.  La primera pasant√≠a que realiz√≥ fue en una oficina remota, cuyo camino tom√≥ mucho tiempo.  Por lo tanto, esperaba que la pr√≥xima pr√°ctica fuera posible de forma remota. </p><br><p><img src="https://habrastorage.org/webt/ke/tq/ii/ketqiipd9nlnfto-m0aa9l9juoa.png" alt="imagen"></p><br><p>  Sucedi√≥ que la Fundaci√≥n Haxe durante mucho tiempo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">no pudo encontrar un empleado</a> para el puesto de desarrollador del compilador.  Aurel decidi√≥ probar suerte y envi√≥ una carta solicitando trabajo remoto.  Tuvo suerte: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">fue aceptado para una pasant√≠a de seis meses</a> con la oportunidad de trabajar desde Londres. </p><br><p><img src="https://habrastorage.org/webt/r7/ur/rp/r7urrpmlbvyzoqpz4funq_i7isq.png" alt="imagen"></p><br><p>  Al configurar el dispositivo, se acord√≥ la gama de tareas que Aurel abordar√° (aunque no todo se realiz√≥ finalmente). </p><br><p><img src="https://habrastorage.org/webt/nx/sp/ok/nxspokz8gogufn1xujawaocuvfg.png" alt="imagen"></p><br><p>  ¬øQu√© hizo √©l? </p><br><p>  En primer lugar, la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">documentaci√≥n</a> , que estaba en un estado triste: se describieron todos los cambios en la sintaxis, las nuevas caracter√≠sticas del lenguaje y el compilador, se complementaron las secciones sobre cadenas, literales y constantes. </p><br><p><img src="https://habrastorage.org/webt/5o/f8/0x/5of80xs7hqjc7br0o8wzdtvylfe.png" alt="imagen"></p><br><p>  ¬°Toda la documentaci√≥n ha sido <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">traducida de LaTeX a Markdown</a> ! </p><br><p><img src="https://habrastorage.org/webt/8h/8a/zi/8h8aziozlhimxivhbqe6eaen8nm.png" alt="imagen"></p><br><p>  En segundo lugar, el formato del c√≥digo de la biblioteca est√°ndar se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">llev√≥ a un solo estilo</a> (ya que diferentes personas con diferentes estilos de dise√±o de c√≥digo trabajaron en √©l durante m√°s de 10 a√±os).  Por lo tanto, en el repositorio del compilador Haxe, Aurel ocup√≥ el s√©ptimo lugar en el n√∫mero de l√≠neas de c√≥digo agregadas :) </p><br><p><img src="https://habrastorage.org/webt/_1/ue/dr/_1uedrmupcaktuprps7tozfstvc.png" alt="imagen"></p><br><p> En tercer lugar, Aurel tambi√©n trabaj√≥ en la biblioteca y el compilador est√°ndar: <br>  Por ejemplo, el contenedor <code>Map</code> tiene un nuevo m√©todo <code>clear()</code> que elimina todos los valores almacenados.  Esto se realiz√≥ principalmente por la conveniencia de trabajar con contenedores creados como variables <code>final</code> (es decir, no se les puede asignar un nuevo valor, pero se pueden modificar): </p><br><p><img src="https://habrastorage.org/webt/w4/im/py/w4impyixozfnotxgvysk9lmkg_g.png" alt="imagen"></p><br><p>  Para los objetos de tipo <code>Date</code> , han aparecido m√©todos para trabajar con fechas en el formato UTC (hora universal universal).  Trabajar en ellos mostr√≥ lo dif√≠cil que es implementar una √∫nica API que funcione igualmente en los 11 idiomas / plataformas compatibles con Haxe. </p><br><p><img src="https://habrastorage.org/webt/sb/qy/xb/sbqyxbkfhn0u7okjsppcuvf4t8s.png" alt="imagen"></p><br><p>  En el compilador anterior, las definiciones y metaetiquetas se defin√≠an en OCaml, pero ahora se describen en el formato JSON, lo que deber√≠a simplificar su an√°lisis mediante utilidades externas (por ejemplo, para generar documentaci√≥n autom√°ticamente): </p><br><p><img src="https://habrastorage.org/webt/ne/r4/eo/ner4eouacu_md7zihgqrz3uiqnm.png" alt="imagen"></p><br><p>  Tambi√©n puede notar que en proyectos grandes, el servidor de compilaci√≥n comienza a usar mucha memoria. </p><br><p><img src="https://habrastorage.org/webt/xq/q9/r_/xqq9r_cwnt_fzqrszdk5puijd64.png" alt="imagen"></p><br><p>  Para resolver este problema, Simon Kraevsky y Aurel desarrollaron el formato binario hxb, que se utiliza para serializar el AST escrito.  Ahora el servidor de compilaci√≥n puede cargar el m√≥dulo en la memoria, trabajar con √©l hasta que sea necesario, y luego descargarlo de la memoria a un archivo en formato hxb y liberar la memoria ocupada. </p><br><p><img src="https://habrastorage.org/webt/4e/gm/9w/4egm9wqmkufwq98hkbav5h3sgqo.png" alt="imagen"></p><br><p>  La especificaci√≥n del formato hxb est√° disponible <a href="">en un repositorio separado</a> , y su implementaci√≥n actual en el compilador (con serializador / deserializador) se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">encuentra en una rama Haxe separada</a> .  El trabajo en esta funci√≥n a√∫n no se ha completado, y tal vez aparecer√° en Haxe 4.1. </p><br><p><img src="https://habrastorage.org/webt/fw/1k/cp/fw1kcp-bt-auctqpfstvjdjr_i0.png" alt="imagen"></p><br><p>  El cuarto y principal enfoque del trabajo de Aurel durante la pasant√≠a fue la creaci√≥n de un nuevo sistema as√≠ncrono API - asys. </p><br><p><img src="https://habrastorage.org/webt/lk/vu/6k/lkvu6kx-jkyhsylbt-axraassom.png" alt="imagen"></p><br><p>  La necesidad de su creaci√≥n se debe al hecho de que la API existente no proporciona formas f√°ciles de realizar operaciones del sistema de forma asincr√≥nica.  Por ejemplo, para trabajar con archivos de forma asincr√≥nica, deber√° crear un subproceso separado en el que se realizar√°n las operaciones necesarias y controlar manualmente su estado.  Adem√°s, la API actual no tiene todas las funciones para trabajar con sockets UDP, que est√°n en bibliotecas est√°ndar en otros idiomas, no hay soporte para sockets IPC. </p><br><p><img src="https://habrastorage.org/webt/b0/ba/3o/b0ba3orzpj8i8ja2e3-p5enhbi8.png" alt="imagen"></p><br><p>  Al crear e implementar una nueva API, surgen muchas preguntas: </p><br><p>  ¬øC√≥mo dise√±ar una API?  ¬øQuiz√°s valga la pena tomar uno existente como ejemplo?  Despu√©s de todo, no queremos crear todo desde cero, porque  tomar√° m√°s tiempo y puede que no sea del gusto del resto del equipo y cause mucho debate. </p><br><p>  Y, como ya se mencion√≥, el problema real para Haxe es la implementaci√≥n de una √∫nica API para todas las plataformas compatibles. </p><br><p><img src="https://habrastorage.org/webt/nd/lk/gp/ndlkgpmojw_uhnil6kdnazwn-k8.png" alt="imagen"></p><br><p>  API Node.js. fue elegido como muestra.  Est√° bien pensado, admite las funciones necesarias del sistema y es muy adecuado para crear aplicaciones de servidor. </p><br><p><img src="https://habrastorage.org/webt/va/ih/0y/vaih0yr_x7telwmirbhputnxz7o.png" alt="imagen"></p><br><p>  Pero al mismo tiempo, la API Node.js es una API de Javascript sin tipeo fuerte.  Por ejemplo, las funciones del m√≥dulo <code>fs</code> para trabajar con el sistema de archivos pueden tomar como rutas cadenas u objetos como <code>Buffer</code> e incluso <code>URL</code> .  Y esto no es tan bueno para Haxe. </p><br><p><img src="https://habrastorage.org/webt/pa/xt/v4/paxtv4f4oiqri_gzpd4jrhyv_y8.png" alt="imagen"></p><br><p>  Node.js, a su vez, usa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">la biblioteca libuv</a> escrita en C. Trabajar con la API libuv de Haxe directamente no ser√≠a tan conveniente: por ejemplo, para cambiar el nombre del archivo de forma asincr√≥nica, necesitar√≠a crear objetos adicionales como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><code>uv_loop_t</code></a> (estructura para administrar evento loop en libuv) y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><code>uv_fs_t</code></a> (estructura para describir una solicitud al sistema de archivos): </p><br><p><img src="https://habrastorage.org/webt/oe/7w/cs/oe7wcsi9ebwntb7g2hrzab4ognu.png" alt="imagen"></p><br><p>  Como resultado, las API Node.js y libuv se integraron de la siguiente manera (utilizando el int√©rprete de macros eval y el m√©todo de <code>rename</code> como ejemplo): </p><br><ul><li>  tomaron el m√©todo API de Node.js, lo convirtieron a Haxe, tratando de estandarizar los tipos de argumentos y deshacerse de los argumentos que son redundantes para Haxe.  Por ejemplo, los argumentos de ruta (de tipo <code>FilePath</code> ) son res√∫menes sobre cadenas: </li></ul><br><p><img src="https://habrastorage.org/webt/i-/-c/qb/i--cqbg076qynad4g4dfjhdupe8.png" alt="imagen"></p><br><ul><li>  luego cre√≥ carpetas OCaml para este m√©todo: </li></ul><br><p><img src="https://habrastorage.org/webt/hh/zl/-9/hhzl-9gd0eqcqb1y3iw6sqghx1w.png" alt="imagen"></p><br><ul><li>  OCaml y C vinculados (usando la interfaz CFFI - C Foreign Function): </li></ul><br><p><img src="https://habrastorage.org/webt/n4/ia/8c/n4ia8cqs9c4zhhsezhxyu_kdrcs.png" alt="imagen"></p><br><ul><li>  y finalmente escribi√≥ C-binders para llamar a funciones libuv C desde OCaml: </li></ul><br><p><img src="https://habrastorage.org/webt/zx/gw/tn/zxgwtnacpaeyyik19zq6ijif4lo.png" alt="imagen"></p><br><p>  Del mismo modo, se hizo para HashLink y Neko (por ahora, la API de asys se implementa solo para estas tres plataformas).  Como puede suponer, tom√≥ mucho trabajo. </p><br><p>  Aurel mostr√≥ algunas aplicaciones peque√±as que demuestran c√≥mo funciona la API de asys. <br>  El primer ejemplo es una demostraci√≥n de lectura as√≠ncrona del contenido de un archivo.  Hasta ahora, el c√≥digo llama expl√≠citamente a los m√©todos para inicializar libuv ( <code>hl.Uv.init()</code> ) e iniciar el ciclo de aplicaci√≥n ( <code>hl.Uv.run()</code> ), debido a que el trabajo en la API no se ha completado (pero en el futuro se agregar√°n autom√°ticamente): </p><br><p><img src="https://habrastorage.org/webt/4o/sy/fn/4osyfne9qtpdb_mf1ukbwkoat6w.png" alt="imagen"></p><br><p>  El resultado del c√≥digo mostrado: </p><br><p><img src="https://habrastorage.org/webt/qj/_w/xa/qj_wxapicgolrogp5t9dkwg6yeq.png" alt="imagen"></p><br><p>  Vemos que los resultados de los <code>AsyncFileSystem.readFile()</code> llamados <code>AsyncFileSystem.readFile()</code> se muestran en la consola despu√©s del seguimiento "despu√©s de la llamada", que se <code>AsyncFileSystem.readFile()</code> en el c√≥digo despu√©s de intentar leer el contenido de los archivos. </p><br><p>  El segundo ejemplo es una demostraci√≥n de operaci√≥n asincr√≥nica con direcciones DNS e IP. </p><br><p><img src="https://habrastorage.org/webt/o8/fj/98/o8fj98v5f9mi_r18b4om36bye5c.png" alt="imagen"></p><br><p>  En la nueva API, ser√° mucho m√°s f√°cil determinar el nombre de host, as√≠ como los m√©todos auxiliares para trabajar con direcciones IP. </p><br><p><img src="https://habrastorage.org/webt/ad/ok/u4/adoku4ngzznjwcuerfz7tq-wm60.png" alt="imagen"></p><br><p>  El tercer ejemplo es un servidor de eco TCP simple, que requiere solo tres l√≠neas de c√≥digo para crear: </p><br><p><img src="https://habrastorage.org/webt/43/8c/-p/438c-pfd3o-s58ncrjwkoyvy_lk.png" alt="imagen"></p><br><p>  Un cuarto ejemplo es una demostraci√≥n del intercambio de informaci√≥n entre procesos: <br>  El <code>makeFrame()</code> est√°tico <code>makeFrame()</code> en este ejemplo crea im√°genes png separadas: </p><br><p><img src="https://habrastorage.org/webt/n8/-e/qw/n8-eqwrdqpzwha0k3i08hwnsdey.png" alt="imagen"></p><br><p>  y en el m√©todo <code>main</code> , comenzamos el proceso ffmpeg, en el cual transferiremos los marcos generados en <code>makeFrame()</code> : </p><br><p><img src="https://habrastorage.org/webt/nq/ih/qn/nqihqnbutuomwmjp5spv7uy456q.png" alt="imagen"></p><br><p>  y la salida ser√° un archivo de video: </p><br><p><img src="https://habrastorage.org/webt/vl/l1/af/vll1aftw7wbvvptcargllfzmngs.png" alt="imagen"></p><br><p>  Y el quinto ejemplo es la transmisi√≥n de video UDP.  Aqu√≠, como en el ejemplo anterior, se inicia el proceso ffmpeg, pero esta vez reproduce el video y env√≠a sus datos al flujo de salida est√°ndar.  Tambi√©n se crea un socket UDP que traducir√° los datos del proceso ffmpeg. </p><br><p><img src="https://habrastorage.org/webt/rb/oz/79/rboz79aci2nd3npqbdn7lguqcuq.png" alt="imagen"></p><br><p>  Y finalmente, dividimos los datos recibidos de ffmpeg en "porciones" m√°s peque√±as y las traducimos al puerto especificado: </p><br><p><img src="https://habrastorage.org/webt/9v/9_/e4/9v9_e4g_qs9ahrtkfwiewlfz0so.png" alt="imagen"></p><br><p>  Y como resultado, obtenemos una transmisi√≥n de video en funcionamiento: </p><br><p><img src="https://habrastorage.org/webt/q1/xd/e7/q1xde7iq24modwdqgpdwkzp4e4o.png" alt="imagen"></p><br><p>  Resumiendo lo anterior, la nueva API de asys incluye: </p><br><ul><li>  m√©todos para trabajar con el sistema de archivos, incluidas nuevas funciones que no estaban en la biblioteca est√°ndar (por ejemplo, para cambiar los permisos), as√≠ como versiones asincr√≥nicas de todas las funciones disponibles en la biblioteca est√°ndar anterior </li><li>  Soporte para operaci√≥n asincr√≥nica con sockets TCP / UDP / IPC </li><li>  m√©todos para trabajar con DNS (hasta ahora 2 m√©todos: <code>lookup</code> e <code>reverse</code> ) </li><li>  as√≠ como m√©todos para trabajo asincr√≥nico con procesos. </li></ul><br><p><img src="https://habrastorage.org/webt/va/xf/5j/vaxf5j-sza0yvdr0zbb3uoepizw.png" alt="imagen"></p><br><p>  El trabajo en la API de asys a√∫n no se ha completado; actualmente hay algunos problemas con el recolector de basura cuando se trabaja con la biblioteca libuv.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">La solicitud de extracci√≥n</a> con los cambios correspondientes a√∫n no se ha incorporado a la sucursal principal de Haxe, los comentarios al respecto agradecen las opiniones sobre los nombres de los nuevos m√©todos, sus firmas y documentaci√≥n. <br>  Como ya se mencion√≥, el soporte para la API de asys se implementa solo para HashLink, Eval y Neko (en forma de tres solicitudes de extracci√≥n separadas).  Aurel ya form√≥ un plan sobre c√≥mo agregar soporte para la nueva API para C ++ y Lua.  La implementaci√≥n para otras plataformas requerir√° investigaci√≥n adicional. </p><br><p><img src="https://habrastorage.org/webt/xe/vc/bl/xevcblkgoyvhwm2zbzbchdysoks.png" alt="imagen"></p><br><p>  Es posible que la API de asys est√© disponible en Haxe 4.1 (pero solo en algunas plataformas). </p><br><p>  Aurel tambi√©n habl√≥ sobre su proyecto paralelo: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">la biblioteca ammer</a> (que sin embargo est√° asociada con su trabajo en la Fundaci√≥n Haxe). </p><br><p><img src="https://habrastorage.org/webt/io/9w/fo/io9wfoogbdtulgmplmgfl0_lnde.png" alt="imagen"></p><br><p>  El objetivo de Ammer es automatizar la creaci√≥n de carpetas para las bibliotecas C para que puedan usarse tanto en HashLink como en HXCPP (en octubre de 2018, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Lars Duse estableci√≥ una tarifa</a> por resolver este problema). </p><br><p>  ¬øPor qu√© fue relevante esta tarea?  El hecho es que aunque el proceso de creaci√≥n de carpetas para HashLink y HXCPP es similar, para cada plataforma tendr√° que escribir su propio c√≥digo de pegamento. </p><br><p>  Aurel hizo m√°s o menos lo mismo cuando integr√≥ la biblioteca libuv en Haxe: para Eval, Neko y HashLink tuvo que escribir el mismo c√≥digo que solo difer√≠a en detalles (llamadas de funci√≥n, diferencias en el trabajo de FFI, etc.): </p><br><p><img src="https://habrastorage.org/webt/b5/mr/h4/b5mrh4kfwydttjk5iz5vhlqxrhw.png" alt="imagen"></p><br><p>  Se requer√≠a un trabajo similar en el lado de Haxe para poder llamar a las funciones nativas: </p><br><p><img src="https://habrastorage.org/webt/sm/oj/5z/smoj5ziapdbfupnznqm5tdzjxsy.png" alt="imagen"></p><br><p>  Y la idea de ammer es tomar la versi√≥n Haxe de la API, no saturada de informaci√≥n redundante, y hacer que este c√≥digo funcione de alguna manera para todas las plataformas: </p><br><p><img src="https://habrastorage.org/webt/z7/qw/x3/z7qwx3d5tphczllt6lxxxsyjhuy.png" alt="imagen"></p><br><p>  Qu√© ammer ahora se requiere para usar bibliotecas C externas: </p><br><ul><li>  crear la especificaci√≥n Haxe para la biblioteca, que es esencialmente externa a la biblioteca utilizada </li><li>  escribir c√≥digo de aplicaci√≥n </li><li>  compilar el proyecto especificando rutas a los archivos de encabezado y archivos de la biblioteca C </li><li>  ... </li><li>  beneficio </li></ul><br><p><img src="https://habrastorage.org/webt/bq/yg/tj/bqygtjjw4ike8exjibcpjjk_pg8.png" alt="imagen"></p><br><p>  Debajo del cap√≥, ammer hace lo siguiente: </p><br><ul><li>  coincide con los tipos seg√∫n la plataforma de destino </li><li>  genera autom√°ticamente c√≥digo C para llamar a funciones nativas </li><li>  genera un archivo MAKE que se utiliza para crear archivos HDLL y NDLL </li></ul><br><p><img src="https://habrastorage.org/webt/lt/fa/yy/ltfayydbhqtof2itvy-hwmqo-ha.png" alt="imagen"></p><br><p>  Ammer actualmente admite: </p><br><ul><li>  funciones simples </li><li>  definido a partir de los archivos de encabezado (en el c√≥digo Hax, se puede acceder a ellos como constantes) </li><li>  punteros </li></ul><br><p>  Apoyo planeado: </p><br><ul><li>  devoluciones de llamada (todav√≠a son escasas) </li><li>  y estructuras (muy necesarias para trabajar con C-API) </li></ul><br><p><img src="https://habrastorage.org/webt/o3/n1/ul/o3n1ul7h6wyf2kwx1t1k8rfiluc.png" alt="imagen"></p><br><p>  Ahora ammer funciona con C ++, HashLink y Eval.  Y Aurel est√° seguro de que puede agregar soporte para otras plataformas de sistema. </p><br><p><img src="https://habrastorage.org/webt/12/ea/cq/12eacqp3bshywrwjg5a-9ufbtym.png" alt="imagen"></p><br><p>  Para demostrar las capacidades de ammer, Aurel mostr√≥ una peque√±a aplicaci√≥n que ejecuta el int√©rprete Lua: </p><br><p><img src="https://habrastorage.org/webt/5y/m-/t2/5ym-t2a72kbdezhqud58ao4vv8y.png" alt="imagen"></p><br><p>  Los aglutinantes utilizados son los siguientes: </p><br><p><img src="https://habrastorage.org/webt/ju/8j/to/ju8jtoyqggua_7h4xu6tt-9yy_i.png" alt="imagen"></p><br><p>  Como puede ver, algunos m√©todos est√°n comentados, porque  usan devoluciones de llamada, cuyo soporte a√∫n no se ha realizado, pero Aurel espera que pueda solucionarlo pronto. </p><br><p><img src="https://habrastorage.org/webt/04/8d/bu/048dbumtdbyuogq0mvgt_qlt5jc.png" alt="imagen"></p><br><p>  Entonces, ¬øqu√© ammer se puede utilizar para: </p><br><ul><li>  incrustando una m√°quina virtual Lua </li><li>  crear aplicaciones en SDL </li><li>  La automatizaci√≥n del trabajo con libuv es posible (como se mostr√≥ anteriormente, ahora se necesita mucho c√≥digo escrito a mano para trabajar con libuv) </li><li>  y, por supuesto, simplificar√° enormemente el uso de muchas otras bibliotecas C √∫tiles (como OpenAL, Dear-imgui, etc.) </li></ul><br><p><img src="https://habrastorage.org/webt/al/xa/jq/alxajqjpsgyeyttibyyg232jhci.png" alt="imagen"></p><br><p>  Aunque la pasant√≠a de Aurel en la Fundaci√≥n Haxe ha finalizado, planea continuar trabajando con Haxe, ya que  su educaci√≥n universitaria a√∫n no se ha completado y todav√≠a tiene que escribir su trabajo final.  Aurel ya sabe a qu√© se dedicar√°: mejorar el trabajo del recolector de basura en HashLink.  Bueno, ser√° interesante! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/475226/">https://habr.com/ru/post/475226/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../475202/index.html">Primera impresi√≥n de Xiaomi MIUI 11</a></li>
<li><a href="../475208/index.html">Mudarse a Europa: aventura y hallazgos</a></li>
<li><a href="../475212/index.html">Busque datos y objetos en la base de datos de MS SQL Server con la utilidad gratuita dbForge Search</a></li>
<li><a href="../475214/index.html">Cuando una empresa muere: c√≥mo sobrevivir a la bancarrota</a></li>
<li><a href="../475218/index.html">Protocolos criptogr√°ficos: definiciones, registros, propiedades, clasificaci√≥n, ataques.</a></li>
<li><a href="../475228/index.html">Tenedor de n√≥mina. Eres un programador para mam√°</a></li>
<li><a href="../475236/index.html">Nunca ignores el entrenamiento de refuerzo de nuevo.</a></li>
<li><a href="../475238/index.html">Cronolog√≠a de Blade Runner: noviembre de 2019. ¬øEl pron√≥stico se hizo realidad?</a></li>
<li><a href="../475240/index.html">Uso de m√≥dulos estrictos en proyectos de Python a gran escala: experiencia de Instagram. Parte 1</a></li>
<li><a href="../475242/index.html">Uso de m√≥dulos estrictos en proyectos de Python a gran escala: experiencia de Instagram. Parte 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>