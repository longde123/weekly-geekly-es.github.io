<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèΩ‚Äç‚öñÔ∏è üë©üèº‚Äçü§ù‚Äçüë®üèª üß† √úber Z√ºchterrechte an den Fingern ‚û°Ô∏è ü§ôüèø üßî</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In diesem Text werde ich ein wenig √ºber PBR sprechen, ein Konzept des Renderns, das auf physikalischen Prinzipien basiert. PBR wird in der modernen Co...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>√úber Z√ºchterrechte an den Fingern</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/funcorp/blog/465457/"><p><img src="https://habrastorage.org/webt/p7/wx/7w/p7wx7wdov7bj2wuvrn-tezyyani.png"></p><br><p>  In diesem Text werde ich ein wenig √ºber PBR sprechen, ein Konzept des Renderns, das auf physikalischen Prinzipien basiert.  PBR wird in der modernen Computergrafik verwendet, und wir werden dar√ºber sprechen, was es ist und wie es vorbereitet wird und welche wichtigen Dinge es wert ist, f√ºr diejenigen zu wissen, die sich mit der Vorbereitung von Materialien befassen oder bereits befassen.  Der Schwerpunkt wird mehr auf Spiele und Game Engines verlagert, wo dieses Konzept mittlerweile sehr weit verbreitet ist. </p><a name="habracut"></a><br><p>  Bevor wir zu den Einzelheiten √ºbergehen, ein paar Worte f√ºr "das Heck abdecken". </p><br><p> Jede Engine und jeder Render verf√ºgt √ºber eine eigene Entwicklungspipeline, die h√§ufig wie eine Schneeflocke einzigartig ist und sich nicht vollst√§ndig mit anderen schneidet.  Dies ist unter anderem auf die Tatsache zur√ºckzuf√ºhren, dass PBR eine relativ junge Methodik ist, und wir k√∂nnen sagen, dass wir die erste Generation solcher Motoren sehen, Standards beginnen gerade erst aufzutauchen, so dass es Unterschiede und Nuancen in verschiedenen Implementierungen gibt.  Und auch, weil Z√ºchterrechte keine strengen Anforderungen sind, sondern eine allgemeine Entwicklungsrichtung. </p><br><p>  Beim Schreiben dieses Textes st√ºtzte ich mich auf meine eigenen Erfahrungen und die Theorie in Bezug auf mehrere Pakete: Unreal Engine 4, Marmoset Toolbag 3, Substance Painter.  Daher sehen einige Dinge in anderen Paketen anders aus, aber im Allgemeinen ist die Theorie universell. </p><br><p>  Im Detail werde ich die wichtigsten Dinge beschreiben, und am Ende werde ich durch das Restprinzip erw√§hnen, dass es in PBR verwendet wird, aber im Ger√§t nicht so wichtig oder knifflig ist. </p><br><p>  Ich verwende die Begriffe absichtlich in einer nicht √ºbersetzten Form, da die aktuellsten und vollst√§ndigsten Informationsquellen immer auf Englisch sind. Wenn jemand sitzt und auf eine √úbersetzung wartet, f√§llt er automatisch in diejenigen, die hinterherhinken und von ihm abh√§ngig sind.  Meiner Meinung nach ist es richtig, sich sofort an die in der Branche verwendeten Begriffe zu erinnern.  Und nat√ºrlich Google. </p><br><p>  <em>Das Material wurde unter Beteiligung der Maya3D Telegram Community erstellt.</em> </p><br><h2>  √úber die Grundlagen </h2><br><p>  Lassen Sie uns zun√§chst etwas tiefer in die Geschichte einsteigen.  Die Erfahrung zeigt, dass es besser ist, die Bedeutung von Begriffen und Grundkonzepten sofort zu erkl√§ren. Wenn Sie sie jedoch bereits kennen, k√∂nnen Sie diesen Abschnitt sicher √ºberspringen. </p><br><blockquote>  Au√üerdem werden Sie feststellen, dass PBR Begriffe von √ºberall aus leiht und sie ein wenig √§ndert, und das ist in Ordnung. </blockquote><p>  PBR ist eine Abk√ºrzung f√ºr <em>physikalisch basiertes Rendern</em> , was ungef√§hr <em>physikalisch korrekte Visualisierung bedeutet</em> , und diese W√∂rter sprechen f√ºr sich.  Manchmal wird der Begriff PBS verwendet (hier werden √Ñnderungen am <em>Shader vorgenommen</em> ), an einigen Stellen gibt es sogar PBT (und hier wird eine <em>Texturierung</em> angezeigt).  Der Unterschied ist jedoch minimal - es ist eine Frage der Tradition, und der Begriff Z√ºchterrechte wird traditionell h√§ufiger verwendet. </p><br><p>  Die letzten Jahre waren der Mainstream moderner Rendering-Systeme, von Echtzeit und Spielen bis hin zu sogenannten Offline-Renderings.  Der Name impliziert eine gewisse Einhaltung der Gesetze der Physik, der Gesetze der realen Welt, und diese Klarstellung sagt uns sozusagen: Bevor es nicht so war.  Lassen Sie uns herausfinden, wie es war und wie es wurde und wie seitw√§rts alles zu uns kam. </p><br><p>  In dreidimensionalen Grafiken wurden von Beginn ihres Lebens an verschiedene Ans√§tze zur Anzeige auf dem Bildschirm implementiert, bis klar wurde, dass die Reproduktion der Mechanismen der Realit√§t sozusagen realistischere Ergebnisse liefert. </p><br><blockquote>  Ungef√§hr die gleiche Geschichte ereignete sich mit der Skelettanimation der Charaktere, die den Scheitelpunkt "vergrub". </blockquote><p>  Wenn wir die Realit√§t modellieren, verwenden wir ihre Gesetze und Architektur, automatisieren Konstanten und verlagern einen Teil der Arbeit auf Software.  Renderer bem√ºhen sich zunehmend darum, so zu funktionieren, wie unsere Realit√§t funktioniert, wobei jede Eisengeneration neue Ans√§tze einf√ºhrt, mit denen Sie F√§lschungen aufgeben k√∂nnen. </p><br><blockquote>  Offline-Renderings sind Renderings, die nicht in Echtzeit funktionieren, z. B. Vray oder Arnold. </blockquote><p>  Aus irgendeinem Grund schr√§nkt es wahrscheinlich den Flug der Fantasie ein und schneidet die Triebe der Stilisierung ab, aber das ist <em>wahrscheinlich</em> was. </p><br><p>  Auf der anderen Seite bewegen sich Tricks und F√§lschungen auf ein neues Level, was ebenfalls ein Fortschritt ist. </p><br><p>  In der realen Welt, die uns umgibt, ist das elektromagnetische Feld die Grundlage f√ºr Wechselwirkungen auf einer Skala, die h√∂her als atomar und niedriger als planetarisch ist.  Alles, was wir sehen und ber√ºhren k√∂nnen, ist uns dank ihm zug√§nglich.  Der Mensch ist ein unvollkommenes Wesen, wir k√∂nnen den gr√∂√üten Teil des elektromagnetischen Spektrums nicht sehen, aber damit gibt es viele Feinheiten, die wir aufgrund des Verstehens verwenden.  Alles, was wir um uns herum sehen, ist Licht und seine Launen.  Netter Einstieg und vor allem offensichtlich, oder? </p><br><blockquote>  Die √ºberwiegende Mehrheit der Menschen sind Trichromaten, aber es gibt einen kleinen Prozentsatz von Tetrachromat-Mutanten, die mehr Schattierungen unterscheiden und die Welt vielf√§ltiger sehen.  Und √∂fter sind das Frauen. </blockquote><p>  In der Z√ºchterrechte ist Licht weniger konventionell als zuvor.  BxDF beschreibt nicht nur, wie es die Oberfl√§che erreicht, sondern auch, wie es angesichts der Materialeigenschaften von dieser reflektiert wird.  Auf diese Weise k√∂nnen Sie die Szene genauer beschreiben und das Ergebnis so realit√§tsnah wie m√∂glich wiedergeben. <br>  Eine der wichtigsten √Ñnderungen, die PBR mit sich gebracht hat, ist die Vielseitigkeit der Materialien in jeder Beleuchtung.  Richtig konfigurierte Materialien sehen in jeder Szene immer korrekt aus. </p><br><p>  In der vorherigen Generation von Renderings wurden die Mikrooberfl√§che und die Art der Fackel, die Arten der Materialien Leiter / Isolator nicht ber√ºcksichtigt;  diffuse Reflexion trug Halbschatten und sogar gemalte Blendung;  es gab keine Reflexionswerte aus der realen Welt;  Die Materialien waren f√ºr keine Szene und Beleuchtung universell. </p><br><h2>  √úber die Substanz </h2><br><p>  Es gibt zwei Arten: </p><br><ul><li>  Leiter oder Metalle - <em>Leiter</em> ; </li><li>  Isolatoren oder Dielektrika, dh Nichtmetalle - <em>Isolatoren</em> . </li></ul><br><p>  Die Klassifizierung stammt aus der realen Welt (mit Vereinfachungen) und versucht, dem Namen zu folgen. <br>  Die Leiter leiten elektrischen Strom, haben ein Kristallgitter und andere "Freuden" aus dem Schulkurs der Physik.  Sie haben keine diffuse Reflexion und Streuung unter der Oberfl√§che, ihre Oberfl√§che streut kein Licht, sie ist f√ºr sie undurchl√§ssig, absorbiert jedoch einen Teil davon und reflektiert Wellen bestimmter L√§nge - eine Farbblendung. </p><br><blockquote>  Der Strom ist jedoch f√ºr PBR nicht wichtig.  Die Haut leitet auch Strom, aber bei PBR ist es kein Metall, was bedeutet, dass es kein Leiter ist. </blockquote><p>  Isolatoren streuen Licht, es dringt in ihre Oberfl√§che ein;  Sie haben diffuse Reflexion und Streuung unter der Oberfl√§che und blenden mit wei√üem Licht. <br>  Beide Arten von Materialien haben einen Fresnel-Effekt. </p><br><h2>  √úber die Pipelines </h2><br><p>  Traditionell haben wir zwei Pipelines f√ºr Materialien und deren Herstellung: <em>Spiegel</em> und <em>Metallizit√§t</em> .  Normalerweise versteht es sich, dass im Spiegel eine entsprechende Spiegelbildkarte vorhanden ist, w√§hrend dies bei der <em>Metallizit√§t</em> nicht der <em>Fall</em> ist, aber es gibt eine Metallizit√§tsmaske, und dies kann durchgef√ºhrt werden. </p><br><p>  Nat√ºrlich ist hier nicht alles so einfach. </p><br><p>  Die <em>Spiegelpipeline</em> verf√ºgt tats√§chlich √ºber eine <em>Spiegelkarte</em> , die die Intensit√§t und Farbe des Glanzes auf <em>F0</em> steuert, dessen Werte vollst√§ndig in den H√§nden des K√ºnstlers liegen, und die keine integrierten Konstanten im Shader enth√§lt.  Fresnel wird manchmal separat gesteuert, <em>Albedo</em> steuert nur die Farbe, <em>Glanz / Rauheit</em> steuert die Art der Reflexionen, hier ist alles einfach. </p><br><p>  <em>Die Metallizit√§t</em> hat keine separate <em>Glanzintensit√§tskarte</em> , diese Werte werden innerhalb von 2-5% f√ºr Dielektrika und 70-100% f√ºr Leiter in Shader eingen√§ht.  Die Beziehung der Karten ist hier etwas h√∂her: <em>Albedo</em> , <em>Metallizit√§t</em> und <em>Rauheit der</em> Karten beeinflussen die Farbe, Intensit√§t und Art der Spiegelreflexion insgesamt.  In dieser Pipeline befindet sich eine Karte weniger. Unter Ber√ºcksichtigung der M√∂glichkeit, Graustufenkarten in einem RGB zu verpacken, belegen solche Materialien weniger Systemspeicher. </p><br><p>  Die Wahl moderner Renderings fiel <em>aufgrund</em> ihrer Effizienz und gr√∂√üeren Automatisierung fast vollst√§ndig auf die <em>Metallizit√§t</em> , da solche Shader f√ºr die korrekten Fresnel-Berechnungen sorgen.  Obwohl <em>Specular</em> mehr Kontrolle bietet, ist diese Kontrolle oft redundant und erfordert mehr Zeit und M√ºhe bei √§hnlichen Ergebnissen.  Daher werden wir speziell auf die <em>Metalness-</em> Pipeline im Allgemeinen <em>eingehen</em> . </p><br><p><img src="https://habrastorage.org/webt/4y/nx/vn/4ynxvnwcpw7607fqx4hb4zl0q1c.png"><br>  <em>Unterschiede Pipelines und Karten.</em>  <em>Wes McDermott und Allegorithmic.</em> </p><br><h2>  √úber BRDF und GGX </h2><br><p>  Die Grundlage f√ºr den Unterschied zwischen Z√ºchterrechten der vorherigen Generation bei der √Ñnderung von BxDF.  BxDF ist eine <em>bidirektionale X-Verteilungsfunktion</em> , die ungef√§hr wie eine Zweistrahl <em>-X-F√§higkeitsfunktion</em> klingt.  Und diese Funktionsfamilie hat mehrere F√§higkeiten: Zumindest <em>Reflexion</em> , <em>Transmission</em> und <em>Streuung</em> - Reflexion, Transmission bzw. Dispersion (in Fachliteratur und Artikeln trifft der K√ºnstler h√§ufiger auf die BRDF-Version). </p><br><p>  Diese Funktionen beschreiben das Verhalten des Strahls bei der Wechselwirkung mit der Oberfl√§che: Wie er streut (dh in die obere Schicht eindringt und zur√ºckkehrt), gespiegelt wird oder durch ein transparentes Material l√§uft. </p><br><p>  In unserer Geschichte ist BxDF eng mit der Mikrofacettentheorie verwandt, die auch viele Implementierungen aufweist, die h√§ufig nach den Namen der Autoren benannt sind: Cook-Torrance, Ashikhmin-Shirley, GGX und so weiter.  GGX ist nur eine der Implementierungen der <em>Mikrofacettentheorie</em> - der Theorie der Mikrooberfl√§chen, die fast √ºberall verwendet wird.  Es wird ein vereinfachtes Modell der Mikrooberfl√§che vorgestellt, das in Verbindung mit BxDF die Reaktion auf Licht f√ºr alle Arten von Wechselwirkungen nachahmt. </p><br><blockquote>  Facette kann auch als ‚ÄûGesicht‚Äú √ºbersetzt werden, was ebenfalls Sinn macht.  In einer vereinfachten Theorie ist eine Oberfl√§che eine Ansammlung kleiner Gesichter. </blockquote><p>  GGX wird √ºberhaupt nicht entschl√ºsselt, der Satz von Buchstaben wird aus den in den Formeln verwendeten Variablen entnommen (oder der Nachname einer Person ist un√ºbersichtlich - die Geschichte verbirgt ihn).  K√ºnstler k√∂nnen diesen Begriff in den Einstellungen der <em>Rauheits- / Glanzparameter sehen</em> . </p><br><blockquote>  Zum Beispiel ist eines von G die bidirektionale Schattenmaskierungsfunktion, eine Selbststrahl- / Maskierungsfunktion mit zwei Strahlen. </blockquote><p><img src="https://habrastorage.org/webt/_f/fj/gc/_ffjgcfumvsq6sgwhssekpffawa.png"><br>  <em>Mikrooberfl√§che und ihre Wirkung auf die Spiegelreflexion.</em>  <em>Wes McDermott und Allegorithmic.</em> </p><br><h2>  Energieeinsparung </h2><br><p>  <em>Energieeinsparung</em> ist auch eine der Grundkonstanten von PBR und bedeutet, dass die Oberfl√§che nicht mehr Licht zur√ºckgeben kann, als sie empf√§ngt.  Insbesondere <em>Albedo</em> und <em>Spiegelreflexion</em> summieren sich, und wenn die <em>Spiegelung</em> heller ist, ist die <em>Albedo</em> weniger hell und umgekehrt.  Im Allgemeinen ist dies eine automatisierte Sache in Motoren. Manchmal ist es m√∂glich, sie ein- und auszuschalten, beispielsweise in der Marmoset Toolbag. </p><br><h2>  √úber Fresnel </h2><br><p>  Augustin-Jean Fresnel (Augustin-Jean Fresnel), ein franz√∂sischer Physiker des 19. Jahrhunderts, der Sch√∂pfer der Wellentheorie des Lichts und der Haufen anderer k√ºhler Dinge, beschrieb die Wirkung des Namens selbst, der darin besteht, dass die von einer Oberfl√§che reflektierte Lichtst√§rke direkt vom Blickwinkel auf diese Oberfl√§che abh√§ngt.  Im rechten Winkel, <em>dh F0</em> , erhalten wir das Mindestma√ü an spiegelnd reflektiertem Licht, das dem Material zur Verf√ºgung steht.  Und je gr√∂√üer der Winkel, desto mehr Licht fangen wir ein und n√§hern uns 100%. </p><br><p>  Nach diesem Effekt hat jedes Material eine Blendung, im Prinzip leuchtet alles, man muss nur den richtigen Winkel finden. </p><br><p>  Wenn wir √ºber die Intensit√§t des Glanzes im Allgemeinen sprechen, meinen wir immer den Glanz auf <em>F0</em> - dies wird vom K√ºnstler √ºber die Parameter <em>Albedo / Rauheit / Metallizit√§t gesteuert</em> . <br><img src="https://habrastorage.org/webt/qb/mc/3d/qbmc3dtizu2o3dtyaeadoaknoh8.png"><br>  <em>Schema des Fresnel-Effekts.</em>  <em>Wes McDermott und Allegorithmic.</em> </p><br><h2>  √úber diffuse Reflexion </h2><br><h3>  Albedo.  Diffus  Grundfarbe. </h3><br><p><img src="https://habrastorage.org/webt/o_/1b/qd/o_1bqdvlsufu0sjpawl6jvswr_s.png"><br>  <em>Wechselwirkungsschema bei diffuser Reflexion.</em>  <em>Wes McDermott und Allegorithmic.</em> </p><br><p>  Dies ist Licht, das auf die Oberfl√§che f√§llt und von dieser teilweise absorbiert und teilweise reflektiert wird, zuf√§llig in den oberen Schichten gestreut wird und dem Betrachter die Farbe derselben Oberfl√§che zur√ºckgibt.  Manchmal sagen sie in diesem Fall, dass es in der Farbe der Oberfl√§che gemalt ist, aber wir sprechen von physikalischer Korrektheit, daher lohnt es sich zu wiederholen - das Licht malt nicht, der Teil des Spektrums, der nicht absorbiert wurde und nicht verloren gegangen ist, kehrt zu uns zur√ºck.  Der Teil des sichtbaren Lichts, der in der realen Welt von der Oberfl√§che absorbiert wird, geht in W√§rmeenergie √ºber, und in PBR kann dies ebenfalls ber√ºcksichtigt werden, h√§ngt jedoch sehr stark vom verwendeten Shader ab und ist in diesem Fall zweitrangig. </p><br><p><img src="https://habrastorage.org/webt/8m/az/h6/8mazh6-uv3x5_ygatmtgar0tyta.png"><br>  <em>Absorption von Licht und R√ºckkehr nur nicht absorbierter Wellen zum Beobachter.</em>  <em>Wes McDermott und Allegorithmic.</em> </p><br><p>  Das Verhalten des Materials w√§hrend der diffusen Reflexion wird durch die <em>Albedokarte</em> oder die <em>Grundfarbe bestimmt</em> oder ist <em>an</em> einigen Stellen sogar <em>diffus</em> .  Der Unterschied in diesen Namen ergibt sich aus der Tradition und den verschiedenen Motorenentwicklungs-Pipelines, aber das Verhalten ist √ºberall gleich - auf jeden Fall sollte es so sein.  Die Farbe sollte auf der Albedokarte erfasst werden, wie sie im rechten Winkel zur Oberfl√§che der Kamera und bei 100% wei√üer Beleuchtung aussehen w√ºrde.  Ohne Schatten, Halbschatten, Blendung und alles, was nicht in die Definition von "reiner Farbe" eingepre√üt wird.  Dies ist der Hauptunterschied zwischen der aktuellen diffusen Reflexion in PBR und der vorherigen Generation von Renderern, bei denen der Begriff <em>diffus</em> ebenfalls verwendet wird, jedoch auf etwas andere Weise. </p><br><blockquote>  Ein Foto eines Objekts mit einem Polarisationsfilter unter direkter Beleuchtung erfasst beispielsweise seine <em>Albedo</em> .  Durch die Polarisation wird Blendung entfernt. </blockquote><p>  Es scheint, dass es nichts mehr √ºber Farbe zu sagen gibt, aber es gibt immer noch Feinheiten. </p><br><p>  Die diffuse Reflexionskarte beeinflusst das Rendern von reinen Metallen in der Metallit√§tspipeline und f√§rbt das Highlight in der entsprechenden Farbe.  Dar√ºber hinaus wirkt sich die <em>Albedokarte</em> direkt auf das <em>Spiegelreflexionsverm√∂gen</em> von Metallen aus, sodass Sie es in Kombination mit einer <em>Metallit√§tskarte</em> variieren k√∂nnen.  Dies ist ein ziemlich kniffliges Design, aber im Allgemeinen sieht es so aus: Wenn wir das Material des Isolators herstellen, zeichnen wir eine schwarze <em>Metallmaske</em> und der Shader weist <em>F0</em> einen Glanz von 4% zu.  Wenn wir √úberg√§nge in der <em>Metallit√§t</em> bis zu Wei√ü, <em>dh</em> reinem Metall, <em>vornehmen</em> , beeinflusst die Helligkeit in der <em>Albedokarte</em> die Intensit√§t ihrer Helligkeit.  Je heller die Farbe in der <em>Albedo ist</em> , desto intensiver ist die Brillanz, die sich einem Wert von 100% n√§hert.  Wir haben keine Kontrolle √ºber den Glanzgrad des Isolators.  Es wird angenommen, dass der Unterschied von 2 bis 4% unkritisch ist und durch <em>Rauheit</em> maskiert oder durch <em>Spiegelreflexion</em> fein eingestellt wird, falls erforderlich und m√∂glich. </p><br><blockquote>  Dieses Beispiel wird unter Ber√ºcksichtigung der Produkte UE4 Shader, Marmoset Toolbag und Substance beschrieben.  Aber insgesamt funktioniert es √ºberall. </blockquote><p>  Die k√ºnstlerische Wirkung der Oberfl√§chenfarbe ist nicht zu untersch√§tzen.  Oft entzieht sich dies der Aufmerksamkeit von K√ºnstlern und sie machen schwarzen Kunststoff schwarz, um ihn ‚Äûwie im Leben‚Äú zu machen.  In der Realit√§t gibt es jedoch normalerweise keine monolithischen Farben, und Farbvariationen sind fast immer im Material vorhanden. Dies muss verstanden und verwendet werden. </p><br><p>  Diffuse Reflexion wird durch eine RGB-Karte oder in Bezug auf Engines durch ein Array von Vector3 beschrieben, was logisch ist, wir sprechen von Farbe. </p><br><h3>  PBR-Validierung </h3><br><p>  Da PBR nach realen Parametern und Eigenschaften strebt, sollten die Werte f√ºr die <em>Albedohelligkeit</em> validiert und auf Bereiche realer Werte reduziert werden. Sie k√∂nnen jedoch nicht unter 30-50 sRGB fallen und f√ºr Dielektrika √ºber 240 steigen.  Bei reinen Metallen kann der Wert von 240 auf 255 ansteigen, da dies nicht der Wert der diffusen Reflexion ist, sondern der Wert des <em>Spiegelreflexionsverm√∂gens</em> . </p><br><p>  Aber hier gibt es nat√ºrlich Feinheiten. </p><br><p>  Zum Beispiel ist Kohle eine der dunkelsten Substanzen in der gew√∂hnlichen Welt.  Der Helligkeitswert der <em>Albedo</em> , √ºbersetzt in sRGB, betr√§gt 50, und dies liegt nahe der Grenze des Minimums, das sich PBR f√ºr Dielektrika leisten kann.  Die folgenden Werte sind zu dunkel und sehen unter verschiedenen Lichtbedingungen m√∂glicherweise nicht richtig aus. </p><br><blockquote>  Vor nicht allzu langer Zeit haben einige Menschen ein Material angespannt und geschaffen, das 99% des Lichts absorbiert und wie ein schwarzes Loch im Weltraum aussieht. </blockquote><p>  Warum ist das wichtig? </p><br><p>  Weil diffuse und spiegelnde Reflexionen paarweise wirken.  Zu dunkle <em>Albedowerte</em> beeinflussen den Unterschied zwischen <em>Albedo</em> selbst und <em>Spiegelreflexion</em> , und K√ºnstler m√ºssen das Licht ‚Äûverdrehen‚Äú, um die Blendung auf <em>F0</em> und die diffuse Reflexion zu normalisieren, was zu einer √úberbelichtung der gesamten Szene f√ºhrt, und die Materialien werden schlie√ülich nicht universell und gelten nur f√ºr eine bestimmte Beleuchtung. </p><br><p>  Warum k√∂nnte das keine Rolle spielen? </p><br><p>  Weil es auf die Zusammensetzung ankommt.  Wenn die Darstellung eines separaten Modells gerendert wird und keine globale Beleuchtung und Reflexionsreflexion in der Szene vorhanden ist, aber HDR-Beleuchtung vorhanden ist, k√∂nnen Sie im Allgemeinen Werte au√üerhalb von 30-50 sRGB festlegen.  Und es gibt auch ein halbmythisches Biest ‚ÄûArtistik‚Äú.  "Was mehr z√§hlt, ist nicht die k√∂rperliche Korrektheit", sagt er, "sondern die Wahrnehmung."  Und hier ist es m√∂glich und manchmal notwendig, die schwer zu etablierenden Gesetze zu verletzen. </p><br><blockquote>  Es ist ein sehr kontroverses Thema in Bezug auf die Zul√§ssigkeit von Verst√∂√üen gegen Z√ºchterrechtsgesetze und die √úbereinstimmung mit der Realit√§t.  Irgendwo spielt es in die H√§nde der Wahrnehmung, und irgendwo ist es notwendig, alle Standards beizubehalten.  Beispiele und Diskussionen gehen √ºber den Rahmen dieses Textes hinaus. </blockquote><p>  Im Allgemeinen bleibt die Einhaltung der <em>Albedohelligkeitsgrenze</em> im Gewissen des K√ºnstlers oder seines Kunstleiters, und ein gro√üer Teil der heute existierenden Arbeit in PBR besteht diese Validierung nicht an der unteren Grenze, was nicht verhindert, dass sie in einem unerfahrenen Aussehen qualitativ und korrekt sind.  Der Unterschied wird nur sichtbar, wenn Sie die Werte √ºberpr√ºfen und bis zur Untergrenze ziehen oder wenn ein separat ausgef√ºhrtes Modell in einer Szene mit der richtigen Beleuchtung platziert wird. </p><br><p>  Aber auch wenn wir uns nicht um die Validierung k√ºmmern, verwenden Sie f√ºr Dielektrika keine reine schwarze Farbe bei 0 sRGB. </p><br><p>  Die PBR-Validierung wird von verschiedenen Tools sowohl in Engines als auch in Editoren bereitgestellt.  In Substance Painter gibt es beispielsweise einen Filter, der √ºber dem gesamten Ebenenstapel arbeitet und die Werte √ºberpr√ºft. </p><br><p><img src="https://habrastorage.org/webt/vt/7l/sk/vt7lsk-qarr0_h1xcytgync8-yk.png"><br>  <em>PBR-Validierung in Substance Painter.</em>  <em>Wes McDermott und Allegorithmic.</em> </p><br><p><img src="https://habrastorage.org/webt/8_/c_/fc/8_c_fcnsy5-zl9aw4tedt-d0pgg.png"><br>  <em>Diagrammintensit√§tswerte f√ºr einige Materialien.</em>  <em>Daten stammen von S√©bastien Lagarde und DONTDNOD.</em> </p><br><h2>  √úber Spiegelreflexion </h2><br><h3>  Spiegelreflexion </h3><br><blockquote>  Specular ist ein lateinisches Wort, das als "Spiegel" √ºbersetzt wird. </blockquote><p><img src="https://habrastorage.org/webt/ts/ot/d6/tsotd6j2ix5xr3jp4btcb_v2b6c.png"><br>  <em>Schema der Wechselwirkung von Licht in der Spiegelreflexion.</em>  <em>Wes McDermott und Allegorithmic.</em> </p><br><p>  Dies bezieht sich auf den Teil des Lichtflusses, der gem√§√ü dem Gesetz des Einfallswinkels von der Oberfl√§che reflektiert wird und vollst√§ndig zum Betrachter zur√ºckkehrt.  <em>Spiegelreflexion</em> oder Spiegelreflexion ist Blendung und h√§ngt sehr eng mit den Eigenschaften der Mikrooberfl√§che zusammen.  Es kommt in beiden Pipelines vor, wird jedoch direkt in der <em>Spiegelpipeline</em> und indirekt in der <em>Metallizit√§t gesteuert</em> . </p><br><p>  Tatsache ist, dass die direkte Kontrolle der Helligkeit eine sehr abscheuliche Sache ist.  Wir erinnern uns an Leiter und Isolatoren, aber nur wenige K√ºnstler ohne Tisch vor ihren Augen werden sich an die genauen Intensit√§tswerte erinnern, und es gibt auch Ausnahmen in Form von Edelsteinen.  Wenn Sie Zugriff auf diese Shader-Einstellung haben, ist es sehr einfach, sich von physikalisch korrekten Werten irgendwo in der Astralebene zu entfernen, den gesamten Sichtbereich zu durchbrechen und sogar Materialien auf unseren Schultern vorzubereiten, und der Speicher der Grafikkarte ist eine weitere Karte. </p><br><p>  Dar√ºber hinaus passen Messungen von realen Werten in ein kleines Framework, das automatisiert werden kann, wie sie es bei der <em>Metallizit√§t getan haben</em> , nachdem sie die direkte Steuerung ausgew√§hlt haben und auch dar√ºber nachdenken m√ºssen. </p><br><p>  In einer <em>Spiegelpipeline</em> wird der <em>Spiegelparameter</em> durch eine Graustufenkarte mit den Werten 0 bis 255, einer linearen Farbe oder einem Skalarparameter gesteuert. </p><br><blockquote>  Der Skalarparameter ist hier der Wert, der f√ºr den zweidimensionalen Raum festgelegt wird, der auf das Modell projiziert wird.  Mit anderen Worten, wenn Sie den Schieberegler in Marmoset f√ºr spiegelnd bewegen, ist dies der skalare Parameter. </blockquote><p>  In einer <em>Metallit√§tspipeline</em> gibt es normalerweise keine direkte Steuerung der Helligkeitsintensit√§t durch den Spiegelparameter.          F0: 4-5%    80-100%   ,     .            ,         <em>roughness</em>  <em>albedo</em> . </p><br><h3> Cavity </h3><br><p>  <em>specular reflectance</em>     ,    ,      ,     ,     ,   .      ,       ,     .      <em>cavity</em> ;     ,     .  UE4, ,   specular  ,       ,   ,      <em>specular</em> ,   ,     <em>cavity</em>      0-4%.      Substance-   .         ,           .    . </p><br><p><img src="https://habrastorage.org/webt/if/aa/3l/ifaa3lo0zh7jbqeg9xh9kbjefyq.jpeg"></p><br><p><img src="https://habrastorage.org/webt/dc/yd/8n/dcyd8nfosw2l6ublorhoy1qptve.jpeg"><br> <em>  cavity  specular reflectance.              .        cavity         ,      .   Marmoset Toolbag 3</em> </p><br><h2>   </h2><br><h3> Metalness </h3><br><p>   PBR   ,      -    .         ,      ‚Äî       -  .    2-5%  ,  ‚Äî 70-100%,        . </p><br><p>  ,     ,             , ,       ,       -  <em>metalness</em> .      ,       .                 ,     UE4      Unity.    ( ¬´  ¬ª) ‚Äî       :   <em>texel density</em>      . </p><br><blockquote>   /    specular-,       ,   . </blockquote><p><img src="https://habrastorage.org/webt/yy/u5/_3/yyu5_3xbui07l_eya7jpeweb1tq.png"><br> <em>  /. Wes McDermott  Allegorithmic.</em> </p><br><p>   PBR,      .       ,    ,    -   ,  ,       .    <em>specular</em> -       RGB-   <em>specular</em> ,     ,   <em>metalness</em>      <em>albedo</em> . ,   <em>metalness</em> ,    ,     ,  ,  . . </p><br><p> ,     ‚Äî  ,    .     ,       ,   . </p><br><p>  ,       .           <em>albedo</em>  , ,  Substance Painter,   ,  .    ,   : <em>albedo</em>          . </p><br><p>   -  0-255          . </p><br><h2>   </h2><br><h3> Roughness. Glossiness. Smoothness. </h3><br><p>         ,     ,  ,     .   ,    ,     ,     .  PBR     <em>microfacet theory</em>    BRDF,            ,     <em>roughness</em> ,  <em>gloss</em> ,   <em>smoothness</em> -. </p><br><blockquote>   ‚Äî     roughness    .       . </blockquote><p>       ,   roughness   ‚Äî   ,            ,   ‚Äî ,       ,    ,   .   <em>gloss</em>   . </p><br><p>  specular    (    <em>metalness</em> ),      .          ,     ,           ,   ,      . <br> <em>Roughness</em>      ,     ,      ,      ‚Äî    , ,  . </p><br><p>   grayscale-  0-255,    . </p><br><p><img src="https://habrastorage.org/webt/mn/fw/0p/mnfw0pktzv7wrjsq340sbxzmb1o.png"><br> <em>Roughness-   . Wes McDermott  Allegorithmic.</em> </p><br><h2>   </h2><br><h3> Normal bump </h3><br><p>  ,    ,       .  ‚Äî  ,   ,        . </p><br><blockquote>       ,   . </blockquote><p>       : <em>vertex normal</em>  <em>face normal</em> , ,     .       ,     <em>hard edges</em> . </p><br><blockquote> , Zbrush      ,        .      ,     . <br><br>  <em>hard/soft edges</em>    ,    ,  <em>hard edges</em>       -   .      UV,    .  PBR   ,       -. </blockquote><p>         .  <em></em>      .        ¬´¬ª,      ‚Äî   ,      3+n .     <em>face</em>    . <em>Face normal</em>    ‚Äî  . </p><br><blockquote>   ,    3+n     . </blockquote><p>     ,   ,     .      ,     ¬´¬ª         .        ,     ,       .  ,      ,   ( <em>tangent space</em> ,  )   ( <em>object space</em> ,  ) ,       ,  . </p><br><p>    ( <em>bump</em> )  ,     ,        .        ,    ‚Äî <em>normal bump</em>     bump.      ‚Äî  .        ,   <em>bump</em> ,  , .           ,  ,     Mikk,       (  Y,     ). <br> <em>Normal bump</em>    PBR-,   ,        ‚Äî ,   .   ,        .             ,      .    ,    ¬´ ¬ª;  ,   ,               .      Rockstar   RAGE ‚Äî  GTAIV/V, RDR1/2,   Star Citizen   CryEngine/Lambeyard.   ,   , ,     ,              . </p><br><p> PBR     . </p><br><h2>    </h2><br><h3> Subsurface scattering, SSS. </h3><br><p>  ,    ,           : ,    .       ,    ,       ,    . </p><br><p>    , SSS,  ,    :   (      )       RGB-.      . </p><br><p><img src="https://habrastorage.org/webt/jc/ai/8f/jcai8frgs4rpzcqduwvnwedw988.png"><br> <em>  SSS.    .</em> </p><br><h2>   </h2><br><h3> Translucency </h3><br><p>  ,      SSS,        . <em>Translucency</em> ‚Äî   ,       . <em>Translucency</em>  -    . </p><br><p><img src="https://habrastorage.org/webt/8q/-d/ww/8q-dww9kndq-jhkolumjyqgjk5q.png"><br> <em>        :  ,    .    .</em> </p><br><h2>    </h2><br><h3> Ambient occlusion </h3><br><p>    <em>ambient occlusion</em> ‚Äî    ,        .       <em>  </em> ,      . AO ‚Äî             ,     .    <em>cavity</em>  PBR-,      .     PBR-    ,     .     AO,               .  ,  SSAO ( <em>screen space ambient occlusion</em> ), HBAO ( <em>horizon based ambient occlusion</em> )    ,     .    ,       ‚Äî    <em>deferred rendering</em> . </p><br><p>    , -   PBR     ,           ,  <em>roughness</em> ,       . </p><br><p><img src="https://habrastorage.org/webt/ad/lv/gw/adlvgwyydcpwgxm_8_uv9vcfsty.png"><br> <em>  ,     ,   . : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://www.gamingscan.com/what-is-ambient-occlusion/</a></em> </p><br><p> ,   RTX        GI      ,       . </p><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Was zu lesen </font></font></h2><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Da es sich bei diesem Artikel nicht um eine ausf√ºhrliche Anleitung oder ein Handbuch handelt, sondern um ein Memo f√ºr eine detaillierte Untersuchung des Themas, k√∂nnen Sie sich unter den folgenden Links mit den Materialien vertraut machen. </font></font></p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GGX-Pr√§sentation, eine Menge Theorie und Mathematik</a> </p><br><p>  Allegorithmic PBR Guides: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://academy.substance3d.com/courses/the-pbr-guide-part-1</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://academy.substance3d.com/courses/the-pbr-guide-part-2</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Theorie von Marmoset</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Theorie aus der Filament Engine</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Beschreibung und Implementierung von PBR in 3dCoat</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">UE4-Dokumentation</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pr√§sentation von Sebastien Lagarde</a> </p><br><p>  Wenn nicht klar ist, wer Sebastian Lagarde ist, finden Sie hier <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">eine ausf√ºhrliche Pr√§sentation zu Frostbite</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Unity-Dokumentation</a> </p><br><p>  <em>Intro behoben, danke f√ºr den Tipp an <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">zhovner</a> .</em> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de465457/">https://habr.com/ru/post/de465457/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de465441/index.html">LuaVela: Lua 5.1-Implementierung basierend auf LuaJIT 2.0</a></li>
<li><a href="../de465445/index.html">Hinweise des IoT-Anbieters. Impulsausgangsfluch</a></li>
<li><a href="../de465449/index.html">Wie die Probleme von Mail.ru und dem FSB durch den Ruf von Pavel Durov und das Vertrauen in Telegram geschmiedet wurden</a></li>
<li><a href="../de465453/index.html">3. September - CTO-Tag in St. Petersburg</a></li>
<li><a href="../de465455/index.html">Arbeiten Sie mit Vorf√§llen, verbessern Sie die Reaktion auf Vorf√§lle und den Wert der technischen Schulden. Backend United 4 Mitap-Materialien: Okroshka</a></li>
<li><a href="../de465459/index.html">Eine kurze Geschichte der Videokonferenzen: Von Anfang an bis zur vollst√§ndigen kommerziellen Nutzung</a></li>
<li><a href="../de465461/index.html">Statische Eingabe in einer React-Anwendung</a></li>
<li><a href="../de465463/index.html">Gut ist niemals billig. Aber es ist kostenlos</a></li>
<li><a href="../de465467/index.html">Die ganze Wahrheit √ºber RTOS. Artikel 32. Nucleus SE-Migration: Nicht realisierte Funktionen und Kompatibilit√§t</a></li>
<li><a href="../de465471/index.html">Haben Sie versucht, Ihre Site als Netzwerkpublikation in Roskomnadzor zu registrieren?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>