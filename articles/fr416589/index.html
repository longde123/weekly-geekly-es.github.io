<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏻‍⚕️ 👩🏾‍🏫 👨🏻‍⚖️ Cellules mortes: utilisation du pipeline 3D pour l'animation 2D 👥 ⛏️ 🦃</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nous pouvons dire que la devise de presque tous les développeurs indépendants est "De grands rêves avec des ressources limitées". Quand j'ai commencé ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cellules mortes: utilisation du pipeline 3D pour l'animation 2D</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/416589/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/478/bfe/c85/478bfec859708322f146c67fba27ccef.gif" alt="image"></div><br>  Nous pouvons dire que la devise de presque tous les développeurs indépendants est "De grands rêves avec des ressources limitées".  Quand j'ai commencé à travailler sur le premier jeu Motion Twin pour Steam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><em>Dead Cells</em></a> , cette phrase est devenue ma devise. <br><br>  Je m'appelle Tom Wasser, pendant toute l'année j'ai été le seul artiste <em>Dead Cells</em> .  J'ai conçu et animé tous les aspects du jeu.  Seul, j'ai dû créer un style graphique, des personnages, des monstres, des animations, des effets spéciaux (FX) et la plupart des décors <em>Dead Cells</em> ... Jusqu'à présent, heureusement, mon frère jumeau maléfique <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Genel Masset</a> ne <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">m'a</a> pas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">aidé</a> .  Le nombre d'artistes <em>Dead Cells</em> a doublé. <br><br>  Cependant, une pénurie de travailleurs dans notre secteur est une situation fréquente, donc je vais vous dire comment j'ai réussi à ne pas perdre la tête en travaillant seul pendant tout ce temps (bien sûr, si je ne suis pas encore mort et ce n'est pas une illusion). <br><a name="habracut"></a><br><h1>  Pipeline 3D pour créer rapidement des animations de haute qualité et de nouveaux modèles </h1><br>  J'ai commencé par dessiner une feuille de modèles très simple dans le style du pixel art bidimensionnel, que j'ai ensuite utilisée comme base pour créer un personnage et son squelette en 3D (en utilisant 3DS Max), puis je l'ai importé au format filmbox.  Les modèles 3D étaient très simples et ils feraient très probablement saigner les yeux de tout artiste 3D expérimenté. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fe3/00f/89f/fe300f89f31299732f6422fabe468053.gif"></div><br>  Mais si dans le jeu la croissance du personnage n'est que de 50 pixels, alors dépenser beaucoup de temps et d'énergie sur un modèle 3D ne semble pas particulièrement efficace. <br><br>  Surtout pour cette tâche, nous avons développé un petit programme fait maison qui rend le maillage dans une très petite taille et sans lissage, grâce auquel nous avons obtenu un style de pixel. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9fe/a30/540/9fea3054095af7860576a5d9349a8361.gif"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ec7/f44/d47/ec7f44d47951766314ff079a17e5b635.jpg"></div><br>  Maintenant, nous devons apprendre au modèle à bouger.  <em>Les</em> animations <em>Dead Cells</em> , comme les animations 2D, sont basées sur des images clés.  Une fois l'animation convaincante avec le moins d'images possible, j'ajoute des images interpolées entre les images clés.  Autrement dit, nos animations d'attaque sont essentiellement des animations de pose, et nous utilisons VFX pour leur donner une sensation de mouvement, de force et de puissance. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2d6/ead/f3a/2d6eadf3ab864ef10429b26b6821671a.gif"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/497/658/48b/49765848b51181c9e08017c683debba9.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/38f/ffb/537/38fffb537c9a47abe944342f4f5e2c5b.jpg"></div><br>  À ce stade, la plupart des travaux ont déjà été effectués.  Nous exportons chaque image de l'animation créée à l'aide du squelette 3D en .png avec sa carte normale, ce qui nous permet de rendre le volume à l'aide du shader toon le plus simple. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7d1/9b8/4ca/7d19b84ca7c2bc6ab8cf86285c654020.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/108/3b3/28b/1083b328bdc87c509ed1392b7e5347c7.gif"></div><br>  L'exportation de l'animation entière sous forme de séquence d'images nous permet d'utiliser un ou deux modes de fusion qui améliorent l'efficacité de l'animation. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yp/ae/km/ypaekmppmcnl9a_8ilch2o63gaq.gif"></div><br>  Bien sûr, les programmeurs de gameplay n'arrivent jamais à faire quoi que ce soit de bien la première fois ... Ils changent constamment d'approches.  En fait, il devrait en être ainsi.  Dans mon cas, le processus de conversion a été assez simple et a pris un peu de temps.  Si vous rencontrez des problèmes de synchronisation, vous pouvez les éliminer en déplaçant les images clés le long de la chronologie.  Vous pouvez également facilement changer la pose. <br><br>  Disons que cette arme s'est avérée trop puissante, et nous voulons ralentir l'animation d'attaque afin de l'affaiblir un peu. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/478/bfe/c85/478bfec859708322f146c67fba27ccef.gif"></div><br>  Pour faire plaisir au programmeur (et à moi-même, car je n'ai pas à jeter tout le travail effectué), il suffit de déplacer les images clés et de changer la pose en fonction des nouveaux horaires. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5fd/490/a78/5fd490a78dc9447f3fd9d7aa2a85a8cd.gif"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/48c/ce5/a25/48cce5a25eb11d06e4fcb79854df68eb.gif"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f13/d34/649/f13d3464950f3dcc3867fd479ec23aea.gif"></div><br>  En fait, toutes ces modifications ont généralement pris moins de temps que la création de GIF pour l'article, mais je ne suis peut-être pas très bon pour travailler avec des GIF. <br><br>  Ce flux de travail 3D offre également deux avantages majeurs par rapport au processus 2D plus traditionnel.  Premièrement, si nous voulons ajouter de nouveaux éléments à l'ancien modèle, par exemple une armure, cela s'avère très simple à faire.  Il suffit juste d'attacher la pièce correspondante au modèle 3D. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f25/514/512/f25514512746f48c5e1c4fd691099552.gif"></div><br><br>  Mais le véritable avantage de la modélisation 3D est la possibilité de réutiliser les anciennes ressources créées pour les sprites précédents pour travailler avec de nouveaux personnages (dans notre cas, ce sont principalement des monstres). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/292/a95/fe6/292a95fe620931d2937462b2239af0f8.gif"></div><br>  C'est probablement la petite astuce la plus utile de notre workflow, qui m'a permis d'économiser des centaines d'heures de travail. <br><br><h1>  Pourquoi est-ce nécessaire? </h1><br>  Nous aimons tous l'animation de pixels dessinés à la main.  Mais je travaillais complètement seul, je n'avais pas de compétences en dessin manuel et, grâce aux astuces du jeu, je n'ai pas eu à attendre la prochaine décennie. <br><br>  Je suis entré dans l'industrie du jeu vidéo en 2008, j'ai travaillé pendant plusieurs années sur des jeux casual et F2P qui n'ont jamais été publiés dans une entreprise française qui n'est plus là.  J'ai commencé à dessiner du pixel art seulement en 2013 lorsque j'ai été embauché chez Motion Twin, où j'ai travaillé sur cinq jeux: <em>Brutal Teenage Crisis</em> , <em>Green Witch</em> , <em>FAFI 360</em> , <em>Uppercup Football</em> et <em>Monster Hotel</em> .  Je suis très surpris si vous connaissez au moins un de ces noms. <br><br>  Pour expliquer le contexte, je dirai que lorsque nous avons commencé à développer la première itération de Dead Cells en 2015, c'était mon premier projet de cette ampleur.  Je peux admettre sans honte que je n'étais pas (et ne suis toujours pas) un animateur expérimenté et à ce jour je me sens comme un débutant en pixel art.  Avec le recul, je peux dire que cela a très bien influencé le style résultant de <em>Dead Cells</em> , car je ne me suis jamais senti limité par les conventions et les traditions du style «pixel art à l'ancienne». <br><br>  Pour faire face au manque de ressources et atteindre le niveau de qualité requis, nous avons dû rechercher un processus / pipeline / quoi que ce soit pour obtenir un beau pixel art sans dessin manuel.  Nous avons essayé de créer un jeu de haute qualité sans consacrer une quantité déraisonnable de temps et d'énergie au processus de développement. <br><br>  D'un point de vue artistique, nous avions besoin des éléments suivants: <br><br><ul><li>  Beaucoup d'horizons divers avec un bel éclairage et une belle décoration. </li><li>  Des animations puissantes qui donnent à la bataille une sensation nerveuse similaire aux jeux beat'em-all. </li><li>  Des tas de monstres dégoûtants. </li><li>  Une abondance d'armes qui affectent le style de jeu. </li></ul><br>  Le processus 3D que j'ai décrit ci-dessus pour Dead Cells était en fait basé sur un autre projet.  En 2015, Mathieu Capdegel (l'un des développeurs de <em>Dead Cells</em> ), Joan Laulan (travaillant également sur <em>Dead Cells en</em> tant qu'ingénieur du son) et moi nous sommes associés pour participer à Ludum Dare 32. En conséquence, nous avons obtenu le jeu <em>ScarKrow</em> , plus précisément, réalisé en 72 heures prototype du jeu.  Il a été la première preuve que nous voulons créer un jeu de plateforme rapide et cruel.  Cependant, dessiner des animations de haute qualité dans Flash m'a pris trop de temps et les résultats n'ont pas répondu à nos attentes. <br><br>  Cependant, à cette époque, nous avions déjà vu un certain potentiel dans ce concept, et Motion Twin a toujours été une entreprise dans laquelle les expériences sont toujours prises en charge, même si rien ne vient d'eux.  Après Ludum, nous avons passé trois bonnes semaines à développer <em>ScarKrow,</em> et même alors, j'ai réalisé que je ne pouvais pas maintenir le bon rythme en travaillant en mode traditionnel. <br><br>  Inspiré par <em>King of Fighters</em> , <em>Blazblue</em> , et plus tard le dernier <em>Guilty Gear</em> , nous avons décidé de faire principalement de l'animation 3D.  Cette méthode nous a donné les avantages suivants: <br><br><ul><li>  Pas besoin de redessiner chaque image </li><li>  Possibilité d'utiliser une animation pour différents modèles </li><li>  Générez automatiquement des images interpolées pour une animation fluide </li><li>  Modifications rapides et faciles pour faire correspondre les animations avec le gameplay </li></ul><br>  Grâce à ce flux de travail, nous avons pu atteindre 30 FPS en animations et gagner une tonne de temps.  Si vous voulez voir comment cela fonctionne, alors le prototype peut être téléchargé gratuitement à <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partir d'ici</a> . <br><br>  Pour utiliser le même processus dans <em>Dead Cells,</em> nous avons dû résoudre quelques problèmes.  Tout d'abord, pour <em>ScarKrow,</em> j'ai dû dessiner des ombres dans tous les cadres manuellement.  Nous avons réussi à éviter un processus aussi coûteux en créant un système d'éclairage qui tient compte de ce facteur.  De plus, <em>Dead Cells</em> , contrairement à <em>ScarKrow</em> , était un jeu dans le style du pixel art, nous avons donc dû créer un outil pour la "pixellisation" des personnages.  Nous savions à l'avance que ce serait utile, car nous nous sommes permis d'expérimenter cela dans le passé.  C'est pourquoi je vous recommande d'expérimenter. <br><br><h1>  Résultat </h1><br>  Rétrospectivement, il s'est avéré que l'avantage le plus important de ce processus était la simplification du travail de reprise.  Le puissant et nerveux système de combat <em>Dead Cells</em> est le fondement de toutes les autres mécaniques.  Dans les projets précédents sur lesquels j'ai travaillé, nous avons créé une animation traditionnelle dessinée à la main que nous ne pouvions pas refaire une fois terminée.  Il n'y avait tout simplement plus de temps pour cela.  Et cela a grandement affecté le gameplay du jeu terminé.  La modification de la vitesse d'animation dans le code n'a pas résolu le problème. <br><br>  Lors de la création d'une nouvelle arme dans <em>Dead Cells,</em> nous pouvons littéralement changer des dizaines de minutages d'animation en quelques minutes seulement.  Et nous pouvons prendre en compte l'avis de la communauté des fans du jeu, quel que soit le temps nécessaire pour faire des changements. <br><br>  Bien sûr, le processus de travail avec des modèles 3D a ses propres inconvénients.  Nous devions chercher un moyen de rendre un modèle 3D en pixel art basse résolution.  Nous avons résolu ce problème en utilisant des techniques d'ombrage des cellules sans lissage lors du rendu des modèles en basse résolution, mais nous n'avons pas pu, par exemple, résoudre le problème du scintillement des pixels.  Oui, nous pouvons les éliminer manuellement, mais le but d'un tel processus est la rapidité ... et nous préférons passer du temps sur le concept design!  J'ai toujours été ennuyé et je serai ennuyé par la faible qualité des détails, mais nous avons décidé que l'animation est la plus importante et nous assumons l'entière responsabilité de notre choix.  Le mouvement est la chose principale. <br><br>  J'espère que cette courte description de notre processus d'animation <em>Dead Cells</em> vous aidera dans vos projets futurs.  Mais la leçon la plus importante, il me semble, n'est pas les détails de notre travail, mais qu'un processus de travail bien pensé peut apporter le succès au projet. <br><br>  Même si notre choix était principalement dicté par un manque de moyens, je me rends compte maintenant que penser à optimiser le rapport coûts / qualité est le processus le plus important au début d'un nouveau projet, quelle que soit son ampleur. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/ReZCldo7HdM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr416589/">https://habr.com/ru/post/fr416589/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr416579/index.html">Nous contrôlons les LED à l'aide de l'API Web Bluetooth et d'Arduino</a></li>
<li><a href="../fr416581/index.html">Modèles de troisième ordre ou comment j'ai porté Jinja2 en C ++</a></li>
<li><a href="../fr416583/index.html">Quel scanner 3D acheter? TOP 5 des meilleurs scanners 3D de 2018 de 3Dtool</a></li>
<li><a href="../fr416585/index.html">Extension Web multi-navigateur pour les scripts personnalisés Partie 3</a></li>
<li><a href="../fr416587/index.html">Quelques mots sur les subwoofers et pourquoi ils conviennent à presque tout le monde</a></li>
<li><a href="../fr416591/index.html">"Resserrer les noix": pourquoi tout le monde a commencé à parler de resserrement de la réglementation du secteur informatique</a></li>
<li><a href="../fr416593/index.html">Ma participation au développement d'Uncharted 4</a></li>
<li><a href="../fr416595/index.html">Dagaz: Horde</a></li>
<li><a href="../fr416597/index.html">IBM Watson Build - essayez-vous au concours des développeurs</a></li>
<li><a href="../fr416599/index.html">Qu'est-ce que l'eCPM et comment l'augmenter?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>