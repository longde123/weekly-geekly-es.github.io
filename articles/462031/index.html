<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚öΩÔ∏è ü§¶üèΩ üì∫ ¬°Como si leyeras los registros !: inicia Hotspot 2.0 en la red Wi-Fi en el metro üöì üö• üõÄüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Compartimos nuestra experiencia en la creaci√≥n de una red Wi-Fi cerrada en el metro utilizando la tecnolog√≠a Hotspot 2.0, las primeras estad√≠sticas y ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>¬°Como si leyeras los registros !: inicia Hotspot 2.0 en la red Wi-Fi en el metro</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/maximatelecom/blog/462031/">  Compartimos nuestra experiencia en la creaci√≥n de una red Wi-Fi cerrada en el metro utilizando la tecnolog√≠a Hotspot 2.0, las primeras estad√≠sticas y recomendaciones de seguridad.  Y tambi√©n invitamos a abrir pruebas de una nueva red. <br><br><img src="https://habrastorage.org/webt/eo/gq/fc/eogqfc7vibf0po_malf2ofbfwra.jpeg"><br><a name="habracut"></a><br>  Desde mediados de febrero en verde, y desde finales de abril <b>, se</b> lanz√≥ una nueva red Wi-Fi cerrada, <b>MT,</b> en todas las l√≠neas del metro de Mosc√∫.  La red funcion√≥ en modo de prueba.  Todo este tiempo realizamos pruebas internas de los empleados y tambi√©n observamos la estabilidad de los puntos de acceso y los controladores, el posible impacto en el servicio en el SSID abierto MT_FREE. <br><br>  El lanzamiento de esta red no pas√≥ desapercibido entre nuestros usuarios.  A trav√©s de varios canales, recibimos varias preguntas sobre c√≥mo obtener credenciales.  Pero muchos no abandonaron los intentos de conectarse a trav√©s de cuentas inventadas.  Durante el tiempo en que este SSID estuvo disponible, se registraron 14,488 solicitudes de autorizaci√≥n √∫nicas.  Adem√°s, algunos suscriptores incluso nos escribieron mensajes utilizando el formulario para ingresar el Nombre de usuario.  Uno de estos mensajes, la frase "¬°Como si leyeras los registros!", Fue especialmente agradable de leer.  Mutuo como! <br><br><img src="https://habrastorage.org/webt/vt/fm/fg/vtfmfgugcsmtd34wt35woq9igp4.png"><br><br>  Veamos brevemente los requisitos previos para iniciar una red cerrada, las posibilidades y limitaciones y el aspecto t√©cnico de la implementaci√≥n de Hotspot 2.0. <br><br><h3>  ¬øPor qu√© necesitamos una red MT cerrada? </h3><br>  Comenzamos una red cerrada utilizando credenciales que identifican de forma √∫nica un dispositivo o usuario que hemos sido discutidos en repetidas ocasiones.  Los controladores de lanzamiento son principalmente problemas de seguridad.  Es necesario excluir la posibilidad de conectarse a puntos de phishing con nuestro SSID y hacerlo de manera transparente para que el usuario no requiera acciones adicionales.  Aunque casi todo el tr√°fico sensible de Internet est√° encriptado usando TLS, los suscriptores consideran que las redes Wi-Fi sin encriptaci√≥n son menos confiables. <br><br>  Otra raz√≥n para iniciar una red con autorizaci√≥n de credenciales es la tendencia a aleatorizar las direcciones MAC de los dispositivos cuando est√°n conectados a redes Wi-Fi.  Esta tendencia es cada vez m√°s evidente en los dispositivos Android.  Adem√°s, si las direcciones MAC anteriormente variables eran un atributo de los tel√©fonos inteligentes de bajo costo (principalmente chinos) y fueron utilizadas por los fabricantes simplemente por la falta de grupos de direcciones MAC reservadas oficialmente, recientemente Google anunci√≥ oficialmente la introducci√≥n de dicha tecnolog√≠a en el sistema operativo Android para evitar el seguimiento de los suscriptores.  Esto crea obst√°culos para el uso completo de la conexi√≥n Wi-Fi p√∫blica en Rusia, ya que en cada entrada se requerir√° una reidentificaci√≥n del dispositivo (de conformidad con los decretos gubernamentales 758 y 801).  Por lo tanto, la direcci√≥n MAC gradualmente deja de ser un medio aceptable para identificar un dispositivo en la red. <br><br><h3>  Caracter√≠sticas del hotspot de un vistazo </h3><br>  En busca de una soluci√≥n a estos problemas, dirigimos nuestra atenci√≥n a la tecnolog√≠a Hotspot 2.0, que se est√° desarrollando incluyendo la Wi-Fi Alliance y la Wireless Broadband Alliance.  En la primera revisi√≥n, la tecnolog√≠a deber√≠a cerrar todas las necesidades emergentes: una conexi√≥n segura a un SSID confiable y una conexi√≥n encriptada.  A continuaci√≥n se muestra una comparaci√≥n del nuevo paradigma para la organizaci√≥n de redes Wi-Fi de operadores y el estado actual. <br><br><img src="https://habrastorage.org/webt/p1/en/fq/p1enfqhqxhc3npbb3rmdadeln04.jpeg"><br>  <i><font color="999999">Comparaci√≥n de enfoques para la organizaci√≥n de redes Wi-Fi: antes y despu√©s de la introducci√≥n de la tecnolog√≠a Hotspot 2.0.</font></i> <br><br>  La pila Hotspot 2.0 incluye tres tecnolog√≠as clave: <br><br><ul><li>  La capacidad de tomar una decisi√≥n sobre la conexi√≥n a la red y hacer la conexi√≥n por el dispositivo sin la acci√≥n del usuario (802.11u), independientemente del SSID; </li></ul><br><ul><li>  Uso seguro y privado de la red: cifrado del tr√°fico en la parte de la radio (802.11i, o en la terminolog√≠a de la Wi-Fi Alliance conocida por todos los WPA2); </li></ul><br><ul><li>  Un conjunto de m√©todos de autenticaci√≥n y autorizaci√≥n para credenciales y gesti√≥n de credenciales (EAP, aprovisionamiento). </li></ul><br>  La tecnolog√≠a es bastante joven, el primer lanzamiento tuvo lugar a finales de 2012, pero se est√° desarrollando de manera bastante activa.  A finales de febrero de este a√±o, se anunci√≥ el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tercer lanzamiento</a> .  Vale la pena se√±alar que el ecosistema de Hotspot 2.0 est√° desarrollando no solo la Alianza Wi-Fi. <br><br><img src="https://habrastorage.org/webt/uu/rf/5e/uurf5ef9qhjb5kvipiqn7g0gqpi.jpeg"><br><br>  Es poco probable que me equivoque si supongo que muchos lectores asocian la tecnolog√≠a Hotspot 2.0 con la descarga (descarga de tr√°fico) de una red Wi-Fi a una m√≥vil. <br><br>  De hecho, el mayor n√∫mero de implementaciones de Hotspot 2.0 se produjo entre los operadores m√≥viles, y AT&amp;T es pionero aqu√≠.  Hay una explicaci√≥n para esto: un requisito previo para el funcionamiento de las comunicaciones m√≥viles es la presencia en el dispositivo de una tarjeta SIM f√≠sica o virtual.  Junto con los perfiles de los operadores y la posibilidad de actualizarlos "por aire", esta condici√≥n proporciona un aprovisionamiento transparente para el cliente (en el contexto de Hotspot 2.0, la transferencia de credenciales, su validaci√≥n y aplicaci√≥n en el sistema operativo). <br><br>  Al mismo tiempo, la experiencia del cliente en la red Wi-Fi de un proveedor se vuelve comparable (y, bajo ciertas condiciones, mejor) que la experiencia en una red m√≥vil.  El caso tambi√©n es aplicable para operadores MVNO, pero todo depende del esquema de trabajo con el operador host.  Para otros operadores, como nosotros, el principal desaf√≠o es el problema del aprovisionamiento de dispositivos y todo lo relacionado con ellos.  Tratemos de resolverlo. <br><br><h3>  Se trata de credenciales </h3><br>  Las credenciales son una entidad que identifica de forma exclusiva a un usuario.  Estos datos deben estar protegidos de forma segura para que un atacante no pueda interceptarlos y reutilizarlos.  La presencia de credenciales resuelve el problema de la autenticaci√≥n MAC, cuando puede "escuchar" la radio con un rastreador, averiguar y reemplazar la direcci√≥n MAC del dispositivo de otra persona. <br><br>  Los tipos m√°s comunes de credenciales y m√©todos de autenticaci√≥n son: <br><br><ul><li>  M√©todos de tarjeta SIM, EAP-SIM, EAP-AKA </li></ul><br><ul><li>  Par de inicio de sesi√≥n y contrase√±a, EAP-PEAP, EAP-TTLS </li></ul><br><ul><li>  Certificado, EAP-TLS </li></ul><br>  Los operadores de celulares y MVNO con sus propias tarjetas SIM est√°n en una posici√≥n privilegiada: las credenciales adecuadas para la red Wi-Fi ya est√°n en el tel√©fono, est√°n protegidas de manera confiable y no se requieren acciones adicionales del cliente.  ¬øQu√© deben hacer los dem√°s? <br><br>  La configuraci√≥n manual es un proceso complejo, altamente dependiente del sistema operativo particular.  Para los suscriptores, esto es extremadamente inconveniente.  La transferencia de credenciales a trav√©s de una red con la configuraci√≥n autom√°tica del dispositivo puede ser una buena soluci√≥n.  Este proceso se llamar√° aprovisionamiento, y aqu√≠ radica la principal limitaci√≥n de la tecnolog√≠a en la etapa actual de desarrollo. <br><br><h3>  Hotspot 2.0 Evolution </h3><br>  Por el momento, se han lanzado tres versiones de Hotspot con designaciones no triviales 1, 2, 3. Y la tecnolog√≠a todav√≠a se llama 2.0.  De hecho, Hotspot 2.0 es un conjunto de est√°ndares que define un nuevo enfoque para organizar las redes Wi-Fi de los operadores, cuando la experiencia de usar dichas redes es comparable a usar una red m√≥vil.  Y dentro del marco de lanzamientos (1, 2, 3), se forman los est√°ndares mismos, para los cuales los dispositivos est√°n certificados. <br><br>  Por lo tanto, el principal "truco" de la primera versi√≥n y la base de tecnolog√≠a a tiempo parcial es el est√°ndar IEEE 802.11u.  Se necesita soporte para 802.11u tanto en el lado de la infraestructura de red Wi-Fi (puntos de acceso y controladores) como en el lado de los dispositivos del cliente.  En la situaci√≥n con el hardware, no hay problemas especiales: cada vez m√°s proveedores admiten el est√°ndar, porque  en chips m√°s o menos modernos, la implementaci√≥n del protocolo de software.  Pero investigaremos la situaci√≥n con los dispositivos del cliente un poco m√°s tarde. <br><br>  La segunda versi√≥n estandariza el proceso de aprovisionamiento y una nueva infraestructura espec√≠fica: el servidor de registro en l√≠nea (OSU).  Este es un servidor que realiza la formaci√≥n y transmisi√≥n de configuraciones de red a los dispositivos del cliente. <br><br>  La versi√≥n 3 publicada recientemente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">desarrolla herramientas de aprovisionamiento</a> .  En un escaneo superficial, no not√© las nuevas "caracter√≠sticas asesinas", y no hay ning√∫n dispositivo o infraestructura disponible para sentirlo en la pr√°ctica.  Si vemos el inter√©s de los lectores, podemos intentar examinar con m√°s detalle las funciones y diferencias de cada versi√≥n en otro art√≠culo. <br><br><h3>  Aprovisionamiento </h3><br>  Investigamos el problema de la penetraci√≥n de la pila de tecnolog√≠a Hotspot en los dispositivos del cliente.  Para hacer esto, utilizaremos la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">herramienta</a> de Wi-Fi Alliance, donde se presentan los resultados de la certificaci√≥n de dispositivos.  La certificaci√≥n es un proceso voluntario, por lo que los resultados no son para todos los dispositivos.  Por ejemplo, solo unos pocos dispositivos de Apple aprobaron la certificaci√≥n: iPhone 3, iPhone 4, iPad.  Sin embargo, todos los dispositivos iOS actuales admiten toda la pila necesaria de Hotspot 2.0 y, lo que es m√°s importante, lo hacen casi de la misma manera de una versi√≥n a otra. <br><br>  Por lo tanto, observamos los resultados de la certificaci√≥n, con la excepci√≥n de los dispositivos iOS, para el per√≠odo de 2012 (publicaci√≥n de la primera versi√≥n).  Visualizamos las estad√≠sticas obtenidas en la forma de un diagrama a continuaci√≥n.  Conclusi√≥n: solo cada quinto dispositivo que no es iOS admite la primera versi√≥n (802.11u), cada d√©cimo, tiene una interfaz de aprovisionamiento estandarizada.  Esta situaci√≥n complica la aplicaci√≥n masiva. <br><br><img src="https://habrastorage.org/webt/ct/rd/ia/ctrdia_5i9rbagh0airfiu_-qk8.jpeg"><br>  <i><font color="999999">Penetraci√≥n de Hotspot 2.0 en dispositivos cliente (excepto iOS)</font></i> <br><br>  Desde un punto de vista t√©cnico, el resultado del aprovisionamiento es la presencia en el dispositivo de credenciales v√°lidas y otras configuraciones necesarias para un SSID o red Wi-Fi espec√≠fica.  La segunda versi√≥n estandariz√≥ la estructura para representar la configuraci√≥n de red en forma de documentos XML y los mecanismos para su transferencia a los dispositivos.  Un conjunto de configuraciones de red que contiene, en particular, credenciales, se denomina perfil de red.  Inicialmente, Apple propuso una soluci√≥n similar, pero al final su desarrollo se estandariz√≥ con cambios significativos.  La siguiente captura de pantalla es un perfil de ejemplo para iOS.  Adem√°s, cualquier usuario de Mac OS puede practicar la creaci√≥n de perfiles utilizando la utilidad Configurador de Apple y siguiendo la documentaci√≥n oficial. <br><br><img src="https://habrastorage.org/webt/zj/f-/qu/zjf-qur4nmgeknxj1t3mimg3yxo.png"><br>  <i><font color="999999">Perfil de ejemplo para iOS</font></i> <br><br>  ¬øC√≥mo es el proceso de aprovisionamiento para el usuario?  Existen varias soluciones comerciales de OSU en el mercado: GlobalReach Odyssys, Ruckus CloudPath, Aruba ClearPass, por lo que podemos ver el proceso utilizando una de ellas como ejemplo.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">El enlace</a> proporciona capturas de pantalla para la soluci√≥n de GlobalReach Odyssys.  El enlace debe abrirse solo en el navegador Safari, de lo contrario, el sistema operativo del tel√©fono inteligente no reconocer√° el archivo de perfil (tiene la extensi√≥n mobileconfig) y no ofrecer√° instalarlo. <br><br>  Aqu√≠, la configuraci√≥n del perfil se muestra con el n√∫mero m√°ximo de pasos por parte del usuario, por ejemplo, cuando adem√°s del tel√©fono inteligente tambi√©n hay un Apple Watch (s√≠, puede poner un perfil en el reloj y se conectar√° a Wi-Fi).  El aprovisionamiento web de dispositivos iOS solo es posible a trav√©s del navegador Safari, este es un requisito del sistema operativo.  El aprovisionamiento de dispositivos Android, seg√∫n la versi√≥n, se puede realizar tanto a trav√©s del navegador como a trav√©s de la aplicaci√≥n. <br><br><img src="https://habrastorage.org/webt/sy/ow/__/syow__ffcmqtbevqm3hxxkqtwqg.jpeg"><br><br><img src="https://habrastorage.org/webt/ch/xa/cn/chxacn5hpb1br53nvrk83jwdh4g.jpeg"><br><br>  En general, el algoritmo de configuraci√≥n de red es el mismo para todos los dispositivos: <br><br><ul><li>  el usuario se conecta a una red Wi-Fi abierta (un escenario de conexi√≥n a una red cerrada especial donde solo estar√° disponible OSU) o usa Internet m√≥vil para abrir la p√°gina de OSU; </li></ul><br><ul><li>  en el siguiente paso, identificamos al usuario (confirmaci√≥n por SMS, ingreso de credenciales de su cuenta personal, identificaci√≥n a trav√©s de la aplicaci√≥n); </li></ul><br><ul><li>  en el lado del backend, generamos credenciales, guardamos y transmitimos al usuario; </li></ul><br><ul><li>  las credenciales y la configuraci√≥n de red se almacenan en el dispositivo del usuario; </li></ul><br><ul><li>  el dispositivo est√° listo para funcionar en la red Hotspot 2.0, no se requieren acciones adicionales del dispositivo, solo necesita estar en el √°rea de cobertura de dicha red. </li></ul><br>  Desde nuestro punto de vista, y creo que la audiencia estar√° de acuerdo con esto, el aprovisionamiento web requiere demasiada acci√≥n por parte del usuario, y el proceso en s√≠ no es transparente.  Nadie tiene una pregunta, ¬øqu√© contrase√±a se debe ingresar en el formulario? <br><br>  El uso de la aplicaci√≥n reduce la necesidad de acci√≥n a un m√≠nimo, a uno o dos.  Pero, desafortunadamente, la tecnolog√≠a se est√° moviendo activamente solo hacia el desarrollo y la estandarizaci√≥n del aprovisionamiento web, el Protocolo de administraci√≥n de dispositivos m√≥viles (OAM DM), mientras que la posibilidad de usar la aplicaci√≥n no se refleja en el est√°ndar.  Sin embargo, los fabricantes de sistemas operativos m√≥viles est√°n introduciendo la funcionalidad de la configuraci√≥n de software para la configuraci√≥n de red Hotspot 2.0, pero las implementaciones de diferentes proveedores son significativamente diferentes, no hay universalidad. <br><br><h3>  Subtotal </h3><br>  Resumiendo todo lo anterior, resumimos los breves resultados de la revisi√≥n y el estado actual de la tecnolog√≠a: <br><br><ul><li>  Puede resolver el problema de aleatorizar direcciones MAC; </li></ul><br><ul><li>  Puede excluir la posibilidad de conectarse a un SSID falso de ciberdelincuentes para nuestros usuarios; </li></ul><br><ul><li>  Requiere aprovisionamiento de credenciales; </li></ul><br><ul><li>  Baja penetraci√≥n de parte de la pila de tecnolog√≠a (802.11u, aprovisionamiento) en dispositivos Android; </li></ul><br><ul><li>  Aprovisionamiento web estandarizado; </li></ul><br><ul><li>  Las disposiciones que utilizan el protocolo OMA DM est√°n estandarizadas, cuyo alcance se limita a las redes corporativas; </li></ul><br><ul><li>  A pesar de la estandarizaci√≥n, la implementaci√≥n y la funcionalidad admitida dependen del proveedor (especialmente relevante para Android). </li></ul><br>  Dadas las importantes ventajas de la tecnolog√≠a, as√≠ como el estado actual de su desarrollo, decidimos introducir Hotspot 2.0 en nuestra red. <br><br><h3>  Implementaci√≥n de Hotspot 2.0 en una red a gran escala </h3><br>  Durante el proceso de lanzamiento fue necesario resolver varios problemas importantes. <br><br>  <b>1. Cambios en el equipo de red inal√°mbrica</b> <br><br>  Nuestras redes m√°s grandes, en el metro de Mosc√∫ y San Petersburgo, se basan en equipos Cisco que admiten la tecnolog√≠a Hotspot 2.0.  La tarea de configurar todos los controladores en el material rodante fue probablemente la m√°s voluminosa.  La configuraci√≥n del controlador de referencia previamente desarrollada y probada usando el autoconfigurador (lo escribimos en un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo</a> separado) se aplic√≥ a todas las composiciones.  Aplicaci√≥n abarcada en varias etapas.  Primero, en la rama verde del metro de Mosc√∫, para evaluar los efectos locales y la influencia, y luego en toda la red.  Ahora se despliega el segundo SSID MT en todo el material rodante del metro de Mosc√∫. <br><br>  <b>2. Refinamiento en el lado de la infraestructura interna, en particular en el servidor RADIUS</b> <b><br></b> <br>  Como tenemos un servidor RADIUS completamente desarrollado, tuvimos que implementar el soporte para EAP y el m√©todo de autenticaci√≥n interna. <br><br>  <b>3. Elegir un tipo de credencial y un m√©todo de autenticaci√≥n</b> <b><br></b> <br>  La elecci√≥n no solo debe proporcionar autenticaci√≥n y autorizaci√≥n confiables y transparentes para el suscriptor en la red, sino tambi√©n mantener la eficiencia de nuestros modelos de monetizaci√≥n actuales y futuros.  Perm√≠tame recordarle que la monetizaci√≥n (a trav√©s de publicidad y servicios adicionales) nos permite proporcionar acceso a la red de forma gratuita. <br><br>  El tipo de credenciales se elige entre el par de nombre de usuario / contrase√±a y el certificado X.509.  A primera vista, el uso del certificado parece m√°s confiable, moderno y prometedor.  Por ejemplo, puede organizar el uso del mismo certificado para la autenticaci√≥n en aplicaciones (incluso en nuestra propia cuenta personal), adem√°s de forma transparente.  Sin embargo, la cuesti√≥n de administrar certificados de usuario en una red p√∫blica grande (en lugar de una red corporativa limitada cuando hay acceso f√≠sico a los dispositivos) parece no trivial, especialmente dadas las diferencias en las implementaciones de los fabricantes. <br><br>  Por lo tanto, elegimos el par de nombre de usuario / contrase√±a.  El m√©todo es TTLS, ya que es ampliamente utilizado para el roaming internacional de Wi-Fi entre operadores.  Para autenticar el servidor y excluir la posibilidad de conectarse a SSID falsos (existen matices, los consideraremos en la secci√≥n de seguridad), emitiremos una clave y un certificado, cuya parte privada se colocar√° en el servidor AAA, y el abierto se incluir√° en el perfil.  Por lo tanto, en la etapa de conexi√≥n, se producir√° la autenticaci√≥n del servidor de autorizaci√≥n. <br><br>  <b>4. Providencia</b> <br><br>  La pregunta m√°s dif√≠cil, que no est√° completamente cerrada.  Necesitamos asegurarnos de que las credenciales se transfieran a los dispositivos del usuario con un m√≠nimo de acciones por parte del propietario, y es mejor ser transparente para √©l.  Es necesario garantizar el mismo flujo para los propietarios de iOS y Android, donde no solo la versi√≥n a la versi√≥n del sistema operativo, sino tambi√©n para dispositivos de diferentes fabricantes, las configuraciones de credenciales pueden diferir dr√°sticamente.  Desafortunadamente, todav√≠a no hay una soluci√≥n universal.  Ten√≠amos ideas para transferir la funcionalidad de aprovisionamiento y administraci√≥n de conexi√≥n Wi-Fi a una aplicaci√≥n m√≥vil como una soluci√≥n universal, pero encontramos limitaciones en ambas plataformas. <br><br>  En este momento estamos continuando la investigaci√≥n y, posiblemente, en la versi√≥n final habr√° cambios en el procedimiento de aprovisionamiento o parte de la funcionalidad.  Todav√≠a consideramos la idea de usar la aplicaci√≥n como la m√°s prometedora y f√°cil de usar, y continuamos desarrollando esta idea. <br><br>  Pero debe comenzar en alguna parte, y dado que el proceso de aprovisionamiento est√° unificado en todos los dispositivos iOS, comenzamos a implementar Hotspot 2.0 con dispositivos Apple.  Hemos desarrollado un aprovisionamiento de servicios web.  Invitamos a todos a participar en la prueba abierta de la nueva red, instrucciones detalladas al final del art√≠culo. <br><br><h3>  Acerca de la seguridad </h3><br>  Proporcionar redes Wi-Fi y credenciales utilizando perfiles de iOS es solo una peque√±a parte de la funcionalidad de MDM (Administraci√≥n de dispositivos m√≥viles).  En manos de los atacantes, la funcionalidad puede tener consecuencias negativas para los usuarios, hasta el bloqueo completo del dispositivo o su gesti√≥n por parte de terceros.  En particular, se pueden agregar restricciones en la instalaci√≥n / eliminaci√≥n de aplicaciones a trav√©s del perfil, un atacante puede controlar la instalaci√≥n de aplicaciones, puede dirigir el tr√°fico de usuarios a trav√©s de su proxy, etc.  Por lo tanto, el proceso de instalaci√≥n de un perfil requiere una mayor atenci√≥n del usuario; <b>debe asegurarse de que el perfil sea lanzado por una empresa confiable.</b> <br><br>  Ahora, la √∫nica forma transparente de aprovisionar dispositivos iOS para trabajar en redes Hotspot 2.0 es establecer perfiles.  Nos gustar√≠a dar algunas recomendaciones sobre la instalaci√≥n de perfiles que ser√°n √∫tiles no solo en el contexto de la configuraci√≥n de Wi-Fi: <br><br><ul><li>  Instale perfiles solo de una fuente confiable.  La fiabilidad de la fuente se confirma mediante una firma digital v√°lida.  La firma v√°lida en la ventana de instalaci√≥n del perfil se indica con una inscripci√≥n verde: Verificado o Verificado.  Tambi√©n puede prestar atenci√≥n al dominio para el que se emite el certificado.  En nuestro caso, este es hotspot.wi-fi.ru.  En el futuro, puede ser arbitrario en el dominio wi-fi.ru.  No se recomienda instalar un perfil con una firma no v√°lida. </li></ul><br><br><img src="https://habrastorage.org/webt/6x/qw/u4/6xqwu4wfryik18k81cram30sbbi.jpeg"><br>  <i><font color="999999">Ejemplo de un perfil v√°lido e inv√°lido</font></i> <br><br><ul><li>  Antes de instalar el certificado, ver√° qu√© cambios y configuraciones se realizar√°n.  Nuestro perfil contiene configuraciones de red Wi-Fi y un certificado intermedio para autenticar un servidor RADIUS.  En la pesta√±a "M√°s detalles", puede ver informaci√≥n detallada sobre la configuraci√≥n de la red Wi-Fi y los certificados instalados.  No se recomienda establecer un perfil donde ‚ÄúProxy‚Äù est√© configurado en la configuraci√≥n de la red Wi-Fi. </li></ul><br><img src="https://habrastorage.org/webt/ie/am/dz/ieamdznpfqe4g5von4skmvpulio.jpeg"><br><br><ul><li>  Se recomienda encarecidamente no instalar certificados que contengan otras configuraciones, especialmente SCEP; esto permitir√° a los atacantes obtener el control total sobre el dispositivo instalando cualquier perfil sin su participaci√≥n. </li></ul><br><br><img src="https://habrastorage.org/webt/om/fs/3o/omfs3o7g5ti5shzewn6inkck-vi.jpeg"><br>  <i><font color="999999">Perfil de ejemplo con varias limitaciones de la funcionalidad del dispositivo m√≥vil</font></i> <br><br><ul><li>  Para los dispositivos Android, la recomendaci√≥n principal es asegurarse de que el certificado del servidor se use en la configuraci√≥n de la red Wi-Fi, de lo contrario ser√° posible conectarse a SSID falsos.    iOS, Android    ,    ‚Äî   /  .           . </li></ul><br><br><img src="https://habrastorage.org/webt/jy/lz/yf/jylzyfwvfiekmfcyovq1j5coiak.jpeg"><br><br><h3>   </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por el momento, Hotspot 2.0 a√∫n no ha alcanzado su madurez y se encuentra en la etapa de desarrollo y formaci√≥n, pero queremos ser una empresa que d√© el primer paso para promover e implementar esta nueva tecnolog√≠a en Rusia. Para nosotros, como operador de un servicio popular de la ciudad, esta es una forma de aumentar la seguridad del Wi-Fi p√∫blico. De hecho, al implementar Hotspot 2.0 en la red MT_FREE en el metro de Mosc√∫, estamos creando la red Wi-Fi p√∫blica m√°s grande de Europa con una conexi√≥n cifrada a nivel de radio. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estamos lanzando pruebas abiertas de la tecnolog√≠a Hotspot 2.0 en la red de metro para usuarios de iOS. Para hacer esto, debe seguir el procedimiento de aprovisionamiento haciendo clic en el enlace </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wi-fi.ru/hotspot</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y estableciendo el perfil. </font><font style="vertical-align: inherit;">Despu√©s de eso, la conexi√≥n a una red Wi-Fi y el acceso a un entorno seguro ocurrir√° autom√°ticamente tan pronto como su dispositivo aparezca en el √°rea de cobertura MT_FREE (y, como resultado, MT). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Informaremos los resultados de las pruebas abiertas en un texto separado. </font><font style="vertical-align: inherit;">Por lo tanto, una gran solicitud: participar activamente en las pruebas y enviar comentarios sobre el trabajo de la nueva red a hotspot@maximatelecom.ru.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Instrucciones de instalaci√≥n de perfiles </font></font><br></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El enlace al servicio de generaci√≥n de perfiles </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wi-fi.ru/hotspot</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> debe abrirse solo desde dispositivos iOS y en el navegador Safari. </font><font style="vertical-align: inherit;">Esta es una limitaci√≥n del sistema operativo. </font><font style="vertical-align: inherit;">Utilizamos este escenario de aprovisionamiento solo durante las pruebas de red abierta. </font><font style="vertical-align: inherit;">En un futuro cercano, planeamos lanzar una opci√≥n ya espec√≠fica usando la aplicaci√≥n. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La configuraci√≥n del perfil de flujo para iOS hasta la versi√≥n 11 inclusive y a partir de la 12 difieren. </font><font style="vertical-align: inherit;">A continuaci√≥n se muestra el flujo para versiones hasta 11 inclusive: </font></font><br><br><img src="https://habrastorage.org/webt/hh/id/1i/hhid1i3proju1r9me-pf9pqu_mw.jpeg"><br><br><img src="https://habrastorage.org/webt/de/lq/c0/delqc06oo0ab0evbopwrny6rckc.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diferencias en el flujo de instalaci√≥n de un perfil para iOS desde la versi√≥n 12:</font></font><br><br><img src="https://habrastorage.org/webt/wd/wr/jx/wdwrjxauf2xa1znuiobyvz2iofa.jpeg"><br><br><img src="https://habrastorage.org/webt/3j/xv/y8/3jxvy8esulddfxtqwasghn_q1yu.jpeg"><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Instrucciones de eliminaci√≥n de perfiles </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se genera un perfil con un per√≠odo de validez hasta el 30 de noviembre de 2019. </font><font style="vertical-align: inherit;">Despu√©s de este per√≠odo, el perfil se elimina autom√°ticamente sin ninguna acci√≥n por parte del usuario. </font><font style="vertical-align: inherit;">Si fuera necesario eliminar un perfil antes, esto puede hacerse manualmente.</font></font><br><br><img src="https://habrastorage.org/webt/aw/mp/kf/awmpkfiqub0wjtjcinozellwm3m.jpeg"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/462031/">https://habr.com/ru/post/462031/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../462021/index.html">C√≥mo dejar de hacer lo mismo</a></li>
<li><a href="../462023/index.html">Cascadeur: el futuro de la animaci√≥n del juego</a></li>
<li><a href="../462025/index.html">Modelo de datos de red relacional</a></li>
<li><a href="../462027/index.html">C√≥mo Dark implementa el c√≥digo de 50 ms</a></li>
<li><a href="../462029/index.html">19 caracter√≠sticas √∫tiles del archivo .htaccess</a></li>
<li><a href="../462033/index.html">La √∫ltima cena de desarrolladores</a></li>
<li><a href="../462035/index.html">Python Vs R - Ciencia de datos</a></li>
<li><a href="../462041/index.html">Enfoques de segmentaci√≥n m√≥vil - Traducci√≥n</a></li>
<li><a href="../462043/index.html">Pesca inteligente en FishSensor</a></li>
<li><a href="../462045/index.html">Otra opini√≥n sobre la diferencia entre bin, sbin, usr / bin, usr / sbin</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>