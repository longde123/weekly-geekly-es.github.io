<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üè¥Û†ÅßÛ†Å¢Û†Å≥Û†Å£Û†Å¥Û†Åø üôè üßü Installation der Zimbra Collaboration Suite mit mehreren Servern üßòüèø üÖ±Ô∏è üö∞</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Es gibt eine ungeschriebene Regel, nach der nicht empfohlen wird, mit Zimbra Collaboration Suite mehr als 5-6.000 Postf√§cher auf einem Server zu erste...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Installation der Zimbra Collaboration Suite mit mehreren Servern</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/zimbra/blog/432782/">  Es gibt eine ungeschriebene Regel, nach der nicht empfohlen wird, mit Zimbra Collaboration Suite mehr als 5-6.000 Postf√§cher auf einem Server zu erstellen.  Das √úberschreiten dieses Bereichs f√ºhrt zu einer erheblichen Verschlechterung der Qualit√§t des Servers und zu einer Verringerung seiner Verf√ºgbarkeit f√ºr Benutzer.  Was aber, wenn Sie ein gro√ües Unternehmen oder einen SaaS-Anbieter haben, der f√ºr den Zugriff auf die Zimbra Collaboration Suite als Service zust√§ndig ist, und 10, 20, 30 oder mehr Tausend Personen E-Mails senden m√ºssen?  Insbesondere in solchen F√§llen unterst√ºtzt Zimbra eine Installation mit mehreren Servern, bei der sich die Postf√§cher auf verschiedenen Servern befinden und Sie eine hohe E-Mail-Verf√ºgbarkeit auch unter hoher Last aufrechterhalten k√∂nnen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e98/93d/7d9/e9893d7d9f995c2a24dce02df7fa5d51.png" alt="Bild"><br><a name="habracut"></a><br>  Nat√ºrlich unterscheidet sich die Multiserver-Installation der Zimbra Collaboration Suite erheblich von der √ºblichen Installation auf einem einzelnen Server, deren Vorgang in einem fr√ºheren Artikel ausf√ºhrlich beschrieben wurde.  Zun√§chst wird empfohlen, die Architektur der Serverinfrastruktur zu bestimmen, auf der die Zimbra Collaboration Suite installiert wird.  Eine solche Konfiguration der Serverinfrastruktur ist im Betrieb am optimalsten.  Beachten Sie, dass die Anzahl der Server zum Speichern von Postf√§chern beliebig sein kann und ihre Anzahl, wie bereits erw√§hnt, auf der Grundlage von 5-6.000 aktiven Postf√§chern pro Server berechnet wird, wenn der Zugriff ausschlie√ülich √ºber einen Webclient erfolgt, und 3-4.000 Postf√§cher an den Server, wenn Benutzer mit Desktop-Clients arbeiten und E-Mails mit Mobilger√§ten synchronisieren. <br><br><img src="https://habrastorage.org/webt/tu/sf/yx/tusfyxl007udcolq_tlpcz7kvhw.jpeg"><br>  <i>Ein Beispiel f√ºr den Aufbau einer Multi-Server-Infrastruktur f√ºr die Zimbra Collaboration Suite</i> <br><br><h3>  Zimbra LDAP </h3><br>  Stellen Sie vor dem Starten einer Direktinstallation sicher, dass alle Server dieselbe Systemzeit haben.  F√ºr eine Multiserver-Installation von Zimbra m√ºssen wir zun√§chst einen Server mit Zimbra LDAP installieren und konfigurieren.  Falls gew√ºnscht, kann Zimbra LDAP auf mehreren Servern installiert werden, von denen einer als LDAP-Hauptserver fungiert, und der Rest sind zus√§tzliche LDAP-Server, die an der Last beteiligt sind und dadurch die Geschwindigkeit des Hauptservers erh√∂hen.  Die Verf√ºgbarkeit von sekund√§ren LDAP-Servern verbessert auch die Sicherheit und Ausfallsicherheit der Infrastruktur mit Zimbra. <br><br>  W√§hrend der Installation von Zimbra auf dem LDAP-Hauptserver werden Sie vom Installationsprogramm aufgefordert, die zu installierenden Komponenten auszuw√§hlen.  In diesem Fall brauchen wir nur <b>zimbra-ldap</b> : <br><br><pre><code class="plaintext hljs">Select the packages to install Install zimbra-ldap [Y] Y Install zimbra-logger [Y] N Install zimbra-mta [Y] N Install zimbra-dnscache [Y] N Install zimbra-snmp [Y] N Install zimbra-store [Y] N Install zimbra-apache [Y] N Install zimbra-spell [Y] N Install zimbra-convertd [Y] N Install zimbra-memcached [Y] N Install zimbra-proxy [Y] N Install zimbra-archiving [N] N Install zimbra-chat [Y] N Install zimbra-drive [Y] N Install zimbra-imapd [Y] N Checking required space for zimbra-core Installing: zimbra-core zimbra-ldap The system will be modified. Continue? [N]</code> </pre> <br>  Dr√ºcken Sie Y und nach Abschluss der System√§nderung wird ein Textmen√º ge√∂ffnet, in dem wir uns f√ºr den Punkt <b>Allgemeine Konfiguration</b> interessieren.  Daraufhin sehen wir eine Liste der Grundeinstellungen: <br><br><pre> <code class="plaintext hljs">Common Configuration: 1) Hostname: ldap-1.zimbra.com 2) Ldap master host: zimbra.com 3) Ldap port: 389 4) Ldap Admin password: set 5) Secure interprocess communications: Yes 6) TimeZone: (GMT-08.00) Pacific Time (US &amp; Canada) 7) IP Mode: ipv4 8) Default SSL digest: sha256</code> </pre> <br>  Wenn Sie Punkt 4 ausw√§hlen, wird das Kennwort f√ºr den Zugriff auf Zimbra LDAP angezeigt, das w√§hrend der Installation zuf√§llig generiert wurde, und wenn Sie es √§ndern m√∂chten.  Sie sollten auch die Zeitzone in die Zeitzone √§ndern, in der Sie sich gerade befinden.  Wir empfehlen, dass Sie sich das LDAP-Administratorkennwort sowie den Zugriffsport und den Dom√§nennamen des LDAP-Servers irgendwo merken oder notieren.  Sie ben√∂tigen diese Informationen, wenn Sie Server mit Postf√§chern und MTA einrichten. <br><br>  Danach kehren wir wieder zum Hauptmen√º zur√ºck und w√§hlen den zweiten Punkt namens <b>zimbra-ldap</b> .  Hier interessieren uns zuf√§llig generierte Passw√∂rter f√ºr den Zugriff auf LDAP-Root, LDAP-Replikation, LDAP-Postfix, LDAP-Amavis und LDAP-Nginx, die in unabh√§ngig erfundene ge√§ndert werden k√∂nnen.  Wir empfehlen, dass Sie sich Kennw√∂rter von LDAP-Replikation, LDAP-Postfix, LDAP-Amavis und LDAP-Nginx merken oder notieren, da diese f√ºr die weitere Konfiguration von Servern von MTA- und zus√§tzlichen LDAP-Servern hilfreich sind.  Danach m√ºssen nur noch die √Ñnderungen √ºbernommen und alle Einstellungen in eine Datei geschrieben werden.  Die Einrichtung des LDAP-Servers ist abgeschlossen. <br><br><h3>  LDAP-Replikat </h3><br>  <b>Wenn</b> Sie zus√§tzliche LDAP-Server konfigurieren m√∂chten, sollten Sie deren Unterst√ºtzung auf dem LDAP-Hauptserver mit dem Befehl <b>/ opt / zimbra / libexec / zmldapenablereplica aktivieren</b> .  Sp√§ter, wenn zus√§tzliche LDAP-Server konfiguriert werden, muss der Prim√§rserver eingeschaltet werden. <br><br>  Durch die Installation und Konfiguration des sekund√§ren LDAP-Servers wird die Installation und Konfiguration des prim√§ren Servers wiederholt.  Die Hauptunterschiede liegen im Setup-Prozess nach der Installation.  Sie ben√∂tigen also: <br><br><ol><li>  Geben Sie die Adresse des LDAP-Hauptservers als LDAP-Master-Hostnamen an. </li><li>  Geben Sie im Feld zur Eingabe des Ports die Portnummer an, die auf dem LDAP-Hauptserver ge√∂ffnet ist. </li><li>  Ersetzen Sie das zuf√§llig generierte LDAP-Administratorkennwort durch das auf dem LDAP-Hauptserver installierte Kennwort </li><li>  Legen Sie im Untermen√º LDAP-Konfiguration den Parameter Nein im Feld Dom√§ne erstellen fest </li><li>  Geben Sie das LDAP-Replikationskennwort ein, das bei der Konfiguration des Prim√§rservers festgelegt wurde. </li></ol><br>  Wenden Sie danach alle √Ñnderungen an und speichern Sie die Einstellungen in einer Datei. <br><br><h3>  Zimbra mta </h3><br>  Zus√§tzlich zu LDAP- und Mail-Speichern wird Mail Transfer Agent h√§ufig auf einen separaten Server √ºbertragen.  Wenn Sie Zimbra darauf installieren, sollten Sie nur die Pakete <b>zimbra-mta</b> und <b>zimbra-dnscache ausw√§hlen</b> .  Danach vereinbaren wir erneut, das System zu √§ndern und mit der Konfiguration des Servers fortzufahren. <br><br><pre> <code class="plaintext hljs">Select the packages to install Install zimbra-ldap [Y] n Install zimbra-logger [Y] n Install zimbra-mta [Y] y Install zimbra-dnscache [Y] y Install zimbra-snmp [Y] n Install zimbra-store [Y] n Install zimbra-apache [Y] n Install zimbra-spell [Y] n Install zimbra-memcached [Y] n Install zimbra-proxy [Y] n Checking required space for zimbra-core Installing: zimbra-core zimbra-mta zimbra-dnscache The system will be modified. Continue? [N] y Installing packages</code> </pre> <br>  Zun√§chst m√ºssen wir die LDAP-Serveradresse in der <b>allgemeinen Konfiguration</b> angeben <b>,</b> das LDAP-Zugriffskennwort eingeben und die richtige Zeitzone festlegen.  Wechseln Sie anschlie√üend zu den MTA-Einstellungen, in denen Sie die Adresse des Authentifizierungsservers eingeben m√ºssen, die normalerweise mit der Adresse des Mailspeichers √ºbereinstimmt.  Danach m√ºssen nur noch die Kennw√∂rter f√ºr Postfix und Amavis eingegeben werden, die wir beim Einrichten des LDAP-Hauptservers erstellt haben.  Danach k√∂nnen Sie die √Ñnderungen √ºbernehmen und die Einstellungen in einer separaten Datei speichern. <br><br><h3>  Zimbra-Proxy </h3><br>  Sie ben√∂tigen diesen Knoten f√ºr den Lastausgleich zwischen verschiedenen Mail-Speichern und MTA.  Daraufhin wird der Benutzer authentifiziert, damit Zimbra ihn sp√§ter an den E-Mail-Speicher senden kann, in dem das Postfach des Benutzers gespeichert ist. <b>Bei der</b> Installation von Zimbra Proxy sollten Sie nur <b>zimbra-memcached-</b> und <b>zimbra-proxy-</b> Pakete ausw√§hlen.  Danach vereinbaren wir erneut, das System zu √§ndern und mit der Konfiguration des Servers fortzufahren. <br><br><pre> <code class="plaintext hljs">Select the packages to install Install zimbra-ldap [Y] N Install zimbra-logger [Y] N Install zimbra-mta [Y] N Install zimbra-dnscache [N] N Install zimbra-snmp [Y] N Install zimbra-store [Y] N Install zimbra-apache [Y] N Install zimbra-spell [Y] N Install zimbra-convertd [N] N Install zimbra-memcached [N] Y Install zimbra-proxy [N] Y Install zimbra-archiving [N] N Installing: zimbra-memcached zimbra-proxy Configuration section The system will be modified. Continue [N] Y</code> </pre> <br>  Zun√§chst m√ºssen wir die LDAP-Serveradresse in der <b>allgemeinen Konfiguration</b> angeben <b>,</b> das LDAP-Zugriffskennwort eingeben und die richtige Zeitzone festlegen.  Wechseln Sie anschlie√üend zu den MTA-Einstellungen, in denen Sie die Adresse des Authentifizierungsservers eingeben m√ºssen, die normalerweise mit der Adresse des Mailspeichers √ºbereinstimmt.  Danach m√ºssen nur noch die Kennw√∂rter f√ºr Postfix und Amavis eingegeben werden, die wir beim Einrichten des LDAP-Hauptservers erstellt haben.  Danach k√∂nnen Sie die √Ñnderungen √ºbernehmen und die Einstellungen in einer separaten Datei speichern. <br><br><h3>  Zimbra Mailbox </h3><br>  Der Installationsvorgang von Zimbra auf dem Server, auf dem sich die Postf√§cher befinden, wiederholt den Installationsvorgang auf dem LDAP-Server.  Der Hauptunterschied besteht in den gesetzten Flags bei der Auswahl der zu installierenden Komponenten.  Wir brauchen das folgende Set: <br><br><pre> <code class="plaintext hljs">Install zimbra-ldap [Y] N Install zimbra-logger [Y] Y Install zimbra-mta [Y] N Install zimbra-dnscache [Y] N Install zimbra-snmp [Y] Y Install zimbra-store [Y] Y Install zimbra-apache [Y] Y Install zimbra-spell [Y] Y Install zimbra-convertd [Y] Y Install zimbra-memcached [Y] N Install zimbra-proxy [Y] N Install zimbra-archiving [N] Y Install zimbra-chat [Y] Y Install zimbra-drive [Y] Y Install zimbra-imapd [Y] N Installing: zimbra-core zimbra-logger zimbra-snmp zimbra-store zimbra-apache zimbra-spell zimbra-convertd zimbra-archiving zimbra-chat zimbra-drive The system will be modified. Continue? [N]</code> </pre> <br>  Nachdem Sie Ihre Zustimmung zur Installation gegeben haben, erlauben wir die √Ñnderung des Systems, warten, bis der Installationsvorgang abgeschlossen ist, und beginnen mit der Einrichtung des Servers.  Zun√§chst m√ºssen wir zum Punkt <b>Allgemeine Konfiguration gehen</b> und die Adresse des LDAP-Servers und das Kennwort f√ºr den Zugriff auf LDAP angeben. Au√üerdem wird empfohlen, zu √ºberpr√ºfen, ob auf dem Server die richtige Zeitzone eingestellt ist.  Wenn Sie Ihr LDAP-Zugriffskennwort vergessen haben, k√∂nnen Sie es erhalten, indem Sie den Befehl <b>zmlocalconfig -s zimbra_ldap_password</b> auf dem LDAP-Server <b>eingeben</b> . <br><br>  Danach k√∂nnen Sie mit dem Element <b>Speicherkonfiguration</b> fortfahren.  Hier m√ºssen wir das Passwort f√ºr den Serveradministrator sowie den Dom√§nennamen des Repositorys mit der entsprechenden Nummer festlegen, damit keine weiteren Verwirrungen auftreten.  Au√üerdem sollten Sie den Verbindungstyp ausw√§hlen.  Beispielsweise k√∂nnen Sie jederzeit HTTP oder HTTPS verwenden, die erzwungene Verwendung von HTTPS aktivieren oder HTTPS nur zur Authentifizierung verwenden.  Au√üerdem m√ºssen Sie w√§hrend der Einrichtung der Zimbra-Mailbox die Adresse des entsprechenden MTA-Servers in der <b>SMTP-Hostzeile</b> angeben.  Danach k√∂nnen Sie nach eigenem Ermessen eine Reihe von Einstellungen vornehmen.  Nach Abschluss der Einstellungen m√ºssen Sie die √Ñnderungen √ºbernehmen und alle Einstellungen in einer Datei speichern. <br><br>  Es ist eine gute Idee, nach Abschluss der Installation Kennw√∂rter f√ºr den SSH-Zugriff festzulegen, damit Sie Postfix-Server und -Warteschlangen remote verwalten k√∂nnen.  Wenn Sie zus√§tzliche LDAP-Server verwenden, m√ºssen Sie nach Abschluss der Konfiguration den Wert <b>ldap_url</b> auf den MTA- und Mailbox-Servern √§ndern, damit sie ordnungsgem√§√ü mit ihnen funktionieren.  Dazu m√ºssen Sie Zimbra mit dem Befehl <b>zmcontrol stop stoppen</b> und dann einen Befehl der Form z <b>mlocalconfig -e ldap_url = "ldap: //ldap-2.zimbra.com ldap: //ldap-1.zimbra.com" eingeben</b> Geben Sie zun√§chst die Adressen aller Zusatzserver und am Ende des LDAP-Hauptservers an.  Auf dem MTA-Server m√ºssen Sie nach Abschluss der Konfiguration Zimbra neu starten und <b>/ opt / zimbra / libexe / zmmtainit ausf√ºhren</b> , um die Postfix-Einstellungen zu √ºberschreiben. <br><br>  Bei allen Fragen zur Zextras Suite k√∂nnen Sie sich per E-Mail an katerina@zextras.com an den Vertreter der Firma "Zextras" Katerina Triandafilidi wenden </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de432782/">https://habr.com/ru/post/de432782/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de432772/index.html">Wie wir einen Werbekampagnen-Service erstellt haben, der der DSGVO entspricht</a></li>
<li><a href="../de432774/index.html">Frontend DevDay. Berichtsaufzeichnung</a></li>
<li><a href="../de432776/index.html">Das Buch "Reagieren in Aktion"</a></li>
<li><a href="../de432778/index.html">Entwicklung eines Tiefsetzstellers auf STM32F334: Funktionsprinzip, Berechnungen, Prototyping</a></li>
<li><a href="../de432780/index.html">Warum Empathie in der Technologiewelt gefragt ist</a></li>
<li><a href="../de432784/index.html">Castlevania Bot</a></li>
<li><a href="../de432786/index.html">.NET - Lokalisierung ohne Schmerzen. (N) gettext + poedit</a></li>
<li><a href="../de432788/index.html">Prototypen: So erstellen Sie ein erfolgreiches Produkt und sparen</a></li>
<li><a href="../de432790/index.html">Supraleiter + Ferromagnet: die Untersuchung von Triplett-Cooper-Paaren</a></li>
<li><a href="../de432794/index.html">Bret Victor: Ein paar Worte zu Douglas Engelbart</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>