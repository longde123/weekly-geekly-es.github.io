<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§≤üèª üíå üìÄ ICD Mobile Banking: Historia de desarrollo üì™ üèùÔ∏è üîº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Oleg Ivanov, Jefe del Centro de Competencia de Canales de Servicio Remoto, Departamento de Desarrollo de TI, Direcci√≥n de Tecnolog√≠as de la Informaci√≥...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ICD Mobile Banking: Historia de desarrollo</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mkb/blog/467057/">  <b>Oleg Ivanov, Jefe del Centro de Competencia de Canales de Servicio Remoto, Departamento de Desarrollo de TI, Direcci√≥n de Tecnolog√≠as de la Informaci√≥n, Banco de Cr√©dito de Mosc√∫ (ICD)</b> <br><br>  Para nosotros, el desarrollo de una aplicaci√≥n m√≥vil comenz√≥ desde cero, por lo que en este art√≠culo comenzaremos desde el principio: determinando qu√© es y qu√© funciones debe tener.  Y luego vamos todo el camino, desde comprar nuevos gadgets hasta probar la aplicaci√≥n para iniciarla.  Contaremos la historia del desarrollo de nuestra aplicaci√≥n con sangr√≠as tecnol√≥gicas.  Describamos qu√© problemas encontramos.  Desafortunadamente, no podremos cubrir todos los enfoques, principios y soluciones tecnol√≥gicas que se utilizaron en el desarrollo de este art√≠culo de revisi√≥n, pero nos detendremos en los puntos m√°s interesantes. <br><a name="habracut"></a><br>  Adem√°s habr√° un √©nfasis en el desarrollo para iOS.  Antes de comenzar, decidamos qu√© es Mobile Bank. <br><br>  <b>Un banco m√≥vil</b> es la administraci√≥n de cuentas bancarias utilizando la aplicaci√≥n bancaria en un tel√©fono inteligente (iPhone, etc.), una tableta (iPad, Samsung Galaxy Tab, etc.).  Para las operaciones bancarias, se requiere una confirmaci√≥n de dos pasos utilizando c√≥digos √∫nicos a trav√©s de mensajes SMS. <br><br>  Las principales operaciones bancarias del Mobile Bank: <br><br><ul><li>  uso de productos bancarios (cuentas, tarjetas, dep√≥sitos, pr√©stamos, paquetes de servicios, etc.) </li><li>  ver saldo de cuenta </li><li>  declaraci√≥n </li><li>  pago de facturas por servicios m√≥viles </li><li>  pago de servicios de vivienda </li><li>  transferir fondos de una tarjeta a otra </li><li>  pagos regulares </li><li>  reembolso de pr√©stamos </li><li>  transferencia de fondos para depositar </li><li>  bloqueo de tarjeta de pago </li><li>  y otros </li></ul><br>  Las aplicaciones de banca m√≥vil son aplicaciones de banca por Internet adaptadas para pantallas peque√±as de tel√©fonos inteligentes y para sistemas operativos (iOS de Apple, Android de Google) instalados en dispositivos m√≥viles.  Vale la pena se√±alar que la gama de modelos de dispositivos que ejecutan el sistema operativo Android es muy amplia: Samsung, LG, Xiaomi, Huawei, etc., lo que complica el desarrollo y el soporte de la aplicaci√≥n para Android. <br><br><h3>  Fuente - MKBMobile 1.0 </h3><br>  El proyecto de aplicaci√≥n de Mobile Bank fue transferido a nuestro equipo desde una compa√±√≠a externa, fue escrito en el Objetivo C. <br><br>  As√≠ es como se ve√≠a el proyecto a trav√©s de los ojos del usuario: <br><br><img src="https://habrastorage.org/webt/es/zm/r2/eszmr2iam-erg1otkrbbh_kekpw.jpeg"><br><br><img src="https://habrastorage.org/webt/cm/eq/o7/cmeqo7ykwnjydolf-q_pxtt0n3y.jpeg"><br><br>  Este proyecto se ha convertido en una startup y una prueba de nuestras capacidades.  Nuestro equipo tuvo pocas experiencias de desarrollo para la plataforma m√≥vil iOS, pero decididamente emprendimos el proyecto. <br><br>  Por donde empezar  Cuando pensamos en desarrollar para iOS, lo primero que necesitamos: <br><br><h4>  1. Necesita iMac </h4><br>  Apple es famosa por el alto precio de sus productos.  Pero ahorrar no vale la pena: ¬°esta es la velocidad de su desarrollo! <br><br>  Una configuraci√≥n aproximada y √≥ptima que nos conviene: <br><br><ul><li>  Procesador Intel Core i5 de s√©ptima generaci√≥n con velocidad de reloj de 3.8 GHz (Turbo Boost de hasta 4.2 GHz) </li><li>  32 GB DDR4 2400 MHz </li><li>  Fusion Drive de 2 TB </li><li>  GPU Radeon Pro 580 con 8 GB de VRAM </li></ul><br>  El costo aproximado de tal m√°quina es de 190,000 rublos. <br><br>  Existe una opini√≥n: los programadores necesitan iMac Pro.  Esto es as√≠ :) Pero el precio por ellos muerde, y si su empresa est√° lista para comprarlos, esto aumentar√° la velocidad de su desarrollo y, por supuesto, aumentar√° el nivel est√©tico de su oficina. <br><br><h4>  2. Necesita dispositivos iOS </h4><br>  "¬øCu√°nto y cu√°l?"  - surge la primera pregunta.  Todo depende de tu aplicaci√≥n. <br>  Si su aplicaci√≥n solo es compatible con iPhone, al menos 2 tama√±os diferentes son peque√±os (por ejemplo, iPhone SE) y grandes (por ejemplo, iPhone 8 Plus). <br><br>  Si su aplicaci√≥n tambi√©n es compatible con iPad, necesita un iPad. <br><br>  Luego viene el sistema operativo: sus versiones.  Si su aplicaci√≥n admite la versi√≥n m√≠nima, por ejemplo, comenzando con iOS 8.0, debe abastecerse en el dispositivo con cada n√∫mero de serie de iOS y recordar "preservar" (no actualizar) esta versi√≥n en el dispositivo y controlar la aparici√≥n de nuevas versiones de iOS, sin olvidar seleccionar un conjunto para √©l dispositivos. <br><br>  Por supuesto, por primera vez puedes sobrevivir con los simuladores de Xcode, pero los dispositivos f√≠sicos imponen sus propias colisiones que no aparecen en los simuladores. <br><br>  Si no desea tener su propia granja de dispositivos, puede mirar hacia las partes de las empresas que ofrecen este servicio: AWS Device Farm, Xamarin Test Cloud, etc. <br><br>  Como ya se mencion√≥, nuestra aplicaci√≥n es compatible tanto para iPhone como para iPad.  Al momento de escribir, nuestra propia (!) Granja es de unos 30 dispositivos de diferentes tipos y versiones del sistema operativo. <br><br><h4>  3. Debe decidir el enfoque de desarrollo para iOS (nativo o alternativo). </h4><br>  Probamos las siguientes opciones de desarrollo alternativas para iOS: <br><br>  <b>Interfono / Cordova</b> <br><br>  PhoneGap fue creado originalmente por Nitobi.  En 2011, Adobe adquiri√≥ Nitobi y la marca PhoneGap.  Adobe luego transfiere una versi√≥n de PhoneGap, llam√°ndola Cordova, a la Fundaci√≥n Apache, dejando la marca PhoneGap y el producto en s√≠.  Como resultado, Cordova puede verse como un motor bajo el cap√≥ de PhoneGap (as√≠ como algunos otros marcos h√≠bridos).  PhoneGap, a su vez, agrega sus propias caracter√≠sticas adicionales a las capacidades de Cordova. <br><br>  PhoneGap es en muchos aspectos muy similar a Ionic.  Tambi√©n ofrece a los desarrolladores la capacidad de crear aplicaciones multiplataforma utilizando tecnolog√≠as web, y tambi√©n se basa en Apache Codova.  Sin embargo, PhoneGap no est√° vinculado a ning√∫n marco Javascript espec√≠fico, por lo que los desarrolladores tienen m√°s opciones sobre qu√© y c√≥mo crear√°n sus aplicaciones. <br><br>  Por desgracia, PhoneGap usa WebView (que es bastante lento en iOS), por lo que las cosas no siempre son brillantes con la velocidad de las aplicaciones creadas sobre la base de este marco. <br><br>  <b>Xamarin</b> <br><br>  Fundada en 2011, Xamarin, la familia de productos Xamarin, fue adquirida por Microsoft despu√©s de cinco a√±os de existencia.  Hoy en d√≠a, los productos Xamarin presentan un enfoque muy interesante para desarrollar aplicaciones m√≥viles multiplataforma en el mercado: las aplicaciones est√°n escritas en C #, luego Xamarin las compila en una aplicaci√≥n nativa para iOS o Android, mientras que Xamarin usa Mono como tecnolog√≠a subyacente, en lugar de multiplataforma. y se proporciona  Los desarrolladores de Xamarin dicen que las aplicaciones resultantes usan la API de plataforma nativa para la cual se compila la aplicaci√≥n, por lo que el comportamiento de la aplicaci√≥n resultante no es diferente del comportamiento de cualquier otra aplicaci√≥n en la misma plataforma.  El desarrollo, por cierto, se puede hacer usando Visual Studio (lo cual no es sorprendente). <br><br>  A pesar del hecho de que la mayor√≠a del c√≥digo del proyecto se puede usar sin cambios en cada una de las plataformas m√≥viles compatibles, sin embargo, algunos fragmentos deber√°n escribirse espec√≠ficamente para la versi√≥n de la aplicaci√≥n para iOS y Android. <br><br>  Pero tales enfoques dan la llamada aplicaci√≥n "h√≠brida". <br><br>  <b>Ventajas de opciones alternativas:</b> <br><br><ul><li>  multiplataforma (despu√©s de haber creado una aplicaci√≥n, se puede exportar para cualquier sistema operativo); </li><li>  El tiempo de desarrollo es menor que el nativo. </li></ul><br>  <b>Contras de alternativas:</b> <br><br><ul><li>  funciona m√°s lento que las aplicaciones nativas; </li><li>  no tiene acceso completo a las capacidades t√©cnicas del dispositivo; </li><li>  a menudo, los complementos existentes est√°n en desuso, por lo que a veces tiene que escribir el suyo propio; </li><li>  la interfaz de usuario se visualiza utilizando el navegador incorporado, y esto crea dificultades para obtener comentarios en comparaci√≥n con la aplicaci√≥n nativa; </li><li>  No todos los controles est√°n implementados. </li></ul><br>  Y decidimos continuar con el desarrollo "nativo" de nuestro proyecto. <br><br>  <b>La forma nativa de Apple</b> <br><br><h4>  4. En primer lugar, necesitamos una herramienta para desarrollar y escribir c√≥digo: necesitamos un c√≥digo X IDE </h4><br>  Xcode es un entorno de desarrollo de software integrado (IDE) para plataformas macOS, iOS, watchOS y tvOS desarrollado por Apple.  La primera versi√≥n se lanz√≥ en 2001.  Las versiones estables se distribuyen de forma gratuita a trav√©s de Mac App Store.  Los desarrolladores registrados tambi√©n tienen acceso a las versiones beta a trav√©s del sitio web de desarrolladores de Apple. <br><br>  As√≠ es como se ve crear y trabajar en una aplicaci√≥n simple como la aplicaci√≥n Single View en Xcode: <br><br><img src="https://habrastorage.org/webt/ot/rn/oy/otrnoyg_r3psekm9kqt9hjboxa8.jpeg"><br><br><img src="https://habrastorage.org/webt/ej/8q/4f/ej8q4fbzcbta_iv7-i7vevdt7su.jpeg"><br><br>  <b>Algunos puntos interesantes sobre Xcode:</b> <br><br>  Xcode ofrece un kit de herramientas muy conveniente para crear una interfaz de usuario (interfaz de usuario): Storyboard. <br><br><img src="https://habrastorage.org/webt/am/yl/m6/amylm6slsqtl_i7a2_hg_j8o7yg.jpeg"><br><br><img src="https://habrastorage.org/webt/4q/wd/jn/4qwdjneqzwgkwyfl2xavd83bbby.jpeg"><br><br>  Pero la mayor√≠a de los proyectos (aplicaciones) para iOS no son atendidos por un desarrollador, sino por varios (el equipo de desarrollo), y cuando se usa un Storyboard para todas las pantallas de aplicaciones cuando se usan sistemas de control de versiones distribuidas (SVN, Mercurial, GIT, etc.), la fusi√≥n de desarrollos se convierte en verdadero infierno <br><br>  Nuestro equipo acord√≥ un enfoque: <b>un Storyboard - un ViewController</b> . <br>  Con este enfoque, el problema descrito anteriormente desaparece, ya que generalmente un desarrollador implementa una caracter√≠stica, es decir, todas las pantallas de esta caracter√≠stica. <br><br>  Para reducir la carga en el Gui√≥n gr√°fico al usar Segue, puede usar la funci√≥n <b>'Refactorizar al gui√≥n gr√°fico'</b> .  Esta refactorizaci√≥n del gui√≥n gr√°fico crea un enlace en el Gui√≥n gr√°fico principal, que conduce a un Gui√≥n gr√°fico nuevo e independiente, donde se implementa el ViewController deseado. <br><br>  Tambi√©n vale la pena se√±alar la herramienta de depuraci√≥n de Xcode - <b>Breakpoint</b> . <br>  Breakpoint es una herramienta de depuraci√≥n que le permite pausar la ejecuci√≥n del programa hasta cierto punto.  Eso nos permitir√° examinar el c√≥digo del programa (averiguar los valores de las variables en este momento, hacer algunos c√°lculos, etc.) para averiguar d√≥nde se producen los errores. <br><br><img src="https://habrastorage.org/webt/k4/gw/xd/k4gwxdcbh4wopoa00m3sz1msymg.jpeg"><br><br>  Esta herramienta es inteligente: tenemos botones de control de acceso (Step Over, Step Into), que manipulan lo que navegamos a trav√©s de nuestro c√≥digo.  Tambi√©n tenemos acceso para analizar los valores de las variables y trabajar con registros en la salida de la consola. <br>  Cuando Control-clic en el punto de interrupci√≥n del indicador muestra un men√∫ de comandos.  Aqu√≠ puede establecer condiciones adicionales para activar un punto de interrupci√≥n, agregar acciones, etc. <br>  Por ejemplo, establecemos una condici√≥n de activaci√≥n para el punto de interrupci√≥n: el paso variable tomar√° el valor 4. Y despu√©s de que se inicie la aplicaci√≥n, el programa detendr√° su ejecuci√≥n en este punto de interrupci√≥n solo cuando la variable de paso tome el valor 4 y no antes. <br><br><img src="https://habrastorage.org/webt/5a/qf/uk/5aqfukznzrumetfld57kj3urf9o.jpeg"><br><br>  Podemos agregar expresiones adicionales (¬°propiedades e incluso c√°lculos!). <br><br><h4>  5. Debe decidir sobre el lenguaje de programaci√≥n Objective-C o el nuevo Swift </h4><br>  El proyecto que obtuvimos fue escrito en Objective-C, pero el nuevo lenguaje de programaci√≥n Swift ya estaba en el horizonte. <br><br>  ¬øQu√© son estos lenguajes de programaci√≥n? <br><br>  Objective-C es un lenguaje de programaci√≥n compilado y orientado a objetos utilizado por Apple, construido sobre la base del lenguaje C y el paradigma Smalltalk.  En particular, el modelo de objetos est√° construido en el estilo Smalltalk, es decir, los mensajes se env√≠an a los objetos. <br><br>  El lenguaje Objective-C existe desde 1989, la √∫ltima vez que se actualiz√≥ en 2006, m√°s <br>  Hace 10 a√±os  La popularidad de iOS est√° en constante crecimiento, lo que requiere mejorar la calidad de la aplicaci√≥n.  Para trabajar con Objective-C, se requiere un desarrollador altamente calificado. <br><br>  Todo esto se convirti√≥ en requisitos previos para la creaci√≥n del lenguaje de programaci√≥n Swift. <br><br>  Apple comenz√≥ a desarrollar Swift en 2010.  El 2 de junio de 2014, este idioma fue presentado oficialmente en la Conferencia Mundial de Desarrolladores de Apple (WWDC).  Una gu√≠a gratuita de 500 p√°ginas para usarlo estaba disponible en la iBook Store. <br><br>  Swift 1.0 fue lanzado el 9 de septiembre de 2014 junto con la versi√≥n Gold Master de Xcode 6.0 para iOS. <br>  El 8 de junio de 2015, Apple lanz√≥ una nueva versi√≥n de Swift 2.0 con un rendimiento mejorado y una nueva API de manejo de errores.  La sintaxis del idioma ha mejorado, ha aparecido una funci√≥n para verificar la disponibilidad de las funciones de Swift para los sistemas operativos de destino. <br><br>  El 3 de diciembre de 2015, se lanz√≥ una versi√≥n beta de Swift 3.0 con soporte para OS X, iOS y Linux, bajo licencia de c√≥digo abierto Apache 2.0. <br><br>  El 19 de septiembre de 2017, se lanz√≥ Swift 4.0. <br><br>  En septiembre de 2018, junto con la nueva versi√≥n de iOS 12, se lanz√≥ una nueva versi√≥n estable del lenguaje Swift 4.2 y apareci√≥ una versi√≥n beta de Swift 5.0.  La versi√≥n 5.0 finalmente anunci√≥ el funcionamiento estable de ABI con bibliotecas est√°ndar (Swift Dynamic Library), soporte para expresiones regulares y una soluci√≥n de primera clase para procesamiento de datos en paralelo con modo de procesamiento as√≠ncrono / espera. <br><br>  <b>En base a lo anterior, decidimos usar solo Swift en formularios nuevos, para admitir formularios antiguos, reescribi√©ndolos gradualmente.</b> <br><br><h4>  6. A continuaci√≥n, debe comprender la arquitectura del proyecto: decidimos dejar la arquitectura MVC de Apple </h4><br>  Model-View-Controller (MVC) asigna uno de los tres roles a los objetos en una aplicaci√≥n: modelo, vista o controlador.  La arquitectura define no solo los roles que juegan los objetos en la aplicaci√≥n, sino tambi√©n la forma en que los objetos interact√∫an entre s√≠.  Cada uno de los tres tipos de objetos est√° separado de los dem√°s por bordes abstractos e interact√∫a con objetos de otros tipos a trav√©s de estos bordes (https://developer.apple.com/library/archive/documentation/General/Conceptual/DevPedia-CocoaCore/MVC.html). <br><br><img src="https://habrastorage.org/webt/ft/mm/-u/ftmm-ulvbg7cig801mr1u2dqgok.jpeg"><br><br>  Pero, aplicando este enfoque, encontramos los siguientes problemas, que solo pudimos resolver cambiando a la nueva arquitectura en MKBMobile 3.0: <br><br><ul><li>  MVC no proporciona instrucciones claras sobre qu√© entidades y clases necesita crear y cu√°les no.  La estructura y arquitectura del modelo, as√≠ como su interacci√≥n con el controlador, permanecen enteramente en la conciencia y la imaginaci√≥n de los desarrolladores. </li><li>  Mala comprensi√≥n del √°rea de dominio.  Es decir  cuando un desarrollador agrega nueva funcionalidad, en lugar de crear nuevas entidades y refactorizar la arquitectura existente, se agrega nueva funcionalidad al ViewController.  Lo que condujo al siguiente problema: Massive View Controller: mucho c√≥digo dentro de ViewController. </li></ul><br><h4>  7. Y lo m√°s dulce es el SDK de iOS (https://developer.apple.com/documentation/) </h4><br>  El SDK de iOS proporciona una gran cantidad de Frameworks. <br><br>  Usamos la siguiente lista de marcos con particular entusiasmo en una aplicaci√≥n bancaria: <br><br><ul><li>  PushKit y UserNotifications para trabajar con notificaciones push; </li><li>  PassKit para trabajar con Apple Pay; </li><li>  CallKit (junto con WebRTC) para trabajar con servicios de VoIP; </li><li>  Fundaci√≥n AV para trabajar con recursos de audio; </li><li>  Contactos para obtener acceso a los contactos del usuario; </li><li>  CommonCrypto para trabajar con funciones criptogr√°ficas. </li></ul><br>  <b>Entonces, hemos decidido lo necesario, estamos cargados y listos para los logros ...</b> <br><br>  Durante alg√∫n tiempo, las nuevas caracter√≠sticas (funcionalidad: nuevas transferencias, pagos, productos bancarios (tarjetas, pr√©stamos, etc.) estaban bien integradas en la aplicaci√≥n. <br><br>  Pero luego la aplicaci√≥n se volvi√≥ <b>engorrosa e inconveniente</b> . <br><br>  <b>Entonces, el proyecto MKBMobile 2.0 apareci√≥ con una idea de interfaz audaz: Trello Pages.</b> <br><br>  El enfoque de Trello Pages, de hecho, es tableros unidos a la parte superior de la pantalla, en nuestra versi√≥n, a la barra de navegaci√≥n superior.  El enfoque le permite hacer una navegaci√≥n r√°pida entre tableros (p√°ginas). <br><br><img src="https://habrastorage.org/webt/-x/jm/2a/-xjm2airtlpo3vddxzdqfs0fi4a.jpeg"><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ia/sd/n_/iasdn_pyjgtd0ccih10ojxq16ra.jpeg" width="500"></div><br>  Las ventajas de este enfoque: <br><br><ul><li>  escalabilidad, espacio infinito izquierda / derecha y abajo; </li><li>  separabilidad, cada tipo de funcionalidad se coloc√≥ en una p√°gina separada; </li><li>  Perfecto para iPad y iPhone. </li></ul><br>  Pero hab√≠a algunas desventajas en esta idea: <br><br><ul><li>  Los principales elementos del men√∫ de navegaci√≥n ten√≠an un acceso dif√≠cil; </li><li>  las notificaciones push entrantes y las notificaciones por SMS crearon dificultades adicionales para trabajar con el men√∫ de navegaci√≥n superior; </li><li>  Este enfoque no cumpl√≠a con las Directrices de interfaz humana de Apple. </li></ul><br>  <b>As√≠ naci√≥ la versi√≥n actual del banco m√≥vil ICD, MKBMobile 3.0.</b> <br><br>  En esta versi√≥n, hemos adoptado el modelo de navegaci√≥n cl√°sico de Apple HIG (Human Interface Guidelines) TabBar inferior. <br><br><img src="https://habrastorage.org/webt/3d/xp/1v/3dxp1v-ubtrfws7civpzvprhlbo.jpeg"><br><br><img src="https://habrastorage.org/webt/fo/un/ju/founjuslokljcbzy0ozji8qqfue.jpeg"><br><br>  Pasando a esta versi√≥n, hemos adquirido mucha experiencia negativa usando la arquitectura MVC cl√°sica de Apple. <br><br>  Nuestro equipo creci√≥ y necesit√°bamos un umbral bajo para que nuevos empleados ingresaran al proyecto. <br>  Adem√°s, un punto m√°s no nos molest√≥: las pruebas unitarias del comportamiento de los elementos gr√°ficos, para las cuales se usaron las pruebas a trav√©s de la Prueba de IU Xcode, que fue un largo proceso de lanzamiento de una aplicaci√≥n en un emulador (dispositivo) con emulaci√≥n de las acciones del usuario. <br><br>  Todos estos requisitos dieron como resultado el uso de un nuevo enfoque arquitect√≥nico: VIPER. <br>  Modelo VIPER cl√°sico: <br><br><img src="https://habrastorage.org/webt/4q/0z/be/4q0zbeu8dlninirc7kxyfgwvtkm.jpeg"><br><br>  Pero, despu√©s de analizar muchos enfoques en la implementaci√≥n de VIPER para iOS, nos decidimos por la soluci√≥n Rambler &amp; Co con nuestras digresiones. <br><br>  Como base ponemos un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">libro de Rambler &amp; Co.</a> <br><br><img src="https://habrastorage.org/webt/sa/bk/uv/sabkuvhq4djnpsf70abil0dcqqk.jpeg"><br><br>  Las principales tareas que VIPER nos ayud√≥ a resolver: <br><br><ul><li>  partici√≥n de clases grandes (controladores de vista masiva) con l√≠mites de responsabilidad m√°s o menos claramente definidos; </li><li>  aplicaci√≥n de principios S√ìLIDOS en todo su esplendor; </li><li>  umbral bajo para nuevos empleados que ingresan al proyecto; </li><li>  Prueba de unidad de IU. </li></ul><br>  Es importante tener en cuenta de inmediato que VIPER no es en absoluto un conjunto de plantillas y reglas estrictas.  M√°s bien, esta es una lista de recomendaciones, despu√©s de las cuales puede construir una arquitectura de aplicaci√≥n m√≥vil flexible y reutilizable. <br><br>  C√≥mo comenz√≥ a verse nuestro proyecto: <br><br><img src="https://habrastorage.org/webt/b3/qj/lu/b3qjlupkt2kxpxzimoer4h9a9t8.jpeg"><br><br>  La estructura del m√≥dulo VIPER en nuestra implementaci√≥n: <br><br>  1. La m√°s "principal" es la clase M√≥dulo, sabe todo sobre todos, crea los objetos de los servicios necesarios para Interactor, sabe c√≥mo conectar todas las partes entre s√≠ Vista, Enrutador, Presentador, etc. <br><br><img src="https://habrastorage.org/webt/hy/d_/ab/hyd_absdyigci8l6hmoa9ue9k5i.jpeg"><br><br>  Tambi√©n proporciona comunicaci√≥n con otros m√≥dulos VIPER a trav√©s de los protocolos de entrada y salida ModuleInput y ModuleOutput. <br><br>  Protocolos de entrada y salida similares tienen todas las partes del m√≥dulo VIPER (Ver, Enrutador, Presentador, etc.). <br><br>  Acordamos: si no hay necesidad de protocolos o partes del m√≥dulo VIPER, no los usamos y no reservamos clases vac√≠as para ellos. <br><br>  2. Interactores (Interactor): oculta la l√≥gica empresarial. <br><br>  Hemos introducido una capa adicional de servicios.  Servicio: un objeto que es responsable de trabajar con su tipo de datos espec√≠fico.  Por ejemplo, un servicio del sistema de ayuda es responsable de los directorios (archivos de acuerdos, detalles, etc.) <br><br>  3. Presentador: recibe informaci√≥n de la Vista sobre las acciones del usuario y la convierte en solicitudes de Enrutador, Interactor, y tambi√©n recibe datos de Interactor, los prepara y env√≠a la Vista para su visualizaci√≥n. <br><br>  4. Enrutador: es responsable de la navegaci√≥n entre m√≥dulos. <br><br>  5. Ver: es responsable de mostrar los datos en la pantalla y notifica al presentador sobre las acciones del usuario.  Pasiva, nunca solicita datos, solo los recibe de Presenter. <br><br>  <b>Nuestros m√≥dulos pueden ser compuestos.</b> <br><br>  Es decir, incluir m√≥dulos VIPER independientes.  Por ejemplo, la p√°gina principal del producto consta de un conjunto de partes independientes: saldo, widget de plantilla, secciones de diferentes tipos de productos bancarios y tasas de cambio. <br><br>  Todas estas partes son independientes y pueden vivir sus propias vidas: tienen su propia API con el servidor del banco, tienen modelos de datos independientes.  Para mostrarlos en la p√°gina principal, se preparan contenedores (Vista principal), donde se insertan estos widgets (Vista). <br><br><img src="https://habrastorage.org/webt/2s/h9/md/2sh9md7cyl_f4wbtcwlzjfaaxcg.jpeg"><br><br><img src="https://habrastorage.org/webt/oc/bt/o6/ocbto67m6waevxvly_87td3s4gk.jpeg"><br><br>  <b>Nuestra aplicaci√≥n m√≥vil para iOS est√° en constante crecimiento y desarrollo.</b>  <b>Es utilizado por m√°s y m√°s de nuestros clientes.</b> <b><br></b> <br><br><img src="https://habrastorage.org/webt/ow/wx/kd/owwxkdg4yjzlwxgapay60apmamw.jpeg"><br><br>  ¬øCu√°les son las siguientes herramientas que planeamos presentar? <br><br><ul><li>  SwiftLint, una utilidad de los desarrolladores de Realm para la verificaci√≥n autom√°tica del c√≥digo Swift; </li><li>  CI completo basado en fastlane; </li><li>  Uso completo de instrumentos de Xcode (asignaciones, fugas, zombis, etc.) </li></ul><br>  Sigue nuestros art√≠culos!  ¬°Nos vemos y gracias por su atenci√≥n! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/467057/">https://habr.com/ru/post/467057/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../467041/index.html">C√≥mo digitalizamos Kazajst√°n</a></li>
<li><a href="../467043/index.html">Importar OpenStreetMap. Desde la fuente binaria hasta la tabla en la base de datos en unos pocos pasos</a></li>
<li><a href="../467047/index.html">Fen√≥meno XY: evitar problemas "incorrectos"</a></li>
<li><a href="../467049/index.html">Gu√≠a completa de Flexbox</a></li>
<li><a href="../467053/index.html">Comprender los conceptos b√°sicos de Blockchain: el desaf√≠o de los generales bizantinos. Parte 1</a></li>
<li><a href="../467061/index.html">Fila babil√≥nica: 5 problemas de seguridad en el negocio de la construcci√≥n</a></li>
<li><a href="../467063/index.html">Monitoreo de combustible para generadores diesel de centros de datos: ¬øc√≥mo hacerlo y por qu√© es tan importante?</a></li>
<li><a href="../467065/index.html">Archivo de problemas ol√≠mpicos en f√≠sica para escolares</a></li>
<li><a href="../467073/index.html">‚ÄúEn Occidente, no hay directores de arte menores de 40 a√±os. Con nosotros puede ser hasta 30. " ¬øC√≥mo es ser dise√±ador en TI?</a></li>
<li><a href="../467079/index.html">CSS y Javascript Carrusel de hormigas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>