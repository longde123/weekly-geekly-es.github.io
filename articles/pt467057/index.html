<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôÖ ü§∂üèΩ üß• ICD Mobile Banking: Hist√≥ria do Desenvolvimento ü§õ üò® üßíüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Oleg Ivanov, Chefe do Centro de Compet√™ncia em Canais de Servi√ßo Remoto, Departamento de Desenvolvimento de TI, Diretoria de Tecnologias da Informa√ß√£o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ICD Mobile Banking: Hist√≥ria do Desenvolvimento</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mkb/blog/467057/">  <b>Oleg Ivanov, Chefe do Centro de Compet√™ncia em Canais de Servi√ßo Remoto, Departamento de Desenvolvimento de TI, Diretoria de Tecnologias da Informa√ß√£o, Moscow Credit Bank (ICD)</b> <br><br>  Para n√≥s, o desenvolvimento de um aplicativo m√≥vel come√ßou do zero, portanto, neste artigo, come√ßaremos do in√≠cio: determinando o que √© e quais fun√ß√µes ele deve ter.  E ent√£o, percorreremos todo o caminho - desde a compra de novos gadgets at√© o teste do aplicativo e o lan√ßamento.  Contaremos a hist√≥ria do desenvolvimento de nossa aplica√ß√£o com recuos tecnol√≥gicos.  Vamos descrever quais problemas encontramos.  Infelizmente, n√£o seremos capazes de cobrir todas as abordagens, princ√≠pios e solu√ß√µes tecnol√≥gicas que foram usadas no desenvolvimento deste artigo de revis√£o, mas nos concentraremos nos pontos mais interessantes. <br><a name="habracut"></a><br>  Al√©m disso, haver√° √™nfase no desenvolvimento para iOS.  Antes de come√ßar, vamos decidir o que √© o Mobile Bank. <br><br>  <b>Um banco m√≥vel</b> √© o gerenciamento de contas banc√°rias usando o aplicativo banc√°rio em um smartphone (iPhone, etc.), um computador tablet (iPad, Samsung Galaxy Tab etc.).  Para opera√ß√µes banc√°rias, √© necess√°ria uma confirma√ß√£o em duas etapas, usando c√≥digos √∫nicos via mensagens SMS. <br><br>  As principais opera√ß√µes banc√°rias do Mobile Bank: <br><br><ul><li>  uso de produtos banc√°rios (contas, cart√µes, dep√≥sitos, empr√©stimos, pacotes de servi√ßos etc.) </li><li>  ver saldo da conta </li><li>  declara√ß√£o </li><li>  pagamento de contas por servi√ßos m√≥veis </li><li>  pagamento de servi√ßos de habita√ß√£o </li><li>  transferir fundos de cart√£o para cart√£o </li><li>  pagamentos regulares </li><li>  reembolso de empr√©stimos </li><li>  transfer√™ncia de fundos para dep√≥sito </li><li>  bloqueio de cart√£o de pagamento </li><li>  e outros </li></ul><br>  Aplicativos banc√°rios m√≥veis s√£o aplicativos banc√°rios na Internet adaptados para telas pequenas de smartphones e para sistemas operacionais (iOS da Apple, Android do Google) instalados em dispositivos m√≥veis.  Vale ressaltar que a gama de modelos de dispositivos executando o sistema operacional Android √© muito ampla: Samsung, LG, Xiaomi, Huawei etc., o que complica o desenvolvimento e o suporte do aplicativo para Android. <br><br><h3>  Fonte - MKBMobile 1.0 </h3><br>  O projeto de aplica√ß√£o do Mobile Bank foi transferido para nossa equipe de uma empresa terceirizada, escrito no objetivo C. <br><br>  √â assim que o projeto olhou atrav√©s dos olhos do usu√°rio: <br><br><img src="https://habrastorage.org/webt/es/zm/r2/eszmr2iam-erg1otkrbbh_kekpw.jpeg"><br><br><img src="https://habrastorage.org/webt/cm/eq/o7/cmeqo7ykwnjydolf-q_pxtt0n3y.jpeg"><br><br>  Este projeto tornou-se uma startup e um teste de nossas capacidades.  Nossa equipe teve poucas experi√™ncias de desenvolvimento para a plataforma m√≥vel iOS, mas assumimos o projeto com ousadia. <br><br>  Por onde come√ßar?  Quando pensamos em desenvolver para iOS, a primeira coisa que precisamos: <br><br><h4>  1. Precisa do iMac </h4><br>  A Apple √© famosa pelo alto pre√ßo de seus produtos.  Mas economizar n√£o vale a pena - esta √© a velocidade do seu desenvolvimento! <br><br>  Uma configura√ß√£o aproximada e ideal que nos conv√©m: <br><br><ul><li>  Processador Intel Core i5 de s√©tima gera√ß√£o com velocidade de clock de 3,8 GHz (Turbo Boost de at√© 4,2 GHz) </li><li>  DDR4 de 32 GB 2400 MHz </li><li>  Unidade de fus√£o de 2 TB </li><li>  GPU Radeon Pro 580 com 8GB de VRAM </li></ul><br>  O custo aproximado dessa m√°quina √© de 190.000 rublos. <br><br>  H√° uma opini√£o - para os programadores precisam do iMac Pro.  √â assim :) Mas o pre√ßo por eles √© pequeno e, se sua empresa estiver pronta para compr√°-los, isso aumentar√° a velocidade do seu desenvolvimento e, √© claro, aumentar√° o n√≠vel est√©tico do seu escrit√≥rio. <br><br><h4>  2. Precisa de dispositivos iOS </h4><br>  "Quanto e qual?"  - a primeira pergunta surge.  Tudo depende da sua aplica√ß√£o. <br>  Se o seu aplicativo suportar apenas o iPhone, pelo menos 2 tamanhos diferentes ser√£o pequenos (por exemplo, iPhone SE) e grandes (por exemplo, iPhone 8 Plus). <br><br>  Se o seu aplicativo tamb√©m suportar iPad, voc√™ precisar√° de um iPad. <br><br>  Em seguida, vem o sistema operacional - seu versionamento.  Se o seu aplicativo suportar a vers√£o m√≠nima, por exemplo, a partir do iOS 8.0, voc√™ precisar√° estocar no dispositivo cada n√∫mero de s√©rie do iOS e lembre-se de "preservar" (n√£o atualize) esta vers√£o no dispositivo e monitorar a apar√™ncia de novas vers√µes do iOS, sem esquecer de selecionar um conjunto para ele dispositivos. <br><br>  Obviamente, pela primeira vez, voc√™ pode conviver com os simuladores do Xcode, mas os dispositivos f√≠sicos imp√µem suas pr√≥prias colis√µes que n√£o aparecem nos simuladores. <br><br>  Se voc√™ n√£o deseja ter seu pr√≥prio farm de dispositivos, pode procurar as partes das empresas que oferecem este servi√ßo: AWS Device Farm, Xamarin Test Cloud etc. <br><br>  Como j√° mencionado, nosso aplicativo √© suportado para iPhone e iPad.  No momento da reda√ß√£o deste artigo, nosso pr√≥prio Farm (!) Possui cerca de 30 dispositivos de diferentes tipos e vers√µes do sistema operacional. <br><br><h4>  3. Voc√™ precisa decidir sobre a abordagem de desenvolvimento para iOS (nativa ou alternativa). </h4><br>  Tentamos as seguintes op√ß√µes alternativas de desenvolvimento para iOS: <br><br>  <b>Phonegap / Cordova</b> <br><br>  PhoneGap foi criado originalmente por Nitobi.  Em 2011, a Adobe adquiriu a Nitobi e a marca PhoneGap.  A Adobe ent√£o transfere uma vers√£o do PhoneGap, denominada Cordova, para a Apache Foundation, deixando a marca PhoneGap e o pr√≥prio produto.  Como resultado, o Cordova pode ser visto como um mecanismo sob o cap√¥ do PhoneGap (assim como outras estruturas h√≠bridas).  O PhoneGap, por sua vez, adiciona seus pr√≥prios recursos adicionais aos recursos do Cordova. <br><br>  O PhoneGap √©, de muitas maneiras, muito semelhante ao Ionic.  Ele tamb√©m oferece aos desenvolvedores a capacidade de criar aplicativos de plataforma cruzada usando tecnologias da Web e tamb√©m √© constru√≠do com base no Apache Codova.  No entanto, o PhoneGap n√£o est√° vinculado a nenhuma estrutura Javascript espec√≠fica; portanto, os desenvolvedores t√™m mais op√ß√µes sobre o que e como criar√£o seus aplicativos. <br><br>  Infelizmente, o PhoneGap usa o WebView (que √© bastante lento no iOS), ent√£o as coisas nem sempre s√£o brilhantes com a velocidade dos aplicativos criados com base nessa estrutura. <br><br>  <b>Xamarin</b> <br><br>  Fundada em 2011, a Xamarin, a fam√≠lia de produtos Xamarin, foi adquirida pela Microsoft ap√≥s cinco anos de exist√™ncia.  Hoje, os produtos Xamarin apresentam uma abordagem muito interessante para o desenvolvimento de aplicativos m√≥veis de plataforma cruzada no mercado: os aplicativos s√£o escritos em C # e, em seguida, o Xamarin o compila em um aplicativo nativo para iOS ou Android, enquanto o Xamarin usa o Mono como a tecnologia subjacente, em vez da plataforma cruzada. e √© fornecido.  Os desenvolvedores do Xamarin dizem que os aplicativos resultantes usam a API da plataforma nativa para a qual o aplicativo √© compilado; portanto, o comportamento do aplicativo resultante n√£o √© diferente do comportamento de qualquer outro aplicativo na mesma plataforma.  O desenvolvimento, a prop√≥sito, pode ser feito usando o Visual Studio (o que n√£o √© surpreendente). <br><br>  Apesar do fato de que a maior parte do c√≥digo do projeto pode ser usada sem altera√ß√µes em cada uma das plataformas m√≥veis suportadas, no entanto, alguns fragmentos precisam ser escritos especificamente para a vers√£o do aplicativo para iOS e Android. <br><br>  Mas essas abordagens fornecem a chamada aplica√ß√£o "h√≠brida". <br><br>  <b>Vantagens de op√ß√µes alternativas:</b> <br><br><ul><li>  multiplataforma (tendo feito um aplicativo, ele pode ser exportado para qualquer sistema operacional); </li><li>  o tempo de desenvolvimento √© menor que o nativo. </li></ul><br>  <b>Contras de alternativas:</b> <br><br><ul><li>  trabalha mais devagar que aplicativos nativos; </li><li>  n√£o tem acesso total aos recursos t√©cnicos do dispositivo; </li><li>  geralmente os plug-ins existentes s√£o preteridos, ent√£o √†s vezes voc√™ precisa escrever seus pr√≥prios; </li><li>  a interface do usu√°rio √© visualizada usando o navegador interno, e isso cria dificuldades em obter feedback comparado ao aplicativo nativo; </li><li>  nem todos os controles s√£o implementados. </li></ul><br>  E decidimos continuar o desenvolvimento "nativo" do nosso projeto. <br><br>  <b>Caminho nativo da Apple</b> <br><br><h4>  4. Primeiro de tudo, precisamos de uma ferramenta para desenvolver e escrever c√≥digo - precisamos de um IDE Xcode </h4><br>  O Xcode √© um ambiente de desenvolvimento de software (IDE) integrado para plataformas macOS, iOS, watchOS e tvOS desenvolvido pela Apple.  A primeira vers√£o foi lan√ßada em 2001.  As vers√µes est√°veis ‚Äã‚Äãs√£o distribu√≠das gratuitamente pela Mac App Store.  Os desenvolvedores registrados tamb√©m t√™m acesso √†s vers√µes beta atrav√©s do site da Apple Developer. <br><br>  √â assim que a cria√ß√£o e o trabalho em um aplicativo simples como o Single View App no ‚Äã‚ÄãXcode se parecem: <br><br><img src="https://habrastorage.org/webt/ot/rn/oy/otrnoyg_r3psekm9kqt9hjboxa8.jpeg"><br><br><img src="https://habrastorage.org/webt/ej/8q/4f/ej8q4fbzcbta_iv7-i7vevdt7su.jpeg"><br><br>  <b>Alguns pontos interessantes sobre o Xcode:</b> <br><br>  O Xcode oferece um kit de ferramentas muito conveniente para criar uma UI (interface do usu√°rio) - Storyboard. <br><br><img src="https://habrastorage.org/webt/am/yl/m6/amylm6slsqtl_i7a2_hg_j8o7yg.jpeg"><br><br><img src="https://habrastorage.org/webt/4q/wd/jn/4qwdjneqzwgkwyfl2xavd83bbby.jpeg"><br><br>  Mas a maioria dos projetos (aplicativos) para iOS √© atendida n√£o por um desenvolvedor, mas por v√°rios (a equipe de desenvolvimento), e ao usar um Storyboard para todas as telas de aplicativos ao usar sistemas de controle de vers√£o distribu√≠dos (SVN, Mercurial, GIT etc.), a fus√£o de desenvolvimentos se transforma em inferno real. <br><br>  Nossa equipe concordou com uma abordagem: <b>um Storyboard - um ViewController</b> . <br>  Com essa abordagem, o problema descrito acima desaparece, pois geralmente um desenvolvedor implementa um recurso, ou seja, todas as telas desse recurso. <br><br>  Para reduzir a carga no Storyboard ao usar o Segue, voc√™ pode usar a fun√ß√£o <b>'Refatorar no storyboard'</b> .  Essa refatora√ß√£o do storyboard cria um link no Storyboard pai, o que leva a um novo Storyboard separado, onde o ViewController desejado √© implementado. <br><br>  Tamb√©m digno de nota √© a ferramenta de depura√ß√£o do Xcode - <b>Breakpoint</b> . <br>  O ponto de interrup√ß√£o √© uma ferramenta de depura√ß√£o que permite pausar a execu√ß√£o do programa at√© um determinado ponto.  Isso nos permitir√° examinar o c√≥digo do programa (descobrir os valores das vari√°veis ‚Äã‚Äãno momento, fazer alguns c√°lculos, etc.) para descobrir onde os erros ocorrem. <br><br><img src="https://habrastorage.org/webt/k4/gw/xd/k4gwxdcbh4wopoa00m3sz1msymg.jpeg"><br><br>  Essa ferramenta √© inteligente: temos bot√µes de controle de acesso (Step Over, Step Into), manipulando os quais navegamos pelo nosso c√≥digo.  Tamb√©m temos acesso √† an√°lise dos valores das vari√°veis ‚Äã‚Äãe ao trabalho com logs na sa√≠da do console. <br>  Quando a tecla Control pressionada no ponto de interrup√ß√£o do indicador exibe um menu de comandos.  Aqui voc√™ pode definir condi√ß√µes adicionais para acionar um ponto de interrup√ß√£o, adicionar a√ß√µes etc. <br>  Por exemplo, definimos uma condi√ß√£o de acionamento para o ponto de interrup√ß√£o: a vari√°vel step assumir√° o valor 4. E depois que o aplicativo iniciar, o programa interromper√° sua execu√ß√£o nesse ponto de interrup√ß√£o somente quando a vari√°vel step aceitar o valor 4 e n√£o antes. <br><br><img src="https://habrastorage.org/webt/5a/qf/uk/5aqfukznzrumetfld57kj3urf9o.jpeg"><br><br>  Podemos adicionar Express√£o adicional (propriedades e at√© c√°lculos!). <br><br><h4>  5. Voc√™ precisa decidir sobre a linguagem de programa√ß√£o Objective-C ou o novo Swift </h4><br>  O projeto que recebemos foi escrito em Objective-C, mas a nova linguagem de programa√ß√£o Swift j√° estava no horizonte. <br><br>  Quais s√£o essas linguagens de programa√ß√£o? <br><br>  O Objective-C √© uma linguagem de programa√ß√£o compilada e orientada a objetos usada pela Apple, constru√≠da com base na linguagem C e no paradigma Smalltalk.  Em particular, o modelo de objeto √© criado no estilo Smalltalk - ou seja, as mensagens s√£o enviadas aos objetos. <br><br>  A linguagem Objective-C existe desde 1989, a √∫ltima vez que foi atualizada em 2006, mais <br>  10 anos atr√°s.  A popularidade do iOS est√° em constante crescimento, o que requer a melhoria da qualidade do aplicativo.  Para trabalhar com o Objective-C, √© necess√°rio um desenvolvedor altamente qualificado. <br><br>  Tudo isso se tornou pr√©-requisito para a cria√ß√£o da linguagem de programa√ß√£o Swift. <br><br>  A Apple come√ßou a desenvolver Swift em 2010.  Em 2 de junho de 2014, esse idioma foi oficialmente apresentado na Apple Worldwide Developer Conference (WWDC).  Um guia gratuito de 500 p√°ginas para us√°-lo estava dispon√≠vel na iBook Store. <br><br>  O Swift 1.0 foi lan√ßado em 9 de setembro de 2014, juntamente com a vers√£o Gold Master do Xcode 6.0 para iOS. <br>  Em 8 de junho de 2015, a Apple lan√ßou uma nova vers√£o do Swift 2.0 com melhor desempenho e uma nova API de tratamento de erros.  A sintaxe do idioma foi aprimorada; uma fun√ß√£o para verificar a disponibilidade das fun√ß√µes Swift nos sistemas operacionais de destino foi exibida. <br><br>  Em 3 de dezembro de 2015, uma vers√£o beta do Swift 3.0 foi lan√ßada com suporte para OS X, iOS e Linux, licenciado sob a licen√ßa Apache 2.0 de c√≥digo aberto. <br><br>  Em 19 de setembro de 2017, o Swift 4.0 foi lan√ßado. <br><br>  Em setembro de 2018, juntamente com a nova vers√£o do iOS 12, uma nova vers√£o est√°vel do idioma Swift 4.2 foi lan√ßada e uma vers√£o beta do Swift 5.0 apareceu.  A vers√£o 5.0 finalmente anunciou a opera√ß√£o est√°vel da ABI com bibliotecas padr√£o (Swift Dynamic Library), suporte para express√µes regulares e uma solu√ß√£o de primeira classe para processamento de dados paralelos com o modo de processamento ass√≠ncrono / aguardado. <br><br>  <b>Com base no exposto, decidimos usar apenas o Swift em novas formas, para suportar formas antigas, reescrevendo-as gradualmente.</b> <br><br><h4>  6. Em seguida, voc√™ precisa entender a arquitetura do projeto - decidimos deixar a arquitetura MVC da Apple </h4><br>  O Model-View-Controller (MVC) atribui uma das tr√™s fun√ß√µes aos objetos em um aplicativo: modelo, exibi√ß√£o ou controlador.  A arquitetura define n√£o apenas as fun√ß√µes que os objetos desempenham no aplicativo, mas tamb√©m a maneira como os objetos interagem entre si.  Cada um dos tr√™s tipos de objetos √© separado dos outros por bordas abstratas e interage com objetos de outros tipos por essas bordas (https://developer.apple.com/library/archive/documentation/General/Conceptual/DevPedia-CocoaCore/MVC.html). <br><br><img src="https://habrastorage.org/webt/ft/mm/-u/ftmm-ulvbg7cig801mr1u2dqgok.jpeg"><br><br>  Mas, aplicando essa abordagem, encontramos os seguintes problemas, que pudemos resolver apenas mudando para a nova arquitetura no MKBMobile 3.0: <br><br><ul><li>  O MVC n√£o fornece instru√ß√µes claras sobre quais entidades e classes voc√™ precisa criar e quais n√£o.  A estrutura e a arquitetura do modelo, bem como sua intera√ß√£o com o controlador, permanecem inteiramente na consci√™ncia e imagina√ß√£o do (s) desenvolvedor (es). </li><li>  M√° compreens√£o da √°rea de dom√≠nio.  I.e.  quando um desenvolvedor adiciona novas funcionalidades, em vez de criar novas entidades e refatorar a arquitetura existente, novas funcionalidades s√£o adicionadas ao ViewController.  O que levou ao seguinte problema: Massive View Controller - muito c√≥digo no ViewController. </li></ul><br><h4>  7. E o mais legal √© o SDK do iOS (https://developer.apple.com/documentation/) </h4><br>  O iOS SDK fornece um grande n√∫mero de Frameworks. <br><br>  Usamos a seguinte lista de estruturas com entusiasmo especial em um aplicativo banc√°rio: <br><br><ul><li>  PushKit e UserNotifications para trabalhar com notifica√ß√µes push; </li><li>  PassKit por trabalhar com o Apple Pay; </li><li>  CallKit (em conjunto com WebRTC) por trabalhar com servi√ßos de VoIP; </li><li>  AVFoundation para trabalhar com recursos de √°udio; </li><li>  Contatos para obter acesso aos contatos do usu√°rio; </li><li>  CommonCrypto para trabalhar com fun√ß√µes criptogr√°ficas. </li></ul><br>  <b>Ent√£o, decidimos o necess√°rio, somos cobrados e prontos para realiza√ß√µes ...</b> <br><br>  Por algum tempo, novos recursos (funcionalidade - novas transfer√™ncias, pagamentos, produtos banc√°rios (cart√µes, empr√©stimos etc.) foram incorporados ao aplicativo. <br><br>  Mas ent√£o o aplicativo se tornou <b>complicado e inconveniente</b> . <br><br>  <b>Ent√£o, o projeto MKBMobile 2.0 apareceu com uma ideia ousada de interface - Trello Pages.</b> <br><br>  A abordagem das p√°ginas do Trello, na verdade, s√£o quadros anexados √† parte superior da tela, em nossa vers√£o, √† barra de navega√ß√£o superior.  A abordagem permite que voc√™ fa√ßa uma navega√ß√£o r√°pida entre pain√©is (p√°ginas). <br><br><img src="https://habrastorage.org/webt/-x/jm/2a/-xjm2airtlpo3vddxzdqfs0fi4a.jpeg"><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ia/sd/n_/iasdn_pyjgtd0ccih10ojxq16ra.jpeg" width="500"></div><br>  As vantagens desta abordagem: <br><br><ul><li>  escalabilidade, espa√ßo infinito esquerdo / direito e baixo; </li><li>  separabilidade, cada tipo de funcionalidade foi colocada em uma p√°gina separada; </li><li>  Perfeito para iPad e iPhone. </li></ul><br>  Mas havia algumas desvantagens nessa id√©ia: <br><br><ul><li>  Os itens principais do menu de navega√ß√£o estavam com acesso dif√≠cil; </li><li>  as notifica√ß√µes push recebidas e as notifica√ß√µes SMS criaram dificuldades adicionais ao trabalhar com o menu de navega√ß√£o superior; </li><li>  essa abordagem n√£o estava em conformidade com as Diretrizes de interface humana da Apple. </li></ul><br>  <b>Assim, a vers√£o atual do banco m√≥vel ICD, MKBMobile 3.0, nasceu.</b> <br><br>  Nesta vers√£o, adotamos o modelo de navega√ß√£o cl√°ssico do TabBar inferior da Apple HIG (Human Interface Guidelines). <br><br><img src="https://habrastorage.org/webt/3d/xp/1v/3dxp1v-ubtrfws7civpzvprhlbo.jpeg"><br><br><img src="https://habrastorage.org/webt/fo/un/ju/founjuslokljcbzy0ozji8qqfue.jpeg"><br><br>  Passando para esta vers√£o, adquirimos muita experi√™ncia negativa usando a arquitetura MVC cl√°ssica da Apple. <br><br>  Nossa equipe cresceu e precis√°vamos de um limiar baixo para novos funcion√°rios entrarem no projeto. <br>  Al√©m disso, mais um ponto n√£o nos incomodou: o teste unit√°rio do comportamento dos elementos gr√°ficos, para o qual o teste foi usado por meio do Xcode UI Test, que foi um longo processo de iniciar um aplicativo em um emulador (dispositivo) com emula√ß√£o de a√ß√µes do usu√°rio. <br><br>  Todos esses requisitos resultaram no uso de uma nova abordagem arquitet√¥nica - VIPER. <br>  Modelo VIPER cl√°ssico: <br><br><img src="https://habrastorage.org/webt/4q/0z/be/4q0zbeu8dlninirc7kxyfgwvtkm.jpeg"><br><br>  Mas, tendo analisado muitas abordagens na implementa√ß√£o do VIPER para iOS, decidimos pela solu√ß√£o Rambler &amp; Co com nossas digress√µes. <br><br>  Como base, colocamos um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">livro da Rambler &amp; Co.</a> <br><br><img src="https://habrastorage.org/webt/sa/bk/uv/sabkuvhq4djnpsf70abil0dcqqk.jpeg"><br><br>  As principais tarefas que o VIPER nos ajudou a resolver: <br><br><ul><li>  parti√ß√£o de grandes classes (Massive View Controllers) com limites de responsabilidade mais ou menos claramente definidos; </li><li>  aplica√ß√£o dos princ√≠pios do SOLID em toda a sua gl√≥ria; </li><li>  baixo limiar para novos funcion√°rios entrando no projeto; </li><li>  Teste de unidade de interface do usu√°rio. </li></ul><br>  √â importante observar imediatamente que o VIPER n√£o √© de forma alguma um conjunto de modelos e regras estritos.  Em vez disso, esta √© uma lista de recomenda√ß√µes, ap√≥s as quais √© poss√≠vel criar uma arquitetura de aplicativo m√≥vel flex√≠vel e reutiliz√°vel. <br><br>  Como nosso projeto come√ßou a se parecer: <br><br><img src="https://habrastorage.org/webt/b3/qj/lu/b3qjlupkt2kxpxzimoer4h9a9t8.jpeg"><br><br>  A estrutura do m√≥dulo VIPER em nossa implementa√ß√£o: <br><br>  1. A mais "principal" √© a classe Module, sabe tudo sobre todos, cria os objetos dos servi√ßos necess√°rios para o Interactor, sabe como conectar todas as partes entre si, View, Router, Presenter, etc. <br><br><img src="https://habrastorage.org/webt/hy/d_/ab/hyd_absdyigci8l6hmoa9ue9k5i.jpeg"><br><br>  Ele tamb√©m fornece comunica√ß√£o com outros m√≥dulos VIPER por meio dos protocolos de entrada e sa√≠da ModuleInput e ModuleOutput. <br><br>  Protocolos de entrada e sa√≠da semelhantes t√™m todas as partes do m√≥dulo VIPER (View, Router, Presenter, etc.). <br><br>  Concordamos: se n√£o h√° necessidade de protocolos ou partes do m√≥dulo VIPER, n√£o os usamos e n√£o reservamos classes vazias para eles. <br><br>  2. Interatores (Interator) - oculte a l√≥gica de neg√≥cios. <br><br>  Introduzimos uma camada adicional de servi√ßos.  Servi√ßo - um objeto que √© respons√°vel por trabalhar com seu tipo de dados espec√≠fico.  Por exemplo, um servi√ßo do sistema de ajuda √© respons√°vel por diret√≥rios (arquivos de contratos, detalhes etc.) <br><br>  3. Presenter - recebe da View informa√ß√µes sobre a√ß√µes do usu√°rio e as converte em solicita√ß√µes para o Roteador, o Interactor, e tamb√©m recebe dados do Interactor, as prepara e envia a View para exibi√ß√£o. <br><br>  4. Roteador - √© respons√°vel pela navega√ß√£o entre os m√≥dulos. <br><br>  5. Exibir - √© respons√°vel por exibir dados na tela e notifica o Presenter sobre as a√ß√µes do usu√°rio.  Passivo, nunca solicita dados, apenas os recebe do Presenter. <br><br>  <b>Nossos m√≥dulos podem ser compostos.</b> <br><br>  Ou seja, inclua m√≥dulos VIPER independentes.  Por exemplo, a p√°gina principal do produto consiste em um conjunto de partes independentes: saldo, widget de modelo, se√ß√µes de diferentes tipos de produtos banc√°rios e taxas de c√¢mbio. <br><br>  Todas essas partes s√£o independentes e podem viver suas pr√≥prias vidas - elas t√™m sua pr√≥pria API no servidor do banco, modelos de dados independentes.  Para exibi-los na p√°gina principal, os cont√™ineres (Visualiza√ß√£o pai) s√£o preparados, onde esses widgets (Visualiza√ß√£o) s√£o inseridos. <br><br><img src="https://habrastorage.org/webt/2s/h9/md/2sh9md7cyl_f4wbtcwlzjfaaxcg.jpeg"><br><br><img src="https://habrastorage.org/webt/oc/bt/o6/ocbto67m6waevxvly_87td3s4gk.jpeg"><br><br>  <b>Nosso aplicativo m√≥vel para iOS est√° em constante crescimento e desenvolvimento.</b>  <b>√â usado por mais e mais de nossos clientes.</b> <b><br></b> <br><br><img src="https://habrastorage.org/webt/ow/wx/kd/owwxkdg4yjzlwxgapay60apmamw.jpeg"><br><br>  Quais s√£o as seguintes ferramentas que planejamos introduzir: <br><br><ul><li>  SwiftLint, um utilit√°rio dos desenvolvedores do Realm para verifica√ß√£o autom√°tica do c√≥digo Swift; </li><li>  IC completo baseado em fastlane; </li><li>  Uso total dos instrumentos do Xcode (aloca√ß√µes, vazamentos, zumbis etc.) </li></ul><br>  Siga nossos artigos!  Vejo voc√™ e obrigado por sua aten√ß√£o! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt467057/">https://habr.com/ru/post/pt467057/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt467041/index.html">Como digitalizamos o Cazaquist√£o</a></li>
<li><a href="../pt467043/index.html">Importe o OpenStreetMap. Da fonte bin√°ria para a tabela no banco de dados em algumas etapas</a></li>
<li><a href="../pt467047/index.html">Fen√¥meno XY: Evitando Problemas "Errados"</a></li>
<li><a href="../pt467049/index.html">Guia completo do Flexbox</a></li>
<li><a href="../pt467053/index.html">Entendendo o b√°sico do Blockchain: o desafio dos generais bizantinos. Parte 1</a></li>
<li><a href="../pt467061/index.html">Linha da Babil√¥nia: 5 quest√µes de seguran√ßa no setor de constru√ß√£o</a></li>
<li><a href="../pt467063/index.html">Monitoramento de combust√≠vel para geradores a diesel de data center - como fazer e por que √© t√£o importante?</a></li>
<li><a href="../pt467065/index.html">Arquivo de problemas das olimp√≠adas em f√≠sica para crian√ßas em idade escolar</a></li>
<li><a href="../pt467073/index.html">‚ÄúNo Ocidente, n√£o h√° diretores de arte com menos de 40 anos. Conosco, pode ser de at√© 30 ". Como √© ser designer em TI</a></li>
<li><a href="../pt467079/index.html">Carrossel de formigas CSS e Javascript</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>