<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧜🏾 🎁 🧔🏼 SwiftUI: Kenalan 📝 ♐️ ↔️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam tutorial ini, kita akan belajar bagaimana merencanakan aplikasi UI menggunakan View dan belajar bagaimana menggunakan variabel State untuk memod...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>SwiftUI: Kenalan</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/471918/">  Dalam tutorial ini, kita akan belajar bagaimana merencanakan aplikasi UI menggunakan View dan belajar bagaimana menggunakan <b>variabel State</b> untuk memodifikasi UI. <br><br>  Perkiraan waktu membaca: 25 menit. <br><a name="habracut"></a><br>  SwiftUI memungkinkan kita untuk sepenuhnya melupakan Interface Builder (IB) dan storyboard.  IB dan Xcode adalah aplikasi terpisah sebelum Xcode 4, tetapi "docking" di antara mereka masih terlihat ketika kami mengedit nama IBAction atau IBOutlet dan aplikasi kami macet, sehingga IB tidak tahu apa-apa tentang perubahan kode.  Atau ketika kita menetapkan pengidentifikasi untuk segue atau untuk sel tabel, tetapi Xcode tidak dapat memeriksanya, karena mereka adalah string. <br><br>  SwiftUI untuk menyelamatkan!  Kami segera melihat perubahan dalam Tampilan segera setelah kami memasukkan kode.  Perubahan di satu sisi menghasilkan pembaruan di sisi lain, sehingga selalu terkait.  Tidak ada pengidentifikasi string yang bisa salah.  Dan ini semua kode, tetapi jauh lebih kecil daripada jika kita menulisnya menggunakan UIKit, jadi lebih mudah untuk memahami, mengedit, dan men-debug-nya.  Katakan padaku, bukankah itu luar biasa? <br><br><h2>  Ayo pergi </h2><br>  Mari kita mulai proyek baru di proyek Xcode ( <b>Shift-Command-N</b> ), pilih <b>iOS ▸ Aplikasi Tampilan Tunggal</b> , panggil RGBullsEye, dan pastikan untuk memilih <b>SwiftUI</b> sebagai antarmuka. <br><br>  Sekarang <b>AppDelegate.swift</b> dibagi menjadi dua file: <b>AppDelegate.swift dan SceneDelegate.swift</b> , dan SceneDelegate berisi jendela: <br><br><img src="https://habrastorage.org/webt/jc/kw/b2/jckwb27k-lv_t6aiwlqhe_-upi0.png"><br><br>  <b>SceneDelegate</b> hampir tidak terkait dengan SwiftUI, dengan pengecualian pada baris ini: <br><br><pre><code class="swift hljs">window.rootViewController = <span class="hljs-type"><span class="hljs-type">UIHostingController</span></span>(rootView: <span class="hljs-type"><span class="hljs-type">ContentView</span></span>())</code> </pre> <br>  <b>UIHostingController</b> membuat pengendali tampilan untuk SwiftUI-view <b>ContentView</b> . <br><blockquote>  Catatan: <b>UIHostingController</b> memungkinkan kita untuk mengintegrasikan tampilan SwiftUI ke dalam aplikasi yang sudah ada.  Tambahkan Pengendali Tampilan Hosting ke storyboard kami dan buatlah segue darinya dari UIViewController.  Kemudian kita menggunakan Control-drag dengan segue pada kode pengontrol tampilan untuk membuat <b>IBSegueAction</b> , di mana kita mengatur pengontrol hosting ke <b>rootView</b> - SwiftUI-view. </blockquote>  Ketika aplikasi dimulai, jendela menampilkan instance dari <b>ContentView</b> , yang didefinisikan dalam file <b>ContentView.swift</b> .  Ini adalah <b>struct</b> yang sesuai dengan protokol <b>View</b> : <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ContentView</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> body: some <span class="hljs-type"><span class="hljs-type">View</span></span> { <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"Hello World"</span></span>) } }</code> </pre> <br>  Ini adalah deklarasi SwiftUI tentang konten ContentView ( <b>tubuh</b> ).  Sekarang ada tampilan teks dengan teks Hello World. <br><br>  Tepat di bawah ContentView_Previews mengembalikan instance dari ContentView. <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ContentView_Previews</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PreviewProvider</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> previews: some <span class="hljs-type"><span class="hljs-type">View</span></span> { <span class="hljs-type"><span class="hljs-type">ContentView</span></span>() } }</code> </pre> <br>  Di sini kita dapat mengatur data uji untuk pratinjau.  Tapi di mana tepatnya preview ini? <br><br>  Segera setelah kode tersebut ada ruang kosong yang besar dengan ini di atas: <br><br><img src="https://habrastorage.org/webt/u3/iv/qu/u3ivquebtlhjhi0-vnbctvg49tw.png"><br><br>  Klik <b>Lanjutkan</b> , tunggu sebentar dan ... <br><br><img src="https://habrastorage.org/webt/7x/hl/kh/7xhlkhixvhssyu34vjnvxdz7hkq.png"><br><br><h2>  Buat sketsa UI kami </h2><br>  Sesuatu yang akrab tidak terlihat - ini adalah file <b>Main.storyboard</b> .  Kita akan membuat UI kita menggunakan SwiftUI, tepat di kode, dalam proses melihat pratinjau: apa yang kita dapatkan di sana?  Tapi jangan khawatir, kami tidak perlu menulis ratusan baris kode untuk membuat tampilan kami. <br><br>  SwiftUI bersifat deklaratif: Anda menyatakan seperti apa tampilan UI Anda, dan SwiftUI mengonversi semua ini menjadi kode efisien yang melakukan semua pekerjaan.  Apple memungkinkan Anda untuk membuat sebanyak mungkin tampilan yang diperlukan sehingga kodenya sederhana dan mudah.  Tampilan yang dapat digunakan kembali dengan parameter sangat disarankan - ini mirip dengan mengalokasikan kode ke fungsi terpisah.  Anda akan melakukannya sendiri nanti. <br><br>  Aplikasi kita akan memiliki banyak tampilan, jadi untuk permulaan kita akan membuat sketsa tampilan teks sebagai bertopik. <br><br>  Ganti Teks ("Hello World") dengan ini: <br><br><pre> <code class="swift hljs"><span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"Target Color Block"</span></span>)</code> </pre> <br>  Jika perlu, klik <b>Lanjutkan</b> untuk memperbarui pratinjau. <br><br>  Sekarang lakukan <b>Command-Click</b> pada tampilan ini di <b>preview</b> , dan pilih <b>Embed in HStack</b> : <br><br><img src="https://habrastorage.org/webt/s-/tm/dy/s-tmdyehpyekmyid1tdxsbfh_xy.png"><br><br>  Harap perhatikan bahwa kode Anda juga telah berubah: <br><br><pre> <code class="swift hljs"><span class="hljs-type"><span class="hljs-type">HStack</span></span> { <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"Target Color Block"</span></span>) }</code> </pre> <br>  Salin dan tempel operator Teks, dan edit di dalam HStack kami.  Harap dicatat: kami tidak memisahkan operator dengan koma, tetapi menulis masing-masing operator pada baris baru: <br><br><pre> <code class="swift hljs"><span class="hljs-type"><span class="hljs-type">HStack</span></span> { <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"Target Color Block"</span></span>) <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"Guess Color Block"</span></span>) }</code> </pre><br>  Dan seperti yang terlihat di pratinjau: <br><br><img src="https://habrastorage.org/webt/pj/sp/n6/pjspn6qoeesvvhbvuhj59po64oe.png"><br><br>  Sekarang mari kita siapkan tempat untuk bertopik slider dengan menempatkan <b>HStack</b> di <b>VStack</b> .  Kali ini kita akan melakukan <b>Command-Click</b> pada HStack <b>dalam kode kita</b> : <br><br><img src="https://habrastorage.org/webt/wa/bo/fn/wabofnratyjqvqaprm0nyali_zq.png"><br><br>  Pilih <b>Sematkan di VStack</b> ;  kode baru akan muncul, tetapi pratinjau tidak akan berubah.  Sebentar lagi kita akan menambahkan tampilan di bawah blok warna masa depan. <br><br>  Tambahkan baris baru segera setelah HStack, klik <b>+</b> pada bilah alat untuk membuka perpustakaan dan seret <b>Vertical Stack</b> ke baris baru: <br><br><img src="https://habrastorage.org/webt/rl/dd/pw/rlddpwk_2bjxsrmi7hudiymh3na.png"><br><br>  Seperti yang diharapkan, kode dan pratinjau telah berubah: <br><br><img src="https://habrastorage.org/webt/f-/aq/w1/f-aqw1b3zp5aunz2cqysubhysug.png"><br><br>  Selesaikan pekerjaan pada draft UI, sehingga semuanya terlihat seperti ini: <br><br><pre> <code class="swift hljs"><span class="hljs-type"><span class="hljs-type">VStack</span></span> { <span class="hljs-type"><span class="hljs-type">HStack</span></span> { <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"Target Color Block"</span></span>) <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"Guess Color Block"</span></span>) } <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"Hit me button"</span></span>) <span class="hljs-type"><span class="hljs-type">VStack</span></span> { <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"Red slider"</span></span>) <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"Green slider"</span></span>) <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"Blue slider"</span></span>) } }</code> </pre> <br>  Di VStack baru, tiga slider akan muncul sedikit kemudian, serta tombol antara slider dan blok warna. <br><br><h2>  Kami terus bekerja di UI </h2><br>  Sekarang mari kita berlatih di SwiftUI untuk mengisi HStack yang berisi blok berwarna: <br><br><pre> <code class="swift hljs"><span class="hljs-type"><span class="hljs-type">HStack</span></span> { <span class="hljs-comment"><span class="hljs-comment">// Target color block VStack { Rectangle() Text("Match this color") } // Guess color block VStack { Rectangle() HStack { Text("R: xxx") Text("G: xxx") Text("B: xxx") } } }</span></span></code> </pre> <br>  Setiap blok warna memiliki Rectangle.  Blok warna Target (Target) memiliki satu tampilan Teks di bawah persegi panjang, dan yang dipilih (Tebak) memiliki tiga tampilan Teks.  Beberapa saat kemudian kami akan mengganti 'xxx' dengan nilai sebenarnya dari bilah geser. <br><br><h2>  Menggunakan Variabel '@State' </h2><br>  Di SwiftUI, kita bisa menggunakan variabel reguler, tetapi jika kita ingin perubahan variabel memengaruhi UI, maka kita menandai variabel seperti <b>'@State'</b> .  Dalam aplikasi kami, kami memilih warna, sehingga semua variabel yang memengaruhi warna yang dipilih adalah variabel '@State'. <br><br>  Tambahkan baris ini di dalam <b>struct ContentView</b> , sebelum deklarasi <b>body</b> : <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> rTarget = <span class="hljs-type"><span class="hljs-type">Double</span></span>.random(<span class="hljs-keyword"><span class="hljs-keyword">in</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>..&lt;<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> gTarget = <span class="hljs-type"><span class="hljs-type">Double</span></span>.random(<span class="hljs-keyword"><span class="hljs-keyword">in</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>..&lt;<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> bTarget = <span class="hljs-type"><span class="hljs-type">Double</span></span>.random(<span class="hljs-keyword"><span class="hljs-keyword">in</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>..&lt;<span class="hljs-number"><span class="hljs-number">1</span></span>) @<span class="hljs-type"><span class="hljs-type">State</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> rGuess: <span class="hljs-type"><span class="hljs-type">Double</span></span> @<span class="hljs-type"><span class="hljs-type">State</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> gGuess: <span class="hljs-type"><span class="hljs-type">Double</span></span> @<span class="hljs-type"><span class="hljs-type">State</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> bGuess: <span class="hljs-type"><span class="hljs-type">Double</span></span></code> </pre> <br>  Nilai-nilai R, G dan B terletak di antara 0 dan 1. Kami menginisialisasi nilai yang diinginkan dengan nilai acak.  Kami juga dapat menginisialisasi nilai yang dipilih ke 0,5, tetapi membiarkannya tidak diinisialisasi untuk saat ini untuk menunjukkan apa yang perlu dilakukan dalam kasus ini. <br><br>  Mari kita sedikit lebih rendah ke <b>struct ContentView_Previews</b> , yang menginisialisasi instance ContentView <b>untuk pratinjau</b> .  Sekarang penginisialisasi membutuhkan nilai awal dari nilai yang dipilih.  Ubah <b>ContentView ()</b> seperti ini: <br><br><pre> <code class="swift hljs"><span class="hljs-type"><span class="hljs-type">ContentView</span></span>(rGuess: <span class="hljs-number"><span class="hljs-number">0.5</span></span>, gGuess: <span class="hljs-number"><span class="hljs-number">0.5</span></span>, bGuess: <span class="hljs-number"><span class="hljs-number">0.5</span></span>)</code> </pre> <br>  Saat kami membuat bilah geser, di pratinjau nilainya akan berada di tengah. <br><br>  Kita juga harus memperbaiki <b>initializer</b> di <b>SceneDelegate</b> , dalam fungsi <b>scene (_: willConnectTo: options :)</b> - ganti <b>ContentView () dengan yang</b> berikut: <br><br><pre> <code class="swift hljs">window.rootViewController = <span class="hljs-type"><span class="hljs-type">UIHostingController</span></span>(rootView: <span class="hljs-type"><span class="hljs-type">ContentView</span></span>(rGuess: <span class="hljs-number"><span class="hljs-number">0.5</span></span>, gGuess: <span class="hljs-number"><span class="hljs-number">0.5</span></span>, bGuess: <span class="hljs-number"><span class="hljs-number">0.5</span></span>))</code> </pre><br>  Saat aplikasi dimuat, penggeser slider akan berada di tengah. <br><br>  Sekarang tambahkan pengubah warna ke kotak target: <br><br><pre> <code class="swift hljs"><span class="hljs-type"><span class="hljs-type">Rectangle</span></span>() .foregroundColor(<span class="hljs-type"><span class="hljs-type">Color</span></span>(red: rTarget, green: gTarget, blue: bTarget, opacity: <span class="hljs-number"><span class="hljs-number">1.0</span></span>))</code> </pre> <br>  Pengubah <b>.foregroundColor</b> membuat tampilan Rectangle baru dengan warna yang ditentukan oleh nilai-nilai RGB yang dihasilkan secara acak. <br><br>  Demikian pula, modifikasi kotak menebak: <br><br><pre> <code class="swift hljs"><span class="hljs-type"><span class="hljs-type">Rectangle</span></span>() .foregroundColor(<span class="hljs-type"><span class="hljs-type">Color</span></span>(red: rGuess, green: gGuess, blue: bGuess, opacity: <span class="hljs-number"><span class="hljs-number">1.0</span></span>))</code> </pre> <br>  Dengan nilai R, G dan B pada 0,5 kita mendapatkan warna abu-abu. <br><br>  Klik Lanjutkan dan tunggu sebentar. <br><br><img src="https://habrastorage.org/webt/yl/nr/d5/ylnrd5lgrnbg2zgnqwapyzuwrhm.png"><br><br><h2>  Membuat tampilan dapat digunakan kembali </h2><br>  Pertama, kita tidak akan memikirkan penggunaan kembali dan hanya membuat slider untuk warna merah.  Di <b>VStack</b> untuk slider, ganti plug Text ("Red slider") dengan <b>HStack</b> ini: <br><br><pre> <code class="swift hljs"><span class="hljs-type"><span class="hljs-type">HStack</span></span> { <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"0"</span></span>) .foregroundColor(.red) <span class="hljs-type"><span class="hljs-type">Slider</span></span>(value: $rGuess) <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"255"</span></span>) .foregroundColor(.red) }</code> </pre> <br>  Kami membuat warna teks dalam tampilan teks merah.  Dan mereka menambahkan Slider dengan nilai default.  Rentang default slider adalah dari 0 hingga 1, ini adalah sesuatu yang sangat cocok untuk kita. <br><blockquote>  Catatan: Kita tahu bahwa bilah geser bergerak dari 0 ke 1, dan label teks adalah '255' untuk kenyamanan pengguna yang digunakan untuk mewakili nilai RGB dalam kisaran dari 0 hingga 255. </blockquote>  Tapi <b>$</b> ikon apa yang dimiliki variabel?  Apakah kita tahu <b>?</b>  <b>dan!</b>  ketika bekerja dengan <b>opsional</b> , dan sekarang juga <b>$</b> ? <br><br>  Terlepas dari kenyataan bahwa dia sangat kecil dan tidak mencolok, dia sangat penting.  <b>RGuess</b> sendiri hanya berupa nilai <b>baca-saja</b> .  Tetapi <b>$ rGuess mengikat</b> , kita membutuhkannya untuk memperbarui segi empat warna yang dipilih ketika pengguna memindahkan slider. <br><br>  Untuk memahami perbedaannya, atur nilai untuk tiga tampilan teks di bawah kotak yang dapat diprediksi: <br><br><pre> <code class="swift hljs"><span class="hljs-type"><span class="hljs-type">HStack</span></span> { <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"R: \(Int(rGuess * 255.0))"</span></span>) <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"G: \(Int(gGuess * 255.0))"</span></span>) <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"B: \(Int(bGuess * 255.0))"</span></span>) }</code> </pre> <br>  Di sini kita hanya menggunakan nilai, jangan mengubahnya, jadi kita tidak perlu awalan $. <br><br>  Tunggu pembaruan pratinjau: <br><br><img src="https://habrastorage.org/webt/yf/fi/fx/yffifxnmxgba3ghsjg8hwptqces.png"><br><br>  Kotak berwarna agak menyusut agar pas dengan slider.  Tetapi label teks dari slider terlihat berantakan - terlalu ditekan ke tepinya.  Mari tambahkan pengubah lain ke HStack - padding: <br><br><pre> <code class="swift hljs"><span class="hljs-type"><span class="hljs-type">HStack</span></span> { <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"0"</span></span>) .foregroundColor(.red) <span class="hljs-type"><span class="hljs-type">Slider</span></span>(value: $rGuess) <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"255"</span></span>) .foregroundColor(.red) } .padding()</code> </pre> <br>  Sekarang jauh lebih baik! <br><br><img src="https://habrastorage.org/webt/rw/4d/mj/rw4dmjkhddr768hvcgfg3-fljqk.png"><br><br>  Buat <b>Command-Click</b> pada slider merah HStack, dan pilih <b>Extract Subview</b> : <br><br><img src="https://habrastorage.org/webt/vr/ln/-q/vrln-q4ebzp3m5aubyaysixuu0u.png"><br><br>  Ini berfungsi sama dengan <b>Refactor ▸ Extract to Function</b> , tetapi untuk tampilan SwiftUI. <br><br>  Pada titik ini, beberapa pesan kesalahan akan muncul, jangan khawatir, sekarang kami akan memperbaikinya. <br><br>  Beri nama tampilan yang dihasilkan <b>ColorSlider</b> dan tambahkan kode ini di bagian atas, di depan badan tampilan baru kami: <br><br><pre> <code class="swift hljs">@<span class="hljs-type"><span class="hljs-type">Binding</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> value: <span class="hljs-type"><span class="hljs-type">Double</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> textColor: <span class="hljs-type"><span class="hljs-type">Color</span></span></code> </pre> <br>  Sekarang ganti <b>$ rGuess dengan $ value, dan .red dengan textColor</b> : <br><br><pre> <code class="swift hljs"><span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"0"</span></span>) .foregroundColor(textColor) <span class="hljs-type"><span class="hljs-type">Slider</span></span>(value: $value) <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"255"</span></span>) .foregroundColor(textColor)</code> </pre> <br>  Mari kita kembali ke definisi ColorSlider () di VStack dan tambahkan parameter kami: <br><br><pre> <code class="swift hljs"><span class="hljs-type"><span class="hljs-type">ColorSlider</span></span>(value: $rGuess, textColor: .red)</code> </pre> <br>  Pastikan pratinjau OK dengan slider merah dan ganti tulisan bertopik tulisan dengan slider hijau dan biru.  Jangan lupa untuk memasukkan parameter yang benar di sana: <br><br><pre> <code class="swift hljs"><span class="hljs-type"><span class="hljs-type">ColorSlider</span></span>(value: $gGuess, textColor: .green) <span class="hljs-type"><span class="hljs-type">ColorSlider</span></span>(value: $bGuess, textColor: .blue)</code> </pre> <br>  Klik <b>Lanjutkan</b> untuk memperbarui pratinjau: <br><br><img src="https://habrastorage.org/webt/nx/4c/1z/nx4c1zblb3lkvi123ucqt6gte5e.png"><br><blockquote>  Catatan: Anda mungkin memperhatikan bahwa Anda sering harus mengklik <b>Lanjutkan</b> .  Jika Anda menyukai pintasan, Anda mungkin akan menyukai <b>Option-Command-P</b> . </blockquote>  Dan sekarang sesuatu yang bagus!  Di sudut kanan bawah pratinjau, klik tombol <b>pratinjau langsung</b> : <br><br><img src="https://habrastorage.org/webt/76/er/wu/76erwudgdom32-amjikoa6lfiya.png"><br><br>  Pratinjau langsung memungkinkan kita untuk berinteraksi dengan pratinjau seolah-olah aplikasi sedang berjalan di simulator! <br><br>  Coba pindahkan slider: <br><br><img src="https://habrastorage.org/webt/9h/9e/pi/9h9epih_dde4yuduxpiu6lhdswg.png"><br><br>  Hebat!  Kami lolos ke tahap akhir.  Lagi pula, kami ingin tahu seberapa baik kami memilih warna? <br><br><h2>  Tampilkan Peringatan </h2><br>  Setelah mengatur slider ke posisi yang diinginkan, pengguna menekan tombol <b>Hit Me</b> , setelah itu <b>Pemberitahuan</b> muncul dengan peringkat. <br><br>  Pertama, tambahkan metode ke ContentView untuk menghitung skor.  Antara variabel @State dan <br>  tubuh tambahkan metode ini: <br><br><pre> <code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">computeScore</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Int</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> rDiff = rGuess - rTarget <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> gDiff = gGuess - gTarget <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> bDiff = bGuess - bTarget <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> diff = sqrt(rDiff * rDiff + gDiff * gDiff + bDiff * bDiff) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-type"><span class="hljs-type">Int</span></span>((<span class="hljs-number"><span class="hljs-number">1.0</span></span> - diff) * <span class="hljs-number"><span class="hljs-number">100.0</span></span> + <span class="hljs-number"><span class="hljs-number">0.5</span></span>) }</code> </pre> <br>  Nilai <b>diff</b> hanyalah jarak antara dua titik dalam ruang tiga dimensi, yaitu nilai kesalahan pengguna.  Untuk mendapatkan estimasi, kurangi diff dari 1, dan kemudian kurangi nilainya ke kisaran 0 - 100. Semakin kecil diff, semakin tinggi estimasi. <br><br>  Kemudian ganti tulisan rintisan <b>Teks ("Tekan tombol" ")</b> dengan kode ini: <br><br><pre> <code class="swift hljs"><span class="hljs-type"><span class="hljs-type">Button</span></span>(action: { }) { <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"Hit Me!"</span></span>) }</code> </pre> <br>  Tombol memiliki aksi dan label, seperti UIButton.  Kami ingin tindakan memicu tampilan Lansiran.  Tetapi, jika kita membuat Lansiran di tombol aksi, maka tidak ada yang akan terjadi. <br><br>  Sebagai gantinya, kami akan menjadikan Alert bagian dari ContentView, dan menambahkan variabel '@State' dari tipe Bool.  Lalu kami mengatur variabel ini menjadi true, di tempat kami ingin Lansiran kami muncul di tombol aksi.  Nilai akan disetel ulang ke false - untuk menyembunyikan lansiran - saat pengguna menyembunyikan Lansiran. <br><br>  Tambahkan variabel '@State' ini: <br><br><pre> <code class="swift hljs">@<span class="hljs-type"><span class="hljs-type">State</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> showAlert = <span class="hljs-literal"><span class="hljs-literal">false</span></span></code> </pre> <br>  Kemudian tambahkan kode ini sebagai tombol aksi: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.showAlert = <span class="hljs-literal"><span class="hljs-literal">true</span></span></code> </pre> <br>  diri diperlukan untuk kita, karena showAlert ada di dalam penutupan. <br><br>  Terakhir, tambahkan pengubah lansiran ke tombol, jadi tombol kami benar-benar terlihat seperti ini: <br><br><pre> <code class="swift hljs"><span class="hljs-type"><span class="hljs-type">Button</span></span>(action: { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.showAlert = <span class="hljs-literal"><span class="hljs-literal">true</span></span> }) { <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"Hit Me!"</span></span>) } .alert(isPresented: $showAlert) { <span class="hljs-type"><span class="hljs-type">Alert</span></span>(title: <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"Your Score"</span></span>), message: <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"\(computeScore())"</span></span>)) }</code> </pre><br>  Kami melewati $ showAlert sebagai pengikat, karena nilai variabel ini akan berubah saat pengguna menyembunyikan peringatan, dan perubahan ini akan menyebabkan tampilan diperbarui. <br><br>  SwiftUI memiliki penginisialisasi sederhana untuk tampilan Alert.  Ini memiliki tombol OK secara default, jadi kami bahkan tidak perlu mengaturnya sebagai parameter. <br><br>  Aktifkan pratinjau langsung, pindahkan slider dan tekan tombol Hit me.  Voila! <br><br><img src="https://habrastorage.org/webt/je/j2/lu/jej2lu5e6ookqthzdqvhz03lcqk.png"><br><br>  Sekarang dengan pratinjau langsung, Anda tidak lagi membutuhkan simulator iOS.  Meskipun dengan itu Anda dapat menguji aplikasi Anda secara horizontal: <br><br><img src="https://habrastorage.org/webt/m2/xe/np/m2xenpxqc1hzub85tqronv9ykwe.png"><br><br><h2>  Kesimpulan </h2><br>  <a href="" rel="nofollow">Di sini</a> Anda dapat mengunduh draft publikasi yang sudah selesai. <br><br>  Tutorial ini hanya sedikit membahas SwiftUI, tetapi sekarang Anda memiliki kesan fitur Xcode baru untuk membuat UI dan pratinjau, dan cara menggunakan variabel '@State' untuk memperbarui UI Anda. <br><br>  Untuk kesederhanaan, kami tidak membuat model data untuk RGB.  Tetapi sebagian besar aplikasi membuat model data mereka menggunakan struktur atau kelas.  Jika Anda ingin melacak perubahan dalam model di SwiftUI, maka itu harus mematuhi protokol <b>ObservableObject</b> dan mengimplementasikan properti <b>willChange</b> , yang memberi tahu Anda tentang perubahan.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Lihat</a> contoh Apple dan terutama <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Data Flow Through SwiftUI</a> . <br><br>  Untuk membuat SwiftUI lebih mudah dipahami, Anda dapat menambahkan tampilan SwiftUI ke aplikasi yang sudah ada.  Lihat contoh cara melakukan ini dengan cepat dan mudah. <br><br>  Lihat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">publikasi saya</a> tentang implementasi daftar lipat / turun menggunakan SwiftUI. <br><br>  Akhirnya, pelajari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">dokumentasi untuk SwiftUI</a> , dan benar-benar ada banyak <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">hal</a> berguna! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id471918/">https://habr.com/ru/post/id471918/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id471904/index.html">Resource Planner di HPE InfoSight</a></li>
<li><a href="../id471906/index.html">Bahaya optimasi yang tidak tepat</a></li>
<li><a href="../id471908/index.html">Keindahan nomor prima yang tak terduga</a></li>
<li><a href="../id471912/index.html">Belajar Bahasa Inggris: 7 cara praktis untuk memperluas kosakata Anda</a></li>
<li><a href="../id471914/index.html">Bagaimana Sistem Grafik Sega Mega Drive bekerja: Video Display Processor</a></li>
<li><a href="../id471924/index.html">Memperkenalkan Modul Sass</a></li>
<li><a href="../id471928/index.html">Secara otomatis mengembalikan konfigurasi yang terakhir disimpan di router Mikrotik</a></li>
<li><a href="../id471930/index.html">Mitap desain atom - huruf, warna, seragam, tim, dan uang</a></li>
<li><a href="../id471938/index.html">Catatan Tata Letak: Ekstensi Google Chrome yang Berguna di tahun 2019</a></li>
<li><a href="../id471940/index.html">Cara mengurangi risiko gagal bayar dalam penyelesaian ditangguhkan: anjak piutang untuk bisnis</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>