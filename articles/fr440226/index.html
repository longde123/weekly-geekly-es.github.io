<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí¨ üè† ‚úÇÔ∏è AudioKit et synth√®se audio dans iOS / OSX üë®‚Äç‚úàÔ∏è üò¶ üè¥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="AudioKit est un framework audio d√©velopp√© par des ing√©nieurs du son, des programmeurs et des musiciens sp√©cialement pour iOS et OSX. Il fournit des ou...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>AudioKit et synth√®se audio dans iOS / OSX</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/funcorp/blog/440226/"><img src="https://habrastorage.org/webt/y1/mf/ce/y1mfceq59vbcmxgabehfybmd5rc.jpeg"><br><br>  AudioKit est un framework audio d√©velopp√© par des ing√©nieurs du son, des programmeurs et des musiciens sp√©cialement pour iOS et OSX.  Il fournit des outils pour le <b>traitement</b> et la <b>synth√®se du</b> son.  Sous le capot se trouve un m√©lange de Swift, Objective-C, C ++ et C et l'API Audio Unit d'Apple.  Des technologies impressionnantes (et plut√¥t sophistiqu√©es) sont envelopp√©es dans une API Swift tr√®s conviviale, accessible directement depuis Xcode Playgrounds! <br><br>  Dans ce tutoriel, nous allons faire un voyage √† travers AudioKit, ainsi que l' <b>histoire de</b> la synth√®se sonore.  Vous apprendrez les bases de la physique du son et le fonctionnement des premiers synth√©tiseurs comme l'orgue Hammond.  De plus, les techniques modernes, par exemple l'√©chantillonnage, seront envisag√©es. <br><br>  Faites votre boisson pr√©f√©r√©e, asseyez-vous et c'est parti! <br><a name="habracut"></a><br><h1>  Premi√®re √©tape </h1><br>  Depuis AudioKit 3.6, la configuration des aires de jeux pour fonctionner avec le framework est devenue assez simple.  T√©l√©chargez et d√©compressez la playlist de d√©marrage <a href="">ici</a> . <br><br>  Le voyage commence par quelques √©tapes pour configurer les aires de jeux pour travailler avec AudioKit. <br><br>  Ouvrez le fichier <b>AudioKitPlaygrounds.xcodeproj</b> dans Xcode.  Cliquez sur le bouton <b>+</b> dans le coin inf√©rieur gauche de l'√©cran, s√©lectionnez <b>Fichier ...</b> puis <b>Vide</b> dans la section <b>Playground</b> , enregistrez le nouveau fichier dans le dossier Playgrounds avec les aires de jeux de d√©monstration. <br><br>  Le terrain de jeu nouvellement ajout√© commencera et ressemblera √† ceci: <br><img src="https://habrastorage.org/webt/tz/db/cn/tzdbcnrjbmbep10dyndfyg3xu2s.png"><br><br>  Remplacez le code g√©n√©r√© par ce qui suit: <br><br><pre><code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> AudioKitPlaygrounds <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> AudioKit let oscillator = AKOscillator()  AudioKit.output = oscillator try AudioKit.start() oscillator.start() sleep(10)</code> </pre> <br>  Le terrain de jeu ne d√©marrera que lorsque vous aurez assembl√© le projet au moins une fois. Pour cela, vous pouvez utiliser l'√©l√©ment de menu <b>Produit / Construire</b> ou la combinaison de touches <b>‚åò-B</b> .  Apr√®s cela, ex√©cutez √† nouveau le terrain de jeu et entendez un bourdonnement pendant 10 secondes.  (Note du traducteur: parfois l'erreur ne dispara√Æt pas, et vous devez basculer sur un autre terrain de jeu et revenir pour le faire fonctionner).  Vous pouvez utiliser le bouton Play / Stop en bas √† gauche de la fen√™tre de lecture pour arr√™ter la lecture ou la red√©marrer. <br><blockquote>  <b>Remarque:</b> Si vous voyez toujours des erreurs, essayez de red√©marrer Xcode.  Malheureusement, les cadres et les terrains de jeux ne sont pas tr√®s bons amis et peuvent se comporter de fa√ßon impr√©visible. </blockquote><h1>  Oscillateurs et physique du son </h1><br>  L'humanit√© joue de la musique √† travers divers objets physiques depuis des milliers d'ann√©es.  Beaucoup de nos instruments habituels, comme les guitares ou les tambours, ont des centaines d'ann√©es.  La premi√®re exp√©rience enregistr√©e d'utilisation de circuits √©lectroniques pour g√©n√©rer du son a √©t√© r√©alis√©e en 1874 par Elias Gray.  Elisha a travaill√© dans le domaine des t√©l√©communications, et il a invent√© l'oscillateur - le plus simple des synth√©tiseurs musicaux.  Avec lui, nous commencerons notre plong√©e. <br><br>  Cliquez avec le bouton droit sur votre terrain de jeu, s√©lectionnez <b>Nouvelle page de terrain de jeu</b> et remplacez le code g√©n√©r√© par ce qui suit: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> AudioKitPlaygrounds <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> AudioKit <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> PlaygroundSupport <span class="hljs-comment"><span class="hljs-comment">// 1. Create an oscillator let oscillator = AKOscillator() // 2. Start the AudioKit 'engine' AudioKit.output = oscillator try AudioKit.start() // 3. Start the oscillator oscillator.start() PlaygroundPage.current.needsIndefiniteExecution = true</span></span></code> </pre> <br>  Le terrain de jeu commencera √† g√©n√©rer un buzz continu - comme pr√©vu.  Vous pouvez cliquer sur stop pour l'arr√™ter. <br><br>  C'est presque la m√™me chose que ce que nous avons fait dans le terrain de jeu pr√©c√©dent, mais cette fois, nous allons plonger dans les d√©tails. <br><br>  Consid√©rez toutes les √©tapes dans l'ordre: <br><br><ol><li>  Ici, nous cr√©ons un oscillateur.  L'oscillateur est le successeur d' <code>AKNode</code> .  Les n≈ìuds sont les √©l√©ments qui composent une cha√Æne audio qui g√©n√®re et modifie le son. <br></li><li>  Ici, nous connectons la sortie de notre dernier n≈ìud avec le moteur AudioKit.  Dans notre cas, un seul n≈ìud.  En outre, le cadre dirigera la sortie du n≈ìud vers le p√©riph√©rique de lecture audio. <br></li><li>  Eh bien, nous d√©marrons l'oscillateur, sur la sortie il commence √† envoyer une onde sonore. <br></li></ol><br>  L'oscillateur g√©n√®re un signal r√©p√©titif qui ne s'arr√™te pas.  Dans ce manuel, <code>AKOscillator</code> g√©n√®re une onde sinuso√Ødale.  √Ä l'aide de l'AudioKit, un signal sinuso√Ødal num√©rique est envoy√© aux haut-parleurs ou au casque.  En cons√©quence, nous entendons un son qui oscille √† la m√™me fr√©quence que l'onde sinuso√Ødale que nous avons g√©n√©r√©e.  Cette onde sinuso√Ødale ne semble pas tr√®s musicale. <br><br><img src="https://habrastorage.org/webt/rx/yw/xw/rxywxwhvbneupuvsb3tx4egropi.png"><br><br>  Deux param√®tres sont responsables du son de cet oscillateur: l'amplitude - la hauteur de l'onde sinuso√Ødale, d√©termine le volume et la fr√©quence du son - la hauteur du son en d√©pend. <br><br>  Dans la cour de r√©cr√©ation, ajoutez les lignes de code suivantes juste apr√®s avoir cr√©√© l'oscillateur: <br><br><pre> <code class="swift hljs">oscillator.frequency = <span class="hljs-number"><span class="hljs-number">300</span></span> oscillator.amplitude = <span class="hljs-number"><span class="hljs-number">0.5</span></span></code> </pre><br>  Le son a chang√©, il sonne maintenant deux fois plus silencieux et beaucoup plus bas.  La fr√©quence du signal est mesur√©e en hertz (nombre de r√©p√©titions par seconde) et d√©termine la hauteur de la note.  L'amplitude (amplitude) est r√©gl√©e de 0 √† 1 et est responsable du volume. <br><br>  L‚Äôinvention d‚ÄôElijah Gray a √©t√© enregistr√©e dans le tout premier brevet pour un instrument de musique √©lectronique. <br><br><img src="https://habrastorage.org/webt/33/xp/gy/33xpgyaps40rjq2tyojz5wdzfxi.png"><br><br>  Plusieurs ann√©es plus tard, Leo Theremin a invent√© un instrument de musique l√©g√®rement √©trange utilis√© √† ce jour - le theremin.  Dans le theremin, vous pouvez changer la fr√©quence du son avec des mouvements de la main au-dessus de l'instrument.  Pour comprendre comment le theremin sonne, vous pouvez √©couter les vibrations des Beach Boys, et il n'y a rien √† confondre avec le theremin. <br><br>  Vous pouvez simuler le son de thereminvox, pour cela, ajoutez le code suivant aux param√®tres de l'oscillateur: <br><br><pre> <code class="swift hljs">oscillator.rampDuration = <span class="hljs-number"><span class="hljs-number">0.2</span></span></code> </pre> <br>  Et remplacez la ligne commen√ßant AudioKit ( <code>try AudioKit.start()</code> ) par ce qui suit: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> performance = <span class="hljs-type"><span class="hljs-type">AKPeriodicFunction</span></span>(every: <span class="hljs-number"><span class="hljs-number">0.5</span></span>) { oscillator.frequency = oscillator.frequency == <span class="hljs-number"><span class="hljs-number">500</span></span> ? <span class="hljs-number"><span class="hljs-number">100</span></span> : <span class="hljs-number"><span class="hljs-number">500</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> <span class="hljs-type"><span class="hljs-type">AudioKit</span></span>.start(withPeriodicFunctions: performance) performance.start()</code> </pre> <br>  La propri√©t√© <code>rampDuration</code> permet √† l'oscillateur de modifier en douceur les valeurs de ses param√®tres (par exemple, la fr√©quence ou l'amplitude).  <code>AKPeriodicFunction</code> est un utilitaire utile d'AudioKit pour l'ex√©cution p√©riodique de code.  Dans notre exemple, il change la fr√©quence de l'onde sinuso√Ødale de 500 Hz √† 100 Hz toutes les 0,5 secondes. <br><br>  F√©licitations!  Vous venez de faire votre premier theremin.  Un simple oscillateur peut g√©n√©rer des notes de musique, mais il ne sonne pas tr√®s bien.  De nombreux facteurs affectent le son des instruments physiques, comme le piano par exemple.  Et plus loin, nous examinerons certains d'entre eux. <br><br><h1>  Enveloppes sonores </h1><br>  Lorsqu'un instrument de musique joue une note, le volume de son son change avec le temps et la nature des changements diff√®re d'un instrument √† l'autre.  Un mod√®le qui peut simuler cet effet s'appelle l'enveloppe Attack-Decay-Sustain-Release (ADSR) (Remarque: les synth√©tiseurs disponibles √† l'achat ne sont jamais localis√©s, donc le nom de la courbe est le m√™me que celui visible sur le panneau de ce synth√©tiseur). <br><br><img src="https://habrastorage.org/webt/hj/nu/1i/hjnu1iomuddzc5t-p0egelaougy.png"><br><br>  L'enveloppe ADSR comprend: <br><br><ul><li>  <b>Attack</b> : attaque ou temps dans lequel le son atteint son volume maximum. <br></li><li>  <b>D√©composition</b> : sauvage ou temps pour lequel le volume passe du maximum au principal <br></li><li>  <b>Sustain</b> : le volume principal, contrairement aux deux param√®tres pr√©c√©dents, n'est pas le temps, apr√®s le passage de l'attaque et des sauvages et avant de rel√¢cher la touche synth√©tiseur, le son sera g√©n√©r√© avec ce volume <br></li><li>  <b>Release</b> : release ou temps dans lequel le volume devient nul <br></li></ul><br>  Au piano, le son est extrait par des coups de marteau sur les cordes, et donc en lui sont rapides ou, disent-ils aussi, de courtes attaques et des wilds.  Le violon peut avoir une longue attaque, sauvage et sustain, le musicien peut influencer ces param√®tres par la fa√ßon dont il utilise l'archet. <br><br>  Hammond Novachord est l'un des premiers instruments de musique √©lectroniques.  Cet instrument a √©t√© fabriqu√© en 1939, se composait de 163 tubes √† vide et de plus de 1000 condensateurs, et il pesait 230 kilogrammes.  Malheureusement, seulement quelques centaines d'exemplaires ont √©t√© r√©alis√©s et il n'a jamais obtenu de succ√®s commercial. <br><br><img src="https://habrastorage.org/webt/xm/ag/oa/xmagoabyxwbjfzl97fil0x-xo1u.jpeg"><br><br>  Faites un clic droit sur <b>Journey</b> <b>Playground</b> , s√©lectionnez <b>New Playground Page</b> et cr√©ez une nouvelle page appel√©e <b>ADSR</b> .  Remplacez le code g√©n√©r√© par ce qui suit: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> AudioKitPlaygrounds <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> AudioKit <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> PlaygroundSupport          let oscillator = AKOscillator()</code> </pre><br>  Il cr√©e simplement un oscillateur que nous connaissons d√©j√†.  Ensuite, ajoutez le code suivant √† la fin de la cour de r√©cr√©ation: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> envelope = <span class="hljs-type"><span class="hljs-type">AKAmplitudeEnvelope</span></span>(oscillator) envelope.attackDuration = <span class="hljs-number"><span class="hljs-number">0.01</span></span> envelope.decayDuration = <span class="hljs-number"><span class="hljs-number">0.1</span></span> envelope.sustainLevel = <span class="hljs-number"><span class="hljs-number">0.1</span></span> envelope.releaseDuration = <span class="hljs-number"><span class="hljs-number">0.3</span></span></code> </pre> <br>  Cela cr√©e une <code>AKAmplitudeEnvelope</code> qui d√©finit l'enveloppe ADSR.  Les param√®tres de dur√©e (attackDuration, decayDuration, releaseDuration) sont sp√©cifi√©s en secondes et le volume (sustainLevel) est r√©gl√© dans une plage de 0 √† 1. <br><br>  <code>AKAmplitudeEnvelope</code> est le successeur de <code>AKNode</code> de la m√™me mani√®re que <code>AKOscillator</code> . Dans le code ci-dessus, nous passons les n≈ìuds d'enveloppe de l'oscillateur √† l'initialiseur, connectant ainsi les n≈ìuds. <br><br>  Ensuite, ajoutez le code suivant: <br><br><pre> <code class="swift hljs"><span class="hljs-type"><span class="hljs-type">AudioKit</span></span>.output = envelope <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> performance = <span class="hljs-type"><span class="hljs-type">AKPeriodicFunction</span></span>(every: <span class="hljs-number"><span class="hljs-number">0.5</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (envelope.isStarted) { envelope.stop() } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { envelope.start() } } <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> <span class="hljs-type"><span class="hljs-type">AudioKit</span></span>.start(withPeriodicFunctions: performance) performance.start() oscillator.start() <span class="hljs-type"><span class="hljs-type">PlaygroundPage</span></span>.current.needsIndefiniteExecution = <span class="hljs-literal"><span class="hljs-literal">true</span></span></code> </pre> <br>  Il lancera AudioKit, mais cette fois, nous alimentons la sortie du n≈ìud ADSR √† son entr√©e.  Afin d'entendre l'effet ADSR, nous <code>AKPeriodicFunction</code> et d√©sactivons constamment le n≈ìud √† l'aide de la fonction <code>AKPeriodicFunction</code> . <br><br><img src="https://habrastorage.org/webt/q6/nl/s1/q6nls1yfzrh8wxwzwxhzc0wny1s.png"><br><br>  Vous pouvez maintenant entendre comment la note est jou√©e en cycles, mais cette fois, elle ressemble un peu plus √† un piano. <br><br>  La boucle s'ex√©cute deux fois par seconde √† chaque it√©ration, d√©marrant ou arr√™tant l'ADSR.  Lorsque l'ADSR commence par une attaque rapide, le volume atteint sa valeur maximale en 0,01 seconde, apr√®s quoi le volume diminue au niveau principal en 0,1 seconde et y reste pendant 0,5 seconde, et √† la fin se d√©sint√®gre en 0,3 seconde. <br><br>  Vous pouvez jouer avec les param√®tres vous-m√™me et essayer de jouer, par exemple, le son d'un violon. <br><br>  Les sons que nous avons rencontr√©s sont bas√©s sur l'onde <code>AKOscillator</code> g√©n√©r√©e par <code>AKOscillator</code> .  Bien que l'ASDR aide √† att√©nuer les sons durs, vous ne pouvez toujours pas appeler ces sons musicaux. <br><br>  De plus, nous verrons comment obtenir un son plus profond. <br><br><h1>  Synth√®se additive </h1><br>  Chaque instrument de musique a son propre son ou timbre.  <b>Un timbre</b> est ce qui distingue les sons d'un piano des sons d'un violon, m√™me s'ils peuvent jouer la m√™me note.  Un param√®tre important du timbre est le spectre sonore.  Le spectre sonore d√©crit la gamme de fr√©quences reproduites qui, additionn√©es, donnent une note.  Notre terrain de jeu actuel utilise un oscillateur qui ne sonne qu'√† une seule fr√©quence, et cela semble assez artificiel. <br><br>  Vous pouvez obtenir un son plus vivant en utilisant un ensemble d'oscillateurs pour jouer une seule note.  Cette approche est connue sous le nom de synth√®se additive, et c'est le sujet de notre prochain terrain de jeu. <br><br>  Cliquez avec le bouton droit sur le terrain de jeu, s√©lectionnez <b>Nouvelle page de terrain de jeu</b> et cr√©ez une nouvelle page appel√©e <b>Synth√®se additive</b> .  Remplacez le code g√©n√©r√© par ce qui suit: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> AudioKitPlaygrounds <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> AudioKit <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> AudioKitUI <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> PlaygroundSupport func createAndStartOscillator(frequency: Double) -&gt; AKOscillator { let oscillator = AKOscillator() oscillator.frequency = frequency return oscillator }</code> </pre> <br>  Pour la synth√®se additive, vous avez besoin de plusieurs oscillateurs, pour cela nous utiliserons. <code>createAndStartOscillator</code> <br><br>  Ensuite, ajoutez le code: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> frequencies = (<span class="hljs-number"><span class="hljs-number">1</span></span>...<span class="hljs-number"><span class="hljs-number">5</span></span>).<span class="hljs-built_in"><span class="hljs-built_in">map</span></span> { $<span class="hljs-number"><span class="hljs-number">0</span></span> * <span class="hljs-number"><span class="hljs-number">261.63</span></span> }</code> </pre> <br>  Ici, nous prenons un intervalle de nombres de 1 √† 5 et multiplions chacun par 261,53, la fr√©quence de la note.  Les fr√©quences multiples r√©sultantes sont appel√©es harmoniques. <br><br>  Ajoutez maintenant le code: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> oscillators = frequencies.<span class="hljs-built_in"><span class="hljs-built_in">map</span></span> { createAndStartOscillator(frequency: $<span class="hljs-number"><span class="hljs-number">0</span></span>) }</code> </pre> <br>  Ici, nous avons cr√©√© un oscillateur pour chacune des fr√©quences que nous utilisons. <br><br>  Pour combiner des oscillateurs, ajoutez le code suivant: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> mixer = <span class="hljs-type"><span class="hljs-type">AKMixer</span></span>() oscillators.forEach { $<span class="hljs-number"><span class="hljs-number">0</span></span>.connect(to: mixer) }</code> </pre> <br>  <code>AKMixer</code> est un autre type de n≈ìud AudioKit.  Il re√ßoit les entr√©es d'un ou plusieurs n≈ìuds et les combine en un seul. <br><br>  Ajoutez le code suivant: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> envelope = <span class="hljs-type"><span class="hljs-type">AKAmplitudeEnvelope</span></span>(mixer) envelope.attackDuration = <span class="hljs-number"><span class="hljs-number">0.01</span></span> envelope.decayDuration = <span class="hljs-number"><span class="hljs-number">0.1</span></span> envelope.sustainLevel = <span class="hljs-number"><span class="hljs-number">0.1</span></span> envelope.releaseDuration = <span class="hljs-number"><span class="hljs-number">0.3</span></span> <span class="hljs-type"><span class="hljs-type">AudioKit</span></span>.output = envelope <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> performance = <span class="hljs-type"><span class="hljs-type">AKPeriodicFunction</span></span>(every: <span class="hljs-number"><span class="hljs-number">0.5</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (envelope.isStarted) { envelope.stop() } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { envelope.start() } } <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> <span class="hljs-type"><span class="hljs-type">AudioKit</span></span>.start(withPeriodicFunctions: performance) performance.start() oscillators.forEach { $<span class="hljs-number"><span class="hljs-number">0</span></span>.start() }</code> </pre> <br>  Tout devrait √™tre clair avec ce code: ajoutez l'ADSR √† la sortie du mixeur, sortez via AudioKit et allumez / √©teignez p√©riodiquement. <br><br>  Afin de bien g√©rer la synth√®se additive, il sera utile de jouer avec diff√©rentes combinaisons de ces fr√©quences.  Et en cela, l'opportunit√© de terrains de jeux comme Live View est id√©ale pour nous. <br><br>  Pour ce faire, ajoutez le code: <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LiveView</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AKLiveViewController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewDidLoad</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { addTitle(<span class="hljs-string"><span class="hljs-string">"Harmonics"</span></span>) oscillators.forEach { oscillator <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> harmonicSlider = <span class="hljs-type"><span class="hljs-type">AKSlider</span></span>( property: <span class="hljs-string"><span class="hljs-string">"\(oscillator.frequency) Hz"</span></span>, value: oscillator.amplitude ) { amplitude <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> oscillator.amplitude = amplitude } addView(harmonicSlider) } } } <span class="hljs-type"><span class="hljs-type">PlaygroundPage</span></span>.current.needsIndefiniteExecution = <span class="hljs-literal"><span class="hljs-literal">true</span></span> <span class="hljs-type"><span class="hljs-type">PlaygroundPage</span></span>.current.liveView = <span class="hljs-type"><span class="hljs-type">LiveView</span></span>()</code> </pre> <br>  Dans AudioKit, il existe des classes sp√©cialement con√ßues pour un travail pratique dans les aires de jeux.  Dans notre exemple, <code>AKLiveViewController</code> utilisons <code>AKLiveViewController</code> , en l'utilisant nous <code>AKLiveViewController</code> verticalement des √©l√©ments.  Et aussi pour chaque oscillateur, nous cr√©ons un <code>AKSlider</code> .  Les curseurs sont initialis√©s par les valeurs de la fr√©quence et de l'amplitude des oscillateurs et provoquent un blocage lors de l'interaction avec eux.  Dans le bloc de chaque curseur, nous modifions l'amplitude de l'oscillateur correspondant.  Vous pouvez donc simplement ajouter de l'interactivit√© √† vos aires de jeux. <br><br>  Pour voir les r√©sultats du terrain de jeu, vous devez avoir Live View affich√© √† l'√©cran.  Pour ce faire, s√©lectionnez le bouton avec des cercles entrecrois√©s dans la partie sup√©rieure droite de la fen√™tre et assurez-vous que la liste de lecture correcte est s√©lectionn√©e pour Live View. <br><br><img src="https://habrastorage.org/webt/rz/sg/3p/rzsg3psadssk1spigpzyqaltcwq.png"><br><br>  Afin de changer la tonalit√© de votre instrument, vous pouvez changer les valeurs de chaque curseur individuellement.  Pour un son r√©aliste, je vous sugg√®re d'essayer la configuration indiqu√©e dans la capture d'√©cran ci-dessus. <br><br>  Teleharmonium √©tait l'un des premiers synth√©tiseurs √† utiliser la synth√®se additive et il pesait 200 tonnes!  Son poids et sa taille incroyables sont probablement devenus la raison de son obscurit√©.  L'orgue Hammond le plus performant utilisait des roues phoniques similaires, mais √©tait beaucoup plus petit.  Invent√© en 1935, il est encore largement connu comme un instrument populaire √† l'√®re du rock progressif. <br><br><img src="https://habrastorage.org/webt/tb/nj/tn/tbnjtngmdjzwb6ddutkpmumkbqy.jpeg"><br><br>  La roue phonique est un disque rotatif avec de petites cavit√©s le long du bord et un capteur situ√© pr√®s du bord.  L'orgue Hammond avait tout un ensemble de roues phoniques qui pouvaient tourner √† diff√©rentes vitesses.  Une fa√ßon plut√¥t inhabituelle de g√©n√©rer du son est plut√¥t √©lectrom√©canique qu'√©lectronique. <br><br>  Afin de g√©n√©rer un spectre sonore plus r√©aliste, il existe plusieurs autres techniques: modulation de fr√©quence (modulation de fr√©quence ou FM) et modulation de largeur d'impulsion (modulation de largeur d'impulsion ou PWM), les deux techniques sont disponibles dans AudioKit dans les <code>AKPWMOscillator</code> <code>AKFMOscillator</code> et <code>AKPWMOscillator</code> respectivement.  Je vous sugg√®re d'essayer les deux, en les rempla√ßant au lieu de l' <code>AKOscillator</code> , que nous avons utilis√© plus t√¥t. <br><br><h1>  Polyphonie </h1><br>  Dans les ann√©es 1970, le mouvement est pass√© de synth√©tiseurs modulaires, constitu√©s d'oscillateurs et de filtres √† enveloppe s√©par√©e, √† des microprocesseurs.  Au lieu d'utiliser des circuits analogiques, le son a commenc√© √† √™tre g√©n√©r√© au format num√©rique.  Cela a rendu les synth√©tiseurs moins chers et plus compacts, et les synth√©tiseurs de marques comme Yamaha tr√®s populaires. <br><br><img src="https://habrastorage.org/webt/xi/2y/uc/xi2yucsslswbjqknyj0b_8cgtcw.jpeg"><br><br>  Tous nos terrains de jeux √©taient limit√©s √† jouer une note √† la fois.  De nombreux instruments sont capables de jouer plus d'une note √† la fois, ils sont appel√©s <b>polyphoniques</b> .  Les instruments qui ne peuvent jouer qu'une seule note sont appel√©s <b>monophoniques</b> . <br><br>  Afin d'obtenir un son polyphonique, vous pouvez cr√©er plusieurs oscillateurs et les envoyer au m√©langeur, mais dans AudioKit, il existe un moyen plus appropri√© pour cela. <br><br>  Cr√©ez une nouvelle page dans la cour de r√©cr√©ation et nommez-la Polyphonie.  Remplacez le code g√©n√©r√© par ce qui suit: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> AudioKitPlaygrounds <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> AudioKit <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> AudioKitUI <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> PlaygroundSupport let bank = AKOscillatorBank() AudioKit.output = bank try AudioKit.start()</code> </pre> <br>  Ici, nous avons cr√©√© la banque d'oscillateurs <code>AKOscillatorBank</code> .  Si vous allez √† la d√©claration de classe, vous pouvez constater que c'est l'h√©ritier de <code>AKPolyphonicNode</code> , qui, √† son tour, est l'h√©ritier de l' <code>AKNode</code> d√©j√† connu de nous, et met √©galement en ≈ìuvre le protocole <code>AKPolyphonic</code> . <br><br>  En cons√©quence, la banque d'oscillateurs est le m√™me n≈ìud AudioKit que nous avons examin√© pr√©c√©demment.  Sa sortie peut √™tre envoy√©e √† des m√©langeurs, des enveloppes ou tout autre filtre et effet.  Le protocole <code>AKPolyphonic</code> d√©crit comment jouer des notes sur une note polyphonique; consid√©rons-le plus en d√©tail. <br><br>  Afin de tester notre oscillateur, nous avons besoin d'un moyen de jouer plusieurs notes √† la fois.  Ce n'est pas du tout difficile! <br><br>  Ajoutez le code suivant √† la liste de lecture et assurez-vous que la vue en direct est ouverte: <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LiveView</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AKLiveViewController</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AKKeyboardDelegate</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewDidLoad</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> keyboard = <span class="hljs-type"><span class="hljs-type">AKKeyboardView</span></span>(width: <span class="hljs-number"><span class="hljs-number">440</span></span>, height: <span class="hljs-number"><span class="hljs-number">100</span></span>) addView(keyboard) } } <span class="hljs-type"><span class="hljs-type">PlaygroundPage</span></span>.current.liveView = <span class="hljs-type"><span class="hljs-type">LiveView</span></span>() <span class="hljs-type"><span class="hljs-type">PlaygroundPage</span></span>.current.needsIndefiniteExecution = <span class="hljs-literal"><span class="hljs-literal">true</span></span></code> </pre> <br>  Lorsque le terrain de jeu se compile, vous verrez ce qui suit: <br><br><img src="https://habrastorage.org/webt/c4/jc/ra/c4jcramxnalsdi-ksf1nfq5zm80.png"><br><br>  Cool, hein?  Le clavier musical est juste dans la cour de r√©cr√©ation! <br><br>  <code>AKKeyboardView</code> est un autre utilitaire d'AudioKit qui permet d'explorer facilement les possibilit√©s du framework.  Appuyez sur les touches et vous constaterez qu'ils ne font aucun bruit. <br><br>  Mettez √† jour la <code>setUp</code> votre <code>PlaygroundView</code> avec les √©l√©ments suivants: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> keyboard = <span class="hljs-type"><span class="hljs-type">AKKeyboardView</span></span>(width: <span class="hljs-number"><span class="hljs-number">440</span></span>, height: <span class="hljs-number"><span class="hljs-number">100</span></span>) keyboard.delegate = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span> addView(keyboard)</code> </pre> <br>  Cela fera de notre <code>PlaygroundView</code> un d√©l√©gu√© clavier et vous permettra de r√©pondre aux frappes. <br><br>  Mettez √† jour la d√©claration de classe comme suit: <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LiveView</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AKLiveViewController</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AKKeyboardDelegate</span></span></span></span></code> </pre> <br><br>  Ajoutez √©galement quelques m√©thodes juste apr√®s la <code>setUp</code> : <br><br><pre> <code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">noteOn</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(note: MIDINoteNumber)</span></span></span></span> { bank.play(noteNumber: note, velocity: <span class="hljs-number"><span class="hljs-number">80</span></span>) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">noteOff</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(note: MIDINoteNumber)</span></span></span></span> { bank.stop(noteNumber: note) }</code> </pre> <br>  Chaque fois que vous appuyez sur une touche, la m√©thode <code>noteOn</code> est <code>noteOn</code> , elle ne fait que dire √† la banque d'oscillateurs de commencer √† jouer la note, respectivement, dans la m√©thode <code>noteOff</code> , la <code>noteOff</code> s'arr√™te de jouer. <br><br>  Tenez la souris et glissez les touches, vous entendrez un beau crescendo (un terme musical pour une augmentation progressive de la puissance sonore).  La banque d'oscillateurs contient d√©j√† un effet ADSR int√©gr√©, par cons√©quent l'att√©nuation d'une note est m√©lang√©e avec l'attaque de la suivante et sonne plut√¥t bien. <br><br>  Vous avez peut-√™tre remarqu√© que les notes qui nous ont donn√© les cl√©s ne sont pas sous forme de fr√©quence.  Ils sont d√©clar√©s comme <code>MIDINoteNumber</code> .  Si vous acc√©dez √† une annonce de ce type, vous verrez ce qui suit: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typealias</span></span> <span class="hljs-type"><span class="hljs-type">MIDINoteNumber</span></span> = <span class="hljs-type"><span class="hljs-type">Int</span></span></code> </pre> <br>  MIDI signifie Musical Instrument Digital Interface.  Il s'agit d'un format tr√®s r√©pandu pour l'interaction des instruments de musique entre eux.  Les num√©ros de note correspondent aux notes sur un clavier musical standard.  Le deuxi√®me param√®tre - cette vitesse (vitesse) correspond √† la force du coup sur la touche.  Plus la valeur est basse, plus le toucher de la touche est doux, plus le son final est silencieux. <br><br>  √Ä la fin, vous devez activer le mode polyphonique sur les touches.  Ajoutez le code suivant √† la m√©thode <code>setUp</code> : <br><br><pre> <code class="swift hljs">keyboard.polyphonicMode = <span class="hljs-literal"><span class="hljs-literal">true</span></span></code> </pre> <br>  Maintenant, vous pouvez jouer plusieurs notes en m√™me temps, comme indiqu√© dans l'image: <br><br><img src="https://habrastorage.org/webt/ji/vq/_x/jivq_xdx2rewvc4prnyjtu4b2p8.png"><br><br>  Au fait, c'est en do majeur :) <br><br>  AudioKit a commenc√© son histoire il y a longtemps.  Aujourd'hui, il utilise <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Soundpipe</a> et le code de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Csound</a> (un projet du MIT qui a √©t√© lanc√© en 1985).  √âtonnamment, le code que nous lan√ßons maintenant dans les terrains de jeux et que nous ajoutons √† l'iPhone a √©t√© √©crit il y a pr√®s de 30 ans. <br><br><h1>  √âchantillonnage </h1><br>  Les techniques de synth√®se sonore que nous avons explor√©es pr√©c√©demment tentent de recr√©er un son r√©aliste √† l'aide de blocs de base simples: oscillateurs, filtres et m√©langeurs.  Au d√©but des ann√©es 1970, le d√©veloppement des capacit√©s informatiques a conduit √† l'√©mergence d'une nouvelle approche - l'√©chantillonnage du son, dont le but est de cr√©er une copie num√©rique du son. <br><br>  L'√©chantillonnage est une technologie assez simple similaire √† la photographie num√©rique.  Lors de l'√©chantillonnage √† intervalles r√©guliers, l'amplitude des ondes sonores est enregistr√©e: <br><br><img src="https://habrastorage.org/webt/o4/a_/uu/o4a_uur6ow0lpjkukkaappxx25a.png"><br><br>  Deux param√®tres affectent la pr√©cision de l'enregistrement du son: <br><br><ul><li>  <b>Profondeur de bits</b> : ou profondeur de bits, le nombre de niveaux de volume individuels que l'√©chantillonneur peut jouer <br></li><li>  <b>Fr√©quence d'√©chantillonnage</b> : ou fr√©quence d'√©chantillonnage, indique la fr√©quence √† laquelle les mesures d'amplitude sont prises.  Mesur√© en hertz. <br></li></ul><br>  Explorons ces propri√©t√©s dans un nouveau terrain de jeu.  Cr√©ez une nouvelle page et nommez-la ¬´Samples¬ª.  Remplacez le code g√©n√©r√© par ce qui suit: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> AudioKitPlaygrounds <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> AudioKit <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> PlaygroundSupport let file = try AKAudioFile(readFileName: "climax-disco-part2.wav", baseDir: .resources) let player = try AKAudioPlayer(file: file) player.looping = true</code> </pre> <br>  Le code ci-dessus charge l'√©chantillon, cr√©e un lecteur audio et le met en lecture sans fin. <br><br>  Une archive avec un fichier WAV pour ce tutoriel est disponible <a href="">ici</a> .  T√©l√©chargez-le et d√©compressez dans le dossier Ressources de votre aire de jeux. <br><br>  Ajoutez ensuite le code suivant √† la fin de l'aire de jeux: <br><br><pre> <code class="swift hljs"><span class="hljs-type"><span class="hljs-type">AudioKit</span></span>.output = player <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> <span class="hljs-type"><span class="hljs-type">AudioKit</span></span>.start() player.play() <span class="hljs-type"><span class="hljs-type">PlaygroundPage</span></span>.current.needsIndefiniteExecution = <span class="hljs-literal"><span class="hljs-literal">true</span></span></code> </pre> <br>  Cela connectera votre lecteur audio √† AudioKit, il vous suffit d'augmenter le volume et d'en profiter! <br><br>        ,         . <br><br> MP3-,    ,      ,      .                : <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> bitcrusher = <span class="hljs-type"><span class="hljs-type">AKBitCrusher</span></span>(player) bitcrusher.bitDepth = <span class="hljs-number"><span class="hljs-number">16</span></span> bitcrusher.sampleRate = <span class="hljs-number"><span class="hljs-number">40000</span></span></code> </pre> <br>      AudioKit: <br><br><pre> <code class="swift hljs"><span class="hljs-type"><span class="hljs-type">AudioKit</span></span>.output = bitcrusher</code> </pre> <br>    .    ,      . <br><br> <code>AKBitCrusher</code> ‚Äî   AudioKit,       . ,     ,       ZX Spectrum  BBC Micro.            ,  . <br><br>           ,     (. delay).     ,       <code>AKBitCrusher</code> .    : <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> delay = <span class="hljs-type"><span class="hljs-type">AKDelay</span></span>(player) delay.time = <span class="hljs-number"><span class="hljs-number">0.1</span></span> delay.dryWetMix = <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>      0.1       .  <code>dryWetMix</code>          .     1 ,          . <br><br>   : <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> leftPan = <span class="hljs-type"><span class="hljs-type">AKPanner</span></span>(player, pan: -<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> rightPan = <span class="hljs-type"><span class="hljs-type">AKPanner</span></span>(delay, pan: <span class="hljs-number"><span class="hljs-number">1</span></span>)</code> </pre> <br> <code>AKPanner</code>     ,   - .             . <br><br>          AudioKit.  ,   <code>AKBitCrusher</code>  AudioKit   : <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> mix = <span class="hljs-type"><span class="hljs-type">AKMixer</span></span>(leftPan, rightPan) <span class="hljs-type"><span class="hljs-type">AudioKit</span></span>.output = mix</code> </pre> <br>  ,    ,         . <br><br><img src="https://habrastorage.org/webt/i0/6x/ha/i06xhaf2i0gnjeuebj3xqbdc3iw.png"><br><br><h1>  Et ensuite? </h1><br>          AudioKit.    , -, ,  ,      .   ,      ,     . <br><br>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr440226/">https://habr.com/ru/post/fr440226/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr440214/index.html">Spring et JDK 8: utilisez-vous toujours @Param et nom / valeur dans les annotations Spring MVC? Alors l'article est fait pour vous</a></li>
<li><a href="../fr440216/index.html">Comment j'ai appris √† Zabbix √† garder un ≈ìil sur mon n≈ìud et √† signaler les probl√®mes</a></li>
<li><a href="../fr440218/index.html">Attaque DoS qui ne peut pas √™tre ferm√©e: l'approvisionnement a sa propre atmosph√®re</a></li>
<li><a href="../fr440220/index.html">Le syndrome de l'imposteur est non seulement nocif, mais √©galement b√©n√©fique</a></li>
<li><a href="../fr440222/index.html">Module t√©l√©m√®tre √† ultrasons sous-marin</a></li>
<li><a href="../fr440230/index.html">La Douma d'√âtat a report√© la discussion du projet de loi sur les agr√©gateurs de nouvelles</a></li>
<li><a href="../fr440232/index.html">Projet de loi sur le Runet "travail durable" - que faire avant la deuxi√®me lecture?</a></li>
<li><a href="../fr440234/index.html">Julia et l'essaim de particules</a></li>
<li><a href="../fr440236/index.html">St√©ro√Ødes de carri√®re. Algorithme de base</a></li>
<li><a href="../fr440238/index.html">Comment un chef de produit peut-il g√¢cher une version dans le segment final</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>