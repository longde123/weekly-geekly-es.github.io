<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘§ğŸ» ğŸ‘‡ğŸ¾ ğŸ–ï¸ Vue 3å°†å˜å¾—æ›´å¿« ğŸ ğŸ¯ âœ‹ğŸ¼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ä»Šå¹´åœ¨å‰ç«¯ä¸–ç•Œä¸Šæœ€å¼•äººæ³¨ç›®çš„äº‹ä»¶ä¹‹ä¸€æ˜¯Vue nextçŸ¥è¯†åº“çš„å‘å¸ƒ-è¿™æ˜¯VueJSç¬¬ä¸‰ç‰ˆåŠŸèƒ½çš„ä¸€éƒ¨åˆ†ã€‚ æœ¬æ–‡æ¦‚è¿°äº†VueJSçš„æ–°æ€æ‰‹çº§åŠŸèƒ½ã€‚ åœ¨æœ¬æ–‡å‘è¡¨æ—¶ï¼Œè¯¥å­˜å‚¨åº“å¤„äºPre-AlphaçŠ¶æ€ã€‚ å¯ä»¥åœ¨è·¯çº¿å›¾ä¸­æŸ¥çœ‹å‘å¸ƒè®¡åˆ’ 

 èƒŒæ™¯çŸ¥è¯† 
 2018å¹´2æœˆï¼ŒVue.jsçš„åˆ›å»ºè€…Evan You åˆ†äº«...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Vue 3å°†å˜å¾—æ›´å¿«</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/477228/"><img src="https://habrastorage.org/getpro/habr/post_images/06f/124/556/06f124556abe1bec9eb55bccae58e759.png" alt="Screenshothot-1"><br> ä»Šå¹´åœ¨å‰ç«¯ä¸–ç•Œä¸Šæœ€å¼•äººæ³¨ç›®çš„äº‹ä»¶ä¹‹ä¸€æ˜¯<a href="https://github.com/vuejs/vue-next">Vue next</a>çŸ¥è¯†åº“çš„å‘å¸ƒ-è¿™æ˜¯VueJSç¬¬ä¸‰ç‰ˆåŠŸèƒ½çš„ä¸€éƒ¨åˆ†ã€‚ æœ¬æ–‡æ¦‚è¿°äº†VueJSçš„æ–°æ€æ‰‹çº§åŠŸèƒ½ã€‚ åœ¨æœ¬æ–‡å‘è¡¨æ—¶ï¼Œè¯¥å­˜å‚¨åº“å¤„äº<i>Pre-Alpha</i>çŠ¶æ€ã€‚ å¯ä»¥åœ¨<a href="https://github.com/vuejs/vue/projects/6">è·¯çº¿å›¾ä¸­</a>æŸ¥çœ‹å‘å¸ƒè®¡åˆ’ <br><a name="habracut"></a><br><h3> èƒŒæ™¯çŸ¥è¯† </h3><br>  2018å¹´2æœˆï¼ŒVue.jsçš„åˆ›å»ºè€…Evan You <a href="https://medium.com/the-vue-point/plans-for-the-next-iteration-of-vue-js-777ffea6fabf">åˆ†äº«äº†ä»–</a>å¯¹æµè¡Œæ¡†æ¶ç‰ˆæœ¬3çš„<a href="https://medium.com/the-vue-point/plans-for-the-next-iteration-of-vue-js-777ffea6fabf">è®¡åˆ’</a> ï¼š <br><br><ul><li> å°†åŠŸèƒ½åˆ†è§£ä¸ºè½¯ä»¶åŒ…ä»¥éš”ç¦»èŒƒå›´ </li><li>  TypeScriptå‡ºç°åœ¨ä»£ç åº“ä¸­ </li><li>  Vue 3å°†ä¸ç¬¬äºŒä¸ªç‰ˆæœ¬å‘åå…¼å®¹ï¼ˆå³ä¸ä¼šç ´åæ—§ä»£ç ï¼‰ </li><li> 3.0ç‰ˆä¸­çš„è§‚å¯Ÿè€…åŸºäºProxyï¼Œå®ƒå°†æé«˜æ¸²æŸ“é€Ÿåº¦å¹¶æ¶ˆé™¤<code>Object.defineProperty</code>æ–½åŠ çš„è®¸å¤šé™åˆ¶ã€‚ </li><li> æ‚¨å°†èƒ½å¤Ÿä½¿ç”¨æ–°çš„<code>renderTracked</code>å’Œ<code>renderTriggered</code>æŒ‚é’©é¦–æ¬¡äº®ç›¸<code>renderTriggered</code> </li><li> ç”±äºå¼•å…¥äº†æ ‘æŠ–åŠ¨ï¼ˆä¸åŒ…æ‹¬æ„å»ºä¸­æœªä½¿ç”¨çš„æŒ‡ä»¤ï¼‰ï¼Œå› æ­¤å‹ç¼©åçš„æ¡†æ¶å¤§å°å°†å°äº10kb </li><li> æ’æ§½ä¼˜åŒ– </li><li>  vue 3ä¸­çš„æ€§èƒ½å°†æé«˜100ï¼… </li></ul><br><blockquote>  <i>å†…ç½®ç»„ä»¶å’ŒæŒ‡ä»¤è¿è¡Œæ—¶å¸®åŠ©å™¨ï¼ˆvæ¨¡å‹ï¼‰ç­‰åŠŸèƒ½ç°åœ¨å¯ä»¥æŒ‰éœ€å¯¼å…¥å¹¶ä¸”å¯æ‘‡æ ‘</i> <br> åŸƒæ–‡ä½  </blockquote> ç¼–è¯‘å™¨å°†è·Ÿè¸ªæŒ‡ä»¤çš„å­˜åœ¨å¹¶å°†å…¶åŒ…æ‹¬åœ¨ç¼–è¯‘é˜¶æ®µçš„æ„å»ºä¸­ã€‚ <br><br> åœ¨ä½¿ç”¨Vue 3çš„è¿‡ç¨‹ä¸­ï¼ŒEvanæ‹’ç»å°†ç»„ä»¶é‡å†™ä¸ºç±»ï¼Œè€Œæ˜¯å®ç°äº†åŠŸèƒ½æ€§APIã€‚ <br><br> ç”±äºæ–°ç‰ˆæœ¬å°†ä½¿ç”¨IEä¸­ä¸æ”¯æŒçš„ä»£ç†ï¼Œå› æ­¤Evanè®¡åˆ’ä¸ºIE11åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„å†…éƒ¨ç‰ˆæœ¬ã€‚ æ€»å…±åˆ†å››ä¸ªé˜¶æ®µè¿›è¡Œï¼š <br><br><ol><li>  Alphaé˜¶æ®µ-ç¼–è¯‘å™¨å’Œssræ¸²æŸ“å®Œæˆçš„é˜¶æ®µ </li><li>  Betaé˜¶æ®µ-ä¸»åº“å®Œæˆé˜¶æ®µï¼ˆVue Routerï¼ŒVuexï¼ŒVue CLIï¼ŒVue DevToolsï¼‰ </li><li>  RCé˜¶æ®µ-åŒ…æ‹¬Vue 2.0çš„é¢„å‘è¡Œé˜¶æ®µ </li><li>  IE11ç‰ˆæœ¬ </li><li> æœ€ç»ˆå‘è¡Œ </li></ol><br> åŸƒæ–‡ï¼ˆEvanï¼‰è®¡åˆ’åœ¨2019å¹´å‘å¸ƒæœ€ç»ˆç‰ˆæœ¬ï¼Œä½†è¯¥é¡¹ç›®ä»å¤„äºæµ‹è¯•å‰é˜¶æ®µã€‚ <br><br><h2>  Vue 3å°†æ›´å¿« </h2><br> ç”±äºæœ‰äº†è®¸å¤šåˆ›æ–°ï¼ŒVue 3çš„é€Ÿåº¦å°†æ¯”ä»¥å‰çš„ç‰ˆæœ¬å¿«2å€ã€‚ <br><br><h3> åŸºäºä»£ç†çš„è§‚å¯Ÿå’Œååº” </h3><br> ä¸€é¡¹é‡å¤§åˆ›æ–°æ˜¯å°†ç›‘è§†å¯¹è±¡çš„æœºåˆ¶ä»Object.definePropertyçš„è·å–æ–¹æ³•å’Œè®¾ç½®æ–¹æ³•æ›´æ”¹ä¸ºProxyã€‚ ç°åœ¨ï¼ŒVueå¯ä»¥åœ¨ä¸ä½¿ç”¨Vue.setå’ŒVue.deleteçš„æƒ…å†µä¸‹è·Ÿè¸ªååº”å¯¹è±¡çš„å±æ€§çš„åˆ é™¤å’Œæ·»åŠ ã€‚ è¿™é¡¹åˆ›æ–°å°†æ¸²æŸ“å’Œè„šæœ¬ç¼–å†™çš„é€Ÿåº¦æé«˜äº†ï¼Œå¹¶å°†å†…å­˜æ¶ˆè€—å‡å°‘äº†2å€ï¼ æ‚¨å¯ä»¥é€šè¿‡<a href="https://gitlab.com/javascript-ninja/demos/vue3-performance-test">ä¸‹è½½Ilya Klimovå­˜å‚¨åº“</a>æ¥æ¯”è¾ƒVue 2å’ŒVue 3çš„æ€§èƒ½ <br><br>  <i>Vue 2ï¼ˆå·¦ï¼‰å’ŒVue 3ï¼ˆå‰Alphaé˜¶æ®µï¼Œå³ï¼‰çš„æ€§èƒ½æ¯”è¾ƒ</i> <br> <a href="https://ibb.co/HBgft8C"><img src="https://habrastorage.org/getpro/habr/post_images/951/84a/318/95184a318fbf8d76a644ef2f23fdb206.png" alt="Screenshothot-1"></a> <br><br> å¤šäºäº†ä»£ç†ï¼Œå½“æ›´æ”¹Vue 2ä¸­æœªè·Ÿè¸ªçš„å¯¹è±¡æ“ä½œæ—¶ï¼Œååº”æ€§ä¸ä¼šä¸¢å¤±ã€‚ ç°åœ¨ï¼ŒVueä¸ä¼šé€’å½’åœ°éå†å¯¹è±¡çš„å±æ€§æ¥è®¡ç®—æ›´æ”¹ã€‚ <br><br> ä»€ä¹ˆæ˜¯è¯ºè¨€ï¼š <br><br><ul><li> åä»£å’Œçˆ¶æ¯ç‹¬ç«‹é‡ç”» </li><li>  Vue 3å¤§å°ä»å‹ç¼©å½¢å¼çš„20kbå‡å°‘åˆ°10kb </li><li> æ·»åŠ äº†TypeScript </li></ul><br> å…¶ä»–ä¼˜åŒ–ï¼š <br><br><ul><li>  Vue 3å°†è®°ä½é™æ€å†…å®¹å¹¶ä»…ä¿®è¡¥åŠ¨æ€æ•°æ® </li><li> é™æ€é“å…·ä¸Šæ¶èŒƒå›´ </li><li> ä¸ºäº†ä¾¿äºå¼€å‘ï¼ŒVue 3ä»£ç è¢«åˆ†è§£ä¸ºæ¨¡å—åŒ–ç¨‹åºåŒ…ã€‚ </li><li> è¿è¡Œæ—¶æ ¸å¿ƒç¨‹åºåŒ…è·¨å¹³å°åˆ¶ä½œ </li><li>  Evanä»£æ›¿äº†ç±»ï¼Œè€Œæ·»åŠ äº†è®¾ç½®å‡½æ•°å’ŒæŒ‚é’©ï¼Œä½¿ä»£ç æ¸…æ™°ï¼Œæœ‰æ¡ç†å’Œå¯é‡ç”¨* </li><li> æ—¶é—´åˆ†ç‰‡*ã€‚  JSä»£ç æ‰§è¡Œè¢«åˆ†å‰²ä¸ºå¤šä¸ªéƒ¨åˆ†ï¼Œè€Œä¸ä¼šé˜»æ­¢ç”¨æˆ·ä¸åº”ç”¨ç¨‹åºçš„äº¤äº’ </li></ul><br>  <i>æ˜Ÿå·è¡¨ç¤ºå®éªŒæ€§API</i> ã€‚ <br> æ›´æ–°ï¼š <a href="https://github.com/vuejs/rfcs/issues/89">åæ¥ï¼ŒåŸƒæ–‡ï¼ˆEvanï¼‰å†³å®šæ”¾å¼ƒ<i>æ—¶é—´é™åˆ¶ã€‚</i></a> <br><br> å—HOCçš„å¯å‘ï¼ŒReacta Evané€šè¿‡å¯é‡ç”¨çš„é€»è¾‘å’Œè‡ªå®šä¹‰é’©å­å®ç°äº†è®¾ç½®åŠŸèƒ½ã€‚ ä¸mixinsä¸åŒï¼Œç”Ÿå‘½å‘¨æœŸæŒ‚é’©ä¸ä¼šç›¸äº’è¦†ç›–ã€‚ <br><br><h3> å¢å¼ºå‹VDomè¡¥ä¸ </h3><br>  <i>é™æ€å†…å®¹æ“çºµæ†</i> <br><br> <a href="https://ibb.co/b5GXQsq"><img src="https://habrastorage.org/getpro/habr/post_images/9cb/415/c75/9cb415c752e339ffec2664b23cf31ad2.png" alt="Screenshothot-2"></a> <br><br> ç¼–è¯‘æ¨¡æ¿æ—¶ï¼Œé™æ€å†…å®¹å°†ç§»å‡ºVDomä¿®è¡¥ç¨‹åºã€‚  Vueå—Svelteçš„å¯å‘æ¥åšåˆ°è¿™ä¸€ç‚¹ï¼š <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>Hello, {{name}}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br> åœ¨è¿™é‡Œï¼Œå°†ä¼ é€’<i>æ›´æ”¹åçš„</i>å¯¹è±¡å’Œä¸Šä¸‹æ–‡ã€‚ å¦‚æœ<i>æ›´æ”¹</i>åŒ…å«å“åº”å˜é‡ï¼Œåˆ™å°†åœ¨ä¸Šä¸‹æ–‡ä¸­å¯¹å…¶è¿›è¡Œæ›´æ–°ã€‚ <br><br><pre> <code class="javascript hljs">p(changed, ctx) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(changed.name) { set_data(t1, ctx.name); } }</code> </pre><br> åœ¨ä¹‹å‰çš„å®ç°ä¸­ï¼ŒVueç¼–è¯‘å™¨éå†äº†æ‰€æœ‰èŠ‚ç‚¹ï¼ŒåŒ…æ‹¬é™æ€èŠ‚ç‚¹ï¼š <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">render</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> children = []; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">5</span></span>; i++) { children.push(h(<span class="hljs-string"><span class="hljs-string">'p'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">class</span></span>: <span class="hljs-string"><span class="hljs-string">'text'</span></span> }, i === <span class="hljs-number"><span class="hljs-number">2</span></span> ? <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.message : <span class="hljs-string"><span class="hljs-string">'Lorem upsum'</span></span>)) } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> h(<span class="hljs-string"><span class="hljs-string">'div'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">'content'</span></span> }, children) }</code> </pre><br><h4> æ–°æ¨¡æ¿ç¼–è¯‘ç­–ç•¥ </h4><br> åœ¨æ–°ç‰ˆæœ¬ä¸­ï¼Œæ¨¡æ¿åˆ†ä¸ºå¤šä¸ªå—ï¼š <br><br> <a href="https://imgbb.com/"><img src="https://habrastorage.org/getpro/habr/post_images/c0f/a65/25e/c0fa6525eca7377713ef1f6fae4bdb79.png" alt="é€‰æ‹©002"></a> <br><br><ul><li> æ¨¡æ¿åˆ†ä¸ºå¤šä¸ªå— </li><li> æ¯ä¸ªå—å†…çš„èŠ‚ç‚¹ç»“æ„æ˜¯å®Œå…¨é™æ€çš„ã€‚ </li><li> è¦è·Ÿè¸ªä¸€ä¸ªå—ä¸­çš„åŠ¨æ€å€¼ï¼Œåªéœ€è¦æ”¾ç½®ä¸€ä¸ªå¹³é¢æ•°ç»„å³å¯ </li></ul><br> ä½¿ç”¨æ–°ç­–ç•¥ï¼Œæ€§èƒ½ç›´æ¥å–å†³äºåŠ¨æ€å†…å®¹çš„æ•°é‡ï¼Œè€Œä¸æ˜¯æ¨¡æ¿çš„å¤§å°ã€‚ <br><br><h3>  Vue 3å°†æ›´å¥½åœ°é€‚åº”å¤§å‹é¡¹ç›® </h3><br> å¤§å‹é¡¹ç›®åœ¨ä½¿ç”¨Vueæ—¶é¢ä¸´ä»¥ä¸‹é—®é¢˜ï¼š <br><br><ol><li> ä¸å®Œå–„çš„TypeScriptæ”¯æŒ </li><li> å¤§é‡éš¾ä»¥æ”¯æŒçš„ç»„ä»¶ </li><li> ç¼ºä¹ç®€å•çš„æ¨¡å¼æ¥é‡ç”¨ä»£ç  </li></ol><br> æœ€åˆï¼Œè®¡åˆ’æ·»åŠ ç±»æ¥æ”¯æŒTSã€‚ ä½†æ˜¯Vueå›¢é˜Ÿé‡åˆ°äº†é—®é¢˜ï¼š <br><br><ul><li> å°†é“å…·å’Œå…¶ä»–å±æ€§ä¸<i>æ­¤</i>æ··åˆ<i>å­˜åœ¨</i>é—®é¢˜ </li><li>  <a href="https://github.com/tc39/proposal-decorators">TC39ä¸­ES6ç±»çš„è£…é¥°å™¨</a>ä¸ç¨³å®š </li></ul><br>  Evançš„å›¢é˜Ÿè¯·æ±‚TC39ä¸“å®¶çš„å¸®åŠ©ï¼Œå‘ç°ç±»ä¼¼çš„å®ç°å¯èƒ½ä¼šä¸å°†å„ç§propå’Œå±æ€§æ··åˆåˆ°Vueä¸Šä¸‹æ–‡ä¸­çš„æ’ä»¶å‘ç”Ÿå†²çªã€‚ <br><br> è¿™äº›é—®é¢˜æœ‰å¯èƒ½ç”±è£…é¥°å™¨è§£å†³ï¼Œä½†å®ƒä»¬ä»åœ¨å¼€å‘ä¸­ã€‚ <br><br><h4> åˆæˆAPI </h4><br>  Vueå›¢é˜Ÿå—åˆ°Reacté’©å­çš„å¯å‘ï¼Œå¹¶å†³å®šåˆ›å»ºä¸€ä¸ªç±»ä¼¼çš„APIã€‚ å®ƒæ˜¯å¯é€‰çš„ï¼Œæ­£åœ¨å¼€å‘å’Œè®¨è®ºä¸­ï¼Œå› æ­¤æŸäº›åç§°å¯èƒ½ä¼šæ›´æ”¹ã€‚ <br> æ›´æ”¹çš„ä¸»è¦æ¦‚å¿µæ˜¯æ›´åˆç†åœ°ç»„ç»‡ç»„ä»¶ä»£ç ï¼Œå°†å…¶åˆ†ä¸ºè¯­ä¹‰å—ã€‚ æ‚¨å¯ä»¥åœ¨<a href="https://vue-composition-api-rfc.netlify.com/">æ–‡æ¡£ä¸­</a>é˜…è¯»æœ‰å…³<i>composition APIçš„</i>æ›´å¤šä¿¡æ¯ã€‚ <br><br> ä½¿ç”¨Vue 3çš„ç¤ºä¾‹ã€‚ç»„ä»¶åˆ†ä¸ºé€»è¾‘åŠŸèƒ½ï¼Œåœ¨å…¶ä¸­å¯ä»¥ä½¿ç”¨ååº”æ€§å’Œç”Ÿå‘½å‘¨æœŸæŒ‚é’©ã€‚ <br><br> ä»composition APIå¯¼å…¥æ–°çš„é’©å­ï¼š <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { reactive, computed, onMounted } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@vue/composition-api'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> { setup() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { state } = countAnimal(<span class="hljs-string"><span class="hljs-string">"rabbit"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { getType, anotherState } = anotherCount() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { state, getType, anotherState } } }</code> </pre><br>  <i>countAnimal</i>å‡½æ•°å…·æœ‰ååº”æ€§<i>è®¡æ•°ï¼ŒåŠ¨ç‰©</i>å’Œ<i>å¢é‡</i>æ–¹æ³•ã€‚ ä½¿ç”¨å¥‡æ•°è®¡æ•°å™¨ï¼ŒåŠ¨ç‰©çš„åç§°ä¼šæ›´æ”¹ã€‚ è®¡æ•°å™¨åœ¨å®‰è£…ç»„ä»¶æ—¶å¯åŠ¨ã€‚ <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">countAnimal</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> state = reactive({ <span class="hljs-attr"><span class="hljs-attr">count</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">animal</span></span>: computed(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> state.count % <span class="hljs-number"><span class="hljs-number">2</span></span> ? name : <span class="hljs-string"><span class="hljs-string">'bear'</span></span>) }) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">increment</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ setTimeout(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { state.count++; increment() }, <span class="hljs-number"><span class="hljs-number">1000</span></span>) } onMounted(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { increment() }) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { state } }</code> </pre><br> æˆ‘ä»¬åˆ›å»ºå¦ä¸€ä¸ªå‡½æ•°<i>anotherCount</i> ï¼Œå…¶ä¸­è¿˜åŒ…å«å¸¦æœ‰è®¡æ•°å™¨å’ŒåŠ¨ç‰©åç§°çš„<i>å¢é‡</i>å’Œ<i>çŠ¶æ€</i>æ–¹æ³•ã€‚  <i>getType</i>æ–¹æ³•ä»æ¨¡æ¿ä¼ é€’åŠ¨ç‰©çš„åç§°ã€‚ <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">anotherCount</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> anotherState = reactive({ <span class="hljs-attr"><span class="hljs-attr">count</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">animal</span></span>: <span class="hljs-string"><span class="hljs-string">'fox'</span></span> }) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getType</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> name == <span class="hljs-string"><span class="hljs-string">'bear'</span></span> ? <span class="hljs-string"><span class="hljs-string">'slow'</span></span> : <span class="hljs-string"><span class="hljs-string">'fast'</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">increment</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ setTimeout(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { anotherState.count+=<span class="hljs-number"><span class="hljs-number">10</span></span>; increment() }, <span class="hljs-number"><span class="hljs-number">1000</span></span>) } onMounted(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { increment() }) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { getType, anotherState } }</code> </pre><br> è¯¥æ¨¡æ¿æ˜¾ç¤º2ä¸ªè®¡æ•°å™¨å’Œ2ä¸ªåŠ¨ç‰©åç§°ã€‚ å¥”è·‘çš„ç±»å‹æ ¹æ®åŠ¨ç‰©çš„åç§°è€Œæœ‰æ‰€ä¸åŒã€‚ <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>Count {{state.animal}}: {{ state.count }}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>{{state.animal}} runs {{getType(state.animal)}}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>Another: Count {{anotherState.animal}}: {{ anotherState.count }}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  <i>å®‰è£…ç¨‹åº</i>ä¸­ä½¿ç”¨äº†æ–°çš„æŒ‚é’©ï¼Œ <b>è€Œä¸ä¼šç ´å</b>æ—§çš„APIã€‚ è¯·æ³¨æ„ï¼Œ <i>onMounted</i>æ˜¯æŒ‡å•ä¸ªç»„ä»¶ç”Ÿå‘½å‘¨æœŸæŒ‚é’©ã€‚ <br><br> æ­¤apiæœ‰å‡ ä¸ªä¼˜ç‚¹ï¼š <br><br><ul><li> ç”Ÿå‘½å‘¨æœŸæŒ‚é’©ä¸ä¼šäº’ç›¸æ‘©æ“¦ </li><li> æ˜ç¡®çš„å±æ€§æ¥æº </li><li> æ²¡æœ‰åˆ›å»ºå…¶ä»–ç»„ä»¶å®ä¾‹ </li></ul><br><h3> ç»“è®º </h3><br> ä¸Šé¢åˆ—å‡ºäº†Vue 3ä¸­æœ€é‡è¦çš„æ›´æ”¹ï¼Œå…¶ä¸­å¤§éƒ¨åˆ†æ”¹è¿›éƒ½éšè—åœ¨ç¼–è¯‘å™¨ç”Ÿæˆçš„ä»£ç çš„å¹•åã€‚ <br><br> ä¸»è¦æ”¹è¿›ï¼š <br><br><ul><li> ç”Ÿæˆçš„ä»£ç æœ€é€‚åˆJSç¼–è¯‘å™¨ </li><li> ç”Ÿæˆæ†ç»‘æ›´å®¹æ˜“ </li><li> çˆ¶/å­ç»„ä»¶é‡ç»˜å½’åŠŸäºæ”¹è¿›çš„ä¿®è¡¥ç®—æ³• </li></ul><br>  Vueå·²å°†è‡ªå·±ç¡®ç«‹ä¸ºæœ€å¿«ï¼Œæœ€ç†æƒ³çš„æ¡†æ¶ä¹‹ä¸€ã€‚ æ–°ç‰ˆæœ¬å°†å˜å¾—æ›´å¿«ï¼Œæ›´è½»æ¾ã€‚  Vue 3éå¸¸é€‚åˆå½“ä»Šçš„ç§»åŠ¨å’Œé¢å‘æ€§èƒ½çš„Webã€‚ æœ‰å…³æœªæ¥æ›´æ”¹çš„è¯„è®ºå¯ä»¥ç•™åœ¨å®˜æ–¹<a href="https://github.com/vuejs/rfcs">RFCä¸­</a> ï¼ˆè¦æ±‚æä¾›è¯„è®ºï¼‰ã€‚ <br>  PSï¼šæ„Ÿè°¢æ‚¨çº æ­£é”™åˆ«å­—ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN477228/">https://habr.com/ru/post/zh-CN477228/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN477210/index.html">æˆ‘çš„å“­æ³£Yaroslavna</a></li>
<li><a href="../zh-CN477214/index.html">Angularä¸Šçš„åº”ç”¨ç¨‹åºé…ç½®ã€‚ æœ€ä½³å®åŠ¡</a></li>
<li><a href="../zh-CN477222/index.html">å…¬å¼å’Œæƒ°æ€§ç»„åˆå™¨</a></li>
<li><a href="../zh-CN477224/index.html">â€œæ¶ˆç­å™ªéŸ³â€ï¼šæ‚¨éœ€è¦äº†è§£çš„æœ‰å…³å™ªå£°æ±¡æŸ“çš„ä¿¡æ¯</a></li>
<li><a href="../zh-CN477226/index.html">åœ¨ç®€å•ä¸æ­£ç¡®ä¹‹é—´é€‰æ‹©</a></li>
<li><a href="../zh-CN477230/index.html">æ•™è‚²è½¯ä»¶çš„å†å²ï¼šç¬¬ä¸€æ¬¾ä¸ªäººè®¡ç®—æœºï¼Œæ•™è‚²æ¸¸æˆå’Œå­¦ç”Ÿè½¯ä»¶</a></li>
<li><a href="../zh-CN477234/index.html">ç»ˆç»“ç”µçº¿å…„å¼Ÿçš„è€é¼ </a></li>
<li><a href="../zh-CN477236/index.html">ç¾å›½æ³•é™¢å…è®¸å„å·æ¢å¤ç½‘ç»œä¸­ç«‹</a></li>
<li><a href="../zh-CN477238/index.html">åŠ å› æœæŠ¥åº”ï¼šæ‰¹è¯„äº†å †æ ˆæº¢å‡ºçš„åŸå› ä»¥åŠä¸ºä»€ä¹ˆè®¸å¤šäººæŠ±æ€¨ç¤¾åŒºæ¯’æ€§</a></li>
<li><a href="../zh-CN477242/index.html">æˆ‘ä»¬å¦‚ä½•é€‰æ‹©ServiceDeskã€‚ ç¬¬ä¸‰éƒ¨åˆ†</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>