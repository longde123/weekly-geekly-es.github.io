<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧑🏾‍🤝‍🧑🏻 🐁 🌲 Équipe de plugins pour configurer les composants JavaFX dans une application de bureau ♿️ 🚵🏿 👵</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="C'est toujours agréable de parler avec une application qui se souvient de vos habitudes et comme si vous vous sentez, de ce que vous voulez. Toute bib...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Équipe de plugins pour configurer les composants JavaFX dans une application de bureau</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/422693/"><p>  C'est toujours agréable de parler avec une application qui se souvient de vos habitudes et comme si vous vous sentez, de ce que vous voulez.  Toute bibliothèque ou plate-forme d'interface utilisateur n'a, hélas, que des fonctionnalités de base et un ensemble de composants.  Par exemple, si une colonne d'une table ne bouge pas ou ne peut pas être triée par elle, alors une telle application dans laquelle elle est utilisée peut difficilement être appelée conviviale.  Heureusement, aujourd'hui, vous ne surprendrez personne avec une telle fonctionnalité.  Cependant, tous les programmes ne se souviendront pas de la position de cette colonne et dans la prochaine session, ils l'afficheront au même endroit.  Il peut également être gênant de définir la position du séparateur à chaque fois dans <em>SplitPane</em> ou d'entrer les mêmes paramètres de filtre.  En règle générale, ces aménagements doivent être fournis par les développeurs eux-mêmes. </p><br><p> Il existe de nombreux exemples de telles améliorations apparemment minimes, mais les solutions proposées par la plate-forme ne sont que deux, et essentiellement elles sont similaires: créez votre propre composant basé sur la base, créez votre <em>skin</em> au composant de base, redéfinissant le comportement.  Aucune de ces méthodes n'est facile à implémenter; de plus, chaque composant devra écrire son propre composant adaptateur.  J'ai rencontré pas mal de gens à qui cette méthode était plus familière et compréhensible. </p><a name="habracut"></a><br><p>  Mais il est loin d'être le seul.  Que se passe-t-il si nous prenons les capacités de la plate-forme qui prend en charge le modèle de navigateur pour le <em>nœud</em> enfant, et lors de l'ajout ou de la suppression du sous-graphique <em>Node</em> , exécutons un ensemble de plug-ins, chacun étant engagé dans son propre travail spécifique?  L'un est capable de tout mémoriser et de tout restaurer lors d'une deuxième session, l'autre - les composants spécifiés sont modifiés par le menu contextuel, ajoutant la fonction de copie de texte.  Certains d'entre eux ajoutent trois points à la fin du texte s'il ne convient pas, et lorsque vous survolez la souris, il affiche un indice avec du texte intégral uniquement s'il ne convient pas.  Plus important encore, peu importe de quelle bibliothèque se trouve ce composant, si nous pouvons en hériter et redéfinir le comportement dont nous avons besoin.  Tout ce dont nous avons besoin dans ce cas est d'apprendre au plugin à travailler avec les composants nécessaires de différentes manières, si nécessaire. </p><br><p>  Cela pourrait être un auditeur pour une collection d'enfants: </p><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> ListChangeListener changeListener = (ListChangeListener&lt;Node&gt;) (ListChangeListener.Change&lt;? extends Node&gt; c) -&gt; { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (c.next()) { c.getAddedSubList().forEach(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>::applySettingsForNodeAndAddListenerForItsChild); } };</code> </pre> <br><p>  Ce serait le code de traitement pour chaque <em>nœud</em> modifié: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">applySettingsForNodeAndAddListenerForItsChild</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Node n)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!checkApplySettings(n)) { apply(n); ObservableList&lt;Node&gt; children = getChildren(n); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (children != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { addListnerForUpdateChildren(children); } markNodePropertyApplied(n); } }</code> </pre> <br><p>  Et tel est le code appelant directement le plugin lui-même, qui est enregistré sur ce type de composant: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Node </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">apply</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Node node)</span></span></span><span class="hljs-function"> </span></span>{ List&lt;SettingsPlugin&gt; settingsPlugins = settingsMap.get(Node.class); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (settingsPlugins != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (SettingsPlugin plugin : settingsPlugins) { node = plugin.apply(node, userSettings.getSettings()); } } List&lt;SettingsPlugin&gt; settingList = settingsMap.get(node.getClass()); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (settingList != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (SettingsPlugin plugin : settingList) { node = plugin.apply(node, userSettings.getSettings()); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> node; }</code> </pre> <br><p>  Voici l'interface du plugin lui-même: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SettingsPlugin</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Node </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">apply</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Node node, Map&lt;String, Object&gt; userSettings)</span></span></span></span>; }</code> </pre><br><p>  Il suffit d'enregistrer l'écouteur une seule fois sur la collection d'éléments enfants <em>Root</em> de l'élément <em>Scene</em> , et sur le reste du sous-graphe, il s'enregistrera lui-même ... </p><br><p>  Récemment, je fais une analogie sur les capacités des plates-formes pour les applications de bureau et Web.  Il serait intéressant de savoir comment une telle fonctionnalité peut être implémentée sur différents cadres. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr422693/">https://habr.com/ru/post/fr422693/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr422683/index.html">Aux États-Unis, deux commerçants ont créé une fausse société de courtage pour voler de l'argent à des investisseurs novices</a></li>
<li><a href="../fr422685/index.html">Smart Watch Samsung Galaxy Watch: mise à niveau d'Android Wear OS vers Tizen OS - expérience personnelle</a></li>
<li><a href="../fr422687/index.html">Messagers en danger</a></li>
<li><a href="../fr422689/index.html">Détection des couleurs des voitures à l'aide de réseaux de neurones et de TensorFlow</a></li>
<li><a href="../fr422691/index.html">La caméra hybride et le lidar améliorent les capacités des robots, complétant les informations sur le monde extérieur</a></li>
<li><a href="../fr422697/index.html">Webpack 4 et division du fichier de configuration en modules</a></li>
<li><a href="../fr422699/index.html">Une échappatoire fermée confirme l'irréalité du monde quantique</a></li>
<li><a href="../fr422701/index.html">Deep Learning et OpenVINO Toolkit. Poser une question à un expert Intel</a></li>
<li><a href="../fr422705/index.html">Le livre sur "Paragraphe" sur Habré. Un nouveau chapitre concerne les programmeurs coopératifs: Beta</a></li>
<li><a href="../fr422709/index.html">Les scientifiques ont trouvé une section du cerveau humain qui est responsable de la hauteur de notre discours</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>