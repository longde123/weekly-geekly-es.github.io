<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧗🏻 🏳️ 🤽 DIY FPV Renndrohne (Teil 2) - Setup 🚃 👩🏿‍💼 😂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Im ersten Teil habe ich darüber gesprochen, wie man einen Quadrocopter für FPV-Flüge zusammenbaut. Jetzt ist es Zeit, es einzurichten. Bei Interesse w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>DIY FPV Renndrohne (Teil 2) - Setup</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/395487/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Im </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ersten Teil habe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ich darüber gesprochen, wie man einen Quadrocopter für FPV-Flüge zusammenbaut. </font><font style="vertical-align: inherit;">Jetzt ist es Zeit, es einzurichten. </font><font style="vertical-align: inherit;">Bei Interesse welkam unter Katze.</font></font><br>
<br>
<img src="https://habrastorage.org/files/4a4/068/96b/4a406896bf854d38b75a5c4617cba4b7.jpg"><br>
<a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Machen Sie sofort eine Reservierung, dass ich nicht vorgebe, ein Experte zu sein. Dies ist nur der dritte Quadrocopter, den ich zusammengestellt habe. </font><font style="vertical-align: inherit;">Darüber hinaus ist das Stimmen eine sehr subjektive Sache. </font><font style="vertical-align: inherit;">Trotzdem hoffe ich, dass jemand den Artikel nützlich findet und dabei hilft, Zeit zu sparen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir fahren direkt mit dem Setup fort. </font><font style="vertical-align: inherit;">Zuerst einfachere Dinge, und dann Seine Majestät der Fluglotse.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blinken und Einrichten von MinimOSD</font></font></h4><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die beliebteste (aber nicht die einzige) Firmware für MinimOSD ist </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MWOSD</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Zuerst müssen Sie ihr Board flashen und dann auch konfigurieren. </font><font style="vertical-align: inherit;">Wenn Sie OSD über einen PC konfigurieren können (mehr dazu im Abschnitt zum Einrichten eines PCs), benötigen Sie für die Firmware einen FTDI-Adapter oder Arduinka. </font><font style="vertical-align: inherit;">In </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diesem Video</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wird gezeigt, wie dies über den FTDI-Programmierer erfolgt und vor allem, wo die alten Treiber </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">dafür erhältlich sind</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Die Hauptsache ist, vor der Deinstallation der Firmware in Config.h die folgenden Zeilen nicht zu vergessen: </font><font style="vertical-align: inherit;">
Von den Parametern, die auf dem Bildschirm angezeigt werden sollen, begann ich nur mit der Batteriespannung, der Flugzeit und dem ausgewählten Flugmodus.</font></font><br>
<br>
<code>#define MINIMOSD<br>
#define CLEANFLIGHT<br>
</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/files/a24/578/7cd/a245787cd08e40d99a5e6f8b59213c6a.png"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Firmware- und Controller-Einstellungen</font></font></h4><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für Firmware-Controller habe ich auch einen speziellen USB-Adapter, aber Sie können darauf verzichten, indem Sie eine Verbindung über einen PC herstellen. </font><font style="vertical-align: inherit;">Lange überlegt, Multishot oder bereits getesteten Oneshot125 zu setzen? </font><font style="vertical-align: inherit;">Einerseits gibt es auf dem veralteten F330-Chip keinen großen Geschwindigkeitsunterschied, andererseits eine Melodie aus Star Wars, wenn Sie ihn einschalten, und, wie es in den Foren heißt, ein „saubereres Signal“. </font><font style="vertical-align: inherit;">Wir haben alle nicht individuellen Beschwerden gelöst, dass sich die Motoren beim Anschluss an die CLI spontan mit maximaler Geschwindigkeit zu drehen beginnen. </font><font style="vertical-align: inherit;">Infolgedessen installierte er die neueste Version von BLHeli (zum Zeitpunkt von Build 14.5), schaltete Damped Light ein und stellte Motor Timing auf Medium. </font><font style="vertical-align: inherit;">Kalibrierte später die Regler gemäß </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dieser Anweisung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flight Controller Firmware</font></font></h4><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zu diesem Zeitpunkt steckte ich am längsten fest, da es Probleme mit der Firmware gab. Es stellte sich heraus, dass Sie das erste Mal mit dem Schließen von Boot-Kontakten nähen müssen (wie in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diesem Video</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Übrigens kommt es manchmal vor, dass der PC schreibgeschützt ist und es unmöglich ist, eine neue Firmware zu flashen. Hier finden Sie eine </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anleitung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zur Behebung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die heute vielleicht zu </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recht</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> beliebteste Firmware ist </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Cleanflight</font></a><font style="vertical-align: inherit;"> . Nach der Installation reicht es nur aus, das Empfängerprotokoll zu konfigurieren, und der Quadrocopter kann bereits recht erträglich fliegen. Verwenden Sie zum Konfigurieren die praktische grafische Shell </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cleanflight Configurator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dank des offenen Firmware-Codes hat es mehrere Zweige (Gabeln). Das interessanteste davon ist </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Betaflight.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">von einer Person mit dem Spitznamen Boris B. Die Firmware entwickelt sich sehr dynamisch und einige ihrer "Funktionen" wechseln dann in den "übergeordneten" Cleanflight (z. B. Airmode-Flugmodus). Der Nachteil von Betaflight ist, dass Releases oft genug herauskommen und ihre Stabilität nicht immer hoch ist. Dieser Grund hat übrigens das Schreiben dieses Artikels um mehrere Wochen verzögert. Zum Zeitpunkt der Fertigstellung der Montage des Quadrocopters wurde gerade die Version 2.8.0 veröffentlicht, die einige Fehler aufwies und sich in den unfreundlichen Standardeinstellungen unterschied. Die gepatchte Version 2.8.1 RC1 erschien sehr schnell, aber meine Erfahrung als Programmierer hat mir gezeigt, dass es besser ist, auf die Veröffentlichung zu warten. Ich habe nicht versagt, da zur gleichen Zeit mit der Veröffentlichung von Version 2.8.1 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Betaflight Configurator erschien</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Wir können sagen, dass dies eine neue Phase in der Geschichte dieser Firmware ist. </font><font style="vertical-align: inherit;">Tatsache ist, dass sich Betaflight mit zunehmender Entwicklung von Cleanflight entfernt und dessen Konfigurator immer unbrauchbarer wird, da der Großteil der Einstellungen immer noch über die CLI-Konsole vorgenommen wurde. </font><font style="vertical-align: inherit;">Zum Zeitpunkt der Erstellung dieses Artikels war Betaflight Version 2.9.0 übrigens bereits veröffentlicht worden, aber aufgrund negativer Bewertungen habe ich kein Upgrade darauf durchgeführt. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Folgenden werde ich detailliert beschreiben, wie ich meinen Quadrocopter über Betaflight Configurator konfiguriert habe.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PC-Einrichtung über Betaflight Configurator</font></font></h4><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Registerkarte "Setup"</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hat die Kalibrierung des Beschleunigungsmessers durchgeführt.</font></font><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Registerkarte "Ports"</font></font></h5><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Damit OSD funktioniert, enthält es MSP für den UART2-Port.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deaktivieren Sie niemals den MSP für den UART1-Port. </font><font style="vertical-align: inherit;">Es ist parallel zu USB und durch Deaktivieren der Datenübertragung sind Sie nicht mehr über einen USB-Anschluss mit einem PC verbunden.</font></font></li>
</ul><br>
<br>
<img src="https://habrastorage.org/files/0dc/829/18b/0dc82918b7604d158d4544d3262f7b04.png"><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Registerkarte Konfiguration</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eigentlich werden hier fast alle Einstellungen vorgenommen.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Im Abschnitt „Ausrichtung von Platine und Sensor“ habe ich angegeben, dass mein PC um 90 Grad entlang der Gierachse gedreht wurde. </font><font style="vertical-align: inherit;">Die Richtigkeit dieses Parameters kann dann auf der Registerkarte Setup überprüft werden.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Im "Empfangsmodus" habe ich RX_PPM gewählt.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich habe ONESHOT125 als Protokoll der Regulierungsbehörden gewählt (warum nicht MULTISHOT, schrieb ich oben).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Nicht synchronisierter PWM-Ausgang" wieder deaktiviert, da ich MULTISHOT nicht verwende.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Damit sich die Motoren immer im gespeisten Zustand drehen, habe ich MOTOR_STOP ausgeschaltet.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aktiviert die Option "Motoren unabhängig vom Drosselklappenwert deaktivieren", da ich Motoren auf einem separaten Kanal scharf schalten werde.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Wert von "Minimum Throttle" wurde auf 1030 reduziert. Dies ist die Leerlaufdrehzahl, die subjektiv ausgewählt wird.</font></font></li>
<li>  «VBAT»     .     «Battery Voltage»   ,      .      ,     «Voltage Scale».</li>
<li> «Other Features»  BLACKBOX, SUPEREXPO_RATES,   LED_STRIP   AIRMODE.      .</li>
</ul><br>
<br>
<img src="https://habrastorage.org/files/551/eb5/f47/551eb5f47fdc409182fd8907ec6b18e3.png"><br>
<br>
<h5> Failsafe</h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit Failsafe stellte sich heraus, dass alles etwas komplizierter war als ich zuvor gesehen hatte. </font><font style="vertical-align: inherit;">In speziellen Foren gibt es manchmal Holivars zum Thema "Wo ist es besser, ausfallsicher zu konfigurieren: auf dem Empfänger oder auf dem PC?" </font><font style="vertical-align: inherit;">Tatsächlich klingt diese Frage richtig wie folgt: "Wo ist es besser, ausfallsicher zu konfigurieren: nur auf dem Empfänger oder auf dem Empfänger und auf dem PC?" </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Konfiguration der Ausfallsicherheit auf dem Empfänger ist in jedem Fall erforderlich. </font><font style="vertical-align: inherit;">Hier muss klargestellt werden, dass es sich um den Frsky D4R-II-Empfänger handelt, der unter dem PPM-Protokoll arbeitet. </font><font style="vertical-align: inherit;">Bei Empfängern mit S.Bus ist die Ausfallsicherheit anders konfiguriert. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Frsky D4R-II bietet drei Optionen für den Signalverlust des Senders:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Senden Sie ein Signal an einen PC, das die voreingestellten Positionen von Sticks und Schaltern simuliert (Modus "Voreinstellungspositionen", wie im Handbuch beschrieben).</font></font></li>
<li>     ,    ( Hold Last Position)</li>
<li>     ( No Pulse)</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Standardmäßig ist der Frsky D4R-II auf den Modus "Letzte Position halten" eingestellt, der zum Flug des Geräts in entfernte Entfernungen beiträgt. Wenn Sie Failsafe nur für den Empfänger verwenden, müssen Sie den Modus "Voreinstellungen" konfigurieren. Eine andere Sache ist, dass die Ausfallsicherheit auch bei einem kurzzeitigen Signalverlust aktiviert wird. Es ist sehr unangenehm, wenn sich das Signal nach Sekundenbruchteilen erholt und der Quadrocopter bereits Zadarmi-Motoren hat und herunterfällt. Das Einrichten einer Ausfallsicherheit auf einem PC kann die Situation verbessern, da dieser Modus eine verzögerte Reaktion aufweist, die als Filter gegen kurzfristige Signalverluste dient. Darüber hinaus gibt es ein anpassbares Skript, nach dem sich der Quadrocopter verhält, wenn die Ausfallsicherheit aktiviert ist. Sie können beispielsweise den Stabilisierungsmodus aktivieren und versuchen, mehr oder weniger sanft zu sitzen, oder sogar RTH aktivieren, falls vorhanden.In der Praxis sind solche Dinge jedoch bei großen GPS-Geräten gefragt, und bei kleinen und schnellen Geräten raten erfahrene Piloten, nicht schlau zu sein und die Triebwerke nach dem Signalverlust auszuschalten. Aufgrund der hohen Fluggeschwindigkeit ist es für andere sicherer.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Nuance ist, dass der PC nicht einmal weiß, dass ein Signalverlust aufgetreten ist, wenn der Empfänger auf voreingestellte Positionen oder Letzte Position halten eingestellt ist. </font><font style="vertical-align: inherit;">Ausfallsicher auf dem PC kann daher nur verwendet werden, wenn am Empfänger kein Impuls eingestellt ist. </font><font style="vertical-align: inherit;">Auf FRSKY D4R-II, etablierte er einen kurzfristigen (weniger als 1 sec) durch den Knopf Failsafe Drücken , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wenn der Sender ausgeschaltet ist</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Video - </font><font style="vertical-align: inherit;">Anweisung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf der Registerkarte Failsafe Betaflight Configurator habe ich Folgendes ausgeführt:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Im Abschnitt Kanal-Fallback-Einstellungen stelle ich die Werte der Senderschalter ein, die simuliert werden müssen. </font><font style="vertical-align: inherit;">In meinem Fall habe ich gerade den Quietscher an AUX3 eingeschaltet.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aktivierte ausfallsichere Stufe 2.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stellen Sie die Aktivierungsverzögerung für den ausfallsicheren Modus auf 1 Sek. Ein (Wert 10 im Punkt „Schutzzeit für Aktivierung der Stufe 2 ...“).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stellen Sie die Betriebszeit der Motoren nach Aktivierung von Failsafe 1 Sek. Ein (Wert 10 im Punkt Failsafe Throttle Low Delay).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In der ausfallsicheren Prozedur habe ich das Szenario mit Drop (Drop) ausgewählt und nicht mit dem Versuch, reibungslos zu landen (Land).</font></font></li>
</ul><br>
<br>
<img src="https://habrastorage.org/files/f38/c3f/7fe/f38c3f7fe3754ce79d53a2806e354d20.png"><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Registerkarte PID-Abstimmung</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Konfigurieren von PID ist ein Prozess, auf den Sie nicht eingehen sollten, ohne eine Furt zu kennen. </font><font style="vertical-align: inherit;">Zunächst ist ein theoretisches Verständnis dieser drei Komponenten erforderlich. </font><font style="vertical-align: inherit;">Hier sind einige Artikel, die dabei helfen können:</font></font><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PID für Quadrocopter (Übersetzung)</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Über die PID-Regler das Wort eingeben</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Und mehr über PID-Regler</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grundlagen der PID-Reglerkonfiguration mithilfe von Blackbox-Protokollen (Übersetzung)</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Video </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">über PID-Tuning</font></font></a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich fühle mich für eine solche Einstellung nicht bereit, daher habe ich die Standardwerte beibehalten, da Betaflight es auch schön macht, mit ihnen zu fliegen. </font><font style="vertical-align: inherit;">Aber ich habe noch zwei Änderungen vorgenommen:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ausgewählter Float im Abschnitt PID-Mathematik. </font><font style="vertical-align: inherit;">Dies ist der LuxFloat-Modusempfänger von Cleanflight. Es wird empfohlen, ihn nur für PCs mit F3- oder F4-Prozessoren zu installieren.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ausgewählte MESSUNG im Abschnitt "Ableitungsmethode". </font><font style="vertical-align: inherit;">Kurz gesagt, MEASUREMENT wird für Freestyle und ERROR für Rennen bevorzugt.</font></font></li>
</ul><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Registerkarte "Modi"</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe die Motoren und die Blackbox (AUX1) an die Schalter gehängt, den Horizon-Flugmodus (AUX2) aktiviert und den Hochtöner (AUX3) eingeschaltet. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich möchte auch über AIRMODE sagen. </font><font style="vertical-align: inherit;">Ursprünglich war es eine einzigartige Betaflight-Funktion, aber irgendwann wurde sie so beliebt, dass Boris B sie mit den Autoren von Cleanflight teilte und jetzt ist dieser Modus auch dort verfügbar.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Trotz der Tatsache, dass AIRMODE als separater Flugmodus angezeigt wird, ist dies eher eine zusätzliche Option als ein vollständiger Modus. Dadurch kann der Quadrocopter einen bestimmten Winkel auch bei minimalem Gasgehalt beibehalten. Aus diesem Grund wird nicht empfohlen, AIRMODE zusammen mit Stabilisierungsmodi zu verwenden. Darüber hinaus ist die Landung mit AIRMODE ein schwieriger Prozess: Der Quadrocopter beginnt wie ein Frosch zu springen. Erfahrene Piloten ziehen es vor, den Quadrocopter einfach „fallen zu lassen“ und die Motoren einige zehn Zentimeter über dem Boden auszuschalten. Übrigens, wenn Sie den Motor bei Nullgas abgestellt haben (die Option MOTOR_STOP auf der Registerkarte Konfiguration) und AIRMODE gleichzeitig arbeitet, gibt es keinen Motorstopp, da AIRMODE eine höhere Priorität hat.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Betaflight Version 2.8.1 verfügt über eine neue Funktion: Sie können AIRMODE im Hintergrund aktivieren (so etwas wie ein passiver Vorteil in Spielen). Dann ist es immer aktiv und wird nicht auf der Registerkarte "Modi" angezeigt oder hängt wie bisher daran jeder Kanal. </font><font style="vertical-align: inherit;">Dies erfolgt auf der Registerkarte „Andere Funktionen“ der Konfiguration. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei mir habe ich AIRMODE nicht im Hintergrund eingeschaltet, da ich auch den HORIZON-Stabilisierungsmodus verwende. </font><font style="vertical-align: inherit;">Daher habe ich auf AUX1 zwei Flugmodi: HORIZON (für Flüge mit Stabilisierung und Landung) und ACRO + AIRMODE.</font></font><br>
<br>
<img src="https://habrastorage.org/files/054/7c0/af8/0547c0af8bfb4269947b59362f80f433.png"><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LED Strip Tab</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich stelle meine Hintergrundbeleuchtung so ein, dass Warnungen angezeigt werden, Blinker / Bremsen angezeigt werden und blau leuchten, wenn nichts davon vorhanden ist.</font></font><br>
<br>
<img src="https://habrastorage.org/files/f05/cd4/6de/f05cd46de9dc4a948c6b4eae3537f037.png"><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blackbox-Registerkarte</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blackbox ist eine „Black Box“ eines Quadrocopters. </font><font style="vertical-align: inherit;">Es ist für die Diagnose, genauere PID-Einstellungen sowie für Infografiken erforderlich, die auf Flugvideos angewendet werden (wie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">Daten werden in einen externen Logger oder, wenn die Speichermenge dies zulässt, in den internen Speicher des PCs geschrieben. </font><font style="vertical-align: inherit;">Zum Beispiel fehlt es Naze32 Acro, während Naze32 Deluxe und SPRacingF3 Acro genug haben, wenn auch nicht viel. </font><font style="vertical-align: inherit;">Bei den Standardeinstellungen können Flugdaten mit einer Dauer von 3-4 Minuten auf 2 MB Speicher aufgezeichnet werden, was sehr klein ist. </font><font style="vertical-align: inherit;">Die Situation wird durch die Tatsache verschärft, dass es aufgrund der geringen Geschwindigkeit des Lese- / Schreibspeichers unmöglich ist, die Aufzeichnung „in einem Kreis“ wie bei Autorecordern durchzuführen. </font><font style="vertical-align: inherit;">Die einzige Möglichkeit besteht darin, die Schreibgeschwindigkeit um ein Vielfaches zu reduzieren. </font><font style="vertical-align: inherit;">Für die Diagnose sind solche Daten bereits von geringem Nutzen, aber für Videos - das war's. </font><font style="vertical-align: inherit;">Auf dieser Registerkarte habe ich Folgendes getan:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich habe mich dafür entschieden, in den internen Speicher (Option „On-Board Dataflash Chip“) im Abschnitt „Blackbox-Protokollierungsgerät“ zu schreiben.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Im Abschnitt „Teil der zu protokollierenden Flugschleifeniterationen“ habe ich 50% gewählt, wodurch sich die Aufnahmegeschwindigkeit wesentlich halbiert.</font></font></li>
</ul><br>
<br>
<img src="https://habrastorage.org/files/ac9/adf/181/ac9adf181c9440c5a830e43c3fdc588a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie ich oben geschrieben habe, wird die Protokollierung mit demselben Kippschalter an der Hardware wie die Panzerung gestartet, sodass die Aufzeichnung mit dem Start der Motoren beginnt. </font><font style="vertical-align: inherit;">Weitere Informationen zum Betrieb und zu den Einstellungen von Blackbox finden Sie im </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Handbuch</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Auch einige nützliche verwandte Links:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setup - </font><font style="vertical-align: inherit;">Blackbox in Cleanflight</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Übersetzung des Artikels </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">„Überlagern von Blackbox-Daten auf Video“</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Übersetzung des Artikels </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">„Grundlagen der PID-Reglerkonfiguration mit Blackbox-Protokollen„</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blackbox einrichten und </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Video verwenden</font></a></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Blackbox Explorer</a>   </li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Blackbox tools</a>    . ,    png</li>
</ul><br>
<br>
<h5> CLI</h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CLI ist eine Konsole, über die Sie erweiterte Einstellungen ändern und eine Sicherungskopie aller Einstellungen erstellen können. </font><font style="vertical-align: inherit;">Ich habe Folgendes </font><font style="vertical-align: inherit;">
getan </font><font style="vertical-align: inherit;">: </font><font style="vertical-align: inherit;">Betaflight bietet auch eine sehr nützliche Möglichkeit, über einen PC eine Verbindung zum OSD herzustellen. </font><font style="vertical-align: inherit;">Jetzt können Sie diesen Schal verstecken, ohne sich Sorgen machen zu müssen, dass Sie möglicherweise eine Verbindung herstellen müssen. </font><font style="vertical-align: inherit;">Um über einen PC eine Verbindung zur OSD-Karte herzustellen, müssen Sie den Akku an den Quadcopter anschließen, dann in der CLI </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><i><font style="vertical-align: inherit;">serialpassthrough</font></i></a><font style="vertical-align: inherit;"> mit den erforderlichen Parametern </font><font style="vertical-align: inherit;">eingeben, dann </font><font style="vertical-align: inherit;">Betaflight vom PC trennen (trennen) und MWOSD starten. </font><font style="vertical-align: inherit;">Ich habe es das erste Mal gemacht. </font><font style="vertical-align: inherit;">Die Parameter für Micro MinimOSD, das an UART2 angeschlossen ist (mein Fall), lauten wie folgt: </font><font style="vertical-align: inherit;">
Damit ist die Konfiguration des </font><font style="vertical-align: inherit;">Flugreglers </font><font style="vertical-align: inherit;">abgeschlossen.</font></font><br>
<br>
<code>set small_angle = 180 #        <br>
set vbat_pid_compensation = ON #   PID   <br>
save #  <br>
</code><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><i><font style="vertical-align: inherit;"></font></i></a><font style="vertical-align: inherit;"></font><br>
<br>
<code>serialpassthrough 1 115200<br>
</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sender-Setup</font></font></h4><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jeder Pilot richtet einen Sender (auch als „Fernbedienung“ bezeichnet) einzeln ein: Timer, Mixe, Sprachbenachrichtigungen und mehr. Das einzige, was äußerst wünschenswert ist, ist die Überprüfung der minimalen, durchschnittlichen und maximalen Werte der Steuerknüppel im Konfigurator. Dies erfolgt auf der Registerkarte Empfänger. Ideale Werte sind 1000 - 1500 - 2000. In meinem Fall waren es 996 - 1508 - 2020, was nicht sehr gut ist. Erstens ist das „Herausfallen“ aus dem Bereich (Werte unter 1000 und über 2000) an sich schlecht. Zweitens wird die zentrale Position, die nicht 1500 ist, vom PC als leichtes Rollen wahrgenommen, was sich herausstellen wird und der Quadrocopter wird ständig in eine Richtung abreißen. Mit einem Wort, es ist sinnvoll, "so zu basteln und einzurichten, wie es sollte". </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wird gezeigt, wie diese Werte am Taranis-Sender eingestellt werden.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ich habe Turnigy 9XR PRO, dort wird es in Limits gemacht. Sie können die Konfiguration auch über das Programm eePskye (Registerkarte Limits) vornehmen. Dies ist jedoch unpraktisch, da das Ergebnis im Betaflight-Konfigurator nicht sofort sichtbar ist. Dies muss für jeden der vier Steuerkanäle erfolgen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach dem Einstellen lagen die zentralen Werte so nahe wie möglich bei 1500, aber bei mir begannen sie um etwa 5 Einheiten in die eine oder andere Richtung zu „springen“. Ich weiß nicht, womit dies verbunden ist. Wahrscheinlich sind die Werte der Fernbedienung für den PC grenzwertig und nach ihrer Rundung tritt dieser Effekt auf. Um dieses Problem zu lösen, verfügt Betaflight (und auch CleanFlight) über einen speziellen Befehl, der die Filterung solcher Dinge konfiguriert.</font></font><br>
<br>
<code>set deadband = 6<br>
</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Wert kann zwischen 0 und 32 liegen und mit zunehmender Erhöhung nimmt die Steuerempfindlichkeit ab. </font><font style="vertical-align: inherit;">Das Management wird weicher. </font><font style="vertical-align: inherit;">Es muss verstanden werden, dass sich Weichheit nach einer bestimmten Schwelle in Baumwolligkeit verwandelt. Deshalb habe ich für mich selbst den Mindestwert gewählt, bei dem das Zucken verschwunden ist. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das ist alles, gute Flüge!</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de395487/">https://habr.com/ru/post/de395487/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de395475/index.html">4x4x4 LED RGB Würfel zur Musikvisualisierung</a></li>
<li><a href="../de395477/index.html">Projekt "Auge". Das Ende</a></li>
<li><a href="../de395479/index.html">VR-Geräte sind für die Augen vorteilhafter als normale Bildschirme</a></li>
<li><a href="../de395481/index.html">Smart Ring Nimb von Mitbegründer KermlinRussia erschien auf Kickstarter</a></li>
<li><a href="../de395485/index.html">Wissenschaftler haben den Start des HGP-Schreibprojekts angekündigt, dessen letztendliches Ziel die Schaffung eines vollständigen synthetischen menschlichen Genoms ist</a></li>
<li><a href="../de395489/index.html">Ein Startup aus der Ukraine hat ein kabelloses Laden vorgeschlagen, mit dem bis zu 8 iPhone gleichzeitig in einem Radius von 10 Metern aufgeladen werden können</a></li>
<li><a href="../de395491/index.html">Penaudio: Echter finnischer Sound</a></li>
<li><a href="../de395493/index.html">К 2035 году в России будет собственный язык программирования и квантовая телепортация</a></li>
<li><a href="../de395495/index.html">Technofaschismus - die Zukunft der Menschheit? (nicht Politik)</a></li>
<li><a href="../de395497/index.html">Legendäre Computer der Geschichte</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>