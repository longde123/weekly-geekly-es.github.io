<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚öΩÔ∏è üè≠ üì§ Verifique la calidad sin salir de la caja registradora üêî üîê üë∞</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cuanto m√°s asequibles son los medios de producci√≥n, m√°s grave es el problema de las falsificaciones. Y si el producto es masivo y f√°cilmente falso, en...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Verifique la calidad sin salir de la caja registradora</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/chestnyznak/blog/467851/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/109/4a1/3cb/1094a13cb00c8c50d75cb095077f965a.png" width="500"></div><br><br>  Cuanto m√°s asequibles son los medios de producci√≥n, m√°s grave es el problema de las falsificaciones.  Y si el producto es masivo y f√°cilmente falso, entonces la ola de falsificaciones est√° casi garantizada.  Para combatir este flagelo, nosotros, el Centro para el Desarrollo de Tecnolog√≠as Avanzadas, estamos desarrollando un sistema para marcar y rastrear productos.  Ella recibi√≥ el nombre de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">SIGNO Honesto</a> .  El fabricante pone un c√≥digo DataMatrix √∫nico en cada unidad de sus productos, y los clientes pueden ver mediante este c√≥digo si el producto est√° delante de √©l, qui√©n lo produjo y c√≥mo lleg√≥ al mostrador. <br><br>  Con esta publicaci√≥n introductoria en nuestro blog, queremos presentarle el sistema y los principios de su funcionamiento, y en los siguientes art√≠culos describiremos con m√°s detalle la estructura t√©cnica y las caracter√≠sticas de desarrollo. <br><a name="habracut"></a><br><h1>  Quienes somos y que hacemos </h1><br>  Somos la empresa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CRPT</a> , Centro para el Desarrollo de Tecnolog√≠as Avanzadas.  Una de las direcciones de nuestra actividad es el desarrollo, implementaci√≥n y desarrollo de un sistema digital para marcar y rastrear cualquier producto.  Es necesario para que cada comprador pueda estar seguro en la tienda si hay una falsificaci√≥n frente a √©l. <br><br>  Hoy, los fabricantes rusos de cigarrillos, zapatos y medicamentos est√°n conectados a nuestra base de datos.  Hasta ahora, los usuarios m√°s activos son representantes de la industria del tabaco: el etiquetado obligatorio de todos los productos manufacturados e importados en el pa√≠s ya ha comenzado en este grupo.  Ya a trav√©s del sistema pasa hasta 50 millones de paquetes por d√≠a.  La industria ligera, los fabricantes de leche, neum√°ticos, c√°maras y otras industrias que todav√≠a est√°n trabajando en la tecnolog√≠a en modo piloto tambi√©n se unen activamente. <br><br><h1>  C√≥mo funciona el sistema de marcado </h1><br>  El gobierno ruso decide sobre la necesidad de un proyecto piloto de etiquetado en un determinado grupo de productos.  Por lo general, esta decisi√≥n aparece por iniciativa de representantes comerciales.  Estamos lanzando un proyecto piloto, dentro del cual los fabricantes eligen un formato de etiquetado que sea conveniente para ellos e informaci√≥n adicional para cada unidad de bienes que se colocar√° en la base de datos y se cifrar√° en c√≥digos de etiquetado √∫nicos: DataMatrix.  Esta informaci√≥n adicional puede ser muy diferente, por ejemplo, el precio minorista recomendado o la fecha de vencimiento.  Luego, los fabricantes introducen un software que les permite colocar DataMatrix en paquetes, y nosotros, como operador del sistema, les damos equipos gratuitos: registradores de emisiones, que son necesarios para transmitir c√≥digos digitales a trav√©s de canales de comunicaci√≥n seguros. <br><br>  Mientras el proyecto piloto est√° en curso, ayudamos a los participantes a depurar procesos de marcado e intercambio de informaci√≥n.  Y cuando todo est√© listo, la participaci√≥n de otros fabricantes de esta industria en nuestro sistema se vuelve obligatoria. <br><br>  A medida que los productos se trasladan del fabricante a los estantes, todos los participantes en la cadena env√≠an diversa informaci√≥n al SIGNO Honesto: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/28c/b23/4c2/28cb234c24be2b52d52cca3b2d92329a.png"><br><br>  Como resultado, recopilamos toda la informaci√≥n sobre el origen y el movimiento de cada producto producido por los participantes en el sistema y se lo brindamos a fabricantes, minoristas y clientes.  Cuando venga a la tienda, frente al mostrador puede ir a la aplicaci√≥n m√≥vil Honest SIGN ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">AppStore</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Google Play</a> ), escanear el c√≥digo del paquete e inmediatamente averiguar el pa√≠s, la ciudad y la direcci√≥n de producci√≥n.  Es decir, sabr√° de inmediato si la falsificaci√≥n est√° frente a usted o no. <br><br>  Seguramente preguntas: "¬øY qu√© impide falsificar tus c√≥digos?"  El hecho es que cada c√≥digo de marcado est√° firmado por una peque√±a parte protegida, un criptoc√≥digo.  Y el c√≥digo falso simplemente no pasar√° el cheque en el sistema, ya sea durante la aplicaci√≥n, o cuando el comprador lo escanee, o al finalizar la compra. <br><br>  ¬øDe d√≥nde vienen los c√≥digos?  Hay dos formas de obtenerlos: <br><br><ul><li>  O nosotros mismos generamos c√≥digos √∫nicos no reproducibles y los proporcionamos a los fabricantes. </li><li>  O bien, el fabricante emite la parte en serie del c√≥digo por s√≠ mismo, por lo que es m√°s conveniente usar la marca con sus sistemas de contabilidad y agrega la parte criptogr√°fica que generamos. <br></li></ul><br><h1>  Como funciona nuestro sistema </h1><br>  El esquema b√°sico de trabajo se ve as√≠: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/70e/048/1dc/70e0481dc81d0a1fcad078fbf746d4ae.png"><br><br>  Incluye cinco bloques. <br><br>  La "puerta de entrada" al sistema es el <b>enrutamiento</b> , una especie de puerta de enlace.  Aqu√≠ viene toda la informaci√≥n de cada participante en la cadena comercial: fabricantes, mayoristas y minoristas.  El enrutamiento enriquece los datos entrantes con atributos adicionales y decide qu√© canalizaci√≥n debe procesar esta o aquella informaci√≥n. <br><br>  <b>El procesamiento</b> consiste en procesar toda la informaci√≥n entrante, filtrada y enriquecida con enrutamiento.  Cada industria se distingue por sus conjuntos de procesos comerciales, que automatizamos constantemente.  Por ejemplo, para el tabaco son impuestos especiales, para la leche es una fecha de vencimiento. <br><br>  <b>El sistema de almacenamiento est√°</b> construido sobre una base distribuida de clave-valor.  All√≠ ponemos toda la informaci√≥n sobre cada campo de etiquetado, sobre cada documento que influy√≥ en el cambio en el estado de este c√≥digo.  Cada grupo de productos grande tiene su propia base, porque la cantidad de informaci√≥n que necesita copia de seguridad y escala es muy grande. <br><br>  Utilizamos el almac√©n de datos de diferentes maneras: hacemos selecciones, formamos una visualizaci√≥n gr√°fica de la informaci√≥n en su cuenta personal y se la damos a los participantes del sistema utilizando una API externa. <br><br>  <b>Los componentes del sistema</b> realizan una serie de tareas: autenticaci√≥n, autorizaci√≥n, interacci√≥n entre servicios.  En otras palabras, todo lo relacionado con la verificaci√≥n de los derechos de acceso y la interacci√≥n de los componentes del sistema entre s√≠. <br><br>  Finalmente, la <b>cuenta personal</b> es una interfaz gr√°fica para los participantes del sistema: fabricantes, mayoristas y organizaciones minoristas.  Es decir, para empresas dedicadas a la venta, jubilaci√≥n y venta al consumidor final.  En su cuenta personal, los informes y gr√°ficos se generan de forma conveniente sobre cu√°ntos c√≥digos envi√≥ la empresa, durante qu√© per√≠odo, para qu√© categor√≠as de productos, cu√°ntos productos ya se han vendido al por menor, etc. <br><br><h1>  ¬øC√≥mo fluye la informaci√≥n a trav√©s del sistema? </h1><br>  El fabricante genera un lote de c√≥digos y nos env√≠a o crea un pedido para recibir c√≥digos.  En respuesta, enviamos los resultados de la verificaci√≥n de c√≥digos por plantillas o una lista de c√≥digos listos para usar.  Despu√©s de eso, el fabricante coloca estos c√≥digos e informa que fueron utilizados o perdidos en el proceso de producci√≥n, es decir, los productos con el c√≥digo son rechazados.  Esta informaci√≥n se transfiere del enrutamiento al procesamiento, que interact√∫a directamente con el almac√©n de datos.  Adem√°s, las cuentas personales trabajan con √©l, en el que la l√≥gica de negocios para los participantes del sistema est√° protegida. <br><br>  En otras palabras, recibimos datos de los participantes: <br><br><ul><li>  qu√© c√≥digos se aplican a los bienes, </li><li>  Qu√© informaci√≥n adicional del producto debe mostrarse a los usuarios finales. </li></ul><br>  Adem√°s, agregamos estos datos, garantizando la unicidad y seguridad de los c√≥digos contra la falsificaci√≥n, y de manera conveniente proporcionamos a todos los usuarios a trav√©s de aplicaciones m√≥viles.  Y los representantes comerciales en cualquier momento pueden recibir informes sobre toda la informaci√≥n sobre sus productos disponibles en nuestro sistema. <br><br><h1>  Tecnolog√≠a </h1><br>  Dado que estamos creando un sistema de etiquetado nacional, diariamente "resumir√°" la informaci√≥n de todos los productos producidos en el pa√≠s y la entregar√° a decenas de millones de usuarios.  Por lo tanto, elegimos tecnolog√≠as que no solo proporcionan un alto rendimiento, sino que tambi√©n nos permiten escalar r√°pidamente el sistema. <br><br>  En la actualidad, procesamos hasta 300 unidades de bienes vendidos por segundo, y con aproximadamente la misma frecuencia: registros de bienes que pasan por las etapas "liberado", "c√≥digo", "transferido de un participante a otro".  Solo para los productos de tabaco, se ingresan aproximadamente mil millones de registros en el sistema cada mes, y la cantidad total de informaci√≥n alcanza decenas de Tb. <br><br>  Todos los servicios dentro del sistema, y ‚Äã‚Äãhay alrededor de 250 de ellos, se implementan en un cl√∫ster de Kubernetes, por lo que aumentamos silenciosamente la capacidad y el volumen de almacenamiento seg√∫n sea necesario. <br><br>  En su mayor parte, el sistema est√° escrito en Java 11, y el procesamiento est√° en Scala.  Para la comunicaci√≥n entre servidores, elegimos Kafka.  Los c√≥digos de etiquetado se almacenan en Hbase y la informaci√≥n relacionada se almacena en PostgreSQL.  Empacamos el c√≥digo del sistema en contenedores Docker, entregamos Helm a los grupos de Kubernetes, monitoreamos Prometheus y monitoreamos la salud en Grafana. <br><br>  Hemos conectado a los almacenes de datos los servidores anal√≠ticos desarrollados por nosotros, que crean informes para los participantes del sistema.  Hasta ahora, los servidores est√°n construidos sobre la base de Hbase, pero estamos experimentando muy activamente con ClickHouse. <br><br><h1>  Desarrollo del sistema </h1><br>  Muchos participantes esperan comentarios de nosotros: ¬ørecibimos toda la informaci√≥n enviada, hay alg√∫n problema para procesar el documento, el participante en el sistema tiene los c√≥digos que se transmiten?  Dicho mecanismo de retroalimentaci√≥n debe ser de extremo a extremo, sin usar almacenamiento, para no duplicar informaci√≥n y no cargar adicionalmente el sistema.  Por lo tanto, nos alejaremos de los repositorios intermedios y ya estamos trabajando en la implementaci√≥n de transacciones de extremo a extremo a trav√©s del enrutamiento, el procesamiento y viceversa. <br><br>  En las siguientes publicaciones, describiremos en detalle c√≥mo se implementa cada uno de los cinco bloques arquitect√≥nicos, sobre nuestro sistema, las tecnolog√≠as y las personas que lo crean. <br><br>  <i>El material fue preparado con el apoyo de Dmitry Poluyanov, jefe del equipo de desarrollo (Java) de la MDCT.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/467851/">https://habr.com/ru/post/467851/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../467837/index.html">MCU de tres centavos "terrible": una breve descripci√≥n de los microcontroladores que cuestan menos de $ 0.1</a></li>
<li><a href="../467841/index.html">Facilite terminar: Entrevista con John Romero, desarrollador de Doom</a></li>
<li><a href="../467843/index.html">¬øC√≥mo ahorrar hasta medio mill√≥n de d√≥lares en AWS?</a></li>
<li><a href="../467847/index.html">La ‚Äúevoluci√≥n omnicanal de IoT‚Äù o c√≥mo la Internet de las cosas puede afectar el omnicanal</a></li>
<li><a href="../467849/index.html">Peloton: ¬øpr√≥xima Apple u otra estafa?</a></li>
<li><a href="../467853/index.html">Business Card Evolution: de la tarjeta a la aplicaci√≥n</a></li>
<li><a href="../467855/index.html">Nuevo 2GIS: un mapa completo de Rusia y la b√∫squeda de productos en tiendas fuera de l√≠nea</a></li>
<li><a href="../467859/index.html">Nueve universidades rusas han comenzado programas de maestr√≠a con el apoyo de Microsoft</a></li>
<li><a href="../467863/index.html">Analizamos el historial de escucha en Yandex.</a></li>
<li><a href="../467865/index.html">5 historias sobre el repentino aumento y ca√≠da de las acciones debido a errores de los inversores y c√≥mo podr√≠an evitarse</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>