<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩‍🚒 🖍️ 🙂 Ajoutez le chiffrement et passez au SIP standard 🏴‍☠️ 🧑🏿‍🤝‍🧑🏿 🐫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salut Habr! Dans cet article, nous aimerions souligner plusieurs problèmes SIP lorsqu'ils sont utilisés sur un appareil mobile, dont les utilisateurs ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ajoutez le chiffrement et passez au SIP standard</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mobile_one/blog/418741/"><img src="https://habrastorage.org/webt/ui/0f/gy/ui0fgyi78xowpsiydrgnvuwcpba.jpeg"><br><br>  Salut Habr!  Dans cet article, nous aimerions souligner plusieurs problèmes SIP lorsqu'ils sont utilisés sur un appareil mobile, dont les utilisateurs ne sont généralement pas au courant ou ignorent. <br><br>  L'un des principaux problèmes - si vous utilisez un fournisseur SIP (ou votre propre PBX IP) sur votre smartphone, alors avec une confiance de 99%, nous pouvons dire que vos données ne sont pas cryptées. <br><br>  Beaucoup ont probablement fait une chose simple - renifler le trafic des périphériques SIP pour trouver la raison de toute inopérabilité de la connexion VOIP. <br><br>  En pratique, cela signifie que toutes vos négociations SIP peuvent également être facilement reniflées, restaurées et écoutées du côté du client mobile et peuvent être effectuées assez facilement. <br><a name="habracut"></a><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Wikipedia</a> nous dit que ce problème existe: <br><br>  <i>"Sécurité des connexions</i> <i><br><br></i>  <i>De nombreuses implémentations de téléphonie IP grand public ne prennent pas en charge le chiffrement cryptographique, bien qu'il soit beaucoup plus facile de mettre en œuvre une connexion téléphonique sécurisée avec la technologie IP qu'avec les lignes téléphoniques traditionnelles.</i>  <i>En conséquence, avec l'aide d'un analyseur de trafic, il est relativement facile d'établir une écoute pour les appels IP, et avec certaines astuces, même de changer leur contenu. »</i> <br><br>  Ce problème découle de la volonté de rendre le client SIP universel, bien que dans presque tous les softphones populaires, le cryptage soit déclaré. <br><br>  Mais en plus du softphone lui-même, le serveur SIP doit prendre en charge le cryptage, et ici la racine du problème est située - les fournisseurs sont différents, utilisent des solutions différentes et afin de prendre en charge l'ensemble du zoo des appareils SIP de leurs clients, le cryptage sur le serveur est généralement désactivé. <br><br>  Un autre problème qui est également assez courant est le blocage du protocole SIP lui-même. <br><br>  Il peut s'agir de verrous au niveau d'un seul fournisseur ou au niveau d'opérateurs nationaux - par exemple, le SIP est bloqué par les autorités des Émirats arabes unis, de la Chine et de plusieurs autres pays. <br><br>  Un autre problème bien connu associé à l’utilisation de SIP sur les appareils mobiles - les softphones VOIP standard, constamment lancés, consomment considérablement la batterie du smartphone. <br><br>  En effet, la plupart des PBX IP sont un serveur SIP standard qui nécessite un enregistrement client périodique, c'est-à-dire que l'application sur le téléphone doit toujours être en ligne et, par conséquent, le PBX IP attend toujours le paquet d'enregistrement de l'application. <br>  Si dans un certain temps le package d'enregistrement ne provient pas de l'application, alors le PBX IP considère que le client est hors ligne et personne à l'intérieur du PBX ne peut appeler un tel client. <br><br>  Par conséquent, ces applications doivent toujours être en ligne et, par conséquent, consommer considérablement la batterie de l'appareil mobile. <br><br>  Cela s'est produit historiquement lorsque les appareils SIP clients étaient principalement des téléphones IP de bureau ou des passerelles VOIP et, en conséquence, il n'y avait aucun problème à économiser les batteries. <br>  La pire chose pour les utilisateurs d'iOS en ce moment est qu'à partir de la version 11, Apple a complètement supprimé la possibilité pour ses applications d'être toujours en ligne et, par conséquent, les anciennes applications SIP ne fonctionnent plus sur les nouvelles versions d'iOS.  Ceci est dicté par la politique d'Apple de minimiser la consommation de batterie pour toutes les applications. <br><br>  Il existe plusieurs façons de sortir de la situation avec la batterie. <br><br>  L'idée principale est de transférer l'application hors ligne, c'est-à-dire de «mettre en veille» l'application et de la réactiver en appuyant exactement au moment de l'arrivée de l'appel entrant. <br><br>  En fait, tous les messageries instantanées populaires avec des protocoles propriétaires - WhatsApp, Viber, Telegram et autres - le font lorsqu'un appel audio ou vidéo entrant est effectué - ils réveillent l'application, elle démarre et après cela, elle est capable de recevoir des appels. <br><br>  La première solution consiste à créer votre propre serveur, votre PBX IP et à écrire votre propre client pour deux plates-formes (iOS et Android), ce qui ferait les étapes ci-dessus. <br><br>  En principe, certains grands fournisseurs VOIP (par exemple, MTT) ou fabricants de logiciels pour serveurs VOIP le font - ils ont leurs propres clients SIP pour les appareils mobiles qui fonctionnent en mode push. <br><br>  Le problème est que ces clients ne peuvent travailler qu'avec ce fournisseur ou avec un PBX spécifique, respectivement, si vous utilisez votre PBX IP de bureau et en même temps d'autres fournisseurs de téléphonie IP, cette solution ne fonctionnera pas pour vous. <br><br>  La deuxième façon consiste à acheter un client SIP universel qui peut pousser. <br>  Pourquoi ces solutions coûtent-elles de l'argent? <br><br>  Parce que le client SIP avec push ne fait pas qu'écrire une application distincte et la mettre dans la file d'attente. <br><br>  Pour ce faire, vous devez créer et maintenir un serveur distinct, qui enverra des paquets d'enregistrement réguliers à votre PBX IP, et le serveur lui-même fonctionnera directement avec l'application - réveillez-le lorsqu'il est appelé. <br><br>  C'est-à-dire  Pour créer, vous avez besoin de toute une infrastructure et c'est pourquoi de telles solutions universelles sont payantes. <br><br>  Mais qu'en est-il des problèmes susmentionnés avec le cryptage et le blocage de SIP? <br><br>  Il existe une solution universelle - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">M1 Messenger</a> , qui peut également fonctionner comme un client SIP avec le mode push, tout en offrant un chiffrement côté client et une protection contre le blocage. <br><br>  Le trafic SIP est «enveloppé» dans du trafic de messagerie chiffré (TLS) et les fournisseurs DPI ne sont plus reconnus comme VOIP. <br><br>  Tout cela fonctionne sur absolument n'importe quel serveur SIP - que ce soit un astérisque de bureau ou tout autre fournisseur avec des numéros virtuels - partout du côté client, il y aura du trafic crypté et du mode push. <br><br>  Alors, téléchargez le messager <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pour Android</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">iOS</a> , inscrivez-vous (notez que l'inscription ne nécessite PAS de numéro de téléphone). <br><br>  Dans le menu général, nous trouvons l'onglet Connexions SIP: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nt/jn/qu/ntjnquztnts1m-2ekxeuzw7rzy0.jpeg"></div><br>  Ajoutez votre compte SIP existant. <br><br>  Le nom est le nom de votre fournisseur (dans notre exemple, ce sera Zadarma) <br>  Utilisateur - ici, vous devez spécifier votre identifiant SIP <br>  Domaine - l'adresse de votre fournisseur VOIP. <br>  Si le fournisseur ou votre PBX IP utilise son port, vous pouvez <br>  spécifiez-le via deux points, par exemple: sip.voipprovider.com: 5060 <br>  Auth - votre identifiant SIP (le même que dans la section Utilisateur) <br>  Mot de passe - votre mot de passe pour le compte SIP <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nl/xr/oz/nlxrozp4vgxb9xoiy7wn2dq4zwi.jpeg"></div><br>  Vous pouvez ajouter jusqu'à 8 de ces comptes au messager.  Avec la numérotation sortante, un choix sera proposé par le biais de quel fournisseur passer un appel. <br><br>  Vous pouvez entrer plusieurs numéros dans le messager - à la fois au bureau et dans d'autres villes et pays et être toujours disponible pour les appels entrants sans craindre une décharge importante de la batterie du smartphone. <br><br>  Étant donné que le messager prend en charge push, l'application se met en veille et ne consomme pas la batterie du smartphone. <br><br>  Ainsi, vous pouvez toujours être en contact pour les appels SIP entrants - par exemple, avec un DID d'un numéro virtuel ou de bureau (maintenant SIP en raison de problèmes d'alimentation est généralement utilisé uniquement pour les appels sortants). <br><br>  Nous espérons que les nouvelles fonctionnalités de M1 Messenger élargiront la portée d'un protocole de communication aussi pratique et populaire que SIP. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr418741/">https://habr.com/ru/post/fr418741/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr418729/index.html">Tout ce que vous avez longtemps demandé en une seule version - CLion 2018.2</a></li>
<li><a href="../fr418733/index.html">Visualiser les commentaires des chaînes YouTube des communautés touhou internationales et locales</a></li>
<li><a href="../fr418735/index.html">Se concentrer sur la propriété</a></li>
<li><a href="../fr418737/index.html">Ablation laser, verre tellurique et dopant Er2O3</a></li>
<li><a href="../fr418739/index.html">Centre de technologie additive: Imprimantes 3D industrielles Systèmes 3D, Stratasys, SLM, EOS</a></li>
<li><a href="../fr418743/index.html">Première place au ML Boot Camp VI</a></li>
<li><a href="../fr418747/index.html">Résolution de problèmes: comment résoudre efficacement les problèmes en équipe?</a></li>
<li><a href="../fr418751/index.html">Dex impudent espion chinois</a></li>
<li><a href="../fr418753/index.html">vSAN dans le cloud VMware</a></li>
<li><a href="../fr418755/index.html">Comment le commerce électronique survit aux promotions à grande échelle. Se préparer aux pics de charge sur le Web [Partie 1]</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>