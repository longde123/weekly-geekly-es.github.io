<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèæ üë®‚Äçüë®‚Äçüë¶‚Äçüë¶ üì∞ Criar um aplicativo Qt no WebAssembly no Windows üëÆ üíáüèΩ üî∏</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Como voc√™ sabe, os aplicativos escritos em Qt, que s√£o multiplataforma, s√£o executados em computadores, dispositivos m√≥veis, Internet das coisas e mic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Criar um aplicativo Qt no WebAssembly no Windows</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485610/"><img src="https://habrastorage.org/webt/2v/ru/wl/2vruwlzn5xvqonnbrju4xfdatfs.png"><br><br>  Como voc√™ sabe, os aplicativos escritos em Qt, que s√£o <a href="https://doc.qt.io/qt-5/supported-platforms.html" rel="nofollow">multiplataforma, s√£o</a> executados em <a href="https://www.qt.io/use-cases" rel="nofollow">computadores, dispositivos m√≥veis, Internet das coisas</a> e <a href="https://www.qt.io/blog/2019/08/21/announcing-qt-mcus" rel="nofollow">microcontroladores</a> . <br><br>  Uma op√ß√£o √© criar um aplicativo Qt no WebAssembly - o que permite execut√°-lo no navegador de um usu√°rio.  Portanto, a atualiza√ß√£o do aplicativo para o usu√°rio consistir√° no upload de um novo arquivo wasm para o servidor. <br><br>  Para facilitar a implanta√ß√£o do aplicativo, como parte deste artigo, vamos montar o aplicativo Qt no WebAssembly for Windows na linha de comando. <a name="habracut"></a><br><br>  A vers√£o Qt 5.13.2 foi usada no artigo e acredito que o usu√°rio tenha o ambiente Qt instalado, configurado no Windows e ele colete aplicativos para o Desktop sem problemas. <br><br>  Execute o utilit√°rio MaintenanceTool.exe e selecione "Adicionar ou remover componentes", marque a caixa WebAssembly e aguarde a conclus√£o da instala√ß√£o. <br><br><img src="https://habrastorage.org/webt/ed/s9/sa/eds9saafk20p2aq8icyhkz567fa.png"><br><br>  Crie um projeto vazio, por exemplo, no Qt Creator (exibi√ß√£o Qt Stack) e salve-o. <br><br>  Vamos para a p√°gina oficial da documenta√ß√£o do Qt <a href="https://doc.qt.io/qt-5/wasm.html" rel="nofollow">WASM</a> . <br><br>  Come√ßamos a instalar o esmdk.  Fa√ßa o download do <a href="https://github.com/emscripten-core/emscripten" rel="nofollow">emscripten</a> e descompacte, por exemplo, em c: \ wasm <br><br>  Iniciamos a linha de comando (comece a executar o cmd) e tentamos instal√°-lo: <br><br><pre><code class="plaintext hljs">cd c:\emsdk emsdk.bat install sdk-fastcomp-1.38.27-64bit</code> </pre> <br>  Nada est√° acontecendo aqui.  E o cursor j√° est√° na pr√≥xima linha.  O que poderia acontecer?  Vamos ver porque?  Abra o arquivo com o bloco de notas e veja: <br><br><img src="https://habrastorage.org/webt/zf/em/7g/zfem7g3qowujeln8bnqprb3g2uu.png"><br><br>  Precisamos de um python?  Verificar?  Escrevemos na linha de comando <br><br><pre> <code class="plaintext hljs">c:\emsdk&gt;python --version "python"      ,     .</code> </pre> <br>  Bem, ainda precisamos instalar o Python.  <a href="https://www.python.org/downloads/windows/" rel="nofollow">Baixe</a> e instale.  Lembre-se de adicionar uma marca de sele√ß√£o ao instalar "Add Python 3.8 to PATH" <br><br><img src="https://habrastorage.org/webt/zh/sq/dg/zhsqdg097xt83hk9pd9bjycvjia.png"><br><br>  Ap√≥s baixar e instalar, feche a linha de comando e execute o CMD novamente.  Verificamos: <br><br><pre> <code class="plaintext hljs">c:\emsdk&gt;python --version Python 3.8.1</code> </pre><br>  Instale o emsdk e ative o ambiente de constru√ß√£o: <br><br><pre> <code class="plaintext hljs">emsdk.bat install sdk-fastcomp-1.38.27-64bit emsdk.bat activate --embedded sdk-fastcomp-1.38.27-64bit</code> </pre> <br>  Verificamos: <br><br><pre> <code class="plaintext hljs">em++</code> </pre> <br>  O compilador est√° pronto.  √â hora de come√ßar a criar nosso aplicativo.  Vejamos a pasta em que o Qt wasm est√° instalado: no meu caso, est√° localizado em C: \ Qt \ 5.13.2 \ wasm_32 <br><br>  Execute a linha de comando com o ambiente para construir o Mingw: Inicie o mingw - selecione Qt 5.13.2 (MinGW 7.3.0 32 bits) <br><br>  Ativamos nosso emsdk: <br><br><pre> <code class="plaintext hljs">c:\emsdk\emsdk.bat activate --embedded sdk-fastcomp-1.38.27-64bit</code> </pre> <br>  Entramos na pasta com o aplicativo de teste e tentamos coletar: <br><br><pre> <code class="plaintext hljs">cd c:\Project\test-wasm qmake "qmake"      ,     .</code> </pre> <br><br>  Algo deu errado?  De alguma forma, n√£o ativei corretamente a cadeia e o ambiente da montagem?  Feche a linha de comando e execute-a novamente: Inicie o mingw - selecione Qt 5.13.2 (MinGW 7.3.0 32 bits) e verifique se temos qmake: <br><br><pre> <code class="plaintext hljs">Setting up environment for Qt usage... C:\Qt\5.13.2\mingw73_32&gt;qmake --version QMake version 3.1 Using Qt version 5.13.2 in C:/Qt/5.13.2/mingw73_32/lib</code> </pre> <br>  Est√° tudo bem, o ambiente Qt √© ativado e o qmake √© funcional.  Tentamos ativar o emsdk novamente e obtemos o mesmo erro. <br><br>  Bem, pensei, voc√™ tamb√©m pode fazer um amigo: primeiro execute o emsdk e ative o ambiente mingw - para isso, precisamos olhar para o atalho de lan√ßamento do console com o ambiente mingw32 (iniciar mingw - clique com o bot√£o direito do mouse no local do arquivo aberto - clique com o bot√£o direito do mouse em ‚ÄúQt 5.13.2 (MinGW 7.3.0 32 bits) ‚Äù- propriedades. <br><br><img src="https://habrastorage.org/webt/9s/5p/j2/9s5pj2xg81ww4yavpaocmchv1ti.png"><br><br>  No objeto, estamos interessados ‚Äã‚Äãno caminho para iniciar o arquivo bat.  No meu caso, √© C: \ Qt \ 5.13.2 \ mingw73_32 \ bin \ qtenv2.bat <br><br>  Ent√£o, come√ßamos tudo de novo.  Iniciar a execu√ß√£o do cmd <br><br><pre> <code class="plaintext hljs">c:\emsdk\emsdk.bat activate --embedded sdk-fastcomp-1.38.27-64bit C:\Qt\5.13.2\mingw73_32\bin\qtenv2.bat qmake --version</code> </pre> <br>  funciona ... v√° para a pasta com o c√≥digo fonte do projeto <br><br><pre> <code class="plaintext hljs">qmake make "make"      ,     .</code> </pre> <br>  Lembramos que usamos mingw e o comando para constru√≠-lo √© diferente: <br>  <b>mingw32-make.exe</b> <br><br><pre> <code class="plaintext hljs">mingw32-make</code> </pre> <br>  O aplicativo foi montado, mas verifica se foi usado: <br><br><pre> <code class="plaintext hljs">g++ -Wl,-s -Wl,-subsystem,windows -mthreads -o release\test-wasm.exe release/main.o release/qrc_qml.o C:\Qt\5.13.2\mingw73_32\lib\libQt5Quick.a C:\Qt\5.13.2\mingw73_32\lib\libQt5Gui.a C:\Qt\5.13.2\mingw73_32\lib\libQt5Qml.a C:\Qt\5.13.2\mingw73_32\lib\libQt5Network.a C:\Qt\5.13.2\mingw73_32\lib\libQt5Core.a -lmingw32 C:\Qt\5.13.2\mingw73_32\lib\libqtmain.a -LC:\openssl\lib -LC:\Utils\my_sql\mysql-5.7.25-win32\lib -LC:\Utils\postgresql\pgsql\lib -lshell32 mingw32-make.exe[1]: Leaving directory 'c:/Project/test-wasm'</code> </pre> <br><br>  Ent√£o  Parar  O que n√≥s coletamos? <br><br>  <b>Criamos</b> <b>o</b> aplicativo usual de 32 bits para <b>desktop</b> (x86) porque usamos o assembly <u>C: \ Qt \ 5.13.2 \ mingw73_32</u> <br><br>  E precis√°vamos construir o WASM.  Vamos ajustar o ambiente PATH para que ele pegue o caminho e o qmake da pasta wasm primeiro: <br><br><pre> <code class="plaintext hljs">set PATH=c:\Qt\5.13.2\wasm_32\bin;%PATH%</code> </pre> <br>  Limpamos a pasta dos arquivos coletados <br><br><pre> <code class="plaintext hljs">mingw32-make.exe clean del .qmake.stash</code> </pre> <br>  Come√ßamos a montagem <br><br><pre> <code class="plaintext hljs">qmake</code> </pre> <br><img src="https://habrastorage.org/webt/cz/nx/3s/cznx3sfjy_1b4svadrdfr2uac9m.png"><br><br>  O que √©  Mais uma vez um erro?  Que tipo de dll precisamos?  Vamos procur√°-lo na pasta onde o Qt est√° instalado: <br>  Como isso pode ser?  O WASM compilado de 32 bits (c: \ Qt \ 5.13.2 \ wasm_32 \ bin) est√° usando uma biblioteca do MINGW de 64 bits? <br><br><img src="https://habrastorage.org/webt/kd/k_/my/kdk_mydgdcxxqogigkfjbt157wo.png"><br><br>  Bem, suponha que voc√™ possa arriscar, adicione o caminho a esta biblioteca de 64 bits: <br><br><pre> <code class="plaintext hljs">set PATH=c:\qt\5.13.2\mingw73_64\bin;%PATH% mingw32-make.exe clean qmake mingw32-make.exe</code> </pre><br>  e ... muitos erros <br><br><div class="spoiler">  <b class="spoiler_title">mais detalhes</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">release/main.o:main.cpp:(.text+0x1bc): undefined reference to `_imp___ZN4QUrlD1Ev' release/main.o:main.cpp:(.text+0x1c6): undefined reference to `_imp___ZN11QMetaObject10ConnectionD1Ev' release/main.o:main.cpp:(.text+0x1d7): undefined reference to `_imp___ZN21QQmlApplicationEngine4loadERK4QUrl' release/main.o:main.cpp:(.text+0x1e0): undefined reference to `_imp___ZN15QGuiApplication4execEv' release/main.o:main.cpp:(.text+0x1ef): undefined reference to `_imp___ZN21QQmlApplicationEngineD1Ev' release/main.o:main.cpp:(.text+0x1f8): undefined reference to `_imp___ZN15QGuiApplicationD1Ev' release/main.o:main.cpp:(.text+0x225): undefined reference to `_imp___ZN10QArrayData10deallocateEPS_jj' release/main.o:main.cpp:(.text+0x249): undefined reference to `_imp___ZN21QQmlApplicationEngineD1Ev' release/main.o:main.cpp:(.text+0x252): undefined reference to `_imp___ZN15QGuiApplicationD1Ev' release/main.o:main.cpp:(.text+0x276): undefined reference to `_imp___ZN10QArrayData10deallocateEPS_jj' release/main.o:main.cpp:(.text+0x28f): undefined reference to `_imp___ZN4QUrlD1Ev' release/main.o:main.cpp:(.text+0x2aa): undefined reference to `_imp___ZN4QUrlD1Ev' release/qrc_qml.o:qrc_qml.cpp:(.text+0x23): undefined reference to `qUnregisterResourceData(int, unsigned char const*, unsigned char const*, unsigned char const*)' release/qrc_qml.o:qrc_qml.cpp:(.text+0x53): undefined reference to `qRegisterResourceData(int, unsigned char const*, unsigned char const*, unsigned char const*)' release/qrc_qml.o:qrc_qml.cpp:(.text+0x83): undefined reference to `qUnregisterResourceData(int, unsigned char const*, unsigned char const*, unsigned char const*)' release/qrc_qml.o:qrc_qml.cpp:(.text.startup+0x23): undefined reference to `qRegisterResourceData(int, unsigned char const*, unsigned char const*, unsigned char const*)'</code> </pre> <br></div></div><br><pre> <code class="plaintext hljs">C:/Qt/Tools/mingw730_32/bin/../lib/gcc/i686-w64-mingw32/7.3.0/../../../../i686-w64-mingw32/lib/../lib/libmingw32.a(lib32_libmingw32_a-crt0_c.o):crt0_c.c:(.text.startup+0x39): undefined reference to `WinMain@16' collect2.exe: error: ld returned 1 exit status mingw32-make[1]: *** [Makefile.Release:66: release/test-wasm.exe] Error 1 mingw32-make[1]: Leaving directory 'c:/Project/test-wasm' mingw32-make: *** [Makefile:38: release] Error 2</code> </pre><br>  Por que tantos erros?  Por que voc√™ n√£o?  Limpei os arquivos tempor√°rios, iniciei a compila√ß√£o e recebi muitos erros. <br><br>  Ent√£o, voc√™ precisa pensar, despeje uma x√≠cara de ch√° / caf√© ... <br><br>  Certo!  A ideia!  Porque  aparentemente, escrevemos o √∫ltimo caminho para as bibliotecas de 64 bits como o √∫ltimo; ent√£o, ao criar um WASM de 32 bits, ele n√£o entendeu como e o que vincular e tentou usar o caminho para a lib de 64 bits, o que significa que eu tinha que especificar o caminho da lib de 32 bits mais cedo do que antes 64 bits.  Vou tentar consertar: <br><br>  Feche o console.  Abrimos o mingw 32 bits novamente e aqui o pensamento me visita:  j√° lan√ßamos a linha de comando para mingw 32 bits e, em seguida, substituindo o caminho para as bibliotecas por 64 bits, teremos novamente preced√™ncia ao criar o ambiente de √°rea de trabalho Qt em componentes de 64 bits e precisamos vice-versa (porque PATH ser√° usado at√© 64 bits primeiro, e at√© 32 bibliotecas no total).  Bem, ent√£o, nosso algoritmo final ser√° assim: <br><br><pre> <code class="plaintext hljs">cmd c:\emsdk\emsdk.bat activate --embedded sdk-fastcomp-1.38.27-64bit set PATH=c:\qt\5.13.2\mingw73_64\bin;%PATH% qmake --version QMake version 3.1 Using Qt version 5.13.2 in C:/qt/5.13.2/mingw73_64/lib</code> </pre> <br>  adicione o caminho para wasm e v√° coletar: <br><br><pre> <code class="plaintext hljs">set PATH=c:\Qt\5.13.2\wasm_32\bin;%PATH% cd c:\Project\test-wasm c:\Project\test-wasm&gt;qmake --version QMake version 3.1 Using Qt version 5.13.2 in C:/Qt/5.13.2/wasm_32/lib qmake mingw32-make "mingw32-make"      ,     .</code> </pre> <br>  25 de novo!  Agora, o que h√° de errado comigo?  Onde est√° esse arquivo?  Para onde?  Pesquisas no Explorer dizem que est√° em <u>C: \ Qt \ Tools \ mingw730_32 \ bin</u> <br><br>  Bem, o mingw32-make.exe agora definitivamente ser√° encontrado conosco: <br><br><pre> <code class="plaintext hljs">set PATH=C:\Qt\Tools\mingw730_32\bin;%PATH%</code> </pre> <br>  Come√ßamos a coletar: <br><br><pre> <code class="plaintext hljs">c:\Project\test-wasm&gt;mingw32-make c:\Qt\5.13.2\wasm_32\bin\qmake.exe -o Makefile test-wasm.pro Info: creating stash file C:\Project\test-wasm\.qmake.stash sed -es/@APPNAME@/test-wasm/g C:/Qt/5.13.2/wasm_32/plugins/platforms/wasm_shell.html &gt; C:/Project/test-wasm/test-wasm.html "sed"      ,     . mingw32-make: *** [Makefile:424: apphtml] Error 1</code> </pre> <br>  <b>sed</b> ??  Este n√£o √© o Linux, Mac, * nix, * BSD.  Onde conseguir?  Pesquisa (sed.exe)? .. E n√£o encontramos. <br><br>  Pegamos a Internet, procuramos (janelas de download sed) e descobrimos que ele pode ser baixado no <a href="http://gnuwin32.sourceforge.net/packages/sed.htm" rel="nofollow">Windows</a> : <br><br>  Fa√ßa o download dos bin√°rios Zip, descompacte na pasta bin / sed.exe e execute: <br><br><img src="https://habrastorage.org/webt/p1/bu/lg/p1bulgzwobzdf8i6d65rdpqdelc.png"><br><br><img src="https://habrastorage.org/webt/p1/bu/lg/p1bulgzwobzdf8i6d65rdpqdelc.png"><br><br>  Dois erros nos componentes dll ausentes.  Ainda precisamos do sed para coletar da fonte ou procurar essas DLLs ausentes?  N√£o, eu n√£o gostaria de fazer isso ... Mais uma vez, olhamos cuidadosamente para o site <a href="http://gnuwin32.sourceforge.net/packages/sed.htm" rel="nofollow">GNU</a> e o vemos nos downloads: <b>‚Ä¢ Pacote completo, exceto fontes</b> <br><br>  Baixe, descompacte e instale.  Tente executar: <br><br><pre> <code class="plaintext hljs">"c:\Program Files (x86)\GnuWin32\bin\sed.exe"</code> </pre> <br>  Funciona !!!  Resta adicion√°-lo novamente ao caminho: <br><br><pre> <code class="plaintext hljs">set PATH="c:\Program Files (x86)\GnuWin32\bin";%PATH% mingw32-make</code> </pre> <br>  O processador foi inicializado, a montagem come√ßou.  Bem, espero que agora tenhamos sucesso! <br><br>  Demorou ... minutos <br><br><pre> <code class="plaintext hljs">emcc: warning: cannot represent a NaN literal '0x22748a2c570' with custom bit pattern in NaN-canonicalizing JS engines (eg Firefox and Safari) without erasing bits! in ret double 0x7FF4000000000000 in _ZL7qt_snanv() emcc: warning: cannot represent a NaN literal '0x22748a2c570' with custom bit pattern in NaN-canonicalizing JS engines (eg Firefox and Safari) without erasing bits! in ret double 0x7FF4000000000000 in _ZL7qt_snanv.30589() c:\Project\test-wasm&gt;dir ... 25.01.2020 17:42 2 922 test-wasm.html 25.01.2020 17:55 355 725 test-wasm.js 25.01.2020 14:59 461 test-wasm.js_plugin_import.cpp 25.01.2020 16:23 4 384 test-wasm.js_plugin_import.obj 25.01.2020 15:49 601 test-wasm.js_qml_plugin_import.cpp 25.01.2020 16:23 4 668 test-wasm.js_qml_plugin_import.obj 25.01.2020 14:52 1 099 test-wasm.pro 25.01.2020 15:25 22 523 test-wasm.pro.user 25.01.2020 17:55 20 759 738 test-wasm.wasm</code> </pre><br>  Viva!  Acabou.  Nosso aplicativo de teste √© montado.  O bin√°rio Wasm leva 20 MB.  Nem um pouco.  Vamos tentar abrir nosso arquivo test-wasm.htm em um navegador e ... <br><br><img src="https://habrastorage.org/webt/2v/ru/wl/2vruwlzn5xvqonnbrju4xfdatfs.png"><br><br><h2>  Para resumir como criar um aplicativo Qt para 5.13.2 no Windows: </h2><br><br>  1. Voc√™ precisa instalar o Python.  GNU SED e instale WebAssembly de conjuntos bin√°rios atrav√©s do Qt instalado on-line <br><br>  2) <pre> <code class="plaintext hljs">c:\emsdk\emsdk.bat activate --embedded sdk-fastcomp-1.38.27-64bit set PATH="c:\Program Files (x86)\GnuWin32\bin";%PATH% set PATH=c:\qt\5.13.2\mingw73_64\bin;%PATH% set PATH=C:\Qt\Tools\mingw730_32\bin;%PATH%</code> </pre> <br>  Mas o Habr n√£o seria o Habr se eu n√£o tivesse tentado <b>criar</b> o aplicativo <b>WebAssembly a</b> partir da vers√£o mais recente do Qt, que atualmente √© a <b>5.14.0</b> .  Espero n√£o esperar exatamente a mesma miss√£o desde o final da vers√£o 5.13.2. <br><br>  Por meio do instalador online (MaintenanceTool.exe), instalamos o Qt WebAssembly para a vers√£o 5.14.0.  Configuramos o ambiente e executamos a montagem. <br><br>  O processo continua e ... <br><br><img src="https://habrastorage.org/webt/zt/zh/b0/ztzhb07vfti-eekm3krpb5v-u1q.png"><br><br>  Nada est√° claro.  Como √© isso?  Para a vers√£o 5.13.2, depois de dan√ßar com um pandeiro, consegui montar o aplicativo, mas para o 5.14.0 n√£o deu certo?  Mas como eles montaram? <br><br>  ... Mas tamb√©m podemos criar o WASM Qt 5.14.0 a partir da fonte?  E porque n√£o  Para fazer isso, precisamos de muito espa√ßo no disco r√≠gido, al√©m de uma boa carga / carga para o processador: <br><br><pre> <code class="plaintext hljs">echo PATH=c:\qtwasm514\bin;"C:\Program Files (x86)\GnuWin32\bin";c:\qt\Tools\mingw730_32\bin;%PATH% c:\emsdk\emsdk.bat activate --embedded sdk-fastcomp-1.38.27-64bit cd c:\Qt\5.14.0\Src configure.bat -no-warnings-are-errors -xplatform wasm-emscripten -platform win32-g++ -nomake examples -prefix c:\qtwasm</code> </pre><br>  Nesse caso, ap√≥s a montagem, teremos o wasm instalado na pasta c: \ qtwasm e ainda n√£o precisamos coletar exemplos. <br><br><div class="spoiler">  <b class="spoiler_title">Sa√≠da de configura√ß√£o</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">Building on: win32-g++ (i386, CPU features: none) Building for: wasm-emscripten (wasm, CPU features: none) Target compiler: clang 6.0.1 Configuration: cross_compile largefile release c++11 no-pkg-config reduce_exports static stl Build options: Mode ................................... release Optimize release build for size ........ no Building shared libraries .............. no Using C standard ....................... C11 Using C++ standard ..................... C++11 Using ccache ........................... no Using precompiled headers .............. no Using LTCG ............................. no Target compiler supports: Build parts ............................ libs Qt modules and options: Qt Concurrent .......................... no Qt D-Bus ............................... no Qt D-Bus directly linked to libdbus .... no Qt Gui ................................. yes Qt Network ............................. yes Qt Sql ................................. no Qt Testlib ............................. yes Qt Widgets ............................. yes Qt Xml ................................. yes Support enabled for: Using pkg-config ....................... no udev ................................... no Using system zlib ...................... no Zstandard support ...................... no Qt Core: DoubleConversion ....................... yes Using system DoubleConversion ........ no GLib ................................... no iconv .................................. yes ICU .................................... no Built-in copy of the MIME database ..... yes Tracing backend ........................ none Logging backends: journald ............................. no syslog ............................... no slog2 ................................ no Using system PCRE2 ..................... no Qt Network: getifaddrs() ........................... no IPv6 ifname ............................ no libproxy ............................... no OpenSSL ................................ no Qt directly linked to OpenSSL ........ no OpenSSL 1.1 ............................ no DTLS ................................... no OCSP-stapling .......................... no SCTP ................................... no Use system proxies ..................... yes Qt Gui: Accessibility .......................... yes FreeType ............................... yes Using system FreeType ................ no HarfBuzz ............................... yes Using system HarfBuzz ................ no Fontconfig ............................. no Image formats: GIF .................................. yes ICO .................................. yes JPEG ................................. yes Using system libjpeg ............... no PNG .................................. yes Using system libpng ................ no EGL .................................... yes OpenVG ................................. no OpenGL: Desktop OpenGL ....................... no OpenGL ES 2.0 ........................ yes OpenGL ES 3.0 ........................ no OpenGL ES 3.1 ........................ no OpenGL ES 3.2 ........................ no Vulkan ................................. no Session Management ..................... yes Features used by QPA backends: evdev .................................. no libinput ............................... no INTEGRITY HID .......................... no mtdev .................................. no tslib .................................. no xkbcommon .............................. no X11 specific: XLib ................................. no XCB Xlib ............................. no EGL on X11 ........................... no QPA backends: DirectFB ............................... no EGLFS .................................. no LinuxFB ................................ no VNC .................................... yes Mir client ............................. no Qt Sql: SQL item models ........................ yes Qt Widgets: GTK+ ................................... no Styles ................................. Fusion Windows Qt PrintSupport: CUPS ................................... no Qt Sql Drivers: DB2 (IBM) .............................. no InterBase .............................. no MySql .................................. no OCI (Oracle) ........................... no ODBC ................................... no PostgreSQL ............................. no SQLite2 ................................ no SQLite ................................. yes Using system provided SQLite ......... no TDS (Sybase) ........................... no Qt Testlib: Tester for item models ................. yes Qt SerialBus: Socket CAN ............................. no Socket CAN FD .......................... no SerialPort Support ..................... no Further Image Formats: JasPer ................................. no MNG .................................... no TIFF ................................... yes Using system libtiff ................. no WEBP ................................... yes Using system libwebp ................. no Qt QML: QML network support .................... yes QML debugging and profiling support .... yes QML tracing JIT support ................ no QML sequence object .................... yes QML list model ......................... yes QML XML http request ................... yes QML Locale ............................. yes QML delegate model ..................... yes Qt Quick: Direct3D 12 ............................ no AnimatedImage item ..................... yes Canvas item ............................ yes Support for Qt Quick Designer .......... yes Flipable item .......................... yes GridView item .......................... yes ListView item .......................... yes TableView item ......................... yes Path support ........................... yes PathView item .......................... yes Positioner items ....................... yes Repeater item .......................... yes ShaderEffect item ...................... yes Sprite item ............................ yes Qt Scxml: ECMAScript data model for QtScxml ...... yes Qt Gamepad: SDL2 ................................... no Qt 3D GeometryLoaders: Autodesk FBX ........................... no Qt Wayland Client ........................ no Qt Wayland Compositor .................... no Qt Bluetooth: BlueZ .................................. no BlueZ Low Energy ....................... no Linux Crypto API ....................... no WinRT Bluetooth API (desktop &amp; UWP) .... no WinRT advanced bluetooth low energy API (desktop &amp; UWP) . no Qt Sensors: sensorfw ............................... no Qt Quick Controls 2: Styles ................................. Default Fusion Imagine Material Universal Qt Quick Templates 2: Hover support .......................... yes Multi-touch support .................... yes Qt Positioning: Gypsy GPS Daemon ....................... no WinRT Geolocation API .................. no Qt Location: Qt.labs.location experimental QML plugin . yes Geoservice plugins: OpenStreetMap ........................ no HERE ................................. yes Esri ................................. yes Mapbox ............................... yes MapboxGL ............................. no Itemsoverlay ......................... yes QtXmlPatterns: XML schema support ..................... yes Qt Multimedia: ALSA ................................... no GStreamer 1.0 .......................... no GStreamer 0.10 ......................... no Video for Linux ........................ no OpenAL ................................. no PulseAudio ............................. no Resource Policy (libresourceqt5) ....... no Windows Audio Services ................. no DirectShow ............................. no Windows Media Foundation ............... no Qt Tools: QDoc ................................... no Qt WebEngineCore: Qt WebEngine Widgets ................... yes Qt WebEngine Qml ....................... yes Embedded build ......................... yes Full debug information ................. no Pepper Plugins ......................... no Printing and PDF ....................... no Proprietary Codecs ..................... no Spellchecker ........................... yes Native Spellchecker .................... no WebRTC ................................. no Use System Ninja ....................... no Geolocation ............................ yes WebChannel support ..................... yes Use v8 snapshot ........................ yes Kerberos Authentication ................ no Extensions ............................. no Support qpa-xcb ........................ no Building v8 snapshot supported ......... yes Use ALSA ............................... no Use PulseAudio ......................... no Optional system libraries used: re2 .................................. no icu .................................. no libwebp, libwebpmux and libwebpdemux . no opus ................................. no ffmpeg ............................... no libvpx ............................... no snappy ............................... no glib ................................. no zlib ................................. no minizip .............................. no libevent ............................. no jsoncpp .............................. no protobuf ............................. no libxml2 and libxslt .................. no lcms2 ................................ no png .................................. no JPEG ................................. no harfbuzz ............................. no freetype ............................. no Required system libraries: fontconfig ........................... no dbus ................................. no nss .................................. no khr .................................. no glibc ................................ no Required system libraries for qpa-xcb: x11 .................................. no libdrm ............................... no xcomposite ........................... no xcursor .............................. no xi ................................... no xtst ................................. no Qt WebEngineQml: UI Delegates ........................... yes Test Support ........................... no Note: Using static linking will disable the use of dynamically loaded plugins. Make sure to import all needed static plugins, or compile needed modules into the library. Note: No wayland-egl support detected. Cross-toolkit compatibility disabled. Note: The following modules are not being compiled in this configuration: serialport 3dcore 3drender WARNING: QDoc will not be compiled, probably because libclang could not be located. This means that you cannot build the Qt documentation. Either ensure that llvm-config is in your PATH environment variable, or set LLVM_INSTALL_DIR to the location of your llvm installation. On Linux systems, you may be able to install libclang by installing the libclang-dev or libclang-devel package, depending on your distribution. On macOS, you can use Homebrew's llvm package. On Windows, you must set LLVM_INSTALL_DIR to the installation path. WARNING: host pkg-config not found Qt is now configured for building. Just run 'mingw32-make'. Once everything is built, you must run 'mingw32-make install'. Qt will be installed into 'c:\qtwasm'. Prior to reconfiguration, make sure you remove any leftovers from the previous build.</code> </pre> <br></div></div><br>  Montamos e instalamos: <br><br><pre> <code class="plaintext hljs">mingw32-make mingw32-make install</code> </pre> <br>  Ap√≥s reconstruir o WASM Qt 5.14.0 e instalar c: \ qtwasm na pasta e usar esse caminho, consegui criar o WebAssembly a partir da vers√£o 5.14.0 do Qt. <br><br><h2>  Conclus√£o 2. </h2><br>  Se voc√™ deseja usar o Qt 5.14.0 WebAssembly, precisar√° reconstru√≠-lo a partir das fontes e usar a vers√£o que voc√™ j√° criou. <br><br><h2>  Conclus√£o </h2><br>  O Qt WebAssembly √© uma tecnologia bastante interessante que apareceu no Qt desde a vers√£o <a href="https://www.qt.io/blog/2018/11/19/getting-started-qt-webassembly" rel="nofollow">5.12</a> . <br><br>  Os <a href="https://www.qt.io/blog/2018/05/22/qt-for-webassembly-examples" rel="nofollow">exemplos do</a> WebAssembly podem ser visualizados <a href="https://www.qt.io/qt-examples-for-webassembly" rel="nofollow">on</a> - <a href="https://www.qt.io/qt-examples-for-webassembly" rel="nofollow">line</a> no site da Qt. <br><br>  No entanto, ao tentar criar meu pr√≥prio projeto, recebi erros: <br><br><img src="https://habrastorage.org/webt/gl/in/tm/glintm9_aahtojefsodha0ntaz4.png"><br><br>  Portanto, ao usar esta tecnologia, √© necess√°rio estudar suas <a href="https://wiki.qt.io/Qt_for_WebAssembly" rel="nofollow">limita√ß√µes</a> . <br><br>  M√≥dulos n√£o suportados no momento: qtmultimedia, qtwebview. <br><br>  Atualmente, o WebAssembly funciona principalmente em navegadores da √°rea de trabalho, e quando o suporte completo √© exibido em dispositivos m√≥veis, n√£o √© conhecido. <br><br>  Para aqueles que leram este artigo at√© o final, mas nunca experimentaram o Qt, voc√™ pode baixar o <a href="https://www.qt.io/download" rel="nofollow">instalador online</a> , selecionar as op√ß√µes do MinGW e a vers√£o necess√°ria do Qt WebAssmbly.  <a href="https://www.qt.io/development-tools" rel="nofollow">O QtCreator ser√°</a> instalado por padr√£o e voc√™ poder√° criar seu primeiro aplicativo. <br><br>  No final deste artigo, eu gostaria de recomendar que os usu√°rios tentem coletar exemplos das fontes Qt, na pasta Src \ qtcharts \ examples e execut√°-los em um navegador. <br><br>  Para iniciar o servidor da web, voc√™ pode usar o Python e executar: <br>  <code>python -m http.server 8000 --bind 192.168.0.10</code> se voc√™ tiver um endere√ßo na rede local do computador 192.168.0.10.  Al√©m disso, n√£o esque√ßa de abrir a porta no Firewall e tente abrir o aplicativo atrav√©s de um navegador de outro computador / dispositivo / smartphone. <br><br>  Vote e d√™ seus exemplos de como usar a melhor estrutura de GUI para C ++ Qt nos coment√°rios. <br><br>  <i><b>Boa sorte com sua criatividade e novas conquistas!</b></i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt485610/">https://habr.com/ru/post/pt485610/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt485596/index.html">Entrevistas de algoritmo: Teoria vs. praticar</a></li>
<li><a href="../pt485598/index.html">Eventos digitais em Moscou, de 27 de janeiro a 2 de fevereiro</a></li>
<li><a href="../pt485600/index.html">Eventos digitais em S√£o Petersburgo, de 27 de janeiro a 2 de fevereiro</a></li>
<li><a href="../pt485606/index.html">Opera√ß√µes de filtro de driver no registro. Pr√°tica</a></li>
<li><a href="../pt485608/index.html">Microsservi√ßos com Spring Boot. Parte 4. Usando a faixa de op√ß√µes para balanceamento de carga</a></li>
<li><a href="../pt485612/index.html">O que um acidente espacial me ensinou como desenvolvedor</a></li>
<li><a href="../pt485614/index.html">A cultura corporativa vermelha √© o principal problema dos neg√≥cios na R√∫ssia (parte 3)</a></li>
<li><a href="../pt485618/index.html">Automa√ß√£o para os mais pequenos. Notas. API RESTful</a></li>
<li><a href="../pt485620/index.html">Yoshkar-Ola, em geral, uma cidade de TI?</a></li>
<li><a href="../pt485622/index.html">Ferramentas de backup do PostgreSQL. Andrey Salnikov (Gar√ßa de Dados)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>