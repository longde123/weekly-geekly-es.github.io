<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•° ‚úåüèº üöà Lua in Moskau 2019: Interview mit Roberto Jerusalem üèª ü§ôüèæ üêï</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Vor einiger Zeit besuchte Roberto von Jerusalem, Autor der Lua-Sprache, unser Moskauer B√ºro. Wir haben ihn interviewt und dabei Fragen an die Leser vo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lua in Moskau 2019: Interview mit Roberto Jerusalem</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/459464/"><img src="https://habrastorage.org/getpro/habr/post_images/2e2/088/efd/2e2088efd08efa95d7b7d335d3d59696.jpg"><br><br>  Vor einiger Zeit besuchte Roberto von Jerusalem, Autor der Lua-Sprache, unser Moskauer B√ºro.  Wir haben ihn interviewt und dabei Fragen an die Leser von Habr gestellt.  Schlie√ülich k√∂nnen wir Ihnen die gesamte Aufzeichnung des Gespr√§chs mitteilen. <br><a name="habracut"></a><br>  <b>- Lassen Sie uns zun√§chst philosophieren.</b>  <b>Wenn Sie Lua von Grund auf neu erstellen w√ºrden, welche drei Dinge w√ºrden Sie in dieser Sprache √§ndern?</b> <br><br>  - Wow!  Schwierige Frage.  Hinter der Schaffung und Entwicklung der Sprache steckt eine ganze Geschichte.  Dies war keine gro√üe Entscheidung.  Es gab Entscheidungen, die ich bereute und die ich im Laufe der Jahre korrigieren konnte.  Und Programmierer beschweren sich st√§ndig dar√ºber, weil die Kompatibilit√§t nicht stimmt.  Wir haben das schon mehrmals gemacht.  Und ich denke nur an einige kleine Aufgaben. <br><br>  <b>- Globale Standardeinstellungen (standardm√§√üig global)?</b>  <b>Denken Sie, dass dies der richtige Weg ist?</b> <br><br>  - Kann sein.  Dieser Weg ist jedoch f√ºr dynamische Sprachen sehr schwierig.  Vielleicht sollten Sie das Konzept der "Standardeinstellung" vollst√§ndig aufgeben, aber dann wird es schwierig sein, Variablen zu verwenden. <br>  Zum Beispiel m√ºssen Sie irgendwie alle Standardbibliotheken deklarieren.  Sie ben√∂tigen <code>one-liner</code> , <code>print(sin(x))</code> , und dann m√ºssen Sie "print" und eine weitere "sin" deklarieren.  Es ist seltsam, Anzeigen f√ºr so kurze Skripte zu haben. <br><br>  Alles, was gr√∂√üer ist, sollte standardm√§√üig nichts haben, wie es mir scheint.  Standardm√§√üig ist Local keine L√∂sung, es existiert √ºberhaupt nicht.  Es ist nur zur Zuordnung, nicht zur Verwendung.  Wir weisen etwas zu, verwenden es dann und weisen es erneut zu, und es tritt ein v√∂llig unerkl√§rlicher Fehler auf. <br><br>  M√∂glicherweise ist die Standardlokalit√§t nicht perfekt, aber die Standardlokalit√§t ist definitiv keine Option.  Ich denke, eine Art Ank√ºndigung, vielleicht optional ... Wir haben schon oft vorgehabt, eine Art globale Ank√ºndigung zu machen.  Aber wenn wir blind alles einf√ºhren, wonach wir gefragt werden, wird nichts Gutes daraus. <br><br>  (sarkastisch) Ja, wir werden eine globale Ank√ºndigung einf√ºhren, diese hinzuf√ºgen, sho, f√ºnfte, zehnte, eine andere herausziehen, und als Ergebnis stellen wir fest, dass die endg√ºltige L√∂sung die meisten Programmierer nicht zufriedenstellt, und wir werden nicht alle Funktionen hinzuf√ºgen, nach denen wir gefragt werden, und daher Wir implementieren nichts.  Immerhin ist der strikte Modus ein vern√ºnftiger Kompromiss. <br><br>  Es gibt ein Problem: Meistens verwenden wir zum Beispiel die Felder in den Modulen, und dann haben Sie wieder die gleichen Probleme.  Dies ist nur ein sehr spezifischer Fehlerfall, der bei der allgemeinen L√∂sung wahrscheinlich ber√ºcksichtigt werden sollte.  Wenn Sie es also wirklich brauchen, ist es besser, eine statisch typisierte Sprache zu verwenden. <br><br>  <b>- Die Standardglobalit√§t ist f√ºr kleine Konfigurationsdateien weiterhin praktisch.</b> <br><br>  "Ja, stimmt, f√ºr kleine Skripte und dergleichen." <br><br>  <b>- Und in diesem Fall keine Kompromisse?</b> <br><br>  - Es gibt immer Kompromisse.  In diesem Fall ein Kompromiss zwischen kleinen Skripten und echten Programmen, so etwas. <br><br>  <b>- Und hier kehren wir zur ersten gro√üen Frage zur√ºck: Welche drei Dinge w√ºrden Sie √§ndern, wenn es eine solche Gelegenheit g√§be?</b>  <b>Es scheint mir, dass Sie mit dem aktuellen Stand der Dinge ziemlich zufrieden sind, oder?</b> <br><br>  "Nun, ich w√ºrde es nicht als gro√üe Ver√§nderung bezeichnen, und doch ... Eine der erfolglosen Entscheidungen, die zu einer gro√üen Ver√§nderung wurden, ist Null in Tabellen."  Das tut mir leid.  Ich habe diesen Hack gemacht ... Wei√üt du wovon ich rede?  Vor einem halben oder einem Jahr ver√∂ffentlichte ich eine Version von Lua, in der es keine Tabellen gab. <br><br>  <b>- Nullwerte?</b> <br><br>  - Genau.  Ich denke, dies wird in Tabellen als Null bezeichnet - das hei√üt als Null.  Wir haben einen Grammatik-Hack durchgef√ºhrt, um die Kompatibilit√§t sicherzustellen. <br><br>  <b>- Warum wird es ben√∂tigt?</b> <br><br>  "Ich bin wirklich davon √ºberzeugt, dass dies das ganze Problem ist ... Ich denke, dass die meisten Probleme mit Null in Arrays verschwinden w√ºrden, wenn wir [Null in Tabellen] haben k√∂nnten ... Genauer gesagt, das Problem liegt nicht bei Null in Arrays."  Sie sagen mir, dass Arrays nicht Null haben k√∂nnen, daher sollten Arrays von Tabellen getrennt werden.  Das eigentliche Problem ist, dass wir nicht Null in Tabellen halten k√∂nnen!  Daher besteht das Problem nicht darin, wie wir Arrays darstellen, sondern in Tabellen.  Wenn wir Null in Tabellen haben k√∂nnten, dann h√§tten wir Null in Arrays ohne alles andere.  Das tut mir sehr leid und viele Leute verstehen nicht, wie sich die Dinge h√§tten √§ndern k√∂nnen, wenn Lua zugelassen h√§tte, dass Null in Tische gestellt wird. <br><br>  <b>- Kann ich Ihnen eine Geschichte √ºber Tarantool erz√§hlen?</b>  <b>Wir haben unsere eigene Implementierung von null, die eine CDATA f√ºr einen Nullzeiger ist.</b>  <b>Wir verwenden es in F√§llen, in denen Sie leere Fragmente in Ihrem Speicher erstellen m√ºssen, um Positionierungsargumente f√ºr Remote-Aufrufe usw. einzuf√ºgen.</b>  <b>Normalerweise ist dies jedoch ein Problem, da CDATA immer in true konvertiert wird.</b>  <b>Und Null in Arrays w√ºrde viele Probleme l√∂sen.</b> <br><br>  - Ja ich wei√ü.  Das ist es, wor√ºber ich spreche - es w√ºrde viele Probleme f√ºr viele l√∂sen, aber dies f√ºhrt zu einem noch gr√∂√üeren Kompatibilit√§tsproblem.  Wir haben nicht den Mut, eine Version zu ver√∂ffentlichen, die so inkompatibel ist, und dann die Community zu zerst√∂ren und andere Dokumentationen f√ºr Lua 5, Lua 6 usw. zu ver√∂ffentlichen.  Aber vielleicht werden wir eines Tages eine solche Version ver√∂ffentlichen.  Dies w√§ren sehr gro√üe Ver√§nderungen.  Ich glaube, dass dies von Anfang an h√§tte geschehen sollen, und dann h√§tten wir √ºber eine geringf√ºgige √Ñnderung der Sprache gesprochen, au√üer aus Gr√ºnden der Kompatibilit√§t.  Und heute wird es viele Programme brechen. <br><br>  <b>- Welche M√§ngel sehen Sie neben dem Kompatibilit√§tsproblem?</b> <br><br>  - Zwei neue primitive Funktionen werden ben√∂tigt.  So etwas wie der "Schl√ºssel l√∂schen", da durch Zuweisen von "Null" der Schl√ºssel nicht gel√∂scht wird. Sie ben√∂tigen daher eine primitive Operation, um ihn tats√§chlich aus der Tabelle zu entfernen.  Und Sie ben√∂tigen einen ‚ÄûTest‚Äú, um genau zu √ºberpr√ºfen, wo es einen Unterschied zwischen Null und Datenmangel gibt. <br><br>  <b>- Haben Sie die Auswirkungen dieser Innovationen auf die praktische Umsetzung analysiert?</b> <br><br>  - Ja, wir haben eine solche Version von Lua ver√∂ffentlicht.  Wie gesagt, dies hat den Code leise gebrochen.  Einige verwenden den Funktionsaufruf <code>table.insert(f(x))</code> .  Und absichtlich so, dass, wenn die Funktion nichts einf√ºgen m√∂chte, sie null zur√ºckgibt.  Anstelle eines separaten H√§kchens "M√∂chte ich einbetten?"  Ich rufe <code>table.insert</code> , und wenn ich null bekomme, wei√ü ich, dass es nicht eingef√ºgt wird.  Wie in jeder anderen Sprache hat sich der Fehler zu einer Funktion entwickelt, die von den Benutzern verwendet wird.  Wenn Sie jedoch die Funktion √§ndern, wird der Code besch√§digt. <br><br>  <b>- Was ist mit dem Leertyp?</b>  <b>Wie Null, nur nichtig?</b> <br><br>  "Nun, nein, es ist ein Albtraum."  Sie haben es einfach aufgeschoben, das Problem zu l√∂sen.  Wenn Sie eine ‚ÄûKr√ºcke‚Äú eingeben, ben√∂tigen Sie eine weitere und mehr und mehr.  Dies ist keine L√∂sung.  Eines der Probleme ist, dass Null an vielen Stellen der Sprache bereits Wurzeln geschlagen hat.  Hier ist ein typisches Beispiel: Wir sagen "Vermeiden Sie Null in Arrays, dh L√∂chern".  Und dann schreiben wir eine Funktion, die null und etwas danach zur√ºckgibt, und wir erhalten einen Fehlercode.  Eine solche Konstruktion impliziert bereits, was Null ist ... Wenn ich beispielsweise eine Liste der von der Funktion zur√ºckgegebenen Ergebnisse erstellen m√∂chte, um sie alle zu erfassen. <br><br>  <b>- Daf√ºr hast du einen Hack :)</b> <br><br>  "Das ist richtig, aber Sie m√ºssen keine Hacks verwenden, um so einfache und offensichtliche Aufgaben zu l√∂sen."  Bibliotheken tun dies jedoch ... Irgendwie habe ich dar√ºber nachgedacht: Vielleicht sollten Bibliotheken false anstelle von nil zur√ºckgeben, obwohl dies eine grobe Option ist, wird sie nur einen kleinen Teil des Problems l√∂sen.  Das eigentliche Problem ist, wie gesagt, dass wir Null in den Tabellen haben m√ºssen.  Ansonsten sollten wir nil nicht so oft verwenden, wie ich denke.  Im Allgemeinen ist es nicht klar.  Wenn Sie also void erstellt haben, geben diese Funktionen immer noch nil zur√ºck, und wir werden das Problem erst l√∂sen, wenn wir einen neuen Typ erstellen und die Funktionen void anstelle von nil zur√ºckgeben. <br><br>  <b>- Mit void k√∂nnen Sie explizit sagen, dass der Schl√ºssel in der Tabelle gespeichert werden muss, der Schl√ºssel mit dem Wert void.</b>  <b>Und nichts kann so funktionieren wie zuvor.</b> <br><br>  "Ja, das meine ich."  Alle diese Funktionen in Bibliotheken sollten void oder nil zur√ºckgeben. <br><br>  <b>"Sie k√∂nnen auch null zur√ºckgeben, warum nicht?"</b> <br><br>  - Weil wir dann in einigen F√§llen das Problem der Unm√∂glichkeit nicht l√∂sen k√∂nnen, alle von der Funktion zur√ºckgegebenen Werte zu erfassen. <br><br>  <b>"Aber wir werden nicht den ersten Schl√ºssel haben, nur den zweiten."</b> <br><br>  - Nein, es wird keine Sekunde geben, da die Berechnung falsch ausgef√ºhrt wird und ein Loch im Array erscheint. <br><br>  <b>- Sie m√∂chten also sagen, dass Sie eine gef√§lschte Metamethode ben√∂tigen?</b> <br><br>  - Ja.  Ich tr√§ume davon: <br><br> <code>{f(x)}</code> <br> <br>  Sie m√ºssen alle von <code>f(x)</code> Ergebnisse abfangen.  Und dann kann ich <code>%x</code> oder <code>#x</code> sagen, und auf diese Weise kenne ich die Anzahl der zur√ºckgegebenen Ergebnisse.  So sollte eine normale Sprache funktionieren.  Das Erstellen einer Leere l√∂st das Problem also erst, wenn es eine sehr strenge Regel gibt, nach der Funktionen niemals Null zur√ºckgeben.  Aber warum brauchen wir dann √ºberhaupt nichts?  Vielleicht lohnt es sich, darauf zu verzichten. <br><br>  <b>- Roberto, wird es in Lua eine viel st√§rkere Unterst√ºtzung f√ºr statische Analysen geben?</b>  <b>Wie Lua Check auf Steroide?</b>  <b>Nat√ºrlich verstehe ich, dass dies nicht alle Probleme l√∂sen wird.</b>  <b>Sie sagten, dass diese Funktion in Version 6.0 erscheinen wird, wenn √ºberhaupt, oder?</b>  <b>Und wenn es in 5.x ein leistungsf√§higes Werkzeug f√ºr die statische Analyse gibt - wenn Arbeitsstunden darin investiert werden - wird dies helfen?</b> <br><br>  "Nein, ich glaube, dass ein wirklich leistungsf√§higes statisches Analysewerkzeug ... ein Typensystem genannt wird!"  Wenn Sie ein wirklich leistungsf√§higes Tool ben√∂tigen, verwenden Sie eine statisch typisierte Sprache wie Haskell oder eine Sprache mit abh√§ngigen Typen.  Dann haben Sie definitiv ein leistungsf√§higes Analysetool. <br><br>  <b>"Aber dann werde ich Lua nicht haben."</b> <br><br>  - Das stimmt, Lua wird gebraucht f√ºr ... <br><br>  <b>- Unsicherheiten?</b>  <b>Ich mag dein Bild mit einer Giraffe √ºber statische und dynamische Typen.</b> <br><br>  - Ja, das ist meine letzte Folie aus der Pr√§sentation. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ac9/66a/5b2/ac966a5b2ccf1b45ab798727ee382617.jpg"><br>  <i>Die letzte Folie der Pr√§sentation zu Roberto Jerusalems Vortrag ‚ÄûWarum Lua?</i>  <i>(und warum nicht) ‚Äúauf der Konferenz Lua in Moskau 2019.</i> <br><br>  <b>- Um die n√§chste Frage zu stellen, kehren wir zu diesem Bild zur√ºck.</b>  <b>Wenn ich das richtig verstehe, denken Sie, dass Lua ein kleines praktisches Werkzeug ist, um nicht sehr gro√üe Aufgaben zu l√∂sen.</b> <br><br>  - Nein, ich glaube, dass Sie einige gro√üe Probleme l√∂sen k√∂nnen, ohne statische Analysen durchzuf√ºhren.  Ich glaube von ganzem Herzen an Tests.  √úbrigens stimme ich Ihnen in Bezug auf die Berichterstattung nicht zu, dass wir die Berichterstattung nicht verfolgen sollten ... Ich m√∂chte sagen, ich stimme voll und ganz der Ansicht zu, dass die Berichterstattung keine vollst√§ndigen Tests bietet, aber die mangelnde Abdeckung √ºberhaupt keine Tests zul√§sst.  Ich habe in Stockholm √ºber den Testraum gesprochen, Sie waren dort.  Ich fing an, mit [mehreren] Fehlern zu testen - das ist das Seltsamste - einer von ihnen war weithin bekannt, und der Rest war v√∂llig unbekannt.  In der Microsoft-, C- und C ++ - Headerdatei ist etwas v√∂llig kaputt gegangen.  Ich durchsuchte das Netz, aber niemand machte sich dar√ºber Sorgen oder bemerkte es √ºberhaupt. <br><br>  Zum Beispiel gibt es eine mathematische Funktion <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">modf ()</a> , der ein Zeiger auf einen Doppelwert √ºbergeben werden muss, da sie zwei Doppelwerte zur√ºckgibt.  Wir konvertieren die Ganzzahl oder den Bruchteil einer Zahl.  Diese Funktion ist seit langem Teil der Standardbibliothek.  Dann kam C 99, und diese Funktion wird jetzt f√ºr Gleitkommazahlen ben√∂tigt.  Und die Microsoft-Header-Datei hat diese Funktion einfach gespeichert und eine andere als Makro deklariert.  Das hei√üt, die erste Funktion wurde implizit konvertiert.  Double wurde in einen Float konvertiert, und dann wurde ein Zeiger auf Double in einen Zeiger auf einen Float konvertiert! <br><br>  <b>- Mit diesem Bild stimmt etwas nicht.</b> <br><br>  - Dies ist die Header-Datei aus Visual C ++ und Visual C 2007. Wenn Sie diese Funktion einmal mit beliebigen Parametern aufrufen und dann das Ergebnis √ºberpr√ºfen, ist sie fehlerhaft, es sei denn, sie ist 0. Ein anderer Wert ist nicht wahr.  Sie k√∂nnen diese Funktion niemals verwenden.  Keine Abdeckung.  Und dann gab es viele Diskussionen √ºber das Testen ... Rufen Sie die Funktion einfach einmal auf und √ºberpr√ºfen Sie das Ergebnis!  Dieses Problem bestand lange Zeit, viele Jahre lang st√∂rte es niemanden.  Apple hatte einen sehr ber√ºhmten Fehler, so <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">etwas wie</a> " <code>if‚Ä¶ what‚Ä¶ goto‚Ä¶ ok</code> ".  Jemand hat hier einen anderen Ausdruck eingef√ºgt, und alles wurde normal.  Und dann stritten sie sich viel dar√ºber, ob Regeln ben√∂tigt wurden, ob geschweifte Klammern im Codestil verwendet werden sollten und so weiter und so fort.  Niemand erw√§hnte, dass es viele andere ‚ÄûWenns‚Äú gibt.  Niemand hat es getan ... <br><br>  <b>- Wie ich mich erinnere, gibt es auch ein Sicherheitsproblem.</b> <br><br>  - Das stimmt.  Immerhin testen sie nur best√§tigte Situationen.  Sie testen nicht alles hintereinander, da alles best√§tigt wird.  Dies bedeutet, dass es in der Anwendung, die die Sicherheit √ºberpr√ºft, keinen einzigen Test gibt, der pr√ºft, ob Verbindungen fehlerhaft sind oder was dort abgelehnt werden sollte.  Und alle streiten sich dar√ºber, ob die Klammern ben√∂tigt werden ... Wir brauchen Tests, zumindest Tests!  Schlie√ülich hat niemand getestet, was ich unter ‚ÄûBeschichten‚Äú verstehe.  Das ist unglaublich, die Leute f√ºhren nicht einmal grundlegende Tests durch.  Nat√ºrlich w√§re es sehr schwierig, grundlegende Tests durchzuf√ºhren und alle Codezeilen auszuf√ºhren.  Die Leute vermeiden sogar grundlegende Tests, so dass die Abdeckung minimal ist.  Ich m√∂chte Sie dringend bitten, auf die Teile des Programms zu achten, die Sie vergessen haben.  So etwas wie ein Hinweis, wie Sie Ihre Tests ein wenig verbessern k√∂nnen. <br><br>  <b>- Wissen Sie, welche Testabdeckung in Tarantool?</b>  <b>83%!</b>  <b>Was ist die Berichterstattung in Lua?</b> <br><br>  - √úber 99,6%.  Wie viele Codezeilen haben Sie?  Eine Million, Hunderttausende?  Das ist eine riesige Menge.  1% von einhunderttausend sind tausend Codezeilen, die noch nie getestet wurden.  Sie haben sie √ºberhaupt nicht ausgef√ºhrt.  Ihre Benutzer testen nichts. <br><br>  <b>- Das hei√üt, ungef√§hr 17% der Tarantool-Funktionen werden jetzt nicht verwendet?</b> <br><br>  - Es ist unwahrscheinlich, dass Sie zu dem zur√ºckkehren m√∂chten, wor√ºber wir gesprochen haben ... Ich denke, eines der Probleme mit dynamischen Sprachen (und auch statischen) ist, dass die Leute ihren Code nicht testen.  Selbst wenn Sie eine statische Sprache verwenden - nicht wie Haskell, sondern so etwas wie Coq -, bis Sie ein Verifizierungssystem haben, werden Sie dies in das √§ndern.  Und kein statisches Analysetool kann diese Fehler erkennen, sodass Sie Tests ben√∂tigen.  Und wenn Sie sie haben, k√∂nnen Sie globale Probleme, Tippfehler in Namen usw. und alle Arten von Fehlern identifizieren.  Sie brauchen definitiv Tests.  Manchmal ist das Debuggen schwierig, sonst ist es einfach - es h√§ngt von der Sprache und der Art des Fehlers ab.  Unter dem Strich kann jedoch kein statisches Analysetool Tests ersetzen.  Andererseits garantieren sie nicht die Abwesenheit von Fehlern, aber mit ihnen f√ºhle ich mich viel sicherer. <br><br>  <b>- Wir haben eine Frage zum Testen von Lua-Modulen.</b>  <b>Als Entwickler m√∂chte ich einige lokale Funktionen testen, die ich sp√§ter verwenden kann.</b>  <b>Frage: Sie ben√∂tigen eine Abdeckung von 99%, aber die Anzahl der Funktionssituationen, die das Modul f√ºr die API generieren sollte, ist viel geringer als die Menge an Funktionen, die es intern unterst√ºtzt.</b> <br><br>  - Entschuldigung, warum? <br><br>  <b>- Es gibt Funktionen, die f√ºr √∂ffentliche Schnittstellen nicht verf√ºgbar sind.</b> <br><br>  "Sie sollte nicht da sein, l√∂sche einfach diesen Code." <br><br>  <b>- Einfach entfernen?</b> <br><br>  - Ja, das mache ich manchmal in Lua.  Es gab eine Art Codeabdeckung, ich konnte weder hier noch dort hin gelangen. Ich entschied, dass dies unm√∂glich war und l√∂schte einfach den Code.  Selten, aber es passiert.  Wenn einige Situationen nicht m√∂glich sind, schreiben Sie einfach in die Kommentare, warum dies nicht m√∂glich ist.  Wenn Sie nicht √ºber die √∂ffentliche API in die Funktion gelangen k√∂nnen, sollte dies nicht der Fall sein.  Es ist notwendig, √∂ffentliche APIs mit fehlerhaften Eingabedaten zu schreiben. Dies ist wichtig f√ºr Tests. <br><br>  <b>- Das Entfernen von Code ist gut und reduziert die Komplexit√§t.</b>  <b>Weniger Komplexit√§t - h√∂here Stabilit√§t und einfache Wartung.</b>  <b>Komplizieren Sie nicht.</b> <br><br>  - Ja, bei extremer Programmierung gibt es eine solche Regel.  Wenn etwas nicht getestet werden kann, existiert es nicht. <br><br>  <b>- Welche Sprachen haben Sie dazu inspiriert, Lua zu erschaffen?</b>  <b>Welche Paradigmen oder Funktionsmerkmale oder Teile welcher Sprachen m√∂gen Sie?</b> <br><br>  - Ich habe Lua f√ºr einen sehr engen Zweck entworfen, es war kein akademisches Projekt.  Als Sie mich nach der Neuerstellung der Sprache fragten, antwortete ich, dass eine ganze Geschichte dahinter steckt.  Ich habe Lua nicht mit "Ich werde eine Sprache erstellen, die mir gef√§llt, die ich verwenden m√∂chte oder die jeder braucht" entwickelt.  Ich hatte ein Problem: Hier brauche ich eine Konfigurationssprache f√ºr Geologen und Ingenieure, sie muss klein sein und eine einfache Oberfl√§che haben, damit sie sie verwenden k√∂nnen.  Daher war die API immer ein wesentlicher Bestandteil der Sprache.  Das war die Aufgabe.  Als Inspiration war ich damals mit ungef√§hr zehn verschiedenen Sprachen vertraut. <br><br>  <b>"Ich frage mich, welche Sprachen Sie in Lua aufnehmen m√∂chten."</b> <br><br>  - Ich habe Ideen aus vielen Sprachen ausgeliehen, alles, was zur L√∂sung meines Problems geeignet war.  Die Syntax der Modula-Sprache hatte den gr√∂√üten Einfluss, obwohl es schwierig zu sagen ist, weil es so viele Sprachen gibt.  Etwas wurde von AWK genommen.  Nat√ºrlich von Scheme und Lisp ... Lisp ist mir nicht gleichg√ºltig, seit ich mit dem Programmieren angefangen habe. <br><br>  <b>- Und in Lua gibt es noch keine Makros!</b> <br><br>  - Ja, die Syntax ist v√∂llig anders.  Wahrscheinlich war die erste Sprache Fortran ... nein, meine erste Sprache war Assembler und dann Fortran.  Ich habe studiert, aber nie die CLU benutzt.  Viel programmiert auf Smalltalk und SNOBOL.  Auch studiert, aber nicht verwendet Icon, auch eine sehr interessante Sprache.  Ich habe viel von Pascal und C ausgeliehen. Als ich Lua erstellte, war C ++ f√ºr mich bereits zu kompliziert, dies war vor den Vorlagen und anderen Dingen.  Ich habe 1991 angefangen zu arbeiten und 1993 Lua freigelassen. <br><br>  <b>- Die UdSSR ist zusammengebrochen und Sie haben angefangen, Lua zu erstellen :) Sie mochten die Semikolons und Objekte nicht, als Sie Lua gestartet haben?</b>  <b>Es schien mir, dass seine Syntax C √§hnlich sein w√ºrde, weil Lua darin integriert ist.</b>  <b>Jedoch ...</b> <br><br>  - Ich glaube, dass die Syntax unterschiedlich sein sollte, dann werden Sie nicht verwirrt, weil dies zwei verschiedene Sprachen sind. <br><br>  Das ist wirklich lustig und h√§ngt mit der Antwort √ºber Arrays zusammen, die mit einem beginnen und die ich [auf der Konferenz] nicht ausdr√ºcken durfte.  Meine Antwort war zu lang. <br><br>  Als Lua freigelassen wurde, war die Welt anders.  Nicht alle Sprachen waren C √§hnlich. Es gab immer noch kein Java und JavaScript, Python war ein Baby und ging nicht √ºber Version 1.0 hinaus.  Daher waren nicht alle Sprachen C √§hnlich, und die Syntax war eine von vielen. <br><br>  Gleiches gilt f√ºr Arrays.  Es ist lustig, dass das meiste davon nicht bewusst ist.  Arrays, die mit 0 und 1 beginnen, haben ihre eigenen Vorz√ºge. <br><br>  Es ist C zu verdanken, dass die meisten g√§ngigen Sprachen heutzutage Arrays verwenden, die mit 0 beginnen. Ihre Sch√∂pfer wurden von C inspiriert. Und es ist lustig, dass es in C keine Indizierung gibt.    ,      ,       .        ,      ‚Äî   ,   (offset).    ,      ,    ,  ,   . <br><br>   ,  ,         . Java, JavaScript    ‚Äî      .     0,    .       ,  ¬´ ¬ª. <br><br> <b>‚Äî  ,      ,        .     -,  ,     ,   -  ,    ,    .     ,   Lua     ?</b>  <b>Warum?</b> <br><br> ‚Äî     ? <br><br> <b>‚Äî  .</b> <br><br> ‚Äî .    ,      ,      .      .    ?   ,  ,     .         .        . <br><br> <b>‚Äî   Lua   C.</b> <br><br> ‚Äî ,    ,     .     ,   ,    ‚Ä¶     ,       ,    -      .      :     ,   ‚Ä¶ . <br><br>  ,      .  ,          ?      ,     -  ‚Ä¶        ? <br><br> <b>‚Äî    .</b> <br><br> ‚Äî .    ?     C   ,    ,    ‚Ä¶     ? <br><br> <b>‚Äî 16 ?</b> <br><br> ‚Äî  ,        . <br><br> <b>‚Äî ,  ,     .</b> <br><br> ‚Äî ,      .    ,    ,      ‚Ä¶     ,    ,    .          ‚Äî  ,    .     ,   ,   .       ,    ‚Ä¶   :       ? <br><br> <b>‚Äî  C++   .</b> <br><br> ‚Äî ,  C++   . <br><br> <b>‚Äî    ? <code>ptrdiff_t</code> ?</b> <br><br> ‚Äî <code>ptrdiff_t</code> ‚Äî     (signed type). ,              ,           .      ? <br><br>   ,     diff ,    .     .   ,   ?  Auf keinen Fall. ,    ,      .       2   ,          . <br><br>    ,       .         ,       .              diff ,    . <br><br>      ,        ++. <br><br> <b>‚Äî     Lua   ?</b> <br><br> ‚Äî   ,   C++,     - ,      . ,  -   ++, ‚Ä¶         . <br><br> <b>‚Äî  , ?</b> <br><br> ‚Äî      .    ,      .    ,      ,    .    ,      . <br><br> <b>‚Äî   JVM?</b> <br><br> ‚Äî , JVM.  ,       ‚Ä¶  ‚Äî  ,      .  JVM  ,   .NET,   .  JVM     ,   Lua.  ,      .    JVM,        . JVM   .    Java-,    10 .      ,  JVM   ,      . <br><br> <b>‚Äî     JVM, , Mobile JVM?</b> <br><br> ‚Äî  ,   JVM. -  Java,   Java. <br><br> <b>‚Äî    ,  Go  Oberon?       Lua,       ?</b> <br><br> ‚Äî Oberon‚Ä¶ ‚Ä¶  Go    ,  runtime-    Lua. Oberon   ,       . ,    ,    . , ,   const  Pascal  Oberon.       ,   .      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> </a> . <br> ,  1994-    Oberon  Self.   Self?       JIT-  . Self    ,      ,    .  - ,   ‚Äî ! ‚Äî  ,     - .    ,       ‚Ä¶ <br><br>      Oberon,    ,     10     Self,   .  Oberon ,    ,    . <br><br>       ,      . <br><br> <b>‚Äî Haskell?</b> <br><br> ‚Äî    Haskell,   ,     Lua. <br><br> <b>‚Äî      Python, R  Julia        Lua?</b> <br><br> ‚Äî ,        . <br><br> R   .       ,     . <br><br> Python ,       . ,      .         ,    . <br><br>   Python   ,   ,     .   ,      ,    -  .         API‚Ä¶ ,    Python,    .           ,    ,  ¬´ ¬ª. <br><br>       , -: ,   , ,  -.  .  ,       API    ,   - .  ,     .     ,     ,       ‚Ä¶ <br><br>    - ,         (pattern matching).  ,   ,      ,     .    ,    ,    . <br><br>  :             Perl.     Lua,       . , Python  .            ,       ,   .      -    . <br><br> <b>‚Äî        ?</b> <br><br> ‚Äî        Python.   Perl  :        $1, $2, $3.        Perl,  ‚Ä¶ <br><br> <b>‚Äî      Python,   ,      (     Tarantool).</b> <br><br> ‚Äî ,     ,    ,     API,   . Python   ,    . <br><br>     Julia,      LuaJIT,    ,       .     ,     ,   .   ,        . ,   ,   ,   .           ,      ,  .      : ,     - .   ,   ,    -  ,    . <br><br>     Julia,       : ,   ,      .   ,  -    .       ,    double,      []‚Ä¶   .     . <br><br> () ¬´,  ,    ,     ,      ,   . ,  ¬ª. , ,      . <br><br>     .    R,     Python. <br><br> <b>‚Äî    Erlang?</b> <br><br> ‚Äî   .       ,   .   ,    ,       ,  -  .   Erlang     ,  ,    .      ,      . <br><br>         ,           . ,      .       ?   ,    .      . <br><br> <b>‚Äî , Erlang    ,  Python    .     Lua?</b> <br><br> ‚Äî  ,   . Lua     ,       ,  Lua  ,   . <br><br> <b>‚Äî     ?</b> <br><br> ‚Äî Forth,   . <br><br> <b>‚Äî        Lua?</b> <br><br> ‚Äî  ,    .   ,      .    - ,     .     Lua,     Lua,      . <br><br>     Java.    Java,      ?  Nein.   (reflection)?  Nein.    ?    Java,    ,     Java.   ,    ,     Java,     . <br><br>     ,    Lua,     ‚Ä¶ ,     ,  FFI. <br><br> <b>‚Äî     Lua?</b> <br><br> ‚Äî ,  . <br><br> <b>‚Äî   Lua    ?      ?</b> <br><br> ‚Äî ,    .    ,     Haskell.       ,   ,  ‚Ä¶      Lua,  ,    ,   ,   ,      . <br><br> <b>‚Äî ,        Lua.</b> <br><br> ‚Äî ,    ,    .      .    ,    . <br><br> <b>‚Äî     ,            . Lua    ?</b> <br><br> ‚Äî ,     ,  ‚Ä¶ <br><br> <b>‚Äî ¬´  ¬ª? ,     ?</b> <br><br> ‚Äî , . ,    ,        ,  .         ,        . <br><br> <b>‚Äî         Lua?</b> <br><br> ‚Äî  .      ,     ,     LaTex  DocBook.   ,       ‚Ä¶     LaTex,   .     @,        . Gsub   ,    ,  -   - .      ,      ,  ,      . <br><br> <b>‚Äî      LaTeX?</b> <br><br> ‚Äî  LaTeX? -,   ,      .   ,    ,    LaTex. ,      inline-.      /,    .   ‚Äî   .    ,     ,         ,     .       ,   .     ,    . <br><br> <b>‚Äî         LaTeX?</b> <br><br> ‚Äî ,     .    ,        ,  . ,    3+1,     .   ,     ,      .     ,   .   ,     ,    . ,   1   ¬´and¬ª,     .     .   ,   . <br><br> <b>‚Äî     ?</b> <br><br> ‚Äî ,  <a href="">git</a> .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2html</a> .     HTML‚Ä¶ ,   .     ,    ,  . ,       ,     .     ,    TeX.    TeX-   TeX. <br><br> <b>‚Äî   ?</b> <br><br> ‚Äî ,  .  ,    TeX.    ,    .             DocBook,    .  ,       . <br><br> <b>‚Äî     2html   DocBook?</b> <br><br> ‚Äî ,   DocBook. <br><br> <b>‚Äî ,    ,     !</b> <br><br> ‚Äî       . <br><br><hr><br>     - ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Lua Mailing List</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de459464/">https://habr.com/ru/post/de459464/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de459454/index.html">Wie war der erste Hackathon bei The Standoff?</a></li>
<li><a href="../de459456/index.html">Dagaz: Episoden (Teil 1)</a></li>
<li><a href="../de459458/index.html">ok.tech: Daten erkl√§ren # 2</a></li>
<li><a href="../de459460/index.html">Die Schwierigkeiten bei der Arbeit mit Redux und deren L√∂sung</a></li>
<li><a href="../de459462/index.html">SEO f√ºr Yandex. Alle suchen?</a></li>
<li><a href="../de459466/index.html">Lua in Moskau 2019: Interview mit Roberto Ierusalimschy</a></li>
<li><a href="../de459470/index.html">Teil 4: Linux l√§uft immer noch unter RISC-V RISC-V</a></li>
<li><a href="../de459472/index.html">Heroku + Docker + Spring Boot</a></li>
<li><a href="../de459474/index.html">So erstellen Sie in einer Sekunde perfekt getippten Text: ein Makro in Word f√ºr diejenigen, die viel schreiben</a></li>
<li><a href="../de459478/index.html">Meine Erfahrung beim Erstellen einer Multithread-Anwendung f√ºr die Arbeit mit Backups</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>