<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úçüèø üôÖüèΩ üíá Game Boy Supercomputer üõ†Ô∏è üë©‚Äçüé§ üìÄ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mit einer Geschwindigkeit von √ºber 1 Milliarde Bildern pro Sekunde ist dies wohl der schnellste der 8-Bit-Konsolencluster der Welt. 


 Distributed Te...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Game Boy Supercomputer</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435506/">  Mit einer Geschwindigkeit von √ºber 1 Milliarde Bildern pro Sekunde ist dies wohl der schnellste der 8-Bit-Konsolencluster der Welt. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4e7/0fa/97d/4e70fa97d86589ec00f0a570a3835feb.gif"><br>  <i>Distributed Tetris (1989)</i> <br><br><h2>  Wie baue ich einen solchen Computer? </h2><br><h3>  Rezept </h3><br>  Nehmen Sie eine Handvoll Silizium, wenden Sie Verst√§rkungstraining an, machen Sie Erfahrung mit Supercomputern, einer Leidenschaft f√ºr Computerarchitektur, f√ºgen Sie Schwei√ü und Tr√§nen hinzu, r√ºhren Sie 1000 Stunden lang, bis es kocht - und voila. <br><br><h2>  Warum sollte jemand einen solchen Computer brauchen? </h2><br>  Kurz gesagt: Auf dem Weg zur Verbesserung der k√ºnstlichen Intelligenz. <br><a name="habracut"></a><br><img src="https://habrastorage.org/getpro/habr/post_images/d7f/1bd/3ef/d7f1bd3ef8197d18fc1612235bfbc0df.png"><br>  <i>Eine von 48 IBM Neural Computer-Karten, die f√ºr Experimente verwendet wurden</i> <br><br><h2>  Und hier ist eine detailliertere Version </h2><br>  2016 Jahr.  Deep Learning ist allgegenw√§rtig.  Die Bilderkennung kann dank gefalteter neuronaler Netze als gel√∂ste Aufgabe angesehen werden, und meine Forschungsinteressen streben nach neuronalen Netzen mit Ged√§chtnis und verst√§rktem Lernen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/aa6/7e2/2de/aa67e22de1d4c2eb58f415beb61628e9.png"><br><br>  Insbesondere in der Arbeit der Autoren von Google Deepmind wurde gezeigt, dass es m√∂glich ist, das Niveau einer Person in verschiedenen Spielen f√ºr den Atari 2600 (Heimspielkonsole, ver√∂ffentlicht 1977) zu erreichen oder sogar zu √ºbertreffen, indem ein einfacher Lernalgorithmus verwendet wird, der von Deep Q-Neural Network unterst√ºtzt wird.  Und das alles einfach beim Betrachten des Gameplays.  Es erregte meine Aufmerksamkeit. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e3e/dd5/f97/e3edd5f97096170a43b775859b539087.gif"><br>  <i>Eines der Spiele mit dem Atari 2600, Breakout.</i>  <i>Die Maschine wurde unter Verwendung eines einfachen Verst√§rkungslernalgorithmus trainiert.</i>  <i>Nach Millionen von Iterationen begann der Computer besser zu spielen als Menschen.</i> <br><br>  Ich habe angefangen, mit Atari 2600-Spielen zu experimentieren. Breakout ist zwar beeindruckend, kann aber nicht als kompliziert bezeichnet werden.  Der Schwierigkeitsgrad kann anhand des Schwierigkeitsgrades in √úbereinstimmung mit Ihren Aktionen (Joystick) und Ihren Ergebnissen (Punkten) bestimmt werden.  Das Problem tritt auf, wenn der Effekt lange warten muss. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f41/849/950/f41849950d6af5392b78e51f838ec707.gif"><br>  <i>Illustration eines Problems am Beispiel komplexerer Spiele.</i>  <i>Links - Ausbruch (ATARI 2600) [Der Autor hat sich geirrt, dies ist ein Pong-Spiel / ca.</i>  <i>trans.] mit einer sehr schnellen Antwort und einem schnellen Feedback.</i>  <i>Richtig - Mario Land (Nintendo Game Boy) liefert keine sofortigen Informationen √ºber die Auswirkungen der Aktion. Zwischen zwei wichtigen Ereignissen k√∂nnen lange Zeitr√§ume irrelevanter Beobachtungen auftreten.</i> <br><br>  Um das Lernen effektiver zu gestalten, kann man sich Versuche vorstellen, einen Teil des Wissens aus einfacheren Spielen zu √ºbertragen.  Diese Aufgabe bleibt ungel√∂st und ist ein aktives Forschungsthema.  Eine k√ºrzlich ver√∂ffentlichte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Aufgabe</a> von OpenAI versucht genau das zu messen. <br><br>  Die F√§higkeit, Wissen zu √ºbertragen, w√ºrde nicht nur das Training beschleunigen - ich glaube, dass einige Lernprobleme ohne Grundwissen √ºberhaupt nicht gel√∂st werden k√∂nnen.  Wir brauchen Dateneffizienz.  Nehmen Sie das Spiel Prince of Persia: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/139/4d7/aa6/1394d7aa679b5a687d07cd97a5c68d4b.gif"><br><br>  Es gibt keine offensichtlichen Punkte darin. <br>  Es dauert 60 Minuten, um das Spiel zu beenden. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/11b/c4d/5b7/11bc4d5b76ad0a167c31067edd0d30ea.gif"><br><br>  Ist es m√∂glich, denselben Ansatz anzuwenden, der beim Schreiben der Arbeit am Atari 2600 verwendet wurde?  Wie wahrscheinlich ist es, dass Sie durch Dr√ºcken von Zufallstasten zum Ende gelangen? <br><br>  Diese Frage veranlasste mich, einen Beitrag zur Community zu leisten, die darin besteht, dieses Problem zu l√∂sen.  Tats√§chlich haben wir die Aufgabe von H√ºhnchen und Eiern - wir brauchen einen besseren Algorithmus, mit dem wir eine Nachricht √ºbertragen k√∂nnen. Dies erfordert jedoch Forschung, und Experimente sind zeitaufw√§ndig, da wir keinen effizienteren Algorithmus haben. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fc9/009/5f1/fc90095f174e9052dfb677996562ac14.png"><br>  <i>Ein Beispiel f√ºr Wissenstransfer: Stellen Sie sich vor, wir haben zuerst gelernt, ein einfaches Spiel wie das linke zu spielen.</i>  <i>Dann speichern wir Konzepte wie ‚ÄûRennen‚Äú, ‚ÄûAuto‚Äú, ‚ÄûStrecke‚Äú, ‚ÄûGewinnen‚Äú und lernen Farben oder dreidimensionale Modelle.</i>  <i>Wir argumentieren, dass gemeinsame Konzepte zwischen Spielen ‚Äû√ºbertragen‚Äú werden k√∂nnen.</i>  <i>Die √Ñhnlichkeit von Spielen kann durch die Anzahl der zwischen ihnen √ºbertragenen Kenntnisse bestimmt werden.</i>  <i>Zum Beispiel werden die Spiele Tetris und F1 nicht √§hnlich sein.</i> <br><br>  Aus diesem Grund habe ich mich f√ºr den zweiten idealen Ansatz entschieden, um die anf√§ngliche Verlangsamung zu vermeiden und das System drastisch zu beschleunigen.  Meine Ziele waren: <br>  - beschleunigte Umgebung (stellen Sie sich vor, dass Prince of Persia 100-mal schneller abgeschlossen werden kann) und gleichzeitiger Start von 100.000 Spielen. <br>  - eine Umgebung, die besser f√ºr die Forschung geeignet ist (wir konzentrieren uns auf Aufgaben, aber nicht auf vorl√§ufige Berechnungen, wir haben Zugang zu verschiedenen Spielen). <br><br>  Anfangs dachte ich, dass der Leistungsengpass irgendwie von der Komplexit√§t des Emulatorcodes abh√§ngen k√∂nnte (zum Beispiel ist die Stella-Codebasis gro√ü und basiert auf C ++ - Abstraktionen - nicht die beste Wahl f√ºr Emulatoren). <br><br><h2>  Konsolen </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/900/dc8/c32/900dc8c322e070709af65b0f89d55146.jpg"><br><br>  Insgesamt habe ich auf mehreren Plattformen gearbeitet, angefangen mit einem der ersten Spiele, die jemals erstellt wurden (zusammen mit dem Pong-Spiel) - den Arcade Space Invaders, Atari 2600, NES und Game Boy.  Und das alles wurde in C geschrieben. <br><br>  Ich habe es geschafft, eine maximale Bildrate von 2000-3000 pro Sekunde zu erreichen.  Um die Ergebnisse von Experimenten zu erhalten, ben√∂tigen wir Millionen oder Milliarden von Frames, daher war die L√ºcke riesig. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/677/cd2/ebd/677cd2ebda80be7e5eace8380911c084.gif"><br>  <i>Space Invaders arbeiten im FPGA - Debugging-Modus mit niedriger Geschwindigkeit.</i>  <i>Der FPGA-Z√§hler zeigt die Anzahl der verstrichenen Taktzyklen an.</i> <br><br>  Und dann dachte ich - was w√§re, wenn wir mit Eisen die richtige Umgebung beschleunigen k√∂nnten.  Zum Beispiel gingen die urspr√ºnglichen Space Invaders mit einer Frequenz von 1 MHz an die 8080-CPU.  Ich habe es geschafft, eine 8080 40 MHz CPU auf einem 3 GHz Xeon Prozessor zu emulieren.  Nicht schlecht, aber nachdem ich das alles in das FPGA gesteckt hatte, stieg die Frequenz auf 400 MHz.  Das bedeutete 24.000 FPS aus einem Stream - das entspricht einem 30-GHz-Xeon!  Habe ich erw√§hnt, dass Sie 100 8080-Prozessoren in ein durchschnittliches FPGA packen k√∂nnen?  Dies ergibt bereits 2,4 Millionen FPS. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/415/82a/dd1/41582add164c44c52b01fdfec7160e20.gif"><br>  <i>Space Invaders mit 100 MHz Hardwarebeschleunigung, ein Viertel der vollen Geschwindigkeit</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/90d/8a8/4e0/90d8a84e0053c30eb4b337b27c15dcfc.png"><br>  <i>Mehr als hundert Kerne im Xilinx Kintex 7045 FPGA (angezeigt durch helle Farben; der blaue Fleck in der Mitte ist die allgemeine Logik f√ºr die Demonstration).</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4c1/dc9/f93/4c1dc9f93c26391a762466a8216053f9.png"><br>  <i>Ungleichm√§√üiger Ausf√ºhrungspfad</i> <br><br>  Sie fragen sich vielleicht, was ist mit der GPU?  Kurz gesagt, wir brauchen Parallelit√§t wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MIMD</a> , nicht <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SIMD</a> .  Als Student habe ich einige Zeit an der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Implementierung einer</a> Monte-Carlo-Baumsuche auf einer GPU gearbeitet (eine solche Suche wurde in AlphaGo verwendet). <br><br>  Zu dieser Zeit habe ich unz√§hlige Stunden damit verbracht, die GPU und andere Hardwarekomponenten nach dem SIMD-Prinzip (IBM Cell, Xeon Phi, AVX-CPU) zum Ausf√ºhren eines solchen Codes zum Laufen zu bringen, und es wurde nichts daraus.  Vor einigen Jahren begann ich zu denken, dass es sch√∂n w√§re, unabh√§ngig Hardware entwickeln zu k√∂nnen, die speziell f√ºr die L√∂sung von Problemen im Zusammenhang mit dem Verst√§rkungstraining entwickelt wurde. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/479/730/b57/479730b5758c7bbccecd7be47f8ca310.gif"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/d98/4ee/ad9/d984eead9cd837908580a0545210918b.png"><br>  <i>MIMD-Parallelit√§t</i> <br><br><h2>  ATARI 2600, NES oder Game Boy? </h2><br>  Bei 8080 implementierte ich Space Invaders, NES, 2600 und Game Boy.  Und hier sind einige Fakten √ºber sie und die Vorteile von jedem von ihnen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f26/475/be6/f26475be6707be383030b9e116222a71.png"><br>  <i>NES Pacman</i> <br><br>  Space Invaders waren nur ein Aufw√§rmen.  Wir haben es geschafft, sie zum Laufen zu bringen, aber es war nur ein Spiel, daher war das Ergebnis nicht sehr n√ºtzlich. <br><br>  Der Atari 2600 ist tats√§chlich der Standard in der Forschung zum verst√§rkten Lernen.  Der MOS 6507-Prozessor ist eine vereinfachte Version des ber√ºhmten 6502, sein Design ist eleganter und effizienter als der des 8080. Ich habe mich f√ºr 2600 entschieden, nicht nur wegen bestimmter Einschr√§nkungen in Bezug auf Spiele und deren Grafik. <br><br>  Ich habe auch NES (Nintendo Entertainment System) implementiert, das die CPU mit 2600 teilt. Es gibt Spiele, die viel besser als 2600 sind. Beide Konsolen leiden jedoch unter einer √ºberm√§√üig komplexen Grafikverarbeitungspipeline und mehreren Kassettenformaten, die unterst√ºtzt werden m√ºssen. <br><br>  In der Zwischenzeit habe ich den Nintendo Game Boy wiederentdeckt.  Und das war es, wonach ich gesucht habe. <br><br><h2>  Warum ist der Game Boy so cool? </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/447/518/78d/44751878d5be5df4e754fdee7913d224.jpg" alt="Bild"><br>  <i>1049 klassische Spiele und 576 Spiele f√ºr Game Boy Color</i> <br><br>  Insgesamt mehr als 1000 Spiele, eine sehr gro√üe Vielfalt, hohe Qualit√§t, einige davon sind recht komplex (Prince), Spiele k√∂nnen gruppiert und komplexiert werden, um den Wissenstransfer und das Training zu erforschen (zum Beispiel gibt es Optionen f√ºr Tetris, Rennspiele, Mario).  Um das Spiel Prince of Persia zu l√∂sen, m√ºssen Sie m√∂glicherweise Wissen aus einem anderen √§hnlichen Spiel √ºbertragen, in dem Punkte klar angegeben sind (in Prince ist dies nicht der Fall). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5ff/f8e/9e7/5fff8e9e75b38f13eb5161b316c76030.gif"><br>  <i>Nintendo Game Boy ist meine Lieblingsforschungsplattform f√ºr Wissenstransfer.</i>  <i>In der Grafik habe ich versucht, die Spiele nach Komplexit√§t (subjektiv) und √Ñhnlichkeit zu gruppieren (Konzepte wie Rennen, Springen, Schie√üen, verschiedene Spiele wie Tetris; hat jemand HATRIS gespielt?).</i> <br><br>  Der klassische Game Boy verf√ºgt √ºber einen sehr einfachen Bildschirm (160 x 144, 2-Bit-Farbe), sodass die Vorverarbeitung einfach wird und Sie sich auf wichtige Dinge konzentrieren k√∂nnen.  Bei 2600 haben sogar einfache Spiele viele Farben.  Dar√ºber hinaus werden Objekte in Game Boy viel besser dargestellt, ohne zu blinken und ohne dass maximal zwei aufeinanderfolgende Frames ben√∂tigt werden. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/740/9ae/843/7409ae843366b71257755bc7701af3c8.gif"><br><br>  Kein verr√ºcktes Speicherlayout wie NES oder 2600. Die meisten Spiele k√∂nnen mit 2-3 Mappern verwendet werden. <br><br>  Kompakter Code - Ich habe es geschafft, den gesamten Emulator in C in nicht mehr als 700 Codezeilen einzupassen, und meine Verilog-Implementierung passt in 500 Zeilen. <br><br>  Es gibt dieselbe einfache Version von Space Invaders wie in der Spielhalle. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/10f/5d0/838/10f5d0838acb88b453ff82b778389265.gif"><br><br>  Und hier ist er, mein 1989er Dot-Matrix-Game Boy und die FPGA-Version, die √ºber HDMI auf einem 4K-Bildschirm funktioniert. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ca2/dd5/77d/ca2dd577d1711be2ddb2d3426dc07c39.png"><br><br>  Und hier ist, was mein alter Game Boy nicht kann: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/343/e65/d45/343e65d45de2b5bac8bd31ffccb7be6e.gif"><br>  <i>Tetris beschleunigt mit Eisen - Aufnahme vom Bildschirm in Echtzeit, die Geschwindigkeit betr√§gt 1/4 des Maximums.</i> <br><br><h2>  Gibt es einen wirklichen Vorteil daf√ºr? </h2><br>  Ja, gibt es.  Bisher habe ich das System unter einfachen Bedingungen mit einem externen Netzwerk von Regeln getestet, die mit einzelnen Game Boys interagieren.  Insbesondere habe ich den A3C-Algorithmus (Advantage Actor Critic) verwendet und m√∂chte ihn in einem separaten Beitrag beschreiben.  Mein Kollege hat es √ºber FPGA mit dem Faltungsnetzwerk verbunden, und es funktioniert. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cb7/202/75a/cb720275a2f42cf3e17fc28167ec55f0.png"><br>  <i>Wie FGPA mit einem neuronalen Netzwerk kommuniziert</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/da4/f65/160/da4f6516036832a572de98a4bec081e4.png"><br>  <i>Verteiltes A3C</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c3c/2b2/607/c3c2b26079064aa7ab6fee6f4a7f373e.gif"><br>  <i>Mario Land: Ausgangszustand.</i>  <i>Ein zuf√§lliger Tastendruck bringt uns nicht weit.</i>  <i>Die obere rechte Ecke zeigt die verbleibende Zeit.</i>  <i>Wenn wir Gl√ºck haben, beenden wir das Spiel schnell, nachdem wir die Gumba ber√ºhrt haben.</i>  <i>Wenn nicht, dauert es 400 Sekunden, um zu ‚Äûverlieren‚Äú.</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/088/0a9/618/0880a9618a01a45c6358469604dea92d.gif"><br>  <i>Mario Land: Nach einer Stunde Spiel lernte Mario laufen, springen und √∂ffnete sogar einen geheimen Raum, der in eine Pfeife krabbelte.</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b3b/d37/a82/b3bd37a82e9692319784667a7be9c13c.gif"><br>  <i>Pac Man: Nach ungef√§hr einer Stunde Training konnte das neuronale Netzwerk das ganze Spiel sogar einmal beenden (indem es alle Punkte verzehrte).</i> <br><br><h2>  Fazit </h2><br>  Ich w√ºrde gerne glauben, dass das n√§chste Jahrzehnt die Zeit sein wird, in der Supercomputing und KI sich finden.  Ich h√§tte gerne Hardware, mit der ich mich auf ein bestimmtes Niveau einstellen kann, um mich an den gew√ºnschten AI-Algorithmus anzupassen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d06/248/162/d062481627eb1e355c5488ead2ca7ef7.png"><br>  <i>N√§chstes Jahrzehnt</i> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Code f√ºr Game Boy in C.</a> <br><br><h2>  Debuggen </h2><br>  Die Leute fragen mich oft: Was war am schwierigsten?  Das war's - das ganze Projekt war ziemlich schmerzhaft.  F√ºr den Anfang gibt es keine Spezifikation f√ºr einen Game Boy.  Alles, was wir gelernt haben, haben wir dank Reverse Engineering erhalten, dh wir haben eine Zwischenaufgabe wie ein Spiel gestartet und beobachtet, wie es ausgef√ºhrt wird.  Dies unterscheidet sich stark vom Standard-Software-Debugging, da hier die Hardware debuggt, auf der die Programme ausgef√ºhrt werden.  Ich musste mir verschiedene Wege einfallen lassen, um dies zu erreichen.  Und ich habe dar√ºber gesprochen, wie schwierig es ist, einen Prozess zu √ºberwachen, wenn er mit einer Frequenz von 100 MHz l√§uft.  Oh, und da ist kein Druck. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9df/173/ab1/9df173ab1b05d831461a16152646be72.png"><br>  <i>Ein Ansatz zur Implementierung einer CPU besteht darin, Anweisungen zu ihren Funktionen zu gruppieren.</i>  <i>Mit 6502 ist es viel einfacher.</i>  <i>LR35092 hat viel von allem ‚Äûzuf√§lligen‚Äú Unsinn vollgestopft und es gibt viele Ausnahmen.</i>  <i>Ich habe diese Tabelle bei der Arbeit mit dem CPU Game Boy verwendet.</i>  <i>Ich habe eine gierige Strategie angewendet - ich habe die gr√∂√üte Anweisung genommen, sie implementiert, gel√∂scht und dann wiederholt.</i>  <i>1/4 der Anweisungen ist ALU, 1/4 ist das Laden von Registern, was ziemlich schnell implementiert werden kann.</i>  <i>Auf der anderen Seite des Spektrums gibt es alle m√∂glichen Dinge, wie zum Beispiel ‚ÄûUpload von HL nach SP mit einem Vorzeichen‚Äú, die separat verarbeitet werden mussten.</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/96b/ec9/38b/96bec938bbac5dbab9b8c71f6024d31b.jpg"><br>  <i>Debugging: F√ºhren Sie den Code auf der Hardware aus, die Sie debuggen, schreiben Sie ein Protokoll Ihrer Implementierung und zus√§tzliche Informationen (hier wird ein Vergleich des Verilog-Codes links mit meinem C-Emulator rechts angezeigt).</i>  <i>F√ºhren Sie dann diff f√ºr die Protokolle aus, um Inkonsistenzen zu finden (blau).</i>  <i>Einer der Gr√ºnde f√ºr die Verwendung der Automatisierung ist, dass ich in vielen F√§llen nach Millionen von Ausf√ºhrungszyklen Probleme fand, als ein einzelnes CPU-Flag einen Schneeballeffekt verursachte.</i>  <i>Ich habe verschiedene Ans√§tze ausprobiert, und dieser erwies sich als der effektivste.</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e50/bea/455/e50bea45577d7225024a0aa66174f9bd.png"><br>  <i>Sie brauchen viel Kaffee!</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/196/d2e/4eb/196d2e4ebf91bda8e1943dc5e7f81a89.png"><br>  <i>Diese B√ºcher sind 40 Jahre alt.</i>  <i>Es war erstaunlich, sie zu durchsuchen und die Welt der Computer mit den Augen dieser Benutzer zu betrachten - ich f√ºhlte mich wie ein Gast aus der Zukunft.</i> <br><br><h2>  OpenAI-Forschungsanfrage </h2><br>  Zuerst wollte ich mit Spielen in Bezug auf das Ged√§chtnis arbeiten, wie in einem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Beitrag</a> von OpenAI beschrieben. <br><br>  √úberraschenderweise war es unerwartet schwierig, Q-Learning f√ºr Eingaben, die Speicherzust√§nde darstellen, zum Laufen zu bringen. <br><br>  Dieses Projekt hat m√∂glicherweise keine L√∂sung.  Es w√§re unerwartet herauszufinden, dass Q-Learning in Atari niemals erfolgreich mit dem Ged√§chtnis arbeiten wird, aber es besteht die M√∂glichkeit, dass diese Aufgabe ziemlich schwierig wird. <br><br>  Angesichts der Tatsache, dass die Spiele auf Atari nur 128 b Speicher verwendeten, schien es sehr attraktiv, diese 128 b anstelle von Vollbildrahmen zu verarbeiten.  Ich habe gemischte Ergebnisse erzielt und angefangen, es herauszufinden. <br><br>  Und obwohl ich nicht beweisen kann, dass es unm√∂glich ist, aus dem Ged√§chtnis zu lernen, kann ich zeigen, dass die Annahme, dass das Ged√§chtnis den vollen Zustand des Spiels widerspiegelt, falsch ist.  Die Atari 2600-CPU (6507) verwendet 128 b Speicher, hat jedoch weiterhin Zugriff auf zus√§tzliche Register, die sich auf einem separaten Schaltkreis befinden (TIA, Adapter f√ºr ein Fernsehger√§t, so etwas wie eine GPU).  Diese Register werden zum Speichern und Verarbeiten von Informationen √ºber Objekte (Schl√§ger, Rakete, Ball, Kollision) verwendet.  Mit anderen Worten, sie sind nicht zug√§nglich, wenn wir nur die Erinnerung betrachten.  NES und Game Boy verf√ºgen au√üerdem √ºber zus√§tzliche Register, mit denen Sie den Bildschirm steuern und scrollen k√∂nnen.  Nur ein Speicher gibt nicht den vollst√§ndigen Status des Spiels wieder. <br><br>  Nur der 8080 speichert Daten direkt im Videospeicher, sodass Sie den vollst√§ndigen Status des Spiels extrahieren k√∂nnen.  In anderen F√§llen sind die "GPU" -Register au√üerhalb des RAM zwischen der CPU und dem Bildschirmpuffer verbunden. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0b9/d23/019/0b9d2301998c1cc9dcf414c36fe8e1e3.png"><br><br>  Eine interessante Tatsache: Wenn Sie die Geschichte der GPU untersuchen, ist der 8080 m√∂glicherweise der erste ‚ÄûGrafikbeschleuniger‚Äú - er verf√ºgt √ºber ein externes Schieberegister, mit dem Sie Space Invaders mit einem einzigen Befehl verschieben k√∂nnen, wodurch die CPU entlastet wird. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/HyzD8pNlpwI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br><img src="https://habrastorage.org/getpro/habr/post_images/899/16c/2d0/89916c2d015f8b881ec16411906ab2aa.png"><br>  Eof </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de435506/">https://habr.com/ru/post/de435506/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de435496/index.html">Tesla klagte wegen eines Unfalls, bei dem Fahrer und Beifahrer des Modells S starben</a></li>
<li><a href="../de435498/index.html">vCloud Director Extender: Migration</a></li>
<li><a href="../de435500/index.html">Biometrische Handschuhe im Motorsport</a></li>
<li><a href="../de435502/index.html">Die Studie enth√ºllte die Vor- und Nachteile des Perfektionismus</a></li>
<li><a href="../de435504/index.html">Handmonster im Kampf um Sauberkeit: Xiaomi manuelle Staubsaugerauswahl</a></li>
<li><a href="../de435508/index.html">Wie mache ich die besten Computer in Russland? Interview mit Artyom Smirnov von HYPERPC</a></li>
<li><a href="../de435510/index.html">Mikroelektronik, Neurophysiologie und maschinelles Lernen sch√ºtteln, aber nicht mischen</a></li>
<li><a href="../de435512/index.html">Royole Entwickler zeigen faltbares flexibles Smartphone</a></li>
<li><a href="../de435514/index.html">In Russland entwickeln sie einen Prozessor zur Beschleunigung neuronaler Netze</a></li>
<li><a href="../de435520/index.html">Wir schreiben unsere Programmiersprache, Teil 3: √úbersetzerarchitektur. Analyse von Sprachstrukturen und mathematischen Ausdr√ºcken</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>