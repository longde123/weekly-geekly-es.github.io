<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐จ๐ฟโ๐ป ๐๐ฝ ๐ฟ ูุง ูู ุงูุชุนุตุจ ุงูุตุงุฑู ูููุงุฐุง ููุชูุ ุงูุฌุฒุก 2 ๐ ๐ โบ๏ธ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="(ุฃู ูุชุงุจุฉ ุชูููู ุ ุณููู ุบุงูุถ ูุงููุญุงุฐุงุฉ ุ ูุง ุฅููู!) 

 ุฃููุง ุงูุฃุตุฏูุงุก ุ ูุง ูุชุจูู ุณูู ุงููููู ูู ุงูููุช ูุจู ุฅุทูุงู ุณูุณูุฉ ุฑุณุงุฆู ุฌุฏูุฏุฉ ูู ุงูุฏูุฑุฉ ุงูุชุฏุฑูุจูุฉ "C +...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ูุง ูู ุงูุชุนุตุจ ุงูุตุงุฑู ูููุงุฐุง ููุชูุ ุงูุฌุฒุก 2</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/443602/" style=";text-align:right;direction:rtl">  <b><i>(ุฃู ูุชุงุจุฉ ุชูููู ุ ุณููู ุบุงูุถ ูุงููุญุงุฐุงุฉ ุ ูุง ุฅููู!)</i></b> <br><br>  ุฃููุง ุงูุฃุตุฏูุงุก ุ ูุง ูุชุจูู ุณูู ุงููููู ูู ุงูููุช ูุจู ุฅุทูุงู ุณูุณูุฉ ุฑุณุงุฆู ุฌุฏูุฏุฉ ูู ุงูุฏูุฑุฉ ุงูุชุฏุฑูุจูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">"C ++ Developer"</a> .  ููุฏ ุญุงู ุงูููุช ููุดุฑ ุชุฑุฌูุฉ ููุฌุฒุก ุงูุซุงูู ูู ุงููุงุฏุฉ ุ ูุงูุชู ุชุญูู ุนู ูุง ุชูุชุจู ุงูุชูุฑูุฉ. <br><br>  <b>ูุง ูู ุงูุชูุฑูุฉ ุงููุตูุ</b> <br><br>  ููุฏ ูุตููุง ุฅูู ุงูููุทุฉ ุงูุชู ูุฏ ูุชุณุงุกู ูููุง ููุงุฐุง ูุฏ ูุญุชุงุฌ ุฅูู ุฃุณูุงุก ูุณุชุนุงุฑุฉ ุนูู ุงูุฅุทูุงูุ  ุนุงุฏุฉ ูุชูููุฐ ุงูุชูุฑูุฉ ุงููุชุงุจุฉ ุ ุงููุนุงุฑู ุงูุชูููุฏูุฉ.  ุงูุฃุณุงููุจ ุงููุณุชุฎุฏูุฉ ุจูุซุฑุฉ ุชูุชูู ููุงุนุฏ ุงูุชุนุฑุฌุงุช ุงูุตุงุฑูุฉ. <br><br><img src="https://habrastorage.org/webt/dz/u-/cd/dzu-cdwp2tjct7bc-stnxfnptpe.png"><br><br>  ูู ุจุนุถ ุงูุฃุญูุงู ุ ูุฑูุฏ ุงูุงูุชูุงู ุนูู ูุธุงู ุงููุชุงุจุฉ ูุชูุณูุฑ ุงููุงุฆู ูููุน ุขุฎุฑ.  ุฅุนุงุฏุฉ ุชูุณูุฑ ูุทุนุฉ ุงูุฐุงูุฑุฉ ูููุน ุขุฎุฑ ูุณูู ููุน <i>ุงูุชูุฑูุฉ ุงูุชูุฑูุฉ</i> .  ุชุนุฏ ูุชุงุจุฉ ุงูุชูุฑูุฉ ูููุฏุฉ ููููุงู ุงูุชู ุชุชุทูุจ ุงููุตูู ุฅูู ุงูุชูุซูู ุงูุฃุณุงุณู ููุงุฆู ูุนุฑุถ ุงูุจูุงูุงุช ุงูููุฏูุฉ ุฃู ููููุง ุฃู ูุนุงูุฌุชูุง.  ุงูููุงุทู ุงููููุฐุฌูุฉ ุงูุชู ูููููุง ูู ุฎูุงููุง ููุงุฌูุฉ ุงุณุชุฎุฏุงู ุงูุชูุฑูุฉ ูู ุงููุชุงุจุฉ: ุงููุชุฑุฌููู ุ ุงูุชุณูุณู ุ ุฑูุฒ ุงูุดุจูุฉ ุ ุฅูุฎ. <a name="habracut"></a><br>  ุชูููุฏููุง ุ ุชู ุชุญููู ุฐูู ุนู ุทุฑูู ุฃุฎุฐ ุนููุงู ุงููุงุฆู ุ ูุฅููุงุฆู ุนูู ูุคุดุฑ ุฅูู ุงูููุน ุงูุฐู ูุฑูุฏ ุฃู ูุชุฑุฌู ุฅููู ุ ุซู ุงููุตูู ุฅูู ุงููููุฉ ุ ุฃู ุจูุนูู ุขุฎุฑ ุ ุงุณุชุฎุฏุงู ุงูุฃุณูุงุก ุงููุณุชุนุงุฑุฉ.  ุนูู ุณุจูู ุงููุซุงู: <br><br><pre style=";text-align:right;direction:rtl"><code class="bash hljs">int x = 1 ; //   C <span class="hljs-built_in"><span class="hljs-built_in">float</span></span> *fp = (<span class="hljs-built_in"><span class="hljs-built_in">float</span></span>*)&amp;x ; //   //  C++ <span class="hljs-built_in"><span class="hljs-built_in">float</span></span> *fp = reinterpret_cast&lt;<span class="hljs-built_in"><span class="hljs-built_in">float</span></span>*&gt;(&amp;x) ; //   <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>( โ%f\nโ, *fp ) ;</code> </pre> <br>  ููุง ุฑุฃููุง ูู ููุช ุณุงุจู ุ ูุฐุง ูู ุงูุชุนุฑุฌุงุช ุบูุฑ ููุจููุฉ ุ ููุฐุง ุณูู ูุณุจุจ ุณููู ุบูุฑ ูุญุฏุฏ.  ููู ุชูููุฏููุง ุ ูู ูุณุชุฎุฏู ุงููุชุฑุฌููู ููุงุนุฏ ุตุงุฑูุฉ ููุชุณููุท ุ ููุงู ูุฐุง ุงูููุน ูู ุงูุฃููุงุฏ ูุนูู ุนุงุฏุฉู ููุท ุ ูุงููุณุชุฎุฏููู ุ ููุฃุณู ุ ูุนุชุงุฏูู ุนูู ุงูุณูุงุญ ุจูุซู ูุฐู ุงูุฃุดูุงุก.  ููุงู ุทุฑููุฉ ุดุงุฆุนุฉ ุจุฏููุฉ ููุชุงุจุฉ ุงููููุงุช ูู ูู ุฎูุงู ุงูุงุชุญุงุฏ ุ ููู ุตุงูุญุฉ ูู C ุ ูููููุง ุณุชุชุณุจุจ ูู ุณููู ุบูุฑ ูุญุฏุฏ ูู C ++ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุธุฑ ุงููุซุงู</a> ): <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">union u1 { int n; <span class="hljs-built_in"><span class="hljs-built_in">float</span></span> f; } ; union u1 u; uf = 1.0f; <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>( <span class="hljs-string"><span class="hljs-string">"%d\nโ, un ); // UB(undefined behaviour)  C++ โn is not the active memberโ</span></span></code> </pre> <br>  ูุฐุง ุบูุฑ ููุจูู ูู C ++ ุ ููุนุชูุฏ ุงูุจุนุถ ุฃู ุงูููุงุจุงุช ูุฎุตุตุฉ ููุท ูุชูููุฐ ุฃููุงุน ูุชุจุงููุฉ ุ ููุฑูู ุฃู ุงุณุชุฎุฏุงู ุงูููุงุจุงุช ููุชุงุจุฉ ุงูุชูุฑูุฉ ูุนุชุจุฑ ุฅุณุงุกุฉ. <br><br>  <b>ููููุฉ ุชูููุฐ ูุนุจุฉ ุงููููุงุชุ</b> <br><br>  ุงูุทุฑููุฉ ุงููุจุงุฑูุฉ ุงูููุงุณูุฉ ููุชุงุจุฉ ุงูุชูุฑูุฉ ูู C ู C ++ ูู memcpy.  ูุฏ ูุจุฏู ูุฐุง ุงูุฃูุฑ ูุนูุฏูุง ุจุนุถ ุงูุดูุก ุ ููู ุงููุญุณู ุจุญุงุฌุฉ ุฅูู ุงูุชุนุฑู ุนูู ุงุณุชุฎุฏุงู memcpy ููุชูุฑูุฉ ูุชุญุณููู ูุฅูุดุงุก ุณุฌู ูุชุณุฌูู ุงูุฎุทูุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ุนูููุง ุฃู int64_t ูู ููุณ ุญุฌู ุงููุถุงุนูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">static_assert( sizeof( double ) == sizeof( int64_t ) ); // C++17   </code> </pre> <br>  ูููููุง ุงุณุชุฎุฏุงู <code>memcpy</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">void func1( double d ) { std::int64_t n; std::memcpy(&amp;n, &amp;d, sizeof d); //โฆ</code> </pre><br>  ูุน ูุฌูุฏ ูุณุชูู ูุงูู ูู ุงูุชุญุณูู ุ ูููู ุฃู ูุชุฑุฌู ุญุฏูุซ ูุงุฆู ุจุฅูุดุงุก ููุฏ ููุงุซู ูุทุฑููุฉ reinterpret_cast ุงููุฐููุฑุฉ ุณุงุจููุง ุฃู ุทุฑููุฉ ุงูุตูุฉ ููุญุตูู ุนูู ุงูุชูุฑูุฉ.  ุฏุฑุงุณุฉ ุงูููุฏ ุงูุฐู ุชู ุฅูุดุงุคู ุ ูุฑู ุฃูู ูุณุชุฎุฏู ููุท ุณุฌู mov ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุซุงู</a> ). <br><br>  <b>ุฃููุงุน ุงูุชูุฑูุฉ ูุงููุตูููุงุช</b> <br><br>  ูููู ูุงุฐุง ูู ุฃุฑุฏูุง ุชุทุจูู ุงูุชูุฑูุฉ ูุตููู char ุบูุฑ ูููููุน ูู ุณูุณูุฉ ูู int ุบูุฑ ุงููููููุนุฉ ุซู ุฅุฌุฑุงุก ุนูููุฉ ุนูู ูู ูููุฉ int ุบูุฑ ูููุนุฉุ  ูููููุง ุงุณุชุฎุฏุงู memcpy ูุชุญููู ูุตูููุฉ char ุบูุฑ ูููุนุฉ ุฅูู ููุน int ุบูุฑ ูุฌุฒุฃ ูุคูุช.  ุณูุธู ุงููุญุณู ูุงุฏุฑูุง ุนูู ุฑุคูุฉ ูู ุดูุก ูู ุฎูุงู memcpy ูุชุญุณูู ูู ูู ุงููุงุฆู ุงููุคูุช ูุงููุณุฎุฉ ุ ูุงูุนูู ูุจุงุดุฑุฉ ูุน ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุซุงู</a> ): <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">//  ,    int foo( unsigned int x ) { <span class="hljs-built_in"><span class="hljs-built_in">return</span></span> x ; } // ,  len  sizeof(unsigned int) int bar( unsigned char *p, size_t len ) { int result = 0; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>( size_t index = 0; index &lt; len; index += sizeof(unsigned int) ) { unsigned int ui = 0; std::memcpy( &amp;ui, &amp;p[index], sizeof(unsigned int) ); result += foo( ui ) ; } <span class="hljs-built_in"><span class="hljs-built_in">return</span></span> result; }</code> </pre><br>  ูู ูุฐุง ุงููุซุงู ุ ูุฃุฎุฐ <code>char*p</code> ุ ููุชุฑุถ ุฃูู ูุดูุฑ ุฅูู ุนุฏุฉ ุฃุฌุฒุงุก ูู ุจูุงูุงุช <code>sizeof(unsigned int)</code> ุ ูุชูุณูุฑ ูู ุฌุฒุก ูู ุงูุจูุงูุงุช ุนูู ุฃูู <code>unsigned int</code> ุ ูุญุณุงุจ <code>foo()</code> ููู ุฌุฒุก ูู ุงูุชูุฑูุฉ ุ ูููุฎุตูุง ูู ุงููุชูุฌุฉ ุ ููุนูุฏ ุงููููุฉ ุงูููุงุฆูุฉ . <br><br>  ููุถุญ ุงูุชุฌููุน ููููู ุงูุญููุฉ ุฃู ุงููุญุณูู ูุญูู ุงูุฌุณู ุฅูู ูุตูู ูุจุงุดุฑ ุฅูู ุตููู ูุงุนุฏุฉ <code>unsigned char</code> ุจุงุนุชุจุงุฑู <code>unsigned int</code> ุ <code>eax</code> ูุจุงุดุฑุฉู ุฅูู <code>eax</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">add eax, dword ptr [rdi + rcx]</code> </pre> <br>  ููุณ ุงูููุฏ ุ ูููู ุจุงุณุชุฎุฏุงู <code>reinterpret_cast</code> ูุชูููุฐ ุงูุชูุฑูุฉ (ููุชูู ุงูุชุนุงุจูุฑ ุงูุตุงุฑูุฉ): <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">// ,  len  sizeof(unsigned int) int bar( unsigned char *p, size_t len ) { int result = 0; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>( size_t index = 0; index &lt; len; index += sizeof(unsigned int) ) { unsigned int ui = *reinterpret_cast&lt;unsigned int*&gt;(&amp;p[index]); result += foo( ui ); } <span class="hljs-built_in"><span class="hljs-built_in">return</span></span> result; }</code> </pre> <br>  <b>C ++ 20 ู bit_cast</b> <br><br>  ูู C ++ 20 ุ ูุฏููุง <code>bit_cast</code> ุ ูุงูุฐู ูููุฑ ุทุฑููุฉ ุณููุฉ ูุขููุฉ ููุชุฑุฌูุฉ ุ ููููู ุงุณุชุฎุฏุงูู ุฃูุถูุง ูู ุณูุงู <code>constexpr</code> . <br><br>  ุงูุชุงูู ูุซุงู ุนู ููููุฉ ุงุณุชุฎุฏุงู <code>bit_cast</code> ูุชูุณูุฑ ุนุฏุฏ ุตุญูุญ ุบูุฑ <code>bit_cast</code> ูู <code>float</code> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุซุงู</a> ): <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">std::cout &lt;&lt; bit_cast&lt;<span class="hljs-built_in"><span class="hljs-built_in">float</span></span>&gt;(0x447a0000) &lt;&lt; <span class="hljs-string"><span class="hljs-string">"\n"</span></span> ; //,  sizeof(<span class="hljs-built_in"><span class="hljs-built_in">float</span></span>) == sizeof(unsigned int)</code> </pre> <br>  ูู ุญุงูุฉ ุนุฏู ูุฌูุฏ ููุณ ุงูุญุฌู ุจูู ุงูุฃููุงุน ูู ูุฅูู ุ ูุฅู ูุฐุง ูุชุทูุจ ููุง ุงุณุชุฎุฏุงู ุจููุฉ ูุณูุทุฉ.  ุณูุณุชุฎุฏู ุจููุฉ ุชุญุชูู ุนูู ุตููู ุฃุญุฑู ูุชุนุฏุฏุฉ ูู <code>sizeof(unsigned int)</code> (ููุชุฑุถ int 4-ุจุงูุช ุบูุฑ ูููุนุฉ) ูููุน ูู ุ ู <code>unsigned int</code> ูู ุฅูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">struct uint_chars { unsigned char arr[sizeof( unsigned int )] = {} ; //  sizeof( unsigned int ) == 4 }; //  len  4 int bar( unsigned char *p, size_t len ) { int result = 0; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>( size_t index = 0; index &lt; len; index += sizeof(unsigned int) ) { uint_chars f; std::memcpy( f.arr, &amp;p[index], sizeof(unsigned int)); unsigned int result = bit_cast&lt;unsigned int&gt;(f); result += foo( result ); } <span class="hljs-built_in"><span class="hljs-built_in">return</span></span> result ; }</code> </pre> <br>  ูุณูุก ุงูุญุธ ุ ูุญู ุจุญุงุฌุฉ ุฅูู ูุฐุง ุงูููุน ุงููุณูุท - ููุฐุง ูู ุงูุญุฏ ุงูุญุงูู <code>bit_cast</code> . <br><br>  <b>ูุญุงุฐุงุฉ</b> <br><br>  ูู ุงูุฃูุซูุฉ ุงูุณุงุจูุฉ ุ ุฑุฃููุง ุฃู ุงูุชูุงู ููุงุนุฏ ุงูุชุนุฑุฌุงุช ุงูุตุงุฑูุฉ ูููู ุฃู ูุคุฏู ุฅูู ุงุณุชุจุนุงุฏ ุงูุชุฎุฒูู ุฃุซูุงุก ุงูุชุญุณูู.  ูููู ุฃู ูุคุฏู ุงูุชูุงู ุงูุชุนุฑุฌุงุช ุงูุตุงุฑูุฉ ุฃูุถูุง ุฅูู ุงูุชูุงู ูุชุทูุจุงุช ุงูุชูุงูู.  ูููู ูู ูู ูุนุงููุฑ C ู C ++ ุฃู ุงููุงุฆูุงุช ุชุฎุถุน ููุชุทูุจุงุช ุงููุญุงุฐุงุฉ ุงูุชู ุชุญุฏ ูู ุงูููุงู ุงูุฐู ูููู ูุถุน ุงููุงุฆูุงุช ููู (ูู ุงูุฐุงูุฑุฉ) ูุจุงูุชุงูู ูููู ุงููุตูู ุฅูููุง.  <i>C11 ุงููุณู 6.2.8 ูุญุงุฐุงุฉ ุญุงูุงุช ุงููุงุฆูุงุช</i> : <br><br>  ุชุญุชูู ุงูุฃููุงุน ุงููุงููุฉ ูู ุงููุงุฆูุงุช ุนูู ูุชุทูุจุงุช ูุญุงุฐุงุฉ ุชูุฑุถ ูููุฏูุง ุนูู ุงูุนูุงููู ุงูุชู ูููู ูุถุน ูุงุฆูุงุช ูู ูุฐุง ุงูููุน ุนูููุง.  ุงููุญุงุฐุงุฉ ูู ูููุฉ ุนุฏุฏูุฉ ูุนุฑูุฉ ุจุงูุชูููุฐ ูุงูุชู ุชูุซู ุนุฏุฏ ุงูุจุงูุชุงุช ุจูู ุงูุนูุงููู ุงููุชุชุงููุฉ ุงูุชู ูููู ูุถุน ูุฐุง ุงููุงุฆู ูููุง.  ููุฑุถ ููุน ุงููุงุฆู ูุชุทูุจุงุช ูุญุงุฐุงุฉ ุนูู ูู ูุงุฆู ูู ูุฐุง ุงูููุน: ูููู ุทูุจ ูุญุงุฐุงุฉ ุฃูุซุฑ ุตุฑุงูุฉ ุจุงุณุชุฎุฏุงู <code>_Alignas</code> . <br><br>  <b>ูุนูุงุฑ ูุดุฑูุน C ++ 17 ูู ุงููุณู 1 [basic.align]</b> : <br><br>  ูุฃููุงุน ุงููุงุฆูุงุช ูุชุทูุจุงุช ูุญุงุฐุงุฉ (6.7.1 ุ 6.7.2) ุชูุฑุถ ูููุฏูุง ุนูู ุงูุนูุงููู ุงูุชู ูููู ูุถุน ูุงุฆู ูู ูุฐุง ุงูููุน ุนูููุง.  ุงููุญุงุฐุงุฉ ูู ูููุฉ ุนุฏุฏูุฉ ูุนุฑูุฉ ุจุงูุชูููุฐ ูุงูุชู ุชูุซู ุนุฏุฏ ุงูุจุงูุชุงุช ุจูู ุงูุนูุงููู ุงููุชุชุงููุฉ ุงูุชู ูููู ุนูุฏูุง ูุถุน ูุงุฆู ูุนูู.  ููุน ุงููุงุฆู ููุฑุถ ุดุฑุท ูุญุงุฐุงุฉ ุนูู ูู ูุงุฆู ูู ูุฐุง ุงูููุน ุ  ูููู ุทูุจ ูุญุงุฐุงุฉ ุฃูุซุฑ ุตุฑุงูุฉ ุจุงุณุชุฎุฏุงู ูุญุฏุฏ ุงููุญุงุฐุงุฉ (10.6.2). <br><br>  ูุดูุฑ ูู ูู C99 ู C11 ุจุดูู ุตุฑูุญ ุฅูู ุฃู ุงูุชุญููู ุงูุฐู ููุชุฌ ุนูู ูุคุดุฑ ุบูุฑ ูุญุงูุฏ ูู ุณููู ุบูุฑ ูุญุฏุฏ ุ ุงููุณู 6.3.2.3.  <i>ุงููุคุดุฑุงุช</i> ุชููู: <br><blockquote style=";text-align:right;direction:rtl">  ูููู ุชุญููู ูุคุดุฑ ุฅูู ูุงุฆู ุฃู ููุน ุฌุฒุฆู ุฅูู ูุคุดุฑ ุฅูู ูุงุฆู ุขุฎุฑ ุฃู ููุน ุฌุฒุฆู.  ุฅุฐุง ูู ูุชู ูุญุงุฐุงุฉ ุงููุคุดุฑ ุงููุงุชุฌ ุจุดูู ุตุญูุญ ูููุน ุงููุคุดุฑ ุ ูุฅู ุงูุณููู ุบูุฑ ูุนุฑู.  ... <br></blockquote>  ุนูู ุงูุฑุบู ูู ุฃู C ++ ููุณุช ูุงุถุญุฉ ุ ุฃุนุชูุฏ ุฃู ูุฐู ุงูุฌููุฉ ูู ุงูููุฑุฉ 1 <code>[basic.align]</code> ูุงููุฉ: <br><blockquote style=";text-align:right;direction:rtl">  ... ููุน ุงููุงุฆู ููุฑุถ ุดุฑุท ูุญุงุฐุงุฉ ุนูู ูู ูุงุฆู ูู ูุฐุง ุงูููุน ุ  ... </blockquote>  <i><b>ูุซุงู</b></i> <br><br>  ูุฐูู ุฏุนููุง ููุชุฑุถ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  alignof (char) ู alignof (int) ููุง 1 ู 4 ุนูู ุงูุชูุงูู </li><li style=";text-align:right;direction:rtl">  sizeof (int) ูู 4 </li></ul><br>  ูุจุงูุชุงูู ุ ูุฅู ุชูุณูุฑ ุตููู char ุจุญุฌู 4 ุนูู ุฃูู <code>int</code> ููุชูู ุงูุชุนุฑุฌุงุช ุงูุตุงุฑูุฉ ุ ููุฏ ููุชูู ุฃูุถูุง ูุชุทูุจุงุช ุงููุญุงุฐุงุฉ ุฅุฐุง ูุงู ููุตููู ูุญุงุฐุงุฉ 1 ุฃู 2 ุจุงูุช. <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">char arr[4] = { 0x0F, 0x0, 0x0, 0x00 }; //        1  2  int x = *reinterpret_cast&lt;int*&gt;(arr); // Undefined behavior  </code> </pre> <br>  ููุง ูุฏ ูุคุฏู ุฅูู ุงูุฎูุงุถ ุงูุฃุฏุงุก ุฃู ุฎุทุฃ ูุงูู ูู ุจุนุถ ุงูุญุงูุงุช.  ูู ุญูู ุฃู ุงุณุชุฎุฏุงู ุงููุญุงุฐุงุฉ ููุฑุถ ููุณ ุงููุญุงุฐุงุฉ ูุตููู ูู int ุณูููุน ูุชุทูุจุงุช ุงููุญุงุฐุงุฉ ูู ุงูุงูููุงุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">alignas(alignof(int)) char arr[4] = { 0x0F, 0x0, 0x0, 0x00 }; int x = *reinterpret_cast&lt;int*&gt;(arr);</code> </pre> <br>  <i><b>ุงูุฐุฑูุฉ</b></i> <br><br>  ุนูุงุจ ุขุฎุฑ ุบูุฑ ูุชููุน ูููุตูู ุบูุฑ ุงููุชูุงุฒู ูู ุฃูู ููุชูู atomicity ุจุนุถ ุงููุจุงูู.  ูุฏ ูุง ุชุธูุฑ ุงููุฎุงุฒู ุงูุฐุฑูุฉ ุฐุฑูุฉ ููุคุดุฑุงุช ุงูุชุฑุงุจุท ุงูุฃุฎุฑู ูู x86 ุฅุฐุง ูู ุชูู ูุญุงุฐุงุฉ. <br><br>  <b>ุงุตุทูุงุฏ ุงูุงูุชูุงูุงุช ุงูุตุงุฑูุฉ</b> <br><br>  ููุณ ูุฏููุง ุงูุนุฏูุฏ ูู ุงูุฃุฏูุงุช ุงูุฌูุฏุฉ ูุชุชุจุน ุงูุชุนุฑุฌุงุช ุงูุตุงุฑูุฉ ูู C ++.  ุงูุฃุฏูุงุช ุงูุชู ูุฏููุง ุณูู ููุงุญุธ ุจุนุถ ุญุงูุงุช ุงูุงูุชูุงูุงุช ูุจุนุถ ุญุงูุงุช ุงูุชุญููู ูุงูุชุฎุฒูู ุบูุฑ ุงูููุงุณุจูู. <br><br>  ูููู ูู gcc ุจุงุณุชุฎุฏุงู <code>-fstrict-aliasing</code> ู <code>-Wstrict-aliasing</code> ุงูุชูุงุท ุจุนุถ ุงูุญุงูุงุช ุ ุนูู ุงูุฑุบู ูู ุฃู ุฐูู ูุง ูุฎูู ูู ุงูุฅูุฌุงุจูุงุช / ุงููุดููุงุช ุงูุฎุงุทุฆุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุณุชูุดุฆ ุงูุญุงูุงุช ุงูุชุงููุฉ ุชุญุฐูุฑูุง ูู gcc ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุซุงู</a> ): <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">int a = 1; short j; <span class="hljs-built_in"><span class="hljs-built_in">float</span></span> f = 1.f; //   ,   TIS ,         <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"%i\n"</span></span>, j = *(reinterpret_cast&lt;short*&gt;(&amp;a))); <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"%i\n"</span></span>, j = *(reinterpret_cast&lt;int*&gt;(&amp;f)));</code> </pre> <br>  ุนูู ุงูุฑุบู ูู ุฃูู ูู ููุชูุท ูุฐู ุงูุญุงูุฉ ุงูุฅุถุงููุฉ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุซุงู</a> ): <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">int *p; p=&amp;a; <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"%i\n"</span></span>, j = *(reinterpret_cast&lt;short*&gt;(p)));</code> </pre><br>  ุนูู ุงูุฑุบู ูู ุฃู <code>clang</code> ูุญู ูุฐู ุงูุฃุนูุงู ุ ุฅูุง ุฃูู ูุง ูุจุฏู ุฃูู ูููู ุจุงููุนู ุจุชูููุฐ ุงูุชุญุฐูุฑ. <br><br>  ุฃุฏุงุฉ ุฃุฎุฑู ูุฏููุง ูู ASan ุ ูุงูุชู ูููููุง ุงูุชูุงุท ูุชุฎุฒูู ูุญุงุฐุงุฉ ุจุทุฑููุฉ ุฎุงุทุฆุฉ.  ุนูู ุงูุฑุบู ูู ุฃููุง ููุณุช ุงูุชูุงูุงุช ูุจุงุดุฑุฉ ููุชุนุฑุฌ ุงูุตุงุฑู ุ ุฅูุง ุฃููุง ูุชูุฌุฉ ุดุงุฆุนุฉ ุฅูู ุญุฏ ูุง.  ุนูู ุณุจูู ุงููุซุงู ุ ุณุชูุดุฆ ุงูุญุงูุงุช ุงูุชุงููุฉ ุฃุฎุทุงุก ููุช ุงูุชุดุบูู ุฃุซูุงุก ุงูุชุฌููุน ุจุงุณุชุฎุฏุงู <code>-fsanitize=address</code> ุจุงุณุชุฎุฏุงู <code>-fsanitize=address</code> <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">int *x = new int[2]; // 8 : [0,7]. int *u = (int*)((char*)x + 6); //     x    *u = 1; //    [6-9] <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>( <span class="hljs-string"><span class="hljs-string">"%d\n"</span></span>, *u ); //    [6-9]</code> </pre> <br>  ุงูุฃุฏุงุฉ ุงูุฃุฎูุฑุฉ ุงูุชู ุฃูุตู ุจูุง ูู ุฎุงุตุฉ ุจู C ++ ุ ููู ุงููุงูุน ุ ููุณุช ููุท ุฃุฏุงุฉ ุ ูููู ุฃูุถูุง ููุงุฑุณุฉ ุชุดููุฑ ูุง ุชุณูุญ <code>-Wold-style-cast</code> ูู ูู <code>gcc</code> ู <code>clang</code> ุจุฅุฌุฑุงุก ุชุดุฎูุตุงุช <code>-Wold-style-cast</code> ุจุงุณุชุฎุฏุงู <code>-Wold-style-cast</code> .  ุณูุคุฏู ุฐูู ุฅูู ูุฑุถ ุฃู ุชูุฑูุฉ ูุชุงุจุฉ ุบูุฑ ูุญุฏุฏุฉ ูุงุณุชุฎุฏุงู reinterpret_cast.  ุจุดูู ุนุงู ุ ูุฌุจ ุฃู ุชููู <code>reinterpret_cast</code> ููุงุฑุฉ ูุชุญููู ุงูุดูุฑุฉ ุจุดูู ุฃูุซุฑ ุดูููุงู. <br>  ูู ุงูุฃุณูู ุฃูุถูุง ุงูุจุญุซ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุนู <code>reinterpret_cast</code> ูุฅุฌุฑุงุก ูุฑุงุฌุนุฉ. <br><br>  ุจุงููุณุจุฉ ุฅูู C ุ ูุฏููุง ุฌููุน ุงูุฃุฏูุงุช ุงูููุถุญุฉ ุจุงููุนู ุ ููุฏููุง ุฃูุถูุง <code>tis-interpreter</code> ุ ููู ูุญูู ุซุงุจุช ูููู ุจุชุญููู ุดุงูู ููุจุฑูุงูุฌ ููุฌููุนุฉ ูุฑุนูุฉ ูุจูุฑุฉ ูู C. ูุจุงููุธุฑ ุฅูู ุฅุตุฏุงุฑุงุช C ูู ุงููุซุงู ุงูุณุงุจู ุ ุญูุซ ูุชุฎุทู ุงุณุชุฎุฏุงู - ุงูุชุนุฑุฌ ุงูุฏููู - ุญุงูุฉ ูุงุญุฏุฉ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุซุงู</a> ) <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">int a = 1; short j; <span class="hljs-built_in"><span class="hljs-built_in">float</span></span> f = 1.0 ; <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"%i\n"</span></span>, j = *((short*)&amp;a)); <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"%i\n"</span></span>, j = *((int*)&amp;f)); int *p; p=&amp;a; <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"%i\n"</span></span>, j = *((short*)p));</code> </pre><br>  ูููู ููุชุฑุฌู TIS ุงุนุชุฑุงุถ ุงูุซูุงุซุฉ ุ ูุงููุซุงู ุงูุชุงูู ูุณุชุฏุนู TIS kernel ููุชุฑุฌู TIS (ูุชู ุชุญุฑูุฑ ุงูุฅุฎุฑุงุฌ ููุฅูุฌุงุฒ): <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">./bin/tis-kernel -sa example1.c ... example1.c:9:[sa] warning: The pointer (short *)(&amp; a) has <span class="hljs-built_in"><span class="hljs-built_in">type</span></span> short *. It violates strict aliasing rules by accessing a cell with effective <span class="hljs-built_in"><span class="hljs-built_in">type</span></span> int. ... example1.c:10:[sa] warning: The pointer (int *)(&amp; f) has <span class="hljs-built_in"><span class="hljs-built_in">type</span></span> int *. It violates strict aliasing rules by accessing a cell with effective <span class="hljs-built_in"><span class="hljs-built_in">type</span></span> <span class="hljs-built_in"><span class="hljs-built_in">float</span></span>. Callstack: main ... example1.c:15:[sa] warning: The pointer (short *)p has <span class="hljs-built_in"><span class="hljs-built_in">type</span></span> short *. It violates strict aliasing rules by accessing a cell with effective <span class="hljs-built_in"><span class="hljs-built_in">type</span></span> int.</code> </pre> <br>  ูุฃุฎูุฑุง ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">TySan</a> ุ ูุงูุชู ูู ููุฏ ุงูุชุทููุฑ.  ูุถูู ูุฐุง ุงููุทูุฑ ูุนูููุงุช ุงูุชุญูู ูู ุงูููุน ุฅูู ุดุฑูุญุฉ ุฐุงูุฑุฉ ุงูุธู ููุชุญูู ูู ุงููุตูู ูุชุญุฏูุฏ ูุง ุฅุฐุง ูุงูุช ุชูุชูู ููุงุนุฏ ุงูุงุณู ุงููุณุชุนุงุฑ.  ูู ุงููุญุชูู ุฃู ุชููู ุงูุฃุฏุงุฉ ูุงุฏุฑุฉ ุนูู ุชุชุจุน ุฌููุน ุงูุชูุงูุงุช ุงูุฃุณูุงุก ุงููุณุชุนุงุฑุฉ ุ ูููู ูุฏ ูููู ููุง ุญูู ูุจูุฑ ูู ููุช ุงูุชุดุบูู. <br><br>  <b>ุงุณุชูุชุงุฌ</b> <br><br>  ููุฏ ุชุนูููุง ุนู ุงูุฃุณูุงุก ุงููุณุชุนุงุฑุฉ ููููุงุนุฏ ูู C ู C ++ ุ ููุง ูุนูู ุฃู ุงููุชุฑุฌู ูุชููุน ููุง ุงุชุจุงุน ูุฐู ุงูููุงุนุฏ ุจุตุฑุงูุฉ ููุจูู ุนูุงูุจ ุนุฏู ุงูููุงุก ุจูุง.  ููุฏ ุนูููุง ุจุจุนุถ ุงูุฃุฏูุงุช ุงูุชู ูููู ุฃู ุชุณุงุนุฏูุง ูู ุชุญุฏูุฏ ุจุนุถ ุฅุณุงุกุฉ ุงุณุชุฎุฏุงู ุงูุงุณู ุงููุณุชุนุงุฑ.  ููุฏ ุฑุฃููุง ุฃู ุงูุงุณุชุฎุฏุงู ุงููุนุชุงุฏ ููุชุนุฑุฌ ูู ูุนุจุฉ ุงููููุงุช.  ููุฏ ุชุนูููุง ุฃูุถูุง ููููุฉ ุชูููุฐู ุจุดูู ุตุญูุญ. <br><br>  ูุนูู ุงููุญุณูููู ุชุฏุฑูุฌูุงู ุนูู ุชุญุณูู ุชุญููู ุงูุงุณู ุงููุณุชุนุงุฑ ุงููุงุฆู ุนูู ุงูููุน ููููููู ุจุงููุนู ุจุงุฎุชุฑุงู ุจุนุถ ุงูุฃููุงุฏ ุงูุชู ุชุณุชูุฏ ุฅูู ุงูุชูุงูุงุช ุงูุชุนุฑุฌุงุช ุงูุตุงุฑูุฉ.  ูููููุง ุฃู ูุชููุน ุฃู ุชุชุญุณู ุงูุชุญุณููุงุช ูุชูุณุฑ ุงููุฒูุฏ ูู ุงูุฃููุงุฏ ุงูุชู ุนููุช ูู ูุจู. <br><br>  ูุฏููุง ุทุฑู ูุชูุงููุฉ ููุงุณูุฉ ุฌุงูุฒุฉ ูุชูุณูุฑ ุงูุฃููุงุน.  ูู ุจุนุถ ุงูุฃุญูุงู ูุจููุงุช ุงูุชุตุญูุญ ูุฌุจ ุฃู ุชููู ูุฐู ุงูุฃุณุงููุจ ูุฌุฑุฏุฉ ุญุฑุฉ.  ูุฏููุง ุงูุนุฏูุฏ ูู ุงูุฃุฏูุงุช ูููุดู ุนู ุงูุชูุงูุงุช ุงูุชุนุฑุฌุงุช ุงูุดุฏูุฏุฉ ุ ููู ุจุงููุณุจุฉ ุฅูู ุงูุฅุตุฏุงุฑ C ++ ุ ูุฅููู ุณูุดุงูุฏูู ุฌุฒุกูุง ุตุบูุฑูุง ููุท ูู ุงูุญุงูุงุช ุ ูุจุงููุณุจุฉ ูู C ุจุงุณุชุฎุฏุงู ูุชุฑุฌู tis ุ ูููููุง ุชุชุจุน ูุนุธู ุงูุงูุชูุงูุงุช. <br><br>  ุดูุฑูุง ูุฃููุฆู ุงูุฐูู ุนูููุง ุนูู ูุฐุง ุงูููุงู: ุฌ. ู. ุจุงุณุชูู ุ ูุฑูุณุชููุฑ ุฏู ุจููุง ุ ุจุงุณูุงู ูููู ุ ูุงุช ุจ. ุฏุฒููุจููุณูู ุ ุจุงุชุฑูุณ ุฑูู ูุฃููุงููุฑ ูุงุฌู <br>  ุจุงูุทุจุน ุ ูู ุงูููุงูุฉ ุ ูู ุงูุฃุฎุทุงุก ุชุนูุฏ ุฅูู ุงููุคูู. <br><br>  ูุฐูู ุงูุชูุช ุชุฑุฌูุฉ ูุงุฏุฉ ูุจูุฑุฉ ุฅูู ุญุฏ ูุง ุ ูููู ูุฑุงุกุฉ ุงูุฌุฒุก ุงูุฃูู ูููุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> .  ููุญู ูุฏุนูู ุนุงุฏุฉ ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูููู ุงูููุชูุญ</a> ุ ุงูุฐู ุณูุนูุฏ ูู 14 ูุงุฑุณ ูู ูุจู ุฑุฆูุณ ูุณู ุชุทููุฑ ุงูุชูููููุฌูุง ูู Rambler &amp; Co - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Dmitry Shebordaev.</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><br></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar443602/">https://habr.com/ru/post/ar443602/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar443588/index.html">ุฃุณุชุงุฐ ูุนูุฏ ูุงุณุงุชุดูุณุชุณ ููุชูููููุฌูุง ููุดู ุงูููุงุจ ุนู ูุณุชูุจู ุงูุฃุทุฑุงู ุงูุงุตุทูุงุนูุฉ ูู TED</a></li>
<li><a href="../ar443592/index.html">ูุนูุงุฑ RFID ูููุงุฌูุฉ ุงูุฃูุงููุฉ ISO 11785 ูู ุฌูุงุฒ ุงุณุชูุจุงู FM ูุฏูู ูุญุทุงู ุงููุตุนุฏ</a></li>
<li><a href="../ar443594/index.html">ููุชุฑู ุทุฑู ุงูุงุฎุชุจุงุฑ ูุงูููุฏุณุฉ ุงููุนูุงุฑูุฉ: ููุงุจูุฉ ูุน ููู ููุฑุฏ</a></li>
<li><a href="../ar443598/index.html">ููุงู ุฅุจุทุงู ุฌูุงุนู ูุดูุงุฏุงุช TLS ูู ุงูุนุฏูุฏ ูู ุงููุฑุงุฌุน ุงููุตุฏูุฉ ุ ุงูุชู ุชู ุฅูุดุงุคูุง ุนู ุทุฑูู ุงูุฎุทุฃ ุนูู RNG 63 ุจุช ุจุฏูุงู ูู 64 ุจุช</a></li>
<li><a href="../ar443600/index.html">ุฃูุถู ูุฃุณูุฃ ุงูุงุชุฌุงูุงุช ูู MWC 2019</a></li>
<li><a href="../ar443604/index.html">ุฃูู ููุจุงูู: ูุงูุงุซูู ูู ุฃูุฒูู</a></li>
<li><a href="../ar443606/index.html">Jenkins ููุธุงู Android ุจูุงุก ุจุงุณุชุฎุฏุงู ุนุงูู ูููุงุก</a></li>
<li><a href="../ar443608/index.html">ุงูููุฒู ุงูุฐูู / ุชุญุฏูุซุงุช ูู Lazurite</a></li>
<li><a href="../ar443612/index.html">ูุญู ูุณุชุฎุฏู ูุญุฑูุงุช ุงูุฃูุฑุงุต ุงูุตูุจุฉ ุงููุฏููุฉ ุงูุณูุฆุฉ</a></li>
<li><a href="../ar443614/index.html">YouTrack 2019.1: ุญุฏุฏ ููุญุงุช Agile ูุญููู ุงูุจุทุงูุงุช ุงููุงุจูุฉ ููุชุฎุตูุต ุนูู ููุญุงุช Agile ูุงููุฒูุฏ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>