<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë• üîç ‚úãüèΩ Passer au stockage pur: notre nouveau stockage üç¢ üóæ üïã</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="R√©cemment, nous avons transf√©r√© nos bases de donn√©es tr√®s charg√©es - services de bureau centralis√©s, courrier, postes de travail virtuels, ainsi que l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Passer au stockage pur: notre nouveau stockage</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mvideo/blog/481842/"><img src="https://habrastorage.org/webt/ml/7u/nz/ml7unzkujnu5qbfigbdeq_h6b5i.jpeg"><br><br>  R√©cemment, nous avons transf√©r√© nos bases de donn√©es tr√®s charg√©es - services de bureau centralis√©s, courrier, postes de travail virtuels, ainsi que les syst√®mes et sites de trading mvideo.ru et eldorado.ru - vers des baies flash Pure Storage.  Et aujourd'hui, nous vous expliquerons pourquoi nous avons d√©cid√© de proc√©der ainsi et comment nous sommes pass√©s √† de nouveaux. <br><a name="habracut"></a><br><h2>  Contexte </h2><br>  Apr√®s la fusion de M.Video et Eldorado, le Groupe a adopt√© le programme √† long terme ONE RETAIL, qui d√©veloppe activement des plateformes num√©riques et automatise les services informatiques.  Nous sommes pass√©s √† une infrastructure hybride √† partir de nos propres installations et environnements cloud.  Cependant, un important parc d'√©quipements de diff√©rents fabricants, form√© √† la suite de la fusion, n'a pas permis d'am√©liorer encore l'efficacit√© des syst√®mes. <br><br>  Par cons√©quent, nous avons eu l'id√©e de mettre √† jour une partie des r√©f√©rentiels.  Apr√®s avoir analys√© les solutions de diff√©rents fabricants, nous avons opt√© pour Pure Storage.  Mais avant de prendre la d√©cision finale, il a fallu tester l'√©quipement sur nos donn√©es. <br><br><h2>  Test </h2><br>  Les syst√®mes qui ont particip√© aux tests se trouvaient sur le syst√®me de stockage de plusieurs fournisseurs, qui utilisait √† la fois des disques durs classiques et des disques SSD.  Apr√®s avoir convenu d'un programme de test et install√© l'√©quipement Pure Storage dans notre centre de donn√©es, nous avons commenc√© √† migrer. <br><br><img src="https://habrastorage.org/webt/k_/de/dj/k_dedjiw7yztzhugzc6fp8bulza.jpeg"><br><br>  L'un des premiers, nous avons migr√© le service de bureau virtuel.  En cons√©quence, les utilisateurs finaux - et non les administrateurs syst√®me - ont not√© une augmentation significative de la productivit√©: les fichiers PDF, les documents texte et les tableaux s'ouvraient beaucoup plus rapidement.  Une fois le service revenu √† son syst√®me de stockage d'origine, la vitesse de r√©ponse a diminu√©.  C'est-√†-dire qu'en raison du transfert vers le stockage avec une architecture 100% Flash, les performances d'un syst√®me plut√¥t critique ont sensiblement augment√©.  Nous n'avons pas fait de mesures pr√©cises, mais selon les sensations, l'augmentation de vitesse √©tait de 50 √† 70%.  Pour certaines applications, les temps de r√©ponse ont consid√©rablement diminu√©. <br><br>  Nous avons ensuite test√© la compression et la d√©duplication.  L'une des diff√©rences de Pure Storage est que dans leurs syst√®mes de stockage, la d√©duplication et la compression fonctionnent √† un niveau global, √† la vol√©e, vous n'avez donc pas besoin de r√©partir les donn√©es entre des volumes de stockage distincts.  De plus, le syst√®me de stockage peut en outre compresser les informations au fil du temps, en utilisant les algorithmes de compression et de d√©duplication plus avanc√©s en mode diff√©r√©.  Et enfin, les algorithmes de compression et de d√©duplication dans Pure Storage fonctionnent avec de tr√®s petits blocs de donn√©es, √† partir de 512 octets - la longueur du bloc peut changer, s'adaptant √† diff√©rents types de donn√©es. <br><br>  Gr√¢ce √† ces astuces, le volume des bases de donn√©es MySQL et Oracle (s√©lectionn√©es pour les tests) a diminu√© de 3,1 fois par rapport au syst√®me de stockage d'origine. <br><br><h2>  Impl√©mentation </h2><br>  Nous voulions augmenter non seulement les performances de stockage, mais √©galement la fiabilit√© du stockage.  Par cons√©quent, l'√©tape suivante, nous avons d√©cid√© d'introduire un cluster de stockage distribu√© selon le sch√©ma Active-Active (Pure Storage ActiveCluster), c'est-√†-dire de distribuer nos syst√®mes dans deux centres de donn√©es.  Chaque syst√®me de stockage Pure Storage comprend d√©j√† l'ensemble d'outils n√©cessaire pour la r√©plication synchrone et asynchrone, y compris la cr√©ation de clusters actifs-actifs distribu√©s g√©ographiquement. <br><br><img src="https://habrastorage.org/webt/zs/ez/1c/zsez1ctlnsm6kib_pnx4wwtspni.jpeg"><br><br><img src="https://habrastorage.org/webt/cg/cx/gp/cgcxgpvx7xtkojonwyvhpkoxclw.jpeg"><br><br>  Apr√®s l'apparition du deuxi√®me syst√®me de stockage Pure, nous avons utilis√© la fonction de r√©plication synchrone au niveau de la baie, qui a consid√©rablement acc√©l√©r√© la migration des donn√©es entre les sites, car les donn√©es sont transmises sous forme compress√©e.  D√©sormais, nous choisissons des services qui fonctionneront en mode de synchronisation continue pour assurer une haute disponibilit√©: en cas d'urgence ou de panne de l'ensemble du site, les services informatiques de l'entreprise continueront de fonctionner sans interruption.  √âtant donn√© que la r√©plication fonctionne en mode actif-actif, l'√©chec r√©el de l'ensemble du syst√®me de stockage entra√Æne la perte de certains chemins, mais n'affecte pas la disponibilit√© des applications h√©berg√©es.  Pour les utilisateurs finaux, cela se passe inaper√ßu.  √âtant donn√© que par d√©faut, Pure Storage fournit une fiabilit√© au niveau de 99,9999% (31,5 secondes de temps d'arr√™t par an), encore plus - pour le moment, selon les statistiques que le fabricant recueille aupr√®s de son service cloud, les baies Pure, √† notre avis, d√©passent 6 neuf (et ce n'est que 3 secondes de temps d'arr√™t par an), avec l'aide de la synchronisation continue d'ActiveCluster, la disponibilit√© pure devient presque 100%.  Autrement dit, m√™me si l'ensemble du centre de donn√©es tombe en panne, les utilisateurs travailleront en silence, comme si de rien n'√©tait. <br><br><h2>  La gestion </h2><br>  Parall√®lement √† l'introduction des premi√®res unit√©s d'√©quipement Pure Storage, nous avons commenc√© √† utiliser le service de surveillance et de contr√¥le cloud exclusif - Pure1.  Il fournit un panneau de commande unique qui affiche l'√©tat de tous les syst√®mes de stockage et les conditions pr√©vues pour les ann√©es √† venir.  Autrement dit, nous n'avons pas besoin de calculer quand les performances ou la capacit√© cesseront d'√™tre suffisantes - le syst√®me avertira √† l'avance ou permettra de pr√©voir √† l'avance.  Cela simplifie consid√©rablement le processus d'extensions et de mises √† niveau futures. <br><br>  Pure1 dispose √©galement d'un outil appel√© VM Analytics.  √âtant donn√© que tous nos services et applications sont enti√®rement virtualis√©s sur la base de la solution VMware, nous pouvons nous connecter au cluster de virtualisation VMware et voir la topologie de l'ensemble de l'infrastructure dans Pure1.  Tous les points de contact interm√©diaires seront affich√©s: machines virtuelles, volumes, stockage, relations individuelles.  Et en cas de probl√®me, nous verrons o√π et ce qui s'est pass√© sans l'aide d'un fournisseur. <br><br><h2>  Densit√© de placement </h2><br>  Nous avons migr√© les donn√©es de 6 types de syst√®mes de stockage de diff√©rents fabricants vers deux mod√®les de syst√®mes de stockage Pure Storage.  Les anciens appareils occupaient plusieurs racks.  Et maintenant, les √©quipements avec les m√™mes donn√©es - environ 1,5 p√©taoctets - occupent un tiers d'un rack, 18 unit√©s, alors qu'il reste une r√©serve de capacit√© de disque dans la r√©gion de 15 √† 20%.  La consommation d'√©nergie et la dissipation de chaleur ont consid√©rablement diminu√©, ce qui permet d'√©conomiser sur le syst√®me de refroidissement. <br><br><h2>  Autres fonctionnalit√©s et capacit√©s </h2><br>  Au c≈ìur du support technique de Pure Storage se trouve un moteur ¬´d'intelligence artificielle¬ª qui peut pr√©dire les probl√®mes potentiels. <br><br>  En plus des services de blocs traditionnels, les syst√®mes de stockage Pure Storage permettent le d√©ploiement de services de fichiers en raison de l'architecture modulaire interne d√©finie par logiciel.  Nous l'avons donc fait: sur x50 et x70, nous avons cr√©√© des serveurs de fichiers Windows et commenc√© la migration des ressources de stockage de fichiers. <br><br>  Je voudrais √©galement mentionner que quel que soit le composant logiciel utilis√© dans Pure Storage, vous n'avez pas besoin de penser aux futures licences - une licence implique l'ajout automatique de toutes les nouvelles fonctionnalit√©s futures.  Par exemple, depuis le moment de la mise en ≈ìuvre initiale, la fonction de t√©l√©chargement d'instantan√©s via le protocole NFS vers un syst√®me de stockage externe de n'importe quel fabricant, ou via le protocole S3 vers un stockage cloud externe, est apparue. <br>  L'un des avantages des produits Pure Storage est √©galement la facilit√© de gestion. <br><br><img src="https://habrastorage.org/webt/er/y-/uz/ery-uznzp0eid48ogcofonkmprw.jpeg"><br><br><img src="https://habrastorage.org/webt/mu/8n/o7/mu8no7fg2fbymxk9nttra9m2xb8.jpeg"><br><br>  Nous int√©grons d√©sormais des instantan√©s Pure Storage √† un syst√®me de sauvegarde centralis√©.  Avec leur aide, nous pouvons cr√©er des sauvegardes instantan√©es, cela vous permettra de d√©charger des applications pendant le processus de sauvegarde et de r√©duire consid√©rablement le temps requis pour la r√©cup√©ration.  En cas d'√©chec, le processus de r√©cup√©ration des applications √† partir de l'instantan√© sera presque instantan√©.  Lorsque vous utilisez des instantan√©s avec un syst√®me de sauvegarde, vous obtenez une solution compl√®te hautes performances.  Autrement dit, les ressources les plus exigeantes seront accord√©es au syst√®me de stockage.  De tels instantan√©s mat√©riels ne r√©duisent pas les performances du syst√®me, contrairement aux instantan√©s cr√©√©s au niveau de l'application ou de la virtualisation. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr481842/">https://habr.com/ru/post/fr481842/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr481824/index.html">Recherche rapide de la source des mutations ind√©sirables d'une propri√©t√© d'objet</a></li>
<li><a href="../fr481828/index.html">L'histoire des logiciels √©ducatifs: les syst√®mes de gestion de l'apprentissage et l'essor de l'√©ducation en ligne</a></li>
<li><a href="../fr481836/index.html">Pizza as a service: comment Amazon a migr√© vers Redshift</a></li>
<li><a href="../fr481838/index.html">WireGuard, configuration de plusieurs clients pour NAT, et o√π va STUN?</a></li>
<li><a href="../fr481840/index.html">Prot√©gez votre API GraphQL contre les vuln√©rabilit√©s</a></li>
<li><a href="../fr481844/index.html">7 ans de battage m√©diatique sur les r√©seaux de neurones dans les graphiques et les perspectives inspirantes du Deep Learning 2020</a></li>
<li><a href="../fr481846/index.html">Utilisation de GitHub CI pour les projets Elixir</a></li>
<li><a href="../fr481848/index.html">Formation du personnel exp√©riment√©</a></li>
<li><a href="../fr481850/index.html">L'Inquisition espagnole et le robot pour l'humiliation: quelles sont les conf√©rences "pr√©datrices" pour le fric</a></li>
<li><a href="../fr481852/index.html">Revue de l'imprimante 3D Anet N4 // Comment colorer de mani√®re r√©aliste un personnage de Dark Souls</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>