<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏼 🎳 🧕🏿 Zen et l'art du support Pure Code 🙋🏿 ✊🏽 💲</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour, Habr! 

 Il n'y a pas de fin à parler de code propre , mais le prochain article de Dave Nicoletta est très métaphorique et, espérons-le, vrai...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Zen et l'art du support Pure Code</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/431670/"><img src="https://habrastorage.org/webt/dy/_b/ms/dy_bmsgytde0kk1i352o8d2d-o8.jpeg"><br><br>  Bonjour, Habr! <br><br>  Il n'y a pas de fin à parler de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">code propre</a> , mais le prochain article de Dave Nicoletta est très métaphorique et, espérons-le, vraiment digne d'être traduit.  Que ce soit un peu «édifiant», comme l'avertit d'avance les lecteurs dans l'article original. <br><br>  Bonne lecture. <br><a name="habracut"></a><br>  À la maison, au fil des ans, une mauvaise habitude s'est installée.  En utilisant n'importe quel outil, nous avons toujours oublié de le remettre à sa place.  La prochaine fois que quelqu'un en avait besoin, il devait passer plus de temps à chercher un outil qu'à résoudre un problème.  Le plus triste, c'est que même celui qui a pris l'instrument en dernier et l'a jeté n'importe où était voué exactement aux mêmes recherches.  Il s'est souvent avéré qu'il était plus rapide d'acheter de nouveaux équipements que de chercher l'outil que nous avons - nous en sommes sûrs!  - quelque part qui traîne. <br><br>  Nous avons donc eu quatre tournevis cruciformes Philips de taille moyenne, trois avec une fente plate, un tas de pinces et de clés supplémentaires, des jeux d'adaptateurs.  Sans parler de l'impressionnante collection de stylos, écheveaux de ruban adhésif, piles et autres bonnes choses éparpillées partout. <br><br>  Une fois que nous avons décidé: ça suffit!  Alloué leur place pour toutes choses et mettre les choses en ordre avec notre inventaire.  Outils remis à une œuvre de bienfaisance.  Nous nous sommes efforcés de cultiver l'autodiscipline et nous ne mettons toujours les outils à leur place qu'après avoir travaillé avec eux.  La qualité et le volume de travail par unité de temps ont fortement augmenté.  Le stress, l'argent gaspillé et l'humeur gâtée sont devenus beaucoup moins. <br><br><h3>  Mettre de l'ordre dans le garage de l'entreprise </h3><br>  Et si les mécaniciens automobiles travaillant dans un garage d'entreprise laissaient tomber des outils n'importe où?  Ils passeraient plus de temps à chercher des outils qu'à travailler.  Les détails seraient mis au mauvais endroit, perdus, rouillés, gâtés, ils seraient simplement volés.  Les coûts d'approvisionnement augmenteraient considérablement. <br><br>  Il faudrait plus de temps pour terminer les tâches, mais la qualité du travail diminuerait.  Lorsqu'un mécanicien doit travailler avec des outils rouillés, usés et cassés, il lui est difficile d'ajuster et de fixer correctement les pièces.  De plus, l'habitude d'organiser un désordre dans l'atelier affectera inévitablement la qualité du travail. <br><br>  Les clients en auront assez des transferts interminables de fin d'emploi.  Bientôt, ils iront à des ateliers plus fiables.  D'une manière ou d'une autre, je m'en passerai  Peut-être que les analogies avec le développement et le support logiciel sont déjà évidentes. <br><br><h3>  Mettre de l'ordre dans le développement logiciel </h3><br>  Regardons un exemple spécifique: le refactoring incrémentiel. <br><br>  Cette expression est déroutante pour beaucoup.  Je ne sais pas quel mot les confond: «incrémental» ou «refactoring». <br><br>  Le refactoring incrémentiel (progressif) est fondamentalement différent de celui à grande échelle.  Il semble à beaucoup que tout refactoring soit nécessairement «à grande échelle», qu'il doit être «autorisé» par quelqu'un, et donc, soi-disant, le travail doit être traîné.  En fait, c'est si l'on néglige le refactoring en cours de travail, alors tout est significativement retardé. <br><br>  La plupart des entraîneurs techniques, y compris moi-même, expliquent à peine la différence dans ce cas;  non pas parce que cette différence est par définition compliquée, mais parce qu'elle est vraiment difficile à formuler en mots.  Cependant, je pense que l'habitude d'examiner attentivement l'inventaire disponible et de surveiller l'offre est une bonne analogie dans ce cas. <br><br><h3>  Refactoring progressif </h3><br>  Faire un refactoring progressif, c'est comme maintenir l'ordre sur un établi, même en hauteur de travail.  Utilisez un tournevis - mettez-le en place.  Nous ne reconstruirons pas, avant chaque nouvelle tâche, un atelier pour cela.  Le point, c'est plutôt la capacité de terminer ... comment terminer ce que vous avez commencé.  Dépouiller les extrémités. <br><br>  Le refactoring progressif ne prend pas beaucoup de temps supplémentaire et ne nécessite pas la permission de quelqu'un d'en haut.  Pour cette question, vous devez demander la permission de ne pas nettoyer dans le code, si vous devez vous précipiter.  La capacité de garder constamment le code propre doit en fait être considérée comme la compétence professionnelle de base d'un programmeur.  Il est dommage qu'aujourd'hui, le «code propre» ait besoin de propagande, et certains programmeurs s'opposent même à apporter une telle pureté.  Le refactoring progressif n'a absolument rien avec le refactoring architectural à grande échelle, ce qui nécessite vraiment une planification minutieuse, une allocation de temps, d'argent et de personnes. <br><br><h3>  Règle du scout </h3><br>  Dans la programmation, il existe une soi-disant «règle scout»: garder le code au moins aussi propre qu'il a été reçu.  Il en va de même pour le stockage des outils de travail à domicile.  Si nous recherchons des pinces, mais notez que le tournevis à fente est accidentellement arrivé à la croix et que le tournevis cruciforme est arrivé à la fente, nous, dans le processus, les avons mis à leur place.  Nous n'avons pas besoin d'une approbation officielle pour ce faire. <br><br>  C'est ainsi que fonctionne le refactoring progressif.  Devant nous se trouve un morceau de code, et nous devons ajouter une nouvelle condition à la liste des constructions disponibles.  Nous remarquons que la liste est implémentée comme un grand bloc if / else.  Nous décidons qu'il doit être repensé comme un commutateur ou un opérateur de sélection, tout en ajoutant une condition.  On peut dire: est-ce vraiment bien mieux que le bloc if / else?  Oui, vous avez raison: pas grand-chose.  Mais un peu mieux.  Lorsque quelqu'un lira ensuite ce code après vous, il pourra le raffiner encore mieux, puisque vous avez amélioré sa position de départ.  Si vous avez déjà fait quelque chose comme ça auparavant, alors vous avez probablement remarqué qu'en lisant attentivement toutes les conditions, vous avez parfois trouvé des constructions en double, puis l'ordre non optimal des expressions;  peut-être avez-vous rencontré une condition qui ne peut jamais être remplie, ou même un «trou» logique à travers lequel la séquence de contrôle entière passera par le bloc if / else, et certains cas ne seront pas traités du tout.  Réjouissez-vous simplement de l'avoir découvert maintenant, et pas tard dans la nuit, lorsque vous recevez un ticket correspondant du service d'assistance technique.  À un tel moment où les yeux se collent, il n'y a absolument aucun désir de comprendre le code confus. <br><br>  Peut-être que nous ajouterons de nouvelles fonctionnalités à l'application et remarquerons que la fonction / méthode que nous avons écrite est très similaire à une autre (une autre) que nous avons déjà dans la base de code.  N'ayant passé que quelques secondes, nous nous débarrasserons de ces duplications, même sans les outils supplémentaires qui sont proposés à nos services dans des IDE chics.  Vous pouvez refactoriser sans hésitation, puisque nous nous sommes habitués à l'autodiscipline et garantissons que des microtests (tests unitaires) couvrant ce cas ont déjà été écrits.  Le refactoring manuel n'est pas terrible.  En fin de compte, trouvez au moins une raison pour laquelle non? <br><br><h3>  Le «long terme» n'est généralement pas aussi long qu'il n'y paraît </h3><br>  Souvent, j'entends différentes personnes dire que la refactorisation apporte des avantages «à long terme».  Bien que, en théorie, ce soit, ici, dans le monde réel, vous devez constamment remettre le travail en termes stricts.  Cependant, si nous parlons de maintenir la pureté du code au moyen d'un petit refactoring progressif, le «long terme» dure exactement jusqu'au moment où quelqu'un d'autre touche la base du code.  Exactement jusqu'à la prochaine fois. <br><br>  La mauvaise nouvelle est que le contraire est vrai.  Si vous ne nettoyez pas le code pendant que vous travaillez, il se détériore rapidement.  Nous n'avons pas d '«airbag» de dix ans qui nous permettrait d'accumuler le mariage en toute impunité jusqu'au début des problèmes.  Le prochain changement qui devra être effectué prendra un temps inacceptable de notre part, le risque de régression du code augmentera, et la situation sans une attention appropriée ne fera qu'empirer. <br><br>  Si nous piratons juste pour satisfaire le désir du client (et il veut le produit fini le plus rapidement possible), comment allons-nous continuer à répondre à ces demandes après nous être assurés qu'aucune modification rapide n'est apportée, puisque nous avons apporté le code à l'État confusion, et il est impossible de le maintenir? <br><br><h3>  Qu'est-ce qui est rapide, qu'est-ce qui est lent? </h3><br>  Les clients voudront toujours que vous travailliez plus fort, quelle que soit la vitesse à laquelle vous les organisez.  Le moyen le plus efficace de réduire le délai de sortie est de tout faire correctement;  bien faire;  nettoyer constamment les extrémités, toujours, sans exception.  Couper les coins pour «accélérer», dans la pratique, nous ne faisons que ralentir, et pas dans la «perspective à long terme» éphémère, mais ici et maintenant. <br><br>  Lorsque le client exige que vous travailliez plus rapidement, cela ne signifie pas qu'il vous permet de travailler avec insouciance.  Naturellement, il lui semble évident qu'il ne doit pas, après chaque demande, nous rappeler qu'il s'intéresse à la qualité.  La haute qualité est impliquée comme l'un des composants de notre travail. <br><br>  En tant qu'ingénieurs, nous choisissons nous-mêmes de considérer la refactorisation progressive comme l'élément de base de notre activité professionnelle.  Nous ne demandons pas si nous pouvons travailler comme il se doit, tout comme le chirurgien ne demande pas au comptable s'il a le temps de se laver les mains avant l'opération.  Le temps passé sur l'opération est exactement autant de temps que nécessaire pour que l'opération soit réussie.  Le patient doit être soigneusement retiré de l'appendice, et après la sortie, la personne pourrait reprendre une vie normale - sans infection de la plaie et sans tampon dans l'abdomen.  Cela ne fera qu'empirer si une personne est retirée de la salle d'opération dix minutes plus tôt que nécessaire, puis les complications commencent. <br><br>  Souvent, dans ce cas, ils parade que si "tout est fait selon la science", alors il s'avère "trop ​​long".  Non, en fait, «trop long» est le temps qu'il faut pour corriger les conséquences si le travail était fait à la hâte et sans le professionnalisme approprié.  Le rétablissement d'une infection est un véritable choc pour le patient et sa famille, cela affectera inévitablement son travail.  Une deuxième opération, dans laquelle un tampon oublié doit être découpé de l'abdomen, est une intervention beaucoup plus grave, et elle ne sera nécessaire que parce que la personne a été opérée à la hâte pour la première fois. <br><br>  Lors de la programmation, si vous devez effectuer cinq régressions du code en raison du fait que quelqu'un l'a écrit à la hâte, vous ne pouvez pas parler de «gagner du temps».  Au contraire, les modifications sont apportées plus longtemps.  Le travail n'est pas «fait» tant qu'il n'est pas fait correctement.  Si l'équipe devait passer des heures et des jours à corriger les erreurs après la «préparation du projet», alors c'est du temps perdu qui pourrait être consacré à d'autres travaux utiles.  C'est un manque à gagner. <br><br>  De telles erreurs ont des conséquences semblables à des vagues et entraînent des pertes de temps et d'argent à long terme, et parfois la perte de clients.  Un stress supplémentaire tombe sur les épaules des ingénieurs eux-mêmes;  moral bas, roulement élevé du personnel.  Par conséquent, un vissage toujours plus dur et une nouvelle diminution de la moralité et de la participation au travail. <br><br><h3>  La dette technique comme métaphore </h3><br>  Chaque fois que vous abordez le sujet de la refactorisation progressive, quelqu'un vous rappellera certainement la dette technique.  Ils diront: "Nous avons un tel délai qu'il est juste nécessaire de réduire les coins."  Ils ajouteront que dans ce cas, l'équipe accumule consciemment la dette technique, guidée par les besoins de l'entreprise. <br><br>  Ceux qui le disent ne comprennent pas cette métaphore, et peut-être pas du tout de métaphores. <br><br>  La métaphore n'est pas destinée à être une description complète et complète de la chose caractérisée. <br>  Une métaphore aide en général à donner un aperçu d'un aspect de cette chose. <br>  Les gens ont tendance à remplacer une chose par sa métaphore, puis à opérer avec une métaphore comme si elle et <br>  la chose décrite est une seule et même chose.  Non, ce n'est pas la même chose.  Le point. <br><br>  De plus, il est courant que les gens interprètent une métaphore au-delà de son contexte d'origine.  Ainsi, le sens de la métaphore est flou et devient de moins en moins utile. <br>  Ward Cunningham a proposé une métaphore de la dette technique, décrivant les interactions avec les clients dans le secteur financier.  Il a cherché une métaphore adaptée à ce contexte particulier, pour souligner comment la réalisation progressive des opportunités permet de créer une boucle de rétroaction au cours de laquelle le programme est constamment optimisé.  Il ne voulait pas dire "couper les coins afin de créer l'illusion d'un développement rapide". <br><br>  Le concept original de la métaphore de la dette technique impliquait que le code était nécessairement maintenu propre.  Les personnes qui comprennent le problème laissé dans le code évoluent pas à pas vers sa solution, et le code sera toujours suffisamment précis pour que de telles améliorations progressives puissent y être apportées.  Il ne s'agit pas du fait que certaines raisons techniques peuvent justifier pourquoi le code est indésirable et nécessite des corrections constantes. <br><br>  Couper les coins pour une remise rapide du travail n'est pas une accumulation de dette technique.  Il s'agit d'un hack courant. <br><br><h3>  Qui est responsable? </h3><br>  Pour obtenir une livraison rapide, vous devez vous débarrasser des problèmes lorsque vous travaillez.  L'un de ces problèmes est le code indésirable.  Vous pouvez vous débarrasser de cet obstacle étape par étape en apprenant à travailler en autodiscipline.  Dans ce cas, peu importe comment vous travaillez - selon le modèle "cascade" ou selon "l'aggail".  Nous choisissons nous-mêmes comment travailler chaque fois que nous touchons le clavier. <br><br>  Je résume.  Si vous travaillez correctement, y compris le nettoyage des extrémités, cela ne profitera qu'au client, aux sponsors, aux gestionnaires, à ceux qui soutiendront notre code à l'avenir et, bien sûr, pour nous-mêmes. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr431670/">https://habr.com/ru/post/fr431670/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr431656/index.html">CraSSh: casser tous les navigateurs modernes avec des calculs CSS</a></li>
<li><a href="../fr431660/index.html">Fonctionnalités du jeu utilisant ECS: ajoutez une trousse de premiers soins au tireur</a></li>
<li><a href="../fr431664/index.html">Centre de phase d'antenne (FCA) et sa recherche dans Ansys HFSS</a></li>
<li><a href="../fr431666/index.html">Intelligence artificielle. Propriété intellectuelle. Danger</a></li>
<li><a href="../fr431668/index.html">Nouveautés de GoLand 2018.3</a></li>
<li><a href="../fr431674/index.html">Toile Nanoleaf: bientôt sur tous les murs</a></li>
<li><a href="../fr431676/index.html">Robot tactique: peut écouter et ne pas interrompre</a></li>
<li><a href="../fr431678/index.html">Il y a un développeur mobile dans la forêt, voit - Kotlin est en feu. Il s'est assis à Kotlin et a brûlé</a></li>
<li><a href="../fr431682/index.html">Marriott a divulgué les données personnelles de 500 millions de clients</a></li>
<li><a href="../fr431686/index.html">Sauf IoT: le botnet Mirai lance une attaque sur les machines Linux</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>