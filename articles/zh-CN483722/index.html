<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💥 ✊🏿 🤞🏼 零售业的地理分析，第1部分：我们使选择业务地点的过程自动化。 2 GIS + MS Azure + ML ⏭️ 👨🏽‍🍳 🎅🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="大家好！ 

 我叫Sergey Konkov-我是业务报告与数据的数据架构师。 
 本文讨论了在零售公司中使用地理分析和机器学习的可能性，并基于我们客户的真实项目-大型美容院网络。 不会有太多的代码和技术细节，将关注技术的审查，其应用和集成。 

 挑战赛 
 在服务领域有一家积极发展的公司。 该...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>零售业的地理分析，第1部分：我们使选择业务地点的过程自动化。 2 GIS + MS Azure + ML</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483722/"><img src="https://habrastorage.org/webt/qn/my/0g/qnmy0gqgxicmrfy73qg8sdcsoe8.png"><br><br> 大家好！ <br><br> 我叫Sergey Konkov-我是业务报告与数据的数据架构师。 <br> 本文讨论了在零售公司中使用地理分析和机器学习的可能性，并基于我们客户的真实项目-大型美容院网络。 不会有太多的代码和技术细节，将关注技术的审查，其应用和集成。 <br><a name="habracut"></a><br><h3> 挑战赛 </h3><br> 在服务领域有一家积极发展的公司。 该公司每月在购物中心（TC）开设数家美容院。 <br><br>  <b>任务是选择最佳的发现地点，以减少制定决策的时间和成本。</b> <br><br><h3> 实施计划样本 </h3><br><ol><li> 我们将收到有关购物中心的数据，这些数据可以帮助我们评估场所的吸引力； </li><li> 让我们尝试在公司已经运营的那些购物中心中，将获得的数据与沙龙的工作结果联系起来； </li><li> 我们将创建一种方法来评估新购物中心的吸引力； </li><li> 我们将创建一个机器学习模型来为那些尚不存在我们公司的购物中心计算该估计值； </li><li> 我们将创建工具，使专家在选择开设零售店的地方自动化工作； </li></ol><br><h3> 我们收集地理数据 </h3><br> 因此，购物中心的哪些数据可以提供帮助。 <br><br> 反映： <br><br><ul><li> 例如，它位于哪个区域和城市-莫斯科或萨马拉，巴维卡或维希诺； </li><li> 购物中心的大小-那里有几家商店，饭店，沙龙？ </li><li> 这些商店是什么-建筑材料或时尚精品店？ </li><li> 那里有竞争对手吗？ 还有多少？ 哪一个呢？ </li><li> 也许有关于购物中心访客人数的信息？ </li><li> 附近还有其他购物中心吗？ 在5公里半径范围内，没有比这更好的一两个马路； </li><li> 还有附近还有什么？ 也许是一个拥有许多办公室员工的大型商务中心或一个睡眠区？ </li></ul><br> 这就是“有经验的”人对谁需要决定营业地点的思考。 高级人员还可以使用分析，可以在所有这些因素的基础上用Excel或SQL进行分析。 <br><br> 收集和处理该数据需要花费时间。 让我们尝试优化它。 <br><br>  <b>从哪里获取数据？</b> 让我们看一下市场上的地理服务。 主要的是：Yandex Maps，2GIS，Google Maps。 比较功能之后，我们选择了2GIS。 <br> 我们认为该服务的主要优势：数据的准确性，相关性和完整性，用户友好的API。 但是您可以使用其他制造商的解决方案。 <br><br> 可以通过服务网站上的表格访问2GIS API。 访问是付费的，并且取决于请求的数量，有必要在与2GIS的合同中分别规定如何使用数据，这就是为什么我们请求它们，我们将如何处理它们等等。 <br><br>  <b>我将告诉您一些如何使用2GIS API的方法。</b> <br><br> 该服务使您可以选择组织在特定地区（城市，地区，街道等）中的位置。 作为过滤器，您可以指定组织的标题（活动类型）。 我们将请求在“购物中心”标题下搜索所有组织。 结果，我们获得了该地区购物中心的列表。 在每个购物中心的响应中，也将出现所谓的房屋标识符-building_id。 我们将使用收到的building_id中的一个向建筑物中的所有组织发出请求。 我们会获得此购物中心中所有组织的列表，包括其名称和标题。 <br><br><img src="https://habrastorage.org/webt/en/e1/7b/ene17bzqsthl0brn4poudtdilt0.png"><br><br> 因此，我们收到了特定购物中心中所有商店，沙龙，餐厅和其他组织的列表。 我们可以对我们感兴趣的每个购物中心提出这样的要求。 <br><br><h3> 项目基础设施 </h3><br> 为了实现，我们选择了<b>MS Azure</b>的云。 我们需要的一切，即： <br><br><ul><li> 数据仓库<a href="https://azure.microsoft.com/ru-ru/services/sql-database/" rel="nofollow">-Azure SQL数据库</a> ; </li><li>  ETL集成工具- <a href="https://azure.microsoft.com/ru-ru/services/data-factory/" rel="nofollow">数据工厂</a> ; </li><li>  OLAP- <a href="https://azure.microsoft.com/ru-ru/services/analysis-services/" rel="nofollow">Azure分析服务</a> </li><li>  ML服务<a href="https://azure.microsoft.com/ru-ru/services/machine-learning/" rel="nofollow">-Azure机器学习</a> ; </li><li> 机器人开发引擎<a href="https://azure.microsoft.com/ru-ru/services/bot-service/" rel="nofollow">-Azure Bot Service</a> （在本文的第二部分中将需要它）； </li></ul><br> 从2GIS获得的所有数据都将加载到Azure SQL数据库表中。 <br> 我们将所有脚本下载到Azure数据工厂包中。 这将使我们能够按时间表批量下载数据（例如，针对特定城市的所有购物中心的数据），以保持数据的相关性，也可以根据特定购物中心的要求进行下载。 <br><br> 集成任务示例： <br><br><img src="https://habrastorage.org/webt/d3/pl/zi/d3plzizprncu42souvjskinj8ea.png"><br><br><h3> 处理数据 </h3><br> 我们可以开始搜索2GIS数据与沙龙实际结果之间的关系。 为此，请将购物中心上的数据上传到公司已经存在的商店。 在那里，我们将通过ERP上传有关沙龙工作的数据-收入，支票数量，保证金，访客数量。 <br><br> 在此阶段，我们将专家连接到数据科学项目。 对于他们，我们基于收集的数据和Azure机器学习环境部署OLAP多维数据集。 <br><br> 数据科学家进行的研究表明，以下因素对沙龙工作的影响最大（收入和边际）： <br><br><ul><li> 购物中心所在的城市； </li><li> 购物中心的商店数量； </li><li> 购物中心的竞争对手人数； </li><li> 某些品牌的存在； </li><li> 半径2公里以内的其他购物中心的数量； </li></ul><br> 为了评估购物中心的吸引力，我们引入了一个从1到10的标度。为了提高吸引力评估的透明度，我们需要向用户确切显示哪些因素以及它们如何影响最终评分。 这是对其中一个购物中心进行评估的示例： <br><br><img src="https://habrastorage.org/webt/wi/rk/cw/wirkcwva3xakg60mcuitwq2qiz8.png"><br><br><h3> 连接机器学习 </h3><br> 我们为公司已经运营的所有购物中心计算此估计。 结果数据集（因子+评估）将用于创建机器学习模型。 最终，模型应该确定对购物中心开设新沙龙的吸引力的评估。 <br><br> 在Azure ML Studio中创建实验的示例： <br><br><img src="https://habrastorage.org/webt/ou/-h/g9/ou-hg9fqbmneypksabwifk4eloq.png"><br><br> 该图显示了一个基于线性回归模型创建机器学习实验的简单示例。 <br><br> 在以Web服务的形式部署创建的模型之后，我们将能够为没有公司沙龙的购物中心获得吸引力等级。 <br><br> 因此，我们有数据，我们了解如何使用它们，并且我们有一种对购物中心进行排名的方法。 现在，我们将所有这些信息转移给正在运行的用户。 <br><br><h3> 我们使选址部门员工的工作自动化 </h3><br> 首先，创建分析报告。 <br><br> 例如，我们需要评估在N开设多个零售店的可能性。 <br> 我们对以下数据感兴趣： <br><br><ul><li> 城市中的所有购物中心（每个商店的数量，竞争对手的数量，我们的商店）； </li><li> 城市中所有有竞争者的购物中心，但没有我们。 </li><li> 城市中的所有竞争对手（代表购物中心的商店，总零售店数量）； </li></ul><br> 这是MS Power BI中的一份报告的示例。 数据源是我们在MS Azure上的数据仓库。 <br><br><img src="https://habrastorage.org/webt/mf/lh/zp/mflhzpfya3ci7k8zoa2garki91q.png"><br><br> 接下来，我们将制作一个工具，以在地图上的购物中心上显示收集的数据。 熟悉的API 2GIS将为我们提供帮助。 在Web应用程序中，创建一个地图小部件并在其上应用带有购物中心标记的标记。 示例（实际数据已更改）： <br><br><img src="https://habrastorage.org/webt/gc/oz/aj/gcozajvs03brsh_vbp2qrfpnmb0.png"><br><br><h3> 总结一下 </h3><br> 因此，我们执行了以下操作： <br><br><ul><li> 我们建立了从2GIS服务获取购物中心数据的过程。 </li><li> 我们发现所获得的数据与该公司已经运营的那些购物中心的沙龙结果之间存在联系。 </li><li> 他们创建了一种评估购物中心吸引力的方法。 </li><li> 我们开发了报告和工具，以使专业人员在选择开设零售店的地点时的工作自动化。 </li></ul><br> 让我们看看我们拥有的解决方案的体系结构。 <br><br><img src="https://habrastorage.org/webt/jy/o5/ob/jyo5obsek_2l1s6oa4kqh6gru3u.png"><br><br>  <b>在本文的下一部分中，我计划告诉您如何制作一个机器人地理分析程序来帮助负责选择场所的员工。</b> <br><br> 感谢您的关注！ <br><br> 如果有人对解决方案各个组件的实现的技术细节感兴趣，那么我将很乐意在评论或个人信息中回答问题。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN483722/">https://habr.com/ru/post/zh-CN483722/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN483708/index.html">多普勒效应或交警雷达确定速度的准确性问题</a></li>
<li><a href="../zh-CN483712/index.html">HighLoad ++，Yuri Nasretdinov（VK）：VK如何将数据从数万台服务器插入ClickHouse</a></li>
<li><a href="../zh-CN483714/index.html">创新项目的奖项和竞赛。 世界供应商经验</a></li>
<li><a href="../zh-CN483718/index.html">VDI如何改变办公环境</a></li>
<li><a href="../zh-CN483720/index.html">是什么使我们成为Pandas 1.0</a></li>
<li><a href="../zh-CN483724/index.html">与定制轮胎配合使用Redd</a></li>
<li><a href="../zh-CN483726/index.html">香草JavaScript和HTML。 没有框架。 没有图书馆。 没问题</a></li>
<li><a href="../zh-CN483730/index.html">程序员联合会2：拖鞋不再笑着，变得很体贴</a></li>
<li><a href="../zh-CN483732/index.html">使用ChipWhisperer从STM32F1xx闪存读取安全固件</a></li>
<li><a href="../zh-CN483736/index.html">反向图像搜索：贝灵猫侦探社的指南</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>