<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏼‍✈️ 🔰 🎳 Hak Linux (chown, chmod, SUID, GUID, bit sticky, ACL, umask) 🖱️ 👝 👈🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo semuanya. Ini adalah terjemahan dari artikel dari RedHat RHCSA RHCE 7 RedHat Enterprise Linux 7 EX200 dan EX300. 

 Dari saya sendiri: Saya harap...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Hak Linux (chown, chmod, SUID, GUID, bit sticky, ACL, umask)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469667/">  Halo semuanya.  Ini adalah terjemahan dari artikel dari RedHat RHCSA RHCE 7 RedHat Enterprise Linux 7 EX200 dan EX300. <br><br>  <b>Dari saya sendiri:</b> Saya harap artikel ini bermanfaat tidak hanya bagi pemula, tetapi juga akan membantu administrator yang lebih berpengalaman mengatur pengetahuan mereka. <br><br>  Jadi ayo pergi. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/95b/e9d/a00/95be9da00b36434d2b2445fe1379b5ae.png" alt="gambar"><br><a name="habracut"></a><br>  Untuk mengakses file di Linux, izin digunakan.  Izin ini diberikan ke tiga objek: file, grup, dan objek lain (yaitu, semua orang).  Pada artikel ini, Anda akan belajar cara menerapkan izin. <br><br>  Artikel dimulai dengan tinjauan konsep-konsep dasar, setelah itu izin khusus dan daftar kontrol akses (ACL) dibahas.  Di akhir artikel ini, Anda akan belajar cara mengonfigurasi izin default melalui umask, serta mengelola atribut pengguna tingkat lanjut. <br><br><h2>  Manajemen Kepemilikan File </h2><br>  Sebelum membahas izin, Anda harus mengetahui peran pemilik file dan direktori.  Memiliki file dan direktori sangat penting untuk bekerja dengan izin.  Di bagian ini, pertama-tama Anda akan belajar cara melihat pemiliknya.  Anda kemudian akan belajar cara mengubah pemilik grup dan pengguna untuk file dan direktori. <br><br><h3>  Tampilkan pemilik file atau direktori </h3><br>  Di Linux, setiap file dan direktori masing-masing memiliki dua pemilik: pengguna dan grup. <br><br>  Pemilik ini ditetapkan ketika file atau direktori dibuat.  Pengguna yang membuat file menjadi pemilik file ini, dan grup utama, yang mencakup pengguna yang sama, juga menjadi pemilik file ini.  Untuk menentukan apakah Anda sebagai pengguna memiliki hak akses ke file atau direktori, shell memeriksa kepemilikannya. <br><br>  <b>Ini terjadi dalam urutan sebagai berikut:</b> <br><br><ol><li>  Shell memeriksa apakah Anda memiliki file yang ingin Anda akses.  Jika Anda adalah pemilik ini, Anda mendapatkan izin dan shell berhenti memeriksa. </li><li>  Jika Anda tidak memiliki file, shell akan memeriksa apakah Anda adalah anggota grup yang memiliki izin pada file ini.  Jika Anda adalah anggota grup ini, Anda mendapatkan akses ke file dengan izin yang ditetapkan untuk grup, dan shell akan berhenti memeriksa. </li><li>  Jika Anda bukan pengguna atau pemilik grup, Anda mendapatkan hak pengguna lain (Lainnya). </li></ol><br>  Untuk melihat tugas pemilik saat ini, Anda dapat menggunakan <b>perintah ls-l</b> .  Perintah ini menunjukkan grup pengguna dan pemilik.  Di bawah ini Anda dapat melihat pengaturan pemilik untuk direktori di direktori / home. <br><br><pre><code class="bash hljs">[root@server1 home]<span class="hljs-comment"><span class="hljs-comment"># ls -l total 8 drwx------. 3 bob bob 74 Feb 6 10:13 bob drwx------. 3 caroline caroline 74 Feb 6 10:13 caroline drwx------. 3 fozia fozia 74 Feb 6 10:13 fozia drwx------. 3 lara lara 74 Feb 6 10:13 lara drwx------. 5 lisa lisa 4096 Feb 6 10:12 lisa drwx------. 14 user user 4096 Feb 5 10:35 user</span></span></code> </pre> <br>  Menggunakan <b>perintah ls,</b> Anda dapat menampilkan pemilik file dalam direktori ini.  Terkadang mungkin berguna untuk mendapatkan daftar semua file dalam sistem di mana pengguna atau grup ditentukan sebagai pemilik.  Anda dapat menggunakan <b>find untuk ini</b> .  <b>Argumen find -user</b> dapat digunakan untuk tujuan ini.  Misalnya, perintah berikut ini menunjukkan semua file yang memiliki pengguna linda ditentukan sebagai pemilik: <br><br><pre> <code class="bash hljs">find / -user linda</code> </pre> <br>  Anda juga dapat menggunakan <b>find</b> untuk mencari file yang dimiliki grup tertentu. <br><br>  Sebagai contoh, perintah berikut mencari semua file milik grup <i>pengguna</i> : <br><br><pre> <code class="bash hljs">find / -group users</code> </pre> <br><h3>  Perubahan kepemilikan </h3><br>  Untuk menerapkan izin, hal pertama yang harus dipertimbangkan adalah kepemilikan.  Ada <b>perintah chown</b> untuk ini.  Sintaks perintah ini mudah dimengerti: <br><br><pre> <code class="bash hljs">chown  </code> </pre> <br>  Misalnya, perintah berikut mengubah pemilik direktori / home / akun menjadi linda pengguna: <br><br><pre> <code class="bash hljs">chown linda /home/account</code> </pre> <br>  <b>Perintah chown</b> memiliki beberapa opsi, salah satunya sangat berguna: <b>-R</b> .  Anda dapat menebak apa fungsinya, karena opsi ini juga tersedia untuk banyak tim lain.  Ini memungkinkan Anda untuk mengatur pemilik secara rekursif, yang memungkinkan Anda untuk mengatur pemilik direktori saat ini dan semua yang ada di bawah ini.  Perintah berikut mengubah pemilik untuk direktori / home dan semuanya di bawahnya menjadi lisa: <br><br>  Sekarang pemiliknya terlihat seperti ini: <br><br><pre> <code class="bash hljs">[root@localhost ~]<span class="hljs-comment"><span class="hljs-comment"># ls -l /home total 0 drwx------. 2 account account 62 Sep 25 21:41 account drwx------. 2 lisa lisa 62 Sep 25 21:42 lisa</span></span></code> </pre><br>  Jalankan: <br><br><pre> <code class="bash hljs">[root@localhost ~]<span class="hljs-comment"><span class="hljs-comment"># chown -R lisa /home/account [root@localhost ~]#</span></span></code> </pre><br>  Sekarang lisa telah menjadi pemilik direktori akun: <br><br><pre> <code class="bash hljs">[root@localhost ~]<span class="hljs-comment"><span class="hljs-comment"># ls -l /home total 0 drwx------. 2 lisa account 62 Sep 25 21:41 account drwx------. 2 lisa lisa 62 Sep 25 21:42 lisa</span></span></code> </pre><br><h3>  Perubahan pemilik grup </h3><br>  Ada dua cara untuk mengubah kepemilikan grup.  Anda dapat melakukan ini menggunakan <b>chown</b> , tetapi ada perintah khusus yang disebut <b>chgrp</b> yang <b>berfungsi</b> .  Jika Anda ingin menggunakan <b>perintah chown</b> , gunakan <b>.</b>  atau <b>:</b> sebelum nama grup. <br><br>  Perintah berikut mengubah pemilik grup / home / akun menjadi grup akun: <br><br><pre> <code class="bash hljs">chown .account /home/account</code> </pre><br>  Anda dapat menggunakan <b>chown</b> untuk mengubah pemilik pengguna dan / atau grup dengan beberapa cara.  Berikut ini beberapa contohnya: <br><br><ul><li>  <b>chown lisa myfile1</b> menetapkan lisa untuk memiliki myfile1. </li><li>  <b>chown lisa.sales myfile</b> menetapkan pengguna lisa ke pemilik file myfile, dan juga menetapkan grup penjualan ke pemilik file yang sama. </li><li>  <b>chown lisa: sales myfile</b> sama dengan perintah sebelumnya. </li><li>  <b>chown .sales myfile</b> menetapkan grup penjualan sebagai pemilik file myfile tanpa mengubah pemilik pengguna. </li><li>  <b>chown: sales myfile</b> sama dengan perintah sebelumnya. </li></ul><br>  Anda dapat menggunakan perintah <b>chgrp</b> untuk mengubah pemilik grup.  Pertimbangkan contoh berikut, di mana Anda dapat menggunakan <b>chgrp untuk</b> mengatur grup penjualan sebagai pemilik direktori akun: <br><br><pre> <code class="bash hljs">chgrp .sales /home/account</code> </pre> <br>  Seperti halnya <b>chown</b> , Anda dapat menggunakan opsi <b>-R</b> dengan <b>chgrp</b> , dan juga mengubah pemilik grup secara rekursif. <br><br><h3>  Memahami pemilik default </h3><br>  Anda mungkin memperhatikan bahwa ketika pengguna membuat file, kepemilikan default diterapkan. <br>  Pengguna yang membuat file secara otomatis menjadi pemilik file ini, dan grup utama pengguna ini secara otomatis menjadi pemilik file ini.  Ini biasanya grup yang ditentukan dalam file / etc / passwd sebagai grup utama pengguna.  Namun, jika pengguna adalah anggota dari beberapa grup, ia dapat mengubah grup inti yang efektif. <br><br>  Untuk menampilkan grup utama efektif saat ini, pengguna dapat menggunakan perintah <b>grup</b> : <br><br><pre> <code class="bash hljs">[root@server1 ~]<span class="hljs-comment"><span class="hljs-comment"># groups lisa lisa : lisa account sales</span></span></code> </pre><br>  Jika pengguna saat ini ingin mengubah grup utama yang efektif, ia akan menggunakan perintah <b>newgrp</b> , diikuti dengan nama grup yang ia ingin atur sebagai grup primer baru yang efektif.  Setelah menggunakan perintah <b>newgrp</b> , grup utama akan aktif sampai pengguna mengeluarkan <b>perintah keluar</b> atau logout. <br><br>  Berikut ini menunjukkan bagaimana lisa menggunakan perintah ini sehingga grup penjualan menjadi grup utama: <br><br><pre> <code class="bash hljs">lisa@server1 ~]$ groups lisa account sales [lisa@server1 ~]$ newgrp sales [lisa@server1 ~]$ groups sales lisa account [lisa@server1 ~]$ touch file1 [lisa@server1 ~]$ ls -l total 0 -rw-r--r--. 1 lisa sales 0 Feb 6 10:06 file1</code> </pre><br>  Setelah mengubah grup utama saat ini, semua file baru yang dibuat oleh pengguna akan menerima grup ini sebagai grup pemilik. Untuk kembali ke pengaturan awal grup utama, gunakan <b>keluar</b> . <br><br>  Untuk dapat menggunakan perintah <b>newgrp</b> , pengguna harus menjadi anggota grup yang ingin digunakan sebagai primer.  Selain itu, kata sandi grup dapat digunakan untuk grup menggunakan perintah <b>gpasswd</b> .  Jika pengguna menggunakan perintah <b>newgrp</b> tetapi bukan anggota grup target, shell meminta kata sandi grup.  Setelah Anda memasukkan kata sandi grup yang benar, grup utama baru yang efektif akan ditetapkan. <br><br><h2>  Manajemen Hak Dasar </h2><br>  Sistem izin Linux ditemukan pada tahun 1970-an.  Karena kebutuhan komputasi terbatas pada tahun-tahun itu, sistem izin dasar agak terbatas.  Sistem izin ini menggunakan tiga izin yang dapat diterapkan ke file dan direktori.  Di bagian ini, Anda akan belajar cara menggunakan dan mengubah izin ini. <br><br><h3>  Memahami Hak Membaca, Menulis, dan Menjalankan </h3><br>  Tiga izin dasar memungkinkan Anda membaca, menulis, dan mengeksekusi file.  Efek dari izin ini berbeda ketika diterapkan pada file atau direktori.  Untuk file, izin baca memberi Anda hak untuk membuka file untuk dibaca.  Oleh karena itu, Anda dapat membaca isinya, tetapi itu berarti komputer Anda dapat membuka file untuk melakukan sesuatu dengannya. <br><br>  File program yang memerlukan akses ke perpustakaan harus, misalnya, memiliki akses baca ke perpustakaan itu.  Oleh karena itu izin baca adalah izin paling dasar yang Anda perlukan untuk bekerja dengan file. <br><br>  Untuk direktori, membaca memungkinkan Anda untuk menampilkan konten direktori itu.  Anda harus tahu bahwa izin ini tidak memungkinkan Anda membaca file di direktori.  Izin Linux tidak tahu warisan, dan satu-satunya cara untuk membaca file adalah dengan menggunakan izin baca untuk file itu. <br><br>  Karena Anda mungkin bisa menebak, izin menulis, jika diterapkan pada file, memungkinkan Anda untuk menulis ke file.  Dengan kata lain, ini memungkinkan Anda untuk memodifikasi konten file yang ada.  Namun, itu tidak memungkinkan membuat atau menghapus file baru atau mengubah izin file.  Untuk melakukan ini, Anda harus memberikan izin menulis ke direktori tempat Anda ingin membuat file.  Dalam direktori, izin ini juga memungkinkan Anda membuat dan menghapus subdirektori baru. <br><br>  Izin eksekusi adalah apa yang Anda butuhkan untuk mengeksekusi file.  Ini tidak akan pernah diinstal secara default, yang membuat Linux hampir sepenuhnya kebal terhadap virus.  Hanya seseorang dengan izin tulis ke direktori yang dapat menerapkan izin untuk mengeksekusi. <br><br>  <b>Berikut ini ringkasan penggunaan izin dasar:</b> <br><br><img src="https://habrastorage.org/webt/rr/-a/ty/rr-atyy5ru2por4kcyrmd-x87n8.jpeg"><br><br><h2>  Menggunakan chmod </h2><br>  Untuk mengelola hak, gunakan <b>perintah chmod</b> .  Saat menggunakan <b>chmod,</b> Anda dapat mengatur izin untuk pengguna (pengguna), grup (grup), dan lainnya (lainnya).  Anda dapat menggunakan perintah ini dalam dua mode: mode relatif dan mode absolut.  Dalam mode absolut, tiga digit digunakan untuk mengatur izin dasar. <br><br><img src="https://habrastorage.org/webt/3r/6l/va/3r6lvaw_mpvo7sxfsggtxik3ofs.jpeg"><br><br>  Saat mengatur izin, hitung nilai yang Anda butuhkan.  Jika Anda ingin mengatur membaca, menulis, dan mengeksekusi untuk pengguna, membaca dan mengeksekusi untuk grup, dan membaca dan mengeksekusi untuk orang lain di file / somefile, maka Anda menggunakan <b>perintah chmod</b> berikut: <br><br><pre> <code class="bash hljs">chmod 755 /somefile</code> </pre> <br>  Saat Anda menggunakan <b>chmod</b> dengan cara ini, semua izin saat ini digantikan oleh izin yang Anda atur. <br><br>  Jika Anda ingin mengubah izin relatif terhadap izin saat ini, Anda dapat menggunakan <b>chmod</b> dalam mode relatif.  Saat menggunakan <b>chmod</b> dalam mode relatif, Anda bekerja dengan tiga indikator untuk menunjukkan apa yang ingin Anda lakukan: <br><br><ol><li>  Pertama, Anda menunjukkan untuk siapa Anda ingin mengubah izin.  Untuk melakukan ini, Anda dapat memilih antara pengguna ( <b>u</b> ), grup ( <b>g</b> ) dan lainnya ( <b>o</b> ). </li><li>  Kemudian Anda menggunakan operator untuk menambah atau menghapus izin dari mode saat ini, atau mengaturnya sepenuhnya. </li><li>  Pada akhirnya, Anda menggunakan <b>r</b> , <b>w,</b> dan <b>x</b> untuk menunjukkan izin mana yang ingin Anda atur. </li></ol><br>  Saat mengubah izin dalam mode relatif, Anda dapat melewati bagian "ke" untuk menambah atau menghapus izin untuk semua objek.  Misalnya, perintah ini menambahkan izin eksekusi untuk semua pengguna: <br><br><pre> <code class="bash hljs">chmod +x somefile</code> </pre> <br>  Saat bekerja dalam mode relatif, Anda juga dapat menggunakan perintah yang lebih kompleks.  Misalnya, perintah ini menambahkan izin menulis ke grup dan menghapus bacaan untuk orang lain: <br><br><pre> <code class="bash hljs">chmod g+w,or somefile</code> </pre> <br>  Saat menggunakan <b>chmod -R o + rx / data,</b> Anda menetapkan izin eksekusi untuk semua direktori, serta untuk file di direktori / data.  Untuk mengatur izin untuk mengeksekusi hanya untuk direktori, bukan untuk file, gunakan <b>chmod -R o + rX / data</b> . <br><br>  Huruf besar X memastikan bahwa file tidak mendapatkan izin untuk dieksekusi jika file tersebut belum menetapkan izin eksekusi untuk beberapa objek.  Ini membuat X cara yang lebih cerdas untuk bekerja dengan mengeksekusi izin;  ini akan menghindari menginstal izin ini pada file yang tidak diperlukan. <br><br><h2>  Hak yang Diperpanjang </h2><br>  Selain izin dasar yang baru saja Anda baca, Linux juga memiliki seperangkat izin lanjutan.  Ini bukan izin default yang Anda tetapkan, tetapi terkadang mereka memberikan tambahan yang bermanfaat.  Di bagian ini, Anda akan mempelajari apa itu dan bagaimana mengkonfigurasinya. <br><br><h3>  Memahami izin SUID, GUID dan bit stick yang diperluas </h3><br>  Ada tiga izin lanjutan.  Yang pertama adalah izin untuk menetapkan pengidentifikasi pengguna (SUID).  Dalam beberapa kasus khusus, Anda dapat menerapkan izin ini ke file yang dapat dieksekusi.  Secara default, pengguna yang menjalankan file yang dapat dieksekusi mengeksekusi file dengan izinnya sendiri. <br><br>  Untuk pengguna biasa, ini biasanya berarti bahwa penggunaan program terbatas.  Namun, dalam beberapa kasus, pengguna hanya memerlukan izin khusus untuk melakukan tugas tertentu. <br><br>  Pertimbangkan, misalnya, situasi di mana pengguna perlu mengubah kata sandi.  Untuk melakukan ini, pengguna harus menulis kata sandi barunya ke file / etc / shadow.  Namun, file ini tidak dapat ditulisi oleh pengguna non-root: <br><br><pre> <code class="bash hljs">root@hnl ~]<span class="hljs-comment"><span class="hljs-comment"># ls -l /etc/shadow ----------. 1 root root 1184 Apr 30 16:54 /etc/shadow</span></span></code> </pre><br>  Resolusi SUID menawarkan solusi untuk masalah ini.  Di utilitas / usr / bin / passwd, izin ini digunakan secara default.  Ini berarti bahwa ketika kata sandi diubah, pengguna sementara mendapatkan hak akses root, yang memungkinkannya untuk menulis ke file / etc / shadow.  Anda dapat melihat resolusi SUID dengan <b>ls-l</b> di posisi di mana Anda biasanya mengharapkan <b>x</b> untuk izin pengguna: <br><br><pre> <code class="bash hljs">[root@hnl ~]<span class="hljs-comment"><span class="hljs-comment"># ls -l /usr/bin/passwd -rwsr-xr-x. 1 root root 32680 Jan 28 2010 /usr/bin/passwd</span></span></code> </pre><br>  Izin SUID mungkin terlihat berguna (dan dalam beberapa kasus itu), tetapi pada saat yang sama mereka berpotensi berbahaya.  Jika digunakan secara tidak benar, Anda dapat secara tidak sengaja memberikan izin akses root.  Karena itu, saya sarankan menggunakannya hanya dengan sangat hati-hati. <br><br>  Sebagian besar administrator tidak perlu menggunakannya;  Anda akan melihatnya hanya di beberapa file di mana sistem operasi harus mengaturnya secara default. <br><br>  Izin khusus kedua adalah pengidentifikasi grup (SGID).  Resolusi ini memiliki dua efek.  Ketika diterapkan ke file yang dapat dieksekusi, itu memberi pengguna yang mengeksekusi file izin dari pemilik grup file ini.  Dengan demikian, SGID dapat melakukan kurang lebih sama dengan SUID.  Namun, SGID secara praktis tidak digunakan untuk tujuan ini. <br><br>  Seperti halnya izin SUID, SGID diterapkan ke beberapa file sistem sebagai pengaturan default. <br><br>  Ketika diterapkan ke direktori, SGID dapat berguna karena Anda dapat menggunakannya untuk mengatur pemilik grup default untuk file dan subdirektori yang dibuat dalam direktori ini.  Secara default, ketika pengguna membuat file, grup utamanya yang efektif ditetapkan sebagai pemilik grup untuk file ini. <br><br>  Ini tidak selalu sangat berguna, terutama karena pengguna Red Hat / CentOS memiliki grup dengan nama yang sama dengan pengguna, dan di mana pengguna adalah satu-satunya anggota.  Dengan demikian, secara default, file yang dibuat pengguna akan dibagikan. <br><br>  Bayangkan sebuah situasi di mana pengguna linda dan lori bekerja di bidang akuntansi dan merupakan anggota grup <i>akun</i> .  Secara default, pengguna ini adalah anggota grup pribadi yang mana mereka adalah satu-satunya anggota.  Namun, kedua pengguna adalah anggota grup akun, tetapi juga sebagai parameter grup sekunder. <br><br>  Situasi default adalah ketika salah satu dari pengguna ini membuat file, grup utama menjadi pemilik.  Oleh karena itu, secara default, linda tidak dapat mengakses file yang dibuat oleh lori, dan sebaliknya.  Namun, jika Anda membuat direktori grup bersama (katakan / grup / akun) dan pastikan bahwa izin SGID diterapkan ke direktori ini dan bahwa akuntansi grup ditetapkan sebagai pemilik grup untuk direktori ini, semua file dibuat di direktori ini dan di semua subdirektori nya , juga dapatkan grup akun sebagai pemilik grup default. <br><br>  Karena alasan ini, izin SGID adalah izin yang sangat berguna untuk dipasang di direktori grup bersama. <br><br>  Izin SGID ditunjukkan dalam output <b>ls -ld</b> sebagai <b>s</b> pada posisi di mana Anda biasanya menemukan izin untuk mengeksekusi grup: <br><br><pre> <code class="bash hljs">[root@hnl data]<span class="hljs-comment"><span class="hljs-comment"># ls -ld account drwxr-sr-x. 2 root account 4096 Apr 30 21:28 account</span></span></code> </pre><br>  Yang ketiga dari izin khusus sedikit lengket.  Izin ini berguna untuk melindungi file dari penghapusan tidak disengaja di lingkungan di mana banyak pengguna memiliki izin menulis ke direktori yang sama.  Jika sedikit lengket digunakan, pengguna dapat menghapus file hanya jika dia adalah pemilik file atau direktori di mana file tersebut berada.  Untuk alasan ini, ini digunakan sebagai izin default untuk direktori / tmp dan mungkin juga berguna untuk direktori grup bersama. <br><br>  Tanpa sedikit lengket, jika pengguna dapat membuat file dalam direktori, ia juga dapat menghapus file dari direktori ini.  Dalam lingkungan grup publik, ini bisa mengganggu.  Bayangkan pengguna linda dan lori, yang keduanya memiliki izin menulis ke direktori / data / akun dan menerima izin ini melalui keanggotaan di grup akun.  Oleh karena itu, linda dapat menghapus file yang dibuat oleh lori, dan sebaliknya. <br><br>  Saat Anda menggunakan bit sticky, pengguna dapat menghapus file hanya jika salah satu dari kondisi berikut ini benar: <br><br><ul><li>  Pengguna adalah pemilik file; </li><li>  Pengguna adalah pemilik direktori tempat file tersebut berada. </li></ul><br>  Saat menggunakan <b>ls -ld</b> , Anda dapat melihat bit lengket seperti <b>t</b> pada posisi di mana Anda biasanya melihat izin eksekusi untuk orang lain: <br><br><pre> <code class="bash hljs">[root@hnl data]<span class="hljs-comment"><span class="hljs-comment"># ls -ld account/ drwxr-sr-t. 2 root account 4096 Apr 30 21:28 account/</span></span></code> </pre><br><h3>  Hak yang Ditingkatkan </h3><br>  Untuk menerapkan SUID, SGID dan sticky bit, Anda juga dapat menggunakan <b>chmod</b> .  SUID memiliki nilai numerik 4, SGID memiliki nilai numerik 2, dan bit sticky memiliki nilai numerik 1. <br><br>  Jika Anda ingin menerapkan izin ini, Anda perlu menambahkan argumen empat digit ke <b>chmod</b> , digit pertama yang mengacu pada izin khusus.  Baris berikut, misalnya, akan menambahkan izin SGID ke direktori dan mengatur rwx untuk pengguna dan rx untuk grup dan lainnya: <br><br><pre> <code class="bash hljs">chmod 2755 /somedir</code> </pre> <br>  Ini sangat tidak praktis jika Anda perlu melihat izin saat ini yang ditetapkan sebelum bekerja dengan <b>chmod</b> dalam mode absolut.  (Anda berisiko menimpa izin jika tidak.) Oleh karena itu, saya sarankan bekerja dalam mode relatif jika Anda perlu menerapkan salah satu izin khusus: <br><br><ol><li>  Untuk SUID, gunakan <b>chmod u + s</b> . </li><li>  Untuk SGID, gunakan <b>chmod g + s</b> . </li><li>  Untuk bit sticky, gunakan <b>chmod + t</b> dan kemudian nama file atau direktori yang ingin Anda atur izinnya. </li></ol><br>  Tabel ini merangkum segala hal yang penting untuk diketahui tentang mengelola izin khusus. <br><br><img src="https://habrastorage.org/webt/ls/bk/1d/lsbk1dyrexjjgwx6g1__fws8ols.jpeg"><br><br><h3>  Contoh bekerja dengan hak khusus </h3><br>  Dalam contoh ini, Anda menggunakan izin khusus untuk membuatnya lebih mudah bagi anggota tim untuk berbagi file di direktori grup bersama.  Anda menetapkan bit ID dari pengidentifikasi grup yang ditetapkan, serta bit yang lengket, dan Anda melihat bahwa setelah mereka diinstal, fungsi ditambahkan yang memfasilitasi kerja bersama anggota grup. <br><br><ol><li>  Buka terminal di mana Anda adalah pengguna linda.  Anda dapat membuat pengguna menggunakan <b>useradd linda</b> , tambahkan kata sandi <b>passwd linda</b> . </li><li>  Buat direktori / data dan subdirektori / data / penjualan di root dengan perintah <b>mkdir -p / data / penjualan</b> .  Jalankan <b>cd / data / penjualan</b> untuk pergi ke direktori penjualan.  Jalankan <b>touch linda1</b> dan <b>sentuh linda2</b> untuk membuat dua file kosong yang dimiliki oleh linda. </li><li>  Jalankan <b>su - lisa</b> untuk mengalihkan pengguna saat ini ke lisa, yang juga merupakan anggota grup penjualan. </li><li>  Jalankan <b>cd / data / sales</b> dan dari direktori ini, jalankan <b>ls -l</b> .  Anda akan melihat dua file yang dibuat oleh linda dan milik grup linda.  Jalankan <b>rm -f linda *</b> .  Ini akan menghapus kedua file. </li><li>  Jalankan <b>touch lisa1</b> dan <b>sentuh lisa2</b> untuk membuat dua file milik lisa pengguna. </li><li>  Jalankan <b>su -</b> untuk meningkatkan hak istimewa Anda ke tingkat root. </li><li>  Jalankan <b>chmod g + s, o + t / data / penjualan</b> untuk mengatur bit pengenal grup (GUID) serta bit sticky di direktori grup bersama. </li><li>  Jalankan <b>su - linda</b> .  Kemudian lakukan <b>sentuh linda3</b> dan <b>sentuh linda4</b> .  Sekarang Anda akan melihat bahwa dua file yang Anda buat milik grup penjualan, yang merupakan pemilik grup direktori / data / penjualan. </li><li>  Jalankan <b>rm -rf lisa *</b> .  Sticky bit mencegah file-file ini dihapus atas nama linda karena Anda tidak memiliki file-file ini.  Harap dicatat bahwa jika linda adalah pemilik direktori / data / penjualan, ia tetap dapat menghapus file-file ini! </li></ol><br><h2>  Mengelola ACL (setfacl, getfacl) di Linux </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bahkan jika hak yang diperluas yang dibahas di atas menambah fungsionalitas yang berguna untuk cara Linux bekerja dengan izin, ini tidak memungkinkan Anda untuk memberikan izin kepada lebih dari satu pengguna atau satu grup dalam satu file. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Daftar kontrol akses menawarkan fitur ini. </font><font style="vertical-align: inherit;">Selain itu, mereka memungkinkan administrator untuk mengatur izin default dengan cara yang rumit di mana izin yang ditetapkan dapat bervariasi di direktori yang berbeda.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Memahami ACL </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Meskipun subsistem ACL menambahkan fungsionalitas hebat ke server Anda, ia memiliki satu kelemahan: tidak semua utilitas mendukungnya. Oleh karena itu, Anda mungkin kehilangan pengaturan ACL saat menyalin atau memindahkan file, dan perangkat lunak cadangan mungkin tidak mencadangkan pengaturan ACL. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilitas tar tidak mendukung ACL. Untuk memastikan bahwa pengaturan ACL tidak hilang saat membuat cadangan, gunakan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bintang</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sebagai ganti tar. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">star</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bekerja dengan parameter yang sama dengan tar; itu hanya menambah dukungan untuk pengaturan ACL. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anda juga dapat mencadangkan ACL menggunakan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">getfacl</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang dapat dipulihkan menggunakan perintah setfacl. Untuk membuat cadangan, gunakan</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">getfacl -R / direktori&gt; file.acls</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Untuk mengembalikan pengaturan dari file cadangan, gunakan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setfacl --restore = file.acl</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kurangnya dukungan dengan beberapa alat seharusnya tidak menjadi masalah. </font><font style="vertical-align: inherit;">ACL sering diterapkan pada direktori sebagai ukuran struktural, bukan pada file individual. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oleh karena itu, tidak akan banyak, tetapi hanya sedikit, yang diterapkan di tempat-tempat pintar sistem file. </font><font style="vertical-align: inherit;">Oleh karena itu, memulihkan ACL asli yang bekerja dengan Anda relatif mudah, bahkan jika perangkat lunak cadangan Anda tidak mendukungnya.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mempersiapkan sistem file untuk ACL </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sebelum Anda mulai bekerja dengan ACL, Anda mungkin perlu menyiapkan sistem file untuk mendukung ACL. </font><font style="vertical-align: inherit;">Karena metadata sistem file perlu diperluas, tidak selalu ada dukungan default untuk ACL dalam sistem file. </font><font style="vertical-align: inherit;">Jika Anda mendapatkan pesan "operasi tidak didukung" ketika mengonfigurasi ACL untuk sistem file, sistem file Anda mungkin tidak memiliki dukungan ACL. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Untuk memperbaikinya, Anda perlu menambahkan opsi </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mount acl</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> di file / etc / fstab sehingga sistem file di-mount dengan dukungan ACL secara default.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ubah dan lihat pengaturan ACL dengan setfacl dan getfacl </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Untuk mengatur ACL, Anda memerlukan perintah </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setfacl</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Untuk melihat pengaturan ACL saat ini, Anda perlu </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">getfacl</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Perintah </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls-l</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tidak menunjukkan ACL yang ada; itu hanya menunjukkan + setelah daftar izin, yang menunjukkan bahwa ACL berlaku untuk file juga. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sebelum mengkonfigurasi ACL, selalu berguna untuk menunjukkan pengaturan ACL saat ini menggunakan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">getfacl</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Di bawah ini dengan contoh, Anda dapat melihat izin saat ini, seperti yang ditunjukkan dengan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ls -ld</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , serta ditunjukkan dengan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">getfacl</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Jika Anda melihat dengan cukup hati-hati, Anda akan melihat bahwa informasi yang ditampilkan persis sama.</font></font><br><br><pre> <code class="bash hljs">[root@server1 /]<span class="hljs-comment"><span class="hljs-comment"># ls -ld /dir drwxr-xr-x. 2 root root 6 Feb 6 11:28 /dir [root@server1 /]# getfacl /dir getfacl: Removing leading '/' from absolute path names # file: dir # owner: root # group: root user::rwx group::rx other::rx</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sebagai hasil dari perintah </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">getfacl</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Anda dapat melihat di bawah ini bahwa izin ditampilkan untuk tiga objek berbeda: pengguna, grup, dan lainnya. Sekarang mari kita tambahkan ACL untuk memberikan izin membaca dan mengeksekusi ke grup penjualan. Perintah untuk ini adalah </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setfacl -mg: sales: rx / dir</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dalam perintah ini, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-m</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> menunjukkan bahwa pengaturan ACL saat ini harus diubah. Setelah itu, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g: sales: rx</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> memberitahu tim untuk mengatur ACL untuk membaca dan mengeksekusi ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rx</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) untuk </font><font style="vertical-align: inherit;">penjualan </font><font style="vertical-align: inherit;">grup ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Di bawah ini Anda dapat melihat bagaimana perintah itu terlihat, serta output dari perintah getfacl setelah mengubah pengaturan ACL saat ini.</font></font><br><br><pre> <code class="bash hljs">[root@server1 /]<span class="hljs-comment"><span class="hljs-comment"># setfacl -mg:sales:rx /dir [root@server1 /]# getfacl /dir getfacl: Removing leading '/' from absolute path names # file: dir # owner: root # group: root user::rwx group::rx group:sales:rx mask::rx other::rx</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sekarang setelah Anda memahami cara mengatur ACL grup, mudah untuk memahami ACL untuk pengguna dan pengguna lain. </font><font style="vertical-align: inherit;">Sebagai contoh, perintah </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setfacl -mu: linda: rwx / data</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> memberikan izin kepada pengguna linda di direktori / data, tanpa menjadikannya pemilik dan tanpa mengubah tujuan pemilik saat ini. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perintah </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setfacl</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> memiliki banyak fitur dan opsi. </font><font style="vertical-align: inherit;">Satu opsi sangat penting, opsi </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-R</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Jika digunakan, opsi ini mengkonfigurasi ACL untuk semua file dan subdirektori yang saat ini ada di direktori tempat Anda menginstal ACL. </font><font style="vertical-align: inherit;">Disarankan agar Anda selalu menggunakan opsi ini saat memodifikasi ACL untuk direktori yang ada.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bekerja dengan ACL default </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Salah satu manfaat menggunakan ACL adalah Anda dapat memberikan izin kepada banyak pengguna atau grup dalam direktori. Keuntungan lain adalah bahwa Anda dapat mengaktifkan warisan dengan bekerja dengan ACL default. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dengan menetapkan ACL default, Anda menentukan izin yang akan ditetapkan untuk semua item baru yang dibuat dalam direktori. Perlu diingat bahwa ACL default tidak mengubah izin untuk file dan subdirektori yang ada. Untuk mengubahnya, Anda perlu menambahkan ACL biasa! </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ini penting untuk diketahui.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Jika Anda ingin menggunakan ACL untuk mengonfigurasi akses untuk banyak pengguna atau grup ke direktori yang sama, Anda harus mengatur ACL dua kali. Pertama gunakan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setfacl -R -m</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk mengubah ACL untuk file saat ini. Kemudian gunakan</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setfacl -md:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk mengurus semua elemen baru yang juga akan dibuat. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Untuk mengatur ACL default, Anda hanya perlu menambahkan opsi </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> setelah opsi </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-m</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (urutan penting!). Jadi gunakan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setfacl -md: g: sales: rx / data</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> jika Anda ingin grup penjualan membaca dan mengeksekusi akses ke apa pun yang pernah dibuat di direktori / data. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saat menggunakan ACL default, juga berguna untuk mengatur ACL untuk orang lain. Ini biasanya tidak masuk akal, karena Anda juga dapat mengubah izin untuk orang lain menggunakan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chmod</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Namun, apa yang tidak bisa Anda lakukan dengan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chmod</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ini menunjukkan hak yang harus diberikan kepada pengguna lain untuk setiap file baru yang akan dibuat. </font><font style="vertical-align: inherit;">Jika Anda ingin orang lain tidak mendapatkan izin untuk apa pun yang dibuat di / data, misalnya, gunakan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setfacl -md: o :: - / data</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ACL dan izin reguler tidak selalu terintegrasi dengan baik. </font><font style="vertical-align: inherit;">Masalah dapat terjadi jika Anda menerapkan ACL default ke direktori, setelah item yang telah ditambahkan ke direktori ini, dan kemudian mencoba mengubah izin normal. </font><font style="vertical-align: inherit;">Perubahan yang berlaku untuk izin reguler tidak akan tercermin dengan baik dalam ikhtisar ACL. </font><font style="vertical-align: inherit;">Untuk menghindari masalah, pertama atur izin normal, lalu atur ACL default (dan kemudian coba untuk tidak mengubahnya lagi).</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Contoh Manajemen Hak Lanjutan Menggunakan ACL </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dalam contoh ini, Anda akan terus bekerja dengan direktori / data / akun dan / data / penjualan yang Anda buat sebelumnya. </font><font style="vertical-align: inherit;">Dalam contoh sebelumnya, Anda menjamin bahwa grup penjualan memiliki izin untuk / data / penjualan, dan grup akun memiliki izin untuk / data / akun. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pertama, pastikan bahwa grup akun mendapat izin baca di direktori / data / akun, dan grup penjualan mendapat izin baca di direktori / data / akun. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kemudian Anda mengatur ACL default untuk memastikan bahwa semua file baru memiliki izin yang ditetapkan untuk semua item baru.</font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Buka terminal. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jalankan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setfacl -mg: akun: rx / data / sales</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setfacl -mg: penjualan: rx / data / akun</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li><li>  <b>getfacl</b> ,  ,      ,   . </li><li>  <b>setfacl -md:g:account:rwx,g:sales:rx /data/sales</b> ,   ACL     sales. </li><li>  ACL     /data/account,  <b>setfacl -md:g:sales:rwx,g:account:rx /data/account</b> . </li><li> ,   ACL ,     /data/sales.  <b>touch /data/sales/newfile</b>   <b>getfacl /data/sales/newfile</b>    . </li></ol><br><h2>       umask </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Di atas, Anda belajar cara bekerja dengan ACL secara default. Jika Anda tidak menggunakan ACL, ada parameter shell yang mendefinisikan hak default yang akan Anda terima: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">umask</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (topeng mundur). Di bagian ini, Anda akan belajar cara mengubah izin default menggunakan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">umask</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anda mungkin memperhatikan bahwa ketika Anda membuat file baru, beberapa izin default ditetapkan. Izin ini ditentukan oleh pengaturan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">umask</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Opsi shell ini berlaku untuk semua pengguna saat masuk. Parameter </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">umask</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> menggunakan nilai numerik yang dikurangkan dari izin maksimum yang dapat secara otomatis ditetapkan untuk file; pengaturan maksimum untuk file adalah 666, dan untuk direktori - 777.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Namun, beberapa pengecualian berlaku untuk aturan ini. Anda dapat menemukan gambaran umum lengkap pengaturan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">umask</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pada tabel di bawah ini. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dari digit yang digunakan dalam </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">umask</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , seperti dalam kasus argumen numerik untuk </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perintah chmod</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , digit pertama merujuk pada izin pengguna, digit kedua mengacu pada izin grup, dan yang terakhir mengacu pada izin default yang ditetapkan untuk orang lain. Nilai </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">umask</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> default 022 memberikan 644 untuk semua file baru dan 755 untuk semua direktori baru yang dibuat di server Anda. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gambaran lengkap dari semua nilai numerik </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">umask</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan hasilnya dalam tabel di bawah ini.</font></font><br><br><img src="https://habrastorage.org/webt/yi/l8/x0/yil8x0tn7hy6ecxndifimssztnk.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cara mudah untuk melihat cara kerja parameter umask adalah sebagai berikut: mulai dengan izin default untuk file yang ditetapkan ke 666, dan kurangi umask untuk mendapatkan izin yang valid. Lakukan hal yang sama untuk direktori dan izin default 777. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ada dua cara untuk mengubah pengaturan umask: untuk semua pengguna dan untuk pengguna individu. Jika Anda ingin menginstal umask untuk semua pengguna, Anda harus memastikan bahwa opsi umask diperhitungkan saat menjalankan file environment shell, sebagaimana ditentukan dalam / etc / profile. Pendekatan yang benar adalah dengan membuat skrip shell bernama umask.sh di direktori /etc/profile.d dan tentukan umask yang ingin Anda gunakan dalam skrip shell ini. Jika umask diubah dalam file ini, ini diterapkan untuk semua pengguna setelah masuk ke server.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alternatif untuk mengonfigurasi umask melalui / etc / profile dan file terkait, di mana ia diterapkan untuk semua pengguna di sistem, adalah mengubah pengaturan umask dalam file bernama .profile, yang dibuat di direktori home masing-masing pengguna. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengaturan yang diterapkan dalam file ini hanya berlaku untuk pengguna individu; </font><font style="vertical-align: inherit;">oleh karena itu, ini adalah metode yang baik jika Anda membutuhkan lebih banyak detail. </font><font style="vertical-align: inherit;">Saya pribadi suka fitur ini untuk mengubah nilai umask default untuk pengguna root ke 027, sementara pengguna biasa bekerja dengan umask 022 default.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bekerja dengan atribut pengguna tingkat lanjut </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ini adalah bagian terakhir tentang hak Linux. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saat bekerja dengan izin, selalu ada hubungan antara objek pengguna atau grup dan izin yang dimiliki objek pengguna atau grup ini untuk file atau direktori. Metode alternatif untuk melindungi file di server Linux adalah bekerja dengan atribut. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atribut melakukan pekerjaan mereka terlepas dari pengguna yang mengakses file. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seperti halnya ACL, atribut file mungkin perlu menyertakan opsi </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mount</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ini adalah opsi </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">user_xattr</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Jika Anda mendapatkan pesan "operasi tidak didukung" ketika bekerja dengan atribut pengguna tingkat lanjut, pastikan untuk mengatur parameter </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mount</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> di file / etc / fstab.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Banyak atribut didokumentasikan. Beberapa atribut tersedia tetapi belum diimplementasikan. Jangan menggunakannya; mereka tidak akan membawakanmu apa pun. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Berikut ini adalah atribut yang paling berguna yang dapat Anda terapkan: </font></font></b> <br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Atribut ini memastikan bahwa waktu akses ke file file tidak berubah. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Biasanya setiap kali file dibuka, waktu akses file harus ditulis ke metadata file. Ini mempengaruhi kinerja; Oleh karena itu, untuk file yang diakses secara teratur, atribut </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dapat digunakan untuk menonaktifkan fitur ini. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Atribut ini memungkinkan Anda untuk menambah, tetapi tidak menghapus, file. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika Anda menggunakan sistem file yang mendukung kompresi level volume, atribut file ini memastikan bahwa file akan dikompresi saat mekanisme kompresi diaktifkan untuk pertama kali. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Atribut ini memastikan bahwa perubahan pada file segera ditulis ke disk, dan tidak di-cache terlebih dahulu. Ini adalah atribut yang berguna dalam file database penting, memastikan bahwa mereka tidak hilang antara cache file dan hard drive. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Atribut ini memastikan bahwa file tidak akan disimpan dalam cadangan di mana utilitas dump digunakan. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saya</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atribut ini memungkinkan pengindeksan untuk direktori yang disertakan. Ini memberikan akses file yang lebih cepat untuk sistem file primitif seperti Ext3, yang tidak menggunakan database B-tree untuk akses file cepat. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Atribut ini membuat file tidak berubah. Oleh karena itu, Anda tidak dapat membuat perubahan pada file, yang berguna untuk file yang membutuhkan perlindungan tambahan. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">j</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ini atribut memastikan bahwa sistem berkas berkas ext3 pertama kali ditulis ke log, dan kemudian - dalam blok data pada hard disk. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Timpa blok tempat file disimpan selama 0 s setelah menghapus file. Ini memastikan pemulihan file tidak dimungkinkan setelah dihapus. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kamu</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atribut ini menyimpan informasi penghapusan. Ini memungkinkan Anda untuk mengembangkan utilitas yang berfungsi dengan informasi ini untuk menyimpan file yang dihapus. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika Anda ingin menerapkan atribut, Anda dapat menggunakan perintah </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chattr</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Sebagai contoh, gunakan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chattr + s somefile</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk menerapkan atribut ke somefile. Perlu menghapus atribut? Kemudian gunakan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chattr -s somefile</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan itu akan dihapus. Untuk mendapatkan gambaran umum dari semua atribut yang saat ini digunakan, gunakan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perintah lsattr</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h2>  Ringkasan </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Di artikel ini, Anda belajar cara bekerja dengan izin. Anda membaca tentang tiga izin dasar, izin lanjutan, dan cara menerapkan ACL ke sistem file. Anda juga belajar cara menggunakan parameter umask untuk menerapkan izin default. Di akhir artikel ini, Anda belajar cara menggunakan atribut tingkat lanjut pengguna untuk menerapkan lapisan tambahan keamanan sistem file. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika Anda menyukai terjemahan ini, silakan tulis di komentar. Akan ada lebih banyak motivasi untuk membuat terjemahan yang bermanfaat.</font></font><br><br><blockquote>        .          . <br><br>  « -          .»   « -          .»,    . <br><br>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">berez</a> . <br></blockquote><br><blockquote> : <br>      ,  ,     ,     . <br><br> : <br>      ,  ,     ,       .      ,       ,    ,    . <br><br>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">CryptoPirate</a> <br></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id469667/">https://habr.com/ru/post/id469667/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id469651/index.html">WIBAttack. Apakah kerentanan kartu SIM baru benar-benar mengerikan?</a></li>
<li><a href="../id469655/index.html">Mengapa Anda memerlukan layanan dukungan yang tidak mendukung?</a></li>
<li><a href="../id469657/index.html">Analisis: aset pertukaran apa yang membawa pengembalian terbesar bagi investor Rusia</a></li>
<li><a href="../id469659/index.html">Mobil RC: Pendahuluan</a></li>
<li><a href="../id469663/index.html">Kisah DashaMail: dari meluncurkan klon start-up email Amerika hingga pertengkaran dengan investor dan awal baru</a></li>
<li><a href="../id469669/index.html">Edward Snowden berbicara tentang mengapa ia menjadi informan</a></li>
<li><a href="../id469671/index.html">Mengapa Anda harus menggunakan bahasa Ada untuk memprogram sistem Anda</a></li>
<li><a href="../id469677/index.html">Merokok, gaya hidup sehat, motivasi dan kecepatan pengembangan perangkat lunak</a></li>
<li><a href="../id469681/index.html">Rilis Final TensorFlow 2.0 Dirilis</a></li>
<li><a href="../id469683/index.html">Keamanan Nuklir dan Pengawasan Video Industri</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>