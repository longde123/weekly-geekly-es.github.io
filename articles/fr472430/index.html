<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ§‘ğŸ¿â€ğŸ¤â€ğŸ§‘ğŸ¿ ğŸ§šğŸ» ğŸ˜– Comment nous avons choisi la base de composants pour une maison intelligente: Ã  propos des capteurs et d'un contrÃ´leur â˜•ï¸ ğŸš ğŸ‘©ğŸ¼â€ğŸ¤â€ğŸ‘¨ğŸ½</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kauri dÃ©veloppe des Ã©quipements pour les solutions IoT et Ã©crit des logiciels pour cela. RÃ©cemment, nous avons testÃ© avec succÃ¨s le rÃ©seau Zigbee avec...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment nous avons choisi la base de composants pour une maison intelligente: Ã  propos des capteurs et d'un contrÃ´leur</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/kauri_iot/blog/472430/">  <i>Kauri dÃ©veloppe des Ã©quipements pour les solutions IoT et Ã©crit des logiciels pour cela.</i>  <i>RÃ©cemment, nous avons testÃ© avec succÃ¨s le rÃ©seau Zigbee avec une carte de dÃ©bogage et des capteurs, nous avons donc fait un petit guide.</i> <i><br><br></i>  <i>Parlons des critÃ¨res de sÃ©lection, des fabricants, des prix, un peu grondant le marchÃ© russe.</i> <i><br></i> <br><img src="https://habrastorage.org/webt/vt/5f/fw/vt5ffwzvdfn_drf1po1oqppc_88.jpeg" alt="image"><br><a name="habracut"></a><br>  Nous avons compilÃ© pour nous-mÃªmes la liste suivante de capteurs qui nous intÃ©ressent et qui sont responsables de l'indication: <br><br><ol><li>  Fuite </li><li>  La fumÃ©e </li><li>  PÃ©nÃ©tration (contact magnÃ©tique) </li><li>  Mouvements d'objets </li><li>  Briser le verre </li></ol><br>  Ainsi que des capteurs mesurant: <br><br><ol><li>  La tempÃ©rature </li><li>  Consommation de gaz / eau </li><li>  Consommation d'Ã©nergie </li><li>  HumiditÃ© </li></ol><br>  Parmi ceux-ci, nous avons achetÃ© des capteurs de mouvement / lumiÃ¨re, d'intrusion, de fuite et de tempÃ©rature / humiditÃ© (basÃ©s sur des solutions pour une maison intelligente - prÃ©vention du vol, du feu, des inondations). <br><br><h3>  <font color="#5dbd35">Comment avons-nous choisi un fabricant?</font> </h3><br>  Le critÃ¨re de sÃ©lection le plus simple est le coÃ»t du capteur et sa disponibilitÃ© en Russie.  Le capteur lui-mÃªme est un appareil simple, diffÃ©rentes sociÃ©tÃ©s offrent Ã  peu prÃ¨s la mÃªme qualitÃ©, nous avons donc Ã©tÃ© guidÃ©s par le prix du produit - le moins cher est le mieux.  AprÃ¨s tout, au final, le client paiera tout et des centaines de capteurs peuvent se rendre dans une grande maison.  Si vous payez 1000 roubles ou plus pour chacun, cela coÃ»tera cher. <br><br><img src="https://habrastorage.org/webt/pm/ct/bg/pmctbgqz3rzdczdbsqm7w_jmdec.jpeg" alt="image"><br><br>  Un autre critÃ¨re important est la consommation d'Ã©nergie (nos capteurs, par exemple, fonctionnent sur batterie).  Certains appareils sont placÃ©s dans des endroits difficiles d'accÃ¨s, le remplacement constant des piles peut Ãªtre un problÃ¨me dÃ©sagrÃ©able.  Nous avons observÃ© des capteurs prenant en charge la technologie ZigBee, qui est la norme de communication la plus Ã©conome en Ã©nergie.  Ainsi, nos capteurs peuvent Ãªtre en mode veille, consommant un minimum d'Ã©nergie, et basculer en mode rÃ©ception-transmission uniquement lorsque cela est nÃ©cessaire. <br><br>  Et ZigBee, bien qu'il ait un faible taux de transfert, est considÃ©rÃ© comme un rÃ©seau entiÃ¨rement fiable, auto-rÃ©parateur, facile Ã  dÃ©ployer et Ã  utiliser. <br><br><h3>  <font color="#5dbd35">Qui fabrique ces capteurs?</font> </h3><br>  Il existe de nombreuses entreprises, nous venons de regarder la liste.  Xiaomi est le leader - ils ont un produit bon marchÃ©, une large sÃ©lection, vous pouvez mÃªme commander sur Aliexpress.  Pourtant, les capteurs doivent Ãªtre facilement accessibles et populaires. <br><br>  Les capteurs eux-mÃªmes sont inutiles, ils doivent Ãªtre connectÃ©s au rÃ©seau.  Par consÃ©quent, il est en outre nÃ©cessaire de dÃ©cider quelle base d'Ã©lÃ©ment et quel SoC zigbish choisir afin de tester cette norme de communication. <br><br>  Nous avons choisi entre les cristaux Texas Instruments et Silicon Labs.  Ensuite, ils ont commencÃ© Ã  regarder comment les choses se passent avec le soutien de ces microprocesseurs en Russie.  Lorsque vous commencez Ã  comprendre leur travail, des questions techniques peuvent survenir: la documentation dÃ©taillÃ©e du fabricant vous aidera ici. <br><img src="https://habrastorage.org/webt/6t/pk/7e/6tpk7e8kpxeovlmyrupj-kuy_ks.jpeg" alt="image"><br>  Il y a aussi des composants difficiles Ã  acheter en Russie - il n'y a pas de distributeurs directs.  Et c'est important: vous devez Ãªtre en mesure de conclure un accord de partenariat: vous avez choisi un cristal et vous Ãªtes d'accord pour acheter un lot sur une base mensuelle.  En consÃ©quence, ils vous feront une offre spÃ©ciale Ã  des prix, etc.  Soit dit en passant, certains fabricants peuvent Â«prÃ©senterÂ» des Ã©chantillons de test lors de l'enregistrement d'un projet. <br><br>  En consÃ©quence, nous nous sommes tournÃ©s vers les distributeurs de Silicon Labs, nous pouvons conclure un accord avec eux, les prix sont adÃ©quats, il existe un support non seulement matÃ©riel mais aussi logiciel (toutes sortes de bibliothÃ¨ques spÃ©cialisÃ©es, DLL - tout cela facilite la vie des dÃ©veloppeurs). <br><br>  Ensuite, nous avons besoin d'une carte Ã©lectronique pour travailler avec la puce.  C'est un long processus.  Et pour que les programmeurs puissent immÃ©diatement se mettre au travail, Silicon Labs fournit notamment des cartes de dÃ©bogage (un package complet pour les dÃ©veloppeurs), des pilotes. <br><br><h3>  <font color="#5dbd35">Ã€ propos du contrÃ´leur</font> </h3><br><img src="https://habrastorage.org/webt/v2/a2/vw/v2a2vwie7_pk_0as8vrqbfv-kq0.jpeg" alt="image"><br><br>  Le contrÃ´leur collecte des donnÃ©es sur le fonctionnement des capteurs et les envoie au serveur pour un traitement ultÃ©rieur.  Nous avons fabriquÃ© notre propre contrÃ´leur modulaire Kauri afin qu'il puisse fonctionner avec autant de normes de communication modernes que possible pour diffÃ©rentes industries.  De la logistique, oÃ¹ LoRa est principalement utilisÃ©, Ã  la vente au dÃ©tail, oÃ¹ la technologie RFID est nÃ©cessaire. <br><br>  Il est Ã©galement important pour nous que le contrÃ´leur fonctionne de maniÃ¨re autonome.  Et, mÃªme s'il y a des problÃ¨mes avec le rÃ©seau, la maison doit rester Â«intelligenteÂ» et sÃ»re.  Les contrÃ´leurs Xiaomi, par exemple, ne fournissent pas une telle solution.  Ils transmettent toutes les informations aux serveurs en Chine (au fait, les informations sur l'emplacement du logement peuvent Ã©galement y voler). <br><br>  Le contrÃ´leur Kauri gÃ¨re tous les appareils sur le LAN ZigBee Ã  l'aide de scripts Python.  Par consÃ©quent, en cas de problÃ¨mes avec Internet, le systÃ¨me continuera Ã  exÃ©cuter correctement ses tÃ¢ches. <br><br>  La Â«boÃ®teÂ» pour le contrÃ´leur lui-mÃªme - le boÃ®tier - est fabriquÃ©e par de nombreuses entreprises.  Au moment de le choisir, il vaut mieux partir de la sphÃ¨re d'exploitation - une rue, une maison.  Si le contrÃ´leur est dans la rue, sÃ©lectionnez IP au moins 65 (pour rÃ©sister aux pluies).  Le contrÃ´leur pour les locaux (maison, usine, entrepÃ´t) est sÃ©lectionnÃ© avec IP40.  Si nous avons besoin d'un appareil scellÃ© (pour travailler sous l'eau) - sÃ©lectionnez IP66. <br><br>  Lors du choix d'un logement pour la piÃ¨ce, vous devez faire attention Ã  son apparence, il doit Ãªtre esthÃ©tique dans la maison.  Pour le contrÃ´leur, nous utilisons le processeur de la famille iMX 8M, Cortex A53. <br><br><h3>  <font color="#5dbd35">Ã€ propos de la sÃ©curitÃ©</font> </h3><br><img src="https://habrastorage.org/webt/6l/zw/q5/6lzwq5yggvibvrskndaenezps1u.jpeg" alt="image"><br><br>  Nous avons pris la carte de dÃ©bogage, le capteur et le programmeur a reconstruit le rÃ©seau Zigbee.  Ensuite, nous avons vÃ©rifiÃ© si les capteurs sont apparus sur le rÃ©seau et s'ils ont rÃ©agi normalement.  Et ici, nous avons pensÃ© Ã  la sÃ©curitÃ©.  Le rÃ©seau ZigBee lui-mÃªme assure la protection des donnÃ©es cryptographiques. <br><br>  Le tableau de dÃ©bogage est le coordinateur du rÃ©seau Zigbee.  Le rÃ©seau peut Ãªtre relativement ouvert (les clÃ©s de sÃ©curitÃ© sont Ã©changÃ©es lorsqu'un nouveau capteur est connectÃ©) et fermÃ© (aucune clÃ© n'est Ã©changÃ©e, c'est-Ã -dire que la clÃ© de sÃ©curitÃ© souhaitÃ©e est cousue dans le capteur lui-mÃªme). <br><br>  L'inconvÃ©nient d'un rÃ©seau ouvert est que si quelqu'un au moment de la connexion peut intercepter la clÃ©, le dÃ©cryptage de toutes les informations transmises n'est pas difficile.  Et cela est particuliÃ¨rement dangereux en ce qui concerne le travail de l'usine, par exemple. <br><br>  Dans notre cas, les paramÃ¨tres seront dÃ©finis au niveau de la configuration du rÃ©seau, ce qui signifie que le client choisira la mÃ©thode de connexion des capteurs et le type de sÃ©curitÃ©. <br><br><h3>  <font color="#5dbd35">Ã€ propos de l'industrie russe et Ã©trangÃ¨re</font> </h3><br>  Nous avons utilisÃ© l'Ã©lÃ©ment de base de la production Ã©trangÃ¨re.  En Russie, malheureusement, ils ne fabriquent pas de composants appropriÃ©s.  Toute la technologie ZigBee, microprocesseurs, matrices - tout cela appartient aux AmÃ©ricains. <br><br>  En Russie, la microÃ©lectronique n'est pratiquement pas dÃ©veloppÃ©e, pas mÃªme les rÃ©sistances.  La plupart des composants nationaux sont produits pour l'industrie spatiale, et tout cela coÃ»te de l'argent fou.  Et en tout cas, cela ne convient pas Ã  nos dÃ©cisions. <br><br><h3>  <font color="#5dbd35">OÃ¹ avez-vous commandÃ© et combien a-t-il coÃ»tÃ©?</font> </h3><br>  Il s'agissait d'un achat rÃ©gulier pour un individu (sans contrat) au dÃ©tail dans une boutique en ligne rÃ©guliÃ¨re.  En termes de coÃ»t, cela s'est avÃ©rÃ© comme ceci: <br><br><ul><li>  Un capteur de mouvement coÃ»te 989 roubles </li><li>  FenÃªtre et capteur d'ouverture de fenÃªtre - 989 roubles </li><li>  Fuites d'eau - 929 roubles </li><li>  HumiditÃ© de la tempÃ©rature - 700 roubles </li></ul><br>  Mais nous l'avons achetÃ© pour nous-mÃªmes au bureau pour le tester.  Sur le mÃªme Aliexpress, ces capteurs peuvent Ãªtre achetÃ©s Ã  moitiÃ© prix. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr472430/">https://habr.com/ru/post/fr472430/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr472418/index.html">Comment conserver les droits sur le dÃ©veloppement personnalisÃ©</a></li>
<li><a href="../fr472420/index.html">Rendre l'interface plus rÃ©active grÃ¢ce Ã  la promesse diffÃ©rÃ©e</a></li>
<li><a href="../fr472422/index.html">Sber X RamblerFront & Meet Up</a></li>
<li><a href="../fr472426/index.html">Semaine de la sÃ©curitÃ© 43: La vie secrÃ¨te des Hanipots IoT</a></li>
<li><a href="../fr472428/index.html">OpÃ©rateur Tarantool Kubernetes</a></li>
<li><a href="../fr472432/index.html">Python 3.8: Quoi de neuf et comment l'utiliser?</a></li>
<li><a href="../fr472434/index.html">Mettez Ã  jour vos versions</a></li>
<li><a href="../fr472438/index.html">Comment les procurations sont utilisÃ©es dans la sÃ©curitÃ© de l'information: 6 cas d'utilisation pratiques</a></li>
<li><a href="../fr472440/index.html">Un jour au Joker 2019</a></li>
<li><a href="../fr472442/index.html">La situation: tout le monde parle du retour des formats audio oubliÃ©s - pourquoi ils sont destinÃ©s Ã  rester des niches</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>