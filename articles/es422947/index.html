<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🖖🏾 🙆 🐨 Cómo configurar el archivado de las copias de seguridad de Veeam en Microsoft Azure Blob Storage con StarWind VTL 🤴🏼 🐆 🗼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Les traigo a su atención una traducción de un artículo de mi colega Andrew Zhelezko sobre el uso de una solución integrada de almacenamiento de respal...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cómo configurar el archivado de las copias de seguridad de Veeam en Microsoft Azure Blob Storage con StarWind VTL</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/veeam/blog/422947/">  Les traigo a su atención una traducción de un artículo de mi colega Andrew Zhelezko sobre el uso de una solución integrada de almacenamiento de respaldo basada en los productos Veeam, StarWind y Azure. <br><br>  Hasta el día de hoy, muchas compañías usan bibliotecas de cintas para sus servicios, sin embargo, el almacenamiento en la nube, que garantiza un funcionamiento confiable y estable de los sistemas de respaldo, está ganando popularidad.  Y junto con el soporte para bibliotecas de cintas virtuales comunes, Veeam ahora le permite trabajar con la biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">StarWind VTL para Microsoft Azure Blob Storage</a> .  Esta es una gran oportunidad para aquellos que necesitan un almacenamiento en la nube económico y confiable para almacenar de forma segura copias de seguridad de datos en él.  Los usuarios de una solución integrada de este tipo podrán implementar políticas flexibles de almacenamiento de datos: por ejemplo, mantener copias de seguridad en su infraestructura habitual durante 1-2 semanas y luego moverlas al almacenamiento de blobs de Microsoft Azure a largo plazo.  En este artículo, hablaré brevemente sobre cómo configurar la integración. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/z_/m1/v5/z_m1v5wkrbcqo6p7tvmfnaqz3di.png"></div><br><a name="habracut"></a><br>  Noto que el esfuerzo que un usuario de Veeam necesitará para configurar la integración es mínimo.  Sin embargo, debe tenerse en cuenta que existen muchos escenarios para implementar componentes de una solución integrada, por lo que debe tener cuidado y elegir la configuración que más le convenga.  Los escenarios pueden ser muy diferentes: desde instalar las soluciones Veeam y StarWind en el mismo servidor en la infraestructura local hasta instalarlas en diferentes máquinas virtuales en el entorno de la nube de Azure. <br><br>  En el proceso general de configuración de una solución integrada, hay 3 etapas principales. <br><br><h1>  Etapa 1: preparación de la infraestructura de la nube de Azure </h1><br>  Para preparar la infraestructura de la nube, debe hacer lo siguiente: <br><br><ol><li>  Vaya al portal de Azure, seleccione <b>Cuentas de almacenamiento</b> , agregue un nuevo almacenamiento (o almacenamiento Blob existente). </li><li>  Ingrese toda la información necesaria, desde <b>Tipo</b> de <b>cuenta,</b> seleccione <b>Blob storage</b> . </li><li>  Vaya al nuevo repositorio, copie el nombre y la clave de acceso (que se encuentra en <b>Configuración</b> &gt; <b>Claves de acceso</b> ). </li><li>  Cree un contenedor que luego se utilizará para almacenar datos ( <b>servicio Blob</b> &gt; <b>Contenedores</b> &gt; <b>Nuevo</b> ). </li></ol><br>  Necesitará esta configuración cuando configure la replicación en la nube en StarWind VTL. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yy/9j/nu/yy9jnuaafaojzdiebgcsmexaxk8.png"></div><br><h1>  Paso 2: Configurar StarWind VTL </h1><br>  En este punto, emularemos la instalación de una biblioteca de cintas en el servidor seleccionado.  Veeam Backup &amp; Replication escribirá datos en los medios de esta biblioteca, luego se procesará allí y se preparará para la transferencia a la nube.  Este es el clásico esquema D2D2C (Disk to Disk to Cloud) en acción. <br><br>  Deben completarse los siguientes pasos: <br><br><ol><li>  Instale la última versión de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">StarWind VTL</a> (en el momento de escribir este artículo, era 8.0.0.12248) en el servidor de destino; puede ser una máquina física o virtual, un servidor en la nube o incluso un servidor Veeam. </li><li>  Durante la instalación, seleccione la opción <b>VTL y Cloud Replication</b> ; luego, los componentes StarWind correspondientes se instalarán automáticamente. </li><li>  Especifique la ruta al grupo de almacenamiento (se puede dejar de forma predeterminada en la unidad <b>C</b> ). </li><li>  Luego vaya a la consola StarWind, conéctese al servidor deseado (si tiene todo en la misma máquina, luego seleccione localhost o 127.0.0.1 para conectarse) y cree un dispositivo de cinta virtual con el número requerido de casetes. </li></ol><br>  StarWind VTL emula la verdadera biblioteca de cintas HPE MSL8096, con principios operativos típicos y un conjunto de operaciones. <br><br>  <i>Nota: es</i> posible que deba instalar los controladores más recientes para que el servidor reconozca correctamente la biblioteca especificada.  Puedes llevarlos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aquí</a> . <br><br>  Ahora puede conectar la biblioteca al servidor utilizando el kit de herramientas estándar iSCSI de Windows ( <b>Panel de control</b> &gt; <b>Herramientas administrativas</b> &gt; <b>Iniciador iSCSI</b> ).  Vaya a <b>Discovery</b> &gt; <b>Discovery Portal</b> para inicializar y conectarse a la biblioteca (pestaña <b>Objetivos</b> ). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tq/qo/zc/tqqozc5ivhapvsjwwq9p2cluh3g.png"></div><br>  Después de eso, debe configurar el archivado en la nube mediante la replicación.  Para hacer esto, seleccione Microsoft Azure Cloud Storage, luego especifique los datos que guardó en la etapa <br><br>  1. Después de eso, ingrese la configuración del período de almacenamiento deseado. <br><br><img src="https://habrastorage.org/webt/ez/ye/lv/ezyelv9okt5iuweeogz48wewziq.png"><br><br><h1>  Paso 3: Configurar en el lado de Veeam Backup &amp; Replication </h1><br>  En cuanto a Veeam Backup &amp; Replication, debe agregar el servidor configurado en el paso anterior a la infraestructura de Veeam como un servidor de cintas.  Puede hacer esto en Veeam Backup &amp; Replication;  Deberá especificar IP / DNS y una cuenta para acceder. <br>  Al agregar un servidor en este rol, el <b>Servicio de transporte</b> y el <b>Servicio de proxy de cinta</b> se instalarán automáticamente en él.  También puede seleccionar la opción de inventario automático de cintas. <br><br>  Después de que todos los cassettes se reconocen y se colocan en el grupo <b>de medios libres</b> , tiene sentido crear un grupo de destino de varios cassettes.  Lo necesitaremos un poco más tarde. <br>  Por lo tanto, nuestro Veeam Backup &amp; Replication está conectado a una biblioteca de cintas virtual y puede escribir datos allí.  Para hacer esto, solo necesita crear una tarea de archivo en la <i>cinta Copia de seguridad en cinta</i> (o <i>Archivo a cinta</i> ) y especificar qué archivar (para <i>Copia</i> de <i>seguridad en cinta</i> , ya debería tener copias de seguridad de las máquinas).  Esta tarea tomará casetes de un grupo objetivo previamente preparado (ver arriba). <br>  Dependiendo del tamaño de la copia de seguridad \ archivo, los datos irán a VTL más o menos rápido. <br><br><img src="https://habrastorage.org/webt/qb/4n/u8/qb4nu8ju2ukabdcy1pljah9kgvu.png"><br><br>  Vamos a la consola de administración de StarWind y nos aseguramos de que los datos de la copia de seguridad estén grabados en la cinta en la ranura 1: <br><br><img src="https://habrastorage.org/webt/wb/jf/ye/wbjfyel4p6etppgnmzumihknka0.png"><br><br>  Ahora puede cambiar al servidor de biblioteca de cintas virtual y quitar la cinta de la ranura, si esto no se hizo automáticamente exportando la cinta al final del trabajo.  Como en mi caso el tiempo de inicio de la replicación en la nube se estableció justo después del final de la grabación en cinta, puedo observar personalmente el proceso de carga de datos a la nube en Azure Blob Storage: <br><br><img src="https://habrastorage.org/webt/mm/h2/nx/mmh2nxf2uspnvoclaorigxa3x1k.png"><br><br>  Si la descarga se realizó correctamente, el indicador correspondiente aparecerá en la pestaña <b>Nube</b> .  Para asegurarse de que la copia se realizó correctamente, puede ir a Azure Blob Storage y verificar si los archivos están cargados en nuestro contenedor. <br><br><img src="https://habrastorage.org/webt/cz/kl/ky/czklkyf_-46yetmum32fzorflcw.png"><br><br>  Luego puede usar Azure Portal para cambiar el nivel de acceso para cualquiera de estos archivos descargados. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ku/mi/ze/kumizeni0hhh8hstrpz8-fov5em.png"></div><br>  Se pueden hacer cambios similares usando la configuración de StarWind y usando PowerShell. <br><br><h1>  Un poco sobre la restauración de máquinas virtuales desde una biblioteca VTL a Azure </h1><br>  Los usuarios de StarWind pueden iniciar la operación de restauración desde el almacenamiento en la nube de Azure; para esto, puede abrir la consola Veeam Backup &amp; Replication y seguir el camino estándar con el asistente de recuperación de archivos o VM.  Sin embargo, ¿por qué no realizar la recuperación directamente en su infraestructura de Azure?  De hecho, en Azure Marketplace hay una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">máquina</a> virtual de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">dispositivos StarWind</a> : como Veeam Backup &amp; Replication, puede implementarse en Azure y luego restaurarse desde el almacenamiento de archivos directamente a la nueva VM en Azure.  Este enfoque le ahorrará tiempo y permitirá que las aplicaciones trabajen en diferentes "compartimentos" de la infraestructura de respaldo. <br>  Además de todo, puede proporcionar acceso a estas nuevas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">máquinas virtuales</a> restauradas en Azure a través de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">VeeamPN (Veeam-Powered Network)</a> , por ejemplo, para proporcionar una conexión segura al centro de datos principal de su organización. <br><br><h1>  Enlaces de sitio </h1><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Artículo sobre Habré sobre el trabajo con cintas magnéticas.</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Seminario web</a> sobre una solución integrada (en inglés). </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es422947/">https://habr.com/ru/post/es422947/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es422937/index.html">Almacenamiento en caché de disco de árboles de computación diferida</a></li>
<li><a href="../es422939/index.html">El libro "Kali Linux de los desarrolladores"</a></li>
<li><a href="../es422941/index.html">"Tres en un bote, pobreza y perros", o cómo el antiplagiarismo busca paráfrasis</a></li>
<li><a href="../es422943/index.html">Un poco sobre minería industrial</a></li>
<li><a href="../es422945/index.html">27 de septiembre, Moscú - Mitap QIWI SERVER PARTY 3.0</a></li>
<li><a href="../es422949/index.html">Nuevas estadísticas de CNCF sobre contenedores, nativos de la nube y Kubernetes</a></li>
<li><a href="../es422951/index.html">Interesante y utilidad de python. Parte 3</a></li>
<li><a href="../es422953/index.html">Quién dijo que Flabber no es real: crear un gel de polímero termoestable homogéneo</a></li>
<li><a href="../es422955/index.html">Modo de imagen en imagen en Chrome 69</a></li>
<li><a href="../es422957/index.html">Se acabó el dinero fácil: las principales tendencias del mercado ICO 2018</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>