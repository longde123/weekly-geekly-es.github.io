<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯИ╢ ЁЯОН ЁЯСВ рд░реИрдмрд┐рдЯрдПрдордХреНрдпреВ рдмрдирд╛рдо рдХрд╛рдлреНрдХрд╛: рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рд╡рд┐рдлрд▓рддрд╛ рдФрд░ рдЙрдЪреНрдЪ рдЙрдкрд▓рдмреНрдзрддрд╛ ЁЯИ╕ ЁЯСиЁЯП┐тАНЁЯОд ЁЯСйЁЯП╗тАНЁЯОУ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рджреЛрд╖ рд╕рд╣рд┐рд╖реНрдгреБрддрд╛ рдФрд░ рдЙрдЪреНрдЪ рдЙрдкрд▓рдмреНрдзрддрд╛ рдмрдбрд╝реЗ рд╡рд┐рд╖рдп рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП RabbitMQ рдФрд░ Kafka рдЕрд▓рдЧ рд▓реЗрдЦ рд╕рдорд░реНрдкрд┐рдд рдХрд░реЗрдВрдЧреЗред рдпрд╣ рдЖрд▓реЗрдЦ RabbitMQ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╣реИ, рдФрд░ рдЕрдЧрд▓рд╛ рдПрдХ рдЦрд░рдЧреЛрд╢ рдХреЗ рдмрд╛рд░...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рд░реИрдмрд┐рдЯрдПрдордХреНрдпреВ рдмрдирд╛рдо рдХрд╛рдлреНрдХрд╛: рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рд╡рд┐рдлрд▓рддрд╛ рдФрд░ рдЙрдЪреНрдЪ рдЙрдкрд▓рдмреНрдзрддрд╛</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/itsumma/blog/471858/"><img src="https://habrastorage.org/webt/hr/j2/oy/hrj2oyxwqv8-wo-vpmagx_dwmia.jpeg"><br><br>  рджреЛрд╖ рд╕рд╣рд┐рд╖реНрдгреБрддрд╛ рдФрд░ рдЙрдЪреНрдЪ рдЙрдкрд▓рдмреНрдзрддрд╛ рдмрдбрд╝реЗ рд╡рд┐рд╖рдп рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП RabbitMQ рдФрд░ Kafka рдЕрд▓рдЧ рд▓реЗрдЦ рд╕рдорд░реНрдкрд┐рдд рдХрд░реЗрдВрдЧреЗред  рдпрд╣ рдЖрд▓реЗрдЦ RabbitMQ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╣реИ, рдФрд░ рдЕрдЧрд▓рд╛ рдПрдХ рдЦрд░рдЧреЛрд╢ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╣реИ, RabbitMQ рдХреА рддреБрд▓рдирд╛ рдореЗрдВред  рд▓реЗрдЦ рд▓рдВрдмрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЦреБрдж рдХреЛ рд╕рд╣рдЬ рдмрдирд╛рдПрдВред <br><br>  рдЧрд▓рддреА рд╕рд╣рд┐рд╖реНрдгреБрддрд╛, рд╕реНрдерд┐рд░рддрд╛ рдФрд░ рдЙрдЪреНрдЪ рдЙрдкрд▓рдмреНрдзрддрд╛ (рдПрдЪрдП) рдХреЗ рд▓рд┐рдП рд░рдгрдиреАрддрд┐рдпреЛрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ, рд╕рд╛рде рд╣реА рд╕рд╛рде рдкреНрд░рддреНрдпреЗрдХ рд░рдгрдиреАрддрд┐ рдХреЛ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЯреНрд░реЗрдбрдСрдлрд╝ рднреАред  RabbitMQ рдиреЛрдбреНрд╕ рдХреЗ рдПрдХ рд╕рдореВрд╣ рдкрд░ рдЪрд▓ рд╕рдХрддрд╛ рд╣реИ - рдФрд░ рдлрд┐рд░ рдЗрд╕реЗ рдПрдХ рд╡рд┐рддрд░рд┐рдд рдкреНрд░рдгрд╛рд▓реА рдХреЗ рд░реВрдк рдореЗрдВ рд╡рд░реНрдЧреАрдХреГрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЬрдм рд╡рд┐рддрд░рд┐рдд рд╕рд┐рд╕реНрдЯрдо рдХреА рдмрд╛рдд рдЖрддреА рд╣реИ, рддреЛ рд╣рдо рдЕрдХреНрд╕рд░ рд╕реНрдерд┐рд░рддрд╛ рдФрд░ рдкрд╣реБрдВрдЪ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░рддреЗ рд╣реИрдВред <br><br>  рдпреЗ рдЕрд╡рдзрд╛рд░рдгрд╛рдПрдВ рдмрддрд╛рддреА рд╣реИрдВ рдХрд┐ рд╡рд┐рдлрд▓рддрд╛ рдХреА рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд╕рд┐рд╕реНрдЯрдо рдХреИрд╕реЗ рд╡реНрдпрд╡рд╣рд╛рд░ рдХрд░рддрд╛ рд╣реИред  рдиреЗрдЯрд╡рд░реНрдХ рдХрдиреЗрдХреНрд╢рди рд╡рд┐рдлрд▓рддрд╛, рд╕рд░реНрд╡рд░ рд╡рд┐рдлрд▓рддрд╛, рд╣рд╛рд░реНрдб рдбрд┐рд╕реНрдХ рд╡рд┐рдлрд▓рддрд╛, рдХрдЪрд░рд╛ рд╕рдВрдЧреНрд░рд╣ рдХреЗ рдХрд╛рд░рдг рдЕрд╕реНрдерд╛рдпреА рд╕рд░реНрд╡рд░ рдЕрдиреБрдкрд▓рдмреНрдзрддрд╛, рдкреИрдХреЗрдЯ рд╣рд╛рдирд┐ рдпрд╛ рдиреЗрдЯрд╡рд░реНрдХ рдХрдиреЗрдХреНрд╢рди рдордВрджреАред  рдпрд╣ рд╕рдм рдбреЗрдЯрд╛ рд╣рд╛рдирд┐ рдпрд╛ рд╕рдВрдШрд░реНрд╖ рдХрд╛ рдХрд╛рд░рдг рдмрди рд╕рдХрддрд╛ рд╣реИред  рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ рдХрд┐ рд╕рднреА рдкреНрд░рдХрд╛рд░ рдХреА рд╡рд┐рдлрд▓рддрд╛ рдХреЗ рд▓рд┐рдП рдПрдХ рдРрд╕реА рдкреНрд░рдгрд╛рд▓реА рдХреЛ рдЙрдард╛рдирд╛ рд▓рдЧрднрдЧ рдЕрд╕рдВрднрд╡ рд╣реИ рдЬреЛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд╕реБрд╕рдВрдЧрдд рд╣реЛ (рдбреЗрдЯрд╛ рд╣рд╛рдирд┐ рдХреЗ рдмрд┐рдирд╛, рдбреЗрдЯрд╛ рд╡рд┐рд╕рдВрдЧрддрд┐рдпреЛрдВ рдХреЗ рдмрд┐рдирд╛), рдФрд░ рд╕реБрд▓рдн (рдпрд╣ рдкрдврд╝рдиреЗ рдФрд░ рд▓рд┐рдЦрдиреЗ рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░реЗрдЧреА)ред <br><a name="habracut"></a><br>  рд╣рдо рджреЗрдЦреЗрдВрдЧреЗ рдХрд┐ рд╕реНрдкреЗрдХреНрдЯреНрд░рдо рдХреЗ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдЫреЛрд░реЛрдВ рдкрд░ рд╕реНрдерд┐рд░рддрд╛ рдФрд░ рдкрд╣реБрдВрдЪ рд╣реИ, рдФрд░ рдЖрдкрдХреЛ рдпрд╣ рдЪреБрдирдиреЗ рдХреА рдЬрд░реВрд░рдд рд╣реИ рдХрд┐ рдХрд┐рд╕ рддрд░рд╣ рдХрд╛ рдЕрдиреБрдХреВрд▓рди рдХрд░рдирд╛ рд╣реИред  рдЕрдЪреНрдЫреА рдЦрдмрд░ рдпрд╣ рд╣реИ рдХрд┐ RabbitMQ рдХреЗ рд╕рд╛рде рдРрд╕реА рдкрд╕рдВрдж рд╕рдВрднрд╡ рд╣реИред  рдЖрдкрдХреЗ рдкрд╛рд╕ рдПрдХ рддрд░рд╣ рдХрд╛ "рдмреЗрд╡рдХреВрдл" рдЙрддреНрддреЛрд▓рди рд╣реИ рдЬреЛ рдЕрдзрд┐рдХ рд╕реБрд╕рдВрдЧрддрддрд╛ рдпрд╛ рдЕрдзрд┐рдХ рдкрд╣реБрдВрдЪ рдХреА рдУрд░ рд╕рдВрддреБрд▓рди рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рддрд╛ рд╣реИред <br><br>  рд╣рдо рдЗрд╕ рдмрд╛рдд рдкрд░ рд╡рд┐рд╢реЗрд╖ рдзреНрдпрд╛рди рджреЗрдВрдЧреЗ рдХрд┐ рдкреБрд╖реНрдЯрд┐ рдХрд┐рдП рдЧрдП рд░рд┐рдХреЙрд░реНрдб рдХреЗ рдХрд╛рд░рдг рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдбреЗрдЯрд╛ рд╣рд╛рдирд┐ рдХрд╛ рдХрд╛рд░рдг рдмрдирддрд╛ рд╣реИред  рдкреНрд░рдХрд╛рд╢рдХреЛрдВ, рджрд▓рд╛рд▓реЛрдВ рдФрд░ рдЙрдкрднреЛрдХреНрддрд╛рдУрдВ рдХреЗ рдмреАрдЪ рдЬрд┐рдореНрдореЗрджрд╛рд░реА рдХреА рдПрдХ рд╢реНрд░реГрдВрдЦрд▓рд╛ рд╣реИред  рд╕рдВрджреЗрд╢ рдХреЛ рдмреНрд░реЛрдХрд░ рдХреЛ рдкреНрд░реЗрд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╕рдВрджреЗрд╢ рдХреЛ рди рдЦреЛрдирд╛ рдЙрд╕рдХрд╛ рдХрд╛рдо рд╣реИред  рдЬрдм рджрд▓рд╛рд▓ рдкреНрд░рдХрд╛рд╢рдХ рдХреЛ рд╕рдВрджреЗрд╢ рдХреА рдкреНрд░рд╛рдкреНрддрд┐ рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░рддрд╛ рд╣реИ, рддреЛ рд╣рдо рдЗрд╕реЗ рдЦреЛ рдЬрд╛рдиреЗ рдХреА рдЙрдореНрдореАрдж рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВред  рд▓реЗрдХрд┐рди рд╣рдо рджреЗрдЦреЗрдВрдЧреЗ рдХрд┐ рдпрд╣ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЖрдкрдХреЗ рдмреНрд░реЛрдХрд░ рдФрд░ рдкреНрд░рдХрд╛рд╢рдХ рдХреЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред <br><br><h1>  рдПрдХ рдиреЛрдб рдХреА рд╕реНрдерд┐рд░рддрд╛ рдХреЗ рдЖрджрд┐рдо </h1><br><h3>  рдирд┐рд░рдВрддрд░ рдХрддрд╛рд░реЗрдВ / рд░реВрдЯрд┐рдВрдЧ </h3><br>  RabbitMQ рдореЗрдВ рджреЛ рдкреНрд░рдХрд╛рд░ рдХреА рдХрддрд╛рд░реЗрдВ рд╣реЛрддреА рд╣реИрдВ: рдЯрд┐рдХрд╛рдК / рдЧреИрд░-рдЯрд┐рдХрд╛рдКред  рд╕рднреА рдХрддрд╛рд░ Mnesia рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реИрдВред  рдиреЛрдб рд╢реБрд░реВ рд╣реЛрдиреЗ рдкрд░ рд▓рдЧрд╛рддрд╛рд░ рдХрддрд╛рд░реЗрдВ рдлрд┐рд░ рд╕реЗ рдШреЛрд╖рд┐рдд рдХреА рдЬрд╛рддреА рд╣реИрдВ рдФрд░ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдПрдХ рдкреБрдирдГ рдЖрд░рдВрдн, рд╕рд┐рд╕реНрдЯрдо рдХреНрд░реИрд╢, рдпрд╛ рд╕рд░реНрд╡рд░ рдХреНрд░реИрд╢ (рдЬрдм рддрдХ рдбреЗрдЯрд╛ рд╕рд╣реЗрдЬрд╛ рдЬрд╛рддрд╛ рд╣реИ) рдЬреАрд╡рд┐рдд рд░рд╣реЗрдВред  рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рд╣реИ рдХрд┐ рдЬрдм рдЖрдк рд░реВрдЯрд┐рдВрдЧ (рдПрдХреНрд╕рдЪреЗрдВрдЬ) рдФрд░ рдХрддрд╛рд░ рдореЗрдВ рдлреЗрд░рдмрджрд▓ рдХреА рдШреЛрд╖рдгрд╛ рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рддреЛ рдХрддрд╛рд░ / рд░реВрдЯрд┐рдВрдЧ рдХрд╛ рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪрд╛ рдСрдирд▓рд╛рдЗрди рдореЛрдб рдореЗрдВ рд▓реМрдЯ рдЖрдПрдЧрд╛ред <br><br>  рд╣реЛрд╕реНрдЯ рдХреЗ рдкреБрдирд░рд╛рд░рдВрдн рд╣реЛрдиреЗ рдкрд░ рдЕрд╕реНрдерд┐рд░ рдХрддрд╛рд░реЗрдВ рдФрд░ рд░реВрдЯрд┐рдВрдЧ рдХреЛ рд╣рдЯрд╛ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br><h3>  рд▓рдЧрд╛рддрд╛рд░ рд╕рдВрджреЗрд╢ </h3><br>  рд╕рд┐рд░реНрдл рдЗрд╕рд▓рд┐рдП рдХрд┐ рдХрддрд╛рд░ рд▓рдВрдмреА рд╣реИ рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рдирд╣реАрдВ рд╣реИ рдХрд┐ рдЗрд╕рдХреЗ рд╕рднреА рд╕рдВрджреЗрд╢ рдиреЛрдб рдкреБрдирдГ рдЖрд░рдВрдн рд╣реЛрдиреЗ рд╕реЗ рдмрдЪ рдЬрд╛рдПрдВрдЧреЗред  рдХреЗрд╡рд▓ рдкреНрд░рдХрд╛рд╢рдХ рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдП рдЧрдП рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рд╣реА рдкреБрдирд░реНрд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рд▓рдЧрд╛рддрд╛рд░ рд╕рдВрджреЗрд╢ рдмреНрд░реЛрдХрд░ рдкрд░ рдПрдХ рдЕрддрд┐рд░рд┐рдХреНрдд рдмреЛрдЭ рдмрдирд╛рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдпрджрд┐ рд╕рдВрджреЗрд╢ рдХреА рд╣рд╛рдирд┐ рдЕрд╕реНрд╡реАрдХрд╛рд░реНрдп рд╣реИ, рддреЛ рдХреЛрдИ рдЕрдиреНрдп рддрд░реАрдХрд╛ рдирд╣реАрдВ рд╣реИред <br><br><img src="https://habrastorage.org/webt/hl/nv/gv/hlnvgvt20t-fbikkajwnkirflyo.png"><br>  <i>рдЕрдВрдЬреАрд░ред</i>  <i>1. рд╕реНрдерд┐рд░рддрд╛ рдореИрдЯреНрд░рд┐рдХреНрд╕</i> <br><br><h1>  рдХрддрд╛рд░ рдорд┐рд░рд░рд┐рдВрдЧ рдХреНрд▓рд╕реНрдЯрд░рд┐рдВрдЧ </h1><br>  рдПрдХ рджрд▓рд╛рд▓ рдХреЗ рдиреБрдХрд╕рд╛рди рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдЕрддрд┐рд░реЗрдХ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рд╣рдо рдХрдИ рд░реИрдмрд┐рдЯрдПрдордХреНрдпреВ рдиреЛрдбреНрд╕ рдХреЛ рдПрдХ рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдлрд┐рд░ рдХрдИ рдиреЛрдбреНрд╕ рдХреЗ рдмреАрдЪ рдХрддрд╛рд░реЛрдВ рдХреЛ рджреЛрд╣рд░рд╛рдХрд░ рдЕрддрд┐рд░рд┐рдХреНрдд рдЕрддрд┐рд░реЗрдХ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдпрджрд┐ рдПрдХ рдиреЛрдб рдЧрд┐рд░рддрд╛ рд╣реИ, рддреЛ рд╣рдо рдбреЗрдЯрд╛ рдирд╣реАрдВ рдЦреЛрддреЗ рд╣реИрдВ рдФрд░ рдЙрдкрд▓рдмреНрдз рд░рд╣рддреЗ рд╣реИрдВред <br><br>  рдХрддрд╛рд░ рдорд┐рд░рд░рд┐рдВрдЧ: <br><br><ul><li>  рдПрдХ рдореБрдЦреНрдп рдХрддрд╛рд░ (рдорд╛рд╕реНрдЯрд░), рдЬреЛ рд╕рднреА рд▓рд┐рдЦрдиреЗ рдФрд░ рдкрдврд╝рдиреЗ рдХреЗ рдЖрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ <br></li><li>  рдПрдХ рдпрд╛ рдЕрдзрд┐рдХ рджрд░реНрдкрдг рдЬреЛ рд╕рднреА рд╕рдВрджреЗрд╢реЛрдВ рдФрд░ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдХреЛ рдореБрдЦреНрдп рдХрддрд╛рд░ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВред  рдпреЗ рджрд░реНрдкрдг рд╕реНрдХреЗрд▓рд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдореМрдЬреВрдж рдирд╣реАрдВ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдХреЗрд╡рд▓ рдЕрддрд┐рд░реЗрдХ рдХреЗ рд▓рд┐рдП рд╣реИрдВред </li></ul><br><img src="https://habrastorage.org/webt/am/-b/ol/am-boljly334-fiqfajsoowe3iu.png"><br>  <i>рдЕрдВрдЬреАрд░ред</i>  <i>2. рдХрддрд╛рд░ рдХрд╛ рджрд░реНрдкрдг</i> <br><br>  рдорд┐рд░рд░рд┐рдВрдЧ рдЙрдкрдпреБрдХреНрдд рдиреАрддрд┐ рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдЗрд╕рдореЗрдВ, рдЖрдк рдкреНрд░рддрд┐рдХреГрддрд┐ рджрд░ рдФрд░ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдиреЛрдбреНрд╕ рдЪреБрди рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рд╕ рдкрд░ рдХрддрд╛рд░ рд░рдЦреА рдЬрд╛рдиреА рдЪрд╛рд╣рд┐рдПред  рдЙрджрд╛рд╣рд░рдг: <br><br><ul><li><code>ha-mode: all</code> <br> </li><li>  <code>ha-mode: exactly, ha-params: 2</code> (рдПрдХ рдорд╛рд╕реНрдЯрд░ рдФрд░ рдПрдХ рджрд░реНрдкрдг) <br></li><li> <code>ha-mode: nodes, ha-params: rabbit@node1, rabbit@node2</code> </li> </ul><br><h1>  рдкреНрд░рдХрд╛рд╢рдХ рдХреА рдкреБрд╖реНрдЯрд┐ </h1><br>  рдЕрдиреБрдХреНрд░рдорд┐рдХ рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдкреНрд░рдХрд╛рд╢рдХ рдкреБрд╖реНрдЯрд┐ рдХреА рдкреБрд╖реНрдЯрд┐ рдХреА рдЬрд╛рдиреА рдЪрд╛рд╣рд┐рдПред  рдЙрдирдХреЗ рдмрд┐рдирд╛, рд╕рдВрджреЗрд╢ рдЦреЛрдиреЗ рдХрд╛ рдПрдХ рдореМрдХрд╛ рд╣реИред  рдбрд┐рд╕реНрдХ рдкрд░ рд╕рдВрджреЗрд╢ рд▓рд┐рдЦрдиреЗ рдХреЗ рдмрд╛рдж рдкреНрд░рдХрд╛рд╢рдХ рдХреЛ рдПрдХ рдкреБрд╖реНрдЯрд┐рдХрд░рдг рднреЗрдЬрд╛ рдЬрд╛рддрд╛ рд╣реИред  RabbitMQ рдХрдИ рд╕реМ рдорд┐рд▓реАрд╕реЗрдХрдВрдб рдХреЗ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ, рд░рд╕реАрдж рдкрд░ рдирд╣реАрдВ, рдмрд▓реНрдХрд┐ рдЖрд╡рдзрд┐рдХ рдЖрдзрд╛рд░ рдкрд░ рд╕рдВрджреЗрд╢ рд▓рд┐рдЦрддрд╛ рд╣реИред  рдЬрдм рдХрддрд╛рд░ рдХреЛ рдорд┐рд░рд░ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдкреБрд╖реНрдЯрд┐ рддрднреА рднреЗрдЬреА рдЬрд╛рддреА рд╣реИ, рдЬрдм рд╕рднреА рджрд░реНрдкрдг рдбрд┐рд╕реНрдХ рдкрд░ рд╕рдВрджреЗрд╢ рдХреА рдЕрдкрдиреА рдкреНрд░рддрд┐ рднреА рд▓рд┐рдЦ рдЪреБрдХреЗ рд╣реЛрдВред  рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рд╣реИ рдХрд┐ рдкрд╛рд╡рддреА рдХрд╛ рдЙрдкрдпреЛрдЧ рджреЗрд░реА рдореЗрдВ рдЬреЛрдбрд╝рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрджрд┐ рдбреЗрдЯрд╛ рд╕реБрд░рдХреНрд╖рд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ, рддреЛ рд╡реЗ рдЖрд╡рд╢реНрдпрдХ рд╣реИрдВред <br><br><h1>  рдлреЗрд▓рдУрд╡рд░ рдХрддрд╛рд░ </h1><br>  рдЬрдм рдмреНрд░реЛрдХрд░ рдиреАрдЪреЗ рдЧрд┐рд░рддрд╛ рд╣реИ рдпрд╛ рджреБрд░реНрдШрдЯрдирд╛рдЧреНрд░рд╕реНрдд рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдЗрд╕ рдиреЛрдб рдкрд░ рд╕рднреА рдкреНрд░рдореБрдЦ рдХрддрд╛рд░ (рд╕реНрд╡рд╛рдореА) рдЗрд╕рдХреЗ рд╕рд╛рде рдЧрд┐рд░ рдЬрд╛рддреЗ рд╣реИрдВред  рдХреНрд▓рд╕реНрдЯрд░ рддрдм рдкреНрд░рддреНрдпреЗрдХ рдорд╛рд╕реНрдЯрд░ рдХреЗ рд╕рдмрд╕реЗ рдкреБрд░рд╛рдиреЗ рджрд░реНрдкрдг рдХрд╛ рдЪрдпрди рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ рдирдП рдорд╛рд╕реНрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдмрдврд╝рд╛рд╡рд╛ рджреЗрддрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/pq/v_/_a/pqv__ahffpye5i6h_2pdzozyrgi.png"><br>  <i>рдЕрдВрдЬреАрд░ред</i>  <i>3. рдХрдИ рдкреНрд░рддрд┐рдмрд┐рдореНрдмрд┐рдд рдХрддрд╛рд░реЗрдВ рдФрд░ рдЙрдирдХреА рдиреАрддрд┐рдпрд╛рдВ</i> <br><br>  рдмреНрд░реЛрдХрд░ 3 рдмреВрдБрджреЗрдВред  рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдмреНрд░реЛрдХрд░ 2 рдкрд░ рдХреНрдпреВ рд╕реА рдХрд╛ рджрд░реНрдкрдг рдПрдХ рдорд╛рд╕реНрдЯрд░ рдореЗрдВ рдЕрдкрдЧреНрд░реЗрдб рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдпрд╣ рднреА рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдмреНрд░реЛрдХрд░ 1 рдкрд░ рдХреНрдпреВ рд╕реА рдХреЗ рд▓рд┐рдП рдПрдХ рдирдпрд╛ рджрд░реНрдкрдг рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред рдЦрд░рдЧреЛрд╢ рд╣рдореЗрд╢рд╛ рдЖрдкрдХреА рдиреАрддрд┐рдпреЛрдВ рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдкреНрд░рддрд┐рдХреГрддрд┐ рджрд░ рдХреЛ рдмрдирд╛рдП рд░рдЦрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/df/e7/la/dfe7laf8pyg0pobmrkgteky-wsw.png"><br>  <i>рдЕрдВрдЬреАрд░ред</i>  <i>4. рдмреНрд░реЛрдХрд░ 3 рдЧрд┐рд░ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдХрддрд╛рд░ C рд╡рд┐рдлрд▓ рд╣реЛ рдЬрд╛рддреА рд╣реИ</i> <br><br>  рдЕрдЧрд▓рд╛ рдмреНрд░реЛрдХрд░ 1 рдЧрд┐рд░ рд░рд╣рд╛ рд╣реИ!  рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдХреЗрд╡рд▓ рдПрдХ рджрд▓рд╛рд▓ рдмрдЪрд╛ рд╣реИред  рдХреНрдпреВ рдмреА рдХрд╛ рджрд░реНрдкрдг рдорд╛рд╕реНрдЯрд░ рдХреЛ рдЙрдЧрддрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/b2/bd/qi/b2bdqi_lz21qoe8hcdmsjy8g5kc.png"><br>  <i>рдЕрдВрдЬреАрд░ред</i>  <i>5</i> <br><br>  рд╣рдордиреЗ рдмреНрд░реЛрдХрд░ рдХреЛ рд╡рд╛рдкрд╕ рдХрд░ рджрд┐рдпрд╛ред 1. рдмреНрд░реЛрдХрд░ рдХреЗ рдиреБрдХрд╕рд╛рди рдФрд░ рд░рд┐рдХрд╡рд░реА рд╕реЗ рдХреЛрдИ рднреА рдбреЗрдЯрд╛ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдмрдЪрддрд╛ рдирд╣реАрдВ рд╣реИ, рд╕рднреА рдкреНрд░рддрд┐рдмрд┐рдВрдмрд┐рдд рдХрддрд╛рд░ рд╕рдВрджреЗрд╢ рдкреБрдирдГ рдЖрд░рдВрдн рд╣реЛрдиреЗ рдкрд░ рдЫреЛрдбрд╝ рджрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред  рдпрд╣ рдиреЛрдЯ рдХрд░рдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕рдХреЗ рдкрд░рд┐рдгрд╛рдо рд╣реЛрдВрдЧреЗред  рд╣рдо рдЬрд▓реНрдж рд╣реА рдЗрди рдкрд░рд┐рдгрд╛рдореЛрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВрдЧреЗред  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдмреНрд░реЛрдХрд░ 1 рдЕрдм рдлрд┐рд░ рд╕реЗ рдХреНрд▓рд╕реНрдЯрд░ рдХрд╛ рд╕рджрд╕реНрдп рд╣реИ, рдФрд░ рдХреНрд▓рд╕реНрдЯрд░ рдиреАрддрд┐рдпреЛрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд░рд╣рд╛ рд╣реИ рдФрд░ рдЗрд╕рд▓рд┐рдП рдмреНрд░реЛрдХрд░ 1 рдкрд░ рджрд░реНрдкрдг рдмрдирд╛рддрд╛ рд╣реИред <br><br>  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдмреНрд░реЛрдХрд░ 1 рдХрд╛ рдиреБрдХрд╕рд╛рди рдкреВрд░рд╛ рд╣реЛ рдЧрдпрд╛ рдерд╛, рд╕рд╛рде рд╣реА рд╕рд╛рде рдбреЗрдЯрд╛, рдЗрд╕рд▓рд┐рдП рдЧреИрд░-рдорд┐рд░рд░рд┐рдВрдЧ рдХреНрдпреВ рдбреА рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЦреЛ рдЧрдпрд╛ рдерд╛ред <br><br><img src="https://habrastorage.org/webt/wi/ql/68/wiql68dzsoerzuibhspllun85ec.png"><br>  <i>рдЕрдВрдЬреАрд░ред</i>  <i>6. рдмреНрд░реЛрдХрд░ 1 рд╕реЗрд╡рд╛ рдореЗрдВ рд╡рд╛рдкрд╕ рдЖ рдЧрдпрд╛ рд╣реИ</i> <br><br>  рдмреНрд░реЛрдХрд░ 3 рд▓рд╛рдЗрди рдкрд░ рд╡рд╛рдкрд╕ рдЖ рдЧрдпрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдП рдФрд░ рдмреА рдХреЛ рдЕрдкрдиреА рдПрдЪрдП рдкреЙрд▓рд┐рд╕рд┐рдпреЛрдВ рдХреЗ рдЕрдиреБрд░реВрдк рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдП рдФрд░ рдмреА рдХреЛ рджрд░реНрдкрдг рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдЕрдм рд╕рднреА рдореБрдЦреНрдп рд▓рд╛рдЗрдиреЗрдВ рдПрдХ рдиреЛрдб рдкрд░ рд╣реИрдВ!  рдпрд╣ рдЖрджрд░реНрд╢ рдирд╣реАрдВ рд╣реИ, рдиреЛрдбреНрд╕ рдХреЗ рдмреАрдЪ рдПрдХ рд╕рдорд╛рди рд╡рд┐рддрд░рдг рдмреЗрд╣рддрд░ рд╣реИред  рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рд╕реНрд╡рд╛рдореА рдХреЛ рдкреБрди: рдЙрддреНрдкрдиреНрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдИ рд╡рд┐рд╢реЗрд╖ рд╡рд┐рдХрд▓реНрдк рдирд╣реАрдВ рд╣реИрдВред  рд╣рдо рдмрд╛рдж рдореЗрдВ рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдкрд░ рд╡рд╛рдкрд╕ рдЖрдПрдВрдЧреЗ, рдХреНрдпреЛрдВрдХрд┐ рд╣рдореЗрдВ рдкрд╣рд▓реЗ рдкрдВрдХреНрддрд┐рдмрджреНрдзрд┐рдХрд░рдг рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/bg/hj/4n/bghj4n6pdd5ki4oideq7zbwmasi.png"><br>  <i>рдЕрдВрдЬреАрд░ред</i>  <i>7. рдмреНрд░реЛрдХрд░ 3 рд╕реЗрд╡рд╛ рдореЗрдВ рд╡рд╛рдкрд╕ рдЖ рдЧрдпрд╛ рд╣реИред</i>  <i>рдПрдХ рдиреЛрдб рдкрд░ рд╕рднреА рдореБрдЦреНрдп рдХрддрд╛рд░реЗрдВ!</i> <br><br>  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдЕрдм рдЖрдкрдХреЛ рдЗрд╕ рдмрд╛рдд рдХрд╛ рдЕрдВрджрд╛рдЬрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рджрд░реНрдкрдг рдХрд┐рд╕ рддрд░рд╣ рдЕрддрд┐рд░реЗрдХ рдФрд░ рджреЛрд╖ рд╕рд╣рдирд╢реАрд▓рддрд╛ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВред  рдпрд╣ рдПрдХрд▓ рдиреЛрдб рд╡рд┐рдлрд▓рддрд╛ рдХреА рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдЙрдкрд▓рдмреНрдзрддрд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИ рдФрд░ рдбреЗрдЯрд╛ рд╣рд╛рдирд┐ рд╕реЗ рдмрдЪрд╛рддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рд╣рдо рдЕрднреА рддрдХ рд╕рдорд╛рдкреНрдд рдирд╣реАрдВ рд╣реБрдП рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╕рдм рдХреБрдЫ рдмрд╣реБрдд рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рд╣реИред <br><br><h1>  рддреБрд▓реНрдпрдХрд╛рд▓рди </h1><br>  рдПрдХ рдирдпрд╛ рджрд░реНрдкрдг рдмрдирд╛рддреЗ рд╕рдордп, рд╕рднреА рдирдП рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рд╣рдореЗрд╢рд╛ рдЗрд╕ рджрд░реНрдкрдг рдФрд░ рдХрд┐рд╕реА рдЕрдиреНрдп рдХреЛ рджреЛрд╣рд░рд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рдореБрдЦреНрдп рдХрддрд╛рд░ рдореЗрдВ рдореМрдЬреВрджрд╛ рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП, рд╣рдо рдЗрд╕реЗ рдПрдХ рдирдП рджрд░реНрдкрдг рдореЗрдВ рджреЛрд╣рд░рд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ рдорд╛рд╕реНрдЯрд░ рдХреА рдкреВрд░реА рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рдмрди рдЬрд╛рддрд╛ рд╣реИред  рд╣рдо рдореМрдЬреВрджрд╛ рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рднреА рджреЛрд╣рд░рд╛ рдирд╣реАрдВ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдореБрдЦреНрдп рдХрддрд╛рд░ рдФрд░ рдирдП рджрд░реНрдкрдг рдХреЛ рд╕рдордп рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВ рдЬрдм рдирдП рд╕рдВрджреЗрд╢ рдкреВрдВрдЫ рдкрд░ рдЖрддреЗ рд╣реИрдВ рдФрд░ рдореМрдЬреВрджрд╛ рд╕рдВрджреЗрд╢ рдореБрдЦреНрдп рдХрддрд╛рд░ рдХреЗ рд╕рд┐рд░ рдХреЛ рдЫреЛрдбрд╝ рджреЗрддреЗ рд╣реИрдВред <br><br>  рдпрд╣ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝реЗрд╢рди рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдпрд╛ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдПрдХ рдХрддрд╛рд░ рдиреАрддрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдПрдХ рдЙрджрд╛рд╣рд░рдг рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВред <br><br>  рд╣рдорд╛рд░реА рджреЛ рд╕реНрдкрд╖реНрдЯ рд░реЗрдЦрд╛рдПрдБ рд╣реИрдВред  рдХрддрд╛рд░ рдП рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд╕рд┐рдВрдХ рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдХрддрд╛рд░ рдмреА рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗред  рджреЛрдиреЛрдВ рдкрдВрдХреНрддрд┐рдпреЛрдВ рдореЗрдВ рджрд╕ рд╕рдВрджреЗрд╢ рд╣реИрдВред <br><br><img src="https://habrastorage.org/webt/vz/zm/5x/vzzm5x_2w3tphqi09kn6h_9_e1c.png"><br>  <i>рдЕрдВрдЬреАрд░ред</i>  <i>8. рд╡рд┐рднрд┐рдиреНрди рддреБрд▓реНрдпрдХрд╛рд▓рди рдореЛрдб рдХреЗ рд╕рд╛рде рджреЛ рдХрддрд╛рд░реЗрдВ</i> <br><br>  рдЕрдм рд╣рдо рдмреНрд░реЛрдХрд░ 3 рдЦреЛ рд░рд╣реЗ рд╣реИрдВред <br><br><img src="https://habrastorage.org/webt/5x/wp/ki/5xwpki1aoj_-e1hdt0i-gswn-nu.png"><br>  <i>рдЕрдВрдЬреАрд░ред</i>  <i>9. рдмреНрд░реЛрдХрд░ 3 рдЧрд┐рд░ рдЧрдпрд╛</i> <br><br>  рдмреНрд░реЛрдХрд░ 3 рд╕реЗрд╡рд╛ рдореЗрдВ рд╡рд╛рдкрд╕ рдЖ рдЧрдпрд╛ рд╣реИред  рдХреНрд▓рд╕реНрдЯрд░ рдирдП рдиреЛрдб рдкрд░ рдкреНрд░рддреНрдпреЗрдХ рдХрддрд╛рд░ рдХреЗ рд▓рд┐рдП рдПрдХ рджрд░реНрдкрдг рдмрдирд╛рддрд╛ рд╣реИ рдФрд░ рдорд╛рд╕реНрдЯрд░ рдХреЗ рд╕рд╛рде рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдирдИ рдХрддрд╛рд░ рдП рдХреЛ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝ рдХрд░рддрд╛ рд╣реИред  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдирдпрд╛ рдЯрд░реНрди рдмреА рдХрд╛ рджрд░реНрдкрдг рдЦрд╛рд▓реА рд░рд╣рддрд╛ рд╣реИред  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдХрддрд╛рд░ рдП рдХрд╛ рдкреВрд░реНрдг рдЕрддрд┐рд░реЗрдХ рд╣реИ рдФрд░ рдХрддрд╛рд░ рдмреА рдХреЗ рдореМрдЬреВрджрд╛ рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рд▓рд┐рдП рдХреЗрд╡рд▓ рдПрдХ рджрд░реНрдкрдг рд╣реИред <br><br><img src="https://habrastorage.org/webt/zo/hb/ha/zohbhaicbgsjdynexgjhuh70ujg.png"><br>  <i>рдЕрдВрдЬреАрд░ред</i>  <i>10. рдХреНрдпреВ рдП рдХрд╛ рдирдпрд╛ рджрд░реНрдкрдг рд╕рднреА рдореМрдЬреВрджрд╛ рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдХреНрдпреВ рдмреА рдХрд╛ рдирдпрд╛ рджрд░реНрдкрдг рдирд╣реАрдВ рд╣реИ</i> <br><br>  рджреЛрдиреЛрдВ рд▓рд╛рдЗрдиреЛрдВ рдХреЛ рджрд╕ рдФрд░ рд╕рдВрджреЗрд╢ рдорд┐рд▓рддреЗ рд╣реИрдВред  рдлрд┐рд░ рдмреНрд░реЛрдХрд░ 2 рдЧрд┐рд░рддрд╛ рд╣реИ, рдФрд░ рдХрддрд╛рд░ рдП рд╕рдмрд╕реЗ рдкреБрд░рд╛рдиреЗ рджрд░реНрдкрдг рдкрд░ рд╡рд╛рдкрд╕ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рдмреНрд░реЛрдХрд░ 1 рдкрд░ рд╕реНрдерд┐рдд рд╣реИред рд╡рд┐рдлрд▓рддрд╛ рдХреА рд╕реНрдерд┐рддрд┐ рдореЗрдВ, рдбреЗрдЯрд╛ рд╣рд╛рдирд┐ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИред  рд╡рд┐рдЬрд╝рд╛рд░реНрдб рдореЗрдВ рдХрддрд╛рд░ рдмреА рдореЗрдВ рдмреАрд╕ рд╕рдВрджреЗрд╢ рд╣реИрдВ рдФрд░ рджрд░реНрдкрдг рдореЗрдВ рдХреЗрд╡рд▓ рджрд╕ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕ рдХрддрд╛рд░ рдиреЗ рдореВрд▓ рджрд╕ рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рдХрднреА рджреЛрд╣рд░рд╛рдпрд╛ рдирд╣реАрдВ рдерд╛ред <br><br><img src="https://habrastorage.org/webt/yy/hc/sz/yyhcszfowfi6eiidhubgqfy1zry.png"><br>  <i>рдЕрдВрдЬреАрд░ред</i>  <i>11. рд▓рд╛рдЗрди рдП рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рдЦреЛрдП рдмрд┐рдирд╛ рдмреНрд░реЛрдХрд░ 1 рдореЗрдВ рд╡рд╛рдкрд╕ рд▓рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ</i> <br><br>  рджреЛрдиреЛрдВ рд▓рд╛рдЗрдиреЛрдВ рдХреЛ рджрд╕ рдФрд░ рд╕рдВрджреЗрд╢ рдорд┐рд▓рддреЗ рд╣реИрдВред  рдмреНрд░реЛрдХрд░ 1 рдЕрдм рджреБрд░реНрдШрдЯрдирд╛рдЧреНрд░рд╕реНрдд рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред рдХрддрд╛рд░ рдП рд╕рдВрджреЗрд╢ рдХреЛ рдЦреЛрдП рдмрд┐рдирд╛ рдХрд┐рд╕реА рднреА рд╕рдорд╕реНрдпрд╛ рдХреЗ рджрд░реНрдкрдг рдкрд░ рд╕реНрд╡рд┐рдЪ рдХрд░рддрд╛ рд╣реИред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдХрддрд╛рд░ рдмреА рдореЗрдВ рд╕рдорд╕реНрдпрд╛рдПрдВ рд╣реИрдВред  рдЗрд╕ рдмрд┐рдВрджреБ рдкрд░, рд╣рдо рдпрд╛ рддреЛ рдкрд╣реБрдВрдЪ рдпрд╛ рд╕рдВрдЧрддрддрд╛ рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдЕрдЧрд░ рд╣рдо рдкрд╣реБрдВрдЪ <b><i>-</i></b> рдпреЛрдЧреНрдпрддрд╛ рдХрд╛ рдЕрдиреБрдХреВрд▓рди рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ <b><i>рд╣рд╛-рдкреНрд░рдореЛрд╢рди-рдСрди-рд╡рд┐рдлрд▓рддрд╛</i></b> рдиреАрддрд┐ <b><i>рд╣рдореЗрд╢рд╛ рдХреЗ</i></b> рд▓рд┐рдП рд╕реЗрдЯ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред  рдпрд╣ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рди рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЖрдк рдХреЗрд╡рд▓ рдкреЙрд▓рд┐рд╕реА рдХреЛ рдЫреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рд╣рдо рдЕрд╕рдВрдмрджреНрдз рджрд░реНрдкрдгреЛрдВ рдореЗрдВ рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВред  рдЗрд╕рд╕реЗ рд╕рдВрджреЗрд╢ рдХреА рд╣рд╛рдирд┐ рд╣реЛрдЧреА, рд▓реЗрдХрд┐рди рдХрддрд╛рд░ рдкрдардиреАрдп рдФрд░ рд▓реЗрдЦрди рдпреЛрдЧреНрдп рд╣реИред <br><br><img src="https://habrastorage.org/webt/4h/hv/_n/4hhv_n4seyvz33pq_sk3my2bnmk.png"><br>  <i>рдЕрдВрдЬреАрд░ред</i>  <i>12. рд▓рд╛рдЗрди рдП рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рдЦреЛрдП рдмрд┐рдирд╛ рдмреНрд░реЛрдХрд░ 3 рдореЗрдВ рд╡рд╛рдкрд╕ рд▓рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред</i>  <i>рд▓рд╛рдЗрди рдмреА рдмреНрд░реЛрдХрд░ 3 рдХреЛ рджрд╕ рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рдиреБрдХрд╕рд╛рди рдХреЗ рд╕рд╛рде рд╡рд╛рдкрд╕ рд░реЛрд▓ рдХрд░рддрд╛ рд╣реИ</i> <br><br>  рд╣рдо <code>ha-promote-on-failure</code> рдХреЛ <code>when-synced</code> рднреА рд╕реЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ <code>when-synced</code> ред  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рджрд░реНрдкрдг рдХреЛ рд╡рд╛рдкрд╕ рд░реЛрд▓ рдХрд░рдиреЗ рдХреЗ рдмрдЬрд╛рдп, рдХрддрд╛рд░ рдмреНрд░реЛрдХрд░ 1 рддрдХ рдЗрдВрддрдЬрд╛рд░ рдХрд░реЗрдЧреА рдЬрдм рддрдХ рдХрд┐ рдЙрд╕рдХрд╛ рдбреЗрдЯрд╛ рдСрдирд▓рд╛рдЗрди рдореЛрдб рдореЗрдВ рд╡рд╛рдкрд╕ рдирд╣реАрдВ рдЖрдПрдЧрд╛ред  рдЙрдирдХреА рд╡рд╛рдкрд╕реА рдХреЗ рдмрд╛рдж, рдореБрдЦреНрдп рдХрддрд╛рд░ рдлрд┐рд░ рд╕реЗ рдмреНрд░реЛрдХрд░ 1 рдкрд░ рдбреЗрдЯрд╛ рд╣рд╛рдирд┐ рдХреЗ рдмрд┐рдирд╛ рджрд┐рдЦрд╛рдИ рджреЗрддреА рд╣реИред  рдбреЗрдЯрд╛ рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рд▓рд┐рдП рдкрд╣реБрдБрдЪ рдХреА рдмрд▓рд┐ рджреА рдЬрд╛рддреА рд╣реИред  рд▓реЗрдХрд┐рди рдпрд╣ рдПрдХ рдЬреЛрдЦрд┐рдо рднрд░рд╛ рддрд░реАрдХрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдбреЗрдЯрд╛ рдХрд╛ рдкреВрд░реНрдг рдиреБрдХрд╕рд╛рди рднреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рд╣рдо рдирд┐рдХрдЯ рднрд╡рд┐рд╖реНрдп рдореЗрдВ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВрдЧреЗред <br><br><img src="https://habrastorage.org/webt/fk/mx/gx/fkmxgxilgyi8bp_n_-osz6q8be0.png"><br>  <i>рдЕрдВрдЬреАрд░ред</i>  <i>13. рдмреНрд░реЛрдХрд░ 1 рдХреЛ рдЦреЛрдиреЗ рдХреЗ рдмрд╛рдж рд▓рд╛рдЗрди рдмреА рдЕрдиреБрдкрд▓рдмреНрдз рд╣реИ</i> <br><br>  рдЖрдк рдПрдХ рд╕рд╡рд╛рд▓ рдкреВрдЫ рд╕рдХрддреЗ рд╣реИрдВ: "рд╢рд╛рдпрдж рдпрд╣ рдмреЗрд╣рддрд░ рд╣реИ рдХрд┐ рдХрднреА рднреА рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝реЗрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рди рдХрд░реЗрдВ?"ред  рдЬрд╡рд╛рдм рд╣реИ рдХрд┐ рд╕рд┐рдВрдХреНрд░реЛрдирд╛рдЗрдЬрд╝реЗрд╢рди рдПрдХ рдмреНрд▓реЙрдХрд┐рдВрдЧ рдСрдкрд░реЗрд╢рди рд╣реИред  рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝реЗрд╢рди рдХреЗ рджреМрд░рд╛рди, рдореБрдЦреНрдп рдХрддрд╛рд░ рдХрд┐рд╕реА рднреА рдкрдврд╝рдиреЗ рдпрд╛ рд▓рд┐рдЦрдиреЗ рдХрд╛ рд╕рдВрдЪрд╛рд▓рди рдирд╣реАрдВ рдХрд░ рд╕рдХрддреА рд╣реИ! <br><br>  рдПрдХ рдЙрджрд╛рд╣рд░рдг рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВред  рдЕрдм рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдмрд╣реБрдд рд▓рдВрдмреА рд▓рд╛рдЗрдиреЗрдВ рд╣реИрдВред  рд╡реЗ рдЗрд╕ рдЖрдХрд╛рд░ рдореЗрдВ рдХреИрд╕реЗ рдмрдврд╝ рд╕рдХрддреЗ рд╣реИрдВ?  рдХрдИ рдХрд╛рд░рдгреЛрдВ рд╕реЗ: <br><br><ul><li>  рдХрддрд╛рд░реЛрдВ рдХреЛ рд╕рдХреНрд░рд┐рдп рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br></li><li>  рдпреЗ рд╣рд╛рдИ-рд╕реНрдкреАрдб рд▓рд╛рдЗрдиреЗрдВ рд╣реИрдВ, рдФрд░ рдЕрднреА рдЙрдкрднреЛрдХреНрддрд╛ рдзреАрдореА рдЧрддрд┐ рд╕реЗ рд╣реИрдВ <br></li><li>  рдпреЗ рдЙрдЪреНрдЪ рдЧрддрд┐ рд╡рд╛рд▓реА рдХрддрд╛рд░реЗрдВ рд╣реИрдВ, рдПрдХ рд╡рд┐рдлрд▓рддрд╛ рд╣реБрдИ рд╣реИ рдФрд░ рдЙрдкрднреЛрдХреНрддрд╛ рдкрдХрдбрд╝ рд░рд╣реЗ рд╣реИрдВ </li></ul><br><img src="https://habrastorage.org/webt/es/6q/gy/es6qgy7p-1cu0avxb1xivijyjii.png"><br>  <i>рдЕрдВрдЬреАрд░ред</i>  <i>14. рд╡рд┐рднрд┐рдиреНрди рддреБрд▓реНрдпрдХрд╛рд▓рди рдореЛрдб рдХреЗ рд╕рд╛рде рджреЛ рдмрдбрд╝реА рдХрддрд╛рд░реЗрдВ</i> <br><br>  рдЕрдм рдмреНрд░реЛрдХрд░ 3 рдХреНрд░реИрд╢ред <br><br><img src="https://habrastorage.org/webt/vg/ta/ue/vgtauedea7kaitatv7oshzottps.png"><br>  <i>рдЕрдВрдЬреАрд░ред</i>  <i>15. рдмреНрд░реЛрдХрд░ 3 рдЧрд┐рд░рддрд╛ рд╣реИ, рдкреНрд░рддреНрдпреЗрдХ рдХрддрд╛рд░ рдореЗрдВ рдПрдХ рдорд╛рд╕реНрдЯрд░ рдФрд░ рдПрдХ рджрд░реНрдкрдг рдХреЛ рдЫреЛрдбрд╝рдХрд░</i> <br><br>  рдмреНрд░реЛрдХрд░ 3 рд░рд┐рдЯрд░реНрди, рдФрд░ рдирдП рджрд░реНрдкрдг рдмрдирд╛рдП рдЬрд╛рддреЗ рд╣реИрдВред  рдореБрдЦреНрдп рдХрддрд╛рд░ рдП рдореМрдЬреВрджрд╛ рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рдПрдХ рдирдП рджрд░реНрдкрдг рдХреЛ рджреЛрд╣рд░рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ, рдФрд░ рдЗрд╕ рд╕рдордп рдХреЗ рджреМрд░рд╛рди, рдХрддрд╛рд░ рдП рдЕрдиреБрдкрд▓рдмреНрдз рд╣реИред  рдбреЗрдЯрд╛ рдкреНрд░рддрд┐рдХреГрддрд┐ рдХреЗ рд▓рд┐рдП рджреЛ рдШрдВрдЯреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдЬрд┐рд╕рдХреЗ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк рдЗрд╕ рдХрддрд╛рд░ рдХреЗ рд▓рд┐рдП рджреЛ рдШрдВрдЯреЗ рдбрд╛рдЙрдирдЯрд╛рдЗрдо рд╣реЛрддрд╛ рд╣реИ! <br><br>  рд╣рд╛рд▓рд╛рдБрдХрд┐, рд▓рд╛рдЗрди рдмреА рдкреВрд░реЗ рдЕрд╡рдзрд┐ рдореЗрдВ рдЙрдкрд▓рдмреНрдз рд╣реИред  рд╕реБрд▓рднрддрд╛ рдХреЗ рд▓рд┐рдП рдЙрд╕рдиреЗ рдХреБрдЫ рдЕрддрд┐рд░реЗрдХ рдХрд╛ рддреНрдпрд╛рдЧ рдХрд┐рдпрд╛ред <br><br><img src="https://habrastorage.org/webt/qn/rd/ep/qnrdep5m7sszgxjesb_kfwuw-zw.png"><br>  <i>рдЕрдВрдЬреАрд░ред</i>  <i>16. рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝реЗрд╢рди рдХреЗ рджреМрд░рд╛рди рдХрддрд╛рд░ рдЕрдиреБрдкрд▓рдмреНрдз рд░рд╣рддреА рд╣реИ</i> <br><br>  рджреЛ рдШрдВрдЯреЗ рдХреЗ рдмрд╛рдж, рдХреНрдпреВ рдП рднреА рдЙрдкрд▓рдмреНрдз рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдлрд┐рд░ рд╕реЗ рдкрдврд╝рдирд╛ рдФрд░ рд▓рд┐рдЦрдирд╛ рд╢реБрд░реВ рдХрд░рдирд╛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░ рд╕рдХрддрд╛ рд╣реИред <br><br><h3>  рдЕрджреНрдпрддрди рдХрд░рдиреЗ </h3><br>  рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝реЗрд╢рди рдХреЗ рджреМрд░рд╛рди рдпрд╣ рдЕрд╡рд░реБрджреНрдз рд╡реНрдпрд╡рд╣рд╛рд░ рдмрд╣реБрдд рдмрдбрд╝реА рдХрддрд╛рд░реЛрдВ рдХреЗ рд╕рд╛рде рдХреНрд▓рд╕реНрдЯрд░ рдХреЛ рдЕрдкрдЧреНрд░реЗрдб рдХрд░рдирд╛ рдореБрд╢реНрдХрд┐рд▓ рдмрдирд╛рддрд╛ рд╣реИред  рдХреБрдЫ рдмрд┐рдВрджреБ рдкрд░, рд╡рд┐рдЬрд╝рд╛рд░реНрдб рдХреЗ рд╕рд╛рде рдиреЛрдб рдХреЛ рдкреБрдирд░рд╛рд░рдВрдн рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рдпрд╛ рддреЛ рджрд░реНрдкрдг рдкрд░ рд╕реНрд╡рд┐рдЪ рдХрд░рдирд╛ рдпрд╛ рд╕рд░реНрд╡рд░ рдЕрдкрдбреЗрдЯ рдХреЗ рджреМрд░рд╛рди рдХрддрд╛рд░ рдмрдВрдж рдХрд░рдирд╛ред  рдпрджрд┐ рд╣рдо рдПрдХ рд╕рдВрдХреНрд░рдордг рдЪреБрдирддреЗ рд╣реИрдВ, рддреЛ рд╣рдо рд╕рдВрджреЗрд╢ рдЦреЛ рджреЗрдВрдЧреЗ рдпрджрд┐ рджрд░реНрдкрдг рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝ рдирд╣реАрдВ рд╣реИрдВред  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рдмреНрд░реЛрдХрд░ рдХреЗ рд╡рд┐рдпреЛрдЧ рдХреЗ рджреМрд░рд╛рди, рдПрдХ рдЕрдирд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝реНрдб рдорд┐рд░рд░ рдореЗрдВ рд╕рдВрдХреНрд░рдордг рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рд╣реИ рдХрд┐ рдЬреИрд╕реЗ рд╣реА рдмреНрд░реЛрдХрд░ рд▓реМрдЯрддрд╛ рд╣реИ, рд╣рдо рдХреЛрдИ рд╕рдВрджреЗрд╢ рдирд╣реАрдВ рдЦреЛрддреЗ рд╣реИрдВ, рдХреЗрд╡рд▓ рдиреБрдХрд╕рд╛рди рдХреЗрд╡рд▓ рдПрдХ рд╕рд░рд▓ рдХрддрд╛рд░ рдереАред  рджрд▓рд╛рд▓реЛрдВ рдХреЛ рдирд┐рд╖реНрдХреНрд░рд┐рдп рдХрд░рдирд╛ <code>ha-promote-on-shutdown</code> рдиреАрддрд┐ рджреНрд╡рд╛рд░рд╛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЖрдк рджреЛ рдореЗрдВ рд╕реЗ рдПрдХ рдорд╛рди рд╕реЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><ul><li>  <code>always</code> = рдЕрд╕рдВрдмрджреНрдз рджрд░реНрдкрдгреЛрдВ рдкрд░ рд╕реНрд╡рд┐рдЪ рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо <br></li><li>  <code>when-synced</code> рд╕рдордиреНрд╡рд┐рдд = рдХреЗрд╡рд▓ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝ рдХрд┐рдП рдЧрдП рджрд░реНрдкрдг рдкрд░ рд╕реНрд╡рд┐рдЪ рдХрд░реЗрдВ, рдЕрдиреНрдпрдерд╛ рдХрддрд╛рд░ рдкрдврд╝рдиреЗ рдФрд░ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рджреБрд░реНрдЧрдо рд╣реЛ рдЬрд╛рддреА рд╣реИред  рдмреНрд░реЛрдХрд░ рдХреЗ рд▓реМрдЯрддреЗ рд╣реА рдХрддрд╛рд░ рд╡рд╛рдкрд╕ рдЖ рдЬрд╛рддреА рд╣реИ </li></ul><br>  рдПрдХ рд░рд╛рд╕реНрддрд╛ рдпрд╛ рджреВрд╕рд░рд╛, рдмрдбрд╝реА рдХрддрд╛рд░реЛрдВ рдХреЗ рд╕рд╛рде, рдЖрдкрдХреЛ рдбреЗрдЯрд╛ рд╣рд╛рдирд┐ рдФрд░ рджреБрд░реНрдЧрдорддрд╛ рдХреЗ рдмреАрдЪ рдЪрдпрди рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред <br><br><h3>  рдЬрдм рдЙрдкрд▓рдмреНрдзрддрд╛ рдбреЗрдЯрд╛ рд╕реБрд░рдХреНрд╖рд╛ рдореЗрдВ рд╕реБрдзрд╛рд░ рдХрд░рддреА рд╣реИ </h3><br>  рдирд┐рд░реНрдгрдп рд▓реЗрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдПрдХ рдФрд░ рдЬрдЯрд┐рд▓рддрд╛ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдЬрдмрдХрд┐ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝реЗрд╢рди рдЕрддрд┐рд░реЗрдХ рдХреЗ рд▓рд┐рдП рдмреЗрд╣рддрд░ рд╣реИ, рдпрд╣ рдбреЗрдЯрд╛ рд╕реБрд░рдХреНрд╖рд╛ рдХреЛ рдХреИрд╕реЗ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддрд╛ рд╣реИ?  рдмреЗрд╢рдХ, рдмреЗрд╣рддрд░ рдЕрддрд┐рд░реЗрдХ рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж, RabbitMQ рдореМрдЬреВрджрд╛ рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рдЦреЛрдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдХрдо рд╣реИ, рд▓реЗрдХрд┐рди рдкреНрд░рдХрд╛рд╢рдХреЛрдВ рдХреЗ рдирдП рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреНрдпрд╛? <br><br>  рдпрд╣рд╛рдВ рдЖрдкрдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: <br><ul><li>  рдХреНрдпрд╛ рдХреЛрдИ рдкреНрд░рдХрд╛рд╢рдХ рдХреЗрд╡рд▓ рдПрдХ рддреНрд░реБрдЯрд┐ рджреЗ рд╕рдХрддрд╛ рд╣реИ, рдФрд░ рдПрдХ рдЙрдЪреНрдЪ рд╕реЗрд╡рд╛ рдпрд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдмрд╛рдж рдореЗрдВ рдкреБрди: рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдЧрд╛? <br></li><li>  рдХреНрдпрд╛ рдПрдХ рдкреНрд░рдХрд╛рд╢рдХ рд╕реНрдерд╛рдиреАрдп рд░реВрдк рд╕реЗ рдпрд╛ рдмрд╛рдж рдореЗрдВ рдкреБрдирдГ рдкреНрд░рдпрд╛рд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдПрдХ рд╕рдВрджреЗрд╢ рд╕рд╣реЗрдЬ рд╕рдХрддрд╛ рд╣реИ? </li></ul><br>  рдпрджрд┐ рдкреНрд░рдХрд╛рд╢рдХ рдХреЗрд╡рд▓ рд╕рдВрджреЗрд╢ рдЫреЛрдбрд╝рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реИ, рддреЛ, рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдПрдХреНрд╕реЗрд╕рд┐рдмрд┐рд▓рд┐рдЯреА рдореЗрдВ рд╕реБрдзрд╛рд░ рдХрд░рдиреЗ рд╕реЗ рдбреЗрдЯрд╛ рд╕реБрд░рдХреНрд╖рд╛ рднреА рдмрдврд╝ рдЬрд╛рддреА рд╣реИред <br><br>  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдПрдХ рд╕рдВрддреБрд▓рди рдХреА рдорд╛рдВрдЧ рдХреА рдЬрд╛рдиреА рдЪрд╛рд╣рд┐рдП, рдФрд░ рдирд┐рд░реНрдгрдп рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕реНрдерд┐рддрд┐ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИред <br><br><h1>  рд╣рд╛-рдкреНрд░рдореЛрд╢рди-рдСрди-рд╡рд┐рдлрд▓рддрд╛ рдХреЗ рд╕рд╛рде рд╕рдорд╕реНрдпрд╛рдПрдВ = рдЬрдм-рд╕рд┐рдВрдХ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реЛ </h1><br>  <i><b>рд╣рд╛-рдкреНрд░рдореЛрд╢рди-рдСрди-рдлреЗрд▓ рд╣реЛрдиреЗ</b></i> рдХрд╛ рд╡рд┐рдЪрд╛рд░ = <i><b>рдЬрдм-рд╕рд┐рдВрдХ рдХрд┐рдпрд╛</b></i> рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд╣рдо рдПрдХ рдЕрд╕рдВрдмрджреНрдз рджрд░реНрдкрдг рдкрд░ рд╕реНрд╡рд┐рдЪ рдХрд░рдиреЗ рд╕реЗ рд░реЛрдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдбреЗрдЯрд╛ рд╣рд╛рдирд┐ рд╕реЗ рдмрдЪрддреЗ рд╣реИрдВред  рдкрдврд╝рдиреЗ рдпрд╛ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдХрддрд╛рд░ рджреБрд░реНрдЧрдо рд░рд╣рддреА рд╣реИред  рдЗрд╕рдХреЗ рдмрдЬрд╛рдп, рд╣рдо рдПрдХ рдЧрд┐рд░ рдЧрдП рджрд▓рд╛рд▓ рдХреЛ рдЕрдкреНрд░рдХрд╛рд╢рд┐рдд рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рд╡рд╛рдкрд╕ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдпрд╣ рдмрд┐рдирд╛ рдбреЗрдЯрд╛ рд╣рд╛рдирд┐ рдХреЗ рдПрдХ рдорд╛рд╕реНрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рдо рдХрд░реЗред <br><br>  рд▓реЗрдХрд┐рди (рдФрд░ рдпрд╣ рдмрдбрд╝рд╛ рд╣реИ рд▓реЗрдХрд┐рди) рдпрджрд┐ рджрд▓рд╛рд▓ рдиреЗ рдЕрдкрдирд╛ рдбреЗрдЯрд╛ рдЦреЛ рджрд┐рдпрд╛ рд╣реИ, рддреЛ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдПрдХ рдмрдбрд╝реА рд╕рдорд╕реНрдпрд╛ рд╣реИ: рдХрддрд╛рд░ рдЦреЛ рдЧрдИ рд╣реИ!  рд╕рднреА рдбреЗрдЯрд╛ рдЪрд▓рд╛ рдЧрдпрд╛ рд╣реИ!  рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЕрдЧрд░ рдЖрдкрдХреЗ рдкрд╛рд╕ рджрд░реНрдкрдг рд╣реИрдВ рдЬреЛ рдореВрд▓ рд░реВрдк рд╕реЗ рдореБрдЦреНрдп рдХрддрд╛рд░ рд╕реЗ рдкрдХрдбрд╝рддреЗ рд╣реИрдВ, рддреЛ рдЗрди рджрд░реНрдкрдгреЛрдВ рдХреЛ рднреА рдЫреЛрдбрд╝ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br>  рдПрдХ рд╣реА рдирд╛рдо рдХреЗ рд╕рд╛рде рдПрдХ рдиреЛрдб рдХреЛ рдлрд┐рд░ рд╕реЗ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рдХреНрд▓рд╕реНрдЯрд░ рдХреЛ рдЦреЛрдП рд╣реБрдП рдиреЛрдб ( <i>rabbitmqctl рднреВрд▓рдирд╛_cluster_node рдХрдорд╛рдВрдб рдХреЗ рд╕рд╛рде</i> ) рдХреЛ рднреВрд▓ рдЬрд╛рддреЗ рд╣реИрдВ рдФрд░ рдЙрд╕реА рд╣реЛрд╕реНрдЯ рдирд╛рдо рдХреЗ рд╕рд╛рде рдПрдХ рдирдпрд╛ рдмреНрд░реЛрдХрд░ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рддреЗ рд╣реИрдВред  рдЬрдм рддрдХ рдХреНрд▓рд╕реНрдЯрд░ рдЦреЛрдП рд╣реБрдП рдиреЛрдб рдХреЛ рдпрд╛рдж рдХрд░рддрд╛ рд╣реИ, рддрдм рддрдХ рд╡рд╣ рдкреБрд░рд╛рдиреА рдХрддрд╛рд░ рдФрд░ рдЕрдирд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝ рдХрд┐рдП рдЧрдП рджрд░реНрдкрдг рдХреЛ рдпрд╛рдж рд░рдЦрддрд╛ рд╣реИред  рдЬрдм рдХрд┐рд╕реА рдХреНрд▓рд╕реНрдЯрд░ рдХреЛ рдПрдХ рдЦреЛрдП рд╣реБрдП рдиреЛрдб рдХреЛ рднреВрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдпрд╣ рдХрддрд╛рд░ рднреА рднреВрд▓ рдЬрд╛рддреА рд╣реИред  рдЕрдм рдЖрдкрдХреЛ рдЗрд╕реЗ рдлрд┐рд░ рд╕реЗ рдШреЛрд╖рд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рд╣рдордиреЗ рд╕рднреА рдбреЗрдЯрд╛ рдЦреЛ рджрд┐рдП, рд╣рд╛рд▓рд╛рдВрдХрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдЖрдВрд╢рд┐рдХ рдбреЗрдЯрд╛ рд╕реЗрдЯ рдХреЗ рд╕рд╛рде рджрд░реНрдкрдг рдереЗред  рдмреЗрд╣рддрд░ рд╣реЛрдЧрд╛ рдХрд┐ рдЕрдирд╕реАрди рд╕рд┐рдВрдХреНрд░реЛрдирд╛рдЗрдЬрд╝реНрдб рдорд┐рд░рд░ рдореЗрдВ рд╕реНрд╡рд┐рдЪ рдХрд░реЗрдВ! <br><br>  рдЗрд╕рд▓рд┐рдП, <code>ha-promote-on-failure=when-synced</code> , рдореЗрд░реА рд░рд╛рдп рдореЗрдВ, рдХреЗ рд╕рд╛рде рд╕рдВрдпреЛрдЬрди рдореЗрдВ рдореИрдиреБрдЕрд▓ рд╕рд┐рдВрдХреНрд░реЛрдирд╛рдЗрдЬрд╝реЗрд╢рди (рдФрд░ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝реЗрд╢рди рд╡рд┐рдлрд▓рддрд╛) рдХрд╛рдлреА рдЬреЛрдЦрд┐рдо рднрд░рд╛ рд╣реИред  рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдХрд╣рддреЗ рд╣реИрдВ рдХрд┐ рдпрд╣ рд╡рд┐рдХрд▓реНрдк рдбреЗрдЯрд╛ рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рд▓рд┐рдП рдореМрдЬреВрдж рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдПрдХ рджреЛрдзрд╛рд░реА рдЪрд╛рдХреВ рд╣реИред <br><br><h1>  рд░рд┐рдмреИрд▓реЗрдВрд╕рд┐рдВрдЧ рдорд╛рд╕реНрдЯрд░реНрд╕ </h1><br>  рдЬреИрд╕рд╛ рдХрд┐ рд╡рд╛рджрд╛ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рд╣рдо рдПрдХ рдпрд╛ рдЕрдзрд┐рдХ рдиреЛрдбреНрд╕ рдкрд░ рд╕рднреА рд╕реНрд╡рд╛рдореА рдХреЗ рд╕рдВрдЪрдп рдХреА рд╕рдорд╕реНрдпрд╛ рдкрд░ рд▓реМрдЯрддреЗ рд╣реИрдВред  рд░реЛрд▓рд┐рдВрдЧ рд░реЛрд▓рд┐рдВрдЧ рдХреНрд▓рд╕реНрдЯрд░ рдЕрдкрдбреЗрдЯ рдХреЗ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк рднреА рдРрд╕рд╛ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  рддреАрди рдиреЛрдбреНрд╕ рд╡рд╛рд▓реЗ рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ, рд╕рднреА рдореБрдЦреНрдп рдХрддрд╛рд░реЗрдВ рдПрдХ рдпрд╛ рджреЛ рдиреЛрдбреНрд╕ рдкрд░ рдЬрдорд╛ рд╣реЛрдВрдЧреАред <br><br>  рдЕрд╕рдВрддреБрд▓рд┐рдд рд╕реНрд╡рд╛рдореА рджреЛ рдХрд╛рд░рдгреЛрдВ рд╕реЗ рд╕рдорд╕реНрдпрд╛рдЧреНрд░рд╕реНрдд рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><ul><li>  рдХреЛрдИ рдЕрдЪреНрдЫрд╛ рд░реАрдмреИрд▓реЗрдВрд╕рд┐рдВрдЧ рдЯреВрд▓ рдирд╣реАрдВ </li><li>  рдХрддрд╛рд░ рд╕рд┐рдВрдХ </li></ul><br>  рдкреБрдирд░реНрд╕рдВрддреБрд▓рди рдХреЗ рд▓рд┐рдП, рдПрдХ рддреГрддреАрдп <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">-</a> рдкрдХреНрд╖ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреНрд▓рдЧрдЗрди рд╣реИ</a> рдЬреЛ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд░реВрдк рд╕реЗ рд╕рдорд░реНрдерд┐рдд рдирд╣реАрдВ рд╣реИред  рдерд░реНрдб-рдкрд╛рд░реНрдЯреА рдкреНрд▓рдЧ-рдЗрди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ, RabbitMQ рдореИрдиреБрдЕрд▓ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХрд╣рддрд╛ рд╣реИ</a> : тАЬрдкреНрд▓рдЧ-рдЗрди рдХреБрдЫ рдЕрддрд┐рд░рд┐рдХреНрдд рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдФрд░ рд░рд┐рдкреЛрд░реНрдЯрд┐рдВрдЧ рдЯреВрд▓ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ RabbitMQ рдЯреАрдо рджреНрд╡рд╛рд░рд╛ рд╕рдорд░реНрдерд┐рдд рдФрд░ рд╕рдорд░реНрдерд┐рдд рдирд╣реАрдВ рд╣реИред  рдЕрдкрдиреЗ рдЬреЛрдЦрд┐рдо рдкрд░ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред тАЭ <br><br>  рд╣рд╛ рдиреАрддрд┐рдпреЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдореБрдЦреНрдп рдХрддрд╛рд░ рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдФрд░ рдЪрд╛рд▓ рд╣реИред  рдореИрдиреБрдЕрд▓ рдиреЗ рдЗрд╕рдХреЗ рд▓рд┐рдП рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реНрдХреНрд░рд┐рдкреНрдЯ</a> рдХрд╛ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рд╣реИред  рдпрд╣ рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ: <br><br><ul><li>  рдореМрдЬреВрджрд╛ рдПрдЪрдП рдкреЙрд▓рд┐рд╕реА рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдЙрдЪреНрдЪ рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рдХреЗ рд╕рд╛рде рдПрдХ рдЕрд╕реНрдерд╛рдпреА рдиреАрддрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рднреА рджрд░реНрдкрдг рд╣рдЯрд╛рддрд╛ рд╣реИред <br></li><li>  рд╣рд╛ рдЕрд╕реНрдерд╛рдпреА рдиреАрддрд┐ рдХреЛ рдиреЛрдб рдХреЗ рд╕рд╛рде рдиреЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрджрд▓рддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдореБрдЦреНрдп рдХрддрд╛рд░ рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред <br></li><li>  рдордЬрдмреВрд░ рдкреНрд░рд╡рд╛рд╕ рдХреЗ рд▓рд┐рдП рдХрддрд╛рд░ рдХреЛ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝ рдХрд░рддрд╛ рд╣реИред <br></li><li>  рдорд╛рдЗрдЧреНрд░реЗрд╢рди рдкреВрд░рд╛ рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж, рдЕрд╕реНрдерд╛рдпреА рдиреАрддрд┐ рдХреЛ рд╣рдЯрд╛ рджреЗрддрд╛ рд╣реИред  рд╣рд╛ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдиреАрддрд┐ рд▓рд╛рдЧреВ рд╣реЛрддреА рд╣реИ рдФрд░ рдЖрд╡рд╢реНрдпрдХ рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рджрд░реНрдкрдг рдмрдирд╛рдП рдЬрд╛рддреЗ рд╣реИрдВред </li></ul><br>  рдиреБрдХрд╕рд╛рди рдпрд╣ рд╣реИ рдХрд┐ рдпрд╣ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛рдо рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдмрдбрд╝реА рдХрддрд╛рд░реЗрдВ рдпрд╛ рд╕рдЦреНрдд рдЕрддрд┐рд░реЗрдХ рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдВ рд╣реИрдВред <br><br>  рдЕрдм рджреЗрдЦрддреЗ рд╣реИрдВ рдХрд┐ рд░реИрдмрд┐рдЯрдПрдордХреНрдпреВ рдХреНрд▓рд╕реНрдЯрд░ рдиреЗрдЯрд╡рд░реНрдХ рд╡рд┐рднрд╛рдЬрди рдХреЗ рд╕рд╛рде рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВред <br><br><h1>  рд╕рдВрдкрд░реНрдХ рдХрд╛ рд╡рд┐рдШрдЯрди </h1><br>  рдПрдХ рд╡рд┐рддрд░рд┐рдд рдкреНрд░рдгрд╛рд▓реА рдХреЗ рдиреЛрдб рдиреЗрдЯрд╡рд░реНрдХ рд▓рд┐рдВрдХ рджреНрд╡рд╛рд░рд╛ рдЬреБрдбрд╝реЗ рд╣реБрдП рд╣реИрдВ, рдФрд░ рдиреЗрдЯрд╡рд░реНрдХ рд▓рд┐рдВрдХ рдбрд┐рд╕реНрдХрдиреЗрдХреНрдЯ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред  рдЖрдЙрдЯреЗрдЬ рдХреА рдЖрд╡реГрддреНрддрд┐ рд╕реНрдерд╛рдиреАрдп рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪреЗ рдпрд╛ рдЪрдпрдирд┐рдд рдХреНрд▓рд╛рдЙрдб рдХреА рд╡рд┐рд╢реНрд╡рд╕рдиреАрдпрддрд╛ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддреА рд╣реИред  рдХрд┐рд╕реА рднреА рдорд╛рдорд▓реЗ рдореЗрдВ, рд╡рд┐рддрд░рд┐рдд рд╕рд┐рд╕реНрдЯрдо рдЙрдиреНрд╣реЗрдВ рд╕рдВрднрд╛рд▓рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдлрд┐рд░ рд╕реЗ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдкрд╣реБрдВрдЪ рдФрд░ рд╕рдВрдЧрддрддрд╛ рдХреЗ рдмреАрдЪ рдПрдХ рд╡рд┐рдХрд▓реНрдк рд╣реИ, рдФрд░ рдлрд┐рд░ рд╕реЗ рдЕрдЪреНрдЫреА рдЦрдмрд░ рдпрд╣ рд╣реИ рдХрд┐ RabbitMQ рджреЛрдиреЛрдВ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ (рдмрд╕ рдПрдХ рд╣реА рд╕рдордп рдореЗрдВ рдирд╣реАрдВ)ред <br><br>  RabbitMQ рдХреЗ рд╕рд╛рде, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рджреЛ рдореБрдЦреНрдп рд╡рд┐рдХрд▓реНрдк рд╣реИрдВ: <br><br><ul><li>  рддрд╛рд░реНрдХрд┐рдХ рдкреГрдердХреНрдХрд░рдг (рд╡рд┐рднрд╛рдЬрд┐рдд-рдорд╕реНрддрд┐рд╖реНрдХ) рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдВред  рдпрд╣ рдкрд╣реБрдВрдЪ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдбреЗрдЯрд╛ рд╣рд╛рдирд┐ рдХрд╛ рдХрд╛рд░рдг рдмрди рд╕рдХрддрд╛ рд╣реИред <br></li><li>  рддрд╛рд░реНрдХрд┐рдХ рдЕрд▓рдЧрд╛рд╡ рдХреЛ рдЕрд╕реНрд╡реАрдХрд╛рд░ рдХрд░реЗрдВред  рдЧреНрд░рд╛рд╣рдХреЛрдВ рдХреЗ рдХреНрд▓рд╕реНрдЯрд░ рд╕реЗ рдЬреБрдбрд╝рдиреЗ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдЙрдкрд▓рдмреНрдзрддрд╛ рдХреА рдЕрд▓реНрдкрдХрд╛рд▓рд┐рдХ рд╣рд╛рдирд┐ рд╣реЛ рд╕рдХрддреА рд╣реИред  рдпрд╣ рджреЛ рдиреЛрдбреНрд╕ рдХреЗ рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рджреБрд░реНрдЧрдорддрд╛ рдХрд╛ рдХрд╛рд░рдг рдмрди рд╕рдХрддрд╛ рд╣реИред </li></ul><br>  рд▓реЗрдХрд┐рди рддрд╛рд░реНрдХрд┐рдХ рдЕрд▓рдЧрд╛рд╡ рдХреНрдпрд╛ рд╣реИ?  рдпрд╣ рддрдм рд╣реЛрддрд╛ рд╣реИ рдЬрдм рдиреЗрдЯрд╡рд░реНрдХ рдХрдиреЗрдХреНрд╢рди рдХреЗ рдиреБрдХрд╕рд╛рди рдХреЗ рдХрд╛рд░рдг рдПрдХ рдХреНрд▓рд╕реНрдЯрд░ рдХреЛ рджреЛ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдкреНрд░рддреНрдпреЗрдХ рддрд░рдл, рджрд░реНрдкрдг рдорд╛рд╕реНрдЯрд░ рдХреЗ рд▓рд┐рдП рдЙрдарддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдЕрдВрдд рдореЗрдВ, рдкреНрд░рддреНрдпреЗрдХ рдореЛрдбрд╝ рдкрд░ рдХрдИ рд╕реНрд╡рд╛рдореА рд╣реЛрддреЗ рд╣реИрдВред <br><br><img src="https://habrastorage.org/webt/mi/4f/bb/mi4fbbuk9maj487alkqsbbykkns.png"><br>  <i>рдЕрдВрдЬреАрд░ред</i>  <i>17. рдореБрдЦреНрдп рд▓рд╛рдЗрди рдФрд░ рджреЛ рджрд░реНрдкрдг, рдкреНрд░рддреНрдпреЗрдХ рдПрдХ рдЕрд▓рдЧ рдиреЛрдб рдкрд░ред</i>  <i>рддрдм рдПрдХ рдиреЗрдЯрд╡рд░реНрдХ рд╡рд┐рдлрд▓рддрд╛ рд╣реЛрддреА рд╣реИ рдФрд░ рдПрдХ рджрд░реНрдкрдг рдЕрд▓рдЧ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред</i>  <i>рдЕрд▓рдЧ рд╣реБрдП рдиреЛрдб рджреЗрдЦрддрд╛ рд╣реИ рдХрд┐ рдЕрдиреНрдп рджреЛ рдЧрд┐рд░ рдЧрдП рд╣реИрдВ, рдФрд░ рдЗрд╕рдХреЗ рджрд░реНрдкрдгреЛрдВ рдХреЛ рдорд╛рд╕реНрдЯрд░ рдХреЛ рдЖрдЧреЗ рдмрдврд╝рд╛рддреЗ рд╣реИрдВред</i>  <i>рдЕрдм рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рджреЛ рдореБрдЦреНрдп рд▓рд╛рдЗрдиреЗрдВ рд╣реИрдВ, рдФрд░ рджреЛрдиреЛрдВ рд▓рд┐рдЦрдиреЗ рдФрд░ рдкрдврд╝рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВред</i> <br><br>  рдпрджрд┐ рдкреНрд░рдХрд╛рд╢рдХ рджреЛрдиреЛрдВ рдорд╛рд╕реНрдЯрд░реНрд╕ рдХреЛ рдбреЗрдЯрд╛ рднреЗрдЬрддреЗ рд╣реИрдВ, рддреЛ рд╣рдореЗрдВ рдХрддрд╛рд░ рдХреА рджреЛ рдбрд╛рдпрд╡рд░реНрдЬрди рдкреНрд░рддрд┐рдпрд╛рдВ рдкреНрд░рд╛рдкреНрдд рд╣реЛрддреА рд╣реИрдВред <br><br>  рд╡рд┐рднрд┐рдиреНрди RabbitMQ рдореЛрдб рдкрд╣реБрдБрдЪ рдпрд╛ рд╕реНрдерд┐рд░рддрд╛ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВред <br><br><h3>  рдореЛрдб рдХреЛ рдЕрдирджреЗрдЦрд╛ рдХрд░реЗрдВ (рдбрд┐рдлрд╝реЙрд▓реНрдЯ) </h3><br>  рдпрд╣ рдореЛрдб рдкрд╣реБрдВрдЪ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред  рдХрдиреЗрдХреНрдЯрд┐рд╡рд┐рдЯреА рдХреЗ рдиреБрдХрд╕рд╛рди рдХреЗ рдмрд╛рдж, рддрд╛рд░реНрдХрд┐рдХ рдЕрд▓рдЧрд╛рд╡ рд╣реЛрддрд╛ рд╣реИред  рдкреБрди: рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ рдХреЛ рдпрд╣ рддрдп рдХрд░рдирд╛ рд╣реЛрдЧрд╛ рдХрд┐ рдХреМрди рд╕рд╛ рд╡рд┐рднрд╛рдЬрди рдкрд╕рдВрдж рдХрд░рдирд╛ рд╣реИред  рдЦреЛрдиреЗ рд╡рд╛рд▓рд╛ рдкрдХреНрд╖ рдлрд┐рд░ рд╕реЗ рдЪрд╛рд▓реВ рд╣реЛ рдЬрд╛рдПрдЧрд╛, рдФрд░ рдЗрд╕ рддрд░рдл рд╕реЗ рд╕рднреА рд╕рдВрдЪрд┐рдд рдбреЗрдЯрд╛ рдЦреЛ рдЬрд╛рдПрдВрдЧреЗред <br><br><img src="https://habrastorage.org/webt/ih/rj/ow/ihrjow-ceolx0wy8y2o-cn2yiuk.png"><br>  <i>рдЕрдВрдЬреАрд░ред</i>  <i>18. рддреАрди рдкреНрд░рдХрд╛рд╢рдХ рддреАрди рджрд▓рд╛рд▓реЛрдВ рдХреЗ рд╕рд╛рде рдЬреБрдбрд╝реЗ рд╣реБрдП рд╣реИрдВред</i>  <i>рдЖрдВрддрд░рд┐рдХ рд░реВрдк рд╕реЗ, рдХреНрд▓рд╕реНрдЯрд░ рдмреНрд░реЛрдХрд░ 2 рдкрд░ рдореБрдЦреНрдп рдХрддрд╛рд░ рдХреЗ рд▓рд┐рдП рд╕рднреА рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рдЖрдЧреЗ рдмрдврд╝рд╛рддрд╛ рд╣реИред</i> <br><br>  рдЕрдм рд╣рдо рдмреНрд░реЛрдХрд░ 3 рдЦреЛ рд░рд╣реЗ рд╣реИрдВред рд╡рд╣ рджреЗрдЦрддрд╛ рд╣реИ рдХрд┐ рдЕрдиреНрдп рджрд▓рд╛рд▓ рдЧрд┐рд░ рдЧрдП рд╣реИрдВ, рдФрд░ рдЕрдкрдиреЗ рджрд░реНрдкрдг рдХреЛ рдЧреБрд░реБ рдХреЗ рдкрд╛рд╕ рд▓реЗ рдЬрд╛рддреЗ рд╣реИрдВред  рдпрд╣ рддрд╛рд░реНрдХрд┐рдХ рдЕрд▓рдЧрд╛рд╡ рд╣реИред <br><br><img src="https://habrastorage.org/webt/u_/l8/af/u_l8af-qqcyv4ldqdgwrn4t22ei.png"><br>  <i>рдЕрдВрдЬреАрд░ред</i>  <i>19. рд▓реЙрдЬрд┐рдХрд▓ рд╕реЗрдкрд░реЗрд╢рди (рд╕реНрдкреНрд▓рд┐рдЯ-рдмреНрд░реЗрди)ред</i>  <i>рд░рд┐рдХреЙрд░реНрдбреНрд╕ рджреЛ рдореБрдЦреНрдп рд▓рд╛рдЗрдиреЛрдВ рдореЗрдВ рдЬрд╛рддреЗ рд╣реИрдВ, рдФрд░ рджреЛ рдкреНрд░рддрд┐рдпрд╛рдВ рд╡рд┐рдЪрд▓рди рдХрд░рддреА рд╣реИрдВред</i> <br><br>  рдХрдиреЗрдХреНрдЯрд┐рд╡рд┐рдЯреА рдмрд╣рд╛рд▓ рд╣реЛ рдЧрдИ рд╣реИ, рд▓реЗрдХрд┐рди рддрд╛рд░реНрдХрд┐рдХ рдЕрд▓рдЧрд╛рд╡ рдмрдирд╛ рд╣реБрдЖ рд╣реИред  рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ рдХреЛ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдЦреЛрдиреЗ рд╡рд╛рд▓реЗ рдкрдХреНрд╖ рдХрд╛ рдЪрдпрди рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдорд╛рдорд▓реЗ рдореЗрдВ, рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ рдиреЗ рдмреНрд░реЛрдХрд░ 3 рдХреЛ рд░рд┐рдмреВрдЯ рдХрд┐рдпрд╛ред рд╕рднреА рд╕рдВрджреЗрд╢ рдЬреЛ рдЙрдиреНрд╣реЛрдВрдиреЗ рдкреНрд░рд╕рд╛рд░рд┐рдд рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдмрдВрдзрди рдирд╣реАрдВ рдХрд┐рдпрд╛ рдерд╛, рд╡реЗ рдЦреЛ рдЧрдП рд╣реИрдВред <br><br><img src="https://habrastorage.org/webt/_o/a9/ft/_oa9ftbuvl6dwnewtgfkrhkyva4.png"><br>  <i>рдЕрдВрдЬреАрд░ред</i>  <i>20. рдкреНрд░рд╢рд╛рд╕рдХ рдмреНрд░реЛрдХрд░ 3 рдХреЛ рдирд┐рд╖реНрдХреНрд░рд┐рдп рдХрд░рддрд╛ рд╣реИред</i> <br><br><img src="https://habrastorage.org/webt/ni/y_/xq/niy_xqsgzuvf5ktcta35z98zzxs.png"><br>  <i>рдЕрдВрдЬреАрд░ред</i>  <i>21. рдкреНрд░рд╢рд╛рд╕рдХ рдмреНрд░реЛрдХрд░ 3 рд╢реБрд░реВ рдХрд░рддрд╛ рд╣реИ, рдФрд░ рд╡рд╣ рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рд╡рд╣рд╛рдВ рдореМрдЬреВрдж рд╕рднреА рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рдЦреЛ рджреЗрддрд╛ рд╣реИред</i> <br><br>  рдХрдиреЗрдХреНрдЯрд┐рд╡рд┐рдЯреА рдХреА рд╣рд╛рдирд┐ рдХреЗ рджреМрд░рд╛рди рдФрд░ рдЗрд╕рдХреА рдмрд╣рд╛рд▓реА рдХреЗ рдмрд╛рдж, рдХреНрд▓рд╕реНрдЯрд░ рдФрд░ рдпрд╣ рдХрддрд╛рд░ рдкрдврд╝рдиреЗ рдФрд░ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рдереАред <br><br><h3>  рдСрдЯреЛрд╣рд┐рдпрд▓ рдореЛрдб </h3><br>  рдпрд╣ рд╕рдорд╛рди рд░реВрдк рд╕реЗ рдЗрдЧреНрдиреЛрд░ рдореЛрдб рдкрд░ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рд╕рд┐рд╡рд╛рдп рдЗрд╕рдХреЗ рдХрд┐ рдХреНрд▓рд╕реНрдЯрд░ рдЦреБрдж рд╣реА рд╡рд┐рднрд╛рдЬрди рдФрд░ рдХрдиреЗрдХреНрдЯрд┐рд╡рд┐рдЯреА рдХреЛ рдмрд╣рд╛рд▓ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдЦреЛрдиреЗ рд╡рд╛рд▓реЗ рдкрдХреНрд╖ рдХрд╛ рдЪрдпрди рдХрд░рддрд╛ рд╣реИред  рд╣рд╛рд░рдиреЗ рд╡рд╛рд▓рд╛ рдкрдХреНрд╖ рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рд╡рд╛рдкрд╕ рдЖ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдХрддрд╛рд░ рдЙрди рд╕рднреА рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рдЦреЛ рджреЗрддреА рд╣реИ рдЬреЛ рдХреЗрд╡рд▓ рдЙрд╕ рддрд░рдл рднреЗрдЬреЗ рдЧрдП рдереЗред <br><br><h3>  рдорд╛рдЗрдиреЙрд░рд┐рдЯреА рдореЛрдб рдХреЛ рд░реЛрдХреЗрдВ </h3><br>  рдпрджрд┐ рд╣рдо рддрд╛рд░реНрдХрд┐рдХ рдЕрд▓рдЧрд╛рд╡ рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рджреЗрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рд╣рдорд╛рд░рд╛ рдПрдХрдорд╛рддреНрд░ рд╡рд┐рдХрд▓реНрдк рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рд╡рд┐рднрд╛рдЬрди рдХреЗ рдмрд╛рдж рдЫреЛрдЯреЗ рдкрдХреНрд╖ рдкрд░ рдкрдврд╝рдиреЗ рдФрд░ рд▓рд┐рдЦрдиреЗ рд╕реЗ рдЗрдирдХрд╛рд░ рдХрд░рдирд╛ рд╣реИред  рдЬрдм рдПрдХ рджрд▓рд╛рд▓ рджреЗрдЦрддрд╛ рд╣реИ рдХрд┐ рд╡рд╣ рдХрдо рдкрдХреНрд╖ рдкрд░ рд╣реИ, рддреЛ рд╡рд╣ рд░реБрдХ рдЬрд╛рддрд╛ рд╣реИ, рдЕрд░реНрдерд╛рдд рд╕рднреА рдореМрдЬреВрджрд╛ рдХрдиреЗрдХреНрд╢рдиреЛрдВ рдХреЛ рдмрдВрдж рдХрд░ рджреЗрддрд╛ рд╣реИ рдФрд░ рдХрд┐рд╕реА рднреА рдирдП рдХреЛ рдордирд╛ рдХрд░ рджреЗрддрд╛ рд╣реИред  рдПрдХ рдмрд╛рд░ рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб рдХреЗ рдмрд╛рдж, рдпрд╣ рдкреБрди: рд╕рдВрдпреЛрдЬрди рдХреЗ рд▓рд┐рдП рдЬрд╛рдБрдЪ рдХрд░рддрд╛ рд╣реИред  рдПрдХ рдмрд╛рд░ рдХрдиреЗрдХреНрдЯрд┐рд╡рд┐рдЯреА рдмрд╣рд╛рд▓ рд╣реЛ рдЬрд╛рдиреЗ рдкрд░, рдпрд╣ рдХрд╛рдо рдлрд┐рд░ рд╕реЗ рд╢реБрд░реВ рдХрд░ рджреЗрддрд╛ рд╣реИ рдФрд░ рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/xl/cc/af/xlccafaylyx2nrsz5scaafo1h6u.png"><br>  <i>рдЕрдВрдЬреАрд░ред</i>  <i>22. рддреАрди рдкреНрд░рдХрд╛рд╢рдХ рддреАрди рджрд▓рд╛рд▓реЛрдВ рдХреЗ рд╕рд╛рде рдЬреБрдбрд╝реЗ рд╣реБрдП рд╣реИрдВред</i>  <i>рдЖрдВрддрд░рд┐рдХ рд░реВрдк рд╕реЗ, рдХреНрд▓рд╕реНрдЯрд░ рдмреНрд░реЛрдХрд░ 2 рдкрд░ рдореБрдЦреНрдп рдХрддрд╛рд░ рдХреЗ рд▓рд┐рдП рд╕рднреА рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рдЖрдЧреЗ рдмрдврд╝рд╛рддрд╛ рд╣реИред</i> <br><br>  рдлрд┐рд░ рджрд▓рд╛рд▓реЛрдВ 1 рдФрд░ 2 рдХреЛ рдмреНрд░реЛрдХрд░ 3 рд╕реЗ рдЕрд▓рдЧ рдХрд░ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЙрдирдХреЗ рджрд░реНрдкрдг рдХреЛ рдПрдХ рдорд╛рд╕реНрдЯрд░ рдореЗрдВ рдЕрдкрдЧреНрд░реЗрдб рдХрд░рдиреЗ рдХреЗ рдмрдЬрд╛рдп, рдмреНрд░реЛрдХрд░ 3 рд░реБрдХ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рджреБрд░реНрдЧрдо рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/8h/0_/hc/8h0_hc8vj99u6zaht7cgymlckve.png"><br>  <i>рдЕрдВрдЬреАрд░ред</i>  <i>23. рдмреНрд░реЛрдХрд░ 3 рд░реЛрдХреЗрдВ, рд╕рднреА рдЧреНрд░рд╛рд╣рдХреЛрдВ рдХреЛ рдбрд┐рд╕реНрдХрдиреЗрдХреНрдЯ рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдХрдиреЗрдХреНрд╢рди рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рдЕрд╕реНрд╡реАрдХрд╛рд░ рдХрд░рддрд╛ рд╣реИред</i> <br><br>  рдПрдХ рдмрд╛рд░ рдХрдиреЗрдХреНрдЯрд┐рд╡рд┐рдЯреА рдмрд╣рд╛рд▓ рд╣реЛ рдЬрд╛рдиреЗ рдХреЗ рдмрд╛рдж, рдпрд╣ рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рд╡рд╛рдкрд╕ рдЖ рдЬрд╛рддрд╛ рд╣реИред <br><br>  рдЖрдЗрдП рдПрдХ рдФрд░ рдЙрджрд╛рд╣рд░рдг рджреЗрдЦреЗрдВ, рдЬрд╣рд╛рдВ рдмреНрд░реЛрдХрд░ 3 рдкрд░ рдореБрдЦреНрдп рд▓рд╛рдЗрди рд╣реИред <br><br><img src="https://habrastorage.org/webt/rs/0s/if/rs0siffyxwpdc8imasvfvkapykw.png"><br>  <i>рдЕрдВрдЬреАрд░ред</i>  <i>24. рдмреНрд░реЛрдХрд░ 3 рдкрд░ рдореБрдЦреНрдп рд▓рд╛рдЗрдиред</i> <br><br>  рдлрд┐рд░ рдХрдиреЗрдХреНрдЯрд┐рд╡рд┐рдЯреА рдХрд╛ рдПрдХ рд╣реА рдиреБрдХрд╕рд╛рди рд╣реЛрддрд╛ рд╣реИред  рдмреНрд░реЛрдХрд░ 3 рдард╣рд░рд╛рд╡ рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдЫреЛрдЯреА рддрд░рдл рд╣реИред  рджреВрд╕рд░реА рддрд░рдл, рдиреЛрдбреНрд╕ рджреЗрдЦрддреЗ рд╣реИрдВ рдХрд┐ рдмреНрд░реЛрдХрд░ 3 рдмрдВрдж рд╣реЛ рдЧрдпрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдмреНрд░реЛрдХрд░реНрд╕ 1 рдФрд░ 2 рдХрд╛ рдкреБрд░рд╛рдирд╛ рджрд░реНрдкрдг рдорд╛рд╕реНрдЯрд░ рдХреЗ рдкрд╛рд╕ рдмрдврд╝ рдЬрд╛рддрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/ba/o3/gr/bao3gr7y31x5ljbbpkqkretaaty.png"><br>  <i>рдЕрдВрдЬреАрд░ред</i>  <i>25. рдмреНрд░реЛрдХрд░ 2 рдХреЗ рд▓рд┐рдП рд╕рдВрдХреНрд░рдордг рдпрджрд┐ рдмреНрд░реЛрдХрд░ 3 рдЕрдиреБрдкрд▓рдмреНрдз рд╣реИред</i> <br><br>  рдЬрдм рдХрдиреЗрдХреНрдЯрд┐рд╡рд┐рдЯреА рдмрд╣рд╛рд▓ рд╣реЛ рдЬрд╛рддреА рд╣реИ, рддреЛ рдмреНрд░реЛрдХрд░ 3 рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛ рдЬрд╛рдПрдЧрд╛ред <br><br><img src="https://habrastorage.org/webt/3z/rp/3k/3zrp3knvfoew7m25bg6bg4dlhju.png"><br>  <i>рдЕрдВрдЬреАрд░ред</i>  <i>26. рдХреНрд▓рд╕реНрдЯрд░ рд╕рд╛рдорд╛рдиреНрдп рдСрдкрд░реЗрд╢рди рдореЗрдВ рд╡рд╛рдкрд╕ рдЖ рдЧрдпрд╛ред</i> <br><br>  рдпрд╣ рд╕рдордЭрдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рд╣рдореЗрдВ рдирд┐рд░рдВрддрд░рддрд╛ рдорд┐рд▓ рд░рд╣реА рд╣реИ, рд▓реЗрдХрд┐рди <i><b>рдЕрдЧрд░ рд╣рдо</b></i> рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдЧреНрд░рд╛рд╣рдХреЛрдВ рдХреЛ рдЕрдзрд┐рдХрд╛рдВрд╢ рдЕрдиреБрднрд╛рдЧ рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, <i><b>рддреЛ рд╣рдореЗрдВ</b></i> рдПрдХреНрд╕реЗрд╕рд┐рдмрд┐рд▓рд┐рдЯреА рднреА рдорд┐рд▓ рд╕рдХрддреА рд╣реИред  рдЕрдзрд┐рдХрд╛рдВрд╢ рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП, рдореИрдВ рд╡реНрдпрдХреНрддрд┐рдЧрдд рд░реВрдк рд╕реЗ рдкреЙрдЬрд╝ рдорд╛рдЗрдиреЙрд░рд┐рдЯреА рдореЛрдб рдХрд╛ рдЪрдпрди рдХрд░реВрдВрдЧрд╛, рд▓реЗрдХрд┐рди рдпрд╣ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╡рд┐рд╢реЗрд╖ рдорд╛рдорд▓реЗ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИред <br><br>  рдЙрдкрд▓рдмреНрдзрддрд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рдЧреНрд░рд╛рд╣рдХ рд╕рд╛рдЗрдЯ рд╕реЗ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдХрдиреЗрдХреНрдЯ рд╣реЛрдВред  рд╣рдорд╛рд░реЗ рд╡рд┐рдХрд▓реНрдкреЛрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВред <br><br><h1>  рдЧреНрд░рд╛рд╣рдХ рдХрдиреЗрдХреНрдЯрд┐рд╡рд┐рдЯреА </h1><br>  рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдХрдИ рд╡рд┐рдХрд▓реНрдк рд╣реИрдВ рдХрд┐ рдХреИрд╕реЗ, рдХрдиреЗрдХреНрдЯрд┐рд╡рд┐рдЯреА рдЦреЛрдиреЗ рдХреЗ рдмрд╛рдж, рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЛ рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рдореБрдЦреНрдп рднрд╛рдЧ рдпрд╛ рдХрд╛рдо рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдиреЛрдбреНрд╕ (рдПрдХ рдиреЛрдб рдХреА рд╡рд┐рдлрд▓рддрд╛ рдХреЗ рдмрд╛рдж) рднреЗрдЬреЗрдВред  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдЖрдЗрдП рдпрд╛рдж рд░рдЦреЗрдВ рдХрд┐ рдХрд┐рд╕реА рд╡рд┐рд╢реЗрд╖ рд╣реЛрд╕реНрдЯ рдкрд░ рдПрдХ рд╡рд┐рд╢реЗрд╖ рдХрддрд╛рд░ рдХреА рдореЗрдЬрдмрд╛рдиреА рдХреА рдЬрд╛рддреА рд╣реИ, рд▓реЗрдХрд┐рди рд╕рднреА рдореЗрдЬрдмрд╛рдиреЛрдВ рдкрд░ рд░рд╛рдЙрдЯрд┐рдВрдЧ рдФрд░ рдиреАрддрд┐рдпреЛрдВ рдХреЛ рджреЛрд╣рд░рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЧреНрд░рд╛рд╣рдХ рдХрд┐рд╕реА рднреА рдиреЛрдб рд╕реЗ рдЬреБрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдЖрдВрддрд░рд┐рдХ рд░реВрдЯрд┐рдВрдЧ рдЙрдиреНрд╣реЗрдВ рдирд┐рд░реНрджреЗрд╢рд┐рдд рдХрд░реЗрдВрдЧреЗ рдЬрд╣рд╛рдВ рдЖрд╡рд╢реНрдпрдХ рд╣реЛред  рд▓реЗрдХрд┐рди рдЬрдм рдПрдХ рдиреЛрдб рдХреЛ рдирд┐рд▓рдВрдмрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдпрд╣ рдХрдиреЗрдХреНрд╢рди рдХреЛ рдЕрд╕реНрд╡реАрдХрд╛рд░ рдХрд░ рджреЗрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЛ рджреВрд╕рд░реЗ рдиреЛрдб рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рдпрджрд┐ рдПрдХ рдиреЛрдб рдмрдВрдж рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд╡рд╣ рдмрд╣реБрдд рдХрдо рдХрд░ рд╕рдХрддрд╛ рд╣реИред <br><br>  рд╣рдорд╛рд░реЗ рд╡рд┐рдХрд▓реНрдк: <br><br><ul><li>  рдХреНрд▓рд╕реНрдЯрд░ рдХреЛ рдПрдХ рд▓реЛрдб рдмреИрд▓реЗрдВрд╕рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХреНрд╕реЗрд╕ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рдмрд╕ рдиреЛрдбреНрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЪрдХреНрд░ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдХреНрд▓рд╛рдЗрдВрдЯреНрд╕ рдХреЛ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдкреВрд░рд╛ рд╣реЛрдиреЗ рддрдХ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╛рд░-рдмрд╛рд░ рдкреНрд░рдпрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВред      ,        ,        (  ).         ,    . <br></li><li>         /   ,    .    ,        ,     . <br></li><li>      ,          .       ,       ,   . <br></li><li>    /    DNS.      TTL. </li></ul><br><h1>  рдирд┐рд╖реНрдХрд░реНрд╖ </h1><br>   RabbitMQ    .      , : <br><br><ul><li>        ; <br></li><li>      . </li></ul><br>         .   RabbitMQ      ,     .        ,     .         RabbitMQ        .      RabbitMQ     : <br><br><ul><li>  . <br></li><li>  . <br></li><li>   . </li></ul><br>      ,   : <br><br><ul><li> <code>ha-promote-on-failure=always</code> <br> </li><li> <code>ha-sync-mode=manual</code> <br> </li><li> <code>cluster_partition_handling=ignore</code> ( <code>autoheal</code> ) <br></li><li>   <br></li><li> ,      ,  -     </li></ul><br>   ( )   : <br><br><ul><li> Publisher Confirms  Manual Acknowledgements    <br></li><li> <code>ha-promote-on-failure=when-synced</code> ,              !   <code>=always</code> . <br></li><li> <code>ha-sync-mode=automatic</code> (        ;  , ,       ) <br></li><li>  Pause Minority <br></li><li>   </li></ul><br>          ; ,      (,   ).        Shovel. <br><br>    - , ,  . <br><br> .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="></a> ,       RabbitMQ   Docker  Blockade,      ,    . <br><br>   : <br> тДЦ1 тАФ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">habr.com/ru/company/itsumma/blog/416629</a> <br> тДЦ2 тАФ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">habr.com/ru/company/itsumma/blog/418389</a> <br> тДЦ3 тАФ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">habr.com/ru/company/itsumma/blog/437446</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi471858/">https://habr.com/ru/post/hi471858/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi471840/index.html">рдХреНрдпреЛрдВ рдЬрд╛рддреЗ рд╣реИрдВ рдЗрдВрдЯрд░рд╡реНрдпреВ рдХреЗ рд▓рд┐рдП</a></li>
<li><a href="../hi471844/index.html">рдХрдЬрд╛рдХрд┐рд╕реНрддрд╛рди рдореЗрдВ EPAM INSIDER рдХреА рдпрд╛рддреНрд░рд╛ рдХрд░рдиреЗ рдХреЗ 5 рдХрд╛рд░рдг</a></li>
<li><a href="../hi471852/index.html">OpenStreetMap рд╕рдВред 481 (10/01/2019 - 07/10/2019) рдХреА рджреБрдирд┐рдпрд╛ рд╕реЗ рд╕рдорд╛рдЪрд╛рд░</a></li>
<li><a href="../hi471854/index.html">рд╣реАрдЯ рдбреЗрде 5 рдЬреА</a></li>
<li><a href="../hi471856/index.html">рд╣рдо рд╣реИрд░реА рдкреЙрдЯрд░ рдкреЛрд╢рди рдкрд╣реЗрд▓реА рдХреЗ рд╕рднреА 42 рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЛ рд╣рд▓ рдХрд░рддреЗ рд╣реИрдВ</a></li>
<li><a href="../hi471860/index.html">рдЦреВрдВрдЯреА рдкрд░рд╕реЗрдВрдЯрд░реНрд╕</a></li>
<li><a href="../hi471862/index.html">рдЦреВрдВрдЯреА рдкрд╛рд░реНрд╕рд░ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди</a></li>
<li><a href="../hi471864/index.html">рдЦреВрдВрдЯреА parser рдкреАрдврд╝реА</a></li>
<li><a href="../hi471866/index.html">рдЦреВрдВрдЯреА рдкрд╛рд░реНрд╕рд░ рджреГрд╢реНрдп</a></li>
<li><a href="../hi471868/index.html">рдкреНрд░реЗрдо рдХреА рдЖрдиреБрд╡рд╛рдВрд╢рд┐рдХреА: рдЕрдВрддрд░-рд▓рд┐рдВрдЧ рд╕рдВрдШрд░реНрд╖, рдПрдХрд░рд╕ рдкрдХреНрд╖реА рдХреЗ рдЬреЛрдбрд╝реЗ рдореЗрдВ рд╕рд╣рдпреЛрдЧ рдХрд╛ рдЖрдзрд╛рд░</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>