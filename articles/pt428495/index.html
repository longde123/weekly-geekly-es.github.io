<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêÄ üë§ üë©‚Äçüëß Como fiz um simulador de futebol por 13 anos ‚ùÑÔ∏è üë©üèª‚Äçüíª üìº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A hist√≥ria que vou contar come√ßou h√° 13 anos em uma aula de ci√™ncia da computa√ß√£o. Meus amigos da s√©tima s√©rie e eu resolvemos todos os problemas em P...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como fiz um simulador de futebol por 13 anos</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/428495/"><p><img src="https://habrastorage.org/getpro/habr/post_images/724/edd/db2/724edddb21a7a8b18c0cdc03b817171c.gif" alt="2_fview_gameplay"></p><br><p>  A hist√≥ria que vou contar come√ßou h√° 13 anos em uma aula de ci√™ncia da computa√ß√£o.  Meus amigos da s√©tima s√©rie e eu resolvemos todos os problemas em Pascal e nos divertimos jogando o primeiro terremoto.  Nosso professor viu isso, veio at√© mim e disse apenas uma frase que distorcia minha imagem do mundo: "Se voc√™ quiser jogar na li√ß√£o, escreva voc√™ mesmo".  Desde ent√£o, ocasionalmente, fa√ßo jogos.  Um deles √© um simulador de futebol, que ser√° discutido. </p><br><p>  Esta √© uma hist√≥ria emocionante sobre o meu caminho como desenvolvedor, projetos inacabados e por que √†s vezes eles n√£o precisam ser conclu√≠dos. </p><a name="habracut"></a><br><p>  <em>Isen√ß√£o de responsabilidade: desde os eventos descritos neste texto, participei de um curso de desenvolvimento do Unity e publiquei alguns de meus jogos no Google Play e na Windows Store.</em>  <em>Agora sou o editor do blog Yandex.Money e conto esta hist√≥ria para compartilhar experi√™ncias com a comunidade.</em> </p><br><p>  Havia um recurso interessante no desenvolvimento de jogos em l√≠ngua russa da √©poca - o MS DOS estava quase acabando e os programadores dom√©sticos estavam vendo brinquedos para o Windows.  Um grande n√∫mero de simula√ß√µes surgiu como um homem de computador, tanques, v√°rias cartas e jogos "l√≥gicos".  E os discos com esses jogos tamb√©m foram vendidos em grandes quantidades.  Sobre como essas cole√ß√µes foram compiladas, pouco est√° escrito nos "Testes do testador", mas eu ainda n√£o sabia. </p><br><p>  Certamente muitos de voc√™s se lembram deste belo menu: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/842/3ff/f0d/8423fff0d34a34ced969537eeb568c7b.png" alt="1250menu"><br>  <em>A vida, √© claro, deu um tapinha nele</em> </p><br><p>  Em um desses discos, conheci o jogo Coach - um gerente de futebol de texto.  L√° voc√™ pode pegar um time da Premier League inglesa e tentar traz√™-lo para o campeonato.  E este jogo foi distribu√≠do de acordo com o modelo shareware: voc√™ pode jogar duas temporadas e depois pagar.  Obviamente, n√£o foi poss√≠vel pagar de forma alguma, porque para isso foi necess√°rio enviar uma transfer√™ncia banc√°ria ao criador do jogo e, aos 13 anos, voc√™ n√£o vai ao banco, nem pensa nisso.  O Yandex.Money j√° existia, mas at√© o Caixa aparecer, restavam 8 anos, portanto tamb√©m era inconveniente.  Meus amigos e eu jogamos por duas temporadas e come√ßamos de novo. </p><br><p>  Eu tive que procurar uma solu√ß√£o e, no processo, escrevi um dos meus primeiros jogos - o treinador, com uma liga russa mais interessante para mim, um copo e um monte de insetos.  N√£o mudei o nome, apenas mudei o empate para tr√™s.  Aconteceu assim: </p><br><h2 id="coach-3v252">  Coach 3 v2.52 </h2><br><p>  O que um time de futebol precisa?  Claro, os jogadores.  Naturalmente, ningu√©m sabia sobre licen√ßas para clubes e jogadores - acabamos de nos reunir com um colega de classe e fazer listas de times de mem√≥ria.  Portanto, por exemplo, CSKA e Spartak ainda tinham 11 pessoas cada (sim, era um simulador sem substitui√ß√µes), mas a Luch-Energia de Vladivostok ficou com dados vazios em vez de jogadores. </p><br><p>  Como me lembro agora: 2005, eu me muni de um livro de ci√™ncias da computa√ß√£o para a 9¬™ s√©rie (era quase o meu Visual Basic 6 favorito) e abri o editor de formul√°rios - aprendi a palavra IDE muito mais tarde.  Desenhou um bot√£o no formul√°rio, clicou e abriu o editor de c√≥digo.  Cheio de orgulho de mim mesmo, digitei </p><br><pre><code class="plaintext hljs">Private Sub Command1_Click() End End Sub</code> </pre> <br><p>  e clicou em "Executar".  Tudo funcionou e realmente me agradou.  Depois de um tempo, um simulador de futebol baseado em texto apareceu - Coach v2.52. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/cb7/7cd/8f1/cb77cd8f15ffee0ff114d4dd2d243922.png" alt="2018-11-01_11-03-44"><br>  <em>Advogados de RPL, se voc√™ ler este - este jogo nunca foi publicado ou vendido por dinheiro</em> </p><br><p>  Ent√£o me pareceu que essa √© a p√©rola do c√≥digo do programa.  √â claro que naquele momento eu n√£o sabia muito e, por exemplo, as classifica√ß√µes foram armazenadas em seis matrizes da Label diretamente no formul√°rio.  Sem salvar, sem matrizes vari√°veis ‚Äã‚Äã- apenas hardcore.  Naturalmente, erros estranhos surgiram por causa disso: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/fcb/0d5/fb1/fcb0d5fb1b0be6afc1b1ee2855c1a594.png" alt="2018-11-01_11-11-04"><br>  <em>Todas as equipes jogaram 2 partidas, mas algumas delas 3 e outras uma de cada vez</em> </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/d2b/c05/980/d2bc059803ee98e17ff2b786b8a0682d.png" alt="2018-11-01_11-17-52"><br>  <em>Voc√™ tamb√©m pode comprar Roy Keane e Andriy Shevchenko em Spartak.</em>  <em>N√£o tenho certeza do que estava em pelo menos um simulador de futebol da √©poca</em> </p><br><p>  Em geral, imagine que voc√™ tenha esquecido profundamente como usar bancos de dados, gravar algo em arquivos de texto e armazenar dados em matrizes.  A √∫nica coisa que resta s√£o os controles nos formul√°rios.  Assustador  E de alguma forma, os dias da semana da s√©tima s√©rie pareciam ter decidido que ele era capaz de jogar. </p><br><p>  Eu n√£o tinha a fonte desta vers√£o, mas tenho certeza de que havia algo assim: </p><br><pre> <code class="plaintext hljs">m = Form1.Label5(0).Caption Form2.Label3(m).Caption = Form2.Label3(m).Caption + 3</code> </pre> <br><p>  Alguns recursos do VB6 n√£o foram escritos no livro did√°tico.  Portanto, por exemplo, quando descobri que o Shape pode ser derramado de maneiras diferentes, fiz uma janela inteira para isso com a escolha do gramado no est√°dio do clube: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/d4e/af5/ad0/d4eaf5ad047b19efc5666a85d79e0771.gif" alt="1_coach_stadium"><br>  <em>Voc√™ seria capaz de cortar a grama em uma flauta de tubos de webcast?</em> </p><br><blockquote>  <b>Moralidade importante # 1 - Explore o poder das ferramentas que voc√™ usa todos os dias.</b> <br></blockquote><p>  Eu tinha certeza de que um dia enviaria esse jogo para algum tipo de jogo m√∫ltiplo - foi por isso que escrevi um certificado.  Claro, ent√£o foi visto por dois testadores e meio.  Mas desde que aconteceu, seja publicado. </p><br><div class="spoiler">  <b class="spoiler_title">readme.txt</b> <div class="spoiler_text"><p>  Coach 3 V2.08 - Edi√ß√£o de 2006 </p><br><hr><br><p>  Ol√°  Obrigado por comprar este jogo. </p><br><p>  1.Instala√ß√£o <br>  2.Requisitos do sistema <br>  Plataforma 3.Test <br>  4. O que h√° de novo <br>  5. dicas <br>  6. Desinstala√ß√£o <br>  7.Muito obrigado ... </p><br><p>  1.Instala√ß√£o <br>  Execute o Setup.exe e descompacte os arquivos em uma pasta com: \ Arquivos de programas \ Football Manager 2005 <br>  E descompacte o arquivo setup2.exe </p><br><p>  2.Requisitos do sistema <br>  No P4-2500, tudo √© extremamente simples. </p><br><p>  Pentium 1-233 MHz (recomendado 300 ou superior) <br>  HDD 5MB <br>  16 MB de RAM (32 ou superior recomendado) <br>  V√≠deo 16 MB <br>  Windows 9x, Me, NT, 2003, Longhorn.  No XP, ele funciona apenas se o arquivo msvbvm60.dll estiver no diret√≥rio raiz com: \ windows \ system <br>  O mouse </p><br><p>  Plataforma 3.Test <br>  Celeron 1100 MHz <br>  160 MB de RAM <br>  V√≠deo 16MB <br>  Windows XP SP2 </p><br><p>  4. O que h√° de novo </p><br><p>  Fez muitas coisas novas. <br>  Por exemplo, agora no campeonato da R√∫ssia, 14 equipes participam! <br>  O di√°logo "Equipe" foi alterado, um menu sobre o treinador do clube apareceu. <br>  Agora o jogo depende de t√°ticas! <br>  Rivais fortes. <br>  Pela primeira vez desde o treinador 1, os pontos s√£o normalmente concedidos a voc√™. <br>  Liga dos Campe√µes, Superta√ßa da R√∫ssia. </p><br><p>  5. Dicas. </p><br><p>  N√£o modifique ou exclua arquivos da pasta com: \ arquivos de programas \ football manager 2005 \ clubs \ emblemas <br>  Ap√≥s a instala√ß√£o, copie o arquivo MSVBVM60.DLL para a pasta c: \ windows \ system </p><br><p>  6. Desinstala√ß√£o </p><br><p>  N√£o √© necess√°rio desinstalar, basta apagar a pasta do jogo. </p><br><p>  7.Muito obrigado ... </p><br><p>  Kusherbayev Daniyar para testes beta. <br>  Karneyev Mikhail, Trofimenko Mikhail para testes beta e conselhos valiosos. <br>  Para rfpl.org para a forma das equipes da Premier League. </p><br><p>  27/01/06 </p><br><p>  PS O nosso vai ganhar! </p></div></div><br><p>  Se soubesse que voltaria a esse projeto nos pr√≥ximos 13 anos, √© claro que seria mais respons√°vel em preservar tudo o que est√° relacionado a ele.  No entanto, o Coach 2.5 permanece na hist√≥ria e √© lan√ßado agora, diretamente da pasta, chamada assim: </p><br><pre> <code class="plaintext hljs">E:\prod\dev\My_old_dev_projects\Dev\ , </code> </pre> <br><p>  Certamente havia vers√µes anteriores, mas eu n√£o tinha onde fazer backup naquela √©poca, e as fontes at√© 2005, juntamente com as vers√µes anteriores, foram perdidas quando um disco r√≠gido de 2,3 gigabytes travou.  <em>suspira nostalgia</em> E lembre-se, quando colocar Blood 2, voc√™ teve que apagar o Age of Empires 2? </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/caa/01e/f24/caa01ef24a3ef21bd72a60bc9994d70d.png" alt="0__football_champ_nogame"><br>  <em>Captura de tela da vers√£o 1.62.</em>  <em>Se o Windows 10 1803 fosse lan√ßado em 2004, eu n√£o teria deixado essa a√ß√£o</em> </p><br><blockquote>  <b>Importante moral # 2 - fa√ßa backups.</b> <br></blockquote><p>  Bem e mais importante - a jogabilidade.  Eventos aleat√≥rios, independentes de qualquer coisa - foi o que chamou a aten√ß√£o das longas horas de desenvolvimento e teste.  E testamos assim - jogamos at√© que algo engra√ßado ca√≠sse. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/ecd/34e/61d/ecd34e61df248c57fe2665649f57f35f.gif" alt="1_coach_gameplay"><br>  <em>N√£o pergunte o que s√£o pontos de ataque.</em>  <em>N√£o me lembro</em> </p><br><p>  V√™ esta caixa rosa nervosa?  Agora vou falar sobre ele. </p><br><h2 id="shinnik-ivizualnyy-simulyator-futbola">  Shinnik e simulador visual de futebol </h2><br><p>  Juntamente com o Coach, mais dois jogos foram distribu√≠dos nesses discos.  O primeiro - "FC Shinnik", de Yevgeny Sharov - era uma gest√£o med√≠ocre da equipe, mas voc√™ podia assistir √† partida.  A julgar pelos cr√©ditos, tamb√©m foi realizado por um longo per√≠odo de tempo - de 1996 a 2000. O segundo jogo foi o dosovskiy "Futebol 4x4" - n√£o havia absolutamente nada de impressionante l√°, exceto os homens que corriam, mas me fascinou tanto que decidi fazer o mesmo jogo para si mesmo. </p><br><div class="spoiler">  <b class="spoiler_title">Futebol 4x4</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/getpro/habr/post_images/65b/fdb/c50/65bfdbc50eaf98ef97d60b67f7fde898.png" alt="2018-11-01_23-53-44"></p></div></div><br><p>  No in√≠cio, devido √† falta de experi√™ncia, uma caixa rosa apareceu.  Ele se moveu pelo campo, indicando onde o jogo estava acontecendo.  E, tipo, at√© influenciou alguma coisa.  Isso n√£o foi suficiente e eu fiz o segundo projeto de futebol da minha vida - o Football View. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/724/edd/db2/724edddb21a7a8b18c0cdc03b817171c.gif" alt="2_fview_gameplay"><br>  <em>Sim, sim, estas s√£o faixas manchadas.</em>  <em>Na d√©cada passada, era de alguma forma mais simples.</em> </p><br><p>  Enigma - como mover jogadores constantemente pelo campo, quando voc√™ n√£o pode pendurar um script separado para cada um, o que levar√° em conta a posi√ß√£o, os vizinhos e a dist√¢ncia da bola?  A solu√ß√£o √© usar o cron√¥metro e girar os jogadores no loop, mudando-os aleatoriamente para a largura do sprite.  O c√≥digo √© direto de 2005, ent√£o agora estou com muita vergonha. </p><br><pre> <code class="plaintext hljs">Private Sub Igroki_Timer() k = k + 1 ‚Ä≤   For i = 1 To 8 Randomize (x) x = Int(Rnd * 4) If x = 1 Then Image2(i).Top = Image2(i).Top ‚Äî 360 If x = 2 Then Image2(i).Top = Image2(i).Top + 360 If x = 3 Then Image2(i).Left = Image2(i).Left + 360 If x = 4 Then Image2(i).Left = Image2(i).Left ‚Äî 360 y = Int(Rnd * 4) If y = 1 Then Image3(i).Top = Image3(i).Top ‚Äî 360 If y = 2 Then Image3(i).Top = Image3(i).Top + 360 If y = 3 Then Image3(i).Left = Image3(i).Left ‚Äî 360 If y = 4 Then Image3(i).Left = Image3(i).Left + 360 ‚Ä≤    If Image2(i).Top = Image1.Top And Image2(i).Left = Image1.Left Then Igroki.Enabled = False: pas_vpravo.Enabled = True If Image3(i).Top = Image1.Top And Image3(i).Left = Image1.Left Then Igroki.Enabled = False: pas_vlevo.Enabled = True '        If Image2(i).Top &lt;= 1080 Then Image2(i).Top = Image2(i).Top + 720 If Image3(i).Top &lt;= 1080 Then Image3(i).Top = Image3(i).Top + 720 If Image2(i).Top &gt;= 4320 Then Image2(i).Top = Image2(i).Top ‚Äî 720 If Image3(i).Top &gt;= 4320 Then Image3(i).Top = Image3(i).Top ‚Äî 720 ‚Ä≤         If Image2(i).Left &lt;= 480 Then Image2(i).Left = Image2(i).Left + 3720 If Image3(i).Left &lt;= 480 Then Image3(i).Left = Image3(i).Left + 3720 If Image2(i).Left &gt;= 6600 Then Image2(i).Left = Image2(i).Left ‚Äî 3720 If Image3(i).Left &gt;= 6600 Then Image3(i).Left = Image3(i).Left ‚Äî 3720 Next i End Sub</code> </pre> <br><blockquote>  <b>Importante moralidade # 3 - escreva coment√°rios claros e detalhados.</b> <br></blockquote><p>  Outro cron√¥metro verificou se a partida havia terminado: </p><br><pre> <code class="plaintext hljs">If Val(Label5.Caption) = "90" And Val(Label2.Caption) &gt; Val(Label1.Caption) Then MsgBox (" . " + Label3.Caption): End</code> </pre> <br><p>  E agora - o pior.  A bola se moveu pelo campo com quatro marcadores, chamados pas_vverh, pas_vniz, pas_vpravo e pas_vlevo.  Alguns agora tiveram uma contra√ß√£o nos olhos, outros foram reler urgentemente Stroustrup, outros ainda fizeram uma pergunta idiota - "Mas vemos que no GIF a bola n√£o se move para cima e para baixo".  Claro, porque n√£o consegui coordenar corretamente os quatro cron√¥metros. </p><br><p>  Estou vendo o c√≥digo agora e entendo que ele ainda fornece controle indireto da <em>bola</em> , mas n√£o funciona. </p><br><pre> <code class="plaintext hljs">Private Sub Form_KeyDown(KeyCode As Integer, Shift As Integer) If (KeyCode = vbKeyLeft) Then pas_vlevo.Enabled = True If (KeyCode = vbKeyRight) Then pas_vpravo.Enabled = True If (KeyCode = vbKeyUp) Then Pas_verh.Enabled = True If (KeyCode = vbKeyDown) Then Pas_vniz.Enabled = True End Sub</code> </pre> <br><p>  Durante a nona e a d√©cima s√©rie, meu colega e eu est√°vamos ocupados escrevendo um simulador do sistema operacional, para n√£o termos m√£os no futebol.  "Sim, isso √© galinhas para rir", pensei, quando em 2009 eu ainda descobri um execut√°vel antigo, "preciso reescrever tudo do zero". </p><br><h2 id="kak-yarefaktoril-nerefaktoriruemoe">  Como refatorar n√£o-refinador </h2><br><p>  Reescrever do zero √© uma √≥tima id√©ia quando o projeto √© pequeno, e uma d√∫zia de maneiras apareceu na minha cabe√ßa para torn√°-lo melhor e mais conveniente do que era.  Eu precisava de um simulador de futebol de texto perfeito e, claro, tudo deu errado de novo. </p><br><p>  Em 2009, ficou mais f√°cil com a Internet e eu fui ao site da Premier League e comecei a pensar em como remover as forma√ß√µes armazenadas desta forma: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/e94/0ed/a27/e940eda273c408f26a865e21beccb5ee.png" alt="3_rpfl_players"></p><br><p>  Tamb√©m n√£o sabia como capturar a an√°lise de p√°ginas, mas sabia muito pouco sobre xml e csv.  Portanto, a solu√ß√£o t√©cnica era muito estranha: </p><br><ol><li>  As m√£os copiam o conte√∫do da p√°gina e colam no Excel.  As informa√ß√µes para cada jogador ocupavam quatro linhas e, em algum lugar pr√≥ximo, pendia uma fotografia.  Eu n√£o os usei e os descartei facilmente. </li><li>  Todas as linhas do Excel precisavam ser copiadas para o arquivo de texto parse.txt </li><li>  Um analisador foi escrito que leu o arquivo linha por linha e espalhou informa√ß√µes sobre os jogadores em quatro listas - na posi√ß√£o nominal em campo. </li><li>  Todas essas listas foram salvas em um arquivo de texto de um determinado formato, que o jogo comeu facilmente ap√≥s o lan√ßamento. </li></ol><br><p>  Existem alguns lugares engra√ßados no c√≥digo do analisador, por exemplo, uma linha comentada.  N√£o consigo imaginar por que e de onde veio dali. </p><br><pre> <code class="plaintext hljs">' If Val(List1.List(I)) * 0 = 0 Then MsgBox (List1.List(I))</code> </pre> <br><p>  √Äs vezes, o analisador foi bloqueado e o arquivo com o comando ficou assim: </p><br><pre> <code class="plaintext hljs">gk 71  22  81  30  91  16  df 3   2  83  14   96 </code> </pre> <br><p>  Isso levou a erros estranhos dentro do pr√≥prio jogo. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/edd/331/2c6/edd3312c6d77fda6075f7d7d9e6f8fea.png" alt="2018-11-01_13-08-10"><br>  <em>Como parte do meia Zenith poderia jogar Portugal com uma classifica√ß√£o de 86.</em> </p><br><p>  Esta vers√£o possui mais gerenciamento de equipe e menos divers√£o.  As t√°ticas novamente quase n√£o tiveram efeito em nada, mas foi poss√≠vel comprar e vender jogadores, eles foram feridos e receberam cartas.  Manter a classifica√ß√£o no formul√°rio √© coisa do passado, agora tudo estava na mem√≥ria e trabalhar com ele se tornou muito mais conveniente. </p><br><p>  Ocorreu um problema ao renderizar v√°rios n√∫meros no formul√°rio, mas foi resolvido com eleg√¢ncia: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/10c/e4b/abe/10ce4babe06eaea0f5161b9feacd6a31.gif" alt="3_rfpl_tablefix"><br>  <em>UX mais ou menos</em> </p><br><p>  Claro, ainda havia partes no c√≥digo que voc√™ n√£o veria sem l√°grimas: </p><br><pre> <code class="plaintext hljs">For i = 1 To 15 If tbl(i) = team2 Then i = i + 1 k = k + 1 If k = 1 Then tr = Int(Rnd * 5) + 2: xa = Int(Rnd * tr): ia = i If k = 2 Then xb = Int(Rnd * tr) If xa &gt; xb Then pts(ia) = pts(ia) + 3: gm(2, ia) = gm(2, ia) + 1: gm(4, i) = gm(4, i) + 1: gm(5, ia) = gm(5, ia) + xa: gm(5, i) = gm(5, i) + xb: gm(6, ia) = gm(6, ia) + xb: gm(6, i) = gm(6, i) + xa If xa &lt; xb Then pts(i) = pts(i) + 3: gm(2, i) = gm(2, i) + 1: gm(4, ia) = gm(4, ia) + 1: gm(5, ia) = gm(5, ia) + xa: gm(5, i) = gm(5, i) + xb: gm(6, ia) = gm(6, ia) + xb: gm(6, i) = gm(6, i) + xa If xa = xb Then pts(i) = pts(i) + 1: pts(ia) = pts(ia) + 1: gm(3, i) = gm(3, i) + 1: gm(3, ia) = gm(3, ia) + 1: gm(5, ia) = gm(5, ia) + xa: gm(5, i) = gm(5, i) + xb: gm(6, ia) = gm(6, ia) + xb: gm(6, i) = gm(6, i) + xa Form6.List1(ng).AddItem tbl(ia) + Str(xa) + ¬´:¬ª + Str(xb) + " " + tbl(i) k = 0 End If</code> </pre> <br><p>  Este jogo foi quase perfeito - foi poss√≠vel comprar legalmente Igor Akinfeev como atacante em Amkar e depois ver como o Nizhny Novgorod Volga se tornou o campe√£o da R√∫ssia.  E, em geral, tudo se tornou muito mais decente - bem, eu pensava assim no come√ßo.  Quatro anos depois, nem tudo era t√£o r√≥seo. </p><br><h2 id="rfpl-2-resurrection">  RFPL 2 - Ressurrei√ß√£o </h2><br><p>  Em 2013, eu j√° conseguia trabalhar como programador por dinheiro.  Pensei e queria escrever uma nova vers√£o do simulador - uma nova olhada no c√≥digo antigo mostrou que n√£o havia nada de bom.  Bem, isso n√£o √© absolutamente nada. </p><br><blockquote>  <b>Moralidade importante # 4 - √†s vezes √© melhor reescrever do zero.</b> <br></blockquote><p>  O site da RFPL havia mudado nessa √©poca, ent√£o escrevi outro analisador (seu c√≥digo caiu no esquecimento), mas agora n√£o havia mais erros irritantes no pa√≠s.  Criei uma estrutura separada para os jogadores, onde indiquei, entre outras coisas, afilia√ß√£o a clubes - isso facilitou a implementa√ß√£o de transfer√™ncias e a manuten√ß√£o de estat√≠sticas.  E todos eles ganharam pontos, dependendo do "estrelato" e da posi√ß√£o no campo. </p><br><pre> <code class="plaintext hljs">Type player Surname As String FirstName As String Num As String Team As String Goals As Integer Shots As Integer Saves As Integer AttPts As Integer DefPts As Integer MidPts As Integer GoalPts As Integer Position As String Star As Boolean Stamina As Integer Yellow As Integer TeamPts As Integer Injured As Integer fromStart As Boolean fromBench As Boolean End Type</code> </pre> <br><p><img src="https://habrastorage.org/getpro/habr/post_images/e5d/0ab/fd2/e5d0abfd2810398a2e70b574f96b5f28.png" alt="2018-11-01_13-30-49"><br>  <em>O bot√£o ‚ÄúAutocomposi√ß√£o‚Äù apareceu para jogadores especialmente pregui√ßosos - ele pr√≥prio encheu as posi√ß√µes com os ‚Äújogadores de futebol‚Äù mais poderosos.</em>  <em>Infelizmente, s√≥ eu ainda joguei isso</em> </p><br><p>  Naquela √©poca, eu tamb√©m descobri a tabela - eu n√£o estava com pregui√ßa e fiz uma tabela "cl√°ssica" compreens√≠vel com os indicadores necess√°rios, que podem ser vistos imediatamente.  Junto com isso, as estat√≠sticas apareceram nos melhores marcadores. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/233/b4d/9db/233b4d9db5021a51421f4bdfb7875562.png" alt="2018-11-01_13-34-53"></p><br><p>  Salvas foram adicionadas, transfer√™ncias ainda melhores, resultados de partidas paralelas de cada rodada.  Agora eu olho para ele e entendo que tudo isso √© muito infantil e ing√™nuo, mas depois parecia impressionante.  Tudo menos uma coisa.  Veja: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/4ca/f51/dde/4caf51dde519a4f1388db8b41980f4ed.gif" alt="4_rfpl2_gameplay"><br>  <em>Vergonhoso.</em>  <em>Ball.</em>  <em>Em vez disso.</em>  <em>Rosa.</em>  <em>Square.</em> </p><br><blockquote>  <b>Moralidade importante n¬∫ 5 - √†s vezes √© melhor n√£o fazer nada do que fazer um quadrado rosa.</b> <br></blockquote><p>  Mais alguns anos se passaram e eu decidi ensinar o computador a jogar futebol.  Ou pelo menos fingir que ele joga futebol.  Com uma bola, jogadores em campo, sem texto e listas.  E aqui est√° o lugar para outra moral importante, que coincide com o cabe√ßalho da se√ß√£o: </p><br><h2 id="esli-vynesdelaete-bekapy-tovam-budet-neochem-rasskazyvat-vetom-razdele">  Se voc√™ n√£o fizer backups, n√£o ter√° nada para falar nesta se√ß√£o. </h2><br><p>  De um grande projeto no Unity de 2016, no qual havia bons modelos de movimento de agentes, jogo posicional e movimento quase <em>inteligente de</em> bola, havia um pequeno GIF de um dos est√°gios iniciais de desenvolvimento. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/5e6/410/fd0/5e6410fd05362d675f811e6dfa674f77.gif" alt="ezgif-2-358042221c7d"></p><br><p>  Portanto, vou falar sobre isso em outro momento, quando reescrever tudo do zero novamente. </p><br><h2 id="ochyom-eto-vsyo">  Sobre o que √© tudo isso? </h2><br><p>  Eu gosto de lembrar essa hist√≥ria desde o come√ßo.  Eu gosto de pensar que esse simulador de brinquedos trouxe mais experi√™ncia e divers√£o do que algumas aulas da universidade e tarefas de trabalho.  Lembre-se de como registrei o primeiro e-mail, para o qual jogadores agradecidos enviar√£o cartas e como em 2007 escrevi no f√≥rum da cidade "Ler livros na Internet √© trapa√ßa, aprenderei tudo digitando".  Essas s√£o sensa√ß√µes maravilhosas, que voc√™ provavelmente tem de diferentes formas. </p><br><p>  Havia muitas dicas √≥bvias neste post - sobre backups, coment√°rios e a necessidade de refatora√ß√£o - todos sabem disso sem mim.  E o mais importante, lembre-se do pensamento de Lyubov Nikolaevna Kaftunkina, minha professora de ci√™ncia da computa√ß√£o: </p><br><blockquote>  "Se voc√™ quiser jogar na li√ß√£o, escreva voc√™ mesmo." <br></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt428495/">https://habr.com/ru/post/pt428495/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt428485/index.html">A maioria das pessoas irritantes √© publicidade irrelevante e o uso de gadgets em p√∫blico</a></li>
<li><a href="../pt428487/index.html">Por que o Ruby on Rails √© bom e como acelera o desenvolvimento</a></li>
<li><a href="../pt428489/index.html">Magreza e espessura dos √≠cones. Sketch Pro, recursos de renderiza√ß√£o e um jogo com espessura de linha</a></li>
<li><a href="../pt428491/index.html">Otimiza√ß√£o proativa do desempenho do banco de dados Oracle</a></li>
<li><a href="../pt428493/index.html">Git subrepo</a></li>
<li><a href="../pt428497/index.html">Redutor sem fio personalizado Noolite SUF-1-300</a></li>
<li><a href="../pt428499/index.html">Gigantes azuis assustadores podem revelar os segredos da evolu√ß√£o estelar</a></li>
<li><a href="../pt428501/index.html">DartUP: a primeira confer√™ncia em russo sobre Dart and Flutter em 1¬∫ de dezembro em S√£o Petersburgo</a></li>
<li><a href="../pt428503/index.html">Vis√£o geral do SVM (algoritmo de aprendizado de m√°quina)</a></li>
<li><a href="../pt428505/index.html">Obtendo links para √°udio sem VKApi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>