<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏽‍🔧 🧛🏻 🥠 Java Challengers # 2: Comparación de cadenas 🏞️ 🌠 🔏</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Java Challengers # 2: Comparación de cadenas 


 Como siempre, tenemos mucho retraso para el comienzo del curso, así que ayer tuvimos una segunda lecc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Java Challengers # 2: Comparación de cadenas</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/428449/"><h1 id="java-challengers-2-sravnenie-strok">  Java Challengers # 2: Comparación de cadenas </h1><br><p>  <em>Como siempre, tenemos mucho retraso para el comienzo del curso, así que ayer tuvimos una segunda lección entre el nuevo hilo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"Java Developer"</a> .</em>  <em>Pero esto es así, pequeñas cosas en la vida, pero por ahora seguimos publicando una serie de artículos de Java Challengers, cuya traducción ha sido preparada para usted.</em> </p><br><p> En Java, la clase <code>String</code> encapsula una matriz de caracteres ( <em>nota del traductor: con java 9 ya es una matriz de <code>byte</code> , consulte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Cadenas compactas en Java 9</a></em> ).  En términos simples, <code>String</code> es una matriz de caracteres utilizados para componer palabras, oraciones u otras construcciones. </p><br><p>  <strong>La encapsulación</strong> es uno de los conceptos más poderosos en la programación orientada a objetos.  Gracias a la encapsulación, no necesita saber cómo funciona la clase <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><code>String</code></a> .  Solo necesita conocer los métodos de su interfaz. </p><br><p><img src="https://habrastorage.org/webt/9y/nz/bu/9ynzbuynkgesfwcmvuapp9ah5ci.png"><a name="habracut"></a></p><br><p>  Cuando observa la clase <code>String</code> en Java, puede ver cómo se encapsula la matriz de caracteres: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">String</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> value[])</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>(value, <span class="hljs-number"><span class="hljs-number">0</span></span>, value.length, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); }</code> </pre> <br><p>  Para comprender mejor la encapsulación, imagine un objeto físico: una máquina.  ¿Necesita saber cómo funciona un automóvil debajo del capó para conducirlo?  Por supuesto que no, pero debe saber qué hacen las interfaces del automóvil: el acelerador, los frenos y el volante.  Cada una de estas interfaces admite ciertas acciones: aceleración, frenado, girar a la izquierda, girar a la derecha.  Lo mismo es cierto en la programación orientada a objetos. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">El primer artículo</a> de la serie Java Challengers fue sobre la sobrecarga de métodos, que se usa ampliamente en la clase <code>String</code> .  La sobrecarga puede hacer que tus clases sean realmente flexibles: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">String</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String original)</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">String</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> value[], </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> offset, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> count)</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">String</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] codePoints, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> offset, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> count)</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">String</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params"> bytes[], </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> offset, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> length, String charsetName)</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-comment"><span class="hljs-comment">//    ...</span></span></code> </pre> <br><p>  En lugar de tratar de entender cómo funciona la clase <code>String</code> , este artículo lo ayudará a comprender <em>lo</em> que hace y <em>cómo</em> usarlo en su código. </p><br><h2 id="chto-takoe-pul-strok-string-pool">  ¿Qué es un conjunto de cadenas? </h2><br><p>  La clase <code>String</code> es posiblemente la clase más utilizada en Java.  Si creamos un nuevo objeto en la memoria dinámica (montón de memoria) cada vez que usamos <code>String</code> , desperdiciaremos mucha memoria.  El conjunto de cadenas resuelve este problema almacenando solo un objeto para cada valor de fila. </p><br><p><img src="https://habrastorage.org/webt/kx/zv/kb/kxzvkbdaf7imr8yq5dj6bj048lu.jpeg" alt="cadenas-en-la-cadena-pool"></p><br><p>  <em>Grupo de líneas en fila</em> </p><br><p>  Aunque creamos varias variables de <code>String</code> con los valores <code>Duke</code> y <code>Juggy</code> , solo se crean y almacenan dos objetos en la memoria dinámica (montón).  Vea el siguiente ejemplo de código para la prueba.  (Recuerde que en Java, el operador " <code>==</code> " se usa para comparar dos objetos y determinar si el mismo objeto es el mismo o no). </p><br><pre> <code class="java hljs">String juggy = <span class="hljs-string"><span class="hljs-string">"Juggy"</span></span>; String anotherJuggy = <span class="hljs-string"><span class="hljs-string">"Juggy"</span></span>; System.out.println(juggy == anotherJuggy);</code> </pre> <br><p>  Este código devolverá <code>true</code> porque las dos variables de <code>String</code> apuntan al mismo objeto en el grupo de cadenas.  Sus significados son los mismos. </p><br><h2 id="isklyuchenie----operator-new">  La excepción es el <code>new</code> operador. </h2><br><p>  Ahora mire este código: se parece al ejemplo anterior, pero hay una diferencia. </p><br><pre> <code class="plaintext hljs">String duke = new String("duke"); String anotherDuke = new String("duke"); System.out.println(duke == anotherDuke);</code> </pre> <br><p>  Según el ejemplo anterior, puede pensar que este código devolverá <code>true</code> , pero no lo es.  Agregar un <code>new</code> operador crea un nuevo objeto <code>String</code> en la memoria.  Por lo tanto, la JVM creará dos objetos diferentes. </p><br><blockquote>  <strong>Métodos nativos</strong> <br><br>  Los métodos nativos en Java son métodos que se compilarán utilizando el lenguaje C, generalmente con el objetivo de administrar la memoria y optimizar el rendimiento. </blockquote><br><h2 id="puly-strok-i-metod-intern">  Agrupaciones de cadenas y método <code>intern()</code> </h2><br><p>  Para almacenar cadenas en una agrupación, se utiliza un método llamado intercalación de cadenas. </p><br><p>  Esto es lo que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Javadoc</a> nos dice sobre el método <code>intern()</code> : </p><br><pre> <code class="java hljs"> <span class="hljs-comment"><span class="hljs-comment">/** *      . * *   ( )   {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> String}. * *    intern,     , *    {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> String},   *  {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@link</span></span></span><span class="hljs-comment"> #equals(Object)},     . * ,   {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> String}   *        {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> String}. * *   ,      {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> s}  {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> t}, * {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> s.intern() == t.intern()}  {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> true} *    ,  {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> s.equals(t)}  {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> true}. * *       . *      3.10.5 The Java&amp;trade; Language Specification. * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@returns</span></span></span><span class="hljs-comment"> ,         , * , ,       . * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@jls</span></span></span><span class="hljs-comment"> 3.10.5 String Literals */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">native</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">intern</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>;</code> </pre> <br><p>  El método <code>intern()</code> se usa para almacenar cadenas en un grupo de cadenas.  Primero, verifica si una fila ya creada existe en el grupo.  Si no, crea una nueva fila en el grupo.  La lógica del grupo de filas se basa en el patrón <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Flyweight</a> . </p><br><p>  Ahora, observe lo que sucede cuando usamos <code>new</code> para crear dos líneas: </p><br><pre> <code class="java hljs">String duke = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">"duke"</span></span>); String duke2 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">"duke"</span></span>); System.out.println(duke == duke2); <span class="hljs-comment"><span class="hljs-comment">//    false System.out.println(duke.intern() == duke2.intern()); //    true</span></span></code> </pre> <br><p>  A diferencia del ejemplo anterior con la <code>new</code> palabra clave, en este caso la comparación devolverá <code>true</code> .  Esto se debe a que el uso del método <code>intern()</code> garantiza que la cadena se encuentre en el grupo. </p><br><h2 id="metod-equals-v-klasse-string">  Método <code>equals</code> en <code>String</code> clase <code>String</code> </h2><br><p>  El método <code>equals()</code> se usa para verificar si dos clases son iguales o no.  Como <code>equals()</code> se encuentra en la clase <code>Object</code> , cada clase Java la hereda.  Pero el método <code>equals()</code> debe ser anulado para que funcione correctamente.  Por supuesto, <code>String</code> anula <code>equals()</code> . </p><br><p>  Echa un vistazo: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">equals</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Object anObject)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> == anObject) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (anObject <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> String) { String aString = (String)anObject; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (coder() == aString.coder()) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> isLatin1() ? StringLatin1.equals(value, aString.value) : StringUTF16.equals(value, aString.value); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; }</code> </pre> <br><p>  Como puede ver, el valor de la clase <code>String</code> se compara a través de <code>equals()</code> y no a través de una referencia de objeto.  No importa si las referencias a los objetos son diferentes;  Las condiciones serán comparadas. </p><br><h2 id="naibolee-rasprostranennye-metody-string">  Métodos de <code>String</code> comunes </h2><br><p>  Hay una cosa más que debe saber antes de resolver el problema de comparación de cadenas. </p><br><p>  Considere los métodos más comunes de la clase <code>String</code> : </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//         trim() //     substring(int beginIndex, int endIndex) //    length() //  ,     replaceAll(String regex, String replacement) // ,     CharSequence   contains(CharSequences)</span></span></code> </pre> <br><h2 id="reshite-zadachku-na-sravnenie-strok">  Resolver el problema de comparación de cadenas </h2><br><p>  Verifiquemos lo que aprendió sobre la clase <code>String</code> resolviendo un pequeño rompecabezas. </p><br><p>  En esta tarea, compara varias líneas usando los conceptos que ha aprendido.  Mirando el código a continuación, ¿puedes determinar el valor de cada <code>result</code> variable? </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ComparisonStringChallenge</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String... doYourBest)</span></span></span><span class="hljs-function"> </span></span>{ String result = <span class="hljs-string"><span class="hljs-string">""</span></span>; result += <span class="hljs-string"><span class="hljs-string">" powerfulCode "</span></span>.trim() == <span class="hljs-string"><span class="hljs-string">"powerfulCode"</span></span> ? <span class="hljs-string"><span class="hljs-string">"0"</span></span> : <span class="hljs-string"><span class="hljs-string">"1"</span></span>; result += <span class="hljs-string"><span class="hljs-string">"flexibleCode"</span></span> == <span class="hljs-string"><span class="hljs-string">"flexibleCode"</span></span> ? <span class="hljs-string"><span class="hljs-string">"2"</span></span> : <span class="hljs-string"><span class="hljs-string">"3"</span></span>; result += <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">"doYourBest"</span></span>) == <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">"doYourBest"</span></span>) ? <span class="hljs-string"><span class="hljs-string">"4"</span></span> : <span class="hljs-string"><span class="hljs-string">"5"</span></span>; result += <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">"noBugsProject"</span></span>) .equals(<span class="hljs-string"><span class="hljs-string">"noBugsProject"</span></span>) ? <span class="hljs-string"><span class="hljs-string">"6"</span></span> : <span class="hljs-string"><span class="hljs-string">"7"</span></span>; result += <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">"breakYourLimits"</span></span>).intern() == <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">"breakYourLimits"</span></span>).intern() ? <span class="hljs-string"><span class="hljs-string">"8"</span></span> : <span class="hljs-string"><span class="hljs-string">"9"</span></span>; System.out.println(result); } }</code> </pre> <br><p>  ¿Cuál será la conclusión? </p><br><ul><li>  A: 02468 </li><li>  B: 12469 </li><li>  C: 12579 </li><li>  D: 12568 </li></ul><br><p>  La respuesta correcta se da al final del artículo. </p><br><h2 id="chto-seychas-proizoshlo-ponimanie-povedeniya-string">  Que paso ahora  Comprender <code>String</code> comportamiento de las <code>String</code> </h2><br><p>  En la primera línea vemos: </p><br><pre> <code class="java hljs">result += <span class="hljs-string"><span class="hljs-string">" powerfulCode "</span></span>.trim() == <span class="hljs-string"><span class="hljs-string">"powerfulCode"</span></span> ? <span class="hljs-string"><span class="hljs-string">"0"</span></span> : <span class="hljs-string"><span class="hljs-string">"1"</span></span>;</code> </pre> <br><p>  En este caso, el resultado es <code>false</code> , porque cuando el método <code>trim()</code> elimina espacios, crea una nueva <code>String</code> utilizando el <code>new</code> operador. </p><br><p>  A continuación vemos: </p><br><pre> <code class="java hljs">result += <span class="hljs-string"><span class="hljs-string">"flexibleCode"</span></span> == <span class="hljs-string"><span class="hljs-string">"flexibleCode"</span></span> ? <span class="hljs-string"><span class="hljs-string">"2"</span></span> : <span class="hljs-string"><span class="hljs-string">"3"</span></span>;</code> </pre> <br><p>  No hay ningún secreto aquí; las filas son las mismas en el grupo de filas.  Esta comparación devuelve <code>true</code> . </p><br><p>  Entonces, tenemos: </p><br><pre> <code class="java hljs">result += <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">"doYourBest"</span></span>) == <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">"doYourBest"</span></span>) ? <span class="hljs-string"><span class="hljs-string">"4"</span></span> : <span class="hljs-string"><span class="hljs-string">"5"</span></span>;</code> </pre> <br><p>  El uso de <code>new</code> pistas conduce a la creación de dos nuevas líneas y no importa si sus valores son iguales o no.  En este caso, la comparación será <code>false</code> incluso si los valores son los mismos. </p><br><p>  Siguiente: </p><br><pre> <code class="java hljs">result += <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">"noBugsProject"</span></span>) .equals(<span class="hljs-string"><span class="hljs-string">"noBugsProject"</span></span>) ? <span class="hljs-string"><span class="hljs-string">"6"</span></span> : <span class="hljs-string"><span class="hljs-string">"7"</span></span>;</code> </pre> <br><p>  Como usamos el método <code>equals()</code> , se comparará el valor de la cadena, no la instancia del objeto. </p><br><p>  En este caso, no importa si hay diferentes objetos o no, ya que se compara el valor.  El resultado es <code>true</code> . </p><br><p>  Finalmente tenemos: </p><br><pre> <code class="java hljs">result += <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">"breakYourLimits"</span></span>).intern() == <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">"breakYourLimits"</span></span>).intern() ? <span class="hljs-string"><span class="hljs-string">"8"</span></span> : <span class="hljs-string"><span class="hljs-string">"9"</span></span>;</code> </pre> <br><p>  Como viste anteriormente, el método <code>intern()</code> coloca una cadena en un grupo de cadenas.  Ambas líneas apuntan al mismo objeto, por lo que en este caso es <code>true</code> . </p><br><h2 id="rasprostranennye-oshibki-so-strokami">  Errores de cadena comunes </h2><br><p>  Puede ser difícil determinar si dos líneas apuntan al mismo objeto o no, especialmente cuando las líneas contienen el mismo valor.  Es útil recordar que usar <code>new</code> siempre conduce a la creación de un nuevo objeto en la memoria, incluso si los valores de cadena son los mismos. </p><br><p>  El uso de métodos de <code>String</code> para comparar referencias de objetos también puede ser complicado.  La peculiaridad es que si el método cambia algo en la línea, habrá diferentes referencias a los objetos. </p><br><p>  Algunos ejemplos para ayudar a aclarar: </p><br><pre> <code class="java hljs">System.out.println(<span class="hljs-string"><span class="hljs-string">"duke"</span></span>.trim() == <span class="hljs-string"><span class="hljs-string">"duke"</span></span>.trim());</code> </pre> <br><p>  Esta comparación será verdadera porque el método <code>trim()</code> no crea una nueva línea. </p><br><pre> <code class="java hljs">System.out.println(<span class="hljs-string"><span class="hljs-string">" duke"</span></span>.trim() == <span class="hljs-string"><span class="hljs-string">"duke"</span></span>.trim());</code> </pre> <br><p>  En este caso, el primer método <code>trim()</code> genera una nueva línea, ya que el método hará su trabajo y, por lo tanto, los enlaces serán diferentes. </p><br><p>  Finalmente, cuando <code>trim()</code> hace su trabajo, crea una nueva línea: </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//   trim   String new String(Arrays.copyOfRange(val, index, index + len), LATIN1);</span></span></code> </pre> <br><h2 id="chto-nuzhno-pomnit-o-strokah">  Que recordar acerca de las cuerdas </h2><br><ul><li><p>  Las filas no son mutables, por lo que el estado de la fila no se puede cambiar. </p><br></li><li><p>  Para ahorrar memoria, la JVM almacena cadenas en un grupo de cadenas.  Al crear una nueva línea, la JVM verifica su valor y apunta a un objeto existente.  Si el grupo no tiene una fila con este valor, la JVM crea una nueva fila. </p><br></li><li><p>  El operador " <code>==</code> " compara referencias de objetos.  El método <code>equals()</code> compara valores de cadena.  La misma regla se aplicará a todos los objetos. </p><br></li><li><p>  Al usar el <code>new</code> operador, se creará una nueva línea en el montón (Nota del traductor: está escrito en el original que está en el grupo, pero esto no es así, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">gracias</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">zagayevskiy</a> ), incluso si hay una línea con el mismo valor. </p><br></li></ul><br><h2 id="otvet">  La respuesta </h2><br><p>  La respuesta a este problema es D. La conclusión será 12568. </p><br><p>  <em>Continuará ...</em> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es428449/">https://habr.com/ru/post/es428449/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es428439/index.html">Sin conjunto</a></li>
<li><a href="../es428441/index.html">Compra de GitHub completada. ¿Qué pasará después?</a></li>
<li><a href="../es428443/index.html">Reconciliación: verificar la integridad de los datos en sistemas distribuidos</a></li>
<li><a href="../es428445/index.html">Cómo fuimos a un hackathon en Helsinki y perdimos</a></li>
<li><a href="../es428447/index.html">Protección de datos en la nube: una guía para desarrolladores</a></li>
<li><a href="../es428451/index.html">KubeDirector es una manera fácil de ejecutar aplicaciones complejas con estado en Kubernetes</a></li>
<li><a href="../es428453/index.html">Cómo los programadores salvaron su patria</a></li>
<li><a href="../es428457/index.html">Omitiendo etiquetas: SoundCloud lanzó acuerdos directos con músicos - condiciones criticadas</a></li>
<li><a href="../es428461/index.html">Construyendo una red VPN distribuida basada en Check Point. Varios escenarios comunes</a></li>
<li><a href="../es428465/index.html">Guía de análisis de impacto empresarial</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>