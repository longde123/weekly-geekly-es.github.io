<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ง๐ป ๐ ๐ Mrr: Total FRP for React ๐ ๐ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mrr ูู ููุชุจุฉ ุชูุงุนููุฉ ูุธูููุฉ ูู React (ุฃุนุชุฐุฑ ุนู ุงูุญุดู ุงูุชุฎููู). 

 ุชุดูุฑ ูููุฉ "ุชูุงุนููุฉ" ุนุงุฏุฉู ุฅูู Rx.js ููุฑุฌุน FRP. ููุน ุฐูู ุ ุฃุธูุฑุช ุณูุณูุฉ ูู ุงูููุงูุงุช ุงูุญ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mrr: Total FRP for React</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/428870/" style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Mrr</a> ูู ููุชุจุฉ ุชูุงุนููุฉ ูุธูููุฉ ูู React (ุฃุนุชุฐุฑ ุนู ุงูุญุดู ุงูุชุฎููู). <br><br>  ุชุดูุฑ ูููุฉ "ุชูุงุนููุฉ" ุนุงุฏุฉู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฅูู Rx.js</a> ููุฑุฌุน FRP.  ููุน ุฐูู ุ ุฃุธูุฑุช ุณูุณูุฉ ูู ุงูููุงูุงุช ุงูุญุฏูุซุฉ ุญูู ูุฐุง ุงูููุถูุน ุนู ุญุจุฑู ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">[1]</a> ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">[2]</a> ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">[3]</a> ) ุฅุฑูุงู ุญููู Rx ุ ุงูุชู ููุฏุช ูู ุงูุฃูุซูุฉ ุงูุจุณูุทุฉ ุงููุถูุญ ูุงูุจุณุงุทุฉ ูุฃู ููุฌ ุขุฎุฑ ุชูุฑูุจูุง.  Rx ูุจูุฑ ูููู ุ ููู ูุซุงูู ูุญู ุงููุดููุงุช ุงูุชู ููุชุฑุญ ูููุง ุชุฌุฑูุฏ ุงูุชุฏูู ููุณู (ูู ุงูููุงุฑุณุฉ ุ ูุฐุง ูู ุชูุณูู ุงูููุงู ุบูุฑ ุงููุชุฒุงููุฉ).  ูููู ูู ุชูุชุจ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุงูุชุญูู ุงูุจุณูุท ูู ุงูุดูู ุงููุชุฒุงูู ุนูู Rxุ  ูู ุณูููุฑ ููุชู ููุงุฑูุฉ ุจุงูููุฌ ุงูุญุชููุฉ ุงููุนุชุงุฏุฉุ <br><br>  mrr ูู ูุญุงููุฉ ูุฅุซุจุงุช ุฃู FRF ูููู ุฃู ูููู ุญูุงู ููุงุณุจูุง ููุนุงููุง ููุณ ููุท ูู ูุดุงูู "ุงูุชุฏูู" ุงููุญุฏุฏุฉ ุ ูููู ุฃูุถูุง ูู ุงูููุงู ุงูุฃูุงููุฉ ุงูุฑูุชูููุฉ ุงูุฃูุซุฑ ุดููุนูุง. <br><a name="habracut"></a><br>  ุชุนุฏ ุงูุจุฑูุฌุฉ ุงูุชูุงุนููุฉ ุชุฌุฑูุฏูุง ููููุง ููุบุงูุฉ ุ ููู ููุฌูุฏุฉ ุญุงูููุง ูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ุจุทุฑููุชูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงููุชุบูุฑุงุช ุงูุชูุงุนููุฉ (ุงููุชุบูุฑุงุช ุงููุญุณูุจุฉ): ุจุณูุทุฉ ูููุซููุฉ ูุจุฏูููุฉ ุ ูููู ุฅููุงูุงุช RP ุฃุจุนุฏ ูุง ุชููู ุนู ุงููุดู ุงููุงูู </li><li style=";text-align:right;direction:rtl">  ููุชุจุงุช ููุนูู ูุน ุงูุชุฏููุงุช ุ ูุซู Rx ุ ูุจูููู ุ ููุง ุฅูู ุฐูู: ูููุฉ ุ ูููููุง ูุนูุฏุฉ ููุนูุง ูุง ุ ููุชุตุฑ ูุทุงู ุงูุงุณุชุฎุฏุงู ุงูุนููู ุนูู ููุงู ูุญุฏุฏุฉ. </li></ul><br>  ูุฌูุน Mrr ุจูู ูุฒุงูุง ูุฐู ุงูุฃุณุงููุจ.  ุนูู ุนูุณ Rx.js ุ ูุญุชูู mrr ุนูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ูุตูุฑุฉ ุ ูููู ูููุณุชุฎุฏู ุชูุณูุนูุง ุจุฅุถุงูุงุชู.  ุจุฏูุงู ูู ุงูุนุดุฑุงุช ูู ุงูุฃุณุงููุจ ูุงููุดุบููู - ุฃุฑุจุนุฉ ุนูุงูู ุฃุณุงุณูุฉ ุ ุจุฏูุงู ูู ุงูููุงุญุธุฉ (ุงูุณุงุฎูุฉ ูุงูุจุงุฑุฏุฉ) ุ ุงูููุถูุน ุ ุฅูุฎ.  - ุชุฌุฑูุฏ ูุงุญุฏ: ุชูุงุฑ.  ุฃูุถุง ุ ููุชูุฑ ุงูุณูุฏ mrr ุฅูู ุจุนุถ ุงูููุงููู ุงููุนูุฏุฉ ุงูุชู ูููู ุฃู ุชุนูุฏ ุจุดูู ูุจูุฑ ุฅููุงููุฉ ูุฑุงุกุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุงูููุงุฆู. <br><br>  ููุน ุฐูู ุ ูุฅู ุงูุณูุฏ ููุณ "Rx ูุจุณุท ุจุทุฑููุฉ ุฌุฏูุฏุฉ."  ุงุณุชูุงุฏูุง ุฅูู ููุณ ุงููุจุงุฏุฆ ุงูุฃุณุงุณูุฉ ูุซู Rx ุ ูุฏุนู mrr ุฃูู ููุงูุฉ ุฃูุจุฑ: ุฅุฏุงุฑุฉ ุญุงูุฉ ุงูุชุทุจูู ุงูุนุงูููุฉ ูุงููุญููุฉ (ุนูู ูุณุชูู ุงููููู).  ุนูู ุงูุฑุบู ูู ุฃู ุงูููููู ุงูุฃุตูู ููุจุฑูุฌุฉ ุงูุชูุงุนููุฉ ูุงู ููุฏู ุฅูู ุงูุนูู ูุน ุงูููุงู ุบูุฑ ุงููุชุฒุงููุฉ ุ ููุฏ ุงุณุชุฎุฏู ุงูุณูุฏ mrr ุจูุฌุงุญ ููุงูุฌ ุงูุชูุงุนู ููููุงู ุงูุนุงุฏูุฉ ูุงููุชุฒุงููุฉ.  ูุฐุง ูู ูุจุฏุฃ "FRP ุงูููู". <br><br>  ุบุงูุจูุง ุนูุฏ ุฅูุดุงุก ุชุทุจูู ุนูู React ุ ูุชู ุงุณุชุฎุฏุงู ุงูุนุฏูุฏ ูู ุงูุชูููุงุช ุงููุฎุชููุฉ: ุฅุนุงุฏุฉ ุงูุชุฑููุจ (ุฃู ูุฑูุจุงู - ุงูุณูุงููุฑ) ูุญุงูุฉ ุงููููู ุ Redux / mobx ููุญุงูุฉ ุงูุนุงูููุฉ ุ Rx ูุน redux-ููุญูุธ (ุฃู thunk / saga) ูุฅุฏุงุฑุฉ ุงูุขุซุงุฑ ุงูุฌุงูุจูุฉ ูุงูุชูุณูู ุบูุฑ ุงููุชุฒุงูู ุงูููุงู ูู ุงููุญุฑุฑ.  ุจุฏูุงู ูู ูุซู ูุฐู "ุงูุณูุทุฉ" ูู ุงูุฃุณุงููุจ ูุงูุชูููุงุช ุงููุฎุชููุฉ ุฏุงุฎู ููุณ ุงูุชุทุจูู ุ ูุน ุงูุณูุฏ ููููู ุงุณุชุฎุฏุงู ุชูููุฉ ููููุฐุฌ ูุงุญุฏ. <br><br>  ุชุฎุชูู ูุงุฌูุฉ mrr ุฃูุถูุง ุจุดูู ูุจูุฑ ุนู Rx ูุงูููุชุจุงุช ุงูููุงุซูุฉ - ููู ุฃูุซุฑ ูุถูุญูุง.  ุจูุถู ุชุฌุฑูุฏ ุงูุชูุงุนู ูุงูููุฌ ุงูุฅุนูุงูู ุ ูุณูุญ ูู ุงูุณูุฏ ุจูุชุงุจุฉ ููุฏ ูุนุจุฑ ูููุฌุฒ.  ุนูู ุณุจูู ุงููุซุงู ุ ูุฃุฎุฐ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">TodoMVC ุงูููุงุณู</a> ุนูู mrr ุฃูู ูู 50 ุณุทุฑูุง ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ (ูุง ูุญุณุจ ูุงูุจ JSX). <br><br>  ูููู ูุง ูููู ูู ุงูุฏุนุงูุฉ.  ูู ุชูููุช ูู ุงูุฌูุน ุจูู ูุฒุงูุง RP "ุงูุฎููู" ู "ุงูุซููู" ูู ุฒุฌุงุฌุฉ ูุงุญุฏุฉ - ูุฌุจ ุฃู ุชุญูู ุ ูููู ุฃููุงู ุ ูุฑุฌู ูุฑุงุกุฉ ุฃูุซูุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ. <br><br>  TodoMVC ูุคูู ุจุงููุนู ุ ููุซุงู ุชูุฒูู ุงูุจูุงูุงุช ุญูู ูุณุชุฎุฏูู Github ุจุฏุงุฆู ููุบุงูุฉ ุจุญูุซ ูุง ูููู ุงูุดุนูุฑ ุจููุฒุงุช ุงูููุชุจุฉ ุนููู.  ุณููุธุฑ ุฅูู ุงูุณูุฏ ุงูุณูุฏ ููุซุงู ุนูู ุชุทุจูู ูุดุฑูุท ูุดุฑุงุก ุชุฐุงูุฑ ุงููุทุงุฑ.  ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ูุฏููุง ุณุชููู ููุงู ุญููู ูุงุฎุชูุงุฑ ูุญุทุงุช ุงูุจุฏุก ูุงูุชุงุฑูุฎ ูุงูุชูุงุฑูุฎ.  ุจุนุฏ ุฐูู ุ ุจุนุฏ ุฅุฑุณุงู ุงูุจูุงูุงุช ุ ุณูุชู ุฅุฑุฌุงุน ูุงุฆูุฉ ุจุงููุทุงุฑุงุช ูุงูุฃูุงูู ุงููุชุงุญุฉ ูููุง.  ุจุนุฏ ุชุญุฏูุฏ ูุทุงุฑ ูุนูู ูููุน ุงูุณูุงุฑุฉ ุ ุณูุฏุฎู ุงููุณุชุฎุฏู ุจูุงูุงุช ุงูุฑูุงุจ ุ ุซู ูุถูู ุงูุชุฐุงูุฑ ุฅูู ุงูุณูุฉ.  ุฏุนูุง ูุฐูุจ. <br><br>  ูุญุชุงุฌ ุฅูู ูููุฐุฌ ูุน ุงุฎุชูุงุฑ ุงููุญุทุงุช ูุงูุชูุงุฑูุฎ: <br><br><img src="https://habrastorage.org/webt/sm/he/aj/smheajucvbemykx4g-fvvqeygrc.gif"><br><br>  ุฅูุดุงุก ุญููู ุงูุฅููุงู ุงูุชููุงุฆู ูุฏุฎูู ุงููุญุทุงุช. <br><br><pre style=";text-align:right;direction:rtl"><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { withMrr } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'mrr'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> stations = [ <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">' '</span></span>, ... ] <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Tickets = withMrr({ <span class="hljs-comment"><span class="hljs-comment">//    $init: { stationFromOptions: [], stationFromInput: '', }, //   - "" stationFromOptions: [str =&gt; stations.filter(s =&gt; s.indexOf(str)===0), 'stationFromInput'], }, (state, props, $) =&gt; { return (&lt;div&gt; &lt;h3&gt;    &lt;/h3&gt; &lt;div&gt;  : &lt;input onChange={ $('stationFromInput') } /&gt; &lt;/div&gt; &lt;ul className="stationFromOptions"&gt; { state.stationFromOptions.map(s =&gt; &lt;li&gt;{ s }&lt;/li&gt;) } &lt;/ul&gt; &lt;/div&gt;); }); export default Tickets;</span></span></code> </pre> <br>  ูุชู ุฅูุดุงุก ููููุงุช mrr ุจุงุณุชุฎุฏุงู ุงูุฏุงูุฉ withMrr ุ ูุงูุชู ุชูุจู ูุฎุทุท ุงูุงุฑุชุจุงุท ุงูุชูุงุนูู (ูุตู ุงูุชุฏููุงุช) ููุธููุฉ ุงูุชุฌุณูุฏ.  ูุชู ุชูุฑูุฑ ูุธุงุฆู ุงูุชูุฏูู ุฅูู ุงูุฏุนุงุฆู ูููููู ุ ููุฐูู ุงูุญุงูุฉ ุ ูุงูุชู ูุชู ุงูุชุญูู ูููุง ุงูุขู ุจุงููุงูู ุจูุงุณุทุฉ ุงูุณูุฏ.  ุณูุญุชูู ุนูู ุงูุฃููู (block $ init) ููุญุณุจ ุจููู ุงูุตูุบุฉ ููุฎูุงูุง ุงูุชูุงุนููุฉ. <br><br>  ุงูุขู ูุฏููุง <b>ุฎููุชุงู (</b> ุฃู <b>ุฏููุงู</b> ุ ููู ููุณ ุงูุดูุก): <b>stationFromInput</b> ุ ูุงูููู ุงูุชู <b>ุชูุจุซู</b> ูู ุฅุฏุฎุงู ุงููุณุชุฎุฏู ุจุงุณุชุฎุฏุงู <b>$</b> helper (ุชูุฑูุฑ <b>event.target.value</b> ุงูุชุฑุงุถููุง ูุนูุงุตุฑ ุฅุฏุฎุงู ุงูุจูุงูุงุช) ุ ูุฎููุฉ ูุดุชูุฉ ููู <b>stationFromOptions</b> ุ ุชุญุชูู ุนูู ูุตูููุฉ ูู ุงููุญุทุงุช ุงููุทุงุจูุฉ ุจุงูุงุณู. <br><br>  <b>ูุชู</b> ุญุณุงุจ ูููุฉ <b>stationFromOptions</b> ุชููุงุฆููุง ูู ูู ูุฑุฉ ูุชู ูููุง ุชุบููุฑ ุฎููุฉ ุฑุฆูุณูุฉ ุจุงุณุชุฎุฏุงู ุฏุงูุฉ (ูู ูุตุทูุญุงุช mrr ุชุณูู " <i>ุงูุตูุบุฉ</i> " - ุนู ุทุฑูู ุงูููุงุณ ุจุงุณุชุฎุฏุงู ุตูุบ Excel).  ุฅู ุจููุฉ ุชุนุจูุฑุงุช mrr ุจุณูุทุฉ: ูู ุงูููุงู ุงูุฃูู ูู ุงููุธููุฉ (ุฃู ุนุงูู ุงูุชุดุบูู) ุงูุชู ูุชู ูู ุฎูุงููุง ุญุณุงุจ ูููุฉ ุงูุฎููุฉ ุ ุซู ููุงู ูุงุฆูุฉ ุจุงูุฎูุงูุง ุงูุชู ุชุนุชูุฏ ุนูููุง ูุฐู ุงูุฎููุฉ: ูุชู ุชูุฑูุฑ ููููุง ุฅูู ุงูุฏุงูุฉ.  ูุซู ูุฐุง ุงูุบุฑูุจ ุ ูููููุฉ ุงูุฃููู ุ ูุญุชูู ุจูุงุก ุงูุฌููุฉ ุนูู ุงูุนุฏูุฏ ูู ุงููุฒุงูุง ุ ูุงูุชู ุณููุธุฑ ูููุง ูุงุญููุง.  ุญุชู ุงูุขู ุ ูุฐูุฑูุง ููุทู ุงูุณูุฏ ููุง ุจุงูููุฌ ุงููุนุชุงุฏ ูุน ุงููุชุบูุฑุงุช ุงูุญุณุงุจูุฉ ุงููุณุชุฎุฏูุฉ ูู Vue ู Svelte ูุงูููุชุจุงุช ุงูุฃุฎุฑู ุ ูุงููุฑู ุงููุญูุฏ ูู ุฃูู ููููู ุงุณุชุฎุฏุงู ุงููุธุงุฆู ุงููููุฉ. <br><br>  ูููู ุจุชูููุฐ ุงุณุชุจุฏุงู ุงููุญุทุฉ ุงููุฎุชุงุฑุฉ ูู ุงููุงุฆูุฉ ูู ุญูู ุงูุฅุฏุฎุงู.  ูู ุงูุถุฑูุฑู ุฃูุถูุง ุฅุฎูุงุก ูุงุฆูุฉ ุงููุญุทุงุช ุจุนุฏ ุฃู ูููุฑ ุงููุณุชุฎุฏู ุนูู ุฅุญุฏู ุงููุญุทุงุช. <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Tickets = withMrr({ <span class="hljs-attr"><span class="hljs-attr">$init</span></span>: { <span class="hljs-attr"><span class="hljs-attr">stationFromOptions</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">stationFromInput</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, }, <span class="hljs-attr"><span class="hljs-attr">stationFromOptions</span></span>: [<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">str</span></span></span><span class="hljs-function"> =&gt;</span></span> stations.filter(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">s</span></span></span><span class="hljs-function"> =&gt;</span></span> str.indexOf(a) === <span class="hljs-number"><span class="hljs-number">0</span></span>), <span class="hljs-string"><span class="hljs-string">'stationFromInput'</span></span>], <span class="hljs-attr"><span class="hljs-attr">stationFrom</span></span>: [<span class="hljs-string"><span class="hljs-string">'merge'</span></span>, <span class="hljs-string"><span class="hljs-string">'stationFromInput'</span></span>, <span class="hljs-string"><span class="hljs-string">'selectStationFrom'</span></span>], <span class="hljs-attr"><span class="hljs-attr">optionsShown</span></span>: [<span class="hljs-string"><span class="hljs-string">'toggle'</span></span>, <span class="hljs-string"><span class="hljs-string">'stationFromInput'</span></span>, <span class="hljs-string"><span class="hljs-string">'selectStationFrom'</span></span>], }, (state, props, $) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">  : </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">input</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onChange</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{</span></span></span></span><span class="xml"><span class="hljs-tag"> $('</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">stationFromInput</span></span></span></span><span class="xml"><span class="hljs-tag">') } </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">state.stationFrom</span></span></span></span><span class="xml"><span class="hljs-tag"> }/&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> { state.optionsShown &amp;&amp; </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"stationFromOptions"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> { state.stationFromOptions.map(s =&gt; </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">li</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{</span></span></span></span><span class="xml"><span class="hljs-tag"> $('</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">selectStationFrom</span></span></span></span><span class="xml"><span class="hljs-tag">', </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">s</span></span></span></span><span class="xml"><span class="hljs-tag">) }&gt;</span></span></span><span class="xml">{ s }</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">li</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">) } </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> } </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">); });</span></span></code> </pre><br>  ุณูููู ูุนุงูุฌ ุงูุฃุญุฏุงุซ ุงูุฐู ุชู ุฅูุดุงุคู ุจุงุณุชุฎุฏุงู $ helper ูู ูุงุฆูุฉ ุงููุญุทุงุช ุจุฅุตุฏุงุฑ ููู ุซุงุจุชุฉ ููู ุฎูุงุฑ. <br><br>  mrr ุซุงุจุช ูู ููุฌูุง ุงูุฅุนูุงูู ุ ุบุฑูุจ ุนูู ุฃู ุทูุฑุงุช.  ุจุนุฏ ุงุฎุชูุงุฑ ุงููุญุทุฉ ุ ูุง ูููููุง "ูุฑุถ" ุชุบููุฑ ูููุฉ ุงูุฎููุฉ.  ุจุฏูุงู ูู ุฐูู ุ ููุดุฆ ูุญุทุฉ ุฌุฏูุฏุฉ ูู ุงูุฎููุฉ ุ ูุงูุชู ุ ุจุงุณุชุฎุฏุงู ุนุงูู ุฏูุฌ ุงูุฏูุฌ (ุงูููุงูุฆ ุงูุชูุฑูุจู ูู Rx ูุฏูุฌ ุขุฎุฑ) ุ ุณุชุฌูุน ููู <b>ุฏูููู</b> : ุฅุฏุฎุงู ุงููุณุชุฎุฏู ( <b>stationFromInput</b> ) ูุงุฎุชูุงุฑ ุงููุญุทุฉ ( <b>selectStationFrom</b> ). <br><br>  ูุฌุจ ุฃู ูุนุฑุถ ูุงุฆูุฉ ุงูุฎูุงุฑุงุช ุจุนุฏ ุฃู ูุฏุฎู ุงููุณุชุฎุฏู ุดูุฆูุง ูุง ุ ููุฎูู ุจุนุฏ ุฃู ูุฎุชุงุฑ ุฃุญุฏ ุงูุฎูุงุฑุงุช.  <b>ุณุชููู</b> ุฎููุฉ <b>ุงูุฎูุงุฑุงุช ุงููุนุฑูุถุฉ</b> ูุณุคููุฉ ุนู ุฑุคูุฉ ูุงุฆูุฉ ุงูุฎูุงุฑุงุช ุ ูุงูุชู ุณุชุฃุฎุฐ ููู ููุทููุฉ ุงุนุชูุงุฏูุง ุนูู ุงูุชุบููุฑุงุช ูู ุงูุฎูุงูุง ุงูุฃุฎุฑู.  ูุฐุง ููุท ุดุงุฆุน ุฌุฏูุง ููุฌุฏ ุจู ุงูุณูุฑ ุงููุญูู - ุนุงูู <b>ุงูุชุจุฏูู</b> .  ุชููู ุจุชุนููู ูููุฉ ุงูุฎููุฉ ุฅูู <i>true</i> ุนูุฏ ุฃู ุชุบููุฑ ูู ุงููุณูุทุฉ ุงูุฃููู (ุงูุฏูู) ุ ูุฅูู <i>false</i> - ุงูุซุงููุฉ. <br><br>  ุฃุถู ุฒุฑูุง ููุณุญ ุงููุต ุงูุฐู ุชู ุฅุฏุฎุงูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Tickets = withMrr({ <span class="hljs-attr"><span class="hljs-attr">$init</span></span>: { <span class="hljs-attr"><span class="hljs-attr">stationFromOptions</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">stationFromInput</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, }, <span class="hljs-attr"><span class="hljs-attr">stationFromOptions</span></span>: [<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">str</span></span></span><span class="hljs-function"> =&gt;</span></span> stations.filter(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">s</span></span></span><span class="hljs-function"> =&gt;</span></span> str.indexOf(a) === <span class="hljs-number"><span class="hljs-number">0</span></span>), <span class="hljs-string"><span class="hljs-string">'stationFromInput'</span></span>], <span class="hljs-attr"><span class="hljs-attr">clearVal</span></span>: [<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'clear'</span></span>], <span class="hljs-attr"><span class="hljs-attr">stationFrom</span></span>: [<span class="hljs-string"><span class="hljs-string">'merge'</span></span>, <span class="hljs-string"><span class="hljs-string">'stationFromInput'</span></span>, <span class="hljs-string"><span class="hljs-string">'selectStationFrom'</span></span>, <span class="hljs-string"><span class="hljs-string">'clearVal'</span></span>], <span class="hljs-attr"><span class="hljs-attr">optionsShown</span></span>: [<span class="hljs-string"><span class="hljs-string">'toggle'</span></span>, <span class="hljs-string"><span class="hljs-string">'stationFromInput'</span></span>, <span class="hljs-string"><span class="hljs-string">'selectStationFrom'</span></span>], }, (state, props, $) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">  : </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">input</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onChange</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{</span></span></span></span><span class="xml"><span class="hljs-tag"> $('</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">stationFromInput</span></span></span></span><span class="xml"><span class="hljs-tag">') } </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">state.stationFrom</span></span></span></span><span class="xml"><span class="hljs-tag"> }/&gt;</span></span></span><span class="xml"> { state.stationFrom &amp;&amp; </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{</span></span></span></span><span class="xml"><span class="hljs-tag"> $('</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">clear</span></span></span></span><span class="xml"><span class="hljs-tag">') }&gt;</span></span></span><span class="xml"></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> } </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> { state.optionsShown &amp;&amp; </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"stationFromOptions"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> { state.stationFromOptions.map(s =&gt; </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">li</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{</span></span></span></span><span class="xml"><span class="hljs-tag"> $('</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">selectStationFrom</span></span></span></span><span class="xml"><span class="hljs-tag">', </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">s</span></span></span></span><span class="xml"><span class="hljs-tag">) }&gt;</span></span></span><span class="xml">{ s }</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">li</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">) } </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> } </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">); });</span></span></code> </pre><br>  ุงูุขู ุชููู <b>stationstation ูู</b> ุงูุฎููุฉ ุ ุงููุณุคููุฉ ุนู ูุญุชูู ุงููุต ูู ุญูู ุงูุฅุฏุฎุงู ุ ุจุฌูุน ููููุง ููุณ ูู ุงุซููู ุ ูููู ูู ุซูุงุซุฉ ุชูุงุฑุงุช.  ูููู ุชุจุณูุท ูุฐุง ุงูุฑูุฒ.  ูุดุจู ุจูุงุก mrr ูููููุฐุฌ [* ุงูุตูุบุฉ * ุ * ... ูุณุงุฆุท ุงูุฎููุฉ *] ุชุนุจูุฑุงุช S ูู Lisp ุ ูููุง ูู ุงูุญุงู ูู Lisp ุ ููููู ุชุฏุงุฎู ูุฐู ุงูุฅูุดุงุกุงุช ุจุดูู ุชุนุณูู ูู ุจุนุถูุง ุงูุจุนุถ. <br><br>  ุฏุนููุง ูุชุฎูุต ูู ุฎููุฉ clearVal ุนุฏููุฉ ุงููุงุฆุฏุฉ ูุชูุตูุฑ ุงูุฑูุฒ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"> stationFrom: [<span class="hljs-string"><span class="hljs-string">'merge'</span></span>, <span class="hljs-string"><span class="hljs-string">'stationFromInput'</span></span>, <span class="hljs-string"><span class="hljs-string">'selectStationFrom'</span></span>, [<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'clear'</span></span>]],</code> </pre><br>  ูููู ููุงุฑูุฉ ุงูุจุฑุงูุฌ ุงูููุชูุจุฉ ุจุฃุณููุจ ุญุชูู ูุน ูุฑูู ุถุนูู ุงูุชูุธูู ุ ุญูุซ ูุทูุจ ุงูุฌููุน ุจุงุณุชูุฑุงุฑ ุดูุฆูุง ุฅูู ุจุนุถูู ุงูุจุนุถ (ุฃููุญ ุฅูู ุงุณุชุฏุนุงุกุงุช ุงูุฃุณููุจ ูุชุบููุฑ ุงูุชุบููุฑุงุช) ุ ุนูุงูุฉ ุนูู ุฐูู ุ ููุง ุงููุฏูุฑูู ูุฑุคูุณุงู ุ ูุงูุนูุณ ุตุญูุญ.  ุชุดุจู ุงูุจุฑุงูุฌ ุงูุชุตุฑูุญูุฉ ุงูุตูุฑุฉ ุงููุซุงููุฉ ุงููุนุงูุณุฉ: ูุฌููุนุฉ ุญูุซ ูุนุฑู ุงูุฌููุน ุจูุถูุญ ููู ูุฌุจ ุฃู ูุชุตุฑู ูู ุฃู ูููู.  ููุณุช ููุงู ุญุงุฌุฉ ูุฃูุงูุฑ ูู ูุซู ูุฐุง ุงููุฑูู ุ ูุงูุฌููุน ูู ุฃูุงูููู ููุนูููู ุงุณุชุฌุงุจุฉ ููุง ูุญุฏุซ. <br><br>  ุจุฏูุงู ูู ูุตู ุฌููุน ุงูุนูุงูุจ ุงููุญุชููุฉ ูุญุฏุซ ูุง (ุงูุฑุฃ - ูุฅุฌุฑุงุก ุทูุฑุงุช ูุนููุฉ) ุ ูุฅููุง ูุตู ุฌููุน ุงูุญุงูุงุช ุงูุชู ูููู ุฃู ูุญุฏุซ ูููุง ูุฐุง ุงูุญุฏุซ ุ ุฃู  ูุง ูู ุงููููุฉ ุงูุชู ุณุชุฃุฎุฐูุง ุงูุฎููุฉ ุนูุฏ ุฃู ุชุบููุฑุงุช ูู ุงูุฎูุงูุง ุงูุฃุฎุฑู.  ูู ูุซุงููุง ุงูุตุบูุฑ ุญุชู ุงูุขู ุ ูููุง ุจูุตู ุงููุญุทุฉ ูู ุงูุฎููุฉ ูุซูุงุซ ุญุงูุงุช ุชุคุซุฑ ุนูู ูููุชูุง.  ุจุงููุณุจุฉ ููุจุฑูุฌ ูุนุชุงุฏ ุนูู ุงูููุฏ ุงูุญุชูู ุ ูุฏ ูุจุฏู ูุฐุง ุงูููุฌ ุบูุฑ ุนุงุฏู (ุฃู ุญุชู "ุนูุงุฒ" ุ ุฃู "ุงูุญุฑุงู").  ูู ุงููุงูุน ุ ูุชูุญ ูู ุชูููุฑ ุงูุฌูุฏ ูุธุฑูุง ูุฅูุฌุงุฒ (ูุงุณุชูุฑุงุฑ) ุงูุดูุฑุฉ ุ ููุง ุณูุฑู ูู ุงูููุงุฑุณุฉ. <br><br>  ูุงุฐุง ุนู ุงูุชุฒุงููุ  ูู ูู ุงููููู ุณุญุจ ูุงุฆูุฉ ุงููุญุทุงุช ุงูููุชุฑุญุฉ ุจุฃุฌุงูุณุ  ูุง ูุดููุฉ!  ูู ุงูุฌููุฑ ุ ูุง ููู mrr ุณูุงุก ุฃุนุงุฏุช ุงูุฏุงูุฉ ูููุฉ ุฃู ูุนุฏ.  ุนูุฏ ุฅุฑุฌุงุน mrr ุ ุณููุชุธุฑ ุญููุง ู "ุฏูุน" ุงูุจูุงูุงุช ุงููุณุชููุฉ ูู ุงูุฏูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">stationFromOptions: [<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">str</span></span></span><span class="hljs-function"> =&gt;</span></span> fetch(<span class="hljs-string"><span class="hljs-string">'/get_stations?str='</span></span> + str).then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">res</span></span></span><span class="hljs-function"> =&gt;</span></span> res.toJSON()), <span class="hljs-string"><span class="hljs-string">'stationFromInput'</span></span>],</code> </pre><br>  ูุฐุง ูุนูู ุฃูุถูุง ุฃูู ููููู ุงุณุชุฎุฏุงู ุงูุฏุงูุงุช ุบูุฑ ุงููุชุฒุงููุฉ ูุตูุบ.  ุณูุชู ุงููุธุฑ ูู ุงูุญุงูุงุช ุงูุฃูุซุฑ ุชุนููุฏูุง (ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุ ูุญุงูุฉ ุงููุนุฏ) ูุงุญููุง. <br><br>  ูุธููุฉ ุงุฎุชูุงุฑ ูุญุทุฉ ุงููุบุงุฏุฑุฉ ุฌุงูุฒุฉ.  ูุง ูุนูู ูุชูุฑุงุฑ ููุณ ุงูุดูุก ุจุงููุณุจุฉ ููุญุทุฉ ุงููุตูู ุ ูุฌุฏุฑ ูุถุนู ูู ูููู ูููุตู ูููู ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงูู.  ุณูููู ูุฐุง ูููู ุฅุฏุฎุงู ุนุงู ูุน ุงูุฅููุงู ุงูุชููุงุฆู ุ ูุฐูู ุณูุนูุฏ ุชุณููุฉ ุงูุญููู ููุฌุนู ุงููุธููุฉ ููุญุตูู ุนูู ุฎูุงุฑุงุช ููุงุณุจุฉ ูุญุฏุฏุฉ ูู ุงูุฏุนุงุฆู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> OptionsInput = withMrr(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function"> =&gt;</span></span> ({ <span class="hljs-attr"><span class="hljs-attr">$init</span></span>: { <span class="hljs-attr"><span class="hljs-attr">options</span></span>: [], }, <span class="hljs-attr"><span class="hljs-attr">val</span></span>: [<span class="hljs-string"><span class="hljs-string">'merge'</span></span>, <span class="hljs-string"><span class="hljs-string">'valInput'</span></span>, <span class="hljs-string"><span class="hljs-string">'selectOption'</span></span>, [<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'clear'</span></span>]], <span class="hljs-attr"><span class="hljs-attr">options</span></span>: [props.getOptions, <span class="hljs-string"><span class="hljs-string">'val'</span></span>], <span class="hljs-attr"><span class="hljs-attr">optionsShown</span></span>: [<span class="hljs-string"><span class="hljs-string">'toggle'</span></span>, <span class="hljs-string"><span class="hljs-string">'valInput'</span></span>, <span class="hljs-string"><span class="hljs-string">'selectOption'</span></span>], }), (state, props, $) =&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">input</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onChange</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{</span></span></span></span><span class="xml"><span class="hljs-tag"> $('</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">valInput</span></span></span></span><span class="xml"><span class="hljs-tag">') } </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">state.val</span></span></span></span><span class="xml"><span class="hljs-tag"> } /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> { state.optionsShown &amp;&amp; </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"options"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> { state.options.map(s =&gt; </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">li</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{</span></span></span></span><span class="xml"><span class="hljs-tag"> $('</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">selectOption</span></span></span></span><span class="xml"><span class="hljs-tag">', </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">s</span></span></span></span><span class="xml"><span class="hljs-tag">) }&gt;</span></span></span><span class="xml">{ s }</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">li</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">) } </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> } { state.val &amp;&amp; </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"clear"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{</span></span></span></span><span class="xml"><span class="hljs-tag"> $('</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">clear</span></span></span></span><span class="xml"><span class="hljs-tag">') }&gt;</span></span></span><span class="xml"> X </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> } </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">)</span></span></code> </pre><br>  ููุง ุชุฑู ุ ููููู ุชุญุฏูุฏ ุจููุฉ ุฎูุงูุง mrr ูุฏุงูุฉ ููููู ุงูุฏุนุงุฆู (ููุน ุฐูู ุ ุณูุชู ุชูููุฐูุง ูุฑุฉ ูุงุญุฏุฉ ููุท - ุนูุฏ ุงูุชููุฆุฉ ุ ููู ุชุณุชุฌูุจ ููุชุบูุฑุงุช ูู ุงูุฏุนุงุฆู). <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุชูุงุตู ุจูู ุงูููููุงุช </h3><br>  ุงูุขู ูู ุจุชูุตูู ูุฐุง ุงููููู ูู ุงููููู ุงูุฃุตูู ูุงูุธุฑ ููู ูุณูุญ ุงูุณูุฏ mrr ููููููุงุช ุฐุงุช ุงูุตูุฉ ุจุชุจุงุฏู ุงูุจูุงูุงุช. <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> getMatchedStations = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">str</span></span></span><span class="hljs-function"> =&gt;</span></span> fetch(<span class="hljs-string"><span class="hljs-string">'/get_stations?str='</span></span> + str).then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">res</span></span></span><span class="hljs-function"> =&gt;</span></span> res.toJSON()); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Tickets = withMrr({ <span class="hljs-attr"><span class="hljs-attr">stationTo</span></span>: <span class="hljs-string"><span class="hljs-string">'selectStationFrom/val'</span></span>, <span class="hljs-attr"><span class="hljs-attr">stationFrom</span></span>: <span class="hljs-string"><span class="hljs-string">'selectStationTo/val'</span></span>, }, (state, props, $, connectAs) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (&lt;div&gt; &lt;OptionsInput { ...connectAs('selectStationFrom') } getOptions={ getMatchedStations } /&gt; - &lt;OptionsInput { ...connectAs('selectStationTo') } getOptions={ getMatchedStations } /&gt; &lt;input type="date" onChange={ $('date') } /&gt; &lt;button onClick={ $('searchTrains') }&gt;&lt;/button&gt; &lt;/div&gt;); });</code> </pre><br>  ูุฑุจุท ูููู ุฃุตู <b>ุจูููู ุชุงุจุน</b> ุ ูุฌุจ ุนูููุง ุชูุฑูุฑ ุงููุนููุงุช ุฅููู ุจุงุณุชุฎุฏุงู ุฏุงูุฉ <b>connectAs</b> (ุงููุณูุทุฉ ุงูุฑุงุจุนุฉ ููุธููุฉ ุงูุชุฌุณูุฏ).  ูู ูุฐู ุงูุญุงูุฉ ุ ูุดูุฑ ุฅูู ุงูุงุณู ุงูุฐู ูุฑูุฏ ุฃู ูููุญู ูููููู ุงููุฑุนู.  ูู ุฎูุงู ุฅุฑูุงู ูููู ุจูุฐู ุงูุทุฑููุฉ ุ ูููููุง ุจูุฐุง ุงูุงุณู ุงููุตูู ุฅูู ุฎูุงูุงู.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุณุชูุน ุฅูู ุฎูุงูุง ูุงู.  ูุงูุนูุณ ูููู ุฃูุถูุง - ุงุณุชูุน ูู ุงููููู ุงููุฑุนู ููุฎููุฉ ุงูุฃู. <br><br>  ููุง ุชุฑูู ุ ููุง mrr ูุชุจุน ููุฌูุง ุฅุนูุงูููุง: ูุง ุญุงุฌุฉ ูุงุณุชุฑุฌุงุนุงุช onChange ุ ูุญุชุงุฌ ููุท ุฅูู ุชุญุฏูุฏ ุงุณู ูููููู ุงููุฑุนู ูู ูุธููุฉ connectAs ุ ูุจุนุฏ ุฐูู ูุญุตู ุนูู ุฎูุงูุงู!  ูู ูุฐู ุงูุญุงูุฉ ุ ูุฑุฉ ุฃุฎุฑู ุจุณุจุจ ุงูุชุตุฑูุญ ุ ูุง ููุฌุฏ ุชูุฏูุฏ ุจุงูุชุฏุฎู ูู ุนูู ูููู ุขุฎุฑ - ููุณ ูุฏููุง ุงููุฏุฑุฉ ุนูู "ุชุบููุฑ" ุฃู ุดูุก ููู ุ ูุงูุชุญูู ุ ูุง ูููููุง ุณูู "ุงูุงุณุชูุงุน" ุฅูู ุงูุจูุงูุงุช. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุฅุดุงุฑุงุช ูุงูููู </h3><br>  ุงููุฑุญูุฉ ุงูุชุงููุฉ ูู ุงูุจุญุซ ุนู ุงููุทุงุฑุงุช ุงูููุงุณุจุฉ ูููุนููุงุช ุงููุฎุชุงุฑุฉ.  ูู ุงูููุฌ ุงูุญุชูู ุ ุฑุจูุง ููุชุจ ูุนุงูุฌูุง ูุนูููุง ูุฅุฑุณุงู ูููุฐุฌ onSubmit ุ ูุงูุฐู ุณูุจุฏุฃ ุงููุฒูุฏ ูู ุงูุฅุฌุฑุงุกุงุช - ุทูุจ ajax ูุนุฑุถ ุงููุชุงุฆุฌ.  ูููู ุ ููุง ุชุชุฐูุฑ ุ ูุง ูููููุง "ุทูุจ" ุฃู ุดูุก!  ูููููุง ููุท ุฅูุดุงุก ูุฌููุนุฉ ุฃุฎุฑู ูู ุงูุฎูุงูุง ุงููุดุชูุฉ ูู ุฎูุงูุง ุงููููุฐุฌ.  ูููุชุจ ุทูุจูุง ุขุฎุฑ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> getTrains = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">from</span></span></span></span><span class="hljs-function"><span class="hljs-params">, to, date</span></span></span><span class="hljs-function">) =&gt;</span></span> fetch(<span class="hljs-string"><span class="hljs-string">'/get_trains?from='</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> + <span class="hljs-string"><span class="hljs-string">'&amp;to='</span></span> + to + <span class="hljs-string"><span class="hljs-string">'&amp;date='</span></span> + date).then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">res</span></span></span><span class="hljs-function"> =&gt;</span></span> res.toJSON()); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Tickets = withMrr({ <span class="hljs-attr"><span class="hljs-attr">stationFrom</span></span>: <span class="hljs-string"><span class="hljs-string">'selectStationFrom/val'</span></span>, <span class="hljs-attr"><span class="hljs-attr">stationTo</span></span>: <span class="hljs-string"><span class="hljs-string">'selectStationTo/val'</span></span>, <span class="hljs-attr"><span class="hljs-attr">results</span></span>: [getTrains, <span class="hljs-string"><span class="hljs-string">'stationFrom'</span></span>, <span class="hljs-string"><span class="hljs-string">'stationTo'</span></span>, <span class="hljs-string"><span class="hljs-string">'date'</span></span>, <span class="hljs-string"><span class="hljs-string">'searchTrains'</span></span>], }, (state, props, $, connectAs) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (&lt;div&gt; &lt;OptionsInput { ...connectAs('selectStationFrom') } getOptions={ getMatchedStations } /&gt; - &lt;OptionsInput { ...connectAs('selectStationTo') } getOptions={ getMatchedStations } /&gt; &lt;input type="date" onChange={ $('date') } /&gt; &lt;button onClick={ $('searchTrains') }&gt;&lt;/button&gt; &lt;/div&gt;); });</code> </pre><br>  ููุน ุฐูู ุ ูู ูุนูู ูุฐุง ุงูุฑูุฒ ููุง ูู ูุชููุน.  ูุจุฏุฃ ุงูุญุณุงุจ (ุฅุนุงุฏุฉ ุญุณุงุจ ูููุฉ ุงูุฎููุฉ) ุนูุฏูุง ูุชุบูุฑ ุฃู ูู ุงููุณูุทุงุช ุ ูุฐูู ุณูุชู ุฅุฑุณุงู ุงูุทูุจ ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุจุงุดุฑุฉ ุจุนุฏ ุงุฎุชูุงุฑ ุงููุญุทุฉ ุงูุฃููู ุ ูููุณ ููุท ุจุงูููุฑ ุนูู "ุจุญุซ".  ูุญุชุงุฌ ุ ูู ูุงุญูุฉ ุ ุฅูู ุชูุฑูุฑ ุงููุญุทุงุช ูุงูุชุงุฑูุฎ ูู ุญุฌุฌ ุงูุตูุบุฉ ุ ูููู ูู ูุงุญูุฉ ุฃุฎุฑู ุ ูุง ูุณุชุฌูุจ ูุชุบููุฑูุง.  ูู mrr ููุงู ุขููุฉ ุฃูููุฉ ููุฐุง ุงูุงุณุชูุงุน ุงูุณูุจู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"> results: [getTrains, <span class="hljs-string"><span class="hljs-string">'-stationFrom'</span></span>, <span class="hljs-string"><span class="hljs-string">'-stationTo'</span></span>, <span class="hljs-string"><span class="hljs-string">'-date'</span></span>, <span class="hljs-string"><span class="hljs-string">'searchTrains'</span></span>],</code> </pre><br>  ูุง ุนููู ุณูู ุฅุถุงูุฉ ูุงูุต ุฃูุงู ุงุณู ุงูุฎููุฉ ูููููุง!  ุงูุขู ุ ุณูู ุชุณุชุฌูุจ <b>ุงููุชุงุฆุฌ</b> ููุท ููุชุบููุฑุงุช ูู ุฎููุฉ <b>searchTrains</b> . <br><br>  ูู ูุฐู ุงูุญุงูุฉ ุ <b>ุชุนูู</b> ุฎููุฉ <b>searchTrains</b> ุจูุซุงุจุฉ "ุฅุดุงุฑุฉ ุฎูููุฉ" ุ ูุฎูุงูุง <b>stationFrom</b> ูุบูุฑูุง ู "ููู ุฎูููุฉ".  ุจุงููุณุจุฉ ูุฎููุฉ ุงูุฅุดุงุฑุฉ ุ ููุท ุงููุญุธุฉ ุงูุชู ุชููู ูููุง ุงูููู "ุชุชุฏูู" ุนุจุฑูุง ูููุฉ ุ ูููุน ุงูุจูุงูุงุช ุงูุชู ุณุชููู ุนูููุง - ุนูู ุฃู ุญุงู: ูููู ุฃู ูููู ุตุญูุญูุง ุ "1" ุฃู ุฃูุง ูุงู (ูู ุญุงูุชูุง ุ ุณุชููู ูุฐู ูุงุฆูุงุช ุญุฏุซ DOM )  ุจุงููุณุจุฉ ูุฎููุฉ ุงููููุฉ ุ ูุฅู ูููุชูุง ูู ุงููููุฉ ุ ูููู ูู ุงูููุช ููุณู ุ ูุฅู ูุญุธุงุช ุชุบููุฑูุง ููุณุช ูุจูุฑุฉ.  ูุฐุงู ุงูููุนุงู ูู ุงูุฎูุงูุง ูุง ูุณุชุจุนุฏ ุฃุญุฏููุง ุงูุขุฎุฑ: ุงูุนุฏูุฏ ูู ุงูุฎูุงูุง ูู ุฅุดุงุฑุงุช ูููู.  ุนูู ูุณุชูู ุงููุญู ูู mrr ุ ูุง ูุฎุชูู ูุฐุงู ุงูููุนุงู ูู ุงูุฎูุงูุง ุจุฃู ุดูู ูู ุงูุฃุดูุงู ุ ูููู ุงูููู ุงูููุงูููู ููุซู ูุฐุง ุงูุงุฎุชูุงู ููู ุฌุฏูุง ุนูุฏ ูุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชูุงุนููุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุชูุงุฑุงุช ุงูุงููุณุงู </h3><br>  ูุฏ ูุณุชุบุฑู ุทูุจ ุงูุจุญุซ ุนู ููุงุนุฏ ูู ุงููุทุงุฑ ุจุนุถ ุงูููุช ุ ูุฐูู ูุฌุจ ุนูููุง ุนุฑุถ ุงูููุฏุฑ ุ ูุงูุฑุฏ ุฃูุถูุง ูู ุญุงูุฉ ุญุฏูุซ ุฎุทุฃ.  ููุงู ุจุงููุนู ุนุฏุฏ ูููู ูู ุงููุนูุฏ ููุฐุง ุงูููุฌ ุงูุงูุชุฑุงุถู ูุน ุงูุญู ุงูุชููุงุฆู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Tickets = withMrr({ <span class="hljs-attr"><span class="hljs-attr">$init</span></span>: { <span class="hljs-attr"><span class="hljs-attr">results</span></span>: {}, } stationFrom: <span class="hljs-string"><span class="hljs-string">'selectStationFrom/val'</span></span>, <span class="hljs-attr"><span class="hljs-attr">stationTo</span></span>: <span class="hljs-string"><span class="hljs-string">'selectStationTo/val'</span></span>, <span class="hljs-attr"><span class="hljs-attr">searchQuery</span></span>: [<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">from</span></span></span></span><span class="hljs-function"><span class="hljs-params">, to, date</span></span></span><span class="hljs-function">) =&gt;</span></span> ({ <span class="hljs-keyword"><span class="hljs-keyword">from</span></span>, to, date }), <span class="hljs-string"><span class="hljs-string">'-stationFrom'</span></span>, <span class="hljs-string"><span class="hljs-string">'-stationTo'</span></span>, <span class="hljs-string"><span class="hljs-string">'-date'</span></span>, <span class="hljs-string"><span class="hljs-string">'searchTrains'</span></span>], <span class="hljs-attr"><span class="hljs-attr">results</span></span>: [<span class="hljs-string"><span class="hljs-string">'nested'</span></span>, (cb, query) =&gt; { cb({ <span class="hljs-attr"><span class="hljs-attr">loading</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">error</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">data</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }); getTrains(query.from, query.to, query.date) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">res</span></span></span><span class="hljs-function"> =&gt;</span></span> cb(<span class="hljs-string"><span class="hljs-string">'data'</span></span>, res)) .catch(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">err</span></span></span><span class="hljs-function"> =&gt;</span></span> cb(<span class="hljs-string"><span class="hljs-string">'error'</span></span>, err)) .finally(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> cb(<span class="hljs-string"><span class="hljs-string">'loading'</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>)) }, <span class="hljs-string"><span class="hljs-string">'searchQuery'</span></span>], <span class="hljs-attr"><span class="hljs-attr">availableTrains</span></span>: <span class="hljs-string"><span class="hljs-string">'results.data'</span></span>, }, (state, props, $, connectAs) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">&lt;div&gt; &lt;div&gt; &lt;OptionsInput { ...connectAs(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'selectStationFrom'</span></span></span></span></span><span class="hljs-function">) } </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">getOptions</span></span></span><span class="hljs-function">={ </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">getMatchedStations</span></span></span><span class="hljs-function"> } /&gt; - &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">OptionsInput</span></span></span><span class="hljs-function"> { ...</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">connectAs</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'selectStationTo'</span></span></span></span></span><span class="hljs-function">) } </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">getOptions</span></span></span><span class="hljs-function">={ </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">getMatchedStations</span></span></span><span class="hljs-function"> } /&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">input</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">type</span></span></span><span class="hljs-function">="</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">date</span></span></span><span class="hljs-function">" </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">onChange</span></span></span><span class="hljs-function">={ </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'date'</span></span></span></span></span><span class="hljs-function">) } /&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">button</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">onClick</span></span></span><span class="hljs-function">={ </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'searchTrains'</span></span></span></span></span><span class="hljs-function">) }&gt;&lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">button</span></span></span><span class="hljs-function">&gt; &lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt; { </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">results</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">loading</span></span></span><span class="hljs-function"> &amp;&amp; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">className</span></span></span><span class="hljs-function">="</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">loading</span></span></span><span class="hljs-function">"&gt;...&lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt; } { </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">results</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function"> &amp;&amp; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">className</span></span></span><span class="hljs-function">="</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function">"&gt; . ,  .   .&lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt; } { </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">availableTrains</span></span></span><span class="hljs-function"> &amp;&amp; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">className</span></span></span><span class="hljs-function">="</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">results</span></span></span><span class="hljs-function">"&gt; { </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">availableTrains</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">map</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(train</span></span></span><span class="hljs-function">) =&gt;</span></span> &lt;div /&gt;) } &lt;<span class="hljs-regexp"><span class="hljs-regexp">/div&gt; } &lt;/</span></span>div&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>); });</code> </pre><br>  ูุณูุญ ูู ุนุงูู ุงูุชุดุบูู <b>ุงููุชุฏุงุฎู</b> "ุจุชุญููู" ุงูุจูุงูุงุช ุฅูู ุฎูุงูุง ูุฑุนูุฉ ุ ููุฐุง ุ ูุฅู ุงูุญุฌุฉ ุงูุฃููู ููุตูุบุฉ ูู ุฑุฏ ุงูุงุชุตุงู ุ ุญูุซ ููููู "ุฏูุน" ุงูุจูุงูุงุช ุฅูู ุงูุฎููุฉ ุงููุฑุนูุฉ (ูุงุญุฏุฉ ุฃู ุฃูุซุฑ).  ุงูุขู ูุฏููุง ุชุฏููุงุช ูููุตูุฉ ูุณุคููุฉ ุนู ุงูุฎุทุฃ ูุญุงูุฉ ุงููุนุฏ ูุงูุจูุงูุงุช ุงููุงุฑุฏุฉ.  ุนุงูู ุงูุชุดุบูู ุงููุชุฏุงุฎู ูู ุฃุฏุงุฉ ูููุฉ ููุบุงูุฉ ููุงุญุฏ ูู ุงูุถุฑูุฑุงุช ุงูููููุฉ ูู mrr (ูุญุฏุฏ ุฃููุณูุง ูู ุฃู ุงูุฎูุงูุง ููุถุน ุงูุจูุงูุงุช).  ุจูููุง ูููู ุนุงูู ุฏูุฌ ุงูุฏูุฌ ุจุฏูุฌ ุณูุงุณู ุฑุณุงุฆู ูุชุนุฏุฏุฉ ูู ุณูุณูุฉ ูุงุญุฏุฉ ุ ูููู ุงููุณู ุงููุชุฏุงุฎู ุจุชูุณูู ูุคุดุฑ ุงูุชุฑุงุจุท ุฅูู ุณูุงุณู ูุฑุนูุฉ ูุชุนุฏุฏุฉ ุ ูุจุงูุชุงูู ูููู ุงูุนูุณ. <br><br>  ุงููุซุงู ุฃุนูุงู ูู ุทุฑููุฉ ููุงุณูุฉ ููุนูู ูุน ุงููุนูุฏ ุ ูู mrr ูุชู ุชุนูููู ูุนุงูู ุชุดุบูู ูููุนุฏ ููุณูุญ ูู ุจุชูุตูุฑ ุงูุฑูุฒ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"> results: [<span class="hljs-string"><span class="hljs-string">'promise'</span></span>, (query) =&gt; getTrains(query.from, query.to, query.date), <span class="hljs-string"><span class="hljs-string">'searchQuery'</span></span>], <span class="hljs-comment"><span class="hljs-comment">//     availableTrains: 'results.data',</span></span></code> </pre><br>  ุฃูุถุง ุ ูุถูู ุนุงูู ุงููุนุฏ ุฃู ูุชู ุงุณุชุฎุฏุงู ูุชุงุฆุฌ ุฃุญุฏุซ ูุนุฏ ููุท. <br><br><img src="https://habrastorage.org/webt/in/ew/2d/inew2diajzwvzh6lzcie3saledw.gif"><br><br>  ูููู ูุนุฑุถ ุงูููุงุนุฏ ุงููุชุงุญุฉ (ููุจุณุงุทุฉ ุณูุฑูุถ ูู ุฃููุงุน ูุฎุชููุฉ ูู ุงูุณูุงุฑุงุช) <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> TrainSeats = withMrr({ <span class="hljs-attr"><span class="hljs-attr">selectSeats</span></span>: [<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">seatsNumber, { id }</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">Number</span></span>(seatsNumber)).fill(<span class="hljs-literal"><span class="hljs-literal">true</span></span>).map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> ({ <span class="hljs-attr"><span class="hljs-attr">trainId</span></span>: id })), <span class="hljs-string"><span class="hljs-string">'-seatsNumber'</span></span>, <span class="hljs-string"><span class="hljs-string">'-$props'</span></span>, <span class="hljs-string"><span class="hljs-string">'select'</span></span>], <span class="hljs-attr"><span class="hljs-attr">seatsNumber</span></span>: [<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'selectSeats'</span></span>], }, (state, props, $) =&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"train"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">  โ{ props.num } { props.from } - { props.to }.   : { props.seats || 0 } { props.seats &amp;&amp; </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">     : </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">input</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"number"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onChange</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{</span></span></span></span><span class="xml"><span class="hljs-tag"> $('</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">seatsNumber</span></span></span></span><span class="xml"><span class="hljs-tag">') } </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">state.seatsNumber</span></span></span></span><span class="xml"><span class="hljs-tag"> || </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">0</span></span></span></span><span class="xml"><span class="hljs-tag"> } </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">max</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">props.seats</span></span></span></span><span class="xml"><span class="hljs-tag"> } /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{</span></span></span></span><span class="xml"><span class="hljs-tag"> $('</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">select</span></span></span></span><span class="xml"><span class="hljs-tag">') }&gt;</span></span></span><span class="xml"></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> } </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">);</span></span></code> </pre><br>  ูููุตูู ุฅูู ุงูุฏุนุงุฆู ูู ุตูุบุฉ ุ ููููู ุงูุงุดุชุฑุงู ูู ูุฑุจุน $ props ุงูุฎุงุต. <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Tickets = withMrr({ ... selectedSeats: <span class="hljs-string"><span class="hljs-string">'*/selectSeats'</span></span>, }, (state, props, $, connectAs) =&gt; { ... &lt;div className=<span class="hljs-string"><span class="hljs-string">"results"</span></span>&gt; { state.availableTrains.map(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">train, i</span></span></span><span class="hljs-function">) =&gt;</span></span> &lt;TrainSeats key={i} {...train} {...connectAs(<span class="hljs-string"><span class="hljs-string">'train'</span></span> + i)}/&gt;) } &lt;<span class="hljs-regexp"><span class="hljs-regexp">/div&gt; }</span></span></code> </pre><br>  ูุณุชุฎุฏู ูุฑุฉ ุฃุฎุฑู ุงูุงุณุชูุงุน ุงูุณูุจู ูุงูุชูุงุท ุนุฏุฏ ุงูุฃูุงูู ุงููุญุฏุฏุฉ ุนูุฏ ุงูููุฑ ููู ุงูุฒุฑ "ุชุญุฏูุฏ".  ูููู ุจุฑุจุท ูู ูููู ูุฑุนู ูุน ุงููุงูุฏ ุจุงุณุชุฎุฏุงู ูุธููุฉ connectAs.  ูููู ูููุณุชุฎุฏู ุชุญุฏูุฏ ุงูููุงุนุฏ ูู ุฃู ูู ุงููุทุงุฑุงุช ุงูููุชุฑุญุฉ ุ ูุฐูู ูุณุชูุน ุฅูู ุงูุชุบููุฑุงุช ูู ุฌููุน ุงูููููุงุช ุงููุฑุนูุฉ ุจุงุณุชุฎุฏุงู ุงูููุงุน "*". <br><br>  ูููู ููุง ุชููู ุงููุดููุฉ: ูููู ูููุณุชุฎุฏู ุฅุถุงูุฉ ููุงุนุฏ ุฃููุงู ูู ูุทุงุฑ ูุงุญุฏ ุ ุซู ูู ูุทุงุฑ ุขุฎุฑ ุ ุญุชู ุชุทุญู ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ ุชูู ุงูุณุงุจูุฉ.  ููููุฉ "ุชุฌููุน" ุฏูู ุงูุจูุงูุงุชุ  ููููุงู ุจุฐูู ุ ููุงู ุนุงูู <b>ุฅุบูุงู</b> ุ ูุงูุฐู ุ ูุน ุงูุชุฏุงุฎู ูุงูููุน ุ ูุดูู ุฃุณุงุณ mrr (ุฌููุน ุงูุขุฎุฑูู ููุณูุง ุฃูุซุฑ ูู ุงูุณูุฑ ุงููุญูู ุนูู ุฃุณุงุณ ูุคูุงุก ุงูุซูุงุซุฉ). <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"> selectedSeats: [<span class="hljs-string"><span class="hljs-string">'closure'</span></span>, () =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> seats = []; <span class="hljs-comment"><span class="hljs-comment">//     return selectedSeats =&gt; { seats = [...seats, selectedSeats]; return seats; } }, '*/selectSeats'],</span></span></code> </pre><br>  ุนูุฏ ุงุณุชุฎุฏุงู <b>ุงูุฅุบูุงู</b> ุฃููุงู (ุนูู ComponDDMount) ุ ูุชู ุฅูุดุงุก ุฅุบูุงู ููุฑุฌุน ุงูุตูุบุฉ.  ูุจุงูุชุงูู ุ ูููููุง ุงููุตูู ุฅูู ูุชุบูุฑุงุช ุงูุฅุบูุงู.  ูุชูุญ ูู ูุฐุง ุญูุธ ุงูุจูุงูุงุช ุจูู ุงูููุงููุงุช ุจุทุฑููุฉ ุขููุฉ - ุฏูู ุงูุงูุฒูุงู ูู ูุงููุฉ ุงููุชุบูุฑุงุช ุงูุนุงูููุฉ ูุงูุญุงูุฉ ุงููุดุชุฑูุฉ ุงููุงุจูุฉ ููุชุบููุฑ.  ูุจุงูุชุงูู ุ ูุชูุญ ูู ุงูุฅุบูุงู ุชูููุฐ ูุธุงุฆู ุนูุงูู Rx ูุซู ุงููุณุญ ุงูุถูุฆู ูุบูุฑูุง.  ููุน ุฐูู ุ ูุฐู ุงูุทุฑููุฉ ุฌูุฏุฉ ููุญุงูุงุช ุงูุตุนุจุฉ.  ุฅุฐุง ููุง ุจุญุงุฌุฉ ููุท ุฅูู ุญูุธ ูููุฉ ูุชุบูุฑ ูุงุญุฏ ุ ููููููุง ุจุจุณุงุทุฉ ุงุณุชุฎุฏุงู ุงูุฑุงุจุท ุฅูู ุงููููุฉ ุงูุณุงุจูุฉ ููุฎููุฉ ุจุงุณุชุฎุฏุงู ุงูุงุณู ุงูุฎุงุต "^": <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"> selectedSeats: [<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">seats, prev</span></span></span><span class="hljs-function">) =&gt;</span></span> [...seats, ...prev], <span class="hljs-string"><span class="hljs-string">'*/selectSeats'</span></span>, <span class="hljs-string"><span class="hljs-string">'^'</span></span>]</code> </pre><br>  ุงูุขู ูุฌุจ ุนูู ุงููุณุชุฎุฏู ุฅุฏุฎุงู ุงูุงุณู ุงูุฃูู ูุงูุฃุฎูุฑ ููู ุชุฐูุฑุฉ ูุฎุชุงุฑุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> SeatDetails = withMrr({}, (state, props, $) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">&lt;div&gt; { props.trainId } &lt;input name=</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"name"</span></span></span></span><span class="hljs-function"><span class="hljs-params"> value={ props.name } onChange={ $(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'setDetails'</span></span></span></span><span class="hljs-function"><span class="hljs-params">, e =&gt; [</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'name'</span></span></span></span><span class="hljs-function"><span class="hljs-params">, e.target.value, props.i]</span></span></span><span class="hljs-function">) } /&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">input</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name</span></span></span><span class="hljs-function">="</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">surname</span></span></span><span class="hljs-function">" </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value</span></span></span><span class="hljs-function">={ </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">surname</span></span></span><span class="hljs-function"> } </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">onChange</span></span></span><span class="hljs-function">={ </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'setDetails'</span></span></span></span><span class="hljs-function"><span class="hljs-params">, e =&gt; [</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'surname'</span></span></span></span><span class="hljs-function"><span class="hljs-params">, e.target.value, props.i]</span></span></span><span class="hljs-function">) }/&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">href</span></span></span><span class="hljs-function">="#" </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">onClick</span></span></span><span class="hljs-function">={ </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'removeSeat'</span></span></span></span><span class="hljs-function"><span class="hljs-params">, props.i</span></span></span><span class="hljs-function">) }&gt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">X</span></span></span><span class="hljs-function">&lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a</span></span></span><span class="hljs-function">&gt; &lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt;); }) </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">const</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Tickets</span></span></span><span class="hljs-function"> = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">withMrr</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ $init: { results: {}, selectedSeats: [], } stationFrom: </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'selectStationFrom/val'</span></span></span></span><span class="hljs-function"><span class="hljs-params">, stationTo: </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'selectStationTo/val'</span></span></span></span><span class="hljs-function"><span class="hljs-params">, searchQuery: [(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">from</span></span></span></span><span class="hljs-function"><span class="hljs-params">, to, date</span></span></span><span class="hljs-function">) =&gt;</span></span> ({ <span class="hljs-keyword"><span class="hljs-keyword">from</span></span>, to, date }), <span class="hljs-string"><span class="hljs-string">'-stationFrom'</span></span>, <span class="hljs-string"><span class="hljs-string">'-stationTo'</span></span>, <span class="hljs-string"><span class="hljs-string">'-date'</span></span>, <span class="hljs-string"><span class="hljs-string">'searchTrains'</span></span>], <span class="hljs-attr"><span class="hljs-attr">results</span></span>: [<span class="hljs-string"><span class="hljs-string">'promise'</span></span>, (query) =&gt; getTrains(query.from, query.to, query.date), <span class="hljs-string"><span class="hljs-string">'searchQuery'</span></span>], <span class="hljs-attr"><span class="hljs-attr">availableTrains</span></span>: <span class="hljs-string"><span class="hljs-string">'results.data'</span></span>, <span class="hljs-attr"><span class="hljs-attr">selectedSeats</span></span>: [<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">seats, prev</span></span></span><span class="hljs-function">) =&gt;</span></span> [...seats, ...prev], <span class="hljs-string"><span class="hljs-string">'*/selectSeats'</span></span>, <span class="hljs-string"><span class="hljs-string">'^'</span></span>] }, (state, props, $, connectAs) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">&lt;div&gt; &lt;div&gt; &lt;OptionsInput { ...connectAs(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'selectStationFrom'</span></span></span></span></span><span class="hljs-function">) } </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">getOptions</span></span></span><span class="hljs-function">={ </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">getMatchedStations</span></span></span><span class="hljs-function"> } /&gt; - &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">OptionsInput</span></span></span><span class="hljs-function"> { ...</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">connectAs</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'selectStationTo'</span></span></span></span></span><span class="hljs-function">) } </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">getOptions</span></span></span><span class="hljs-function">={ </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">getMatchedStations</span></span></span><span class="hljs-function"> } /&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">input</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">type</span></span></span><span class="hljs-function">="</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">date</span></span></span><span class="hljs-function">" </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">onChange</span></span></span><span class="hljs-function">={ </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'date'</span></span></span></span></span><span class="hljs-function">) } /&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">button</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">onClick</span></span></span><span class="hljs-function">={ </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'searchTrains'</span></span></span></span></span><span class="hljs-function">) }&gt;&lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">button</span></span></span><span class="hljs-function">&gt; &lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt; { </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">results</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">loading</span></span></span><span class="hljs-function"> &amp;&amp; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">className</span></span></span><span class="hljs-function">="</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">loading</span></span></span><span class="hljs-function">"&gt;...&lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt; } { </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">results</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function"> &amp;&amp; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">className</span></span></span><span class="hljs-function">="</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function">"&gt; . ,  .   .&lt;/</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function">&gt; } { </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">availableTrains</span></span></span><span class="hljs-function"> &amp;&amp; &lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">div</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">className</span></span></span><span class="hljs-function">="</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">results</span></span></span><span class="hljs-function">"&gt; { </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">availableTrains</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">map</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(train, i</span></span></span><span class="hljs-function">) =&gt;</span></span> &lt;TrainSeats key={i} {...train} {...connectAs(<span class="hljs-string"><span class="hljs-string">'train'</span></span> + i)}/&gt;) } &lt;<span class="hljs-regexp"><span class="hljs-regexp">/div&gt; } { state.selectedSeats.map((seat, i) =&gt; &lt;SeatDetails key={i} i={i} { ...seat } {...connectAs('seat' + i)}/</span></span>&gt;) } &lt;<span class="hljs-regexp"><span class="hljs-regexp">/div&gt; &lt;/</span></span>div&gt;); });</code> </pre><br>  ุชุญุชูู ุฎููุฉ ุงูููุงุนุฏ <b>ุงููุญุฏุฏุฉ</b> ุนูู ูุฌููุนุฉ ูู ุงูููุงูุน ุงููุญุฏุฏุฉ.  ุนูุฏูุง ูููู ุงููุณุชุฎุฏู ุจุฅุฏุฎุงู ุงูุงุณู ูุงูููุจ ููู ุชุฐูุฑุฉ ุ ูุฌุจ ุนูููุง ุชุบููุฑ ุงูุจูุงูุงุช ูู ุงูุนูุงุตุฑ ุงูููุงุจูุฉ ููุตููู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"> selectedSeats: [<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">seats, details, prev</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">// ??? }, '*/selectSeats', '*/setDetails', '^']</span></span></code> </pre><br>  ุงูููุฌ ุงูููุงุณู ุบูุฑ ููุงุณุจ ููุง: ูู ุงูุตูุบุฉ ุ ูุญุชุงุฌ ุฅูู ูุนุฑูุฉ ุงูุฎููุฉ ุงูุชู ุชุบูุฑุช ูุงูุงุณุชุฌุงุจุฉ ููููุง ูุฐูู.  ุณูุณุงุนุฏูุง ุฃุญุฏ ุฃุดูุงู ุนุงูู ุงูุฏูุฌ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"> selectedSeats: [<span class="hljs-string"><span class="hljs-string">'merge'</span></span>, { <span class="hljs-string"><span class="hljs-string">'*/selectSeats'</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">seats, prev</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [...prev, ...seats]; }, <span class="hljs-string"><span class="hljs-string">'*/setDetails'</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[field, value, i], prev</span></span></span><span class="hljs-function">) =&gt;</span></span> { prev[i][field] = value; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> prev; }, <span class="hljs-string"><span class="hljs-string">'*/removeSeat'</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">i, prev</span></span></span><span class="hljs-function">) =&gt;</span></span> { prev.splice(i, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> prev; }, }, <span class="hljs-string"><span class="hljs-string">'^'</span></span><span class="hljs-comment"><span class="hljs-comment">/*,       */</span></span>],</code> </pre><br>  ูุฐุง ูุดุจู ุฅูู ุญุฏ ูุง ูุฎูุถุงุช Redux ุ ูููู ูุน ุจูุงุก ุฃูุซุฑ ูุฑููุฉ ูููุฉ.  ููุง ููููู ุฃู ุชุฎุงู ูู ุชุญููุฑ ุงููุตูููุฉ ุ ูุฃู ุตูุบุฉ ุฎููุฉ ูุงุญุฏุฉ ููุท ูู ุงูุชู ุชุชุญูู ูููุง ุ ุนูู ุงูุชูุงูู ุ ูุชู ุงุณุชุจุนุงุฏ ุงูุชุบููุฑุงุช ุงููุชูุงุฒูุฉ (ูููู ุงููุตูููุงุช ุงููุชุญููุฉ ุงูุชู ูุชู ุชูุฑูุฑูุง ููุณูุทุฉ ูุง ุชุณุชุญู ุฐูู ุจุงูุชุฃููุฏ). <br><br><h3 style=";text-align:right;direction:rtl">  ูุฌููุนุงุช ุฑุฏ ุงููุนู </h3><br>  ุงูููุท ุนูุฏูุง ุชููู ุงูุฎููุฉ ุจุชุฎุฒูู ุงูุตููู ูุชุบููุฑู ุดุงุฆุน ุฌุฏูุง.  ุฌููุน ุนูููุงุช ุงูุตููู ูู ุซูุงุซุฉ ุฃููุงุน: ุฅุฏุฑุงุฌ ูุชุนุฏูู ูุญุฐู.  ููุตู ูุฐุง ุ ููุงู ุนุงูู <b>ููู</b> ุฃููู.  ุงุณุชุฎุฏููุง ูุชุจุณูุท ุญุณุงุจ ุงูููุงุนุฏ <b>ุงููุฎุชุงุฑุฉ</b> . <br><br>  ูุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"> selectedSeats: [<span class="hljs-string"><span class="hljs-string">'merge'</span></span>, { <span class="hljs-string"><span class="hljs-string">'*/selectSeats'</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">seats, prev</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [...prev, ...seats]; }, <span class="hljs-string"><span class="hljs-string">'*/setDetails'</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[field, value, i], prev</span></span></span><span class="hljs-function">) =&gt;</span></span> { prev[i][field] = value; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> prev; }, <span class="hljs-string"><span class="hljs-string">'*/removeSeat'</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">i, prev</span></span></span><span class="hljs-function">) =&gt;</span></span> { prev.splice(i, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> prev; }, <span class="hljs-string"><span class="hljs-string">'addToCart'</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> [], }, <span class="hljs-string"><span class="hljs-string">'^'</span></span>]</code> </pre><br>  ุฃุตุจุญ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"> selectedSeats: [<span class="hljs-string"><span class="hljs-string">'coll'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">create</span></span>: <span class="hljs-string"><span class="hljs-string">'*/selectSeats'</span></span>, <span class="hljs-attr"><span class="hljs-attr">update</span></span>: <span class="hljs-string"><span class="hljs-string">'*/setDetails'</span></span>, <span class="hljs-attr"><span class="hljs-attr">delete</span></span>: [<span class="hljs-string"><span class="hljs-string">'merge'</span></span>, <span class="hljs-string"><span class="hljs-string">'*/removeSeat'</span></span>, [<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> ({}), <span class="hljs-string"><span class="hljs-string">'addToCart'</span></span>]] }]</code> </pre><br>  ููุน ุฐูู ุ ูุฌุจ ุชุบููุฑ ุชูุณูู ุงูุจูุงูุงุช ูู ุฏูู setDetails ููููุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"> &lt;input name=<span class="hljs-string"><span class="hljs-string">"name"</span></span> onChange={ $(<span class="hljs-string"><span class="hljs-string">'setDetails'</span></span>, e =&gt; [{ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: e.target.value }, props.i]) } /&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">input</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"surname"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onChange</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{</span></span></span></span><span class="xml"><span class="hljs-tag"> $('</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">setDetails</span></span></span></span><span class="xml"><span class="hljs-tag">', </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">e</span></span></span></span><span class="xml"><span class="hljs-tag"> =&gt;</span></span></span><span class="xml"> [{ surname: e.target.value }, props.i]) }/&gt;</span></span></code> </pre><br>  ุจุงุณุชุฎุฏุงู ุนุงูู <b>Coll</b> ุ ูููู ุจูุตู ุซูุงุซุฉ ุฎููุท ุณุชุคุซุฑ ุนูู ุงูุตููู ุงูุฎุงุต ุจูุง.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุฌุจ ุฃู ูุญุชูู ุฏูู <b>ุงูุฅูุดุงุก</b> ุนูู ุงูุนูุงุตุฑ ููุณูุง ุ ูุงูุชู ูุฌุจ ุฅุถุงูุชูุง ุฅูู ุงูุตููู (ุนุงุฏุฉู ูุงุฆูุงุช).  ููุจู ุฏูู <b>ุงูุญุฐู</b> ุฅูุง ูุคุดุฑุงุช ุงูุนูุงุตุฑ ุงููุฑุงุฏ ุญุฐููุง (ุณูุงุก ูู '* / removeSeat') ูุงูุฃููุนุฉ.  ุณูุญุฐู ุงูููุงุน {} ุฌููุน ุงูุนูุงุตุฑ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุงูููุงุน {name: 'Carl'} ุณูุญุฐู ุฌููุน ุงูุนูุงุตุฑ ุงูุชู ุชุญูู ุงูุงุณู Carl.  ููุจู ุฏูู <b>ุงูุชุญุฏูุซ</b> ุฃุฒูุงุฌ ูู ุงูููู: ุงูุชุบููุฑ ุงูุฐู ูุฌุจ ุงูููุงู ุจู ูุน ุงูุนูุตุฑ (ุงูููุงุน ุฃู ุงููุธููุฉ) ุ ูููุฑุณ ุฃู ููุงุน ุงูุนูุงุตุฑ ุงูุชู ุชุญุชุงุฌ ุฅูู ุชุบููุฑ.  ุนูู ุณุจูู ุงููุซุงู ุ [{ุงูููุจ: 'Johnson'} ุ {}] ุณูุถุจุท ุงุณู ุฌููุณูู ุนูู ุฌููุน ุนูุงุตุฑ ุงููุตูููุฉ. <br><br>  ูุณุชุฎุฏู ุนุงูู Coll ุดูุฆูุง ูุซู ูุบุฉ ุงุณุชุนูุงู ุฏุงุฎููุฉ ุ ููุง ูุณูู ุงูุนูู ูุน ุงููุฌููุนุงุช ููุฌุนููุง ุฃูุซุฑ ุชุนุจูุฑููุง. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูููุฏ ุงููุงูู</a> ูุชุทุจูููุง ูู JsFiddle. <br><br>  ุชุนุฑููุง ุนูู ุฌููุน ุงููุธุงุฆู ุงูุฃุณุงุณูุฉ ุงููุงุฒูุฉ ููุณูุฏ.  ูู ุงูููุถูุนุงุช ุงููููุฉ ุฅูู ุญุฏ ูุง ุงูุชู ุจููุช ูู ุงูุจุญุฑ ุฅุฏุงุฑุฉ ุงูุซุฑูุงุช ุงูุนุงูููุฉ ุ ูุงูุชู ูููู ููุงูุดุชูุง ูู ุงูููุงูุงุช ุงููุณุชูุจููุฉ.  ูููู ุงูุขู ููููู ุงูุจุฏุก ูู ุงุณุชุฎุฏุงู mrr ูุฅุฏุงุฑุฉ ุงูุญุงูุฉ ุฏุงุฎู ูููู ุฃู ูุฌููุนุฉ ูู ุงูููููุงุช ุฐุงุช ุงูุตูุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุงุณุชูุชุงุฌุงุช </h3><br><h4 style=";text-align:right;direction:rtl">  ูุง ูู ููุฉ ุงูุณูุฏุ </h4><br>  ูุณูุญ ูู mrr ุจูุชุงุจุฉ ุงูุชุทุจููุงุช ูู React ุจุฃุณููุจ ุชูุงุนูู ูุธููู (ูููู ูู ุชุดููุฑ mrr ุนูู ุฃูู Make React Reactive).  mrr ูุนุจูุฑ ุฌุฏูุง - ุชูุถู ููุชูุง ุฃูู ูู ูุชุงุจุฉ ุฃุณุทุฑ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ. <br><br>  ูููุฑ mrr ูุฌููุนุฉ ุตุบูุฑุฉ ูู ุงูุชุฌุฑูุฏ ุงูุฃุณุงุณู ุ ููู ูุง ูููู ูุฌููุน ุงูุญุงูุงุช - ุชุตู ูุฐู ุงูููุงูุฉ ุชูุฑูุจูุง ุฌููุน ุงูููุฒุงุช ูุงูุชูููุงุช ุงูุฑุฆูุณูุฉ ููุณูุฏ.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงู ุฃูุถูุง ุฃุฏูุงุช ูุชูุณูุน ูุฐู ุงููุฌููุนุฉ ุงูุฃุณุงุณูุฉ (ุงููุฏุฑุฉ ุนูู ุฅูุดุงุก ุนูุงูู ุชุดุบูู ูุฎุตุตุฉ). ููููู ูุชุงุจุฉ ุดูุฑุฉ ุชุนุฑูููุฉ ุฌูููุฉ ุฏูู ูุฑุงุกุฉ ูุฆุงุช ุงูุตูุญุงุช ูู ุงูุฏููู ูุจุฏูู ุญุชู ุฏุฑุงุณุฉ ุงูุฃุนูุงู ุงููุธุฑูุฉ ููุจุฑูุฌุฉ ุงููุธูููุฉ - ูู ุบูุฑ ุงููุฑุฌุญ ุฃู ุชุณุชุฎุฏู ุ ุนูู ุณุจูู ุงููุซุงู ุ monads ุ ูุฃูู mrr ููุณู ูู monad ุนููุงู ููุตู ุงูุญุณุงุจ ุงูููู ุนู ุทูุฑุงุช ุงูุฏููุฉ.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจูููุง ูู ุงูููุชุจุงุช ุงูุฃุฎุฑู ุ ุชุชุนุงูุด ุงูููุงูุฌ ุบูุฑ ุงููุชุฌุงูุณุฉ (ุงูุญุชููุฉ ุจุงุณุชุฎุฏุงู ุงูุทุฑู ูุงูุฅุนูุงููุฉ ุจุงุณุชุฎุฏุงู ุงููุฌูุฏุงุช ุงูุชูุงุนููุฉ) ุ ูุงูุชู ููุฒุฌ ุงููุจุฑูุฌ ูููุง "ุงูุณูุทุฉ" ุจุดูู ุนุดูุงุฆู ุ ูู mrr ููุงู ุฌููุฑ ุฃุณุงุณู ูุงุญุฏ - ุชูุงุฑ ุ ููุง ูุณุงูู ูู ุชุฌุงูุณ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูุงูุชูุญูุฏ. </font><font style="vertical-align: inherit;">ุงูุฑุงุญุฉ ุ ุงูุฑุงุญุฉ ุ ุงูุจุณุงุทุฉ ุ ุชูููุฑ ููุช ุงููุจุฑูุฌ ูู ุงููุฒุงูุง ุงูุฑุฆูุณูุฉ ููุณูุฏ (ูู ููุง ูู ูู ุชุดููุฑ ุขุฎุฑ ููุณูุฏ ุจุงุณู "mrrrr" ุ ุฃู ุฎุฑูุฉ ูุทุฉ ุฑุงุถูุฉ ุนู ุญูุงุฉ ุงููุทุฉ).</font></font><br><br><h4 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุง ูู ุงูุณูุจูุงุชุ </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุจุฑูุฌุฉ ุจ "ุงูุฎุทูุท" ููุง ูุฒุงูุงูุง ูุนููุจูุง. </font><font style="vertical-align: inherit;">ูู ุชุชููู ูู ุงูุฅููุงู ุงูุชููุงุฆู ูุงุณู ุงูุฎููุฉ ุ ุฃู ุงูุจุญุซ ุนู ุงูููุงู ุงูุฐู ุชู ุชุนุฑููู ููู. </font><font style="vertical-align: inherit;">ูู ูุงุญูุฉ ุฃุฎุฑู ุ ูู mrr ููุฌุฏ ุฏุงุฆููุง ููุงู ูุงุญุฏ ููุท ุญูุซ ูุชู ุชุญุฏูุฏ ุณููู ุงูุฎููุฉ ุ ููู ุงูุณูู ุงูุนุซูุฑ ุนููู ุจุงุณุชุฎุฏุงู ุจุญุซ ูุต ุจุณูุท ุ ุฃุซูุงุก ุงูุจุญุซ ุนู ุงูููุงู ุงูุฐู ูุชู ุชุญุฏูุฏ ูููุฉ ุญูู Redux ูู ุงููุชุฌุฑ ุ ุฃู ุญุชู ุฃูู ูู ุญูู ุงูุญุงูุฉ ุนูุฏ ุงุณุชุฎุฏุงู setState ุงูุฃุตูู ูุฏ ุชููู ุฃุทูู.</font></font><br><br><h4 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ูุฏ ูููู ููุชููุง ุจูุฐุงุ </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุงุฏุฆ ุฐู ุจุฏุก ุ ุฃุชุจุงุน ุงูุจุฑูุฌุฉ ุงููุธูููุฉ ูู ุงูุฃุดุฎุงุต ุงูุฐูู ุชุชุถุญ ููู ููุฒุฉ ุงูููุฌ ุงูุฅุนูุงูู. </font><font style="vertical-align: inherit;">ุจุงูุทุจุน ุ ุชูุฌุฏ ุญููู ClojureScript kosher ุจุงููุนู ุ ููููุง ูุง ุชุฒุงู ููุชุฌูุง ูุชุฎุตุตูุง ุ ูู ุญูู ุฃู React ูุญูู ุงููุฑุฉ. </font><font style="vertical-align: inherit;">ุฅุฐุง ูุงู ูุดุฑูุนู ูุณุชุฎุฏู Redux ุจุงููุนู ุ ูููููู ุงูุจุฏุก ูู ุงุณุชุฎุฏุงู mrr ูุฅุฏุงุฑุฉ ุงูุญุงูุฉ ุงููุญููุฉ ุ ููู ุงููุณุชูุจู ุงูุชุญูู ุฅูู ุนุงููู. </font><font style="vertical-align: inherit;">ุญุชู ุฅุฐุง ููุช ูุง ุชุฎุทุท ูุงุณุชุฎุฏุงู ุชูููุงุช ุฌุฏูุฏุฉ ูู ุงูููุช ุงูุญุงูู ุ ููููู ุงูุชุนุงูู ูุน mrr ูู ุฃุฌู "ุชูุฏูุฏ ุนููู" ูู ุฎูุงู ุงููุธุฑ ูู ุงูููุงู ุงููุฃูููุฉ ูู ุถูุก ุฌุฏูุฏ ุ ูุฃู mrr ูุฎุชูู ุงุฎุชูุงููุง ูุจูุฑูุง ุนู ููุชุจุงุช ุฅุฏุงุฑุฉ ุงูุญุงูุฉ ุงูุนุงูุฉ.</font></font><br><br><h4 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ูููู ุงุณุชุฎุฏุงู ูุฐุง ุจุงููุนูุ </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุญูุซ ุงููุจุฏุฃ ุ ูุนู :) ุงูููุชุจุฉ ุดุงุจุฉ ุ ุญุชู ุงูุขู ุชู ุงุณุชุฎุฏุงููุง ุจูุดุงุท ูู ุงูุนุฏูุฏ ูู ุงููุดุงุฑูุน ุ ูููู ุชู ุจุงููุนู ุฅูุดุงุก ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ูููุธุงุฆู ุงูุฃุณุงุณูุฉ ุ ูุงูุขู ูุชู ุงูุนูู ุจุดูู ุฃุณุงุณู ุนูู ุงููุณุชุญุถุฑุงุช ุงููุฎุชููุฉ (ุงูุณูุฑ ุงููุญูู) ุ ุงููุตููุฉ ูุฒูุงุฏุฉ ุชุณุฑูุน ูุชูุณูุฑ ุงูุชูููุฉ. </font><font style="vertical-align: inherit;">ุจุงูููุงุณุจุฉ ุ ูู ูุจุงุฏุฆ ุงูุณูุฏ ูุง ููุฌุฏ ุดูุก ูุญุฏุฏ ูุฑุฏ ูุนู ุ ูููู ุชููููู ููุงุณุชุฎุฏุงู ูุน ุฃู ููุชุจุฉ ูููู (ุชู ุงุฎุชูุงุฑ ุฑุฏ ุงููุนู ุจุณุจุจ ุนุฏู ูุฌูุฏ ุชูุงุนู ูุฏูุฌ ุฃู ููุชุจุฉ ููุจููุฉ ุจุดูู ุนุงู ููุฐุง). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุดูุฑุง ููู ุนูู ุงูุชูุงููู ุ ูุณุฃููู ููุชูุง ููุชุนูููุงุช ูุงูููุฏ ุงูุจูุงุก!</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar428870/">https://habr.com/ru/post/ar428870/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar428858/index.html">ูุคุชูุฑ DEFCON 17. ุงุถุญู ุนูู ุงูููุฑูุณุงุช ุงูุฎุงุตุฉ ุจู! ุงูุฌุฒุก ุงูุฃูู</a></li>
<li><a href="../ar428860/index.html">ูุคุชูุฑ DEFCON 17. ุงุถุญู ุนูู ุงูููุฑูุณุงุช ุงูุฎุงุตุฉ ุจู! ุงูุฌุฒุก 2</a></li>
<li><a href="../ar428864/index.html">ุฏุนููุง ูุฌุนู ุงูููุจ ุฑุงุฆุนูุง ูุฑุฉ ุฃุฎุฑู</a></li>
<li><a href="../ar428866/index.html">7 ูุจุงุฏุฆ ุชุตููู ุ ุงุชุฌุงูุงุช ุฅูู ุงุชุฌุงูุงุช ุงูุชุตููู ุ ูุญูุธุฉ ูุตูู UX ุ ...</a></li>
<li><a href="../ar428868/index.html">JARs ูุชุนุฏุฏุฉ ุงูุฅุตุฏุงุฑุงุช - ุณูุฆุฉ ุฃู ุฌูุฏุฉุ</a></li>
<li><a href="../ar428872/index.html">ูุตุฉ ุนูู ูุงุญุฏุฉ ู 20 ุนูููุฉ (ุบูุฑ ูุงุจูุฉ ูููุฑุงุกุฉ) ุฃู ุฃุฑุงุฏ ุฃู ูููู ุทูุงุฑูุง ุ ูููู ูู ููุณูุญ ูู ุจุฏุฎูู ุงูุณูุงุก</a></li>
<li><a href="../ar428876/index.html">ููุณ ููุงู ุนูุฏุฉ ุฅูู ุงููุฑุงุก: ุชุฌุฑุจุฉ ุดุฎุตูุฉ ุงุฎุชุจุงุฑ</a></li>
<li><a href="../ar428878/index.html">ุฎูุฒูุฑ ุงูุฑุญูุฉ ุ ุฃู ุชุญุณูู ูุชุฑุฌููู Bytecode</a></li>
<li><a href="../ar428880/index.html">ุทุฑู ุงููุตุงุฏูุฉ ุงูุฌุฏูุฏุฉ - ุชูุฏูุฏ ููุฎุตูุตูุฉุ</a></li>
<li><a href="../ar428882/index.html">Bland: ูููู ุจุชุญููู ุงูููุงู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>