<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëãüèº ü§æüèΩ ‚ûó Introducci√≥n a los procesos de arranque y arranque del kernel de Linux üíÜüèΩ üê≥ üèÇüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola a todos! As√≠ que abrimos la siguiente, cuarta fila consecutiva, del curso de Administrador de Linux , que ocupa con confianza su nicho junto al c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Introducci√≥n a los procesos de arranque y arranque del kernel de Linux</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/424761/">  Hola a todos!  As√≠ que abrimos la siguiente, cuarta fila consecutiva, del curso de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Administrador de Linux</a> , que ocupa con confianza su nicho junto al curso de devopersky.  M√°s <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">docentes</a> , m√°s informaci√≥n y stands.  Bueno, como siempre, m√°s informaci√≥n interesante que los maestros recogieron. <br><br>  Vamos <br><br>  ¬øAlguna vez se ha preguntado qu√© se necesita para que su sistema est√© listo para ejecutar aplicaciones? <br><br>  Comprender los procesos de carga del kernel e iniciar el sistema Linux es importante para configurar Linux y resolver problemas de inicio.  Este art√≠culo proporciona una descripci√≥n general del proceso de arranque del kernel utilizando el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">gestor de arranque GRUB2</a> y el inicio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">por el sistema de inicializaci√≥n systemd</a> . <br><br>  De hecho, hay dos series de eventos necesarios para que una computadora Linux funcione: arranque del n√∫cleo (arranque) y arranque del sistema (arranque).  El proceso de arranque del kernel comienza cuando enciende la computadora y termina con el kernel inicializando e iniciando systemd.  Despu√©s de eso, comienza el proceso de inicio del sistema, y ‚Äã‚Äães √©l quien pone la computadora Linux en condiciones de funcionamiento. <br><br><img src="https://habrastorage.org/webt/fn/kk/zz/fnkkzz6scajfvnktxj_5hwxavby.png"><a name="habracut"></a><br><br>  En general, el proceso de cargar el kernel e iniciar el sistema Linux es bastante simple.  Consiste en los siguientes pasos, que se describir√°n con m√°s detalle en las siguientes secciones: <br><br><ul><li>  BIOS POST; </li><li>  Carga de grano (GRUB2); </li><li>  Inicializaci√≥n del n√∫cleo; </li><li>  Ejecutando systemd, el padre de todos los procesos. </li></ul><br>  Tenga en cuenta que este art√≠culo trata sobre GRUB2 y systemd, ya que son el cargador de kernel y el programa de inicializaci√≥n para la mayor√≠a de las distribuciones.  Otras opciones se utilizaron anteriormente y, a veces, todav√≠a se pueden encontrar en algunas distribuciones. <br><br>  <b>Proceso de arranque del kernel</b> <br><br>  El proceso de arranque del kernel se puede iniciar de varias maneras.  En primer lugar, si se apaga la alimentaci√≥n, al encender la computadora se iniciar√° el proceso de arranque.  En segundo lugar, si un usuario local ya se est√° ejecutando en la computadora, incluidos el usuario root y el usuario sin privilegios, el usuario puede iniciar mediante programaci√≥n el proceso de arranque del kernel utilizando la GUI o la l√≠nea de comando para reiniciar.  El reinicio primero apagar√° la computadora y solo luego la reiniciar√°. <br><br>  <b>POST BIOS</b> <b><br></b> <br>  El primer paso en el proceso de arranque del kernel de Linux no tiene nada que ver con Linux.  Esta es la parte de hardware del proceso, la misma para todos los sistemas operativos.  Cuando se suministra energ√≠a a la computadora, lo primero que se inicia es POST (Power On Self Test), que forma parte del BIOS (Sistema b√°sico de E / S, Sistema b√°sico de entrada / salida). <br><br>  Cuando IBM lanz√≥ su primera computadora personal en 1981, el BIOS fue dise√±ado para inicializar componentes de hardware.  POST es parte del BIOS, cuya tarea es garantizar el correcto funcionamiento de los equipos inform√°ticos.  Si la POST falla, entonces la computadora puede estar funcionando mal y el proceso de arranque no continuar√°. <br><br>  BIOS POST verifica el rendimiento b√°sico del hardware, y luego causa una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">interrupci√≥n del</a> BIOS - INT 13H, que encuentra los sectores de arranque del n√∫cleo en todos los dispositivos conectados con la capacidad de arrancar.  El primer sector encontrado, que contiene un registro de inicio v√°lido, se carga en la RAM, despu√©s de lo cual el control se transfiere al c√≥digo desde el sector de inicio. <br>  El sector de arranque es solo la primera etapa.  La mayor√≠a de las distribuciones de Linux usan una de las tres opciones de gestor de arranque: GRUB, GRUB2 y LILO.  GRUB2 es el m√°s nuevo y ahora se usa con mucha m√°s frecuencia que las versiones anteriores. <br><br>  <b>GRUB2</b> <br><br>  GRUB2 significa "GRand Unified Bootloader, versi√≥n 2", y ahora es el gestor de arranque principal para la mayor√≠a de las distribuciones modernas de Linux.  GRUB2 es un programa que hace que una computadora sea lo suficientemente inteligente como para que pueda encontrar el n√∫cleo del sistema operativo y cargarlo en la memoria.  Dado que hablar y escribir solo GRUB es m√°s f√°cil que GRUB2, en este art√≠culo probablemente usar√© el t√©rmino GRUB, pero implicar√© GRUB2 a menos que se especifique lo contrario. <br><br>  GRUB es compatible con <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">la especificaci√≥n de arranque m√∫ltiple</a> , que le permite cargar diferentes versiones de Linux y otros sistemas operativos;  Tambi√©n puede iniciar el registro de arranque de sistemas operativos propietarios en una cadena. <br><br>  GRUB tambi√©n permite al usuario elegir entre varias posibles descargas de kernel para cualquier distribuci√≥n de Linux proporcionada.  Esto hace posible descargar la versi√≥n anterior del n√∫cleo si el actualizado no puede iniciarse correctamente o es incompatible con alguna parte importante del software.  GRUB se puede configurar en el archivo <code>/boot/grub/grub.conf</code> . <br><br>  GRUB1 ahora se considera obsoleto y en la mayor√≠a de las distribuciones modernas se reemplaza por GRUB2, que es su versi√≥n reescrita.  Las distribuciones basadas en Red Hat se actualizaron a GRUB2 alrededor de Fedora 15 y CentOS / RHEL 7. GRUB2 tiene la misma funcionalidad de arranque que GRUB1, pero adem√°s proporciona entornos basados ‚Äã‚Äãen comandos previos al SO de mainframe y m√°s flexibilidad en la etapa previa al arranque.  GRUB2 est√° configurado en <code>/boot/grub2/grub.cfg</code> . <br><br>  La tarea principal de cualquiera de GRUB es cargar el kernel de Linux en la memoria y ejecutarlo.  Ambas versiones de GRUB funcionan de manera similar en tres etapas, pero en este art√≠culo usar√© GRUB2 para describir c√≥mo funciona GRUB.  La configuraci√≥n de GRUB y GRUB2 y el uso de comandos GRUB2 est√° fuera del alcance de este art√≠culo. <br><br>  Aunque oficialmente GRUB2 no usa numeraci√≥n de pasos, por conveniencia lo usar√© en este art√≠culo. <br><br>  <b>Etapa 1</b> <br><br>  Como ya se mencion√≥ en la secci√≥n POST del BIOS, al final de la POST, el BIOS busca los registros de arranque en los discos conectados, generalmente ubicados en el Registro de arranque maestro (MBR), despu√©s de lo cual carga el primer registro encontrado en la memoria y comienza a ejecutarlo.  El c√≥digo de arranque, es decir, la primera etapa de GRUB2, ocupa muy poco espacio, ya que debe caber en el primer sector de 512 bytes en el disco duro junto con la tabla de particiones.  La cantidad total de espacio asignado para el c√≥digo de arranque en s√≠ en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">MBR est√°ndar</a> es de 446 bytes.  El archivo de 446 bytes para la etapa 1 se llama boot-img y no contiene una tabla de particiones; se agrega al registro de arranque por separado. <br><br>  Como el registro de arranque debe ser tan peque√±o, no es muy "inteligente" y no comprende la estructura del sistema de archivos.  Por lo tanto, el √∫nico prop√≥sito del paso 1 es detectar y cargar el paso 1.5.  Para lograr esto, el paso 1.5 de GRUB debe ubicarse en el espacio entre el registro de arranque y la primera partici√≥n del disco.  Despu√©s de cargar la etapa 1.5 GRUB en la RAM, la etapa 1 transfiere el control a la etapa 1.5. <br><br>  <b>Etapa 1.5</b> <br><br>  Como se se√±al√≥ anteriormente, el paso 1.5 de GRUB debe estar entre el registro de arranque y la primera partici√≥n del disco.  Hist√≥ricamente, este espacio permanece sin usar por razones t√©cnicas.  La primera partici√≥n en el disco duro comienza en el sector 63, y teniendo en cuenta el MBR en el sector 0, hay 62 sectores de 512 bytes (31744 bytes) en los que puede almacenar el archivo core.img - etapa 1.5 GRUB.  El archivo core.img pesa 25389 bytes, que es suficiente espacio para almacenarlo entre el MBR y la primera partici√≥n del disco. <br><br>  Dado que se puede usar m√°s c√≥digo para el paso 1.5, puede ser suficiente para contener varios controladores de sistema de archivos comunes, como EXT est√°ndar y otros sistemas de archivos Linux, FAT y NTFS.  core.img en GRUB2 es m√°s complejo y funcional que en el paso 1.5 de GRUB1.  Esto significa que la etapa 2 de GRUB2 puede residir en un sistema de archivos EXT est√°ndar, pero no en un volumen l√≥gico.  Por lo tanto, la ubicaci√≥n est√°ndar para los archivos de la etapa 2 es el sistema de archivos <code>/boot</code> , o m√°s bien <code>/boot/grub2</code> . <br><br>  Tenga en cuenta que el directorio / boot debe estar ubicado en el sistema de archivos compatible con GRUB.  No todos los sistemas de archivos tienen este soporte.  La tarea de la etapa 1.5 es comenzar con los controladores del sistema de archivos necesarios para buscar archivos de la etapa 2 en el sistema de archivos / boot y cargar los controladores necesarios. <br><br>  <b>Etapa 2</b> <br><br>  Todos los archivos de GRUB Stage 2 se encuentran en el <code>/boot/grub2</code> y en varios subdirectorios.  GRUB2 no tiene un archivo de imagen como en los pasos 1 y 2. En su lugar, se compone principalmente de m√≥dulos de kernel en tiempo de ejecuci√≥n, que se cargan desde el directorio <code>/boot/grub2/i386-pc</code> seg√∫n sea necesario. <br><br>  La tarea de GRUB2 etapa 2 es detectar y cargar el kernel de Linux en la RAM y transferir el control del control de la computadora al kernel.  El n√∫cleo y sus archivos asociados se encuentran en el directorio <code>/boot</code> .  Los archivos del n√∫cleo son f√°ciles de reconocer, ya que sus nombres comienzan con vmlinuz.  Puede enumerar el contenido del directorio <code>/boot</code> para ver los n√∫cleos actualmente instalados en su sistema. <br><br>  GRUB2, como GRUB1, admite la carga de uno de varios n√∫cleos de Linux.  El sistema de administraci√≥n de paquetes de Red Hat admite el almacenamiento de m√∫ltiples versiones del kernel para que pueda cargar la versi√≥n anterior del kernel en caso de problemas con la √∫ltima.  Por defecto, GRUB proporciona un men√∫ precargado de n√∫cleos instalados, incluida la opci√≥n de rescate y, despu√©s de la configuraci√≥n, la opci√≥n de recuperaci√≥n. <br><br>  Etapa 2 GRUB2 carga el kernel seleccionado en la memoria y transfiere el control del control de la computadora al kernel. <br><br>  <b>El n√∫cleo</b> <br><br>  Todos los n√∫cleos est√°n en un formato comprimido autoextra√≠ble para ahorrar espacio.  Los n√∫cleos se encuentran en el directorio <code>/boot</code> , junto con la imagen del disco RAM original y una lista de particiones en los discos duros. <br><br>  Despu√©s de que el kernel seleccionado se carga en la memoria y comienza a ejecutarse, en primer lugar, debe extraerse de la versi√≥n comprimida del archivo antes de comenzar a hacer un trabajo √∫til.  Una vez que se ha producido la extracci√≥n, carga <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">systemd</a> , que es un reemplazo para el antiguo programa de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">inicio SysV</a> , y le transfiere el control. <br><br>  Este es el final del proceso de arranque del kernel.  En este punto, el kernel de Linux y systemd se est√°n ejecutando, pero no pueden realizar tareas √∫tiles para el usuario final, ya que no hay nada m√°s que hacer. <br><br>  <b>Proceso de inicio del sistema</b> <br><br>  El proceso de inicio del sistema sigue el proceso de arranque del kernel y pone en funcionamiento la computadora Linux. <br><br>  <b>systemd</b> <br><br>  systemd es el padre de todos los procesos responsables de llevar el host Linux a un estado eficiente.  Algunas de sus funciones, m√°s extensas que las presentadas en el antiguo programa de inicializaci√≥n, deben administrar muchos aspectos del host Linux en ejecuci√≥n, incluido el montaje del sistema de archivos, el inicio y la administraci√≥n de los servicios del sistema necesarios para que el host Linux funcione de manera eficiente.  Todas las tareas de systemd que no est√°n relacionadas con el proceso de inicio del sistema est√°n fuera del alcance de la discusi√≥n en este art√≠culo. <br><br>  Primero, systemd monta los sistemas de archivos como se define en <code>/etc/fstab</code> , incluidos los archivos de intercambio y las particiones.  En este punto, puede acceder a los archivos de configuraci√≥n ubicados en <code>/etc</code> , incluido el suyo.  Utiliza su propio archivo de configuraci√≥n <code>/etc/systemd/system/default.target</code> para determinar el destino para el que cargar el host.  El archivo default.target es solo un enlace simb√≥lico al archivo de destino real.  Para una estaci√≥n de trabajo de escritorio, esto suele ser graphical.target, equivalente al nivel de ejecuci√≥n 5 en el antiguo inicializador SystemV.  Para el servidor, es probable que el valor predeterminado sea multi-user.target, similar al nivel de ejecuci√≥n 3 en SystemV.  emergency.target es similar al modo de usuario √∫nico. <br><br>  Tenga en cuenta que los objetivos y los servicios son unidades systemd. <br><br>  La Tabla 1 a continuaci√≥n es una comparaci√≥n de todos los objetivos systemd con los antiguos niveles de ejecuci√≥n en SystemV.  Los alias de destino de Systemd son proporcionados por systemd para compatibilidad con versiones anteriores.  Los alias de destino permiten que los scripts, y muchos administradores de sistemas, incluido yo, utilicen comandos de SystemV como init3 para cambiar los niveles de ejecuci√≥n.  Por supuesto, los comandos de SystemV son dirigidos por systemd para su interpretaci√≥n y ejecuci√≥n. <br><div class="scrollable-table"><table><tbody><tr><th>  Nivel de ejecuci√≥n de Systemv </th><th>  <nobr>objetivo systemd</nobr> </th><th>  alias de <nobr>destino systemd</nobr> </th><th>  Descripci√≥n </th></tr><tr><td></td><td>  alto.target </td><td></td><td>  Suspende el sistema sin apagar la alimentaci√≥n. </td></tr><tr><td>  0 0 </td><td>  poweroff.target </td><td>  runlevel0.target </td><td>  Pausa el sistema y apaga el sistema. </td></tr><tr><td>  S </td><td>  objetivo de emergencia </td><td></td><td>  Modo de usuario √∫nico.  Los servicios no se est√°n ejecutando;  Los sistemas de archivos no est√°n montados.  Este es el nivel m√°s b√°sico de operaci√≥n.  Para la interacci√≥n del usuario con el sistema, solo se inicia el shell de emergencia en la consola principal. </td></tr><tr><td>  1 </td><td>  rescate.target </td><td>  runlevel1.target </td><td>  El sistema base, incluido el montaje del sistema de archivos con el conjunto m√°s b√°sico de servicios y el shell de rescate en la consola principal. </td></tr><tr><td>  2 </td><td></td><td>  runlevel2.target </td><td>  Modo multiusuario, sin NFS, pero todos los servicios que no son GUI se est√°n ejecutando. </td></tr><tr><td>  3 </td><td>  multiusuario.target </td><td>  runlevel3.target </td><td>  Todos los servicios se est√°n ejecutando, pero solo a trav√©s de la interfaz de l√≠nea de comandos (CLI). </td></tr><tr><td>  4 4 </td><td></td><td>  runlevel4.target </td><td>  No utilizado </td></tr><tr><td>  5 5 </td><td>  objetivo gr√°fico </td><td>  runlevel5.target </td><td>  Modo multiusuario con GUI. </td></tr><tr><td>  6 6 </td><td>  reboot.target </td><td>  runlevel6.target </td><td>  Reiniciar </td></tr><tr><td></td><td>  default.target </td><td></td><td>  Este objetivo siempre tiene un enlace simb√≥lico con multi-user.target o graphical.target.  systemd siempre usa default.target para iniciar el sistema.  default.target nunca debe asociarse con halt.target, poweroff.target o reboot.target. </td></tr></tbody></table></div><br>  <i>Tabla 1: Comparaci√≥n de los niveles de control de SystemV con objetivos systemd y algunos alias de objetivos.</i> <br><br>  Cada objetivo tiene un conjunto de dependencias descritas en el archivo de configuraci√≥n.  systemd ejecuta los necesarios.  Estas dependencias son los servicios necesarios para ejecutar un host Linux con un cierto nivel de funcionalidad.  Cuando se cargan e inician todas las dependencias enumeradas en los archivos de configuraci√≥n de destino, el sistema funciona en este nivel de destino. <br><br>  systemd tambi√©n escanea directorios de inicializaci√≥n de SystemV obsoletos en busca de archivos de inicio.  Si lo est√°n, systemd los usa como archivos de configuraci√≥n para ejecutar los servicios descritos en los archivos.  Un servicio de red desactualizado es un buen ejemplo de uno que todav√≠a usa archivos de inicio de SystemV en Fedora. <br><br>  La figura 1 a continuaci√≥n se copia directamente de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">p√°gina principal de</a> arranque.  Muestra la secuencia general de eventos durante el inicio de systemd y los requisitos b√°sicos para garantizar su √©xito. <br><br>  Los objetivos sysinit.target y basic.target pueden considerarse puntos de control durante el inicio del sistema.  Aunque uno de los objetivos de systemd es ejecutar servicios del sistema en paralelo, hay algunos servicios y objetivos funcionales que deben iniciarse antes que otros.  Estos puntos de control no se pueden pasar hasta que se completen todos los servicios y objetivos que necesitan. <br><br>  Por lo tanto, sysinit.target se logra cuando se completan todas las unidades de las que depende.  Deben completarse todas las siguientes unidades: montar sistemas de archivos, configurar archivos de intercambio, iniciar udev, configurar el estado inicial del generador de n√∫meros aleatorios, inicializar servicios de bajo nivel, configurar servicios criptogr√°ficos si al menos un sistema de archivos est√° encriptado.  En sysinit.target se pueden ejecutar en paralelo. <br>  sysinit.target ejecuta todos los servicios y unidades de bajo nivel necesarios para la funcionalidad m√≠nima del sistema, y ‚Äã‚Äãlos necesarios para acceder a basic.target. <br><br><img src="https://habrastorage.org/webt/gx/k_/yj/gxk_yjpanfeksjnoiyfxob5bqlw.png"><br>  <i>Figura 1. Mapa de inicio de Systemd</i> <br><br>  Despu√©s de ejecutar sysinit.target, systemd inicia basic.target, comenzando con todas las unidades necesarias para ejecutarlo.  El objetivo b√°sico proporciona una funcionalidad adicional al iniciar las unidades necesarias para el pr√≥ximo objetivo, incluida la configuraci√≥n de rutas a varios directorios ejecutables, tomas de comunicaci√≥n y temporizadores. <br><br>  Finalmente, puede comenzar a inicializar objetivos a nivel de usuario: multi-user.target o graphical.target.  Vale la pena se√±alar que se debe alcanzar el objetivo multiusuario antes de ejecutar las dependencias del objetivo gr√°fico. <br><br>  Los objetivos subrayados en la Figura 1 son objetivos de inicio t√≠picos.  El inicio del sistema finaliza cuando se alcanza uno de ellos.  Si multi-user.target es el objetivo predeterminado, en la consola ver√° el inicio de sesi√≥n en modo texto.  Si se especifica graphical.target de manera predeterminada, ver√° un inicio de sesi√≥n gr√°fico;  La GUI de la pantalla de inicio de sesi√≥n depende del administrador de pantalla que est√© utilizando. <br><br>  <b>Los problemas</b> <br><br>  Recientemente tuve que cambiar el kernel de arranque predeterminado en una computadora Linux que usaba GRUB2.  Encontr√© que algunos comandos dejaron de funcionar correctamente o los us√© de alguna manera incorrecta.  Todav√≠a no s√© cu√°l era el problema, llevar√° m√°s tiempo investigarlo. <br><br>  El comando grub2-set-default configur√≥ incorrectamente el √≠ndice de kernel predeterminado en el <code>/etc/default/grub</code> , por lo que no se carg√≥ el kernel alternativo deseado.  Cambi√© manualmente <code>/etc/default/grub GRUB_DEFAULT=saved</code> en <code>GRUB_DEFAULT=2</code> , donde 2 es el √≠ndice del kernel instalado que quer√≠a ejecutar.  Luego, ejecut√© el <code>grub2-mkconfig &gt; /boot/grub2/grub.cfg</code> para crear un nuevo archivo de configuraci√≥n de grub.  Este truco funcion√≥ y se lanz√≥ un kernel alternativo. <br><br>  <b>Conclusiones</b> <br><br>  GRUB2 y el sistema de inicializaci√≥n systemd son componentes clave para las fases de arranque del sistema y arranque del sistema de la mayor√≠a de las distribuciones modernas de Linux.  A pesar de las contradicciones, especialmente en torno a systemd, estos dos componentes funcionan bien juntos para cargar el kernel y ejecutar todos los servicios del sistema necesarios para crear un sistema Linux funcional. <br>  Aunque considero que GRUB2 y systemd en general son m√°s complejos que sus predecesores, no son m√°s dif√≠ciles de dominar y administrar.  Los manuales contienen mucha informaci√≥n sobre systemd, y en freedesktop.org se presenta la lista completa de sus p√°ginas.  Para obtener m√°s informaci√≥n, consulte los siguientes enlaces: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GNU GRUB</a> (Wikipedia) </li><li>  Manual de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GNU GRUB</a> (GNU.org) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Registro maestro de arranque</a> (Wikipedia) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Especificaci√≥n de arranque m√∫ltiple</a> (Wikipedia) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">systemd</a> (Wikipedia) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">proceso de arranque de systemd</a> (Freedesktop.org) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">√≠ndice systemd de p√°ginas man</a> (Freedesktop.org) </li></ul><br><br>  Eso es todo  Estamos esperando preguntas y comentarios aqu√≠ o pueden hacerse directamente en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">una lecci√≥n abierta</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es424761/">https://habr.com/ru/post/es424761/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es424747/index.html">El lugar donde vive el sonido.</a></li>
<li><a href="../es424751/index.html">C√≥mo funciona el sistema biom√©trico unificado</a></li>
<li><a href="../es424753/index.html">Novedades de YouTrack 2018.3</a></li>
<li><a href="../es424755/index.html">El dinero ama la factura: c√≥mo los autos clasifican las facturas</a></li>
<li><a href="../es424757/index.html">El resumen de eventos para profesionales de recursos humanos en el campo de TI en octubre de 2018</a></li>
<li><a href="../es424763/index.html">Un editor de texto no es su mejor matem√°tica, aqu√≠ debe pensar</a></li>
<li><a href="../es424765/index.html">Gesti√≥n del estado en aplicaciones Flutter</a></li>
<li><a href="../es424767/index.html">Hacemos un pastel de Habr. De nuevo</a></li>
<li><a href="../es424771/index.html">Experiencia personal: de una idea y una hoja en blanco a una versi√≥n borrador de un sitio</a></li>
<li><a href="../es424773/index.html">Biofarma y modelaci√≥n num√©rica: experiencia y pr√°ctica de Amgen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>