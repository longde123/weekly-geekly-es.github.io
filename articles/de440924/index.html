<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòï üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë® üèµÔ∏è Zweiter Platz im russischen AI Cup 2018: CodeBall ü•Ç üï∑Ô∏è üõ∏</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo allerseits! 

 Ich bin ein Student im dritten Jahr und habe gleich zu Beginn meines Studiums an der Universit√§t etwas √ºber den russischen Ai Cup...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Zweiter Platz im russischen AI Cup 2018: CodeBall</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/440924/"><img src="https://habrastorage.org/webt/af/ae/ow/afaeownubljxqa1m35toussj7si.jpeg" align="left" width="220">  Hallo allerseits! <br><br>  Ich bin ein Student im dritten Jahr und habe gleich zu Beginn meines Studiums an der Universit√§t etwas √ºber den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">russischen Ai Cup</a> und sp√§ter den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mini Ai Cup</a> , Wettbewerbe f√ºr k√ºnstliche Intelligenz, gelernt und begann, aktiv daran teilzunehmen, wobei ich gute Ergebnisse zeigte.  Dieses Mal fiel RAIC direkt in die Sitzung, sodass mich nichts aufhalten konnte :) Und heute m√∂chte ich Ihnen sagen, wie ich es geschafft habe, den zweiten Platz zu belegen. <br><br>  Die Wettbewerbsregeln finden Sie auf der Website des Wettbewerbs sowie in diesem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel</a> .  Link zu meinem Profil: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">russianaicup.ru/profile/TonyK</a> . <br><a name="habracut"></a><br>  Einerseits war die Aufgabe in diesem Jahr den Aufgaben der vergangenen Jahre √§hnlich, und es schien, dass die ideologische L√∂sung den vorherigen sehr √§hnlich sein w√ºrde (Agar IO und Mad Cars);  Nach ungef√§hr einer Woche wird es mir langweilig und ich werde es leid, daran teilzunehmen. <br><br>  Andererseits habe ich verstanden, dass ich in fr√ºheren Wettbewerben mit Physik viel gelernt habe und jetzt kann ich diese Erfahrung anwenden, nicht auf den alten Rechen treten und am Ende ein besseres Ergebnis zeigen. <br><br>  F√ºr die Visualisierung habe ich beschlossen, gen√ºgend Projektionen auf verschiedenen Achsen zu haben oder in einem bestimmten Winkel anzuzeigen.  Aber ich habe mich sehr geirrt, und wenn es nicht den in Local Runner integrierten Magic Visualizer g√§be, den die Organisatoren sp√§ter hinzuf√ºgten, m√ºsste ich mir 3D-Visualizer von den freundlichen Teilnehmern ausleihen, die die Beta-Testphase damit verbracht haben, sie zu schreiben und sie √∂ffentlich zug√§nglich zu machen. <br><br>  Diesmal war der Pseudocode des Simulators verf√ºgbar, der die M√∂glichkeiten derer ausbalancierte, die wussten, wie man Physik umkehrt und einen coolen Bot schreibt, und derer, die die Physik nicht umkehren konnten, aber auch einen starken Bot schreiben konnten.  Ich denke, das war eine gute Entscheidung der Organisatoren. <br><br>  Als erstes habe ich den Simulatorcode aus der Dokumentation in C ++ neu geschrieben und dann die Zeit des Simulators auf meinem alten Computer und auf dem Server gemessen.  Im zweiten Fall stellte sich heraus, dass es doppelt so schnell war, obwohl dies erwartet wurde.  Ich dachte mir, wie oft und bis zu welcher Tiefe ich simulieren k√∂nnte.  Es wurde sofort klar, dass man die ehrliche Simulation von 100 Mikrotiken vergessen musste (auf dem Server wurde ein Tick Physik in 100 ‚ÄûMikrotiken‚Äú unterteilt), und es w√§re notwendig, Probleme mit Genauigkeit auf Umwegen zu l√∂sen. <br><br>  Aufgrund der Tatsache, dass die Shell so angeordnet war, dass die Aktionsanforderung f√ºr jeden Roboter bei jedem Tick separat aufgerufen wird, habe ich eine einfache Logik implementiert: In dem Moment, in dem der erste Roboter nach einer Aktion gefragt wird, findet das Programm Aktionen f√ºr alle Roboter, merkt sich und gibt die Aktion des ersten, und wenn die Aktion von den anderen Robotern verlangt wird, gibt sie zur√ºck, woran sie sich erinnert. <br><br>  Ich war ungeduldig, den Bot bald in die Schlacht zu schicken.  Ich beschloss, zuf√§llige Trajektorien zu generieren und die beste auszuw√§hlen.  Gleichzeitig wollte er, dass das generierte Set es erm√∂glicht, einige komplexe Aktionen auszuf√ºhren, z. B. von der rechten Seite um den Ball herumzugehen und dann zu schlagen. <br><br>  Eine Flugbahn ist ein Aktionsplan.  Anf√§nglich war die Flugbahn folgende: <br><br><ul><li>  Stellen Sie die Aktion in einem zuf√§lligen Winkel ein. </li><li>  √Ñndern Sie bei einem zuf√§lligen H√§kchen der Flugbahn den Winkel in einen anderen zuf√§lligen. </li><li>  Springe einmal in einen zuf√§lligen Tick der Flugbahn. </li></ul><br>  Ein solcher Raum von Trajektorien war gut f√ºr die zuf√§llige Suche mit der Anzahl von Simulationen geeignet, die ich (und wahrscheinlich jeder zu dieser Zeit) mit dem Rohsimulator aus der Dokumentation leisten konnte.  Gute Flugbahnen wurden oft erraten, und da die beste Flugbahn des vorherigen Ticks erhalten blieb, stellte sich heraus, dass die Suche zeitlich gestreckt war. <br><br>  Alle Objekte wurden in den Simulator gelegt: meine Roboter, die Roboter des Gegners und der Ball.  Die Bewertung war die einfachste: die Summe der Entfernungen vom Ball zum feindlichen Tor an allen Punkten der Flugbahn und die gro√üen Werte f√ºr das Tor f√ºr jemanden.  Simulationstiefe 200 Ticks.  Feinde werden mit ihrer letzten Geschwindigkeit vorhergesagt. <br><br><img src="https://habrastorage.org/webt/6p/n1/-f/6pn1-ft3htl0ohqjsqkcb3dvcfm.png"><br><br>  Ich habe sofort eine separate Aktion f√ºr den zweiten Roboter hinzugef√ºgt sowie den Sprung erzwungen, wenn w√§hrend des Fluges kein Kontakt mit dem Ball bestand, um nicht umsonst zu springen.  Gleichzeitig hatten meine Roboter mehr als die H√§lfte der Zeit und kannten die beste Flugbahn des anderen.  Jetzt haben die ersten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Tore</a> f√ºr starke Gegner begonnen, die bereits einen Torh√ºter und eine kompliziertere Logik hatten. <br><br>  Es stellte sich weiter heraus, dass ich nicht die Entfernung zu den feindlichen Toren ber√ºcksichtigte, sondern den Punkt zur Seite der Mitte des Feldes ( <code>x</code> und <code>z</code> ), aber dies hatte keinerlei Einfluss auf die Strategie.  Es ist gut, dass es nach der Korrektur nicht schlimmer wurde.  Dies passiert oft, wenn Sie einen Bot schreiben. <br><br>  Dann f√ºgte er den Torh√ºter hinzu, indem er die Punktzahl √§nderte: Er verh√§ngte eine Strafe f√ºr den Ball in meiner H√§lfte des Feldes und f√ºr das Tor f√ºr mich und sch√§tzte auch die Entfernung vom Torh√ºter zu meinem Tor.  Jetzt stand der Torh√ºter am Tor und schlug den Ball aus.  Eine wichtige Optimierung war, dass, wenn sich der Ball nicht in meiner H√§lfte des Feldes befindet, 90% der Zeit dem Angreifer und 10% des Torh√ºters gegeben werden, ansonsten 50%. <br><br>  Die Bewertung der Flugbahnen der Roboter an jedem Punkt wurde mit 0,9 ^ Tiefe multipliziert. Ich habe diesen Koeffizienten empirisch abgeleitet, wie die gesamte Bewertung.  Die Werte der Koeffizienten √§nderten sich lange Zeit nicht nach dem Prinzip "es funktioniert, okay". <br><br>  Er begann <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">die</a> Spitzen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">zu gewinnen</a> und stieg schnell in der Rangliste auf.  Die Beta-Phase ist vorbei. <br><br>  Lange Zeit hatte ich keine Ahnung von der Strategie, die Versionen waren bemerkenswert f√ºr kleinere √Ñnderungen, Fehlerkorrekturen (es stellte sich heraus, dass ich die durchschnittliche R√ºckprallst√§rke als <code>(MAX_HIT_E - MIN_HIT_E) / 2</code> ) und optimierten auch den Simulator.  Eine wichtige Rolle spielte die Anzahl der Trajektorien, die ich pro Tick aussortieren konnte, daher konzentrierte ich mich auf die Optimierung.  Nebenh√∂hlen und Quadratwurzeln entfernt.  Es wurde eine unwahrscheinliche Geschwindigkeit von Null auf der Flugbahn vor oder nach dem √Ñndern des Winkels hinzugef√ºgt.  Leicht ver√§nderte Wertung. <br><br>  Die 16. Version <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">blieb</a> lange Zeit an der Spitze der Tabelle, aber eine Woche nach dem Ende des Beta-Tests begannen erwartungsgem√§√ü viele <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">zu gewinnen</a> . <br><br><img src="https://habrastorage.org/webt/nd/mi/1v/ndmi1vn6qa2rshoih_ufarabuj0.jpeg" align="left">  Ich habe versucht, die Flugbahn mit der Summe der engsten Entfernungen vom Feind zum Ball zu verfeinern, und ich habe ein sehr interessantes Verhalten festgestellt.  Wenn meine Roboter nicht gewinnbringend treffen konnten, blockierten sie oft Feinde, brachen ihre Flugbahn und hinderten sie daran, zum Ball zu rennen. Manchmal stellte sich heraus, dass dies sehr erfolgreich und heimt√ºckisch war. <br><br>  Als n√§chstes habe ich die Genauigkeit beim Springen korrigiert.  Wenn jemand auf den aktuellen Tick springt, machen wir zuerst zweimal 1 Mikrotik und dann die restlichen 98 Mikrotik. Ich habe auch versucht, den Genauigkeitsverlust mit einem heuristischen Koeffizienten zu kompensieren, wenn die maximale Geschwindigkeit bei einigen Mikrotik erreicht ist.  Verbesserungen haben <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">sehr</a> geholfen und es gab genauere, vorberechnete Treffer. <br><br>  Zu diesem Zeitpunkt begann ich, auf der Site unter den Debugging-Informationen die Anzahl der Iterationen anzuzeigen, die ich abgeschlossen habe.  Es gab 250 von ihnen bei 200 Ticks, insgesamt hatte ich 50.000 Ticks Simulationen w√§hrend der Zeit, die f√ºr meine Strategie pro Tick vorgesehen war. <br><br>  Dann schaltete ich die Mutationstrajektorien ein.  Dies hat die Strategie erheblich verbessert.  In ungef√§hr der H√§lfte aller Iterationen wurde nicht die neue Trajektorie verwendet, sondern die beste mit leicht ver√§nderten Werten, die es erm√∂glichte, beispielsweise irgendwo auf ein lokales Maximum zu konvergieren.  Es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">stellte sich damals</a> als <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">starke</a> Strategie heraus, die ich bis zur ersten Runde verlassen wollte, obwohl es noch zwei Wochen dauerte.  Aber nach ein paar Tagen h√∂rte sie auf, die Spitze zu dominieren. <br><br>  Ich habe einige Zeit damit verbracht, mich von der v√∂lligen Zuf√§lligkeit zu l√∂sen. Zum Beispiel habe ich mit einer tern√§ren Suche versucht, den Winkel zu finden, in dem der Roboter beschleunigen muss, um den Ball zu treffen.  Dies hat jedoch nicht immer funktioniert, und ich habe nicht herausgefunden, wie ich diese Idee weiterentwickeln kann. <br><br>  Meine Roboter wussten nur einmal pro Flugbahn zu springen, aber als sie am Boden waren und springen wollten und dann den Ball in die Luft schlugen, wussten sie nicht, dass man beim Ber√ºhren des Balls ein zweites Mal springen und dadurch den Ball hart treffen kann nicht nur schieben. <br><br>  Dies wurde behoben, und jetzt rollte der Simulator, als er bemerkte, dass jemand den Ball beim aktuellen Tick schlagen konnte, einen Tick zur√ºck und zwang den Roboter, mit maximaler Kraft zu springen.  Jetzt stand der Roboter auf dem Boden und wusste, dass er vom Boden absto√üen und nicht nur schieben, sondern den Ball mit einem zweiten Sprung treffen w√ºrde. <br><br>  Ich verstand, dass, wenn Nitro und ein weiterer Roboter hinzugef√ºgt wurden, alles aufgrund fehlender Iterationen verbogen werden w√ºrde.  Auch an verschiedenen Orten hatte ich gro√üe Probleme mit der Genauigkeit, die ich nicht l√∂sen konnte.  Ich habe keine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">analytischen L√∂sungen</a> oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">intelligenten Managementmethoden gesehen</a> . <br><br>  Ich brauchte entweder eine v√∂llig neue Strategie oder einen magischen Simulator, der Genauigkeit und Geschwindigkeit kombiniert und mir im Endstadium gen√ºgend Flugbahnen zur Verf√ºgung stellt, um sie zu wiederholen.  Ich habe mir (√ºberraschenderweise) keine neue Strategie ausgedacht und angefangen, an einem Simulator zu arbeiten. <br><br><h2>  "Smart Simulator" </h2><br>  Als erstes wollte ich mich mit Genauigkeit befassen. <br><br>  Ich habe 100 Mikrotiks gleichzeitig simuliert, obwohl bei einem dieser hundert Mikrotiks eine Kollision - oder ein anderes Ereignis - aufgetreten ist.  Wenn Sie dies ignorieren, kollidieren Objekte sp√§ter als in der Realit√§t (immer auf der 100. Mikrotik) und springen daher anders.  Gegen Ende der Flugbahn kann dieser kleine Fehler zu einer gro√üen Ungenauigkeit f√ºhren.  Zum Beispiel denken wir, dass der Ball das gegnerische Tor trifft, aber in Wirklichkeit wird er vom Pfosten <s>in unseren</s> springen. <br><br>  Es ist leicht zu erkennen, dass in einer Situation, in der eine Kollision mit der <code>i</code> ten Mikrotik auftritt, anstatt alle 100 Mikrotiken zu z√§hlen, es ausreicht, die ersten <code>i - 1</code> Mikrotiken gleichzeitig zu z√§hlen (tats√§chlich wird der Physikschritt f√ºr eine bestimmte Zeit <code>dt</code> ber√ºcksichtigt, und jetzt wird dies sein <code>t * (i - 1)</code> , wobei <code>t</code> die Zeit ist, die einer Mikrotik entspricht).  Jetzt m√ºssen Sie 1 Mikrotik ( <code>dt = t</code> ) und die verbleibenden <code>100 - i</code> Mikrotik simulieren.  Wir erhalten genau das gleiche Ergebnis in nur drei Simulationen anstelle von hundert.  Das einzige Problem ist, dass wir nicht wissen, auf welcher Mikrotik die Kollision auftreten wird. <br><br>  Wenn wir uns auf einem festen Punkt der Simulation befinden, k√∂nnen wir in einer Simulation eine beliebige Anzahl von Mikrotiken von 1 bis 100 erstellen und pr√ºfen, ob eine Kollision vorliegt oder nicht.  In diesem Fall sieht das Bild folgenderma√üen aus: Zuerst gibt es keine Ber√ºhrung, aber ab einer bestimmten Anzahl von Mikrotiken und bis zu hundert gibt es eine Ber√ºhrung.  Au√üer in sehr seltenen F√§llen, wenn zuerst kein Kontakt besteht, ber√ºhrt ein Teil der Mikrotik und dann wieder keine Ber√ºhrung. <br><br>  Daher ist es m√∂glich, die Mikrotik, bei der die Kollision aufgetreten ist, im schlimmsten Fall durch eine bin√§re Suche nach 10 Simulationen zu finden.  Und wie bereits beschrieben, k√∂nnen Sie f√ºr drei Simulationen den Zustand der Welt durch 100 Mikrotik mit perfekter Genauigkeit ermitteln. <br><br>  Tats√§chlich gab es neben einer Kollision mehrere andere Arten von Ereignissen, und mehrere k√∂nnten in einem Tick aufgetreten sein, sodass sich nur das erste Ereignis in einer Dichotomie befand, das zweite Ereignis sich auf dem verbleibenden Suffix der Tick-Dichotomie befand und so weiter.  Daher wurde ein Tick als Segmente mehrerer Mikrotik pro Simulation betrachtet, bis alle Ereignisse gez√§hlt wurden. <br><br>  So wurden die Probleme mit Genauigkeit gel√∂st.  Aufgrund der Tatsache, dass die Simulation 5 Objekte enthielt und nach den endg√ºltigen Regeln 7 h√§tte sein m√ºssen, und alle st√ºrzten h√§ufig ab, wurden Dichotomien im Durchschnitt zu oft aufgerufen, und dies funktionierte unerschwinglich lange.  Daher ging ich zur zweiten Stufe der Entwicklung des Simulators √ºber - der Optimierung. <br><br>  Wenn die Flugbahn eines der Roboter √ºberwunden ist, bewegen sich nat√ºrlich alle anderen Objekte, gegen die dieser Roboter st√∂√üt, nicht jedes Mal gleich.  Es ist klar, dass eine Neuberechnung ihrer Zust√§nde mit einem Simulator - beispielsweise die Berechnung schwerer Kollisionen mit der Arena - nicht erforderlich ist. <br><br>  Bevor Sie die Trajektorien f√ºr einen bestimmten Roboter aussortieren, reicht es aus, die verbleibenden Objekte zu jedem Zeitpunkt ehrlich zu simulieren und f√ºr die verbleibenden Objekte zu speichern und diese Zust√§nde dann einfach aus dem Speicher zu nehmen.  Wir nennen solche Objekte statisch, und ein Roboter, nach dem die Flugbahn sortiert ist, ist dynamisch. <br><br>  Wenn pl√∂tzlich ein dynamisches Objekt ein statisches Objekt beeinflusst (eine Kollision hat), f√ºgen wir dieses statische Objekt bis zum Ende der Simulation der aktuellen Trajektorie zu den dynamischen hinzu.  Tats√§chlich wird beim Speichern von Zust√§nden f√ºr statische Objekte ein Diagramm der gegenseitigen Einfl√ºsse erstellt und dann verwendet, um statische Objekte korrekt auf dynamische Objekte zu √ºbertragen.  Zum Beispiel hat ein feindlicher Roboter den Ball getroffen, und wir haben einen Pfad generiert, auf dem wir den feindlichen Roboter niederschlagen, bevor er den Ball trifft.  Jetzt fliegt der Ball weiter und w√§hrend der Simulation, wenn der feindliche Roboter zu dynamischen Objekten hinzugef√ºgt wird, muss beachtet werden, dass der Ball etwas sp√§ter zu den dynamischen Objekten hinzugef√ºgt werden sollte, an dem Punkt, an dem der feindliche Roboter den Ball schlagen w√ºrde, wenn wir ihn nicht st√∂ren w√ºrden .  Im allgemeinen Fall erfolgt dies rekursiv gem√§√ü dem Einflussgraphen. <br><br><img src="https://habrastorage.org/webt/ey/fr/cj/eyfrcjzg0s28o3fjqgberru64bm.jpeg"><br><br>  Jetzt berechnet der Simulator nicht alle Objekte, sondern nur dynamische, und dies sind im Durchschnitt eineinhalb statt sieben Objekte, und lange Dichotomien werden viel seltener verwendet.  Es stellte sich sehr schnell heraus und muss im Finale nicht mehr mit zus√§tzlichen Robotern leiden - cool! <br><br>  Die 26. Version mit einem neuen Simulator und einer von 200 auf 100 reduzierten Simulationstiefe wurde in der ersten Runde zum Spielen geschickt.  Aber es enthielt einige Fehler, und es gab keinen offensichtlichen Vorteil. <br><br>  Das letzte Problem mit der Genauigkeit blieb bestehen: Bewegung entlang der Rundung der Arena.  In diesem Fall ist es zur Erzielung einer absoluten Genauigkeit erforderlich, 100 Mikrotik ehrlich zu z√§hlen.  Die L√∂sung war √ºberraschend einfach: Springen Sie immer von allen Oberfl√§chen au√üer dem Boden.  Keine Rundung - kein Problem. <br><br>  Au√üerdem habe ich einige Zeit optimiert, entkr√§ftet und bei Spielen mit intelligenteren Strategien neue Bewertungskonstanten gefunden.  Es ist viel besser geworden, die Strategie ist in der Rangliste hoch gestiegen und die 37. Version hat die beste Zeit aller meiner Strategien in der Sandbox vor dem Finale erzielt. <br><br>  Von diesem Zeitpunkt an mietete ich eine 32-Kern-Maschine in einem Cloud-Dienst, um meine Strategien gegeneinander auszuf√ºhren, und begann viel mit allem hintereinander zu experimentieren.  Die Konstanten wurden ge√§ndert.  Ich habe versucht, meine eigene Strategie zu verwenden, um die Aktionen des Feindes vorherzusagen, aber dies hat selbst in Spielen gegen meine Strategie nicht geholfen. <br><br>  Durch L√∂sen der Gleichung lernte er, die letzte Aktion des Feindes zu berechnen und begann, sein weiteres Verhalten vorherzusagen.  Unterst√ºtzung f√ºr Nitro hinzugef√ºgt: F√ºr die Aktion wird ein zuf√§lliger Punkt auf der Oberfl√§che der Kugel ausgew√§hlt.  Viele kleinere √Ñnderungen vorgenommen.  Aber es gab keine gro√üen Fortschritte.  Zu Beginn der zweiten Runde gewannen mich stetig 4-5 Tops <br><br>  Trotzdem verzweifelte ich nicht.  Ich hatte zwei Verbesserungen, die ich vor dem Finale umsetzen wollte, und ich hoffte, dass sie die Strategie erheblich verbessern w√ºrden.  Ich beschloss, sie nicht in Angriff zu nehmen, bis die Sandbox gem√§√ü den endg√ºltigen Regeln gestartet war, und stattdessen Zeit damit zu verbringen, das zu debuggen und zu optimieren, was bereits getan wurde, um die Wahrscheinlichkeit b√∂ser Fehler in der letzten Woche zu minimieren, wenn jede Minute z√§hlt. <br><br>  Die letzte Woche vor dem Finale begann. <br><br>  Die erste Verbesserung, die ich gemacht habe, war diese.  In Spielen entstehen im Allgemeinen die meisten meiner Probleme und jede andere Strategie, wenn der Gegner den Ball in Besitz nimmt.  Er schl√§gt ihn irgendwie, geht im Allgemeinen vorbei - kontrolliert.  In diesem Fall ist es unm√∂glich, die Flugbahn des Balls vorherzusagen und einige profitable Aktionen weiter zu planen. Es bleibt ‚Äûwas auch immer‚Äú zu tun, bis der Gegner einen Fehler macht und die Kontrolle √ºber den Ball auf meine Roboter √ºbertr√§gt.  Und danach m√ºssen Sie versuchen, keine solchen Aktionen auszuf√ºhren, die dazu f√ºhren k√∂nnten, dass der Ball wieder beim Feind ist. <br><br>  Mit anderen Worten, zum Zeitpunkt der Planung der Flugbahn m√∂chte ich die m√∂glichen Positionen der Gegner ber√ºcksichtigen und versuchen, den Ball dort nicht zu treffen.  Ich entschied mich f√ºr ein vierdimensionales Potentialfeld (die ersten drei Dimensionen sind die Koordinaten, die Seite der W√ºrfel entspricht dem Durchmesser des Roboters und die vierte Dimension ist die Zeit), das ich ausf√ºllen werde, um zuf√§llige feindliche Flugbahnen zu erzeugen. <br><br>  Sp√§ter, als ich die Flugbahn f√ºr meinen Roboter auswertete, berechnete ich die Summe aller W√ºrfel, die den Ball zu den entsprechenden Zeitpunkten √ºberquerten, und multiplizierte sie mit einem Koeffizienten, der alle anderen Werte bei der Wertung √ºbersteigt.  Das hei√üt, das potenzielle Feld wurde mit der h√∂chsten Priorit√§t nach dem Ziel ber√ºcksichtigt.  Es erlaubte auch, Feinde nach den ersten 30 Ticks aus der Simulation zu entfernen (der Feind konnte w√§hrend dieser Zeit am Boden alles tun, und solche entfernten ungenauen Vorhersagen st√∂rten nur), wenn sie nicht in der Luft waren (es schien, als w√§re niemand drin Luft, um die Flugbahn auf komplexe Weise mit Nitro zu ver√§ndern). <br><br>  Durch die Erzeugung zuf√§lliger Flugbahnen f√ºr den Feind konnte die Mindestzeit ermittelt werden, die er zum Schlagen des Balls ben√∂tigte.  Dieser Wert war n√ºtzlich, um das Problem mit den fr√ºhen Spr√ºngen meines Torh√ºters aus dem Tor zu l√∂sen.  Viele Tore wurden mir erzielt, weil mein Torh√ºter fr√ºh sprang und unkontrollierbar in der Luft wurde.  Danach sagte der Feind leicht voraus, wie mein Torh√ºter fliegen w√ºrde, und √§nderte, wenn er konnte, die Flugbahn des Balls, bevor mein Torh√ºter ihn erreichte.  Jetzt habe ich den Torwartsprung abgebrochen, wenn der Feind den Ball fr√ºher schlagen kann, als mein Torh√ºter vorhat. <br><br><img src="https://habrastorage.org/webt/00/p5/e5/00p5e59dlcqljg9ags7vttdyohy.jpeg"><br><br>  Es stellte sich heraus, dass es ohne signifikanten Schaden an der Strategie m√∂glich ist, die Flugbahn nicht f√ºr jeden Tick, sondern durch einen zu berechnen.  Durch die Halbierung der Laufzeit habe ich dadurch die durchschnittliche Anzahl der Iterationen verdoppelt.  Hier passiert etwas Magie.  Es scheint, dass sich die durchschnittliche Anzahl der Iterationen nicht √§ndert, wenn wir die Trajektorien jedes zweiten Ticks z√§hlen und die Anzahl der Iterationen verdoppeln.  Tats√§chlich z√§hlt der Simulator jedoch zwei Ticks (200 Mikrotiks) pro Simulation anstelle von einem.  Und die Trajektorien werden bereits 50 und nicht 100 tief sein. Deshalb wird sich die durchschnittliche Anzahl der Iterationen verdoppeln. <br><br>  Blieb ein paar Tage vor dem Finale.  Obwohl meine Strategie aufgrund der guten Ballkontrolle weniger Tore zu kassieren begann, begann ich nicht besser zu punkten.  Deshalb musste ich sie bald mit einem Koeffizienten f√ºr das Tor eines Gegners motivieren.  Je schneller ein Tor erzielt wird, desto gr√∂√üer ist das Verh√§ltnis.  Und dieser Koeffizient w√§chst sehr stark, um den Rest der Wertung zu √ºbertreffen und keine Angst vor dem potenziellen Feld zu haben, wenn beispielsweise vor der Wertung noch 10 Ticks √ºbrig sind. <br><br>  Es wurde eine Berechnung hinzugef√ºgt, wohin der Feind Nitro sendet.  Dies wurde mit roher Gewalt mit einem bestimmten Schritt durchgef√ºhrt.  Au√üerdem begann der Torh√ºter, die Reserven an Nitro aufzuf√ºllen, als nichts mein Tor bedrohte. <br><br>  Die zweite wesentliche Verbesserung war die Verwendung von Minimax.  Wenn die Verwendung unterschiedlicher Aufprallkr√§fte f√ºr den Feind w√§hrend der Konstruktion statischer Flugbahnen den Flug des Balls beeinflusst, wurden bei der Suche beide Optionen mit maximaler und minimaler Aufprallkraft des Feindes ber√ºcksichtigt und das Minimum der Sch√§tzungen vorgenommen. <br><br>  Im Finale hatte ich 7 Optionen f√ºr Flugbahnen, als der Roboter am Boden war: <br><br><ul><li>  2 Ecken ohne Sprung; </li><li>  2 Ecken mit einem Sprung; </li><li>  2 Winkel mit Sprung- und Nitro-Codiergeschwindigkeit; </li><li>  2 Winkel mit einem Sprung und Nitro kompensieren die Schwerkraft; </li><li>  1 Ecke mit einem Sprung; </li><li>  1 Winkel mit Sprung- und Nitro-Codiergeschwindigkeit; </li><li>  1 Ecke mit einem Sprung und Nitro gleicht die Schwerkraft aus (wird aufgrund eines Fehlers nicht verwendet, der beim Schreiben eines Artikels bemerkt wird). </li></ul><br>  und zwei Optionen, wenn der Roboter in der Luft ist: <br><br><ul><li>  Nitro zu einem zuf√§lligen Punkt auf der Oberfl√§che der Kugel und zuf√§llige Aufprallkraft; </li><li>  zuf√§llige Aufprallkraft. </li></ul><br>  Einige Stunden vor dem Finale gab es einen Wettbewerb, aber meine Strategie war eindeutig besser.  Es schien, als w√§re bereits alles erledigt, ich hatte nicht l√§nger als einen Tag geschlafen und nichts hing von mir ab.  Es blieb zu beobachten.  Zwei Stunden vor dem Finale schickte Andrei seinen frisch gebackenen Gral und gewann erfolgreich den ersten Platz.  Die Geschichte seiner Teilnahme finden Sie hier: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">habr.com/de/post/440398</a> . <br><br>  In der Pause zwischen den Phasen des Finales f√ºgte ich ein potenzielles Feld hinzu, das den Ball unabh√§ngig von allem anderen von meinem Tor wegdr√ºckte, und dies schien mir, wie es mir schien, mit Andrei gleichzusetzen.  Aber es war schon sp√§t, denn ich habe in der ersten Halbzeit 7 Punkte verloren und selbst 3/3 Siege in der zweiten Halbzeit waren nicht genug. <br><br>  RAIC ist ein schwieriger Wettbewerb und die Preise werden den Teilnehmern sehr, sehr schwer verliehen.  Wenn ein Teilnehmer an der Spitze des Tisches steht, ist dies f√ºr ihn nicht nur Unterhaltung, sondern ein Kampf.  Beim Schreiben einer starken Strategie sind viele kleine Dinge zu beachten.  Jede getroffene Entscheidung kann das Ergebnis erheblich beeinflussen. <br><br>  Der Quellcode f√ºr die Strategie wird hier verf√ºgbar sein. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de440924/">https://habr.com/ru/post/de440924/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de440914/index.html">Ich habe das Vertrauen in die Industrie verloren, bin ausgebrannt, aber der Kult des Werkzeugs hat mich gerettet</a></li>
<li><a href="../de440916/index.html">Strahlung: Einheiten</a></li>
<li><a href="../de440918/index.html">Sicherheitswoche 08: VFEMail live hacken</a></li>
<li><a href="../de440920/index.html">Implementierung der Benutzeroberfl√§che in iOS: Besser, schneller und skalierbar</a></li>
<li><a href="../de440922/index.html">Wie Level Flow in Uncharted 4 und The Last Of Us funktioniert</a></li>
<li><a href="../de440928/index.html">Bestimmen Sie Ihr Bio-Alter im Profil</a></li>
<li><a href="../de440930/index.html">Ich f√ºhrte hundert Interviews, lehnte Hunderte von Menschen ab - und erst dann lernte ich das Interview</a></li>
<li><a href="../de440932/index.html">Ein bisschen √ºber IT Business Intelligence</a></li>
<li><a href="../de440938/index.html">Warum brauchte Google ein Wissensdiagramm?</a></li>
<li><a href="../de440940/index.html">Redux - √úberarbeitung der Reduzierlogik und -aktionen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>