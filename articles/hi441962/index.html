<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯП╛ ЁЯСйЁЯП╝тАНЁЯФм ЁЯХН PostgreSQL рдореЗрдВ рдЕрдиреБрдХреНрд░рдорд┐рдд - 1 ЁЯУЖ ЁЯО╝ ЁЯСГ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдкрд░рд┐рдЪрдп 
 рд▓реЗрдЦреЛрдВ рдХреА рдпрд╣ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдХрд╛рдлреА рд╣рдж рддрдХ PostgreSQL рдореЗрдВ рдЕрдиреБрдХреНрд░рдорд┐рдд рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИред 

 рдХрд┐рд╕реА рднреА рд╡рд┐рд╖рдп рдХреЛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ рдорд╛рдирд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рд╣рдо рдЙрди рдорд╛рдорд▓реЛрдВ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PostgreSQL рдореЗрдВ рдЕрдиреБрдХреНрд░рдорд┐рдд - 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/postgrespro/blog/441962/"><h1>  рдкрд░рд┐рдЪрдп </h1><br>  рд▓реЗрдЦреЛрдВ рдХреА рдпрд╣ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдХрд╛рдлреА рд╣рдж рддрдХ PostgreSQL рдореЗрдВ рдЕрдиреБрдХреНрд░рдорд┐рдд рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИред <br><br>  рдХрд┐рд╕реА рднреА рд╡рд┐рд╖рдп рдХреЛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ рдорд╛рдирд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рд╣рдо рдЙрди рдорд╛рдорд▓реЛрдВ рдкрд░ рдЪрд░реНрдЪрд╛ рдХрд░реЗрдВрдЧреЗ, рдЬреЛ рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдбреЗрд╡рд▓рдкрд░ рдХреЛ рджрд┐рд▓рдЪрд╕реНрдкреА рд▓реЗрдиреА рдЪрд╛рд╣рд┐рдП рдЬреЛ DBMS рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ: рдЬреЛ рд╕реВрдЪрдХрд╛рдВрдХ рдЙрдкрд▓рдмреНрдз рд╣реИрдВ, рдЙрдирдореЗрдВ рд╕реЗ рдХрдИ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдкреНрд░рдХрд╛рд░ рдХреЗ рдХреНрдпреЛрдВ рд╣реИрдВ, рдФрд░ рдкреНрд░рд╢реНрдиреЛрдВ рдХреЛ рдЧрддрд┐ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдирдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд░реЗрдВред  рд╡рд┐рд╖рдп рдХреЛ рд╢рд╛рдпрдж рдХрдо рд╢рдмреНрджреЛрдВ рдореЗрдВ рдХрд╡рд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЧреЛрдкрдиреАрдпрддрд╛ рдореЗрдВ рд╣рдо рдПрдХ рдЬрд┐рдЬреНрдЮрд╛рд╕реБ рдбреЗрд╡рд▓рдкрд░ рдХреА рдЖрд╢рд╛ рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рдЗрдВрдЯрд░реНрдирд▓ рдХреЗ рд╡рд┐рд╡рд░рдгреЛрдВ рдореЗрдВ рднреА рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВ, рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдРрд╕реЗ рд╡рд┐рд╡рд░рдгреЛрдВ рдХреЛ рд╕рдордЭрдиреЗ рдХреЗ рдмрд╛рдж рдЖрдк рди рдХреЗрд╡рд▓ рджреВрд╕рд░реЗ рдХреЗ рдлреИрд╕рд▓реЗ рдХреЛ рдЯрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ, рдмрд▓реНрдХрд┐ рдирд┐рд╖реНрдХрд░реНрд╖ рднреА рдирд┐рдХрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ рдЕрдкрдиреЗ рдЦреБрдж рдХреЗред <br><br>  рдирдП рдкреНрд░рдХрд╛рд░ рдХреЗ рдЕрдиреБрдХреНрд░рдорд┐рддреЛрдВ рдХрд╛ рд╡рд┐рдХрд╛рд╕ рдХрд╛рд░реНрдпрдХреНрд╖реЗрддреНрд░ рдХреЗ рдмрд╛рд╣рд░ рд╣реИред  рдЗрд╕рдХреЗ рд▓рд┐рдП C рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рднрд╛рд╖рд╛ рдХрд╛ рдЬреНрдЮрд╛рди рд╣реЛрдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ рдФрд░ рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдбреЗрд╡рд▓рдкрд░ рдХреЗ рдмрдЬрд╛рдп рд╕рд┐рд╕реНрдЯрдо рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рдХреА рд╡рд┐рд╢реЗрд╖рдЬреНрдЮрддрд╛ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИред  рдЙрд╕реА рдХрд╛рд░рдг рд╕реЗ рд╣рдо рд▓рдЧрднрдЧ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдЗрдВрдЯрд░рдлреЗрд╕ рдкрд░ рдЪрд░реНрдЪрд╛ рдирд╣реАрдВ рдХрд░реЗрдВрдЧреЗ, рд▓реЗрдХрд┐рди рдХреЗрд╡рд▓ рдЗрд╕ рдмрд╛рдд рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдХрд░реЗрдВрдЧреЗ рдХрд┐ рд░реЗрдбреА-рдЯреВ-рдпреВрдЬрд╝ рдЗрдВрдбреЗрдХреНрд╕ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреНрдпрд╛ рдорд╛рдпрдиреЗ рд░рдЦрддрд╛ рд╣реИред <br><br>  рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ рд╣рдо DBMS рдХреЛрд░ рдФрд░ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдЗрдВрдбреЗрдХреНрд╕ рдПрдХреНрд╕реЗрд╕ рд╡рд┐рдзрд┐рдпреЛрдВ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд <strong>рд╕рд╛рдорд╛рдиреНрдп рдЕрдиреБрдХреНрд░рдордг рдЗрдВрдЬрди рдХреЗ</strong> рдмреАрдЪ рдЬрд┐рдореНрдореЗрджрд╛рд░рд┐рдпреЛрдВ рдХреЗ рд╡рд┐рддрд░рдг рдкрд░ рдЪрд░реНрдЪрд╛ рдХрд░реЗрдВрдЧреЗ, рдЬреЛ PostgreSQL рд╣рдореЗрдВ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЗ рд░реВрдк рдореЗрдВ рдЬреЛрдбрд╝рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдмрдирд╛рддрд╛ рд╣реИред  рдЕрдЧрд▓реЗ рд▓реЗрдЦ рдореЗрдВ рд╣рдо рдХрдХреНрд╖рд╛ рдФрд░ рдСрдкрд░реЗрдЯрд░ рдкрд░рд┐рд╡рд╛рд░реЛрдВ рдЬреИрд╕реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкрд╣реБрдВрдЪ рд╡рд┐рдзрд┐</a> рдФрд░ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЕрд╡рдзрд╛рд░рдгрд╛рдУрдВ рдХреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЗрдВрдЯрд░рдлрд╝реЗрд╕</a> рдкрд░ рдЪрд░реНрдЪрд╛ рдХрд░реЗрдВрдЧреЗред  рдЙрд╕ рд▓рдВрдмреЗ рд▓реЗрдХрд┐рди рдЖрд╡рд╢реНрдпрдХ рдкрд░рд┐рдЪрдп рдХреЗ рдмрд╛рдж рд╣рдо рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░ рдХреЗ рдЕрдиреБрдХреНрд░рдорд┐рддреЛрдВ рдХреА рд╕рдВрд░рдЪрдирд╛ рдФрд░ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдХреЗ рд╡рд┐рд╡рд░рдг рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВрдЧреЗ: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реИрд╢</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдмреА-рдЯреНрд░реА</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЬреАрдПрд╕рдЯреА</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдПрд╕рдкреА-рдЬреАрдЖрдИрдПрд╕рдЯреА</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЬреАрдЖрдИрдПрди</a> рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЖрд░рдпреВрдПрдо</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдмреНрд░рд┐рди</a> рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдмреНрд▓реВрдо</a> ред <br><br><blockquote>  рд╢реБрд░реВ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдореИрдВ рдПрд▓реЗрдирд╛ рдЗрдВрджреНрд░реБрдкрд╕реНрдХрд╛рдпрд╛ рдХреЛ рдЕрдВрдЧреНрд░реЗрдЬреА рдореЗрдВ рд▓реЗрдЦреЛрдВ рдХреЗ рдЕрдиреБрд╡рд╛рдж рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж рджреЗрдирд╛ рдЪрд╛рд╣реВрдВрдЧрд╛ред <br>  рдореВрд▓ рдкреНрд░рдХрд╛рд╢рди рдХреЗ рдмрд╛рдж рд╕реЗ рдЪреАрдЬреЗрдВ рдереЛрдбрд╝реА рдмрджрд▓ рдЧрдИ рд╣реИрдВред  рдореЗрд░реА рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐ рдкрд░ рдЯрд┐рдкреНрдкрдгреА рдЗрд╕ рддрд░рд╣ рдХреА рдЬрд╛рддреА рд╣реИред </blockquote><a name="habracut"></a><br><h2>  рдЗрдВрдбреЗрдХреНрд╕ </h2><br>  PostgreSQL рдореЗрдВ, рдЗрдВрдбреЗрдХреНрд╕ рд╡рд┐рд╢реЗрд╖ рдбреЗрдЯрд╛рдмреЗрд╕ рдСрдмреНрдЬреЗрдХреНрдЯ рд╣реИрдВ рдЬреЛ рдореБрдЦреНрдп рд░реВрдк рд╕реЗ рдбреЗрдЯрд╛ рдПрдХреНрд╕реЗрд╕ рдХреЛ рдЧрддрд┐ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдП рдЧрдП рд╣реИрдВред  рд╡реЗ рд╕рд╣рд╛рдпрдХ рд╕рдВрд░рдЪрдирд╛рдПрдВ рд╣реИрдВ: рдкреНрд░рддреНрдпреЗрдХ рд╕реВрдЪрдХрд╛рдВрдХ рдХреЛ рд╣рдЯрд╛ рджрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рд╕реЗ рд╡рд╛рдкрд╕ рдмрдирд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЖрдк рдХрднреА-рдХрднреА рдпрд╣ рд╕реБрди рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдПрдХ DBMS рдЗрдВрдбреЗрдХреНрд╕ рдХреЗ рдмрд┐рдирд╛ рдХрд╛рдо рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рд╣рд╛рд▓рд╛рдВрдХрд┐ рдзреАрд░реЗ-рдзреАрд░реЗред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ рдорд╛рдорд▓рд╛ рдирд╣реАрдВ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рд╕реВрдЪрдХрд╛рдВрдХ рднреА рдХреБрдЫ рдЕрдЦрдВрдбрддрд╛ рдмрд╛рдзрд╛рдУрдВ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реЗрд╡рд╛ рдХрд░рддреЗ рд╣реИрдВред <br><br>  рд╡рд░реНрддрдорд╛рди рдореЗрдВ, PostgreSQL 9.6 рдореЗрдВ рдЫрд╣ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдкреНрд░рдХрд╛рд░ рдХреЗ рд╕реВрдЪрдХрд╛рдВрдХ рдмрдирд╛рдП рдЬрд╛рддреЗ рд╣реИрдВ, рдФрд░ рдПрдХ рдФрд░ рд╕реВрдЪрдХрд╛рдВрдХ рдПрдХ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрд▓рдмреНрдз рд╣реИ - рд╕рдВрд╕реНрдХрд░рдг 9.6 рдореЗрдВ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдкрд░рд┐рд╡рд░реНрддрди рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рджред  рдЗрд╕рд▓рд┐рдП рдирд┐рдХрдЯ рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдирдП рдкреНрд░рдХрд╛рд░ рдХреЗ рд╕реВрдЪрдХрд╛рдВрдХ рдХреА рдЙрдореНрдореАрдж рдХрд░реЗрдВред <br><br>  рд╕рднреА рдкреНрд░рдХрд╛рд░ рдХреЗ рдЕрдиреБрдХреНрд░рдорд┐рдд (рдЬрд┐рд╕реЗ рдПрдХреНрд╕реЗрд╕ рд╡рд┐рдзрд┐ рднреА рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ) рдХреЗ рдмреАрдЪ рд╕рднреА рдЕрдВрддрд░реЛрдВ рдХреЗ рдмрд╛рд╡рдЬреВрдж, рдЙрдирдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдЕрдВрддрддрдГ рддрд╛рд▓рд┐рдХрд╛ рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рдХреБрдВрдЬреА (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдЕрдиреБрдХреНрд░рдорд┐рдд рд╕реНрддрдВрдн рдХрд╛ рдореВрд▓реНрдп) рдХреЛ рдЬреЛрдбрд╝рддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдпрд╣ рдХреБрдВрдЬреА рд╣реЛрддреА рд╣реИред  рдкреНрд░рддреНрдпреЗрдХ рдкрдВрдХреНрддрд┐ рдХреЛ TID (tuple id) рджреНрд╡рд╛рд░рд╛ рдкрд╣рдЪрд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдмреНрд▓реЙрдХ рдХреА рд╕рдВрдЦреНрдпрд╛ рдФрд░ рдмреНрд▓реЙрдХ рдХреЗ рдЕрдВрджрд░ рдкрдВрдХреНрддрд┐ рдХреА рд╕реНрдерд┐рддрд┐ рд╢рд╛рдорд┐рд▓ рд╣реЛрддреА рд╣реИред  рдЬреНрдЮрд╛рдд рдХреБрдВрдЬреА рдпрд╛ рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд╕рд╛рде, рд╣рдо рдЙрди рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЛ рдЬрд▓реНрджреА рд╕реЗ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рдирдореЗрдВ рд╕рдВрдкреВрд░реНрдг рддрд╛рд▓рд┐рдХрд╛ рдХреЛ рд╕реНрдХреИрди рдХрд┐рдП рдмрд┐рдирд╛ рд╣рдорд╛рд░реА рд░реБрдЪрд┐ рдХреА рдЬрд╛рдирдХрд╛рд░реА рд╣реЛ рд╕рдХрддреА рд╣реИред <br><br>  рдпрд╣ рд╕рдордЭрдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рдПрдХ рд╕реВрдЪрдХрд╛рдВрдХ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рд░рдЦрд░рдЦрд╛рд╡ рд▓рд╛рдЧрдд рдкрд░ рдбреЗрдЯрд╛ рдПрдХреНрд╕реЗрд╕ рдХреЛ рдЧрддрд┐ рджреЗрддрд╛ рд╣реИред  рдЕрдиреБрдХреНрд░рдорд┐рдд рдбреЗрдЯрд╛ рдкрд░ рдкреНрд░рддреНрдпреЗрдХ рдСрдкрд░реЗрд╢рди рдХреЗ рд▓рд┐рдП, рдЪрд╛рд╣реЗ рд╡рд╣ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ рд╣реЛ, рд╡рд┐рд▓реЛрдкрди рд╣реЛ рдпрд╛ рддрд╛рд▓рд┐рдХрд╛ рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХрд╛ рдЕрджреНрдпрддрди рд╣реЛ, рдЙрд╕ рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рд▓рд┐рдП рдЕрдиреБрдХреНрд░рдорд┐рдд рдХреЛ рднреА рдЕрджреНрдпрддрди рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдФрд░ рдЙрд╕реА рд▓реЗрдирджреЗрди рдореЗрдВред  рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рддрд╛рд▓рд┐рдХрд╛ рдлрд╝реАрд▓реНрдбреНрд╕ рдХрд╛ рдЕрджреНрдпрддрди рдЬрд┐рдирдХреЗ рд▓рд┐рдП рдЕрдиреБрдХреНрд░рдордгрд┐рдХрд╛рдПрдБ рдирд╣реАрдВ рдмрдирд╛рдИ рдЧрдИ рд╣реИрдВ, рдЕрдиреБрдХреНрд░рдордгрд┐рдХрд╛ рдЕрджреНрдпрддрди рдореЗрдВ рдкрд░рд┐рдгрд╛рдо рдирд╣реАрдВ рдХрд░рддреА рд╣реИрдВ;  рдЗрд╕ рддрдХрдиреАрдХ рдХреЛ HOT (рд╣реАрдк-рдУрдирд▓реА рдЯреНрдпреВрдкрд▓реНрд╕) рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br>  рдПрдХреНрд╕реНрдЯреЗрдВрд╕рд┐рдмрд┐рд▓рд┐рдЯреА рдХреЗ рдХреБрдЫ рдирд┐рд╣рд┐рддрд╛рд░реНрде рд╣реИрдВред  рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдПрдХ рдирдИ рдПрдХреНрд╕реЗрд╕ рд╡рд┐рдзрд┐ рдХреЗ рдЖрд╕рд╛рди рдЬреЛрдбрд╝ рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╕рд╛рдорд╛рдиреНрдп рдЗрдВрдбреЗрдХреНрд╕рд┐рдВрдЧ рдЗрдВрдЬрди рдХрд╛ рдПрдХ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдЗрд╕рдХрд╛ рдореБрдЦреНрдп рдХрд╛рд░реНрдп TID рдХреЛ рдПрдХреНрд╕реЗрд╕ рд╡рд┐рдзрд┐ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдФрд░ рдЙрдирдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдирд╛ рд╣реИ: <br><br><ul><li>  рддрд╛рд▓рд┐рдХрд╛ рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЗ рд╕рдВрдмрдВрдзрд┐рдд рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рд╕реЗ рдбреЗрдЯрд╛ рдкрдврд╝реЗрдВред </li><li>  рдкрдВрдХреНрддрд┐ рдХреЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЛ TID рджреНрд╡рд╛рд░рд╛ TID рдпрд╛ рдХрд┐рд╕реА рдкреВрд░реНрд╡рдирд┐рд░реНрдорд┐рдд рдмрд┐рдЯрдореИрдк рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдмреИрдЪ рдореЗрдВ рд▓рд╛рдПрдВред </li><li>  рдореМрдЬреВрджрд╛ рд▓реЗрди-рджреЗрди рдХреЗ рд▓рд┐рдП рдкрдВрдХреНрддрд┐ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреА рджреГрд╢реНрдпрддрд╛ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ рддрд╛рдХрд┐ рдЗрд╕рдХреЗ рдЕрд▓рдЧрд╛рд╡ рд╕реНрддрд░ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрд╛ рдЬрд╛ рд╕рдХреЗред </li></ul><br>  рдЗрдВрдбреЗрдХреНрд╕рд┐рдВрдЧ рдЗрдВрдЬрди рдкреНрд░рд╢реНрдиреЛрдВ рдХреЛ рдХрд░рдиреЗ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реИред  рдЗрд╕реЗ рдЕрдиреБрдХреВрд▓рди рдЪрд░рдг рдореЗрдВ рдмрдирд╛рдИ рдЧрдИ рдпреЛрдЬрдирд╛ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред  рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝рд░, рдХреНрд╡реЗрд░реА рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрд▓рдЧ-рдЕрд▓рдЧ рддрд░реАрдХреЛрдВ рдХрд╛ рдореВрд▓реНрдпрд╛рдВрдХрди рдФрд░ рдореВрд▓реНрдпрд╛рдВрдХрди рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рд╕рдВрднрд╛рд╡рд┐рдд рд░реВрдк рд╕реЗ рд▓рд╛рдЧреВ рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ рд╕рднреА рдПрдХреНрд╕реЗрд╕ рд╡рд┐рдзрд┐рдпреЛрдВ рдХреА рдХреНрд╖рдорддрд╛рдУрдВ рдХреЛ рд╕рдордЭрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдХреНрдпрд╛ рд╡рд┐рдзрд┐ рдЖрд╡рд╢реНрдпрдХ рдХреНрд░рдо рдореЗрдВ рдбреЗрдЯрд╛ рд╡рд╛рдкрд╕ рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдЧреА рдпрд╛ рдХреНрдпрд╛ рд╣рдореЗрдВ рдЫрдВрдЯрдиреА рдХрд╛ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП?  рдХреНрдпрд╛ рд╣рдо NULL рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕ рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ?  рдпреЗ рдРрд╕реА рд╕рдорд╕реНрдпрд╛рдПрдВ рд╣реИрдВ рдЬреЛ рдЖрд╢рд╛рд╡рд╛рджреА рдирд┐рдпрдорд┐рдд рд░реВрдк рд╕реЗ рд╣рд▓ рдХрд░ рд░рд╣реЗ рд╣реИрдВред <br><br>  рди рдХреЗрд╡рд▓ рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝рд░ рдХреЛ рдПрдХреНрд╕реЗрд╕ рд╡рд┐рдзрд┐ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред  рдЗрдВрдбреЗрдХреНрд╕ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░рддреЗ рд╕рдордп, рд╕рд┐рд╕реНрдЯрдо рдХреЛ рдпрд╣ рддрдп рдХрд░рдирд╛ рд╣реЛрдЧрд╛ рдХрд┐ рдХреНрдпрд╛ рдЗрдВрдбреЗрдХреНрд╕ рдХрдИ рдХреЙрд▓рдо рдкрд░ рдмрдирд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдХреНрдпрд╛ рдпрд╣ рдЗрдВрдбреЗрдХреНрд╕ рдЕрджреНрд╡рд┐рддреАрдпрддрд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИред <br><br>  рдЗрд╕рд▓рд┐рдП, рдкреНрд░рддреНрдпреЗрдХ рдПрдХреНрд╕реЗрд╕ рд╡рд┐рдзрд┐ рдХреЛ рдЕрдкрдиреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕рднреА рдЖрд╡рд╢реНрдпрдХ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рджрд╛рди рдХрд░рдиреА рдЪрд╛рд╣рд┐рдПред  9.6 рд╕реЗ рдХрдо рдХреЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдиреЗ рдЗрд╕рдХреЗ рд▓рд┐рдП "pg_am" рддрд╛рд▓рд┐рдХрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛, рдЬрдмрдХрд┐ рд╕рдВрд╕реНрдХрд░рдг 9.6 рд╕реЗ рд╢реБрд░реВ рд╣реЛрдХрд░ рдбреЗрдЯрд╛ рдХреЛ рд╡рд┐рд╢реЗрд╖ рд╕реНрддрд░реЛрдВ рдХреЗ рдЕрдВрджрд░, рдЧрд╣рд░реЗ рд╕реНрддрд░ рддрдХ рд▓реЗ рдЬрд╛рдпрд╛ рдЧрдпрд╛ред  рд╣рдо рдЗрд╕ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рд╕реЗ рдереЛрдбрд╝рд╛ рдФрд░ рдкрд░рд┐рдЪрд┐рдд рд╣реЛрдВрдЧреЗред <br><br>  рд╢реЗрд╖ рд╕рднреА рдкрд╣реБрдВрдЪ рд╡рд┐рдзрд┐ рдХрд╛ рдХрд╛рд░реНрдп рд╣реИ: <br><br><ul><li>  рд╕реВрдЪрдХрд╛рдВрдХ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЗ рд▓рд┐рдП рдПрдХ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдХреЛ рд▓рд╛рдЧреВ рдХрд░реЗрдВ рдФрд░ рдбреЗрдЯрд╛ рдХреЛ рдкреГрд╖реНрдареЛрдВ рдореЗрдВ рджрд░реНрдЬ рдХрд░реЗрдВ (рдкреНрд░рддреНрдпреЗрдХ рд╕реВрдЪрдХрд╛рдВрдХ рдХреЛ рд╕рдорд╛рди рд░реВрдк рд╕реЗ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдлрд░ рдХреИрд╢ рдкреНрд░рдмрдВрдзрдХ рдХреЗ рд▓рд┐рдП)ред </li><li>  " <em>рдЕрдиреБрдХреНрд░рдорд┐рдд-рдХреНрд╖реЗрддреНрд░ рдСрдкрд░реЗрдЯрд░ рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐</em> " рдлреЙрд░реНрдо рдореЗрдВ рдПрдХ рд╡рд┐рдзреЗрдп рджреНрд╡рд╛рд░рд╛ рд╕реВрдЪрдХрд╛рдВрдХ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдЦреЛрдЬреЗрдВред </li><li>  рд╕реВрдЪрдХрд╛рдВрдХ рдЙрдкрдпреЛрдЧ рд▓рд╛рдЧрдд рдХрд╛ рдореВрд▓реНрдпрд╛рдВрдХрди рдХрд░реЗрдВред </li><li>  рд╕рд╣реА рд╕рдорд╛рдирд╛рдВрддрд░ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рддрд╛рд▓реЗ рдХреЛ рд╣реЗрд░рдлреЗрд░ рдХрд░реЗрдВред </li><li> рд░рд╛рдЗрдЯ-рдлреЙрд░рд╡рд░реНрдб рд▓реЙрдЧ (рд╡рд╛рд▓) рд░рд┐рдХреЙрд░реНрдб рдмрдирд╛рдПрдВред </li></ul><br>  рд╣рдо рдкрд╣рд▓реЗ рд╕рд╛рдорд╛рдиреНрдп рдЕрдиреБрдХреНрд░рдордг рдЗрдВрдЬрди рдХреА рдХреНрд╖рдорддрд╛рдУрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВрдЧреЗ рдФрд░ рдлрд┐рд░ рд╡рд┐рднрд┐рдиреНрди рдкрд╣реБрдВрдЪ рд╡рд┐рдзрд┐рдпреЛрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВрдЧреЗред <br><br><h2>  рдЕрдиреБрдХреНрд░рдордг рдЗрдВрдЬрди </h2><br>  рдЕрдиреБрдХреНрд░рдордг рдЗрдВрдЬрди PostgreSQL рдХреЛ рд╡рд┐рднрд┐рдиреНрди рдПрдХреНрд╕реЗрд╕ рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рд╕рдорд╛рди рд░реВрдк рд╕реЗ рдХрд╛рдо рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдмрдирд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЙрдирдХреА рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрддрд╛ рд╣реИред <br><br><h3>  рдореБрдЦреНрдп рд╕реНрдХреИрдирд┐рдВрдЧ рддрдХрдиреАрдХ </h3><br><h4>  рд╕реВрдЪрдХрд╛рдВрдХ рд╕реНрдХреИрди </h4><br>  рд╣рдо рдПрдХ рд╕реВрдЪрдХрд╛рдВрдХ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рджрд╛рди рдХреА рдЧрдИ TID рдХреЗ рд╕рд╛рде рдЕрд▓рдЧ рддрд░реАрдХреЗ рд╕реЗ рдХрд╛рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЖрдЗрдП рдПрдХ рдЙрджрд╛рд╣рд░рдг рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ: <br><br><pre><code class="pgsql hljs">postgres=# <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> t(a <span class="hljs-type"><span class="hljs-type">integer</span></span>, b <span class="hljs-type"><span class="hljs-type">text</span></span>, c <span class="hljs-type"><span class="hljs-type">boolean</span></span>); postgres=# <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> t(a,b,c) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> s.id, chr((<span class="hljs-number"><span class="hljs-number">32</span></span>+random()*<span class="hljs-number"><span class="hljs-number">94</span></span>)::<span class="hljs-type"><span class="hljs-type">integer</span></span>), random() &lt; <span class="hljs-number"><span class="hljs-number">0.01</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> generate_series(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">100000</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> s(id) <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> random(); postgres=# <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> t(a); postgres=# <span class="hljs-keyword"><span class="hljs-keyword">analyze</span></span> t;</code> </pre> <br>  рд╣рдордиреЗ рддреАрди-рдлрд╝реАрд▓реНрдб рддрд╛рд▓рд┐рдХрд╛ рдмрдирд╛рдИред  рдкрд╣рд▓реЗ рдлрд╝реАрд▓реНрдб рдореЗрдВ 1 рд╕реЗ 100.000 рддрдХ рд╕рдВрдЦреНрдпрд╛рдПрдБ рд╣реЛрддреА рд╣реИрдВ, рдФрд░ рдЗрд╕ рдХреНрд╖реЗрддреНрд░ рдкрд░ рдПрдХ рдЗрдВрдбреЗрдХреНрд╕ (рдХреЛрдИ рдлрд░реНрдХ рдирд╣реАрдВ рдкрдбрд╝рддрд╛ рдХрд┐ рдХрд┐рд╕ рдкреНрд░рдХрд╛рд░) рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред  рджреВрд╕рд░реЗ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдЧреИрд░-рдореБрджреНрд░рдг рдпреЛрдЧреНрдп рдХреЛ рдЫреЛрдбрд╝рдХрд░ рд╡рд┐рднрд┐рдиреНрди ASCII рд╡рд░реНрдг рд╣реИрдВред  рдЕрдВрдд рдореЗрдВ, рддреАрд╕рд░реЗ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдПрдХ рддрд╛рд░реНрдХрд┐рдХ рдорд╛рди рд╣реЛрддрд╛ рд╣реИ рдЬреЛ рд▓рдЧрднрдЧ 1% рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рд╣реА рд╣реЛрддрд╛ рд╣реИ рдФрд░ рдмрд╛рдХреА рдХреЗ рд▓рд┐рдП рдЧрд▓рдд рд╣реЛрддрд╛ рд╣реИред  рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЛ рдПрдХ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдХреНрд░рдо рдореЗрдВ рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рдбрд╛рд▓рд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br>  рдЖрдЗрдП "1 a =" рд╢рд░реНрдд рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдПрдХ рдорд╛рди рдХрд╛ рдЪрдпрди рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред  рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рд╕реНрдерд┐рддрд┐ " <em>рдЕрдиреБрдХреНрд░рдорд┐рдд-рдХреНрд╖реЗрддреНрд░ рдСрдкрд░реЗрдЯрд░ рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐</em> " рдХреА рддрд░рд╣ рджрд┐рдЦрддреА рд╣реИ, рдЬрд╣рд╛рдВ <em>рдСрдкрд░реЗрдЯрд░</em> "рдмрд░рд╛рдмрд░" рдФрд░ <em>рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐</em> (рдЦреЛрдЬ рдХреБрдВрдЬреА) "1" рд╣реИред  рдЬреНрдпрд╛рджрд╛рддрд░ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рд╕реВрдЪрдХрд╛рдВрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣рд╛рд▓рдд рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br><pre> <code class="pgsql hljs">postgres=# <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">costs</span></span> <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> a = <span class="hljs-number"><span class="hljs-number">1</span></span>;</code> </pre><pre> <code class="plaintext hljs"> QUERY PLAN ------------------------------- Index Scan using t_a_idx on t Index Cond: (a = 1) (2 rows)</code> </pre><br>  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЖрд╢рд╛рд╡рд╛рджреА рдиреЗ <em>рд╕реВрдЪрдХрд╛рдВрдХ рд╕реНрдХреИрди</em> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛ред  рдЗрдВрдбреЗрдХреНрд╕ рд╕реНрдХреИрдирд┐рдВрдЧ рдХреЗ рд╕рд╛рде, рдПрдХреНрд╕реЗрд╕ рд╡рд┐рдзрд┐ рдЕрдВрддрд┐рдо рдорд┐рд▓рд╛рди рдкрдВрдХреНрддрд┐ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рддрдХ рдПрдХ-рдПрдХ рдХрд░рдХреЗ TID рдорд╛рди рд▓реМрдЯрд╛рддреА рд╣реИред  рдЗрдВрдбреЗрдХреНрд╕рд┐рдВрдЧ рдЗрдВрдЬрди, TID рджреНрд╡рд╛рд░рд╛ рдЗрдВрдЧрд┐рдд рддрд╛рд▓рд┐рдХрд╛ рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЛ рдмрд╛рд░реА-рдмрд╛рд░реА рд╕реЗ рдПрдХреНрд╕реЗрд╕ рдХрд░рддрд╛ рд╣реИ, рдкрдВрдХреНрддрд┐ рд╕рдВрд╕реНрдХрд░рдг рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ, рдорд▓реНрдЯреАрд╡рд░реНрдЬрди рдХреЙрдиреНрд╕рд░реНрдЯрд┐рдмрд┐рд▓рд┐рдЯреА рдирд┐рдпрдореЛрдВ рдХреЗ рдЦрд┐рд▓рд╛рдл рдЗрд╕рдХреА рджреГрд╢реНрдпрддрд╛ рдХреА рдЬрд╛рдВрдЪ рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдкреНрд░рд╛рдкреНрдд рдбреЗрдЯрд╛ рдХреЛ рд╡рд╛рдкрд╕ рдХрд░рддрд╛ рд╣реИред <br><br><h4>  рдмрд┐рдЯрдореИрдк рд╕реНрдХреИрди </h4><br>  рдЬрдм рд╣рдо рдХреЗрд╡рд▓ рдХреБрдЫ рдореВрд▓реНрдпреЛрдВ рд╕реЗ рдирд┐рдкрдЯрддреЗ рд╣реИрдВ рддреЛ рдЗрдВрдбреЗрдХреНрд╕ рд╕реНрдХреИрди рдареАрдХ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдЬреИрд╕реЗ рд╣реА рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрдд рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдмрдврд╝рддреА рд╣реИ, рдпрд╣ рдПрдХ рд╣реА рддрд╛рд▓рд┐рдХрд╛ рдкреГрд╖реНрда рдкрд░ рдХрдИ рдмрд╛рд░ рд╡рд╛рдкрд╕ рдЖрдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИред  рдЗрд╕рд▓рд┐рдП, рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝рд░ <em>рдмрд┐рдЯрдореИрдк рд╕реНрдХреИрди рдкрд░</em> рд╕реНрд╡рд┐рдЪ рдХрд░рддрд╛ рд╣реИред <br><br><pre> <code class="pgsql hljs">postgres=# <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">costs</span></span> <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> a &lt;= <span class="hljs-number"><span class="hljs-number">100</span></span>;</code> </pre><pre> <code class="plaintext hljs"> QUERY PLAN ------------------------------------ Bitmap Heap Scan on t Recheck Cond: (a &lt;= 100) -&gt; Bitmap Index Scan on t_a_idx Index Cond: (a &lt;= 100) (4 rows)</code> </pre><br>  рдкрд╣реБрдВрдЪ рд╡рд┐рдзрд┐ рдкрд╣рд▓реЗ рд╕рднреА TID рдХреЛ рд▓реМрдЯрд╛рддреА рд╣реИ рдЬреЛ рд╕реНрдерд┐рддрд┐ рд╕реЗ рдореЗрд▓ рдЦрд╛рддреА рд╣реИ (рдмрд┐рдЯрдореИрдк рдЗрдВрдбреЗрдХреНрд╕ рд╕реНрдХреИрди рдиреЛрдб), рдФрд░ рдкрдВрдХреНрддрд┐ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХрд╛ рдмрд┐рдЯрдореИрдк рдЗрди TID рд╕реЗ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдкрдВрдХреНрддрд┐ рд╕рдВрд╕реНрдХрд░рдг рддрдм рддрд╛рд▓рд┐рдХрд╛ (рдмрд┐рдЯрдореИрдк рд╣реАрдк рд╕реНрдХреИрди) рд╕реЗ рдкрдврд╝реЗ рдЬрд╛рддреЗ рд╣реИрдВ, рдкреНрд░рддреНрдпреЗрдХ рдкреГрд╖реНрда рдХреЗрд╡рд▓ рдПрдХ рдмрд╛рд░ рдкрдврд╝рд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИред <br><br>  рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рджреВрд╕рд░реЗ рдЪрд░рдг рдореЗрдВ, рд╕реНрдерд┐рддрд┐ рдХреЛ рдлрд┐рд░ рд╕реЗ рдЬрд╛рдВрдЪрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ (Recheck Cond)ред  рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрдд рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдкрдВрдХреНрддрд┐ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ рдмрд┐рдЯрдореИрдк рдХреЗ рд▓рд┐рдП рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд░реИрдо ("рд╡рд░реНрдХ_рдо" рдкреИрд░рд╛рдореАрдЯрд░ рджреНрд╡рд╛рд░рд╛ рд╕реАрдорд┐рдд) рдХреЗ рд▓рд┐рдП рдмрдбрд╝реА рд╣реЛ рд╕рдХрддреА рд╣реИред  рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ, рдмрд┐рдЯрдореИрдк рдХреЗрд╡рд▓ рдЙрди рдкреГрд╖реНрдареЛрдВ рдХреЗ рд▓рд┐рдП рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрд┐рдирдореЗрдВ рдХрдо рд╕реЗ рдХрдо рдПрдХ рдорд┐рд▓рд╛рди рдкрдВрдХреНрддрд┐ рд╕рдВрд╕реНрдХрд░рдг рд╣реЛрддрд╛ рд╣реИред  рдЗрд╕ "рд╣рд╛рдирд┐рдкреВрд░реНрдг" рдмрд┐рдЯрдореИрдк рдХреЛ рдХрдо рд╕реНрдерд╛рди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рд▓реЗрдХрд┐рди рдПрдХ рдкреГрд╖реНрда рдХреЛ рдкрдврд╝рддреЗ рд╕рдордп, рд╣рдореЗрдВ рд╡рд╣рд╛рдВ рдореМрдЬреВрдж рдкреНрд░рддреНрдпреЗрдХ рдкрдВрдХреНрддрд┐ рдХреЗ рд▓рд┐рдП рд╢рд░реНрддреЛрдВ рдХреЛ рдлрд┐рд░ рд╕реЗ рдЬрд╛рдБрдЪрдирд╛ рд╣реЛрдЧрд╛ред  рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрдд рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреА рдПрдХ рдЫреЛрдЯреА рд╕рдВрдЦреНрдпрд╛ рдХреЗ рд▓рд┐рдП рдФрд░ рдЗрд╕рд▓рд┐рдП "рд╕рдЯреАрдХ" рдмрд┐рдЯрдореИрдк (рдЬреИрд╕реЗ рд╣рдорд╛рд░реЗ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ), "рд░реАрдЪреЗрдХ рдХреЙрдиреНрдб" рдЪрд░рдг рдХреЛ рд╡реИрд╕реЗ рднреА рдпреЛрдЬрдирд╛ рдореЗрдВ рджрд░реНрд╢рд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ, рд╣рд╛рд▓рд╛рдВрдХрд┐ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдкреНрд░рджрд░реНрд╢рди рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред <br><br>  рдпрджрд┐ рдХрдИ рдЯреЗрдмрд▓ рдлрд╝реАрд▓реНрдб рдкрд░ рд╢рд░реНрддреЗрдВ рд▓рдЧрд╛рдИ рдЬрд╛рддреА рд╣реИрдВ рдФрд░ рдЗрди рдлрд╝реАрд▓реНрдбреНрд╕ рдХреЛ рдЕрдиреБрдХреНрд░рдорд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдмрд┐рдЯрдореИрдк рд╕реНрдХреИрди рдПрдХ рд╕рд╛рде рдХрдИ рдЗрдВрдбреЗрдХреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдмрдирд╛рддрд╛ рд╣реИ (рдпрджрд┐ рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝рд░ рдЗрд╕реЗ рдХреБрд╢рд▓ рдорд╛рдирддрд╛ рд╣реИ)ред  рдкреНрд░рддреНрдпреЗрдХ рд╕реВрдЪрдХрд╛рдВрдХ рдХреЗ рд▓рд┐рдП, рдкрдВрдХреНрддрд┐ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ рдмрд┐рдЯрдореИрдк рдмрдирд╛рдП рдЬрд╛рддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП рдмрд┐рдЯрд╡рд╛рдЗрдЬрд╝ рдмреВрд▓рд┐рдпрди рдЧреБрдгрди (рдпрджрд┐ рднрд╛рд╡ AND рдФрд░ рд╕реЗ рдЬреБрдбрд╝реЗ рд╣реИрдВ) рдпрд╛ рдмреВрд▓рд┐рдпрди рдЬреЛрдбрд╝ (рдпрджрд┐ рднрд╛рд╡ OR рд╕реЗ рдЬреБрдбрд╝рддреЗ рд╣реИрдВ) рддрдм рдкреНрд░рджрд░реНрд╢рди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП: <br><br><pre> <code class="pgsql hljs">postgres=# <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> t(b); postgres=# <span class="hljs-keyword"><span class="hljs-keyword">analyze</span></span> t; postgres=# <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">costs</span></span> <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> a &lt;= <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> b = <span class="hljs-string"><span class="hljs-string">'a'</span></span>;</code> </pre><pre> <code class="plaintext hljs"> QUERY PLAN -------------------------------------------------- Bitmap Heap Scan on t Recheck Cond: ((a &lt;= 100) AND (b = 'a'::text)) -&gt; BitmapAnd -&gt; Bitmap Index Scan on t_a_idx Index Cond: (a &lt;= 100) -&gt; Bitmap Index Scan on t_b_idx Index Cond: (b = 'a'::text) (7 rows)</code> </pre><br>  рдпрд╣рд╛рдВ BitmapAnd рдиреЛрдб рдмрд┐рдЯрд╡рд╛рдЗрдЬ рдФрд░ "рдСрдкрд░реЗрд╢рди" рджреНрд╡рд╛рд░рд╛ рджреЛ рдмрд┐рдЯрдореИрдк рд╕реЗ рдЬреБрдбрд╝рддрд╛ рд╣реИред <br><br>  рдмрд┐рдЯрдореИрдк рд╕реНрдХреИрди рд╣рдореЗрдВ рдПрдХ рд╣реА рдбреЗрдЯрд╛ рдкреГрд╖реНрда рдкрд░ рдмрд╛рд░-рдмрд╛рд░ рдкрд╣реБрдВрдЪ рд╕реЗ рдмрдЪрдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдмрдирд╛рддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдХреНрдпрд╛ рд╣реЛрдЧрд╛ рдЕрдЧрд░ рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рдкрдиреНрдиреЛрдВ рдореЗрдВ рдбреЗрдЯрд╛ рдХреЛ рднреМрддрд┐рдХ рд░реВрдк рд╕реЗ рдЙрд╕реА рддрд░рд╣ рд╕реЗ рдХреНрд░рдордмрджреНрдз рдХрд┐рдпрд╛ рдЬрд╛рдП рдЬреИрд╕реЗ рд╕реВрдЪрдХрд╛рдВрдХ рд░рд┐рдХреЙрд░реНрдб?  рдпрд╣ рд╕рдВрджреЗрд╣ рд╕реЗ рдкрд░реЗ рд╣реИ рдХрд┐ рд╣рдо рдкреГрд╖реНрдареЛрдВ рдореЗрдВ рдбреЗрдЯрд╛ рдХреЗ рднреМрддрд┐рдХ рдХреНрд░рдо рдкрд░ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рднрд░реЛрд╕рд╛ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдпрджрд┐ рд╕реЙрд░реНрдЯ рдХрд┐рдП рдЧрдП рдбреЗрдЯрд╛ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рддреЛ рд╣рдореЗрдВ рдХреНрд╡реЗрд░реА рдореЗрдВ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ ORDER BY рдХреНрд▓реЙрдЬ рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рд▓реЗрдХрд┐рди рдРрд╕реА рдкрд░рд┐рд╕реНрдерд┐рддрд┐рдпрд╛рдВ рд╣реЛрдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдЬрд╣рд╛рдВ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ "рд▓рдЧрднрдЧ рд╕рднреА" рдбреЗрдЯрд╛ рдХрд╛ рдЖрджреЗрд╢ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЛ рдЖрд╡рд╢реНрдпрдХ рдХреНрд░рдо рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдЙрд╕рдХреЗ рдмрд╛рдж рдпрд╛ CLUSTER рдХрдорд╛рдВрдб рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдкрд░рд┐рд╡рд░реНрддрди рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИред  рдЗрд╕ рддрд░рд╣ рдХреЗ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рдПрдХ рдмрд┐рдЯрдореИрдк рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдПрдХ рдЕрддреНрдпрдзрд┐рдХ рдХрджрдо рд╣реИ, рдФрд░ рдПрдХ рдирд┐рдпрдорд┐рдд рд╕реВрдЪрдХрд╛рдВрдХ рд╕реНрдХреИрди рдХреЗрд╡рд▓ рдЙрддрдирд╛ рд╣реА рдЕрдЪреНрдЫрд╛ рд╣реЛрдЧрд╛ (рдЬрдм рддрдХ рдХрд┐ рд╣рдо рдХрдИ рд╕реВрдЪрдХрд╛рдВрдХ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рдирд╣реАрдВ рд░рдЦрддреЗ)ред  рдЗрд╕рд▓рд┐рдП, рдЬрдм рдПрдХ рдПрдХреНрд╕реЗрд╕ рд╡рд┐рдзрд┐ рдЪреБрдирддреЗ рд╣реИрдВ, рддреЛ рдпреЛрдЬрдирд╛рдХрд╛рд░ рдПрдХ рд╡рд┐рд╢реЗрд╖ рдЖрдВрдХрдбрд╝реЗ рдореЗрдВ рджрд┐рдЦрддрд╛ рд╣реИ рдЬреЛ рднреМрддрд┐рдХ рдкрдВрдХреНрддрд┐ рдХреНрд░рдо рдФрд░ рд╕реНрддрдВрдн рдХреЗ рддрд╛рд░реНрдХрд┐рдХ рдХреНрд░рдо рдХреЗ рдмреАрдЪ рд╕рд╣рд╕рдВрдмрдВрдз рджрд┐рдЦрд╛рддрд╛ рд╣реИ: <br><br><pre> <code class="pgsql hljs">postgres=# <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> attname, correlation <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pg_stats <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> tablename = <span class="hljs-string"><span class="hljs-string">'t'</span></span>;</code> </pre><pre> <code class="plaintext hljs"> attname | correlation ---------+------------- b | 0.533512 c | 0.942365 a | -0.00768816 (3 rows)</code> </pre><br>  рдПрдХ рдХреЗ рдХрд░реАрдм рдкреВрд░реНрдг рдорд╛рди рдПрдХ рдЙрдЪреНрдЪ рд╕рд╣рд╕рдВрдмрдВрдз (рд╕реНрддрдВрдн "рд╕реА" рдХреЗ рд░реВрдк рдореЗрдВ) рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ, рдЬрдмрдХрд┐ рд╢реВрдиреНрдп рдХреЗ рдХрд░реАрдм рдорд╛рди, рдЗрд╕рдХреЗ рд╡рд┐рдкрд░реАрдд, рдПрдХ рдЕрд░рд╛рдЬрдХ рд╡рд┐рддрд░рдг (рд╕реНрддрдВрдн "рдП") рдХрд╛ рд╕рдВрдХреЗрдд рджреЗрддрд╛ рд╣реИред <br><br><h4>  рдЕрдиреБрдХреНрд░рдорд┐рдХ рд╕реНрдХреИрди </h4><br>  рддрд╕реНрд╡реАрд░ рдХреЛ рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдзреНрдпрд╛рди рджреЗрдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рдЧреИрд░-рдЪрдпрдирд╛рддреНрдордХ рд╕реНрдерд┐рддрд┐ рдХреЗ рд╕рд╛рде, рдЖрд╢рд╛рд╡рд╛рджреА рд╕рд╣реА рд╣реЛрдЧрд╛ рдХрд┐ рд╕реВрдЪрдХрд╛рдВрдХ рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдкреВрд░реА рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рдЕрдиреБрдХреНрд░рдорд┐рдХ рд╕реНрдХреИрди рдХреЛ рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рджреЗрдВ: <br><br><pre> <code class="pgsql hljs">postgres=# <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">costs</span></span> <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> a &lt;= <span class="hljs-number"><span class="hljs-number">40000</span></span>;</code> </pre><pre> <code class="plaintext hljs"> QUERY PLAN ------------------------ Seq Scan on t Filter: (a &lt;= 40000) (2 rows)</code> </pre><br>  рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ рдЗрдВрдбреЗрдХреНрд╕ рдмреЗрд╣рддрд░ рд░реВрдк рд╕реЗ рдЙрдЪреНрдЪрддрд░ рд╣рд╛рд▓рдд рдЪрдпрдирд╛рддреНрдордХрддрд╛ рдХрд╛ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ, рдЕрд░реНрдерд╛рдд, рдХрдо рдкрдВрдХреНрддрд┐рдпрд╛рдБ рдЗрд╕рдХрд╛ рдорд┐рд▓рд╛рди рдХрд░рддреА рд╣реИрдВред  рдкреНрд░рд╛рдкреНрдд рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдмрдврд╝рдиреЗ рд╕реЗ рд╕реВрдЪрдХрд╛рдВрдХ рдкреГрд╖реНрдареЛрдВ рдХреЛ рдкрдврд╝рдиреЗ рдХреА рд▓рд╛рдЧрдд рдмрдврд╝ рдЬрд╛рддреА рд╣реИред <br><br>  рдЕрдиреБрдХреНрд░рдорд┐рдХ рд╕реНрдХреИрди рддреЗрдЬреА рд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ рдХрд┐ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рд╕реНрдХреИрди рд╕реНрдерд┐рддрд┐ рдХреЛ рдХрдВрдкрд╛рдЙрдВрдб рдХрд░рддрд╛ рд╣реИред  рдпрд╣ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рд╣рд╛рд░реНрдб рдбрд┐рд╕реНрдХ рдХреЗ рд▓рд┐рдП рд╣реИ, рдЬрд╣рд╛рдВ рдПрдХ рдЪреБрдВрдмрдХреАрдп рд╕рд┐рд░ рдХреЛ рдЯреНрд░реИрдХ рдкрд░ рд▓рд╛рдиреЗ рдХрд╛ рдпрд╛рдВрддреНрд░рд┐рдХ рд╕рдВрдЪрд╛рд▓рди рд╕реНрд╡рдпрдВ рдбреЗрдЯрд╛ рдкрдврд╝рдиреЗ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдХрд╛рдлреА рдЕрдзрд┐рдХ рд╕рдордп рд▓реЗрддрд╛ рд╣реИред  рдпрд╣ рдкреНрд░рднрд╛рд╡ рдПрд╕рдПрд╕рдбреА рдХреЗ рд▓рд┐рдП рдХрдо рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реИред  рдПрдХреНрд╕реЗрд╕ рд▓рд╛рдЧрдд, "seq_page_cost" рдФрд░ "random_page_cost" рдореЗрдВ рдЕрдВрддрд░ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрддреЗ рд╣реБрдП рджреЛ рдкреИрд░рд╛рдореАрдЯрд░ рдЙрдкрд▓рдмреНрдз рд╣реИрдВ, рдЬрд┐рдиреНрд╣реЗрдВ рд╣рдо рди рдХреЗрд╡рд▓ рд╡рд┐рд╢реНрд╡ рд╕реНрддрд░ рдкрд░ рд╕реЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдмрд▓реНрдХрд┐ рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдХреЗ рд╕реНрддрд░ рдкрд░, рдЗрд╕ рддрд░рд╣ рд╕реЗ рд╡рд┐рднрд┐рдиреНрди рдбрд┐рд╕реНрдХ рд╕рдмрд╕рд┐рд╕реНрдЯрдо рдХреА рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br><h3>  рдЕрдиреБрдХреНрд░рдордгрд┐рдХрд╛ рдХреЛ рдХрд╡рд░ рдХрд░рдирд╛ </h3><br>  рдПрдХ рдирд┐рдпрдо рдХреЗ рд░реВрдк рдореЗрдВ, рдкрд╣реБрдВрдЪ рд╡рд┐рдзрд┐ рдХрд╛ рдореБрдЦреНрдп рдХрд╛рд░реНрдп рдЗрди рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдбреЗрдЯрд╛ рдкрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдиреБрдХреНрд░рдордг рдЗрдВрдЬрди рдХреЗ рд▓рд┐рдП рдорд┐рд▓рд╛рди рддрд╛рд▓рд┐рдХрд╛ рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЗ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛рдУрдВ рдХреЛ рд╡рд╛рдкрд╕ рдХрд░рдирд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдХреНрдпрд╛ рд╣реЛрдЧрд╛ рдпрджрд┐ рд╕реВрдЪрдХрд╛рдВрдХ рдореЗрдВ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдХреНрд╡реЗрд░реА рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╕рднреА рдбреЗрдЯрд╛ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ?  рдЗрд╕ рддрд░рд╣ рдХреЗ рд╕реВрдЪрдХрд╛рдВрдХ рдХреЛ <em>рдХрд╡рд░рд┐рдВрдЧ</em> рдХрд╣рд╛ рдЬрд╛рддрд╛ <em>рд╣реИ</em> , рдФрд░ рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝рд░ <em>рдЗрдВрдбреЗрдХреНрд╕-рдУрдирд▓реА рд╕реНрдХреИрди</em> рдХреЛ рд▓рд╛рдЧреВ рдХрд░ рд╕рдХрддрд╛ рд╣реИ: <br><br><pre> <code class="pgsql hljs">postgres=# <span class="hljs-keyword"><span class="hljs-keyword">vacuum</span></span> t; postgres=# <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">costs</span></span> <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> a <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> a &lt; <span class="hljs-number"><span class="hljs-number">100</span></span>;</code> </pre><pre> <code class="plaintext hljs"> QUERY PLAN ------------------------------------ Index Only Scan using t_a_idx on t Index Cond: (a &lt; 100) (2 rows)</code> </pre><br>  рдпрд╣ рдирд╛рдо рдПрдХ рд╡рд┐рдЪрд╛рд░ рджреЗ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдЗрдВрдбреЗрдХреНрд╕рд┐рдВрдЧ рдЗрдВрдЬрди рддрд╛рд▓рд┐рдХрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдмрд┐рд▓реНрдХреБрд▓ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЕрдХреЗрд▓реЗ рдПрдХреНрд╕реЗрд╕ рд╡рд┐рдзрд┐ рд╕реЗ рд╕рднреА рдЖрд╡рд╢реНрдпрдХ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдпрд╣ рдмрд┐рд▓реНрдХреБрд▓ рдРрд╕рд╛ рдирд╣реАрдВ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ PostgreSQL рдореЗрдВ рдЕрдиреБрдХреНрд░рдорд┐рдд рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ рдЬреЛ рд╣рдореЗрдВ рдкрдВрдХреНрддрд┐ рджреГрд╢реНрдпрддрд╛ рдХрд╛ рдиреНрдпрд╛рдп рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдмрдирд╛рддрд╛ рд╣реИред  рдЗрд╕рд▓рд┐рдП, рдПрдХ рдкрд╣реБрдВрдЪ рд╡рд┐рдзрд┐ рдЙрди рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЛ рд▓реМрдЯрд╛рддреА рд╣реИ рдЬреЛ рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдЙрдирдХреА рджреГрд╢реНрдпрддрд╛ рдХреА рдкрд░рд╡рд╛рд╣ рдХрд┐рдП рдмрд┐рдирд╛ рдЦреЛрдЬ рд╕реНрдерд┐рддрд┐ рд╕реЗ рдореЗрд▓ рдЦрд╛рддреА рд╣реИрдВред <br><br>  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдпрджрд┐ рдЗрдВрдбреЗрдХреНрд╕рд┐рдВрдЧ рдЗрдВрдЬрди рдХреЛ рд╣рд░ рдмрд╛рд░ рджреГрд╢реНрдпрддрд╛ рдХреЗ рд▓рд┐рдП рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рджреЗрдЦрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рддреЛ рдпрд╣ рд╕реНрдХреИрдирд┐рдВрдЧ рд╡рд┐рдзрд┐ рдХрд┐рд╕реА рдирд┐рдпрдорд┐рдд рдЗрдВрдбреЗрдХреНрд╕ рд╕реНрдХреИрди рд╕реЗ рдЕрд▓рдЧ рдирд╣реАрдВ рд╣реЛрдЧреАред <br><br>  рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЯреЗрдмрд▓ рдХреЗ рд▓рд┐рдП PostgreSQL рдПрдХ рддрдерд╛рдХрдерд┐рдд <em>рджреГрд╢реНрдпрддрд╛ рдорд╛рдирдЪрд┐рддреНрд░</em> рдХреЛ рдмрдирд╛рдП рд░рдЦрддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рд╡реИрдХреНрдпреВрдорд┐рдВрдЧ рдЙрди рдкреГрд╖реНрдареЛрдВ рдХреЛ рдЪрд┐рд╣реНрдирд┐рдд рдХрд░рддрд╛ рд╣реИ рдЬрд╣рд╛рдВ рдбреЗрдЯрд╛ рдЗрд╕ рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╕рдордп рдирд╣реАрдВ рдмрджрд▓рд╛ рдЧрдпрд╛ рдерд╛, рдЬреЛ рдкреНрд░рд╛рд░рдВрдн рд╕рдордп рдФрд░ рдЕрд▓рдЧрд╛рд╡ рд╕реНрддрд░ рдХреА рдкрд░рд╡рд╛рд╣ рдХрд┐рдП рдмрд┐рдирд╛ рд╕рднреА рд▓реЗрдирджреЗрди рджреНрд╡рд╛рд░рд╛ рджрд┐рдЦрд╛рдИ рджреЗ рд╕рдХрддреЗ рд╣реИрдВред  рдпрджрд┐ рд╕реВрдЪрдХрд╛рдВрдХ рджреНрд╡рд╛рд░рд╛ рджреА рдЧрдИ рдкрдВрдХреНрддрд┐ рдХреА рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ рдРрд╕реЗ рдкреГрд╖реНрда рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИ, рддреЛ рджреГрд╢реНрдпрддрд╛ рдЬрд╛рдВрдЪ рд╕реЗ рдмрдЪрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдЗрд╕рд▓рд┐рдП, рдирд┐рдпрдорд┐рдд рд╡реИрдХреНрдпреВрдорд┐рдВрдЧ рд╕реЗ рдЗрдВрдбреЗрдХреНрд╕ рдХреЛ рдХрд╡рд░ рдХрд░рдиреЗ рдХреА рджрдХреНрд╖рддрд╛ рдмрдврд╝ рдЬрд╛рддреА рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝рд░ рдореГрдд рдЯреБрдкрд▓реНрд╕ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрддрд╛ рд╣реИ рдФрд░ рдпрд╣ рджреГрд╢реНрдпрддрд╛ рдЬрд╛рдВрдЪ рдХреЗ рд▓рд┐рдП рдЙрдЪреНрдЪ рдУрд╡рд░рд╣реЗрдб рд▓рд╛рдЧрдд рдХреА рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдХрд░рдиреЗ рдкрд░ рд╕реВрдЪрдХрд╛рдВрдХ-рдХреЗрд╡рд▓ рд╕реНрдХреИрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓реЗ рд╕рдХрддрд╛ рд╣реИред <br><br>  рд╣рдо EXALAIN ANALYZE рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд┐рд╕реА рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рдЬрдмрд░рди рдкрд╣реБрдВрдЪ рдХреА рд╕рдВрдЦреНрдпрд╛ рдЬрд╛рди рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="pgsql hljs">postgres=# <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">analyze</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">costs</span></span> <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> a <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> a &lt; <span class="hljs-number"><span class="hljs-number">100</span></span>;</code> </pre><pre> <code class="plaintext hljs"> QUERY PLAN ------------------------------------------------------------------------------- Index Only Scan using t_a_idx on t (actual time=0.025..0.036 rows=99 loops=1) Index Cond: (a &lt; 100) Heap Fetches: 0 Planning time: 0.092 ms Execution time: 0.059 ms (5 rows)</code> </pre><br>  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рддрд╛рд▓рд┐рдХрд╛ (рд╣реАрдк рдмреБрдд: 0) рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рдереА, рдХреНрдпреЛрдВрдХрд┐ рд╡реИрдХреНрдпреВрдорд┐рдВрдЧ рдЕрднреА рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдпрд╣ рд╕рдВрдЦреНрдпрд╛ рдмреЗрд╣рддрд░ рд╢реВрдиреНрдп рдХреЗ рдХрд░реАрдм рд╣реИред <br><br>  рд╕рднреА рдЕрдиреБрдХреНрд░рдорд┐рдд рдкрдВрдХреНрддрд┐ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛рдУрдВ рдХреЗ рд╕рд╛рде рдЕрдиреБрдХреНрд░рдорд┐рдд рдореВрд▓реНрдпреЛрдВ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВред  рдпрджрд┐ рдПрдХреНрд╕реЗрд╕ рд╡рд┐рдзрд┐ рдбреЗрдЯрд╛ рд╡рд╛рдкрд╕ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреА рд╣реИ, рддреЛ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреЗрд╡рд▓-рдЗрдВрдбреЗрдХреНрд╕ рд╕реНрдХреИрди рдХреЗ рд▓рд┐рдП рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br><blockquote>  PostgreSQL 11 рдиреЗ рдПрдХ рдирдИ рд╕реБрд╡рд┐рдзрд╛ рд╢реБрд░реВ рдХреА рд╣реИ: INCLUDE-indexesред  рдХреНрдпрд╛ рд╣реЛрдЧрд╛ рдЕрдЧрд░ рдПрдХ рдЕрджреНрд╡рд┐рддреАрдп рд╕реВрдЪрдХрд╛рдВрдХ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдХреБрдЫ рдХреНрд╡реЗрд░реА рдХреЗ рд▓рд┐рдП рдХрд╡рд░рд┐рдВрдЧ рдЗрдВрдбреЗрдХреНрд╕ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдХреБрдЫ рд╕реНрддрдВрднреЛрдВ рдХрд╛ рдЕрднрд╛рд╡ рд╣реИ?  рдЖрдк рдХреЗрд╡рд▓ рдХреЙрд▓рдо рдХреЛ рдЕрдиреБрдХреНрд░рдордгрд┐рдХрд╛ рдореЗрдВ рдирд╣реАрдВ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдЗрд╕рдХреА рд╡рд┐рд╢рд┐рд╖реНрдЯрддрд╛ рдХреЛ рддреЛрдбрд╝ рджреЗрдЧрд╛ред  рдпрд╣ рд╕реБрд╡рд┐рдзрд╛ <em>рдЧреИрд░-рдХреБрдВрдЬреА</em> рд╕реНрддрдВрднреЛрдВ рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИ рдЬреЛ рд╡рд┐рд╢рд┐рд╖реНрдЯрддрд╛ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЦреЛрдЬ рд╡рд┐рдзреЗрдп рдореЗрдВ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдлрд┐рд░ рднреА рд╕реВрдЪрдХрд╛рдВрдХ-рдХреЗрд╡рд▓ рд╕реНрдХреИрди рдХреА рд╕реЗрд╡рд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдкреИрдЪ рдХреЛ рдореЗрд░реЗ рд╕рд╣рдпреЛрдЧреА рдЕрдирд╛рд╕реНрддрд╛рд╕рд┐рдпрд╛ рд▓реБрдмреЗрдиреАрдХреЛрд╡рд╛ рдиреЗ рд╡рд┐рдХрд╕рд┐рдд рдХрд┐рдпрд╛ рдерд╛ред <br></blockquote><br><h3>  рд╢реВрдиреНрдп </h3><br>  NULLs рд╕рдВрдмрдВрдзрдкрд░рдХ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рддрд░реАрдХрд╛ рдирд┐рднрд╛рддрд╛ рд╣реИ, рдЬреЛ рдХрд┐ рдХрд┐рд╕реА рднреА рдЕрдирдЬрд╛рди рдпрд╛ рдЕрдЬреНрдЮрд╛рдд рдореВрд▓реНрдп рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рддрд░реАрдХрд╛ рд╣реИред <br><br>  рд▓реЗрдХрд┐рди рдПрдХ рд╡рд┐рд╢реЗрд╖ рдореВрд▓реНрдп рд╕реЗ рдирд┐рдкрдЯрдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢реЗрд╖ рд╣реИред  рдПрдХ рдирд┐рдпрдорд┐рдд рдмреВрд▓рд┐рдпрди рдмреАрдЬрдЧрдгрд┐рдд рдЯрд░реНрдирд░реА рдмрди рдЬрд╛рддрд╛ рд╣реИ;  рдпрд╣ рд╕реНрдкрд╖реНрдЯ рдирд╣реАрдВ рд╣реИ рдХрд┐ NULL рдирд┐рдпрдорд┐рдд рдорд╛рдиреЛрдВ рд╕реЗ рдЫреЛрдЯрд╛ рдпрд╛ рдмрдбрд╝рд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП (рдЗрд╕рдХреЗ рд▓рд┐рдП рдЫрдВрдЯрд╛рдИ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢реЗрд╖ рдирд┐рд░реНрдорд╛рдг, NULLS FIRST рдФрд░ NULLS LAST рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ);  рдпрд╣ рд╕реНрдкрд╖реНрдЯ рдирд╣реАрдВ рд╣реИ рдХрд┐ рдХреБрд▓ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ NULLs рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП рдпрд╛ рдирд╣реАрдВ;  рдпреЛрдЬрдирд╛рдХрд╛рд░ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд┐рд╢реЗрд╖ рд╕рд╛рдВрдЦреНрдпрд┐рдХреАрдп рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ ... <br><br>  рд╕реВрдЪрдХрд╛рдВрдХ рд╕рдорд░реНрдерди рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ, рдпрд╣ рднреА рд╕реНрдкрд╖реНрдЯ рдирд╣реАрдВ рд╣реИ рдХрд┐ рд╣рдореЗрдВ рдЗрди рдореВрд▓реНрдпреЛрдВ рдХреЛ рдЕрдиреБрдХреНрд░рдорд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдпрд╛ рдирд╣реАрдВред  рдпрджрд┐ NULLs рдЕрдиреБрдХреНрд░рдорд┐рдд рдирд╣реАрдВ рд╣реИрдВ, рддреЛ рдЕрдиреБрдХреНрд░рдордгрд┐рдХрд╛ рдЕрдзрд┐рдХ рдХреЙрдореНрдкреИрдХреНрдЯ рд╣реЛ рд╕рдХрддреА рд╣реИред  рд▓реЗрдХрд┐рди рдЕрдЧрд░ NULLs рдХреЛ рдЕрдиреБрдХреНрд░рдорд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд╣рдо " <em>рдЕрдиреБрдХреНрд░рдорд┐рдд-рдлрд╝реАрд▓реНрдб</em> IS [NOT] NULL" рдЬреИрд╕реА рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рд╕реВрдЪрдХрд╛рдВрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рдкрд╛рдПрдВрдЧреЗ рдФрд░ рд╕рд╛рде рд╣реА рдПрдХ рдХрд╡рд░рд┐рдВрдЧ рдЗрдВрдбреЗрдХреНрд╕ рдХреЗ рд░реВрдк рдореЗрдВ, рдЬрдм рдХреЛрдИ рднреА рд╕реНрдерд┐рддрд┐ рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рд▓рд┐рдП рдирд┐рд░реНрджрд┐рд╖реНрдЯ рди рд╣реЛ (рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рддрдм рд╕реЗ рдЕрдиреБрдХреНрд░рдордгрд┐рдХрд╛ рдХреЛ рд╕рднреА рддрд╛рд▓рд┐рдХрд╛ рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЗ рдбреЗрдЯрд╛ рдХреЛ рд╡рд╛рдкрд╕ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП, рдЬрд┐рд╕рдореЗрдВ NULLs рднреА рд╢рд╛рдорд┐рд▓ рд╣реИрдВ)ред <br><br>  рдкреНрд░рддреНрдпреЗрдХ рдПрдХреНрд╕реЗрд╕ рд╡рд┐рдзрд┐ рдХреЗ рд▓рд┐рдП, рдбреЗрд╡рд▓рдкрд░реНрд╕ NULLs рдЗрдВрдбреЗрдХреНрд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдирд┐рд░реНрдгрдп рд▓реЗрддреЗ рд╣реИрдВ рдпрд╛ рдирд╣реАрдВред  рд▓реЗрдХрд┐рди рдПрдХ рдирд┐рдпрдо рдХреЗ рд░реВрдк рдореЗрдВ, рд╡реЗ рдЕрдиреБрдХреНрд░рдорд┐рдд рд╣реЛрддреЗ рд╣реИрдВред <br><br><h3>  рдХрдИ рдХреНрд╖реЗрддреНрд░реЛрдВ рдкрд░ рд╕реВрдЪрдХрд╛рдВрдХ </h3><br>  рдХрдИ рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреЗ рд▓рд┐рдП рдкрд░рд┐рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, <em>рдмрд╣реБрд░рдВрдЧреА рд╕реВрдЪрдХрд╛рдВрдХ</em> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╣рдо рдЕрдкрдиреА рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рджреЛ рдХреНрд╖реЗрддреНрд░реЛрдВ рдкрд░ рдПрдХ рд╕реВрдЪрдХрд╛рдВрдХ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="pgsql hljs">postgres=# <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> t(a,b); postgres=# <span class="hljs-keyword"><span class="hljs-keyword">analyze</span></span> t;</code> </pre><br>  рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝рд░ рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рдЗрд╕ рд╕реВрдЪрдХрд╛рдВрдХ рдХреЛ рдмрд┐рдЯрдореИрдк рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП рдкрд╕рдВрдж рдХрд░реЗрдВрдЧреЗ рдХреНрдпреЛрдВрдХрд┐ рдпрд╣рд╛рдБ рд╕реЗ рд╣рдореЗрдВ рдЖрд╕рд╛рдиреА рд╕реЗ рдмрд┐рдирд╛ рдХрд┐рд╕реА рд╕рд╣рд╛рдпрдХ рдСрдкрд░реЗрд╢рди рдХреЗ рдЖрд╡рд╢реНрдпрдХ TID рдорд┐рд▓рдиреА рдЪрд╛рд╣рд┐рдП: <br><br><pre> <code class="pgsql hljs">postgres=# <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">costs</span></span> <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> a &lt;= <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> b = <span class="hljs-string"><span class="hljs-string">'a'</span></span>;</code> </pre><pre> <code class="plaintext hljs"> QUERY PLAN ------------------------------------------------ Index Scan using t_a_b_idx on t Index Cond: ((a &lt;= 100) AND (b = 'a'::text)) (2 rows)</code> </pre><br>  рдПрдХ рдмрд╣реБрдЙрджреНрджреЗрд╢реАрдп рд╕реВрдЪрдХрд╛рдВрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреБрдЫ рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд╢рд░реНрдд рджреНрд╡рд╛рд░рд╛ рдбреЗрдЯрд╛ рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрддрд┐ рдХреЛ рдЧрддрд┐ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рднреА рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдкрд╣рд▓реА рдмрд╛рд░ рд╕реЗ рд╢реБрд░реВ: <br><br><pre> <code class="pgsql hljs">postgres=# <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">costs</span></span> <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> a &lt;= <span class="hljs-number"><span class="hljs-number">100</span></span>;</code> </pre><pre> <code class="plaintext hljs"> QUERY PLAN -------------------------------------- Bitmap Heap Scan on t Recheck Cond: (a &lt;= 100) -&gt; Bitmap Index Scan on t_a_b_idx Index Cond: (a &lt;= 100) (4 rows)</code> </pre><br>  рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдпрджрд┐ рдкрд╣рд▓реЗ рдХреНрд╖реЗрддреНрд░ рдкрд░ рд╢рд░реНрдд рдирд╣реАрдВ рд▓рдЧрд╛рдИ рдЬрд╛рддреА рд╣реИ, рддреЛ рд╕реВрдЪрдХрд╛рдВрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рд▓реЗрдХрд┐рди рдХрднреА-рдХрднреА рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝рд░ рдЕрдиреБрдХреНрд░рдорд┐рдХ рд╕реНрдХреИрди рд╕реЗ рдЕрдзрд┐рдХ рдХреБрд╢рд▓ рдХреЗ рд░реВрдк рдореЗрдВ рд╕реВрдЪрдХрд╛рдВрдХ рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рд╕рдВрдмрдВрдз рдореЗрдВ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  рд╣рдо "btree" рдЗрдВрдбреЗрдХреНрд╕ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░рддреЗ рд╕рдордп рдЗрд╕ рд╡рд┐рд╖рдп рдкрд░ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░реЗрдВрдЧреЗред <br><br>  рд╕рднреА рдкрд╣реБрдБрдЪ рд╡рд┐рдзрд┐рдпрд╛рдБ рдХрдИ рд╕реНрддрдВрднреЛрдВ рдкрд░ рдЕрдиреБрдХреНрд░рдордгрд┐рдХрд╛ рдмрдирд╛рдиреЗ рдХрд╛ рд╕рдорд░реНрдерди рдирд╣реАрдВ рдХрд░рддреА рд╣реИрдВред <br><br><h3>  рднрд╛рд╡реЛрдВ рдкрд░ рдЕрдиреБрдХреНрд░рдордг рдХрд░рддрд╛ рд╣реИ </h3><br>  рд╣рдордиреЗ рдкрд╣рд▓реЗ рд╣реА рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рд╣реИ рдХрд┐ рдЦреЛрдЬ рдХреА рд╕реНрдерд┐рддрд┐ " <em>рдЕрдиреБрдХреНрд░рдорд┐рдд-рдХреНрд╖реЗрддреНрд░ рдСрдкрд░реЗрдЯрд░ рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐</em> " <em>рдЬреИрд╕реА рджрд┐рдЦрдиреА</em> рдЪрд╛рд╣рд┐рдПред  рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, рдЗрдВрдбреЗрдХреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдХреНрдпреЛрдВрдХрд┐ рдлрд╝реАрд▓реНрдб рдирд╛рдо рдХреЗ рдмрдЬрд╛рдп рдлрд╝реАрд▓реНрдб рдирд╛рдо рд╡рд╛рд▓реЗ рдПрдХ рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><br><pre> <code class="pgsql hljs">postgres=# <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">costs</span></span> <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> lower(b) = <span class="hljs-string"><span class="hljs-string">'a'</span></span>;</code> </pre><pre> <code class="plaintext hljs"> QUERY PLAN ------------------------------------------ Seq Scan on t Filter: (lower((b)::text) = 'a'::text) (2 rows)</code> </pre><br>  рдЗрд╕ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХреНрд╡реЗрд░реА рдХреЛ рдлрд┐рд░ рд╕реЗ рд▓рд┐рдЦрдиреЗ рдореЗрдВ рдЕрдзрд┐рдХ рд╕рдордп рдирд╣реАрдВ рд▓рдЧрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдСрдкрд░реЗрдЯрд░ рдХреЗ рдмрд╛рдИрдВ рдУрд░ рдХреЗрд╡рд▓ рдлрд╝реАрд▓реНрдб рдирд╛рдо рд▓рд┐рдЦрд╛ рдЬрд╛рдПред  рд▓реЗрдХрд┐рди рдЕрдЧрд░ рдпрд╣ рд╕рдВрднрд╡ рдирд╣реАрдВ рд╣реИ, рддреЛ рднрд╛рд╡реЛрдВ (рдХрд╛рд░реНрдпрд╛рддреНрдордХ рдЕрдиреБрдХреНрд░рдорд┐рдд) рдкрд░ рдЕрдиреБрдХреНрд░рдорд┐рдд рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдорд┐рд▓реЗрдЧреА: <br><br><pre> <code class="pgsql hljs">postgres=# <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> t(lower(b)); postgres=# <span class="hljs-keyword"><span class="hljs-keyword">analyze</span></span> t; postgres=# <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">costs</span></span> <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> lower(b) = <span class="hljs-string"><span class="hljs-string">'a'</span></span>;</code> </pre><pre> <code class="plaintext hljs"> QUERY PLAN ---------------------------------------------------- Bitmap Heap Scan on t Recheck Cond: (lower((b)::text) = 'a'::text) -&gt; Bitmap Index Scan on t_lower_idx Index Cond: (lower((b)::text) = 'a'::text) (4 rows)</code> </pre><br>  рдХрд╛рд░реНрдпрд╛рддреНрдордХ рд╕реВрдЪрдХрд╛рдВрдХ рдПрдХ рдЯреЗрдмрд▓ рдлрд╝реАрд▓реНрдб рдкрд░ рдирд╣реАрдВ, рдмрд▓реНрдХрд┐ рдПрдХ рдордирдорд╛рдирд╛ рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ рдкрд░ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред  <em>рдЖрд╢рд╛рд╡рд╛рджреА</em> " <em>рдЕрдиреБрдХреНрд░рдордгрд┐рдХрд╛-рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ рдСрдкрд░реЗрдЯрд░ рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐</em> " рдЬреИрд╕реА рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рдЗрд╕ рд╕реВрдЪрдХрд╛рдВрдХ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдЧрд╛ред  рдпрджрд┐ рдЕрдиреБрдХреНрд░рдорд┐рдд рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ рдХреА рдЧрдгрдирд╛ рдПрдХ рдорд╣рдВрдЧрд╛ рдСрдкрд░реЗрд╢рди рд╣реИ, рддреЛ рд╕реВрдЪрдХрд╛рдВрдХ рдХреЗ рдЕрджреНрдпрддрди рдХреЗ рд▓рд┐рдП рднреА рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╕рдВрдЧрдгрдирд╛ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред <br><br>  рдХреГрдкрдпрд╛ рдпрд╣ рднреА рдзреНрдпрд╛рди рд░рдЦреЗрдВ рдХрд┐ рдПрдХ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЖрдБрдХрдбрд╝рд╛ рдЕрдиреБрдХреНрд░рдорд┐рдд рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ рдХреЗ рд▓рд┐рдП рдЗрдХрдЯреНрдард╛ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рд╣рдо рдЗрд╕ рд╕рд╛рдВрдЦреНрдпрд┐рдХреАрдп рдХреЛ "pg_stats" рджреГрд╢реНрдп рдореЗрдВ рд╕реВрдЪрдХрд╛рдВрдХ рдирд╛рдо рд╕реЗ рдЬрд╛рди рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="pgsql hljs">postgres=# \dt</code> </pre><pre> <code class="plaintext hljs"> Table "public.t" Column | Type | Modifiers --------+---------+----------- a | integer | b | text | c | boolean | Indexes: "t_a_b_idx" btree (a, b) "t_a_idx" btree (a) "t_b_idx" btree (b) "t_lower_idx" btree (lower(b))</code> </pre><pre> <code class="pgsql hljs">postgres=# <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pg_stats <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> tablename = <span class="hljs-string"><span class="hljs-string">'t_lower_idx'</span></span>;</code> </pre><br>  рдпрд╣ рд╕рдВрднрд╡ рд╣реИ, рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ, рддреЛ рд╣рд┐рд╕реНрдЯреЛрдЧреНрд░рд╛рдо рдмрд╛рд╕реНрдХреЗрдЯ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЛ рдирд┐рдпрдорд┐рдд рдбреЗрдЯрд╛ рдлрд╝реАрд▓реНрдб рдХреЗ рд▓рд┐рдП рдЙрд╕реА рддрд░рд╣ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдирд╛ (рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рд╕реНрддрдВрдн рдХрд╛ рдирд╛рдо рдЕрдиреБрдХреНрд░рдорд┐рдд рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рднрд┐рдиреНрди рд╣реЛ рд╕рдХрддрд╛ рд╣реИ): <br><br><pre> <code class="pgsql hljs">postgres=# \d t_lower_idx</code> </pre><pre> <code class="plaintext hljs"> Index "public.t_lower_idx" Column | Type | Definition --------+------+------------ lower | text | lower(b) btree, for table "public.t"</code> </pre><pre> <code class="pgsql hljs">postgres=# <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> t_lower_idx <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">column</span></span> "lower" <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">statistics</span></span> <span class="hljs-number"><span class="hljs-number">69</span></span>;</code> </pre><br><blockquote>  PostgreSQL 11 рдиреЗ ALTER INDEX ... SET STATISTICS рдХрдорд╛рдВрдб рдореЗрдВ рдХреЙрд▓рдо <em>рдирдВрдмрд░</em> рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдХреЗ рдЕрдиреБрдХреНрд░рдорд┐рдд рдХреЗ рд▓рд┐рдП рд╕рд╛рдВрдЦреНрдпрд┐рдХреА рд▓рдХреНрд╖реНрдп рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдХреНрд▓реАрдирд░ рддрд░реАрдХрд╛ рдкреЗрд╢ рдХрд┐рдпрд╛ рд╣реИред  рдкреИрдЪ рдХреЛ рдореЗрд░реЗ рд╕рд╣рдпреЛрдЧреА рдЕрд▓реЗрдХреНрдЬреЗрдВрдбрд░ рдХреЛрд░реЛрдЯрдХреЛрд╡ рдФрд░ рдПрдбреНрд░рд┐рдпрди рдирд╛рдпрд░рдд рдиреЗ рд╡рд┐рдХрд╕рд┐рдд рдХрд┐рдпрд╛ рдерд╛ред </blockquote><br><h3>  рдЖрдВрд╢рд┐рдХ рд╕реВрдЪрдХрд╛рдВрдХ </h3><br>  рдХрднреА-рдХрднреА рдПрдХ рдЖрд╡рд╢реНрдпрдХрддрд╛ рддрд╛рд▓рд┐рдХрд╛ рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЗ рдХреЗрд╡рд▓ рднрд╛рдЧ рдХреЛ рдЕрдиреБрдХреНрд░рдорд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдарддреА рд╣реИред  рдпрд╣ рдЖрдорддреМрд░ рдкрд░ рдПрдХ рдЕрддреНрдпрдзрд┐рдХ рдЧреИрд░-рд╕рдорд╛рди рд╡рд┐рддрд░рдг рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реЛрддрд╛ рд╣реИ: рдпрд╣ рдПрдХ рдЕрдиреБрдХреНрд░рдордгрд┐рдХрд╛ рджреНрд╡рд╛рд░рд╛ рдПрдХ рдЕрдирдиреНрдд рдорд╛рди рдХреА рдЦреЛрдЬ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдордЭ рдореЗрдВ рдЖрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рдкреВрд░реНрдг рд╕реНрдХреИрди рджреНрд╡рд╛рд░рд╛ рдмрд╛рд░-рдмрд╛рд░ рдорд╛рди рдЦреЛрдЬрдирд╛ рдЖрд╕рд╛рди рд╣реИред <br><br>  рд╣рдо рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ "рд╕реА" рдХреЙрд▓рдо рдкрд░ рдПрдХ рдирд┐рдпрдорд┐рдд рд╕реВрдЪрдХрд╛рдВрдХ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ рд╣рдорд╛рд░реА рдЕрдкреЗрдХреНрд╖рд╛ рдХреЗ рдЕрдиреБрд░реВрдк рдХрд╛рдо рдХрд░реЗрдЧрд╛: <br><br><pre> <code class="pgsql hljs">postgres=# <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> t(c); postgres=# <span class="hljs-keyword"><span class="hljs-keyword">analyze</span></span> t; postgres=# <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">costs</span></span> <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> c;</code> </pre><pre> <code class="plaintext hljs"> QUERY PLAN ------------------------------- Index Scan using t_c_idx on t Index Cond: (c = true) Filter: c (3 rows)</code> </pre><pre> <code class="pgsql hljs">postgres=# <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">costs</span></span> <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> c;</code> </pre><pre> <code class="plaintext hljs"> QUERY PLAN ------------------- Seq Scan on t Filter: (NOT c) (2 rows)</code> </pre><br>  рдФрд░ рд╕реВрдЪрдХрд╛рдВрдХ рдХрд╛ рдЖрдХрд╛рд░ 276 рдкреГрд╖реНрда рд╣реИ: <br><br><pre> <code class="pgsql hljs">postgres=# <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> relpages <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pg_class <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> relname=<span class="hljs-string"><span class="hljs-string">'t_c_idx'</span></span>;</code> </pre><pre> <code class="plaintext hljs"> relpages ---------- 276 (1 row)</code> </pre><br>  рд▓реЗрдХрд┐рди рдЪреВрдВрдХрд┐ "c" рдХреЙрд▓рдо рдореЗрдВ рдХреЗрд╡рд▓ 1% рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рд╣реА рдХрд╛ рдорд╛рди рд╣реЛрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП 99% рд╕реВрдЪрдХрд╛рдВрдХ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдХрднреА рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ, рд╣рдо рдПрдХ рдЖрдВрд╢рд┐рдХ рд╕реВрдЪрдХрд╛рдВрдХ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="pgsql hljs">postgres=# <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> t(c) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> c; postgres=# <span class="hljs-keyword"><span class="hljs-keyword">analyze</span></span> t;</code> </pre><br>  рд╕реВрдЪрдХрд╛рдВрдХ рдХрд╛ рдЖрдХрд╛рд░ 5 рдкреГрд╖реНрдареЛрдВ рддрдХ рдШрдЯрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ: <br><br><pre> <code class="pgsql hljs">postgres=# <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> relpages <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pg_class <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> relname=<span class="hljs-string"><span class="hljs-string">'t_c_idx1'</span></span>;</code> </pre><pre> <code class="plaintext hljs"> relpages ---------- 5 (1 row)</code> </pre><br>  рдХрднреА-рдХрднреА рдЖрдХрд╛рд░ рдФрд░ рдкреНрд░рджрд░реНрд╢рди рдореЗрдВ рдЕрдВрддрд░ рдХрд╛рдлреА рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реЛ рд╕рдХрддрд╛ рд╣реИред <br><br><h3>  рдЫрдВрдЯрд╛рдИ </h3><br>  рдпрджрд┐ рдХреЛрдИ рдкрд╣реБрдБрдЪ рд╡рд┐рдзрд┐ рдкрдВрдХреНрддрд┐ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛рдУрдВ рдХреЛ рдХреБрдЫ рд╡рд┐рд╢реЗрд╖ рдХреНрд░рдо рдореЗрдВ рд▓реМрдЯрд╛рддреА рд╣реИ, рддреЛ рдпрд╣ рдХреНрд╡реЗрд░реА рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрддрд┐рд░рд┐рдХреНрдд рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреЗ рд╕рд╛рде рдЕрдиреБрдХреВрд▓рдХ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред <br><br>  рд╣рдо рддрд╛рд▓рд┐рдХрд╛ рдХреЛ рд╕реНрдХреИрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдлрд┐рд░ рдбреЗрдЯрд╛ рдХреЛ рд╕реЙрд░реНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="pgsql hljs">postgres=# <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> enable_indexscan=<span class="hljs-keyword"><span class="hljs-keyword">off</span></span>; postgres=# <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">costs</span></span> <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> a;</code> </pre><pre> <code class="plaintext hljs"> QUERY PLAN --------------------- Sort Sort Key: a -&gt; Seq Scan on t (3 rows)</code> </pre><br>  рд▓реЗрдХрд┐рди рд╣рдо рд╡рд╛рдВрдЫрд┐рдд рдХреНрд░рдо рдореЗрдВ рдЖрд╕рд╛рдиреА рд╕реЗ рд╕реВрдЪрдХрд╛рдВрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рдбреЗрдЯрд╛ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="pgsql hljs">postgres=# <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> enable_indexscan=<span class="hljs-keyword"><span class="hljs-keyword">on</span></span>; postgres=# <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">costs</span></span> <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> a;</code> </pre><pre> <code class="plaintext hljs"> QUERY PLAN ------------------------------- Index Scan using t_a_idx on t (1 row)</code> </pre><br>  рд╕рднреА рдПрдХреНрд╕реЗрд╕ рд╡рд┐рдзрд┐рдпреЛрдВ рдореЗрдВ рд╕реЗ рдХреЗрд╡рд▓ "btree" рд╕реЙрд░реНрдЯ рдХрд┐рдП рдЧрдП рдбреЗрдЯрд╛ рдХреЛ рд╡рд╛рдкрд╕ рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХреЗ рдЗрдВрдбреЗрдХреНрд╕ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░рдиреЗ рддрдХ рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддреГрдд рдЪрд░реНрдЪрд╛ рдмрдВрдж рдХрд░ рджреЗрдВред <br><br><h3>  рд╕рдорд╡рд░реНрддреА рднрд╡рди </h3><br>  рдЖрдорддреМрд░ рдкрд░ рдПрдХ рдЗрдВрдбреЗрдХреНрд╕ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рд▓рд┐рдП рдПрдХ рд╢реЗрдпрд░ рд▓реЙрдХ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИред  рдпрд╣ рд▓реЙрдХ рддрд╛рд▓рд┐рдХрд╛ рд╕реЗ рдбреЗрдЯрд╛ рдкрдврд╝рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЗрдВрдбреЗрдХреНрд╕ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░рддреЗ рд╕рдордп рдХрд┐рд╕реА рднреА рдмрджрд▓рд╛рд╡ рдХреЛ рдордирд╛ рдХрд░рддрд╛ рд╣реИред <br><br>  рд╣рдо рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдпрджрд┐, "t" рддрд╛рд▓рд┐рдХрд╛ рдкрд░ рдПрдХ рд╕реВрдЪрдХрд╛рдВрдХ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЗ рджреМрд░рд╛рди, рд╣рдо рдПрдХ рдФрд░ рд╕рддреНрд░ рдореЗрдВ рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдкреНрд░рд╢реНрди рдХреЛ рдкреВрд░рд╛ рдХрд░рддреЗ рд╣реИрдВ: <br><br><pre> <code class="pgsql hljs">postgres=# <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> mode, granted <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pg_locks <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> relation = <span class="hljs-string"><span class="hljs-string">'t'</span></span>::<span class="hljs-type"><span class="hljs-type">regclass</span></span>;</code> </pre><pre> <code class="plaintext hljs"> mode | granted -----------+--------- ShareLock | t (1 row)</code> </pre><br>  рдпрджрд┐ рддрд╛рд▓рд┐рдХрд╛ рдкрд░реНрдпрд╛рдкреНрдд рдФрд░ рдмрдбрд╝реЗ рдкреИрдорд╛рдиреЗ рдкрд░ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐, рдЕрджреНрдпрддрди, рдпрд╛ рд╡рд┐рд▓реЛрдкрди рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рддреА рд╣реИ, рддреЛ рдпрд╣ рдЕрдирдЬрд╛рдиреЗ рдореЗрдВ рдкреНрд░рдХрдЯ рд╣реЛ рд╕рдХрддреА рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рд╕рдВрд╢реЛрдзрд┐рдд рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рд▓реЙрдХ рд░рд┐рд▓реАрдЬ рдХрд╛ рдЗрдВрддрдЬрд╛рд░ рдХрд░реЗрдЧреАред <br><br>  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣рдо рдПрдХ рд╕реВрдЪрдХрд╛рдВрдХ рдХреЗ рд╕рдорд╡рд░реНрддреА рднрд╡рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br><pre> <code class="pgsql hljs">postgres=# <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> <span class="hljs-keyword"><span class="hljs-keyword">concurrently</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> t(a);</code> </pre><br>  рдпрд╣ рдХрдорд╛рдВрдб SHARE UPDATE EXCLUSIVE рдореЛрдб рдореЗрдВ рдЯреЗрдмрд▓ рдХреЛ рд▓реЙрдХ рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рд░реАрдбрд┐рдВрдЧ рдФрд░ рдЕрдкрдбреЗрдЯ рджреЛрдиреЛрдВ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ (рдХреЗрд╡рд▓ рдЯреЗрдмрд▓ рд╕реНрдЯреНрд░рдХреНрдЪрд░ рдХреЛ рдмрджрд▓рдирд╛ рдордирд╛ рд╣реИ, рд╕рд╛рде рд╣реА рдЗрд╕ рдЯреЗрдмрд▓ рдкрд░ рд╕рдорд╡рд░реНрддреА рд╡реИрдХреНрдпреВрдорд┐рдВрдЧ, рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдпрд╛ рдЕрдиреНрдп рдЗрдВрдбреЗрдХреНрд╕ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░рдирд╛)ред <br><br>  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдЗрд╕рдХрд╛ рдПрдХ рджреВрд╕рд░рд╛ рдкрд╣рд▓реВ рднреА рд╣реИред  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рд╕реВрдЪрдХрд╛рдВрдХ рд╕рд╛рдорд╛рдиреНрдп рд╕реЗ рдЕрдзрд┐рдХ рдзреАрд░реЗ-рдзреАрд░реЗ рдмрдирд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдХреНрдпреЛрдВрдХрд┐ рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рджреЛ рдкрд╛рд╕ рдПрдХ рдХреЗ рдмрдЬрд╛рдп рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ, рдФрд░ рдбреЗрдЯрд╛ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рд╕рдорд╛рдирд╛рдВрддрд░ рд▓реЗрдирджреЗрди рдХреЗ рдкреВрд░рд╛ рд╣реЛрдиреЗ рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░рдирд╛ рднреА рдЖрд╡рд╢реНрдпрдХ рд╣реИред <br><br>  рджреВрд╕рд░рд╛, рд╕реВрдЪрдХрд╛рдВрдХ рдХреЗ рд╕рдорд╡рд░реНрддреА рдЗрдорд╛рд░рдд рдХреЗ рд╕рд╛рде, рдПрдХ рдЧрддрд┐рд░реЛрдз рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдпрд╛ рдЕрджреНрд╡рд┐рддреАрдп рдмрд╛рдзрд╛рдУрдВ рдХрд╛ рдЙрд▓реНрд▓рдВрдШрди рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдЗрдВрдбреЗрдХреНрд╕ рдмрдирд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛, рд╣рд╛рд▓рд╛рдВрдХрд┐ рдиреЙрдирдСрдкрд░реЗрдЯрд┐рдВрдЧред  рдЗрд╕ рддрд░рд╣ рдХреЗ рд╕реВрдЪрдХрд╛рдВрдХ рдХреЛ рд╣рдЯрд╛ рджрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдФрд░ рдлрд┐рд░ рд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдиреЙрдирдХреЙрд░реНрдкреЛрд░реЗрдЯрд┐рдВрдЧ рдЗрдВрдбреЗрдХреНрд╕ рдХреЛ psql \ d рдХрдорд╛рдВрдб рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдореЗрдВ INVALID рд╢рдмреНрдж рд╕реЗ рдЪрд┐рд╣реНрдирд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдиреАрдЪреЗ рджреА рдЧрдИ рдХреНрд╡реЗрд░реА рдЙрди рдХреА рдкреВрд░реА рд╕реВрдЪреА рд▓реМрдЯрд╛рддреА рд╣реИ: <br><br><pre> <code class="pgsql hljs">postgres=# <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> indexrelid::<span class="hljs-type"><span class="hljs-type">regclass</span></span> index_name, indrelid::<span class="hljs-type"><span class="hljs-type">regclass</span></span> <span class="hljs-built_in"><span class="hljs-built_in">table_name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pg_index <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> indisvalid;</code> </pre><pre> <code class="plaintext hljs"> index_name | table_name ------------+------------ t_a_idx | t (1 row)</code> </pre><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкрд░ рдкрдврд╝реЗрдВ</a> ред </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi441962/">https://habr.com/ru/post/hi441962/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi441946/index.html">рдХреЛрдб рдХреА 100 рд▓рд╛рдЗрдиреЛрдВ рдореЗрдВ Laravel рдкрд░ REST API</a></li>
<li><a href="../hi441950/index.html">рдЧреНрд░рд╣рдг рдЪреЗ 7 рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдпрд╣рд╛рдБ рд╣реИ</a></li>
<li><a href="../hi441952/index.html">рдЯреАрдо рд╡рд░реНрдХ рдХреЗ рд▓рд┐рдП рдлрд╛рдЗрд▓ рд╕реНрдЯреЛрд░реЗрдЬ рд╕рд┐рд╕реНрдЯрдо рдЪреБрдирдирд╛</a></li>
<li><a href="../hi441954/index.html">рд╣реЗрдмрд░ рдХреЗ рд▓реЗрдЦрдХреЛрдВ рдХреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдирд╛рдо</a></li>
<li><a href="../hi441956/index.html">рдПрдХреАрдХреГрдд рддреНрд░реБрдЯрд┐ рд╣реИрдВрдбрд▓рд┐рдВрдЧ (рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЗ рд▓рд┐рдП C ++ рд╡рд┐рдХрд▓реНрдк)</a></li>
<li><a href="../hi441964/index.html">рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдЯрд┐рдкреНрд╕ рдПрдВрдб рдЯреНрд░рд┐рдХреНрд╕: рдХреНрд▓рд╕реНрдЯрд░ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рд╣реЗрд▓реНрдо 2 рддрдХ рд▓реЗ рдЬрд╛рдирд╛</a></li>
<li><a href="../hi441966/index.html">рд╡реЗрдм рд╕реБрд░рдХреНрд╖рд╛ рдкрд░реАрдХреНрд╖рдг рд╕реНрдЯрд╛рд░реНрдЯрд░ рдХрд┐рдЯ</a></li>
<li><a href="../hi441968/index.html">рдПрдХ рдирдИ рдЙрддреНрдкрд╛рдж рд╢рд╛рдЦрд╛ рдХрд╛ рд╡рд┐рдХрд╛рд╕: рдХреИрд╕реЗ рдЕрд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рд╕реЗ рдЫреБрдЯрдХрд╛рд░рд╛ рдкрд╛рдиреЗ рдФрд░ рдЙрдкрдпреЛрдЧреА рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП</a></li>
<li><a href="../hi441970/index.html">FinFisher Butkit рд╡рд┐рд╢реНрд▓реЗрд╖рдг</a></li>
<li><a href="../hi441972/index.html">Invidious - рд╡реИрдХрд▓реНрдкрд┐рдХ YouTube рдлреНрд░рдВрдЯреЗрдВрдб</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>