<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚴🏽 👨‍🎨 🧕 Node.js Handbuch, Teil 5: npm und npx ❄️ ✌🏻 🐽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Heute, im fünften Teil der Übersetzung des Node.js-Handbuchs, werden wir die Analyse der npm-Funktionen abschließen. Insbesondere werden wir Themen wi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Node.js Handbuch, Teil 5: npm und npx</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/423705/">  Heute, im fünften Teil der Übersetzung des Node.js-Handbuchs, werden wir die Analyse der npm-Funktionen abschließen. Insbesondere werden wir Themen wie das Herausfinden installierter Versionen von npm-Paketen, das Installieren alter Versionen von Paketen, das Aktualisieren von Abhängigkeiten sowie die lokale und globale Deinstallation von Paketen ansprechen.  Hier sprechen wir über npx. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/he/di/2j/hedi2j_qyfbnwfo_jqnnqd3ub6o.png"></a> <br><br><div class="spoiler">  <b class="spoiler_title">[Wir empfehlen Ihnen zu lesen] Andere Teile des Zyklus</b> <div class="spoiler_text">  Teil 1: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Allgemeine Informationen und erste Schritte</a> <br>  Teil 2: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JavaScript, V8, einige Entwicklungstricks</a> <br>  Teil 3: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hosting, REPL, Arbeit mit der Konsole, Module</a> <br>  Teil 4: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dateien npm, package.json und package-lock.json</a> <br>  Teil 5: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">npm und npx</a> <br>  Teil 6: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ereignisschleife, Aufrufstapel, Timer</a> <br>  Teil 7: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Asynchrone Programmierung</a> <br>  Teil 8: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Node.js-Handbuch, Teil 8: HTTP- und WebSocket-Protokolle</a> <br>  Teil 9: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Node.js-Handbuch, Teil 9: Arbeiten mit dem Dateisystem</a> <br>  Teil 10: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Node.js-Handbuch, Teil 10: Standardmodule, Streams, Datenbanken, NODE_ENV</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Vollständiges PDF des Node.js-Handbuchs</a> <br></div></div><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Finden von Versionen installierter npm-Pakete</font> </h2><br>  Führen Sie den folgenden Befehl aus, um die Versionen aller im Projektordner installierten npm-Pakete einschließlich ihrer Abhängigkeiten zu ermitteln: <br><br><pre><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">npm</span></span> list</code> </pre> <br>  Dies kann beispielsweise Folgendes zur Folge haben: <br><br><pre> <code class="hljs mel">&gt; npm list /Users/flavio/dev/node/cowsay └─┬ cowsay@1<span class="hljs-number"><span class="hljs-number">.3</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> ├── get-stdin@5<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> ├─┬ optimist@0<span class="hljs-number"><span class="hljs-number">.6</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> │ ├── minimist@0<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.10</span></span> │ └── wordwrap@0<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> ├─┬ <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>-width@2<span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> │ ├── is-fullwidth-code-point@2<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> │ └─┬ <span class="hljs-keyword"><span class="hljs-keyword">strip</span></span>-ansi@4<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> │  └── ansi-regex@3<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> └── <span class="hljs-keyword"><span class="hljs-keyword">strip</span></span>-eof@1<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span></code> </pre> <br>  Sie können das Gleiche herausfinden, indem <code>package-lock.json</code> Projekts <code>package-lock.json</code> Die Baumstruktur, die mit dem obigen Befehl angezeigt wird, ist jedoch bequemer anzuzeigen. <br><br>  Um eine ähnliche Liste der global installierten Pakete zu erhalten, können Sie den folgenden Befehl verwenden: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">npm</span></span> list -g</code> </pre> <br>  Sie können nur Informationen zu lokalen Top-Level-Paketen ( <code>package.json</code> solchen, die Sie selbst installiert haben und die in <code>package.json</code> aufgeführt <code>package.json</code> ) wie folgt <code>package.json</code> : <br><br><pre> <code class="hljs pgsql">npm list <span class="hljs-comment"><span class="hljs-comment">--depth=0</span></span></code> </pre> <br>  Wenn Sie beispielsweise nur das Cowsay-Paket installiert haben, wird Folgendes angezeigt: <br><br><pre> <code class="hljs pgsql">&gt; npm list <span class="hljs-comment"><span class="hljs-comment">--depth=0 /Users/flavio/dev/node/cowsay └── cowsay@1.3.1</span></span></code> </pre> <br>  Verwenden Sie den folgenden Befehl, um die Version eines bestimmten Pakets herauszufinden: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">npm</span></span> list cowsay</code> </pre> <br>  Als Ergebnis seiner Implementierung erhalten wir ungefähr Folgendes: <br><br><pre> <code class="hljs markdown"><span class="hljs-quote"><span class="hljs-quote">&gt; npm list cowsay /Users/flavio/dev/node/cowsay └── cowsay@1.3.1</span></span></code> </pre> <br>  Dieser Befehl eignet sich auch zum Ermitteln der Abhängigkeitsversionen der von Ihnen installierten Pakete.  In diesem Fall fungiert der Name des Abhängigkeitspakets als Name des an ihn übergebenen Pakets, und die Ausgabe des Befehls sieht folgendermaßen aus: <br><br><pre> <code class="hljs perl">&gt; npm list minimist /Users/flavio/dev/node/cowsay └─┬ cowsay@1.<span class="hljs-number"><span class="hljs-number">3.1</span></span> └─┬ optimist@0.<span class="hljs-number"><span class="hljs-number">6.1</span></span>   └── minimist@0.<span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">10</span></span></code> </pre> <br>  Ein Eintrag zum Abhängigkeitspaket in dieser Struktur wird hervorgehoben. <br><br>  Wenn Sie wissen möchten, wie viele der neuesten Versionen eines Pakets im npm-Repository verfügbar sind, benötigen Sie einen Befehl in der folgenden Form: <br><br><pre> <code class="hljs pgsql">npm <span class="hljs-keyword"><span class="hljs-keyword">view</span></span> [package_name] <span class="hljs-keyword"><span class="hljs-keyword">version</span></span></code> </pre> <br>  Als Antwort gibt sie die Versionsnummer des Pakets heraus: <br><br><pre> <code class="hljs pgsql">&gt; npm <span class="hljs-keyword"><span class="hljs-keyword">view</span></span> cowsay <span class="hljs-keyword"><span class="hljs-keyword">version</span></span> <span class="hljs-number"><span class="hljs-number">1.3</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">Alte Versionen von npm-Paketen installieren</font> </h2><br>  Die Installation einer alten Version des npm-Pakets kann erforderlich sein, um Kompatibilitätsprobleme zu lösen.  Sie können die erforderliche Version des Pakets von npm mit der folgenden Konstruktion installieren: <br><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">package</span></span>&gt;@&lt;<span class="hljs-keyword"><span class="hljs-keyword">version</span></span>&gt;</code> </pre> <br>  Im Fall des Cowsay-Pakets, das wir als Beispiel verwenden, <code>install cowsay</code> npm <code>install cowsay</code> seine neueste Version (1.3.1 zum Zeitpunkt dieses Schreibens).  Wenn Sie die Version 1.2.0 installieren müssen, verwenden Sie diesen Befehl: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">npm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">install</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cowsay</span></span>@<span class="hljs-keyword"><span class="hljs-keyword">1</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">2</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">0</span></span></code> </pre> <br>  Sie können Versionen angeben, indem Sie globale Pakete installieren: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">npm</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">install</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-g</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">webpack</span></span>@<span class="hljs-keyword"><span class="hljs-keyword">4</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">16</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">4</span></span></code> </pre> <br>  Wenn Sie herausfinden möchten, welche Versionen eines Pakets in npm verfügbar sind, können Sie dies mithilfe dieser Konstruktion tun: <br><br><pre> <code class="hljs vhdl">npm <span class="hljs-keyword"><span class="hljs-keyword">view</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">package</span></span>&gt; versions</code> </pre> <br>  Hier ist ein Beispiel für das Ergebnis ihrer Arbeit: <br><br><pre> <code class="hljs pgsql">&gt; npm <span class="hljs-keyword"><span class="hljs-keyword">view</span></span> cowsay versions [ <span class="hljs-string"><span class="hljs-string">'1.0.0'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.0.1'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.0.2'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.0.3'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.0'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.1'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.2'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.3'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.4'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.5'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.6'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.7'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.8'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.1.9'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.2.0'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.2.1'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.3.0'</span></span>, <span class="hljs-string"><span class="hljs-string">'1.3.1'</span></span> ]</code> </pre> <br><h2>  <font color="#3AC1EF">Aktualisieren der Projektabhängigkeiten auf die neuesten Versionen</font> </h2><br>  Wenn Sie ein Paket mit einem Befehl vom Typ <code>npm install &lt;packagename&gt;</code> , wird die neueste Version aus dem Repository heruntergeladen und im Ordner <code>node_modules</code> .  In diesem Fall werden die entsprechenden Einträge zu den <code>package-lock.json</code> <code>package.json</code> und <code>package-lock.json</code> im Projektordner hinzugefügt. <br><br>  Durch die Installation eines Pakets findet und installiert npm außerdem seine Abhängigkeiten. <br><br>  Angenommen, wir installieren das bekannte Cowboysay-Paket, indem wir den <code>npm install cowsay</code> .  Das Paket wird im Ordner <code>node_modules</code> des Projekts installiert, und der folgende Eintrag befindet sich in der Datei <code>package.json</code> : <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"dependencies"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"cowsay"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.3.1"</span></span> } }</code> </pre> <br>  <code>package-lock.json</code> auch Informationen zu diesem Paket.  Hier ist ein Fragment davon: <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"requires"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">"lockfileVersion"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"dependencies"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"cowsay"</span></span>: {     <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.3.1"</span></span>,     <span class="hljs-attr"><span class="hljs-attr">"resolved"</span></span>: <span class="hljs-string"><span class="hljs-string">"https://registry.npmjs.org/cowsay/-/cowsay-1.3.1.tgz"</span></span>,     <span class="hljs-attr"><span class="hljs-attr">"integrity"</span></span>: <span class="hljs-string"><span class="hljs-string">"sha512-3PVFe6FePVtPj1HTeLin9v8WyLl+VmM1l1H/5P+BTTDkMAjufp+0F9eLjzRnOHzVAYeIYFF5po5NjRrgefnRMQ=="</span></span>,     <span class="hljs-attr"><span class="hljs-attr">"requires"</span></span>: {       <span class="hljs-attr"><span class="hljs-attr">"get-stdin"</span></span>: <span class="hljs-string"><span class="hljs-string">"^5.0.1"</span></span>,       <span class="hljs-attr"><span class="hljs-attr">"optimist"</span></span>: <span class="hljs-string"><span class="hljs-string">"~0.6.1"</span></span>,       <span class="hljs-attr"><span class="hljs-attr">"string-width"</span></span>: <span class="hljs-string"><span class="hljs-string">"~2.1.1"</span></span>,       <span class="hljs-attr"><span class="hljs-attr">"strip-eof"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.0.0"</span></span>     }   } } }</code> </pre> <br>  Aus diesen beiden Dateien können Sie ersehen, dass wir coway Version 1.3.1 installiert haben und dass die Paketaktualisierungsregel als <code>^1.3.1</code> .  Im vierten Teil dieser Materialreihe haben wir bereits über die Regeln der semantischen Versionierung gesprochen.  Denken Sie daran, dass dieser Eintrag bedeutet, dass npm das Paket aktualisieren kann, wenn seine Neben- und Patch-Versionen veröffentlicht werden. <br><br>  Wenn beispielsweise eine neue Nebenversion eines Pakets herauskommt und wir den Befehl <code>npm update</code> ausführen, wird die installierte Version des Pakets aktualisiert und die Informationen zum installierten Paket werden in der Datei <code>package-lock.json</code> aktualisiert, und die Datei <code>package.json</code> bleibt unverändert. <br><br>  Um herauszufinden, ob neue Versionen der im Projekt verwendeten Pakete veröffentlicht wurden, können Sie den folgenden Befehl verwenden: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">npm</span></span> outdated</code> </pre> <br>  Hier sind die Ergebnisse dieses Befehls für ein Projekt, dessen Abhängigkeiten seit langem nicht mehr aktualisiert wurden: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a65/820/68f/a6582068f2d230e7f7699324aeefff84.png"></div><br>  <i><font color="#999999">Analyse veralteter Projektabhängigkeiten</font></i> <br><br>  Einige der verfügbaren Paketaktualisierungen sind die Hauptversionen, deren Aktualisierungen nicht ausgeführt werden, wenn der Befehl <code>npm update</code> ausgeführt wird.  Ein Upgrade auf Hauptversionen durch dieses Team wird nicht durchgeführt, da diese (per Definition) wichtige Änderungen enthalten können, die sich nicht durch Abwärtskompatibilität mit früheren Hauptversionen auszeichnen, und npm versucht, den Entwickler vor Problemen zu bewahren, die die Verwendung solcher Pakete verursachen können. <br><br>  Installieren Sie das Paket <code>npm-check-updates</code> global, um ein Upgrade auf neue Hauptversionen aller verwendeten Pakete durchzuführen: <br><br><pre> <code class="hljs powershell">npm install <span class="hljs-literal"><span class="hljs-literal">-g</span></span> npm<span class="hljs-literal"><span class="hljs-literal">-check</span></span><span class="hljs-literal"><span class="hljs-literal">-updates</span></span></code> </pre> <br>  Führen Sie dann das von ihm bereitgestellte Dienstprogramm aus: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">ncu</span></span> -u</code> </pre> <br>  Dieser Befehl aktualisiert die Datei <code>package.json</code> und nimmt Änderungen an den Anweisungen für geeignete Paketversionen in den <code>devDependencies</code> <code>dependencies</code> und <code>devDependencies</code> .  Dadurch kann npm die im Projekt verwendeten Pakete nach dem Ausführen des Befehls <code>npm update</code> auf neue Hauptversionen <code>npm update</code> . <br><br>  Wenn Sie die neuesten Paketversionen für ein gerade heruntergeladenes Projekt installieren möchten, für das noch kein Ordner <code>node_modules</code> , führen Sie anstelle von <code>npm update</code> den Befehl <code>npm install</code> . <br><br><h2>  <font color="#3AC1EF">Lokale oder globale Deinstallation von Paketen</font> </h2><br>  Führen Sie einen Befehl aus, der wie folgt aussieht, um ein zuvor lokal <code>install &lt;package-name&gt;</code> zu deinstallieren (mit dem Befehl <code>install &lt;package-name&gt;</code> ): <br><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">uninstall</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">package</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>&gt;</code> </pre> <br>  Wenn das Paket global installiert ist, müssen Sie das Flag <code>-g</code> <code>(--global</code> ) verwenden, um es zu entfernen.  Ein ähnlicher Befehl könnte beispielsweise folgendermaßen aussehen: <br><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">uninstall</span></span> -g webpack</code> </pre> <br>  Bei der Ausführung eines solchen Befehls spielt der aktuelle Ordner keine Rolle. <br><br><h2>  <font color="#3AC1EF">Informationen zur Auswahl zwischen globaler und lokaler Installation von Paketen</font> </h2><br>  Wann und warum werden Pakete am besten global installiert?  Um diese Frage zu beantworten, erinnern wir uns daran, wie sich die lokale und globale Installation von Paketen unterscheiden: <br><br><ul><li>  Lokale Pakete werden in dem Verzeichnis installiert, in dem sie einen Befehl der Form <code>npm install &lt;package-name&gt;</code> ausführen.  Solche Pakete befinden sich im Ordner <code>node_modules</code> in diesem Verzeichnis. </li><li>  Globale Pakete werden in einem speziellen Ordner installiert (der von den spezifischen Einstellungen Ihres Systems abhängt), unabhängig davon, wo sie einen Befehl der Form <code>npm install -g &lt;package-name&gt;</code> ausführen. </li></ul><br>  Das Verbinden lokaler und globaler Pakete im Code ist dasselbe: <br><br><pre> <code class="hljs lisp">require('package-name')</code> </pre> <br>  Was ist der beste Weg, um Pakete zu installieren? <br><br>  Im Allgemeinen sollten alle Pakete lokal installiert werden.  Selbst wenn Sie Dutzende von Node.js-Projekten haben, können Sie daher bei Bedarf sicherstellen, dass verschiedene Versionen derselben Pakete verwendet werden. <br><br>  Das Aktualisieren des globalen Pakets führt dazu, dass alle Projekte, in denen es angewendet wird, die neue Version verwenden.  Es ist leicht zu verstehen, dass dies in Bezug auf die Projektunterstützung zu einem echten Albtraum führen kann, da neue Versionen einiger Pakete möglicherweise nicht mit ihren alten Versionen kompatibel sind. <br><br>  Wenn jedes Projekt eine eigene lokale Version eines Pakets hat, obwohl dies wie eine Verschwendung von Ressourcen erscheint, ist dies eine sehr geringe Gebühr, um die negativen Folgen zu vermeiden, die durch die Inkompatibilität neuer Versionen von Paketen verursacht werden können, die zentral mit dem Projektcode aktualisiert werden. <br><br>  Pakete sollten global installiert werden, wenn es sich um Dienstprogramme handelt, die über die Befehlszeile aufgerufen werden und in vielen Projekten verwendet werden. <br><br>  Solche Pakete können auch lokal installiert werden, indem die von ihnen bereitgestellten Befehlszeilenprogramme mit npx ausgeführt werden. Einige Pakete sind jedoch global besser installiert.  Zu den Paketen, mit denen Sie möglicherweise vertraut sind, gehören beispielsweise die folgenden: <br><br><ul><li>  npm </li><li>  create-react-app </li><li>  vue-cli </li><li>  grunzen-cli </li><li>  Mokka </li><li>  React-Native-Cli </li><li>  gatsby-cli </li><li>  für immer </li><li>  nodemon </li></ul><br>  Möglicherweise sind auf Ihrem System bereits Pakete global installiert.  Verwenden Sie den folgenden Befehl, um dies herauszufinden: <br><br><pre> <code class="hljs powershell">npm list <span class="hljs-literal"><span class="hljs-literal">-g</span></span> -<span class="hljs-literal"><span class="hljs-literal">-depth</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">Informationen zu Projektabhängigkeiten</font> </h2><br>  Wann sollte ein Paket als reguläre Projektabhängigkeit betrachtet werden, die zur Sicherstellung seiner Funktionsweise erforderlich ist, und wann - als Entwicklungsabhängigkeit? <br><br>  Wenn Sie ein Paket mit einem Befehl wie <code>npm install &lt;package-name&gt;</code> installieren <code>npm install &lt;package-name&gt;</code> es als reguläre Abhängigkeit installiert.  Ein Datensatz eines solchen Pakets wird im Abschnitt " <code>dependencies</code> " der Datei <code>package.json</code> erstellt (vor npm 5 wurde ein solcher Datensatz nur mit dem Flag <code>--save</code> , jetzt muss er nicht mehr verwendet werden). <br><br>  Mit dem <code>--save-dev</code> können Sie das Paket als Entwicklungsabhängigkeit installieren.  Gleichzeitig wird eine Aufzeichnung im Abschnitt <code>devDependencies</code> Datei <code>devDependencies</code> erstellt. <br><br>  Entwicklungsabhängigkeiten sind Pakete, die bei der Entwicklung eines Projekts benötigt werden. Während der normalen Funktionsweise sind sie nicht erforderlich.  Solche Pakete umfassen beispielsweise Testtools, Webpack, Babel. <br><br>  Wenn ein Projekt mit dem Befehl <code>npm install</code> in seinem Ordner bereitgestellt wird, in dem sich ein Ordner befindet, der <code>package.json</code> Datei <code>package.json</code> enthält, werden alle Abhängigkeiten installiert, da npm davon ausgeht, dass eine solche Installation zum Zweck der Bearbeitung des Projekts durchgeführt wird. <br><br>  Wenn das Paket in der Produktion bereitgestellt werden muss, müssen Sie daher bei der <code>install --production</code> npm <code>install --production</code> .  Dank des <code>--production</code> werden keine <code>--production</code> installiert. <br><br><h2>  <font color="#3AC1EF">Npx-Dienstprogramm</font> </h2><br>  Jetzt werden wir über ein sehr mächtiges Team sprechen, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">npx</a> , das in npm 5.2 erschien.  Eine seiner Funktionen besteht darin, ausführbare Dateien auszuführen, die in npm-Paketen enthalten sind.  Wir haben bereits überlegt, npx zu verwenden, um eine ähnliche Datei aus dem Cowboysay-Paket auszuführen.  Lassen Sie uns nun genauer darüber sprechen. <br><br><h3>  <font color="#3AC1EF">▍Verwenden Sie npx, um das Ausführen lokaler Befehle zu vereinfachen</font> </h3><br>  Die Entwickler von Node.j veröffentlichten viele ausführbare Dateien (Dienstprogramme) in Form von Paketen, die global installiert werden sollten, und ermöglichten einen bequemen Zugriff auf ihre Funktionen, da Sie sie über die Befehlszeile ausführen konnten, indem Sie einfach den Namen des entsprechenden Befehls eingeben.  Das Arbeiten in einer solchen Umgebung war jedoch sehr unangenehm, wenn verschiedene Versionen derselben Pakete installiert werden mussten. <br><br>  Mit einem Befehl der Form <code>npx commandname</code> sucht der <code>npx commandname</code> automatisch nach der gewünschten Datei im Projektordner <code>node_modules</code> .  Dadurch entfällt die Notwendigkeit, den genauen Pfad zu einer solchen Datei zu kennen.  Dies macht auch die globale Installation des Pakets unnötig und ermöglicht den Zugriff von überall im Dateisystem über die Verwendung der Systemvariablen <code>PATH</code> . <br><br><h3>  <font color="#3AC1EF">▍Dienstprogramme ausführen, ohne sie installieren zu müssen</font> </h3><br>  Npx hat eine weitere interessante Funktion, mit der Dienstprogramme gestartet werden können, ohne sie zuerst zu installieren.  Dies ist hauptsächlich aus folgenden Gründen nützlich: <br><br><ul><li>  Keine Installation von Dienstprogrammen erforderlich. </li><li>  Sie können verschiedene Versionen derselben Dienstprogramme <code>@version</code> indem Sie die gewünschte Version mit dem Konstrukt <code>@version</code> . </li></ul><br>  Schauen wir uns an, wie Sie diesen Mechanismus verwenden, indem Sie das bereits bekannte <code>cowsay</code> Dienstprogramm verwenden.  Wenn das Cowsay-Paket global installiert ist, gibt die Ausführung des <code>cowsay "Hello"</code> in der Befehlszeile eine "sprechende" Kuh an die Konsole aus: <br><br><pre> <code class="hljs tex">_______ &lt; Hello &gt; -------       <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>^__^        <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>(oo)<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">_</span></span></span></span>______           (__)<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>)<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">/</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>              ||----w |               || ||</code> </pre> <br>  Wenn das Cowsay-Paket nicht global installiert ist, gibt ein ähnlicher Befehl einen Fehler aus. <br><br>  Mit dem Dienstprogramm npx können Sie solche Befehle ausführen, ohne sie zu installieren.  Im Rahmen unseres Beispiels sieht es so aus: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">npx</span></span> cowsay <span class="hljs-string"><span class="hljs-string">"Hello"</span></span></code> </pre> <br>  Ein solcher Befehl wird funktionieren, aber obwohl eine "sprechende" Kuh im Großen und Ganzen nicht viel Nutzen bringt, kann der gleiche Ansatz verwendet werden, um viel nützlichere Befehle auszuführen.  Hier einige Beispiele: <br><br><ul><li>  Es gibt ein Befehlszeilentool zum Erstellen und Ausführen von Vue-Anwendungen.  Mit npx kann es folgendermaßen aufgerufen werden: <code>npx vue create my-vue-app</code> . </li><li>  Sie können das Dienstprogramm <code>create-react-app</code> , <code>create-react-app</code> React-Anwendungen zu <code>create-react-app</code> .  Ihr Anruf über npx sieht folgendermaßen aus: <code>npx create-react-app my-react-app</code> . </li></ul><br>  Nach dem Herunterladen und Verwenden des entsprechenden npx-Codes wird dieser gelöscht. <br><br><h3>  <font color="#3AC1EF">▍ Starten von JavaScript-Code mit verschiedenen Versionen von Node.js.</font> </h3><br>  Um Code mit verschiedenen Versionen von Node.js auszuführen, können Sie mit npx auf den npm-Paketknoten zugreifen und dessen Version angeben.  Es sieht so aus: <br><br><pre> <code class="hljs perl">npx node@6 -v <span class="hljs-comment"><span class="hljs-comment">#v6.14.3 npx node@8 -v #v8.11.3</span></span></code> </pre> <br>  Dadurch sind keine Tools wie nvm oder andere Versionsmanager von Node.js erforderlich. <br><br><h3>  <font color="#3AC1EF">▍Starten Sie beliebige Codefragmente, die an einer bestimmten Adresse verfügbar sind</font> </h3><br>  Mit Npx können Sie nicht nur in npm veröffentlichten Code ausführen.  Insbesondere wenn Sie einen Link zu einem bestimmten Code haben (z. B. einen auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GitHub</a> veröffentlichten Kern), können Sie ihn folgendermaßen ausführen: <br><br><pre> <code class="hljs objectivec">npx https:<span class="hljs-comment"><span class="hljs-comment">//gist.github.com/zkat/4bc19503fe9e9309e2bfaa2c58074d32</span></span></code> </pre> <br>  Natürlich sollten Sie bei der Ausführung eines solchen Codes die Sicherheit nicht vergessen.  Npx bietet dem Entwickler große Chancen, aber sie bedeuten auch große Verantwortung. <br><br><h3>  <font color="#3AC1EF">▍ Ergebnisse</font> </h3><br>  Heute haben wir über einige nützliche npm-Mechanismen und die Verwendung von npx gesprochen.  Zu diesem Zeitpunkt sollten Sie ein grundlegendes Verständnis des npm-Geräts und der Arbeit mit diesem Paketmanager haben.  Wenn Sie sich npm genauer ansehen möchten, lesen Sie die Dokumentationsseite des Projekts und experimentieren Sie weiter. <br><br>  Das nächste Mal werden wir einige grundlegende Node.js-Mechanismen diskutieren, deren Verständnis für eine erfolgreiche Anwendungsentwicklung für diese Plattform erforderlich ist. <br><br>  <b>Liebe Leser!</b>  Verwenden Sie npx? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de423705/">https://habr.com/ru/post/de423705/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de423695/index.html">Wie man vor 40 Jahren mit einer Million Dollar auf einem Bankkonto in den Ruhestand geht</a></li>
<li><a href="../de423697/index.html">Einführung in Spring Data JDBC</a></li>
<li><a href="../de423699/index.html">Der Preis für die „digitale Wirtschaft“ ist gestiegen: 2 Billionen Rubel müssen aus dem Budget bereitgestellt werden</a></li>
<li><a href="../de423701/index.html">Node.js-Handbuch, Teil 3: Hosting, REPL, Konsolenvorgänge, Module</a></li>
<li><a href="../de423703/index.html">Node.js-Handbuch, Teil 4: Dateien npm, package.json und package-lock.json</a></li>
<li><a href="../de423707/index.html">Was ist unter der Haube von Jaxx. Entropie sofort 128 Bit</a></li>
<li><a href="../de423709/index.html">CSS Grid - Schweizer Taschenmesser für Website- und Anwendungslayouts</a></li>
<li><a href="../de423711/index.html">Verwalten für einen Geek: Woher erhalten Sie Daten?</a></li>
<li><a href="../de423713/index.html">"Made in Russia" - WBASIC-Programmiersprache für die Entwicklung serverseitiger Webanwendungen</a></li>
<li><a href="../de423719/index.html">Von Erlang / Elixir nach Java und umgekehrt. Abenteuer für 20 Minuten</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>