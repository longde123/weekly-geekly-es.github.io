<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ˜¹ ğŸ¤’ ğŸŒ› Penyimpanan AERODISK Rusia: pengujian beban. Meremas IOPS ğŸ‘¨ğŸ¾â€ğŸ”§ ğŸ–ï¸ ğŸ‚</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo semuanya! Seperti yang dijanjikan, kami menerbitkan hasil uji beban sistem penyimpanan data buatan Rusia - AERODISK ENGINE N2. 


 Pada artikel t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Penyimpanan AERODISK Rusia: pengujian beban. Meremas IOPS</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/aerodisk/blog/451456/"><p><img src="https://habrastorage.org/webt/uj/gt/g3/ujgtg3hzch1rzeuhtxa240tpdsi.jpeg"></p><br><p>  Halo semuanya!  Seperti yang dijanjikan, kami menerbitkan hasil uji beban sistem penyimpanan data buatan Rusia - AERODISK ENGINE N2. </p><a name="habracut"></a><br><p>  Pada artikel terakhir, kami merusak sistem penyimpanan (mis., Kami melakukan uji kerusakan) dan hasil uji kerusakan positif (yaitu, kami tidak pernah merusak sistem penyimpanan).  Hasil tes kerusakan dapat ditemukan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">DI SINI</a> . </p><br><p>  Dalam komentar pada artikel sebelumnya, keinginan diungkapkan untuk tes crash tambahan - lebih rumit.  Kami telah memperbaiki semuanya dan pasti akan menerapkannya di salah satu artikel berikut.  Pada saat yang sama, Anda dapat mengunjungi laboratorium kami di Moskow kapan saja (datang dengan kaki Anda atau lakukan itu dari jarak jauh melalui Internet) dan lakukan tes ini sendiri (Anda bahkan dapat melakukan pengujian untuk proyek tertentu :-)).  Menulis kepada kami, pertimbangkan semua skenario! </p><br><p>  Selain itu, jika Anda tidak berada di Moskow, Anda dapat mengetahui sistem penyimpanan kami lebih dekat dengan menghadiri acara pelatihan gratis di pusat kompetensi di kota terdekat dengan Anda. </p><br><p>  Di bawah ini adalah daftar acara mendatang dan tanggal pusat kompetensi. </p><br><ul><li>  Yekaterinburg  16 Mei 2019.  Lokakarya pelatihan.  Anda dapat mendaftar di tautan: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://aerodisk.promo/ekb/</a> </li><li>  Yekaterinburg  20 Mei - 21 Juni 2019.  Pusat Kompetensi.  Datang kapan saja untuk demo langsung sistem penyimpanan AERODISK ENGINE N2.  Alamat dan tautan pendaftaran yang tepat nantinya.  Melacak informasi. </li><li>  Novosibirsk  IKUTI INFORMASI PADA SITUS KAMI atau di HABRA. <br>  Oktober 2019 </li><li>  Kazan.  IKUTI INFORMASI PADA SITUS KAMI atau di HABRA. <br>  Oktober 2019 </li><li>  Krasnoyarsk  IKUTI INFORMASI PADA SITUS KAMI atau di HABRA. <br>  November 2019 </li></ul><br><p>  Kami juga ingin berbagi kabar baik lainnya: akhirnya, saluran <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">YouTube</a> kami, tempat Anda dapat menonton video dari acara sebelumnya, telah sepenuhnya diterima.  Di sana kami secara teratur mengunggah video pelatihan kami. </p><br><h2 id="testovyy-stend">  Test stand </h2><br><p>  Jadi, kembali ke tes.  Kami meningkatkan sistem penyimpanan lab kami ENGINE N2 dengan memasang drive SAS SSD tambahan, serta adaptor FG Channel 16G Front-end.  Dengan cara yang simetris, kami meningkatkan server dari mana kami akan mulai memuat dengan menambahkan adaptor FC 16G di sana. </p><br><p> Akibatnya, di lab kami ada sistem penyimpanan 2-pengontrol dengan 24 SAS SSD 800GB, 3 disk DWPD, yang terhubung melalui SAN beralih ke server Linux fisik melalui FC 16G. <br>  Uji tata letak bangku pada gambar di bawah ini. </p><br><p><img src="https://habrastorage.org/webt/y-/dh/_s/y-dh_snmgtnavcyq4bidjlagn94.png"></p><br><h2 id="metodika-testirovaniya">  Metodologi pengujian </h2><br><p>  Untuk kinerja terbaik pada akses blok, kami akan menggunakan kumpulan DDP (Dynamic Disk Pool), yang pernah kami buat untuk sistem ALL-FLASH. <br>  Untuk pengujian, kami membuat dua LUN masing-masing 1 TB dengan tingkat perlindungan RAID-10.  Kami "menyebar" setiap LUN ke dalam 12 disk (total 24) untuk sepenuhnya menggunakan potensi dari masing-masing disk yang terpasang dalam sistem penyimpanan. </p><br><p>  Kami menyajikan LUN ke server melalui pengontrol yang berbeda untuk memaksimalkan penggunaan sumber daya penyimpanan. </p><br><p>  Setiap tes akan berlangsung satu jam, dan tes akan dilakukan oleh program Fleksibel IO (FIO), data FIO secara otomatis diunggah ke Excel, di mana grafik sedang dibangun, untuk kejelasan. </p><br><h3 id="profili-nagruzki">  Muat profil </h3><br><p>  Secara total, kami akan melakukan tiga tes dalam satu jam tanpa memperhitungkan waktu pemanasan, yang mana kami membutuhkan waktu 15 menit (ini adalah berapa banyak yang diperlukan untuk menghangatkan array dari 24 disk SSD).  Pengujian ini meniru profil pemuatan yang paling umum yang kami temui, khususnya, yang atau DBMS lainnya, sistem pengawasan video, konten media penyiaran, dan cadangan. </p><br><p>  Juga, dalam semua pengujian, kami sengaja menonaktifkan kemampuan untuk cache ke RAM pada sistem penyimpanan dan pada host.  Hasilnya, tentu saja, akan memburuk, tetapi, menurut pendapat kami, dalam kondisi seperti itu tes akan lebih jujur. </p><br><h2 id="rezultaty-testov">  Hasil tes </h2><br><p>  <strong>Tes nomor 1.</strong>  <strong>Pemuatan acak dalam blok kecil.</strong>  Emulasi DBMS transaksional yang sangat dimuat. </p><br><ul><li>  Ukuran blok = 4k </li><li>  Baca / Tulis = 70% / 30% </li><li>  Jumlah pekerjaan = 16 </li><li>  Kedalaman Antrian = 32 </li><li>  Sifat beban = Acak Penuh </li></ul><br><p><img src="https://habrastorage.org/webt/ik/3-/ae/ik3-aerqgglbsfdws6ozlnzbpmg.png"></p><br><p><img src="https://habrastorage.org/webt/ss/3-/mj/ss3-mjplbuxjimcbevjyz6fjq8c.png"></p><br><p>  Hasil tes: </p><br><p><img src="https://habrastorage.org/webt/ds/pr/h-/dsprh-xsreu3furbzl90m0dc4xy.png"></p><br><p>  Secara total, kami menerima 438k IOPS dengan penundaan 2,6 milidetik dari sistem mesin mid-range junior N2.  Mengingat kelas sistem, menurut pendapat kami, hasilnya cukup baik.  Untuk memahami apakah ini adalah batas untuk sistem, kita akan melihat pemanfaatan sumber daya pengontrol penyimpanan. </p><br><p>  Kami terutama tertarik pada CPU, karena, seperti ditunjukkan di atas, kami sengaja menonaktifkan cache RAM agar tidak merusak hasil tes. </p><br><p>  Pada kedua pengontrol penyimpanan, kita melihat kira-kira gambar yang sama. </p><br><p> <a href=""><img src="https://habrastorage.org/webt/st/dr/r2/stdrr25vmyjtez-hc9kwlridbk0.png"></a> </p><br><p>  Artinya, beban pada CPU adalah 50%.  Ini menunjukkan bahwa ini jauh dari batas sistem penyimpanan ini dan Anda masih dapat dengan mudah mengaturnya.  Mari kita maju sedikit: semua tes berikut ini juga menunjukkan beban pada prosesor pengendali di wilayah 50%, jadi kami tidak akan memberikannya lagi. </p><br><p>  Berdasarkan tes laboratorium kami, batas nyaman sistem AERODISK Engine N2, jika Anda menghitung IOPS acak dengan blok 4k, adalah ~ 700.000 IOPS.  Jika ini tidak cukup dan Anda perlu berjuang untuk satu juta, maka kami memiliki model yang lebih lama ENGINE N4. </p><br><p>  Artinya, kisah tentang jutaan IOPS adalah ENGINE N4, dan jika satu juta terlalu banyak untuk Anda, maka dengan tenang gunakan N2. </p><br><p>  Kami kembali ke tes. </p><br><p>  <strong>Nomor tes 2.</strong>  <strong>Rekaman berurutan dalam blok besar.</strong>  Emulasi sistem pengawasan video, memuat data ke dalam DBMS analitis atau merekam cadangan. </p><br><p>  Dalam pengujian ini, kami tidak lagi tertarik pada IOPS, karena dengan beban berurutan dari blok besar, mereka tidak masuk akal.  Kami terutama tertarik pada: aliran rekaman (megabyte per detik) dan penundaan, yang dengan blok besar, tentu saja, akan lebih tinggi daripada dengan yang kecil. </p><br><ul><li>  Ukuran blok = 128k </li><li>  Baca / Tulis = 0% / 100% </li><li>  Jumlah pekerjaan = 16 </li><li>  Kedalaman Antrian = 32 </li><li>  Sifat beban - Berurutan </li></ul><br><p><img src="https://habrastorage.org/webt/jx/g8/c1/jxg8c1sqy-xrvstsnywth1wypvw.png"></p><br><p><img src="https://habrastorage.org/webt/qo/kf/_k/qokf_knndwunfvn0pdle1geycf0.png"></p><br><p><img src="https://habrastorage.org/webt/z6/vp/rw/z6vprw755rfukhjqkqtackszndq.png"></p><br><p>  Total: kami memiliki catatan lima setengah gigabytes per detik dengan penundaan sebelas milidetik.  Dibandingkan dengan pesaing asing terdekat, hasilnya, menurut kami, sangat bagus, dan juga bukan batas sistem ENGINE N2. </p><br><p>  <strong>Tes nomor 3.</strong>  <strong>Membaca berurutan dalam blok besar.</strong>  Persaingan konten media penyiaran, menghasilkan laporan dari DBMS analitis atau memulihkan data dari cadangan. </p><br><p>  Seperti pada tes sebelumnya, kami tertarik pada aliran dan penundaan. </p><br><ul><li>  Ukuran blok = 128k </li><li>  Baca / Tulis = 100% / 0% </li><li>  Jumlah pekerjaan = 16 </li><li>  Kedalaman Antrian = 32 </li><li>  Sifat beban - Berurutan </li></ul><br><p><img src="https://habrastorage.org/webt/ab/jr/ff/abjrffrngftgpvnplxuht65icgm.png"></p><br><p><img src="https://habrastorage.org/webt/1i/cy/ca/1icycakntgog_iqjvi1x7bl_o6e.png"></p><br><p><img src="https://habrastorage.org/webt/te/nw/0w/tenw0wp3cr8--e1dvqyxdm7dohw.png"></p><br><p>  Metrik baca streaming diperkirakan sedikit lebih baik daripada metrik tulis streaming. </p><br><p>  Menariknya, tingkat keterlambatan untuk seluruh tes identik (garis lurus).  Ini bukan kesalahan, dalam pembacaan berurutan dalam blok besar, dalam kasus kami ini adalah situasi yang umum. </p><br><p>  Tentu saja, jika Anda meninggalkan sistem dalam bentuk ini selama beberapa minggu, pada akhirnya kita akan melihat lompatan periodik pada grafik yang akan dikaitkan dengan faktor eksternal.  Tetapi, secara umum, mereka tidak akan mempengaruhi gambar. </p><br><h2 id="vyvody">  Kesimpulan </h2><br><p>  Dari sistem dual-controller AERODISK ENGINE N2, kami dapat menekan indikator yang cukup serius (~ 438.000 IOPS dan ~ 5-6 gigabytes per detik).  Tes beban menunjukkan bahwa untuk penyimpanan kami, kami jelas tidak malu.  Sebaliknya, indikatornya sangat layak dan sesuai dengan penyimpanan yang baik. </p><br><p>  Meskipun, seperti yang kami tulis di atas, Engine N2 adalah model yang lebih muda, dan selain itu, hasil yang ditunjukkan dalam artikel ini tidak terbatas.  Nanti kami akan menerbitkan tes serupa dari sistem ENGINE N4 kami yang lama. </p><br><p>  Tentu saja, dalam kerangka satu artikel, kami tidak dapat membahas semua tes yang mungkin, oleh karena itu, berulang kali mengundang pembaca untuk membagikan keinginan mereka untuk pengujian di masa depan dalam komentar, kami pasti akan mempertimbangkannya di publikasi mendatang. </p><br><p>  Selain itu, kami mengingatkan Anda bahwa tahun ini kami secara aktif terlibat dalam pelatihan, jadi kami mengundang Anda ke pusat-pusat kompetensi kami, di mana Anda dapat menjalani pelatihan tentang sistem penyimpanan AERODISK, dan pada saat yang sama itu menarik dan menyenangkan. </p><br><p>  Gandakan informasi tentang acara pelatihan yang akan datang. </p><br><ul><li>  Yekaterinburg  16 Mei 2019.  Lokakarya pelatihan.  Anda dapat mendaftar di tautan: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://aerodisk.promo/ekb/</a> </li><li>  Yekaterinburg  20 Mei - 21 Juni 2019.  Pusat Kompetensi.  Datang kapan saja untuk demo langsung sistem penyimpanan AERODISK ENGINE N2.  Alamat dan tautan pendaftaran yang tepat nantinya.  Melacak informasi. </li><li>  Novosibirsk  IKUTI INFORMASI PADA SITUS KAMI atau di HABRA. <br>  Oktober 2019 </li><li>  Kazan.  IKUTI INFORMASI PADA SITUS KAMI atau di HABRA. <br>  Oktober 2019 </li><li>  Krasnoyarsk  IKUTI INFORMASI PADA SITUS KAMI atau di HABRA. <br>  November 2019 </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id451456/">https://habr.com/ru/post/id451456/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id451442/index.html">Terraform it: Tinjauan Terragenesis</a></li>
<li><a href="../id451446/index.html">Pengembangan Produk Alat Bantu Visual: Desain</a></li>
<li><a href="../id451448/index.html">Mengapa Tidak Melacak Mungkin Dibutuhkan</a></li>
<li><a href="../id451452/index.html">Build2019, memahami apa yang kami lihat</a></li>
<li><a href="../id451454/index.html">Kami mengubah konten aplikasi notifikasi iOS</a></li>
<li><a href="../id451458/index.html">Kami membuat game dev. Bagian 1</a></li>
<li><a href="../id451460/index.html">Julia dalam labirin</a></li>
<li><a href="../id451462/index.html">Tulis lebih sedikit kode duplikat menggunakan binder di Laravel</a></li>
<li><a href="../id451464/index.html">Frontend Weekly Digest (6 - 12 Mei 2019)</a></li>
<li><a href="../id451466/index.html">graphql - jebakan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>