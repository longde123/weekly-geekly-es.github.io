<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìß ‚õ∞Ô∏è üó®Ô∏è Novo pacote de valida√ß√£o para o React no Mobx @ quantumart / mobx-form-validation-kit üë®üèΩ‚Äç‚öïÔ∏è üôÜüèª üöØ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Boa tarde 
 Hoje eu quero falar sobre um novo pacote para valida√ß√µes ass√≠ncronas em projetos baseados em React , Mobx e escritos em Typescript . 
 O d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Novo pacote de valida√ß√£o para o React no Mobx @ quantumart / mobx-form-validation-kit</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470537/"> Boa tarde <br>  Hoje eu quero falar sobre um novo pacote para valida√ß√µes ass√≠ncronas em projetos baseados em <i>React</i> , <i>Mobx</i> e escritos em <i>Typescript</i> . <br>  O desenvolvimento do Frontend moderno envolve uma grande quantidade de l√≥gica ao preencher p√°ginas com documentos, question√°rios e documentos para um empr√©stimo, ordens de pagamento, p√°ginas de registro no site.  O principal √¥nus l√≥gico recai sobre as verifica√ß√µes de valida√ß√£o.  <i>Os</i> desenvolvedores <i>angulares</i> pensaram sobre esse ponto e ofereceram aos desenvolvedores o uso do mecanismo <b>FormControl interno</b> para esses fins, que, embora tenha v√°rias desvantagens, ainda √© melhor do que a aus√™ncia completa de uma solu√ß√£o no <i>React</i> .  A situa√ß√£o √© complicada pelo fato de que a tend√™ncia atual do desenvolvimento do <i>React</i> envolve o uso de mobx para organizar a l√≥gica de neg√≥cios. <br>  Diante desses problemas, resolvemos todos eles escrevendo um pacote: <i><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">@ quantumart / mobx-form-validation-kit</a></b></i> <br><br>  Vantagens do pacote: <br><ul><li>  Inteiramente no <i>TypeScript</i> </li><li>  Compat√≠vel com Mobx (vers√£o 4, que suporta todos os favoritos, IE10) </li><li>  Projetado para funcionar em <i>React</i> (pode ser usado em projetos sem reagir) </li><li>  Projetado para valida√ß√£o ass√≠ncrona </li><li>  F√°cil de incorporar em um projeto existente. </li></ul><br>  Instru√ß√µes para trabalhar com a embalagem sob o corte. <br><a name="habracut"></a><br><br>  No in√≠cio, descreveremos a funcionalidade do <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pacote @ quantumart / mobx-form-validation-kit</a></i> , no final do artigo, escreveremos uma p√°gina totalmente funcional com um exemplo do formul√°rio de inscri√ß√£o no site. <br><br><h2>  Formcontrol </h2><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O @ quantumart / mobx-form-validation-kit</a></i> permite criar uma camada entre os dados de origem e o formul√°rio a ser exibido.  O que, por sua vez, permite valid√°-los e, se necess√°rio, alterar os dados antes que eles cheguem ao objeto original. <br><img src="https://habrastorage.org/webt/ng/tj/qw/ngtjqwnwm_yh1bkjtiwn6o41pwk.png"><br>  A <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">biblioteca @ quantumart / mobx-form-validation-kit</a></i> cont√©m tr√™s classes principais (componentes de valida√ß√£o) para gerenciar o formul√°rio: <br><ul><li>  <b>FormGroup</b> - permite combinar componentes de valida√ß√£o.  A classe √© digitada e permite refazer a interface com a lista de campos como um par√¢metro gen√©rico.  Qualquer um √© registrado por padr√£o, √© altamente recomend√°vel n√£o us√°-lo sem digitar, mas existe uma possibilidade. </li><li>  <b>FormControl</b> - usado para validar um campo espec√≠fico, a classe mais usada.  A classe √© digitada e assume como par√¢metro gen√©rico o tipo da vari√°vel que deve armazenar.  Por padr√£o, a string √© registrada, porque  o padr√£o √© string, como a op√ß√£o mais privada para formul√°rios. </li><li>  <b>FormArray</b> - permite criar e gerenciar uma matriz de componentes de valida√ß√£o. </li></ul><br>  Al√©m disso, existem classes abstratas b√°sicas <br><ul><li>  <b>AbstractControl</b> - a classe base para todas as classes de valida√ß√£o listadas, n√£o digitadas. </li><li>  <b>FormAbstractControl</b> - classe base para <b>FormGroup</b> e <b>FormArray</b> , n√£o digitado. </li><li>  <b>FormAbstractGroup</b> - n√£o uma classe base digitada para FormControl, cont√©m um link para o elemento html que est√° sendo renderizado. </li></ul><br>  A melhor pr√°tica para criar um formul√°rio de valida√ß√£o seria a seguinte id√©ia. <br>  Um objeto do tipo um <b>FormGroup</b> √© criado no formul√°rio e os campos j√° est√£o listados nele <br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormGroup&lt;IUserInfo&gt;({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name, [], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name = v) ), <span class="hljs-attr"><span class="hljs-attr">surname</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.surname, [], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.surname = v) ) <span class="hljs-comment"><span class="hljs-comment">// ‚Ä¶ });</span></span></code> </pre> <br>  <b>O FormGroup</b> suporta aninhamento, ou seja, <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormGroup&lt;IUserInfo&gt;({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name, [], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name = v) ), <span class="hljs-attr"><span class="hljs-attr">surname</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.surname, [], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.surname = v) ) passport: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormGroup&lt;IPassport &gt;({ <span class="hljs-attr"><span class="hljs-attr">number</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.passport.number, [], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.passport.number = v) ), <span class="hljs-comment"><span class="hljs-comment">// ‚Ä¶ }) // ‚Ä¶ });</span></span></code> </pre><br>  Voc√™ pode adicionar o <b>FormArray</b> , que, por sua vez, pode passar o tipo <b>FormControl</b> e / ou o <b>FormGroup</b> inteiro, criando objetos de qualquer complexidade e estrutura. <br><ul><li>  FormArray &lt;FormControl&gt; <br>  FormArray &lt;FormGroup&gt; <br><br>  <b>O</b> pr√≥prio <b>FormControl</b> leva o seguinte conjunto de par√¢metros para o construtor <br><ul><li>  <b>value</b> : TEntity √© o valor inicial digitado. </li><li>  <b>validators</b> : ValidatorFunctionFormControlHandler [] - um conjunto de validadores. </li><li>  <b>callbackValidValue</b> : UpdateValidValueHandler |  null - fun√ß√£o de retorno de chamada para a qual o √∫ltimo valor v√°lido √© passado.  √â chamado toda vez que um valor no FormControl √© alterado e esse valor passa nas valida√ß√µes descritas. </li><li>  <b>ativar</b> : (() =&gt; booleano) |  null - a fun√ß√£o ativar√° / desativar√° as valida√ß√µes por condi√ß√£o (sempre ativada por padr√£o).  Por exemplo, a validade da data de t√©rmino do servi√ßo n√£o precisa ser verificada se a caixa de sele√ß√£o "Ilimitado" n√£o estiver marcada.  Como resultado, basta digitar aqui uma fun√ß√£o que, ao marcar o estado do campo <i>observ√°vel</i> respons√°vel pela caixa de sele√ß√£o "Ilimitado", voc√™ pode desativar automaticamente todas as valida√ß√µes associadas ao campo para verificar a data, em vez de registrar essa l√≥gica em cada uma das valida√ß√µes de campo de data. </li><li>  <b>additionalData</b> : TAdditionalData |  null - um bloco com informa√ß√µes adicionais permite adicionar informa√ß√µes adicionais a um <b>FormControl</b> espec√≠fico e us√°-las posteriormente, por exemplo, para visualiza√ß√£o.  Isso √© conveniente se houver construtores para o <b>FormControl</b> nos quais voc√™ precise analisar determinadas informa√ß√µes e n√£o passar essas informa√ß√µes por meio de um pacote de dados complexo para os controles de visualiza√ß√£o.  Embora eu n√£o possa fornecer um cen√°rio de aplicativo exato e ineg√°vel, √© melhor ter essa oportunidade do que sofrer sem ela. </li></ul><br>  H√° uma limita√ß√£o que o <i>Angular</i> <i>FormControl</i> tamb√©m possui: n√£o h√° necessidade de reutilizar objetos em diferentes formas.  I.e.  Voc√™ pode criar um <b>construtor</b> FormGroup e criar seu pr√≥prio objeto em cada p√°gina.  Mas usar um objeto por grupo de p√°ginas √© uma pr√°tica ruim. <br>  Al√©m disso, o <b>FormControl √©</b> inicializado com um √∫nico valor e, se esse valor for alterado, o novo valor n√£o entrar√° no <b>FormControl</b> .  Isso √© feito de prop√≥sito, porque, como a pr√°tica mostrou, por algum motivo, todo mundo est√° tentando teimosamente editar inicialmente o objeto original ignorando valida√ß√µes, e n√£o o valor no <b>FormControl</b> .  Basta atribuir um novo valor ao campo de <b>valor</b> do <b>FormControl</b> para modificar o objeto original. <br>  <b>O FormGroup</b> aceita o seguinte conjunto de par√¢metros no construtor: <br><ul><li>  <b>Controles</b> : TControls - um objeto herdado de <b>AbstractControls</b> .  De fato, basta criar uma <i>interface</i> herdada de <b>AbstractControls</b> na qual voc√™ enumera campos do tipo <b>FormGroup</b> , <b>FormControl</b> , <b>FormArray</b> .  √â claro que voc√™ pode definir o tipo como <i>any</i> , mas todas as vantagens do <i>TypeScript</i> ser√£o perdidas. </li><li>  <b>validators</b> : ValidatorFunctionFormGroupHandler [] - um conjunto de validadores para valores de grupo.  Por exemplo, voc√™ pode criar um <b>FormGroup</b> contendo dois valores - a data m√≠nima e m√°xima, para o controle de sele√ß√£o de per√≠odo.  √â nesses validadores que voc√™ precisar√° passar a fun√ß√£o / fun√ß√µes de verificar o per√≠odo.  Por exemplo, que a data de in√≠cio n√£o seja maior que a data de t√©rmino </li><li>  <b>ativar</b> : (() =&gt; booleano) |  null - a fun√ß√£o ativar√° / desativar√° as valida√ß√µes por condi√ß√£o (sempre ativada por padr√£o).  Deve-se entender que a aplica√ß√£o da fun√ß√£o de valida√ß√£o a um grupo desativa a valida√ß√£o no n√≠vel de todo o grupo.  Por exemplo, temos uma caixa de sele√ß√£o para um documento de identidade.  Voc√™ pode criar v√°rios <b>Grupos de Formul√°rios</b> com um conjunto diferente de campos para documentos: passaporte, carteira de motorista, passaporte de marinheiro, etc. ... Nesta fun√ß√£o, verifique os valores suspensos e, se o valor selecionado n√£o corresponder a esse grupo, todas as verifica√ß√µes de valida√ß√£o ser√£o desativadas.  Mais precisamente, o grupo ser√° considerado v√°lido, independentemente dos valores nele contidos. </li></ul><br>  Vamos falar sobre os campos <b>FormControl</b> , incluindo a presen√ßa do <b>FormGroup</b> e do <b>FormArray</b> . <br><ul><li>  <b>ControlTypes</b> - tipo de controle (Control | Group | Array) </li><li>  <b>processing</b> : boolean - no processo de an√°lise.  Porque  Valida√ß√µes ass√≠ncronas s√£o suportadas, por exemplo, aquelas que requerem uma solicita√ß√£o do servidor.  O status atual da verifica√ß√£o pode ser encontrado neste campo. <br>  Al√©m disso, o <b>FormGroup</b> e o <b>FormArray</b> oferecem suporte ao m√©todo <b>wait</b> , que permite aguardar a conclus√£o da verifica√ß√£o.  Por exemplo, quando voc√™ clica no bot√£o "enviar dados", √© necess√°rio registrar o seguinte design. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">await</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form.wait(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form.invalid) { ‚Ä¶</code> </pre> <br></li><li>  <b>disabled</b> : boolean - a verifica√ß√£o de erros est√° desativada (o controle √© sempre v√°lido) </li><li>  <b>active</b> : boolean - a verifica√ß√£o de erros est√° ativada.  Depende do resultado da fun√ß√£o de ativa√ß√£o.  Esse valor √© muito conveniente para ocultar um grupo de campos em um formul√°rio e n√£o gravar fun√ß√µes adicionais e duplicadas da l√≥gica de neg√≥cios. </li><li>  <b>inv√°lido</b> : booleano;  - para <b>FormControl</b> - significa que o campo cont√©m erros de valida√ß√£o.  Para <b>FormGroup</b> e <b>FormArray,</b> significa que o pr√≥prio controle de grupo cont√©m erros ou um dos campos aninhados (em qualquer um dos n√≠veis de aninhamento) cont√©m erros de valida√ß√£o.  I.e.  para verificar a validade de todo o formul√°rio, basta executar uma verifica√ß√£o inv√°lida ou v√°lida no FormGroup superior. </li><li>  <b>v√°lido</b> : booleano - para <b>FormControl</b> - significa que o campo n√£o cont√©m erros de valida√ß√£o.  Para FormGroup e FormArray, significa que o pr√≥prio controle de grupo n√£o cont√©m erros e nenhum dos campos aninhados (em qualquer um dos n√≠veis de aninhamento) cont√©m erros de valida√ß√£o. </li><li>  <b>pristine</b> : boolean - o valor no campo, ap√≥s a inicializa√ß√£o com o valor padr√£o, n√£o foi alterado. </li><li>  <b>dirty</b> : boolean - o valor no campo, ap√≥s a inicializa√ß√£o com o valor padr√£o, foi alterado. </li><li>  <b>intocado</b> : booleano - para <b>FormControl</b> - significa que o campo (por exemplo, entrada) n√£o estava em foco.  For FormGroup e FormArray significa que nenhum dos FormControls aninhados estavam em foco.  Um valor false neste campo significa que o foco n√£o foi apenas definido, mas tamb√©m removido do campo. </li><li>  <b>tocado</b> : booleano - Para <b>FormControl</b> - significa que o campo (por exemplo, entrada) estava em foco.  Para <b>FormGroup</b> e <b>FormArray</b> , significa que um dos <b>FormControls</b> aninhados estava em foco.  Um valor true nesse campo significa que o foco n√£o foi apenas definido, mas tamb√©m removido do campo. </li><li>  <b>focus</b> : boolean - para <b>FormControl</b> - significa que o campo (por exemplo, entrada) est√° agora em foco.  Para <b>FormGroup</b> e <b>FormArray</b> , isso significa que um dos <b>FormControls</b> aninhados <b>est√°</b> agora em foco. </li><li>  <b>errors</b> : ValidationEvent [] - o campo cont√©m erros de valida√ß√£o.  Ao contr√°rio dos campos listados, essa matriz cont√©m exatamente os erros de <b>FormControl</b> , <b>FormGroup</b> ou <b>FormArray</b> , ou <b>seja</b> ,  erros desse controle e nem todos aninhados.  Afeta o campo v√°lido / inv√°lido </li><li>  <b>avisos</b> : ValidationEvent [] - o campo cont√©m mensagens de aviso.  Ao contr√°rio dos campos listados, essa matriz cont√©m exatamente os erros de FormControl, FormGroup ou FormArray, ou seja,  mensagens deste controle, mas nem todas anexadas.  N√£o afeta o campo v√°lido / inv√°lido </li><li>  <b>informationMessages</b> : ValidationEvent [] - o campo cont√©m mensagens informativas.  Ao contr√°rio dos campos listados, essa matriz cont√©m exatamente os erros de FormControl, FormGroup ou FormArray, ou seja,  mensagens deste controle, mas nem todas anexadas.  N√£o afeta o campo v√°lido / inv√°lido </li><li>  <b>sucessos</b> : ValidationEvent - o campo cont√©m mensagens de validade adicionais.  Ao contr√°rio dos campos listados, essa matriz cont√©m exatamente os erros de FormControl, FormGroup ou FormArray, ou seja,  mensagens deste controle, mas nem todas anexadas.  N√£o afeta o campo v√°lido / inv√°lido </li><li>  <b>maxEventLevel ()</b> - o n√≠vel m√°ximo de mensagens de valida√ß√£o atualmente no campo. </li><li>  O m√©todo retornar√° um dos valores de enumera√ß√£o, na pr√≥xima prioridade. <br><ol><li>  ValidationEventTypes.Error; </li><li>  ValidationEventTypes.Warning; </li><li>  ValidationEventTypes.Info; </li><li>  ValidationEventTypes.Success; </li></ol><br></li><li>  <b>serverErrors</b> : string [] - ap√≥s enviar uma mensagem ao servidor, √© uma boa forma de verificar a validade do formul√°rio no servidor tamb√©m.  Como resultado, o servidor pode retornar erros da verifica√ß√£o final do formul√°rio e a matriz <b>serverErrors</b> destina-se a esses erros.  Um dos principais recursos do <b>serverErrors</b> √© a limpeza autom√°tica de mensagens de valida√ß√£o quando o foco √© perdido do campo ao qual os erros do servidor foram atribu√≠dos e os erros do servidor tamb√©m s√£o limpos se o campo tiver sido alterado. </li><li>  onChange: Delegate - al√©m do mecanismo <i>mobx</i> padr√£o - <i>rea√ß√£o,</i> voc√™ pode usar delegate e adicionar uma fun√ß√£o de retorno de chamada a ele, chamada quando os dados s√£o alterados. </li><li>  <b>setDirty</b> (dirty: boolean): void - o m√©todo permitir√° alterar o valor dos campos <b>imaculados</b> / <b>sujos</b> </li><li>  <b>setTouched</b> (tocado: booleano): nulo;  - o m√©todo permitir√° alterar o valor dos campos <b>intocados</b> / <b>tocados</b> </li><li>  <b>descarte</b> (): nulo;  - necess√°rio para chamar o controle respons√°vel pela p√°gina em componentWillUnmount. </li></ul><br><br>  Esses eram campos comuns para todos os controles, mas cada controle tamb√©m possui campos exclusivos para seu tipo. <br>  <b>Formcontrol</b> <br><ul><li>  <b>valor</b> - cont√©m o valor atual do campo.  Voc√™ tamb√©m pode atribuir um novo valor a este campo. </li></ul><br><br>  <b>FormGroup</b> e <b>FormArray</b> cont√™m <br><ul><li>  <b>wait</b> - o m√©todo permite que voc√™ espere o fim das verifica√ß√µes de todas (valida√ß√µes), incluindo aninhadas </li><li>  <i>allControls ()</i> - esse m√©todo permite obter um conjunto completo de todos os FormControl, incluindo aninhados em diferentes n√≠veis.  I.e.  de fato, ele expande um objeto FormGroup multin√≠vel, que tamb√©m pode conter o FormGroup, em uma lista grande que consiste apenas em FormControl.  Essa funcionalidade √© necess√°ria se quisermos encontrar o primeiro elemento inv√°lido e colocar o foco nele. <br>  o c√≥digo, neste caso, ficaria assim: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">await</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form.wait(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form.invalid) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form.setTouched(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> firstError = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form.allControls().find(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">c</span></span></span><span class="hljs-function"> =&gt;</span></span> c.invalid &amp;&amp; !!c.element); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!!firstError) { firstError.element.focus(); } } ...</code> </pre> <br></li></ul><br><br><h2>  Valida√ß√µes </h2><br>  Obviamente, al√©m dos controles que permitem trabalhar com dados, precisamos de valida√ß√µes.  O <i><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pacote @ quantumart / mobx-form-validation-kit</a></b></i> cont√©m naturalmente v√°rias valida√ß√µes predefinidas e tamb√©m suporta a cria√ß√£o de valida√ß√µes personalizadas personalizadas. <br>  Um exemplo de configura√ß√£o de valida√ß√µes para <b>FormControl</b> para um campo de idade. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl&lt;number&gt;( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.age, [required(), minValue(<span class="hljs-number"><span class="hljs-number">18</span></span>, <span class="hljs-string"><span class="hljs-string">"    18 ."</span></span>, ValidationEventTypes.Warning)], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.age = v) )</code> </pre> <br>  Cada valida√ß√£o com os par√¢metros mais recentes leva: <br><ul><li>  Mensagem - uma mensagem de valida√ß√£o. </li><li>  eventType - n√≠vel da mensagem.  4 n√≠veis de mensagem s√£o suportados. <br><ol><li>  Erro - erros </li><li>  Aviso - avisos </li><li>  Info - Mensagens informativas </li><li>  Sucesso - mensagens sobre validade.  Por exemplo, voc√™ pode verificar se a senha √© realmente complexa. </li></ol><br></li></ul><br>  O pacote cont√©m o seguinte conjunto de valida√ß√µes: <br><ul><li>  <b>obrigat√≥rio</b> (... - campo obrigat√≥rio </li><li>  <b>notEmptyOrSpaces</b> (... - o campo n√£o est√° vazio e n√£o cont√©m apenas espa√ßos. De fato, obrigat√≥rio, levando em considera√ß√£o a proibi√ß√£o de espa√ßos. </li><li>  <b>padr√£o</b> (regExp: RegExp, ... - o primeiro par√¢metro √© a express√£o regular que o campo deve corresponder. Um erro ser√° gerado se n√£o houver correspond√™ncia de padr√£o. </li><li>  <b>invertPattern</b> (regExp: RegExp, ... - o primeiro par√¢metro √© a express√£o regular que o campo n√£o deve corresponder. Um erro ser√° gerado se houver uma correspond√™ncia de padr√£o. </li><li>  <b>minLength</b> (minlength: number, .... - o primeiro par√¢metro √© o comprimento m√≠nimo do texto inclusive. √â gerado um erro se o comprimento for menor que o transmitido. </li><li>  <b>maxLength</b> (maxlength: number, .... - o primeiro par√¢metro √© o comprimento m√°ximo do texto inclusive. √â emitido um erro se o comprimento for maior que o transmitido. </li><li>  <b>absoluteLength</b> (length: number, .... - o primeiro par√¢metro √© o tamanho exato do texto. Um erro ser√° emitido se o comprimento n√£o corresponder ao especificado. </li><li>  <b>minValue</b> (min: TEntity | (() =&gt; TEntity), ... - esta valida√ß√£o destina-se apenas a n√∫meros e datas. Um erro √© definido se o valor for menor que o especificado. A peculiaridade da valida√ß√£o √© a capacidade de aceitar n√£o apenas um valor espec√≠fico, mas tamb√©m function, o que significa que se voc√™ ler o valor nessa fun√ß√£o no campo @observable do objeto, a valida√ß√£o em si ser√° reiniciada n√£o apenas quando o campo no qual a valida√ß√£o est√° pendurada for alterado, mas tamb√©m quando o "campo vinculado" for alterado.  primeiro, exceto tag campo que √© lido como o valor @observable. </li><li>  <b>maxValue</b> (max: TEntity | (() =&gt; TEntity), ... - esta valida√ß√£o destina-se apenas a n√∫meros e datas. Um erro √© definido se o valor for maior que o especificado. O recurso de valida√ß√£o √© a capacidade de aceitar n√£o apenas um valor espec√≠fico, mas tamb√©m function, o que significa que se voc√™ ler o valor nessa fun√ß√£o no campo @observable do objeto, a valida√ß√£o em si ser√° reiniciada n√£o apenas quando o campo no qual a valida√ß√£o est√° pendurada for alterado, mas tamb√©m quando o "campo vinculado" for alterado.  primeiro, exceto campo tag que √© lido como o valor @observable </li><li>  <b>notContainSpaces</b> (... - diferente de notEmptyOrSpaces, um erro ser√° emitido se o valor contiver pelo menos um espa√ßo. </li><li>  <b>compare</b> (expression: (value: TEntity) =&gt; boolean (... - escrever sua pr√≥pria fun√ß√£o de valida√ß√£o gera muito c√≥digo de copiar e colar, esse wrapper foi desenvolvido para se livrar desse problema. Essa fun√ß√£o de valida√ß√£o aceita uma fun√ß√£o como o primeiro par√¢metro, que por sua vez passa o valor atual campos, que permitem que voc√™ fa√ßa uma verifica√ß√£o complexa, por exemplo, calculando o hash para o n√∫mero de NIF ou passaporte e retorne verdadeiro / falso.Um erro ser√° exibido se a verifica√ß√£o retornar falso. </li><li>  <b>isEqual</b> (value: string ... - uma verifica√ß√£o simples de correspond√™ncia de string. </li></ul><br>  A seguir, s√£o descritas as fun√ß√µes do wrapper que controlam o fluxo de gatilhos de valida√ß√£o. <br>  Deve-se observar que o conjunto de valida√ß√µes passadas para <b>FormControl</b> , <b>FormGroup</b> , <b>FormArray √©</b> iniciado em uma √∫nica matriz e, de fato, n√£o possui sequ√™ncia de execu√ß√£o.  Como resultado do trabalho, teremos nos campos <i>erros</i> , <i>avisos</i> , <i>informa√ß√µes</i> , mensagens, matrizes de <i>sucessos que</i> consistem em erros, avisos combinados em uma √∫nica matriz, etc ... <br>  Muitas vezes, o cliente quer ver apenas um erro, e n√£o todos de uma vez.  Al√©m disso, o TOR pode ser projetado para que uma verifica√ß√£o seja realizada somente ap√≥s a aprova√ß√£o da anterior. <br>  Para resolver esse problema, <b>wrapperSequentialCheck</b> √© usado.  Sua chamada e sua aplica√ß√£o n√£o s√£o diferentes do validador de fun√ß√£o usual, mas na entrada ele recebe uma matriz de validadores que ser√£o iniciados sequencialmente, ou seja,  A pr√≥xima valida√ß√£o √© iniciada somente ap√≥s a aprova√ß√£o anterior sem erros. <br>  A segunda fun√ß√£o do wrapper √© a fun√ß√£o de controle de fluxo das valida√ß√µes.  <b>wrapperActivateValidation como o</b> primeiro par√¢metro assume uma fun√ß√£o na qual as condi√ß√µes para a ativa√ß√£o da valida√ß√£o devem ser gravadas.  Diferentemente da fun√ß√£o de ativa√ß√£o que √© passada para o FormControl, essa verifica√ß√£o √© projetada para uma l√≥gica mais complexa.  Suponha que tenhamos um construtor comum para toda a forma de pagamento do <b>FormGroup</b> e, al√©m disso, existe apenas um m√©todo no servidor que aceita um conjunto comum de campos.  Mas o problema √© que, embora o formul√°rio seja um, dependendo do "tipo de pagamento", mostramos um conjunto diferente de campos para o usu√°rio.  Portanto, <b>wrapperActivateValidation</b> permite que <b>voc√™</b> escreva uma l√≥gica na qual v√°rias verifica√ß√µes ser√£o realizadas, dependendo do tipo de pagamento. <br>  O uso de wrappers ser√° parecido com fun√ß√µes comuns. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.megapole, [wrapperActivateValidation(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.info.A === <span class="hljs-number"><span class="hljs-number">10</span></span>, [ required(), pattern(<span class="hljs-regexp"><span class="hljs-regexp">/\^d{10}$/</span></span>) ]), wrapperActivateValidation(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.info.A === <span class="hljs-number"><span class="hljs-number">20</span></span>, [ wrapperSequentialCheck([ notContainSpaces(), pattern(<span class="hljs-regexp"><span class="hljs-regexp">/\^d{20}$/</span></span>) ]) ])], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.megapole = v) )</code> </pre><br>  Este exemplo mostra que as verifica√ß√µes <i>obrigat√≥rias (), padr√£o (/ \ ^ d {10} $ /)</i> ser√£o executadas apenas com <i>this.info.A === 10</i> e se <i>this.info.A === 20</i> , as <i>valida√ß√µes notContainSpaces (), pattern (/ \ ^ d {20} $ /)</i> funcionar√£o. Al√©m disso, essas valida√ß√µes funcionar√£o sequencialmente, ao contr√°rio do primeiro caso. <br><br>  Naturalmente, chegar√° o momento em que o conjunto padr√£o de valida√ß√µes n√£o ser√° mais suficiente. <br>  Ent√£o voc√™ deve escrever suas pr√≥prias fun√ß√µes ass√≠ncronas.  Felizmente, isso √© feito sem dificuldades. <br>  <b>O FormControl</b> foi originalmente aprimorado pelas fun√ß√µes de valida√ß√£o ass√≠ncrona, que podem querer acessar dados do servidor, e essa resposta precisa aguardar.  E, como resultado, todas as valida√ß√µes s√£o ass√≠ncronas. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkValueOnServer</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">control: FormControl</span></span></span><span class="hljs-function">): </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Promise</span></span></span><span class="hljs-function">&lt;</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ValidationEvent</span></span></span><span class="hljs-function">[]&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (control.value == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> []; } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> result = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> sendToServer(control.value); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (result.errorMessage) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ { <span class="hljs-attr"><span class="hljs-attr">message</span></span>: result.errorMessage, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: ValidationEventTypes.Error, }, ]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> []; }</code> </pre> <br>  Aqui voc√™ precisa prestar aten√ß√£o em dois objetos. <br>  Primeiro, sempre nos importamos com a matriz.  I.e.  de fato, voc√™ pode retornar v√°rias mensagens de erro de uma vez, se desejar. <br>  O segundo ponto √© o objeto retornado, com o seguinte conjunto de campos. <br><ul><li>  <b>key</b> ?: string - um campo opcional, permite especificar uma "chave" para uma valida√ß√£o espec√≠fica.  Para todas as chaves de base, a chave √© √∫nica e corresponde ao nome.  Voc√™ pode usar a tecla para renderizar a lista como reagir, mas, como a pr√°tica demonstrou, √© uma m√° id√©ia.  No futuro, no exemplo, mostrarei que √© melhor usar a mensagem e n√£o toque em nenhuma tecla.  De qualquer forma, √© como em Angunar, mas sua necessidade foi reduzida, de fato, a 0. </li><li>  <b>message</b> : string - uma mensagem de valida√ß√£o.  Campo obrigat√≥rio. </li><li>  <b>tipo</b> : ValidationEventTypes - tipo de mensagem. <br><ol><li>  Erro - erros </li><li>  Aviso - avisos </li><li>  Info - Mensagens informativas </li><li>  Sucesso - mensagens sobre validade.  Por exemplo, voc√™ pode verificar se a senha √© realmente complexa. </li></ol><br></li><li>  <b>additionalData</b> ?: any - informa√ß√µes adicionais que podem ser transmitidas juntamente com a valida√ß√£o, se necess√°rio.  Pode ser alguma marca√ß√£o html adicional ou um estilo espec√≠fico.  Em geral, voc√™ pode colocar tudo em qualquer. </li></ul><br><br><h2>  Extens√µes </h2><br>  Qualquer m√°gica √© baseada em coisas triviais.  E, nesse caso, para que a configura√ß√£o do foco funcione, obter altera√ß√µes nos campos requer vincular o <b>FormControl</b> em um campo de entrada espec√≠fico. <br>  Porque  <b>O FormControl</b> n√£o limita o desenvolvedor no tipo de dados validados, devido √† sua versatilidade, era necess√°rio sacrificar um pouco de aplicabilidade nos elementos de rea√ß√£o. <br>  Ao mesmo tempo, para entrada e √°rea de texto, foi poss√≠vel criar fun√ß√µes simples de liga√ß√£o de dados em um elemento; para outros componentes, o processador ainda precisar√° fazer esfor√ßos m√≠nimos para substituir os dados. <br><br>  Para entrada, a liga√ß√£o do elemento ao <b>FormControl</b> (nome) ficar√° assim. <br>  <b>&lt;input type = "text" {... InputFormControl.bindActions (controls.name)} /&gt;</b> <br>  Para a √°rea de texto, a liga√ß√£o ser√° assim <br>  <b>&lt;textarea {... TextAreaFormControl.bindActions (controls.name)} /&gt;</b> <br><br>  <b>InputFormControl.bindActions</b> e <b>TextAreaFormControl.bindActions</b> aceitam dois par√¢metros: <br><ul><li>  <b>formControl</b> : <b>FormControl</b> - na verdade FormControl que ser√° usado para liga√ß√£o.  Obrigat√≥rio. </li><li>  <b>eventos</b> ?  - Um par√¢metro opcional que cont√©m uma lista de fun√ß√µes que podem ser chamadas se voc√™ precisar personaliz√°-las.   ,  <b>bindActions</b>  -   Element,   ,     element     <b>FormControl</b> -,   .    .         event.     . <br><ul><li> ref </li><li> onChange </li><li> onBlur </li><li> onFocus </li></ul><br></li></ul><br>      ,      <b>FormControl</b> -   . <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormGroup&lt;IUserInfo&gt;({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name, [], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name = v) ) });</code> </pre> <br>       <i>this.userInfo.name</i> ,    <b>FormControl</b>    .                 <b>FormControl.for</b> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormGroup&lt;IUserInfo&gt;({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: FormControl.for(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo, <span class="hljs-string"><span class="hljs-string">'name'</span></span>, []) });</code> </pre> <br>   ,        name <i>name</i>  . ,     TypeScript,  <i>name</i> ,    .         <i>userInfo</i> ‚Äî    . <br><br>     ‚Äî   .  :) <br><br><h2>  Exemplo </h2><br>     React   TypeScript   mobx. <br>       . <br> <i>npm install @quantumart/mobx-form-validation-kit</i> <br><br><div class="spoiler"> <b class="spoiler_title">  ,      </b> <div class="spoiler_text">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> : <br><br>   ,     <br> <i>npm init ‚Äìy <br> npm install --save-dev webpack webpack-cli <br> npm install --save react react-dom <br> npm install --save-dev @types/react @types/react-dom <br> npm install --save-dev typescript ts-loader source-map-loader</i> <br><br>  <i>tsconfig.json</i> <br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"compilerOptions"</span></span>: { <span class="hljs-string"><span class="hljs-string">"outDir"</span></span>: <span class="hljs-string"><span class="hljs-string">"./dist/"</span></span>, <span class="hljs-string"><span class="hljs-string">"sourceMap"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"noImplicitAny"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"module"</span></span>: <span class="hljs-string"><span class="hljs-string">"commonjs"</span></span>, <span class="hljs-string"><span class="hljs-string">"target"</span></span>: <span class="hljs-string"><span class="hljs-string">"es6"</span></span>, <span class="hljs-string"><span class="hljs-string">"jsx"</span></span>: <span class="hljs-string"><span class="hljs-string">"react"</span></span>, <span class="hljs-string"><span class="hljs-string">"experimentalDecorators"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"emitDecoratorMetadata"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> } }</code> </pre><br>     <br><ul><li> src\components\Hello.tsx </li><li> src\index.tsx </li><li> index.html </li><li> src\assets\global.scss </li></ul><br><br> src\components\ <i>Hello.tsx</i> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Hello</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> Hello from TypeScript and React! </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } }</code> </pre><br> src\ <i>index.tsx</i> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> ReactDOM <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react-dom"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Hello } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./components/Hello"</span></span>; ReactDOM.render( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Hello</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">, document.getElementById("example") );</span></span></code> </pre> <br> <i>index.html</i> <br><pre> <code class="javascript hljs">&lt;!DOCTYPE html&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">html</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">head</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"UTF-8"</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">title</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Hello React!</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">title</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">head</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">body</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"example"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- Dependencies --&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"./node_modules/react/umd/react.development.js"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="undefined"></span><span class="hljs-tag"><span class="xml"><span class="undefined"></span><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"./node_modules/react-dom/umd/react-dom.development.js"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="undefined"></span><span class="hljs-tag"><span class="xml"><span class="undefined"></span><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- Main --&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"./dist/main.js"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="undefined"></span><span class="hljs-tag"><span class="xml"><span class="undefined"></span><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">body</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">html</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> src\assets\global.scss .row { display: inline; }</span></span></code> </pre> <br><br>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> <br>   webpack-dev-server <br> <i>npm install --save-dev webpack-dev-server <br> npm install --save-dev awesome-typescript-loader <br> npm install --save-dev html-webpack-plugin <br></i> <br>   <i>webpack.config.js</i> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> path = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'path'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> HtmlWebpackPlugin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'html-webpack-plugin'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = { <span class="hljs-attr"><span class="hljs-attr">entry</span></span>: <span class="hljs-string"><span class="hljs-string">'./src/index.tsx'</span></span>, <span class="hljs-attr"><span class="hljs-attr">resolve</span></span>: { <span class="hljs-attr"><span class="hljs-attr">extensions</span></span>: [<span class="hljs-string"><span class="hljs-string">'.ts'</span></span>, <span class="hljs-string"><span class="hljs-string">'.tsx'</span></span>, <span class="hljs-string"><span class="hljs-string">'.js'</span></span>] }, <span class="hljs-attr"><span class="hljs-attr">output</span></span>: { <span class="hljs-attr"><span class="hljs-attr">path</span></span>: path.join(__dirname, <span class="hljs-string"><span class="hljs-string">'/dist'</span></span>), <span class="hljs-attr"><span class="hljs-attr">filename</span></span>: <span class="hljs-string"><span class="hljs-string">'bundle.min.js'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">module</span></span>: { <span class="hljs-attr"><span class="hljs-attr">rules</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.tsx?$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'awesome-typescript-loader'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.(scss|css)?$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">use</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'style-loader'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'css-loader'</span></span>, <span class="hljs-attr"><span class="hljs-attr">options</span></span>: { <span class="hljs-attr"><span class="hljs-attr">importLoaders</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, }, }, { <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'sass-loader'</span></span>, <span class="hljs-attr"><span class="hljs-attr">options</span></span>: { <span class="hljs-attr"><span class="hljs-attr">sourceMap</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> } }, ], }, ] }, <span class="hljs-attr"><span class="hljs-attr">plugins</span></span>: [ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HtmlWebpackPlugin({ <span class="hljs-attr"><span class="hljs-attr">template</span></span>: <span class="hljs-string"><span class="hljs-string">'./index.html'</span></span> }) ] }</code> </pre><br>   ,  mobx  React. <br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"mobx"</span></span>: <span class="hljs-string"><span class="hljs-string">"4"</span></span>, <span class="hljs-string"><span class="hljs-string">"mobx-react"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.1.1"</span></span>,</code> </pre><br> C IE10   mobx,  4  ,        package.json. <br>    <br><pre> <code class="javascript hljs"> <span class="hljs-string"><span class="hljs-string">"style-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^0.23.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"css-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"node-sass"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.12.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"sass-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^7.1.0"</span></span></code> </pre><br>    <br> <i>npm install</i> <br><br>     ,     . <br> <i>npm install @quantumart/mobx-form-validation-kit</i> <br>      <br><img src="https://habrastorage.org/webt/et/ta/rp/ettarpotjc8felvv-fwwc9wyjiy.png"><br><br>  <i>package.json</i>   <br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"ttt"</span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"main"</span></span>: <span class="hljs-string"><span class="hljs-string">"index.js"</span></span>, <span class="hljs-string"><span class="hljs-string">"scripts"</span></span>: { <span class="hljs-string"><span class="hljs-string">"start"</span></span>: <span class="hljs-string"><span class="hljs-string">"webpack-dev-server --mode development --open"</span></span>, <span class="hljs-string"><span class="hljs-string">"test"</span></span>: <span class="hljs-string"><span class="hljs-string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></span> }, <span class="hljs-string"><span class="hljs-string">"keywords"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"license"</span></span>: <span class="hljs-string"><span class="hljs-string">"MIT"</span></span>, <span class="hljs-string"><span class="hljs-string">"devDependencies"</span></span>: { <span class="hljs-string"><span class="hljs-string">"@types/react"</span></span>: <span class="hljs-string"><span class="hljs-string">"^16.9.5"</span></span>, <span class="hljs-string"><span class="hljs-string">"@types/react-dom"</span></span>: <span class="hljs-string"><span class="hljs-string">"^16.9.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"awesome-typescript-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^5.2.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"html-webpack-plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.2.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"source-map-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^0.2.4"</span></span>, <span class="hljs-string"><span class="hljs-string">"ts-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.2.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"typescript"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.6.3"</span></span>, <span class="hljs-string"><span class="hljs-string">"webpack"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.41.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"webpack-cli"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.3.9"</span></span> }, <span class="hljs-string"><span class="hljs-string">"dependencies"</span></span>: { <span class="hljs-string"><span class="hljs-string">"@quantumart/mobx-form-validation-kit"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.0.8"</span></span>, <span class="hljs-string"><span class="hljs-string">"mobx"</span></span>: <span class="hljs-string"><span class="hljs-string">"4"</span></span>, <span class="hljs-string"><span class="hljs-string">"mobx-react"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.1.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"react"</span></span>: <span class="hljs-string"><span class="hljs-string">"^16.10.2"</span></span>, <span class="hljs-string"><span class="hljs-string">"react-dom"</span></span>: <span class="hljs-string"><span class="hljs-string">"^16.10.2"</span></span>, <span class="hljs-string"><span class="hljs-string">"webpack-dev-server"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.8.2"</span></span>, <span class="hljs-string"><span class="hljs-string">"style-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^0.23.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"css-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"node-sass"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.12.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"sass-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^7.1.0"</span></span> } }</code> </pre> <br>   <br> <i>npm run start</i> <br><br>        <br> <i>Hello from TypeScript and React!</i> <br></div></div><br><br>   <i>Hello</i>   .     <i>RegistrationStore</i>    <i>RegistrationStore.ts</i> <br> src\RegistrationStore.ts <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observable } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RegistrationStore</span></span></span><span class="hljs-class"> </span></span>{ @observable public userInfo = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span> }; } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> registrationStore = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RegistrationStore();</code> </pre><br>    Hello.ts,  . <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observer } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx-react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { registrationStore } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"../RegistrationStore"</span></span>; @observer <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Hello</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ private changeName = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event: React.ChangeEvent&lt;HTMLInputElement&gt;</span></span></span><span class="hljs-function">) =&gt;</span></span> { registrationStore.userInfo.name = event.target.value; }; render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;React.Fragment&gt; &lt;h1&gt;, {registrationStore.userInfo.name}&lt;/h1&gt; &lt;div className="row"&gt; &lt;span&gt;:&lt;/span&gt; &lt;input type="text" value={registrationStore.userInfo.name} onChange={this.changeName} /&gt; &lt;/div&gt; &lt;/React.Fragment&gt; ); } }</code> </pre><br>      ,  Store   Mobx.                 input. <br>     ,  .      ,       .     ¬´¬ª            .          ,       . <br>        <br> <i><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">@quantumart/mobx-form-validation-kit</a></b></i> <br><br>     -   . <br> stc/ErrorWraper.tsx <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observer } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx-react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { FormControl } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"@quantumart/mobx-form-validation-kit"</span></span>; interface Props { <span class="hljs-attr"><span class="hljs-attr">formControl</span></span>: FormControl; } @observer <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ErrorWraper</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Props</span></span></span><span class="hljs-class">&gt; </span></span>{ render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> {this.props.children} {this.props.formControl.errors.map(error =&gt; ( </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">key</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{error.message}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"error"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> {error.message} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> ))} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } }</code> </pre> <br>     ,     -,   . <br><br>  Hello.tsx    . <br> - ‚Äî    changeName.      <i>{...InputFormControl.bindActions(controls.name)}</i> .            . <br> - ‚Äì     input,       input ,  ,  ,     . <br> - ‚Äì       <i>form</i>  <i>store</i> , ,  ,  componentWillUnmount  <i>registrationStore.form.dispose()</i> .     mobx    <b>FromControl</b>         . <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observer } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx-react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { registrationStore } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"../RegistrationStore"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { ErrorWraper } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"../ErrorWraper"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { InputFormControl } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"@quantumart/mobx-form-validation-kit"</span></span>; @observer <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Hello</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(props: any) { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(props); registrationStore.initForm(); } componentWillUnmount() { registrationStore.form.dispose(); } render() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> controls = registrationStore.form.controls; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;React.Fragment&gt; &lt;h1&gt;, {registrationStore.userInfo.name}&lt;/h1&gt; &lt;div className="row"&gt; &lt;span&gt;:&lt;/span&gt; &lt;ErrorWraper formControl={controls.name}&gt; &lt;input type="text" {...InputFormControl.bindActions(controls.name)} /&gt; &lt;/ErrorWraper&gt; &lt;/div&gt; &lt;/React.Fragment&gt; ); } }</code> </pre><br>      RegistrationStore.ts. <br>    . <br>   ( )      userInfo,        form.         -    userInfo. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observable } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { FormControl, FormGroup, AbstractControls } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"@quantumart/mobx-form-validation-kit"</span></span>; interface IUserInfo extends AbstractControls { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: FormControl; } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RegistrationStore</span></span></span><span class="hljs-class"> </span></span>{ @observable public userInfo = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span> }; @observable public form: FormGroup&lt;IUserInfo&gt;; public initForm(): <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormGroup&lt;IUserInfo&gt;({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name, [], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name = v) ) }); } } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> registrationStore = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RegistrationStore();</code> </pre></li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt470537/">https://habr.com/ru/post/pt470537/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt470519/index.html">Experi√™ncia na cria√ß√£o de assemblies Linux para atualiza√ß√µes de placa √∫nica com suporte</a></li>
<li><a href="../pt470521/index.html">Lan√ßamento do 3CX V16 Update 3 e o novo aplicativo m√≥vel 3CX para Android</a></li>
<li><a href="../pt470529/index.html">Como traduzimos o projeto legado para o GraphQL</a></li>
<li><a href="../pt470531/index.html">O neurofisiologista discute o projeto Neuralink e fala sobre o trabalho do c√©rebro "nos dedos"</a></li>
<li><a href="../pt470535/index.html">Maneiras de criar gr√°ficos de barras usando Python</a></li>
<li><a href="../pt470541/index.html">No√ß√µes b√°sicas de trabalho com o Neo4j em um navegador</a></li>
<li><a href="../pt470543/index.html">Como colocamos o gerenciamento de infraestrutura no Terraform - e come√ßamos a viver</a></li>
<li><a href="../pt470547/index.html">Tarefas de aipo: novo decorador, novos recursos</a></li>
<li><a href="../pt470549/index.html">TSMC espera seguir a lei de Moore nas pr√≥ximas d√©cadas</a></li>
<li><a href="../pt470553/index.html">Integral de Euler-Poisson. Detalhes sobre m√©todos de c√°lculo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>