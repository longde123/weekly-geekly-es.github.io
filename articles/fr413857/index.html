<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîä ü§ôüèø üìü Biostar Racing P1: √©chappement √† froid üçè üßùüèΩ üë∂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nous n'avons pas √©t√© les premiers √† remarquer que les ordinateurs compacts tels que le Intel Compute Stick ne sont pas assez bons en termes de perform...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Biostar Racing P1: √©chappement √† froid</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/413857/"><p> Nous n'avons pas √©t√© les premiers √† remarquer que les ordinateurs compacts tels que le Intel Compute Stick ne sont pas assez bons en termes de performances.  Se familiariser avec un appareil similaire de Biostar, les attentes n'√©taient pas les plus optimistes.  Comme les plus jeunes mod√®les d'ordinateurs portables, Racing P1 fonctionne sur l'un des processeurs les plus faibles de la famille Atom Z8000.  Cependant, la puce x5-Z8350 choisie par Biostar est m√™me une √©tape, mais plus productive que son fr√®re cadet.  Essayons d'√©valuer les performances de cette plateforme qui, gr√¢ce aux efforts de Biostar, n'est plus un stick, mais ce n'est pas non plus un ordinateur portable. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/825/886/4fb/8258864fb4a4fa73403bde1e34a6f5b9.jpg"></div><a name="habracut"></a>  <b>Fig 1</b> .  <i>USB 3.0 / 2.0, un emplacement pour carte SD, des contacts de r√©tro√©clairage, une prise casque et un bouton d'alimentation sur le panneau avant</i> <br><br><p>  Les outils utilis√©s sont le benchmark NCRB (NUMA CPU et RAM Benchmarks) pour Win64 et l'utilitaire multiplateforme pour identifier le processeur JavaCPUID. </p><br><h3>  CPU </h3><br><p>  L'instruction CPUID confirme que le processeur Intel Atom x5-Z8350 est install√© sur la plate-forme <i>Biostar Racing P1</i> .  Sa fr√©quence nominale est de 1,44 GHz, ce qui ne l'emp√™che cependant pas d'acc√©l√©rer l√©galement √† 1,92 GHz si n√©cessaire.  M√™me avec une courte connaissance de cette plate-forme, le paradoxe est √©vident: son fonctionnement dans la plage de 1,44 √† 1,92 est plus une r√®gle qu'une exception. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7f7/8d1/e9c/7f78d1e9cc72d95769caf549a41b7c3f.png"></div>  <b>Fig 2</b> .  <i>Sp√©cifications d'usine d'Intel Atom x5-Z8350</i> <br><p>  La d√©cision du processeur x5-Z8350 de s√©lectionner la fr√©quence d'horloge minimale ou standard et de d√©marrer le mode Turbo est bas√©e sur une analyse de la charge et de la temp√©rature de fonctionnement.  Le cadre SDP (Scenario Dissipated Power) d√©finit la consommation √©lectrique typique d'un appareil.  Les m√©canismes de contr√¥le √©valuent ind√©pendamment la situation et, dans le cas d'une charge "l√©g√®re", r√©duisent la consommation d'√©nergie de la puce.  La possibilit√© d'activer le mode Turbo est fonction de la temp√©rature, de sorte que les r√©sultats des tests d'√©t√© et d'hiver peuvent varier.  En g√©n√©ral, le Racing P1 fait √©galement ¬´changer de chaussures¬ª pour la saison. </p><br><p>  Allant au-del√† de la port√©e de l'√©tude, nous notons que la postcombustion conduit √† une consommation allant jusqu'√† 7 watts sur les lignes √©lectriques ~ 220 V.Le mode croisi√®re Racing P1 r√©duit d'environ cette valeur de moiti√©, le mode veille n√©cessite un peu plus de 2 watts du secteur (le contr√¥le de la consommation a √©t√© effectu√© avec un wattm√®tre domestique normal) . </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c2a/05a/cae/c2a05acae34684f82d67cfed5c7658c6.png"></div>  <b>Fig 3</b> .  <i>CPUID sur Intel Atom x5-Z8350 Caract√©ristiques</i> <br><p>  Intel Atom x5-Z8350 fonctionne avec des donn√©es d'une capacit√© maximale de 128 bits.  Les extensions fonctionnelles modernes AVX 256/512 ne sont pas prises en charge.  Cela signifie que notre outil de mesure sera un ensemble d'instructions vectorielles SSE 128, et l'objet de mesure - m√©moire cache et RAM dynamique. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/68d/54a/1c2/68d54a1c20acac89c79d156b90b1e6fb.png"></div>  <b>Fig 4</b> .  <i>Fen√™tre de s√©lection des informations syst√®me et du mode de test pour l'utilitaire NCRB: le menu de gauche affiche les jeux d'instructions, y compris les extensions fonctionnelles prises en charge par le processeur</i> <br><p>  Une digression importante est appropri√©e ici: dans le cas g√©n√©ral, la capacit√© maximale des op√©randes ne signifie pas une performance maximale.  Ainsi, un certain nombre de processeurs AMD jusqu'√† AM2, inclus, traitent deux t√©l√©chargements 64 bits avec des instructions MOV classiques plus rapidement qu'une charge SSE 128 bits avec des instructions MOVAPD.  Rappelant cela, avant d'exp√©rimenter, nous nous sommes assur√©s exp√©rimentalement - l'utilisation du SSE pour l'Atom x5-Z8350 est en effet le sc√©nario le plus productif. </p><br><h3>  Cache L1 </h3><br><p>  En r√®gle g√©n√©rale, la taille du cache est un multiple de la puissance de deux.  Au premier niveau, le fabricant essaie de le r√©partir uniform√©ment entre les instructions et les donn√©es.  Tous ces canons ne sont pas respect√©s par l'architecture du processeur x5-Z8350.  Chacun de ses quatre c≈ìurs poss√®de 32 kilo-octets de cache pour les instructions et 24 kilo-octets pour les donn√©es. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8fe/170/475/8fe170475bd9ea6e9ab10c06f25f1c63.png"></div>  <b>Fig 5</b> .  <i>Classification des niveaux de cache</i> <br><p>  Un certain nombre de sources donnent le produit de la taille de la m√©moire cache d'un c≈ìur par leur nombre, ce qui donne une vue plus impressionnante: cache d'instructions de 128 Ko et cache de donn√©es de 96 Ko.  La page officielle est traditionnellement silencieuse sur le cache L1, au moins au moment de la r√©daction de cet article. </p><br><p>  Notez que le cache de niveau z√©ro (similaire au cache de trace L1), qui stocke les instructions d√©cod√©es et am√©liore l'efficacit√© des cycles courts, n'est pas d√©clar√© par l'instruction CPUID.  La v√©rification de sa disponibilit√© et l'analyse du fonctionnement m√©ritent une publication s√©par√©e. </p><br><h4>  Th√©ories et pratiques: performances du cache </h4><br><p>  La mesure de la vitesse du cache consiste en des op√©rations cycliques de lecture ou d'√©criture d'un bloc dont la taille est inf√©rieure √† la taille du niveau de cache √©tudi√©, et donc les op√©rations d'acc√®s aux donn√©es sont des hits de cache.  En effet, le choix de la cible (L1, cache L2 ou DRAM) est d√©termin√© par la taille du bloc de donn√©es trait√©. </p><br><p>  Apr√®s avoir pr√©cis√© l'entit√© test√©e, nous proc√©dons √† la prise en compte des op√©rations au niveau des instructions machine.  Dans notre exp√©rience, nous utilisons un cycle √©tendu de seize instructions SSE2 MOVAPD, dont chacune transmet un op√©rande de 128 bits entre la m√©moire et l'un des registres XMM.  Par cons√©quent, 16 registres XMM0 ... XMM15 sont enti√®rement charg√©s en une seule it√©ration de la boucle. </p><br><p>  Pour √™tre complet, nous notons que l'instruction MOVAPD peut √©galement √™tre utilis√©e pour transf√©rer des donn√©es entre deux registres XMM, mais dans notre cas, les op√©rations de registre ne donneront pas une id√©e des performances des objets m√©moire.  La performance maximale est assur√©e par l'exigence d'alignement requise par l'instruction MOVAPD: l'adresse d'op√©rande doit √™tre un multiple de 16 octets (128 bits). </p><br><br><h4>  Rep√®res de cache L1 </h4><br><p>  Alors que le bloc de lecture ou d'√©criture est plus petit que la taille du cache L1 (sur le graphique, il s'agit de l'axe X), le taux de change est √©lev√©.  D√®s qu'un bloc d√©passe L1, des √©checs de cache se produisent et la vitesse baisse.  √âvidemment, lors de l'√©valuation des performances, l '¬´√©tape sup√©rieure¬ª correspondant √† la partie gauche du graphique est informative. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/01a/339/906/01a33990626cc946cb041b112585d9ce.png"></div>  <b>Fig 6</b> .  <i>Graphique de la vitesse de lecture d'un bloc de donn√©es sur sa taille;</i> <i><br></i>  <i>Quartier X = Taille L1</i> <br><p>  La vitesse maximale en m√©gaoctets par seconde (MBPS) correspond au nombre minimum de ticks par instruction ( <i>CPI, Clocks Per Instruction</i> ) et est d'environ <b>30 GBPS</b> . </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/84f/e62/34b/84fe6234bf43ecfc353184a1d9df3942.png"></div>  <b>Fig 7</b> .  <i>Le trac√© de la vitesse d'√©criture du bloc de donn√©es sur sa taille;</i> <i><br></i>  <i>Quartier X = Taille L1</i> <br><p>  Comme le montrent les graphiques, le point d'inflexion pour la lecture de L1 correspond √† une valeur th√©orique de 24 kilo-octets.  Pour m√©moire, la politique de mise en cache utilis√©e dans ce processeur se caract√©rise par une ¬´baisse pr√©coce¬ª de la vitesse, qui fera l'objet d'une √©tude distincte.  Mais maintenant, on peut le noter - cette politique ne contribue pas √† enregistrer des indicateurs de performance, m√™me si dans certains cas il est possible d'√©viter le colmatage de L1 avec des donn√©es inutiles. </p><br><p>  Les r√©sultats montrent la vitesse d√©velopp√©e par un c≈ìur du processeur Atom x5-Z8350.  Un certain nombre de tests, en particulier AIDA64, montrent les performances totales de tous les c≈ìurs. </p><br><p>  Nous effectuerons un petit calcul th√©orique en mod√©lisant le d√©bit de pointe.  Pour le CPU √† l'√©tude, la fr√©quence d'horloge en mode Turbo est de 1920 MHz.  128 bits ou 16 octets sont transmis en un cycle d'horloge: <br><br></p><ul><li>  1920 * 16 = 30720 (environ 30 gigaoctets par seconde) </li></ul><br><p>  Un compteur TSC (Time Stamp Counter) est utilis√© comme source d'intervalles de temps exemplaires.  √âtant donn√© que le c≈ìur du processeur et le TSC sont g√©n√©ralement synchronis√©s de mani√®re asynchrone, les valeurs des cycles d'horloge TSC par instruction sont des valeurs fractionnaires. </p><br><p>  Assurez-vous que le processeur fonctionne en mode Turbo, sur la base des valeurs de fr√©quence indiqu√©es dans la documentation.  Un cycle d'horloge de la fr√©quence centrale amplifi√©e de 1920 MHz est d'environ 0,521 nanosecondes.  Un cycle d'horloge de la fr√©quence nominale de 1440 MHz, sur lequel le compteur d'horodatage fonctionne, est d'environ 0,694 nanosecondes.  Pour les instructions ex√©cut√©es par cycle, la valeur th√©orique du nombre de cycles TSC par instruction (CPI) doit √™tre <br><br></p><ul><li>  0,521 / 0,694 = 0,750 </li></ul><br><p>  Les valeurs mesur√©es affich√©es de l'IPC minimum entre 0,759 et 0,767 sont assez proches de cette valeur. </p><br><h3>  Cache L2 </h3><br><p>  Quatre c≈ìurs du processeur √† l'√©tude sont divis√©s en deux groupes, deux c≈ìurs chacun.  La taille totale du cache L2 est de 2 Mo et est √©galement r√©partie entre eux.  La conclusion est √©vidente: 1 m√©gaoctet de cache L2 est disponible pour chaque c≈ìur, dont l'acc√®s est partag√© avec un voisin de groupe. </p><br><br><h4>  Rep√®res de cache L2 </h4><br><p>  La vitesse du cache L2 est l '¬´√©tape¬ª centrale qui se produit lorsque la double in√©galit√© de 24 Ko &lt;X &lt;1 Mo est observ√©e, lorsque le bloc de donn√©es trait√© n'est plus plac√© dans L1, mais toujours plac√© dans L2. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d0e/6b0/3f7/d0e6b03f7b4cd9a2ac0f87ce4d562475.png"></div>  <b>Fig 8</b> .  <i>Graphique de la vitesse de lecture d'un bloc de donn√©es sur sa taille;</i> <i><br></i>  <i>Quartier X = Taille L2</i> <br><p>  Comme le montrent les graphiques, une diminution de la vitesse due √† l'√©puisement de L2 se produit lorsque la limite de 1 Mo est d√©pass√©e.  La capacit√© √† ¬´emprunter¬ª une cache √† un groupe voisin, ayant d√©plac√© le moment de la diminution de la vitesse au point de 2 Mo, n'a pas √©t√© trouv√©e. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/46e/154/5ad/46e1545ad7f8b4b0cac033abff140d46.png"></div>  <b>Fig 9</b> .  <i>Le trac√© de la vitesse d'√©criture du bloc de donn√©es sur sa taille;</i> <i><br></i>  <i>Quartier X = Taille L2</i> <br><p>  L'indice de performance du cache d'√©criture L2 est proche de la lecture: 12 contre 11,5 GBPS.  Le contexte th√©orique de ce r√©sultat sera examin√© dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Biostar Racing P1: de facile √† complexe">prochaine publication</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr413857/">https://habr.com/ru/post/fr413857/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr413847/index.html">Monument d√©clencheur "vivant"</a></li>
<li><a href="../fr413849/index.html">Histoire de la marque Sennheiser: libert√© et vision</a></li>
<li><a href="../fr413851/index.html">St√©ganographie en paquets IP</a></li>
<li><a href="../fr413853/index.html">Aper√ßu des m√©thodes de gradient dans les probl√®mes d'optimisation math√©matique</a></li>
<li><a href="../fr413855/index.html">L'algorithme de d√©termination des bots et des offres sur Vkontakte</a></li>
<li><a href="../fr413859/index.html">R√©v√©ler les secrets d'un extraterrestre interplan√©taire</a></li>
<li><a href="../fr413861/index.html">L'Europe reproduit l'approche de r√©utilisabilit√© de SpaceX</a></li>
<li><a href="../fr413865/index.html">Caract√©ristiques d'une application d'entreprise R robuste</a></li>
<li><a href="../fr413867/index.html">AI a fait son premier film et c'est un film d'horreur</a></li>
<li><a href="../fr413871/index.html">Meilleures pratiques agiles et pratiques pour les √©quipes techniques et non techniques</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>