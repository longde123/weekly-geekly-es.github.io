<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§õüèø ü¶Ç üëÖ Otimiza√ß√£o da interface do usu√°rio do Unity ü•Ç ‚òØÔ∏è üöó</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este artigo discute a otimiza√ß√£o dos elementos da interface do usu√°rio dos projetos feitos no Unity. Com base nas informa√ß√µes da documenta√ß√£o oficial ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Otimiza√ß√£o da interface do usu√°rio do Unity</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/funcorp/blog/470608/"><p><img src="https://habrastorage.org/webt/zc/iw/5s/zciw5sbh_cn-pp5gmmxwu5rznm0.png" alt="imagem"></p><br><p>  Este artigo discute a otimiza√ß√£o dos elementos da interface do usu√°rio dos projetos feitos no Unity.  Com base nas informa√ß√µes da documenta√ß√£o oficial e na experi√™ncia pessoal, tentei explicar claramente os princ√≠pios de opera√ß√£o dos elementos da interface do usu√°rio.  Tamb√©m aqui voc√™ encontrar√° dicas pr√°ticas que ajudar√£o a melhorar o desempenho do seu projeto em rela√ß√£o √† interface do usu√°rio. </p><a name="habracut"></a><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Terminologia</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Introdut√≥rio</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Renderiza√ß√£o da interface do usu√°rio do Unity</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Redesenhando a interface do usu√°rio</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Malha</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Dicas gerais de otimiza√ß√£o da interface do usu√°rio</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Trabalhar com texto e sua otimiza√ß√£o</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Atlas de Sprite</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Resuma m√©todos de otimiza√ß√£o</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Fontes</a> </li></ul><br><h3 id="anchorthermsanchorterminologiya"><a name="therms"></a>  Terminologia </h3><br><p>  <strong>Os elementos da interface do usu√°rio</strong> s√£o todos os elementos do Unity relacionados √† constru√ß√£o de uma interface do usu√°rio.  Isso inclui, por exemplo: bot√£o, texto, imagem, menu suspenso etc. <br>  <strong>Tela (tela)</strong> - o elemento b√°sico da interface do usu√°rio, que √© um cont√™iner para o restante dos elementos. <br>  <strong>Malha</strong> - um conjunto de par√¢metros que descrevem um modelo 3D. <br>  <strong>Um quad</strong> √© uma malha que √© um quadril√°tero. <br>  <strong>Lote</strong> - combinando malhas de objetos em uma malha grande para renderiza√ß√£o mais r√°pida. <br>  <strong>Draw-call</strong> - um comando para desenhar do mecanismo para a API de gr√°ficos (por exemplo, OpenGL ou Direct3D). <br>  <strong>Fila transparente</strong> - uma fila para renderizar objetos transparentes. <br>  <strong>Mistura alfa</strong> ( <strong>mistura</strong> alfa) - um algoritmo para misturar pixels no canal alfa para obter uma imagem com transpar√™ncia. <br>  <strong>Atlas</strong> √© um tipo de recurso que combina v√°rias texturas em uma. </p><br><h3 id="anchorenteranchorvvodnaya"><a name="enter"></a>  Introdut√≥rio </h3><br><p>  Na otimiza√ß√£o da interface do usu√°rio, n√£o h√° regras universais que funcionem em qualquer situa√ß√£o.  Tudo se resume a encontrar um equil√≠brio entre o custo do lote e o n√∫mero de chamadas de compra.  Podem ser distinguidos quatro problemas principais: </p><br><ul><li>  Carga de GPU muito alta (excesso de carga na renderiza√ß√£o); </li><li>  muita carga de CPU ao reconstruir a tela; </li><li>  muitos elementos de mudan√ßa levando √† reconstru√ß√£o da tela; </li><li>  A carga da CPU √© muito grande para gera√ß√£o de malha (geralmente associada ao texto). </li></ul><br><h3 id="anchordrawanchorotrisovka-unity-ui"><a name="draw"></a>  Renderiza√ß√£o da interface do usu√°rio do Unity </h3><br><p>  O elemento b√°sico da interface do usu√°rio do Unity √© a tela.  Ele √© respons√°vel por gerar, classificar e renderizar malhas dos elementos da interface filho.  Todos os elementos da interface do usu√°rio devem ser filhos de qualquer tela, caso contr√°rio, eles n√£o ser√£o exibidos no jogo. <br><img src="https://habrastorage.org/webt/_o/tl/ym/_otlymxpp3b04alh9902hx3w9fu.png" alt="imagem"><br>  A renderiza√ß√£o ocorre do objeto mais distante ao mais distante da c√¢mera <strong>(de tr√°s para frente)</strong> na <strong>fila Transparente</strong> com mistura alfa. </p><br><p>  Separadamente, deve-se notar que a transpar√™ncia dos elementos da interface do usu√°rio <strong>N√ÉO</strong> afeta o desempenho.  Mesmo se o elemento consistir inteiramente em pixels "opacos", ele ainda ser√° renderizado usando a mistura alfa. </p><br><p>  Tamb√©m √© importante entender que, ao renderizar, todos os pixels de todos os elementos ativos s√£o processados.  N√£o depende se eles s√£o vis√≠veis, bloqueados por outros objetos ou mesmo completamente transparentes. </p><br><h3 id="anchorrebuildanchorperestroenie-interfeysa-polzovatelya"><a name="rebuild"></a>  Redesenhando a interface do usu√°rio </h3><br><p>  A reformula√ß√£o da interface do usu√°rio √© um processo de v√°rias etapas, incluindo a cria√ß√£o das malhas de cada elemento da interface do usu√°rio e a tentativa de corrigir essas malhas para minimizar o n√∫mero de <strong>chamadas</strong> de <strong>empate</strong> . </p><br><p>  A reconstru√ß√£o ocorre em quatro est√°gios: </p><br><ol><li>  Estruturas de elementos s√£o analisadas. </li><li>  As malhas de todos os elementos ativos, incluindo elementos com transpar√™ncia zero, s√£o reconstru√≠das. </li><li>  Reconstr√≥i materiais para malhas de elementos de malha. </li><li>  Todos os elementos s√£o desenhados de acordo com sua ordem. </li></ol><br><p>  A tela reconstru√≠da √© armazenada em cache e reutilizada at√© que um dos elementos na tela seja marcado como modificado. <br>  Objetos <strong>sujos</strong> s√£o marcados que foram ativados ou desativados;  que mudaram de material, posi√ß√£o, escala, rota√ß√£o;  o valor do texto do componente de texto foi alterado;  reatribui√ß√£o dos pais, etc. </p><br><p>  Nesse caso, a reconstru√ß√£o da tela novamente cont√©m pelo menos um elemento alterado.  Verdade, isso se aplica apenas √† tela na qual o elemento est√° localizado.  Ou seja, altera√ß√µes nos elementos nas telas filho n√£o afetam os pais. </p><br><p>  Quanto mais elementos na tela, maior o custo de analisar e classificar objetos. </p><br><h3 id="anchorbatchanchorbatching-meshey"><a name="batch"></a>  Malha </h3><br><p>  A mesclagem de malhas, ou lotes, ajuda a reduzir a carga na GPU, reduzindo o n√∫mero de chamadas de empate.  Durante o processo de lote, as malhas s√£o classificadas por profundidade e verificadas quanto √† sobreposi√ß√£o.  Ao passar do elemento distante para o elemento pr√≥ximo (ou do elemento superior para o inferior na hierarquia), objetos com os mesmos materiais ou texturas s√£o combinados em uma malha na mesma tela.  Para isso, n√£o deve haver objetos com outros materiais entre eles.  Al√©m disso, objetos com outros materiais n√£o devem se sobrepor aos objetos cozidos com seus recipientes gerais.  A opera√ß√£o de lote √© multithread, seu desempenho varia muito, dependendo do n√∫mero de n√∫cleos no processador. </p><br><p>  O texto pode tremular com outro texto se eles tiverem a mesma fonte.  N√£o importa se as configura√ß√µes e os estilos de fonte s√£o iguais ou diferentes.  Se as fontes forem diferentes, o texto n√£o ser√° rolado. </p><br><p>  Tamb√©m deve-se ter em mente que o texto pode sobrepor um objeto ao seu cont√™iner geral e essa sobreposi√ß√£o pode ser facilmente ignorada. <br><img src="https://habrastorage.org/webt/hp/25/q6/hp25q6lnrkta2lfzglksyejea34.png" alt="imagem"></p><br><p>  Considere um exemplo.  Existem tr√™s objetos A, B e C organizados em uma hierarquia desta maneira: <br><img src="https://habrastorage.org/webt/iq/s-/7e/iqs-7ev081f2-yspnchyfhu7ejy.png" alt="imagem"><br><img src="https://habrastorage.org/webt/-x/xi/4o/-xxi4olr9aexg7rk2sic-4vntrw.png" alt="imagem"><br>  Na imagem √† esquerda, os objetos A e C ser√£o mesclados, porque  t√™m o mesmo material e n√£o se cruzam com o objeto B. Na imagem √† direita, os objetos A e C n√£o ser√£o combinados, porque  existe uma interse√ß√£o com o objeto B. </p><br><h3 id="anchorcommonanchorobschie-sovety-po-optimizacii-ui"><a name="common"></a>  Dicas gerais de otimiza√ß√£o da interface do usu√°rio </h3><br><p>  Antes de iniciar a otimiza√ß√£o, √© altamente recomend√°vel que voc√™ crie um perfil da interface do usu√°rio.  Isso ajudar√° a identificar gargalos que levam √† perda de desempenho (se houver).  Para cria√ß√£o de perfil, existem muitas ferramentas, integradas ao Unity (Unity Profiler) e de terceiros.  Mas n√£o discutiremos os problemas de cria√ß√£o de perfil de interface do usu√°rio neste artigo. </p><br><p>  Aqui est√£o algumas sugest√µes para otimizar sua interface do usu√°rio no Unity: </p><br><ol><li>  Desligue objetos invis√≠veis.  Se um elemento for sobreposto por um elemento opaco, ser√° necess√°rio desativar o GameObject ou o GameObject pai do elemento sobreposto.  Ao mesmo tempo, os elementos da interface com alfa definido como 0 ainda ser√£o desenhados.  Para esses objetos, voc√™ precisa habilitar Cull Transparent Mesh no componente Canvas Renderer ou simplesmente desabilitar objetos invis√≠veis. <br><img src="https://habrastorage.org/webt/gq/mf/hb/gqmfhb92x6wbpjgs3imcclryb8m.png" alt="imagem"></li><li>  Desative objetos do mundo ocultos por uma interface opaca.  Se a interface n√£o cobrir o mundo inteiro, voc√™ poder√° salv√°-la na Textura de renderiza√ß√£o e desligar a c√¢mera mundial. </li><li>  Minimize o n√∫mero de pixels para desenhar.  Combine o m√°ximo de imagens poss√≠vel em uma.  Por exemplo, faz sentido transformar os bot√µes em um √∫nico sprite, em vez de separar camadas com fundo, tra√ßado, corpo do bot√£o etc.  Isso reduzir√° a flexibilidade de trabalhar com esses elementos e poder√° levar ao entupimento de recursos, portanto, √© necess√°rio buscar um compromisso. <br><img src="https://habrastorage.org/webt/sh/o8/q-/sho8q-hlftycczgnzevncmx1hoa.png" alt="imagem"></li><li>  Evite elementos vazios que servem apenas para organizar a estrutura (n√£o use elementos como nomes de "pastas" na hierarquia de documentos). </li><li>  Evite cruzar objetos que n√£o possam assar um com o outro.  Se poss√≠vel, √© melhor alterar a posi√ß√£o na hierarquia, o tamanho do cont√™iner ou a posi√ß√£o de elementos sobrepostos e sem empilhamento. </li><li>  Use tela separada ou aninhada para elementos din√¢micos.  Portanto, voc√™ minimiza o custo de classifica√ß√£o e reconstru√ß√£o da estrutura da tela que cont√©m um grande n√∫mero de elementos.  Telas aninhadas s√£o mais convenientes, porque  herdar as configura√ß√µes da tela pai.  Ao mesmo tempo, ao alterar a tela pai, todos os aninhados tamb√©m ser√£o reconstru√≠dos.  Isso √© bastante raro, mas acontece (por exemplo, ao alterar a resolu√ß√£o da tela).  Lembre-se de que objetos de diferentes telas ou telas aninhadas N√ÉO s√£o projetados para renderiza√ß√£o em conjunto.  Recomenda-se dividir as telas de acordo com a regularidade da atualiza√ß√£o dos elementos.  Os elementos est√°ticos precisam ser colocados em uma tela separada e ser√£o desenhados apenas uma vez.  Se houver elementos que mudam constantemente, √© melhor combin√°-los em outra tela, porque  eles ainda ir√£o se reconstruir.  A altera√ß√£o de objetos tamb√©m pode ser dividida em v√°rias telas pela taxa de atualiza√ß√£o.  Por exemplo, os elementos atualizados a cada quadro s√£o colocados em uma tela e os elementos atualizados com menos frequ√™ncia em outro. </li><li>  Desativar o Pixel Perfect aumentar√° significativamente a produtividade.  Isso √© especialmente verdadeiro para objetos atualizados constantemente com um grande n√∫mero de elementos (por exemplo, rolagem de invent√°rio). <br><img src="https://habrastorage.org/webt/0d/zg/xi/0dzgxi_azqoacbfsdarrgr7nejo.png" alt="imagem"><br>  A tela <br><img src="https://habrastorage.org/webt/jv/qt/31/jvqt315ookagmhaiftexsaguz0g.png" alt="imagem"><br>  Tela aninhada </li><li>  Se voc√™ precisar desativar a tela, n√£o desative o objeto que a cont√©m (atrav√©s da fun√ß√£o <strong>SetActive</strong> ).  Na pr√≥xima vez em que voc√™ ativar os elementos dessa tela, ser√£o marcados como alterados e todos os elementos ser√£o reconstru√≠dos.  √â melhor desativar o componente da tela em si, para que toda a estrutura e os dados armazenados n√£o sejam alterados. Na pr√≥xima vez em que voc√™ ativar o componente da tela, eles apenas iniciar√£o o desenho. <br><img src="https://habrastorage.org/webt/pr/qo/-s/prqo-stitn0evgzxrddr54ncqwk.png"></li><li>  Para telas com <strong>Screen Space - Camera</strong> ou <strong>World Space</strong> selecionado no par√¢metro <strong>Render Mode</strong> , sempre instale uma c√¢mera.  Se voc√™ n√£o instal√°-lo, o sistema de interface com o usu√°rio em cada quadro o pesquisar√° atrav√©s de <strong>Object.FindObjectWithTag</strong> para localizar <strong>Camera.main</strong> , e isso afetar√° o desempenho. </li><li>  Para n√£o criar v√°rias texturas id√™nticas, voc√™ pode criar uma em tons de cinza e pint√°-la atrav√©s do componente Imagem, selecionando a cor desejada. <br><img src="https://habrastorage.org/webt/o7/tj/jr/o7tjjrk1hyt5a1rqbukrw-upsh0.png"></li><li>  Deixe o <strong>sinalizador Raycast Target</strong> apenas nos itens que precisam de eventos de entrada e remova o restante.  Por padr√£o, o <strong>destino Raycast est√°</strong> ativado em muitos elementos (imagem, texto etc.).  Isso complica e retarda o trabalho do componente <strong>Raycaster</strong> , que lida com eventos de entrada na interface do usu√°rio do Unity.  Ao clicar ou gravar, ele percorre toda a hierarquia de elementos e pesquisa todos os componentes gr√°ficos com o <strong>sinalizador Raycast Target definido,</strong> verifica-os quanto √† possibilidade de eventos de entrada e, ap√≥s passar com √™xito nas verifica√ß√µes, os adiciona √† lista de ocorr√™ncias.  Depois disso, a lista de ocorr√™ncias √© classificada por profundidade, objetos fora da tela s√£o descartados.  Como resultado, fornece a lista final de ocorr√™ncias. <br>  Na interface do usu√°rio do Unity, muitos componentes (imagem, texto etc.) t√™m o <strong>sinalizador Raycast Target</strong> . </li></ol><br><p><img src="https://habrastorage.org/webt/vp/k8/ce/vpk8cecf2dr_svrostszl-hkeeo.png" alt="imagem"><br>  <strong>Alvo Raycast</strong> no componente de imagem. </p><br><p><img src="https://habrastorage.org/webt/lx/z9/3o/lxz93oxpurdfign10vwpuf8mnv0.png" alt="imagem"><br>  <strong>O TextMeshPro</strong> o oculta na guia <strong>Configura√ß√µes extras</strong> . </p><br><p><img src="https://habrastorage.org/webt/k_/63/09/k_6309bflccv61qqzc9g_rpu3u4.png" alt="imagem"><br>  No <strong>TextMeshPro,</strong> voc√™ pode definir a configura√ß√£o padr√£o do <strong>Raycast Target</strong> em <strong>Configura√ß√µes do Player -&gt; TextMest Pro -&gt; Configura√ß√µes -&gt; Ativar o Raycast Target</strong> . </p><br><p>  Os elementos s√£o testados quando: </p><br><ul><li>  Alvo Raycast ativado </li><li>  o pr√≥prio elemento √© ativado e ativado; </li><li>  o ponto de inser√ß√£o est√° na interse√ß√£o com RectTransform. </li></ul><br><p>  Tamb√©m faz sentido remover o sinalizador Raycast Target dos filhos se o objeto raiz j√° o possuir e sobrepor completamente os filhos com sua geometria.  Por exemplo, o bot√£o padr√£o da interface do usu√°rio do Unity. </p><br><img src="https://habrastorage.org/webt/q7/6i/cz/q76iczyqwjxw6slf9ji6bgu1vqa.png"><br><p>  A imagem sobrep√µe completamente o texto √† sua forma; nesse caso, voc√™ pode remover o <strong>Raycast Target</strong> do componente de texto. </p><br><img src="https://habrastorage.org/webt/vf/oy/la/vfoylaklhkozlwt0dzboxd8r5vy.png"><br><p>  Se todos os elementos da tela n√£o aguardarem eventos de entrada, voc√™ poder√° remover o componente <strong>Graphic Raycaster</strong> da tela / tela aninhada. </p><br><h3 id="anchortextanchorrabota-s-tekstom-i-ego-optimizaciya"><a name="text"></a>  Trabalhar com texto e sua otimiza√ß√£o </h3><br><p>  O texto na interface do Unity consiste em grades nas quais cada s√≠mbolo √© criado em seu pr√≥prio quad.  A malha √© reconstru√≠da sempre que o valor do texto √© alterado.  A reconstru√ß√£o tamb√©m ocorre se o componente de texto ou seu pai tiver sido desativado e ativado novamente. </p><br><p>  Por padr√£o, as fontes no Unity s√£o adicionadas como din√¢micas.  Para cada fonte din√¢mica usada no componente de texto no palco, um atlas √© criado.  Somente caracteres usados ‚Äã‚Äãest√£o inclu√≠dos neste atlas.  Por exemplo, se o campo de texto contiver o texto "Novo texto", o atlas criado para ele conter√° os caracteres "N", "e", "w", "T", "x" e "t".  Para cada caractere diferente em tamanho ou estilo, uma representa√ß√£o ser√° criada no atlas. </p><br><img src="https://habrastorage.org/webt/ze/pw/jx/zepwjxjnaa7nk2qxvenmvt3flc4.png"><br><p>  Texto no palco </p><br><img src="https://habrastorage.org/webt/d0/1j/un/d01jun9sehx1lhs6wdrfwhyfn8q.png"><br><p>  Atlas de fontes </p><br><p>  Se durante a execu√ß√£o do programa o conte√∫do do componente de texto for alterado e aparecerem caracteres que n√£o est√£o no atlas, o atlas inteiro ser√° reconstru√≠do.  Se houver espa√ßo livre na textura do atlas, os s√≠mbolos necess√°rios ser√£o simplesmente adicionados l√°.  Ao mesmo tempo, os caracteres que n√£o est√£o em uso no momento n√£o ser√£o exclu√≠dos.  Se n√£o houver espa√ßo suficiente no atlas para novos caracteres, seu tamanho ser√° dobrado e preenchido novamente com base nos caracteres usados ‚Äã‚Äãnos componentes de texto ativos. </p><br><p>  Se um n√∫mero estritamente definido de caracteres for definido para um projeto, por exemplo, apenas o alfabeto latino, vale a pena usar fontes est√°ticas armazenadas permanentemente na mem√≥ria.  Se o seu projeto permitir um grande n√∫mero de caracteres, √© melhor recorrer a fontes din√¢micas. <br>  Voc√™ tamb√©m pode melhorar o desempenho substituindo o componente de texto por um sprite.  Por exemplo, os n√∫meros que aparecem no jogo (pontua√ß√£o) podem ser feitos usando sprites de um atlas contendo um conjunto apenas dos caracteres necess√°rios.  Nesse caso, n√£o haver√° custos para reconstruir a tela e o atlas da fonte. </p><br><p>  O uso de fontes substitutas, listadas no campo <strong>Nomes</strong> das fontes nas configura√ß√µes de fonte, aumenta a mem√≥ria usada.  Isso √© especialmente percept√≠vel nas fontes pictogr√°ficas. </p><br><p>  N√£o √© recomendado usar o <strong>Best Fit</strong> , pois  essa op√ß√£o leva a um transbordamento r√°pido do atlas e causa sua reestrutura√ß√£o. <br>  <strong>Melhor ajuste</strong> ignora as configura√ß√µes de tamanho da fonte e tenta ajustar o texto no ret√¢ngulo de contorno do componente de texto. </p><br><p>  Agora, <strong>algumas</strong> palavras sobre o <strong>TextMeshPro (TMP)</strong> , um substituto popular para o componente de texto padr√£o do Unity.  O TextMeshPro tamb√©m reconstr√≥i sua grade sempre que o valor do texto √© alterado.  No entanto, o texto TMP n√£o usa fontes din√¢micas.  Para isso, atlas de fontes s√£o gerados antecipadamente, que incluem todos os caracteres necess√°rios.  Se, para algum texto em cena, n√£o houver nenhum caractere na fonte atribu√≠da ao seu componente, o TMP come√ßar√° a procurar nas fontes de backup.  Se n√£o houver nada l√°, o TMP tentar√° encontrar esse caractere em todas as fontes baixadas. </p><br><p>  <strong>O Melhor ajuste no</strong> <strong>TMP</strong> n√£o cria problemas como um componente de texto comum, portanto pode ser usado. </p><br><p>  Um grande n√∫mero de fontes com diferentes localiza√ß√µes ou grandes atlas de fontes pode consumir muita mem√≥ria.  Portanto, √© melhor usar o pr√©-carregamento apenas das fontes necess√°rias para uma localiza√ß√£o espec√≠fica. </p><br><p>  <strong>A World Space</strong> recomenda o uso do <strong>TextMeshPro em</strong> vez do <strong>TextMeshProUGUI</strong> . <br>  <strong>TextMeshProUGUI √©</strong> usado em telas. </p><br><h3 id="anchoratlasanchoratlasy-spraytov"><a name="atlas"></a>  Atlas de Sprite </h3><br><p>  <strong>Os atlas de Sprite</strong> s√£o um tipo de recurso que combina v√°rias texturas em uma.  Eles permitem reduzir o n√∫mero de draws ( <strong>draw calls</strong> ) e aumentar a produtividade. </p><br><p>  Cria√ß√£o de Atlas. <br>  Crie um atlas: <strong>Ativo&gt; Criar&gt; Atlas Sprite</strong> . <br>  Selecione o atlas e coloque o sprite necess√°rio em <strong>Objetos para embalagem</strong> . <br><img src="https://habrastorage.org/webt/bs/dl/8n/bsdl8nc2krqqx0hj7kwdckcatzc.png" alt="imagem"><br>  Clique em <strong>Visualizar pacote</strong> para visualizar o atlas. <br><img src="https://habrastorage.org/webt/z2/ct/l1/z2ctl1uykvlwq_xelfoc3gezmdc.png" alt="imagem"><br>  Lembre-se de que, mesmo que um ou mais sprites do atlas sejam usados ‚Äã‚Äãem cena, o atlas ainda ser√° carregado por inteiro.  Portanto, n√£o faz sentido tentar incorporar todas as imagens em um atlas gigante, que em dispositivos com pouca RAM pode ter sua parte tang√≠vel.  √â melhor invadir alguns atlas menores, por exemplo, o atlas da interface do usu√°rio do menu do jogo e o atlas da interface do modo de jogo. </p><br><p>  Evite grandes espa√ßos vazios no atlas, para n√£o ocupar espa√ßo em excesso de mem√≥ria.  Para fazer isso, voc√™ pode redimensionar o atlas ou adicionar imagens adicionais para preencher o espa√ßo vazio o m√°ximo poss√≠vel. <br><img src="https://habrastorage.org/webt/vc/4n/f5/vc4nf5zljiikgjg83qau04b022q.png" alt="imagem"><br><img src="https://habrastorage.org/webt/r7/k2/w0/r7k2w0csvrfxsevgjw2nop0_zb8.png" alt="imagem"><br>  Para imagens que n√£o est√£o no atlas, voc√™ deve selecionar as configura√ß√µes corretas. <br>  Para cada formato de compacta√ß√£o, existem requisitos sob os quais ele funcionar√° com efici√™ncia.  Os requisitos de imagem mais comuns: </p><br><ul><li>  largura e altura devem ser m√∫ltiplos da pot√™ncia de dois; </li><li>  largura e altura devem ser m√∫ltiplos de 4; </li><li>  ambos os par√°grafos anteriores juntos. <br>  Caso contr√°rio, a textura n√£o ser√° compactada e ocorrer√£o custos adicionais de mem√≥ria do dispositivo. </li></ul><br><p>  Ao escolher um formato de compacta√ß√£o, o Unity informar√° se algum requisito para o formato selecionado n√£o foi atendido. <br><img src="https://habrastorage.org/webt/_s/tq/0c/_stq0cqnfhbnoczd2yrqm0d1iic.png" alt="imagem"></p><br><p>  Tamb√©m n√£o esque√ßa que os formatos s√£o diferentes do dispositivo de destino.  Para mais informa√ß√µes e recomenda√ß√µes sobre formatos, consulte a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">documenta√ß√£o oficial</a> : </p><br><h3 id="anchorresumeanchorrezyumiruem-sposoby-optimizacii"><a name="resume"></a>  Resuma m√©todos de otimiza√ß√£o </h3><br><ul><li>  Desativar objetos invis√≠veis e transparentes </li><li>  Minimize o n√∫mero de itens </li><li>  Evite cruzar objetos que n√£o possam assar uns com os outros </li><li>  Distribuir itens por tela com base na taxa de atualiza√ß√£o </li><li>  Para telas com elementos atualizados com freq√º√™ncia, desative o Pixel Perfect </li><li>  Desativar destino de Raycast em itens n√£o clic√°veis </li><li>  Remova o componente Graphic Raycaster na tela em que todos os elementos n√£o podem ser clicados </li><li>  Para componentes de texto normais, n√£o use Melhor ajuste </li><li>  Para TextMeshPro No World Space, use TextMeshPro em vez de TextMeshProUGUI.  TextMeshProUGUI usado em telas </li><li>  Defina a c√¢mera nas configura√ß√µes de tela, se necess√°rio </li><li>  Desative a tela desabilitando o componente de tela </li><li>  Use sprites em escala de cinza e colore as configura√ß√µes do componente de imagem </li><li>  Use atlas de sprite </li><li>  Use o tamanho e formato de compacta√ß√£o corretos para texturas que n√£o est√£o no atlas </li></ul><br><h3 id="anchorlinksanchoristochniki"><a name="links"></a>  Fontes: </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Informa√ß√µes abrangentes sobre otimiza√ß√£o da interface do usu√°rio do Unity</a> </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Outra fonte oficial sobre este t√≥pico cont√©m informa√ß√µes de forma mais concisa.</font></font></a> </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artigos t√©cnicos da Atlas</font></font></a> </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Informa√ß√µes adicionais sobre formatos de compacta√ß√£o de textura</font></font></a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt470608/">https://habr.com/ru/post/pt470608/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt470596/index.html">Recursos do Q e KDB + no exemplo de um servi√ßo em tempo real</a></li>
<li><a href="../pt470598/index.html">O livro "Java moderno. Express√µes, fluxos e programa√ß√£o funcional Lambda ‚Äù</a></li>
<li><a href="../pt470600/index.html">Sobre consoles noVNC seguros, escalonamento autom√°tico em Kubernetes, Haproxy em Ostrovka e o trabalho de administradores com programadores</a></li>
<li><a href="../pt470602/index.html">Como seria o metr√¥ de Moscou em um mundo tridimensional</a></li>
<li><a href="../pt470604/index.html">Velocidade de carregamento de sites no com√©rcio eletr√¥nico: an√°lise das 48 principais lojas online da R√∫ssia</a></li>
<li><a href="../pt470610/index.html">Um dia na vida de um desenvolvedor</a></li>
<li><a href="../pt470612/index.html">O que um volt√≠metro mostra ou soquetes matem√°ticos</a></li>
<li><a href="../pt470614/index.html">Como os gr√°ficos do NES foram organizados?</a></li>
<li><a href="../pt470616/index.html">Uma nova solu√ß√£o para o paradoxo de Fermi (por que estamos sozinhos no universo)</a></li>
<li><a href="../pt470618/index.html">Modelagem tem√°tica de not√≠cias usando an√°lise fatorial</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>