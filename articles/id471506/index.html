<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚵🏾 🧚🏿 🌸 Pembulatan angka desimal yang benar dalam kode biner 💔 🗝️ 🎭</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salah satu masalah serius dengan angka desimal yang diwakili dalam kode biner adalah masalah pembulatan angka biner ke nilai angka desimal yang paling...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pembulatan angka desimal yang benar dalam kode biner</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/471506/"> Salah satu masalah serius dengan angka desimal yang diwakili dalam kode biner adalah masalah pembulatan angka biner ke nilai angka desimal yang paling dekat dengan angka desimal yang dibulatkan dengan benar.  Di bawah ini kami membahas masalah ini dan memberikan algoritma sederhana untuk pembulatan yang tepat.  Pengoperasian algoritma diilustrasikan oleh program uji di C ++. <br><a name="habracut"></a><br>  Ingat bahwa angka desimal yang dapat diwakili adalah angka yang nilainya dapat diwakili secara akurat oleh kode biner.  Jadi, angka 0,125 persis sama dengan angka biner 0,001.  Dapat juga dikatakan bahwa nilai dari setiap bilangan biner <i>y</i> sama dengan beberapa bilangan desimal representatif <i>x</i> .  Sebagai contoh, nilai angka biner <i>y</i> = 1.001101 * 2 ^ -3 sama dengan nilai angka representatif desimal <i>x</i> = 0,150390625. <br>  Kami mengatakan bahwa angka biner y setara dengan angka desimal <i>x</i> .  Sebaliknya, angka desimal <i>x</i> sama dengan angka biner <i>y</i> . <br><br>  Mari kita lihat apa yang terjadi dengan angka desimal ketika dimasukkan dari konsol, atau ketika muncul dalam program sebagai konstanta. <br>  Setiap angka desimal dikonversi (dikonversi) oleh kompiler ke dalam format yang ditentukan oleh programmer.  Karena angka biner diproses paling cepat di komputer, angka desimal input dikonversi, paling sering, ke format titik tetap (termasuk int), atau ke salah satu format titik apung - format biner tunggal, ganda, atau ke format biner lainnya . <br><br>  Menurut standar IEEE754, bilangan real dalam format internal mesin direpresentasikan dalam bentuk biner yang dinormalisasi.  Jadi, bilangan real positif biner <i>y</i> dapat direpresentasikan sebagai <i>y</i> <i>= b0.b1 ... bp * 2 ^ e (b0 ≠ 0).</i> <br>  Angka yang sama dapat direpresentasikan sebagai <i>0.b0b1 ... bp * 2 ^ (e + 1) (b0 ≠ 0)</i> jika <i>e + 1&gt; 0</i> dan <i>0.b0b1 ... bp * 2 ^ e (b0 ≠ 0)</i> jika <i>e &lt;0</i> . <br>  Selanjutnya kami akan mematuhi pandangan kedua, karena  dalam program uji C ++ kami di bawah ini, ada fungsi q = frexp (x, &amp; e), yang memungkinkan kita untuk menentukan nilai eksponen <i>e</i> dalam bilangan biner yang direpresentasikan sebagai <i>b0.b1 ... bp * 2 ^</i> <i>e</i> . <br><br>  Jadi, ekivalen desimal dari setiap angka dinormalisasi biner <i>y = 0.b0b1 ... bp * 2 ^ e (b0 ≠ 0)</i> sama dengan beberapa angka desimal dinormalisasi <i>x = 0.d0d1 ... dN ... dn * 10 ^ E (d0 ≠ 0).</i> <br>  Misalnya, angka <i>y = 0.1001101 * 2 ^ -2</i> setara dengan angka desimal yang dapat diwakili <i>x = 0,150390625</i> . <br>  Untuk mendapatkan angka <i>Xr</i> dari <i>x</i> sama dengan angka dibulatkan ke <i>N</i> digit signifikan, <i>X</i> harus dikalikan dengan faktor <i>10 ^ k</i> , di mana <i>k = NE</i> .  Ini diperlukan agar angka yang dihasilkan berisi bagian integer dengan <i>N</i> digit signifikan, yang kemudian dapat dibulatkan ke integer terdekat.  Bilangan bulat bulat harus dikurangi ke skala sebelumnya dengan mengalikannya dengan <i>10 ^ -k</i> .  Secara matematis, ini dapat ditulis dengan rumus berikut: <br>  <i>X = [x * 10 ^ k + 0,5] * 10 ^ -k = [y * 10 ^ k + 0,5] * 10 ^ -k, di</i> mana [] adalah bagian bilangan bulat dari angka tersebut. <br><br>  Dapat ditunjukkan bahwa bilangan biner bilangan bulat <i>B yang</i> mengandung angka biner <i>m</i> sama dengan nilai angka desimal <i>D</i> , yang berisi <i>n = ⌊m * log2⌋</i> tempat desimal, asalkan <i>B &lt;10 ^ n.</i>  <i>Dan sama dengan n = n +1</i> , asalkan <i>B ≥ 10 ^ n</i> .  Dalam perhitungan, kita bisa mengambil <i>log2≈0.301</i> . <br><br>  Kami menentukan nilai <i>k</i> berdasarkan informasi yang tersedia dalam representasi biner dari <i>y</i> .  Dalam rumus untuk <i>k,</i> akurasi pembulatan <i>N</i> diketahui, jadi kita perlu menentukan eksponen <i>E.</i> <br>  Eksponen <i>E</i> ditentukan dari relasi: <i>E = ⌊e * 0.301⌋</i> . <br>  Tetap memperhitungkan keadaan berikut.  Jika <i>x * 10 ^ k = X&gt; 10 ^ N</i> , maka Anda perlu mengalikannya dengan <i>10 ^ (- 1)</i> dan menyesuaikan koefisien <i>k</i> .  Kami mendapatkan <i>X = X * 10 ^ (- 1), k = k-1</i> . <br>  Angka bulat akan sama dengan <i>Xr = X * 10 ^ (- k)</i> . <br><br>  Sebagai hasilnya, kami memperoleh algoritma sederhana berikut untuk pembulatan desimal yang benar dari bilangan real biner.  Algoritma ini cocok untuk semua format angka biner dengan presisi pembulatan desimal <i>N.</i> <br>  Di pintu masuk: <br>  Akurasi pembulatan desimal <i>N</i> ; <br>  Adalah angka biner dalam format <i>y = 0.b0b1 ... bp * 2 ^ e (b0 ≠ 0)</i> . <br>  Output: Angka desimal bulat <i>X = 0.d0d1 ... dN * 10 ^ E.</i> <br>  - 1. Tentukan eksponen e dari angka biner y; <br>  2. E = ⌊e * 0.3⌋; <br>  3. k = NE; <br>  4. X = x * 10 ^ k; <br>  5. Jika X &lt;10 ^ N, maka item 8; <br>  6. X = X * 10 ^ -1; <br>  7. k = k-1; <br>  8. Xr = [X + 0.5] * 10 ^ (- k); <br>  Akhir <br>  - Dalam algoritma di atas, bilangan <i>Xr</i> adalah bilangan desimal yang dapat direpresentasikan yang paling dekat dengan bilangan, yang merupakan pembulatan yang benar dari bilangan <i>x</i> , yang pada gilirannya adalah ekivalen desimal dari bilangan <i>y</i> . <br>  Karena kita terbiasa bekerja dengan angka desimal, maka, sebagai aturan, aliran input adalah angka desimal.  Pada output, kami ingin mendapatkan angka desimal juga.  Misalnya, seperti di Excel.  Tapi, setelah mengubah angka desimal menjadi kode biner, mereka biasanya diubah secara permanen.  Sebagai akibatnya, pembulatan yang dikonversi ke angka biner mungkin tidak bersamaan dengan pembulatan angka yang dicetak pada konsol.  Ini berlaku terutama untuk kasus ketika kami mencoba untuk membulatkan angka desimal ke jumlah maksimum yang mungkin dari digit signifikan.  Untuk lajang, ini adalah 7, dan untuk gandakan itu adalah 15. <br>  Ini dapat diselidiki dengan baik pada program pengujian di bawah ini, yang ditulis penulis dalam C ++. <br><br>  Dalam program pengujian, berdasarkan permintaan, yang berikut dimasukkan ke konsol: <br>  - akurasi pembulatan desimal <i>N</i> dari angka <i>X</i> , yang merupakan angka representatif terdekat dari biner setara dengan angka <i>x</i> ; <br>  Apakah angka <i>x</i> dalam bentuk sewenang-wenang. <br><br>  Di bawah angka desimal yang dimasukkan <i>x,</i> angka <i>X</i> dicetak, yang merupakan angka yang paling dekat dengan <i>x</i> (lihat tangkapan layar di bawah). <br>  Pembulatan dilakukan pada angka <i>X</i> , karena  nilai tepat <i>x</i> hilang dalam konversi biner. <br>  Pengembalian: <br>  - angka desimal dalam format <i>Xr = M * 10 ^ (N + e), di</i> mana <i>M</i> adalah angka desimal bilangan bulat dengan <i>N</i> digit signifikan; <br>  Adalah bilangan <i>xr</i> , yang sama dengan bilangan representatif yang paling dekat dengan biner yang dinormalisasi dari bilangan <i>X.</i> <br><img src="https://habrastorage.org/webt/su/5-/g5/su5-g5wfbg4xm6py0ged3m9yeaq.png" alt="gambar"><br>  Di tangkapan layar: <br><br>  N = 15 - jumlah digit signifikan desimal di mana angka desimal input dibulatkan. <br>  x = 7.123456789098765321 e-89 adalah angka desimal yang ingin kita bulatkan menjadi 15 digit signifikan. <br>  X = 7.12345678909876559 e-089 - angka desimal yang dapat diwakilkan, nilainya sama dengan angka biner yang diperoleh dengan mengubah angka x ke format p = 53. <br>  Xr = x = 712345678909877e-103 - bilangan mantissa integer diperoleh dengan membulatkan angka X. <br>  xr = x = 7.12345678909877e-089 - angka yang diperoleh dengan menormalkan ekuivalen biner dari angka desimal Xr.  Ini adalah yang terdekat dengan Xr. <br><br>  Di bawah ini adalah kode program pengujian untuk pembulatan angka desimal yang benar yang diwakili dalam kode biner dalam C ++. <br><br><pre><code class="cpp">#include &lt;iostream&gt;
#include &lt;math.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;iomanip&gt;
using namespace std;

int main()
{
   double q,x,xr,X;
   unsigned long long int Xr;
   int N,p,E,e,k;

  cout &lt;&lt;"Input a binary precision p=";
  cin&gt;&gt;p;
  cout &lt;&lt;"Input a decimal precision N=";
  cin&gt;&gt;N;
  cout &lt;&lt;endl&lt;&lt;"Input a number and press ENTER:"&lt;&lt;"\n"&lt;&lt;"x= ";
  cin&gt;&gt;x;
   cout&lt;&lt;"X= "&lt;&lt; setprecision(18)&lt;&lt;x &lt;&lt; '\n';

    q=frexp (x, &amp;e);
    E =static_cast &lt;int&gt; (e*0.301);
    k=N-E;
   if (E&lt;0)       //for format xr=d0.d1...dN*10^E (d0≠0).
        k=k+1;
    X=x*pow(10,k);
       if (X &gt; pow (10,N)){
            X=X/10;
            k=k-1;
      }

       X=X+0.5;
       Xr=static_cast &lt;unsigned long long int&gt; (X);
       xr=Xr*pow(10,-k);

    cout&lt;&lt;endl &lt;&lt;"Xr= "&lt;&lt;Xr&lt;&lt;"e"&lt;&lt;-k&lt;&lt;'\n';
    cout&lt;&lt;"xr="&lt;&lt;xr&lt;&lt;'\n';

   system("pause");
      return 0;
}</code></pre><br>
<br>
      pow(10,k). ,   <i> k</i> ,    ,    <i>10^k</i>,   <i>5^k</i>.</div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id471506/">https://habr.com/ru/post/id471506/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id471496/index.html">Sedikit tentang model berlangganan di App Store</a></li>
<li><a href="../id471498/index.html">Peta kamera fiksasi jalan dibuat publik: bersukacita atau menangis?</a></li>
<li><a href="../id471500/index.html">Callback atau “Meningkatkan loyalitas pelanggan”</a></li>
<li><a href="../id471502/index.html">Pertanian Ide</a></li>
<li><a href="../id471504/index.html">Duet dua dimensi: pembuatan heterostruktur borofen-graphene</a></li>
<li><a href="../id471508/index.html">Admin tanpa senjata = hyperconvergence?</a></li>
<li><a href="../id471512/index.html">28 Oktober, Yekaterinburg - Komunikasi Berkualitas</a></li>
<li><a href="../id471514/index.html">Judul "Baca artikel untuk Anda." Januari - Juni 2019</a></li>
<li><a href="../id471516/index.html">Intel 665p - SSD dengan QLC NAND 96-layer</a></li>
<li><a href="../id471518/index.html">Apple pada 2019 adalah Linux pada 2000</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>