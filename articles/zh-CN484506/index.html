<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎦 🐓 👵🏾 我是一名摄影师，我将使自己成为一个工作工具 ♐️ 🤦🏾 🧑‍🤝‍🧑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="“中国人”在做非常酷的事情，包括在摄影师的设备领域。 在过去的十年中，质量已大大提高，他们开始开发自己的独特产品，其产品的销量比“知名制造商”的产品高出许多。 但是，由于某种原因，几乎每种产品都至少含有一种，但脂肪含量却很大。 电子产品的开发者似乎正确地加入了tk fad：“美中不足-至少200克”...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>我是一名摄影师，我将使自己成为一个工作工具</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/484506/"> “中国人”在做非常酷的事情，包括在摄影师的设备领域。 在过去的十年中，质量已大大提高，他们开始开发自己的独特产品，其产品的销量比“知名制造商”的产品高出许多。 但是，由于某种原因，几乎每种产品都至少含有一种，但脂肪含量却很大。 电子产品的开发者似乎正确地加入了tk fad：“美中不足-至少200克”。 <br><br> 不久前，我决定将自己置于恒定的光线下，并给自己买了一些“荧光棒”永诺yn-360。 棒子简直是神奇的，但当然有一个很大的缺点-远程控制的android应用程序实际上是行不通的。 除了该应用程序的次要缺点外，主要缺点是无法一次控制多个设备。 这个减号使控制功能失效，因为我仍然不得不反复使用棍子和手动调节灯光。 <br><br> 我有编程方面的经验，所以这种情况已经纠正了几个晚上。 <br><br><img src="https://habrastorage.org/webt/hv/gu/hs/hvguhssym-nj5mamtnukvyf8vty.jpeg" alt="图片"><br><a name="habracut"></a><br><h3> 选择开发工具 </h3><br> 我不是专业的开发人员-编程是我的爱好，因此我不准备花费很多时间学习技术。 碰巧是我最喜欢的python语言，但是对于移动开发而言，它并不十分适合。 当然，有很多奇妙的项目，例如kivy，但是实际上没有足够的“电池”，我在python（然后在JavaScript）中已经习惯了。 结果，我选择了使用apache cordova的JS，我已经在该项目上做了一个项目（顺便说一下，这与我的工作有些关系-在这个应用程序中，我“抽出”了我的四旋翼机dji spark，被市场营销商砍掉了<a href="https://pikabu.ru/story/dron_dji_spark__zhertva_marketologov_pobezhdaem_5917118">在这里阅读</a> ）。 在Cordova上进行开发的优点之一是开发速度快，易于操作以及“电池”的存在。 <br><br><h3> 如何运作 </h3><br> 毫无疑问，这些摇杆如何与智能手机配合使用-它是蓝牙LE。 我很幸运，在我之前已经有人对此问题感到困惑，几分钟后，我发现<a href="https://github.com/kenkeiter/lantern">了一个</a>能够监视操纵杆操作协议<a href="https://github.com/kenkeiter/lantern">的python项目</a> 。 事实证明它并不复杂。 为了使用ble，cordova找到了<a href="https://github.com/evothings/cordova-ble">ble</a>插件<a href="https://github.com/evothings/cordova-ble">，</a>恰好花了一个晚上写了一个工作原型。 <br><br> 这一切都始于扫描蓝牙LE设备。 但是，为了从搜索中排除不必要的内容（周围有很多），您可以通过设置所需服务的UUID进行扫描。 接下来，与他联系并获得服务和特色。 例如，可以使用BLE扫描器应用程序找到所需服务和特征的UUID。 <br><br> 所有这些导致了一段简单的代码： <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> devices_dev={}; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> devices=[]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dev_main={}; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start_scan</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ evothings.ble.startScan( <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">device</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//       if (! (device.address in devices_dev)){ //      devices_dev[device.address]=1; //  evothings.ble.connectToDevice( device, function(dev) { //  "" var service = evothings.ble.getService(dev, 'f000aa60-0451-4000-b000-000000000000'); //    var characteristic = evothings.ble.getCharacteristic(service, 'f000aa61-0451-4000-b000-000000000000'); //     .      . dev_main[dev.name]=[dev,characteristic]; devices.push(dev.name); } }, function(error) { console.log(error); }, //   UUID ,   . { serviceUUIDs: ['f000aa60-0451-4000-b000-000000000000'] } ) }</span></span></code> </pre> <br> 按照相同的原则，顺便说一句，您可以连接到其他BLE设备。 我沉迷于智能小米秤，可以增加体重。 我还能够从雷德蒙德打开智能水壶（并找出当前温度）。 <br><br> 之后，仅保留发送有关光的颜色或亮度的信息。 这些荧光棒中有几种类型的LED：冷5500k，暖3200k和RGB二极管。 这样做是为了使您既可以设置冷和暖的亮度（0-99％），也可以打开RGB二极管。 <br> 如果您需要设置冷或热二极管的亮度，我们将按以下顺序发送： <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> white=<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  5500  0-99 var yellow= 50; // 3200  0-99 var data= new Uint8Array([0xAE,0xAA,0x01,white,yellow,0x56]);</span></span></code> </pre><br> 如果是彩色的： <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> RR=<span class="hljs-number"><span class="hljs-number">255</span></span>; <span class="hljs-comment"><span class="hljs-comment">//   0-255 var GG=0; //   0-255 var BB=; //   0-255 var data=new Uint8Array([0xAE,0xA1,RR,GG,BB,0x56]);</span></span></code> </pre><br> 发送函数本身如下所示： <br><br><pre> <code class="javascript hljs">evothings.ble.writeCharacteristic( dev, characteristic, data, <span class="hljs-comment"><span class="hljs-comment">// Buffer view with data to write function() { console.log('done!'); }, function(errorCode) { console.log('writeCharacteristic error: ' + errorCode); });</span></span></code> </pre><br> 在对该应用程序进行进一步工作的过程中，操纵杆发现了一个令人讨厌的错误，该错误花了很多时间才能检测到：例如，如果您发送“ white 50％”，然后“打开红色”，然后再次“ white 50％”，然后执行最后一个命令棍子不再响应。 在这种情况下，我必须插入拐杖，并向该序列的最后一组随机发送正负1％的邮件。 <br><br><h3> 用户界面和“筹码” </h3><br> 由于您必须使用标准的html + js + css堆栈，因此可以使用许多现成的开发。  UI选择了<a href="https://materializecss.com/">Materialise CSS</a> ，而<a href="https://iro.js.org/">iro.js</a>被选择为UI的主要组件。 <br><br> 在测试应用程序的过程中，出现了单独的RGB二极管的功能-糟糕的色彩混合。 如果将至少1％的其他颜色添加到红色，则会出现奇怪的颜色混乱。 颜色的选择通常（包括官方应用程序）是由标准的“色轮”来实现的，其中很难获得“纯红色”等。 我必须实现对彩色二极管组的逐通道控制。 <br><br> 嗯，还制作了一些有助于实际工作的芯片。 例如，重命名棍子。 您无需将其序列号放在脑海中，就可以找出背景中的哪个序列号，您只需指定名称“ back”，“ left”等即可。 好吧，当您需要快速将灯光更改为预定的灯光时，有一些预设。 <br><br><img src="https://habrastorage.org/webt/5j/co/zt/5jcoztsqdotrggryfpusnisodhk.png" alt="图片"><br><br> 在与同事交流的过程中，事实证明，这些摇杆不是在摄影师中而是在拍摄视频的人中更受欢迎。 当他从我那里得知我正在开发一个用于管理它的应用程序时，他写道，如果您实现一项功能，那么该应用程序将把预算棒变成来自另一家制造商的模型的类似物，其成本要高出5倍。 <br><br><h3>  “动画” </h3><br> 对于视频拍摄，有时您需要各种不同的灯光效果，例如，背景中警车的“灯光”等。 如果应用程序能够“手动”控制灯光，那么为什么不实施“动画”。 最初，想法是缝制10-20种不同的动画，但是我懒得坐在上面，所以又花了两个晚上，我做了一个简单的基于Web的动画编辑器。 此外，您最多可以编辑10个通道，然后在应用程序之间分配这些通道。 <br><br><img src="https://habrastorage.org/webt/9a/3l/pz/9a3lpzeciek33les2l_7paf6bqs.png" alt="图片"><br><br> 与更昂贵的同类产品相比，这些产品的唯一缺点是工作相当缓慢。 从发送命令到切换颜色，它需要300-400毫秒，因此您无法在更高的速度下实现更稳定的操作。 <br><br><h3> 合计 </h3><br> 结果，当晚编写并<a href="https://play.google.com/store/apps/details%3Fid%3Dru.zalomskij.yn_light">发布</a>了一份<a href="https://play.google.com/store/apps/details%3Fid%3Dru.zalomskij.yn_light">完整的申请</a> ，我认为这比知名制造商的“正式”申请要高。 如视频所示： <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/XK4WXWhlmak" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  PS：这不是我的第一篇有关编程如何在工作中发挥作用的文章，而这与编程本身完全无关。 阅读以下主题： <br><br>  <a href="https://habr.com/ru/post/216039/">超越WiFi。</a>  <a href="https://habr.com/ru/post/216039/">我们编写适用于Windows，Mac和Linux的Shoot＆View客户端</a> 。 <br>  <a href="https://habr.com/ru/post/275595/">随身携带Linux-摄影师的服务</a> <br>  <a href="https://habr.com/ru/post/279785/">在树莓派上制作一个独立的照相亭</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN484506/">https://habr.com/ru/post/zh-CN484506/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN484496/index.html">在Photon 3D SLA打印机上使用Cura</a></li>
<li><a href="../zh-CN484498/index.html">AI系统警告戴着耳机的行人驶近的汽车</a></li>
<li><a href="../zh-CN484500/index.html">用于将服务器从Google Cloud添加到config ssh的脚本</a></li>
<li><a href="../zh-CN484502/index.html">Facebook迫使主持人将其工作时间记录在第二秒-甚至上厕所</a></li>
<li><a href="../zh-CN484504/index.html">制作不到10美元的空气离子发生器</a></li>
<li><a href="../zh-CN484512/index.html">前25大ICO：现在有什么问题吗？</a></li>
<li><a href="../zh-CN484514/index.html">适用于React应用程序的通用路由</a></li>
<li><a href="../zh-CN484518/index.html">我们使用PHP通过DVRIP从摄像机获取视频</a></li>
<li><a href="../zh-CN484520/index.html">zip归档文件是什么样子，我们可以做什么。 第三部分-实际应用</a></li>
<li><a href="../zh-CN484522/index.html">DEFCON会议27.砍警察。 第二部分</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>