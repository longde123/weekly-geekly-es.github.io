<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤¸ğŸ¿ ğŸ¥ â˜ğŸ» åœ¨Node.jsä¸Šåˆ›å»ºå®æ—¶ä½“è‚²åº”ç”¨ç¨‹åºçš„ç¤ºä¾‹ â„¹ï¸ ğŸ¤¾ğŸ¼ ğŸ·</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å±•ç¤ºå¦‚ä½•ä½¿ç”¨Node.jsåˆ›å»ºWebåº”ç”¨ç¨‹åºï¼Œè¯¥åº”ç”¨ç¨‹åºå…è®¸æ‚¨å®æ—¶è·Ÿè¸ªNHLåŒ¹é…çš„ç»“æœã€‚ æŒ‡ç¤ºå™¨æ ¹æ®æ¯”èµ›ä¸­å¾—åˆ†çš„å˜åŒ–è€Œæ›´æ–°ã€‚ 

 æˆ‘çœŸçš„å¾ˆå–œæ¬¢å†™è¿™ç¯‡æ–‡ç« ï¼Œå› ä¸ºä»äº‹å…¶ä¸­çš„å·¥ä½œåŒ…æ‹¬æˆ‘å–œæ¬¢çš„ä¸¤ä»¶äº‹ï¼šè½¯ä»¶å¼€å‘å’Œä½“è‚²ã€‚ 

 åœ¨å·¥ä½œè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä»¥ä¸‹å·¥å…·ï¼š 



- Node.js; 
...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>åœ¨Node.jsä¸Šåˆ›å»ºå®æ—¶ä½“è‚²åº”ç”¨ç¨‹åºçš„ç¤ºä¾‹</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/skillbox/blog/413957/"><img src="https://habrastorage.org/webt/ty/pi/vz/typivzoqbkyrfawb47veqd-mcis.jpeg"><br><br> åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å±•ç¤ºå¦‚ä½•ä½¿ç”¨Node.jsåˆ›å»ºWebåº”ç”¨ç¨‹åºï¼Œè¯¥åº”ç”¨ç¨‹åºå…è®¸æ‚¨å®æ—¶è·Ÿè¸ªNHLåŒ¹é…çš„ç»“æœã€‚ æŒ‡ç¤ºå™¨æ ¹æ®æ¯”èµ›ä¸­å¾—åˆ†çš„å˜åŒ–è€Œæ›´æ–°ã€‚ <br><br> æˆ‘çœŸçš„å¾ˆå–œæ¬¢å†™è¿™ç¯‡æ–‡ç« ï¼Œå› ä¸ºä»äº‹å…¶ä¸­çš„å·¥ä½œåŒ…æ‹¬æˆ‘å–œæ¬¢çš„ä¸¤ä»¶äº‹ï¼šè½¯ä»¶å¼€å‘å’Œä½“è‚²ã€‚ <br><a name="habracut"></a><br> åœ¨å·¥ä½œè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä»¥ä¸‹å·¥å…·ï¼š <br><br><ul><li>  Node.js; </li><li>  Socket.io; </li><li>  MySportsFeed.comã€‚ </li></ul><br> å¦‚æœæ‚¨å°šæœªå®‰è£…Node.jsï¼Œè¯·è®¿é—®ä¸‹è½½é¡µé¢å¹¶å®‰è£…ï¼Œç„¶åæˆ‘ä»¬å°†ç»§ç»­ã€‚ <br><br><h3> ä»€ä¹ˆæ˜¯socket.ioï¼Ÿ </h3><br> è¿™æ˜¯å°†å®¢æˆ·ç«¯è¿æ¥åˆ°æœåŠ¡å™¨çš„æŠ€æœ¯ã€‚ åœ¨å½“å‰ç¤ºä¾‹ä¸­ï¼Œå®¢æˆ·ç«¯æ˜¯Webæµè§ˆå™¨ï¼ŒæœåŠ¡å™¨æ˜¯Node.jsã€‚ è¯¥æœåŠ¡å™¨å¯ä»¥éšæ—¶ä¸å¤šä¸ªå®¢æˆ·ç«¯åŒæ—¶å·¥ä½œã€‚ <br><br> å»ºç«‹è¿æ¥åï¼ŒæœåŠ¡å™¨å¯ä»¥å°†æ¶ˆæ¯å‘é€åˆ°æ‰€æœ‰å®¢æˆ·ç«¯æˆ–ä»…å…¶ä¸­ä¸€ä¸ªå®¢æˆ·ç«¯ã€‚ ä¾æ¬¡å¯ä»¥å°†æ¶ˆæ¯å‘é€åˆ°æœåŠ¡å™¨ï¼Œä»è€Œæä¾›ä¸¤ä¸ªæ–¹å‘çš„é€šä¿¡ã€‚ <br><br> åœ¨Socket.ioä¹‹å‰ï¼ŒWebåº”ç”¨ç¨‹åºé€šå¸¸åœ¨AJAXä¸Šè¿è¡Œã€‚ å®ƒçš„ä½¿ç”¨è¦æ±‚å®¢æˆ·ç«¯è½®è¯¢æœåŠ¡å™¨ï¼Œåä¹‹äº¦ç„¶ï¼Œä»¥æŸ¥æ‰¾æ–°äº‹ä»¶ã€‚ ä¾‹å¦‚ï¼Œå¯ä»¥æ¯10ç§’æ‰§è¡Œä¸€æ¬¡æ­¤ç±»è½®è¯¢ä»¥æ£€æŸ¥æ˜¯å¦æœ‰æ–°æ¶ˆæ¯ã€‚ <br><br> è¿™å¢åŠ äº†é¢å¤–çš„è´Ÿæ‹…ï¼Œå› ä¸ºå³ä½¿åœ¨æ ¹æœ¬ä¸æœç´¢æ–°æ¶ˆæ¯çš„æƒ…å†µä¸‹ä¹Ÿè¦è¿›è¡Œæœç´¢ã€‚ <br><br> ä½¿ç”¨Socket.ioæ—¶ï¼Œå¯ä»¥å®æ—¶æ¥æ”¶æ¶ˆæ¯ï¼Œè€Œæ— éœ€ä¸æ–­æ£€æŸ¥æ¶ˆæ¯æ˜¯å¦å­˜åœ¨ï¼Œä»è€Œå‡å°‘äº†è´Ÿè½½ã€‚ <br><br><h3>  Socket.ioç¤ºä¾‹åº”ç”¨ç¨‹åº </h3><br> åœ¨å¼€å§‹æ”¶é›†å®æ—¶æ¯”èµ›æ•°æ®ä¹‹å‰ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç¤ºä¾‹åº”ç”¨ç¨‹åºæ¥æ¼”ç¤ºSocket.ioçš„å·¥ä½œæ–¹å¼ã€‚ <br><br> é¦–å…ˆï¼Œæˆ‘å°†åˆ›å»ºä¸€ä¸ªNode.jsåº”ç”¨ç¨‹åºã€‚ åœ¨æ§åˆ¶å°çª—å£ä¸­ï¼Œæ‚¨éœ€è¦è½¬åˆ°Cï¼š\ GitHub \ NodeJSç›®å½•ï¼Œä¸ºè¯¥åº”ç”¨ç¨‹åºåˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨å…¶ä¸­åˆ›å»ºä¸€ä¸ªæ–°åº”ç”¨ç¨‹åºï¼š <br><br><pre><code class="hljs dos"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> \GitHub\NodeJS <span class="hljs-built_in"><span class="hljs-built_in">mkdir</span></span> SocketExample <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> SocketExample npm init</code> </pre> <br> æˆ‘ä¿ç•™äº†é»˜è®¤è®¾ç½®ï¼Œæ‚¨å¯ä»¥æ‰§è¡Œç›¸åŒçš„æ“ä½œã€‚ <br><br> ç”±äºæˆ‘ä»¬æ­£åœ¨æ„å»ºWebåº”ç”¨ç¨‹åºï¼Œå› æ­¤æˆ‘å°†ä½¿ç”¨åä¸ºExpressçš„NPMè½¯ä»¶åŒ…æ¥ç®€åŒ–å®‰è£…ã€‚ åœ¨å‘½ä»¤æç¤ºç¬¦ä¸‹ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼šnpm install express --saveã€‚ <br><br> å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¿…é¡»å®‰è£…Socket.ioè½¯ä»¶åŒ…ï¼šnpm install socket.io --save <br><br> ç°åœ¨æ‚¨éœ€è¦å¯åŠ¨WebæœåŠ¡å™¨ã€‚ ä¸ºæ­¤ï¼Œè¯·åˆ›å»ºä¸€ä¸ªæ–°çš„index.jsæ–‡ä»¶å¹¶æ”¾ç½®ä»¥ä¸‹ä»£ç éƒ¨åˆ†ï¼š <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> app = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'express'</span></span>)(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> http = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'http'</span></span>).Server(app); app.get(<span class="hljs-string"><span class="hljs-string">'/'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">req, res</span></span></span><span class="hljs-function">)</span></span>{ res.sendFile(__dirname + <span class="hljs-string"><span class="hljs-string">'/index.html'</span></span>); }); http.listen(<span class="hljs-number"><span class="hljs-number">3000</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'HTTP server started on port 3000'</span></span>); });</code> </pre> <br> å¦‚æœæ‚¨ä¸ç†Ÿæ‚‰Expressï¼Œé‚£ä¹ˆä¸Šé¢çš„ä»£ç ç¤ºä¾‹å°†åŒ…å«Expressåº“ï¼Œåœ¨æ­¤æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªæ–°çš„HTTPæœåŠ¡å™¨ã€‚ åœ¨ç¤ºä¾‹ä¸­ï¼ŒHTTPæœåŠ¡å™¨ä¾¦å¬ç«¯å£3000ï¼Œå³  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æœ¬åœ°ä¸»æœº</a> ï¼š3000ã€‚ è·¯å¾„è½¬åˆ°æ ¹ç›®å½•â€œ /â€ã€‚ ç»“æœä»¥HTML index.htmlæ–‡ä»¶çš„å½¢å¼è¿”å›ã€‚ <br><br> åœ¨åˆ›å»ºæ­¤æ–‡ä»¶ä¹‹å‰ï¼Œè®©æˆ‘ä»¬é€šè¿‡é…ç½®Socket.ioå®ŒæˆæœåŠ¡å™¨å¯åŠ¨ã€‚ è¦åˆ›å»ºå¥—æ¥å­—æœåŠ¡å™¨ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> io = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'socket.io'</span></span>)(http); io.on(<span class="hljs-string"><span class="hljs-string">'connection'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">socket</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Client connection received'</span></span>); });</code> </pre> <br> ä¸Expressä¸€æ ·ï¼Œä»£ç ä»å¯¼å…¥Socket.ioåº“å¼€å§‹ã€‚ è¿™ç”±ioå˜é‡æŒ‡ç¤ºã€‚ æ¥ä¸‹æ¥ï¼Œä½¿ç”¨æ­¤å˜é‡ï¼Œä½¿ç”¨onå‡½æ•°åˆ›å»ºä¸€ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºã€‚ æ¯æ¬¡å®¢æˆ·ç«¯è¿æ¥åˆ°æœåŠ¡å™¨æ—¶éƒ½ä¼šè§¦å‘æ­¤äº‹ä»¶ã€‚ <br><br> ç°åœ¨è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç®€å•çš„å®¢æˆ·ç«¯ã€‚ ä¸ºæ­¤ï¼Œåˆ¶ä½œindex.htmlæ–‡ä»¶å¹¶å°†ä»¥ä¸‹ä»£ç æ”¾å…¥å…¶ä¸­ï¼š <br><br><pre> <code class="javascript hljs">&lt;!doctype html&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">html</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">head</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">title</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Socket.IO Example</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">title</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">head</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">body</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"/socket.io/socket.io.js"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="undefined"></span><span class="hljs-tag"><span class="xml"><span class="undefined"></span><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="actionscript"><span class="xml"><span class="actionscript"> </span></span><span class="hljs-keyword"><span class="xml"><span class="actionscript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="actionscript"> socket = io(); </span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">body</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">html</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br> ä¸Šé¢çš„HTMLä¼šåŠ è½½Socket.io JavaScriptå®¢æˆ·ç«¯å¹¶åˆå§‹åŒ–ä¸æœåŠ¡å™¨çš„è¿æ¥ã€‚ ä¸ºäº†æŸ¥çœ‹ç¤ºä¾‹ï¼Œè¯·è¿è¡ŒNodeï¼šnode index.jsã€‚ <br><br> æ¥ä¸‹æ¥ï¼Œåœ¨æµè§ˆå™¨ä¸­ï¼Œè¾“å…¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">localhost</a> ï¼š3000ã€‚ è¯¥é¡µé¢å°†ä¿æŒç©ºç™½ï¼Œä½†æ˜¯å¦‚æœåœ¨Nodeè¿è¡Œæ—¶æŸ¥çœ‹æ§åˆ¶å°ï¼Œåˆ™ä¼šçœ‹åˆ°ä¸¤æ¡æ¶ˆæ¯ï¼š <br><br>  <i>HTTPæœåŠ¡å™¨åœ¨ç«¯å£3000ä¸Šå¯åŠ¨</i> <i><br></i>  <i>å®¢æˆ·ç«¯è¿æ¥å·²æ”¶åˆ°</i> <br><br> ç°åœ¨æˆ‘ä»¬å·²ç»æˆåŠŸè¿æ¥ï¼Œè®©æˆ‘ä»¬ç»§ç»­å·¥ä½œã€‚ ä¾‹å¦‚ï¼Œä»æœåŠ¡å™¨å‘å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯ã€‚ ç„¶åï¼Œå½“å®¢æˆ·ç«¯æ”¶åˆ°å®ƒæ—¶ï¼Œå°†å‘é€å“åº”æ¶ˆæ¯ï¼š <br><br><pre> <code class="javascript hljs">io.on(<span class="hljs-string"><span class="hljs-string">'connection'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">socket</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Client connection received'</span></span>); socket.emit(<span class="hljs-string"><span class="hljs-string">'sendToClient'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">hello</span></span>: <span class="hljs-string"><span class="hljs-string">'world'</span></span> }); socket.on(<span class="hljs-string"><span class="hljs-string">'receivedFromClient'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(data); }); });</code> </pre> <br> å…ˆå‰çš„io.onå‡½æ•°å·²æ›´æ–°ä¸ºåŒ…æ‹¬å‡ è¡Œæ–°ä»£ç ã€‚ ç¬¬ä¸€ä¸ªæ˜¯socket.emitï¼Œå®ƒå‘å®¢æˆ·ç«¯å‘é€ä¸€æ¡æ¶ˆæ¯ã€‚  sendToClientæ˜¯äº‹ä»¶çš„åç§°ã€‚ é€šè¿‡å‘½åäº‹ä»¶ï¼Œæ‚¨å¯ä»¥å‘é€ä¸åŒç±»å‹çš„æ¶ˆæ¯ï¼Œä»¥ä¾¿å®¢æˆ·ç«¯èƒ½å¤Ÿä»¥ä¸åŒçš„æ–¹å¼è§£é‡Šå®ƒä»¬ã€‚ å¦ä¸€ä¸ªæ›´æ–°æ˜¯socket.onï¼Œå®ƒä¹Ÿå…·æœ‰äº‹ä»¶åç§°ï¼šReceivedFromClientã€‚ æ‰€æœ‰è¿™äº›åˆ›å»ºäº†ä¸€ä¸ªä»å®¢æˆ·ç«¯æ¥æ”¶æ•°æ®çš„åŠŸèƒ½ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒä»¬ä¹Ÿä¼šè®°å½•åœ¨æ§åˆ¶å°çª—å£ä¸­ã€‚ <br><br> å®Œæˆçš„æ­¥éª¤å®Œæˆäº†æœåŠ¡å™¨çš„å‡†å¤‡ã€‚ ç°åœ¨ï¼Œå®ƒå¯ä»¥ä»ä»»ä½•è¿æ¥çš„å®¢æˆ·ç«¯æ¥æ”¶å’Œå‘é€æ•°æ®ã€‚ <br><br> è®©æˆ‘ä»¬é€šè¿‡æ¥æ”¶sendToClientäº‹ä»¶æ›´æ–°å®¢æˆ·ç«¯æ¥ç»“æŸæœ¬ç¤ºä¾‹ã€‚ æ”¶åˆ°äº‹ä»¶åï¼Œå°†æ”¶åˆ°æ¥è‡ªå®¢æˆ·ç«¯çš„å“åº”ã€‚ <br><br> åˆ°æ­¤ç»“æŸHTMLçš„JavaScriptéƒ¨åˆ†ã€‚ åœ¨index.htmlä¸­æ·»åŠ ï¼š <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> socket = io(); socket.on(<span class="hljs-string"><span class="hljs-string">'sendToClient'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(data); socket.emit(<span class="hljs-string"><span class="hljs-string">'receivedFromClient'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">my</span></span>: <span class="hljs-string"><span class="hljs-string">'data'</span></span> }); });</code> </pre> <br> ä½¿ç”¨å†…ç½®çš„socketå˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡socket.onå‡½æ•°åœ¨æœåŠ¡å™¨ä¸Šè·å¾—ç±»ä¼¼çš„é€»è¾‘ã€‚ å®¢æˆ·ç«¯ä¾¦å¬sendToClientäº‹ä»¶ã€‚ ä¸€æ—¦å®¢æˆ·ç«¯è¿æ¥ï¼ŒæœåŠ¡å™¨å°±ä¼šå‘é€æ­¤æ¶ˆæ¯ã€‚ æ¥æ”¶åˆ°è¯¥æ¶ˆæ¯çš„å®¢æˆ·ç«¯å°†äº‹ä»¶è®°å½•åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­ã€‚ ä¹‹åï¼Œå®¢æˆ·ç«¯ä½¿ç”¨ä¸ç”¨äºå‘é€åŸå§‹äº‹ä»¶çš„æœåŠ¡å™¨ç›¸åŒçš„socket.emitã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®¢æˆ·ç«¯ä¼šå°†æ¥æ”¶åˆ°çš„FromClientäº‹ä»¶å‘é€åˆ°æœåŠ¡å™¨ã€‚ å½“ä»–æ”¶åˆ°æ¶ˆæ¯æ—¶ï¼Œè¯¥æ¶ˆæ¯å°†è®°å½•åœ¨æ§åˆ¶å°çª—å£ä¸­ã€‚ <br><br> è‡ªå·±å°è¯•ã€‚ é¦–å…ˆï¼Œåœ¨æ§åˆ¶å°ä¸­ï¼Œå¯åŠ¨æ‚¨çš„Nodeåº”ç”¨ç¨‹åºï¼šnode index.jsã€‚ ç„¶ååœ¨æµè§ˆå™¨ä¸­åŠ è½½<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">localhost</a> ï¼š3000ã€‚ <br><br> æ£€æŸ¥æ‚¨çš„æµè§ˆå™¨æ§åˆ¶å°ï¼Œæ‚¨å°†åœ¨JSONæ—¥å¿—ä¸­çœ‹åˆ°ä»¥ä¸‹å†…å®¹ï¼š{helloï¼šâ€œ worldâ€} <br><br> ç„¶åï¼Œåœ¨Nodeåº”ç”¨ç¨‹åºè¿è¡Œæ—¶ï¼Œæ‚¨å°†çœ‹åˆ°ä»¥ä¸‹å†…å®¹ï¼š <br><br>  <i>HTTPæœåŠ¡å™¨åœ¨ç«¯å£3000ä¸Šå¯åŠ¨</i> <i><br></i>  <i>å®¢æˆ·ç«¯è¿æ¥å·²æ”¶åˆ°</i> <i><br></i>  <i>{æˆ‘ï¼šâ€œæ•°æ®â€}</i> <br><br> å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½å¯ä»¥ä½¿ç”¨JSONæ•°æ®æ‰§è¡Œç‰¹å®šä»»åŠ¡ã€‚ è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•å®æ—¶å¤„ç†æ¯”èµ›æ•°æ®ã€‚ <br><br><h3> æ¯”èµ›ä¿¡æ¯ </h3><br> åœ¨äº†è§£äº†å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å‘é€å’Œæ¥æ”¶æ•°æ®çš„åŸç†ä¹‹åï¼Œå€¼å¾—å°è¯•ç¡®ä¿å®æ—¶æ‰§è¡Œæ›´æ–°ã€‚ æˆ‘ä½¿ç”¨äº†æ¯”èµ›æ•°æ®ï¼Œå°½ç®¡ä¸ä»…å¯ä»¥é€šè¿‡ä½“è‚²ä¿¡æ¯æ¥å®Œæˆã€‚ ä½†æ˜¯ï¼Œç”±äºæˆ‘ä»¬æ­£åœ¨ä½¿ç”¨å®ƒï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æ‰¾åˆ°æºã€‚ ä»–ä»¬å°†ä¸º<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MySportsFeeds</a>æœåŠ¡ã€‚ è¯¥æœåŠ¡æ˜¯ä»˜è´¹çš„-è¯·è®°ä½ï¼Œæ¯æœˆ1ç¾å…ƒèµ·ã€‚ <br><br> è®¾ç½®å¸æˆ·åï¼Œå³å¯å¼€å§‹ä½¿ç”¨å…¶APIã€‚ æ‚¨å¯ä»¥ä¸ºæ­¤ä½¿ç”¨NPMè½¯ä»¶åŒ…ï¼šnpm install mysportsfeeds-node --saveã€‚ <br><br> å®‰è£…è½¯ä»¶åŒ…åï¼Œæˆ‘ä»¬è¿æ¥APIï¼š <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> MySportsFeeds = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"mysportsfeeds-node"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> msf = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MySportsFeeds(<span class="hljs-string"><span class="hljs-string">"1.2"</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>); msf.authenticate(<span class="hljs-string"><span class="hljs-string">"********"</span></span>, <span class="hljs-string"><span class="hljs-string">"*********"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> today = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>(); msf.getData(<span class="hljs-string"><span class="hljs-string">'nhl'</span></span>, <span class="hljs-string"><span class="hljs-string">'2017-2018-regular'</span></span>, <span class="hljs-string"><span class="hljs-string">'scoreboard'</span></span>, <span class="hljs-string"><span class="hljs-string">'json'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">fordate</span></span>: today.getFullYear() + (<span class="hljs-string"><span class="hljs-string">'0'</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(today.getMonth() + <span class="hljs-number"><span class="hljs-number">1</span></span>)).slice(<span class="hljs-number"><span class="hljs-number">-2</span></span>) + (<span class="hljs-string"><span class="hljs-string">'0'</span></span> + today.getDate()).slice(<span class="hljs-number"><span class="hljs-number">-2</span></span>), <span class="hljs-attr"><span class="hljs-attr">force</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> });</code> </pre> <br> åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œå°†æˆ‘çš„æ•°æ®æ›¿æ¢ä¸ºæ‚¨çš„æ•°æ®ã€‚ <br><br> è¯¥ä»£ç è¿›è¡ŒAPIè°ƒç”¨ä»¥è·å¾—ä»Šå¤©çš„NHLæ¯”èµ›ç»“æœã€‚  fordateå˜é‡å®šä¹‰æ—¥æœŸã€‚ å³ä½¿ç»“æœç›¸åŒï¼Œæˆ‘ä¹Ÿä½¿ç”¨äº†forceå’Œtrueæ¥å–å›æ•°æ®ã€‚ <br><br> åœ¨å½“å‰è®¾ç½®ä¸‹ï¼ŒAPIè°ƒç”¨çš„ç»“æœå°†å†™å…¥æ–‡æœ¬æ–‡ä»¶ã€‚ åœ¨æœ€åä¸€ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†å¯¹æ­¤è¿›è¡Œæ›´æ”¹ï¼› å‡ºäºæ¼”ç¤ºç›®çš„ï¼Œå¯ä»¥åœ¨æ–‡æœ¬ç¼–è¾‘å™¨ä¸­æŸ¥çœ‹ç»“æœæ–‡ä»¶ä»¥äº†è§£ç­”æ¡ˆçš„å†…å®¹ã€‚ åœ¨ç»“æœä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†ç»“æœè¡¨å¯¹è±¡ã€‚ è¯¥å¯¹è±¡åŒ…å«ä¸€ä¸ªåä¸ºgameScoreçš„æ•°ç»„ã€‚ å®ƒä¿å­˜æ¯ä¸ªæ¸¸æˆçš„ç»“æœã€‚ æ¯ä¸ªå¯¹è±¡ä¾æ¬¡åŒ…å«ä¸€ä¸ªç§°ä¸ºæ¸¸æˆçš„å­å¯¹è±¡ã€‚ è¯¥å¯¹è±¡æä¾›æœ‰å…³è°åœ¨ç©çš„ä¿¡æ¯ã€‚ <br><br> åœ¨æ¸¸æˆå¯¹è±¡ä¹‹å¤–ï¼Œæœ‰å‡ ä¸ªå˜é‡å¯ä»¥æ˜¾ç¤ºæ¸¸æˆçš„å½“å‰çŠ¶æ€ã€‚ æ•°æ®æ ¹æ®å…¶ç»“æœè€Œå˜åŒ–ã€‚ å½“æ¸¸æˆå°šæœªå¼€å§‹æ—¶ï¼Œå°†ä½¿ç”¨å˜é‡æä¾›æœ‰å…³ä½•æ—¶å‘ç”Ÿçš„ä¿¡æ¯ã€‚ æ¸¸æˆå¼€å§‹æ—¶ï¼Œå°†æä¾›æœ‰å…³ç»“æœçš„å…¶ä»–æ•°æ®ï¼ŒåŒ…æ‹¬æœ‰å…³ç°åœ¨çš„æ—¶é—´æ®µä»¥åŠè¿˜å‰©å¤šå°‘æ—¶é—´çš„ä¿¡æ¯ã€‚ ä¸ºäº†æ›´å¥½åœ°äº†è§£é—®é¢˜æ‰€åœ¨ï¼Œè®©æˆ‘ä»¬ç»§ç»­ä¸‹ä¸€éƒ¨åˆ†ã€‚ <br><br><h3> å®æ—¶æ›´æ–° </h3><br> æˆ‘ä»¬å·²ç»è§£å¼€äº†æ‰€æœ‰éš¾é¢˜ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬ç»„è£…å§ï¼ ä¸å¹¸çš„æ˜¯ï¼ŒMySportsFeedså¯¹å‘å¸ƒæ•°æ®çš„æ”¯æŒæœ‰é™ï¼Œå› æ­¤æ‚¨å¿…é¡»ä¸æ–­è¯·æ±‚ä¿¡æ¯ã€‚ è¿™é‡Œæœ‰ä¸€ä¸ªç§¯æçš„æ„ä¹‰ï¼šæˆ‘ä»¬çŸ¥é“æ•°æ®æ¯10åˆ†é’Ÿä»…æ›´æ”¹ä¸€æ¬¡ï¼Œå› æ­¤æ²¡æœ‰å¿…è¦è¿‡å¤šåœ°æŸ¥è¯¢æœåŠ¡ã€‚ æ¥æ”¶åˆ°çš„æ•°æ®å¯ä»¥ä»æœåŠ¡å™¨å‘é€åˆ°æ‰€æœ‰è¿æ¥çš„å®¢æˆ·ç«¯ã€‚ <br><br> ä¸ºäº†è·å–å¿…è¦çš„æ•°æ®ï¼Œæˆ‘å°†ä½¿ç”¨setInterval JavaScriptå‡½æ•°ï¼Œè¯¥å‡½æ•°ä½¿æ‚¨æ¯10åˆ†é’Ÿè®¿é—®ä¸€æ¬¡APIï¼ˆä»¥æˆ‘ä¸ºä¾‹ï¼‰ä»¥æŸ¥æ‰¾æ›´æ–°ã€‚ æ•°æ®åˆ°è¾¾æ—¶ï¼Œäº‹ä»¶å°†å‘é€åˆ°æ‰€æœ‰è¿æ¥çš„å®¢æˆ·ç«¯ã€‚ ç„¶åï¼Œé€šè¿‡Webæµè§ˆå™¨ä¸­çš„JavaScriptæ›´æ–°ç»“æœã€‚ <br><br> å½“é¦–å…ˆå¯åŠ¨Nodeåº”ç”¨ç¨‹åºæ—¶ï¼Œä¹Ÿä¼šè°ƒç”¨MySportsFeedsã€‚ ç»“æœå°†ç”¨äºå‰10åˆ†é’Ÿé—´éš”ä¹‹å‰è¿æ¥çš„æ‰€æœ‰å®¢æˆ·ç«¯ã€‚ æœ‰å…³æ­¤çš„ä¿¡æ¯å­˜å‚¨åœ¨å…¨å±€å˜é‡ä¸­ã€‚ åè¿‡æ¥ï¼Œå®ƒä¼šä½œä¸ºé—´éš”è°ƒæŸ¥çš„ä¸€éƒ¨åˆ†è¿›è¡Œæ›´æ–°ã€‚ è¿™æ ·å¯ä»¥ç¡®ä¿æ¯ä¸ªå®¢æˆ·éƒ½æœ‰ç›¸å…³çš„ç»“æœã€‚ <br><br> ä¸ºäº†ä½¿index.jsä¸»æ–‡ä»¶ä¸­çš„å†…å®¹ä¸€åˆ‡æ­£å¸¸ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªåä¸ºdata.jsçš„æ–°æ–‡ä»¶ã€‚ å®ƒåŒ…å«ä»index.jså¯¼å‡ºçš„å‡½æ•°ï¼Œè¯¥å‡½æ•°å…ˆå‰è°ƒç”¨äº†MySportsFeeds APIã€‚ è¿™æ˜¯æ­¤æ–‡ä»¶çš„å®Œæ•´å†…å®¹ï¼š <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> MySportsFeeds = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"mysportsfeeds-node"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> msf = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MySportsFeeds(<span class="hljs-string"><span class="hljs-string">"1.2"</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>); msf.authenticate(<span class="hljs-string"><span class="hljs-string">"*******"</span></span>, <span class="hljs-string"><span class="hljs-string">"******"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> today = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>(); exports.getData = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> msf.getData(<span class="hljs-string"><span class="hljs-string">'nhl'</span></span>, <span class="hljs-string"><span class="hljs-string">'2017-2018-regular'</span></span>, <span class="hljs-string"><span class="hljs-string">'scoreboard'</span></span>, <span class="hljs-string"><span class="hljs-string">'json'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">fordate</span></span>: today.getFullYear() + (<span class="hljs-string"><span class="hljs-string">'0'</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(today.getMonth() + <span class="hljs-number"><span class="hljs-number">1</span></span>)).slice(<span class="hljs-number"><span class="hljs-number">-2</span></span>) + (<span class="hljs-string"><span class="hljs-string">'0'</span></span> + today.getDate()).slice(<span class="hljs-number"><span class="hljs-number">-2</span></span>), <span class="hljs-attr"><span class="hljs-attr">force</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }); };</code> </pre> <br> å¯¼å‡ºgetDataå‡½æ•°å¹¶è¿”å›è°ƒç”¨ç»“æœã€‚ è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹index.jsæ–‡ä»¶ä¸­çš„å†…å®¹ã€‚ <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> app = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'express'</span></span>)(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> http = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'http'</span></span>).Server(app); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> io = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'socket.io'</span></span>)(http); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> data = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./data.js'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// Global variable to store the latest NHL results var latestData; // Load the NHL data for when client's first connect // This will be updated every 10 minutes data.getData().then((result) =&gt; { latestData = result; }); app.get('/', function(req, res){ res.sendFile(__dirname + '/index.html'); }); http.listen(3000, function(){ console.log('HTTP server started on port 3000'); }); io.on('connection', function(socket){ // when clients connect, send the latest data socket.emit('data', latestData); }); // refresh data setInterval(function() { data.getData().then((result) =&gt; { // Update latest results for when new client's connect latestData = result; // send it to all connected clients io.emit('data', result); console.log('Last updated: ' + new Date()); }); }, 300000);</span></span></code> </pre> <br> ä¸Šé¢çš„å‰ä¸ƒè¡Œä»£ç åˆå§‹åŒ–æ‰€éœ€çš„åº“ï¼Œå¹¶è°ƒç”¨lastDataå…¨å±€å˜é‡ã€‚ ä½¿ç”¨çš„åº“çš„æœ€æ–°åˆ—è¡¨æ˜¯ï¼šExpressï¼ŒHttp Serverï¼Œä½¿ç”¨Expressåˆ›å»ºçš„ï¼ŒSocket.ioä»¥åŠåˆšåˆšåˆ›å»ºçš„data.jsæ–‡ä»¶ã€‚ <br><br> è€ƒè™‘åˆ°éœ€æ±‚ï¼Œåº”ç”¨ç¨‹åºå°†ä¸ºé¦–æ¬¡å¯åŠ¨æœåŠ¡å™¨æ—¶è¿æ¥çš„å®¢æˆ·ç«¯å¡«å†™æœ€æ–°æ•°æ®ï¼ˆlatestDataï¼‰ï¼š <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// Global variable to store the latest NHL results var latestData; // Load the NHL data for when client's first connect // This will be updated every 10 minutes data.getData().then((result) =&gt; { latestData = result; });</span></span></code> </pre> <br> æ¥ä¸‹æ¥çš„å‡ è¡Œè®¾ç½®äº†ç½‘ç«™ä¸»é¡µçš„è·¯å¾„ï¼ˆåœ¨æœ¬ä¾‹ä¸­ä¸º<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">localhost</a> ï¼š3000 /ï¼‰ï¼Œå¹¶æŒ‡ç¤ºHTTPæœåŠ¡å™¨ä¾¦å¬ç«¯å£3000ã€‚ <br><br> ç„¶åå°†Socket.ioé…ç½®ä¸ºæœç´¢æ–°çš„è¿æ¥ã€‚ æ£€æµ‹åˆ°å®ƒä»¬åï¼ŒæœåŠ¡å™¨å°†å‘é€äº‹ä»¶æ•°æ®ä»¥åŠæœ€æ–°æ•°æ®å˜é‡çš„å†…å®¹ã€‚ <br><br> æœ€åï¼Œæœ€åä¸€æ®µä»£ç åˆ›å»ºæ‰€éœ€çš„è½®è¯¢é—´éš”ã€‚ å½“æ£€æµ‹åˆ°å®ƒæ—¶ï¼ŒlatestDataå˜é‡å°†ä½¿ç”¨APIâ€‹â€‹è°ƒç”¨çš„ç»“æœè¿›è¡Œæ›´æ–°ã€‚ ç„¶åï¼Œæ­¤æ•°æ®å°†åŒä¸€äº‹ä»¶ä¼ é€’ç»™æ‰€æœ‰å®¢æˆ·ç«¯ã€‚ <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// refresh data setInterval(function() { data.getData().then((result) =&gt; { // Update latest results for when new client's connect latestData = result; // send it to all connected clients io.emit('data', result); console.log('Last updated: ' + new Date()); }); }, 300000);</span></span></code> </pre> <br> å¦‚æˆ‘ä»¬æ‰€è§ï¼Œå½“å®¢æˆ·ç«¯è¿æ¥å¹¶å®šä¹‰äº†äº‹ä»¶æ—¶ï¼Œå°†å‘å…¶å‘å‡ºä¸€ä¸ªå¥—æ¥å­—å˜é‡ã€‚ è¿™ä½¿æ‚¨å¯ä»¥å°†äº‹ä»¶å‘é€åˆ°ç‰¹å®šçš„å·²è¿æ¥å®¢æˆ·ç«¯ã€‚ åœ¨æ—¶é—´é—´éš”å†…ï¼Œå…¨å±€ioç”¨äºè°ƒåº¦äº‹ä»¶ã€‚ å®ƒå°†æ•°æ®å‘é€åˆ°æ‰€æœ‰å®¢æˆ·ç«¯ã€‚ æœåŠ¡å™¨è®¾ç½®å®Œæˆã€‚ <br><br><h3> çœ‹èµ·æ¥å¦‚ä½• </h3><br> ç°åœ¨ï¼Œè®©æˆ‘ä»¬åœ¨å®¢æˆ·ç«¯çš„å‰ç«¯ä¸Šå·¥ä½œã€‚ åœ¨æ—©æœŸçš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘åˆ›å»ºäº†åŸºæœ¬çš„index.htmlæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶ä¸å®¢æˆ·ç«¯å»ºç«‹è¿æ¥ä»¥è®°å½•æœåŠ¡å™¨äº‹ä»¶å¹¶å‘é€å®ƒä»¬ã€‚ ç°åœ¨ï¼Œæˆ‘å°†æ‰©å±•æ–‡ä»¶çš„åŠŸèƒ½ã€‚ <br><br> ç”±äºæœåŠ¡å™¨å‘æˆ‘ä»¬å‘é€äº†JSONå¯¹è±¡ï¼Œå› æ­¤æˆ‘å°†ä½¿ç”¨jQueryå’Œç§°ä¸ºJsRenderçš„jQueryæ‰©å±•ã€‚ è¿™æ˜¯ä¸€ä¸ªæ¨¡æ¿åº“ã€‚ è¿™å°†å…è®¸æˆ‘åˆ›å»ºä¸€ä¸ªHTMLæ¨¡æ¿ï¼Œè¯¥æ¨¡æ¿å°†ç”¨äºä»¥æ–¹ä¾¿çš„æ–¹å¼æ˜¾ç¤ºæ¯ä¸ªNHLæ¸¸æˆçš„å†…å®¹ã€‚ ç°åœ¨æ‚¨å¯ä»¥çœ‹åˆ°å…¶åŠŸèƒ½çš„å¹¿åº¦ã€‚ è¯¥ä»£ç åŒ…å«40å¤šè¡Œï¼Œå› æ­¤æˆ‘å°†å…¶åˆ†ä¸ºå‡ ä¸ªè¾ƒå°çš„éƒ¨åˆ†ï¼Œæœ€åæˆ‘å°†æ˜¾ç¤ºæ‰€æœ‰HTMLå†…å®¹ã€‚ <br><br> è¿™æ˜¯ç”¨äºæ˜¾ç¤ºæ¸¸æˆæ•°æ®çš„å†…å®¹ï¼š <br><br><pre> <code class="javascript hljs">&lt;script id=<span class="hljs-string"><span class="hljs-string">"gameTemplate"</span></span> type=<span class="hljs-string"><span class="hljs-string">"text/x-jsrender"</span></span>&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"game"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> {{:game.awayTeam.City}} {{:game.awayTeam.Name}} at {{:game.homeTeam.City}} {{:game.homeTeam.Name}} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> {{if isUnplayed == "true" }} Game starts at {{:game.time}} {{else isCompleted == "false"}} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Current Score: {{:awayScore}} - {{:homeScore}}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> {{if currentIntermission}} {{:~ordinal_suffix_of(currentIntermission)}} Intermission {{else currentPeriod}} {{:~ordinal_suffix_of(currentPeriod)}}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">br</span></span></span></span><span class="xml"><span class="hljs-tag">/&gt;</span></span></span><span class="xml"> {{:~time_left(currentPeriodSecondsRemaining)}} {{else}} 1st {{/if}} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> {{else}} Final Score: {{:awayScore}} - {{:homeScore}} {{/if}} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;<span class="hljs-regexp"><span class="hljs-regexp">/script&gt;</span></span></code> </pre> <br> ä½¿ç”¨scriptæ ‡ç­¾å®šä¹‰æ¨¡æ¿ã€‚ å®ƒåŒ…å«ä¸€ä¸ªæ¨¡æ¿æ ‡è¯†ç¬¦å’Œä¸€ä¸ªç§°ä¸ºtext / x-jsrenderçš„ç‰¹æ®Šè„šæœ¬ç±»å‹ã€‚ è¯¥æ¨¡æ¿ä¸ºæ¯ä¸ªæ¸¸æˆå®šä¹‰äº†ä¸€ä¸ªdivå®¹å™¨ï¼Œå…¶ä¸­åŒ…å«ç”¨äºåº”ç”¨ç‰¹å®šåŸºæœ¬æ ·å¼çš„æ¸¸æˆç±»ã€‚ åœ¨æ­¤divå†…éƒ¨æ˜¯æ¨¡æ¿çš„å¼€å§‹ã€‚ <br><br> ä¸‹ä¸€ä¸ªdivæ˜¾ç¤ºæ¥å®¾å›¢é˜Ÿå’Œä¸»æŒäººå›¢é˜Ÿã€‚ è¿™æ˜¯é€šè¿‡å°†åŸå¸‚åç§°å’Œå›¢é˜Ÿåç§°ä¸MySportsFeedsæ•°æ®ä¸­çš„æ¸¸æˆå¯¹è±¡ç›¸ç»“åˆæ¥å®ç°çš„ã€‚ <br><br>  {{ï¼šgame.awayTeam.City}}æ˜¯æˆ‘å®šä¹‰æ¸²æŸ“æ¨¡æ¿æ—¶å°†ç”±ç‰©ç†å€¼æ›¿æ¢çš„å¯¹è±¡çš„æ–¹å¼ã€‚ æ­¤è¯­æ³•ç”±JsRenderåº“å®šä¹‰ã€‚ <br><br> å–æ¶ˆæ’­æ”¾æ¸¸æˆåï¼Œä¼šå‡ºç°ä¸€è¡Œï¼Œå…¶ä¸­æ¸¸æˆä»¥{{ï¼šgame.time}}å¼€å§‹ã€‚ <br><br> åœ¨æ¸¸æˆç»“æŸä¹‹å‰ï¼Œå°†æ˜¾ç¤ºå½“å‰å¾—åˆ†ï¼š{{ï¼šawayScore}}-{{ï¼šhomeScore}}ã€‚ æœ€åï¼Œè¿™æ˜¯ä¸€ä¸ªå°æŠ€å·§ï¼Œå®ƒå°†ç¡®å®šç°åœ¨çš„æ—¶æœŸï¼Œå¹¶é˜æ˜ç°åœ¨æ˜¯å¦æœ‰ä¼‘æ¯æ—¶é—´ã€‚ <br><br> å¦‚æœcurrentIntermissionå˜é‡å‡ºç°åœ¨ç»“æœä¸­ï¼Œåˆ™æˆ‘ä½¿ç”¨ç”±ordinal_suffix_ofå®šä¹‰çš„å‡½æ•°Iï¼Œè¯¥å‡½æ•°å°†å‘¨æœŸå·è½¬æ¢ä¸ºä»¥ä¸‹æ–‡æœ¬ï¼š1stï¼ˆç¬¬äºŒï¼Œç¬¬ä¸‰ç­‰ï¼‰ä¸­æ–­ã€‚ <br><br> æ²¡æœ‰ä¸­æ–­æ—¶ï¼Œæˆ‘ä¼šå¯»æ‰¾currentPeriodçš„å€¼ã€‚ è¿™é‡Œè¿˜ä½¿ç”¨Ordinal_suffix_ofæ¥æ˜¾ç¤ºæ¸¸æˆå¤„äºç¬¬1ï¼ˆç¬¬2ï¼Œç¬¬3ç­‰ï¼‰æ—¶æœŸã€‚ <br><br> å¦å¤–ï¼Œæˆ‘å®šä¹‰ä¸ºtime_leftçš„å¦ä¸€ä¸ªå‡½æ•°ç”¨äºè½¬æ¢åˆ°å‘¨æœŸç»“æŸä¹‹å‰å‰©ä½™çš„ç§’æ•°ã€‚ ä¾‹å¦‚ï¼š10ï¼š12ã€‚ <br><br> æ¸¸æˆç»“æŸæ—¶ï¼Œä»£ç çš„æœ€åéƒ¨åˆ†æ˜¾ç¤ºæœ€ç»ˆç»“æœã€‚ <br><br> è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œè¯´æ˜å­˜åœ¨æ··åˆå®Œæˆçš„æ¸¸æˆï¼Œå°šæœªå®Œæˆçš„æ¸¸æˆå’Œå°šæœªå¼€å§‹çš„æ¸¸æˆï¼ˆæˆ‘ä¸æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è®¾è®¡å¸ˆï¼Œæ‰€ä»¥ç»“æœçœ‹èµ·æ¥åƒå¼€å‘äººå‘˜åˆ›å»ºè‡ªå®šä¹‰æ—¶åº”è¯¥æ˜¯è¿™æ ·ï¼‰çš„æ··åˆåˆ—è¡¨è‡ªå·±åŠ¨æ‰‹çš„åº”ç”¨ç¨‹åºç•Œé¢ï¼‰ï¼š <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bb9/736/7c3/bb97367c3d8d9b7cbf74e0e69ea1ed6b.png" alt="å›¾ç‰‡"><br><br> æ¥ä¸‹æ¥æ˜¯ä¸€ä¸ªJavaScriptä»£ç æ®µï¼Œå®ƒåˆ›å»ºä¸€ä¸ªå¥—æ¥å­—ï¼Œè¾…åŠ©å‡½æ•°ordinal_suffix_ofå’Œtime_leftï¼Œä»¥åŠä¸€ä¸ªå˜é‡ï¼Œè¯¥å˜é‡å¼•ç”¨ç”Ÿæˆçš„jQueryæ¨¡æ¿ã€‚ <br><br><pre> <code class="javascript hljs">&lt;script&gt; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> socket = io(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tmpl = $.templates(<span class="hljs-string"><span class="hljs-string">"#gameTemplate"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> helpers = { <span class="hljs-attr"><span class="hljs-attr">ordinal_suffix_of</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">i</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> j = i % <span class="hljs-number"><span class="hljs-number">10</span></span>, k = i % <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (j == <span class="hljs-number"><span class="hljs-number">1</span></span> &amp;&amp; k != <span class="hljs-number"><span class="hljs-number">11</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> i + <span class="hljs-string"><span class="hljs-string">"st"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (j == <span class="hljs-number"><span class="hljs-number">2</span></span> &amp;&amp; k != <span class="hljs-number"><span class="hljs-number">12</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> i + <span class="hljs-string"><span class="hljs-string">"nd"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (j == <span class="hljs-number"><span class="hljs-number">3</span></span> &amp;&amp; k != <span class="hljs-number"><span class="hljs-number">13</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> i + <span class="hljs-string"><span class="hljs-string">"rd"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> i + <span class="hljs-string"><span class="hljs-string">"th"</span></span>; }, <span class="hljs-attr"><span class="hljs-attr">time_left</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">time</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> minutes = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.floor(time / <span class="hljs-number"><span class="hljs-number">60</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> seconds = time - minutes * <span class="hljs-number"><span class="hljs-number">60</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> minutes + <span class="hljs-string"><span class="hljs-string">':'</span></span> + (<span class="hljs-string"><span class="hljs-string">'0'</span></span> + seconds).slice(<span class="hljs-number"><span class="hljs-number">-2</span></span>); } }; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br> æœ€åä¸€ä¸ªç‰‡æ®µæ˜¯ç”¨äºæ¥æ”¶å¥—æ¥å­—äº‹ä»¶å¹¶å‘ˆç°æ¨¡æ¿çš„ä»£ç ï¼š <br><br><pre> <code class="hljs matlab">socket.on(<span class="hljs-string"><span class="hljs-string">'data'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data)</span></span></span><span class="hljs-function"> { </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">console</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">log</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data)</span></span></span><span class="hljs-function">; $</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">('#data')</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">html</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(tmpl.render(data.scoreboard.gameScore, helpers)</span></span></span><span class="hljs-function">); });</span></span></code> </pre> <br> æˆ‘æœ‰ä¸€ä¸ªå¸¦æ•°æ®IDçš„å®šç•Œç¬¦ã€‚ æ¨¡æ¿æ¸²æŸ“ï¼ˆtmpl.renderï¼‰çš„ç»“æœå°†HTMLå†™å…¥æ­¤å®¹å™¨ã€‚ è¿™çœŸçš„å¾ˆé…·-JsRenderåº“å¯ä»¥è·å–ä¸€ä¸ªæ•°æ®æ•°ç»„ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ä¸ºdata.scoreboard.gameScoreï¼Œå®ƒå¯ä»¥è¿­ä»£æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ å¹¶ä¸ºæ¯ä¸ªå…ƒç´ åˆ›å»ºä¸€ä¸ªæ¸¸æˆã€‚ <br><br> è¿™æ˜¯ä¸Šé¢æ‰¿è¯ºçš„æœ€ç»ˆç‰ˆæœ¬ï¼Œå…¶ä¸­HTMLå’ŒJavaScriptæ”¾åœ¨ä¸€èµ·ï¼š <br><br><pre> <code class="javascript hljs">&lt;!doctype html&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">html</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">head</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">title</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Socket.IO Example</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">title</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">head</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">body</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"data"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"gameTemplate"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"text/x-jsrender"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="javascript"><span class="xml"><span class="javascript"> &lt;div </span></span><span class="hljs-class"><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span></span></span><span class="xml"><span class="javascript">=</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"game"</span></span></span></span><span class="xml"><span class="javascript">&gt; </span></span><span class="xml"><span class="hljs-tag"><span class="xml"><span class="javascript"><span class="xml"><span class="hljs-tag">&lt;</span></span></span></span><span class="hljs-name"><span class="xml"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span></span></span><span class="xml"><span class="javascript"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></span><span class="xml"><span class="javascript"><span class="xml"> {{:game.awayTeam.City}} {{:game.awayTeam.Name}} at {{:game.homeTeam.City}} {{:game.homeTeam.Name}} </span></span></span><span class="hljs-tag"><span class="xml"><span class="javascript"><span class="xml"><span class="hljs-tag">&lt;/</span></span></span></span><span class="hljs-name"><span class="xml"><span class="javascript"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span></span></span><span class="xml"><span class="javascript"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></span></span><span class="xml"><span class="javascript"> &lt;div&gt; {{</span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">if</span></span></span></span><span class="xml"><span class="javascript"> isUnplayed == </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"true"</span></span></span></span><span class="xml"><span class="javascript"> }} Game starts at {{:game.time}} {{</span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">else</span></span></span></span><span class="xml"><span class="javascript"> isCompleted == </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"false"</span></span></span></span><span class="xml"><span class="javascript">}} &lt;div&gt;Current Score: {{:awayScore}} - {{:homeScore}}&lt;</span></span><span class="hljs-regexp"><span class="xml"><span class="javascript"><span class="hljs-regexp">/div&gt; &lt;div&gt; {{if currentIntermission}} {{:~ordinal_suffix_of(currentIntermission)}} Intermission {{else currentPeriod}} {{:~ordinal_suffix_of(currentPeriod)}}&lt;br/</span></span></span></span><span class="xml"><span class="javascript">&gt; {{:~time_left(currentPeriodSecondsRemaining)}} {{</span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">else</span></span></span></span><span class="xml"><span class="javascript">}} </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">1</span></span></span></span><span class="xml"><span class="javascript">st {{/</span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">if</span></span></span></span><span class="xml"><span class="javascript">}} &lt;</span></span><span class="hljs-regexp"><span class="xml"><span class="javascript"><span class="hljs-regexp">/div&gt; {{else}} Final Score: {{:awayScore}} - {{:homeScore}} {{/i</span></span></span></span><span class="xml"><span class="javascript">f}} &lt;</span></span><span class="hljs-regexp"><span class="xml"><span class="javascript"><span class="hljs-regexp">/div&gt; &lt;/</span></span></span></span><span class="xml"><span class="javascript">div&gt; </span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="undefined"></span><span class="hljs-tag"><span class="xml"><span class="undefined"></span><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"https://cdnjs.cloudflare.com/ajax/libs/jsrender/0.9.90/jsrender.min.js"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="undefined"></span><span class="hljs-tag"><span class="xml"><span class="undefined"></span><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"/socket.io/socket.io.js"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="undefined"></span><span class="hljs-tag"><span class="xml"><span class="undefined"></span><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="javascript"><span class="xml"><span class="javascript"> </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> socket = io(); </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> helpers = { </span></span><span class="hljs-attr"><span class="xml"><span class="javascript"><span class="hljs-attr">ordinal_suffix_of</span></span></span></span><span class="xml"><span class="javascript">: </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">(</span></span></span><span class="hljs-params"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params">i</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">) </span></span></span></span><span class="xml"><span class="javascript">{ </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> j = i % </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">10</span></span></span></span><span class="xml"><span class="javascript">, k = i % </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">100</span></span></span></span><span class="xml"><span class="javascript">; </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">if</span></span></span></span><span class="xml"><span class="javascript"> (j == </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">1</span></span></span></span><span class="xml"><span class="javascript"> &amp;&amp; k != </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">11</span></span></span></span><span class="xml"><span class="javascript">) { </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">return</span></span></span></span><span class="xml"><span class="javascript"> i + </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"st"</span></span></span></span><span class="xml"><span class="javascript">; } </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">if</span></span></span></span><span class="xml"><span class="javascript"> (j == </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">2</span></span></span></span><span class="xml"><span class="javascript"> &amp;&amp; k != </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">12</span></span></span></span><span class="xml"><span class="javascript">) { </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">return</span></span></span></span><span class="xml"><span class="javascript"> i + </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"nd"</span></span></span></span><span class="xml"><span class="javascript">; } </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">if</span></span></span></span><span class="xml"><span class="javascript"> (j == </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">3</span></span></span></span><span class="xml"><span class="javascript"> &amp;&amp; k != </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">13</span></span></span></span><span class="xml"><span class="javascript">) { </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">return</span></span></span></span><span class="xml"><span class="javascript"> i + </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"rd"</span></span></span></span><span class="xml"><span class="javascript">; } </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">return</span></span></span></span><span class="xml"><span class="javascript"> i + </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"th"</span></span></span></span><span class="xml"><span class="javascript">; }, </span></span><span class="hljs-attr"><span class="xml"><span class="javascript"><span class="hljs-attr">time_left</span></span></span></span><span class="xml"><span class="javascript">: </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">(</span></span></span><span class="hljs-params"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params">time</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">) </span></span></span></span><span class="xml"><span class="javascript">{ </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> minutes = </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">Math</span></span></span></span><span class="xml"><span class="javascript">.floor(time / </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">60</span></span></span></span><span class="xml"><span class="javascript">); </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> seconds = time - minutes * </span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">60</span></span></span></span><span class="xml"><span class="javascript">; </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">return</span></span></span></span><span class="xml"><span class="javascript"> minutes + </span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">':'</span></span></span></span><span class="xml"><span class="javascript"> + (</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">'0'</span></span></span></span><span class="xml"><span class="javascript"> + seconds).slice(</span></span><span class="hljs-number"><span class="xml"><span class="javascript"><span class="hljs-number">-2</span></span></span></span><span class="xml"><span class="javascript">); } }; </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> tmpl = $.templates(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"#gameTemplate"</span></span></span></span><span class="xml"><span class="javascript">); socket.on(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">'data'</span></span></span></span><span class="xml"><span class="javascript">, </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function"> (</span></span></span><span class="hljs-params"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params">data</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function">) </span></span></span></span><span class="xml"><span class="javascript">{ </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">console</span></span></span></span><span class="xml"><span class="javascript">.log(data); $(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">'#data'</span></span></span></span><span class="xml"><span class="javascript">).html(tmpl.render(data.scoreboard.gameScore, helpers)); }); </span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">style</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="css"><span class="xml"><span class="css"> </span></span><span class="hljs-selector-class"><span class="xml"><span class="css"><span class="hljs-selector-class">.game</span></span></span></span><span class="xml"><span class="css"> { </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">border</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">1px</span></span></span></span><span class="xml"><span class="css"> solid </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">#000</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">float</span></span></span></span><span class="xml"><span class="css">: left; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">margin</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">1%</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">padding</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">1em</span></span></span></span><span class="xml"><span class="css">; </span></span><span class="hljs-attribute"><span class="xml"><span class="css"><span class="hljs-attribute">width</span></span></span></span><span class="xml"><span class="css">: </span></span><span class="hljs-number"><span class="xml"><span class="css"><span class="hljs-number">25%</span></span></span></span><span class="xml"><span class="css">; } </span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">style</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">body</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">html</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br> ç°åœ¨æ˜¯å¯åŠ¨Nodeåº”ç”¨ç¨‹åºå¹¶æ‰“å¼€<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">localhost</a> ï¼š3000çš„æ—¶å€™äº†ï¼Œä»¥æŸ¥çœ‹ç»“æœï¼ <br><br> æœåŠ¡å™¨æ¯Xåˆ†é’Ÿå‘å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªäº‹ä»¶ã€‚ åè¿‡æ¥ï¼Œå®¢æˆ·ç«¯å°†ä½¿ç”¨æ›´æ–°çš„æ•°æ®é‡æ–°ç»˜åˆ¶æ¸¸æˆå…ƒç´ ã€‚ å› æ­¤ï¼Œå½“æ‚¨ä¿æŒç½‘ç«™å¼€æ”¾çŠ¶æ€æ—¶ï¼Œæ¸¸æˆç»“æœå°†ä¸æ–­æ›´æ–°ã€‚ <br><br><h3> ç»“è®º </h3><br> æœ€ç»ˆäº§å“ä½¿ç”¨Socket.ioåˆ›å»ºå®¢æˆ·ç«¯è¿æ¥åˆ°çš„æœåŠ¡å™¨ã€‚ æœåŠ¡å™¨æ£€ç´¢æ•°æ®å¹¶å°†å…¶å‘é€åˆ°å®¢æˆ·ç«¯ã€‚ å®¢æˆ·æ”¶åˆ°æ•°æ®åï¼Œå¯ä»¥é€æ¸æ›´æ–°ç»“æœã€‚ è¿™å‡å°‘äº†æœåŠ¡å™¨ä¸Šçš„è´Ÿè½½ï¼Œå› ä¸ºå®¢æˆ·ç«¯ä»…åœ¨å…¶ä»æœåŠ¡å™¨æ¥æ”¶äº‹ä»¶æ—¶æ‰é‡‡å–è¡ŒåŠ¨ã€‚ <br><br> æœåŠ¡å™¨å¯ä»¥å°†æ¶ˆæ¯å‘é€åˆ°å®¢æˆ·ç«¯ï¼Œç„¶åå®¢æˆ·ç«¯ä¹Ÿå¯ä»¥å‘é€åˆ°æœåŠ¡å™¨ã€‚ æœåŠ¡å™¨æ”¶åˆ°æ¶ˆæ¯åï¼Œå°†æ‰§è¡Œæ•°æ®å¤„ç†ã€‚ <br><br> èŠå¤©åº”ç”¨ç¨‹åºçš„å·¥ä½œæ–¹å¼å‡ ä¹ç›¸åŒã€‚ æœåŠ¡å™¨å°†ä»å®¢æˆ·ç«¯æ¥æ”¶æ¶ˆæ¯ï¼Œç„¶åå°†æ‰€æœ‰æ•°æ®ä¼ è¾“åˆ°è¿æ¥çš„å®¢æˆ·ç«¯ï¼Œä»¥è¡¨æ˜æœ‰äººå‘é€äº†æ–°æ¶ˆæ¯ã€‚ <br><br> æˆ‘å¸Œæœ›æ‚¨å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œå› ä¸ºå½“æˆ‘å¼€å‘æ­¤å®æ—¶ä½“è‚²åº”ç”¨ç¨‹åºæ—¶ï¼Œæˆ‘åªæ˜¯æƒ³åˆ†äº«è‡ªå·±çš„çŸ¥è¯†è€Œæ„Ÿåˆ°éå¸¸é«˜å…´ã€‚ æ¯•ç«Ÿï¼Œæ›²æ£çƒæ˜¯æˆ‘æœ€å–œæ¬¢çš„è¿åŠ¨ä¹‹ä¸€ï¼ <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/webt/a-/lc/ia/a-lciamy-fqodfq0pwnkdqlgpgy.jpeg"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN413957/">https://habr.com/ru/post/zh-CN413957/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN413947/index.html">åœ¨Sailfish OSçš„VKontakteå®¢æˆ·ç«¯ä¸­ä½¿ç”¨Long PollæœåŠ¡å™¨å®ç°å·¥ä½œ</a></li>
<li><a href="../zh-CN413949/index.html">ä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜åœ¨çœ‹çº¸è´¨ä¹¦ï¼Ÿ</a></li>
<li><a href="../zh-CN413951/index.html">æ•™åˆ«äººæˆä¸ºæ›´å¥½çš„ç¨‹åºå‘˜</a></li>
<li><a href="../zh-CN413953/index.html">ä»€ä¹ˆæ—¶å€™ä»¥åŠä¸ºä»€ä¹ˆå€¼å¾—ä½¿ç”¨ES6ç®­å¤´åŠŸèƒ½ï¼Œä½•æ—¶ä¸å€¼å¾—</a></li>
<li><a href="../zh-CN413955/index.html">IoTè®¾å¤‡çš„å®Œæ•´å¼€å‘å‘¨æœŸï¼Œç”¨äºåœ¨Arduinoç¯å¢ƒä¸­å¯¹ESP8266è¿›è¡Œæ³³æ± åŠ çƒ­æ§åˆ¶</a></li>
<li><a href="../zh-CN413959/index.html">æœ€å°çš„Dockeræ˜ åƒ-å°äº1000å­—èŠ‚</a></li>
<li><a href="../zh-CN413963/index.html">å°å‹ä¼ä¸šçš„å°å‹CRM</a></li>
<li><a href="../zh-CN413965/index.html">ä»£ç å®¡æŸ¥ï¼šæ‚¨åšé”™äº†</a></li>
<li><a href="../zh-CN413967/index.html">åŠ¨ç‰©æ‚äº¤å¼€å‘äººå‘˜æ¨¡å¼é€†å‘å·¥ç¨‹</a></li>
<li><a href="../zh-CN413969/index.html">æ‹‰æ–¯åŸºæŠ€æœ¯å›­-æ•°åäº¿é¢„ç®—çš„åˆ›æ–°å‘å±•</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>