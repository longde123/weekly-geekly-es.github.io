<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßëüèæ‚Äçü§ù‚Äçüßëüèæ üëçüèæ üçÖ Cloud Smart Home. Partie 1: Contr√¥leur et capteurs üåî üë¥üèæ üßú</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Aujourd'hui, gr√¢ce au d√©veloppement rapide de la micro√©lectronique, des canaux de communication, des technologies Internet et de l'intelligence artifi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cloud Smart Home. Partie 1: Contr√¥leur et capteurs</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/467219/"><img src="https://habrastorage.org/webt/q6/ni/9k/q6ni9k05gsedjwzqbsyfr_zc7sc.png"><br><br>  Aujourd'hui, gr√¢ce au d√©veloppement rapide de la micro√©lectronique, des canaux de communication, des technologies Internet et de l'intelligence artificielle, le th√®me des maisons intelligentes devient de plus en plus pertinent.  L'habitation humaine a subi des changements importants depuis l'√¢ge de pierre et √† l'√®re de la r√©volution industrielle 4.0 et l'Internet des objets est devenu pratique, fonctionnel et s√ªr.  Des solutions arrivent sur le march√© qui transforment un appartement ou une maison de campagne en syst√®mes d'information sophistiqu√©s, g√©r√©s depuis n'importe o√π dans le monde √† l'aide d'un smartphone.  De plus, la connaissance des langages de programmation n'est plus requise pour l'interaction homme-machine - gr√¢ce aux algorithmes de reconnaissance et de synth√®se de la parole, une personne parle sa langue maternelle avec une maison intelligente. <br><br>  Certains syst√®mes de maison intelligente actuellement sur le march√© sont un d√©veloppement logique des syst√®mes de vid√©osurveillance bas√©s sur le cloud, dont les d√©veloppeurs ont r√©alis√© le besoin d'une solution compl√®te non seulement pour la surveillance, mais aussi pour la gestion des objets distants. <br><br>  Nous vous proposons une s√©rie de trois articles, qui vous parleront de tous les principaux composants du syst√®me de maison intelligente cloud, personnellement d√©velopp√©s par l'auteur et mis en service.  Le premier article est consacr√© aux √©quipements clients terminaux install√©s √† l'int√©rieur d'une maison intelligente, le second √† l'architecture d'un syst√®me de stockage et de traitement de donn√©es cloud, et enfin, le troisi√®me √† une application cliente de gestion du syst√®me sur des appareils mobiles et fixes. <br><a name="habracut"></a><br><h1>  √âquipement de maison intelligente </h1><br>  Tout d'abord, parlons de la fa√ßon de faire une maison intelligente √† partir d'un appartement, d'un chalet ou d'un chalet ordinaire.  Pour cela, en r√®gle g√©n√©rale, il est n√©cessaire de placer l'√©quipement suivant dans la maison: <br><br><ol><li>  capteurs mesurant divers param√®tres environnementaux; </li><li>  actionneurs agissant sur des objets externes; </li><li>  un contr√¥leur qui effectue des calculs conform√©ment aux mesures des capteurs et √† la logique int√©gr√©e, et envoie des commandes aux actionneurs. </li></ol><br>  La figure suivante montre le sch√©ma d'une maison intelligente, sur laquelle se trouvent des capteurs de fuite d'eau (1) dans la salle de bain, de temp√©rature (2) et d'√©clairage (3) dans la chambre, une prise intelligente (4) dans la cuisine et une cam√©ra de vid√©osurveillance (5) dans le couloir. <br><br><img src="https://habrastorage.org/webt/nq/en/f-/nqenf-epwiuqhsimy3ft2wbyvpo.png"><br><br>  Actuellement, les capteurs sans fil fonctionnant selon les protocoles RF433, Z-Wave, ZigBee, Bluetooth et WiFi sont largement utilis√©s.  Leurs principaux avantages sont la facilit√© d'installation et d'utilisation, ainsi que le faible co√ªt et la fiabilit√©, car  Les fabricants cherchent √† mettre leurs appareils sur le march√© de masse et √† les mettre √† la disposition de l'utilisateur moyen. <br><br>  Les capteurs et actionneurs, en r√®gle g√©n√©rale, sont connect√©s via une interface sans fil au contr√¥leur de maison intelligente (6) - un micro-ordinateur sp√©cialis√© qui int√®gre tous ces appareils dans un seul r√©seau et les contr√¥le. <br><br>  Cependant, certaines solutions peuvent combiner simultan√©ment un capteur, un actionneur et un contr√¥leur.  Par exemple, une prise intelligente peut √™tre programm√©e pour s'allumer ou s'√©teindre selon un calendrier, et une cam√©ra de vid√©osurveillance bas√©e sur le cloud peut enregistrer de la vid√©o en fonction d'un signal de d√©tecteur de mouvement.  Dans les cas les plus simples, vous pouvez vous passer d'un contr√¥leur s√©par√©, mais pour cr√©er un syst√®me flexible avec de nombreux sc√©narios, il est n√©cessaire. <br><br>  Pour connecter le contr√¥leur domestique intelligent au r√©seau mondial, un routeur Internet conventionnel (7) peut √™tre utilis√©, qui est depuis longtemps un appareil √©lectrom√©nager familier dans n'importe quelle maison.  Il y a un autre argument en faveur du contr√¥leur de maison intelligente - si la connexion √† Internet est perdue, la maison intelligente continuera de fonctionner normalement en raison du bloc logique stock√© √† l'int√©rieur du contr√¥leur, et non dans le service cloud. <br><br><h1>  Contr√¥leur domestique intelligent </h1><br>  Le contr√¥leur du syst√®me de maison intelligente cloud discut√© dans cet article a √©t√© d√©velopp√© sur la base du micro-ordinateur √† carte unique <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Raspberry Pi 3 mod√®le B +</a> , qui a √©t√© publi√© en mars 2018 et dispose de ressources et de performances suffisantes pour les t√¢ches de la maison intelligente.  Il se compose d'un processeur Cortex-A53 √† quatre c≈ìurs avec une architecture ARMv8-A 64 bits, cadenc√© √† 1,4 GHz, ainsi que 1 Go de RAM, Wi-Fi 802.11ac, Bluetooth 4.2 et un adaptateur Gigabit Ethernet qui fonctionne via le bus USB 2.0. <br><br><img src="https://habrastorage.org/webt/ki/di/-_/kidi-_hdoclhmawxeqcgxvjxnwm.jpeg"><br><br>  L'assemblage du contr√¥leur est tr√®s simple - le micro-ordinateur (1) est install√© dans un bo√Ætier en plastique (2), puis une carte microSD de 8 Go avec logiciel (3) et un contr√¥leur de r√©seau USB Z-Wave (4) sont ins√©r√©s dans les emplacements correspondants.  Le contr√¥leur domestique intelligent est connect√© au secteur via un adaptateur secteur 5 V, 2,1 A (5) et un c√¢ble USB-micro-USB (6).  Chaque contr√¥leur a un num√©ro d'identification unique, qui est enregistr√© dans le fichier de configuration au premier d√©marrage et est n√©cessaire pour l'interaction avec les services de maison intelligente dans le cloud. <br><br>  Le logiciel du contr√¥leur domestique intelligent a √©t√© d√©velopp√© par l'auteur de cet article bas√© sur le <b>syst√®me d'</b> exploitation <b>Linux Raspbian Stretch</b> .  Il comprend les principaux sous-syst√®mes suivants: <br><br><ul><li>  processus serveur pour interagir avec l'√©quipement domestique intelligent et le cloud; </li><li>  interface utilisateur graphique pour configurer le contr√¥leur et les param√®tres de fonctionnement; </li><li>  Bases de donn√©es pour stocker la configuration du contr√¥leur. </li></ul><br><img src="https://habrastorage.org/webt/s6/lx/k-/s6lxk-xr0gnx8cy5wohn6u8pgqo.png"><br><br>  <b>La base de donn√©es du</b> contr√¥leur de maison intelligente est bas√©e sur le SGBD <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SQLite</a> int√©gr√© et est un fichier sur la carte SD avec le logiciel syst√®me.  Il sert de r√©f√©rentiel de la configuration du contr√¥leur - des informations sur l'√©quipement connect√© et son √©tat actuel, un bloc de r√®gles de production logiques, ainsi que des informations n√©cessitant une indexation (par exemple, les noms de fichiers des archives vid√©o locales).  Lorsque le contr√¥leur est red√©marr√©, ces informations sont enregistr√©es, ce qui permet de restaurer le contr√¥leur en cas de panne de courant. <br><br>  <b>L'interface graphique du</b> contr√¥leur de maison intelligente est d√©velopp√©e en PHP 7 en utilisant le microframework <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Slim</a> .  Le serveur Web <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://www.lig">lighttpd</a> , qui est souvent utilis√© dans les appareils embarqu√©s en raison de ses bonnes performances et de ses faibles besoins en ressources, est responsable du fonctionnement de l'application. <br><br> <a href=""><img src="https://habrastorage.org/webt/p6/jh/w0/p6jhw0khe-pnljdtzf54qjrtgna.png"></a> <br>  <font color="grey">(cliquez sur l'image pour l'ouvrir en plus haute r√©solution)</font> <br><br>  La fonction principale de l'interface graphique est de connecter l'√©quipement domestique intelligent (cam√©ras IP et capteurs) au contr√¥leur.  L'application Web lit la configuration et l'√©tat actuel du contr√¥leur et des p√©riph√©riques connect√©s √† partir de la base de donn√©es SQLite.  Pour modifier la configuration du contr√¥leur, il envoie des commandes de contr√¥le au format JSON via l'API RESTful du processus serveur. <br><br><h1>  Processus serveur </h1><br>  <b>Le processus serveur</b> est un composant cl√© qui effectue tout le travail de base d'automatisation des processus d'information qui constituent le fondement d'une maison intelligente: r√©ception et traitement de donn√©es sensorielles, √©mission d'actions de contr√¥le en fonction de la logique sous-jacente.  Le but du processus serveur est d'interagir avec l'√©quipement domestique intelligent, de suivre les r√®gles de la logique de production, de recevoir et de traiter les commandes de l'interface graphique et du cloud.  Le processus serveur de ce contr√¥leur de maison intelligente est impl√©ment√© en tant qu'application multithread d√©velopp√©e en C ++ et lanc√©e en tant que service <b>systemd</b> distinct du <b>syst√®me d'</b> exploitation <b>Linux Raspbian</b> . <br><br>  Les principaux blocs du processus serveur sont: <br><br><ol><li>  Gestionnaire de messages </li><li>  Serveur de cam√©ras IP; </li><li>  Serveur d'appareils Z-Wave; </li><li>  R√®gles de logique de production du serveur; </li><li>  Base de donn√©es de configuration du contr√¥leur et du bloc de r√®gles logiques; </li><li>  Serveur API RESTful pour interagir avec l'interface graphique; </li><li>  Client MQTT pour interagir avec le cloud. </li></ol><br>  Les blocs du processus serveur sont impl√©ment√©s sous forme de flux s√©par√©s dont les informations sont transmises sous forme de messages au format JSON (ou de structures de donn√©es repr√©sentant ce format dans la m√©moire du processus). <br><br><img src="https://habrastorage.org/webt/vl/vm/md/vlvmmduxt7nsh-bjkpshrywrcqa.png"><br><br>  Le composant principal du processus serveur est le <b>gestionnaire de messages</b> , qui achemine les messages au format JSON pour tous les blocs du processus serveur.  Les types de champs d'informations de message JSON et les valeurs qu'ils peuvent accepter sont r√©pertori√©s dans le tableau: <br><br><div class="scrollable-table"><table><tbody><tr><th>  deviceType </th><th>  protocole </th><th>  messageType </th><th>  deviceState </th><th>  commande </th></tr><tr><td>  appareil photo </td><td>  onvif </td><td>  sensorData </td><td>  sur </td><td>  streaming (On / Off) </td></tr><tr><td>  capteur </td><td>  zwave </td><td>  commande </td><td>  √©teint </td><td>  enregistrement (marche / arr√™t) </td></tr><tr><td>  effecteur </td><td>  mqtt </td><td>  businessLogicRule </td><td>  streaming (On / Off) </td><td>  evice (Ajouter / Supprimer) </td></tr><tr><td></td><td>  businesslogic </td><td>  configurationData </td><td>  enregistrement (marche / arr√™t) </td><td></td></tr><tr><td></td><td>  Bluetooth </td><td>  deviceState </td><td>  erreur </td><td></td></tr><tr><td></td><td>  wifi </td><td></td><td></td><td></td></tr><tr><td></td><td>  rf </td><td></td><td></td><td></td></tr></tbody></table></div><br><br>  Par exemple, un message provenant d'un d√©tecteur de mouvement de cam√©ra ressemble √† ceci: <br><br><pre><code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"vendor"</span></span>: <span class="hljs-string"><span class="hljs-string">"*****"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"3.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"timestampMs"</span></span>: <span class="hljs-string"><span class="hljs-string">"1566293475475"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"clientType"</span></span>: <span class="hljs-string"><span class="hljs-string">"gateway"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"deviceId"</span></span>: <span class="hljs-string"><span class="hljs-string">"1616453d-30cd-44b7-9bf0-************"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"deviceType"</span></span>: <span class="hljs-string"><span class="hljs-string">"camera"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"protocol"</span></span>: <span class="hljs-string"><span class="hljs-string">"onvif"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"messageType"</span></span>: <span class="hljs-string"><span class="hljs-string">"sensorData"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"sensorType"</span></span>: <span class="hljs-string"><span class="hljs-string">"camera"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"label"</span></span>: <span class="hljs-string"><span class="hljs-string">"motionDetector"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"sensorData"</span></span>: <span class="hljs-string"><span class="hljs-string">"on"</span></span> }</code> </pre> <br><h1>  Logique de production </h1><br>  Pour recevoir ou envoyer un message du r√©partiteur, le bloc de processus serveur s'abonne √† des messages d'un certain type.  L'abonnement est une r√®gle logique de production du type <i>"Si ... alors ..."</i> , pr√©sent√©e au format JSON, et un lien vers le gestionnaire de messages √† l'int√©rieur du bloc de processus serveur.  Par exemple, pour que le serveur de cam√©ras IP puisse recevoir des commandes de l'interface graphique et du cloud, vous devez ajouter la r√®gle suivante: <br><br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"if"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"and"</span></span>: [{ <span class="hljs-attr"><span class="hljs-attr">"equal"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"deviceId"</span></span>: <span class="hljs-string"><span class="hljs-string">"1616453d-30cd-44b7-9bf0-************"</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"equal"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"messageType"</span></span>: <span class="hljs-string"><span class="hljs-string">"command"</span></span> } } ] }, <span class="hljs-attr"><span class="hljs-attr">"then"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"result"</span></span>: <span class="hljs-string"><span class="hljs-string">"true"</span></span> } }</code> </pre><br>  Si les conditions sp√©cifi√©es dans l' <b>ant√©c√©dent</b> (c√¥t√© gauche) de la r√®gle sont vraies, la <b>r√®gle</b> (c√¥t√© droit) de la r√®gle est ex√©cut√©e et le gestionnaire obtient l'acc√®s au corps du message JSON.  L'ant√©c√©dent prend en charge les op√©rateurs logiques qui effectuent la comparaison des paires cl√©-valeur JSON: <br><br><ol><li>  √©gal √† "√©gal"; </li><li>  diff√©rent de "not_equal"; </li><li>  moins "moins"; </li><li>  plus "plus"; </li><li>  inf√©rieur ou √©gal √† "less_or_equal"; </li><li>  sup√©rieur ou √©gal √† Greater_or_equal. </li></ol><br>  Les r√©sultats de la comparaison peuvent √™tre reli√©s entre eux √† l'aide des op√©rateurs de l'alg√®bre bool√©enne: <br><br><ol><li>  Et "et"; </li><li>  OU "ou"; </li><li>  PAS "pas". </li></ol><br>  Ainsi, en √©crivant des op√©rateurs et des op√©randes en notation polonaise, il est possible de former des conditions assez complexes avec un grand nombre de param√®tres. <br><br>  Le m√™me m√©canisme exact, bas√© sur les messages JSON et les r√®gles de production au format JSON, est utilis√© dans le bloc du serveur logique de production pour repr√©senter les connaissances et faire une inf√©rence logique √† l'aide des donn√©es sensorielles des capteurs de maison intelligente. <br><br>  √Ä l'aide d'une application mobile, un utilisateur cr√©e des scripts selon lesquels une maison intelligente devrait fonctionner.  Par exemple: <i>"Si le capteur d'ouverture de la porte d'entr√©e a fonctionn√©, allumez la lumi√®re dans le couloir</i> . <i>"</i>  L'application lit les identifiants des capteurs (capteur d'ouverture) et des actionneurs (prise intelligente ou lampe intelligente) dans la base de donn√©es et g√©n√®re une r√®gle logique au format JSON, qui est envoy√©e au contr√¥leur domestique intelligent.  Ce m√©canisme sera abord√© plus en d√©tail dans le troisi√®me article de notre s√©rie, o√π nous parlerons d'une application cliente pour la gestion d'une maison intelligente. <br><br>  Le m√©canisme de logique de production d√©crit ci-dessus est impl√©ment√© √† l'aide de la biblioth√®que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RapidJSON</a> , un analyseur SAX du format JSON en C ++.  La lecture et l'analyse coh√©rentes d'un tableau de r√®gles de production facilitent l'impl√©mentation de la fonction de correspondance des donn√©es dans les ant√©c√©dents: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> CRuleEngine::Process(PProperties pFact) { m_pActions-&gt;clear(); rapidjson::Reader reader; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(TStringMap::value_type&amp; rRule : m_Rules) { <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span> sRuleId = rRule.first; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span> sRuleBody = rRule.second; <span class="hljs-function"><span class="hljs-function">CRuleHandler </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ruleHandler</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pFact)</span></span></span></span>; rapidjson::<span class="hljs-function"><span class="hljs-function">StringStream </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ruleStream</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(sRuleBody.c_str())</span></span></span></span>; rapidjson::ParseResult parseResult = reader.Parse(ruleStream, ruleHandler); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!parseResult) { m_Logger.LogMessage( NLogger2::ePriorityLevelError, <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>(<span class="hljs-string"><span class="hljs-string">"JSON parse error"</span></span>), <span class="hljs-string"><span class="hljs-string">"CRuleEngine::Process()"</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>(<span class="hljs-string"><span class="hljs-string">"RuleId: "</span></span>) + sRuleId); } PProperties pAction = ruleHandler.GetAction(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(pAction) { pAction-&gt;Set(<span class="hljs-string"><span class="hljs-string">"ruleId"</span></span>, sRuleId); m_pActions-&gt;push_back(pAction); } } }</code> </pre><br>  Ici, <b>pFact</b> est une structure contenant des paires cl√©-valeur d'un message JSON, <b>m_Rules</b> est un tableau de cha√Ænes de r√®gles de production.  La comparaison du message entrant et de la r√®gle de production est effectu√©e dans la fonction <b>reader.Parse (ruleStream, ruleHandler)</b> , o√π <b>ruleHandler</b> est un objet contenant la logique des op√©rateurs bool√©ens et des op√©rateurs de comparaison.  <b>sRuleId</b> est un identifiant de r√®gle unique, gr√¢ce auquel il est possible de stocker et de modifier des r√®gles dans la base de donn√©es d'un contr√¥leur de maison intelligente.  <b>m_pActions</b> - un tableau avec les r√©sultats de l'inf√©rence logique: messages JSON contenant des √©l√©ments coh√©rents de la base de r√®gles et transmis au gestionnaire de messages afin que les flux d'abonn√©s puissent les traiter. <br><br>  Les performances de RapidJSON sont comparables √† la fonction <b>strlen ()</b> , et les exigences minimales en termes de ressources syst√®me permettent √† cette biblioth√®que d'√™tre utilis√©e dans des p√©riph√©riques int√©gr√©s.  L'utilisation de messages et de r√®gles logiques au format JSON vous permet de mettre en ≈ìuvre un syst√®me flexible d'√©change d'informations entre tous les composants du contr√¥leur de maison intelligente. <br><br><h2>  Capteurs et actionneurs Z-Wave </h2><br>  Le principal avantage d'une maison intelligente est qu'elle peut mesurer ind√©pendamment divers param√®tres environnementaux et ex√©cuter des fonctions utiles selon la situation.  Pour ce faire, des capteurs et des actionneurs sont connect√©s au contr√¥leur de maison intelligente.  Dans la version actuelle, il s'agit d'appareils sans fil fonctionnant selon le protocole <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Z-Wave</a> √† une fr√©quence sp√©cialement allou√©e de <b>869 MHz</b> pour la Russie.  Pour leur travail, ils sont combin√©s en un r√©seau maill√©, dans lequel des r√©p√©teurs de signaux sont pr√©sents pour augmenter la zone de couverture.  Les appareils disposent √©galement d'un mode d'√©conomie d'√©nergie sp√©cial - ils passent la plupart du temps en mode veille et n'envoient des informations que lorsque leur √©tat change, ce qui peut prolonger consid√©rablement la dur√©e de vie de la batterie int√©gr√©e. <br><br><img src="https://habrastorage.org/webt/d8/ur/dp/d8urdpbsw6yxxxxqov8uj-hphzs.jpeg"><br><br>  Sur le march√©, vous pouvez maintenant trouver un assez grand nombre d'appareils Z-Wave diff√©rents.  √Ä titre d'exemple, consid√©rons quelques-uns: <br><br><ol><li>  La prise intelligente Zipato PAN16 peut mesurer les param√®tres suivants: consommation √©lectrique (kW / h), puissance (W), tension (V) et courant (A) dans le secteur.  Il dispose √©galement d'un interrupteur int√©gr√© avec lequel vous pouvez contr√¥ler l'appareil √©lectrique connect√©; </li><li>  Le capteur de fuite Neo Coolcam d√©tecte la pr√©sence de liquide renvers√© en fermant les contacts de la sonde √† distance; </li><li>  Le d√©tecteur de fum√©e Zipato PH-PSG01 se d√©clenche lorsque des particules de fum√©e p√©n√®trent dans la chambre de l'analyseur de gaz; </li><li>  Le capteur de mouvement Neo Coolcam analyse le rayonnement infrarouge du corps humain.  De plus, il y a un capteur de lumi√®re (Lx); </li><li>  Le multi-capteur Philio PST02-A mesure la temp√©rature (¬∞ C), l'exposition √† la lumi√®re (%), l'ouverture de la porte, la pr√©sence d'une personne dans la pi√®ce; </li><li>  Cl√© USB Z-Wave Contr√¥leur de r√©seau ZME E UZB1, auquel les capteurs sont connect√©s. </li></ol><br>  Il est tr√®s important que les appareils et le contr√¥leur fonctionnent √† la m√™me fr√©quence, sinon ils ne se verront tout simplement pas au moment de la connexion.  Jusqu'√† 232 appareils peuvent √™tre connect√©s √† un contr√¥leur de r√©seau Z-Wave, ce qui est suffisant pour un appartement ou une maison de campagne.  Pour √©tendre la zone de couverture du r√©seau √† l'int√©rieur, une prise intelligente peut √™tre utilis√©e comme r√©p√©teur de signal. <br><br><img src="https://habrastorage.org/webt/o_/q2/oa/o_q2oa4n9w7hpqzr2vihyois9he.png"><br><br>  Dans le processus de serveur du contr√¥leur de maison intelligente, discut√© dans le paragraphe pr√©c√©dent, le serveur Z-Wave est responsable de l'interaction avec les appareils Z-Wave.  Pour obtenir des informations des capteurs, il utilise la biblioth√®que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">OpenZWave</a> en C ++, qui fournit une interface pour l'interaction avec un contr√¥leur USB du r√©seau Z-Wave et fonctionne avec de nombreux capteurs et actionneurs.  La valeur du param√®tre environnemental mesur√©e par le capteur est enregistr√©e par le serveur Z-Wave sous la forme d'un message JSON: <br><br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"vendor"</span></span>: <span class="hljs-string"><span class="hljs-string">"*****"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"3.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"timestampMs"</span></span>: <span class="hljs-string"><span class="hljs-string">"1566479791290"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"clientType"</span></span>: <span class="hljs-string"><span class="hljs-string">"gateway"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"deviceId"</span></span>: <span class="hljs-string"><span class="hljs-string">"20873eb0-dd5e-4213-a175-************"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"deviceType"</span></span>: <span class="hljs-string"><span class="hljs-string">"sensor"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"protocol"</span></span>: <span class="hljs-string"><span class="hljs-string">"zwave"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"messageType"</span></span>: <span class="hljs-string"><span class="hljs-string">"sensorData"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"homeId"</span></span>: <span class="hljs-string"><span class="hljs-string">"0xefa0cfa7"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"nodeId"</span></span>: <span class="hljs-string"><span class="hljs-string">"20"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"sensorType"</span></span>: <span class="hljs-string"><span class="hljs-string">"METER"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"label"</span></span>: <span class="hljs-string"><span class="hljs-string">"Voltage"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"sensorData"</span></span>: <span class="hljs-string"><span class="hljs-string">"229.3"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"units"</span></span>: <span class="hljs-string"><span class="hljs-string">"V"</span></span> }</code> </pre><br>  Il est ensuite transmis au gestionnaire de messages du processus serveur afin que les threads abonn√©s puissent le recevoir.  Le principal abonn√© est le serveur logique de production, qui compare les valeurs des champs de message dans les ant√©c√©dents des r√®gles logiques.  Les r√©sultats de la sortie logique contenant les commandes de contr√¥le sont renvoy√©s au gestionnaire de messages et de l√†, ils vont au serveur Z-Wave, qui les d√©code et les envoie au contr√¥leur USB du r√©seau Z-Wave.  Ensuite, ils tombent dans l'appareil ex√©cutif, qui change l'√©tat de l'environnement, et la maison intelligente fait donc un travail utile. <br><br> <a href=""><img src="https://habrastorage.org/webt/_s/1m/wk/_s1mwk6ysdi5l9ynhtawcbaolfg.png"></a> <br>  <font color="grey">(cliquez sur l'image pour l'ouvrir en plus haute r√©solution)</font> <br><br>  Les appareils Z-Wave sont connect√©s dans l'interface graphique du contr√¥leur domestique intelligent.  Pour ce faire, rendez-vous sur la page avec la liste des appareils et cliquez sur le bouton "Ajouter".  La commande add via l'API RESTful entre dans le processus serveur et est ensuite envoy√©e par le gestionnaire de messages au serveur Z-Wave, ce qui place le contr√¥leur USB Z-Wave en mode d'ajout de p√©riph√©rique sp√©cial.  Ensuite, sur l'appareil Z-Wave, vous devez effectuer une s√©rie d'appuis rapides (3 appuis en 1,5 seconde) sur le bouton de service.  Un contr√¥leur USB connecte l'appareil au r√©seau et envoie des informations √† ce sujet au serveur Z-Wave.  Cela, √† son tour, cr√©e un nouvel enregistrement dans la base de donn√©es SQLite avec les param√®tres du nouveau p√©riph√©rique.  Apr√®s un intervalle de temps pr√©d√©termin√©, l'interface graphique revient √† la page de la liste des appareils Z-Wave, lit les informations de la base de donn√©es et affiche le nouvel appareil dans la liste.  Dans le m√™me temps, chaque appareil re√ßoit son propre identifiant unique, qui est utilis√© dans les r√®gles d'inf√©rence de production et lorsqu'il travaille dans le cloud.  Le fonctionnement de cet algorithme est illustr√© dans le diagramme UML: <br><br> <a href=""><img src="https://habrastorage.org/webt/np/01/lc/np01lc-tc4xbqzxccv18tfuxuz4.png"></a> <br>  <font color="grey">(cliquez sur l'image pour l'ouvrir en plus haute r√©solution)</font> <br><br><h2>  Connexion cam√©ra IP </h2><br>  Le syst√®me de maison intelligente cloud discut√© dans cet article est une modernisation du syst√®me de vid√©osurveillance cloud, √©galement d√©velopp√© par l'auteur, qui est sur le march√© depuis plusieurs ann√©es et poss√®de de nombreuses installations en Russie. <br><br>  Pour les syst√®mes de vid√©osurveillance dans le cloud, l'un des probl√®mes aigus est le choix limit√© d'√©quipements avec lesquels l'int√©gration peut √™tre r√©alis√©e.  Le logiciel responsable de la connexion au cloud est install√© √† l'int√©rieur du cam√©scope, ce qui sollicite imm√©diatement son mat√©riel - le processeur et la quantit√© de m√©moire libre.  Cela explique principalement le prix plus √©lev√© des cam√©ras de surveillance vid√©o bas√©es sur le cloud par rapport aux cam√©ras IP conventionnelles.  En outre, une longue √©tape de n√©gociations avec les fabricants de cam√©ras de vid√©osurveillance est n√©cessaire pour acc√©der au syst√®me de fichiers des cam√©ras et √† tous les outils de d√©veloppement n√©cessaires. <br><br><img src="https://habrastorage.org/webt/zx/c-/sq/zxc-sqnecsbismwgwmztyclcg9k.jpeg"><br><br>  D'un autre c√¥t√©, toutes les cam√©ras IP modernes ont des protocoles standard pour interagir avec d'autres √©quipements (en particulier les DVR).  Ainsi, l'utilisation d'un contr√¥leur s√©par√© qui se connecte √† l'aide du protocole standard et diffuse des flux vid√©o des cam√©ras IP vers le cloud offre des avantages comp√©titifs importants pour les syst√®mes de vid√©osurveillance dans le cloud.  De plus, si le client avait d√©j√† install√© un syst√®me de vid√©osurveillance bas√© sur de simples cam√©ras IP, il devient possible de l'√©tendre et de le transformer en une maison intelligente nuageuse √† part enti√®re. <br><br>  Le protocole le plus populaire pour les syst√®mes de vid√©osurveillance IP, qui est d√©sormais pris en charge par tous les fabricants de cam√©ras IP sans exception, est le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">profil ONVIF S</a> , dont les sp√©cifications existent dans le langage de description des services Web <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WSDL</a> .  En utilisant les utilitaires de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">bo√Æte √†</a> outils <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">gSOAP</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">il est</a> possible de g√©n√©rer le code source des services fonctionnant avec des cam√©ras IP: <br><br><pre> <code class="bash hljs">$ wsdl2h -o onvif.h \ https://www.onvif.org/ver10/device/wsdl/devicemgmt.wsdl \ https://www.onvif.org/ver10/events/wsdl/event.wsdl \ https://www.onvif.org/ver10/media/wsdl/media.wsdl \ https://www.onvif.org/ver20/ptz/wsdl/ptz.wsdl $ soapcpp2 -Cwvbj -c++11 -d cpp_files/onvif -i onvif.h</code> </pre><br>  En cons√©quence, nous obtenons un ensemble de fichiers d'en-t√™te ¬´* .h¬ª et de source ¬´* .cpp¬ª en C ++, qui peuvent √™tre plac√©s directement dans une application ou une biblioth√®que s√©par√©e et compil√©s √† l'aide du compilateur GCC.  En raison des nombreuses fonctions, le code est volumineux et n√©cessite une optimisation suppl√©mentaire.  Le micro-ordinateur Raspberry Pi 3 mod√®le B + a des performances suffisantes pour ex√©cuter ce code, mais s'il est n√©cessaire de porter le code sur une autre plate-forme, il est n√©cessaire de choisir correctement l'architecture du processeur et les ressources syst√®me. <br><br>  Les cam√©ras IP qui prennent en charge la norme ONVIF, lorsqu'elles fonctionnent sur un r√©seau local, sont connect√©es √† un groupe de multidiffusion sp√©cial avec l'adresse <b>239.255.255.250</b> .  Il existe un protocole <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WS-Discovery</a> , qui vous permet d'automatiser la recherche d'appareils sur le r√©seau local. <br><br>  L'interface intelligente du contr√¥leur de maison intelligente impl√©mente la fonction de recherche de cam√©ras IP en langage PHP, ce qui est tr√®s pratique lors de l'interaction avec des services Web via des messages XML.  Lorsque vous s√©lectionnez les √©l√©ments de menu <i>P√©riph√©riques&gt; Cam√©ras IP&gt; Num√©riser</i> , l'algorithme de recherche pour les cam√©ras IP d√©marre, affichant le r√©sultat dans un tableau: <br><br> <a href=""><img src="https://habrastorage.org/webt/ew/xk/m6/ewxkm6g2tl7-2nqvjeyzfed8ees.png"></a> <br>  <font color="grey">(cliquez sur l'image pour l'ouvrir en plus haute r√©solution)</font> <br><br>  Lors de l'ajout d'une cam√©ra au contr√¥leur, vous pouvez sp√©cifier les param√®tres selon lesquels elle interagira avec le cloud.  √Ä ce stade √©galement, un identifiant d'appareil unique lui est automatiquement attribu√©, gr√¢ce auquel il peut √™tre facilement identifi√© √† l'avenir dans le cloud. <br><br><img src="https://habrastorage.org/webt/jp/uq/al/jpuqalxe9cryxzzg2dpynptjjmy.png"><br><br>  Ensuite, un message est g√©n√©r√© au format JSON contenant tous les param√®tres de la cam√©ra ajout√©e et envoy√© au processus serveur du contr√¥leur de maison intelligente via la commande RESTful API, o√π les param√®tres de la cam√©ra sont d√©cod√©s et stock√©s dans la base de donn√©es interne SQLite, et sont √©galement utilis√©s pour d√©marrer les threads de traitement suivants: <br><br><ol><li>  √©tablir une connexion RTSP pour recevoir des flux vid√©o et audio; </li><li>  transcodage audio des formats G.711 mu-Law, G.711 A-Law, G.723, etc.  au format AAC; </li><li>  transcoder les flux vid√©o H.264 et audio AAC vers le conteneur FLV et les transmettre au cloud en utilisant RTMP; </li><li>  √©tablir une connexion avec le point d'extr√©mit√© du d√©tecteur de mouvement de cam√©ra IP via le protocole ONVIF et son interrogation p√©riodique; </li><li>  g√©n√©rer p√©riodiquement une image d'aper√ßu miniature et l'envoyer au cloud √† l'aide du protocole MQTT; </li><li>  enregistrement local de flux vid√©o et audio sous forme de fichiers s√©par√©s au format MP4 sur une carte SD ou Flash d'un contr√¥leur de maison intelligente. </li></ol><br><img src="https://habrastorage.org/webt/4m/yc/yb/4mycybe00ye3dxglny-fcgsohua.png"><br><br>  Pour √©tablir une connexion avec les cam√©ras, transcoder, traiter et enregistrer les flux vid√©o dans le processus serveur, les fonctions de la biblioth√®que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">FFmpeg</a> 4.1.0 sont utilis√©es. <br><br>  Dans l'exp√©rience de test de performance, 3 cam√©ras ont √©t√© connect√©es au contr√¥leur: <br><br><ol><li>  HiWatch DS-I114W (r√©solution - 720p, format de compression - H.264, d√©bit binaire - 1 Mb / s, son mu-Law G.711); </li><li>  Microdigital MDC-M6290FTD-1 (r√©solution - 1080p, format de compression - H.264, d√©bit binaire - 1 Mb / s, sans son); </li><li>  Dahua DH-IPC-HDW4231EMP-AS-0360B (r√©solution - 1080p, format de compression - H.264, d√©bit binaire - 1,5 Mb / s, son AAC). </li></ol><br><img src="https://habrastorage.org/webt/h2/dv/mk/h2dvmkujuqu4sdp6daccgdimnre.png"><br><br>  Les trois flux ont √©t√© simultan√©ment √©mis vers le cloud, le transcodage du son a √©t√© effectu√© uniquement √† partir d'une seule cam√©ra, l'enregistrement des archives locales a √©t√© d√©sactiv√©.  L'utilisation du processeur √©tait d'environ 5%, l'utilisation de la RAM √©tait de 32 Mo (par processus), 56 Mo (total avec le syst√®me d'exploitation). <br><br>  Ainsi, environ 20 √† 30 cam√©ras (selon la r√©solution et le d√©bit binaire) peuvent √™tre connect√©es au contr√¥leur de maison intelligente, ce qui est suffisant pour un syst√®me de surveillance vid√©o d'un chalet √† trois √©tages ou d'un petit entrep√¥t.  Dans les t√¢ches n√©cessitant des performances √©lev√©es, vous pouvez utiliser un nettop avec un processeur multic≈ìur Intel et un syst√®me d'exploitation Linux Debian Sarge.  Actuellement, le contr√¥leur est en cours d'essai et les donn√©es sur ses performances seront mises √† jour. <br><br><h2>  Interaction avec le cloud </h2><br>  Cloud smart home stocke les donn√©es des utilisateurs (vid√©os et mesures des capteurs) dans le cloud.  L'architecture de stockage cloud sera discut√©e plus en d√©tail dans le prochain article de notre s√©rie.  Parlons maintenant de l'interface de transmission des messages d'information du contr√¥leur de maison intelligente vers le cloud. <br><br>  Les √©tats des appareils connect√©s et les mesures des capteurs sont transmis √† l'aide du protocole <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MQTT</a> , qui est souvent utilis√© dans les projets IoT en raison de sa simplicit√© et de son efficacit√© √©nerg√©tique.  MQTT utilise un mod√®le client-serveur lorsque les clients s'abonnent √† certaines rubriques du courtier et publient leurs messages.  Le courtier envoie des messages √† tous les abonn√©s selon les r√®gles d√©termin√©es par le niveau de QoS (Quality of Service): <br><br><ul><li>  QoS 0 - au plus une fois (pas de garantie de livraison); </li><li>  QoS 1 - au moins une fois (avec confirmation de livraison); </li><li>  QoS 2 - exactement une fois (avec confirmation de livraison suppl√©mentaire). </li></ul><br>  Dans notre cas, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Eclipse Mosquitto est</a> utilis√© comme courtier MQTT.  Le nom du sujet est l'identifiant unique du contr√¥leur de maison intelligente.  Le client MQTT √† l'int√©rieur du processus serveur s'abonne √† cette rubrique et y traduit les messages JSON provenant du gestionnaire de messages.  Inversement, les messages du courtier MQTT leur sont envoy√©s dans le gestionnaire de messages, qui les multiplexe ensuite vers ses abonn√©s au sein du processus serveur: <br><br><img src="https://habrastorage.org/webt/zx/ao/ea/zxaoeaqetsr7odlbfsx2xtn35fy.png"><br><br>  Pour transmettre des messages sur l'√©tat du contr√¥leur de maison intelligente, le m√©canisme des messages enregistr√©s messages <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">retenus du</a> protocole MQTT est utilis√©.  Cela vous permet de surveiller correctement les moments de reconnexion lors de pannes de courant. <br><br>  Le client MQTT a √©t√© d√©velopp√© sur la base de l'impl√©mentation de la biblioth√®que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Eclipse Paho</a> en C ++. <br><br>  Les flux multim√©dias H.264 + AAC sont envoy√©s vers le cloud √† l'aide du protocole RTMP, o√π un cluster de serveurs multim√©dias est responsable de leur traitement et de leur stockage.  Pour r√©partir de mani√®re optimale la charge dans le cluster et s√©lectionner le serveur multim√©dia le moins charg√©, le contr√¥leur de maison intelligente fait une demande pr√©liminaire √† l'√©quilibreur de charge cloud et envoie ensuite uniquement le flux multim√©dia. <br><br><h1>  Conclusion </h1><br>  L'article a examin√© une mise en ≈ìuvre sp√©cifique d'un contr√¥leur de maison intelligente bas√© sur le micro-ordinateur Raspberry Pi 3 B +, qui peut recevoir, traiter des informations et g√©rer des √©quipements √† l'aide du protocole Z-Wave, interagir avec des cam√©ras IP √† l'aide du protocole ONVIF et √©galement √©changer des donn√©es et des commandes avec le cloud Service de protocole MQTT et RTMP.  Un moteur logique de production a √©t√© d√©velopp√© sur la base d'une comparaison des r√®gles logiques et des faits pr√©sent√©s au format JSON. <br><br>  Maintenant, le contr√¥leur de maison intelligente est en cours d'essai dans plusieurs installations de Moscou et de la r√©gion de Moscou. <br><br>  Dans la prochaine version du contr√¥leur, il est pr√©vu de connecter des appareils d'autres types (RF, Bluetooth, WiFi, filaire).  Pour la commodit√© des utilisateurs, la proc√©dure de connexion des capteurs et des cam√©ras IP sera transf√©r√©e vers l'application mobile.  Il existe √©galement des id√©es pour optimiser le code de processus du serveur et porter le logiciel sur le syst√®me d'exploitation <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">OpenWrt</a> .  Cela permettra d'√©conomiser sur un contr√¥leur s√©par√© et de transf√©rer les fonctionnalit√©s d'une maison intelligente vers un routeur domestique ordinaire. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr467219/">https://habr.com/ru/post/fr467219/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr467203/index.html">Juste la division, ou comment cr√©er une th√©orie math√©matique et y gagner 400 000 $. Deuxi√®me s√©rie, avant-derni√®re</a></li>
<li><a href="../fr467205/index.html">Nous d√©veloppons une application qui envoie des donn√©es vers d'autres applications (application √©cosyst√®me)</a></li>
<li><a href="../fr467207/index.html">Cinq langages de programmation prometteurs avec un bel avenir (3 ans plus tard)</a></li>
<li><a href="../fr467209/index.html">"Agents autonomes" ou ex√©cutez du code dans la cryptoplateforme ouverte Obyte</a></li>
<li><a href="../fr467215/index.html">22 Mus√©es informatiques: un guide pour les ing√©nieurs voyageant en Europe</a></li>
<li><a href="../fr467223/index.html">Bienvenue sur JavaScript Meetup SuperJob le 10 octobre</a></li>
<li><a href="../fr467227/index.html">Comment ouvrir un package npm avec un d√©ploiement normal, un CI et une d√©mo (sans perte de joie de vivre)</a></li>
<li><a href="../fr467231/index.html">Pr√©sentation de la connexion avec Apple dans votre application iOS</a></li>
<li><a href="../fr467237/index.html">√âlevez votre serveur DNS sur HTTPS</a></li>
<li><a href="../fr467239/index.html">La diff√©rence entre Data Scientist et un adolescent dans une voiture de sport</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>