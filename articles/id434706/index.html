<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎙️ 🦖 🤘🏽 UDB. Apa ini Bagian 3. Datapath FIFO 🏎️ 🏤 👩‍🌾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kami terus menerjemahkan dokumentasi milik Cypress ke blok UDB. Apalagi semuanya bertepatan dengan sangat baik. Untuk melanjutkan artikel praktis tent...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>UDB. Apa ini Bagian 3. Datapath FIFO</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/434706/"><img src="https://habrastorage.org/webt/et/v5/rr/etv5rr-xdmsl0tyw4vtp_doh75k.jpeg"><br><br>  Kami terus menerjemahkan dokumentasi milik Cypress ke blok UDB.  Apalagi semuanya bertepatan dengan sangat baik.  Untuk melanjutkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel praktis tentang UDB, Anda</a> harus menggunakan FIFO, dan pada bagian teoretis kita sampai pada deskripsi mereka.  Karena itu, kami mulai mempelajarinya secara rinci. <br><a name="habracut"></a><br>  Isi umum dari siklus “UDB.  Apa ini? " <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian 1. Pendahuluan.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pld.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian 2. Datapath.</a> <br>  Bagian 3. Datapath FIFO.  (Artikel saat ini) <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian 4. Datapath ALU.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian 5. Datapath.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Hal-hal kecil yang bermanfaat.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian 6. Modul manajemen dan status.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian 7. Pengaturan waktu dan reset modul kontrol</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian 8. Mengatasi UDB</a> <br><br><h2>  21.3.2.2 Datapath FIFO </h2><br><h3>  Mode dan Konfigurasi FIFO </h3><br>  Setiap buffer FIFO memiliki beberapa mode operasi dan konfigurasi yang tersedia: <br><br>  Tabel 21-2.  Mode dan konfigurasi FIFO. <br><div class="scrollable-table"><table><tbody><tr><th>  Mode </th><th>  Deskripsi </th></tr><tr><td>  Input / output <br>  (Input / output buffer) </td><td>  Dalam mode buffer input, CPU atau DMA menulis <br>  data dalam FIFO, dan Datapath membacanya.  Dalam mode <br>  data buffer output masuk ke FIFO dari <br>  Datapath, dan membacanya dari sana CPU atau DMA. </td></tr><tr><td>  Buffer tunggal <br>  (Buffer tunggal) </td><td>  FIFO berfungsi sebagai buffer tunggal tanpa status. <br>  Data yang direkam dalam FIFO segera dapat dibaca dan mungkin <br>  ditimpa setiap saat. </td></tr><tr><td>  Tingkat / tepi <br>  (Level / Delta) </td><td>  Parameter yang bertanggung jawab untuk memuat FIFO dari Datapath, <br>  dapat dipicu oleh level atau oleh diferensial. </td></tr><tr><td>  Normal / cepat <br>  (Normal / cepat) </td><td>  Parameter yang bertanggung jawab untuk memuat FIFO dari sumber <br>  Datapath: clock pada frekuensi yang dipilih untuk Datapath <br>  sumber jam (normal) atau frekuensi bus (cepat). <br>  Ini memungkinkan Anda untuk menangkap pada frekuensi tertinggi. <br>  dalam sistem (frekuensi bus), terlepas dari frekuensi clock Datapath. </td></tr><tr><td>  Pengambilan perangkat lunak <br>  (Pengambilan perangkat lunak) </td><td>  Saat mode ini aktif dan FIFO dalam mode <br>  buffer output, baca CPU atau DMA terkait <br>  baterai (A0 untuk F0, A1 untuk F1), menginisialisasi <br>  Sinkronkan nilai baterai ke FIFO. <br>  Nilai yang ditangkap segera dapat dibaca dari FIFO. <br>  Jika dukungan rangkaian diaktifkan, <br>  operasi akan mengikuti rantai ke blok MS sehingga <br>  Datapath bisa melakukan pembacaan atom multibyte <br>  nilai-nilai. </td></tr><tr><td>  Asynch <br>  (Asinkron) </td><td>  Ketika jam Datapach dan bus sistem tidak <br>  disinkronkan, sinyal status FIFO dapat <br>  diteruskan ke seluruh datapath baik <br>  langsung, clock dari frekuensi clock Datapath, <br>  atau dengan sinkronisasi ganda, dalam mode Asynch. </td></tr><tr><td>  Jam Polaritas Independen <br>  (Polaritas Jam Independen) </td><td>  Setiap FIFO memiliki bit kontrol untuk dibalik <br>  FIFO jam polaritas versus jam Datapath. </td></tr></tbody></table></div><br>  Gambar 21-7 menunjukkan opsi konfigurasi yang memungkinkan untuk pasangan FIFO, tergantung pada mode Input / Output yang dipilih untuk masing-masing FIFO.  Jika satu FIFO dalam mode input dan yang lainnya dalam mode output, kami mendapatkan konfigurasi RX / TX.  Contoh khas di mana konfigurasi seperti itu diperlukan adalah pengendali bus SPI.  Konfigurasi <b>Dual Capture</b> (kedua FIFO dikonfigurasikan untuk output) memberikan tangkapan independen dari pasangan A0 dan A1 atau dua penangkapan independen dari register A0 atau A1.  Akhirnya, dalam mode <b>Penyangga Ganda</b> (keduanya pada input), dimungkinkan untuk menggunakan pasangan register atau dua register independen untuk memuat atau membandingkan. <br><br><img src="https://habrastorage.org/webt/jw/ii/lz/jwiilz_qkbulrpqu4n1xahxnsjq.png"><br><br>  Gambar 21-7.  Konfigurasi FIFO. <br><br>  Gambar 21-8 menunjukkan secara detail sumber dan penerima FIFO. <br><br><img src="https://habrastorage.org/webt/lj/rf/4l/ljrf4lqn5lyyq2xsi6sml5ywi5o.png"><br><br>  Gambar 21-8.  Sumber dan penerima FIFO. <br><br>  Ketika FIFO beroperasi dalam mode buffer input, sumbernya adalah bus sistem, dan penerima adalah register Dx dan Ax.  Saat bekerja dalam mode buffer output, sumbernya adalah register Ax dan ALU, dan penerima adalah bus sistem.  Pilihan multiplexer diatur secara statis di register konfigurasi UDB CFG15, seperti yang ditunjukkan pada tabel untuk F0_INSEL [1: 0] atau F1_INSEL [1: 0]: <br><br>  Tabel 21-3.  Satu set multiplexer FIFO dalam register konfigurasi UDB. <br><div class="scrollable-table"><table><tbody><tr><th>  Fx_INSEL [1: 0] </th><th>  Deskripsi </th></tr><tr><td>  00 </td><td>  Mode buffer input: bus sistem menulis ke FIFO, sedangkan penerima <br>  FIFO adalah Ax atau Dx. </td></tr><tr><td>  01 </td><td>  Mode buffer output: Sumber FIFO adalah A0, dan penerima <br>  FIFO - bus sistem. </td></tr><tr><td>  10 </td><td>  Mode Buffer Output: Sumber FIFO adalah A1, dan penerima <br>  FIFO - bus sistem. </td></tr><tr><td>  11 </td><td>  Mode Buffer Output: Sumber FIFO adalah output ALU, dan penerima <br>  FIFO - bus sistem. </td></tr></tbody></table></div><br><h3>  Status FIFO </h3><br>  Setiap FIFO menghasilkan dua sinyal status, "bus" dan "blok," yang ditransmisikan ke sumber daya jejak UDB melalui multiplexer output Datapath.  Status bus dapat digunakan untuk mengganggu atau meminta DMA baca / tulis ke FIFO.  Negara "blok" terutama dimaksudkan untuk melewati negara FIFO ke entitas UDB internal.  tujuan bit status tergantung pada arah yang dikonfigurasi (Fx_INSEL [1: 0]), dan bit level FIFO.  Bit level FIFO (Fx_LVL) diatur dalam register Kontrol Bantu di ruang register yang berfungsi.  Opsi status ditunjukkan pada tabel berikut: <br><br>  Tabel 21-4.  Opsi status FIFO. <br><div class="scrollable-table"><table><tbody><tr><th>  Fx_INSEL [1: 0] </th><th>  Fx_lvl </th><th>  Ketentuan </th><th>  Sinyal </th><th>  Deskripsi </th></tr><tr><td>  Masuk </td><td>  0 </td><td>  Tidak penuh </td><td>  Status Bus </td><td>  Mengokang ketika ada FIFO <br>  tempat untuk setidaknya satu byte. </td></tr><tr><td>  Masuk </td><td>  1 </td><td>  Hancur <br>  setidaknya <br>  setengah </td><td>  Status Bus </td><td>  Mengokang ketika ada FIFO <br>  ruang setidaknya untuk 2 byte. </td></tr><tr><td>  Masuk </td><td>  T / A </td><td>  Kosong </td><td>  Status Blokir </td><td>  Mengokang saat tidak ada FIFO <br>  bukan byte tunggal. <br>  Ketika FIFO tidak kosong, Datapath <br>  dapat membaca byte. <br>  Ketika FIFO kosong, Datapath <br>  mungkin bisa <br>  harapan baik menghasilkan <br>  keadaan kehancuran. </td></tr><tr><td></td></tr><tr><td>  Kesimpulan </td><td>  0 </td><td>  Tidak kosong </td><td>  Status Bus </td><td>  Mengokang saat di FIFO <br>  setidaknya 1 byte tersedia <br>  untuk membaca. </td></tr><tr><td>  Kesimpulan </td><td>  1 </td><td>  Penuh <br>  setidaknya <br>  setengah </td><td>  Status Bus </td><td>  Mengokang saat tersedia di FIFO <br>  setidaknya 2 byte untuk dibaca. </td></tr><tr><td>  Kesimpulan </td><td>  T / A </td><td>  Penuh </td><td>  Status Blokir </td><td>  Mengokang saat FIFO penuh. <br>  Ketika FIFO tidak lengkap, Datapath <br>  dapat menulis byte di FIFO. <br>  Ketika FIFO Penuh, Datapath <br>  mungkin masuk <br>  siaga atau <br>  menghasilkan kondisi <br>  meluap. </td></tr></tbody></table></div><br><h3>  Ilustrasi Pekerjaan FIFO </h3><br>  Gambar 21-9 menunjukkan urutan khas membaca dan menulis, serta generasi status yang terkait dengan operasi ini.  Dalam gambar, membaca dan menulis terjadi pada waktu yang berbeda, tetapi mereka dapat dilakukan secara bersamaan. <br><br><img src="https://habrastorage.org/webt/pp/kr/-p/ppkr-pcweqaiz61mam-o3d4oeti.png"><br><br>  Gambar 21-9 Operasi Penerima FIFO. <br><br><h3>  Mode Cepat FIFO (FIFO CEPAT) </h3><br>  Ketika FIFO dalam mode buffer output, operasi boot FIFO biasanya menggunakan frekuensi clock dari Datapath yang dipilih untuk mencatat sinyal tulis.  Seperti ditunjukkan pada Gambar 21-10, ketika memilih Mode Cepat FIFO (FIFO FAST), Anda dapat memilih frekuensi bus untuk operasi khusus ini.  Ketika digunakan bersama dengan mode <b>Level / Edge = Edge</b> , operasi ini mengurangi penundaan transmisi dari baterai ke FIFO dari periode jam Datapath ke periode jam bus, karena frekuensi bus bisa jauh lebih tinggi.  Ini memungkinkan CPU atau DMA untuk membaca hasil FIFO yang diterima dengan penundaan minimal. <br><br>  Seperti yang ditunjukkan pada Gambar 21-10, operasi boot cepat dilakukan terlepas dari jam Datapath saat ini, namun, menggunakan kecepatan jam bus dapat meningkatkan konsumsi daya. <br><br><img src="https://habrastorage.org/webt/au/4c/0i/au4c0iq5pfcnnebsvxxq1hmf-zu.png"><br><br>  Gambar 21-10.  Penerima konfigurasi cepat FIFO. <br><br><h3>  Mode Perekaman Tepi / Tingkat FIFO (Diferensial / Tingkat) </h3><br>  Ada dua mode perekaman di FIFO dari Datapath.  Dalam mode pertama, data ditransfer secara sinkron dari baterai ke FIFO.  Sinyal kontrol dari catatan ini (FX_LD) biasanya dihasilkan oleh mesin negara atau oleh kondisi yang disinkronkan dengan pencatatan jam kerja Datapath.  Menulis ke FIFO akan dilakukan dalam setiap siklus di mana sinyal kontrol beban input adalah '1'.  Dalam mode kedua, FIFO digunakan untuk menangkap nilai baterai sebagai respons terhadap tepi positif sinyal FX_LD.  Dalam mode ini, format sinyal dari sinyal arbitrer (namun, periode harus sama dengan setidaknya satu siklus clock Datapath).  Contoh dari mode ini adalah menangkap nilai baterai menggunakan input dari kaki eksternal sebagai pemicu.  Batasan mode ini adalah bahwa parameter input harus kembali ke nilai '0' setidaknya satu siklus sebelum perbedaan positif lain terdeteksi. <br><br>  Gambar 21-11 menunjukkan implementasi mode deteksi diferensial pada input FX_LD.  Mode kedua FIFO di UDB dikendalikan oleh bit yang sama, mengubah opsi ini.  Perhatikan bahwa deteksi diferensial clock pada frekuensi yang sama dengan frekuensi FIFO yang dipilih. <br><br><img src="https://habrastorage.org/webt/xv/hq/u8/xvhqu8l5xwjgn-4aaww9ru8tkli.png"><br><br>  Gambar 21-11.  Deteksi diferensial untuk penerima rekaman FIFO internal. <br><br><h3>  Mode Pengambilan Perangkat Lunak FIFO </h3><br>  Persyaratan umum dan penting adalah untuk memungkinkan CPU dan DMA untuk membaca isi baterai dengan andal selama operasi normal.  Ini dilakukan menggunakan penangkapan perangkat lunak dan diaktifkan menggunakan bit konfigurasi Cap FIFO.  Bit ini berlaku untuk kedua FIFO di UDB, tetapi hanya berfungsi ketika FIFO dalam mode buffer output.  Saat menggunakan penangkapan perangkat lunak, F0 harus membaca dari A0, dan F1 dari A1. <br><br>  Seperti yang ditunjukkan pada Gambar 21-12, membaca baterai memulai penulisan ke FIFO dari baterai.  Sinyal dihubungkan dalam suatu rantai sehingga membaca byte tertentu secara bersamaan menangkap nilai baterai semua UDB dalam rantai.  Ini memungkinkan prosesor 8-bit untuk berhasil membaca 16 bit atau lebih secara bersamaan.  Data yang dikembalikan saat membaca baterai harus diabaikan, dan nilai yang ditangkap dapat segera dibaca dari FIFO. <br><br>  Sinyal FX_LD yang dilacak, yang menghasilkan beban FIFO, dikirim ke istilah OR bersama dengan sinyal tangkapan program.  Ketika penangkapan perangkat keras dan perangkat lunak digunakan pada saat yang sama, hasilnya bisa tidak dapat diprediksi.  Sebagai aturan, fungsi-fungsi ini harus saling eksklusif, namun, penangkapan perangkat keras dan perangkat lunak dapat digunakan secara bersamaan dalam kondisi berikut: <br><br><ul><li>  Mode jam pengambilan FIFO diatur ke FIFO FAST. </li><li>  Mode perekaman FIFO diatur ke FIFO EDGE. </li></ul><br>  Di bawah kondisi yang dijelaskan di atas, penangkapan perangkat keras dan lunak pada dasarnya bekerja sama, dan selama siklus jam bus apa pun, sinyal-sinyal ini dapat memicu tangkapan. <br><br>  Anda juga disarankan untuk menghapus target FIFO dalam kode program (register ACTL) sebelum penangkapan program dimulai.  Berkat ini, petunjuk baca dan tulis FIFO akan diatur ke kondisi yang diketahui. <br><br><img src="https://habrastorage.org/webt/0n/c7/zg/0nc7zgc7je5sn3emupt2ij7kdc0.png"><br><br>  Gambar 21-12.  Konfigurasi Pengambilan Perangkat Lunak. <br><br>  <i><b>Catatan Penerjemah:</b></i> <i><br></i>  <i>Untuk waktu yang lama saya tidak bisa mengerti arti bagian ini.</i>  <i>Kemudian untuk waktu yang lama saya yakin bahwa bagian itu ditulis untuk PSoC3, inti delapan-bit yang tidak dapat mengakses lebih dari byte.</i>  <i>Tetapi ketika membuat bagian <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kedelapan dari terjemahan</a> , ternyata bahkan di PSoC5LP, untuk semua inti prosesor ARM 32-bit, akses ke register UDB yang berfungsi dapat dilakukan dalam mode delapan-bit atau enam belas-bit.</i>  <i>Dilihat oleh dokumen, tidak ada lagi.</i>  <i>Di sinilah fungsi yang dijelaskan berguna.</i> <i><br></i> <br><br><h3>  Bit Kontrol FIFO </h3><br>  Register Kontrol Bantu, yang dapat digunakan untuk mengontrol FIFO selama operasi normal, berisi 4 bit. <br><br>  Bit FIFO0 CLR dan FIFO1 CLR digunakan untuk mengatur ulang atau menghapus FIFO.  Ketika salah satu dari bit-bit ini diberikan nilai '1', FIFO yang terkait diatur ulang.  Bit harus dikembalikan ke nilai aslinya ('0') agar FIFO dapat terus bekerja.  Jika nilai bit tetap sama dengan satu, FIFO yang sesuai akan dinonaktifkan dan akan berfungsi sebagai buffer byte tunggal tanpa status.  Data dapat ditulis ke FIFO, data dapat segera dibaca dan dapat ditimpa setiap saat.  Arah data dengan bit konfigurasi FX INSEL [1: 0] masih dapat diatur. <br><br>  FIFO0 LVL dan FIFO1 LVL bit menentukan tingkat di mana FIFO akan memiringkan bit status <b>"bus"</b> (ketika bus membaca atau menulis ke FIFO).  Artinya, status status <b>"bus"</b> tergantung pada arah yang diberikan, seperti yang ditunjukkan pada tabel di bawah ini. <br><br>  Tabel 21-5.  Bit Kontrol Level FIFO <br><div class="scrollable-table"><table><tbody><tr><th>  FIFO LVL </th><th>  Mode buffer input <br>  (bus menulis ke FIFO) </th><th>  Mode buffer output <br>  (bus membaca dari FIFO) </th></tr><tr><td>  0 </td><td>  Tidak penuh <br>  Setidaknya 1 byte dapat ditulis. </td><td>  Tidak kosong <br>  Setidaknya 1 byte dapat dibaca. </td></tr><tr><td>  1 </td><td>  Kosong setidaknya di tengah jalan <br>  Setidaknya 2 byte dapat ditulis. </td><td>  Setengah penuh <br>  Setidaknya 2 byte dapat dibaca. </td></tr></tbody></table></div><br><h3>  Operasi Asinkron FIFO </h3><br>  Gambar 21-13 menunjukkan prinsip operasi FIFO asinkron.  Sebagai contoh, bayangkan F0 beroperasi dalam mode buffer input, dan F1 dalam mode buffer output, yang merupakan konfigurasi khas register TX dan RX. <br><br><img src="https://habrastorage.org/webt/ct/ei/lo/cteilo6ne7nn0ah0hprjtkbawvo.png"><br><br>  Gambar 21-13.  Operasi FIFO asinkron. <br><br>  Di sisi TX, mesin negara Datapath menggunakan bendera <b>Kosong</b> untuk menentukan apakah ada byte yang tersedia untuk menerima.  Nilai <b>Kosong</b> diatur secara sinkron dengan mesin status Datapath, dan dihapus secara asinkron karena penulisan dari bus.  Setelah dibersihkan, statusnya kembali disinkronkan dengan mesin status Datapath. <br><br>  Di sisi RX, mesin RX state menggunakan <b>Full</b> untuk menentukan apakah ada ruang kosong untuk menulis ke FIFO.  Nilai <b>penuh</b> diatur secara sinkron dengan mesin status Datapath, dan dihapus secara asinkron karena membaca oleh bus.  Setelah dibersihkan, statusnya kembali disinkronkan dengan mesin status Datapath. <br><br>  Satu FIFO ASYNCH bit digunakan untuk mengaktifkan metode sinkronisasi ini, setelah aktivasi metode ini diterapkan untuk kedua FIFO. <br><br>  Ini hanya berlaku untuk status <b>Blokir</b> , karena diasumsikan bahwa status <b>Bus</b> secara alami disinkronkan oleh proses interupsi. <br><br>  Tabel 21-6.  <b>Blokir</b> opsi sinkronisasi status FIFO. <br><div class="scrollable-table"><table><tbody><tr><th>  Async </th><th>  Tambahkan SYNC </th><th>  Operasi </th><th>  Model penggunaan </th></tr><tr><td>  0 </td><td>  0 </td><td>  Disinkronkan dengan timing bus </td><td>  Perubahan status tulis / baca CPU <br>  terjadi pada frekuensi bus.  Bisa <br>  gunakan untuk minimal <br>  keterlambatan jika Anda dapat mencapai <br>  Frekuensi jam datapatch <br>  sama dengan frekuensi bus. </td></tr><tr><td>  0 </td><td>  1 </td><td>  Sinkronisasi ulang frekuensi <br>  ban ke frekuensi Datapath. </td><td>  Mode ini seharusnya <br>  mode operasi standar.  Kapan <br>  CPU melakukan operasi baca / tulis, <br>  perubahan status akan disinkronkan kembali <br>  dengan frekuensi yang digunakan dalam Datapath. <br>  Ini memungkinkan Anda untuk menggunakan penuh <br>  Periode frekuensi datapath untuk mengatur <br>  sinyal untuk logika UDB. </td></tr><tr><td>  1 </td><td>  0 </td><td>  Dicadangkan </td><td>  - </td></tr><tr><td>  1 </td><td>  1 </td><td>  Sinkronisasi frekuensi ganda <br>  ban ke frekuensi Datapath. </td><td>  Saat Jam Pulsa untuk Datapath <br>  tidak hanya tidak sinkron dengan <br>  frekuensi sistemik tetapi juga <br>  diproduksi secara terpisah <br>  generator independen <br>  parameter ini mungkin <br>  digunakan untuk double <br>  operasi sinkronisasi <br>  baca dan tulis cpu <br>  dengan clocking Datapath. </td></tr></tbody></table></div><br><h3>  FIFO meluap selama operasi </h3><br>  Untuk implementasi operasi baca dan tulis internal (Datapath) dan eksternal (CPU atau DMA) yang aman, sinyal status FIFO harus digunakan.  Tidak ada perlindungan bawaan terhadap kondisi pengosongan dan luapan.  Jika FIFO penuh dan operasi penulisan berikutnya dilakukan (overflow), data baru menimpa awal FIFO (data yang saat ini sedang diproduksi adalah yang berikutnya dalam antrian baca).  Jika FIFO kosong dan pembacaan berikutnya dilakukan (mengosongkan atau menipis), nilai baca tidak terdefinisi.  Pointer FIFO tetap akurat terlepas dari underflow dan overflow. <br><br><h3>  FIFO Clock Inversion </h3><br>  Setiap FIFO memiliki bit kontrol Fx CK INV, yang bertanggung jawab untuk polaritas jam FIFO Mengenai polaritas jam Datapath.  Secara default, FIFO bekerja dengan polaritas yang sama dengan pencatatan jam kerja Datapath.  Ketika bit ini adalah 1, FIFO beroperasi dengan polaritas terbalik relatif terhadap Datapath.  Ini memberikan dukungan protokol untuk bertukar data di kedua front, seperti SPI. <br><br><h3>  Kontrol FIFO dinamis </h3><br>  Biasanya, FIFO dikonfigurasi secara statis baik dalam mode buffer input atau dalam mode buffer output.  Atau, setiap FIFO dapat dikonfigurasi untuk beroperasi dalam mode di mana arah dikendalikan secara dinamis (di bawah pengaruh sinyal eksternal).  Satu bit konfigurasi per FIFO (Fx DYN) bertanggung jawab untuk mengaktifkan mode ini.  Gambar 21-14 menunjukkan konfigurasi yang tersedia dalam mode dinamis FIFO. <br><br><img src="https://habrastorage.org/webt/ny/ei/vo/nyeivo9hrnmr6vg8tkcbnnkaz8i.png"><br><br>  Gambar 21-14.  Mode FIFO dinamis. <br><br>  Dalam mode Akses Internal, Datapath dapat membaca dan menulis ke FIFO.  Dalam konfigurasi ini, untuk memilih sumber operasi tulis di FIFO, bit Fx INSEL harus diatur ke 1. Fx INSEL = 0 (sumber bus CPU) dalam mode ini tidak benar, hanya dapat mengambil nilai 1, 2 atau 3 (A0, A1 atau ALU )  Perlu dicatat bahwa membaca memiliki akses hanya ke baterai yang sesuai, arah register data dalam mode ini tidak tersedia. <br><br>  Dalam mode Akses Eksternal, CPU atau DMA dapat membaca atau menulis ke FIFO. <br><br>  Konfigurasi secara dinamis beralih antara akses eksternal dan internal dengan meneruskan sinyal dari Datapath.  Untuk ini, sinyal input Datapath d0_load dan d1_load digunakan.  Perlu dicatat bahwa dalam mode kontrol dinamis, d0_load dan d1_load tidak tersedia untuk penggunaan normal ketika memuat register D0 / D1 dari F0 / F1.  Sinyal Dx_load dapat dipicu oleh sinyal jejak, termasuk konstanta. <br><br>  Pertimbangkan contoh di mana, dimulai dengan akses eksternal (dx_load == 1), CPU atau DMA dapat menulis satu atau lebih byte data ke FIFO.  Kemudian, ketika beralih ke akses internal (dx_load == 0), Datapath dapat melakukan operasi pada data.  Setelah itu, ketika beralih ke akses eksternal, CPU atau DMA dapat membaca hasil perhitungan. <br>  Karena Fx INSEL harus selalu 01, 10 atau 11 (A0, A1 atau ALU), yang sesuai dengan "mode buffer output" selama operasi normal, sinyal status FIFO memiliki definisi berikut (tergantung pada parameter Fx LVL): <br><br>  Tabel 21-7.  Status FIFO. <br><div class="scrollable-table"><table><tbody><tr><th>  Sinyal status </th><th>  Nilai </th><th>  Fx LVL = 0 </th><th>  Fx LVL = 1 </th></tr><tr><td>  fx_blk_stat </td><td>  Rekam Status </td><td>  FIFO penuh </td><td>  FIFO penuh </td></tr><tr><td>  fx_bus_stat </td><td>  Status membaca </td><td>  FIFO tidak lengkap </td><td>  Setengah penuh </td></tr></tbody></table></div><br>  Karena Datapath dan CPU dapat menulis dan membaca dari FIFO, sinyal-sinyal ini tidak lagi dianggap sebagai status blok dan bus.  Sinyal blk_stat digunakan untuk status tulis, dan sinyal bus_stat untuk status baca <br><br><h2>  21.3.2.3 Status FIFO </h2><br>  Ada empat sinyal status FIFO, dua untuk setiap FIFO: fifo0_bus_stat, fifo0_blk_stat, fifo1_bus_stat dan fifo1_blk_stat.  Arti dari sinyal-sinyal ini tergantung pada arah FIFO tertentu, yang ditentukan oleh konfigurasi statis.  Status FIFO dijelaskan secara rinci di bagian <b>21.3.2.2 Datapath FIFO</b> . <br><br>  Pada bagian selanjutnya, kita akan beralih ke analisis Unit Logika Aritmatika (ALU). </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id434706/">https://habr.com/ru/post/id434706/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id434696/index.html">Karyawan raksasa TI menemukan cara memengaruhi kebijakan perusahaan mereka</a></li>
<li><a href="../id434698/index.html">Pesimisme Tentang Multithreading</a></li>
<li><a href="../id434700/index.html">Keuntungan mengikuti style guide saat mengembangkan aplikasi Angular</a></li>
<li><a href="../id434702/index.html">Mengapa SSD modern membuat saya crash</a></li>
<li><a href="../id434704/index.html">Alasan penurunan biaya lalu lintas seluler di Rusia dan perkiraan untuk 2019</a></li>
<li><a href="../id434708/index.html">HL 2018. Ringkasan laporan “Buat kata sandi hebat lagi! Cara mengalahkan brute force dan meninggalkan peretas tanpa apa-apa ”</a></li>
<li><a href="../id434710/index.html">RUVDS blog di Habr: tahun dalam tiga</a></li>
<li><a href="../id434712/index.html">Tes Turing Ketiga dalam bahasa Rusia</a></li>
<li><a href="../id434714/index.html">Sinkronisasi Permintaan Klien di Musim Semi</a></li>
<li><a href="../id434716/index.html">Pindah ke pusat data: Persiapan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>