<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍡 👩🏿‍⚕️ 🌍 Programmiersprache Ü. Einführung, Motivation zu schaffen, Ziele 🚼 🌜 ▶️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Einführung 
 Seit 2016 (mit Unterbrechungen) entwickle ich meine eigene Programmiersprache. Der Name dieser Sprache ist "Ü". Warum Ü? Weil ich einen N...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Programmiersprache Ü. Einführung, Motivation zu schaffen, Ziele</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/465553/"><h2>  Einführung </h2><br>  Seit 2016 (mit Unterbrechungen) entwickle ich meine eigene Programmiersprache.  Der Name dieser Sprache ist "Ü".  Warum Ü?  Weil ich einen Namen mit einem Buchstaben wollte und alle Buchstaben aus dem Satz von AZ bereits vergeben sind. <br><br>  Dieser Artikel hat die Aufgabe, die Öffentlichkeit mit dieser Sprache vertraut zu machen, um einen allgemeinen Eindruck davon zu vermitteln.  Der Artikel beabsichtigt nicht, die Sprache vollständig zu beschreiben. Eine vollständigere Beschreibung der Sprache, falls erforderlich, wird in den folgenden Artikeln gegeben. <br><br>  Warum brauchen wir eine andere Sprache? <br><a name="habracut"></a><br>  Ich untersuchte eine Reihe vorhandener statisch typisierter, mehr oder weniger bekannter Sprachen und kam zu dem Schluss, dass keine von ihnen vollständig zu mir passt.  Alle von ihnen haben "fatale" Mängel. <br><br>  Spezifische Punkte: <br><br><ul><li>  C - zu niedrig und unsicher </li><li>  C ++ - erbte viele Low-Level-Fehler, neue Möglichkeiten, sich in den Fuß zu schießen, mangelnde Reflexion </li><li>  D - Garbage Collector, separate Referenztypen </li><li>  Java ist ein Garbage Collector, auf alle zusammengesetzten Typen wird verwiesen, starke Bindung an eine virtuelle Maschine.  Vieles davon gilt auch für JVM-basierte Sprachen. </li><li>  C # - Fehler ähneln Java </li><li>  Rust - die Notwendigkeit, Links explizit zu nehmen und explizit zu dereferenzieren, (subjektiv) die Gefahr eines Ansatzes, wenn alles ein Ausdruck ist und ein Ergebnis zurückgibt, das Vorhandensein eines expliziten Hinweises auf die Einhaltung des Protokolls, das Fehlen von Vererbung </li><li>  Go - Garbage Collector, fehlende Vorlagen </li><li>  Swift - Referenztypen, die explizit die Einhaltung des Protokolls angeben müssen </li></ul><br>  Nachdem ich die Unvollkommenheit aller oben genannten Sprachen entdeckt hatte, entschloss ich mich, meine eigene zu erschaffen, ohne, wie mir scheint, alle Mängel. <br><br><h2>  Allgemeine Informationen </h2><br>  Ü ist eine kompilierte, statisch typisierte Sprache mit starker Typisierung.  Die Sprache enthält freie Funktionen, Strukturen, Klassen, Methoden für Strukturen und Klassen.  Bestehende Arten von Typen - grundlegend, strukturell (Strukturen, Klassen), Arrays konstanter Größe, Tupel, Aufzählungen, Zeiger auf Funktionen.  Klassen können an der Vererbung teilnehmen und haben virtuelle Funktionen.  Die Sprache unterstützt Vorlagen, es gibt Vorlagen für Klassen und Strukturen, Aliase von Typen, Funktionen und Methoden.  Es gibt eine Überlastung von Funktionen und Operatoren (mit einigen Einschränkungen). <br><br>  Die Sprache unterstützt Destruktoren für Klassen und Strukturen.  Destruktoren werden zum Verwalten von Ressourcen einschließlich Speicher verwendet. <br><br><h2>  Was ist schon da </h2><br>  Implementierter LLVM-basierter Compiler.  Der Compiler unterstützt alle Plattformen, die LLVM unterstützen.  Der Compiler weiß noch nicht, wie man rein ausführbare Dateien erstellt, kann jedoch Objektdateien, Assembler-Code, Binär- oder Text-llvm-Code generieren.  Es ist möglich, mit C-Code zu kommunizieren. Es gibt ein Dienstprogramm, das das Schreiben von Ü-Headern für C-Bibliotheken erleichtert. <br><br><h2>  Ziele und Vorgaben </h2><br>  Die Sprache wird so erstellt, dass die maximale Anzahl typischer Fehler in der Kompilierungsphase erfasst wird.  Entscheidungen zur Sprachgestaltung werden in erster Linie auf der Grundlage dieser Aufgabe getroffen.  Das zweite Ziel ist die (relative) Leichtigkeit, Programme zu schreiben und sie zu lesen. <br><br>  Die Sprache enthält keine Konstrukte, die das Schreiben von fehlerhaftem Code provozieren könnten, und enthält auch keine Funktionen, die das Verständnis der Vorgänge im Programm erheblich erschweren könnten. <br><br>  Trotz der oben genannten Punkte kann das Problem der Leistung nicht ignoriert werden.  Daher werden zum Nachteil der Leistung keine Entscheidungen zum Sprachdesign getroffen. <br><br>  Schauen wir uns also an, welche Momente in Ü den angegebenen Zielen entsprechen. <br><br><h3>  Typ System </h3><br>  Im Gegensatz zu C ++ gibt es in Ü keine Zeiger und Referenzen als Typen.  Es gibt überhaupt keine Zeiger, es gibt Links, sondern nur als Stack-Links, Funktionsreferenzargumente, Referenzfelder.  Außerdem sind mut / imut-Modifikatoren nicht Teil eines Typs, sondern Teil einer Variablen, Referenz, eines Funktionsarguments oder eines Feldes. <br><br>  Dank dieser Vereinfachung ist es besser zu verstehen, wo sich welcher Typ befindet, insbesondere im Code für Boilerplates.  Es gibt keine Zweifel, ob ein Link oder eine Variable deklariert wird, Zweifel infolge von typeof (Analogon von decltype aus C ++), Zweifel an konstant / nicht konstant. <br><br>  Die Kehrseite dieser Vereinfachung ist die Notwendigkeit einer getrennten Verarbeitung von Konsistenz und Links in Vorlagen.  Dies erhöht jedoch die Klarheit, wenn der Konstanzparameter als explizit separates Argument an die Vorlage übergeben wird. <br><br><h3>  Initialisierer </h3><br>  Es ist unmöglich, eine Variable zu deklarieren und nicht zu initialisieren.  Jedes Byte der deklarierten Variablen muss initialisiert werden. <br><br>  Grundlegende (und einige andere) Typen erfordern eine obligatorische Initialisierung: <br><br><pre><code class="rust">var i32 x= 22, y(12345);</code></pre><br>
     :<br>
<br>
<pre><code class="rust">struct Vec{ f32 x; f32 y; }
...
var Vec v{ .x= -56.1f, .y= 42.0f };
var Vec v_uninit; //  </code></pre><br>
        ,      :<br>
<br>
<pre><code class="rust">struct Vec
{
	f32 x; f32 y;
	fn constructor()
	( x= 0.0f, y= 0.0f )
	{}
}
...
var Vec v; //  </code></pre><br>
      ,            .<br>
<br>
,  :<br>
<br>
<pre><code class="rust">struct Vec
{
	f32 x= 0.0f;
	f32 y= 0.0f;
}</code></pre><br>
     ,       []   ,       :<br>
<br>
<pre><code class="rust">var [ i32, 4 ] a[ 1, 1, 3, 4 ];
var tup[ i32, f32 ] t[ 8, 0.5f ];
var [ f32, 16 ] a_uninit; // ,     .
var[ i32, 3 ] aa[ 0, 1 ]; // ,  </code></pre><br>
   C++,          ,    .   ,   ,   — . <br>
<br>
       .       ,    ,   —  .      this,     - /,    :<br>
<br>
<pre><code class="rust">struct Vec
{
	f32 x; f32 y;
	fn constructor()
	( x= y, y= 0.0f ) // ,  «y»   
	{}

	fn constructor( f32 val )
	( x= val, y= x ) // . «x»         «y»
	{}
}</code></pre><br>
<h3> </h3><br>
     .    ,                  ,       .        .<br>
<br>
 :<br>
<br>
<pre><code class="rust">var i32 mut x= 0;
var i32 &amp;mut ref0= x;
++x; // ,        
var i32 &amp;imut ref1= x; // ,    , . .    </code></pre><br>
 :<br>
<br>
<pre><code class="rust">var i32 mut x= 0;
var i32 &amp;imut ref0= x;
var i32 &amp;mut ref1= x; // ,    ,     </code></pre><br>
  :<br>
<br>
<pre><code class="rust">var i32 mut x= 0;
var i32 &amp;mut ref0= x;
var i32 &amp;mut ref1= ref0; //  , . .       ,     </code></pre><br>
    :<br>
<br>
<pre><code class="rust">fn Mutate( i32 &amp;mut x, i32 &amp;mut y );
...
var i32 mut x= 0;
Mutate( x, x ); // ,          </code></pre><br>
        .   C++<br>
<br>
<pre><code class="cpp">std::vector&lt;int&gt; vec;
vec.push_back(1);
int&amp; ref= vec.front();
vec.push_back(2); // ,  ref        </code></pre><br>
 Ü       :<br>
<br>
<pre><code class="rust">var ust::vector&lt;/i32/&gt; mut vec;
vec.push_back(1);
var i32 &amp;imut ref= vec.front();
vec.push_back(2); // ,      vec,      </code></pre><br>
<h3></h3><br>
      ( ).       —   polymorph, interface, abstract   .     .     ,         .<br>
<br>
  :<br>
<br>
<ul>
<li>.     ,    ,      .<br>
<br>
:<br>
<br>
<pre><code class="rust">class A interface
{
	fn virtual pure Foo(this);
}</code></pre></li>
<li> .         .        .   ,       this,     ,  . . .     abstract call,  ,  ,  C++.<br>
<br>
:<br>
<br>
<pre><code class="rust">class A abstract
{
	fn virtual pure Foo(this);
	fn virtual Bar(this){}
	i32 x= 0;
}</code></pre></li>
<li>  .         .     .  -    ,   .<br>
<br>
:<br>
<br>
<pre><code class="rust">class A interface
{
	fn virtual pure Foo(this);
}
class B : A
{
	fn virtual override Foo(this){}
}</code></pre></li>
<li>  .  ,    ,     .</li>
</ul><br>
       .        .<br>
<br>
<pre><code class="rust">fn virtual pure Foo(this); //    .      ,        ,   .

fn virtual Foo(this){} //     .   ,      .

fn virtual override Foo(ths){} //   ,    .         ,   .

fn virtual final Foo(this){} //   ,     .         ,   .  -    ,   .</code></pre><br>
<h3>  </h3><br>
  2019—    ,    ,  Ü     .      .  ,    ,  ,   ,    .<br>
<br>
:<br>
<br>
<pre><code class="rust">fn Foo( i32 mut x ) : i32
{
	while(x  &lt; 100 )
	{
		x+= 10;
		continue;
		x+= 20; // ,  
	}
	return x;
	++x; // ,  
}</code></pre><br>
 :<br>
<br>
<pre><code class="rust">fn Foo( i32 x ) : i32
{
	if( x &lt; 10 ) { return 0; }
	else if( x &gt; 100 ) { return 1; }
	// ,     
}</code></pre><br>
       else  ,    return  . <br>
<br>
 ,    -   ,   halt ( ).    ,  ,      ,         return.<br>
<br>
<h3></h3><br>
                 .   ,                 (.  ).     ()   .<br>
<br>
 :<br>
<br>
<pre><code class="rust">struct CallableObject
{
	i32 &amp;mut x;
	op()( mut this )
	{
		++x;
	}
}
...
var i32 mut x= 0;
var CallableObject mut obj{ .x= x };
auto thread= ust::thread_create( move(obj) );
++x; // ,   «x»,        «thread»
++ obj.x; //  </code></pre><br>
           -   ,            ,            - ,         . <br>
<br>
                   (mutable  C++), . .    .      ,      - ,    . <br>
<br>
,                   ?           — shared_ptr_mt  . ,   ,   lock_mut()          lock_imut(),     .        «      ,   ».<br>
<br>
:<br>
<br>
<pre><code class="rust">struct Incrementer
{
	ust::shared_ptr_mt_mut&lt;/ i32 /&gt; ptr;
	op()( mut this )
	{
		auto mut lock= ptr.lock_mut(); //   «lock»  
		++lock.get_ref();
	}
}
...
var ust::shared_ptr_mt_mut&lt;/ i32 /&gt; ptr(0);
var size_type mut i(0);
var ust::vector&lt;/ ust::thread&lt;/Incrementer/&gt; /&gt; mut threads;
while( i &lt; size_type(64) )
{
	var Incrementer incrementer{ .ptr= ptr };
	threads.push_back( ust::thread_create(incrementer) );
	++i;
}
threads.clear(); //      .
halt if( ptr.lock_imut().get_ref() != 64 ); // ,   ,  </code></pre><br>
          ,  ,    .          .        «shared».    ,  ,  ,     -   ,   «shared».<br>
<br>
<h3> </h3><br>
  .    ,    ,   constexpr .  ,             .<br>
<br>
    ,      Ü,   - ,   C.<br>
<br>
<h3></h3><br>
   C++,   (=, +=, *=  . .)       ,   ,   .     ++  –.<br>
<br>
      :<br>
<br>
<pre><code class="rust">if( x = 0 ) {}
x++; //     ++
x += x += x; // ,  +=  
x+= x++ + ++x; //      </code></pre><br>
        .         void,     . <br>
<br>
    ,    ,     .    :<br>
<br>
<pre><code class="rust">auto a = select( condition ? x : y );</code></pre><br>
  select     .<br>
<br>
<h3></h3><br>
 .  .   .   .<br>
<br>
 ?       , -          :<br>
<br>
<ul>
<li>       . -     ,         ,       .</li>
<li>  .             . - NullPointerException  - ,       -  .              ,      , . .           .</li>
<li>   .  ,    ,    ,    . -           -        ,       .  ,   .</li>
<li>     .  ,    ,   .</li>
</ul><br>
<s>,  </s> ,   ?<br>
<br>
 ,      . . «» ,      ,  std::optional/std::variant  C++  Option/Result  Rust.<br>
<br>
 ,   -,       ,   halt.      (   Ü ) ,     , ,     .<br>
<br>
<h3></h3><br>
     ,  -      .  ,    import,   ,       .    C++,     ,      .<br>
<br>
       .         ,  *.cpp  *.hpp  C++.<br>
<br>
<h2></h2><br>
  ,      ,     ,      . <br>
<br>
        ,      ,       . , ,  ,   .  ,   -  ,   .<br>
<br>
<h2></h2><br>
→ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">  </a><br>
<br>
→ <a href=""></a>  ,   ,   .<br>
<br>
→      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> </a>.<br>
<br>
   , . .    ,       .</div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de465553/">https://habr.com/ru/post/de465553/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de465539/index.html">766 km - ein neuer Reichweitenrekord für LoRaWAN</a></li>
<li><a href="../de465541/index.html">Vom Unternehmen zum KMU: Wir teilen unsere Erfahrung bei der Anpassung von Unternehmenslösungen für kleine und mittlere Unternehmen mit Monetarisierung mithilfe des SaaS-Modells</a></li>
<li><a href="../de465545/index.html">Auf verschiedenen Seiten des Staates: Wie Facebook im US-Kongress gebraten wurde, während Telegram mit dem FSB kämpfte</a></li>
<li><a href="../de465547/index.html">SQL-Handbuch: Besseres Schreiben von Abfragen (Teil 1)</a></li>
<li><a href="../de465551/index.html">September IT Events Digest (Teil 1)</a></li>
<li><a href="../de465555/index.html">12 Soft Skills, die IT-Projektmanager unaufhaltsam machen</a></li>
<li><a href="../de465557/index.html">Produktentwicklungsfristen</a></li>
<li><a href="../de465561/index.html">Was ich von einem führenden Programmierer gelernt habe</a></li>
<li><a href="../de465567/index.html">Testen von SQL Server-Code mit tSQLt</a></li>
<li><a href="../de465569/index.html">Entwicklungskarte für mobile Entwickler</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>