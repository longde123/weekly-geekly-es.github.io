<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôé üòï üë®üèæ‚Äçüé® C√≥mo crear un bot de chat para VKontakte usando Python, Django y webhook üç© üìà ü§öüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="¬øPor qu√© otro art√≠culo sobre la creaci√≥n de un bot de chat? 
 Tal vez busqu√© mal, pero no pude encontrar una gu√≠a detallada sobre c√≥mo crear un robot ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo crear un bot de chat para VKontakte usando Python, Django y webhook</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/429628/"><h3>  ¬øPor qu√© otro art√≠culo sobre la creaci√≥n de un bot de chat? </h3><br>  Tal vez busqu√© mal, pero no pude encontrar una gu√≠a detallada sobre c√≥mo crear un robot de Python usando el marco Django y el enfoque de webhook, que est√° alojado en una empresa rusa.  La mayor√≠a de los materiales hablan sobre el uso del marco Flask y el uso del alojamiento gratuito de Heroku y PythonAnywhere.  La experiencia de la comunidad Habr me ayuda, as√≠ que decid√≠ tomarme el tiempo para escribir este art√≠culo en agradecimiento.  Describir√© la experiencia pr√°ctica obtenida para permitir que todos los interesados ‚Äã‚Äãen esto ahorren tiempo y comprendan mejor c√≥mo hacer un bot en Python usando el marco Django en su hosting usando el enfoque webhook. <br><a name="habracut"></a><br><h3>  ¬øPor qu√© pagar hosting? </h3><br>  En mi opini√≥n, una versi√≥n viable del bot es cuando es independiente de su computadora local y est√° disponible 24/7.  Para hacer esto, necesita un alojamiento en el que exista: un servidor web, un sistema de administraci√≥n de bases de datos (para desarrollar las capacidades del bot), el registro de un nombre de dominio, la obtenci√≥n de un certificado SSL y soporte t√©cnico para toda esta econom√≠a.  Dichos servicios cuestan dinero.  Pago el alojamiento de 138 rublos por mes para mantener la infraestructura para que funcione el bot: soporte para Python + Django, MySQL DBMS 25 GB, soporte para SSH. <br>  En la mayor√≠a de las lecciones, vi que una computadora personal se usa como servidor o alojamiento gratuito con restricciones en las horas de trabajo, etc. En los ejemplos, el bot sondea peri√≥dicamente el servidor de mensajer√≠a en busca de nuevos mensajes de los usuarios.  Esta es una carga adicional en los servidores de mensajer√≠a, por lo que el bot puede ser "prohibido" por un tiempo.  Todo esto, en mi opini√≥n, no es vital para un uso productivo.  Pero para la prueba y el entrenamiento es bastante posible. <br><br><h3>  ¬øQu√© es webhook y por qu√©? </h3><br>  Para el producto, considero la decisi√≥n correcta de usar un webhook, es decir, un enfoque en el que nuestro bot espera mensajes del servidor de mensajer√≠a y no lo "martilla" con solicitudes peri√≥dicas: ¬øhay mensajes nuevos o no?  Con un webhook, ser√° as√≠: el usuario escribi√≥ un mensaje, el servidor de mensajer√≠a lo envi√≥ a su bot, recibi√≥ el mensaje, lo proces√≥ y respondi√≥. <br><br><h3>  Por que django </h3><br>  Decid√≠ hacer un bot en Python, as√≠ que conect√© el soporte de Python en el hosting.  Pero no ten√≠a una opci√≥n de marco: el alojamiento solo tiene Django.  Dicen que funciona Instagram, Pinterest, Bitbucket y Mozilla.  Quiz√°s es por eso que el alojamiento lo ofrece. <br><br><h3>  ¬øPor qu√© VKontakte, no Telegram o Viber? </h3><br>  Para pasar de lo simple a lo complejo, era importante para m√≠ encontrar la forma m√°s f√°cil e intuitiva de configurar un webhook.  VKontakte result√≥ ser el m√°s comprensible para m√≠ debido a la clara ayuda y facilidad de conexi√≥n del webhook en el panel de control de la comunidad en la secci√≥n "Administraci√≥n - Trabajando con API".  Una descripci√≥n de c√≥mo configur√© y conect√© todo ser√° m√°s detallada.  En el futuro quiero que mi bot est√© disponible en Viber.  Pero con Telegram, todav√≠a no est√° en camino, porque mi hosting est√° en Rusia y Telegram est√° bloqueado de Rusia.  Para evitar problemas con Telegram, puedes comprar hosting en el extranjero. <br><br><h3>  ¬øC√≥mo instalar webhook para bot VK? </h3><br>  <strong>Nombre de dominio https: //</strong> .  Primero debe registrar el nombre de dominio del sitio y obtener un certificado SSL. <br><br>  No quer√≠a usar el dominio ra√≠z para el chatbot, as√≠ que despu√©s de registrar el dominio, hice un subdominio y recib√≠ un certificado SSL. <br><br>  Hice todas estas manipulaciones en el sitio de alojamiento en mi cuenta personal. <br>  Como resultado, recib√≠ la direcci√≥n del sitio mybot.mysite.ru y el certificado SSL. <br><br>  <strong>Obtenemos la clave VK (token) para el bot.</strong>  Primero cre√© un grupo cerrado, luego ingres√© a la "administraci√≥n" del grupo, en la secci√≥n "Trabajar con API".  En la pesta√±a "Claves de acceso" hay un token, y en la pesta√±a "Configuraci√≥n de webhook de la API de devoluci√≥n de llamada". <br><br><img src="https://habrastorage.org/webt/in/46/po/in46po1vy4iq3vcdnezwpp5okg8.png"><br><br>  <strong>Instalar y configurar Django</strong> .  Tal vez no necesites a Django para ejecutar tu secuencia de comandos de Python, pero no s√© c√≥mo. <br><br>  Usando PuTTY, me conect√© al servidor a trav√©s de SSH, configur√© y activ√© el entorno virtual. <br><br>  SSH: <br><pre><code class="bash hljs">virtualenv-2.7 virtualenv/myEnv . virtualenv/myEnv/bin/activate</code> </pre> <br>  el comando en la primera l√≠nea crea un entorno virtual, y el comando en la segunda l√≠nea lo activa (observe el espacio despu√©s del punto).  La versi√≥n 2.7 es dictada por el alojamiento y puede diferir en su caso.  Por lo tanto, lea la ayuda de alojamiento. <br><br>  Siguiente Django instalado <br>  SSH: <br><pre> <code class="bash hljs">pip install <span class="hljs-string"><span class="hljs-string">'django&lt;2'</span></span></code> </pre><br>  Instal√© la versi√≥n de Django no antes de la segunda, porque python 2.7 se usa en el alojamiento y solo funciona con la versi√≥n de Django inferior a 2. <br><br>  E instal√© el m√≥dulo de Python para trabajar con la API VKontakte <br>  SSH: <br><pre> <code class="bash hljs">pip install vk</code> </pre><br><br>  FTP: <br>  Cre√≥ una carpeta para proyectos django en el directorio ra√≠z del alojamiento.  La llam√≥ django. <br><br>  SSH: <br>  Cre√≥ un nuevo proyecto. <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> django/ django-admin.py startproject mybot</code> </pre><br>  Como resultado, se crear√° una carpeta con el nombre del proyecto (en nuestro caso es "mybot") en la carpeta / django.  Contendr√° los archivos de proyecto iniciales creados autom√°ticamente: <br>  / django <br>  / mybot - carpeta de proyecto <br>  / mybot - m√≥dulo con la configuraci√≥n de nuestro proyecto <br>  __init__.py <br>  settings.py <br>  urls.py <br>  wsgi.py <br>  manage.py <br><br>  Un proyecto en Django es un grupo de aplicaciones.  Una aplicaci√≥n en Django es un programa que realiza las acciones establecidas por el desarrollador. <br><br>  SSH: <br>  Cre√≥ una aplicaci√≥n. <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> mybot python manage.py startapp vk_bot</code> </pre><br>  Fui a la <i>carpeta / django / mybot</i> y cre√© una nueva aplicaci√≥n llamada "vk_bot". <br>  Se cre√≥ una carpeta con el nombre de la aplicaci√≥n en la carpeta del proyecto que contiene los archivos de la aplicaci√≥n creados autom√°ticamente: <br><br>  / django <br>  / mybot - carpeta de proyecto <br>  / mybot - m√≥dulo con la configuraci√≥n de nuestro proyecto <br>  __init__.py <br>  settings.py <br>  urls.py <br>  wsgi.py <br>  manage.py <br>  / vk_bot - carpeta de la aplicaci√≥n <br>  __init__.py <br>  admin.py <br>  apps.py <br>  modelos.py <br>  tests.py <br>  views.py <br><br>  FTP: <br>  Descargu√© todos los archivos del proyecto en mi computadora port√°til para trabajar con c√≥digo. <br>  Para trabajar con archivos de proyecto y programaci√≥n, utilic√© la aplicaci√≥n Atom. <br><br>  √Åtomo: <br>  Edit√≥ la configuraci√≥n del proyecto en el archivo <i>/django/mybot/mybot/settings.py</i> <br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">... </span></span>DEBUG = <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> ... ALLOWED_HOSTS = [ <span class="hljs-string"><span class="hljs-string">u'mybot.mysite.ru'</span></span>, ] ...</code> </pre><br>  √Åtomo: <br>  Configuraci√≥n de enrutamiento de URL editada en el archivo <i>/django/mybot/mybot/urls.py</i> <br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">... </span></span>urlpatterns = [ url(<span class="hljs-string"><span class="hljs-string">r'^vk_bot/'</span></span>, include(<span class="hljs-string"><span class="hljs-string">'vk_bot.urls'</span></span>)), ] ...</code> </pre><br>  FTP: <br>  Cre√≥ un archivo <i>/django/mybot/vk_bot/urls.py con el siguiente</i> contenido: <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> django.conf.urls <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> url <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> . <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> views app_name = <span class="hljs-string"><span class="hljs-string">'vk_bot'</span></span> urlpatterns = [ url(<span class="hljs-string"><span class="hljs-string">r'^$'</span></span>, views.index, name=<span class="hljs-string"><span class="hljs-string">'index'</span></span>), ]</code> </pre><br>  √Åtomo: <br>  <i>Edit√©</i> el archivo <i>/django/mybot/vk_bot/views.py</i> - agregu√© una funci√≥n llamada √≠ndice que se ejecutar√° cuando se solicite la direcci√≥n en el navegador <br><pre>  https://mybot.mysite.ru/vk_bot/ </pre><br><br>  views.py <br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># -*- coding: utf-8 -*- from __future__ import unicode_literals from django.views.decorators.csrf import csrf_exempt from django.shortcuts import render from django.http import HttpResponse from bot_config import * # import token, confirmation_token and over constants from bot_config.py import json, vk # vk is library from VK """ Using VK Callback API version 5.5 For more ditalies visit https://vk.com/dev/callback_api """ """ From Django documentation (https://docs.djangoproject.com/en/1.11/ref/request-response/) When a page is requested, Django automatically creates an HttpRequest object that contains metadata about the request. Then Django loads the appropriate view, passing the HttpRequest as the first argument to the view function. This argiment is &lt;request&gt; in def index(request): Decorator &lt;@csrf_exempt&gt; marks a view as being exempt from the protection ensured by the Django middleware. For cross site request protection will be used secret key from VK """ @csrf_exempt #exempt index() function from built-in Django protection def index(request): #url: https://mybot.mysite.ru/vk_bot/ if (request.method == "POST"): data = json.loads(request.body)# take POST request from auto-generated variable &lt;request.body&gt; in json format if (data['secret'] == secret_key):# if json request contain secret key and it's equal my secret key if (data['type'] == 'confirmation'):# if VK server request confirmation """ For confirmation my server (webhook) it must return confirmation token, whitch issuing in administration web-panel your public group in vk.com. Using &lt;content_type="text/plain"&gt; in HttpResponse function allows you response only plain text, without any format symbols. Parametr &lt;status=200&gt; response to VK server as VK want. """ # confirmation_token from bot_config.py return HttpResponse(confirmation_token, content_type="text/plain", status=200) if (data['type'] == 'message_new'):# if VK server send a message session = vk.Session() api = vk.API(session, v=5.5) user_id = data['object']['user_id'] # token from bot_config.py api.messages.send(access_token = token, user_id = str(user_id), message = "Hello, I'm bot!") return HttpResponse('ok', content_type="text/plain", status=200) else: return HttpResponse('see you :)')</span></span></code> </pre><br>  En el script <i>views.py</i> , en la funci√≥n de <i>√≠ndice (solicitud)</i> , tuve que deshabilitar la protecci√≥n integrada en Django CSRF, porque  Estaba recibiendo el error "403 Prohibido".  CSRF - Protecci√≥n de falsificaci√≥n de solicitud de sitio cruzado - protecci√≥n contra la falsificaci√≥n de solicitud de sitio cruzado.  C√≥mo funciona CSRF puede leerlo en este <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo</a> . <br>  Para deshabilitar la protecci√≥n, utilic√© el decorador <i>@csrf_exempt</i> .  Pero para proporcionar esta protecci√≥n de todos modos, pero de una manera m√°s simple, utilic√© una clave secreta, que est√° registrada en la secci√≥n de administraci√≥n de grupos en el sitio web de VKontakte. <br><br>  Este c√≥digo es responsable de procesar las solicitudes del servidor que enviar√° para conectar nuestro webhook para el procesamiento de eventos.  Digamos simplemente "confirmaci√≥n" de nuestro webhook. <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (data[<span class="hljs-string"><span class="hljs-string">'type'</span></span>] == <span class="hljs-string"><span class="hljs-string">'confirmation'</span></span>):<span class="hljs-comment"><span class="hljs-comment"># if VK server request confirmation """ For confirmation my server (webhook) it must return confirmation token, whitch issuing in administration web-panel your public group in vk.com. Using &lt;content_type="text/plain"&gt; in HttpResponse function allows you response only plain text, without any format symbols. Parametr &lt;status=200&gt; response to VK server as VK want. """ # confirmation_token from bot_config.py return HttpResponse(confirmation_token, content_type="text/plain", status=200)</span></span></code> </pre><br>  Tenga en cuenta que mantengo todos los ajustes de configuraci√≥n en un archivo de configuraci√≥n de bot independiente <i>bot_config.py</i> y, por lo tanto, lo conecto al comienzo del script: <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> bot_config <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-comment"><span class="hljs-comment"># import token, confirmation_token and over constants from bot_config.py</span></span></code> </pre><br>  bot_config.py <br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># -*- coding: utf-8 -*- """ Configuration file for VK bot """ # token issued on the VK group web-administration page token = '...' # confirmation token issued on the VK group web-administration page in "Callback API" section confirmation_token = '...' # secret key for cross site request forgery protection. It will be in each VK server request secret_key = '...'</span></span></code> </pre><br>  Y en este fragmento de c√≥digo procesa mensajes de usuario: <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (data[<span class="hljs-string"><span class="hljs-string">'type'</span></span>] == <span class="hljs-string"><span class="hljs-string">'message_new'</span></span>):<span class="hljs-comment"><span class="hljs-comment"># if VK server send a message session = vk.Session() api = vk.API(session, v=5.5) user_id = data['object']['user_id'] # token from bot_config.py api.messages.send(access_token = token, user_id = str(user_id), message = "Hello, I'm bot!") return HttpResponse('ok', content_type="text/plain", status=200)</span></span></code> </pre><br>  Si algo parec√≠a incomprensible, tambi√©n puede leer el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo sobre la primera configuraci√≥n de Django</a> . <br><br>  <strong>La magia para el servidor web</strong> .  Para configurar el direccionamiento de solicitudes al servidor web, fui al servidor en la carpeta con dominios a trav√©s del cliente FTP FileZilla y cre√© la carpeta " <i>mybot.mysite.ru</i> " all√≠, puse tres archivos en √©l, cuyo contenido fue tomado de la ayuda en el alojamiento: <br><br>  .htaccess <br><pre> <code class="python hljs">AddHandler wsgi-script .wsgi RewriteEngine on RewriteCond %{REQUEST_FILENAME} !-f RewriteRule ^(.*)$ /django.wsgi/$<span class="hljs-number"><span class="hljs-number">1</span></span> [QSA,PT,L] RewriteCond %{HTTP:X-Forwarded-Protocol} !=https RewriteRule .* https://%{SERVER_NAME}%{REQUEST_URI} [R=<span class="hljs-number"><span class="hljs-number">301</span></span>,L]</code> </pre><br>  django.wsgi <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os, sys virtual_env = os.path.expanduser(<span class="hljs-string"><span class="hljs-string">'~/virtualenv/myEnv'</span></span>) activate_this = os.path.join(virtual_env, <span class="hljs-string"><span class="hljs-string">'bin/activate_this.py'</span></span>) execfile(activate_this, dict(__file__=activate_this)) sys.path.insert(<span class="hljs-number"><span class="hljs-number">0</span></span>, os.path.join(os.path.expanduser(<span class="hljs-string"><span class="hljs-string">'~'</span></span>), <span class="hljs-string"><span class="hljs-string">'django/mybot'</span></span>)) os.environ[<span class="hljs-string"><span class="hljs-string">'DJANGO_SETTINGS_MODULE'</span></span>] = <span class="hljs-string"><span class="hljs-string">'mybot.settings'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> django.core.wsgi <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> get_wsgi_application application = get_wsgi_application()</code> </pre><br>  Aqu√≠ "myEnv" es el nombre del entorno virtual que cre√≥, "django" es la carpeta en la secci√≥n ra√≠z del sistema de archivos en el alojamiento, "mybot" es el nombre del proyecto que creamos usando Django. <br><br>  index.html <br><pre> <code class="python hljs">  </code> </pre><br>  <strong>"Vincula" nuestro webhook al procesamiento de mensajes en el grupo VKontakte creado.</strong> <br>  Para hacer esto, volveremos a la secci√≥n para administrar nuestro grupo en el sitio web de VKontakte (vea la captura de pantalla anterior).  Ingresaremos nuestra direcci√≥n de webhook en el campo "Direcci√≥n" <pre>  https://mybot.mysite.ru/vk_bot/ </pre>  y haga clic en el bot√≥n "Confirmar".  Si nuestra funci√≥n de <i>√≠ndice (solicitud)</i> , escrita en el archivo <i>/django/mybot/vk_bot/views.py</i> funciona correctamente, es decir, no contiene errores tipogr√°ficos y errores, aparecer√° una marca de verificaci√≥n verde, que simboliza que todo est√° bien. <br><br>  Para que nuestro webhook reciba mensajes del servidor de VKontakte sobre nuevos mensajes de usuario, en la secci√≥n para administrar nuestro grupo en el sitio web de VKontakte, en la pesta√±a "Tipos de eventos", marque la casilla "mensajes entrantes". <br><br>  Como resultado, nuestro script recibir√° estos mensajes en formato <i>json</i> : <br><br><pre> <code class="python hljs">{<span class="hljs-string"><span class="hljs-string">"type"</span></span>:<span class="hljs-string"><span class="hljs-string">"message_new"</span></span>,<span class="hljs-string"><span class="hljs-string">"object"</span></span>:{<span class="hljs-string"><span class="hljs-string">"id"</span></span>:<span class="hljs-number"><span class="hljs-number">891</span></span>,<span class="hljs-string"><span class="hljs-string">"date"</span></span>:<span class="hljs-number"><span class="hljs-number">1541599508</span></span>,<span class="hljs-string"><span class="hljs-string">"out"</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-string"><span class="hljs-string">"user_id"</span></span>:<span class="hljs-number"><span class="hljs-number">1.</span></span>.<span class="hljs-number"><span class="hljs-number">.1</span></span>,<span class="hljs-string"><span class="hljs-string">"read_state"</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-string"><span class="hljs-string">"title"</span></span>:<span class="hljs-string"><span class="hljs-string">""</span></span>,<span class="hljs-string"><span class="hljs-string">"body"</span></span>:<span class="hljs-string"><span class="hljs-string">"  "</span></span>},<span class="hljs-string"><span class="hljs-string">"group_id"</span></span>:<span class="hljs-number"><span class="hljs-number">1.</span></span>.<span class="hljs-number"><span class="hljs-number">.4</span></span>,<span class="hljs-string"><span class="hljs-string">"secret"</span></span>:<span class="hljs-string"><span class="hljs-string">"uxSBw"</span></span>}</code> </pre><br>  Tenga en cuenta que hay un campo "secreto" en el mensaje <i>json</i> .  Esta es la misma clave secreta que registr√© en la secci√≥n de administraci√≥n de grupos del sitio web VKontakte, en lugar de la protecci√≥n integrada en Django CSRF, que tuve que deshabilitar. <br><br><h3>  ¬øC√≥mo hacer que un bot sea m√°s inteligente y mejor? </h3><br>  Puede crear una base de datos con respuestas para el usuario y ense√±arle al bot a elegir la respuesta m√°s cercana en significado a la pregunta del usuario.  Hablar√© de esto en otro art√≠culo. <br>  Es posible y necesario programar escenarios de interacci√≥n del usuario, por as√≠ decirlo, para mantener una conversaci√≥n. <br><br>  ¬°Buena suerte en tu trabajo creativo! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es429628/">https://habr.com/ru/post/es429628/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es429618/index.html">Juego electr√≥nico XO</a></li>
<li><a href="../es429620/index.html">C√≥mo cre√© mapas de los continentes para mi juego</a></li>
<li><a href="../es429622/index.html">Los robots reemplazaron a Amazon con 20,000 trabajadores</a></li>
<li><a href="../es429624/index.html">C√≥mo la NASA usar√° robots para crear combustible para cohetes a partir del suelo marciano</a></li>
<li><a href="../es429626/index.html">Los crackers del genoma han demostrado que el ADN ya no ser√° an√≥nimo</a></li>
<li><a href="../es429630/index.html">"Los monstruos en los juegos o hacen que el miedo sea diverso"</a></li>
<li><a href="../es429632/index.html">Razones para negarse a hospedarse cuando se agrega a directorios</a></li>
<li><a href="../es429634/index.html">As√≠ es como funciona la b√∫squeda de pr√©stamos en el Anti-Plagio</a></li>
<li><a href="../es429636/index.html">Instale 3CX PBX en Amazon Lightsail Cloud</a></li>
<li><a href="../es429638/index.html">Chat, extracto: la arquitectura de chatbots complejos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>