<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ›£ï¸ ğŸ‘‰ğŸ½ ğŸ§™ğŸ¿ Pengontrol industri. Sistem pengumpulan data. ACS ğŸš˜ ğŸ¯ â¤µï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Selamat siang, Habr! 



 Pengembangan pengontrol industri dengan tampilan untuk mengumpulkan dan menganalisis data, serta untuk mengelola beban yang ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pengontrol industri. Sistem pengumpulan data. ACS</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469037/"> Selamat siang, Habr! <br><br><img src="https://habrastorage.org/webt/cg/lu/7v/cglu7vt1adu_oryxwe9ew_e3eww.jpeg"><br><br>  Pengembangan pengontrol industri dengan tampilan untuk mengumpulkan dan menganalisis data, serta untuk mengelola beban yang dikelompokkan.  Siapa yang peduli dengan apa yang terjadi, tolong, di bawah kucing. <br><a name="habracut"></a><br>  Topik pengontrol industri telah lama dikembangkan untuk digunakan dalam sistem kontrol otomatis (ACS).  Ketika saya melihat pengontrol berikutnya dari Siemens, ViewPAC atau produsen lain, saya hanya melihat tablet besar (saya menulis tentang faktor bentuk ini, yaitu, bukan opsi rack-mount) dengan perangkat lunak khusus di dalam, tetapi ini hanya pada pandangan pertama.  Bahkan, paling sering, hanya penampilan dari sisi tampilan yang serupa, tetapi panel belakang memiliki konektor antarmuka, kompartemen untuk menghubungkan modul ekspansi, sensor, media penyimpanan eksternal, dll.  Ada pengontrol industri universal dan sangat khusus, yaitu, dirancang untuk melakukan serangkaian tugas, paling sering dari jenis yang sama. <br><br>  Itu adalah pengontrol (sangat khusus) yang kami kembangkan.  Sebagai permulaan, beberapa kata tentang implementasi.  Secara global, perangkat ini dibagi menjadi dua bagian.  Yang pertama adalah modul pada iMX6D, yang kami kembangkan hanya untuk pelaksanaan tugas-tugas tersebut, yang kedua adalah mikrokontroler STM32F103RBT7.  Seperti yang saya tulis sebelumnya (dalam artikel sebelumnya), itu adalah sistem blok (modular) yang memungkinkan Anda untuk dengan cepat mengimplementasikan proyek yang kompleks.  Dalam sistem seperti itu, sebagian besar kompleks perangkat keras-perangkat lunak sudah didebug, dan tetap hanya mengoordinasinya dengan modul lain dan memodifikasinya untuk pelanggan akhir. <br><br>  <b>iMX6D</b> <br><br>  Modul prosesor lengkap (dua inti pada 1 GHz), yang menangani sejumlah tugas untuk berinteraksi dengan pengguna: <br><br><ul><li>  output data pada pemrosesan layar / layar sentuh; </li><li>  Ethernet 10/100/1000; </li><li>  sinkronisasi waktu; </li><li>  penyimpanan log peristiwa; </li><li>  antarmuka web + pembaruan; </li><li>  penyimpanan data profil; </li><li>  perhitungan kompleks untuk mikrokontroler. </li></ul><br><br>  Dan ini bukan daftar lengkap tentang apa yang dilakukan modul. <br><br><img src="https://habrastorage.org/webt/nl/wg/fl/nlwgflzpih5h1zl13mc605zks0e.jpeg"><br><br>  <i>Fig. 1.</i>  <i>Modul prosesor</i> <br><br>  Antarmuka berbasis web hampir sepenuhnya mengulangi gambar dari tampilan, yang membuatnya mudah bagi pengguna untuk bernavigasi dan dengan cepat mengubah pengaturan.  Implementasinya, seperti dalam proyek-proyek sebelumnya, didasarkan pada mesin 11-bagian.  Karena mikrokontroler melakukan bagian terbesar dari tugas, menjadi perlu untuk memperbarui firmware-nya (serta yang utama) melalui web.  Tugas ini sangat akut, karena pelanggan berencana untuk meningkatkan perangkat untuk memperluas fungsionalitas.  Modul prosesor terhubung ke mikrokontroler melalui UART (yang terakhir juga di-flash-kan). <br><br>  <b>STM32</b> <br><br>  Mikrokontroler dalam proyek ini sangat penting.  Pertama, penggunaannya memungkinkan untuk memparalelkan tugas untuk programmer dan membedakan dua bidang utama: <br><br><ul><li>  Interaksi pengguna. </li><li>  Pengumpulan data, pemrosesan dan manajemen. </li></ul><br><br>  Kedua, sistem modular lebih nyaman untuk debugging, pengujian dan perluasan fungsionalitas. <br><br>  Pengontrol industri ini (selanjutnya disebut PC) memungkinkan servis empat kamar independen (kelompok) dengan sejumlah besar sensor elemen penggerak. <br><br>  Khusus untuk proyek ini untuk setiap kelompok tersedia: <br><br><ul><li>  6 sensor suhu digabungkan menjadi satu kesatuan untuk menentukan rata-rata; </li><li>  2 sensor suhu independen; </li><li>  2 sensor kelembaban; </li><li>  1 sensor CO2; </li><li>  12 saluran kontrol untuk aktuator eksternal. </li></ul><br><br>  Juga beberapa sensor jalan: <br><br><ul><li>  2 sensor suhu independen; </li><li>  2 sensor kelembaban. </li></ul><br><br>  Secara total, ternyata mikrokontroler mengumpulkan data dari 48 sensor dan mengontrol 48 aktuator.  Semua sensor suhu adalah analog.  Sensor kelembaban dan CO2 memiliki antarmuka saat ini 4-20mA. <br><br>  Sekarang sirkuit kecil.  Untuk beralih sensor, diputuskan untuk menggunakan multiplexer analog HCF4051 (mereka memiliki penundaan switching, tetapi ini tidak penting untuk tugas kami).  Seri inilah yang sudah dihentikan, bedanya, misalnya, dari CD4051 hanya dalam kecepatan switching (yah, di pabrikan).  Ada enam multiplexer dalam pengontrol.  Pengalihan semua multiplexer terjadi secara bersamaan (dengan kaki mikrokontroler yang sama), yang secara signifikan mengurangi sumber daya dan waktu baca.  Pada mikrokontroler, masing-masing, enam saluran ADC terlibat. <br><br><img src="https://habrastorage.org/webt/zk/jz/_u/zkjz_uvytmg36w0sxl5r4spq5s4.png"><br><br>  <i>Fig. 2.</i>  <i>Sirkuit switching multiplekser</i> <br><br>  Untuk setiap sensor suhu, sumber referensi tegangan TL431 yang terpisah (dalam paket SOT-23) digunakan, dengan demikian, dengan korsleting pada salah satu sensor, yang lain terus bekerja seperti sebelumnya.  Untuk memasok daya ke semua oporniku digunakan LM1117 3.3V.  Papan ini ditenagai dari sumber DC24V eksternal, oleh karena itu, untuk catu daya sekunder, dua DC / DC TPS54560DDAR yang identik (membentuk 12V dan 5V) digunakan, karena saya menggunakannya bukan pada proyek pertama.  3.3V diperoleh dari 5V menggunakan ST1S10. <br><br><img src="https://habrastorage.org/webt/lu/w0/r5/luw0r5bgthkfurtu31wusgaeoes.jpeg"><br><br>  <i>Fig. 3.</i>  <i>Lokasi pengumpan di papan tulis</i> <br><br>  Untuk mengontrol beban eksternal, relay biasanya digunakan, dipicu oleh pasokan arus bolak-balik 24V.  Oleh karena itu, AC24V dipasok ke masing-masing kelompok, yang diaktifkan oleh BT138-600 triac melalui isolasi optocoupler.  Skema disajikan di bawah ini.  Semuanya bekerja dengan stabil. <br><br><img src="https://habrastorage.org/webt/s2/la/eh/s2laeh-lwfyjj5cacktibi-tglo.png"><br><br>  <i>Fig. 4.</i>  <i>Sirkuit kontrol triac</i> <br><br><img src="https://habrastorage.org/webt/n-/v7/ea/n-v7eahyh3tnjcoq2_t1mw5huz4.jpeg"><br><br>  <i>Fig. 5.</i>  <i>Kelompok sensor dan konektor kontrol di papan tulis</i> <br><br>  Program manajemen disimpan pada EEPROM terpisah yang terhubung ke mikrokontroler.  Parameter awal selama mulai panas dan keadaan terakhir dari seluruh sistem disimpan di sana (sehingga program dapat terus dieksekusi). <br><br>  Jelas bahwa mikrokontroler tidak memiliki GPIO yang cukup untuk mengontrol banyak optocoupler (dan tidak manusiawi untuk menyeret sebanyak mungkin kabel di papan), sehingga ekspander port TCA6424ARGJR digunakan, satu untuk dua kelompok dan satu sistem (memproses beberapa sinyal input, memproses tombol sistem, Indikator LED, dll.). <br><br>  Relai, yang terlihat jelas pada Gambar. 5.  (satu untuk setiap kelompok), digunakan untuk menentukan keberadaan tegangan input AC24V dan kesehatan sekering untuk masing-masing kelompok.  Ketika dipicu, ia mengirim sinyal ke mikrokontroler, yang, pada gilirannya, memberitahukan kerusakan. <br><br>  Waktu disinkronkan menggunakan protokol NTP, tetapi ada juga chip RTC PCF8523 (juga digunakan berulang kali) untuk menghitung waktu tanpa adanya tegangan suplai. <br><br><img src="https://habrastorage.org/webt/cc/g_/ap/ccg_apc5zjj4rmul1giyb3d0vw8.png"><br><br>  <i>Fig. 6.</i>  <i>Sirkuit RTC</i> <br><br>  <b>Tampilan</b> <br><br>  Kontrol PC dilakukan dengan cepat menggunakan layar sentuh dan dari jarak jauh melalui web.  Seperti yang saya katakan, antarmuka browser (fungsi ini masih difinalisasi) mengulangi layar.  Saat ini, sebuah aplikasi ditulis dalam Qt, yang berkomunikasi dengan PC secara langsung melalui mqtt dan sedekat mungkin dengan kenyataan.  Di web, saat ini, ada pengaturan perangkat umum, pengaturan akses dan pembaruan perangkat lunak. <br><br><img src="https://habrastorage.org/webt/mn/vx/px/mnvxpxtds62oqi6cux79_xd3ruq.png"><br><br>  <i>Gbr. 7.</i>  <i>Tampilkan data dalam aplikasi pada Qt</i> <br><br><img src="https://habrastorage.org/webt/a4/fv/qy/a4fvqyjmiaue-byb01mtlqinczk.jpeg"><br><br>  <i>Gbr. 8.</i>  <i>Tampilkan data</i> <br><br>  Jenis-jenis pengontrol ini memungkinkan Anda untuk membangun ACS lengkap untuk kompleks industri.  Fungsionalitas dan satu set sensor, sebagai suatu peraturan, berbeda dan sesuai dengan tugas yang diperlukan, tetapi tujuannya sama - pemantauan dan / atau kontrol.  Untuk sistem besar, Anda dapat menambah jumlah pengontrol yang disatukan oleh satu tugas.  Pengontrol mungkin tidak mengandung tampilan, tetapi dapat dikontrol melalui jaringan (Ethernet). <br><br><img src="https://habrastorage.org/webt/bn/nn/le/bnnnle2vppnwfp6eyjzqqnubaxk.jpeg"><br><br>  <i>Gambar 9.</i>  <i>Pesta kecil</i> <br><br>  Terima kasih dan sampai jumpa lagi! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id469037/">https://habr.com/ru/post/id469037/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id469025/index.html">Dinginkan anggur dengan cepat! Penemuan Rusia</a></li>
<li><a href="../id469027/index.html">Ivanovo! Mitap: Bagaimana cara membangun karir di Digital?</a></li>
<li><a href="../id469031/index.html">12 baru kecerdasan buatan Layanan Media Azure</a></li>
<li><a href="../id469033/index.html">Meluncurkan Platform Elbrus untuk PuzzleLib Neural Networks</a></li>
<li><a href="../id469035/index.html">Inovasi baru AI-powered Azure Media Services</a></li>
<li><a href="../id469039/index.html">Lebih dari sekedar permainan: Menguasai Mahjong dengan AI dan pembelajaran mesin</a></li>
<li><a href="../id469041/index.html">Bagaimana cara melindungi sistem ERP Anda?</a></li>
<li><a href="../id469043/index.html">C / C ++ dari Python (C API)</a></li>
<li><a href="../id469045/index.html">Python dalam Visual Studio Code - Rilis September 2019</a></li>
<li><a href="../id469049/index.html">Mengapa kami menulis logika bisnis di Lua</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>