<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧛🏾 👨‍🌾 🔇 ZFSonLinux 0.8: Funktionen, Stabilisierung, Intrigen. Nun, trimm 👩🏿‍🌾 👩🏾 ⬇️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Erst neulich veröffentlichten sie die neueste stabile Version von ZFSonLinux, einem Projekt, das jetzt für die OpenZFS-Entwicklungswelt von zentraler ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ZFSonLinux 0.8: Funktionen, Stabilisierung, Intrigen. Nun, trimm</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/453400/">  Erst neulich veröffentlichten sie die neueste stabile Version von ZFSonLinux, einem Projekt, das jetzt für die OpenZFS-Entwicklungswelt von zentraler Bedeutung ist.  Auf Wiedersehen OpenSolaris, hallo heftige GPL-CDDL-inkompatible Linux-Welt. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/778/3ec/e34/7783ece3474334875416514a903ae47d.gif" alt="Bild"></div><br>  Unter dem Schnitt ist eine Übersicht über die interessantesten Dinge (immer noch <u>2200</u> Commits!) Und zum Nachtisch - eine kleine Intrige. <br><a name="habracut"></a><br><h3>  Neue Chips </h3><br>  Am meisten erwartet wird natürlich die <b>native Verschlüsselung</b> .  Jetzt können Sie nur die erforderlichen Datensätze mit der in ZFS integrierten Verschlüsselung verschlüsseln und (meiner Meinung nach die Hauptsache) - Sie können verschlüsselte Daten über <i>zfs send</i> und OHNE Entschlüsselung <i>senden</i> , um die Integrität der Daten mithilfe der integrierten Tools zu überprüfen. Alle Optionen zur Aufrechterhaltung der Integrität von ZFS-Daten stehen Ihnen zur Verfügung! <br><br>  Weiter wichtig ist das lang erwartete <b>TRIM</b> .  Ja, er hat sehr lange gebraucht, um zur Produktion zu gelangen.  Zum Teil, weil das Problem des SSD-Verschleißes für CoW-Dateisysteme nicht so kritisch ist.  Aber jetzt sind wir alle ruhig - <i>zpool trim</i> rettet unsere zarten Flash-Laufwerke. <br><br>  Jetzt können Sie zufällig hinzugefügte vdev-Arrays aus dem Pool <b>löschen</b> (jedoch nur, wenn es spärlich oder spiegelbildlich ist).  Nützliche Kleinigkeit. <br><br>  Weiter in unseren Diagrammen - <b>Pool Checkpoints</b> .  Kurz gesagt - Schnappschüsse für den gesamten Status des Pools, ABER die es ermöglichen, Änderungen nicht nur an Daten, sondern auch an Funktionen und Änderungen in der im Pool enthaltenen Struktur zurückzusetzen.  Eine weitere Gelegenheit, um sicher zu sein. <br><br>  <b>Poolinitialisierung</b> - Füllen des zugrunde liegenden Speichers mit Nullen.  Nützlich für die Arbeit in Thin Provisioning-Festplattenumgebungen, um Speicherplatz explizit zuzuweisen und später unerwartete Leistungsprobleme zu beseitigen. <br><br>  <b>Projektbuchhaltung und Quote</b> - Im bestehenden Quotenmechanismus ist es jetzt möglich, die Trennung in Projekte zu verwenden. <br><br>  <b>Kanalprogramme</b> - die Fähigkeit, Verwaltungsaufgaben mithilfe von Lua-Skripten atomar auszuführen.  Laufzeit und Speicher sind begrenzt.  Wenn Sie automatisieren, ist dies für Sie. <br><br>  <b>Direct IO</b> - der Einfachheit halber haben sie die Arbeit von Direct IO gedreht, nichts hat sich im Inneren geändert (nur Aufrufe gehen bis zum Cache), aber jetzt wird die Software, die in diesem Modus arbeiten möchte, nicht trauern. <br><br>  Das <b>Pyzfs-</b> Projekt <b>wird</b> in das Haupt-Repository gegossen und unter die Fittiche des ZFSonLinux-Projekts gestellt.  Jetzt gibt es mehr Tools zum Verwalten von Python (nun, es wird ruhiger für die Unterstützung des Moduls sein).  Auch viele Python-Skripte sind für Python3 angepasst. <br><br><h4>  Und jetzt lecker - Leistung </h4><br>  Bei Scrub- und Resilver-Vorgängen werden jetzt zuerst Metadaten und dann in der <b>sequentiellsten</b> Form Daten ausgelesen.  Somit werden die Array-Wiederherstellung und die Integritätsprüfung mit maximaler Geschwindigkeit durchgeführt. <br><br>  <b>Zuordnungsklassen</b> - vdev-Arrays haben einen Medientyp. Jetzt können Sie den Speicher von Metadaten / Deduplizierungstabellen (DDT) / Datenblöcken mit weniger als X KByte von effizienteren Festplatten auf ein separates vdev-Array übertragen.  <u>Mehr Geschwindigkeit für den Gott der Geschwindigkeit!</u>  (und in diesem Fall ist diese Funktion im kommenden <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DRAID</a> sehr nützlich). <br><br>  Viele Verwaltungsbefehle arbeiten jetzt schneller, da Metadaten <i>punktbasiert</i> zwischengespeichert werden (z. B. <i>zfs list, zfs get</i> ). <br><br>  Der Prozess der Datenzuweisung wird <b>parallelisiert</b> , jetzt werden für jeden Abschnitt des freien Speicherplatzes (Metaslab) mehrere Zuweiser erstellt.  Mit NVME wird natürlich nicht alles herausgedrückt, aber es wird besser. <br><br>  <b>Eine verzögerte Wiederherstellung der Integrität des</b> Arrays ermöglicht es, das Array nicht bei gleichzeitigem Zusammenbau mehrerer Festplatten zu laden, sondern nacheinander.  Dies verringert sowohl die Auswirkungen auf die Leistung als auch die Zeit des Zusammenbaus. <br><br>  Beim Importieren von Pools <b>mit einer großen Anzahl von Volumes wird</b> die Geschwindigkeit ihrer Registrierung im System erhöht. <br><br>  Mit <b>QAT</b> können Sie jetzt auch die Berechnung von Verschlüsselung und Prüfsummen hochladen. <br><br>  <a href="">Plus eine Reihe kleinerer Änderungen (trotzdem 2000+ Commits in der Veröffentlichung!).</a> <br><br><h3>  Zum Nachtisch - Intrige </h3><br>  Obwohl ZFSonLinux schnell Unterstützung für neue Linux-Kernel hinzufügt (Versionen 2.6.32 - 5.1 * werden jetzt unterstützt), sind Kernel-Betreuer eindeutig <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">nicht daran interessiert,</a> Modulen von Drittanbietern zu helfen (" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">... das interessiert uns überhaupt nicht)</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">externe Kernelmodule ...</a> - greg kh "). Daher wurden die Kernelaufrufe, die für einen effizienten Betrieb in Zweig 5.0 erforderlich sind, auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Nur-GPL geändert</a> . In Kerneln mit diesem Patch ist die ZFS-Leistung viel schlechter. Dies spart, dass diese Funktionalität implementiert werden kann an die Seite des Moduls, was wahrscheinlich gemacht wird. In der Zwischenzeit können Sie ein Beispiel von NixOS nehmen - sie haben <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gerade den Patch im Kernel zurückgesetzt</a> :) <br><br>  Das Projekt erschien auch Code of Conduct, der eine Welle von Holivarov erzeugte.  Aber wir haben uns gewehrt :) <br><br>  Alle funktionierenden Backups und stabilen Releases! <br><br>  Nützliche Links: <br>  - <a href="">Auf Github loslassen</a> <br>  - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">mein Intro zu ZFS</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de453400/">https://habr.com/ru/post/de453400/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de453388/index.html">So erhalten Sie OFFZONE 2019 und ein Angebot an einem Tag</a></li>
<li><a href="../de453390/index.html">Über Äxte und Kohl</a></li>
<li><a href="../de453392/index.html">Nachrichten der Woche: US-Krieg mit Huawei, Start von Internet-Satelliten in die Umlaufbahn, russisches Elektroauto</a></li>
<li><a href="../de453394/index.html">Sternenkarte oder wie man Wissen in einem Team unter dem Einfluss von Soft Skills ausbalanciert</a></li>
<li><a href="../de453398/index.html">Übersicht: So verringern Sie die Wahrscheinlichkeit eines Verlusts personenbezogener Daten</a></li>
<li><a href="../de453402/index.html">Welche interessanten Informationen habe ich aus dem Buch „Theory of Fun for Game Design“ von Raf Coster gelernt</a></li>
<li><a href="../de453406/index.html">Moderne Batterien für Sony Discman-Player</a></li>
<li><a href="../de453408/index.html">Toolbox für Forscher - Zweite Ausgabe: Eine Sammlung von 15 thematischen Datenbanken</a></li>
<li><a href="../de453410/index.html">Werfen Sie keine intelligenten Glühbirnen in den Müll oder in die Gefahr von IoT</a></li>
<li><a href="../de453412/index.html">Top 3D Shop wird exklusiver Distributor von UFactory</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>