<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍅 👨🏽 🤧 涂鸦着色器效果 👩🏾‍🏫 🤵🏽 😴</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="在本教程中，我将讨论如何使用着色器在Unity中重新创建流行的精灵涂鸦效果。 如果您的样式需要这种样式，那么从本文开始，您将学习如何在不渲染其他图像的情况下实现它。 

 在过去的几年中，这种风格变得越来越流行，并在诸如GoNNER和Baba is You之类的游戏中得到积极使用。 


 本教程涵...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>涂鸦着色器效果</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/449540/"> 在本教程中，我将讨论如何使用着色器在Unity中重新创建流行的精灵涂鸦效果。 如果您的样式需要这种样式，那么从本文开始，您将学习如何在不渲染其他图像的情况下实现它。 <br><br> 在过去的几年中，这种风格变得越来越流行，并在诸如<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="noopener">GoNNER</a>和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="noopener">Baba is You之类的</a>游戏中得到积极使用。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cd2/3af/a39/cd23afa3995577cc1d1c87f7eff8be7d.gif"></div><br> 本教程涵盖了您所需的一切，从着色器编码的基础到所使用的数学。 本文结尾处有一个链接，用于下载完整的Unity软件包。 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Doodle Studio 95</a>的成功启发了我创建本教程<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">！</a>  。 <br><a name="habracut"></a><br><h1> 引言 </h1><br> 在我的博客中，我探讨了非常复杂的主题，从<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="noopener">逆运动学到</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="noopener">大气瑞利散射</a> 。 我真的很想让如此困难的话题为广大读者所理解。 但是对它们感兴趣并具有足够技术水平的人数并不是很多。 因此，最受欢迎的文章是最简单的，您应该不会感到惊讶。 这也适用于<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="noopener">尼克·卡曼（Nick Caman）</a>最近的一条<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="noopener">推文</a> ，其中他展示了如何在Unity中创建<strong>涂鸦效果</strong> 。 <br><br><div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1011319744031440896"></twitter-widget><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div><br> 在进行了1000次点赞和4000次转推后，很明显，对即使对于几乎不了解着色器知识的人也可以研究的简单教程有强烈的需求。 <br><br> 如果您正在寻找一种专业且有效的方式来动画化具有高度艺术性的2D精灵，那么我强烈建议<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Doodle Studio 95！</a>  （请参见下面的GIF）。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="noopener">在这里，</a>您可以查看一些使用此工具的游戏。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9cf/563/42b/9cf56342b58ddde7eca5feced342ae18.gif"></div><br><h1> 涂鸦效果解剖 </h1><br> 要重新创建Doodle效果，我们首先需要了解它的工作原理以及使用的技术。 <br><br>  <strong>着色效果。</strong> 首先，我们希望这种效果尽可能简单，并且不需要其他脚本。 这要归功于使用<strong>着色器</strong> ，该<strong>着色器</strong>告诉Unity如何在屏幕上渲染3D模型（包括平面模型！）。 如果您不熟悉<strong>着色器编码领域</strong> ，那么您应该阅读我的文章<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">“着色器的柔和介绍”</a> 。 <br><br>  <strong>精灵着色器。</strong>  Unity附带许多类型的着色器。 如果使用提供的Unity 2D工具，则很可能正在使用<strong>sprites</strong> 。 如果是这样，则需要<strong>Sprite</strong> <code>SpriteRenderer</code>一种与<code>SpriteRenderer</code> Unity兼容的特殊类型的着色器。 或者，您可以从更传统的<strong>Unlit shader开始</strong> 。 <br><br>  <strong>顶点偏移。</strong> 手动绘制精灵时，没有框架会与其他框架完全重合。 我们想以某种方式使精灵“摆动”以模拟这种效果。 着色器具有一种非常有效的方法，即使用<strong>顶点偏移</strong> 。 这是一项允许您更改3D对象顶点位置的技术。 如果我们随机移动它们，则会获得理想的效果。 <br><br>  <strong>旅行时间。</strong> 徒手动画通常具有较低的帧频。 如果我们想每秒模拟五帧，那么我们需要每秒改变精灵顶点的位置五次。 但是，Unity可能以更高的刷新率运行游戏。 也许每秒30甚至60帧。 为了使Sprite每秒不改变60次，您需要处理动画计时组件。 <br><br><h1> 步骤1：完成精灵着色器 </h1><br> 如果要在Unity中创建新的着色器，则选择将非常有限。 我们可以开始使用的最接近的着色器是<strong>Unlit Shader</strong> ，尽管它不一定最适合我们的目的。 <br><br> 如果您希望Doodle着色器与<code>SpriteRenderer</code> Unity完全兼容，那么我们需要对现有的<strong>Sprite Shader</strong>进行补充。 不幸的是，我们无法直接从Unity本身访问它。 <br><br> 您可以转到<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="noopener">Unity下载档案</a>页面，然后下载要使用的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="noopener">Unity</a>版本的“ <strong>在着色器中构建”</strong>包，以获取相关信息。 这是一个zip文件，其中包含Unity构建随附的所有着色器的源代码。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d00/1b9/da8/d001b9da891e60ef4b93f89ffb8a9fda.png"></div><br> 下载后，将其解压缩，然后在<code>builtin_shaders-2018.1.6f1\DefaultResourcesExtra</code> <code>Sprites-Diffuse.shader</code>找到<code>Sprites-Diffuse.shader</code>文件。 这是我们将在本教程中使用的文件。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/888/ee9/66f/888ee966f71ad738752f0bed48f4d66b.png"></div><br><div class="spoiler">  <b class="spoiler_title">Sprites-Diffuse不是标准的精灵着色器！</b> <div class="spoiler_text"> 创建新的精灵时，其标准材质使用名为<code>Sprites-Default.shader</code>的着色器，而不是<code>Sprites-Diffuse.shader</code> 。 <br><br> 两者之间的区别在于，第一个不使用照明，而第二个对场景中的照明做出响应。 由于Unity实现的性质，与没有光照的版本相比，漫反射版本更容易编辑。 <br><br> 在本教程的最后，有一个链接，可下载带有和不带有照明的涂鸦着色器。 </div></div><br><h1> 步骤2：偏移顶点 </h1><br> 在<code>Sprites-Diffuse.shader</code>内部，有一个叫做<code>vert</code>的函数，这是我们上面讨论的<strong>顶点函数</strong> 。 它的名称并不重要，主要是它与<code>#pragma</code>的<code>vertex:</code>部分中指定的名称一致： <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">pragma</span></span></span><span class="hljs-meta"> surface surf Lambert vertex:vert nofog nolightmap nodynlightmap keepalpha noinstancing</span></span></code> </pre> <br> 简而言之，将为3D模型的每个顶点调用顶点函数，并决定如何将其叠加在二维屏幕空间上。 在本教程中，我们仅对如何移动对象感兴趣。 <br><br>  <code>appdata_full v</code>参数包含<code>vertex</code>字段，该字段包含<strong>对象空间</strong>中每个顶点的3D位置。 值更改时，顶点移动。 也就是说，例如，下面显示的代码将使用其着色器将对象沿X轴传输一个单位。 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vert</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(inout appdata_full v, out Input o)</span></span></span><span class="hljs-function"> </span></span>{ v.vertex = UnityFlipSprite(v.vertex, _Flip); v.vertex.x += <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> defined(PIXELSNAP_ON) v.vertex = UnityPixelSnap (v.vertex); #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> UNITY_INITIALIZE_OUTPUT(Input, o); o.color = v.color * _Color * _RendererColor; }</span></span></code> </pre> <br> 默认情况下，在Unity中创建的2D游戏只能在X和Y轴上运行，因此我们需要更改<code>v.vertex.xy</code>才能在二维平面上移动精灵。 <br><br><div class="spoiler">  <b class="spoiler_title">什么是对象空间？</b> <div class="spoiler_text">  <code>appdata_full</code>结构的<code>vertex</code>字段包含着色器在对象空间中处理的当前顶点的位置。 这是假设对象位于世界中心（0,0,0）且不改变比例和不旋转的情况下顶点的位置。 <br><br> 世界空间中表达的峰顶反映了其在Unity场景中的真实位置。 </div></div><br><div class="spoiler">  <b class="spoiler_title">为什么物体不以每帧一米的速度移动？</b> <div class="spoiler_text"> 如果在C＃脚本的<code>Update</code>方法中将+1添加到<code>transform.position</code>值的分量<code>x</code>中，我们将看到对象如何以每帧1米的速度向右飞行，即每小时约216公里。 <br><br> 这是因为C＃所做的更改正在更改位置本身。 在顶点函数中，这不会发生。 着色器仅更改模型的视觉表示，而不会更新或修改模型的存储顶点。 这就是为什么在<code>v.vertex.x</code>添加+1 <code>v.vertex.x</code>一个对象移动一米。 </div></div><br><div class="spoiler">  <b class="spoiler_title">记住将精灵导入为“紧”！</b> <div class="spoiler_text"> 此效果会移动精灵的顶部。 传统上，精灵会以四边形的形式导入Unity（请参见左图）。 这意味着它们只有四个峰。 如果是这样，则只能移动这些点，从而降低了涂鸦效果的强度。 <br><br> 为了获得更强烈，更逼真的失真，您需要通过为“ <b>网格类型</b> ”（ <b>Mesh Type）</b>参数选择“ <b>紧缩”（Tight）</b>来导入精灵，这会将它们变成凸形（请参见右图）。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0c6/50e/e6b/0c650ee6b9ec95c457e223200ce22d03.png"></div><br> 这会增加顶点数量。 这并不总是可取的，但这正是我们现在所需要的。 </div></div><br><h2> 随机偏移 </h2><br> 涂鸦效果随机移动每个顶点的位置。 在着色器中对<strong>随机数</strong>进行采样一直是一项艰巨的任务。 这主要是由分布式GPU体系结构引起的，该体系结构使大多数库（包括<code>Mathf.Random</code> ）中使用的算法的复杂化和降低了效率。 <br><br> 尼克·卡曼（Nick Caman）的帖子使用了一种噪声纹理，该噪声纹理在进行采样时会给人以随机的感觉。 在您的项目环境中，这可能不是最有效的方法，因为在这种情况下，着色器执行的纹理搜索操作的数量增加了一倍。 <br><br> 因此，在大多数着色器中，使用了相当混乱和混乱的函数，尽管它们具有确定性，但在我们看来似乎没有规律性。 并且由于必须分配它们，因此每个随机数必须使用其自己的种子生成。 这对我们来说很棒，因为每个顶点的位置必须唯一。 我们可以使用它来将随机数绑定到每个顶点。 稍后我们将讨论该随机函数的实现。  <code>random3</code>我们将其<code>random3</code> 。 <br><br> 我们可以使用<code>random3</code>生成每个顶点的随机偏移。 在下面的示例中，使用<code>_NoiseScale</code>属性缩放随机数，使您可以控制位移力。 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vert</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(inout appdata_full v, out Input o)</span></span></span><span class="hljs-function"> </span></span>{ ... float2 noise = random3(v.vertex.xyz).xy * _NoiseScale; v.vertex.xy += noise; ... }</code> </pre> <br> 现在我们需要自己编写<code>random3</code>代码。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/043/169/225/04316922581e9d303653d6d49554a058.png" alt="图片"></div><br><h2> 着色器中的随机性 </h2><br> 着色器中使用的最常见和标志性的伪随机函数之一摘自W. Rey在1998年发表的题为“ <em>借助y = [（a + x）sin（bx）] mod 1生成随机数</em> ”）的文章。 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rand</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float2 co)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fract(<span class="hljs-built_in"><span class="hljs-built_in">sin</span></span>(dot(co.xy ,float2(<span class="hljs-number"><span class="hljs-number">12.9898</span></span>,<span class="hljs-number"><span class="hljs-number">78.233</span></span>))) * <span class="hljs-number"><span class="hljs-number">43758.5453</span></span>); }</code> </pre> <br> 此函数是确定性的（也就是说，它不是<em>真正</em>随机的），但是它的行为是如此随机，以至于看起来完全是随机的。 这种功能称为<strong>伪随机</strong> 。 在本教程中，我选择了<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Nikita Miropolsky</a>发明的更为复杂的功能<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">。</a> <br><br> 在着色器中生成伪随机数是一个非常复杂的主题。 如果您有兴趣了解有关她的更多信息，那么《 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="noopener">The Shader of Shaders</a> 》对她有很好的介绍。 此外， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="noopener">Patricio Gonzales Vivo还</a>建立了一个大型存储库，称为<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="noopener">GLSL noise</a> ，可以在着色器中使用。 <br><br><h1> 步骤3：增加时间 </h1><br> 多亏了我们编写的代码，每一帧中的每个点都偏移了相同的量。 因此，我们得到了扭曲的精灵，而不是涂鸦效果。 要解决此问题，您需要找到一种随时间改变效果的方法。 最简单的方法之一是使用顶点位置和当前时间来生成随机数。 <br><br> 在本例中，我只是将当前时间（以<code>_Time.y</code>秒为单位） <code>_Time.y</code>到了顶点位置。 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> time = float3(_Time.y, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); float2 noise = random3(v.vertex.xyz + time).xy * _NoiseScale; v.vertex.xy += noise;</code> </pre> <br> 更复杂的效果可能需要更复杂的方法来增加方程式的时间。 但是因为我们只对间歇随机效应感兴趣，所以两个值绰绰有余。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b27/e1e/736/b27e1e736bda8387e8ef2e35486a7de5.gif"></div><br><h2> 时间切换 </h2><br> 添加<code>_Time.y</code>的主要问题在于，它会导致精灵在每一帧中都被设置为动画。 这对于我们来说是不可取的，因为大多数手绘动画的帧频都较低。 时间分量不应是连续的，而是离散的。 这意味着，如果我们想每秒显示五帧，那么每秒应该只更改五次。 也就是说，时间应<em>限制</em>在五分之一秒。 唯一有效的值应该是 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>0</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.73ex" height="2.419ex" viewBox="0 -780.1 5050.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-30" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-3D" x="3493" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-30" x="4550" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>0</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-1"> \ frac {0} {5} = 0 </script>  ， <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>0.2</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.54ex" height="2.419ex" viewBox="0 -780.1 5829.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-31" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-3D" x="3493" y="0"></use><g transform="translate(4550,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-32" x="779" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>0.2</mn></math></span></span><script type="math/tex" id="MathJax-Element-2"> \ frac {1} {5} = 0.2 </script>  ， <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>0.4</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.54ex" height="2.419ex" viewBox="0 -780.1 5829.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-32" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-3D" x="3493" y="0"></use><g transform="translate(4550,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-34" x="779" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>2</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>0.4</mn></math></span></span><script type="math/tex" id="MathJax-Element-3"> \ frac {2} {5} = 0.4 </script>  ， <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>3</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>0.6</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.54ex" height="2.419ex" viewBox="0 -780.1 5829.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-33" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-3D" x="3493" y="0"></use><g transform="translate(4550,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-36" x="779" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>3</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>0.6</mn></math></span></span><script type="math/tex" id="MathJax-Element-4"> \ frac {3} {5} = 0.6 </script>  ， <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>4</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>0.8</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.54ex" height="2.419ex" viewBox="0 -780.1 5829.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-34" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-3D" x="3493" y="0"></use><g transform="translate(4550,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-38" x="779" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>4</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>0.8</mn></math></span></span><script type="math/tex" id="MathJax-Element-5"> \ frac {4} {5} = 0.8 </script>  ， <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.73ex" height="2.419ex" viewBox="0 -780.1 5050.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-35" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-3D" x="3493" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjStVcGMErL9mzaHPTlfG3aC0URAw#MJMAIN-31" x="4550" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-6"> \ frac {5} {5} = 1 </script> 与，等等... <br><br> 我已经在“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="noopener">如何捕捉到网格”的</a>博客中介绍了<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="noopener">捕捉</a> 。 在本文中，我提出了解决将对象的位置绑定到空间网格的问题的解决方案。 如果我们需要将时间绑定到时间网格，那么数学以及代码将是相同的。 <br><br> 下面显示的函数将数字<code>x</code>绑定到整数值，该整数值是<code>snap</code>倍数。 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">inline</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">snap</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> snap)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> snap * round(x / snap); }</code> </pre> <br> 也就是说，我们的代码如下所示： <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> time = snap(_Time.y, _NoiseSnap); float2 noise = random3(v.vertex.xyz + float3(time, <span class="hljs-number"><span class="hljs-number">0.0</span></span>, <span class="hljs-number"><span class="hljs-number">0.0</span></span>) ).xy * _NoiseScale; v.vertex.xy += noise;</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e50/b7e/cea/e50b7ecea7366a53edcb1bd28d0d61b0.gif"></div><br><h1> 结论 </h1><br> 可以<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在Patreon上</a>免费下载用于此效果的Unity软件包。 <br><br><h2> 其他资源 </h2><br> 在过去的几个月中，出现了许多涂鸦风格的游戏。 在我看来，这样做的原因是<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Doodle Studio 95</a>的成功<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">！</a>  -由<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Fernando Ramallo</a>开发的Unity工具。 如果这种风格适合您的游戏，那么我建议您购买此出色的工具。 <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Ax0CeKFTavI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN449540/">https://habr.com/ru/post/zh-CN449540/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN449528/index.html">将系统的多通道响应分解为“伪专有”振动模式</a></li>
<li><a href="../zh-CN449532/index.html">ok.tech：Cassandra聚会</a></li>
<li><a href="../zh-CN449534/index.html">SLA概念车：如何在中国完成</a></li>
<li><a href="../zh-CN449536/index.html">iOS摘要4（4月5日-4月26日）</a></li>
<li><a href="../zh-CN449538/index.html">移动Web门户：从整体到微服务架构</a></li>
<li><a href="../zh-CN449542/index.html">医学移动到网络，聊天室和移动应用程序。 与BestDoctor的对话</a></li>
<li><a href="../zh-CN449544/index.html">现代世界取决于API</a></li>
<li><a href="../zh-CN449546/index.html">V8：与Spectre合作一年</a></li>
<li><a href="../zh-CN449548/index.html">空间数据中心。 发布视频报告</a></li>
<li><a href="../zh-CN449552/index.html">实践中的非对称加密</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>