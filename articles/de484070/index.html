<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⏹️ 🃏 👏🏽 Wie wir ein Betrugsbekämpfungssystem in vier Händen und drei Köpfen geschrieben haben 🔚 👩🏽‍✈️ 👼🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ein Artikel über die Schaffung einer Inhouse-Lösung zur Aufdeckung und Verhinderung betrügerischer Transaktionen im Internet-Banking einer kleinen, ab...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie wir ein Betrugsbekämpfungssystem in vier Händen und drei Köpfen geschrieben haben</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/484070/"><p>  Ein Artikel über die Schaffung einer Inhouse-Lösung zur Aufdeckung und Verhinderung betrügerischer Transaktionen im Internet-Banking einer kleinen, aber sehr stolzen Bank in Tatarstan.  Sie erfahren aus dem Artikel, warum und wer Betrugsbekämpfung benötigt, warum die interne Entwicklung billiger war als der Kauf einer gebrauchsfertigen Lösung und wozu einige Codezeilen vor dem neuen Jahr führten. </p><a name="habracut"></a><br><p>  Ein paar Worte zu Ihrer Person - ein Informationssicherheitsspezialist in einem IT-Unternehmen, der sich versehentlich (oder vielleicht nicht sehr) als Product Owner im Anti-Fraud Solution-Team herausgestellt hat.  Das IT-Unternehmen selbst ist an der Entwicklung von Internet-Banking-Software beteiligt. </p><br><h3 id="s-chego-voobsche-vse-nachalos">  Wie hat alles angefangen? </h3><br><p>  Für die Bank selbst begann alles damit, dass die Zentralbank der Russischen Föderation einen Entwurf von <a href="http://www.cbr.ru/queries/unidbquery/file/50883%3Ffileid%3D607" rel="nofollow">Änderungen und Ergänzungen der Verordnung Nr. 382-P</a> hochlud, wonach die Bank die Überweisung von Geldern ohne Zustimmung des Kunden verhindern sollte.  Darüber hinaus ist <a href="http://xn----7sbab5ahcba1bkm0aw8azb1b.su/zakonodatelstvo/normativnye-dokumenty-banka-rossii/2831-U.pdf/at_download/file" rel="nofollow">die Bank</a> gemäß der <a href="http://xn----7sbab5ahcba1bkm0aw8azb1b.su/zakonodatelstvo/normativnye-dokumenty-banka-rossii/2831-U.pdf/at_download/file" rel="nofollow">Anordnung der Bank von Russland Nr. 2831-U</a> verpflichtet, der Zentralbank alle Vorfälle, einschließlich der Handlungen von Betrügern, zu melden. </p><br><p>  Die Geschichte begann für mich mit der Bitte, bei der Bildung von funktionalen Anforderungen und der Untersuchung der Integration mit dem vorhandenen Remote-Banking-Service (im Folgenden: RBS) behilflich zu sein.  Und los geht's ... </p><br><h3 id="vvodnye-dannye">  Daten eingeben </h3><br><p>  Vor der Entwicklung ist es notwendig, das Thema zu recherchieren, fertige Entwicklungen zu studieren <del>  Rechen </del>  Stöbern Sie auf dem Markt. <br>  Während des Studiums stellte sich heraus: </p><br><ul><li>  Die gebräuchlichsten Methoden, um Geld von RBS zu stehlen - Social Engineering und Phishing </li><li>  Mit Social Engineering hacken sie sich entweder in das Bankensystem ein oder zwingen den Kunden, freiwillig Geld zu überweisen </li><li>  Der von Betrügern für das Jahr gestohlene Betrag ist nicht so hoch, die Bank gibt für die Ermittlung und Entschädigung etwa 10% dieses Betrags aus </li><li>  Die Kosten für eine vorgefertigte Betrugsbekämpfungslösung übersteigen den Betrugsbetrag um das 5- bis 10-fache (etwa die Kosten für die Integration von Sprache sind noch nicht weg ...). </li><li>  Es ist unbedingt erforderlich, sich bei FinCERT zu melden </li><li>  Sie können einige sehr häufige und wichtige Fälle hervorheben </li></ul><br><p>  Bei der Analyse des Themas <a href="https://habr.com/ru/users/codezombie/" class="user_link">Betrugsbekämpfung</a> haben mir <a href="https://habr.com/ru/users/codezombie/" class="user_link">Codezombie-</a> Artikel sehr geholfen.  Welche 4 Jahre schrieb er über die Betrugsbekämpfung im E-Commerce, über seine Erfahrungen.  In meinem Fall waren die Einzelheiten unterschiedlich, aber die Informationen waren sehr wertvoll. </p><br><p>  Auf der Grundlage dieser Bedingungen wurde beschlossen, das Projekt dem Entwicklungsteam zu übergeben, das sich mit Integrationen und der Lösung der Probleme anderer Teams befasst, da dieses Team die erfahrensten und coolsten Entwickler umfasste.  Leider blieben im Team von 3 Entwicklern im Laufe der Zeit nur zwei übrig.  Ich beschäftigte mich mit dem Rückstand, der Bildung von Anforderungen, der Dokumentation und der Organisation von Besprechungen (wir arbeiten an Scrum, aber wie auch immer).  Es geschah, dass im Team 4 Hände den Code schrieben und 3 Köpfe das Problem lösten. </p><br><h4 id="keysy-s-kotorymi-borolis">  Fälle, die gekämpft wurden </h4><br><p>  Denken Sie nicht, dass die Bank vorher nicht gekämpft hat <del>  mit dem Bösen </del>  mit Betrügern.  Mit erschwinglichen Mitteln gekämpft.  Es gab jedoch eine Tendenz, dass die Anzahl der Vorfälle im Zusammenhang mit dem Hacking von RBS zuzunehmen begann.  Ein populäres Schema im Jahr 2018 war eine Scheidung in den Avito-Freiflächen - Betrüger erkannten mithilfe von Social-Engineering-Methoden die Kartennummer und im Dialog erkannten sie SMS, um die RB einzugeben.  So erhielten sie vollen Zugriff auf das Internet-Banking eines bestimmten Kunden.  Im Jahr 2019 begannen Betrüger, Kunden im Namen der Sicherheitsdienste der Bank anzurufen und drohten, ihr gesamtes Geld zu verlieren, die Anmeldedaten herauszufinden oder alle Gelder auf ein „sicheres Konto“ zu überweisen. </p><br><p>  Das Hauptziel des Entwicklungsteams bestand darin, einen Mechanismus zu entwickeln, mit dem neue Kundengeräte identifiziert und verdächtige Finanztransaktionen gestoppt werden können.  Warum genau neue Geräte?  Analysen haben gezeigt, dass sie am häufigsten über ein Smartphone auf das Remote-Banking zugreifen, um Bestätigungscodes über Push-Benachrichtigungen und nicht über SMS-Nachrichten zu erhalten. </p><br><p>  Darüber hinaus begann FinCERT, Listen mit Details zu senden, die an betrügerischen Vorgängen beteiligt waren, das heißt, sie mussten gesperrt werden. </p><br><h3 id="razrabotka-i-integraciya-v-antifrode">  Entwicklung und Integration in Antifraud </h3><br><p><img src="https://habrastorage.org/webt/ek/k5/du/ekk5duwhsj_9eifm2q5dmaudvx8.jpeg"></p><br><blockquote>  Wir hatten 2 coole .NET-Programmierer, eine Microservice-Architektur der RBS, eine REST-API, ein Dutzend Blacklists unterschiedlicher Formen und eine Menge Integrationen aller Art und Farben, und es gab keine Tester oder Entwickler.  Nicht, dass es eine notwendige Reserve für den Schutz vor allen Betrügern gewesen wäre.  Aber wenn Sie es noch tun müssen, werden Sie nicht aufhören.  Das einzige, was mich beunruhigte, waren die Fehlalarme.  Es gibt nichts Hilfloseres, Verantwortungsloseres und Verwöhnteres als den Betrugsbekämpfer, der in 5 Minuten 20 Tickets flog.  Ich wusste, dass wir früher oder später darauf stoßen würden. </blockquote><p>  Generell war an der Integration nichts auszusetzen.  SLA hat ein Limit von 3 Sekunden festgelegt, um auf Anforderungen zu antworten.  Momentan beträgt die durchschnittliche Antwortzeit 0,3 Sekunden.  Die Microservice-Architektur machte es einfach, sich in die vorhandene Lösung zu integrieren, indem drei Zeilen hinzugefügt wurden, um eine Anfrage an den Microservice für Betrugsbekämpfung zu senden.  Die Überprüfung erfolgt vor der Bestätigung per SMS oder PUSH-Benachrichtigung. </p><br><p>  <em>Eine kleine Skizze der Lösungsarchitektur:</em> <br><img src="https://habrastorage.org/webt/5l/p1/0s/5lp10stholmhp8004vfq82weurw.jpeg"></p><br><p>  In der ersten Phase der Entwicklung wurde das Ziel festgelegt, zwei wichtige Bedingungen zu überprüfen.  Erstens ist das Gerät, von dem aus die Transaktion versucht wird, für den Client neu oder als vertrauenswürdig eingestuft.  Zweitens, ob die Requisiten nicht auf der schwarzen Liste stehen.  Diese beiden Bedingungen reichen aus, um 70% der Vorfälle zu blockieren. Im Übrigen sind weitere Informationen erforderlich, z. B., ob Sie sich über Login / Passwort oder Kartennummer anmelden, aus welchem ​​Land Sie den RB eingegeben haben usw. </p><br><p>  Um die Überprüfung durchzuführen, benötigen Sie nicht so viele Daten - eine eindeutige Kennung des Kunden, die Kennung seines Geräts (die auf den Kunden selbst erstellt wurde - mobile Anwendungen und JS-Bibliotheken auf der Website), den Umfang der Übertragung, die Übertragungsdetails.  Auf der Grundlage dieser Daten wird eine Entscheidung getroffen, die Operation zuzulassen oder zu blockieren.  Sobald das gesamte System im industriellen Betrieb einwandfrei funktionierte, ging das Team zur nächsten Stufe über.  Es gibt Whitelists und das automatische Laden von Listen aus FinCERT.  Momentan wird das Senden von Meldungen zu Vorfällen über die API an FinCERT selbst getestet (dies ist eine separate lange Geschichte). </p><br><p>  Gegenwärtig werden im Betrugsbekämpfungssystem folgende Zahlungen verifiziert: P2P-Zahlungen nach Kartennummer, Auffüllung einer Telefonnummer, Übermittlung nach Details, Auffüllung elektronischer Geldbörsen.  Betrüger übertragen häufig 2.000-3.000 Rubel auf Telefonnummern oder Geldbörsen.  Bei Karten liegen die Beträge in der Regel nahe an der Summe aller verfügbaren Gelder des Kunden.  Zusätzlich zu den Überprüfungen wurde eine Seite für Betrugsbekämpfer erstellt. Es ist nicht möglich, ein vollständig autonomes System zu erstellen. Eine Person wird benötigt, um Ereignisse zu überwachen, Vorfälle zu untersuchen, zu blockieren / entsperren und Berichte über das System zu erstellen.  Es ist schwierig, eine Site zu erstellen, wenn sich zwei Backend-Entwickler in einem Team befinden.  Es ist jedoch nie zu spät zu lernen (es ist cool, wenn T-förmige Spezialisten im Team sind!). </p><br><p>  Am Anfang der Planung und Analyse standen viele Überlegungen zur Einführung von maschinellem Lernen, dynamischen Regeln und Antivirenprogrammen im RBS-Client.  Nach den Erfahrungen von Anbietern und anderen Banken kann jedoch mehr als die Hälfte der Fälle durch Anwendung statischer Regeln abgeschlossen werden.  Alle anderen Methoden erfordern große Ressourcen und sind nicht so effektiv.  Aus diesem Grund reicht ein Team aus zwei Entwicklern und einem Analysten (was ich für ausreichend halte), um die Mindestschutzmaßnahmen und die Anforderungen der Aufsichtsbehörden umzusetzen. </p><br><h3 id="bol">  Schmerz </h3><br><p>  Die Grundregel bei der Entwicklung von Betrugsbekämpfung - keinen Schaden anrichten.  Änderungen und neue Methoden sollten zuerst im Test und dann im Kampf im Überwachungsmodus getestet werden, um sicherzustellen, dass keine Probleme vorliegen.  Fehler können im schlimmsten Fall zu finanziellen Verlusten und zum Verlust der Kundenbindung führen.  In unserem Fall hat der Fehler dazu geführt, dass die Bediener das Betrugsbekämpfungssystem untersucht und verwaltet haben. </p><br><p>  Es war Abend an Silvester.  Das System implementierte die Überprüfung nicht nur mobiler Geräte, sondern auch von Client-Browsern.  <a href="https://habr.com/ru/post/104725/">EverCookie verwenden</a> .  Die Entwickler nahmen das Feature auf, testeten es jedoch nicht, da die Bibliothek an den Fronten nicht vorgestellt wurde.  Erst am letzten Arbeitstag des Jahres 2019 beschloss der Front-End-Programmierer, den Zweig in das Produkt zu füllen (nun, lassen Sie ihn nicht für das nächste Jahr gleich!).  Aus diesem Grund haben die Betrugsbekämpfer am Neujahrswochenende eine Menge Arbeit in Form von Fehlalarmen des Systems angehäuft.  Dies kann nicht als kritisch bezeichnet werden, die Bediener bedauern es jedoch ein wenig. Immerhin wurde die Arbeit fünfmal so groß wie vor dem Umbau. </p><br><h3 id="itogi">  Zusammenfassung </h3><br><p>  In weniger als einem Jahr implementierte ein sehr kleines Team das Betrugsbekämpfungssystem für das Internetbanking.  Leider gibt es noch viel Arbeit.  Nach Gesprächen mit Vertretern von Banken und Anbietern auf dem Forum gegen Betrug in Russland wurde deutlich, dass Betrüger jedes Jahr neue Wege finden. In diesem Bereich können Sie sich nicht entspannen. </p><br><p>  Wenn es interessant ist, schreibe ich mehr über Softwarelösungen, Marktanalysen und die Implementierung von Scrum in einem Team von 3 Personen. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de484070/">https://habr.com/ru/post/de484070/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de484056/index.html">Brauchen Sie für Ihr Projekt wirklich Tests?</a></li>
<li><a href="../de484062/index.html">Englisch lernen mit MEMASICS</a></li>
<li><a href="../de484064/index.html">Wie bereite ich ein Spiel für die Lokalisierung vor? 10 Grundregeln</a></li>
<li><a href="../de484066/index.html">Geld gegen Team. Nicht die offensichtlichsten Aspekte des Verhältnisses von Unternehmern, Gründern und Investoren</a></li>
<li><a href="../de484068/index.html">gRPC als dienstübergreifendes Kommunikationsprotokoll. Yandex-Bericht</a></li>
<li><a href="../de484072/index.html">5. Fortinet Getting Started v6.0. NAT</a></li>
<li><a href="../de484076/index.html">Speicherort für Kryptowährung: Besteuerung von Kryptowährungen in verschiedenen Ländern</a></li>
<li><a href="../de484084/index.html">1C-Bitrix und ein Versuch, es einzuführen</a></li>
<li><a href="../de484088/index.html">Passwort-Hit-Parade (Analyse von ~ 5 Milliarden Passwörtern nach Undichtigkeiten)</a></li>
<li><a href="../de484090/index.html">Neue IT-Infrastruktur für das Russian Post Data Center</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>