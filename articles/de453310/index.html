<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⛹️ 🧑🏽‍🤝‍🧑🏽 🌫️ Datenaustausch zwischen React-Komponenten mithilfe der RxJS-Bibliothek 👩🏽‍🌾 🖖🏽 🐗</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hier ist eine Übersetzung eines Artikels von Chidume Nnamdi, der auf blog.bitsrc.io veröffentlicht wurde. Die Übersetzung wird mit Genehmigung des Aut...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Datenaustausch zwischen React-Komponenten mithilfe der RxJS-Bibliothek</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/plarium/blog/453310/">  Hier ist eine Übersetzung eines Artikels von Chidume Nnamdi, der auf blog.bitsrc.io veröffentlicht wurde.  Die Übersetzung wird mit Genehmigung des Autors veröffentlicht. <br><br><img src="https://habrastorage.org/webt/sn/bf/h_/snbfh_weeuiwnpbdta7qdkpjxes.jpeg"><br><br>  Das Aufkommen der RxJS-Bibliothek hat eine Menge neuer Möglichkeiten in der JS-Welt eröffnet.  Das Ziel von RxJS ist es, mit einer kleinen Menge Code viel zu erreichen.  Nachdem Sie diesen Artikel gelesen haben, erfahren Sie, wie Sie mithilfe der Funktionen von RxJS Daten zwischen Anwendungskomponenten in React austauschen. <a name="habracut"></a><br><br>  <b>Tipp</b> : Verwenden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bit</a> , um React-Komponenten zu organisieren und freizugeben.  Auf diese Weise kann Ihr Team seine Anwendungen schneller entwickeln.  Probieren Sie es einfach aus. <br><br><img src="https://habrastorage.org/webt/dh/0w/pi/dh0wpix46rdg6rkxrqwi7e0qels.gif"><br>  Komponentensammlung reagieren <br><br><h3>  Redux </h3><br>  Für den Datenaustausch zwischen nicht verwandten React-Komponenten wurden die Statusbibliotheken erstellt.  Es gibt viele Vorlagen für die Statusverwaltung, aber zwei sind am bekanntesten: Flux und Redux. <br><br>  Redux ist beliebt wegen seiner Einfachheit und der Verwendung von reinen Funktionen.  Dank ihnen besteht kein Zweifel daran, dass die Verwendung von Reduktionsmitteln keine Nebenwirkungen hervorruft. <br><br>  Wenn wir mit Redux arbeiten, erstellen wir zunächst ein zentrales Data Warehouse: <br><br><img src="https://habrastorage.org/webt/nw/ma/im/nwmaim9uwgixbjr64pi-3oteoyw.png"><br><br>  Als Nächstes ordnen wir die Komponenten diesem Repository zu und aktualisieren oder löschen den Status, falls gewünscht.  Alle am Tresor vorgenommenen Änderungen werden in den zugehörigen Komponenten berücksichtigt.  Somit erstreckt sich der Datenfluss auf alle Komponenten, unabhängig von ihrem Verschachtelungsgrad.  Eine Komponente auf der n-ten Ebene der hierarchischen Struktur kann Daten an eine Komponente der höchsten Ebene übertragen.  Letzterer kann wiederum Daten an die Ebene der Komponente 21 übertragen. <br><br><h3>  Rxjs </h3><br>  Mit dem Aufkommen von RxJS ist die Verwendung von Statusverwaltungsbibliotheken viel einfacher geworden.  Vielen gefiel das von RxJS bereitgestellte Observer-Muster. <br><br>  Wir erstellen einfach einen <code>Observable</code> Stream und ermöglichen allen Komponenten, ihn anzuhören.  Wenn dem Stream eine Komponente hinzugefügt wird, reagieren Listener-Komponenten (oder „signierte“ Komponenten) auf das DOM-Update. <br><br><h3>  Installation </h3><br>  Wir erstellen die Anwendung auf React mit der <code>create-react-app</code> React <code>create-react-app</code> .  Wenn Sie keine <code>create-react-app</code> haben <code>create-react-app</code> installieren Sie sie zuerst global: <br><br><pre> <code class="javascript hljs">npm i create-react-app -g</code> </pre> <br>  Als nächstes generieren wir das Projekt in React: <br><br><pre> <code class="javascript hljs">create-react-app react-prj</code> </pre> <br>  Gehen Sie in das Verzeichnis: <br><br><pre> <code class="javascript hljs">cd react-prj</code> </pre><br>  Installieren Sie die rxjs-Bibliothek: <br><br><pre> <code class="javascript hljs">npm i rxjs</code> </pre> <br>  Wir sollten eine Datei haben, die eine neue Instanz von <code>BehaviourSubject</code> . <br><br><h3>  Warum verwenden wir BehaviorSubject? </h3><br>  <code>BehaviorSubject</code> ist einer der Betreff in der RxJS-Bibliothek.  <code>BehaviorSubject</code> eine untergeordnete Komponente von Subject und ermöglicht es vielen Beobachtern, den Stream sowie Massenübertragungsereignisse an diese Beobachter zu hören.  <code>BehaviorSubject</code> speichert den letzten Wert und übergibt ihn an alle neu signierten Komponenten. <br><br>  Also <code>BehaviorSubject</code> : <br><br><ul><li>  Ermöglicht Massenversand. </li><li>  Es speichert die neuesten von Abonnenten veröffentlichten Werte und sendet diese Werte per Massenmail. </li></ul><br><img src="https://habrastorage.org/webt/da/bv/2q/dabv2q9qj8_aw8ng2ae6souzlki.png"><br><br>  Der Ordner src enthält die Datei <code>messageService.js</code> , die die <code>BehaviorSubject</code> Instanz und das <code>messageService</code> Objekt an den <code>messageService</code> exportiert.  Das Abonnentenobjekt wird am Anfang der Datei erstellt, sodass es für jede importierende Komponente verfügbar ist.  Das <code>messageService</code> Objekt verfügt über eine <code>messageService</code> , die den Parameter <code>msg</code> akzeptiert: Es enthält die Daten, die für die Übertragung an alle empfangenden Komponenten erforderlich sind.  Im Hauptteil der Funktion rufen wir die <code>emit</code> Methode auf.  Es sendet Daten per Bulk-Mail an die signierten Komponenten im abonnierenden Objekt. <br><br>  Angenommen, wir haben die folgenden Komponenten: <br><br><ul><li>  ConsumerA; </li><li>  ConsumerB; </li><li>  ProduzentA; </li><li>  ProduzentB. </li></ul><br>  In einer hierarchischen Struktur sehen sie folgendermaßen aus: <br><br><img src="https://habrastorage.org/webt/xf/a5/ze/xfa5ze9qtqtjnuqevc-qiz5i5ng.png"><br><br>  Die Anwendungskomponente überträgt die Nachricht ProducerA und ConsumerB.  ProducerA sendet die Daten an ConsumerA und die Nachricht von ConsumerB geht an ProducerB. <br><br><img src="https://habrastorage.org/webt/86/ky/qh/86kyqhhdskohzsnh_t_ec6ryq4s.png"><br><br>  Die Komponenten ConsumerA und ConsumerB haben einen individuellen Statuszähler.  In ihrer <code>componentDidMount</code> Methode haben sie denselben <code>subscriber</code> .  Sobald ein Ereignis veröffentlicht wird, wird der Zähler für beide Komponenten aktualisiert. <br><br>  ProducerA und ProducerB haben <code>Increment Counter</code> und <code>Decrement Counter</code> Tasten, die beim Drücken <code>1</code> oder <code>-1</code> erzeugen.  Die signierten Komponenten ConsumerA und ConsumerB nehmen das Ereignis auf und starten ihre Rückruffunktionen, wobei der Wert des Statuszählers und des DOM aktualisiert wird. <br><br><img src="https://habrastorage.org/webt/ei/i2/zu/eii2zufqf2-ddtuyzpl-rqzd2qi.gif"><br><br>  Schauen wir uns noch einmal die hierarchische Struktur an: <br><br><img src="https://habrastorage.org/webt/pr/v4/hs/prv4hsqntkcolmmgz1bsnxmdyuc.png"><br><br>  ProducerB überträgt ConsumerA-Daten, obwohl sie völlig unabhängig sind.  ProducerA überträgt Daten an ConsumerB und ist nicht dessen übergeordnete Komponente.  Das ist der springende Punkt bei RxJS: Wir haben gerade einen zentralen Ereignisflussknoten erstellt und die Komponenten darauf warten lassen.  Wenn eine Komponente Ereignisse generiert, werden sie von abhörenden Komponenten sofort erfasst. <br><br>  Sie können mit der Anwendung auf stackblitz spielen: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://react-lwzp6e.stackblitz.io</a> <br><br><h3>  Fazit </h3><br>  Wir haben also gesehen, wie Sie mit RxJS Daten zwischen React-Komponenten austauschen können.  Wir haben <code>BehaviourSubject</code> , um einen zentralisierten Datenstrom zu erstellen, und dann den Rest der Komponenten diesen Strom abonnieren lassen.  Wenn eine der Komponenten Daten generiert, empfangen diese auch die anderen Komponenten.  Die Ebene der Komponenten in der hierarchischen Struktur ist unwichtig. <br><br>  Wenn Sie Fragen zu diesem Thema haben oder möchten, dass ich etwas hinzufüge, korrigiere oder lösche, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">schreiben</a> Sie darüber in den Kommentaren, in der E-Mail oder in einer persönlichen Nachricht. <br><br>  Vielen Dank für Ihre Aufmerksamkeit! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de453310/">https://habr.com/ru/post/de453310/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de453298/index.html">Sommer: Upgrade-Zeit ... selbst</a></li>
<li><a href="../de453300/index.html">3D Game Shader für Anfänger</a></li>
<li><a href="../de453302/index.html">Die erste Lebensstunde mit Yandex.Module</a></li>
<li><a href="../de453304/index.html">Hauptvorteile von Zextras PowerStore</a></li>
<li><a href="../de453306/index.html">Kubernetes wird die Welt übernehmen. Wann und wie?</a></li>
<li><a href="../de453312/index.html">PDF Business E-Mail-Generator basierend auf XML-Daten</a></li>
<li><a href="../de453314/index.html">DIY Black Mirror - Unterrichte einen Bot basierend auf seiner Chat-Geschichte</a></li>
<li><a href="../de453316/index.html">Der britische Chiphersteller ARM stellt die Zusammenarbeit mit Huawei ein</a></li>
<li><a href="../de453318/index.html">5 Fehler bei der Implementierung von Push-Benachrichtigungen für mobile Anwendungen</a></li>
<li><a href="../de453322/index.html">Konfigurieren Sie Nomad Cluster mit Consul und integrieren Sie es in Gitlab</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>