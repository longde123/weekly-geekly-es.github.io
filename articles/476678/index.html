<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☮️ ❇️ 😳 API para recuperación asíncrona remota utilizando Apple Combine 🤹🏾 💍 👼🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Combine es un marco funcional Swift reactivo que se ha implementado recientemente para todas Apple plataformas de Apple , incluido Xcode 11 . Con Comb...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>API para recuperación asíncrona remota utilizando Apple Combine</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/476678/"><img src="https://habrastorage.org/webt/t6/lj/xl/t6ljxl5w2xxh7v0inoq5oebgbro.png"><br><br>  <font color="#0000FF">Combine</font> es un marco funcional <code>Swift</code> reactivo que se ha implementado recientemente para todas <code>Apple</code> plataformas de <code>Apple</code> , incluido <code>Xcode 11</code> .  Con <font color="#0000FF">Combine, es</font> muy fácil procesar secuencias de valores que aparecen de forma asincrónica a lo largo del tiempo.  También simplifica el código asincrónico al abandonar la delegación y las <font color="#0000FF">devoluciones de llamada</font> complejas anidadas. <br><br>  Pero estudiar <font color="#0000FF">Combinar en sí mismo</font> al principio puede no parecer tan simple.  El hecho es que los principales "jugadores" de <font color="#0000FF">Combine</font> son conceptos tan abstractos como "editores" <font color="#0000FF">Editores</font> , "suscriptores" <font color="#0000FF">Suscriptores</font> y operadores <font color="#0000FF">Operadores</font> , sin los cuales no será posible avanzar en la comprensión de la lógica de funcionamiento de <font color="#0000FF">Combine</font> .  Sin embargo, debido al hecho de que <code>Apple</code> proporciona a los desarrolladores "editores", "suscriptores" y operadores ya preparados, el código escrito con <font color="#0000FF">Combine</font> es muy compacto y fácil de leer. <br><br>  Verá esto en el ejemplo de una aplicación relacionada con la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">recuperación</a> asincrónica de información de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">películas</a> de la muy popular base de datos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">TMDb ahora</a> .  Crearemos dos aplicaciones diferentes: <font color="#0000FF">UIKit</font> y <font color="#0000FF">SwiftUI</font> , y mostraremos cómo funciona <font color="#0000FF">Combine</font> con ellas. <br><br><img src="https://habrastorage.org/webt/sd/jn/py/sdjnpyhqecxf8q7wvtxlkm7qbr0.png"><br><a name="habracut"></a><br>  Espero que este artículo te facilite aprender <font color="#0000FF">Combinar</font> .  El código para todas las aplicaciones desarrolladas en este artículo se puede encontrar en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Github</a> . <br><br>  <font color="#0000FF">Combine</font> tiene varios componentes principales: <br><br><h3>  Editor <b><font color="#0000FF">Editor</font></b> . </h3><br><img src="https://habrastorage.org/webt/cu/6q/93/cu6q93meoo0iyfmkyqa4si1y68c.png"><br><br>  Editores Los <font color="#0000FF">editores</font> son TIPOS que entregan <font color="#0000FF">valores a</font> todos los que se preocupan.  <font color="#0000FF">El</font> concepto de "editor" del editor se implementa en <font color="#0000FF">Combine</font> como un <font color="#0000FF">protocolo</font> , no como un TIPO específico.  El protocolo del <font color="#0000FF">editor</font> tiene TIPOS genéricos asociados para el valor de salida y el error de <font color="#0000FF">falla</font> . <br>  Un "editor" que nunca publica un error utiliza el error TIPO <font color="#0000FF">Nunca</font> para un error. <br><br><img src="https://habrastorage.org/webt/04/mt/gt/04mtgtm8ucbh38ywukqa-jv0qb0.png"><br><br><img src="https://habrastorage.org/webt/c9/py/wg/c9pywgmfyp5aa8t9mb0extzy764.png"><br><br>  <code>Apple</code> proporciona a los desarrolladores implementaciones específicas de "editores" ya preparados: <font color="#0000FF">Just</font> , <font color="#0000FF">Future</font> , <font color="#0000FF">Empty</font> , <font color="#0000FF">Deferred</font> , <font color="#0000FF">Sequence</font> , <font color="#0000FF">@Published</font> , etc.  Los "editores" también se agregan a las clases de <font color="#0000FF">Foundation</font> : <font color="#0000FF">URLSession</font> , &lt; <font color="#0000FF">NotificationCenter</font> , <font color="#0000FF">Timer</font> . <br><br><h3>  "Suscriptor" <font color="#0000FF">Suscriptor</font> . </h3><br><img src="https://habrastorage.org/webt/1t/h5/aj/1th5aj2egefg5fkjsikc-jurleq.png"><br><br>  También es un protocolo de <font color="#0000FF">protocolo</font> que proporciona una interfaz para "suscribirse" a los <font color="#0000FF">valores</font> de un "editor".  Ha asociado TIPOS genéricos para errores de <font color="#0000FF">entrada</font> y <font color="#0000FF">falla</font> .  Obviamente, los TIPOS del publicador <font color="#0000FF">editor</font> y <font color="#0000FF">suscriptor</font> deben coincidir. <br><br><img src="https://habrastorage.org/webt/2g/de/2n/2gde2nlg6zae1fezvtewfziyh0w.png"><br><br>  Para cualquier editor de editor, hay dos <font color="#0000FF">suscriptores</font> integrados: <font color="#0000FF">hundir</font> y <font color="#0000FF">asignar</font> : <br><br><img src="https://habrastorage.org/webt/vq/ua/q-/vquaq-t465oyg5ku4plfd-jvyks.png"><br><br>  El <font color="#0000FF">sumidero</font> "Suscriptor" <font color="#0000FF">se</font> basa en dos cierres: un cierre, <font color="#0000FF">recibirValor</font> , se ejecuta cuando obtiene los <font color="#0000FF">valores</font> , el segundo cierre, <font color="#0000FF">recibirCompleción</font> , se ejecuta cuando se completa la "publicación" (normalmente o con un error). <br><br><img src="https://habrastorage.org/webt/im/fj/56/imfj56ymla1daatwof2b1qxkja8.png"><br><br>  La <font color="#0000FF">asignación</font> "Suscriptor", avanza cada valor recibido, hacia la <code>key Path</code> especificada. <br><br><h3>  Suscripción "Suscripción". </h3><br><img src="https://habrastorage.org/webt/ha/rn/bv/harnbvbg6gigvyslb2aex_ujy4m.png"><br><br>  Primero, el <font color="#0000FF">Editor</font> "editor" crea y entrega la Suscripción " <font color="#0000FF">Suscripción</font> " al Suscriptor " <font color="#0000FF">Suscriptor</font> " a través de su método de <font color="#0000FF">recepción (suscripción :)</font> : <br><br><img src="https://habrastorage.org/webt/rk/tk/s8/rktks8zchgxyblozzz96otrxiee.png"><br><br>  Después de eso, la <font color="#0000FF">Suscripción</font> puede enviar sus <font color="#0000FF">valores a los</font> "suscriptores" de los <font color="#0000FF">Suscriptores</font> utilizando dos métodos: <br><br><img src="https://habrastorage.org/webt/hl/4x/ev/hl4xev6fakwtgs-wpv3afwuaywa.png"><br><br>  Si ha terminado de trabajar con la <font color="#0000FF">Suscripción Suscripción</font> , puede llamar a su método <font color="#0000FF">cancel ()</font> : <br><br><img src="https://habrastorage.org/webt/lz/ap/bt/lzapbts_gq9by1lw8qicdg3v2hc.png"><br><br><h3>  Asunto "Asunto". </h3><br><img src="https://habrastorage.org/webt/hy/cq/5p/hycq5pytsfa_gkzmqrwtmtal7tw.png"><br><br>  Este es un protocolo de <font color="#0000FF">protocolo</font> que proporciona una interfaz para ambos clientes, tanto para el "editor" como para el "suscriptor".  Esencialmente, el Asunto "sujeto" es el <font color="#0000FF">Editor</font> "editor", que puede aceptar el valor de entrada <font color="#0000FF">Entrada</font> y que puede usar para "inyectar" los <font color="#0000FF">valores</font> en la secuencia llamando al método <font color="#0000FF">send ()</font> .  Esto puede ser útil al adaptar el código imperativo existente en <font color="#0000FF">Combine</font> Models. <br><br><h3>  Operador <font color="#0000FF">Operador</font> . </h3><br><img src="https://habrastorage.org/webt/h-/d-/r1/h-d-r1jmm2yxa5kefxpf5opmuw4.png"><br><br>  Con el operador, puede crear un nuevo "editor" de editor a partir de otro "editor" de editor convirtiendo, filtrando e incluso combinando los <font color="#0000FF">valores</font> de los muchos <b><font color="#0000FF">publicadores</font></b> anteriores. <br><br><img src="https://habrastorage.org/webt/ol/he/rz/olherzm4jvlkfwer3x0gdbc0guk.png"><br><br>  Aquí puede ver muchos nombres de operadores conocidos: <font color="#0000FF">compactMap</font> , <font color="#0000FF">map</font> , <font color="#0000FF">filter</font> , <font color="#0000FF">dropFirst</font> , <font color="#0000FF">append</font> . <br><br><h3>  <font color="#0000FF">Editores de la</font> <font color="#0000FF">Fundación</font> <font color="#0000FF">Editores</font> integrados en la <font color="#0000FF">Fundación</font> . </h3><br>  <code>Apple</code> también proporciona a los desarrolladores varias de las funciones <font color="#0000FF">combinadas ya</font> integradas en el marco <font color="#0000FF">Foundation</font> &lt;, es decir, los editores de los editores, para tareas como obtener datos usando <font color="#0000FF">URLSession</font> , trabajar con notificaciones usando <font color="#0000FF">Notification</font> , <font color="#0000FF">Timer</font> y monitorear propiedades basadas en <font color="#0000FF">KVO</font> .  Esta compatibilidad incorporada realmente nos ayudará a integrar el marco <font color="#0000FF">Combine</font> en nuestro proyecto actual. <br>  Para obtener más información sobre esto, consulte el artículo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"El último tutorial de marco de combinación en Swift"</a> . <br><br><h3>  ¿Qué aprendemos a hacer con <font color="#0000FF">Combine</font> ? </h3><br>  En este artículo, aprenderemos cómo usar el marco <font color="#0000FF">Combinar</font> para obtener datos de películas del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sitio</a> web <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">TMDb</a> .  Esto es lo que estudiaremos juntos: <br><br><ul><li>  Uso del <font color="#0000FF">futuro</font> "editor" para crear un cierre con <font color="#0000FF">Promise</font> para un solo valor: <font color="#0000FF">valor</font> o error. </li><li>  Uso de la <font color="#0000FF">URLSession.datataskPublisher de</font> "editor" para "suscribirse" a los datos de <font color="#0000FF">datos</font> publicados por un <code>UR</code> L. </li><li>  Usando el operador <font color="#0000FF">tryMap</font> para convertir datos de <font color="#0000FF">datos</font> usando otro editor Publisher. </li><li>  Usar el operador de <font color="#0000FF">decodificación</font> para convertir datos de <font color="#0000FF">datos</font> en un objeto <font color="#0000FF">decodificable</font> y publicarlos para su transmisión a elementos posteriores de la cadena. </li><li>  Uso del operador de <font color="#0000FF">sumidero</font> para "suscribirse" a un editor "editor" mediante cierres. </li><li>  Utilice la instrucción de <font color="#0000FF">asignación</font> para "suscribirse" al editor "publicador" y asigne el valor que proporciona a la <code>key Path</code> dada. </li></ul><br><h3>  Proyecto inicial </h3><br>  Antes de comenzar, debemos registrarnos para recibir la clave <code>API</code> en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sitio</a> web <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">TMDb</a> .  También debe descargar el proyecto inicial desde el repositorio de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GitHub</a> . <br>  Asegúrese de colocar su clave <code>API</code> en la <font color="#0000FF">clase MovieStore clase</font> en <font color="#0000FF">let apiKey</font> constante. <br><br><img src="https://habrastorage.org/webt/u0/fp/ev/u0fpevrqivppfng0lyoglbkp-cq.png"><br><br>  Estos son los principales bloques de construcción a partir de los cuales crearemos nuestro proyecto: <br><br><ul><li>  1. Dentro del archivo <code>Movie.swift</code> hay modelos que utilizaremos en nuestro proyecto.  La estructura raíz de <font color="#0000FF">struct MoviesResponse</font> implementa el protocolo <font color="#0000FF">Decodable</font> , y lo usaremos cuando decodifiquemos datos <code>JSON</code> en un Modelo.  La estructura <font color="#0000FF">MoviesResponse</font> tiene una propiedad de <font color="#0000FF">resultados</font> , que también implementa el protocolo <font color="#0000FF">Decodable</font> y es una colección de películas <font color="#0000FF">[Movie]</font> .  Es ella quien nos interesa: </li></ul><br><img src="https://habrastorage.org/webt/1o/9s/xz/1o9sxzm4t-edp2l2hhauqky2dve.png"><br><br><ul><li>  2. Enumeración de enumeración <font color="#0000FF">MovieStoreAPIError</font> implementa el protocolo de <font color="#0000FF">error</font> .  Nuestra <code>API</code> utilizará esta enumeración para representar varios tipos de errores: errores de <font color="#0000FF">recuperación de</font> <code>URL</code> <font color="#0000FF">urlError</font> , errores de decodificación de <font color="#0000FF">decodificación de</font> error y errores de recuperación de datos de <font color="#0000FF">respuestaError</font> . </li></ul><br><img src="https://habrastorage.org/webt/kn/3n/av/kn3nav2xvctmabav1v2zdi_6hrw.png"><br><br><ul><li>  3. Nuestra <code>API</code> tiene un protocolo <font color="#0000FF">MovieService</font> con un único método, <font color="#0000FF">fetchMovies (from endpoint: Endpoint)</font> , que selecciona <font color="#0000FF">películas [Movie] en</font> función del parámetro de <font color="#0000FF">punto final</font> .  <font color="#0000FF">El punto final en</font> sí mismo es un <font color="#0000FF">enum enum</font> que representa un <font color="#0000FF">punto final</font> para acceder a la base de datos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">TMDb</a> para buscar películas como <font color="#0000FF">nowPlaying</font> (más reciente), <font color="#0000FF">popular</font> (popular), <font color="#0000FF">topRated</font> (arriba) y próximamente (próximamente en la pantalla). </li></ul><br><img src="https://habrastorage.org/webt/4b/a1/ki/4ba1kiw5glfklazq04txpbbs6fy.png"><br><br><ul><li>  4. La <font color="#0000FF">clase</font> MovieStore es una clase específica que implementa el protocolo <font color="#0000FF">MovieService</font> para obtener datos del sitio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">TMDb</a> .  Dentro de esta clase, implementamos el <font color="#0000FF">método fetchMovies (...)</font> usando <font color="#0000FF">Combine</font> . </li></ul><br><img src="https://habrastorage.org/webt/l2/lr/q1/l2lrq1ff5w76cxbvpmr53eywiy4.png"><br><br><ul><li>  5. La clase <font color="#0000FF">MovieListViewController</font> es la clase principal de <font color="#0000FF">ViewController</font> en la que utilizamos el método de <font color="#0000FF">sumidero</font> para "suscribirnos" al <font color="#0000FF">método fetchMovies (...)</font> película, que devuelve el "publicador" <font color="#0000FF">Futuro</font> , y luego actualiza la tabla <font color="#0000FF">TableView</font> con nuevos datos de película <font color="#0000FF">películas</font> con la nueva <code>API</code> <font color="#0000FF">DiffableDataSourceSnapshot</font> . </li></ul><br>  Antes de comenzar, veamos algunos de los componentes básicos de <font color="#0000FF">Combine</font> que usaremos para <code>API</code> recuperación remota de datos. <br><br><h3>  "Suscríbete" al "editor" usando el <font color="#0000FF">sumidero</font> y sus cierres. </h3><br>  La forma más fácil de "suscribirse" al "editor" del editor es utilizar <font color="#0000FF">sumidero</font> con sus cierres, uno de los cuales se ejecutará cada vez que obtengamos un nuevo <font color="#0000FF">valor</font> , y el otro cuando el "editor" termine de entregar los <font color="#0000FF">valores</font> . <br><br><img src="https://habrastorage.org/webt/yb/wt/ng/ybwtnglt5iuxpbfpkj3tgud_qpo.png"><br><br>  Recuerde que en <font color="#0000FF">Combine,</font> cada "suscripción" devuelve un <font color="#0000FF">Cancelable</font> , que se eliminará tan pronto como abandonemos nuestro contexto.  Para mantener una "suscripción" durante más tiempo, por ejemplo, para obtener valores de forma asincrónica, necesitamos guardar la "suscripción" en la propiedad <font color="#0000FF">subscribing1</font> .  Esto nos permitió obtener consistentemente todos los <font color="#0000FF">valores (7,8,3,4)</font> . <br><br><h3>  <font color="#0000FF">Futuro</font> asincrónicamente "publica" un único valor: <font color="#0000FF">valor</font> o error de <font color="#0000FF">falla</font> . </h3><br>  En el marco <font color="#0000FF">Combinar</font> , el <font color="#0000FF">futuro</font> "editor" se puede utilizar para obtener de forma asincrónica un TIPO de <font color="#0000FF">resultado</font> único mediante un cierre.  El cierre tiene un parámetro: <font color="#0000FF">Promesa</font> , que es una función de TIPO <font color="#0000FF">(Resultado &lt;Salida, Falla&gt;) -&gt; Anulado</font> . <br><br>  Veamos un ejemplo simple para entender cómo funciona el <font color="#0000FF">futuro</font> editor: <br><br><img src="https://habrastorage.org/webt/x9/6p/_p/x96p_plt6deyew9_q5yupqa_zsc.png"><br><br>  Creamos <font color="#0000FF">Future</font> con un resultado exitoso de TYPE <font color="#0000FF">Int</font> y un error de TYPE <font color="#0000FF">Never</font> .  Dentro del cierre <font color="#0000FF">Future</font> , utilizamos <font color="#0000FF">DispatchQueue.main.asyncAfter (...)</font> para retrasar la ejecución del código en <font color="#0000FF">2</font> segundos, simulando así un comportamiento asincrónico.  Dentro del cierre, devolvemos <font color="#0000FF">Promise</font> con un resultado exitoso de <font color="#0000FF">promesa (.success (...))</font> en forma de un valor entero aleatorio de <font color="#0000FF">Int</font> en el rango entre <font color="#0000FF">0</font> y <font color="#0000FF">100</font> .  A continuación, usamos dos suscripciones <font color="#0000FF">futuras</font> , <font color="#0000FF">cancelable</font> y <font color="#0000FF">cancelable1</font> , y ambas dan el mismo resultado, aunque se genera un número aleatorio en el interior. <br><blockquote>  <u><i><code> 1.</code></i></u> Cabe señalar que el "editor" de <font color="#0000FF">Future</font> in <font color="#0000FF">Combine</font> tiene algunas características de comportamiento en comparación con otros "editores": <br><br><ul><li>  El "editor" <font color="#0000FF">Futuro</font> siempre "publica" UN valor ( <font color="#0000FF">valor</font> o error), y esto completa su trabajo. </li></ul><br><ul><li>  <font color="#0000FF">Future</font> "publisher" es una <font color="#0000FF">clase de clase</font> ( <code>reference type</code> ) <font color="#0000FF">, a</font> diferencia de otros "publishers", que son principalmente <font color="#0000FF">estructuras de estructura</font> ( <code>value type</code> ), y recibe el cierre <font color="#0000FF">Promise</font> , que se crea inmediatamente después de la inicialización de la instancia <font color="#0000FF">Future</font> "publisher", como parámetro.  Es decir, el cierre de <font color="#0000FF">Promise</font> se transmite antes de que cualquier suscriptor " <font color="#0000FF">suscriptor</font> " se <font color="#0000FF">suscriba</font> a la instancia de "editor" del <font color="#0000FF">Futuro</font> .  El "editor" de <font color="#0000FF">Future</font> no requiere un "suscriptor" para su funcionamiento, como requieren todos los demás <font color="#0000FF">Editores</font> comunes.  Es por eso que el texto "¡Hola desde el futuro!" Se imprime solo una vez en el código anterior. </li></ul><br><ul><li>  <font color="#0000FF">El</font> "editor" <font color="#0000FF">futuro</font> es un "editor" <code>eager</code> (impaciente), a diferencia de la mayoría de los "publicadores" <font color="#0000FF">perezosos</font> ("publicar" solo si hay una "suscripción").  Solo una vez que el editor del <font color="#0000FF">Futuro</font> cierra su <font color="#0000FF">Promesa</font> , el resultado se recuerda y luego se entrega a los "suscriptores" actuales y futuros.  Del código anterior, vemos que cuando se "suscribe" repetidamente al <font color="#0000FF">futuro</font> editor, siempre obtiene el mismo valor "aleatorio" (en este caso <font color="#0000FF">6</font> , pero puede ser diferente, pero siempre el mismo), aunque se usa en el cierre valor <font color="#0000FF">int</font> aleatorio. </li></ul></blockquote><br>  Dicha lógica del "editor" de <font color="#0000FF">Future</font> permite que se use con éxito para almacenar un resultado calculado asincrónico que consume recursos y no perturbar el "servidor" para las subsiguientes "suscripciones" múltiples. <br><br>  Si esa lógica del "editor" de <font color="#0000FF">Future</font> no le conviene y desea que su <font color="#0000FF">Future se</font> llame <font color="#0000FF">flojo</font> y cada vez que obtenga nuevos valores <font color="#0000FF">Int</font> aleatorios, entonces debe "envolver" <font color="#0000FF">Future</font> en <font color="#0000FF">diferido</font> : <br><br><img src="https://habrastorage.org/webt/j3/gf/25/j3gf25golyfoyl0jvkfddej2mk8.png"><br><br>  Usaremos <font color="#0000FF">Future de una</font> manera clásica, como se sugiere en <font color="#0000FF">Combine</font> , es decir, como un "editor" asincrónico computarizado "compartido". <br><br><blockquote>  Nota 2. Necesitamos hacer un comentario más con respecto a la "suscripción" que usa <font color="#0000FF">sumidero</font> para el "Editor" asíncrono.  El método de <font color="#0000FF">hundimiento</font> devuelve <font color="#0000FF">AnyCancellable</font> , que no recordamos constantemente.  Esto significa que <code>Swift</code> destruirá <font color="#0000FF">AnyCancellable</font> cuando abandone el contexto dado, que es lo que sucede en el <code>main thread</code> .  Por lo tanto, resulta que <font color="#0000FF">AnyCancellable</font> se destruye antes de que el cierre con <font color="#0000FF">Promise</font> pueda comenzar en el <code>main thread</code> .  Cuando <font color="#0000FF">se</font> destruye <font color="#0000FF">AnyCancellable</font> , se llama a su método de <font color="#0000FF">cancelación</font> , que en este caso cancela la "suscripción".  Es por eso que recordamos nuestras "suscripciones" de <font color="#0000FF">sumidero</font> para el <font color="#0000FF">futuro</font> en las variables <font color="#0000FF">cancelable &lt;y cancelable1</font> o en <font color="#0000FF">Set &lt;AnyCancellable&gt; ()</font> . </blockquote><br><br><h3>  Uso de <font color="#0000FF">Combinar</font> para buscar películas del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sitio</a> web <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">TMDb</a> . </h3><br>  Para comenzar, abra el proyecto de inicio y vaya al archivo <code>MovieStore.swift</code> y al método <font color="#0000FF">fetchMovies</font> con una implementación vacía: <br><br><img src="https://habrastorage.org/webt/fg/aw/s0/fgaws0kq7u9kz5ojjz3jlij9zl8.png"><br><br>  Usando el método <font color="#0000FF">fetchMovies,</font> podemos seleccionar varias películas estableciendo valores específicos para el <font color="#0000FF">parámetro de</font> entrada de <font color="#0000FF">punto final</font> de TYPE <font color="#0000FF">Endpoint</font> .  TYPE <font color="#0000FF">Endpoint</font> es una <font color="#0000FF">enumeración de</font> enumeración que toma los valores <font color="#0000FF">nowPlaying</font> (actual), <font color="#0000FF">próxima</font> (próximamente en la pantalla), <font color="#0000FF">popular</font> (popular), <font color="#0000FF">topRated</font> (superior): <br><br><img src="https://habrastorage.org/webt/-a/xt/-f/-axt-f0lhtfrt8u_a-ay7q3z8jk.png"><br><br>  Comencemos inicializando <font color="#0000FF">Future</font> con un cierre de <code>callback</code> .  Recibido <font color="#0000FF">Futuro</font> , luego lo reembolsaremos. <br><br><img src="https://habrastorage.org/webt/hu/v0/pu/huv0pu3w26r2fms4ih4fvhrx8to.png"><br><br>  Dentro del cierre de <code>callback</code> , generamos la <code>URL</code> para el valor correspondiente del <font color="#0000FF">parámetro de</font> entrada de <font color="#0000FF">punto final</font> utilizando la función <font color="#0000FF">generateURL (con punto final: Punto final)</font> : <br><br><img src="https://habrastorage.org/webt/q8/ce/9e/q8ce9ez5nokjff1c_oowpfdlncm.png"><br><br>  Si no se pudo generar la <code>URL</code> correcta, entonces devolvemos un error usando la <font color="#0000FF">promesa (.failure (.urlError (...))</font> , de lo contrario seguimos adelante e implementamos la <font color="#0000FF">URLSession.dataTaskPublisher</font> "publicador". <br><br>  Para "suscribirse" a los datos de una determinada <code>URL</code> podemos utilizar el método <font color="#0000FF">datataskPublisher</font> integrado en la clase <font color="#0000FF">URLSession</font> , que toma la <code>URL</code> como parámetro y devuelve el "editor" del editor con los datos de salida de la tupla <font color="#0000FF">(datos: datos, respuesta: URLResponse)</font> y un error <font color="#0000FF">URLError</font> . <br><br><img src="https://habrastorage.org/webt/wb/dv/uy/wbdvuyzbpv6w3qxfzjyfxxwtmx8.png"><br><br>  Para convertir un editor de Publisher a otro editor de Publisher, use el operador <font color="#0000FF">tryMap</font> .  En comparación con el <font color="#0000FF">mapa</font> , el operador <font color="#0000FF">tryMap</font> puede arrojar un error <font color="#0000FF">Error de</font> <font color="#0000FF">lanzamiento</font> dentro de un cierre, lo que nos devuelve el nuevo editor Publisher. <br><br>  En el siguiente paso, utilizaremos el operador <font color="#0000FF">tryMap</font> para verificar el código <code>http</code> código de estado de la respuesta de <font color="#0000FF">respuesta</font> para asegurarnos de que su valor esté entre <font color="#0000FF">200</font> y <font color="#0000FF">300</font> .  Si no, entonces arrojamos <font color="#0000FF">arroja el</font> valor de error de enumeración <font color="#0000FF">responseError</font> <font color="#0000FF">enum MovieStoreAPIError</font> .  De lo contrario (cuando no hay errores), simplemente devolvemos los datos de <font color="#0000FF">datos</font> recibidos <font color="#0000FF">al</font> siguiente <font color="#0000FF">editor</font> de la cadena "editor". <br><br><img src="https://habrastorage.org/webt/wy/ln/6c/wyln6c46anluun6s7woysgopsma.png"><br><br>  En el siguiente paso, utilizaremos el operador de <font color="#0000FF">decodificación</font> , que decodifica los datos <code>JSON</code> salida del <font color="#0000FF">tryMap del</font> "editor" <font color="#0000FF">anterior</font> en el <font color="#0000FF">MovieResponse</font> &lt;Modelo usando <font color="#0000FF">JSONDecoder</font> . <br><br><img src="https://habrastorage.org/webt/-s/jt/0j/-sjt0j9lf5pbkugsryptozbb0ei.png"><br><br>  ... <font color="#0000FF">jsonDecoder está</font> configurado para un formato de fecha específico: <br><br><img src="https://habrastorage.org/webt/ub/ed/pu/ubedpue91eckdhygbfmxbnk4oqk.png"><br><br>  Para que el procesamiento se realice en el <code>main thread</code> , utilizaremos el operador de <font color="#0000FF">recepción (on :)</font> y pasaremos <font color="#0000FF">RunLoop.main</font> como su parámetro de entrada.  Esto permitirá que el "suscriptor" obtenga el valor del <font color="#0000FF">valor</font> en el hilo <code>main</code> . <br><br><img src="https://habrastorage.org/webt/gr/n2/wh/grn2whzqqawxp_1-ffqh6jwhmse.png"><br><br>  Finalmente, llegamos al final de nuestra cadena de transformación, y allí usamos <font color="#0000FF">sumidero</font> para obtener una suscripción de " <font color="#0000FF">suscripción</font> " a la "cadena" formada de "editores" de Editores.  Para inicializar una instancia de la clase <font color="#0000FF">Sink</font> , necesitamos dos cosas, aunque una de ellas es opcional: <br><br><ul><li>  Cierre de <font color="#0000FF">recibir Valor :.</font>  Se llamará siempre que una suscripción de "suscripción" reciba un nuevo <font color="#0000FF">valor</font> del editor "editor". </li></ul><br><ul><li>  <font color="#0000FF">Recibo</font> Cierre de <font color="#0000FF">finalización:</font> (Opcional).  Se llamará después de que el <font color="#0000FF">editor</font> "editor" haya terminado de publicar el <font color="#0000FF">valor</font> , se le dará la enumeración de <font color="#0000FF">finalización</font> , que podemos usar para verificar si la "publicación" de los valores se completó realmente o si la finalización se debió a un error. </li></ul><br>  Dentro del cierre de <font color="#0000FF">recibenValor</font> , simplemente <font color="#0000FF">invocamos una</font> <font color="#0000FF">promesa</font> con una opción <font color="#0000FF">.success</font> y un valor de <font color="#0000FF">$ 0.resultados</font> , que en nuestro caso es una variedad de <font color="#0000FF">películas</font> .  Dentro del cierre de <font color="#0000FF">complete</font> la <font color="#0000FF">recepción,</font> verificamos si la <font color="#0000FF">finalización tiene un</font> error de <font color="#0000FF">error</font> , luego pasamos el error de <font color="#0000FF">promesa</font> correspondiente con la opción <font color="#0000FF">.failure</font> . <br><br><img src="https://habrastorage.org/webt/gr/qh/tm/grqhtm3xthdx7snxlmwfawmd3rq.png"><br><br>  Tenga en cuenta que aquí recopilamos todos los errores "descartados" en las etapas anteriores de la "cadena de editores". <br><br>  A continuación, memorizamos la suscripción de "suscripción" en la propiedad <font color="#0000FF">Set &lt;AnyCancellable&gt; ()</font> . <br>  El hecho es que la suscripción de "suscripción" es <font color="#0000FF">Cancelable</font> , es un protocolo que destruye y borra todo después de completar la función <font color="#0000FF">fetchMovies</font> .  Para garantizar la preservación de la suscripción de "suscripción" incluso después de completar esta función, debemos recordar la suscripción de " <font color="#0000FF">suscripción</font> " en la variable externa a la función <font color="#0000FF">fetchMovies</font> .  En nuestro caso, utilizamos la propiedad de <font color="#0000FF">suscripciones</font> , que tiene el tipo <font color="#0000FF">Set &lt;AnyCancellable&gt; ()</font> y utilizamos el <font color="#0000FF">método .store (en: &amp; self.subscriptions)</font> , que garantiza la <font color="#0000FF">usabilidad de la</font> "suscripción" después de que la función <font color="#0000FF">fetchMovies finalice</font> su trabajo. <br><br><img src="https://habrastorage.org/webt/uh/zx/j9/uhzxj91hkb5y5tm-hd1bheoukcu.png"><br><br>  Esto concluye la formación del método <font color="#0000FF">fetchMovies para</font> seleccionar películas de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">base de</a> datos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">TMDb</a> usando el marco <font color="#0000FF">Combinar</font> .  El método <font color="#0000FF">fetchMovies</font> , como parámetro de entrada <font color="#0000FF">de,</font> toma el valor de la <font color="#0000FF">enumeración Endpoint de</font> enumeración, es decir, qué películas específicas nos interesan: <br><br>  <font color="#0000FF">.nowPlaying</font> : películas que están actualmente en pantalla, <br>  <font color="#0000FF">.upcoming</font> : películas que <font color="#0000FF">llegarán</font> pronto, <br>  <font color="#0000FF">.popular</font> - películas populares, <br>  <font color="#0000FF">.topRated</font> - mejores películas, es decir, con una calificación muy alta. <br>  Intentemos aplicar esta <code>API</code> al diseño de la aplicación con las interfaces de usuario <font color="#0000FF">UIKit</font> habituales en forma de un <code>Table View Controller</code> : <br><br><img src="https://habrastorage.org/webt/lr/6g/gu/lr6gguhjajdke_udcrw1ihyaonu.png"><br><br>  y para una aplicación cuya interfaz de usuario se <font color="#0000FF">crea</font> utilizando el nuevo marco declarativo <font color="#0000FF">SwiftUI</font> : <br><br><img src="https://habrastorage.org/webt/md/_v/kf/md_vkfmsoa--efg4ig5ej-98nue.png"><br><br><h3>  "Suscribirse" a <font color="#0000FF">películas</font> de las <font color="#0000FF">películas</font> habituales de <code>View Controller</code> . </h3><br>  Nos movemos al archivo <i>MovieListViewController.swift</i> y en el método <font color="#0000FF">viewDidLoad</font> llamamos al método <font color="#0000FF">fetchMovies</font> . <br><br><img src="https://habrastorage.org/webt/k3/pw/p_/k3pwp_hzhixbhhkgnvuughyv5na.png"><br><br>  Dentro de nuestro método <font color="#0000FF">fetchMovies,</font> utilizamos el <font color="#0000FF">movieAPI</font> desarrollado anteriormente y su método <font color="#0000FF">fetchMovies</font> con el parámetro <font color="#0000FF">.nowPlaying</font> como <font color="#0000FF">punto final del</font> parámetro de entrada <font color="#0000FF">from</font> .  Es decir, elegiremos las películas que se encuentran actualmente en las pantallas de los cines. <br><br><img src="https://habrastorage.org/webt/k2/x0/xj/k2x0xjbdbgvi-sk9ifo9u5zxj9e.png"><br><br>  El <font color="#0000FF">método movieAPI.fetchMovies (de: .nowPlaying)</font> devuelve <font color="#0000FF">Future</font> "publisher", al que nos "suscribimos" mediante <font color="#0000FF">sumidero</font> , y le suministramos dos cierres.  En el cierre de <font color="#0000FF">complete</font> la <font color="#0000FF">recepción</font> , verificamos si hay un error de <font color="#0000FF">error</font> y mostramos una advertencia de emergencia a la <font color="#0000FF">alerta</font> del usuario con el mensaje de error mostrado. <br><br><img src="https://habrastorage.org/webt/i8/3f/po/i83fpotmo-qab-imavpikbmsbxo.png"><br><br>  En el cierre de <font color="#0000FF">recibenValor,</font> llamamos al método <font color="#0000FF">generateSnapshot</font> y le pasamos las <font color="#0000FF">películas</font> seleccionadas. <br><br><img src="https://habrastorage.org/webt/iz/hm/qi/izhmqi60prl_u55nf-iypvstnnq.png"><br><br>  La función <font color="#0000FF">generateSnapshot genera</font> un nuevo <font color="#0000FF">NSDiffableDataSourceSnapshot</font> usando nuestras <font color="#0000FF">películas</font> y aplica la <font color="#0000FF">instantánea</font> resultante al <font color="#0000FF">diffableDataSource de</font> nuestra tabla. <br><br>  Lanzamos la aplicación y observamos cómo funciona <font color="#0000FF">UIKit</font> con los "editores" y los "suscriptores" desde el marco <font color="#0000FF">Combine</font> .  Esta es una aplicación muy simple que no le permite sintonizar varias colecciones de películas, que ahora se muestran en la pantalla, populares, de alta calificación o las que aparecerán en la pantalla en el futuro cercano.  Solo vemos las películas que van a aparecer en la pantalla ( <font color="#0000FF">próximamente</font> ).  Por supuesto, puede hacer esto agregando cualquier elemento de la <code>UI</code> para establecer los valores de la enumeración de <font color="#0000FF">Endpoint</font> , por ejemplo, usando <code>Stepper</code> o <code>Segmented Control</code> , y luego actualizar la interfaz de usuario.  Esto es bien conocido, pero no lo haremos en una <font color="#0000FF">aplicación</font> basada en <font color="#0000FF">UIKit</font> , sino que lo dejaremos en el nuevo marco declarativo <font color="#0000FF">SwiftUI</font> . <br>  El código para una <font color="#0000FF">aplicación</font> basada en <font color="#0000FF">UIKit</font> se puede encontrar en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Github</a> en la <i><code>CombineFetchAPICompleted-UIKit</code></i> . <br><br><h3>  Use <font color="#0000FF">SwiftUI</font> para mostrar <font color="#0000FF">películas</font> </h3>  . <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Creamos una nueva aplicación </font></font><code>CombineFetchAPI-MY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">con la </font><font style="vertical-align: inherit;">interfaz </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SwiftUI</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> usando el menú </font></font><code>File</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-&gt; </font></font><code>New</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-&gt; </font></font><code>Project</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y seleccionamos la plantilla </font></font><code>Single View App</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en la sección </font></font><code>iOS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/pi/bu/xu/pibuxuc4tnqd6roa_puo0-iwdpq.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Luego especifique el nombre del proyecto y el método de creación </font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SwiftUI</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/webt/mm/zy/_o/mmzy_o9znv-qwuodqzaveavzsak.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Luego, </font><font color="#0000FF"><font style="vertical-align: inherit;">especifique la</font></font><font style="vertical-align: inherit;"> ubicación </font><font color="#0000FF"><font style="vertical-align: inherit;">del</font></font><font style="vertical-align: inherit;"> proyecto y copie el archivo Modelo al nuevo proyecto </font></font><code><i>Movie.swift</i></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y colóquelo en la carpeta </font></font><code><i>Model</i></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">necesaria para la interacción con </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TMDB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> archivos </font></font><code><i>MovieStore.swift</i></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code><i>MovieStoreAPIError.swift</i></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font><code><i>MovieService.swift</i></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, en consecuencia y colocarlos en carpetas </font></font><code><i>MovieService</i></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font><code><i>Protocol</i></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/21/ni/4f/21ni4fl3gnd-j4jrehzqt7vf218.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SwiftUI</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> requería que </font></font><code></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">era </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">codificable</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , si nos vamos a llenar sus </font></font><code>JSON</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">datos y</font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Identificable</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , si queremos facilitar la visualización de la lista de películas </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[película]</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en forma de una lista de </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">una lista</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Los modelos en </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SwiftUI</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no necesitan ser </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Equatable</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hashable</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , como lo requiere </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UIKit</font></font></font> <code>API</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UITableViewDiffableDataSource</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en la </font><font style="vertical-align: inherit;">aplicación </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UIKit</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> anterior </font><font style="vertical-align: inherit;">. Por lo tanto, eliminamos de la </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estructura</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font><font color="#0000FF"><font style="vertical-align: inherit;">struct Movie</font></font><font style="vertical-align: inherit;"> todos los métodos asociados con los </font><font color="#0000FF"><font style="vertical-align: inherit;">protocolos </font></font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Equatable</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hashable</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/webt/9m/tu/zd/9mtuzdjefl-wbw3jigfpr5op5bw.png"><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">............................</font></font></b> <br><img src="https://habrastorage.org/webt/_q/uc/b2/_qucb2csrso2vfuac1cvow_ysvm.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Hay un gran artículo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">identificable</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que muestra la diferencia y las similitudes entre los </font></font><code>Swift</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">protocolos.</font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Identificable</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hashable</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Equatable</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La interfaz de usuario que crearemos con </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SwiftUI</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> se basa en el hecho de que cambiamos el </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">punto final</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> al obtener datos y obtenemos la colección de películas que necesitamos, que se presenta en forma de una lista: </font></font><br><br><img src="https://habrastorage.org/webt/o4/-k/qa/o4-kqamned7_ee6snel_57zc0ek.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">así como en el caso de </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UIKit</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , los datos se muestrean utilizando la función </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">movieAPI .fetchMovies (desde el punto final: Punto final)</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que obtiene el </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">punto final</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> deseado </font><font style="vertical-align: inherit;">y devuelve el "publicador" </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Futuro &lt;[Movie, MovieStoreAPIError]&gt;</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Si echamos un vistazo a la enumeración de </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Endpoint</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , veremos que podemos inicializar la opción deseada</font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">caso</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en la enumeración de </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Endpoint</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y, en consecuencia, la colección de películas deseada utilizando el índice de </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">índice</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/webt/ze/jb/9d/zejb9d_o2gr4m4oymkatehr2uuw.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por lo tanto, para obtener la colección de películas que necesitamos para </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">películas</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , simplemente establezca el índice </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indexEndpoint</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> correspondiente </font><font color="#0000FF"><font style="vertical-align: inherit;">de</font></font><font style="vertical-align: inherit;"> la enumeración de </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Endpoint</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Hagámoslo </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, que en nuestro caso será la clase </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MoviesViewModel</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que implementa el protocolo </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ObservableObject</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Agregue un nuevo archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MoviesViewModel.swift</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para el nuestro </font><font style="vertical-align: inherit;">en nuestro proyecto </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/w3/tx/bl/w3txblf8e8ectsgykvterljstjk.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en esta clase muy simple, tenemos dos </font><font style="vertical-align: inherit;">propiedades </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@Published</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : una </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@Published var indexEndpoint: Int</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- entrada, otras </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">películas Var publicadas: [Película]</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - salida. Una vez que ponemos </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@Published</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> propiedad frente </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indexEndpoint</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , podemos empezar a utilizarlo como una simple propiedad </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indexEndpoint</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , y como editor </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ indexEndpoint</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Al inicializar una instancia de nuestra clase </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MoviesViewModel</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tenemos que estirar la cadena de entrada "editor" </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ indexEndpoint</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de salida de tipo "editor" </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AnyPublisher &lt;[Película], para Never&gt;</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , lo que obtenemos mediante el uso de las funciones ya conocidas </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">movieAPI.fetchMovies (de: Punto final (índice : indexPoint))</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y el operador </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flatMap</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><img src="https://habrastorage.org/webt/ur/e7/y2/ure7y2ym3mkucrvj-r0ubwezc0i.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A continuación, nos "suscribimos" a este "editor" recién recibido utilizando un "suscriptor" muy simple que </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">asigna (a: \ .movies, on: self)</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y asignamos el valor recibido del "editor" a la matriz de salida de </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">películas</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Podemos aplicar la </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">evaluación de</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "suscripción" </font><font color="#0000FF"><font style="vertical-align: inherit;">(a: \ .movies, on: self)</font></font><font style="vertical-align: inherit;"> solo si el "editor" no arroja un error, es decir, tiene un TIPO de error </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nunca</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . ¿Cómo lograr esto? Usando el </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">operador replaceError (con: [])</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que reemplaza cualquier error con una matriz de </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">películas</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vacía </font><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es decir, la primera versión más simple de nuestra </font><font style="vertical-align: inherit;">aplicación </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SwiftUI</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no mostrará información sobre posibles errores al usuario.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ahora que tenemos </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para nuestras películas, comencemos a crear </font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Añadir al archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ContentView.swift</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nuestra </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">forma </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@EnvironmentObject</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> variables </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">var moviesViewModel</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y reemplazar </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">texto ( «¡Hola, mundo!»</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) En </font></font><br> <font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">el texto ( "\ (moviesViewModel.indexEndpoint)")</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que simplemente muestra el índice </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indexEndpoint</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> colección variante de película. </font></font><br><br><img src="https://habrastorage.org/webt/pr/bu/ic/prbuicibqgoshncctnfzxustbby.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De manera predeterminada, en nuestro </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">índice de colección </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indexEndpoint = 2</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , es decir, al iniciar la aplicación, deberíamos ver películas que aparecerán en la pantalla ( </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Próximamente</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font><font style="vertical-align: inherit;">en un futuro próximo </font><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/bz/ll/-g/bzll-g26ytgu4kya4dh0t5m5wjw.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">luego agregue</font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elementos para controlar qué colección de películas queremos mostrar. Este es </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stepper</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/webt/o5/4j/rg/o54jrgkra0vggnuxmzjrgrfrkkc.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... y </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Picker</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/webt/ei/ln/g6/eilng6a6zeizbtswoq5isrsbxje.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ambos usan el "editor" </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ moviesViewModel.indexEndpoint</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nuestro </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, y con uno de ellos (de todos modos, cuál) podemos seleccionar la colección de películas que necesitamos: </font></font><br><br><img src="https://habrastorage.org/webt/hb/sz/mi/hbszmixxzg4_njoodr2_p-bz3v8.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Luego agregamos la lista de películas recibidas usando </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">List</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ForEach</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y atributos mínimos película en sí misma </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">película</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/webt/no/zf/g7/nozfg7kd8ednspilzhe0ibzw9cg.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lista de películas mostradas </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">moviesViewModel.movies</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que también tomamos de las nuestras </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/6g/mi/eu/6gmieuzemvr0tjecr_ks_rpq9_w.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NO utilizamos </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> publisher </font><font color="#0000FF"><font style="vertical-align: inherit;">$ moviesViewModel.movies</font></font><font style="vertical-align: inherit;"> con el signo </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, porque no vamos a editar nada en esta lista de películas. Usamos la propiedad usual </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">moviesViewModel.movies</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Puede hacer que la lista de películas sea más interesante mostrando en cada línea de la lista el póster de la película correspondiente, </font></font><code>URL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que se presenta en la estructura de la </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">película</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/webt/wj/wc/mr/wjwcmrzdsx2g_dxzkj5tt7-cets.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tomamos esta oportunidad de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thomas Ricouard</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de su hermoso proyecto </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MovieSwiftUI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como en el caso de cargar </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">películas</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , para la imagen </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UIImage</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , tenemos el servicio </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ImageService</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que implementa </font><font style="vertical-align: inherit;">el método </font><font color="#0000FF"><font style="vertical-align: inherit;">fetchImage</font></font><font style="vertical-align: inherit;"> con </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Combine</font></font></font><font style="vertical-align: inherit;"></font><font color="#0000FF"><font style="vertical-align: inherit;"></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">devolviendo el "editor" </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AnyPublisher &lt;UIImage?, Never&gt;</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/webt/ta/rq/zi/tarqziqr1neusqhuvy3xusnbb-c.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... y la </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">clase final ImageLoader: ObservableObject</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que implementa el protocolo </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ObservableObject</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> con la </font><font color="#0000FF"><font style="vertical-align: inherit;">imagen de</font></font><font style="vertical-align: inherit;"> propiedad </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@Published </font></font></font><font style="vertical-align: inherit;"></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: UIImage?</font></font></font>  : <br><br><img src="https://habrastorage.org/webt/nm/mf/xb/nmmfxbdfrw54rbwkeghgbrbbq_i.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El único requisito que establece el protocolo </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ObservableObject</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es la existencia de la propiedad </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objectWillChange</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SwiftUI</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> usa esta propiedad para comprender que algo ha cambiado en la instancia de esta clase, y tan pronto como esto sucede, actualiza todas las </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vistas</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que dependen de la instancia de esta clase. Normalmente, el compilador crea automáticamente una propiedad </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objectWillChange</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , y todas </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">las</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> propiedades </font><font color="#0000FF"><font style="vertical-align: inherit;">@Published</font></font><font style="vertical-align: inherit;"> también lo notifican automáticamente. En el caso de algunas situaciones exóticas, puede crear manualmente un </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objectWillChange</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y notificarle los cambios. Tenemos tal caso. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En la clase </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ImageLoader</font></font></font>    <font color="#0000FF">@Published</font>  <font color="#0000FF">var image:UIImage?</font>  .           ,     <font color="#0000FF">ImageLoader</font> ,   «» <font color="#0000FF">$image</font>   «»     <font color="#0000FF">loadImage()</font> ,      <font color="#0000FF">poster</font>   <font color="#0000FF">size</font>    <font color="#0000FF">@Published</font>  <font color="#0000FF">var image:UIImage?</font>  .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notificaremos a </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objectWillChange de</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> estos cambios </font><font style="vertical-align: inherit;">. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Podemos tener muchas de esas imágenes en la tabla, lo que conlleva costos de tiempo significativos, por lo que utilizamos el almacenamiento en caché de </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">las</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> instancias </font><font style="vertical-align: inherit;">de </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">imageLoader de la</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> clase </font><font color="#0000FF"><font style="vertical-align: inherit;">ImageLoader</font></font><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/webt/bh/3z/yr/bh3zyrhhwbalksaw_78v2iotffk.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tenemos una </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vista</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> especial </font><font style="vertical-align: inherit;">para reproducir el </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">póster de la</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> película </font><font color="#0000FF"><font style="vertical-align: inherit;">MoviePosterImage</font></font><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/webt/8o/hs/bj/8ohsbjrvisd-ijjef0nbfrc3p6i.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... y la usaremos al mostrar una lista de películas en nuestro </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ContentView</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> principal </font><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/h0/xn/l9/h0xnl9hwptsp8flgpsxwq2zpf-u.png"><br><br><img src="https://habrastorage.org/webt/ew/ft/op/ewftopem4n5r0wwh_zv2xj2r07g.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El código para la </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aplicación</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> basada en </font><font color="#0000FF"><font style="vertical-align: inherit;">SwiftUI</font></font><font style="vertical-align: inherit;"> sin visualización de errores se puede encontrar en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en la carpeta </font></font><code>CombineFetchAPI-NOError</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mostrar errores de recuperación remota de películas asincrónicas. </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hasta el momento, no hemos usado ni mostrado errores que ocurran durante la selección remota asíncrona de películas desde el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sitio</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> web </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">TMDb</font></a><font style="vertical-align: inherit;"> . Aunque la función </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">movieAPI.fetchMovies (from endpoint: Endpoint) que utilizamos</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nos permite hacer esto, ya que devuelve el "editor" </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Future &lt;[Movie, MovieStoreAPIError]&gt;</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Con el fin de permitir que los errores, añadir a nuestra </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">otra </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@Published</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> propiedad </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">moviesError: MovieStoreAPIError?</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> eso representa el error. Esta es una </font><font style="vertical-align: inherit;">propiedad </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opcional</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , su valor inicial es </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nulo</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que corresponde a la ausencia de un error: </font></font><br><br><img src="https://habrastorage.org/webt/-t/em/_y/-tem_ynqrewyk3bdubok9jcb7pu.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para obtener este error </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">moviesError</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, tendremos que cambiar ligeramente la inicialización de la clase </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MoviesViewModel</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y usar un suscriptor de </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sumidero</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> más complicado </font><font style="vertical-align: inherit;">: el </font></font><br><br><img src="https://habrastorage.org/webt/7c/ie/m0/7ciem0walfc1pwbjraeqlzpwr5q.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">error </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">moviesError</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> se puede mostrar </font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">si no es </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nulo</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ... </font></font><br><br><img src="https://habrastorage.org/webt/i1/o5/ve/i1o5ve67nptlwcubxxl7ylvup5i.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usando </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AlertView</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font><font color="#0000FF"><font style="vertical-align: inherit;">Simulamos</font></font></font><br><br><img src="https://habrastorage.org/webt/kd/st/u8/kdstu80nyu1jvikbxzunxfigkks.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> este error simplemente quitando la </font></font><code>API</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">clave </font><font style="vertical-align: inherit;">correcta </font><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/f_/4i/ha/f_4ihalskxufzgz1xra_pdqxwoy.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Código para una aplicación basada en </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SwiftUI</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> con La visualización de errores se puede encontrar en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en la carpeta </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CombineFetchAPI-Error</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si inicialmente planeó no manejar los errores, puede hacerlo sin </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Future &lt;[Movie], MovieStoreAPIError&gt;</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y devolver lo habitual</font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AnyPublisher &lt;[Película], Nunca&gt;</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en el método </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fetchMoviesLight</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/webt/-v/3m/hx/-v3mhx-uwkxlzzla7iu-qgigyt0.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La ausencia de errores ( </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nunca</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) nos permite usar una </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">asignación de</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "suscriptor" muy simple </font><font color="#0000FF"><font style="vertical-align: inherit;">(a: \ .movies, on: self)</font></font><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/webt/zw/ro/up/zwroupvq_yi7shbzefyhsdj8t6e.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Todo funcionará como antes:</font></font><br><br><img src="https://habrastorage.org/webt/ux/sa/-n/uxsa-n17hh_tu7nqp_znak3oa-w.png"><br><br><h3>  Conclusión </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usar el marco </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Combinar</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para procesar una secuencia de </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">valores que</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aparecen asíncronamente en el tiempo es </font><font style="vertical-align: inherit;">muy simple y fácil. Los operadores que ofrece </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Combine</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> son potentes y flexibles. </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Combinar</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nos permite evitar escribir código asincrónico complejo utilizando la cadena ascendente de editores </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Editores</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , operadores y </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">suscriptores</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> integrados </font><font style="vertical-align: inherit;">. </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Combine se</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> construye en un nivel más bajo que </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Foundation</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , en muchos casos no necesita </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Foundation</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y tiene un rendimiento sorprendente. </font></font><br><br><img src="https://habrastorage.org/webt/eo/la/1q/eola1qc122ogmvluicy5odv9x4g.png"><br><br> <font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SwiftUI</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> también </font><font color="#0000FF"><font style="vertical-align: inherit;">está</font></font><font style="vertical-align: inherit;"> fuertemente vinculado a </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Combine</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;gracias a su </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ObservableObject</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@Binding</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@EnvironmentObject</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <code>iOS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los desarrolladores llevan mucho tiempo esperando </font></font><code>Apple</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">este tipo </font><font style="vertical-align: inherit;">de </font><font style="vertical-align: inherit;">marco oficial, y finalmente este año sucedió. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enlaces: </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Obtención de la API con el asíncrono marco del Apple Remote Combinar </font></font></a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">el intento! Swift NYC 2019 - Comenzando con Combine </font></font></a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"El último tutorial de framework Combine en Swift". </font></font></a> <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Combine: Programación asincrónica con Swift </font></font></a> <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Introducing Combine - WWDC 2019 - Videos - Apple Developer. session 722 </font></font></a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(sinopsis de la sesión 722 "Introducción a la combinación" en ruso) </font></font></a> <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Combine in Practice - WWDC 2019 - Videos - Apple Developer. sesión 721</font></font></a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Sinopsis de la sesión 721 "Uso práctico de Combine" en ruso) </font></font></a> <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SwiftUI &amp; Combine: Together is better. Por qué SwiftUI y Combine te ayudan a crear mejores aplicaciones. </font></font></a> <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MovieSwiftUI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visualice Combine Magic con SwiftUI Parte 1 () </font></font></a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visualice Combine Magic con SwiftUI - Parte 2 (Operadores, suscribirse y cancelar en Combine)</font></font></a> <br><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Visualize Combine Magic with SwiftUI Part 3 (See Combine Merge and Append in Action) <br> Visualize Combine Magic with SwiftUI — Part 4</a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Visualize Combine Magic with SwiftUI — Part 5</a> <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Getting Started With the Combine Framework in Swift</a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Transforming Operators in Swift Combine Framework: Map vs FlatMap vs SwitchToLatest</a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Combine's Future</a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Using Combine</a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">URLSession and the Combine framework</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/476678/">https://habr.com/ru/post/476678/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../476666/index.html">Biología para programadores: cómo un enfoque de ingeniería cambia el mundo</a></li>
<li><a href="../476668/index.html">Cómo hice el control de la computadora desde el teléfono</a></li>
<li><a href="../476670/index.html">Descripción general de CAD en el núcleo geométrico C3D - 2</a></li>
<li><a href="../476674/index.html">Implementación rápida de ReportPortal para familiarización</a></li>
<li><a href="../476676/index.html">48 recursos de código abierto para JavaScript (2019)</a></li>
<li><a href="../476680/index.html">El sistema de planificación de producción continua de Rodov es el Lean / MRP soviético de 1961. Despegue, puesta de sol y nuevo nacimiento</a></li>
<li><a href="../476682/index.html">Cómo escribir un zapador en Phaser y ejecutar una tarea de prueba de desarrollador HTML5</a></li>
<li><a href="../476686/index.html">Desarrollo de una puerta de enlace IoT basada en Raspberry CM3 +</a></li>
<li><a href="../476688/index.html">Nuevo curso de OTUS. "Desarrollador IOS. Curso avanzado V 2.0 »</a></li>
<li><a href="../476692/index.html">Principios de marketing de contenidos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>