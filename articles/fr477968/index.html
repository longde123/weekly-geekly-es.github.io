<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêó üê≥ üòù Falling into a Rabbit Hole: A Story about One Varnish Reboot Error - Partie 1 üß£ üßúüèø üïú</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ghostinushanka , apr√®s avoir battu les boutons pendant les 20 minutes pr√©c√©dentes, comme si sa vie en d√©pendait, se tourne vers moi avec une expressio...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Falling into a Rabbit Hole: A Story about One Varnish Reboot Error - Partie 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/477968/"><p>  <a href="https://habr.com/en/users/ghostinushanka/" class="user_link">ghostinushanka</a> , apr√®s avoir battu les boutons pendant les 20 minutes pr√©c√©dentes, comme si sa vie en d√©pendait, se tourne vers moi avec une expression √† moiti√© sauvage dans ses yeux et un sourire narquois - "Mec, je pense que je comprends." </p><br><p>  "Regardez par ici", - dit en pointant sur l'un des symboles √† l'√©cran - "Je parie sur mon chapeau rouge que si nous ajoutons ici ce que je viens de vous envoyer" - pointant sur un autre morceau de code - "l'erreur n'est plus s'affiche. " </p><br><p> Un peu perplexe et fatigu√©, je change l'expression sed sur laquelle nous travaillons depuis un certain temps, enregistre le fichier et <code>systemctl varnish reload</code> .  Le message d'erreur a disparu ... </p><br><p>  "Les mails que j'ai √©chang√©s avec le candidat", a poursuivi mon coll√®gue, tandis que son sourire se transforme en un v√©ritable sourire plein de joie, "J'ai soudain r√©alis√© que c'est exactement le m√™me probl√®me!" </p><a name="habracut"></a><br><h3 id="s-chego-ono-vsyo-nachinalos">  Comment tout a commenc√© </h3><br><p>  <em>Cet article suppose une compr√©hension du fonctionnement de bash, awk, sed et systemd.</em>  <em>La connaissance du vernis est la bienvenue mais pas obligatoire.</em> <em><br></em>  <em>Les horodatages des extraits ont √©t√© modifi√©s.</em> <em><br></em>  <em>√âcrit avec <a href="https://habr.com/en/users/ghostinushanka/" class="user_link">ghostinushanka</a> .</em> <em><br></em>  <em>Ce texte est une traduction de l'original publi√© en anglais il y a deux semaines;</em>  <em>traduction de <a href="https://habr.com/en/users/boikoden/" class="user_link">boikoden</a> .</em> </p><br><p>  Le soleil brille √† travers les fen√™tres panoramiques sur une autre chaude matin√©e d'automne, la tasse de la boisson caf√©in√©e fra√Æchement pr√©par√©e reste √† l'√©cart du clavier, la symphonie de sons pr√©f√©r√©e dans les √©couteurs, chevauchant le bruissement des claviers m√©caniques, et le titre fatidique "Enqu√™ter sur le vernis" brille de mani√®re ludique la premi√®re entr√©e de la liste des billets en attente sur le tableau kanban. sh: echo: erreur d'E / S lors de la mise en sc√®ne ¬ª(recherchez¬´ varnishreload sh: echo: erreur d'E / S ¬ªdans l'√©tape).  Lorsqu'il s'agit de vernis, il n'y a pas d'erreurs et il ne peut y avoir de place, m√™me si elles ne se traduisent par aucun probl√®me, comme dans ce cas. </p><br><p>  Pour ceux qui ne sont pas familiers avec <a href="https://github.com/varnishcache/pkg-varnish-cache/blob/weekly/systemd/varnishreload">varnishreload</a> , il s'agit d'un simple script shell utilis√© pour recharger une configuration de <a href="https://varnish-cache.org/">vernis</a> - √©galement appel√©e VCL. </p><br><p>  Comme le nom du ticket l'indique, une erreur s'est produite sur l'un des serveurs de la sc√®ne, et comme j'√©tais s√ªr que le routage du vernis sur la sc√®ne fonctionne correctement, j'ai suppos√© que ce serait une erreur mineure.  Donc, juste un message qui est entr√© dans un flux de sortie d√©j√† ferm√©.  Je prends le ticket pour moi, en toute confiance que je vais le marquer comme pr√™t en moins de 30 minutes, me tapoter l'√©paule pour nettoyer la planche de la prochaine poubelle et revenir √† des sujets plus importants. </p><br><h3 id="vrezayas-v-stenu-na-skorosti-200-kmch">  S'√©craser contre un mur √† une vitesse de 200 km / h </h3><br><p>  Apr√®s avoir ouvert le fichier <code>varnishreload</code> , sur l'un des serveurs ex√©cutant Debian Stretch, j'ai vu un script shell d'une longueur inf√©rieure √† 200 lignes. </p><br><p>  Apr√®s avoir ex√©cut√© le script, je n'ai rien remarqu√© qui pourrait entra√Æner des probl√®mes lorsqu'il a √©t√© ex√©cut√© plusieurs fois directement √† partir du terminal. </p><br><p>  Au final, c'est une √©tape, m√™me si elle casse, personne ne se plaindra, enfin ... pas trop.  J'ex√©cute le script et vois ce qui sera √©crit sur le terminal, mais je ne vois aucune erreur. </p><br><p>  Un couple de plus commence √† m'assurer que je ne peux pas reproduire l'erreur sans effort suppl√©mentaire, et je commence √† comprendre comment changer ce script et √† le faire quand m√™me donner une erreur. </p><br><p>  Un script peut-il remplacer STDOUT (en utilisant <code>&gt; &amp;-</code> )?  Ou STDERR?  Aucun des deux n'a donc fonctionn√©. </p><br><p>  De toute √©vidence, systemd modifie en quelque sorte l'environnement de d√©marrage, mais comment et pourquoi? <br>  Je coupe vim et √©dite <code>varnishreload</code> , en ajoutant <code>set -x</code> directement sous le shebang, en esp√©rant que la sortie du script de d√©bogage √©clairera un peu. </p><br><p>  Le fichier est corrig√©, donc je red√©marre le vernis et vois que le changement a tout cass√© compl√®tement ... L'√©chappement est un g√¢chis complet, dans lequel il y a des tonnes de code de type C.  M√™me le d√©filement dans le terminal ne suffit pas pour trouver o√π il commence.  Je suis compl√®tement confus.  Le mode d√©bogage peut-il affecter le travail des programmes lanc√©s dans un script?  Non, un non-sens.  Un bug dans le shell?  Plusieurs sc√©narios possibles me traversent la t√™te comme des cafards dans diff√©rentes directions.  Une tasse de boisson pleine de caf√©ine s'est vid√© instantan√©ment, un rapide voyage dans la cuisine pour reconstituer le stock et ... c'est parti.  J'ouvre le script et regarde le shebang: <code>#!/bin/sh</code> . </p><br><p>  <code>/bin/sh</code> est simplement un lien symbolique bash, donc le script est interpr√©t√© en mode compatible POSIX, non?  √áa y √©tait!  Le shell par d√©faut dans Debian est dash, et c'est exactement ce √† quoi <code>/bin/sh</code> <a href="https://wiki.debian.org/Shell">fait r√©f√©rence</a> . </p><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># ls -l /bin/sh lrwxrwxrwx 1 root root 4 Jan 24 2017 /bin/sh -&gt; dash</span></span></code> </pre> <br><p>  Pour des raisons de test, j'ai chang√© le shebang en <code>#!/bin/bash</code> , supprim√© <code>set -x</code> et r√©essay√©.  Enfin, lors du red√©marrage ult√©rieur du vernis, une erreur tol√©rable est apparue dans la sortie: </p><br><pre> <code class="bash hljs">Jan 01 12:00:00 hostname varnishreload[32604]: /usr/sbin/varnishreload: line 124: <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span>: write error: Broken pipe Jan 01 12:00:00 hostname varnishreload[32604]: VCL <span class="hljs-string"><span class="hljs-string">'reload_20190101_120000_32604'</span></span> compiled</code> </pre> <br><p>  Ligne 124, √ßa y est! </p><br><pre> <code class="bash hljs">114 <span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">find_vcl_file</span></span></span></span>() { 115 VCL_SHOW=$(varnishadm vcl.show -v <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$VCL_NAME</span></span></span><span class="hljs-string">"</span></span> 2&gt;&amp;1) || : 116 VCL_FILE=$( 117 <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$VCL_SHOW</span></span></span><span class="hljs-string">"</span></span> | 118 awk <span class="hljs-string"><span class="hljs-string">'$1 == "//" &amp;&amp; $2 == "VCL.SHOW" {print; exit}'</span></span> | { 119 <span class="hljs-comment"><span class="hljs-comment"># all this ceremony to handle blanks in FILE 120 read -r DELIM VCL_SHOW INDEX SIZE FILE 121 echo "$FILE" 122 } 123 ) || : 124 125 if [ -z "$VCL_FILE" ] 126 then 127 echo "$VCL_SHOW" &gt;&amp;2 128 fail "failed to get the VCL file name" 129 fi 130 131 echo "$VCL_FILE" 132 }</span></span></code> </pre> <br><p>  Mais il s'est av√©r√© que la ligne 124 est assez vide et ne pr√©sente aucun int√©r√™t.  Je ne pouvais que supposer que l'erreur √©tait survenue dans le cadre d'une ligne multiple commen√ßant √† la ligne 116. <br>  Qu'est-ce qui est finalement √©crit dans la variable <code>VCL_FILE</code> √† la suite de l'ex√©cution du sous-shell susmentionn√©? </p><br><p>  Au d√©but, il envoie le contenu de la variable <code>VLC_SHOW</code> cr√©√©e √† la ligne 115 √† la commande suivante via le canal.  Et que se passe-t-il alors? </p><br><p>  Tout d'abord, il utilise <code>varnishadm</code> , qui fait partie du package d'installation de vernis, pour configurer le vernis sans red√©marrer. </p><br><p>  La <code>vcl.show -v</code> utilis√©e pour sortir la configuration VCL enti√®re sp√©cifi√©e dans <code>${VCL_NAME}</code> vers STDOUT. </p><br><p>  Pour afficher la configuration VCL active actuelle, ainsi que plusieurs versions pr√©c√©dentes de configurations de routage de vernis qui sont toujours en m√©moire, vous pouvez utiliser la <code>varnishadm vcl.list</code> , dont la sortie sera similaire √† celle ci-dessous: </p><br><pre> <code class="plaintext hljs">discarded cold/busy 1 reload_20190101_120000_11903 discarded cold/busy 2 reload_20190101_120000_12068 discarded cold/busy 16 reload_20190101_120000_12259 discarded cold/busy 16 reload_20190101_120000_12299 discarded cold/busy 28 reload_20190101_120000_12357 active auto/warm 32 reload_20190101_120000_12397 available auto/warm 0 reload_20190101_120000_12587</code> </pre> <br><p>  La valeur de la variable <code>${VCL_NAME}</code> d√©finie dans une autre partie du script <code>varnishreload</code> au nom de la VCL actuellement active, le cas √©ch√©ant.  Dans ce cas, ce sera ¬´reload_20190101_120000_12397¬ª. </p><br><p>  <code>${VCL_SHOW}</code> , la variable <code>${VCL_SHOW}</code> contient la configuration compl√®te du vernis, jusqu'√† pr√©sent, c'est clair.  Maintenant, j'ai finalement compris pourquoi la sortie du tiret avec <code>set -x</code> s'est av√©r√©e si cass√©e - elle comprenait le contenu de la configuration r√©sultante. </p><br><p>  Il est important de comprendre qu'une configuration VCL compl√®te peut souvent √™tre bricol√©e √† partir de plusieurs fichiers.  Les commentaires de style C sont utilis√©s pour d√©terminer o√π certains fichiers de configuration ont √©t√© inclus dans d'autres, et c'est exactement ce que repr√©sente la ligne enti√®re d'extrait de code ci-dessous. <br>  La syntaxe des commentaires d√©crivant les fichiers inclus a le format suivant: </p><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">// VCL.SHOW &lt;NUM&gt; &lt;NUM&gt; &lt;FILENAME&gt;</span></span></code> </pre> <br><p>  Les nombres dans ce contexte ne sont pas importants, nous nous int√©ressons au nom du fichier. </p><br><p>  Que se passe-t-il donc dans le mar√©cage des √©quipes commen√ßant √† la ligne 116? <br>  Voyons cela. <br>  L'√©quipe se compose de quatre parties: </p><br><ol><li>  Un <code>echo</code> simple qui affiche la valeur de la variable <code>${VCL_SHOW}</code> <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$VCL_SHOW</span></span></span><span class="hljs-string">"</span></span></code> </pre> </li><li>  <code>awk</code> , qui recherche une ligne (enregistrement), o√π le premier champ, apr√®s avoir rompu le texte, sera ¬´//¬ª, et le second ¬´VCL.SHOW¬ª. <br>  Awk √©crira la premi√®re ligne correspondant √† ces mod√®les, puis arr√™tera imm√©diatement le traitement. <br><pre> <code class="bash hljs">awk <span class="hljs-string"><span class="hljs-string">'$1 == "//" &amp;&amp; $2 == "VCL.SHOW" {print; exit}'</span></span></code> </pre> </li><li>  Un bloc de code qui stocke dans cinq valeurs de champs variables s√©par√©es par des espaces.  La cinqui√®me variable FILE obtient le reste de la cha√Æne.  Enfin, le dernier √©cho √©crit le contenu de la variable <code>${FILE}</code> . <br><pre> <code class="bash hljs">{ <span class="hljs-built_in"><span class="hljs-built_in">read</span></span> -r DELIM VCL_SHOW INDEX SIZE FILE; <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$FILE</span></span></span><span class="hljs-string">"</span></span> }</code> </pre> </li><li>  Comme toutes les √©tapes 1 √† 3 sont enferm√©es dans un sous-shell, la sortie de la valeur <code>$FILE</code> sera √©crite dans la variable <code>VCL_FILE</code> . </li></ol><br><p>  Comme il ressort du commentaire de la ligne 119, cela sert un seul objectif: g√©rer de mani√®re fiable les cas o√π la VCL fera r√©f√©rence √† des fichiers avec des caract√®res d'espace dans le nom. </p><br><p>  J'ai comment√© la logique de traitement d'origine pour <code>${VCL_FILE}</code> et essay√© de changer la s√©quence de commandes, mais cela n'a men√© √† rien.  Tout a bien fonctionn√© pour moi, et dans le cas du d√©marrage du service, cela a donn√© une erreur. </p><br><p>  Il semble que l'erreur ne soit tout simplement pas reproductible lorsque vous ex√©cutez le script manuellement, alors que les 30 minutes attendues se sont d√©j√† termin√©es six fois et, dans l'annexe, une t√¢che plus prioritaire est apparue, repoussant le reste des cas.  Le reste de la semaine a √©t√© rempli de t√¢ches diverses et n'a √©t√© que l√©g√®rement dilu√© avec un rapport sur sed et un entretien avec le candidat.  Le probl√®me avec l' <code>varnishreload</code> √©t√© irr√©m√©diablement perdu dans les sables du temps. </p><br><h3 id="vashe-tak-nazyvaemoe-sed-fu-na-samom-dele-dryan">  Votre soi-disant sed-fu ... vraiment ... des ordures </h3><br><p>  La semaine suivante s'est av√©r√©e √™tre une journ√©e assez libre, j'ai donc d√©cid√© √† nouveau de prendre ce billet.  J'esp√©rais que dans mon cerveau, un processus d'arri√®re-plan cherchait pendant tout ce temps une solution √† ce probl√®me, et cette fois, je comprends certainement de quoi il s'agit. </p><br><p>  Depuis la derni√®re fois qu'un simple changement de code n'a pas aid√©, j'ai juste d√©cid√© de le r√©√©crire √† partir de la 116√®me ligne.  En tout cas, le code existant √©tait nul.  Et il n'est absolument pas n√©cessaire d'utiliser <code>read</code> . </p><br><p>  En regardant √† nouveau l'erreur: <br>  <code>sh: echo: broken pipe</code> - dans cette commande, l'√©cho est √† deux endroits, mais je soup√ßonne que le premier est le coupable le plus probable (enfin, ou du moins un complice).  Awk n'est pas non plus cr√©dible.  Et au cas o√π c'est vraiment <code>awk | {read; echo}</code> <code>awk | {read; echo}</code>  <code>awk | {read; echo}</code> construction entra√Æne tous ces probl√®mes, pourquoi ne pas la remplacer?  Cette commande d'une ligne n'utilise pas toutes les fonctionnalit√©s de awk, et m√™me cette <code>read</code> suppl√©mentaire dans l'appendice. </p><br><p>  Puisqu'il y avait un rapport sur <code>sed</code> la semaine derni√®re, je voulais essayer mes comp√©tences nouvellement acquises et simplifier l' <code>echo | awk | { read; echo}</code> <code>echo | awk | { read; echo}</code>  <code>echo | awk | { read; echo}</code> en un <code>echo | sed</code> plus compr√©hensible <code>echo | sed</code>  <code>echo | sed</code> .  Bien que ce ne soit certainement pas la meilleure approche pour d√©tecter une erreur, j'ai pens√© qu'au moins j'essaierais mon sed-fu et j'apprendrais peut-√™tre quelque chose de nouveau sur le probl√®me.  Dans le processus, j'ai demand√© √† mon coll√®gue, l'auteur du rapport sur sed, de m'aider √† trouver un script sed plus efficace. </p><br><p>  J'ai laiss√© tomber le contenu de <code>varnishadm vcl.show -v "$VCL_NAME"</code> dans le fichier, afin que je puisse me concentrer sur l'√©criture d'un script sed sans aucun tracas associ√© au rechargement du service. </p><br><p>  Une br√®ve description de la fa√ßon dont sed g√®re l'entr√©e peut √™tre trouv√©e dans <a href="https://www.gnu.org/software/sed/manual/sed.html">son manuel GNU</a> .  Dans les sources sed, le caract√®re <code>\n</code> est explicitement sp√©cifi√© comme s√©parateur de ligne. </p><br><p>  En plusieurs passes et avec les recommandations de mon coll√®gue, nous avons √©crit un script sed qui a donn√© le m√™me r√©sultat que la ligne source enti√®re 116. </p><br><p>  Voici un exemple de fichier d'entr√©e: </p><br><pre> <code class="bash hljs">&gt; cat vcl-example.vcl Text // VCL.SHOW 0 1578 file with 3 spaces.vcl More text // VCL.SHOW 0 1578 file.vcl Even more text // VCL.SHOW 0 1578 file with TWOspaces.vcl Final text</code> </pre> <br><p>  Cela peut ne pas √™tre √©vident √† partir de la description ci-dessus, mais nous ne sommes int√©ress√©s que par le premier commentaire <code>// VCL.SHOW</code> , et il peut y en avoir plusieurs dans l'entr√©e.  C'est pourquoi l'awk d'origine termine son travail apr√®s le premier match. </p><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#  ,      #   sed,  -    '\#'    '/',           #    ‚Äú// VCL.SHOW‚Äù,       #  -n   ,  sed     ,       (.  ) # -E      &gt; cat vcl-processor-1.sed \#// VCL.SHOW#p &gt; sed -En -f vcl-processor-1.sed vcl-example.vcl // VCL.SHOW 0 1578 file with 3 spaces.vcl // VCL.SHOW 0 1578 file.vcl // VCL.SHOW 0 1578 file with TWOspaces.vcl #  ,     #   ‚Äúsubstitute‚Äù,     ,    a #      ,    &gt; cat vcl-processor-2.sed \#// VCL.SHOW# { s#.* [0-9]+ [0-9]+ (.*)$#\1# p } &gt; sed -En -f vcl-processor-2.sed vcl-example.vcl file with 3 spaces.vcl file.vcl file with TWOspaces.vcl #  ,      #      awk,         &gt; cat vcl-processor-3.sed \#// VCL.SHOW# { s#.* [0-9]+ [0-9]+ (.*)$#\1# p q } &gt; sed -En -f vcl-processor-3.sed vcl-example.vcl file with 3 spaces.vcl #  ,    ,      &gt; sed -En -e '\#// VCL.SHOW#{s#.* [0-9]+ [0-9]+ (.*)$#\1#p;q;}' vcl-example.vcl file with 3 spaces.vcl</span></span></code> </pre> <br><p>  Ainsi, le contenu du script varnishreload ressemblera √† ceci: </p><br><pre> <code class="bash hljs">VCL_FILE=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$(echo "$VCL_SHOW" | sed -En '\#// VCL.SHOW#{s#.*[0-9]+ [0-9]+ (.*)</span></span></span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$#</span></span></span><span class="hljs-string">\1#p;q;};')"</span></span></code> </pre> <br><p>  La logique ci-dessus peut √™tre r√©sum√©e comme suit: <br>  Si la ligne correspond √† l'expression r√©guli√®re <code>// VCL.SHOW</code> , alors mangez avidement le texte qui inclut les deux nombres sur cette ligne et enregistrez tout ce qui reste apr√®s cette op√©ration.  Donnez la valeur enregistr√©e et terminez le programme. </p><br><p>  C'est simple, non? </p><br><p>  Nous avons √©t√© satisfaits du script sed et du fait qu'il remplace tout le code original.  Tous mes tests ont donn√© les r√©sultats escompt√©s, j'ai donc chang√© le ¬´varnishreload¬ª sur le serveur et ex√©cut√© √† nouveau <code>systemctl reload varnish</code> .  L' <code>echo: write error: Broken pipe</code> erreur sale <code>echo: write error: Broken pipe</code> encore ri dans nos visages.  Un curseur clignotant attendait qu'une nouvelle commande soit entr√©e dans le vide sombre du terminal ... </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr477968/">https://habr.com/ru/post/fr477968/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr477946/index.html">¬´Couvrez vos traces et partez pour le week-end¬ª: comment vous retirer des services les plus populaires</a></li>
<li><a href="../fr477950/index.html">La premi√®re r√®gle d'antifraude est de ne parler √† personne d'antifraude</a></li>
<li><a href="../fr477956/index.html">JavaScript en 3D: une introduction √† Three.js</a></li>
<li><a href="../fr477958/index.html">Top 10 des tendances du nouveau rapport High-Tech-Tech Crime Trends 2019/2020 Group-IB</a></li>
<li><a href="../fr477964/index.html">Deux mois de l'id√©e √† la premi√®re vente: l'exp√©rience de l'√©quipe Genesis</a></li>
<li><a href="../fr477974/index.html">Vivado: mode Picasso</a></li>
<li><a href="../fr477976/index.html">Visualisation et analyse de la structure de la communaut√© √† l'aide de graphiques</a></li>
<li><a href="../fr477978/index.html">O√π regarder les meilleurs prix de l'ann√©e pour les gadgets</a></li>
<li><a href="../fr478472/index.html">Biblioth√®que du noyau Linux: noyau Linux en facteur de forme so ou dll</a></li>
<li><a href="../fr478474/index.html">Le fr√®re Pablo Escobar a √©galement sorti un smartphone flexible</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>