<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¥Œ ğŸ“ ğŸ‘¨ğŸ¼â€ğŸ¨ å­¦ä¹ OpenGLã€‚ ç¬¬6.2è¯¾-åŸºäºç‰©ç†çš„æ¸²æŸ“ã€‚ åˆ†æå…‰æº ğŸ§˜ğŸ¾ ğŸ‘œ ğŸ“ª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ä¸Šä¸€è¯¾æ¦‚è¿°äº†å®ç°ç‰©ç†ä¸Šå¯è¡Œçš„æ¸²æŸ“æ¨¡å‹çš„åŸºç¡€çŸ¥è¯†ã€‚ è¿™æ¬¡ï¼Œæˆ‘ä»¬å°†åœ¨ç›´æ¥ï¼ˆåˆ†æï¼‰å…‰æºï¼ˆç‚¹å…‰æºï¼Œå®šå‘å…‰æºæˆ–æ¢ç…§ç¯ï¼‰çš„å‚ä¸ä¸‹ï¼Œä»ç†è®ºè®¡ç®—è½¬å‘ç‰¹å®šçš„æ¸²æŸ“å®ç°ã€‚ 

 ç›®å½•å†…å®¹  ç¬¬1éƒ¨åˆ†ã€‚å…¥é—¨ 



1. Opengl 
2. çª—å£åˆ›å»º 
3. ä½ å¥½çª—å£ 
4. ä½ å¥½ä¸‰è§’å½¢ 
5. ç€è‰²å™¨ 
6. è´´å›¾ 
...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>å­¦ä¹ OpenGLã€‚ ç¬¬6.2è¯¾-åŸºäºç‰©ç†çš„æ¸²æŸ“ã€‚ åˆ†æå…‰æº</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/424453/"><img src="https://habrastorage.org/web/c9e/9b2/a3b/c9e9b2a3baf749ab8e2b385c6d93d966.png" alt="OGL3" align="left" width="300"> ä¸Šä¸€è¯¾æ¦‚è¿°äº†å®ç°ç‰©ç†ä¸Šå¯è¡Œçš„æ¸²æŸ“æ¨¡å‹çš„åŸºç¡€çŸ¥è¯†ã€‚ è¿™æ¬¡ï¼Œæˆ‘ä»¬å°†åœ¨ç›´æ¥ï¼ˆåˆ†æï¼‰å…‰æºï¼ˆç‚¹å…‰æºï¼Œå®šå‘å…‰æºæˆ–æ¢ç…§ç¯ï¼‰çš„å‚ä¸ä¸‹ï¼Œä»ç†è®ºè®¡ç®—è½¬å‘ç‰¹å®šçš„æ¸²æŸ“å®ç°ã€‚ <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">ç›®å½•å†…å®¹</b> <div class="spoiler_text"> ç¬¬1éƒ¨åˆ†ã€‚å…¥é—¨ <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Opengl</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">çª—å£åˆ›å»º</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä½ å¥½çª—å£</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä½ å¥½ä¸‰è§’å½¢</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç€è‰²å™¨</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è´´å›¾</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è½¬å˜</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åæ ‡ç³»</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ‘„å½±æœº</a> </li></ol><br> ç¬¬2éƒ¨åˆ†ã€‚åŸºæœ¬ç…§æ˜ <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è‰²å½©</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç…§æ˜åŸºç¡€</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç”¨æ–™</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">çº¹ç†è´´å›¾</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å…‰æº</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¤šç§å…‰æº</a> </li></ol><br> ç¬¬3éƒ¨åˆ†ã€‚ä¸‹è½½3Dæ¨¡å‹ <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">é˜¿è¾›æ™®å›¾ä¹¦é¦†</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç½‘æ ¼å¤šè¾¹å½¢ç±»</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">3Dæ¨¡å‹ç±»</a> </li></ol><br> ç¬¬4éƒ¨åˆ†ã€‚é«˜çº§OpenGLåŠŸèƒ½ <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ·±åº¦æµ‹è¯•</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ¨¡æ¿æµ‹è¯•</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ··è‰²</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è£å‰ªé¢</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¸§ç¼“å†²</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç«‹æ–¹å¡</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å…ˆè¿›çš„æ•°æ®å¤„ç†</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">é«˜çº§GLSL</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å‡ ä½•ç€è‰²å™¨</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å®ä¾‹åŒ–</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¹³æ»‘å¤„ç†</a> </li></ol><br> ç¬¬5éƒ¨åˆ†ã€‚é«˜çº§ç…§æ˜ <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å…ˆè¿›çš„ç…§æ˜ã€‚</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Blinn-Fongæ¨¡å‹ã€‚</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¼½ç›æ ¡æ­£</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å½±å­å¡</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å…¨å‘é˜´å½±è´´å›¾</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ³•çº¿è´´å›¾</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è§†å·®æ˜ å°„</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">é«˜åŠ¨æ€èŒƒå›´</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¸ƒå¢å§†</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å»¶è¿Ÿæ¸²æŸ“</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SSAO</a> </li></ol><br> ç¬¬6éƒ¨åˆ†ã€‚PBR <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç†è®º</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åˆ†æå…‰æº</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å›½é™…åŠ³å·¥è”ç›Ÿ</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ¼«åå°„ã€‚</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å›½é™…åŠ³å·¥è”ç›Ÿ</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">é•œé¢æ›å…‰ã€‚</a> </li></ol><br></div></div><br> é¦–å…ˆï¼Œè®©æˆ‘ä»¬åˆ·æ–°ä¸Šä¸€è¯¾ä¸­ç”¨äºè®¡ç®—åå°„ç‡çš„è¡¨è¾¾å¼ï¼š <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>L</mi><mi>o</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>p</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mtext>&amp;#xA0;</mtext><mi>o</mi><mi>m</mi><mi>e</mi><mi>g</mi><msub><mi>a</mi><mi>o</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>t</mi><mtext mathcolor=&quot;red&quot;>\&amp;#x6781;</mtext><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x9650;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>O</mi><mi>m</mi><mi>e</mi><mi>g</mi><mi>a</mi></mrow></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><msub><mi>k</mi><mi>d</mi></msub><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>c</mi></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>p</mi><mi>i</mi></mrow><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>D</mi><mi>F</mi><mi>G</mi></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>4</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mtext>&amp;#xA0;</mtext><mi>o</mi><mi>m</mi><mi>e</mi><mi>g</mi><msub><mi>a</mi><mi>o</mi></msub><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>n</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mtext>&amp;#xA0;</mtext><mi>o</mi><mi>m</mi><mi>e</mi><mi>g</mi><msub><mi>a</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>n</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><msub><mi>L</mi><mi>i</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>p</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mtext>&amp;#xA0;</mtext><mi>o</mi><mi>m</mi><mi>e</mi><mi>g</mi><msub><mi>a</mi><mi>i</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mi>n</mi><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mtext>&amp;#xA0;</mtext><mi>o</mi><mi>m</mi><mi>e</mi><mi>g</mi><msub><mi>a</mi><mi>i</mi></msub><mi>d</mi><mtext>&amp;#xA0;</mtext><mi>o</mi><mi>m</mi><mi>e</mi><mi>g</mi><msub><mi>a</mi><mi>i</mi></msub></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="141.818ex" height="2.901ex" viewBox="0 -832 61060.5 1249" role="img" focusable="false" style="vertical-align: -0.969ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-4C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6F" x="963" y="-213"></use><g transform="translate(1124,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ï¼ˆ</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-70" x="1954" y="0"></use><g transform="translate(2458,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ï¼Œ</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6F" x="3538" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6D" x="4023" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-65" x="4902" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-67" x="5368" y="0"></use><g transform="translate(5849,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6F" x="748" y="-213"></use></g><g transform="translate(6822,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ï¼‰</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMAIN-3D" x="7929" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-69" x="9236" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6E" x="9581" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-74" x="10182" y="0"></use><g fill="red" stroke="red" transform="translate(10543,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">æ</text></g></g><g transform="translate(11874,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">é™</text><g transform="translate(829,-191)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-4F" x="353" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6D" x="1117" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-65" x="1995" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-67" x="2462" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-61" x="2942" y="0"></use></g></g><g transform="translate(15259,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ï¼ˆ</text></g><g transform="translate(16089,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-64" x="737" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-66" x="17330" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-72" x="17881" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-61" x="18332" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-63" x="18862" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-63" x="19295" y="0"></use><g transform="translate(19729,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-70" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-69" x="753" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMAIN-2B" x="21050" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-66" x="22301" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-72" x="22851" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-61" x="23303" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-63" x="23832" y="0"></use><g transform="translate(24266,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-44" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-46" x="828" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-47" x="1578" y="0"></use></g><g transform="translate(26630,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMAIN-34" x="0" y="0"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ï¼ˆ</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6F" x="1580" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6D" x="2065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-65" x="2944" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-67" x="3410" y="0"></use><g transform="translate(3891,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6F" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-63" x="5114" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-64" x="5547" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6F" x="6071" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-74" x="6556" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6E" x="6918" y="0"></use><g transform="translate(7518,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ï¼‰</text></g><g transform="translate(8348,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ï¼ˆ</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6F" x="9428" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6D" x="9914" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-65" x="10792" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-67" x="11259" y="0"></use><g transform="translate(11739,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-69" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-63" x="12863" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-64" x="13297" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6F" x="13820" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-74" x="14306" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6E" x="14667" y="0"></use><g transform="translate(15268,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ï¼‰</text></g></g><g transform="translate(42728,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ï¼‰</text></g><g transform="translate(43558,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-4C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-69" x="963" y="-213"></use></g><g transform="translate(44584,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ï¼ˆ</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-70" x="45414" y="0"></use><g transform="translate(45918,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ï¼Œ</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6F" x="46998" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6D" x="47483" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-65" x="48362" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-67" x="48828" y="0"></use><g transform="translate(49309,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-69" x="748" y="-213"></use></g><g transform="translate(50182,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ï¼‰</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6E" x="51012" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-63" x="51863" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-64" x="52296" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6F" x="52820" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-74" x="53305" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6F" x="53917" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6D" x="54402" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-65" x="55281" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-67" x="55747" y="0"></use><g transform="translate(56228,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-69" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-64" x="57102" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6F" x="57875" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6D" x="58361" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-65" x="59239" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-67" x="59706" y="0"></use><g transform="translate(60186,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-69" x="748" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>L</mi><mi>o</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>ï¼ˆ</mo></mrow><mi>p</mi><mrow class="MJX-TeXAtom-ORD"><mo>ï¼Œ</mo></mrow><mtext>&nbsp;</mtext><mi>o</mi><mi>m</mi><mi>e</mi><mi>g</mi><msub><mi>a</mi><mi>o</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>ï¼‰</mo></mrow><mo>=</mo><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>t</mi><mtext mathcolor="red">\æ</mtext><msub><mrow class="MJX-TeXAtom-ORD"><mo>é™</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>O</mi><mi>m</mi><mi>e</mi><mi>g</mi><mi>a</mi></mrow></msub><mrow class="MJX-TeXAtom-ORD"><mo>ï¼ˆ</mo></mrow><msub><mi>k</mi><mi>d</mi></msub><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mi>c</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>p</mi><mi>i</mi></mrow><mo>+</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mi>D</mi><mi>F</mi><mi>G</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mn>4</mn><mrow class="MJX-TeXAtom-ORD"><mo>ï¼ˆ</mo></mrow><mtext>&nbsp;</mtext><mi>o</mi><mi>m</mi><mi>e</mi><mi>g</mi><msub><mi>a</mi><mi>o</mi></msub><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>n</mi><mrow class="MJX-TeXAtom-ORD"><mo>ï¼‰</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>ï¼ˆ</mo></mrow><mtext>&nbsp;</mtext><mi>o</mi><mi>m</mi><mi>e</mi><mi>g</mi><msub><mi>a</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>n</mi><mrow class="MJX-TeXAtom-ORD"><mo>ï¼‰</mo></mrow></mrow><mrow class="MJX-TeXAtom-ORD"><mo>ï¼‰</mo></mrow><msub><mi>L</mi><mi>i</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>ï¼ˆ</mo></mrow><mi>p</mi><mrow class="MJX-TeXAtom-ORD"><mo>ï¼Œ</mo></mrow><mtext>&nbsp;</mtext><mi>o</mi><mi>m</mi><mi>e</mi><mi>g</mi><msub><mi>a</mi><mi>i</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>ï¼‰</mo></mrow><mi>n</mi><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mtext>&nbsp;</mtext><mi>o</mi><mi>m</mi><mi>e</mi><mi>g</mi><msub><mi>a</mi><mi>i</mi></msub><mi>d</mi><mtext>&nbsp;</mtext><mi>o</mi><mi>m</mi><mi>e</mi><mi>g</mi><msub><mi>a</mi><mi>i</mi></msub></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> L_oï¼ˆpï¼Œ\ omega_oï¼‰= \ int \æé™_ {\ Omega}ï¼ˆk_d \ frac {c} {\ pi} + \ frac {DFG} {4ï¼ˆ\ omega_o \ cdot nï¼‰ï¼ˆ\ omega_i \ cdot nï¼‰ }ï¼‰L_iï¼ˆpï¼Œ\ omega_iï¼‰n \ cdot \ omega_i d \ omega_i </script></p><br> åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å·²ç»å¤„ç†äº†è¯¥å…¬å¼çš„ç»„æˆéƒ¨åˆ†ï¼Œä½†é—®é¢˜ä»ç„¶æ˜¯å¦‚ä½•å…·ä½“è¡¨ç¤º<i>è¾ç…§åº¦</i> ï¼Œå³æ€»èƒ½é‡äº®åº¦ï¼ˆ <i>radiance</i> ï¼‰ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>L</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.583ex" height="2.057ex" viewBox="0 -780.1 681.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-4C" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>L</mi></math></span></span><script type="math/tex" id="MathJax-Element-2"> L </script> æ•´ä¸ªåœºæ™¯ã€‚ æˆ‘ä»¬åŒæ„èƒ½é‡çš„äº®åº¦ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>L</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.583ex" height="2.057ex" viewBox="0 -780.1 681.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-4C" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>L</mi></math></span></span><script type="math/tex" id="MathJax-Element-3"> L </script>  ï¼ˆæ ¹æ®è®¡ç®—æœºå›¾å½¢å­¦æœ¯è¯­ï¼‰è¢«è®¤ä¸ºæ˜¯è¾å°„é€šé‡çš„æ¯”å€¼ï¼ˆ <i>radiant flux</i> ï¼‰ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>p</mi><mi>h</mi><mi>i</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.891ex" height="2.419ex" viewBox="0 -780.1 1675.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-70" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-68" x="753" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-69" x="1330" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>p</mi><mi>h</mi><mi>i</mi></math></span></span><script type="math/tex" id="MathJax-Element-4"> \ phi </script>  ï¼ˆå…‰æºçš„è¾å°„èƒ½é‡ï¼‰åˆ°ç«‹ä½“è§’çš„å€¼ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>o</mi><mi>m</mi><mi>e</mi><mi>g</mi><mi>a</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.178ex" height="1.817ex" viewBox="0 -520.7 3090.5 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6F" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6D" x="735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-65" x="1614" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-67" x="2080" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-61" x="2561" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>o</mi><mi>m</mi><mi>e</mi><mi>g</mi><mi>a</mi></math></span></span><script type="math/tex" id="MathJax-Element-5"> \ omega </script>  ã€‚ åœ¨æˆ‘ä»¬çš„æƒ…å†µä¸‹ï¼Œç«‹ä½“è§’ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>o</mi><mi>m</mi><mi>e</mi><mi>g</mi><mi>a</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.178ex" height="1.817ex" viewBox="0 -520.7 3090.5 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6F" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6D" x="735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-65" x="1614" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-67" x="2080" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-61" x="2561" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>o</mi><mi>m</mi><mi>e</mi><mi>g</mi><mi>a</mi></math></span></span><script type="math/tex" id="MathJax-Element-6"> \ omega </script> æˆ‘ä»¬å°†å…¶è§†ä¸ºæ— ç©·å°ï¼Œå› æ­¤èƒ½é‡äº®åº¦ç»™å‡ºäº†æ¯æ¡å•ç‹¬å…‰çº¿ï¼ˆå…¶æ–¹å‘ï¼‰çš„è¾å°„é€šé‡çš„æ¦‚å¿µã€‚ <br><br> å¦‚ä½•å°†è¿™äº›è®¡ç®—ä¸ä¸Šä¸€è¯¾ä¸­äº†è§£çš„ç…§æ˜æ¨¡å‹è”ç³»èµ·æ¥ï¼Ÿ é¦–å…ˆï¼Œæƒ³è±¡ä¸€ä¸‹ï¼Œç»™æ‚¨ä¸€ä¸ªå•ç‚¹å…‰æºï¼ˆåœ¨æ‰€æœ‰æ–¹å‘å‡åŒ€å‘å…‰ï¼‰ï¼Œå…¶è¾å°„é€šé‡å®šä¹‰ä¸ºRGBä¸‰åˆä¸€ï¼ˆ23.47ï¼Œ21.31ï¼Œ20.79ï¼‰ã€‚ è¿™ç§æºçš„è¾å°„<i>å¼ºåº¦</i>ç­‰äºå…¶æ‰€æœ‰æ–¹å‘çš„è¾å°„é€šé‡ã€‚ ä½†æ˜¯ï¼Œè€ƒè™‘åˆ°ç¡®å®šç‰¹å®šç‚¹çš„é¢œè‰²çš„é—®é¢˜ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>p</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.259ex" height="1.817ex" viewBox="-38.5 -520.7 542 782.1" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-70" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi></math></span></span><script type="math/tex" id="MathJax-Element-7"> p </script> åœ¨è¡¨é¢ä¸Šï¼Œæ‚¨å¯ä»¥çœ‹åˆ°åŠçƒä¸­æ‰€æœ‰å¯èƒ½çš„å…‰å…¥å°„æ–¹å‘ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext mathcolor=&quot;red&quot;>\&amp;#x6B27;</mtext><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7C73;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x8304;</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.946ex" height="2.66ex" viewBox="0 -832 2990.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g fill="red" stroke="red"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">æ¬§</text></g></g><g transform="translate(1330,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ç±³</text></g><g transform="translate(2160,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">èŒ„</text></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext mathcolor="red">\æ¬§</mtext><mrow class="MJX-TeXAtom-ORD"><mo>ç±³</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>èŒ„</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-8"> \æ¬§ç±³èŒ„</script> ä»…çŸ¢é‡ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>w</mi><mi>i</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.464ex" height="1.817ex" viewBox="0 -520.7 1060.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-69" x="1013" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>w</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-9"> w_i </script> æ˜¾ç„¶å°†æ¥è‡ªå…‰æºã€‚ ç”±äºåªè¡¨ç¤ºä¸€ä¸ªå…‰æºï¼Œç”¨ç©ºé—´ä¸­çš„ä¸€ä¸ªç‚¹è¡¨ç¤ºï¼Œå› æ­¤æ‰€æœ‰å…¶ä»–å¯èƒ½çš„å…‰å…¥å°„æ–¹å‘éƒ½æŒ‡å‘ä¸€ä¸ªç‚¹ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>p</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.259ex" height="1.817ex" viewBox="-38.5 -520.7 542 782.1" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-70" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi></math></span></span><script type="math/tex" id="MathJax-Element-10"> p </script> èƒ½é‡äº®åº¦å°†ç­‰äºé›¶ï¼š <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/2w/yj/_n/2wyj_neazkcr6gnrviq43nerpz8.png"></div><br> ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬ä¸æš‚æ—¶è€ƒè™‘ç»™å®šå…‰æºçš„å…‰è¡°å‡å®šå¾‹ï¼Œé‚£ä¹ˆäº‹å®è¯æ˜ï¼Œæ— è®ºæˆ‘ä»¬å°†å…‰æºæ”¾ç½®åœ¨ä½•å¤„ï¼Œè¯¥å…‰æºçš„å…¥å°„å…‰æŸçš„èƒ½é‡äº®åº¦éƒ½ä¿æŒä¸å˜ï¼ˆåŸºäºå…¥å°„è§’çš„ä½™å¼¦çš„å…‰åº¦ç¼©æ”¾ï¼‰ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>p</mi><mi>h</mi><mi>i</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.891ex" height="2.419ex" viewBox="0 -780.1 1675.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-70" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-68" x="753" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-69" x="1330" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>p</mi><mi>h</mi><mi>i</mi></math></span></span><script type="math/tex" id="MathJax-Element-11"> \ phi </script> ä¹Ÿä¸ç®—æ•°ï¼‰ã€‚ æ€»çš„æ¥è¯´ï¼Œç‚¹å…‰æºä¸ç®¡è§†è§’å¦‚ä½•éƒ½ä¿æŒè¾å°„åŠ›æ’å®šï¼Œè¿™ç›¸å½“äºä½¿è¾å°„åŠ›ç­‰äºä¸‰å…ƒç»„å¸¸æ•°å½¢å¼çš„åˆå§‹è¾å°„é€šé‡ï¼ˆ23.47ã€21.31ã€20.79ï¼‰ã€‚ <br><br> ä½†æ˜¯ï¼Œèƒ½é‡äº®åº¦çš„è®¡ç®—ä¹ŸåŸºäºè¯¥ç‚¹çš„åæ ‡ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>p</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.259ex" height="1.817ex" viewBox="-38.5 -520.7 542 782.1" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-70" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi></math></span></span><script type="math/tex" id="MathJax-Element-12"> p </script>  ï¼Œè‡³å°‘ä»»ä½•ç‰©ç†ä¸Šå¯é çš„å…‰æºéƒ½æ˜¾ç¤ºå‡ºéšç€ä»ç‚¹åˆ°å…‰æºçš„è·ç¦»å¢åŠ ï¼Œè¾å°„åŠ›çš„è¡°å‡ã€‚ ä»å…‰åº¦çš„åŸå§‹è¡¨è¾¾å¼å¯ä»¥çœ‹å‡ºï¼Œè¿˜åº”è€ƒè™‘è¡¨é¢çš„æ–¹å‘ï¼šè¾å°„åŠ›çš„è®¡ç®—ç»“æœå¿…é¡»ä¹˜ä»¥è¡¨é¢æ³•çº¿å‘é‡çš„æ ‡é‡å€¼ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>n</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.395ex" height="1.455ex" viewBox="0 -520.7 600.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6E" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi></math></span></span><script type="math/tex" id="MathJax-Element-13"> n </script> å’Œè¾å°„å…¥å°„çŸ¢é‡ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>w</mi><mi>i</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.464ex" height="1.817ex" viewBox="0 -520.7 1060.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-69" x="1013" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>w</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-14"> w_i </script>  ã€‚ <br><br> é‡å†™ä»¥ä¸Šå†…å®¹ï¼šå¯¹äºç›´æ¥ç‚¹å…‰æºï¼Œè¾å°„åŠŸèƒ½ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>L</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.583ex" height="2.057ex" viewBox="0 -780.1 681.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-4C" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>L</mi></math></span></span><script type="math/tex" id="MathJax-Element-15"> L </script> è€ƒè™‘åˆ°è·è¯¥ç‚¹ç»™å®šè·ç¦»çš„è¡°å‡ï¼Œç¡®å®šå…¥å°„å…‰çš„é¢œè‰² <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>p</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.259ex" height="1.817ex" viewBox="-38.5 -520.7 542 782.1" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-70" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi></math></span></span><script type="math/tex" id="MathJax-Element-16"> p </script> å¹¶è€ƒè™‘åˆ°æŒ‰æ¯”ä¾‹ç¼©æ”¾ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>n</mi><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><msub><mi>w</mi><mi>i</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.629ex" height="2.419ex" viewBox="0 -780.1 3715.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-63" x="850" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-64" x="1284" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6F" x="1807" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-74" x="2293" y="0"></use><g transform="translate(2654,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-69" x="1013" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><msub><mi>w</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-17"> n \ cdot w_i </script> ä½†ä»…é€‚ç”¨äºä¸€æŸå…‰ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>w</mi><mi>i</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.464ex" height="1.817ex" viewBox="0 -520.7 1060.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-69" x="1013" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>w</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-18"> w_i </script> è¾¾åˆ°é‡ç‚¹ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>p</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.259ex" height="1.817ex" viewBox="-38.5 -520.7 542 782.1" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-70" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi></math></span></span><script type="math/tex" id="MathJax-Element-19"> p </script>  -æœ¬è´¨ä¸Šæ˜¯è¿æ¥æºå’Œç‚¹çš„å”¯ä¸€å‘é‡ã€‚ ä»¥æºä»£ç çš„å½¢å¼ï¼Œå…¶è§£é‡Šå¦‚ä¸‹ï¼š <br><br><pre><code class="cpp hljs">vec3 lightColor = vec3(<span class="hljs-number"><span class="hljs-number">23.47</span></span>, <span class="hljs-number"><span class="hljs-number">21.31</span></span>, <span class="hljs-number"><span class="hljs-number">20.79</span></span>); vec3 wi = normalize(lightPos - fragPos); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> cosTheta = max(dot(N, Wi), <span class="hljs-number"><span class="hljs-number">0.0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> attenuation = calculateAttenuation(fragPos, lightPos); vec3 radiance = lightColor * attenuation * cosTheta;</code> </pre> <br> å¦‚æœæ‚¨å¯¹ç¨å¾®ä¿®æ”¹çš„æœ¯è¯­è§†è€Œä¸è§ï¼Œé‚£ä¹ˆè¿™æ®µä»£ç åº”è¯¥ä½¿æ‚¨æƒ³èµ·æŸäº›ä¸œè¥¿ã€‚ æ˜¯çš„ï¼Œæ˜¯çš„ï¼Œè¿™äº›éƒ½æ˜¯ç”¨äºè®¡ç®—æˆ‘ä»¬å·²çŸ¥çš„ç…§æ˜æ¨¡å‹ä¸­çš„æ•£å°„åˆ†é‡çš„ç›¸åŒä»£ç ã€‚ å¯¹äºç›´æ¥ç…§æ˜ï¼Œèƒ½é‡äº®åº¦ç”±å…‰æºçš„å•ä¸ªçŸ¢é‡ç¡®å®šï¼Œå› ä¸ºè®¡ç®—çš„æ–¹å¼ä¸æˆ‘ä»¬ä»ç„¶çŸ¥é“çš„éå¸¸ç›¸ä¼¼ã€‚ <br><br><blockquote> æˆ‘æ³¨æ„åˆ°ï¼Œåªæœ‰åœ¨ç‚¹å…‰æºæ˜¯æ— ç©·å°å¹¶ç”±ç©ºé—´ä¸­çš„ç‚¹è¡¨ç¤ºçš„å‡è®¾ä¸‹ï¼Œè¿™ç§è¯´æ³•æ‰æ˜¯æ­£ç¡®çš„ã€‚ å¯¹ä½“ç§¯æºå»ºæ¨¡æ—¶ï¼Œå…¶å…‰åº¦åœ¨è®¸å¤šæ–¹å‘ä¸Šå°†ä¸åŒäºé›¶ï¼Œè€Œä¸ä»…ä»…æ˜¯åœ¨ä¸€ä¸ªå…‰æŸä¸Šã€‚ </blockquote><br> å¯¹äºä»å•ä¸ªç‚¹å‘å‡ºè¾å°„çš„å…¶ä»–å…‰æºï¼Œä»¥ç›¸åŒçš„æ–¹å¼è®¡ç®—èƒ½é‡äº®åº¦ã€‚ ä¾‹å¦‚ï¼Œå®šå‘å…‰æºçš„æ–¹å‘æ’å®š <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>w</mi><mi>i</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.464ex" height="1.817ex" viewBox="0 -520.7 1060.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-69" x="1013" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>w</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-20"> w_i </script> ä¸”ä¸ä½¿ç”¨è¡°å‡ï¼Œå¹¶ä¸”æŠ•å½±æºä¼šæ ¹æ®æºçš„æ–¹å‘æ˜¾ç¤ºå˜åŒ–çš„è¾å°„åŠŸç‡ã€‚ <br><br> è¿™é‡Œæˆ‘ä»¬è¿”å›ç§¯åˆ†çš„å€¼ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>t</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.617ex" height="1.937ex" viewBox="0 -728.2 1557.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-69" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6E" x="595" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-74" x="1196" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>t</mi></math></span></span><script type="math/tex" id="MathJax-Element-21"> \ int </script> åœ¨åŠçƒè¡¨é¢ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext mathcolor=&quot;red&quot;>\&amp;#x6B27;</mtext><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7C73;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x8304;</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.946ex" height="2.66ex" viewBox="0 -832 2990.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g fill="red" stroke="red"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">æ¬§</text></g></g><g transform="translate(1330,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ç±³</text></g><g transform="translate(2160,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">èŒ„</text></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext mathcolor="red">\æ¬§</mtext><mrow class="MJX-TeXAtom-ORD"><mo>ç±³</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>èŒ„</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-22"> \æ¬§ç±³èŒ„</script>  ã€‚ ç”±äºæˆ‘ä»¬é¢„å…ˆçŸ¥é“å‚ä¸ç‰¹å®šç‚¹é˜´å½±çš„æ‰€æœ‰å…‰æºçš„ä½ç½®ï¼Œå› æ­¤æˆ‘ä»¬æ— éœ€å°è¯•æ±‚è§£ç§¯åˆ†ã€‚ æˆ‘ä»¬å¯ä»¥ç›´æ¥è®¡ç®—æ­¤æ•°é‡çš„å…‰æºæä¾›çš„æ€»ç…§å°„ï¼Œå› ä¸ºæ¯ä¸ªå…‰æºçš„è¡¨é¢èƒ½é‡äº®åº¦å—å•ä¸ªæ–¹å‘çš„å½±å“ã€‚ <br><br> ç»“æœï¼Œç›´æ¥å…‰æºçš„PBRè®¡ç®—æ˜¯ä¸€ä»¶ç›¸å½“ç®€å•çš„äº‹æƒ…ï¼Œå› ä¸ºæ‰€æœ‰è¿™äº›éƒ½å½’ç»“ä¸ºå¯¹ç…§æ˜ä¸­æ¶‰åŠçš„å…‰æºçš„é¡ºåºæœç´¢ã€‚ ç¨åï¼Œæ¥è‡ªç¯å¢ƒçš„ç»„ä»¶å°†å‡ºç°åœ¨ç…§æ˜æ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬å°†åœ¨åŸºäºå›¾åƒçš„ç…§æ˜ï¼ˆ <i>åŸºäºå›¾åƒçš„ç…§æ˜</i> ï¼Œ <i>IBL</i> ï¼‰æ•™ç¨‹ä¸­è¿›è¡Œç ”ç©¶ã€‚ ç§¯åˆ†çš„ä¼°è®¡æ— å¯é¿å…ï¼Œå› ä¸ºè¿™ç§æ¨¡å‹ä¸­çš„å…‰ä»è®¸å¤šæ–¹å‘æ‰è½ã€‚ <br><br><h2>  PBRè¡¨é¢æ¨¡å‹ </h2><br> è®©æˆ‘ä»¬ä»å®ç°ä¸Šè¿°PBRæ¨¡å‹çš„ç‰‡æ®µç€è‰²å™¨å¼€å§‹ã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬è®¾ç½®è¡¨é¢ç€è‰²æ‰€éœ€çš„è¾“å…¥æ•°æ®ï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#version 330 core out vec4 FragColor; in vec2 TexCoords; in vec3 WorldPos; in vec3 Normal; uniform vec3 camPos; uniform vec3 albedo; uniform float metallic; uniform float roughness; uniform float ao;</span></span></code> </pre> <br> åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥çœ‹åˆ°ä½¿ç”¨æœ€ç®€å•çš„é¡¶ç‚¹ç€è‰²å™¨è®¡ç®—çš„å¸¸è§„è¾“å…¥ï¼Œä»¥åŠæè¿°å¯¹è±¡è¡¨é¢ç‰¹å¾çš„ä¸€ç»„åˆ¶æœã€‚ <br><br> æ­¤å¤–ï¼Œåœ¨ç€è‰²å™¨ä»£ç çš„æœ€å¼€å§‹ï¼Œæˆ‘ä»¬æ‰§è¡Œä»Blinn-Fongç…§æ˜æ¨¡å‹çš„å®ç°ä¸­éå¸¸ç†Ÿæ‚‰çš„è®¡ç®—ï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ vec3 N = normalize(Normal); vec3 V = normalize(camPos - WorldPos); [...] }</code> </pre> <br><h4> ç›´æ¥ç…§æ˜ </h4><br> æœ¬è¯¾ç¨‹çš„ç¤ºä¾‹ä»…åŒ…å«å››ä¸ªç‚¹å…‰æºï¼Œè¿™äº›å…‰æºæ¸…æ¥šåœ°æŒ‡å®šäº†åœºæ™¯çš„ç…§å°„ã€‚ ä¸ºäº†æ»¡è¶³åå°„ç‡çš„è¡¨ç¤ºï¼Œæˆ‘ä»¬åå¤éå†æ¯ä¸ªå…‰æºï¼Œè®¡ç®—å„ä¸ªèƒ½é‡çš„äº®åº¦å¹¶æ€»ç»“å‡ºè¿™ä¸€è´¡çŒ®ï¼ŒåŒæ—¶è°ƒåˆ¶BRDFå€¼å’Œå…‰æŸçš„å…¥å°„è§’ã€‚ æ‚¨å¯ä»¥å°†æ­¤è¿­ä»£æƒ³è±¡ä¸ºè¡¨é¢ä¸Šç§¯åˆ†çš„ä¸€ç§è§£å†³æ–¹æ¡ˆ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext mathcolor=&quot;red&quot;>\&amp;#x6B27;</mtext><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7C73;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x8304;</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.946ex" height="2.66ex" viewBox="0 -832 2990.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g fill="red" stroke="red"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">æ¬§</text></g></g><g transform="translate(1330,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ç±³</text></g><g transform="translate(2160,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">èŒ„</text></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext mathcolor="red">\æ¬§</mtext><mrow class="MJX-TeXAtom-ORD"><mo>ç±³</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>èŒ„</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-23"> \æ¬§ç±³èŒ„</script> ä»…ç”¨äºåˆ†æå…‰æºã€‚ <br><br> å› æ­¤ï¼Œæˆ‘ä»¬é¦–å…ˆè®¡ç®—æ¯ä¸ªæ¥æºçš„è®¡ç®—å€¼ï¼š <br><br><pre> <code class="cpp hljs">vec3 Lo = vec3(<span class="hljs-number"><span class="hljs-number">0.0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">4</span></span>; ++i) { vec3 L = normalize(lightPositions[i] - WorldPos); vec3 H = normalize(V + L); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> distance = length(lightPositions[i] - WorldPos); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> attenuation = <span class="hljs-number"><span class="hljs-number">1.0</span></span> / (distance * distance); vec3 radiance = lightColors[i] * attenuation; [...]</code> </pre> <br> ç”±äºè®¡ç®—æ˜¯åœ¨çº¿æ€§ç©ºé—´<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸­</a>è¿›è¡Œçš„ï¼ˆåœ¨ç€è‰²å™¨çš„æœ«ç«¯æ‰§è¡Œäº†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¼½é©¬æ ¡æ­£</a> ï¼‰ï¼Œå› æ­¤æ ¹æ®è·ç¦»çš„å¹³æ–¹åæ¯”ä½¿ç”¨äº†æ›´ç‰©ç†ä¸Šæ­£ç¡®çš„è¡°å‡å®šå¾‹ï¼š <br><br><blockquote> è®©åå¹³æ–¹å®šå¾‹åœ¨ç‰©ç†ä¸Šæ›´æ­£ç¡®ï¼Œä»¥ä¾¿æ›´å¥½åœ°æ§åˆ¶é˜»å°¼çš„æ€§è´¨ï¼Œå¾ˆæœ‰å¯èƒ½ä½¿ç”¨å·²ç»ç†Ÿæ‚‰çš„åŒ…å«å¸¸æ•°ï¼Œçº¿æ€§å’ŒäºŒæ¬¡é¡¹çš„å…¬å¼ã€‚ </blockquote><br> æ­¤å¤–ï¼Œå¯¹äºæ¯ä¸ªæ¥æºï¼Œæˆ‘ä»¬è¿˜è®¡ç®—é•œåƒCook-Torrance BRDFçš„å€¼ï¼š <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-24-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>D</mi><mi>F</mi><mi>G</mi></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>4</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mtext>&amp;#xA0;</mtext><mi>o</mi><mi>m</mi><mi>e</mi><mi>g</mi><msub><mi>a</mi><mi>o</mi></msub><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>n</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mtext>&amp;#xA0;</mtext><mi>o</mi><mi>m</mi><mi>e</mi><mi>g</mi><msub><mi>a</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>n</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="48.025ex" height="2.419ex" viewBox="0 -780.1 20677.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-63" x="1781" y="0"></use><g transform="translate(2215,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-44" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-46" x="828" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-47" x="1578" y="0"></use></g><g transform="translate(4579,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMAIN-34" x="0" y="0"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ï¼ˆ</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6F" x="1580" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6D" x="2065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-65" x="2944" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-67" x="3410" y="0"></use><g transform="translate(3891,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6F" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-63" x="5114" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-64" x="5547" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6F" x="6071" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-74" x="6556" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6E" x="6918" y="0"></use><g transform="translate(7518,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ï¼‰</text></g><g transform="translate(8348,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ï¼ˆ</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6F" x="9428" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6D" x="9914" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-65" x="10792" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-67" x="11259" y="0"></use><g transform="translate(11739,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-69" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-63" x="12863" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-64" x="13297" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6F" x="13820" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-74" x="14306" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-6E" x="14667" y="0"></use><g transform="translate(15268,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ï¼‰</text></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mi>D</mi><mi>F</mi><mi>G</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mn>4</mn><mrow class="MJX-TeXAtom-ORD"><mo>ï¼ˆ</mo></mrow><mtext>&nbsp;</mtext><mi>o</mi><mi>m</mi><mi>e</mi><mi>g</mi><msub><mi>a</mi><mi>o</mi></msub><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>n</mi><mrow class="MJX-TeXAtom-ORD"><mo>ï¼‰</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>ï¼ˆ</mo></mrow><mtext>&nbsp;</mtext><mi>o</mi><mi>m</mi><mi>e</mi><mi>g</mi><msub><mi>a</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>n</mi><mrow class="MJX-TeXAtom-ORD"><mo>ï¼‰</mo></mrow></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-24"> \ frac {DFG} {4ï¼ˆ\ omega_o \ cdot nï¼‰ï¼ˆ\ omega_i \ cdot nï¼‰} </script></p><br> ç¬¬ä¸€æ­¥æ˜¯è®¡ç®—é•œé¢åå°„ä¸æ¼«åå°„ä¹‹é—´çš„æ¯”ç‡ï¼Œæ¢å¥è¯è¯´ï¼Œè®¡ç®—åå°„å…‰é‡ä¸è¡¨é¢æŠ˜å°„çš„å…‰é‡ä¹‹é—´çš„æ¯”ç‡ã€‚ ä»<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸Šä¸€è¯¾ä¸­ï¼Œ</a>æˆ‘ä»¬çŸ¥é“è²æ¶…è€³ç³»æ•°çš„è®¡ç®—æ˜¯ä»€ä¹ˆæ ·çš„ï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">vec3 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fresnelSchlick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> cosTheta, vec3 F0)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> F0 + (<span class="hljs-number"><span class="hljs-number">1.0</span></span> - F0) * <span class="hljs-built_in"><span class="hljs-built_in">pow</span></span>(<span class="hljs-number"><span class="hljs-number">1.0</span></span> - cosTheta, <span class="hljs-number"><span class="hljs-number">5.0</span></span>); }</code> </pre> <br> è²æ¶…å°”-æ–½é‡Œå…‹ï¼ˆFresnel-Schlickï¼‰è¿‘ä¼¼å€¼åœ¨è¾“å…¥å¤„æœŸæœ›å‚æ•°<i>F0</i> ï¼Œè¯¥å‚æ•°æ˜¾ç¤ºäº†<i>é›¶å…¥å°„å…‰è§’ï¼ˆ</i>å³<i>å…¥å°„è§’ä¸º0ï¼‰æ—¶çš„è¡¨é¢åå°„ç¨‹åº¦ã€‚</i> å¦‚æœæ‚¨æ²¿æ³•çº¿ä»ä¸Šåˆ°ä¸‹çœ‹è¡¨é¢ï¼Œåˆ™åå°„åº¦ä¸º0ã€‚  <i>F0</i>çš„å€¼å› ææ–™è€Œå¼‚ï¼Œå¹¶è·å¾—é‡‘å±çš„åè‰²ï¼Œè¿™å¯ä»¥é€šè¿‡æŸ¥çœ‹PBRææ–™çš„ç›®å½•æ¥çœ‹åˆ°ã€‚ å¯¹äº<i>é‡‘å±å·¥ä½œæµç¨‹</i>è¿‡ç¨‹ï¼ˆPBRææ–™çš„åˆ›ä½œè¿‡ç¨‹ï¼Œå°†æ‰€æœ‰ææ–™åˆ†ä¸ºç”µä»‹è´¨å’Œå¯¼ä½“ç±»åˆ«ï¼‰ï¼Œå‡å®šæ‰€æœ‰ç”µä»‹è´¨åœ¨<i>F0 = 0.04</i>çš„æ’å®šå€¼ä¸‹çœ‹èµ·æ¥éƒ½ç›¸å½“å¯é ï¼Œè€Œå¯¹äºé‡‘å±è¡¨é¢ï¼Œ <i>F0</i>æ˜¯æ ¹æ®è¡¨é¢åç…§ç‡è®¾ç½®çš„ã€‚ ä»¥ä»£ç å½¢å¼ï¼š <br><br><pre> <code class="cpp hljs">vec3 F0 = vec3(<span class="hljs-number"><span class="hljs-number">0.04</span></span>); F0 = mix(F0, albedo, metallic); vec3 F = fresnelSchlick(max(dot(H, V), <span class="hljs-number"><span class="hljs-number">0.0</span></span>), F0);</code> </pre> <br> å¦‚æ‚¨æ‰€è§ï¼Œå¯¹äºä¸¥æ ¼éé‡‘å±çš„è¡¨é¢ï¼Œ <i>F0</i>è®¾ç½®ä¸ºç­‰äº0.04ã€‚ ä½†æ˜¯åŒæ—¶ï¼Œå®ƒå¯ä»¥æ ¹æ®è¡¨é¢çš„â€œé‡‘å±æ€§â€ä»æ­¤å€¼å¹³æ»‘åœ°æ”¹å˜ä¸ºåç…§ç‡å€¼ã€‚ è¯¥æŒ‡ç¤ºå™¨é€šå¸¸ä»¥å•ç‹¬çš„çº¹ç†æ˜¾ç¤ºï¼ˆå®é™…ä¸Šï¼Œä»æ­¤å¤„å¼€å§‹é‡‡ç”¨<i>é‡‘å±</i>å·¥ä½œæµç¨‹ï¼Œ <i>å¤§çº¦ä¸ºTransã€‚</i> ï¼‰ã€‚ <br><br> å·²æ”¶åˆ° <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>F</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.741ex" height="2.057ex" viewBox="0 -780.1 749.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-46" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>F</mi></math></span></span><script type="math/tex" id="MathJax-Element-25"> F </script> æˆ‘ä»¬éœ€è¦è®¡ç®—æ­£æ€åˆ†å¸ƒå‡½æ•°çš„å€¼ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.924ex" height="2.057ex" viewBox="0 -780.1 828.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-44" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>D</mi></math></span></span><script type="math/tex" id="MathJax-Element-26"> D </script> å’Œå‡ ä½•å‡½æ•° <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>G</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.827ex" height="2.057ex" viewBox="0 -780.1 786.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-47" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>G</mi></math></span></span><script type="math/tex" id="MathJax-Element-27"> G </script>  ï¼š <br><br> å…·æœ‰åˆ†æç…§æ˜çš„æƒ…å†µä¸‹çš„åŠŸèƒ½ä»£ç ï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DistributionGGX</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(vec3 N, vec3 H, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> roughness)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> a = roughness*roughness; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> a2 = a*a; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> NdotH = max(dot(N, H), <span class="hljs-number"><span class="hljs-number">0.0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> NdotH2 = NdotH*NdotH; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> num = a2; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> denom = (NdotH2 * (a2 - <span class="hljs-number"><span class="hljs-number">1.0</span></span>) + <span class="hljs-number"><span class="hljs-number">1.0</span></span>); denom = PI * denom * denom; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> num / denom; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GeometrySchlickGGX</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> NdotV, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> roughness)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> r = (roughness + <span class="hljs-number"><span class="hljs-number">1.0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> k = (r*r) / <span class="hljs-number"><span class="hljs-number">8.0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> num = NdotV; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> denom = NdotV * (<span class="hljs-number"><span class="hljs-number">1.0</span></span> - k) + k; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> num / denom; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GeometrySmith</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(vec3 N, vec3 V, vec3 L, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> roughness)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> NdotV = max(dot(N, V), <span class="hljs-number"><span class="hljs-number">0.0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> NdotL = max(dot(N, L), <span class="hljs-number"><span class="hljs-number">0.0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> ggx2 = GeometrySchlickGGX(NdotV, roughness); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> ggx1 = GeometrySchlickGGX(NdotL, roughness); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ggx1 * ggx2; }</code> </pre> <br> ä¸<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç†è®ºéƒ¨åˆ†</a>æ‰€è¿°çš„ä¸€ä¸ªé‡è¦åŒºåˆ«<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ˜¯</a> ï¼šè¿™é‡Œæˆ‘ä»¬ç›´æ¥å°†ç²—ç³™åº¦å‚æ•°ä¼ é€’ç»™æ‰€æœ‰æåˆ°çš„å‡½æ•°ã€‚ è¿™æ ·åšæ˜¯ä¸ºäº†ä½¿æ¯ä¸ªåŠŸèƒ½éƒ½èƒ½ä»¥è‡ªå·±çš„æ–¹å¼ä¿®æ”¹åŸå§‹ç²—ç³™åº¦å€¼ã€‚ ä¾‹å¦‚ï¼Œè¿ªå£«å°¼çš„ç ”ç©¶åæ˜ åœ¨Epic Gamesçš„å¼•æ“ä¸­ï¼Œè¯¥ç ”ç©¶è¡¨æ˜ï¼Œå¦‚æœæˆ‘ä»¬åœ¨å‡ ä½•å‡½æ•°å’Œæ­£æ€åˆ†å¸ƒå‡½æ•°ä¸­ä½¿ç”¨ç²—ç³™åº¦çš„å¹³æ–¹ï¼Œåˆ™ç…§æ˜æ¨¡å‹å°†åœ¨è§†è§‰ä¸Šæä¾›æ›´æ­£ç¡®çš„ç»“æœã€‚ <br><br> è®¾ç½®å®Œæ‰€æœ‰åŠŸèƒ½åï¼Œå°±å¯ä»¥ç›´æ¥è·å¾—NDFå’ŒGçš„å€¼ï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> NDF = DistributionGGX(N, H, roughness); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> G = GeometrySmith(N, V, L, roughness);</code> </pre> <br> æ€»è®¡ï¼Œæˆ‘ä»¬æ‹¥æœ‰ç”¨äºè®¡ç®—æ•´ä¸ªCook-Torrance BRDFçš„æ‰€æœ‰å€¼ï¼š <br><br><pre> <code class="cpp hljs">vec3 numerator = NDF * G * F; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> denominator = <span class="hljs-number"><span class="hljs-number">4.0</span></span> * max(dot(N, V), <span class="hljs-number"><span class="hljs-number">0.0</span></span>) * max(dot(N, L), <span class="hljs-number"><span class="hljs-number">0.0</span></span>) + <span class="hljs-number"><span class="hljs-number">0.001</span></span>; vec3 specular = numerator / denominator;</code> </pre> <br> è¯·æ³¨æ„ï¼Œåœ¨å°†æ ‡é‡ä¹˜ç§¯å½’é›¶çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†åˆ†æ¯çš„æœ€å°å€¼é™åˆ¶ä¸º0.001ï¼Œä»¥é˜²æ­¢è¢«é›¶é™¤ã€‚ <br><br> ç°åœ¨æˆ‘ä»¬å¼€å§‹è®¡ç®—æ¯ä¸ªå…‰æºå¯¹åå°„ç‡æ–¹ç¨‹çš„è´¡çŒ®ã€‚ ç”±äºè²æ¶…è€³ç³»æ•°ç›´æ¥æ˜¯ä¸€ä¸ªå˜é‡ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>K</mi><mi>s</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.976ex" height="2.419ex" viewBox="0 -780.1 1281.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-4B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-73" x="1201" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>s</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-28"> K_s </script>  ï¼Œåˆ™å¯ä»¥ä½¿ç”¨Fçš„å€¼æŒ‡ç¤ºå…‰æºå¯¹è¡¨é¢é•œé¢åå°„çš„è´¡çŒ®ã€‚ ä»æ•°é‡ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>K</mi><mi>s</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.976ex" height="2.419ex" viewBox="0 -780.1 1281.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-4B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-73" x="1201" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>s</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-29"> K_s </script> å¯ä»¥å¾—åˆ°æŠ˜å°„ç‡ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>K</mi><mi>d</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.065ex" height="2.419ex" viewBox="0 -780.1 1319.7 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-4B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMATHI-64" x="1201" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>K</mi><mi>d</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-30"> K_d </script>  ï¼š <br><br><pre> <code class="cpp hljs">vec3 kS = F; vec3 kD = vec3(<span class="hljs-number"><span class="hljs-number">1.0</span></span>) - kS; kD *= <span class="hljs-number"><span class="hljs-number">1.0</span></span> - metallic;</code> </pre> <br> ç”±äºæˆ‘ä»¬å°†ä»£è¡¨å…‰èƒ½æ•°é‡çš„é‡<i>kS</i>è§†ä¸ºåå°„è¡¨é¢ï¼Œå› æ­¤å°†å…¶å‡å»1ï¼Œå°±å¯ä»¥å¾—åˆ°è¢«è¡¨é¢æŠ˜å°„çš„å…‰<i>kD</i>çš„å‰©ä½™èƒ½é‡ã€‚ å¦å¤–ï¼Œç”±äºé‡‘å±ä¸ä½¿å…‰æŠ˜å°„å¹¶ä¸”ä¸å…·æœ‰å†å‘å°„çš„å…‰çš„æ‰©æ•£åˆ†é‡ï¼Œå› æ­¤å¯¹äºå…¨é‡‘å±ææ–™ï¼Œå°†åˆ†é‡<i>kD</i>è°ƒåˆ¶ä¸ºé›¶ã€‚ ç»è¿‡è¿™äº›è®¡ç®—ä¹‹åï¼Œæˆ‘ä»¬å°†æ‹¥æœ‰æ‰€æœ‰å¯ç”¨æ•°æ®ï¼Œä»¥è®¡ç®—æ¯ä¸ªå…‰æºæä¾›çš„åå°„ç‡ï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> PI = <span class="hljs-number"><span class="hljs-number">3.14159265359</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> NdotL = max(dot(N, L), <span class="hljs-number"><span class="hljs-number">0.0</span></span>); Lo += (kD * albedo / PI + specular) * radiance * NdotL; }</code> </pre> <br> æœ€ç»ˆå€¼<i>Lo</i>æˆ–è¾“å‡ºèƒ½é‡äº®åº¦æœ¬è´¨ä¸Šæ˜¯åå°„ç‡è¡¨ç¤ºçš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œå³ è¡¨é¢æ•´åˆç»“æœ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext mathcolor=&quot;red&quot;>\&amp;#x6B27;</mtext><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7C73;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x8304;</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.946ex" height="2.66ex" viewBox="0 -832 2990.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g fill="red" stroke="red"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/424453/&amp;usg=ALkJrhj1HWsKTbvSY1nq2vo1RBA17P7wzw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">æ¬§</text></g></g><g transform="translate(1330,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ç±³</text></g><g transform="translate(2160,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">èŒ„</text></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext mathcolor="red">\æ¬§</mtext><mrow class="MJX-TeXAtom-ORD"><mo>ç±³</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>èŒ„</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-31"> \æ¬§ç±³èŒ„</script>  ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ— éœ€å°è¯•é’ˆå¯¹æ‰€æœ‰å¯èƒ½çš„æ–¹å‘ä»¥ä¸€èˆ¬å½¢å¼æ±‚è§£ç§¯åˆ†ï¼Œå› ä¸ºåœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œåªæœ‰å››ä¸ªå…‰æºä¼šå½±å“æ­£åœ¨å¤„ç†çš„ç‰‡æ®µã€‚ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ‰€æœ‰â€œé›†æˆâ€éƒ½é™äºç°æœ‰å…‰æºçš„ç®€å•å¾ªç¯ã€‚ <br><br> ä»…éœ€å°†èƒŒæ™¯ç…§æ˜ç»„ä»¶çš„ç›¸ä¼¼æ€§æ·»åŠ åˆ°ç›´æ¥å…‰æºçš„è®¡ç®—ç»“æœä¸­ï¼Œå¹¶ä¸”ç‰‡æ®µçš„æœ€ç»ˆé¢œè‰²å·²å‡†å¤‡å°±ç»ªï¼š <br><br><pre> <code class="cpp hljs">vec3 ambient = vec3(<span class="hljs-number"><span class="hljs-number">0.03</span></span>) * albedo * ao; vec3 color = ambient + Lo;</code> </pre> <br><h4> çº¿æ€§æ¸²æŸ“å’ŒHDR </h4><br> åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å‡è®¾æ‰€æœ‰è®¡ç®—éƒ½æ˜¯åœ¨çº¿æ€§è‰²å½©ç©ºé—´ä¸­è¿›è¡Œçš„ï¼Œå› æ­¤å°†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¼½ç›æ ¡æ­£</a>ç”¨ä½œç€è‰²å™¨ä¸­çš„æœ€ç»ˆå’Œå¼¦ã€‚ åœ¨çº¿æ€§ç©ºé—´ä¸­è¿›è¡Œè®¡ç®—å¯¹äºæ­£ç¡®æ¨¡æ‹ŸPBRæä¸ºé‡è¦ï¼Œå› ä¸ºè¯¥æ¨¡å‹è¦æ±‚æ‰€æœ‰è¾“å…¥æ•°æ®éƒ½å…·æœ‰çº¿æ€§ã€‚ å°½é‡ä¸è¦ç¡®ä¿ä»»ä½•å‚æ•°çš„çº¿æ€§åº¦ï¼Œå¦åˆ™é®å…‰æ•ˆæœå°†ä¸æ­£ç¡®ã€‚ å¦å¤–ï¼Œæœ€å¥½å°†å…‰æºçš„ç‰¹æ€§è®¾ç½®ä¸ºæ¥è¿‘çœŸå®å…‰æºï¼šä¾‹å¦‚ï¼Œå…¶è¾å°„çš„é¢œè‰²å’Œèƒ½é‡äº®åº¦å¯ä»¥åœ¨å¾ˆå¤§çš„èŒƒå›´å†…è‡ªç”±å˜åŒ–ã€‚ ç»“æœï¼Œ <i>Lo</i>å¯ä»¥å¾ˆå®¹æ˜“åœ°æ¥å—è¾ƒå¤§çš„å€¼ï¼Œä½†æ˜¯ç”±äºé»˜è®¤å¸§ç¼“å†²åŒºçš„ä½åŠ¨æ€èŒƒå›´ï¼ˆ <i>LDR</i> ï¼‰ï¼Œä¸å¯é¿å…åœ°è½åœ¨é—´éš”[0.ï¼Œ1.]çš„æˆªæ­¢èŒƒå›´å†…ã€‚ <br><br> ä¸ºäº†é¿å…HDRå€¼ä¸¢å¤±ï¼Œåœ¨è¿›è¡Œä¼½ç›æ ¡æ­£ä¹‹å‰ï¼Œå¿…é¡»è¿›è¡Œè‰²è°ƒå‹ç¼©ï¼š <br><br><pre> <code class="cpp hljs">color = color / (color + vec3(<span class="hljs-number"><span class="hljs-number">1.0</span></span>)); color = <span class="hljs-built_in"><span class="hljs-built_in">pow</span></span>(color, vec3(<span class="hljs-number"><span class="hljs-number">1.0</span></span>/<span class="hljs-number"><span class="hljs-number">2.2</span></span>));</code> </pre> <br> è¿™é‡Œä½¿ç”¨äº†ç†Ÿæ‚‰çš„Reinhardtç®—å­ï¼Œå®ƒä½¿æˆ‘ä»¬èƒ½å¤Ÿåœ¨å¤§å¤§æ”¹å˜å›¾åƒä¸åŒéƒ¨åˆ†çš„è¾å°„çš„æ¡ä»¶ä¸‹ä¿æŒå®½å¹¿çš„åŠ¨æ€èŒƒå›´ã€‚ ç”±äºè¿™é‡Œæˆ‘ä»¬ä¸ä½¿ç”¨å•ç‹¬çš„ç€è‰²å™¨è¿›è¡ŒåæœŸå¤„ç†ï¼Œå› æ­¤å¯ä»¥å°†æ‰€æè¿°çš„æ“ä½œç®€å•åœ°æ·»åŠ åˆ°ç€è‰²å™¨ä»£ç çš„æœ«å°¾ã€‚ <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yq/fq/um/yqfqumstgmvnr5vego8grz9tfby.png"></div><br> æˆ‘é‡å¤ä¸€éï¼Œå¯¹äºæ­£ç¡®çš„PBRå»ºæ¨¡ï¼Œè®°ä½å¹¶è€ƒè™‘ä½¿ç”¨çº¿æ€§è‰²å½©ç©ºé—´å’ŒHDRæ¸²æŸ“çš„åŠŸèƒ½éå¸¸é‡è¦ã€‚ å¿½ç•¥è¿™äº›æ–¹é¢å°†å¯¼è‡´é”™è¯¯çš„è®¡ç®—å’Œè§†è§‰ä¸Šä¸ç¾è§‚çš„ç»“æœã€‚ <br><br><h4> ç”¨äºåˆ†æç…§æ˜çš„PBRç€è‰²å™¨ </h4><br> å› æ­¤ï¼Œè¿åŒè‰²è°ƒå‹ç¼©å’Œä¼½é©¬æ ¡æ­£å½¢å¼çš„æœ€ç»ˆæ¥è§¦ï¼Œä»…ä¿ç•™å°†ç‰‡æ®µçš„æœ€ç»ˆé¢œè‰²ä¼ è¾“åˆ°ç‰‡æ®µç€è‰²å™¨çš„è¾“å‡ºï¼Œå¹¶ä¸”å¯ä»¥è®¤ä¸ºç”¨äºç›´æ¥ç…§æ˜çš„PBRç€è‰²å™¨ä»£ç å·²å®Œæˆã€‚ æœ€åï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹æ­¤ç€è‰²å™¨çš„<i>mainï¼ˆï¼‰</i>å‡½æ•°çš„æ•´ä¸ªä»£ç ï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#version 330 core out vec4 FragColor; in vec2 TexCoords; in vec3 WorldPos; in vec3 Normal; </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//   uniform vec3 albedo; uniform float metallic; uniform float roughness; uniform float ao; //   uniform vec3 lightPositions[4]; uniform vec3 lightColors[4]; uniform vec3 camPos; const float PI = 3.14159265359; float DistributionGGX(vec3 N, vec3 H, float roughness); float GeometrySchlickGGX(float NdotV, float roughness); float GeometrySmith(vec3 N, vec3 V, vec3 L, float roughness); vec3 fresnelSchlickRoughness(float cosTheta, vec3 F0, float roughness); void main() { vec3 N = normalize(Normal); vec3 V = normalize(camPos - WorldPos); vec3 F0 = vec3(0.04); F0 = mix(F0, albedo, metallic); //    vec3 Lo = vec3(0.0); for(int i = 0; i &lt; 4; ++i) { //        vec3 L = normalize(lightPositions[i] - WorldPos); vec3 H = normalize(V + L); float distance = length(lightPositions[i] - WorldPos); float attenuation = 1.0 / (distance * distance); vec3 radiance = lightColors[i] * attenuation; // Cook-Torrance BRDF float NDF = DistributionGGX(N, H, roughness); float G = GeometrySmith(N, V, L, roughness); vec3 F = fresnelSchlick(max(dot(H, V), 0.0), F0); vec3 kS = F; vec3 kD = vec3(1.0) - kS; kD *= 1.0 - metallic; vec3 numerator = NDF * G * F; float denominator = 4.0 * max(dot(N, V), 0.0) * max(dot(N, L), 0.0); vec3 specular = numerator / max(denominator, 0.001); //       Lo float NdotL = max(dot(N, L), 0.0); Lo += (kD * albedo / PI + specular) * radiance * NdotL; } vec3 ambient = vec3(0.03) * albedo * ao; vec3 color = ambient + Lo; color = color / (color + vec3(1.0)); color = pow(color, vec3(1.0/2.2)); FragColor = vec4(color, 1.0); }</span></span></span></span></code> </pre> <br> æˆ‘å¸Œæœ›åœ¨é˜…è¯»<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç†è®ºéƒ¨åˆ†</a>å¹¶é€šè¿‡ä»Šå¤©å¯¹åå°„èƒ½åŠ›è¡¨è¾¾çš„åˆ†æåï¼Œè¯¥åˆ—è¡¨ä¸å†æ˜¾å¾—ä»¤äººç”Ÿç•ã€‚ <br><br> æˆ‘ä»¬åœ¨åŒ…å«å››ä¸ªç‚¹å…‰æºçš„åœºæ™¯ä¸­ä½¿ç”¨æ­¤ç€è‰²å™¨ï¼Œä¸€å®šæ•°é‡çš„çƒçš„è¡¨é¢ç‰¹æ€§å°†åˆ†åˆ«æ²¿æ°´å¹³è½´å’Œå‚ç›´è½´æ›´æ”¹å…¶ç²—ç³™åº¦å’Œé‡‘å±åº¦ã€‚ åœ¨è¾“å‡ºä¸­ï¼Œæˆ‘ä»¬å¾—åˆ°ä»¥ä¸‹å›¾ç‰‡ï¼š <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mq/hn/sq/mqhnsqjmfli43gtcnbzzlfglcfa.png"></div><br> é‡‘å±æ€§ä»é›¶åˆ°é¡¶éƒ¨ä»é›¶åˆ°ä¸€å˜åŒ–ï¼Œç²—ç³™åº¦ç›¸ä¼¼ï¼Œä½†ä»å·¦åˆ°å³ã€‚ æ˜¾è€Œæ˜“è§çš„æ˜¯ï¼Œä»…æ”¹å˜è¿™ä¸¤ä¸ªè¡¨é¢ç‰¹æ€§å°±å·²ç»å¯ä»¥è®¾ç½®å„ç§å„æ ·çš„ææ–™ã€‚ <br><br> å®Œæ•´çš„æºä»£ç åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è¿™é‡Œ</a> ã€‚ <br><br><h2>  PBRå’Œçº¹ç† </h2><br> æˆ‘ä»¬å°†é€šè¿‡ä¼ é€’çº¹ç†å½¢å¼çš„ç‰¹å¾æ¥æ‰©å±•è¡¨é¢æ¨¡å‹ã€‚ é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥æä¾›è¡¨é¢ææ–™å‚æ•°çš„æ¯ç‰‡æ®µæ§åˆ¶ï¼š <br><br><pre> <code class="cpp hljs">[...] uniform sampler2D albedoMap; uniform sampler2D normalMap; uniform sampler2D metallicMap; uniform sampler2D roughnessMap; uniform sampler2D aoMap; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ vec3 albedo = <span class="hljs-built_in"><span class="hljs-built_in">pow</span></span>(texture(albedoMap, TexCoords).rgb, <span class="hljs-number"><span class="hljs-number">2.2</span></span>); vec3 normal = getNormalFromNormalMap(); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> metallic = texture(metallicMap, TexCoords).r; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> roughness = texture(roughnessMap, TexCoords).r; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> ao = texture(aoMap, TexCoords).r; [...] }</code> </pre> <br> è¯·æ³¨æ„ï¼Œè¡¨é¢åç…§ç‡çº¹ç†é€šå¸¸æ˜¯ç”±è‰ºæœ¯å®¶åœ¨sRGBé¢œè‰²ç©ºé—´ä¸­åˆ›å»ºçš„ï¼Œå› æ­¤åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å°†texelé¢œè‰²è¿”å›åˆ°çº¿æ€§ç©ºé—´ï¼Œä»¥ä¾¿å¯ä»¥å°†å…¶ç”¨äºè¿›ä¸€æ­¥çš„è®¡ç®—ä¸­ã€‚ æ ¹æ®ç¾æœ¯å¸ˆå¦‚ä½•åˆ›å»ºåŒ…å«<i>ç¯å¢ƒå…‰é®æŒ¡è´´å›¾</i>æ•°æ®çš„çº¹ç†ï¼Œå¯èƒ½è¿˜å¿…é¡»å°†å…¶å¸¦å…¥çº¿æ€§ç©ºé—´ã€‚ é‡‘å±æ€§å’Œç²—ç³™åº¦å›¾å‡ ä¹æ€»æ˜¯åœ¨çº¿æ€§ç©ºé—´ä¸­åˆ›å»ºçš„ã€‚ <br><br> ä¸å…ˆå‰ä½¿ç”¨çš„ç…§æ˜ç®—æ³•ç›¸æ¯”ï¼Œç»“åˆä½¿ç”¨çº¹ç†è€Œä¸æ˜¯å›ºå®šçš„è¡¨é¢å‚æ•°ä¸PBRç®—æ³•å¯ä»¥æ˜¾ç€æé«˜è§†è§‰å¯é æ€§ï¼š <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kw/vb/6y/kwvb6y_cnms7xxs1donnvr5ktxc.png"></div><br> å®Œæ•´çš„çº¹ç†ç¤ºä¾‹ä»£ç åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ­¤å¤„</a> ï¼Œä½¿ç”¨çš„çº¹ç†åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ­¤å¤„</a> ï¼ˆä»¥åŠèƒŒæ™¯é˜´å½±çº¹ç†ï¼‰ã€‚ æˆ‘æè¯·æ‚¨æ³¨æ„ä»¥ä¸‹äº‹å®ï¼šå¼ºé‡‘å±è¡¨é¢åœ¨ç›´æ¥ç…§æ˜æ¡ä»¶ä¸‹ä¼šå˜æš—ï¼Œå› ä¸ºæ¼«åå°„çš„è´¡çŒ®å¾ˆå°ï¼ˆåœ¨æé™èŒƒå›´å†…æ ¹æœ¬æ²¡æœ‰ï¼‰ã€‚ ä»…å½“è€ƒè™‘åˆ°ç¯å¢ƒå…‰çš„é•œé¢åå°„æ—¶ï¼Œå®ƒä»¬çš„é˜´å½±æ‰ä¼šå˜å¾—æ›´æ­£ç¡®ï¼Œè¿™å°†åœ¨ä¸‹ä¸€è¯¾ä¸­è¿›è¡Œã€‚ <br><br> ç›®å‰ï¼Œç»“æœå¯èƒ½ä¸åƒæŸäº›PBRæ¼”ç¤ºé‚£æ ·ä»¤äººå°è±¡æ·±åˆ»-ä½†æˆ‘ä»¬å°šæœªå®ç°åŸºäºå›¾åƒçš„ç…§æ˜ç³»ç»Ÿï¼ˆ <i>IBL</i> ï¼‰ã€‚ å°½ç®¡å¦‚æ­¤ï¼Œç°åœ¨æˆ‘ä»¬çš„æ¸²æŸ“è¿˜æ˜¯åŸºäºç‰©ç†åŸç†æ¥è€ƒè™‘çš„ï¼Œå³ä½¿æ²¡æœ‰IBLï¼Œå®ƒçš„å›¾åƒä¹Ÿæ¯”ä»¥å‰æ›´å¯é ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN424453/">https://habr.com/ru/post/zh-CN424453/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN424437/index.html">æ¦†æ ‘ èˆ’é€‚è€Œç¬¨æ‹™ã€‚ Json.Encoderå’ŒJson.Decoder</a></li>
<li><a href="../zh-CN424441/index.html">SQL Server 2019çš„ç¬¬ä¸€ä¸ªCTPä¸­çš„æ–°å¢åŠŸèƒ½</a></li>
<li><a href="../zh-CN424443/index.html">Vivaldi 2.0å¯¹æˆ‘ä»¬æœ‰åˆ©</a></li>
<li><a href="../zh-CN424445/index.html">å°¼å°”Â·ç¦ç‰¹ï¼ˆNeil Fordï¼‰å°†å¾®æœåŠ¡ç¿»è¯‘ä¸ºè¿›åŒ–æ¶æ„</a></li>
<li><a href="../zh-CN424447/index.html">Lispç”¨Pascalæˆ–8501stç¼–ç¨‹è¯­è¨€è°ƒå‘³</a></li>
<li><a href="../zh-CN424455/index.html">è‹±ç‰¹å°”å‚²è…¾-ç°åœ¨1.5 TB</a></li>
<li><a href="../zh-CN424457/index.html">å‡çº§IDA Proã€‚ å­¦ä¹ ç”¨Pythonç¼–å†™å¼•å¯¼åŠ è½½ç¨‹åº</a></li>
<li><a href="../zh-CN424459/index.html">æˆåŠŸæ¡ˆä¾‹ï¼Œæˆ–DEV + DEVOPS + OPS</a></li>
<li><a href="../zh-CN424461/index.html">ä¸ºä»€ä¹ˆè¦å­¦ä¹ ä¸å—æ¬¢è¿çš„è¯­è¨€ã€‚ ç¤¾åŒºç¤ºä¾‹Fï¼ƒ</a></li>
<li><a href="../zh-CN424463/index.html">ç¡®å®šæ€§å¦‚ä½•å½±å“ä»˜æ¬¾</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>