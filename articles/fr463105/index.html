<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📁 👩🏾‍⚖️ 😞 Mon quatrième jour avec Haiku: problèmes d'installation et de démarrage 👨🏿‍⚕️ 👨🏼‍🏫 🥩</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="TL; DR: Après quelques jours d'expérimentation avec Haiku, j'ai décidé de le mettre sur un SSD séparé. Mais tout s'est avéré pas si difficile. 



 Ha...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mon quatrième jour avec Haiku: problèmes d'installation et de démarrage</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/463105/"><p><img src="https://habrastorage.org/webt/bl/gy/p4/blgyp4dfid32no07rajo8cjkyo8.jpeg"></p><br><p>  <strong>TL; DR:</strong> Après quelques jours d'expérimentation avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Haiku,</a> j'ai décidé de le mettre sur un SSD séparé.  Mais tout s'est avéré pas si difficile. </p><a name="habracut"></a><br><p><img src="https://habrastorage.org/webt/3d/fi/os/3dfiostzjqnzjzlnub4nfinwj-a.jpeg"><br>  <em>Haiku chargement test en cours.</em> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Il y a trois jours,</a> j'ai découvert Haiku, un système d'exploitation PC étonnamment bon.  C'est le quatrième jour et je voulais faire plus de «vrai travail» avec ce système, et la section dans l'image Anyboot est trop petite pour cela.  Ensuite, je prends un tout nouveau SSD de 120 Go, je me prépare pour le bon fonctionnement de l'installateur ... Et une déception m'attend! </p><br><p>  L'installation et le téléchargement reçoivent généralement plus d'attention et d'amour, car ce sont les premières et les plus importantes impressions.  Il est à espérer que le protocole de mon expérience "novice" s'avérera utile à l'équipe de développement de Haiku dans ses efforts continus pour déboguer un système d'exploitation qui "fonctionne tout simplement".  Je prends toutes les erreurs sur moi! <br>  Il me semble que la situation du téléchargement via USB sera particulièrement importante, car tous les utilisateurs ne sont pas prêts à utiliser le lecteur SATA principal (je suis déjà silencieux sur NVME ...) pour des expériences avec un système d'exploitation totalement inconnu.  Il me semble que le téléchargement via USB est le scénario le plus probable pour la plupart des utilisateurs qui décident d'essayer Haiku sur du vrai matériel.  Les développeurs devraient y réfléchir sérieusement. </p><br><p>  Commentaire du développeur: </p><br><blockquote>  Nous venons de commencer à prendre en charge EFI en écrivant rapidement une version bêta qui se charge sur les machines avec prise en charge EFI.  Les résultats obtenus sont encore loin du niveau de soutien souhaité.  Je ne sais pas si nous devons documenter le travail en cours, ou simplement nous concentrer sur la réalisation du bon résultat, après quoi tout sera documenté. </blockquote><p>  Cela semble significatif et nous espérons qu'à la fin, tout ira bien mieux que maintenant.  Jusqu'à présent, je ne peux que vérifier ce qui a été fait pour aujourd'hui.  Commençons ... </p><br><h2 id="obraz-anyboot-slishkom-malenkiy">  L'image Anyboot est trop petite </h2><br><p>  Malgré le fait que l'image Anyboot soit étonnamment facile à écrire sur un lecteur flash ordinaire, elle n'a pas assez d'espace sur la partition Haiku pour installer des logiciels supplémentaires. </p><br><p><img src="https://habrastorage.org/webt/ra/g6/-j/rag6-ji_you2id8xsys7lclsqf4.gif"><br>  <em>L'écriture d'une image Anyboot sur une clé USB est, en principe, assez simple, mais en conséquence, il n'y a pas assez d'espace pour un vrai travail.</em> </p><br><p>  <strong>Solution rapide: augmentez la taille de la partition Haiku par défaut.</strong> </p><br><p>  Donc, pour un vrai travail avec Haiku, vous devez toujours l'installer à l'aide de l'application Installer. </p><br><h2 id="installer-ne-delaet-vse-neobhodimoe-v-odnom-meste">  L'installateur ne fait pas tout ce dont vous avez besoin au même endroit </h2><br><p>  Vous vous souvenez du grand programme d'installation de Mac OS X? </p><br><p><img src="https://habrastorage.org/webt/hr/kr/uv/hrkruvtbaectfz5qs-ebrmjpyf4.png"><br>  <em>Programme d'installation de Mac OS X 10.2</em> </p><br><p>  Il: </p><br><ul><li>  initialise les disques (écrit GPT, table de partition GUID) </li><li>  crée des partitions (EFI, primaire) en utilisant le "bon sens" (pour la meilleure utilisation du lecteur) </li><li>  marque la partition de démarrage (définit l'indicateur de démarrage sur elle) </li><li>  copie les fichiers </li></ul><br><p>  En d'autres termes, il fait «tout» sans trop de bruit pour l'utilisateur. </p><br><p>  D'autre part, il y a Installer pour Haiku, qui copie simplement des fichiers et donne à l'utilisateur tout le reste, trop lourd, que même si vous avez de l'expérience, vous ne comprendrez pas immédiatement.  Surtout si vous avez besoin d'un système qui démarre sur les deux systèmes avec BIOS et EFI. </p><br><h3 id="chto-zhe-mne-delat">  Que dois-je faire? </h3><br><p>  Je ne dirai pas avec certitude, mais, en tout cas, je suppose ceci: </p><br><ol><li>  Ouvrez DriveSetup </li><li>  Sélectionnez un appareil à installer </li><li>  Drive-&gt; Initialize-&gt; GUID Partition Map ...-&gt; Continue-&gt; Save Changes-&gt; OK </li><li>  Faites un clic droit sur un espace vide sur l'appareil où le système sera installé </li><li>  Créer ...-&gt; J'entre 256 comme taille-&gt; Données du système EFI (pas complètement sûr) -&gt; Écrire les modifications </li><li>  Faites un clic droit sur "Données système EFI" sur l'appareil sur lequel le système sera installé </li><li>  Initialize-&gt; FAT32 File System ...-&gt; Continue-&gt; I enter the name: "EFI", the capacity of FAT: 32-&gt; Format-&gt; Write changes </li><li>  Je répète le clic droit sur une place vide sur l'appareil souhaité </li><li>  Créer ...-&gt; J'entre le nom de la section: Haiku, le type de section: Be File System-&gt; Create-&gt; Write changes </li><li>  Clic droit sur EFI-&gt; Connect </li><li>  Je lance Installer-&gt; confus par technosleng-&gt; Continuer-&gt; Sur le disque: Haiku (assurez-vous que c'est la même section que j'ai créée auparavant) -&gt; Installer </li><li>  Dans le gestionnaire de fichiers, je copie le répertoire EFI du système actuel vers la partition EFI (je pense que cela est nécessaire pour démarrer à partir d'EFI) </li><li>  [env.  traducteur: a supprimé cet élément de la traduction;  en bref - l'auteur n'a pas tout à fait maîtrisé la création d'un système hybride pour charger à la fois EFI et BIOS] </li><li>  éteindre </li><li>  Je connecte le disque nouvellement créé au port à partir duquel le système démarrera exactement [étrange, je n'ai pas eu à le faire.  - env.  traducteur] </li><li>  allumer </li></ol><br><p>  Il me semble qu'il est clairement visible: nous avons besoin d'un outil qui fait tout au simple toucher d'un bouton, avec une confirmation en temps opportun (!) Que vous pouvez essuyer l'appareil. </p><br><p>  <strong>Une solution «rapide»: faire un installateur automagique qui fait tout.</strong> </p><br><p>  Eh bien, même si ce n'est pas «rapide», alors décent.  Ce sont les premières impressions du nouveau système.  S'il ne s'installe pas (et je l'ai eu plusieurs fois), beaucoup partiront tout simplement tranquillement pour toujours. </p><br><p>  Explication technique de DriveSetup selon <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PulkoMandy</a> </p><br><blockquote>  BootManager enregistre un menu de démarrage à part entière, y compris la possibilité de démarrer plusieurs systèmes à partir d'un disque, pour cela, il n'a besoin que d'environ 2 Ko au début du disque.  Cela convient aux anciens schémas de partitionnement de disque, mais pas au GPT, qui utilise les mêmes secteurs pour la table de partition.  D'un autre côté, writembr écrit un code très simplifié sur le disque, qui trouve simplement la partition active et continue le téléchargement à partir de celle-ci.  Les 400 premiers octets sur le disque sont suffisants pour ce code, donc il ne se croise pas avec le GPT.  Il a un support limité pour les disques marqués GPT (mais pour les cas simples, tout sera comme il se doit). </blockquote><p>  <strong>Solution rapide: laissez l'interface graphique pour configurer BootManager mettre tout ce qui est installé à l'aide de writembr sur le disque si le balisage GPT est détecté.</strong>  <strong>Pas besoin de mettre du code de 2 Ko sur les disques GPT.</strong>  <strong>Pas besoin de définir l'indicateur de démarrage sur la partition EFI, uniquement sur la partition Haiku.</strong> </p><br><h2 id="pervaya-popytka-kernel-panic">  Première tentative: panique du noyau </h2><br><h3 id="oborudovanie">  Équipement </h3><br><ul><li>  Acer TravelMate B117 N16Q9 (vendu avec EndlessOS) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lspci</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lsusb</a> </li><li>  le système existant a été lancé à partir d'un lecteur flash Kingston DataTraveler 100 de 16 Go, fabriqué à partir d'une image Anyboot utilisant Etcher sous Linux, inséré dans le port USB2.0 (car il ne démarrait pas à partir du port USB3) </li><li>  Kingston A400 SSD 120 Go, uniquement en usine, branché sur l'adaptateur sata-usb3 ASMedia ASM2115, qui est branché sur un port USB3 du TravelMate B117. </li></ul><br><h3 id="rezultaty">  Résultats </h3><br><p>  Le programme d'installation commence à copier les fichiers, puis une erreur d'E / S apparaît, suivie d'une panique du noyau </p><br><p><img src="https://habrastorage.org/webt/vk/2d/fa/vk2dfafsbmqfadhy31qxatguhgw.jpeg"><br>  <em>panique du noyau</em> </p><br><h2 id="vtoraya-popytka-nezagruzhaemyy-disk">  Deuxième tentative: disque non amorçable </h2><br><h3 id="oborudovanie-1">  Équipement </h3><br><p>  Tout est comme avant, mais le SSD est connecté à l'adaptateur, qui est connecté au concentrateur USB2.0, branché sur le port USB3 de TravelMate.  J'ai vérifié à l'aide du lecteur flash d'installation Windows que cette machine démarre à partir d'USB3. </p><br><h3 id="rezultaty-1">  Résultats </h3><br><p>  Système non amorçable.  Le partitionnement du disque semble avoir volé en raison du BootManager. </p><br><p><img src="https://habrastorage.org/webt/sl/rs/vi/slrsvi_tuuytncd4invdt8takew.png"><br>  <em>BootManager</em>  <em>"Écrire le menu de démarrage" qu'est-ce qui détruit la disposition du disque?!</em> </p><br><h2 id="tretya-popytka-uh-ty-ono-zagruzhaetsya-no-ne-cherez-port-usb3-na-etoy-mashine">  Troisième tentative: wow, ça se charge!  Mais pas via le port USB3 de cette machine </h2><br><h3 id="oborudovanie-2">  Équipement </h3><br><p>  Tout est le même que lors de la deuxième tentative, mais cette fois je n'utilise pas du tout BootManager. <br>  Le partitionnement sans démarrer BootManager ressemble à ceci s'il est vérifié à partir de Linux. </p><br><p><img src="https://habrastorage.org/webt/6n/1m/3p/6n1m3pgr6q3wcqkcr1r4b78ietq.png"><br>  <em>La section "efi" avec le système de fichiers FAT32 est marquée comme amorçable sans démarrer BootManager.</em>  <em>Fonctionnera-t-il sur une machine non EFI?</em> </p><br><h3 id="rezultaty-2">  Résultats </h3><br><ul><li>  Mode EFI, port USB2: téléchargement direct sur Haiku </li><li>  Mode EFI, concentrateur USB2 branché sur un port USB3: Message <abbr title="chemin de démarrage introuvable, vérifiez toutes les sections">"aucun chemin de démarrage trouvé, rechercher toutes les partitions ..."</abbr> , suivi d'un écran de démarrage avec <abbr title="Sélectionnez une partition de démarrage (Actuel: Haiku)">"Sélectionner le volume de démarrage (actuel: haïku)"</abbr> .  Le bouton <abbr title="téléchargement continu">"Continuer le démarrage"</abbr> est gris et n'est pas enfoncé.  Si vous sélectionnez "Select Boot Volume" -&gt; Haiku (Current: Latest state) -&gt; <abbr title="dernier état">Latest state</abbr> -&gt; <abbr title="Retour au menu principal">Revenir au menu principal</abbr> -&gt; <abbr title="Continuer le téléchargement">Continue booting from the list</abbr> , il se charge directement dans Haiku.  <em>Je me demande pourquoi il ne peut pas "simplement démarrer", mais nécessite de danser avec un tambourin?</em>  <em>De plus, la section de démarrage se trouve clairement automatiquement sur l'écran de démarrage.</em>  <em>Bug logiciel?</em> </li><li>  Mode EFI, port USB3: chargé directement dans Haiku.  Wow, je suis content ... Prématurément, comme il s'est avéré.  Un écran bleu s'affiche, mais rien ne se passe pendant longtemps.  Le curseur «doigt» se bloque au milieu de l'écran et ne bouge pas.  L'adaptateur sata-usb3 clignote.  L'affaire s'est terminée par une panique du noyau.  L'image Anyboot sur le lecteur flash USB3 n'était même pas reconnue comme amorçable sur le matériel actuel.  Bah, c'est un bug!  À ce sujet, j'ai fait une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">demande</a> . </li></ul><br><p><img src="https://habrastorage.org/webt/xd/k0/wa/xdk0waazjrjnpdvncsd1jlxcbxw.jpeg"><br>  <em>Panique du noyau lors du démarrage à partir du port USB3.</em> </p><br><p>  Ce qui est étonnant, c'est que vous pouvez toujours taper des commandes, mais vous devez utiliser la disposition en anglais.  Donc, je fais <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">comme conseillé</a> : </p><br><p><img src="https://habrastorage.org/webt/o1/9t/qv/o19tqvvthiava2sdgot0z8tu2bi.jpeg"><br>  <em>légende: sortie <code>syslog | tail 15</code></em>  <em><code>syslog | tail 15</code> - tandis que le noyau panique</em> </p><br><p>  Invoquer la commande de <code>reboot</code> , malheureusement, ne fonctionne pas. </p><br><h2 id="chetvertaya-popytka-vtoraya-mashina">  Quatrième tentative: deuxième voiture </h2><br><p>  J'ai transféré le même disque (fonctionnant exactement) sur une autre machine, où j'ai vérifié le travail avec différents ports. </p><br><h3 id="oborudovanie-3">  Équipement </h3><br><p>  Tout comme lors de la troisième tentative, mais sur l'Acer Revo One RL 85. </p><br><h3 id="rezultaty-3">  Résultats </h3><br><ul><li>  Mode EFI, port USB2: Message <abbr title="chemin de démarrage introuvable, vérifiez toutes les sections">"aucun chemin de démarrage trouvé, rechercher toutes les partitions ..."</abbr> , suivi d'un écran de démarrage avec <abbr title="Sélectionnez une partition de démarrage (Actuel: Haiku)">"Sélectionner le volume de démarrage (actuel: haiku)"</abbr> .  Le bouton <abbr title="téléchargement continu">"Continuer le démarrage"</abbr> est gris et n'est pas enfoncé.  Si vous sélectionnez "Select Boot Volume" -&gt; Haiku (Current: Latest state) -&gt; <abbr title="dernier état">Latest state</abbr> -&gt; <abbr title="Retour au menu principal">Revenir au menu principal</abbr> -&gt; <abbr title="Continuer le téléchargement">Continue booting from the list</abbr> , il se charge directement dans Haiku.  Shutdown se bloque sur le message <abbr title="Éteint">"Shutting down ..."</abbr> . </li><li>  Mode EFI, concentrateur USB2 branché sur le port USB3: nécessite une clarification </li><li>  Mode EFI, port USB3: Message <abbr title="chemin de démarrage introuvable, vérifiez toutes les sections">"aucun chemin de démarrage trouvé, rechercher toutes les partitions ..."</abbr> , suivi de l'écran de démarrage avec <abbr title="Sélectionnez une partition de démarrage (Actuel: Haiku)">"Sélectionner le volume de démarrage (actuel: haiku)"</abbr> .  Le bouton <abbr title="téléchargement continu">"Continuer le démarrage"</abbr> est gris et n'est pas enfoncé.  Si vous sélectionnez "Select Boot Volume" -&gt; Haiku (Current: Latest state) -&gt; <abbr title="dernier état">Latest state</abbr> -&gt; <abbr title="Retour au menu principal">Revenir au menu principal</abbr> -&gt; <abbr title="Continuer le téléchargement">Continue booting from the list</abbr> , il se charge directement dans Haiku. <br>  J'attire votre attention sur le fait que, contrairement au premier système, il y a un démarrage normal sur le bureau sans panique du noyau.  L'arrêt se bloque sur le message "L'arrêt est en cours". </li><li>  Mode EFI, port sata: chargé directement sur Haiku.  Shutdown se bloque sur le message <abbr title="Éteint">"Shutting down ..."</abbr> . </li><li>  Mode BIOS CSM, port USB2: mise à jour nécessaire </li><li>  Mode BIOS CSM, concentrateur USB2 connecté au port USB3: clarification nécessaire </li><li>  Mode BIOS CSM, port USB3: mise à jour nécessaire </li><li>  Mode BIOS CSM, port sata: écran noir avec l'inscription <abbr title="Redémarrez et sélectionnez le périphérique de démarrage approprié, ou insérez le support de démarrage dans le périphérique sélectionné et appuyez sur n'importe quel bouton">«Redémarrez et sélectionnez le périphérique de démarrage approprié ou insérez le support de démarrage dans le périphérique sélectionné et appuyez sur une touche»</abbr> .  Venu du BIOS CSM?  [ <em>Oui, le même message exact est émis par mon système s'il ne trouve pas le chargeur de démarrage.</em>  - env.  traducteur] </li></ul><br><h2 id="pyataya-popytka-tretya-mashina">  Cinquième tentative: troisième voiture </h2><br><p>  Transféré le même disque sur une troisième machine, vérifié sur différents ports. </p><br><h3 id="oborudovanie-4">  Équipement </h3><br><p>  Identique à la troisième tentative, mais sur le Dell Optiplex 780. Si je ne me trompe pas - cette machine a un EFI précoce, qui fonctionne apparemment toujours en mode BIOS CSM. </p><br><h3 id="rezultaty-4">  Résultats </h3><br><ul><li>  Port USB2: Haiku Télécharger </li><li>  Port USB3 (via carte PCIe, contrôleur hôte USB 3.0 uPD720202 de Renesas Technology Corp.): clarification nécessaire </li><li>  Port Sata: clarification requise </li></ul><br><h2 id="shestaya-popytka-chetvertaya-mashina-macbook-pro">  Sixième tentative, quatrième machine, MacBook Pro </h2><br><h3 id="oborudovanie-5">  Équipement </h3><br><p>  Tout comme lors de la troisième tentative, mais avec le MacBookPro 7.1 </p><br><h3 id="rezultaty-5">  Résultats </h3><br><p><img src="https://habrastorage.org/webt/sa/gc/ia/sagciaimcpdpwqz_vfqf1frmp5m.jpeg"><br>  <em>Comment Mac voit un lecteur flash avec Haiku.</em> </p><br><ul><li>  Mode CSM ("Windows"): écran noir intitulé <abbr title="Aucun périphérique de démarrage - insérez le disque de démarrage et appuyez sur n'importe quel bouton">"Pas de lecteur de démarrage - insérez le disque de démarrage et appuyez sur n'importe quelle touche"</abbr> .  Est-elle venue d'Apple CSM? </li><li>  Mode UEFI ("EFI Boot"): s'arrête à l'écran de sélection du périphérique de démarrage. </li></ul><br><h2 id="sedmaya-popytka-netbuk-lenovo-s-32-bitnym-processorom-atom">  Septième tentative, netbook Lenovo avec processeur Atom 32 bits </h2><br><h3 id="oborudovanie-6">  Équipement </h3><br><ul><li><p>  Un lecteur flash Kingston DataTraveler 100 de 16 Go fabriqué sous Linux à l'aide d'Etcher à l'aide d'une image Anyboot 32 bits <a href="">d'ici</a> . </p><br></li><li><p>  Netbook Lenovo ideapad s10 basé sur un processeur Atom sans disque dur. </p><br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lspci de cette machine</a> , tourné sur linux. </p><br></li><li><p>  lsusb </p><br><pre> <code class="plaintext hljs">00:1d.7 USB controller: Intel Corporation NM10/ICH7 Family USB2 EHCI Controller (rev 02) (prog-if 20 [EHCI]) Subsystem: Lenovo NM10/ICH7 Family USB2 EHCI Controller Control: I/O- Mem+ BusMaster+ SpecCycle- MemWINV- VGASnoop- ParErr- Stepping- SERR- FastB2B- DisINTx- Status: Cap+ 66MHz- UDF- FastB2B+ ParErr- DEVSEL=medium &gt;TAbort- &lt;TAbort- &lt;MAbort- &gt;SERR- &lt;PERR- INTx- Latency: 0 Interrupt: pin A routed to IRQ 23 Region 0: Memory at f0844000 (32-bit, non-prefetchable) [size=1K] Capabilities: [50] Power Management version 2 Flags: PMEClk- DSI- D1- D2- AuxCurrent=375mA PME(D0+,D1-,D2-,D3hot+,D3cold+) Status: D0 NoSoftRst- PME-Enable- DSel=0 DScale=0 PME- Capabilities: [58] Debug port: BAR=1 offset=00a0 Kernel driver in use: ehci-pci</code> </pre> <br></li></ul><br><h3 id="rezultaty-6">  Résultats </h3><br><p>  Téléchargement, puis panique du noyau se produit, la commande <code>syslog|tail 15</code> affiche <code>kDiskDeviceManager::InitialDeviceScan() failed: No such file or directory</code> après plusieurs erreurs ATA.  <strong>Remarque: j'ai essayé de démarrer à partir d'USB, pas de SATA.</strong> </p><br><p><img src="https://habrastorage.org/webt/hc/4k/ox/hc4koxaq9jh3xxfe8kruqlwq1i8.jpeg"><br>  <em>Panique du noyau sur le netbook Lenovo ideapad s10 lors du démarrage à partir d'un lecteur flash.</em> </p><br><p>  Pour le plaisir, j'ai inséré le disque dans le port sata, mais je n'ai pas remarqué de grande différence avec le lecteur flash.  Bien que j'ai reçu des messages différents lors de l'utilisation de la commande <code>syslog|tail 15</code> (il a dit avoir trouvé <code>/dev/disk/ata/0/master/1</code> ). </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mr.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">waddlesplash</a> m'a demandé d'exécuter le <code>`syslog | grep usb</code>  <code>`syslog | grep usb</code> pour ce cas, voici donc les résultats.  Je suis toujours heureux que vous puissiez exécuter des commandes similaires à l'écran avec la panique du noyau. </p><br><p><img src="https://habrastorage.org/webt/54/i_/oh/54i_ohcbd6j2c_idum17onzyq5s.jpeg"><br><img src="https://habrastorage.org/webt/m4/zm/2d/m4zm2dywiyret-3zeyyh-7pf7e4.jpeg"></p><br><p>  Selon m.  waddlesplash cette erreur EHCI est la même que dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cette application</a> </p><br><h2 id="vosmaya-popytka-netbuk-msi-s-32-bitnym-processorom-atom">  Huitième tentative: netbook MSI avec processeur Atom 32 bits </h2><br><h3 id="oborudovanie-7">  Équipement </h3><br><p>  Comme avant </p><br><ul><li>  Netbook Medion Akoya E1210 (étiqueté MSI Wind U100) avec un disque installé (que je n'utilise pas pour Haiku). </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lspci de</a> cette machine </li><li>  lsusb de cette machine <br><pre> <code class="plaintext hljs">00:1d.7 USB controller: Intel Corporation NM10/ICH7 Family USB2 EHCI Controller (rev 02) (prog-if 20 [EHCI]) Subsystem: Micro-Star International Co., Ltd. [MSI] NM10/ICH7 Family USB2 EHCI Controller Control: I/O- Mem+ BusMaster+ SpecCycle- MemWINV- VGASnoop- ParErr- Stepping- SERR- FastB2B- DisINTx- Status: Cap+ 66MHz- UDF- FastB2B+ ParErr- DEVSEL=medium &gt;TAbort- &lt;TAbort- &lt;MAbort- &gt;SERR- &lt;PERR- INTx- Latency: 0 Interrupt: pin A routed to IRQ 23 Region 0: Memory at dff40400 (32-bit, non-prefetchable) [size=1K] Capabilities: [50] Power Management version 2 Flags: PMEClk- DSI- D1- D2- AuxCurrent=375mA PME(D0+,D1-,D2-,D3hot+,D3cold+) Status: D0 NoSoftRst- PME-Enable- DSel=0 DScale=0 PME- Capabilities: [58] Debug port: BAR=1 offset=00a0 Kernel driver in use: ehci-pci</code> </pre> </li></ul><br><h3 id="rezultaty-7">  Résultats </h3><br><p>  Démarre dans l'installateur Haiku.  TouchPad fonctionne!  (par exemple, défilement).  La carte vidéo a été reconnue comme <code>Intel GMA (i945GME)</code> . </p><br><h2 id="devyataya-popytka-fleshka-s-32-bitnym-obrazom-na-macbook-pro">  Neuvième tentative: lecteur flash 32 bits sur MacBook Pro </h2><br><h3 id="oborudovanie-8">  Équipement </h3><br><ul><li>  Comme avant. </li><li>  MacBook 7.1 </li></ul><br><h3 id="rezultaty-8">  Résultats </h3><br><p>  Un écran noir qui indique "Aucun lecteur de démarrage - insérez le disque de démarrage et appuyez sur n'importe quelle touche". </p><br><h2 id="primechanie-klaviatura-apple">  Remarque: Clavier Apple </h2><br><p>  Dans le coin inférieur gauche de n'importe quel clavier de la ligne inférieure, il y a les boutons suivants: <br>  non Apple: Ctrl-Fn-Windows-Alt-Spacebar <br>  Apple: Fn-Ctrl- (Option ou Alt) -Commande-Barre d'espace </p><br><p>  Ce serait formidable si tous les claviers de Haiku se comportaient de la même manière, afin qu'ils puissent être utilisés de la même manière, indépendamment de ce qui était vraiment mis hors de service. <br>  Sur le clavier Apple, le bouton Alt ne va pas immédiatement à gauche de l'espace (au lieu de cela, il y a la touche Commande). <br>  Dans ce cas, je trouverais que Haiku utiliserait automatiquement la touche Commande au lieu de la touche Alt.  Donc, tout en travaillant sur un clavier Apple, je pense que le clavier n'est pas Apple. <br>  Évidemment, il y a différentes options dans les paramètres, mais je voudrais reconnaître et ajuster automatiquement, car c'est USB, après tout. </p><br><h2 id="primechanie-writembr-dlya-vosstanovleniya">  Remarque: writembr pour la récupération? </h2><br><p>  J'ai entendu dire qu'en utilisant la commande <code>writembr</code> pouvez rendre un système (fonctionnant avec EFI) amorçable à partir du BIOS. </p><br><pre> <code class="plaintext hljs">/&gt; writembr /dev/disk/.../.../.../.../raw About to overwrite the MBR boot code on /dev/disk/scsi/0/2/0/raw This may disable any partition managers you have installed. Are you sure you want to continue? yes/[no]: yes Rewriting MBR for /dev/disk/.../.../.../.../raw MBR was written OK</code> </pre> <br><p>  Il semble bon, mais en conséquence, le système est toujours impossible à charger, comme auparavant.  Peut-être parce que le démarrage via le BIOS ne fonctionne qu'avec un balisage approprié, pas avec GPT?  [il <em>faut essayer le MBR protecteur ...</em> - env.  traducteur] </p><br><h2 id="zaklyuchenie">  Conclusion </h2><br><p>  Haiku est génial, mais il faut une approche sérieuse pour acquérir une expérience d'installation.  De plus, le processus de démarrage est une loterie, avec environ 1/3 de chances de succès, et peu importe si vous avez USB2 (netbook Atom) ou USB3 (Acer TravelMate).  Mais au moins un développeur dispose du même équipement.  J'espère que mon expérience «Nubienne» aidera les développeurs à comprendre ce dont ont besoin les «simples mortels» et rendra le résultat aussi élégant que le programme d'installation de Mac OS X. N'oubliez pas qu'il ne s'agit même pas de la version 1.0, donc tout est très bon! </p><br><p>  Essayez-le vous-même!  Après tout, le projet Haiku fournit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">des</a> images de téléchargement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">quotidiennes à</a> partir d'un DVD ou d'une clé USB.  Pour l'installer, il suffit de télécharger l'image et de l'écrire sur une clé USB à l'aide d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Etcher</a> </p><br><p>  Vous avez une question?  Nous vous invitons à la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">chaîne de télégramme en</a> russe. </p><br><p>  Aperçu des bogues: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">comment se tirer une balle dans le pied en C et C ++.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Collection de recettes Haiku OS</a> </p><br><p>  De l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">auteur de la</a> traduction: c'est le quatrième article de la série Haiku. </p><br><p>  Liste des articles: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">premier</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">deuxième</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">troisième</a> quatrième <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cinquième cinquième</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sixième</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">septième</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">huitième</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr463105/">https://habr.com/ru/post/fr463105/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr463089/index.html">Mise en place d'un système de recherche d'entreprise pour les concepteurs mécaniques utilisant la plateforme Low-Code</a></li>
<li><a href="../fr463095/index.html">Pourquoi pas SQL?</a></li>
<li><a href="../fr463097/index.html">Go Product Development: One Project History</a></li>
<li><a href="../fr463099/index.html">1000 et 1 rétroaction. Comment donner du feedback et enseigner aux autres, l'expérience Lamoda</a></li>
<li><a href="../fr463101/index.html">Gestion de centaines de serveurs pour les tests de charge: mise à l'échelle automatique, surveillance personnalisée, culture DevOps</a></li>
<li><a href="../fr463107/index.html">ShIoTiny: petite automatisation, Internet des objets, ou «six mois avant les vacances»</a></li>
<li><a href="../fr463113/index.html">Contrôle de version des données et des modèles dans la rencontre Computer Vision</a></li>
<li><a href="../fr463115/index.html">Le problème des portes dans la conception des tireurs</a></li>
<li><a href="../fr463117/index.html">Préchargement en PHP 7.4</a></li>
<li><a href="../fr463121/index.html">Nous mangeons l'éléphant par parties. Exemple de stratégie de surveillance de l'intégrité des applications</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>