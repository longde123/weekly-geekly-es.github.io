<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçö üêê üêá D√©ploiement d'applications sur plusieurs clusters Kubernetes avec Helm üà≥ üå∂Ô∏è üíé</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Comment Dailymotion utilise Kubernetes: D√©ploiement d'applications 


 Chez Dailymotion, nous avons commenc√© √† utiliser Kubernetes en production il y ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>D√©ploiement d'applications sur plusieurs clusters Kubernetes avec Helm</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/458934/"><p><img src="https://habrastorage.org/webt/8f/-s/8h/8f-s8hlxikospwqtqw5wjcexjri.jpeg"></p><br><h2 id="kak-dailymotion-ispolzuet-kubernetes-razvertyvanie-prilozheniy">  Comment Dailymotion utilise Kubernetes: D√©ploiement d'applications </h2><br><p>  Chez Dailymotion, nous avons commenc√© √† utiliser Kubernetes en production il y a 3 ans.  Mais le d√©ploiement d'applications sur plusieurs clusters est toujours un plaisir, donc au cours des derni√®res ann√©es, nous avons essay√© d'am√©liorer nos outils et nos flux de travail. </p><a name="habracut"></a><br><h3 id="s-chego-nachalos">  O√π √ßa a commenc√© </h3><br><p>  Ici, nous montrons comment nous d√©ployons nos applications sur plusieurs clusters Kubernetes √† travers le monde. </p><br><p>  Pour d√©ployer plusieurs objets Kubernetes √† la fois, nous utilisons <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Helm</a> et tous nos graphiques sont stock√©s dans un r√©f√©rentiel git.  Pour d√©ployer la pile d'applications compl√®te √† partir de plusieurs services, nous utilisons ce que l'on appelle le graphique g√©n√©ralis√©.  En substance, il s'agit d'un graphique qui d√©clare les d√©pendances et vous permet d'initialiser l'API et ses services avec une seule commande. </p><br><p>  Nous avons √©galement √©crit un petit script Python sur Helm pour effectuer des v√©rifications, cr√©er des graphiques, ajouter des secrets et d√©ployer des applications.  Toutes ces t√¢ches sont effectu√©es sur la plate-forme CI centrale √† l'aide de l'image Docker. </p><br><p>  Venons-en au fait. </p><br><blockquote>  Remarque  Lorsque vous lisez ceci, le premier candidat √† la sortie de Helm 3 a d√©j√† √©t√© annonc√©.  La version principale contient un ensemble d'am√©liorations con√ßues pour r√©soudre certains des probl√®mes que nous avons rencontr√©s dans le pass√©. </blockquote><br><h3 id="rabochiy-process-razrabotki-chartov">  Flux de travail de d√©veloppement de graphiques </h3><br><p>  Pour les applications, nous utilisons la ramification et nous avons d√©cid√© d'appliquer la m√™me approche aux graphiques. </p><br><ul><li> La branche <strong>dev</strong> est utilis√©e pour cr√©er des graphiques qui seront test√©s sur des clusters de d√©veloppement. </li><li>  Lorsque la demande de pool est transf√©r√©e au <strong>ma√Ætre</strong> , elles sont archiv√©es dans le transfert. </li><li>  Enfin, nous cr√©ons une demande de pool pour pousser les modifications dans la branche <strong>prod</strong> et les appliquer en production. </li></ul><br><p>  Chaque environnement poss√®de son propre r√©f√©rentiel priv√© qui stocke nos graphiques, et nous utilisons <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Chartmuseum</a> avec des API tr√®s utiles.  Ainsi, nous garantissons une stricte isolation entre les environnements et v√©rifions les cartes en conditions r√©elles avant de les utiliser en production. </p><br><p> <a href=""><img src="https://habrastorage.org/webt/rz/vt/uk/rzvtuk6q7b_rkeaxnyujzhmfjog.png"></a> </p><br><p>  <em>R√©f√©rentiels de graphiques dans diff√©rents environnements</em> </p><br><p>  Il est √† noter que lorsque les d√©veloppeurs envoient la branche dev, une version de leur graphique est automatiquement envoy√©e au dev Chartmuseum.  Ainsi, tous les d√©veloppeurs utilisent le m√™me r√©f√©rentiel de d√©veloppement, et vous devez soigneusement indiquer votre version du graphique afin de ne pas utiliser accidentellement les modifications de quelqu'un d'autre. </p><br><p>  De plus, notre petit script Python v√©rifie les objets Kubernetes par rapport aux sp√©cifications Kubernetes OpenAPI √† l'aide de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kubeval</a> avant de les publier sur Chartmusem. </p><br><h3 id="obschee-opisanie-rabochego-processa-razrabotki-charta">  Workflow de d√©veloppement de graphique g√©n√©ral </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/yd/cw/qw/ydcwqw-vqfitu5bj8ky4nh7xxea.png"></a> </p><br><ol><li>  Mise en place de la t√¢che <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pipeline</a> selon la sp√©cification <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">gazr.io</a> pour le contr√¥le qualit√© (peluche, test unitaire). </li><li>  Soumettre une image docker avec les outils Python qui d√©ploient nos applications. </li><li>  Configuration de l'environnement par le nom de la succursale. </li><li>  V√©rifiez les fichiers yaml Kubernetes avec Kubeval. </li><li>  Augmentez automatiquement la version du graphique et de ses graphiques parents (graphiques qui d√©pendent du graphique modifi√©). </li><li>  Soumettre au Chartmuseum un graphique correspondant √† son environnement </li></ol><br><h2 id="upravlenie-razlichiyami-v-klasterah">  Gestion des diff√©rences de cluster </h2><br><h3 id="federaciya-klasterov">  F√©d√©ration des clusters </h3><br><p>  Il fut un temps o√π nous <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">utilisions Kubernetes Cluster Federation</a> , o√π vous pouviez d√©clarer des objets Kubernetes √† partir d'un point de terminaison d'API.  Mais il y avait des probl√®mes.  Par exemple, certains objets Kubernetes n'ont pas pu √™tre cr√©√©s √† l'extr√©mit√© de la f√©d√©ration, il √©tait donc difficile de g√©rer les objets combin√©s et d'autres objets pour des clusters individuels. </p><br><p>  Pour r√©soudre le probl√®me, nous avons commenc√© √† g√©rer les clusters de mani√®re ind√©pendante, ce qui a grandement simplifi√© le processus (nous avons utilis√© la premi√®re version de la f√©d√©ration; dans la seconde, quelque chose pouvait changer). </p><br><h3 id="georaspredelennaya-platforma">  Plateforme g√©o-distribu√©e </h3><br><p>  Notre plateforme est d√©sormais distribu√©e dans 6 r√©gions - 3 localement et 3 dans le cloud. </p><br><p> <a href=""><img src="https://habrastorage.org/webt/jq/c1/mr/jqc1mru36g5byams4wddzducauw.png"></a> <br>  <em>D√©ploiement distribu√©</em> </p><br><h3 id="globalnye-znacheniya-helm">  Valeurs globales de barre </h3><br><p>  4 valeurs globales de Helm vous permettent de d√©terminer les diff√©rences entre les clusters.  Pour tous nos graphiques, il existe des valeurs par d√©faut minimales. </p><br><pre><code class="plaintext hljs">global: cloud: True env: staging region: us-central1 clusterName: staging-us-central1</code> </pre> <br><p>  <em>Valeurs globales</em> </p><br><p>  Ces valeurs aident √† d√©terminer le contexte de nos applications et sont utilis√©es pour diff√©rentes t√¢ches: surveillance, tra√ßage, journalisation, appels externes, mise √† l'√©chelle, etc. </p><br><ul><li>  ¬´Cloud¬ª: nous avons une plateforme hybride Kubernetes.  Par exemple, notre API est d√©ploy√©e dans les zones GCP et dans nos centres de donn√©es. </li><li>  ¬´Env¬ª: certaines valeurs peuvent varier pour les environnements non fonctionnels.  Par exemple, les d√©finitions de ressources et les configurations de mise √† l'√©chelle automatique. </li><li>  ¬´R√©gion¬ª: ces informations aident √† d√©terminer l'emplacement du cluster et peuvent √™tre utilis√©es pour d√©terminer les points de terminaison les plus proches pour les services externes. </li><li>  ¬´ClusterName¬ª: si et quand nous voulons d√©terminer la valeur d'un cluster individuel. </li></ul><br><p>  Voici un exemple concret: </p><br><pre> <code class="plaintext hljs">{{/* Returns Horizontal Pod Autoscaler replicas for GraphQL*/}} {{- define "graphql.hpaReplicas" -}} {{- if eq .Values.global.env "prod" }} {{- if eq .Values.global.region "europe-west1" }} minReplicas: 40 {{- else }} minReplicas: 150 {{- end }} maxReplicas: 1400 {{- else }} minReplicas: 4 maxReplicas: 20 {{- end }} {{- end -}}</code> </pre> <br><p>  <em>Exemple de mod√®le de barre</em> </p><br><p>  Cette logique est d√©finie dans le mod√®le d'assistance afin de ne pas obstruer Kubernetes YAML. </p><br><h3 id="obyavlenie-prilozheniya">  Annonce de candidature </h3><br><p>  Nos outils de d√©ploiement sont bas√©s sur plusieurs fichiers YAML.  Voici un exemple de la fa√ßon dont nous d√©clarons un service et sa topologie de mise √† l'√©chelle (nombre de r√©pliques) dans un cluster. </p><br><pre> <code class="plaintext hljs">releases: - foo.world foo.world: # Release name services: # List of dailymotion's apps/projects foobar: chart_name: foo-foobar repo: git@github.com:dailymotion/foobar contexts: prod-europe-west1: deployments: - name: foo-bar-baz replicas: 18 - name: another-deployment replicas: 3</code> </pre> <br><p>  <em>D√©finition du service</em> </p><br><p>  Il s'agit d'un diagramme de toutes les √©tapes qui d√©finissent notre flux de travail de d√©ploiement.  La derni√®re √©tape d√©ploie l'application sur plusieurs clusters de travail simultan√©ment. </p><br><p> <a href=""><img src="https://habrastorage.org/webt/iu/qh/xk/iuqhxki4nfqoi0mus258j0feylu.png"></a> <br>  <em>√âtapes de d√©ploiement de Jenkins</em> </p><br><h3 id="a-sekrety">  Et les secrets? </h3><br><p>  En termes de s√©curit√©, nous gardons une trace de tous les secrets de divers endroits et les stockons dans le r√©f√©rentiel unique de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Vault</a> √† Paris. </p><br><p>  Nos outils de d√©ploiement extraient les valeurs des secrets de Vault et, le moment venu, les ins√®rent dans Helm. </p><br><p>  Pour ce faire, nous avons d√©termin√© la correspondance entre les secrets de Vault et les secrets dont nos applications ont besoin: </p><br><pre> <code class="plaintext hljs">secrets: - secret_id: "stack1-app1-password" contexts: - name: "default" vaultPath: "/kv/dev/stack1/app1/test" vaultKey: "password" - name: "cluster1" vaultPath: "/kv/dev/stack1/app1/test" vaultKey: "password"</code> </pre> <br><ul><li>  Nous avons identifi√© les r√®gles g√©n√©rales que vous devez suivre lors de l'√©criture de secrets dans Vault. </li><li>  Si le secret fait r√©f√©rence <strong>√† un contexte ou √† un cluster sp√©cifique</strong> , vous devez ajouter une entr√©e sp√©cifique.  (Ici, le contexte de cluster1 a sa propre valeur pour le mot de passe secret stack-app1). </li><li>  Sinon, la valeur <strong>par d√©faut</strong> est utilis√©e. </li><li>  Pour chaque √©l√©ment de cette liste, une paire cl√©-valeur est ins√©r√©e dans le <strong>secret Kubernetes</strong> .  Par cons√©quent, le sch√©ma secret de nos graphiques est tr√®s simple. </li></ul><br><pre> <code class="plaintext hljs">apiVersion: v1 data: {{- range $key,$value := .Values.secrets }} {{ $key }}: {{ $value | b64enc | quote }} {{ end }} kind: Secret metadata: name: "{{ .Chart.Name }}" labels: chartVersion: "{{ .Chart.Version }}" tillerVersion: "{{ .Capabilities.TillerVersion.SemVer }}" type: Opaque</code> </pre> <br><h2 id="problemy-i-ogranicheniya">  Probl√®mes et limitations </h2><br><h3 id="rabota-s-neskolkimi-repozitoriyami">  Travailler avec plusieurs r√©f√©rentiels </h3><br><p>  Maintenant, nous partageons le d√©veloppement de graphiques et d'applications.  Cela signifie que les d√©veloppeurs doivent travailler dans deux r√©f√©rentiels git: l'un pour l'application et le second pour d√©terminer son d√©ploiement dans Kubernetes.  2 r√©f√©rentiels git sont 2 flux de travail et il est facile pour un d√©butant de se perdre. </p><br><h3 id="upravlyat-obobschennymi-chartami-hlopotno">  La gestion des graphiques r√©sum√©s est g√™nante </h3><br><p>  Comme nous l'avons d√©j√† dit, les graphiques g√©n√©riques sont tr√®s pratiques pour d√©finir des d√©pendances et d√©ployer rapidement plusieurs applications.  Mais nous utilisons <code>--reuse-values</code> pour √©viter de transmettre toutes les valeurs √† chaque fois que nous d√©ployons l'application incluse dans ce graphique g√©n√©ralis√©. </p><br><p>  Dans le flux de travail de livraison continue, nous n'avons que deux valeurs qui changent r√©guli√®rement: le nombre de r√©pliques et la balise d'image (version).  D'autres valeurs plus stables sont modifi√©es manuellement, ce qui est plut√¥t compliqu√©.  De plus, une erreur dans le d√©ploiement d'un graphique g√©n√©ralis√© peut entra√Æner de graves √©checs, comme nous l'avons vu de notre propre exp√©rience. </p><br><h3 id="obnovlenie-neskolkih-faylov-konfiguracii">  Mise √† jour de plusieurs fichiers de configuration </h3><br><p>  Lorsqu'un d√©veloppeur ajoute une nouvelle application, il doit modifier plusieurs fichiers: l'annonce de l'application, la liste des secrets, l'ajout de l'application selon qu'elle est incluse dans le tableau g√©n√©ralis√©. </p><br><h3 id="razresheniya-jenkins-slishkom-rasshireny-v-vault">  Autorisations Jenkins trop √©tendues dans Vault </h3><br><p>  Nous avons maintenant un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AppRole</a> qui lit tous les secrets de Vault. </p><br><h3 id="process-otkata-ne-avtomatizirovan">  Le processus de restauration n'est pas automatis√© </h3><br><p>  Pour revenir en arri√®re, vous devez ex√©cuter la commande sur plusieurs clusters, ce qui est lourd d'erreurs.  Nous effectuons cette op√©ration manuellement pour nous assurer que l'identifiant de version correct est sp√©cifi√©. </p><br><h2 id="my-dvizhemsya-v-storonu-gitops">  Nous √©voluons vers GitOps </h2><br><h3 id="nasha-cel">  Notre objectif </h3><br><p>  Nous voulons retourner le graphique au r√©f√©rentiel de l'application qu'il d√©ploie. </p><br><p>  Le workflow sera le m√™me que pour le d√©veloppement.  Par exemple, lorsqu'une branche est envoy√©e √† l'assistant, le d√©ploiement d√©marre automatiquement.  La principale diff√©rence entre cette approche et le workflow actuel sera que <strong>tout sera g√©r√© dans git</strong> (l'application elle-m√™me et comment la d√©ployer dans Kubernetes). </p><br><p>  Il y a plusieurs avantages: </p><br><ul><li>  Beaucoup <strong>plus clair</strong> pour le d√©veloppeur.  Il est plus facile d'apprendre √† appliquer des modifications au graphique local. </li><li>  Une d√©finition de d√©ploiement de service peut √™tre sp√©cifi√©e √† l' <strong>emplacement du code de</strong> service. </li><li>  <strong>Gestion de la suppression des graphiques g√©n√©ralis√©s</strong> .  Le service aura sa propre version de Helm.  Cela vous permettra de g√©rer le cycle de vie de l'application (rollback, mise √† niveau) au plus petit niveau, afin de ne pas affecter les autres services. </li><li>  <strong>Les avantages de git</strong> pour la gestion des graphiques sont les suivants: annulation des modifications, piste d'audit, etc. Si vous devez annuler une modification d'un graphique, vous pouvez le faire avec git.  Le d√©ploiement d√©marre automatiquement. </li><li>  Vous pourriez envisager d'am√©liorer votre flux de travail de d√©veloppement avec des outils comme <strong>Skaffold</strong> , avec lesquels les d√©veloppeurs peuvent tester les modifications dans un contexte de production. </li></ul><br><h3 id="dvuhetapnaya-migraciya">  Migration en deux √©tapes </h3><br><p>  Nos d√©veloppeurs utilisent ce flux de travail depuis 2 ans maintenant, nous avons donc besoin de la migration la plus indolore.  Par cons√©quent, nous avons d√©cid√© d'ajouter une √©tape interm√©diaire sur le chemin de l'objectif. <br>  La premi√®re √©tape est simple: </p><br><ul><li>  Nous conservons une structure similaire pour configurer le d√©ploiement d'applications, mais dans le m√™me objet nomm√© DailymotionRelease. </li></ul><br><pre> <code class="plaintext hljs">apiVersion: "v1" kind: "DailymotionRelease" metadata: name: "app1.ns1" environment: "dev" branch: "mybranch" spec: slack_channel: "#admin" chart_name: "app1" scaling: - context: "dev-us-central1-0" replicas: - name: "hermes" count: 2 - context: "dev-europe-west1-0" replicas: - name: "app1-deploy" count: 2 secrets: - secret_id: "app1" contexts: - name: "default" vaultPath: "/kv/dev/ns1/app1/test" vaultKey: "password" - name: "dev-europe-west1-0" vaultPath: "/kv/dev/ns1/app1/test" vaultKey: "password"</code> </pre> <br><ul><li>  1 version par application (sans graphiques g√©n√©ralis√©s). </li><li>  Graphiques dans le r√©f√©rentiel d'applications git. </li></ul><br><p>  Nous avons parl√© avec tous les d√©veloppeurs, donc le processus de migration a d√©j√† commenc√©.  La premi√®re phase est toujours contr√¥l√©e √† l'aide de la plateforme CI.  Bient√¥t, j'√©crirai un autre article sur la deuxi√®me √©tape: comment nous sommes pass√©s au flux de travail GitOps avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Flux</a> .  Je vais vous dire comment nous nous sommes tous install√©s et quelles difficult√©s nous avons rencontr√©es (plusieurs r√©f√©rentiels, secrets, etc.).  Suivez l'actualit√©. </p><br><p>  Ici, nous avons essay√© de d√©crire nos progr√®s dans le flux de travail de d√©ploiement d'applications au cours des derni√®res ann√©es, ce qui a conduit √† des r√©flexions sur l'approche GitOps.  Nous n'avons pas atteint l'objectif et rendrons compte des r√©sultats, mais maintenant nous sommes convaincus que nous l'avons fait correctement lorsque nous avons d√©cid√© de tout simplifier et de le rapprocher des habitudes des d√©veloppeurs. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr458934/">https://habr.com/ru/post/fr458934/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr458924/index.html">Les accidents vous aident √† apprendre</a></li>
<li><a href="../fr458926/index.html">La trag√©die ne vient pas seule</a></li>
<li><a href="../fr458928/index.html">XLNet vs BERT</a></li>
<li><a href="../fr458930/index.html">Comment les √©tudiants de Perm se sont rendus en finale du championnat international d'analyse de donn√©es Data Mining Cup 2019</a></li>
<li><a href="../fr458932/index.html">Yota - ou comment tout savoir</a></li>
<li><a href="../fr458936/index.html">"Il est plus facile de r√©pondre que de garder le silence" - une grande interview avec le p√®re de la m√©moire transactionnelle, Maurice Herlichi</a></li>
<li><a href="../fr458938/index.html">C ++ 20 est int√©gr√©, C ++ 23 est d√©marr√©. R√©sultats de la r√©union √† Cologne</a></li>
<li><a href="../fr458940/index.html">Comment nous avons impl√©ment√© les tests agiles</a></li>
<li><a href="../fr458944/index.html">L'embauche d'un employ√© commence par ... le respect. Nous allons interviewer l'ing√©nieur</a></li>
<li><a href="../fr458948/index.html">Habr Weekly # 8 / Yandex Sorcerers, un livre sur Prince of Persia, YouTube contre les pirates, le laser ¬´c≈ìur¬ª du Pentagone</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>