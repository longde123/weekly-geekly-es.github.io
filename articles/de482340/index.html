<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤ğŸ» ğŸ‘ ğŸ’…ğŸ½ Von Junior'a nach Middle'a: Parser ğŸ‘¨ğŸ» ğŸ¤›ğŸ½ ğŸ¤ŸğŸ»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo Khabrovchans! Lange Zeit bestand der Wunsch, einen Artikel zu schreiben, traute sich aber nicht. 
 Meine Postserie beschreibt meinen Weg von Jun...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Von Junior'a nach Middle'a: Parser</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482340/"> Hallo Khabrovchans!  Lange Zeit bestand der Wunsch, einen Artikel zu schreiben, traute sich aber nicht. <br>  Meine Postserie beschreibt meinen Weg von Junior zu Middle und dann vielleicht sogar zu Senior.  Wir werden in Python programmieren. <br><br>  PS-Dokumentation fÃ¼r einige wenig bekannte Bibliotheken wird am Ende angehÃ¤ngt. <br><br>  Kurz zu meiner Person: Python begann vor zwei Jahren zu studieren, es gab keine besonderen Fortschritte. <br>  Die Grundlagen selbst wurden enttÃ¤uscht, da ich sie anderthalb Jahre lang unterrichtete.  Jetzt lerne ich die Sprache grÃ¼ndlich, verstehe ihre Struktur und wie alles passiert.  In den folgenden Artikeln werde ich den Code hochladen, alle neuen und neuen Bibliotheken verwenden und wie Sie wissen, hat Python eine Menge :) <br><br>  Wo soll ich anfangen?  Vor ein paar Monaten habe ich meinen ersten Parser geschrieben.  Es stellte sich heraus, dass das Schreiben von Parsern recht einfach ist und Sie sogar Geld damit verdienen kÃ¶nnen.  Bisher zeige ich Ihnen einige Beispiele, die den Stack von <b>bs4 + -Anfragen verwenden</b> .  Wir werden unseren geliebten <a href="https://habr.com/ru/all/">Habr</a> analysieren. <br><a name="habracut"></a><br><pre><code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#      from bs4 import BeautifulSoup as bs import requests from fake_useragent import UserAgent</span></span></code> </pre> <br>  Ich <i>bin</i> nicht sicher, ob jeder mit der Bibliothek <i>fake_useragent</i> vertraut ist.  Es ist sehr praktisch zum Parsen, es erzeugt eine Benutzeragenten-FÃ¤lschung. <br><br><pre> <code class="python hljs">ua = UserAgent() headers = {<span class="hljs-string"><span class="hljs-string">'accept'</span></span>: <span class="hljs-string"><span class="hljs-string">'*/*'</span></span>, <span class="hljs-string"><span class="hljs-string">'user-agent'</span></span>: ua.firefox}</code> </pre> <br>  Dies ist der nÃ¤chste kleine Block unseres Codes.  In der ersten Zeile haben wir die Variable ua erstellt, die die Methoden der UserAgent-Klasse verwendet.  In der zweiten Zeile haben wir ein WÃ¶rterbuch erstellt, das uns in Zukunft beim Parsen helfen wird. <br><br>  Erstellen Sie nun die Funktion selbst zum Parsen. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">without_post</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(url, headers)</span></span></span><span class="hljs-function">:</span></span> response = requests.get(url, headers=headers) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> response.status_code == <span class="hljs-number"><span class="hljs-number">200</span></span>: soup = bs(response.text, <span class="hljs-string"><span class="hljs-string">'html.parser'</span></span>) links = {} <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> soup.find_all(<span class="hljs-string"><span class="hljs-string">'a'</span></span>, {<span class="hljs-string"><span class="hljs-string">'class'</span></span>: <span class="hljs-string"><span class="hljs-string">'post__title_link'</span></span>}): links.update({i.text: i.get(<span class="hljs-string"><span class="hljs-string">'href'</span></span>)}) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> links <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: print(<span class="hljs-string"><span class="hljs-string">"Connection Error"</span></span>)</code> </pre><br>  Diese Funktion analysiert den Link, der das Vorhandensein eines Tags mit der Klasse "post__title_link" anzeigt. <br><br>  Der einfachste Weg, Daten zu speichern, besteht darin, sie in einer Datei zu speichern.  Also lass es uns tun. <br><br><pre> <code class="python hljs">url = <span class="hljs-string"><span class="hljs-string">"https://habr.com/ru/all/"</span></span> links = without_post(url, headers) <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> open(<span class="hljs-string"><span class="hljs-string">'parsed.txt'</span></span>, <span class="hljs-string"><span class="hljs-string">'w'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> f_obj: <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> name, href <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> links.items(): f_obj.write(name + <span class="hljs-string"><span class="hljs-string">':\n'</span></span> + href + <span class="hljs-string"><span class="hljs-string">'\n\n'</span></span>)</code> </pre><br>  Am Ende erhalten wir eine Datei, die die Namen und Links der BeitrÃ¤ge enthÃ¤lt, die wir von der ersten Seite gesammelt haben. <br><br>  Quellcode (vollstÃ¤ndig), nur ohne Kommentar: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> bs4 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> BeautifulSoup <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> bs <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> fake_useragent <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> UserAgent <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> requests ua = UserAgent() headers = {<span class="hljs-string"><span class="hljs-string">'accept'</span></span>: <span class="hljs-string"><span class="hljs-string">'*/*'</span></span>, <span class="hljs-string"><span class="hljs-string">'user-agent'</span></span>: ua.firefox} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">without_post</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(url, headers)</span></span></span><span class="hljs-function">:</span></span> response = requests.get(url, headers=headers) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> response.status_code == <span class="hljs-number"><span class="hljs-number">200</span></span>: soup = bs(response.text, <span class="hljs-string"><span class="hljs-string">'html.parser'</span></span>) links = {} <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> soup.find_all(<span class="hljs-string"><span class="hljs-string">'a'</span></span>, {<span class="hljs-string"><span class="hljs-string">'class'</span></span>: <span class="hljs-string"><span class="hljs-string">'post__title_link'</span></span>}): links.update({i.text: i.get(<span class="hljs-string"><span class="hljs-string">'href'</span></span>)}) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> links <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: print(<span class="hljs-string"><span class="hljs-string">"Connection Error"</span></span>) url = <span class="hljs-string"><span class="hljs-string">"https://habr.com/ru/all/"</span></span> links = without_post(url, headers) <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> open(<span class="hljs-string"><span class="hljs-string">'parsed.txt'</span></span>, <span class="hljs-string"><span class="hljs-string">'w'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> f_obj: <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> name, href <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> links.items(): f_obj.write(name + <span class="hljs-string"><span class="hljs-string">':\n'</span></span> + href + <span class="hljs-string"><span class="hljs-string">'\n\n'</span></span>)</code> </pre> <br>  Gutes Ergebnis!  Abgesehen von ZeilenumbrÃ¼chen und Kommentaren trafen wir genau 20 Zeilen.  FÃ¼r den Anfang ziemlich gut :) <br><br>  Wie versprochen, Links zur Dokumentation der verwendeten Bibliotheken: <br><br>  Anfragen: <a href="https://requests.readthedocs.io/en/master/" rel="nofollow">* squeeze *</a> <br>  bs4: <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/" rel="nofollow">* squeeze *</a> <br>  fake_useragent: <a href="https://pypi.org/project/fake-useragent/" rel="nofollow">* squeeze *</a> <br><br>  Vielen Dank fÃ¼r Ihre Aufmerksamkeit!  Bis bald <br><br>  <b>PS</b> Wenn es RÃ¼ckmeldungen gibt, lÃ¤sst der folgende Artikel nicht lange auf sich warten </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de482340/">https://habr.com/ru/post/de482340/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de482328/index.html">V & V nicht fÃ¼r Vendetta</a></li>
<li><a href="../de482330/index.html">Grundlegende Edelsteinliste fÃ¼r die Profilerstellung in Ruby on Rails</a></li>
<li><a href="../de482332/index.html">Wie ein Enthusiast unter DOS ein Wi-Fi-Netzwerk aufbaute</a></li>
<li><a href="../de482336/index.html">HÃ¤ndler haben Zugang zu Pressekonferenzen der Central Bank of England, bevor diese Ã¶ffentlich ausgestrahlt werden</a></li>
<li><a href="../de482338/index.html">Visual Studio fÃ¼r Mac: Steuern Sie Ihre IDE mit SchlÃ¼sseln</a></li>
<li><a href="../de482344/index.html">Machen Sie sich bereit fÃ¼r die EinfÃ¼hrung eines Social Ratings in Russland</a></li>
<li><a href="../de482348/index.html">Topologie und umfassende Analyse fÃ¼r einen ahnungslosen Spieleentwickler: Komprimieren einzelner 3D-Vektoren</a></li>
<li><a href="../de482352/index.html">Als ich fast 150k in den Wind warf oder die Geschichte der Installation von FremdbelÃ¼ftung in der Wohnung</a></li>
<li><a href="../de482354/index.html">ConfigureAwait: HÃ¤ufig gestellte Fragen</a></li>
<li><a href="../de482356/index.html">Verwenden von Windows Server ohne Explorer aus der Sicht eines normalen Windows-Benutzers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>