<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®‚Äçüë®‚Äçüëß‚Äçüëß üêî ‚úçüèª Rekko Challenge üîÜ üìû üöá</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoy estamos lanzando el Rekko Challenge 2019 , una competencia de aprendizaje autom√°tico del cine en l√≠nea Okko . 


 Le sugerimos que cree un sistema...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Rekko Challenge</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/okko/blog/439180/"><p><img src="https://habrastorage.org/webt/nn/ry/a8/nnrya8zeeuwrczokyqm6dq44mcw.jpeg" alt="Rekko Challenge"></p><br><p>  Hoy estamos lanzando el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Rekko Challenge 2019</a> , una competencia de aprendizaje autom√°tico del cine en l√≠nea <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Okko</a> . </p><br><p>  Le sugerimos que cree un sistema de recomendaci√≥n sobre los datos reales de uno de los cines en l√≠nea m√°s grandes de Rusia.  Estamos seguros de que esta tarea ser√° interesante tanto para principiantes como para especialistas experimentados.  Intentamos mantener el m√°ximo alcance para la creatividad, sin sobrecargarlo con conjuntos de datos de gigabytes con cientos de caracter√≠sticas precalculadas. </p><br><p>  Lea m√°s sobre Okko, la tarea, los datos, los premios y las reglas, a continuaci√≥n. </p><a name="habracut"></a><br><h2 id="zadacha">  Desaf√≠o </h2><br><p>  Usted tiene acceso a los datos sobre todas las vistas, calificaciones y adiciones a las pel√≠culas y series "Memorizadas" por el usuario por un per√≠odo de N d√≠as (N&gt; 60), as√≠ como a toda la metainformaci√≥n sobre el contenido.  Es necesario predecir qu√© pel√≠culas y series comprar√° o ver√° el usuario mediante suscripci√≥n durante los pr√≥ximos 60 d√≠as. </p><br><p>  En la siguiente secci√≥n, tratamos de describir lo m√≠nimo que necesita saber sobre los cines en l√≠nea para comprender r√°pidamente los datos y comenzar a analizarlos.  Si esta informaci√≥n no es relevante para usted, puede proceder inmediatamente a la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">descripci√≥n de los datos</a> . </p><br><h2 id="o-nashem-servise">  Acerca de nuestro servicio </h2><br><p>  Si un usuario quiere ver legalmente una pel√≠cula en Internet, tiene tres formas principales. </p><br><p> La primera forma es mirar gratis, interrumpiendo constantemente los comerciales ( <strong>AVOD</strong> , Advertising Video On Demand).  El segundo es comprar una pel√≠cula para su colecci√≥n o alquiler ( <strong>TVOD</strong> , Transactional Video On Demand).  El tercero es suscribirse por un per√≠odo determinado ( <strong>SVOD</strong> , Subscription Video On Demand). </p><br><p>  Okko solo funciona en modelos TVOD y SVOD.  No hay publicidad en absoluto en nuestro servicio. </p><br><p>  En total, el servicio tiene un poco m√°s de 10 mil pel√≠culas y series, alrededor de 6 mil de ellas est√°n disponibles por suscripci√≥n, el resto son solo para compra o alquiler.  Al mismo tiempo, se puede comprar casi cualquier contenido de suscripci√≥n.  Una excepci√≥n es, por ejemplo, los <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">programas de televisi√≥n de Amediateka</a> , solo se pueden ver por suscripci√≥n. </p><br><p><img src="https://habrastorage.org/webt/-b/le/7l/-ble7lmcuyxxnigbiussw59adng.png" alt="Distribuci√≥n de contenido por modelo de consumo."></p><br><p>  Seg√∫n qu√© modelo estar√° disponible la pel√≠cula, depende en gran medida del estudio que posea los derechos.  Concluyen un contrato con los cines en l√≠nea, que estipula cu√°ndo y para qu√© derechos estar√° disponible la pel√≠cula.  Como regla general, las condiciones son las mismas para todos los actores del mercado, pero a veces los estudios hacen concesiones a algunos cines u ofrecen condiciones m√°s favorables por m√°s dinero.  Entonces hay exclusivas. </p><br><p>  Por ejemplo, las principales innovaciones globales no entran en la suscripci√≥n de inmediato, sino solo despu√©s de 2-3 meses despu√©s de aparecer en el servicio.  Adem√°s, en las primeras semanas ni siquiera se pueden alquilar, solo est√° disponible la oportunidad de comprar para siempre.  Pero las pel√≠culas rusas pueden estar disponibles por suscripci√≥n inmediatamente despu√©s del lanzamiento y, a veces, incluso simult√°neamente con el inicio del alquiler en los cines fuera de l√≠nea. </p><br><p>  Cuando el contrato expira, la pel√≠cula deja de estar disponible, hasta la extensi√≥n del contrato vencido o la conclusi√≥n de uno nuevo. </p><br><p><img src="https://habrastorage.org/webt/n3/vk/ua/n3vkual7jetrhk1l54zceb-c8ys.jpeg" alt="Ejemplo de tarjeta de pel√≠cula inaccesible"></p><br><p>  Los per√≠odos de falta de derechos sobre el contenido son claramente visibles en los gr√°ficos del n√∫mero de vistas.  A continuaci√≥n, por ejemplo, hay un gr√°fico de la pel√≠cula "John Wick 2".  En primer lugar, puede parecer que el atraco se detuvo por un par de meses, pero no: los derechos hab√≠an terminado. </p><br><p><img src="https://habrastorage.org/webt/h8/mc/0q/h8mc0qauuyz_a-qtu2shswrjyg0.png" alt="Gr√°fico de vistas de la pel√≠cula &quot;John Wick 2&quot;"></p><br><p>  El pico m√°s alto en el gr√°fico anterior (marcado con una l√≠nea vertical) coincide con la fecha en que se agreg√≥ la pel√≠cula a la suscripci√≥n: este es un comportamiento muy caracter√≠stico para las novedades de alto perfil.  Nuestro servicio tiene 12 suscripciones: </p><br><ul><li>  Ocho tem√°ticas </li><li>  Serie de televisi√≥n Amediateka, </li><li>  Serie de televisi√≥n ABC, </li><li>  Pel√≠culas y series rusas del servicio START, </li><li>  Pel√≠culas 4K </li></ul><br><p>  Y dos paquetes de suscripci√≥n: Optimal, que incluye todas las suscripciones tem√°ticas, y Optimal + Amediateka. </p><br><p><img src="https://habrastorage.org/webt/iq/kn/6r/iqkn6rw39kfvmbza416dhpzllby.jpeg" alt="Interfaz de suscripci√≥n"></p><br><p>  Los m√°s populares, por supuesto, son metapaquetes.  De las suscripciones tem√°ticas, los usuarios prefieren World Cinema y Our Cinema. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/7ce/c03/2b9/7cec032b96c763d3d8f03b11f9b4079e.jpg"></p><br><p>  Pocos usuarios ven pel√≠culas solo por suscripci√≥n, la mayor√≠a solo compra pel√≠culas o compra adem√°s de la suscripci√≥n. </p><br><p>  Muy a menudo, los usuarios eligen comprar nuevos art√≠culos para el alquiler actual y los principales estrenos del a√±o pasado. </p><br><p>  La fuente m√°s popular de compras en la aplicaci√≥n es la secci√≥n "Recomendaciones", seguida de "Buscar", "Noticias" y "Cat√°logo".  Los usuarios compran parte de las pel√≠culas de "Similar" y "Memorizado". </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/5c2/2f3/c37/5c22f3c37bebd0f74d64a4d87c21ecf7.jpg"></p><br><p>  Uno de los principales problemas con los que estamos luchando activamente en Okko es el problema de los usuarios que eligen contenido.  Si observa el gr√°fico de la probabilidad de realizar una compra versus el tiempo que pas√≥ en el servicio (datos del a√±o anterior), ver√° que los usuarios est√°n listos para elegir y comprar una pel√≠cula dentro de los primeros 10 minutos, entonces la probabilidad de una compra est√° disminuyendo r√°pidamente.  Al mismo tiempo, sigue habiendo una gran parte de los usuarios que pasan en el servicio de media hora a una hora y no pueden elegir contenido adecuado para ellos. </p><br><p>  10 minutos, no tanto.  Durante este tiempo, el usuario, f√≠sicamente incapaz de estudiar el cat√°logo en detalle y seleccionar el contenido que le gusta. </p><br><p>  Aqu√≠ es donde entra Rekko, el sistema de recomendaci√≥n interna para el cine en l√≠nea Okko.  Rekko actualmente opera en dos secciones del servicio: "Recomendaciones" y "Similar". </p><br><p><img src="https://habrastorage.org/webt/y8/yo/vw/y8yovw9ikla8v28e31bijkry4uw.jpeg" alt="Secci√≥n de recomendaci√≥n de televisi√≥n"></p><br><p><img src="https://habrastorage.org/webt/ai/dl/qh/aidlqhz32tslrxilfq_i0_-rebk.jpeg" alt="Similar a la televisi√≥n"></p><br><p>  Para evaluar la satisfacci√≥n del usuario con el contenido, analizamos el hecho de la compra, las vistas por suscripci√≥n, el tiempo de visualizaci√≥n, agregando a las calificaciones memorizadas y de los usuarios. </p><br><p>  La escala de calificaci√≥n en Okko est√° representada por cinco asteriscos con medias divisiones: toma valores enteros de 0 a 10. </p><br><p><img src="https://habrastorage.org/webt/s4/jh/kd/s4jhkdrp_7gqdtqek8b8ih3xfru.jpeg" alt="Interfaz de calificaci√≥n"></p><br><p>  El usuario puede calificar la pel√≠cula en cualquier momento, independientemente del hecho de compra o visualizaci√≥n.  La puntuaci√≥n se puede cambiar un n√∫mero ilimitado de veces, pero no se puede deshacer. </p><br><p>  Puede "recordar" una pel√≠cula en cualquier momento, luego aparecer√° en "recordada" en el perfil del usuario.  Del mismo modo, se puede eliminar de all√≠. </p><br><p><img src="https://habrastorage.org/webt/l-/_e/m9/l-_em9ml6klqs_8deogrbv7jzeo.jpeg" alt="Interfaz de almacenamiento"></p><br><p><img src="https://habrastorage.org/webt/yo/a4/_h/yoa4_hap-jrswbxriwb608hc1wc.jpeg" alt="Pel√≠culas grabadas en perfil"></p><br><p>  El trabajo en Rekko comenz√≥ exactamente hace un a√±o y en este momento, de acuerdo con las pruebas A / B, nos permiti√≥ aumentar el n√∫mero promedio de compras en un 4%, los ingresos por transacciones en un 3%, la conversi√≥n a suscripci√≥n en un 5%, y los usuarios comenzaron a elegir pel√≠culas un 18% m√°s r√°pido . </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/61f/339/900/61f3399001f3e4a0e9ee6312c419bef0.jpg"></p><br><h2 id="dannye">  Datos </h2><br><p>  Todos los datos, excepto el tiempo de visualizaci√≥n y las clasificaciones, est√°n anonimizados o distorsionados.  El tiempo se expresa en unidades abstractas para las cuales se preserva la relaci√≥n de orden y distancia. </p><br><h3 id="transactionscsv">  transacciones.csv </h3><br><p>  Registros de todas las transacciones y vistas de contenido en ellos durante el per√≠odo de capacitaci√≥n.  La transacci√≥n aqu√≠ es la compra de una pel√≠cula para siempre, ya sea en alquiler o para iniciar la visualizaci√≥n por suscripci√≥n. </p><br><div class="scrollable-table"><table><thead><tr><th>  element_uid </th><th>  user_uid </th><th>  consumo_modo </th><th>  ts </th><th>  mirado_hora </th><th>  tipo_dispositivo </th><th>  fabricante_dispositivo </th></tr></thead><tbody><tr><td>  3336 </td><td>  5177 </td><td>  S </td><td>  44305181.2180206 </td><td>  4282 </td><td>  0 0 </td><td>  50 </td></tr><tr><td>  481 </td><td>  593316 </td><td>  S </td><td>  44305180.606027626 </td><td>  2989 </td><td>  0 0 </td><td>  11 </td></tr><tr><td>  4128 </td><td>  262355 </td><td>  S </td><td>  44305180.41444582 </td><td>  833 </td><td>  0 0 </td><td>  50 </td></tr></tbody></table></div><br><ul><li> <code>element_uid</code> : identificador de elemento </li><li>  <code>user_uid</code> : ID de usuario </li><li>  <code>consumption_mode</code> - tipo de consumo ( <code>P</code> - compra, <code>R</code> - alquiler, <code>S</code> - vista por suscripci√≥n) </li><li>  <code>ts</code> - tiempo de transacci√≥n </li><li>  <code>watched_time</code> : la cantidad de segundos observados por el usuario durante los segundos de esta transacci√≥n </li><li>  <code>device_type</code> : tipo an√≥nimo de dispositivo desde el que se realiz√≥ la transacci√≥n </li><li>  <code>device_manufacturer</code> : fabricante an√≥nimo del dispositivo desde el que se realiz√≥ la transacci√≥n </li></ul><br><p><img src="https://habrastorage.org/webt/tf/yj/zy/tfyjzy6svqhfspgca9kzlzmtwg8.png" alt="Distribuci√≥n de tiempo de observaci√≥n"></p><br><h3 id="ratingscsv">  ratings.csv </h3><br><p>  Informaci√≥n sobre valoraciones de usuarios para el per√≠odo de formaci√≥n.  La informaci√≥n se agrega, es decir  Si el usuario cambi√≥ su calificaci√≥n, solo se presentar√° el √∫ltimo valor en la tabla. </p><br><div class="scrollable-table"><table><thead><tr><th>  user_uid </th><th>  element_uid </th><th>  calificaci√≥n </th><th>  ts </th></tr></thead><tbody><tr><td>  571252 </td><td>  1364 </td><td>  10 </td><td>  44305174.26309871 </td></tr><tr><td>  63140 </td><td>  3037 </td><td>  10 </td><td>  44305139.28281821 </td></tr><tr><td>  443817 </td><td>  4363 </td><td>  8 </td><td>  44305136.20584908 </td></tr></tbody></table></div><br><ul><li>  <code>element_uid</code> : identificador de elemento </li><li>  <code>user_uid</code> : ID de usuario </li><li>  <code>rating</code> - <code>rating</code> definido por el usuario (de <code>0</code> a <code>10</code> ) </li><li>  <code>ts</code> - tiempo de clasificaci√≥n </li></ul><br><p><img src="https://habrastorage.org/webt/qc/eh/zm/qcehzmvinvz57efywfnga3eo67m.png" alt="Distribuci√≥n de calificaciones"></p><br><h3 id="bookmarkscsv">  bookmarks.csv </h3><br><p>  Los hechos que los usuarios agregan una pel√≠cula al "recordado".  La informaci√≥n se agrega, es decir  si el usuario elimin√≥ la pel√≠cula de "Guardado", no habr√° registro de agregarla all√≠ en la tabla. </p><br><div class="scrollable-table"><table><thead><tr><th>  user_uid </th><th>  element_uid </th><th>  ts </th></tr></thead><tbody><tr><td>  301135 </td><td>  7185 </td><td>  44305161.30743926 </td></tr><tr><td>  301135 </td><td>  4083 </td><td>  44305160.01187332 </td></tr><tr><td>  301135 </td><td>  10158 </td><td>  44305157.74463292 </td></tr></tbody></table></div><br><ul><li>  <code>element_uid</code> : identificador de elemento </li><li>  <code>user_uid</code> : ID de usuario </li><li>  <code>ts</code> - hora de agregar la pel√≠cula a la "recordada" </li></ul><br><h3 id="cataloguejson">  catalogue.json </h3><br><p>  Metainformaci√≥n sobre todos los elementos recomendados: pel√≠culas, series y pel√≠culas en serie. </p><br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"1983"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"movie"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"availability"</span></span>: [<span class="hljs-string"><span class="hljs-string">"purchase"</span></span>, <span class="hljs-string"><span class="hljs-string">"rent"</span></span>, <span class="hljs-string"><span class="hljs-string">"subscription"</span></span>], <span class="hljs-attr"><span class="hljs-attr">"duration"</span></span>: <span class="hljs-number"><span class="hljs-number">140</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_1"</span></span>: <span class="hljs-number"><span class="hljs-number">1657223.396513469</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_2"</span></span>: <span class="hljs-number"><span class="hljs-number">0.7536096584</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_3"</span></span>: <span class="hljs-number"><span class="hljs-number">39</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_4"</span></span>: <span class="hljs-number"><span class="hljs-number">1.1194091265</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_5"</span></span>: <span class="hljs-number"><span class="hljs-number">0.0</span></span>, <span class="hljs-attr"><span class="hljs-attr">"attributes"</span></span>: [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, ...] }, <span class="hljs-attr"><span class="hljs-attr">"2166"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"movie"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"availability"</span></span>: [<span class="hljs-string"><span class="hljs-string">"purchase"</span></span>, <span class="hljs-string"><span class="hljs-string">"rent"</span></span>], <span class="hljs-attr"><span class="hljs-attr">"duration"</span></span>: <span class="hljs-number"><span class="hljs-number">110</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_1"</span></span>: <span class="hljs-number"><span class="hljs-number">36764165.87817783</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_2"</span></span>: <span class="hljs-number"><span class="hljs-number">0.7360206399</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_3"</span></span>: <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_4"</span></span>: <span class="hljs-number"><span class="hljs-number">1.1386044027</span></span>, <span class="hljs-attr"><span class="hljs-attr">"feature_5"</span></span>: <span class="hljs-number"><span class="hljs-number">0.6547073468</span></span>, <span class="hljs-attr"><span class="hljs-attr">"attributes"</span></span>: [<span class="hljs-number"><span class="hljs-number">16738</span></span>, <span class="hljs-number"><span class="hljs-number">13697</span></span>, <span class="hljs-number"><span class="hljs-number">1066</span></span>, <span class="hljs-number"><span class="hljs-number">1089</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">5318</span></span>, <span class="hljs-number"><span class="hljs-number">308</span></span>, <span class="hljs-number"><span class="hljs-number">54</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>, <span class="hljs-number"><span class="hljs-number">33</span></span>, ...] }, ... }</code> </pre> <br><ul><li>  <code>type</code> : toma los valores de <code>movie</code> , <code>multipart_movie</code> o <code>series</code> </li><li>  <code>duration</code> : la duraci√≥n en minutos, redondeada a decenas (la duraci√≥n de la serie para series y pel√≠culas en serie) </li><li>  <code>availability</code> : derechos disponibles sobre el contenido (puede contener los valores de <code>purchase</code> , <code>rent</code> y <code>subscription</code> ) </li><li>  <code>attributes</code> : una bolsa de algunos atributos an√≥nimos </li><li>  <code>feature_1..5</code> : cinco materiales anonimizados y caracter√≠sticas ordinales </li></ul><br><p>  Los derechos disponibles se indican al final del per√≠odo de capacitaci√≥n y al comienzo de la prueba. </p><br><p>  <strong>Importante:</strong> en json, las teclas del diccionario solo pueden ser cadenas, as√≠ que aseg√∫rese de convertirlas a un n√∫mero si lee los identificadores en las tablas como n√∫meros (haga esto para ahorrar memoria). </p><br><p><img src="https://habrastorage.org/webt/zc/2o/zj/zc2ozj5hiw-focmppfjvsb-pebi.png" alt="Distribuci√≥n de caracter√≠sticas en el cat√°logo."></p><br><h2 id="metrika">  M√©trica </h2><br><p>  Como m√©trica, utilizamos la precisi√≥n media promedio (MAP) para 20 elementos, pero ligeramente modificada.  Durante el per√≠odo de prueba, el usuario podr√≠a consumir menos de 20 pel√≠culas.  Si en este caso consideramos un MAP honesto, el l√≠mite superior de la m√©trica ser√° menor que uno y los valores ser√°n peque√±os.  Por lo tanto, si el usuario ha consumido menos de 20 elementos, normalizamos por su n√∫mero y no por 20. </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>b</mi><mi>o</mi><mi>x</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>M</mi><mi>N</mi><mi>A</mi><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>@</mo></mrow><mn>20</mn></mrow><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi><mi>U</mi><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi></mrow><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>u</mi><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>U</mi></mrow></msub><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>n</mi><mi>u</mi></msub><mo>,</mo><mn>20</mn><mo stretchy=&quot;false&quot;>)</mo></mrow><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>20</mn></mrow></msubsup><msub><mi>r</mi><mi>u</mi></msub><mo stretchy=&quot;false&quot;>(</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><msub><mi>p</mi><mi>u</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>@</mo></mrow><mi>i</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="86.689ex" height="3.142ex" viewBox="0 -935.7 37324.3 1352.7" role="img" focusable="false" style="vertical-align: -0.969ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-62" x="1128" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-6F" x="1558" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-78" x="2043" y="0"></use><g transform="translate(2616,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-4E" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-41" x="1940" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-50" x="2690" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMAIN-40" x="3442" y="0"></use><g transform="translate(4220,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMAIN-30" x="500" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMAIN-3D" x="8115" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-66" x="9421" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-72" x="9972" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-61" x="10423" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-63" x="10953" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMAIN-31" x="11386" y="0"></use><g transform="translate(11887,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-76" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-65" x="1034" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-72" x="1500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-74" x="1952" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-55" x="2313" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-72" x="3331" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-76" x="3782" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-65" x="4268" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-72" x="4734" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-74" x="5186" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-73" x="17684" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-75" x="18154" y="0"></use><g transform="translate(18726,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-69" x="926" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-6E" x="1271" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-55" x="1872" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-66" x="21821" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-72" x="22372" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-61" x="22823" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-63" x="23353" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMAIN-31" x="23786" y="0"></use><g transform="translate(24287,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-69" x="1128" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-6E" x="1474" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMAIN-28" x="2074" y="0"></use><g transform="translate(2464,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-75" x="849" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMAIN-2C" x="3569" y="0"></use><g transform="translate(4014,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMAIN-30" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMAIN-29" x="5015" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-73" x="29941" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-75" x="30411" y="0"></use><g transform="translate(30983,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,360)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMAIN-32"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMAIN-30" x="500" y="0"></use></g><g transform="translate(878,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMAIN-31" x="1124" y="0"></use></g></g><g transform="translate(33111,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-75" x="638" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMAIN-28" x="34067" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-69" x="34457" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMAIN-29" x="34802" y="0"></use><g transform="translate(35192,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMAIN-40" x="36200" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-69" x="36978" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>m</mi><mi>b</mi><mi>o</mi><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mi>M</mi><mi>N</mi><mi>A</mi><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mo>@</mo></mrow><mn>20</mn></mrow><mo>=</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>l</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi><mi>U</mi><mtext>&nbsp;</mtext><mi>r</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi></mrow><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>u</mi><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>U</mi></mrow></msub><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><msub><mi>n</mi><mi>u</mi></msub><mo>,</mo><mn>20</mn><mo stretchy="false">)</mo></mrow><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>20</mn></mrow></msubsup><msub><mi>r</mi><mi>u</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><msub><mi>p</mi><mi>u</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>@</mo></mrow><mi>i</mi></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> \ mbox {MNAP @ 20} = \ frac {1} {\ lvert U \ rvert} \ sum_ {u \ in U} \ frac {1} {\ min (n_u, 20)} \ sum_ {i = 1} ^ {20} r_u (i) p_u @ i </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>p</mi><mi>u</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>@</mo></mrow><mi>k</mi><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>k</mi></mrow><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>k</mi></mrow></msubsup><msub><mi>r</mi><mi>u</mi></msub><mo stretchy=&quot;false&quot;>(</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="28.842ex" height="3.142ex" viewBox="-38.5 -935.7 12417.9 1352.7" role="img" focusable="false" style="vertical-align: -0.969ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-75" x="712" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMAIN-40" x="1008" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-6B" x="1786" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMAIN-3D" x="2586" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-66" x="3892" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-72" x="4442" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-61" x="4894" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-63" x="5423" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMAIN-31" x="5857" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-6B" x="6357" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-73" x="7129" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-75" x="7598" y="0"></use><g transform="translate(8171,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-6B" x="1242" y="499"></use><g transform="translate(878,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMAIN-31" x="1124" y="0"></use></g></g><g transform="translate(10298,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-75" x="638" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMAIN-28" x="11254" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-69" x="11644" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMAIN-29" x="11989" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>p</mi><mi>u</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>@</mo></mrow><mi>k</mi><mo>=</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>k</mi></mrow><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>k</mi></mrow></msubsup><msub><mi>r</mi><mi>u</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-2"> p_u @ k = \ frac {1} {k} \ sum_ {i = 1} ^ {k} r_u (i) </script></p><br><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>r</mi><mi>u</mi></msub><mo stretchy=&quot;false&quot;>(</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.833ex" height="2.66ex" viewBox="0 -832 2080.8 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-75" x="638" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMAIN-28" x="956" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-69" x="1345" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMAIN-29" x="1691" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>r</mi><mi>u</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-3"> r_u (i) </script>  - se encuentra <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.802ex" height="1.937ex" viewBox="0 -728.2 345.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-69" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi></math></span></span><script type="math/tex" id="MathJax-Element-4"> i </script>  El elemento predicho en el conjunto de elementos consumidos durante el per√≠odo de prueba por el usuario <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>u</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-75" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span><script type="math/tex" id="MathJax-Element-5"> u </script>  , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>n</mi><mi>u</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.567ex" height="1.817ex" viewBox="0 -520.7 1105.3 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/okko/blog/439180/&amp;usg=ALkJrhg32ms8Iwi5KRGlFv_d5Hocqeu2YQ#MJMATHI-75" x="849" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>n</mi><mi>u</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-6"> n_u </script>  Es el tama√±o de este conjunto.  Si de repente se olvidan las m√©tricas de calidad de clasificaci√≥n, hay <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">un excelente art√≠culo</a> sobre ellas en el centro </p><br><div class="spoiler">  <b class="spoiler_title">C√≥digo m√©trico en Cython</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">average_precision</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( dict data_true, dict data_predicted, const unsigned long int k )</span></span></span><span class="hljs-function"> -&gt; float:</span></span> cdef: unsigned long int n_items_predicted unsigned long int n_items_true unsigned long int n_correct_items unsigned long int item_idx double average_precision_sum double precision set items_true list items_predicted <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> data_true: <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> ValueError(<span class="hljs-string"><span class="hljs-string">'data_true is empty'</span></span>) average_precision_sum = <span class="hljs-number"><span class="hljs-number">0.0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> key, items_true <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> data_true.items(): items_predicted = data_predicted.get(key, []) n_items_true = len(items_true) n_items_predicted = min(len(items_predicted), k) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> n_items_true == <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> n_items_predicted == <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span> n_correct_items = <span class="hljs-number"><span class="hljs-number">0</span></span> precision = <span class="hljs-number"><span class="hljs-number">0.0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> item_idx <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(n_items_predicted): <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> items_predicted[item_idx] <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> items_true: n_correct_items += <span class="hljs-number"><span class="hljs-number">1</span></span> precision += &lt;double&gt;n_correct_items / &lt;double&gt;(item_idx + <span class="hljs-number"><span class="hljs-number">1</span></span>) average_precision_sum += &lt;double&gt;precision / &lt;double&gt;min(n_items_true, k) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> average_precision_sum / &lt;double&gt;len(data_true) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">metric</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(true_data, predicted_data, k=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">20</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> true_data_set = {k: set(v) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> k, v <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> true_data.items()} <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> average_precision(true_data_set, predicted_data, k=k)</code> </pre> </div></div><br><h2 id="prizy-i-pravila">  Premios y reglas </h2><br><p>  El fondo de premios es de 600 mil rublos: </p><br><ul><li>  <strong>300</strong> mil recibir√°n el ganador, </li><li>  <strong>200</strong> mil - el participante en segundo lugar </li><li>  <strong>100</strong> mil - un participante en el tercer lugar. </li></ul><br><p>  Las reglas son est√°ndar: no interrumpa la plataforma, use solo una cuenta, evite el intercambio de c√≥digo privado con otros participantes y no sea un empleado de Okko y Rambler. </p><br><h2 id="kak-nachat">  Como empezar </h2><br><p>  Puede ser dif√≠cil incluso para profesionales experimentados comenzar a participar en la competencia: necesita descubrir r√°pidamente una nueva √°rea de dominio, comprender y analizar datos y clasificar nuevas bibliotecas. </p><br><p>  Esperamos que en este art√≠culo podamos sumergirlo en el tema del cine en l√≠nea y describir los datos con suficiente detalle.  En el archivo con la tarea, encontrar√° el archivo <code>baseline.ipynb</code> , que contiene c√≥digo para cargar datos y un ejemplo de una soluci√≥n simple que utiliza el algoritmo de K vecinos m√°s cercanos. </p><br><p>  Si alg√∫n punto de la descripci√≥n de los datos y el dominio del dominio sigue sin estar claro, estaremos encantados de responder sus preguntas en los comentarios.  Tambi√©n puede hacer preguntas en el canal de telegramas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">@boosterspro</a> : la discusi√≥n principal de la competencia se llevar√° a cabo all√≠. </p><br><p>  <strong>Entonces, c√≥mo comenzar:</strong> </p><br><ol><li>  Reg√≠strese en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">boosters.pro</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">√∫nase a @boosterspro</a> ; </li><li>  Descargue los datos en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">la p√°gina de la competencia</a> o <a href="">aqu√≠</a> ; </li><li>  Abra <code>baseline.ipynb</code> , instale los paquetes necesarios, ejecute todo el c√≥digo y descargue su primera soluci√≥n; </li><li>  Intente modificar la l√≠nea base para mejorar el rendimiento; </li><li>  Experimento! </li></ol><br><p>  El Rekko Challenge comienza hoy, 18 de febrero.  Las decisiones se toman hasta el 18 de abril, 23:59:59 hora de Mosc√∫. </p><br><p>  ¬°Estamos esperando a todos y buena suerte! </p><br><p>  Por cierto, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">estamos buscando empleados</a> .  Incluido el desarrollador de sistemas de recomendaci√≥n. </p><br><p>  <strong>UPD 26/02/2019:</strong> Encontr√≥ un error en la formaci√≥n de datos de prueba, los reemplaz√≥ junto con el archivo <em>test_users.json</em> .  Todos los participantes reciben intentos adicionales. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/439180/">https://habr.com/ru/post/439180/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../439168/index.html">Sistemas de an√°lisis de clientes</a></li>
<li><a href="../439170/index.html">Los operadores celulares ayudar√°n a los bancos a verificar la precisi√≥n de los datos del cliente</a></li>
<li><a href="../439172/index.html">Extensi√≥n de macro Assert () para implementar un manejo m√≠nimo de errores</a></li>
<li><a href="../439174/index.html">D√≠a seguro de Internet: qu√© amenazas buscar en 2019</a></li>
<li><a href="../439176/index.html">Enviar un correo electr√≥nico con archivos adjuntos por JavaMailSender de SpringFramework</a></li>
<li><a href="../439182/index.html">C√≥mo distribuimos los pedidos entre los conductores en Yandex.Taxi</a></li>
<li><a href="../439184/index.html">Cambie su contrase√±a: prueba de pol√≠ticas de contrase√±a del servicio web</a></li>
<li><a href="../439186/index.html">UX Editor: historia real, vida rural</a></li>
<li><a href="../439190/index.html">C√≥mo crear una aplicaci√≥n de realidad aumentada usando ARCore</a></li>
<li><a href="../439192/index.html">PC Speaker To Eleven</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>