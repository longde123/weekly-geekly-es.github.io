<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧑🏼‍🤝‍🧑🏼 🚌 🧒 Réduisez les temps d'arrêt lors de la mise à niveau de Zimbra 🚀 😤 🚵🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Parmi les avantages de Zimbra Collaboration Suite Open-Source Edition, tels que la fiabilité, les hautes performances, ainsi qu'une solution gratuite,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Réduisez les temps d'arrêt lors de la mise à niveau de Zimbra</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/zimbra/blog/445206/"> Parmi les avantages de Zimbra Collaboration Suite Open-Source Edition, tels que la fiabilité, les hautes performances, ainsi qu'une solution gratuite, il convient également de mentionner l'apparition assez fréquente de nouvelles versions de Zimbra et l'ajout régulier de fonctionnalités exigées par la communauté.  Ainsi, par exemple, uniquement au cours de l'année écoulée, des fonctionnalités telles que la possibilité de récupérer indépendamment le mot de passe par l'utilisateur, la possibilité de modifier le calendrier par défaut, la prise en charge des carnets d'adresses hiérarchiques et d'autres opportunités commerciales utiles ont été ajoutées.  Cependant, historiquement, les responsables informatiques en Russie n'aiment pas particulièrement les mises à jour. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e98/93d/7d9/e9893d7d9f995c2a24dce02df7fa5d51.png" alt="image"><a name="habracut"></a><br><br>  L'ancien règle du monde selon lequel vous ne devez pas toucher à ce qui fonctionne si bien s'est fermement installé dans la tête des experts informatiques russes à la fin des années 90.  En effet, briser la stabilité des solutions de mise à jour, ainsi que les changements brusques d'interfaces, qui introduisaient la stupeur des utilisateurs, étaient monnaie courante à cette époque.  Cependant, les temps nouveaux posent de nouveaux défis pour les responsables informatiques, et maintenant l'approche «ne touchez pas à ce qui fonctionne» n'est tout simplement pas applicable.  Les informations sur la détection des vulnérabilités se propagent si rapidement dans le monde entier et les armées de cyber-attaquants écrivent des exploits pour ces vulnérabilités à un rythme tel que l'utilisation de versions obsolètes de logiciels dans l'entreprise comporte d'énormes risques pour la sécurité des informations.  Et surtout, ces risques sont grands lorsqu'il s'agit de plateformes de collaboration. <br><br>  Un autre argument typique contre la mise à jour régulière des systèmes d'information dans les entreprises est la nécessité de suspendre leur travail lors de l'installation des mises à jour.  Et un tel argument est en effet décisif pour les grandes entreprises et les fournisseurs de SaaS pour qui la disponibilité à 100% du service est importante.  C'est pourquoi chaque développeur, lors de la conception et du développement de sa propre solution, essaie de minimiser ou de réduire complètement à zéro le temps d'arrêt d'une solution logicielle lors de sa mise à jour.  Les développeurs de Zimbra ne font pas exception. <br><br>  Actuellement, il est possible de mettre à niveau Zimbra Collaboration Suite dans l'entreprise sans interruption du système d'information lui-même, mais en réalité, ce processus se révélera être une migration transparente d'un serveur Zimbra à un autre, où une version plus récente de ZCS est déjà installée à l'aide de Zextras Suite.  Nous avons déjà décrit ce processus dans un article précédent.  Ceux qui ne sont pas prêts à allouer des capacités de serveur supplémentaires pour la migration peuvent utiliser un certain nombre de conseils pour réduire les temps d'arrêt de Zimbra pendant le processus de mise à niveau. <br><br>  Le processus de mise à jour lui-même est une répétition du processus d'installation de Zimbra utilisant une version plus récente de la distribution.  En d'autres termes, il suffit de télécharger simplement la dernière version de ZCS sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Zimbra.com</a> , et lorsque l'installation commencera, le programme détectera automatiquement le Zimbra installé sur le serveur, puis proposera de le mettre à jour.  Dans la plupart des situations, la mise à jour a lieu automatiquement, mais si vous effectuez une mise à niveau à partir de Zimbra version 8.6 ou ultérieure, vous devrez peut-être réinstaller les modules memcached et zimbra-proxy, qui sont devenus obligatoires pour l'installation à partir de la version Zimbra 8.7. <br><br>  Il n'y a pas de conseils pour optimiser le temps de mise à niveau de Zimbra pour ceux qui utilisent la solution à serveur unique.  En règle générale, ces options d'installation sont utilisées dans les petites entreprises qui peuvent se permettre d'interrompre le système de collaboration, surtout si vous prévoyez de mettre à niveau Zimbra le soir ou la nuit. <br><br>  Quant à l'installation multiserveur Zimbra, il existe plusieurs astuces pour réduire les temps d'arrêt du système d'information.  Tout d'abord, cela concerne l'installation des mises à jour.  Donc, vous devez tout d'abord mettre à niveau le serveur avec LDAP.  Dans le cas où, dans votre entreprise, en plus du LDAP principal, il existe des serveurs avec réplique LDAP, vous pouvez "mettre à niveau" l'un des répliques LDAP vers le maître LDAP, afin d'éviter les longs temps d'arrêt lors de leur mise à niveau, tout en utilisant un pare-feu pour interdire les connexions à ce LDAP. Maître  Si votre infrastructure ne dispose que d'un seul serveur LDAP, vous pouvez éviter les longs temps d'arrêt pendant sa mise à niveau en créant un serveur de réplique LDAP virtuel.  Une fois le maître LDAP mis à jour, il sera possible de le remettre en service, puis de mettre à jour les serveurs LDAP restants. <br><br>  Serveurs suivants avec Zimbra MTA et Zimbra Proxy.  Si vous effectuez une mise à niveau à partir d'anciennes versions de Zimbra, après la mise à niveau des serveurs avec MTA, il n'est pas superflu d'exécuter les commandes suivantes dans l'interface de ligne de commande afin que les paramètres par défaut soient corrects: <br><br><pre><code class="plaintext hljs">zmprov mcf zimbraMtaCommandDirectory /opt/zimbra/common/sbin zmprov mcf zimbraMtaDaemonDirectory /opt/zimbra/common/libexec zmprov mcf zimbraMtaMailqPath /opt/zimbra/common/sbin/mailq zmprov mcf zimbraMtaManpageDirectory /opt/zimbra/common/share/man zmprov mcf zimbraMtaNewaliasesPath /opt/zimbra/common/sbin/newaliases zmprov mcf zimbraMtaSendmailPath /opt/zimbra/common/sbin/sendmail</code> </pre> <br>  Ce n'est qu'après la mise à jour de tous les nœuds avec LDAP, MTA et proxy que vous pouvez commencer à mettre à niveau vos magasins de messagerie.  Comme tous les précédents, les serveurs avec boîtes aux lettres doivent être mis à jour un par un.  La fonction doMoveMailbox, qui est intégrée à l'hiver de Zextras Powerstore et permet de transférer les boîtes aux lettres des utilisateurs d'une boîte aux lettres au sein de la même infrastructure, aidera à éviter l'inaccessibilité des boîtes aux lettres.  Ainsi, par exemple, la commande <b>zxsuite powerstore doMoveMailbox -a user@company.ru -f mailstore1.company.ru -t mailstore2.company.ru sync</b> transférera la boîte utilisateur <b>user@company.ru</b> du premier magasin de courrier électronique vers le second, laissant l'entrée correspondante dans LDAP .  Après cela, vous devez supprimer la boîte aux lettres de l'ancien serveur à l'aide de la commande du formulaire <b>zmpurgeoldmbox -a user@company.ru -s mailstore1.company.ru</b> .  Et une fois la mise à niveau du stockage du courrier terminée, vous pouvez effectuer le transfert dans la direction opposée, afin que tout revienne à son état d'origine.  Notez que si vous souhaitez disposer d'une liste complète de boîtes aux lettres dans la banque de courrier, vous pouvez automatiser le processus de transfert des boîtes aux lettres vers un nouveau serveur et vice versa.  Vous pouvez également utiliser la <b>commande doMoveMailbox</b> pour empêcher l'indisponibilité des boîtes aux lettres les plus importantes pour votre entreprise. <br><br>  Une fois tous les stockages de courrier mis à jour, le processus de mise à niveau de l'installation multiserveur Zimbra peut être considéré comme terminé.  Un temps d'arrêt notable pour les utilisateurs, si vous avez utilisé la commande <b>doMoveMailbox</b> pour toutes les boîtes aux lettres, a été pratiquement évité. <br><br>  Pour toutes questions relatives à la Suite Zextras, vous pouvez contacter le représentant de Zextras Katerina Triandafilidi par e-mail katerina@zextras.com </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr445206/">https://habr.com/ru/post/fr445206/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr445196/index.html">Kubernetes 1.14: Aperçu des principales innovations</a></li>
<li><a href="../fr445198/index.html">Lecteur de console Cmus pour Linux</a></li>
<li><a href="../fr445200/index.html">Les fournisseurs d'accès Internet demandent au ministère des Communications de les laisser entrer chez eux sans contrat</a></li>
<li><a href="../fr445202/index.html">Happy Potter et l'Ordre de CSS</a></li>
<li><a href="../fr445204/index.html">Conversion en continu des bases de données Firebird 2.5 au format ODS12 (Firebird 3.0)</a></li>
<li><a href="../fr445208/index.html">Niveaux de maturité informatique d'entreprise</a></li>
<li><a href="../fr445210/index.html">Colonie de crypto-monnaie</a></li>
<li><a href="../fr445212/index.html">NetBIOS entre les mains d'un pirate</a></li>
<li><a href="../fr445214/index.html">Nous pompons les crochets React à l'aide de FRP</a></li>
<li><a href="../fr445220/index.html">AMD Radeon VII: puce haut de gamme (partie 3)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>