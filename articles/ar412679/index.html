<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐๐ฟ ๐ฅ ๐๐ฝ ุฅูุดุงุก ุชุทุจูู Android ููุชุนุฑู ุนูู ุงููุต ูู 10 ุฏูุงุฆู. ููุฏ ุงูุฑุคูุฉ ุงููุญููู ๐ถ ๐ฉ๏ธ ๐จ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุณุฎุฉ ููุฏูู ูู ุงูุจุฑูุงูุฌ ุงูุชุนูููู 
 
 

 ูููุฑ ุงูุชุนุฑู ุงูุจุตุฑู ุนูู ุงูุฃุญุฑู ( OCR ) ููููุจููุชุฑ ุงููุฏุฑุฉ ุนูู ูุฑุงุกุฉ ุงููุต ูู ุตูุฑุฉ ูุง ุ ููุง ูุณูุญ ููุชุทุจููุงุช ุจููู ุงูุนู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุฅูุดุงุก ุชุทุจูู Android ููุชุนุฑู ุนูู ุงููุต ูู 10 ุฏูุงุฆู. ููุฏ ุงูุฑุคูุฉ ุงููุญููู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/412679/" style=";text-align:right;direction:rtl"><h2 style=";text-align:right;direction:rtl">  ูุณุฎุฉ ููุฏูู ูู ุงูุจุฑูุงูุฌ ุงูุชุนูููู </h2><br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/mIEfqtn9nts" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<p style=";text-align:right;direction:rtl"> ูููุฑ <em>ุงูุชุนุฑู ุงูุจุตุฑู ุนูู ุงูุฃุญุฑู</em> ( <strong>OCR</strong> ) ููููุจููุชุฑ ุงููุฏุฑุฉ ุนูู ูุฑุงุกุฉ ุงููุต ูู ุตูุฑุฉ ูุง ุ ููุง ูุณูุญ ููุชุทุจููุงุช ุจููู ุงูุนูุงูุงุช ุฃู ุงูููุงูุงุช ุฃู ุงููุดุฑุงุช ุฃู ุตูุญุงุช ุงููุต ุฃู ุงูููุงุฆู ุฃู ุฃู ุดูุก ูู ุดูู ูุต.  ุชููุฑ <code>Mobile Vision Text API</code> ููุทูุฑู <code>Android</code> ููุฒุฉ <code>OCR</code> ูููุฉ ูููุซููุฉ ุชุฏุนู ูุนุธู ุฃุฌูุฒุฉ <code>Android</code> ููุง ุชุฒูุฏ ูู ุญุฌู ุชุทุจููู. </p><br><p style=";text-align:right;direction:rtl">  ูู ูุฐุง ุงูุจุฑูุงูุฌ ุงูุชุนูููู ุ ุณุชููู ุจุฅูุดุงุก ุชุทุจูู ูุชู ููู ุงูุชุนุฑู ุนูู ูู ุงููุต ุงูุฐู ููุน ูู ุงูุฅุทุงุฑ ูุชุดุบููู ุฃุซูุงุก ุนูููุฉ ุชุณุฌูู ุงูููุฏูู. <a name="habracut"></a></p><br><p style=";text-align:right;direction:rtl">  ูุดุฑูุง ุฃูุถูุง ููุงูุงุช ุญูู ููุฒุงุช Mobile Vision ุงูุฃุฎุฑู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุชุนุฑู ุนูู ุงูุฃุดูุงุก ูุงูุนูุงุทู ุงูุจุดุฑูุฉ</a> ุ </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุชุนุฑู ุนูู ุงููุฌู</a> </li></ul><br><p style=";text-align:right;direction:rtl">  ูููู ุชูุฒูู ุดูุฑุฉ ุงููุตุฏุฑ <a href="">ููุง</a> . </p><br><p style=";text-align:right;direction:rtl">  ุฃู ุงุณุชูุณุงุฎ ูุณุชูุฏุน <code>GitHub</code> ูู ุณุทุฑ ุงูุฃูุงูุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/googlesamples/android-vision.git</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุญุชูู ูุณุชูุฏุน <code>visionSamples</code> ุนูู ุงูุนุฏูุฏ ูู ุงููุดุงุฑูุน <code>visionSamples</code> ุงููุชุนููุฉ ุจู <code>Mobile Vision</code> .  ูุชู ุงุณุชุฎุฏุงู ุงุซููู ููุท ูู ูุฐุง ุงูุฏุฑุณ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <strong><img src="https://habrastorage.org/getpro/habr/post_images/1e8/d51/ef8/1e8d51ef802bcde6a7d36bf83490b24d.png" width="22" height="22"></strong>  <strong>ocr-codelab / ocr-reader-start</strong> ูู ุงูุฑูุฒ ุงูุฃููู ุงูุฐู ุณุชุณุชุฎุฏูู ูู ูุฐุง ุงูุฏุฑุณ. </li><li style=";text-align:right;direction:rtl"> <strong><img src="https://habrastorage.org/getpro/habr/post_images/1e8/d51/ef8/1e8d51ef802bcde6a7d36bf83490b24d.png" width="22" height="22"></strong>  <strong>ocr-codelab / ocr-reader-complete</strong> - ุงูููุฏ ุงููุงูู ููุชุทุจูู ุงูููุงุฆู.  ููููู ุงุณุชุฎุฏุงูู ูุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุฅุตูุงุญูุง ุฃู ุงูุงูุชูุงู ูุจุงุดุฑุฉ ุฅูู ุชุทุจูู ุงูุนูู. </li></ul><br><h2 style=";text-align:right;direction:rtl">  ุชุญุฏูุซ ุฎุฏูุงุช Google Play </h2><br><p style=";text-align:right;direction:rtl">  ูุฏ ุชุญุชุงุฌ ุฅูู ุชุฑููุฉ ุงูุฅุตุฏุงุฑ ุงููุซุจุช ูู <code>Google Repository</code> ูุงุณุชุฎุฏุงู <code>Mobile Vision Text API</code> . </p><br><p style=";text-align:right;direction:rtl">  ุงูุชุญ <code>Android Studio</code> ูุงูุชุญ <code>SDK Manager</code> : </p><br><img src="https://habrastorage.org/getpro/habr/post_images/c09/c24/18f/c09c2418f842d747bb135a7d868c4931.png" width="240" height="117"><br><p style=";text-align:right;direction:rtl"><br>  ุชุฃูุฏ ูู ุชุญุฏูุซ <code>Google Repository</code> .  ูุฌุจ ุฃู ูููู ุงูุฅุตุฏุงุฑ <code>26</code> ุนูู ุงูุฃูู. </p><br><img src="https://habrastorage.org/getpro/habr/post_images/55f/a3f/0ee/55fa3f0ee048bc97f5b14b9fff7734ea.png" width="750" height="502"><br><p style=";text-align:right;direction:rtl"></p><br><h2 style=";text-align:right;direction:rtl">  ุฃุถู ุชุจุนูุฉ ูุฎุฏูุงุช Google Play ููู ุจุฅูุดุงุก ุชุทุจูู ูุงุฐูุฉ </h2><br><p style=";text-align:right;direction:rtl">  ุงูุขู ููููู ูุชุญ ูุดุฑูุน ุงููุจุชุฏุฆูู: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุงุฎุชุฑ ุฏููู ุงูุชุดุบูู <strong><img src="https://habrastorage.org/getpro/habr/post_images/1e8/d51/ef8/1e8d51ef802bcde6a7d36bf83490b24d.png" width="22" height="22"></strong>  <code>ocr-reader</code> ูู ุงูููุฏ ุงูุฐู ุชู ุชูุฒููู ( <strong>File</strong> &gt; <strong>Open</strong> &gt; <code>ocr-codelab/ocr-reader-start</code> ). </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุฃุถู ุชุจุนูุฉ <code>Google Play Services</code> ุฅูู ุงูุชุทุจูู.  ุจุฏูู ูุฐู ุงูุชุจุนูุฉ ุ ูู ุชููู <code>Text API</code> ูุชุงุญุฉ. </p><br></li></ol><br><p style=";text-align:right;direction:rtl">  ูุฏ ูุดูุฑ ุงููุดุฑูุน ุฅูู ุนุฏู ูุฌูุฏ <strong>ููู ุนุฏุฏ ุตุญูุญ / google_play_services_version</strong> ููุนุทู ุฎุทุฃ.  ูุฐุง ุฃูุฑ ุทุจูุนู ุ ุณูููู ุจุฅุตูุงุญู ูู ุงูุฎุทูุฉ ุงูุชุงููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุงูุชุญ ููู <code>build.gradle</code> ูู ูุญุฏุฉ <code>app</code> ููู ุจุชุบููุฑ ูุชูุฉ ุงูุชุจุนูุฉ ูุชุถููู ุชุจุนูุฉ <code>play-services-vision</code> ููุงู.  ุนูุฏูุง ูููู ูู ุดูุก ุฌุงูุฒูุง ุ ูุฌุจ ุฃู ูุจุฏู ุงูููู ููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs nginx"><span class="hljs-section"><span class="hljs-section">dependencies</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">implementation</span></span> fileTree(dir: <span class="hljs-string"><span class="hljs-string">'libs'</span></span>, include: [<span class="hljs-string"><span class="hljs-string">'*.jar'</span></span>]) implementation <span class="hljs-string"><span class="hljs-string">'com.android.support:support-v4:26.1.0'</span></span> implementation <span class="hljs-string"><span class="hljs-string">'com.android.support:design:26.1.0'</span></span> implementation <span class="hljs-string"><span class="hljs-string">'com.google.android.gms:play-services-vision:15.0.0'</span></span> }</code> </pre> <br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุงููุฑ <img src="https://habrastorage.org/getpro/habr/post_images/f7d/f74/7c5/f7df747c534410a9c0391d47de0bb0e3.png" width="21" height="21">  ุฒุฑ ูุฒุงููุฉ <code>Gradle</code> . </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุงููุฑ <img src="https://habrastorage.org/getpro/habr/post_images/82f/7df/0d1/82f7df0d1dce3d570e7c35d7d8fb4575.png" width="22" height="23">  ุฒุฑ ุงูุจุฏุก. </p><br></li></ol><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุจุถุน ุซูุงูู ุ ุณุชุฑู ุดุงุดุฉ "ูุฑุงุกุฉ ุงููุต" ุ ูููู ูุฐู ูุฌุฑุฏ ุดุงุดุฉ ุณูุฏุงุก. </p><br><img src="https://habrastorage.org/getpro/habr/post_images/c41/e98/6dc/c41e986dc883fb67fe0caf0760e99378.png" width="349" height="621"><br><p style=";text-align:right;direction:rtl"><br>  ูุง ุดูุก ูุญุฏุซ ุงูุขู ูุฃูู ูู <code>CameraSource</code> ุชููุฆุฉ <code>CameraSource</code> .  ููููุนู ุฐูู. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูู ุชูุฌุญ ุ ููููู ูุชุญ ูุดุฑูุน <strong><img src="https://habrastorage.org/getpro/habr/post_images/1e8/d51/ef8/1e8d51ef802bcde6a7d36bf83490b24d.png" width="22" height="22"></strong>  <code>ocr-reader-complete</code> ูุชุฃูุฏ ูู ุฃูู ูุนูู ุจุดูู ุตุญูุญ.  ูุฐุง ุงููุดุฑูุน ูู ูุณุฎุฉ ุฌุงูุฒุฉ ูู ุงูุฏุฑุณ ุ ูุฅุฐุง ูู ูุนูู ูุฐุง ุงูุฅุตุฏุงุฑ ุ ููุฌุจ ุนููู ุงูุชุญูู ูู ุฃู ูู ุดูุก ุนูู ูุง ูุฑุงู ูุน ุฅุนุฏุงุฏุงุช ุฌูุงุฒู ูุฅุนุฏุงุฏุงุช <code>Android Studio</code> . </p><br><h2 style=";text-align:right;direction:rtl">  ุชูููู TextRecognizer ู CameraSource </h2><br><p style=";text-align:right;direction:rtl">  ููุจุฏุก ุ ุณูููู ุจุฅูุดุงุก <code>TextRecognizer</code> ุจูุง.  ูุนุงูุฌ ูุงุฆู ุงููุงุดู ุงูุตูุฑ ููุญุฏุฏ ุงููุต ุงูุฐู ูุธูุฑ ุฏุงุฎููุง.  ุจุนุฏ ุงูุชููุฆุฉ ุ ูููู ุงุณุชุฎุฏุงู <code>TextRecognizer</code> ูููุดู ุนู ุงููุต ูู ุฌููุน ุฃููุงุน ุงูุตูุฑ.  ุงุจุญุซ ุนู ุทุฑููุฉ <code>createCameraSource</code> ูุฃูุดุฆ <code>TextRecognizer</code> : </p><br><p style=";text-align:right;direction:rtl">  <em>OcrCaptureActivity.java</em> </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createCameraSource</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">boolean</span></span></span></span><span class="hljs-function"><span class="hljs-params"> autoFocus, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">boolean</span></span></span></span><span class="hljs-function"><span class="hljs-params"> useFlash)</span></span></span><span class="hljs-function"> </span></span>{ Context context = getApplicationContext(); <span class="hljs-comment"><span class="hljs-comment">// </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> Create the TextRecognizer TextRecognizer textRecognizer = new TextRecognizer.Builder(context).build(); // </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> Set the TextRecognizer's Processor. // </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> Check if the TextRecognizer is operational. // </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> Create the mCameraSource using the TextRecognizer. }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  <code>TextRecognizer</code> ุงูุขู ุฌุงูุฒูุง <code>TextRecognizer</code> .  ููุน ุฐูู ุ ูุฏ ูุง ุชุนูู ุจุนุฏ.  ุฅุฐุง ูู ููู ุงูุฌูุงุฒ ูุญุชูู ุนูู ุฐุงูุฑุฉ ูุงููุฉ ุฃู ุชุนุฐุฑ ุนูู <code>Google Play Services</code> ุชุญููู ุชุจุนูุงุช <code>OCR</code> ุ ููู ูุนูู ูุงุฆู <code>TextRecognizer</code> .  ูุจู ุฃู ูุจุฏุฃ ูู ุงุณุชุฎุฏุงูู ููุชุนุฑู ุนูู ุงููุต ุ ูุฌุจ ุนูููุง ุงูุชุญูู ูู ุฃูู ุฌุงูุฒ.  ุณูุถูู ูุฐุง ุงูุชุญูู <code>createCameraSource</code> ุจุนุฏ ุชููุฆุฉ <code>TextRecognizer</code> : </p><br><p style=";text-align:right;direction:rtl">  <em>OcrCaptureActivity.java</em> </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> Check if the TextRecognizer is operational. if (!textRecognizer.isOperational()) { Log.w(TAG, "Detector dependencies are not yet available."); // Check for low storage. If there is low storage, the native library will not be // downloaded, so detection will not become operational. IntentFilter lowstorageFilter = new IntentFilter(Intent.ACTION_DEVICE_STORAGE_LOW); boolean hasLowStorage = registerReceiver(null, lowstorageFilter) != null; if (hasLowStorage) { Toast.makeText(this, R.string.low_storage_error, Toast.LENGTH_LONG).show(); Log.w(TAG, getString(R.string.low_storage_error)); } }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุขู ุจุนุฏ ุฃู <code>TextRecognizer</code> ุฃู <code>TextRecognizer</code> ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุ ูููููุง ุงุณุชุฎุฏุงูู ููุชุนุฑู ุนูู ุงูุฅุทุงุฑุงุช ุงููุฑุฏูุฉ.  ููููุง ูุฑูุฏ ุฃู ููุนู ุดูุฆูุง ุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู: ุงูุฑุฃ ุงููุต ูู ูุถุน ุงูููุฏูู.  ููููุงู ุจุฐูู ุ ุณูููู ุจุฅูุดุงุก ูุตุฏุฑ <code>CameraSource</code> ูุณุจููุง ููุชุญูู ูู ุงููุงููุฑุง.  ูุญู ุจุญุงุฌุฉ ุฅูู ุชุนููู ุฏูุฉ ุนุงููุฉ ููุชุตููุฑ ูุชูููู ุงูุชุฑููุฒ ุงูุชููุงุฆู ููุชุนุงูู ูุน ูููุฉ ุงูุชุนุฑู ุนูู ุงููุต ุงูุตุบูุฑ.  ุฅุฐุง ููุช ูุชุฃูุฏูุง ูู ุฃู ุงููุณุชุฎุฏููู ุณููุธุฑูู ุฅูู ูุชู ูุตูุฉ ูุจูุฑุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุงูุฅุดุงุฑุงุช ุ ูููููู ุงุณุชุฎุฏุงู ุฏูุฉ ุฃูู ุ ููู ุซู ุณุชููู ูุนุงูุฌุฉ ุงูุฅุทุงุฑ ุฃุณุฑุน: </p><br><p style=";text-align:right;direction:rtl">  <em>OcrCaptureActivity.java</em> </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> Create the cameraSource using the TextRecognizer. cameraSource = new CameraSource.Builder(getApplicationContext(), textRecognizer) .setFacing(CameraSource.CAMERA_FACING_BACK) .setRequestedPreviewSize(1280, 1024) .setRequestedFps(15.0f) .setFlashMode(useFlash ? Camera.Parameters.FLASH_MODE_TORCH : null) .setFocusMode(autoFocus ? Camera.Parameters.FOCUS_MODE_CONTINUOUS_VIDEO : null) .build();</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅููู ูุง ูุฌุจ ุฃู ุชุจุฏู ุนููู ุทุฑููุฉ <code>createCameraSource</code> ุนูุฏ ุงูุงูุชูุงุก: </p><br><p style=";text-align:right;direction:rtl">  <em>OcrCaptureActivity.java</em> </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createCameraSource</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">boolean</span></span></span></span><span class="hljs-function"><span class="hljs-params"> autoFocus, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">boolean</span></span></span></span><span class="hljs-function"><span class="hljs-params"> useFlash)</span></span></span><span class="hljs-function"> </span></span>{ Context context = getApplicationContext(); <span class="hljs-comment"><span class="hljs-comment">// Create the TextRecognizer TextRecognizer textRecognizer = new TextRecognizer.Builder(context).build(); // </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> Set the TextRecognizer's Processor. // Check if the TextRecognizer is operational. if (!textRecognizer.isOperational()) { Log.w(TAG, "Detector dependencies are not yet available."); // Check for low storage. If there is low storage, the native library will not be // downloaded, so detection will not become operational. IntentFilter lowstorageFilter = new IntentFilter(Intent.ACTION_DEVICE_STORAGE_LOW); boolean hasLowStorage = registerReceiver(null, lowstorageFilter) != null; if (hasLowStorage) { Toast.makeText(this, R.string.low_storage_error, Toast.LENGTH_LONG).show(); Log.w(TAG, getString(R.string.low_storage_error)); } } // Create the cameraSource using the TextRecognizer. cameraSource = new CameraSource.Builder(getApplicationContext(), textRecognizer) .setFacing(CameraSource.CAMERA_FACING_BACK) .setRequestedPreviewSize(1280, 1024) .setRequestedFps(15.0f) .setFlashMode(useFlash ? Camera.Parameters.FLASH_MODE_TORCH : null) .setFocusMode(autoFocus ? Camera.Parameters.FOCUS_MODE_CONTINUOUS_VIDEO : null) .build(); }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุจุชุดุบูู ุงูุชุทุจูู ุ ุณุชุฑู ุฃู ุงูููุฏูู ูุฏ ุจุฏุฃ!  ูููู ููุนุงูุฌุฉ ุงูุตูุฑ ูู ุงููุงููุฑุง ุ ูุญุชุงุฌ ุฅูู ุฅุถุงูุฉ ูุฐุง <code>TODO</code> ุงูุฃุฎูุฑ ูุฅูุดุงุก <code>createCameraSource</code> : ุฅูุดุงุก <code>Processor</code> ููุนุงูุฌุฉ ุงููุต ุนูุฏ ูุตููู. </p><br><h2 style=";text-align:right;direction:rtl">  ุฅูุดุงุก OcrDetectorProcessor </h2><br><p style=";text-align:right;direction:rtl">  ูููู <code>TextRecognizer</code> ุงูุขู ุงูุชุดุงู ุงููุต ุนูู ุงูุฅุทุงุฑุงุช ุงููุฑุฏูุฉ ุจุงุณุชุฎุฏุงู ุทุฑููุฉ ุงูุงูุชุดุงู ูู <code>TextRecognizer</code> .  ูุฐุง ููููู ุงูุนุซูุฑ ุนูู ูุต ุ ุนูู ุณุจูู ุงููุซุงู ุ ูู ุตูุฑุฉ ููุชูุบุฑุงููุฉ.  ูููู ููุฑุงุกุฉ ุงููุต ูุจุงุดุฑุฉ ุฃุซูุงุก ุชุตููุฑ ุงูููุฏูู ุ ุชุญุชุงุฌ ุฅูู ุชูููุฐ <code>Processor</code> ุจูุนุงูุฌุฉ ุงููุต ุจูุฌุฑุฏ ุธููุฑู ุนูู ุงูุดุงุดุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุงูุชูู ุฅูู ูุฆุฉ <code>OcrDetectorProcessor</code> ุจุชุทุจูู ูุงุฌูุฉ <code>Detector.Processor</code> : </p><br><p style=";text-align:right;direction:rtl">  <em>OcrDetectorProcessor.java</em> </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OcrDetectorProcessor</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Detector</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Processor</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TextBlock</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> GraphicOverlay&lt;OcrGraphic&gt; graphicOverlay; OcrDetectorProcessor(GraphicOverlay&lt;OcrGraphic&gt; ocrGraphicOverlay) { graphicOverlay = ocrGraphicOverlay; } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุชูููุฐ ูุฐู ุงููุงุฌูุฉ ุ ุชุญุชุงุฌ ุฅูู ุชุฌุงูุฒ ุทุฑููุชูู.  ุงูุฃูู ุ ูุชููู ุชููู <code>receiveDetections</code> ุ ูุชููู <code>TextBlocks</code> ูู <code>TextRecognizer</code> ุนูุฏ ุงูุชุดุงููุง.  ูุชู ุงุณุชุฎุฏุงู ุงูุฅุตุฏุงุฑ ุงูุซุงูู ูุฅุทูุงู ุงูููุงุฑุฏ ุนูุฏ ุชุฏููุฑ <code>TextRecognizer</code> .  ูู ูุฐู ุงูุญุงูุฉ ุ ูุญุชุงุฌ ููุท ุฅูู ูุณุญ ุงูููุญุฉ ุงูุฑุณูููุฉ ุ ููุง ุณูุคุฏู ุฅูู ุญุฐู ุฌููุน ูุงุฆูุงุช <code>OcrGraphic</code> . </p><br><p style=";text-align:right;direction:rtl">  ุณูุญุตู ุนูู <code>TextBlocks</code> <code>OcrGraphic</code> ูุงุฆูุงุช <code>OcrGraphic</code> ููู ูุชูุฉ ูุตูุฉ ููุชุดููุง ุงููุนุงูุฌ.  ูููู ุจุชุทุจูู ููุทู ุฑุณููู ูู ุงูุฎุทูุฉ ุงูุชุงููุฉ. </p><br><p style=";text-align:right;direction:rtl">  <em>OcrDetectorProcessor.java</em> </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">receiveDetections</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Detector.Detections&lt;TextBlock&gt; detections)</span></span></span><span class="hljs-function"> </span></span>{ graphicOverlay.clear(); SparseArray&lt;TextBlock&gt; items = detections.getDetectedItems(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; items.size(); ++i) { TextBlock item = items.valueAt(i); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (item != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; item.getValue() != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { Log.d(<span class="hljs-string"><span class="hljs-string">"Processor"</span></span>, <span class="hljs-string"><span class="hljs-string">"Text detected! "</span></span> + item.getValue()); OcrGraphic graphic = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OcrGraphic(graphicOverlay, item); graphicOverlay.add(graphic); } } } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">release</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ graphicOverlay.clear(); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุขู ุจุนุฏ ุฃู ุฃุตุจุญ ุงููุนุงูุฌ ุฌุงูุฒูุง ุ ูุญุชุงุฌ ุฅูู ุชูููู <code>textRecognizer</code> ูุงุณุชุฎุฏุงูู.  ุงุฑุฌุน ุฅูู ุขุฎุฑ <code>TODO</code> ุงููุชุจูู ูู ุทุฑููุฉ <code>OcrCaptureActivity</code> ูู <code>OcrCaptureActivity</code> : </p><br><p style=";text-align:right;direction:rtl">  <em>OcrCaptureActivity.java</em> </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// Create the TextRecognizer TextRecognizer textRecognizer = new TextRecognizer.Builder(context).build(); // </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> Set the TextRecognizer's Processor. textRecognizer.setProcessor(new OcrDetectorProcessor(graphicOverlay));</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุขู ูู ุจุชุดุบูู ุงูุชุทุจูู.  ุนูุฏ ูุฐู ุงูููุทุฉ ุ ุนูุฏ ุชุญุฑูู ุงููุงููุฑุง ููู ุงููุต ุ ุณุชุฑู ุฑุณุงุฆู ุงูุชุตุญูุญ "ุชู ุงููุดู ุนู ุงููุต!"  ูู <code>Android Monitor Logcat</code> !  ููู ูุฐู ููุณุช ุทุฑููุฉ ุจุตุฑูุฉ ููุบุงูุฉ ูุชุตูุฑ ูุง ุชุฑุงู <code>TextRecognizer</code> ุ ุฃููุณ ูุฐููุ </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูุฎุทูุฉ ุงูุชุงููุฉ ุ ุณูุฑุณู ูุฐุง ุงููุต ุนูู ุงูุดุงุดุฉ. </p><br><h2 style=";text-align:right;direction:rtl">  ุฑุณู ุงููุต ุนูู ุงูุดุงุดุฉ </h2><br><p style=";text-align:right;direction:rtl">  ุฏุนููุง ูุทุจู ุทุฑููุฉ <code>draw</code> ูู <code>OcrGraphic</code> .  ูุญู ุจุญุงุฌุฉ ุฅูู ููู ูุง ุฅุฐุง ูุงู ููุงู ูุต ูู ุงูุตูุฑุฉ ุ ูุชุญููู ุฅุญุฏุงุซูุงุช ุญุฏูุฏูุง ุฅูู ุฅุทุงุฑุงุช ููุงุดูุฉ ุ ุซู ุฑุณู ูู ูู ุงูุญุฏูุฏ ูุงููุต. </p><br><p style=";text-align:right;direction:rtl">  <em>OcrGraphic.java</em> </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Canvas canvas)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> Draw the text onto the canvas. if (text == null) { return; } // Draws the bounding box around the TextBlock. RectF rect = new RectF(text.getBoundingBox()); rect = translateRect(rect); canvas.drawRect(rect, rectPaint); // Render the text at the bottom of the box. canvas.drawText(text.getValue(), rect.left, rect.bottom, textPaint); }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุจุชุดุบูู ุงูุชุทุจูู ูุงุฎุชุจุฑู ุนูู ูุฐุง ุงููููุฐุฌ ุงููุตู: </p><br><img src="https://habrastorage.org/getpro/habr/post_images/9f9/62d/41d/9f962d41d7ee963958a8bbc2f88b97ec.png" width="663" height="169"><br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ุชุฑู ุธููุฑ ุฅุทุงุฑ ุนูู ุงูุดุงุดุฉ ูุญุชูู ุนูู ูุต!  ููููู ุงููุนุจ ุจููู ุงููุต ุจุงุณุชุฎุฏุงู <code>TEXT_COLOR</code> . </p><br><p style=";text-align:right;direction:rtl">  ูุงุฐุง ุนู ูุฐุงุ </p><br><img src="https://habrastorage.org/getpro/habr/post_images/8f2/09a/d7c/8f209ad7cd7ae77245abaa3250ea91d2.png" width="621" height="441"><br><p style=";text-align:right;direction:rtl">  ูุจุฏู ุงูุฅุทุงุฑ ุญูู ุงููุต ุตุญูุญูุง ุ ูููู ุงููุต ูู ุฃุณููู. </p><br><img src="https://habrastorage.org/getpro/habr/post_images/8dc/0ef/ec1/8dc0efec1d11dadff02a2ca7aa83d752.png" width="351" height="622"><br><p style=";text-align:right;direction:rtl"><br>  ูุฐูู ูุฃู ุงููุญุฑู ูููู ูู ุงููุต ุงูุฐู ูุชุนุฑู ุนููู ูู <code>TextBlock</code> ูุงุญุฏุฉ ุ ุญุชู ุฅุฐุง ุฑุฃู ุฌููุฉ ููุณูุฉ ุฅูู ุนุฏุฉ ุฃุณุทุฑ.  ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุงูุญุตูู ุนูู ุงูุนุฑุถ ุจุงููุงูู ุ ููุฐุง ููุงุณุจ ุฌุฏูุง.  ูููู ูุงุฐุง ูู ููุช ุชุฑูุฏ ุฃู ุชุนุฑู ุฃูู ููุน ูู ุณุทุฑ ูุฑุฏู ูู ุงููุตุ </p><br><p style=";text-align:right;direction:rtl">  ููููู ุงูุญุตูู ุนูู <code>Lines</code> ูู <code>TextBlock</code> ุนู ุทุฑูู ุงุณุชุฏุนุงุก <code>getComponents</code> ุ ููู ุซู ุ ูู ุฎูุงู ุงููุฑุฒ ุนุจุฑ ูู ุณุทุฑ ุ ููููู ุจุณูููุฉ ุงูุญุตูู ุนูู ูููุนู ูุงููุต ุฏุงุฎูู.  ูุฐุง ูุณูุญ ูู ุจุฑุณู ุงููุต ูู ุงูููุงู ุงูุฐู ูุธูุฑ ููู ุญููุง. </p><br><p style=";text-align:right;direction:rtl">  <em>OcrGraphic.java</em> </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Canvas canvas)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> Draw the text onto the canvas. if (text == null) { return; } // Draws the bounding box around the TextBlock. RectF rect = new RectF(text.getBoundingBox()); rect = translateRect(rect); canvas.drawRect(rect, rectPaint); // Break the text into multiple lines and draw each one according to its own bounding box. List&lt;? extends Text&gt; textComponents = text.getComponents(); for(Text currentText : textComponents) { float left = translateX(currentText.getBoundingBox().left); float bottom = translateY(currentText.getBoundingBox().bottom); canvas.drawText(currentText.getValue(), left, bottom, textPaint); } }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุญุงูู ูุฐุง ุงููุต ูุฑุฉ ุฃุฎุฑู: </p><br><img src="https://habrastorage.org/getpro/habr/post_images/8f2/09a/d7c/8f209ad7cd7ae77245abaa3250ea91d2.png" width="655" height="465"><br><p style=";text-align:right;direction:rtl">  ุนุธูู!  ููููู ุญุชู ุชูุณูู ุงููุต ุงูููุฌูุฏ ุฅูู ููููุงุช ุฃุตุบุฑ ุ ุจูุงุกู ุนูู ุงุญุชูุงุฌุงุชู.  ููููู ุงุณุชุฏุนุงุก <code>getComponents</code> ูู ูู ุณุทุฑ ูุงูุญุตูู ุนูู <code>Elements</code> (ุงููููุงุช ุงููุงุชูููุฉ).  ูู ุงููููู ุชูููู <code>textSize</code> ุจุญูุซ ูุฃุฎุฐ ุงููุต ูุณุงุญุฉ ูุจูุฑุฉ ูุซู ุงููุต ุงููุนูู ุนูู ุงูุดุงุดุฉ. </p><br><img src="https://habrastorage.org/getpro/habr/post_images/102/3e0/2d2/1023e02d2d8659ec0a4d51662241037e.png" width="349" height="620"><br><p style=";text-align:right;direction:rtl"></p><br><h2 style=";text-align:right;direction:rtl">  ูุฑุงุกุฉ ุงููุต ุนูุฏ ุงูููุฑ ุนููู </h2><br><p style=";text-align:right;direction:rtl">  ุงูุขู ูุชู ุชุญููู ุงููุต ูู ุงููุงููุฑุง ุฅูู ุฎุทูุท ููุธูุฉ ุ ููุชู ุนุฑุถ ูุฐู ุงูุฎุทูุท ุนูู ุงูุดุงุดุฉ.  ููููุนู ุดูุฆูุง ุขุฎุฑ ูุนูู. </p><br><p style=";text-align:right;direction:rtl">  ุจุงุณุชุฎุฏุงู <code>TextToSpeech API</code> ุงููุฏูุฌ ูู <code>Android</code> ูุงูุทุฑููุฉ <code>OcrGraphic</code> ูู <code>OcrGraphic</code> ุ ูููููุง ุชุนููู ุงูุชุทุจูู ููุชุญุฏุซ ุจุตูุช ุนุงูู ุนูุฏ ุงูููุฑ ุนูู ุงููุต. </p><br><p style=";text-align:right;direction:rtl">  ุฃููุงู ุ ุฏุนูุง ูุทุจู ุงูุฃุณููุจ <code>contains</code> <code>OcrGraphic</code> .  ูุญุชุงุฌ ููุท ุฅูู ุงูุชุญูู ููุง ุฅุฐุง ูุงูุช ุฅุญุฏุงุซูุงุช <code>y</code> ูุต ุถูู ุญุฏูุฏ ุงููุต ุงููุนุฑูุถ. <br>  <em>OcrGraphic.java</em> </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">contains</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> y)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> Check if this graphic's text contains this point. if (text == null) { return false; } RectF rect = new RectF(text.getBoundingBox()); rect = translateRect(rect); return rect.contans(x, y); }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฏ ุชูุงุญุธ ุฃู ููุงู ุงููุซูุฑ ูู ุงูููุงุณู ุงููุดุชุฑูุฉ ูุน ุทุฑููุฉ <code>Draw</code> !  ูู ูุฐุง ุงููุดุฑูุน ุ ูุฌุจ ุฃู ุชููู ูุงุฏุฑูุง ุนูู ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ุงูุฑูุฒ ุ ูููู ููุง ูุชุฑู ูู ุดูุก ููุง ูู ููุท ูู ุฃุฌู ุงููุซุงู. </p><br><p style=";text-align:right;direction:rtl">  ุงูุขู ุฏุนูุง ููุชูู ุฅูู ุทุฑููุฉ <code>onTap</code> ูู <code>OcrCaptureActivity</code> ููุนุงูุฌุฉ ุงูููุฑ ุนูู ุงููุต ุ ุฅุฐุง ูุงู ููุงู ูุงุญุฏ ูู ูุฐุง ุงูููุงู. </p><br><p style=";text-align:right;direction:rtl">  <em>OcrCaptureActivity.java</em> </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onTap</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> rawX, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> rawY)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> Speak the text when the user taps on screen. OcrGraphic graphic = graphicOverlay.getGraphicAtLocation(rawX, rawY); TextBlock text = null; if (graphic != null) { text = graphic.getTextBlock(); if (text != null &amp;&amp; text.getValue() != null) { Log.d(TAG, "text data is being spoken! " + text.getValue()); // </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> Speak the string. } else { Log.d(TAG, "text data is null"); } } else { Log.d(TAG,"no text detected"); } return text != null; }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููููู ุชุดุบูู ุงูุชุทุจูู ูุงูุชุฃูุฏ ูู ุฃู ุงูููุฑ ุนูู ุงููุต ุชุชู ูุนุงูุฌุชู ุจุงููุนู ูู ุฎูุงู <code>Android Monitor Logcat</code> . </p><br><p style=";text-align:right;direction:rtl">  ุฏุนููุง ูุฌุนู ุชุทุจูููุง ูุชุญุฏุซ!  ุงูุชูู ุฅูู ุจุฏุงูุฉ <code>Activity</code> ูุงุจุญุซ ุนู ุทุฑููุฉ <code>onCreate</code> .  ุนูุฏ ุจุฏุก ุงูุชุทุจูู ุ ูุฌุจ ุนูููุง ุชููุฆุฉ ูุญุฑู <code>TextToSpeech</code> ููุงุณุชุฎุฏุงู ูู ุงููุณุชูุจู. </p><br><p style=";text-align:right;direction:rtl">  <em>OcrCaptureActivity.java</em> </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle bundle)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// (Portions of this method omitted) // </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> Set up the Text To Speech engine. TextToSpeech.OnInitListener listener = new TextToSpeech.OnInitListener() { @Override public void onInit(final int status) { if (status == TextToSpeech.SUCCESS) { Log.d("TTS", "Text to speech engine started successfully."); tts.setLanguage(Locale.US); } else { Log.d("TTS", "Error starting the text to speech engine."); } } }; tts = new TextToSpeech(this.getApplicationContext(), listener); }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุนูู ุงูุฑุบู ูู ุญูููุฉ ุฃููุง ูููุง ุจุชููุฆุฉ <code>TextToSpeech</code> ุจุดูู ุตุญูุญ ุ ููุงุนุฏุฉ ุ ูุง ุชุฒุงู ุจุญุงุฌุฉ ุฅูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงูุนุงูุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุนูุฏูุง ูุง ูุฒุงู ุงููุญุฑู ุบูุฑ ุฌุงูุฒ ูู ุงููุฑุฉ ุงูุฃููู ุงูุชู ุชููุฑ ูููุง ุนูู ุงููุต. </p><br><p style=";text-align:right;direction:rtl">  <code>TextToSpeech</code> ูุนุชูุฏ ุฃูุถูุง ุนูู ุงููุบุฉ.  ููููู ุชุบููุฑ ุงููุบุฉ ุจูุงุกู ุนูู ูุบุฉ ุงููุต ุงููุนุชุฑู ุจู.  ูุง ูุชู ุชุถููู ุงูุชุนุฑู ุนูู ุงููุบุฉ ูู <code>Mobile Vision Text API</code> ุ ููููู ูุชุงุญ ูู ุฎูุงู <code>Google Translate API</code> .  ููุบุฉ ููุชุนุฑู ุนูู ุงููุต ุ ููููู ุงุณุชุฎุฏุงู ูุบุฉ ุฌูุงุฒ ุงููุณุชุฎุฏู. </p><br><p style=";text-align:right;direction:rtl">  ุฑุงุฆุน ุ ูู ูุง ุชุจูู ูู ุฅุถุงูุฉ ุฑูุฒ ุชุดุบูู ุงููุต ูู ุทุฑููุฉ <code>onTap</code> . </p><br><p style=";text-align:right;direction:rtl">  <em>OcrCaptureActivity.java</em> </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onTap</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> rawX, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> rawY)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> Speak the text when the user taps on screen. OcrGraphic graphic = graphicOverlay.getGraphicAtLocation(rawX, rawY); TextBlock text = null; if (graphic != null) { text = graphic.getTextBlock(); if (text != null &amp;&amp; text.getValue() != null) { Log.d(TAG, "text data is being spoken! " + text.getValue()); // Speak the string. tts.speak(text.getValue(), TextToSpeech.QUEUE_ADD, null, "DEFAULT"); } else { Log.d(TAG, "text data is null"); } } else { Log.d(TAG,"no text detected"); } return text != null; }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุขู ุ ุนูุฏ ุจุฏุก ุงูุชุทุจูู ูุงูููุฑ ุนูู ุงููุต ุงูููุชุดู ุ ุณูููู ุฌูุงุฒู ุจุชุดุบููู.  ุฌุฑุจูุง! </p><br><h2 style=";text-align:right;direction:rtl">  ุฅุชูุงู </h2><br><p style=";text-align:right;direction:rtl">  ุงูุขู ูุฏูู ุชุทุจูู ููููู ุงูุชุนุฑู ุนูู ุงููุต ูู ุงููุงููุฑุง ูุงูุชุญุฏุซ ุจุตูุช ุนุงู! </p><br><p style=";text-align:right;direction:rtl">  ููููู ุชุทุจูู ุงููุนุฑูุฉ ุงูููุชุณุจุฉ ูู ุงูุชุนุฑู ุนูู ุงููุต ูู ุชุทุจููุงุชู ุงูุฃุฎุฑู.  ุนูู ุณุจูู ุงููุซุงู ุ ุงูุฑุฃ ุงูุนูุงููู ูุฃุฑูุงู ุงูููุงุชู ูู ุจุทุงูุงุช ุงูุนูู ุ ุงุจุญุซ ูู ุงููุต ูู ุตูุฑ ููุชูุบุฑุงููุฉ ููุณุชูุฏุงุช ูุฎุชููุฉ.  ุจุงุฎุชุตุงุฑ ุ ุงุณุชุฎุฏู <code>OCR</code> ุญูุซูุง ุชุฑูุฏ ุงูุชุนุฑู ุนูู ุงููุต ูู ุงูุตูุฑุฉ. </p><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุตุฏุฑ</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar412679/">https://habr.com/ru/post/ar412679/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar412667/index.html">ุชุณุชุฎุฏู Cybergroup Turla Metasploit ูู ุญููุฉ ุงูุจุนูุถ</a></li>
<li><a href="../ar412669/index.html">ุฅุฏุงุฑุฉ ุงูููุช ููุณุช ูุฎููุฉ: ููู ุชูุนู ุงููุฒูุฏ</a></li>
<li><a href="../ar412671/index.html">ูุญุฏุฉ ุชุญูู BLE: ุทุฑููุฉ ุฌุฏูุฏุฉ ุชูุงููุง ููุชูุงุนู ูุน ุฃุฌูุฒุฉ BLE</a></li>
<li><a href="../ar412675/index.html">ุนููุฏ ูุนูุงููู ูุชุนุฏุฏุฉ ูู Bitcoin ู Ethereum</a></li>
<li><a href="../ar412677/index.html">ูุตูููุฉ ุงูุชุชุจุน</a></li>
<li><a href="../ar412681/index.html">ุงูุญุณุงุจุงุช ุงูุซูุงุฆูุฉ ูุญุณุงุจ ุนุดุฑู</a></li>
<li><a href="../ar412683/index.html">ุฃูู ูููู ุชุชุนูู ุชุนููู ุงูุขูุฉุ</a></li>
<li><a href="../ar412685/index.html">ุชุชุจุน ูุณุงุฑ GPU ูููุญุฏุฉ - ุงูุฌุฒุก 2</a></li>
<li><a href="../ar412687/index.html">ุชูููุฐ IdM. ุงูุฅุฌุฑุงุกุงุช ูุงููุณุงุฆู ุงูุชูููุฉ - ูู ุงูุฃุณุงุณู ุฅูู IdM</a></li>
<li><a href="../ar412689/index.html">ุชุจุณุท ุชุญูููุงุช ุชูููููุฌูุง ุงููุนูููุงุช ุงูุชูุจุคูุฉ ูุฑุงูุจุฉ ุงูุชุทุจูู ุงูููุฒุน</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>