<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü¶ì üë™ üôÖüèø A hist√≥ria da cria√ß√£o de um aplicativo m√≥vel para crian√ßas que permite que voc√™ ganhe dinheiro com sua mente. Continua√ß√£o üíπ ü§æüèø ‚ÑπÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Esta √© a segunda parte da hist√≥ria (misturada com a hist√≥ria dos meus erros e suas solu√ß√µes) sobre como eu (por cerca de dois anos no meu tempo livre)...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>A hist√≥ria da cria√ß√£o de um aplicativo m√≥vel para crian√ßas que permite que voc√™ ganhe dinheiro com sua mente. Continua√ß√£o</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/414683/"><p> <img src="https://habrastorage.org/webt/k1/hu/cx/k1hucxdp80g6ypvp9ib_6cs4658.png" alt="Continua√ß√£o da hist√≥ria do desenvolvimento do aplicativo m√≥vel iOS / Android para motivar as crian√ßas a fazer matem√°tica" width="780" height="644"></p><br><p>  Esta √© a segunda parte da hist√≥ria (misturada com a hist√≥ria dos meus erros e suas solu√ß√µes) sobre como eu (por cerca de dois anos no meu tempo livre) desenvolvi um aplicativo m√≥vel (para iOS / Android) que motivaria minha filha a resolver exemplos de matem√°tica.  Como resultado, descobriu-se um aplicativo que permite que uma crian√ßa ganhe dinheiro com sua mente. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Leia a primeira parte aqui</a> . </p><br><h3>  Plano da parte dois </h3><br><ul><li>  Sobre como escrever c√≥digo </li><li>  Sobre o controle de vers√£o </li><li>  Sobre dublagem </li><li>  Sobre o √≠cone </li><li>  Sobre a compila√ß√£o para Android e sobre o tamanho </li><li>  Sobre a constru√ß√£o para iOS e sobre o tamanho </li><li>  Sobre o t√≠tulo e a promo√ß√£o </li><li>  Estat√≠sticas </li><li>  Do que me arrependo </li><li>  O que entendeu </li><li>  Refer√™ncias </li></ul><br><h2>  Curiosidades na programa√ß√£o que facilita minha vida </h2><br><ul><li>  Desde Mono, continuo usando <em>// TODO</em> (nos coment√°rios) para marcar lugares que precisam ser finalizados.  Em seguida, todos esses locais podem ser convenientemente monitorados na guia Lista de tarefas (Ctrl + \, T √© chamado): </li></ul><a name="habracut"></a><br><p><img src="https://habrastorage.org/webt/ly/bx/e7/lybxe7_dxf0lhqedrkw9ydpybp4.png" alt="Usando // todo para criar uma lista de tarefas" width="780" height="580"></p><br><ul><li>  Recentemente, comecei a usar um recurso como <em>#region</em> , por exemplo, para ocultar √°reas de enumera√ß√£o de vari√°veis: </li></ul><br><p><img src="https://habrastorage.org/webt/uj/_c/0b/uj_c0b_miqmokyhuak3xluoyndc.png" alt="usando regi√µes no c√≥digo" width="780" height="570"></p><br><ul><li>  √© conveniente quebrar parte do c√≥digo com algumas constru√ß√µes usando a sequ√™ncia de teclas de atalho Ctrl + K, Ctrl + S.  Por exemplo, seleciono a parte do c√≥digo que precisa ser inserida no if e pressione Ctrl + K e, em seguida, pressione Ctrl + S, digite o nome do operador (se) necess√°rio e pressione Enter. </li><li>  simplifica bastante o trabalho com c√≥digo se voc√™ aderir a um estilo √∫nico, por exemplo, como aqui - o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Guia de Estilo C # com Unity em mente</a> . </li><li>  Estou muito feliz por ter me tornado amigo de Coroutine - essas s√£o, grosso modo, fun√ß√µes que expandem sua execu√ß√£o em v√°rios quadros.  I.e.  eles n√£o tentam concluir nenhuma tarefa em um quadro (calculando-o por meio segundo, reduzindo o desempenho para 2 FPS), mas fazem um pouco no primeiro quadro, um pouco no segundo e assim por diante, para que o jogo n√£o desacelere.  Seu outro objetivo √© executar algo que n√£o precisa ser feito diretamente em cada quadro (por exemplo, verifique algo 3 vezes por segundo). </li></ul><br><p>  O exemplo abaixo mostra a corotina de um sem√°foro que, infinitamente (a cada dez segundos), acende uma luz amarela, vermelha e verde: </p><br><pre><code class="hljs cs"><span class="hljs-function"><span class="hljs-function">IEnumerator </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TrafficLights</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-literal"><span class="hljs-literal">true</span></span>) { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">yield</span></span></span><span class="hljs-function"> return new </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WaitForSeconds</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">10f</span></span></span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">yield</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">StartCoroutine</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params">.GetComponent&lt;Lamp&gt;(</span></span></span><span class="hljs-function">).</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BlinkYellow</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>))</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">yield</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">StartCoroutine</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params">.GetComponent&lt;Lamp&gt;(</span></span></span><span class="hljs-function">).</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BlinkRed</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>))</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">yield</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">StartCoroutine</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params">.GetComponent&lt;Lamp&gt;(</span></span></span><span class="hljs-function">).</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BlinkGreen</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>))</span></span>; } }</code> </pre> <br><p>  Se na linguagem humana, a <em>instru√ß√£o yield</em> apenas diz ao Unity que √© necess√°rio transferir a execu√ß√£o da fun√ß√£o para o pr√≥ximo quadro (quantas vezes for necess√°rio) at√© que seja executada e, em seguida, prossiga para a pr√≥xima instru√ß√£o de rendimento.  T.O.  Os <em>TrafficLights da Coroutine</em> ser√£o executados assim: </p><br><ol><li>  primeiro, h√° uma espera de 10 segundos (primeiro rendimento), </li><li>  depois, a corotina BlinkYellow √© iniciada (segundo rendimento) e at√© terminar, a corotina BlinkRed n√£o √© iniciada, </li><li>  Ap√≥s a conclus√£o do BlinkYellow, o BlinkRed √© lan√ßado, </li><li>  Ap√≥s a conclus√£o do BlinkRed, o BlinkGreen √© lan√ßado, </li><li>  ent√£o o ciclo se repete desde o in√≠cio (ver ponto 1). </li></ol><br><h2>  Controle de vers√£o, bem, apenas realmente necess√°rio! </h2><br><p>  O v√≠deo que me ajudou a come√ßar a usar o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GitHub</a> em conjunto com o Unity - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como usar o GitHub com o Unity</a> . </p><br><p>  Apesar de eu mesmo (sozinho, sem equipe) escrever o c√≥digo, percebi que o controle de vers√£o do c√≥digo √© simplesmente vital para mim: </p><br><ul><li>  Parei de ter medo de fazer altera√ß√µes importantes no c√≥digo que poderiam arruinar o projeto. </li><li>  √â muito f√°cil retornar √† sua condi√ß√£o de trabalho anterior. </li><li>  √â conveniente comparar arquivos com c√≥digo. </li><li>  Voc√™ pode ver claramente o que mudou no c√≥digo. </li><li>  N√£o importa o que aconte√ßa com o meu computador, eu sempre tenho uma vers√£o de backup na nuvem. </li></ul><br><p>  Mas somente ao trabalhar com controle de vers√£o, voc√™ precisa se acostumar a confirmar (postar atualiza√ß√µes) em por√ß√µes muito pequenas.  Para n√£o ser como o meu, troquei 20 arquivos, adicionei uma tonelada de novas funcionalidades e fiz tudo de uma vez sob o nome "Fuh, agora finalmente funciona". </p><br><p>  √â bom que eu tenha descoberto que √© melhor n√£o adicionar arquivos de cache (pasta Library), arquivos tempor√°rios (pasta tmp, obj) ao reposit√≥rio e tudo o que o Unity gera em tempo real.  De fato, apenas as pastas Assets e ProjectSettings precisavam ser adicionadas ao reposit√≥rio. </p><br><p>  N√£o √© necess√°rio usar o GitHub, porque seu ponto negativo √© que, em uma conta gratuita, √© imposs√≠vel tornar o c√≥digo privado (vis√≠vel apenas para voc√™).  Mas h√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GitLab</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Bitbucket</a> , sempre que poss√≠vel. </p><br><h2>  Como eu prprrrruk no microfone </h2><br><p>  Entendo minha inscri√ß√£o como educacional e tento, se poss√≠vel, n√£o usar distra√ß√µes.  Portanto, √†s vezes os usu√°rios reclamam, por exemplo, da falta de m√∫sica ou de uma interface muito simples (embora uma interface simples n√£o seja porque eu queria tanto, mas porque n√£o sei como faz√™-lo melhor).  Com a m√∫sica, estou um pouco em uma encruzilhada agora: quero acrescentar e cutucar (√© improv√°vel que os professores aprove a decis√£o de fazer um dever de matem√°tica para a m√∫sica). </p><br><p>  M√∫sica, m√∫sica, mas sem dublagem √© imposs√≠vel.  No come√ßo, procurei os sons de que precisava entre os livres, mas depois percebi que leva mais tempo para pesquisar do que se eu mesmo os tivesse produzido.  Portanto, simplesmente criei a maioria dos sons com a boca em um microfone de telefone e os processei usando o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Audacity</a> (um software gratuito de v√°rias plataformas para grava√ß√£o e edi√ß√£o de √°udio que eu costumava converter som de um formato para outro). </p><br><p>  Na maioria das vezes, a l√≥gica para criar um efeito sonoro no Audacity era a seguinte: </p><br><ol><li>  Corte tudo desnecess√°rio. </li><li>  Utilizou o efeito Redu√ß√£o de ru√≠do (para remover o ru√≠do da grava√ß√£o). </li><li>  Adicionado o som do efeito de desenho animado Wahwah. </li><li>  Com efeitos, Bass e Treble foram tocados com frequ√™ncias para que o som soasse mais agrad√°vel nos alto-falantes dos smartphones. </li><li>  Se eu dissesse alguma coisa, os efeitos do Change Pitch, Speed ‚Äã‚Äãe Tempo mudavam o som da minha voz para esquilos. </li></ol><br><p>  No in√≠cio, meu som ficou significativamente atr√°s do evento (n√£o no editor, mas no smartphone).  A op√ß√£o <em>Tamanho do buffer do DSP</em> definida como <em>Melhor lat√™ncia</em> (Editar -&gt; Configura√ß√µes do projeto -&gt; √Åudio) ajudou e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">estas s√£o as dicas</a> (tanto na pergunta quanto na resposta). </p><br><h2>  Como a filha gerou id√©ias de √≠cones </h2><br><p>  Enquanto desenvolvia o aplicativo, tentei v√°rias vezes criar os √≠cones pessoalmente, mas nenhum deles se enraizou (e, na verdade, algum tipo de res√≠duo surgiu).  Portanto, quando se tratava de uma publica√ß√£o aberta, confiei o desenvolvimento de um √≠cone para minha filha.  Expliquei a ela que o √≠cone deveria ser atraente e explica o significado do aplicativo.  Ela surgiu com grande entusiasmo e instantaneamente desenhou uma imagem completamente inadequada.  Eu o rejeitei e expliquei o que exatamente precisa ser aprimorado ou n√£o ser usado.  Ent√£o tudo correu como esperado - ela ficou ofendida e parou de desenhar √≠cones. </p><br><p>  Ap√≥s meio m√™s, o insulto passou e ela abordou a tarefa mais detalhadamente: cortou quadrados do caderno na caixa (o tamanho do √≠cone na tela do iPod) e come√ßou a desenhar op√ß√µes uma a uma: </p><br><p><img src="https://habrastorage.org/webt/yi/bk/gk/yibkgkp_synqv6cxb5vg15jt6i0.jpeg" alt="Op√ß√µes de √≠cone desenhadas pela filha" width="780" height="670"></p><br><p>  Me trouxe.  Eu escolhi as id√©ias de que gostei.  Ele disse em que dire√ß√£o seguir em frente.  Ela foi desenhar as seguintes op√ß√µes.  Ap√≥s dois dias e tr√™s dezenas de op√ß√µes, nos instalamos no canto inferior direito (foto acima). </p><br><p>  Depois, pedi √† minha filha para desenhar uma vers√£o ampliada do √≠cone (a primeira √† esquerda na figura abaixo), que eu digitalizei (a segunda √† esquerda) e ... liguei para um amigo do artista para me ajudar na sele√ß√£o de cores.  Como resultado, uma vers√£o central foi obtida.  Ent√£o comecei a moer gradualmente o √≠cone (o segundo √† direita) durante toda a vida √∫til do aplicativo nas lojas.  E agora ela se parece com a extrema direita: </p><br><p><img src="https://habrastorage.org/webt/4w/ga/hl/4wgahlbyaxxnv8v0pu9m833yn6a.png" alt="Progresso da cria√ß√£o do √≠cone" width="780" height="160"></p><br><h2>  Android build </h2><br><p>  Este v√≠deo do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Unity Android Build - Como</a> me ajudou na cria√ß√£o do meu primeiro arquivo APK, que mostra como configurar tudo sem instalar o pesado Android Studio. </p><br><p>  Repito que n√£o tenho dispositivos com Android (pe√ßo aos meus amigos que testem ap√≥s a nova compila√ß√£o) e, portanto, n√£o tive nenhum erro nos dispositivos mostrados no v√≠deo. </p><br><p>  Mas sem problemas, ele ainda n√£o poderia.  Eu tive que mexer na atualiza√ß√£o do SDK do Android por um longo tempo, porque o Unity n√£o queria trabalhar com as atualiza√ß√µes mais recentes.  Como resultado, verificou-se que era necess√°rio permitir que o Unity escolhesse e instalasse a vers√£o necess√°ria da atualiza√ß√£o em si.  I.e.  Acabei de clicar no bot√£o <em>Atualizar Android SDK</em> no pr√≥prio Unity e n√£o tentei atualizar tudo sozinho, como mostra o v√≠deo. </p><br><div class="spoiler">  <b class="spoiler_title">Problema ao atualizar o SDK do Android manualmente</b> <div class="spoiler_text"><p>  At√© que percebi que precisava atualizar no Unity, sofri por um longo tempo, atualizando manualmente usando o script sdkmanager.bat (voc√™ precisa usar esse script com o par√¢metro --update, e n√£o android.bat, que √© indicado no v√≠deo).  Durante a atualiza√ß√£o, ele reclamou que n√£o podia sobrescrever a pasta tools (a partir da qual ele pr√≥prio come√ßou).  Tentei v√°rias dicas e nem me lembro o que ajudou, parece ser algum tipo de solu√ß√£o com links simb√≥licos. </p></div></div><br><p>  Al√©m disso, erros incompreens√≠veis relacionados ao java apareceram.  Verificou-se que havia um problema <em>com a vers√£o do</em> Java Development Kit - ele tamb√©m n√£o precisava ser instalado com a vers√£o mais recente.  Eu tentei v√°rios antigos e em um deles os erros desapareceram e tudo funcionou. </p><br><p>  Com o apk de assinatura para publica√ß√£o no Google Play, o v√≠deo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como assinar um aplicativo Unity para o Android Market</a> me ajudou.  Salvei e salvei cuidadosamente essas duas senhas, porque elas precisam ser inseridas toda vez que voc√™ cria uma nova compila√ß√£o.  E se voc√™ os perder, n√£o poder√° atualizar o aplicativo (basta lan√ßar um novo com novas chaves). </p><br><p>  O √≠cone, diferente da vers√£o do iOS, deve ser feito inicialmente com cantos arredondados; caso contr√°rio, em alguns dispositivos, ele permanecer√° perfeitamente quadrado. </p><br><h3>  Tamanho da compila√ß√£o para Android </h3><br><p>  Agora, o tamanho do meu arquivo apk √© 22MB. </p><br><p>  <em>Reduzi</em> bem o tamanho da montagem com o formato de compacta√ß√£o com textura / sprite com perdas - <em>RGBA Crunched ETC2</em> (para sprites com alfa) e <em>RGB Crunched ETC</em> (para texturas sem alfa).  O principal era definir <em>Qualidade do Compressor</em> = 100 (este par√¢metro n√£o afeta a velocidade das texturas no dispositivo final, mas apenas a qualidade da textura e a velocidade de compacta√ß√£o no editor). </p><br><p>  Quaisquer outras dan√ßas com pandeiros n√£o me permitiram obter uma redu√ß√£o significativa no tamanho do arquivo apk (exceto algumas nuances descritas abaixo). </p><br><p>  Agora estou usando o seguinte .. </p><br><h3>  .. configura√ß√µes de Configura√ß√µes do <em>player</em> .. </h3><br><p>  .. para o tamanho m√≠nimo, por um lado, e a cobertura m√°xima de dispositivos, por outro: </p><br><ul><li>  Unity 2018.1 (quanto mais nova a vers√£o, melhor ela compacta e mais todas as guloseimas). </li><li>  API de gr√°ficos autom√°ticos (o pr√≥prio Unity escolhe OpenGLES2 e 3). </li><li>  Back-end de script - Mono (pode n√£o ser mais r√°pido que o IL2CPP, mas o assembly √© definitivamente menor). </li><li>  Arquiteturas de destino - ARMv7 e x86.  Ao remover o suporte Intel x86, reduzi o tamanho do apk em mais 10 MB (seria 12MB).  Mas n√£o sei quantos dispositivos cortei removendo esta marca de sele√ß√£o.  O que eu sei √© que os telefones n√£o foram lan√ßados h√° dois anos sob essa arquitetura.  E os que foram encontrados podem ser contados com os dedos de uma m√£o (os √∫ltimos que eu sei s√£o o Asus Zenfone, o Lenovo K 900, o Xolo x1000 e ainda pode haver alguns).  Por favor, corrija-me nos coment√°rios se estiver falando bobagem. </li><li>  N√≠vel de agita√ß√£o - montagens de tira - corta com seguran√ßa c√≥digos desnecess√°rios.  Outras op√ß√µes podem gerar algum ganho de tamanho (n√£o reparei em casa), mas n√£o s√£o t√£o seguras. </li><li>  Build System - Gradle (permite ativar a op√ß√£o Minify). </li><li>  Minify - Proguard - reduz os nomes de todas as classes e vari√°veis ‚Äã‚Äãpara economizar bytes miser√°veis ‚Äã‚Äãde tamanho, mas, como um b√¥nus, torna o c√≥digo menos leg√≠vel para impedir a engenharia reversa. </li></ul><br><h2>  Constru√ß√£o do IOS </h2><br><p>  Coleciono um aplicativo no macbook da minha esposa (lembro que eles usaram o MacBook Air mais barato de 2015). </p><br><p>  Para criar para o iOS 7, mesmo no Xcode vers√£o 9.3, bastava direcionar manualmente o valor 7.0 para o campo <em>Destino de Implanta√ß√£o</em> (na guia <em>Geral</em> ). </p><br><p>  Para adicionar idiomas (nos quais traduzi o aplicativo usando Localiza√ß√£o Lean) √† descri√ß√£o do aplicativo na AppStore, tivemos que adicionar as seguintes linhas ao arquivo info.plist (em qualquer lugar, por exemplo, imediatamente ap√≥s &lt;dict&gt;): </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>CFBundleLocalizations<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">array</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>English<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>Russian<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">array</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><p>  Agora estou usando o Unity 2017.4 para criar para iOS (como escrevi acima, preciso do suporte ao iOS 7, caso contr√°rio, usaria 2018.1). </p><br><h3>  Tamanho de compila√ß√£o do IOS </h3><br><p>  Agora, o tamanho do arquivo baixado para o meu iPhone √© 44 MB. </p><br><p>  Infelizmente, no iOS, n√£o posso usar sprites Crunched, porque eles n√£o s√£o compat√≠veis com dispositivos anteriores ao iPhone 5s ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sem suporte para Metal e OpenGL ES 3.0</a> ). </p><br><p>  Quando tentei reduzir o tamanho da compila√ß√£o a qualquer custo, o menor tamanho (34 MB) foi obtido se: </p><br><ul><li>  use o Unity 2018 (ou seja, a vers√£o m√≠nima suportada √© o iOS 8), </li><li>  A API de gr√°ficos seleciona apenas Metal, </li><li>  deixe apenas as arquiteturas de destino x64, </li><li>  use texturas trituradas. </li></ul><br><p>  Mas ainda n√£o descobri como trabalhar com o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">afinamento de aplicativos</a> - isso permite que a loja de aplicativos monte automaticamente meu aplicativo para um iPhone / iPad / iPod espec√≠fico do usu√°rio final (o que leva a uma diminui√ß√£o no tamanho do arquivo baixado).  Eu s√≥ tive tempo de escrever artigos nos meus favoritos: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Desbaste de aplicativos</a> (ajuda oficial do Unity). </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Fluxo de trabalho do AssetBundle</a> (ajuda oficial da Unity). </li></ul><br><h3>  <em>Configura√ß√µes do</em> My <em>Player que</em> eu quero compartilhar: </h3><br><ul><li>  √â conveniente inserir o <em>ID da equipe de assinatura autom√°tica</em> uma vez (voc√™ pode obt√™-lo no site do desenvolvedor da Apple aqui <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Conta&gt; Associa√ß√£o</a> ) e marque a caixa <em>Assinar automaticamente</em> para n√£o fazer isso todas as vezes no Xcode posteriormente. </li><li>  <em>Defino Frequ√™ncia do aceler√¥metro</em> como <em>Desativado</em> (desativei o aceler√¥metro), porque n√£o o uso.  Eu posso economizar um pouco de bateria para as pessoas. </li><li>  <em>Comportamento em segundo plano</em> - <em>Suspender</em> - dessa maneira, o aplicativo n√£o fecha quando voc√™ pressiona o bot√£o In√≠cio, mas continua a funcionar em segundo plano (voc√™ pode capturar esse evento usando <em>OnApplicationPause</em> para salvar o jogo, por exemplo). </li></ul><br><h2>  Como escolhi o nome e o que usei para promo√ß√£o </h2><br><p>  Quantos usaram Booking e TripAdvisor, mas eu nunca notei que o nome na AppStore n√£o √© apenas Booking, mas ‚ÄúBooking.com Travel Deals‚Äù e ‚ÄúTripAdvisor Hotels Restaurants‚Äù (o nome √© dilu√≠do em palavras-chave, para que o aplicativo se baseie nessas palavras-chave encontrado em busca de apstor).  Portanto, decidi n√£o usar o nome antigo Math4Ami, mas por muito tempo joguei com palavras diferentes para incluir as palavras-chave necess√°rias.  No final, cheguei ao Pocket Money: Math e depois para Learn Math &amp; Earn Pocket Money.  Em russo, essas op√ß√µes pareciam Pocket Money for Maths e Pocket Money and Maths: Learn and Earn. </p><br><p>  Promovi minha inscri√ß√£o enviando / publicando links para amigos e conhecidos, escrevi dois artigos no meu blog e pendurei um banner no mesmo local. </p><br><p>  A prop√≥sito, se voc√™ colocar esta linha nas p√°ginas da web &lt;head&gt;: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"apple-itunes-app"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app-id=1372434662"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><p>  .. ent√£o, abrindo esta p√°gina no iPhone, todos ver√£o o banner do seu aplicativo na parte superior. </p><br><h2>  Estat√≠sticas de download </h2><br><p>  Primeiro eu lancei a vers√£o iOS. </p><br><p><img src="https://habrastorage.org/webt/gz/9c/dq/gz9cdq_ppptgorpolmmyp0zho_o.png" alt="Estat√≠sticas de download de aplicativos IOS" width="780" height="484"></p><br><p>  Muitas pessoas falaram sobre antipatia por dispositivos Apple e convenceram que o Android √© muito mais bacana.  Decidi verificar e, ap√≥s 20 dias de processo com a montagem do arquivo apk, fiz um lan√ßamento no Google Play. </p><br><p><img src="https://habrastorage.org/webt/u-/1z/8s/u-1z8sasr3p8qibceptcfuo5pr8.png" alt="Estat√≠sticas de instala√ß√£o de aplicativos para Android" width="780" height="432"></p><br><p>  Voc√™ n√£o far√° conclus√µes objetivas (ou absolutamente nenhuma), mas puramente subjetivas - eu esperava mais da plataforma do Google, mas no momento acabou sendo meio pior que a Apple. </p><br><h2>  Lamento que: </h2><br><ul><li>  N√£o fiz backups quando mudei para a nova vers√£o do Unity </li><li>  n√£o usou um sistema de controle de vers√£o (como git), </li><li>  Eu tentei trabalhar com o Perforce (apenas um sistema terr√≠vel - que reduz o desenvolvimento de forma irrealista), </li><li>  nunca usei ScriptableObject (SO) antes - √© t√£o legal </li><li>  Eu escrevi o c√≥digo em uma folha longa (√© assustador lembrar como refatorei esta folha mais tarde), </li><li>  Eu n√£o sabia o que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">eram</a> os <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">cheiros de c√≥digo</a> , mas como eu precisava saber sobre eles, </li><li>  Tentei usar vari√°veis ‚Äã‚Äãglobais em todos os lugares, e n√£o locais (pensando paran√≥ico que, se eu frequentemente solicitar uma fun√ß√£o, a vari√°vel local dentro da fun√ß√£o ser√° criada repetidas vezes e haveria apenas uma global. Como resultado, depois de centenas de chamadas para a fun√ß√£o com vari√°veis ‚Äã‚Äãlocais, Eu teria um monte de mem√≥ria desperdi√ßada e perda de desempenho devido ao Garbage Collector), </li><li>  Eu nem sempre segui um estilo uniforme no c√≥digo e no nome de todos os ativos.  Aqui est√° um <a href="">bom exemplo para o UE4</a> (h√° muitas coisas √∫teis sobre como nomear ativos e eu tamb√©m o uso no Unity), </li><li>  Esqueci que escrevi o aplicativo principalmente para minha filha, e n√£o por um c√≥digo bonito ou para agradar a outros usu√°rios. </li></ul><br><h2>  Eu percebi que: </h2><br><ul><li>  as crian√ßas s√£o muito f√°ceis de se sentar no meu aplicativo (imediatamente ap√≥s a instala√ß√£o do aplicativo, elas podem ficar suspensas por horas at√© que a bateria do telefone fique sem carga), </li><li>  as crian√ßas s√£o viciadas em matem√°tica na minha inscri√ß√£o, mesmo que n√£o falem sobre dinheiro.  Se h√° dois filhos na fam√≠lia, chegou a brigas por telefone para resolver exemplos, </li><li>  Meu aplicativo fica entediado muito rapidamente para as crian√ßas.  No dia seguinte, poucas pessoas jogaram o aplicativo, mesmo que a crian√ßa percebesse que receberia dinheiro por isso, </li><li>  a reten√ß√£o deficiente de usu√°rios / crian√ßas n√£o √© exatamente o problema espec√≠fico da minha inscri√ß√£o, mas as especificidades do ensino de crian√ßas (isso foi informado pelos professores da escola).  A aplica√ß√£o deve ser muito diversificada para manter o interesse das crian√ßas o tempo todo, </li><li>  Com frequ√™ncia, pais e filhos interpretam mal o princ√≠pio do aplicativo e pensam que, ao resolver exemplos, eles receber√£o dinheiro de mim (do desenvolvedor).  Recebi cartas diferentes com perguntas como: como sacar dinheiro, posso sacar para webmoney ou paypal, onde especificar o endere√ßo para enviar dinheiro por cheque, etc., </li><li>  se voc√™ se desculpar por seus erros e descuidos nas respostas a cr√≠ticas ruins (e tamb√©m explicar como realmente deve funcionar), as pessoas tender√£o a perdoar erros e remover notas ruins, </li><li>  voc√™ n√£o vai muito longe em sua pr√≥pria promo√ß√£o, </li><li>  as crian√ßas crescem muito r√°pido e enquanto eu escrevia o aplicativo - minha filha j√° o superou.  Mas, meu novo "testador" est√° crescendo! </li></ul><br><h3>  Refer√™ncias </h3><br><p>  Lista de links do artigo na ordem em que s√£o mencionados: </p><br><p>  Como manter um estilo de c√≥digo √∫nico <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Guia de Estilo C # com Unity em mente</a> . <br>  + <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GitHub</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">v√≠deo sobre como parafusar o git no Unity</a> . <br>  + Existe um reposit√≥rio privado gratuito no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GitLab</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Bitbucket</a> . <br>  + <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Audacity</a> gr√°tis para gravar e editar √°udio. <br>  + <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como remover o atraso do som</a> . <br>  + <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Tutorial de</a> v√≠deo do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Build Android da Unity - Como</a> . <br>  + V√≠deo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como assinar um aplicativo Unity para o Android Market</a> . <br>  + <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Dispositivos Apple compat√≠veis com Metal / OpenGL ES 3</a> . <br>  + <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Dilui√ß√£o do aplicativo</a> (documenta√ß√£o da Apple). <br>  + <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Desbaste de aplicativos</a> (ajuda do Unity). <br>  + <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Fluxo de trabalho do AssetBundle</a> (documenta√ß√£o do Unity). <br>  + <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Onde obter o ID da equipe</a> . <br>  + O que s√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">cheiros de c√≥digo</a> . <br>  + <a href="">O princ√≠pio de nomear ativos / recursos em projetos de jogos no UE4</a> . </p><br><p>  Obrigado pela leitura! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt414683/">https://habr.com/ru/post/pt414683/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt414669/index.html">Desenvolvimento de um novo analisador est√°tico: PVS-Studio Java</a></li>
<li><a href="../pt414673/index.html">N√£o √© mais Abibas: o milagre tecnol√≥gico da China</a></li>
<li><a href="../pt414675/index.html">Carreira de gerente de TI: da linha de comando ao trabalho em equipe</a></li>
<li><a href="../pt414677/index.html">Comandos r√°pidos do Siri</a></li>
<li><a href="../pt414679/index.html">Box-shadows.css</a></li>
<li><a href="../pt414687/index.html">Como gerenciar uma equipe e voc√™: 15 livros para um gerente de projetos</a></li>
<li><a href="../pt414689/index.html">Li√ß√£o aberta "Aplicativos da Web e microsservi√ßos no Spring Boot 2.0"</a></li>
<li><a href="../pt414691/index.html">Background. YouTube Music e YouTube Premium: o que √© e como eles diferem</a></li>
<li><a href="../pt414693/index.html">Fujitsu fi-4750C no Windows 10 via Adaptec 78xx SCSI</a></li>
<li><a href="../pt414695/index.html">NanoIntrodu√ß√£o √† Internet das Nano-Coisas. Parte 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>