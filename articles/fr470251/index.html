<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😌 🥜 📛 Comment j'ai fait une application de bureau sur Flutter (+ bonus) 🛌🏿 🏎️ 🙌🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Récemment, j'ai appris que la prochaine version de Flutter (1.9) était sortie , ce qui promet divers avantages, y compris une prise en charge précoce ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment j'ai fait une application de bureau sur Flutter (+ bonus)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470251/"> Récemment, j'ai appris que la prochaine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">version de Flutter (1.9) était sortie</a> , ce qui promet divers avantages, y compris une prise en charge précoce des applications Web. <br><br>  Au travail, je développe des applications mobiles sur React Native, mais je regarde Flutter avec curiosité.  Pour ceux qui ne sont pas au courant: sur Flutter, vous pouvez déjà créer des applications pour Android et iOS, la prise en charge des applications Web est en cours de préparation pour la sortie, et il est également prévu de prendre en charge le bureau. <br><br>  Tel est «un anneau pour tout gouverner». <br><br>  Après avoir réfléchi quelques jours sur le type d'application que vous pouvez essayer de faire, j'ai décidé de choisir une tâche avec un astérisque - de quoi avons-nous besoin de ces pistes bien usées?  Balancez-vous sur le bureau et surmontez héroïquement les difficultés!  Pour l'avenir, je dirai que presque aucune difficulté n'est apparue. <br><br>  Under the cut - une histoire sur la façon dont j'ai résolu les tâches habituelles du programmeur React Native en utilisant les outils Flutter, ainsi que l'impression générale de la technologie. <br><br><img src="https://habrastorage.org/webt/hx/cx/hs/hxcxhsjx7ycplrsm2nhgrq0k8xu.png"><br><a name="habracut"></a><br>  En réfléchissant aux fonctionnalités de Flutter que je voudrais «toucher», j'ai décidé que dans ma candidature, il faudrait: <br><br><ul><li>  demandes à l'API distante; </li><li>  transitions entre écrans; </li><li>  Animations de transition </li><li>  gestionnaire d'état - redux ou quelque chose de similaire. </li></ul><br>  Je ne sais pas comment faire un backend, j'ai donc décidé de rechercher une API ouverte tierce.  En conséquence, je me suis installé sur cette ressource - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cours CBR en XML et JSON, API</a> .  Eh bien, ici, j'ai finalement décidé de la fonctionnalité de l'application: il y aura deux écrans, sur le principal il y a une liste de devises au taux CBR, lorsque vous cliquez sur un élément de la liste, nous ouvrons un écran avec des informations détaillées. <br><br><h4>  La préparation </h4><br>  Étant donné que la commande <code>flutter create</code> ne sait pas encore comment créer un projet pour Windows / Linux (seul Mac est actuellement pris en charge, utilisez l'indicateur <code>--macos</code> pour cela), vous devez utiliser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ce</a> référentiel, où il existe un exemple préparé.  Nous clonons le référentiel, prenons l' <code>example</code> dossier à partir de là, si nécessaire, renommez-le et continuez à travailler dessus. <br><br>  Étant donné que la prise en charge des plates-formes de bureau est toujours en cours de développement, vous devez toujours effectuer un certain nombre de manipulations.  Pour accéder aux fonctionnalités en cours de développement, exécutez dans le terminal: <br><br><pre> <code class="bash hljs">flutter channel master flutter upgrade</code> </pre> <br>  De plus, vous devez indiquer à Flutter qu'il peut utiliser votre plateforme: <br><br><pre> <code class="bash hljs">flutter config --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-linux-desktop</code> </pre> <br>  ou <br><br><pre> <code class="bash hljs">flutter config --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-macos-desktop</code> </pre> <br>  ou <br><br><pre> <code class="bash hljs">flutter config --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-windows-desktop</code> </pre> <br>  Si tout s'est bien passé, alors en exécutant la commande <code>flutter doctor</code> vous devriez voir une sortie similaire: <br><br><img src="https://habrastorage.org/webt/g0/up/m0/g0upm0iqiijcj7yrwkrm6h-lwvy.png"><br><br>  Donc, le décor est prêt, le public dans la salle - nous pouvons commencer. <br><br><h4>  Disposition </h4><br>  La première chose qui attire votre attention après React Native est l'absence d'un langage de balisage spécial à la JSX.  Flutter vous oblige à écrire le balisage et la logique métier dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Dart</a> .  Au début, c'est ennuyeux: le look n'a rien à saisir, le code semble lourd, et même ces crochets sont à la fin du composant! <br><br>  Par exemple, tels que: <br><br><img src="https://habrastorage.org/webt/ar/qm/iu/arqmiuoau_llzvwuutjszehkbbw.png"><br><br>  Et ce n'est pas la limite!  Cela vaut la peine d'en enlever un au mauvais endroit et un passe-temps agréable (non) vous est garanti. <br><br>  De plus, en raison des particularités des composants de style dans Flutter, pour les gros composants, le retrait du bord gauche de l'éditeur augmente assez rapidement, et avec lui le nombre de crochets fermés. <br><br>  Cette fonctionnalité est que dans les styles Flutter sont les mêmes composants (pour être plus précis - widgets). <br><br>  Si dans React Native pour disposer trois boutons dans une rangée à l'intérieur de la <code>View</code> afin qu'ils répartissent uniformément l'espace du conteneur, il me suffit de spécifier <code>flexDirection: 'row'</code> pour la <code>View</code> dans les styles et d'ajouter <code>flex: 1</code> pour les boutons dans les styles, alors Flutter a un composant distinct <code>Row</code> pour organiser les éléments dans une ligne et une autre pour "extensibilité" d'un élément sur tout l'espace disponible: <code>Expanded</code> . <br><br>  En conséquence, au lieu de <br><br><pre> <code class="javascript hljs">&lt;View style={{<span class="hljs-attr"><span class="hljs-attr">height</span></span>: <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-attr"><span class="hljs-attr">width</span></span>:<span class="hljs-number"><span class="hljs-number">300</span></span>, <span class="hljs-attr"><span class="hljs-attr">flexDirection</span></span>: <span class="hljs-string"><span class="hljs-string">'row'</span></span>}}&gt; &lt;Button title='A' style={{flex:1}}&gt; &lt;Button title='B' style={{flex:1}}&gt; &lt;Button title='C' style={{flex:1}}&gt; &lt;/View&gt;</code> </pre><br>  nous devons écrire comme ceci: <br><br><pre> <code class="java hljs">Container( height: <span class="hljs-number"><span class="hljs-number">100</span></span>, width: <span class="hljs-number"><span class="hljs-number">300</span></span>, child: Row( children: &lt;Widget&gt;[ Expanded( child: RaisedButton( onPressed: () {}, child: Text(<span class="hljs-string"><span class="hljs-string">'A'</span></span>), ), ), Expanded( child: RaisedButton( onPressed: () {}, child: Text(<span class="hljs-string"><span class="hljs-string">'B'</span></span>), ), ), Expanded( child: RaisedButton( onPressed: () {}, child: Text(<span class="hljs-string"><span class="hljs-string">'C'</span></span>), ), ), ], ), )</code> </pre> <br>  Plus verbeux, non? <br><br>  Vous pouvez également ajouter un cadre aux bords arrondis à ce conteneur.  Dans React Native, nous ajoutons simplement aux styles: <br><br><pre> <code class="javascript hljs">borderRadius: <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-attr"><span class="hljs-attr">borderWidth</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">borderColor</span></span>: <span class="hljs-string"><span class="hljs-string">'#ccc'</span></span></code> </pre> <br>  Dans Flutter, nous devons ajouter quelque chose comme ça aux arguments du conteneur: <br><br><pre> <code class="java hljs">decoration: BoxDecoration( borderRadius: BorderRadius.all(Radius.circular(<span class="hljs-number"><span class="hljs-number">5</span></span>)), border: Border.all(width: <span class="hljs-number"><span class="hljs-number">1</span></span>, color: Color(<span class="hljs-number"><span class="hljs-number">0xffcccccc</span></span>)) ),</code> </pre> <br>  En général, au début, mon balisage s'est transformé en d'énormes feuilles de code, dans lesquelles le diable se cassait la jambe.  Cependant, tout n'est pas si mauvais. <br><br>  Tout d'abord, les gros composants doivent bien sûr être décomposés - placés dans des widgets séparés ou au moins dans les méthodes de votre classe de widgets. <br><br>  Deuxièmement, le plugin Flutter dans VS Code aide beaucoup - dans l'image ci-dessus, les commentaires sur les crochets sont signés par le plugin lui-même (et ils ne peuvent pas être supprimés), ce qui aide à ne pas se confondre entre crochets.  De plus, des outils de formatage automatique - après une demi-heure, vous vous habituez à appuyer périodiquement sur <code>Ctrl+Shift+I</code> pour formater le code. <br><br>  De plus, la syntaxe du langage Dart dans la deuxième édition est devenue beaucoup plus agréable, donc à la fin de la journée, j'ai déjà aimé l'utiliser.  Insolite?  Oui  Mais pas désagréable. <br><br><h4>  Demandes d'API </h4><br>  Dans React Native, pour obtenir des données de certaines API, nous utilisons généralement la méthode <code>fetch</code> , qui nous renvoie <code>Promise</code> . <br><br>  À Flutter, la situation est similaire.  Après avoir regardé les exemples dans la documentation, j'ai ajouté le package http à <code>pubspec.yaml</code> (un analogue de <code>package.json</code> du monde JS) et j'ai écrit quelque chose comme ceci: <br><br><pre> <code class="java hljs">Future&lt;http.Response&gt; getAnything() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> http.get(URL); }</code> </pre> <br>  L'objet <code>Future</code> un sens très similaire à Promise, donc tout est assez transparent ici.  Eh bien, pour sérialiser / désérialiser des objets json, vous pouvez utiliser le concept de classes de modèle avec des méthodes spéciales de <code>fromJSON</code> / <code>toJSON</code> .  Vous pouvez en savoir plus à ce sujet dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation</a> . <br><br><h4>  Transition entre écrans </h4><br>  Malgré le fait que je faisais une application de bureau, du point de vue de Flutter, il n'y a aucune différence sur la plate-forme sur laquelle elle tourne.  Eh bien, c'est dans mon cas, il en est ainsi, en général - je ne sais pas.  En fait, la fenêtre système dans laquelle l'application Flutter est lancée est le même écran qu'un smartphone. <br><br>  La transition entre les écrans est assez banale: nous créons une classe de widgets d'écran, puis utilisons la classe <code>Navigator</code> standard. <br><br>  Dans le cas le plus simple, cela pourrait ressembler à ceci: <br><br><pre> <code class="java hljs">RaisedButton( child: Text(<span class="hljs-string"><span class="hljs-string">'Go to Detail'</span></span>), onPressed: () { Navigator.of(context).push&lt;<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>&gt;(MaterialPageRoute(builder: (context) =&gt; DetailScreen())); }, )</code> </pre> <br>  Si votre application comporte plusieurs écrans, il est plus raisonnable de préparer d'abord un dictionnaire de routes, puis d'utiliser la méthode <code>pushNamed</code> .  Un petit exemple de la documentation: <br><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NavigationApp</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StatelessWidget</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// This widget is the root of your application. @override Widget build(BuildContext context) { return MaterialApp( ... routes: &lt;String, WidgetBuilder&gt;{ '/a': (BuildContext context) =&gt; usualNavscreen(), '/b': (BuildContext context) =&gt; drawerNavscreen(), } ... ); } } // AnyWidget ... onPressed: () { Navigator.of(context).pushNamed('/a'); }, ...</span></span></code> </pre><br>  De plus, vous pouvez préparer une animation spéciale pour basculer entre les écrans et écrire quelque chose comme ceci: <br><br><pre> <code class="java hljs">Navigator.of(context).push&lt;<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>&gt;(ScaleRoute(page: DetailScreen()));</code> </pre> <br>  Ici <code>ScaleRoute</code> est une classe spéciale pour créer des animations de transition.  De bons exemples de telles animations peuvent être trouvés <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br><h4>  Gestion de l'État </h4><br>  Il arrive que nous ayons besoin d'accéder à certaines données de n'importe quelle partie de notre application.  Dans React Native, <code>redux</code> souvent utilisé (sinon le plus souvent) à ces fins. <br><br>  Pour Flutter, il existe un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">référentiel</a> qui montre des exemples d'utilisation de diverses architectures d'application - il y a Redux, MVC et MVU, et même ceux dont je n'ai jamais entendu parler auparavant. <br><br>  Après avoir fouillé un peu dans ces exemples, j'ai décidé de m'arrêter sur <code>Provider</code> . <br><br>  En général, l'idée est assez simple: nous créons une classe spéciale qui <code>ChangeNotifier</code> classe <code>ChangeNotifier</code> , dans laquelle nous allons stocker nos données, les mettre à jour en utilisant les méthodes de cette classe et les récupérer si nécessaire.  Voir la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation</a> du package pour plus de détails. <br><br>  Pour ce faire, ajoutez le package <code>provider</code> à <code>pubspec.yaml</code> et préparez la classe Provider.  Dans mon cas, cela ressemble à ceci: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'package:flutter/material.dart'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'package:rates_app/models/rate.dart'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RateProvider</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ChangeNotifier</span></span></span><span class="hljs-class"> </span></span>{ Rate currentrate; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setCurrentRate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Rate rate)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.currentrate = rate; notifyListeners(); } }</code> </pre> <br>  Ici, <code>Rate</code> est ma classe de modèle de devise (avec le <code>name</code> champs, le <code>code</code> , la <code>value</code> , etc.), <code>currentrate</code> est le champ dans lequel la devise sélectionnée sera stockée et <code>setCurrentRate</code> est la méthode par laquelle la valeur de <code>currentrate</code> est <code>currentrate</code> . <br><br>  Pour attacher notre fournisseur à l'application, nous changeons le code de la classe d'application: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@override</span></span> <span class="hljs-function"><span class="hljs-function">Widget </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">build</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(BuildContext context)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ChangeNotifierProvider( builder: (context) =&gt; RateProvider(), <span class="hljs-comment"><span class="hljs-comment">//   child: MaterialApp( ... ), home: HomeScreen(), ), ); }</span></span></code> </pre> <br>  Voilà, maintenant si nous voulons enregistrer la devise sélectionnée, nous écrivons quelque chose comme ceci: <br><br><pre> <code class="java hljs">Provider.of&lt;RateProvider&gt;(context).setCurrentRate(rate);</code> </pre> <br>  Et si nous voulons obtenir la valeur stockée, alors ceci: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> rate = Provider.of&lt;RateProvider&gt;(context).currentrate;</code> </pre> <br>  Tout est assez transparent et sans passe-partout (contrairement à Redux).  Bien sûr, peut-être que pour des applications plus complexes, tout se passera moins bien, mais pour ceux comme mon exemple, les vins purs. <br><br><h4>  Créer une application </h4><br>  En théorie, la commande <code>flutter build &lt;platform&gt;</code> est utilisée pour construire l'application.  En pratique, lorsque j'ai exécuté la commande <code>flutter build linux</code> , j'ai reçu ce message: <br><br><img src="https://habrastorage.org/webt/cy/ai/px/cyaipxfgk9xrmgncqc9mylbz6j0.png"><br><br>  "Cela n'a pas fait de mal", pensais-je, j'ai été horrifié par le poids du dossier de <code>build</code> - 287,5 Mo - et à cause de la simplicité de mon âme, j'ai supprimé ce dossier pour toujours.  Il s'est avéré - en vain. <br><br>  Après avoir supprimé le répertoire de <code>build</code> , le projet a cessé de démarrer.  Je n'ai pas pu le restaurer, je l'ai donc copié à partir de l'exemple d'origine.  Cela n'a pas aidé - le collectionneur a juré sur les fichiers manquants. <br><br>  Après avoir effectué quelques recherches, il s'est avéré que dans ce dossier il y avait un fichier <code>snapshot_blob.bin.d</code> , qui, apparemment, contient les chemins d'accès à tous les fichiers utilisés dans le projet.  J'ai ajouté les chemins manquants et cela a fonctionné. <br><br>  Ainsi, pour le moment, Flutter ne sait pas comment préparer les versions de version pour le bureau.  Quoi qu'il en soit, pour Linux. <br><br>  En général, si vous fermez les yeux sur ce moins, l'application s'est avérée comme je le voulais et ressemble <br><br><div class="spoiler">  <b class="spoiler_title">donc</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/79/e6/zz/79e6zzdw9kggfwkiyelfsmrokt0.gif"><br></div></div><br><h4>  Bonus </h4><br>  Nous passons au bonus promis. <br><br>  Même au stade de la rédaction de l'application, j'avais envie de vérifier à quel point il serait difficile de la porter sur d'autres plateformes.  Commençons par le téléphone portable. <br><br>  Il y a sûrement un moyen moins barbare, mais j'ai décidé que le chemin le plus court est direct.  Par conséquent, j'ai simplement créé un nouveau projet Flutter, transféré le fichier <code>pubspec.yaml</code> , les <code>assets</code> , les <code>fonts</code> et les répertoires <code>lib</code> et y ajouté la ligne dans <code>AndroidManifest.xml</code> : <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">uses-permission</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.permission.INTERNET"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br>  L'application a commencé avec un demi-coup de pied et j'ai obtenu ceci <br><br><div class="spoiler">  <b class="spoiler_title">image</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/3m/8p/r4/3m8pr4rwdjllpixpsjdla574kl8.jpeg"><br></div></div><br>  Au début, j'ai dû bricoler avec le web.  Je ne savais pas comment créer un projet Web, j'ai donc utilisé les instructions d'Internet, qui pour une raison quelconque ne fonctionnaient pas.  Je voulais déjà cracher, mais je suis tombé sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ce</a> manuel. <br><br>  En conséquence, tout s'est avéré être aussi simple que possible - il a seulement fallu inclure la prise en charge des applications Web.  Extrait du manuel: <br><br><pre> <code class="bash hljs">flutter channel master flutter upgrade flutter config --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-web <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> &lt;into project directory&gt; flutter create . flutter run -d chrome</code> </pre> <br>  Ensuite, j'ai transféré les fichiers nécessaires à ce projet de la même manière barbare et reçu ces <br><br><div class="spoiler">  <b class="spoiler_title">résultat</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ac/nt/gw/acntgwqqzvghgus9ll6thtbanbe.png"><br></div></div><br><h4>  Impressions générales </h4><br>  Au début, travailler avec Flutter était inhabituel, j'ai constamment essayé d'utiliser les approches habituelles de React Native, et cela a interféré.  De plus, une certaine redondance du code de fléchettes était un peu ennuyeuse. <br><br>  Après avoir pris ma main (et mes cônes) un peu, j'ai commencé à voir les avantages de Flutter par rapport à React Native.  J'en énumérerai quelques-uns. <br><br>  <b>Langue</b> .  Dart est un langage complètement compréhensible et agréable avec un typage statique fort.  Après JavaScript, c'était comme une bouffée d'air frais.  J'ai cessé d'avoir peur que mon code se casse pendant l'exécution et c'était une sensation agréable.  Quelqu'un peut dire qu'il y a Flow et TypeScript, mais ce n'est pas cela - dans nos projets, nous avons utilisé les deux, et quelque chose d'autre a toujours éclaté quelque part.  Lorsque j'écris dans React Native, je ne peux pas m'empêcher de penser que mon code est sur des accessoires d'allumettes qui peuvent se casser à tout moment.  Avec Flutter, j'ai oublié ce sentiment, et si le prix est la redondance du code, alors je suis prêt à le payer. <br><br>  <b>Plateforme</b> .  Dans React Native, vous utilisez des composants natifs, ce qui est généralement bon.  Mais à cause de cela, vous devez parfois écrire du code spécifique à la plate-forme, ainsi que des bugs spécifiques à chaque plate-forme.  Cela peut être incroyablement fatigant.  Avec Flutter, vous pouvez oublier ces problèmes comme un cauchemar (même s'il se peut que dans les grandes applications, les choses ne soient pas si fluides). <br><br>  <b>L'environnement</b> .  Avec l'environnement dans React Native, tout est triste.  Les plugins vscode tombent constamment, le débogueur peut engloutir 16 gig de fonctionnement et 70 gig de swap, suspendant étroitement le système (par expérience personnelle), et le scénario de correction d'erreurs le plus courant: "supprimez node_modules, installez à nouveau les packages et essayez de redémarrer plusieurs fois."  Cela aide généralement, mais bljad!  Il ne devrait pas en être ainsi, non. <br><br>  De plus, vous devrez exécuter AndroidStudio et Xcode périodiquement, car certains ne sont définis que de cette façon (en toute honnêteté, avec la sortie de RN 0.60, cela s'est amélioré). <br><br>  Dans ce contexte, le plugin Flutter officiel pour vscode semble très bon.  Les astuces pour le code vous permettent de vous familiariser avec la plate-forme sans consulter la documentation, le formatage automatique résout le problème avec le style de codage, le débogueur normal, etc. <br>  En général, cela ressemble à un outil plus mature. <br><br>  <b>Multiplateforme</b> .  React Native professe le principe «Apprenez une fois, écrivez partout» - une fois que vous apprenez, vous pouvez écrire pour différentes plates-formes.  Certes, sous chaque plate-forme, vous rencontrerez des problèmes qui lui sont spécifiques.  Mais ce n'est peut-être qu'une conséquence de l'immaturité de React Native - pour le moment, la dernière version stable est la 0.61.  Peut-être qu'avec la sortie de la version 1.0, la plupart de ces problèmes disparaîtront. <br><br>  L'approche Flutter ressemble plus à Écrire une fois, compiler partout.  Et même si le bureau n'est pas prêt pour la production pour le moment, le web est également en alpha, mais tout y est.  Et la possibilité d'avoir une base de code unique pour toutes les plateformes est un argument fort. <br><br>  Bien sûr, Flutter n'est pas non plus sans défauts, mais un peu d'expérience dans son utilisation ne me permet pas de les identifier.  Donc, si vous voulez une évaluation plus objective, n'hésitez pas à réduire l'effet de nouveauté. <br><br>  En général, il convient de noter que Flutter a laissé des sentiments principalement positifs, bien qu'il ait de la place pour grandir.  Et le prochain projet, je serais plus disposé à commencer dessus, et non sur React Native. <br><br>  Le code source du projet se trouve sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GitHub</a> . <br><br>  PS Je profite de cette occasion pour féliciter tous ceux qui ont participé à la dernière Journée des enseignants. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr470251/">https://habr.com/ru/post/fr470251/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr470235/index.html">Entretien avec Dmitry Simonov, créateur de la chaîne CTORECORDS: «La principale qualité de techdir est l'habitude de gagner»</a></li>
<li><a href="../fr470237/index.html">Littérature de fin de semaine: lecture facile pour les techniciens</a></li>
<li><a href="../fr470239/index.html">ERP sous-développé en production: en réanimation ou en morgue?</a></li>
<li><a href="../fr470241/index.html">Historique de démarrage: comment développer une idée étape par étape, pénétrer un marché inexistant et atteindre une expansion internationale</a></li>
<li><a href="../fr470247/index.html">RESHI.RU - un robot résout et explique les problèmes de texte scolaire en mathématiques</a></li>
<li><a href="../fr470255/index.html">Optimisation du portefeuille obligataire avec ALGLIB</a></li>
<li><a href="../fr470259/index.html">Aimybox dans la recherche: le cadre pour créer des assistants vocaux a besoin d'un assistant iOS</a></li>
<li><a href="../fr470265/index.html">Aide-mémoire de l'abréviation C ++ et plus encore. Partie 1: C ++</a></li>
<li><a href="../fr470267/index.html">Surveillance de température certifiée</a></li>
<li><a href="../fr470269/index.html">ReactOS 0.4.12: 华为 ， 你 认为 这个 怎么 样？</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>