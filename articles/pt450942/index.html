<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçÑ üç§ üë®‚Äçüéì Sidecar para uma divis√£o de c√≥digo üêï üë©üèø‚Äçüè≠ üîÖ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Divis√£o de c√≥digo. A divis√£o de c√≥digo est√° em todo lugar. No entanto, por que? S√≥ porque hoje existe muito javascript e nem todos est√£o em uso no mes...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sidecar para uma divis√£o de c√≥digo</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450942/"><p><img src="https://habrastorage.org/webt/ts/bi/e4/tsbie49wsfunvcztrdwhlnik6ge.jpeg"></p><br><p>  Divis√£o de c√≥digo.  A divis√£o de c√≥digo est√° em todo lugar.  No entanto, por que?  S√≥ porque hoje existe <strong>muito javascript</strong> e nem todos est√£o em uso no mesmo momento. </p><br><p>  JS √© uma coisa muito <em>pesada</em> .  N√£o para o seu iPhone Xs ou para o novo laptop i9, mas para milh√µes (provavelmente bilh√µes) de propriet√°rios de dispositivos <em>mais lentos</em> .  Ou, pelo menos, para seus rel√≥gios. </p><br><p>  Ent√£o - o JS √© ruim, mas o que aconteceria se o <strong>desativ√°ssemos</strong> - o problema desapareceria ... para alguns sites, e desapareceria "com sites" para os baseados no React.  Mas de qualquer maneira - existem sites que podem funcionar sem JS ... e h√° algo que devemos aprender com eles ... </p><a name="habracut"></a><br><h1 id="code-splitting">  Divis√£o de c√≥digo </h1><br><p>  Hoje temos dois caminhos a percorrer, duas maneiras de melhorar ou n√£o piorar: </p><br><h2 id="1-write-less-code">  1. Escreva menos c√≥digo </h2><br><p> Essa √© a melhor coisa que voc√™ pode fazer.  Embora o <code>React Hooks</code> permita que voc√™ envie um pouco menos de c√≥digo, e solu√ß√µes como o <code>Svelte</code> permitem gerar apenas menos c√≥digo do que o <em>normal</em> , isso n√£o √© t√£o f√°cil de fazer. </p><br><p>  N√£o se trata apenas do c√≥digo, mas tamb√©m da <em>funcionalidade</em> - para manter o c√≥digo "compacto", voc√™ precisa mant√™-lo "compacto".  N√£o h√° como manter pequeno o pacote de aplicativos se ele estiver fazendo tantas coisas (e for enviado em 20 idiomas). </p><br><p>  Existem maneiras de escrever c√≥digos <em>curtos e sonoros</em> e de escrever a implementa√ß√£o oposta - <em>a sangrenta empresa</em> .  E, voc√™ sabe, ambos s√£o leg√≠timos. </p><br><p><img src="https://habrastorage.org/webt/dz/fc/kn/dzfcknugbqrpbxturkjjae2v2se.jpeg"></p><br><p>  Mas a quest√£o principal - o pr√≥prio c√≥digo.  Um aplicativo de rea√ß√£o simples pode facilmente ignorar 250kb "recomendado".  E voc√™ pode passar um m√™s otimizando e diminuindo.  Otimiza√ß√µes "pequenas" s√£o bem documentadas e bastante √∫teis - basta obter o <code>bundle-analyzer</code> com <code>size-limit</code> e voltar √† forma. <br>  Existem muitas bibliotecas, que lutam por todos os bytes, tentando mant√™-lo em seus limites - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pr√©</a> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">a√ß√£o</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">armazenamento</a> , para citar algumas. </p><br><p>  Mas nossa aplica√ß√£o est√° um pouco al√©m dos 200kb.  √â mais perto de <strong>100Mb</strong> .  Remover kilobytes n√£o faz sentido.  Mesmo remover megabytes n√£o faz sentido. </p><br><blockquote>  Depois de um momento, √© imposs√≠vel manter seu aplicativo pequeno.  Crescer√° com o tempo. </blockquote><br><h2 id="2-ship-less-code">  2. Envie menos c√≥digo </h2><br><p>  Como alternativa, o <code>code split</code> .  Em outras palavras - <strong>render</strong> - <strong>se</strong> .  Pegue o seu pacote de 100mb e fa√ßa vinte pacotes de 5mb.  Honestamente - essa √© a √∫nica maneira poss√≠vel de lidar com seu aplicativo, se ele for grande - crie um pacote de aplicativos menores a partir dele. </p><br><p>  Mas h√° uma coisa que voc√™ deve saber agora: seja qual for a op√ß√£o escolhida, √© um detalhe de implementa√ß√£o, enquanto procuramos algo mais confi√°vel. </p><br><h1 id="the-truth-about-code-splitting">  A verdade sobre a divis√£o de c√≥digo </h1><br><p>  A verdade sobre a divis√£o de c√≥digo √© que sua natureza √© separa√ß√£o do tempo.  Voc√™ n√£o est√° apenas <em>dividindo</em> seu c√≥digo, mas de uma maneira que <strong>utilizar√°</strong> o m√≠nimo poss√≠vel em um √∫nico momento. </p><br><p>  Apenas n√£o envie o c√≥digo que voc√™ n√£o precisa no momento.  Livre-se disso. </p><br><p><img src="https://habrastorage.org/webt/py/eg/mi/pyegmilj0w2cshkxcj8nwqxhpg0.jpeg"></p><br><p>  F√°cil de dizer, dif√≠cil de fazer.  Tenho alguns aplicativos pesados, mas n√£o adequadamente divididos, em que qualquer p√°gina carrega 50% de tudo.  √Äs vezes <code>code splitting</code> torna uma <code>code separation</code> , quero dizer - voc√™ pode mover o c√≥digo para os diferentes blocos, mas ainda assim, usar tudo.  Lembre-se de que <em>"simplesmente n√£o envie o c√≥digo que voc√™ n√£o precisa no momento"</em> , - eu <em>precisava de</em> 50% do c√≥digo, e esse era o problema real. </p><br><blockquote>  √Äs vezes, basta adicionar a <code>import</code> aqui e n√£o √© suficiente.  At√© que n√£o seja a separa√ß√£o do <strong>tempo</strong> , mas apenas a separa√ß√£o do <strong>espa√ßo</strong> - isso n√£o importa. </blockquote><p>  Existem tr√™s maneiras comuns de dividir o c√≥digo: </p><br><ol><li>  Apenas <code>import</code> din√¢mica.  Mal usado sozinho hoje em dia.  √â mais sobre problemas com o rastreamento de um <em>estado</em> . </li><li>  <code>Lazy</code> Component, quando voc√™ pode adiar a renderiza√ß√£o e o carregamento de um React Component.  Provavelmente 90% dos "c√≥digos de rea√ß√£o dividem" atualmente. </li><li>  <code>Library</code> <em>Pregui√ßosa</em> , que na verdade √© <code>.1</code> , mas voc√™ receber√° um c√≥digo de biblioteca por meio de objetos de renderiza√ß√£o do React.  Implementado em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">componentes importados de rea√ß√£o e componentes</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">carreg√°veis</a> .  Bastante √∫til, mas n√£o bem conhecido. </li></ol><br><h2 id="component-level-code-splitting">  Divis√£o de c√≥digo no n√≠vel do componente </h2><br><p>  Este √© o mais popular.  Como uma divis√£o de c√≥digo por rota ou divis√£o de c√≥digo por componente.  N√£o √© t√£o f√°cil faz√™-lo e, como <em>resultado,</em> mant√©m bons <em>resultados perceptivos</em> .  √â a morte do <code>Flash of Loading Content</code> . </p><br><p>  As boas t√©cnicas s√£o: </p><br><ul><li>  carrega <code>js chunk</code> e <code>data</code> para uma rota em paralelo. </li><li>  use um <code>skeleton</code> para exibir algo semelhante √† p√°gina antes do carregamento da p√°gina (como o Facebook). </li><li>  <code>prefetch</code> peda√ßos, voc√™ pode at√© usar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">palpites-js</a> para obter uma previs√£o melhor. </li><li>  use alguns atrasos, indicadores de carregamento, <code>animations</code> e <code>Suspense</code> (no futuro) para suavizar as transi√ß√µes. </li></ul><br><p>  E, voc√™ sabe, isso √© tudo sobre desempenho <em>perceptivo</em> . </p><br><p><img src="https://habrastorage.org/webt/yk/4o/s1/yk4os1fia5xv28cfdsoccss6nr0.png"></p><br><blockquote>  Imagem do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://blog.angularindepth.com/">UX aprimorado com elementos do Ghost</a> </blockquote><br><h1 id="that-doesnt-sound-good">  Isso n√£o parece bom </h1><br><p>  Sabe, eu poderia me chamar de especialista em divis√£o de c√≥digo - mas tenho minhas pr√≥prias falhas. </p><br><p>  √Äs vezes, falhava em reduzir o tamanho do pacote.  √Äs vezes, falhava em melhorar o desempenho resultante, contanto que <code>the _more_ code splitting you are introducing - the more you spatially split your page - the more time you need to _reassemble_ your page back</code> *.  √â chamado de <strong>ondas de carregamento</strong> . </p><br><ul><li>  sem SSR ou pr√©-renderiza√ß√£o.  O SSR adequado √© um divisor de √°guas no momento. </li></ul><br><p><img src="https://habrastorage.org/webt/fl/kn/hn/flknhn-kd8_aad9ro7g6fisrpqy.jpeg"></p><br><p>  Na semana passada, tenho duas falhas: </p><br><ul><li>  Eu perdi em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">uma compara√ß√£o de biblioteca</a> , desde que minha biblioteca fosse melhor, mas MUITO maior que outra.  Falha ao <strong>"1. Escreva menos c√≥digo"</strong> . </li><li>  otimizar um site pequeno, feito em React por minha esposa.  Ele estava usando a divis√£o de componentes baseada em rota, mas o <code>header</code> e o <code>footer</code> foram mantidos no pacote principal para tornar as transi√ß√µes mais "aceit√°veis".  Apenas algumas coisas, <strong>firmemente acopladas</strong> entre si, com o lado do pacote disparado at√© 320kb (antes do gzip).  N√£o havia nada importante e nada que eu realmente pudesse remover.  <strong>Uma morte por mil cortes</strong> .  Falha ao <strong>enviar menos c√≥digo</strong> . </li></ul><br><blockquote>  React-Dom foi de 20%, core-js foi de 10%, react-router, jsLingui, react-powerplug ... 20% de c√≥digo pr√≥prio ... J√° terminamos. </blockquote><p><img src="https://habrastorage.org/webt/ec/zx/xo/eczxxohgulg4yvyjdeyxvzwi3g0.png"></p><br><h2 id="the-solution">  A solu√ß√£o </h2><br><p>  Comecei a pensar em como resolver meu problema e por que <em>solu√ß√µes comuns</em> n√£o est√£o funcionando corretamente no meu caso de uso. </p><br><blockquote>  O que eu fiz?  Listei todos os locais cruciais, sem os quais o aplicativo n√£o funcionaria, e tentei entender por que tenho o restante. </blockquote><p>  Foi uma surpresa.  Mas meu problema estava no CSS.  Em transi√ß√£o de baunilha CSS. </p><br><p>  Aqui est√° o c√≥digo </p><br><ul><li>  uma vari√°vel de <em>controle</em> - <code>componentControl</code> , eventualmente seria definida como algo que <code>DisplayData</code> deve exibir. </li><li>  uma vez que o valor √© definido - <code>DisplayData</code> se torna vis√≠vel, alterando <code>className</code> , provocando uma transi√ß√£o sofisticada.  Simultaneamente, o <code>FocusLock</code> se torna ativo, tornando o <code>DisplayData</code> um <strong>modal</strong> . <br><pre> <code class="javascript hljs">&lt;FocusLock enabled={componentControl.value} <span class="hljs-comment"><span class="hljs-comment">// ^ it's "disabled". When it's disabled - it's dead. &gt; {componentControl.value &amp;&amp; &lt;PageTitle title={componentControl.value.title}/&gt;} // ^ it's does not exists. Also dead &lt;DisplayData data={componentControl.value} visible={componentControl.value !== null} // ^ would change a className basing on visible state /&gt; // ^ that is just not visible, but NOT dead &lt;/FocusLock&gt;</span></span></code> </pre> </li></ul><br><p>  Gostaria de dividir esta parte do c√≥digo como um todo, mas isso √© algo que n√£o pude fazer devido a dois motivos: </p><br><ol><li>  as informa√ß√µes devem estar vis√≠veis imediatamente, uma vez necess√°rias, sem demora.  Um requisito comercial. </li><li>  a informa√ß√£o "chrome" deve existir antes, para lidar com a transi√ß√£o da propriedade. </li></ol><br><p>  Esse problema pode ser parcialmente resolvido usando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CSSTransitionGroup</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">recondi√ß√£o</a> .  Mas, voc√™ sabe, corrigir <em>um c√≥digo</em> adicionando <em>outro c√≥digo</em> parece estranho, mesmo que seja <em>suficiente</em> .  Quero dizer, adicionar mais c√≥digo pode ajudar a remover ainda mais c√≥digo.  Mas ... mas ... </p><br><blockquote>  Deve haver uma maneira melhor! </blockquote><p>  TL; DR - h√° dois pontos principais aqui: </p><br><ul><li>  <code>DisplayData</code> deve ser <strong>montado</strong> e existe no DOM anterior. </li><li>  <code>FocusLock</code> tamb√©m deve existir antes, para n√£o causar a <code>DisplayData</code> , mas seus <strong>c√©rebros n√£o s√£o necess√°rios</strong> no come√ßo. </li></ul><br><hr><br><p>  Ent√£o, vamos mudar nosso modelo mental </p><br><h1 id="batman-and-robin">  Batman e robin </h1><br><p>  Vamos supor que nosso c√≥digo seja Batman e Robin.  Batman pode lidar com a maioria dos bandidos, mas quando ele n√£o pode, seu companheiro Robin vem em socorro .. </p><br><blockquote>  Mais uma vez, Batman entraria na batalha, Robin chegaria mais tarde. </blockquote><p>  Aqui √© o Batman: </p><br><pre> <code class="diff hljs"><span class="hljs-addition"><span class="hljs-addition">+&lt;FocusLock - enabled={componentControl.value} +&gt; - {componentControl.value &amp;&amp; &lt;PageTitle title={componentControl.value.title}/&gt;} + &lt;DisplayData + data={componentControl.value} + visible={componentControl.value !== null} + /&gt; +&lt;/FocusLock&gt;</span></span></code> </pre> <br><p>  Este √© o seu companheiro, Robin: </p><br><pre> <code class="diff hljs"><span class="hljs-deletion"><span class="hljs-deletion">-&lt;FocusLock + enabled={componentControl.value} -&gt; + {componentControl.value &amp;&amp; &lt;PageTitle title={componentControl.value.title}/&gt;} - &lt;DisplayData - data={componentControl.value} - visible={componentControl.value !== null} - /&gt; -&lt;/FocusLock&gt;</span></span></code> </pre> <br><p>  Batman e Robin poderiam formar uma <em>EQUIPE</em> , mas na verdade s√£o duas pessoas diferentes. </p><br><p>  E n√£o se esque√ßa - ainda estamos falando sobre <strong>divis√£o de c√≥digo</strong> .  E, em termos de divis√£o de c√≥digo, onde est√° o ajudante?  Onde est√° Robin? </p><br><p><img src="https://habrastorage.org/webt/m3/3a/fu/m33afuxsi_rirx3uwjusiprzj94.jpeg"></p><br><blockquote>  em um carro lateral.  Robin est√° esperando em um <strong>peda√ßo lateral</strong> . </blockquote><br><h1 id="sidecar">  Sidecar </h1><br><ul><li>  <code>Batman</code> aqui √© tudo visual que seu cliente deve ver o mais r√°pido poss√≠vel.  Idealmente instantaneamente. </li><li>  <code>Robin</code> aqui √© toda l√≥gica, e recursos interativos sofisticados, que podem estar dispon√≠veis um segundo depois, mas n√£o no come√ßo. </li></ul><br><p>  Seria melhor chamar isso de <strong>divis√£o de c√≥digo vertical</strong> onde as ramifica√ß√µes de c√≥digo existem em paralelo, ao contr√°rio de uma <strong>divis√£o de c√≥digo horizontal</strong> comum onde as ramifica√ß√µes de c√≥digo s√£o <em>cortadas</em> . </p><br><p>  Em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">alguns pa√≠ses</a> , esse trio era conhecido como <code>replace reducer</code> ou outras maneiras de carregar pregui√ßosamente a l√≥gica do redux e os efeitos colaterais. </p><br><p>  Em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">alguns outros pa√≠ses</a> , √© conhecido como <code>"3 Phased" code splitting</code> . </p><br><blockquote>  √â apenas mais uma separa√ß√£o de preocupa√ß√µes, aplic√°vel apenas a casos, em que √© poss√≠vel adiar o carregamento de parte de um componente, mas n√£o de outra parte. </blockquote><p><img src="https://habrastorage.org/webt/sw/fq/if/swfqifrldpp0n6o7qcfr6osdunk.jpeg" alt="fase 3"></p><br><blockquote>  imagem de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Criando o novo facebook.com com React, GraphQL e Relay</a> , em que <code>importForInteractions</code> ou <code>importAfter</code> <strong>s√£o o <code>sidecar</code> - <code>sidecar</code></strong> . </blockquote><p>  E h√° uma observa√ß√£o <strong>interessante</strong> - enquanto <code>Batman</code> √© mais valioso para um cliente, desde que seja algo que o cliente possa <em>ver</em> , ele est√° sempre em forma ... Enquanto <code>Robin</code> , voc√™ sabe, ele pode estar um pouco <em>acima do peso</em> e exigir muito mais bytes para vivendo. </p><br><p>  Como resultado - o Batman sozinho √© algo muito suport√°vel para um cliente - ele fornece mais valor a um custo menor.  Voc√™ √© meu her√≥i Bat! </p><br><h2 id="what-could-be-moved-to-a-sidecar">  O que pode ser movido para um carro lateral: </h2><br><ul><li>  maioria dos <code>useEffect</code> , <code>componentDidMount</code> e amigos. </li><li>  como todos os efeitos <em>modais</em> .  Ou seja, bloqueios de <code>focus</code> e <code>scroll</code> .  Voc√™ pode primeiro exibir um modal e <strong>s√≥ depois</strong> torn√°-lo <em>modal</em> , ou seja, "bloquear" a aten√ß√£o do cliente. </li><li>  Formul√°rios  Mova toda a l√≥gica e valida√ß√µes para um side-car e bloqueie o envio do formul√°rio at√© que essa l√≥gica seja carregada.  O cliente pode come√ßar a preencher o formul√°rio, sem saber que √© apenas o <code>Batman</code> . </li><li>  Algumas anima√ß√µes.  Uma <code>react-spring</code> inteira <code>react-spring</code> no meu caso. </li><li>  Algumas coisas visuais.  Como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">barras de rolagem personalizadas</a> , que podem exibir barras de rolagem sofisticadas um segundo depois. </li></ul><br><p>  Al√©m disso, n√£o se esque√ßa - todo c√≥digo, transferido para um side-car, tamb√©m transfere coisas como core-js poly- e ponyfills, usadas pelo c√≥digo removido. </p><br><p>  A Divis√£o de C√≥digo pode ser mais inteligente do que em nossos aplicativos hoje.  Devemos perceber que existem 2 tipos de <em>c√≥digo</em> a serem divididos: 1) aspectos visuais 2) aspectos interativos.  O √∫ltimo pode vir alguns momentos depois.  <code>Sidecar</code> facilita a divis√£o das duas tarefas, dando a <em>percep√ß√£o de que tudo foi carregado mais rapidamente</em> .  E vai. </p><br><h2 id="the-oldest-way-to-code-split">  A maneira mais antiga de dividir c√≥digo </h2><br><p>  Embora ainda n√£o esteja claro quando e o que √© um <code>sidecar</code> , darei uma explica√ß√£o simples: </p><br><blockquote>  <code>Sidecar</code> √© <strong>TODOS OS SEUS SCRIPTS</strong> .  Sidecar √© a maneira como <em>dividimos o c√≥digo</em> antes de todas as coisas de front-end que recebemos hoje. </blockquote><p>  Eu estou falando sobre Server Side Rendering ( <strong>SSR</strong> ), ou <strong>HTML</strong> simples, todos n√≥s est√°vamos acostumados ontem.  <code>Sidecar</code> torna as coisas mais f√°ceis do que costumavam ser quando as p√°ginas continham HTML e l√≥gica vividas separadamente em scripts externos incorpor√°veis ‚Äã‚Äã(separa√ß√£o de preocupa√ß√µes). </p><br><p>  T√≠nhamos HTML, <strong>al√©m de</strong> CSS, <strong>al√©m de</strong> alguns scripts embutidos, <strong>al√©m</strong> do restante dos scripts extra√≠dos para arquivos <code>.js</code> . </p><br><p>  <code>HTML</code> + <code>CSS</code> + <code>inlined-js</code> eram <code>Batman</code> , enquanto scripts externos eram <code>Robin</code> , e o site funcionava sem Robin e, honestamente, parcialmente sem Batman (ele continuar√° a luta com as duas pernas (scripts embutidos) quebradas).  Isso foi ontem, e muitos sites "n√£o modernos e legais" s√£o os mesmos hoje. </p><br><hr><br><p>  Se o seu aplicativo suportar SSR - tente <strong>desabilitar o js</strong> e faz√™-lo funcionar sem ele.  Ent√£o ficaria claro o que poderia ser movido para um carro lateral. <br>  Se o seu aplicativo for um SPA somente do lado do cliente - tente imaginar como ele funcionaria, se o SSR existisse. </p><br><blockquote>  Por exemplo - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">theurge.com</a> , escrito em React, √© totalmente funcional <strong>sem nenhum js ativado</strong> . </blockquote><p>  H√° muitas coisas que voc√™ pode descarregar para um carro lateral.  Por exemplo: </p><br><ul><li>  coment√°rios.  Voc√™ pode enviar o c√≥digo para <code>display</code> coment√°rios, mas n√£o <code>answer</code> , desde que exija mais c√≥digo (incluindo o editor WYSIWYG), o que n√£o √© necess√°rio inicialmente.  √â melhor atrasar uma <em>caixa de coment√°rios</em> , ou mesmo ocultar o carregamento de c√≥digo atr√°s da anima√ß√£o, do que atrasar uma p√°gina inteira. </li><li>  player de v√≠deo.  Envie "v√≠deo" sem "controles".  Carregue-os um segundo depois, o cliente pode tentar interagir com ele. </li><li>  galeria de imagens, como <code>slick</code> .  N√£o √© grande coisa <strong>desenhar</strong> , mas muito mais dif√≠cil de animar e gerenciar.  Est√° claro o que pode ser movido para um carro lateral. </li></ul><br><blockquote>  Basta pensar no que √© essencial para a sua aplica√ß√£o e no que n√£o √© bem ... </blockquote><br><h1 id="implementation-details">  Detalhes da implementa√ß√£o </h1><br><h2 id="di-component-code-splitting">  (DI) Divis√£o do c√≥digo do componente </h2><br><p>  A forma mais simples de <code>sidecar</code> √© f√°cil de implementar - basta mover tudo para um subcomponente; voc√™ pode codificar a divis√£o usando maneiras "antigas".  √â quase uma separa√ß√£o entre os componentes Smart e Dumb, mas desta vez o Smart n√£o est√° <em>contanitando</em> um Dumb - √© o oposto. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> SmartComponent = React.lazy( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>(<span class="hljs-string"><span class="hljs-string">'./SmartComponent'</span></span>)); <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DumbComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;React.Fragment&gt; &lt;SmartComponent ref={this} /&gt; // &lt;-- move smart one inside &lt;TheActualMarkup /&gt; // &lt;-- the "real" stuff is here &lt;/React.Fragment&gt; } }</code> </pre> <br><p>  Isso tamb√©m requer mover o c√≥digo de <em>inicializa√ß√£o</em> para um Dumb, mas voc√™ ainda pode dividir a parte <em>mais pesada</em> de um c√≥digo. </p><br><blockquote>  Voc√™ pode ver um padr√£o de divis√£o de c√≥digo <code>parallel</code> ou <code>vertical</code> agora? </blockquote><br><h2 id="usesidecar">  useSidecar </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">A cria√ß√£o do novo facebook.com com React, GraphQL e Relay</a> , como j√° mencionei aqui, tinha um conceito de <code>loadAfter</code> ou <code>importForInteractivity</code> , que √© bastante parecido com o conceito de sidecar. </p><br><p>  Ao mesmo tempo, eu n√£o recomendaria a cria√ß√£o de algo como <code>useSidecar</code> , desde que voc√™ intencionalmente tente usar <code>hooks</code> dentro, mas a divis√£o de c√≥digo nesse formul√°rio quebraria a <em>regra dos ganchos</em> . </p><br><p>  Por favor, prefira uma forma de componente mais declarativa.  E voc√™ pode usar <code>hooks</code> dentro do componente <code>SideCar</code> . </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Controller = React.lazy( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>(<span class="hljs-string"><span class="hljs-string">'./Controller'</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> DumbComponent = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ref = useRef(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> state = useState(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;&gt; &lt;Controller componentRef={ref} state={state} /&gt; &lt;TheRealStuff ref={ref} state={state[0]} /&gt; &lt;/&gt; ) }</code> </pre> <br><h2 id="prefetching">  Pr√©-busca </h2><br><p>  N√£o se esque√ßa - voc√™ pode usar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dicas de prioridade de carregamento</a> para pr√©-carregar ou pr√©-buscar <code>sidecar</code> e torn√°-lo mais transparente e invis√≠vel. </p><br><p>  Coisas importantes - os scripts de pr√©-busca o carregariam via <strong>rede</strong> , mas n√£o executam (e gastam CPU), a menos que seja realmente necess√°rio. </p><br><h2 id="ssr">  SSR </h2><br><p>  Diferentemente da divis√£o <em>normal do</em> c√≥digo, nenhuma a√ß√£o especial √© necess√°ria para o SSR.  <code>Sidecar</code> pode n√£o fazer parte do processo SSR e n√£o ser necess√°rio antes da etapa de <code>hydration</code> .  Pode ser adiado "por design". </p><br><p>  Portanto, sinta-se √† vontade para usar o <code>React.lazy</code> (idealmente algo <strong>sem o</strong> <code>Suspense</code> , voc√™ n√£o precisa de nenhum indicador de failback (carregamento) aqui), ou qualquer outra biblioteca, com, mas melhor, sem o suporte do SSR para <em>pular</em> peda√ßos do sidecar durante o processo do SSR. </p><br><h1 id="the-bad-parts">  As partes ruins </h1><br><p>  Mas existem algumas partes ruins dessa ideia </p><br><h2 id="batman-is-not-a-production-name">  Batman n√£o √© um nome de produ√ß√£o </h2><br><p>  Embora <code>Batman</code> / <code>Robin</code> possa ser um bom conceito, o <code>sidecar</code> √© uma combina√ß√£o perfeita para a pr√≥pria tecnologia - n√£o existe um nome "bom" para o <code>maincar</code> .  N√£o existe um <code>maincar</code> , e obviamente <code>Batman</code> , <code>Lonely Wolf</code> , <code>Solitude</code> , <code>Driver</code> e <code>Solo</code> n√£o devem ser usados ‚Äã‚Äãpara nomear uma parte que n√£o √© um carro lateral. </p><br><p>  O Facebook usou <code>display</code> e <code>interactivity</code> , e essa pode ser a melhor op√ß√£o para todos n√≥s. </p><br><blockquote>  Se voc√™ tem um bom nome para mim - deixe nos coment√°rios </blockquote><br><h2 id="tree-shaking">  √Årvore tremendo </h2><br><p>  √â mais sobre a separa√ß√£o de preocupa√ß√µes do ponto de vista do <em>bundler</em> .  Vamos imaginar que voc√™ tem <code>Batman</code> e <code>Robin</code> .  And <code>stuff.js</code> </p><br><ul><li> <code>stuff.js</code> <br> <pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">`./batman.js`</span></span> <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">`./robin.js`</span></span></code> </pre> </li></ul><br><p>  Ent√£o voc√™ pode tentar dividir o c√≥digo do <em>componente</em> para implementar um side-car </p><br><ul><li><p> <code>main.js</code> </p> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {batman} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./stuff.js'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Robin = React.lazy( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>(<span class="hljs-string"><span class="hljs-string">'./sidecar.js'</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Component = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Robin</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> // sidecar </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Batman</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> // main content </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/&gt;</span></span></span><span class="xml"> )</span></span></code> </pre> <br></li><li><p> <code>sidecar.js</code> </p> <br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// and sidecar.js... that's another chunk as long as we `import` it import {robin} from './stuff.js' .....</span></span></code> </pre> <br></li></ul><br><p>  Em resumo - o c√≥digo acima funcionaria, mas n√£o far√° "o trabalho". </p><br><ul><li>  se voc√™ estiver usando apenas <code>batman</code> do <code>stuff.js</code> - o tremor da √°rvore manteria apenas isso. </li><li>  se voc√™ estiver usando apenas <code>robin</code> do <code>stuff.js</code> - o tremor da √°rvore manteria apenas isso. </li><li>  <strong>mas</strong> se voc√™ estiver usando os dois, mesmo em partes diferentes - ambos ser√£o agrupados em uma <strong>primeira</strong> ocorr√™ncia do <code>stuff.js</code> , ou seja, o <strong>pacote principal</strong> . </li></ul><br><blockquote>  A trepida√ß√£o de √°rvores n√£o √© favor√°vel √† divis√£o de c√≥digos.  Voc√™ precisa separar as preocupa√ß√µes por arquivos. </blockquote><br><h2 id="un-import">  Desimportar </h2><br><p>  Outra coisa, esquecida por todos, √© o custo do javascript.  Era bastante comum na era do jQuery, a era da carga √∫til do <code>jsonp</code> para carregar o script (com a carga √∫til do <code>json</code> ), obter a carga √∫til e <strong>remover</strong> o script. </p><br><blockquote>  Hoje em dia todos n√≥s <code>import</code> scripts, e eles ser√£o importados para sempre, mesmo que n√£o sejam mais necess√°rios. </blockquote><p>  Como eu disse antes - h√° muito JS e, mais cedo ou mais tarde, com <em>a navega√ß√£o cont√≠nua,</em> voc√™ carregar√° tudo.  Dever√≠amos encontrar uma maneira de cancelar a importa√ß√£o e n√£o precisar mais de chunk, limpando todos os caches internos e liberando mem√≥ria para tornar a web mais confi√°vel e n√£o esmagar aplicativos com exce√ß√µes de falta de mem√≥ria. </p><br><p>  Provavelmente, a capacidade de desinstalar (o webpack <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pode fazer isso</a> ) √© um dos motivos pelos quais devemos nos ater √† API <em>baseada em componentes</em> , desde que ela nos permita lidar com a <code>unmount</code> . </p><br><p>  At√© agora - os padr√µes dos m√≥dulos ESM n√£o t√™m nada sobre isso - nem sobre controle de cache, nem sobre a revers√£o da a√ß√£o de importa√ß√£o. </p><br><h2 id="creating-a-sidecar-enabled-library">  Criando uma biblioteca habilitada para sidecar </h2><br><p>  At√© hoje, existe apenas uma maneira de criar uma biblioteca habilitada para <code>sidecar</code> : </p><br><ul><li>  divida seu componente em partes </li><li>  expor uma parte <code>main</code> e uma parte <code>connected</code> (para n√£o quebrar a API) via <code>index</code> </li><li>  expor um <code>sidecar</code> atrav√©s de um ponto de entrada separado. </li><li>  no c√≥digo de destino - importe a parte <code>main</code> e a agita√ß√£o da √°rvore <code>sidecar</code> deve cortar uma parte <code>connected</code> . </li></ul><br><p>  Essa agita√ß√£o da √°rvore do tempo deve funcionar corretamente, e o √∫nico problema - √© como nomear a parte <code>main</code> . </p><br><ul><li> <code>main.js</code> </li> </ul><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Main = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{sidecar, ...props}</span></span></span><span class="hljs-function">) =&gt;</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> {sidecar} .... </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> );</code> </pre> <br><ul><li> <code>connected.js</code> </li> </ul><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Main <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./Component'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Sidecar <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./Sidecar'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Connected = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function"> =&gt;</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Main</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">sidecar</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{</span></span></span></span><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">Sidecar</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">} {...props} /&gt; );</span></span></code> </pre> <br><ul><li> <code>index.js</code> </li> </ul><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./Main'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./Connected'</span></span>;</code> </pre> <br><ul><li> <code>sidecar.js</code> </li> </ul><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./Sidecar'</span></span>;</code> </pre> <br><p>  Em suma, a mudan√ßa pode ser representada atrav√©s de uma pequena compara√ß√£o </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//your app BEFORE import {Connected} from 'library'; // // ------------------------- //your app AFTER, compare this core to `connected.js` import {Main} from 'library'; const Sidecar = React.lazy(import( () =&gt; import('library/sidecar'))); // ^ all the difference ^ export SideConnected = props =&gt; ( &lt;Main sidecar={&lt;Sidecar /&gt;} {...props} /&gt; ); // ^ you will load only Main, Sidecar will arrive later.</span></span></code> </pre> <br><p>  A <code>dynamic import</code> teoricamente <code>dynamic import</code> poderia ser usada dentro de node_modules, tornando o <em>processo de montagem</em> mais transparente. </p><br><blockquote>  Enfim - nada mais √© do que <code>slot</code> padr√£o de <code>children</code> / <code>slot</code> , t√£o comum no React. </blockquote><br><h1 id="the-future">  O futuro </h1><br><p>  <code>Facebook</code> provou que a ideia est√° certa.  Se voc√™ ainda n√£o viu esse v√≠deo, fa√ßa-o agora.  Acabei de explicar a mesma id√©ia de um √¢ngulo um pouco diferente (e comecei a escrever este artigo uma semana antes da confer√™ncia F8). </p><br><p>  No momento, √© necess√°rio que algumas altera√ß√µes de c√≥digo sejam aplicadas √† sua base de c√≥digo.  Ele exige uma separa√ß√£o mais expl√≠cita das preocupa√ß√µes para separ√°-las e permitir que os c√≥digos sejam divididos n√£o horizontalmente, mas verticalmente, enviando <em>menos</em> c√≥digos para uma experi√™ncia <em>maior do</em> usu√°rio. </p><br><p>  <code>Sidecar</code> , provavelmente, √© a √∫nica maneira, exceto o SSR da velha escola, de lidar com grandes bases de c√≥digos.  √öltima chance de enviar uma quantidade m√≠nima de c√≥digo, quando voc√™ tiver muito. </p><br><blockquote>  Isso poderia tornar um aplicativo BIG menor e um aplicativo PEQUENO ainda mais pequeno. </blockquote><p>  H√° 10 anos, o site m√©dio estava "pronto" em 300ms e estava <em>realmente</em> pronto alguns milissegundos depois.  Hoje, segundos e at√© mais de 10 segundos s√£o os n√∫meros comuns.  Que pena. </p><br><p>  Vamos fazer uma pausa e pensar - como poder√≠amos resolver o problema e tornar o UX √≥timo novamente ... </p><br><p><img src="https://habrastorage.org/webt/8_/5u/7e/8_5u7ehdn7nkcjiaqfv1-rzadfa.jpeg"></p><br><h1 id="overall">  Geral </h1><br><ul><li>  A divis√£o de c√≥digo de componente √© a ferramenta mais poderosa, oferecendo a capacidade de dividir algo <em>completamente</em> , mas tem um custo - voc√™ pode n√£o exibir nada, exceto uma p√°gina em branco ou um <em>esqueleto</em> por um tempo.  Essa √© uma separa√ß√£o horizontal. </li><li>  A divis√£o do c√≥digo da biblioteca pode ajudar quando a divis√£o do componente n√£o.  Essa √© uma separa√ß√£o horizontal. </li><li>  O c√≥digo transferido para um side-car completaria a imagem e pode permitir que voc√™ forne√ßa uma experi√™ncia muito melhor ao usu√°rio.  Mas tamb√©m exigiria algum esfor√ßo de engenharia.  Essa √© uma separa√ß√£o vertical. </li></ul><br><p>  <strong>Vamos conversar sobre isso</strong> . </p><br><h2 id="stop-so-what-about-the-problems-you-tried-to-solve">  Pare!  E os problemas que voc√™ tentou resolver? </h2><br><p>  Bem, essa foi apenas a primeira parte.  <strong>Estamos no final do jogo agora</strong> , levaria mais algumas semanas para escrever a segunda parte desta proposta.  Enquanto isso ... entre no carro lateral! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt450942/">https://habr.com/ru/post/pt450942/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt450926/index.html">Jogo 3D em three.js, nw.js</a></li>
<li><a href="../pt450928/index.html">Como os data centers salvam feriados</a></li>
<li><a href="../pt450930/index.html">Como desenvolvemos # bigdataX5 e quem √© necess√°rio no Big Data</a></li>
<li><a href="../pt450938/index.html">Linux Install Fest 05.19 em Nizhny Novgorod 18 de maio de 2019</a></li>
<li><a href="../pt450940/index.html">Vivaldi 2.5 - Macrocosmo atraente</a></li>
<li><a href="../pt450946/index.html">Telefone celular em disco LPC810</a></li>
<li><a href="../pt450948/index.html">MU-MIMO: um dos algoritmos de implementa√ß√£o</a></li>
<li><a href="../pt450950/index.html">Fundamentos do Dart Streams</a></li>
<li><a href="../pt450952/index.html">√çndice M√©dio e Antibanco</a></li>
<li><a href="../pt450954/index.html">Como aprendemos a explorar Java no Docker</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>