<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸŒº ğŸ¥© ğŸ†“ å¼¹ç°§å¯åŠ¨æ‰§è¡Œå™¨ç®€ä»‹ ğŸ™ŒğŸ¼ ğŸ“¶ ğŸ§”ğŸ½</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æ•¬ç¤¼ï¼Œå“ˆå¸ƒé‡Œæ²ƒæ´¾ï¼ åœ¨ä¸€å‘¨å†…ï¼Œè¯¾ç¨‹å°†åœ¨â€œ Springæ¡†æ¶å¼€å‘äººå‘˜ â€è¯¾ç¨‹çš„æ–°ç»„ä¸­å¼€å§‹ã€‚ åœ¨è¿™æ–¹é¢ï¼Œæˆ‘ä»¬ä¸æ‚¨åˆ†äº«æœ‰ç”¨çš„ææ–™ï¼Œè¿™äº›ææ–™å‘Šè¯‰æ‚¨ä»€ä¹ˆæ˜¯å¼¹ç°§æ‰§è¡Œå™¨ä»¥åŠå®ƒå¦‚ä½•å‘æŒ¥ä½œç”¨ã€‚ 





1. ä»€ä¹ˆæ˜¯å¼¹ç°§æ‰§è¡Œå™¨ï¼Ÿ 
2. å¦‚ä½•å°†Spring Actuatoræ·»åŠ åˆ°Mavenæˆ–Gradleé¡¹ç›®ï¼Ÿ 
3...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>å¼¹ç°§å¯åŠ¨æ‰§è¡Œå™¨ç®€ä»‹</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/452624/"> æ•¬ç¤¼ï¼Œå“ˆå¸ƒé‡Œæ²ƒæ´¾ï¼ åœ¨ä¸€å‘¨å†…ï¼Œè¯¾ç¨‹å°†åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">â€œ Springæ¡†æ¶å¼€å‘äººå‘˜</a> â€è¯¾ç¨‹çš„æ–°ç»„ä¸­å¼€å§‹ã€‚ åœ¨è¿™æ–¹é¢ï¼Œæˆ‘ä»¬ä¸æ‚¨åˆ†äº«æœ‰ç”¨çš„ææ–™ï¼Œè¿™äº›ææ–™å‘Šè¯‰æ‚¨ä»€ä¹ˆæ˜¯å¼¹ç°§æ‰§è¡Œå™¨ä»¥åŠå®ƒå¦‚ä½•å‘æŒ¥ä½œç”¨ã€‚ <br><br><img src="https://habrastorage.org/webt/2m/hc/7v/2mhc7vty5dbzksjukrcjxprxjqu.png"><br><br><ol><li> ä»€ä¹ˆæ˜¯å¼¹ç°§æ‰§è¡Œå™¨ï¼Ÿ </li><li> å¦‚ä½•å°†Spring Actuatoræ·»åŠ åˆ°Mavenæˆ–Gradleé¡¹ç›®ï¼Ÿ </li><li> åˆ›å»ºä¸€ä¸ªå…·æœ‰Spring Actuatorä¾èµ–é¡¹çš„Spring Booté¡¹ç›®ã€‚ </li><li> ä½¿ç”¨å¼¹ç°§æ‰§è¡Œå™¨ç«¯ç‚¹è¿›è¡Œåº”ç”¨ç›‘æ§ã€‚ </li></ol><a name="habracut"></a><br>  <b>ä»€ä¹ˆæ˜¯å¼¹ç°§æ‰§è¡Œå™¨ï¼Ÿ</b> <br><br> å¼€å‘åº”ç”¨ç¨‹åºå¹¶å°†å…¶éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒä¸­ä¹‹åï¼Œç›‘è§†å…¶æ€§èƒ½éå¸¸é‡è¦ã€‚ å¯¹äºè¯¸å¦‚é“¶è¡Œç³»ç»Ÿä¹‹ç±»çš„å…³é”®ä»»åŠ¡åº”ç”¨ç¨‹åºå°¤å…¶å¦‚æ­¤ï¼Œå…¶ä¸­åº”ç”¨ç¨‹åºæ•…éšœç›´æ¥å½±å“ä¸šåŠ¡ã€‚ <br><br> ä¼ ç»Ÿä¸Šï¼Œåœ¨ä½¿ç”¨Spring Actuatorä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ç¼–å†™ä»£ç æ¥æµ‹è¯•åº”ç”¨ç¨‹åºçš„è¿è¡ŒçŠ¶å†µï¼Œä½†æ˜¯ä½¿ç”¨Spring Actuatoræ—¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦ç¼–å†™ä»£ç ã€‚  Spring Actuatoræä¾›äº†å‡ ä¸ªç«¯ç‚¹ï¼Œå¯ç”¨äºç›‘è§†åº”ç”¨ç¨‹åºã€‚ <br><br>  <b>å¦‚ä½•å°†Spring Actuatoræ·»åŠ åˆ°Mavenæˆ–Gradleé¡¹ç›®ï¼Ÿ</b> <br><br>  <i><b>é©¬æ–‡</b></i> <br><br><pre><code class="java hljs">&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt;</code> </pre> <br>  <i><b>æ‘‡ç¯®</b></i> <br><br><pre> <code class="java hljs">dependencies { compile(<span class="hljs-string"><span class="hljs-string">"org.springframework.boot:spring-boot-starter-actuator"</span></span>) }</code> </pre> <br>  <b>ä½¿ç”¨Spring Actuatoråˆ›å»ºSpring Booté¡¹ç›®</b> <br><br> è®©æˆ‘ä»¬ç»§ç»­ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Spring Initializer</a>åˆ›å»ºä¸€ä¸ªå…·æœ‰Spring Actuatorï¼ŒWebå’ŒDevToolsä¾èµ–é¡¹çš„Spring Booté¡¹ç›®ã€‚ <br><br> è¯·æ³¨æ„ï¼Œåœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼ŒSpring Bootç‰ˆæœ¬ä¸º2.1.0ã€‚ <br><br><img src="https://habrastorage.org/webt/fq/9z/cu/fq9zcueb62pygpoaf0whu_p_udc.png"><br><br> å°†é¡¹ç›®å¯¼å…¥Eclipseæˆ–ä»»ä½•å…¶ä»–IDEå¹¶è¿è¡Œ<code>SpringActuatorApplication.java</code> ã€‚ <br><br> åœ¨æ§åˆ¶å°ä¸­ï¼Œæ‚¨å°†çœ‹åˆ°ä»¥ä¸‹å†…å®¹ï¼š <br><br><img src="https://habrastorage.org/webt/1k/qr/wl/1kqrwlcwuwvmzuxg9xzezx7y6ws.png"><br><br> æ‚¨å¯ä»¥çœ‹åˆ°åµŒå…¥å¼Tomcatåœ¨ç«¯å£8080 <code>SpringActuatorApplication</code>è¿è¡Œï¼Œè€Œ<code>SpringActuatorApplication</code>åœ¨Tomcat <code>SpringActuatorApplication</code>è¿è¡Œã€‚ æ‚¨è¿˜å¯ä»¥çœ‹åˆ°<code>/actuator.</code>æœ‰æ‰§è¡Œå™¨ç«¯ç‚¹<code>/actuator.</code> <br><br><pre> <code class="plaintext hljs">018-11-09 20:00:29.346 INFO 8338 --- [ restartedMain] osbwembedded.tomcat.TomcatWebServer : Tomcat started on port(s): 8080 (http) with context path '' 2018-11-09 20:00:29.354 INFO 8338 --- [ restartedMain] nbjsSpringActuatorApplication : Started SpringActuatorApplication in 9.273 seconds (JVM running for 11.823) 2018-11-09 20:00:29.190 INFO 8338 --- [ restartedMain] osbaeweb.EndpointLinksResolver : Exposing 2 endpoint(s) beneath base path '/actuator'.</code> </pre><br>  <b>å¼¹ç°§æ‰§è¡Œå™¨ç«¯ç‚¹çš„åº”ç”¨ç›‘æ§</b> <br><br> å¦‚ä¸Šæ‰€è¿°ï¼ŒSpring Actuatoræä¾›äº†å¤šä¸ªç«¯ç‚¹ï¼Œå¯ç”¨æ¥ç›‘è§†åº”ç”¨ç¨‹åºçš„è¿è¡ŒçŠ¶å†µã€‚ <br><br><div class="scrollable-table"><table><tbody><tr><th> ç¼–å· </th><th> å†…å®¹æè¿° </th></tr><tr><td> å®¡æ ¸äº‹ä»¶ <br></td><td> æä¾›äº‹ä»¶ä¿¡æ¯ <br> å®¡æ ¸å½“å‰åº”ç”¨ç¨‹åºã€‚ <br></td></tr><tr><td> è±†ç±» </td><td> æ˜¾ç¤ºæ‰€æœ‰çš„å®Œæ•´åˆ—è¡¨ <br> æ˜¥è±†åœ¨åº”ç”¨ç¨‹åºä¸­ã€‚ <br></td></tr><tr><td> å¿«å– </td><td> ç¼“å­˜ä¿¡æ¯ã€‚ <br></td></tr><tr><td> æ¡ä»¶ </td><td> æ˜¾ç¤ºæ¡ä»¶ <br> ä¸ºé…ç½®ç±»è®¡ç®— <br> å’Œè‡ªåŠ¨é…ç½®ä»¥åŠåŸå›  <br> ä»–ä»¬åŒ¹é…æˆ–ä¸åŒ¹é… <br> å¯¹åº”ã€‚ <br></td></tr><tr><td>  configprops </td><td> æ˜¾ç¤ºæ‰€æœ‰åˆ—è¡¨ <br>  @ConfigurationProperties <br></td></tr><tr><td> ç¯ä¿ </td><td> æ˜¾ç¤ºæ¥è‡ªçš„å±æ€§ <br> å¯é…ç½®ç¯å¢ƒã€‚ <br></td></tr><tr><td> é£è·¯ </td><td> æ˜¾ç¤ºæ•°æ®åº“è¿ç§» <br> è¢«åº”ç”¨çš„ç©ºä¸­é€šé“ã€‚ <br></td></tr><tr><td> å¥åº·çŠ¶å†µ </td><td> æ˜¾ç¤ºå¥åº·ä¿¡æ¯ <br> åº”ç”¨ç¨‹åºã€‚ <br></td></tr><tr><td>  httptrace </td><td> æ˜¾ç¤ºè·Ÿè¸ªä¿¡æ¯ <br>  HTTPï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œæœ€å100ä¸ªHTTP <br> è¯·æ±‚-å“åº”ï¼‰ã€‚ <br></td></tr><tr><td> èµ„è®¯ </td><td> æ˜¾ç¤ºå…¶ä»–ä¿¡æ¯ <br> å…³äºåº”ç”¨ç¨‹åºã€‚ <br></td></tr><tr><td> æ•´åˆå›¾ </td><td> è®¡æ•°Spring Integrationã€‚ <br></td></tr><tr><td> è®°å½•å™¨ </td><td> æ˜¾ç¤ºå¹¶å…è®¸ <br> åœ¨ä»¥ä¸‹ä½ç½®æ›´æ”¹è®°å½•å™¨çš„é…ç½® <br> åº”ç”¨ç¨‹åºã€‚ <br></td></tr><tr><td> æ¶²åŸº </td><td> æ˜¾ç¤ºå·²åº”ç”¨çš„è¿ç§» <br>  Liquibaseæ•°æ®åº“ <br></td></tr><tr><td> æŒ‡æ ‡ </td><td> æ˜¾ç¤ºæŒ‡æ ‡ä¿¡æ¯ <br> å¯¹äºå½“å‰çš„åº”ç”¨ç¨‹åºã€‚ <br></td></tr><tr><td> æ˜ å°„ </td><td> æ˜¾ç¤ºæ‰€æœ‰è·¯å¾„çš„åˆ—è¡¨ã€‚ <br>  @RequestMappingã€‚ <br></td></tr><tr><td> é¢„å®šä»»åŠ¡ </td><td> æ˜¾ç¤ºè®¡åˆ’çš„ä»»åŠ¡ <br>  ï¼ˆè®¡åˆ’ä»»åŠ¡ï¼‰ã€‚ <br></td></tr><tr><td> ä¼šè®® </td><td> å…è®¸æ£€ç´¢å’Œåˆ é™¤ <br> æ¥è‡ªå­˜å‚¨åº“çš„ç”¨æˆ·ä¼šè¯ï¼Œ <br>  Spring Sessionæ”¯æŒã€‚ ä¸å¯ç”¨ <br> ä½¿ç”¨springä¼šè¯è¿›è¡Œååº”æ—¶ <br> ç½‘ç»œåº”ç”¨ç¨‹åºã€‚ <br></td></tr><tr><td> å…³æœº </td><td> å…è®¸åº”ç”¨æ­£ç¡® <br> å®Œæˆå·¥ä½œã€‚ <br></td></tr><tr><td> çº¿ç¨‹è½¬å‚¨ </td><td> æ˜¾ç¤ºæµä¿¡æ¯ã€‚ <br></td></tr></tbody></table></div><br>  <b>å¯ç”¨ç«¯ç‚¹</b> <br><br> é»˜è®¤æƒ…å†µä¸‹ï¼Œé™¤<code>shutdown</code>ä¹‹å¤–ï¼Œæ‰€æœ‰ç«¯ç‚¹å‡å¯ç”¨ã€‚ è¦å¯ç”¨ç«¯ç‚¹ï¼Œè¯·åœ¨<code>application.properties</code>æ–‡ä»¶ä¸­ä½¿ç”¨ä»¥ä¸‹å±æ€§ã€‚ <br><br><pre> <code class="plaintext hljs">management.endpoint.&lt;code&gt;&lt;&lt;/code&gt;id&lt;code&gt;&gt;&lt;/code&gt;.enabled</code> </pre> <br><blockquote>  <i>è¯‘è€…æ³¨ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œä»…é€šè¿‡JMXè®¿é—®æ‰€æœ‰ç«¯ç‚¹ï¼Œè€Œæ²¡æœ‰é€šè¿‡HTTPè®¿é—®æ‰€æœ‰ç«¯ç‚¹çš„æƒé™ï¼ˆè¯·å‚è§ä¸‹æ–‡ï¼‰ã€‚</i> </blockquote><br>  <i>ä¸€ä¸ªä¾‹å­ï¼š</i> <br><br> è¦å¯ç”¨<code>shutdown</code>ç«¯ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦åœ¨<code>application.properties</code>æ–‡ä»¶ä¸­è¿›è¡Œä»¥ä¸‹è¾“å…¥ï¼š <br><br><pre> <code class="plaintext hljs">management.endpoint.shutdown.enabled=true</code> </pre> <br> æˆ‘ä»¬å¯ä»¥ç¦ç”¨æ‰€æœ‰ç«¯ç‚¹ï¼Œç„¶åä»…åŒ…å«æˆ‘ä»¬éœ€è¦çš„ç«¯ç‚¹ã€‚ åœ¨ä¸‹ä¸€ä¸ªé…ç½®ä¸­ï¼Œå°†ç¦ç”¨é™¤<code>info</code>ä¹‹å¤–çš„æ‰€æœ‰ç«¯ç‚¹ã€‚ <br><br><pre> <code class="plaintext hljs">management.endpoints.enabled-by-default=false management.endpoint.info.enabled=true</code> </pre> <br>  <b>é€šè¿‡HTTPè®¿é—®ç«¯ç‚¹</b> <br><br> è®©æˆ‘ä»¬è½¬åˆ°<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">localhost</a> URLï¼š8080 / actuatorï¼ŒæŸ¥çœ‹å¯ç”¨çš„ç«¯ç‚¹ã€‚ <br><br> æ³¨æ„ï¼šæˆ‘ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Postman</a>è¿›è¡Œæµ‹è¯•ï¼Œå› ä¸ºå®ƒä»¥ç»“æ„è‰¯å¥½çš„æ ¼å¼æ˜¾ç¤ºJSONã€‚ æ‚¨å¯ä»¥ä½¿ç”¨ä»»ä½•å…¶ä»–å·¥å…·æˆ–ä»…ä½¿ç”¨æµè§ˆå™¨ã€‚ <br><br><img src="https://habrastorage.org/webt/sm/jf/mf/smjfmfgw9dqygqisozxv4qflydy.png"><br><br> æ‚¨å·²ç»æ³¨æ„åˆ°ï¼Œæ­¤å¤„ä»…æ˜¾ç¤º<code>health</code>å’Œ<code>info</code>ç«¯ç‚¹ã€‚ å› ä¸ºè¿™äº›æ˜¯é»˜è®¤æƒ…å†µä¸‹åªèƒ½é€šè¿‡httpè®¿é—®çš„å”¯ä¸€ç«¯ç‚¹ã€‚ ç”±äºå®‰å…¨åŸå› ï¼Œé»˜è®¤æƒ…å†µä¸‹å°†å…³é—­é€šè¿‡httpåˆ°å…¶ä»–ç«¯ç‚¹çš„è®¿é—®ï¼Œå› ä¸ºå®ƒä»¬å¯èƒ½åŒ…å«æœºå¯†ä¿¡æ¯ï¼Œå› æ­¤å¯èƒ½ä¼šå—åˆ°å¨èƒã€‚ <br><br>  <i><b>è®¿é—®ç‰¹å®šç«¯ç‚¹</b></i> <br><br> å¦‚æœè¦é€šè¿‡Webï¼ˆhttpï¼‰æä¾›å¯¹å…¶ä»–ç«¯ç‚¹çš„è®¿é—®ï¼Œåˆ™éœ€è¦åœ¨<code>application.properties</code>æ–‡ä»¶ä¸­è¿›è¡Œä»¥ä¸‹è¾“å…¥ã€‚ <br><br><pre> <code class="plaintext hljs">management.endpoints.web.exposure.include=&lt;    &gt;&lt;a href="http://localhost:8080/actuator"&gt;&lt;/a&gt;</code> </pre> <br>  <i>ä¸€ä¸ªä¾‹å­</i> ï¼š <br><br><pre> <code class="plaintext hljs">management.endpoints.web.exposure.include= health,info,env</code> </pre> <br> ç°åœ¨ï¼Œå°†ä¸Šé¢çš„æ¡ç›®æ·»åŠ åˆ°<code>application.properties</code> ï¼Œè®©æˆ‘ä»¬å†æ¬¡è½¬åˆ°<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">httpï¼š// localhostï¼š8080 / ctuator</a> <br><br> æ­£å¦‚æˆ‘ä»¬åœ¨ä¸‹é¢çš„å±å¹•å¿«ç…§ä¸­çœ‹åˆ°çš„ï¼Œ <code>env</code>ç«¯ç‚¹ä¹ŸåŒ…æ‹¬åœ¨å†…ã€‚ <br><br><img src="https://habrastorage.org/webt/lj/ni/zj/ljnizjt8y8iy1y334kp-gwtoajm.png"><br><br>  <i><b>è®¿é—®æ‰€æœ‰ç«¯ç‚¹</b></i> <br><br> å¦‚æœè¦åŒ…æ‹¬æ‰€æœ‰ç«¯ç‚¹ï¼Œåˆ™å¯ä»¥ä½¿ç”¨<code>*</code>ç¬¦å·ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚ <br><br><pre> <code class="plaintext hljs">management.endpoints.web.exposure.include=*</code> </pre> <br><img src="https://habrastorage.org/webt/d9/ml/4o/d9ml4o3aeh_hdtlqttit0qtbvwi.png"><br><br>  <i><b>è®¿é—®é™¤å°‘æ•°å‡ ä¸ªç«¯ç‚¹å¤–çš„æ‰€æœ‰ç«¯ç‚¹</b></i> <br><br> ä¸‹é¢çš„ä¸¤ä¸ªæ¡ç›®æ¿€æ´»æ‰€æœ‰ç«¯ç‚¹ï¼Œä½†ç¦ç”¨ç¯å¢ƒç«¯ç‚¹ã€‚ <br><br><pre> <code class="plaintext hljs">management.endpoints.web.exposure.include=* management.endpoints.web.exposure.exclude=env</code> </pre> <br><img src="https://habrastorage.org/webt/lt/sx/6s/ltsx6sc4ycgzw-7bexjdjomy0vw.png"><br><br><img src="https://habrastorage.org/webt/t1/rw/uc/t1rwuct9mugidfox6n3f1fwb_74.png"><br><br>  <i><b>ç¦ç”¨æ‰€æœ‰HTTPç«¯ç‚¹</b></i> <br><br> å¦‚æœæ‚¨ä¸æƒ³é€šè¿‡HTTPæä¾›ç«¯ç‚¹ï¼Œåˆ™å¯ä»¥é€šè¿‡åœ¨<code>application.properties</code>æ–‡ä»¶ä¸­è®¾ç½®ä»¥ä¸‹å†…å®¹æ¥å®ç°ï¼š <br><br><pre> <code class="plaintext hljs">management.server.port=-1</code> </pre> <br> å·¦å³ï¼š <br><br><pre> <code class="plaintext hljs">management.endpoints.web.exposure.exclude=*</code> </pre> <br>  <i><b>é…ç½®ç”¨äºè®¿é—®ç«¯ç‚¹çš„URL</b></i> <br><br> é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰ç«¯ç‚¹éƒ½å¯ä»¥é€šè¿‡URL <code>/actuator</code>è®¿é—®ï¼Œæ ¼å¼ä¸º<code>/actuator/{id}</code> ã€‚ ä½†æ˜¯ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨<code>application.properties</code>çš„ä»¥ä¸‹å±æ€§æ¥æ›´æ”¹åŸºæœ¬è·¯å¾„<code>/actuator</code> ã€‚ <br><br><pre> <code class="plaintext hljs">management.endpoints.web.base-path</code> </pre> <br> ä¾‹å¦‚ï¼Œå¦‚æœè¦å°†åŸºæœ¬URLè®¾ç½®ä¸º<code>/monitor</code>è€Œä¸æ˜¯<code>/actuator</code>å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š <br><br><pre> <code class="plaintext hljs">management.endpoints.web.base-path=/monitor</code> </pre> <br><img src="https://habrastorage.org/webt/ow/ob/ez/owobez3sklfk3pk3aiauyuttcoy.png"><br><br> åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‰€æœ‰ç«¯ç‚¹éƒ½å°†ç”¨ä½œ<code>/monitor/{id}</code>è€Œä¸æ˜¯<code>/actuator/{id}</code> <br><br><img src="https://habrastorage.org/webt/9i/7g/ux/9i7guxcbkgygwvkix4r0njakccg.png"><br><br>  <b>ç«¯ç‚¹å¼¹ç°§å¯åŠ¨æ‰§è¡Œå™¨</b> <br><br> è®©æˆ‘ä»¬è®¨è®ºä¸€äº›æœ€é‡è¦çš„ç«¯ç‚¹ã€‚ <br><br>  <b><i>/å¥åº·</i></b> <br><br>  <code>health</code>ç»ˆç»“ç‚¹æä¾›äº†åº”ç”¨ç¨‹åºçš„æ€»ä½“çŠ¶æ€ï¼šæ˜¯å¦å·²å¯åŠ¨å¹¶æ­£åœ¨è¿è¡Œã€‚ è¿™å¯¹äºåœ¨ç”Ÿäº§ä¸­ç›‘è§†åº”ç”¨ç¨‹åºçš„çŠ¶æ€éå¸¸é‡è¦ã€‚ è¯¥ç«¯ç‚¹å¯ä»¥ä¸ç›‘è§†åº”ç”¨ç¨‹åºé›†æˆåœ¨ä¸€èµ·ï¼Œå¯¹äºå®æ—¶ç¡®å®šåº”ç”¨ç¨‹åºçš„è¿è¡ŒçŠ¶å†µéå¸¸æœ‰ç”¨ã€‚ <br><br>  <code>health</code>ç»ˆç»“ç‚¹æä¾›çš„ä¿¡æ¯é‡å–å†³äº<code>application.properties</code>æ–‡ä»¶ä¸­çš„<code>management.endpoint.health.show-details</code>å±æ€§ã€‚ <br><br> å¦‚æœ<code>management.endpoint.health.show-details=never</code> ï¼Œåˆ™ä¸ä¼šæ˜¾ç¤ºå…¶ä»–ä¿¡æ¯ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨åªä¼šçœ‹åˆ°ä»¥ä¸‹å†…å®¹ï¼ˆè¿™æ˜¯é»˜è®¤è¡Œä¸ºï¼‰ã€‚ <br><br><img src="https://habrastorage.org/webt/op/a0/wd/opa0wdajx2oo3zg5b4bdu0556fc.png"><br><br> å¦‚æœ<code>management.endpoint.health.show-details=always</code> ï¼Œé‚£ä¹ˆå°†å‘æ‰€æœ‰ç”¨æˆ·æ˜¾ç¤ºå…¶ä»–ä¿¡æ¯ã€‚ æ­£å¦‚æˆ‘ä»¬åœ¨ä¸‹é¢çš„ç­”æ¡ˆä¸­çœ‹åˆ°çš„é‚£æ ·ï¼Œæˆ‘ä»¬å…·æœ‰æœ‰å…³ç£ç›˜ç©ºé—´ï¼ˆdiskSpaceï¼‰çš„ä¿¡æ¯ã€‚ å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºå·²è¿æ¥åˆ°æ•°æ®åº“ï¼Œé‚£ä¹ˆæ‚¨è¿˜å°†çœ‹åˆ°æœ‰å…³æ•°æ®åº“çŠ¶æ€çš„ä¿¡æ¯ã€‚ <br><br><img src="https://habrastorage.org/webt/lw/ui/oz/lwuiozd2jbjlfbupg14iln-pfn0.png"><br><br> å¦‚æœ<code>management.endpoint.health.show-details=when-authorized</code> ï¼Œåˆ™ä»…å‘æˆæƒç”¨æˆ·æ˜¾ç¤ºå…¶ä»–ä¿¡æ¯ã€‚ å¯ä»¥ä½¿ç”¨<code>management.endpoint.health.roles</code>å±æ€§é…ç½®æˆæƒã€‚ <br><br>  <i><b>é¢„è®¾æŒ‡æ ‡</b></i> <br><br>  Spring Boot Actuatorå…·æœ‰è®¸å¤šè‡ªåŠ¨é…ç½®çš„â€œè¿è¡ŒçŠ¶å†µæŒ‡ç¤ºå™¨â€ï¼ˆHeathIndicatorsï¼‰ï¼Œç”¨äºæµ‹è¯•åº”ç”¨ç¨‹åºå„ä¸ªéƒ¨åˆ†çš„è¿è¡ŒçŠ¶å†µã€‚ ä¾‹å¦‚ï¼Œ <code>DiskspaceHealthIndicator</code>æä¾›ç£ç›˜ç©ºé—´ä¿¡æ¯ã€‚ å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯MongoDBï¼Œåˆ™<code>MongoHealthIndicator</code>å°†æ£€æŸ¥Mongoæ•°æ®åº“ï¼ˆæœåŠ¡å™¨æ˜¯å¦æ­£åœ¨è¿è¡Œï¼‰å¹¶æ˜¾ç¤ºç›¸åº”çš„ä¿¡æ¯ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œåº”ç”¨ç¨‹åºçš„æœ€ç»ˆçŠ¶æ€ç”±<code>HealthAggregator</code>ç¡®å®šï¼Œè¯¥æ–¹æ³•<code>HealthAggregator</code>æ¯ä¸ª<code>HealthIndicator</code>æä¾›çš„çŠ¶æ€åˆ—è¡¨è¿›è¡Œæ’åºã€‚ æ’åºåˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªçŠ¶æ€ç”¨ä½œåº”ç”¨ç¨‹åºçš„æœ€ç»ˆçŠ¶æ€ã€‚ <br><br>  <i><b>ç¦ç”¨æ‰€æœ‰é¢„é…ç½®çš„æŒ‡ç¤ºå™¨</b></i> <br><br> ä¸Šè¿°â€œè¿è¡ŒçŠ¶å†µæŒ‡ç¤ºå™¨â€é»˜è®¤æƒ…å†µä¸‹å¤„äºå¯ç”¨çŠ¶æ€ï¼Œä½†æ˜¯ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å±æ€§å°†å…¶å…³é—­ï¼š <br><br><pre> <code class="plaintext hljs">management.health.defaults.enabled=false</code> </pre> <br>  <i><b>ç¦ç”¨å•ä¸ªæŒ‡æ ‡</b></i> <br><br> å¦å¤–ï¼Œæ‚¨å¯ä»¥ç¦ç”¨å•ç‹¬çš„<code>HealthIndicator</code> ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œä¾‹å¦‚ï¼Œä»¥ç¦ç”¨ç£ç›˜ç©ºé—´æ£€æŸ¥ï¼š <br><br><pre> <code class="plaintext hljs">management.health.diskspace.enabled=false</code> </pre> <br> æ³¨æ„ï¼šä»»ä½•<code>HealthIndicator</code>çš„æ ‡è¯†ç¬¦å°†æ˜¯ä¸å¸¦æœ‰<code>HealthIndicator</code>åç¼€çš„Beançš„åç§°ã€‚ <br><br>  <i>ä¾‹å¦‚</i> ï¼š <br><br><pre> <code class="plaintext hljs">DiskSpaceHealthIndicator diskspace MongoHealthIndicator mongo CassandraHealthIndicator cassandra DataSourceHealthIndicator datasource</code> </pre> <br> ç­‰ç­‰... <br><br>  <i><b>ç¼–å†™æŒ‡æ ‡ï¼ˆå¥åº·æŒ‡æ ‡ï¼‰</b></i> <br><br> è¿åŒSpring Boot Actuatoræä¾›çš„å†…ç½®<code>HealthIndicator</code> ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºè‡ªå®šä¹‰çŠ¶æ€æŒ‡ç¤ºå™¨ã€‚ ä¸ºæ­¤ï¼Œæ‚¨éœ€è¦åˆ›å»ºä¸€ä¸ªå®ç°<code>HealthIndicator</code>æ¥å£çš„ç±»ï¼Œå®ç°å…¶<code>health()</code>æ–¹æ³•ï¼Œå¹¶å°†<code>Health</code>ä½œä¸ºç›¸å…³ä¿¡æ¯çš„ç­”æ¡ˆè¿”å›ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.boot.actuate.health.Health; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.boot.actuate.health.HealthIndicator; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.stereotype.Component; <span class="hljs-meta"><span class="hljs-meta">@Component</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CustomHealthIndicator</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HealthIndicator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Health </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">health</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> errorCode = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">// In the above line,I am simple assigning zero,but you can call Health check related code like below commented line and that method can return the appropriate code. // int errorCode = performHealthCheck(); if (errorCode != 0) { return Health.down().withDetail("Error Code", errorCode).build(); } return Health.up().build(); } }</span></span></code> </pre><br> è®©æˆ‘ä»¬å†æ¬¡è½¬åˆ°è¿è¡ŒçŠ¶å†µç«¯ç‚¹ï¼Œçœ‹çœ‹æ˜¯å¦åæ˜ äº†æˆ‘ä»¬çš„æŒ‡æ ‡ã€‚ <br><br><img src="https://habrastorage.org/webt/of/n5/-i/ofn5-ifhhfwkvzz3f21fwhsaoos.png"><br><br> æˆ‘ä»¬çœ‹åˆ°äº†æŒ‡æ ‡ã€‚ <br><br>  <i><b>å•ç»„ä»¶çŠ¶æ€</b></i> <br><br> æ‚¨è¿˜å¯ä»¥æ£€æŸ¥å•ä¸ªç»„ä»¶çš„çŠ¶æ€ã€‚ åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†ç¼–å†™çš„æŒ‡æ ‡å’ŒdiskSpaceã€‚ <br><br> å¦‚æœæˆ‘ä»¬åªæƒ³æŸ¥çœ‹ç£ç›˜çš„çŠ¶æ€ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä»¥ä¸‹URLï¼š <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">httpï¼š//æœ¬åœ°ä¸»æœºï¼š8080 /æ‰§è¡Œå™¨/è¿è¡ŒçŠ¶å†µ/ diskSpace</a> <br><br><img src="https://habrastorage.org/webt/sd/b_/y5/sdb_y5cvpzbvyuckqpk9n8tlilq.png"><br><br>  <i><b>/èµ„è®¯</b></i> <br><br>  <code>info</code>ç»ˆç»“ç‚¹æä¾›äº†æœ‰å…³å®ƒä»è¯¸å¦‚<code>build-info.properties</code>æˆ–<code>git.properties</code>æ–‡ä»¶æˆ–ä»<code>application.properties</code>æŒ‡å®šçš„å±æ€§æ¥æ”¶çš„åº”ç”¨ç¨‹åºçš„å¸¸è§„ä¿¡æ¯ã€‚ <br><br> ç”±äºæˆ‘ä»¬çš„é¡¹ç›®ä¸­æ²¡æœ‰æ­¤ç±»æ–‡ä»¶ï¼Œå› æ­¤ç­”æ¡ˆå°†ä¸ºç©ºï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š <br><br><img src="https://habrastorage.org/webt/vo/vf/lh/vovflhl5vmav0zfb_ltc1nan2g0.png"><br><br> å¦‚æœå­˜åœ¨<code>META-INF/build-info.properties</code> Spring Boot Actuatorå°†æ˜¾ç¤ºæ„å»ºä¿¡æ¯ã€‚ è¯¥é¡¹ç›®ä¿¡æ¯æ–‡ä»¶æ˜¯åœ¨<code>build-info</code>æ—¶ç”±<code>build-info</code>ç›®æ ‡åˆ›å»ºçš„ã€‚ åœ¨è¿™é‡Œï¼Œæ‚¨è¿˜å¯ä»¥æ·»åŠ ä»»æ„æ•°é‡çš„å…¶ä»–å±æ€§ã€‚ <br><br> è®©æˆ‘ä»¬åœ¨<code>pom.xm</code> lä¸­æ·»åŠ <code>spring-boot-maven-plugin</code>çš„<code>build-info</code>ç›®æ ‡ã€‚ <br><br><pre> <code class="java hljs">&lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;version&gt;<span class="hljs-number"><span class="hljs-number">2.1</span></span>.0.RELEASE&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;goals&gt; &lt;goal&gt;build-info&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;additionalProperties&gt; &lt;encoding.source&gt;UTF-<span class="hljs-number"><span class="hljs-number">8</span></span>&lt;/encoding.source&gt; &lt;encoding.reporting&gt;UTF-<span class="hljs-number"><span class="hljs-number">8</span></span>&lt;/encoding.reporting&gt; &lt;java.source&gt;${maven.compiler.source}&lt;/java.source&gt; &lt;java.target&gt;${maven.compiler.target}&lt;/java.target&gt; &lt;/additionalProperties&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt;</code> </pre> <br> ç°åœ¨ï¼Œè®©æˆ‘ä»¬å†æ¬¡æŸ¥çœ‹<code>info</code>ç«¯ç‚¹ï¼Œå¹¶æŸ¥çœ‹ç¨‹åºé›†ä¿¡æ¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š <br><br><img src="https://habrastorage.org/webt/7r/s_/kx/7rs_kxqo4mektufolezgitvngmk.png"><br><br> å¦å¤–ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>info</code>é”®å°†<code>application.properties</code>ç¨‹åºä¿¡æ¯æ·»åŠ åˆ°<code>application.properties</code> ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œå®ƒå°†æ˜¾ç¤ºåœ¨ç«¯ç‚¹<code>/info</code> ã€‚ <br><br><pre> <code class="plaintext hljs">info.application.name=spring-actuator info.application.description=spring boot actuator application info.application.version=0.0.1-SNAPSHOT</code> </pre> <br><img src="https://habrastorage.org/webt/ed/9n/no/ed9nnobv3fuvs5d4-nr0ecjn-x4.png"><br><br>  <i><b>/è±†</b></i> <br><br>  <code>beans</code>ç«¯ç‚¹æ˜¾ç¤ºäº†åœ¨Springå®¹å™¨ä¸­å®šä¹‰çš„æ‰€æœ‰<code>beans</code> ï¼Œä»¥åŠæœ‰å…³æ¯ä¸ªbeançš„ä»¥ä¸‹ä¿¡æ¯ï¼š <br><br><pre> <code class="plaintext hljs">aliases :    scope :   type :    resource :  (),     dependencies :   </code> </pre> <br> ä¾‹å¦‚ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªåä¸º<code>TestController</code>çš„RestControllerå¹¶æ³¨å…¥äº†ä¸€ä¸ªåä¸º<code>TestService</code>çš„ç»„ä»¶ã€‚ <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.beans.factory.annotation.Autowired; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.web.bind.annotation.GetMapping; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.web.bind.annotation.RestController; <span class="hljs-meta"><span class="hljs-meta">@RestController</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> TestService testService; <span class="hljs-meta"><span class="hljs-meta">@GetMapping</span></span>(<span class="hljs-string"><span class="hljs-string">"/messages"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getMessage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Hello"</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.annotation.Configuration; <span class="hljs-meta"><span class="hljs-meta">@Configuration</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestService</span></span></span><span class="hljs-class"> </span></span>{ }</code> </pre> <br> æ‚¨å¯ä»¥åœ¨ä¸‹é¢çš„å±å¹•æˆªå›¾ä¸­çœ‹åˆ°testControllerçš„æ˜¾ç¤ºæ–¹å¼ã€‚ <br><br><img src="https://habrastorage.org/webt/8_/15/vd/8_15vdhjtlitkji7oaeuprm0wam.png"><br><br>  <i><b>/ configprops</b></i> <br>  <code>configProps</code>æ˜¾ç¤ºæ‰€æœ‰<code>@ConfigurationProperties</code>æ³¨é‡Šçš„<code>@ConfigurationProperties</code> ã€‚ <br><br><img src="https://habrastorage.org/webt/is/q6/6l/isq66l89ceyopzk9kj-uckhp7bg.png"><br><br> åœ¨ä¸Šé¢çš„å±å¹•æˆªå›¾ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†ä¸¤ä¸ªåœ¨Spring Frameworkæœ¬èº«ä¸­å®šä¹‰çš„beanï¼Œå¹¶ç”¨<code>@ConfigurationProperties</code>æ³¨é‡Šï¼Œå› æ­¤æ˜¾ç¤ºåœ¨æ­¤ç«¯ç‚¹ä¸Šã€‚ <br><br> ä¸‹é¢çš„å±å¹•å¿«ç…§æ˜¾ç¤ºäº†<code>@ConfigurationProperties</code>æ³¨é‡Šçš„<code>HttpTraceProperties</code>æºä»£ç ã€‚ <br><br><img src="https://habrastorage.org/webt/ct/mz/sp/ctmzsp7gxx2rpnkzflxiqqnm5se.png"><br><br>  <i><b>/ç¯å¢ƒ</b></i> <br><br>  <code>env</code>ç«¯ç‚¹æŒ‰ä»¥ä¸‹é¡ºåºæä¾›æ‰€æœ‰ç¯å¢ƒä¿¡æ¯ï¼š <br><br><div class="scrollable-table"><table><tbody><tr><th> ç³»ç»Ÿå±æ€§ <br></th><th> å–å†³äºJVMï¼ˆä¸å¹³å°æ— å…³ï¼‰ <br></th></tr><tr><td> ç³»ç»Ÿç¯å¢ƒæˆ–å˜é‡ <br> å‘¨å›´ç¯å¢ƒ <br></td><td> å–å†³äºæ“ä½œ <br> ç³»ç»Ÿï¼ˆå–å†³äºå¹³å°ï¼‰ <br></td></tr><tr><td> åº”ç”¨ç¨‹åºçº§åˆ«è®¾ç½® <br></td><td> å®šä¹‰äº <br>  application.properties <br></td></tr></tbody></table></div><br><img src="https://habrastorage.org/webt/l_/bn/fa/l_bnfamlop3_0atho5cxwtfvpyo.png"><br><br>  <i><b>/å †è½¬å‚¨</b></i> <br><br>  heapdumpç«¯ç‚¹è½¬å‚¨åº”ç”¨ç¨‹åºå †ã€‚ è¯¥ç«¯ç‚¹ä»¥HPROFæ ¼å¼è¿”å›äºŒè¿›åˆ¶æ•°æ®ã€‚ ç”±äºé€šå¸¸ä¼šè¿”å›å¾ˆå¤šæ•°æ®ï¼Œå› æ­¤æ‚¨å¿…é¡»ä¿å­˜å¹¶åˆ†æå®ƒä»¬ã€‚ <br><br>  <i><b>/è®°å½•å™¨</b></i> <br><br>  <code>loggers</code>ä¸ºåº”ç”¨ç¨‹åºè®°å½•å™¨æä¾›æœ‰å…³å…¶é…ç½®çš„æ—¥å¿—çº§åˆ«ï¼ˆconfiguredLevelï¼‰å’Œæœ‰æ•ˆçº§åˆ«ï¼ˆeffectiveLevelï¼‰çš„ä¿¡æ¯ã€‚ å¦‚æœæœªä¸ºè®°å½•å™¨åŠå…¶çˆ¶è®°å½•ï¼ˆç©ºï¼‰æŒ‡å®šé…ç½®çš„çº§åˆ«ï¼Œåˆ™æ ¹è®°å½•å™¨çº§åˆ«å°†æ˜¯æœ‰æ•ˆçº§åˆ«ã€‚ <br><br>  <code>level</code>å±æ€§æŒ‡ç¤ºæ—¥å¿—è®°å½•æ¡†æ¶æ”¯æŒå“ªäº›æ—¥å¿—è®°å½•çº§åˆ«ã€‚ <br><br><img src="https://habrastorage.org/webt/kv/x4/4z/kvx44z3tu3olaho08_87p3df3og.png"><br><br> è¦è·å–ç‰¹å®šè®°å½•å™¨çš„ä¿¡æ¯ï¼Œè¯·åœ¨<code>/loggers</code>åé¢çš„URLä¸­ä¼ é€’è®°å½•å™¨çš„åç§°ï¼ˆidï¼‰ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">httpï¼š//æœ¬åœ°ä¸»æœºï¼š8080 /ä½œåŠ¨å™¨/è®°å½•å™¨/ nl.blogpsot.javasolutionsguide.springactuator.SpringActuatorApplication</a> <br><br><img src="https://habrastorage.org/webt/6e/i5/la/6ei5laqadln50sb5drfnwogizde.png"><br><br>  <i><b>/æŒ‡æ ‡</b></i> <br><br>  <code>metrics</code>ç»ˆç»“ç‚¹æ˜¾ç¤ºæ‚¨å¯ä»¥ä¸ºåº”ç”¨ç¨‹åºè·Ÿè¸ªçš„æ‰€æœ‰æŒ‡æ ‡ã€‚ <br><br><img src="https://habrastorage.org/webt/om/jm/mq/omjmmqeywqprsopnwrqdjkder_c.png"><br><br>  <i><b>æ£€æŸ¥å•ä¸ªæŒ‡æ ‡</b></i> <br><br> æ‚¨å¯ä»¥é€šè¿‡åœ¨<code>/metrics</code>ä¹‹åçš„urlä¸­ä¼ é€’å•ä¸ªæŒ‡æ ‡æ¥è§‚çœ‹å•ä¸ª<code>/metrics</code> ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š <br><br>  <a href="">HTTPï¼š//æœ¬åœ°ä¸»æœºï¼š8080 /æ‰§è¡Œå™¨/æŒ‡æ ‡/jvm.memory.used</a> <br><br><img src="https://habrastorage.org/webt/yd/mw/tr/ydmwtraamszohbs56xwrvz6ubba.png"><br><br>  <b>å‚è€ƒæ–‡çŒ®</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">docs.spring.io/spring-boot/docs/current/actuator-api/html</a> <br><br> æ ¹æ®æ—¢å®šä¼ ç»Ÿï¼Œæˆ‘ä»¬æ­£åœ¨ç­‰å¾…æ‚¨çš„è¯„è®ºï¼Œå¹¶é‚€è¯·æ‰€æœ‰äººå‚åŠ å°†äº5æœˆ23æ—¥ä¸¾è¡Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">çš„å¼€æ”¾æ—¥</a> ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN452624/">https://habr.com/ru/post/zh-CN452624/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN452612/index.html">åœ¨tensorflow.jsä¸ŠåŠ å¼ºæ·±åº¦ç¥ç»ç½‘ç»œæœºå™¨å­¦ä¹ ï¼šæŠ€å·§</a></li>
<li><a href="../zh-CN452614/index.html">å¦‚ä½•åœ¨Adobe Illustratorä¸­å¼€å§‹ç¼–ç¨‹ã€‚ ç¬¬äºŒéƒ¨åˆ†</a></li>
<li><a href="../zh-CN452618/index.html">Google I / O 2019æ‰€è¯´çš„è¯ï¼šAndroid 10ï¼ŒARåº”ç”¨ç¨‹åºç­‰ç­‰</a></li>
<li><a href="../zh-CN452620/index.html">ä½¿ç”¨Typescriptæ´¾ç”ŸåŠ¨ä½œç±»å‹</a></li>
<li><a href="../zh-CN452622/index.html">ç¨‹åºå‘˜åŸºå› ç»„å­¦å¯¼è®º</a></li>
<li><a href="../zh-CN452628/index.html">è‡ªå®šä¹‰åº•é¡µï¼šåº”å¦‚ä½•å·¥ä½œ</a></li>
<li><a href="../zh-CN452630/index.html">å¤‡ä»½ï¼Œç¬¬2éƒ¨åˆ†ï¼šæ¦‚è¿°å’Œæµ‹è¯•åŸºäºrsyncçš„å¤‡ä»½å·¥å…·</a></li>
<li><a href="../zh-CN452638/index.html">æˆ‘ä»¬å¦‚ä½•åœ¨CarPlayä¸‹å¯åŠ¨2GISï¼Œä½†ä»ç„¶æ— æ³•è§£å†³</a></li>
<li><a href="../zh-CN452642/index.html">äººç¾¤çš„åŠ›é‡ã€‚ èŠåŠ å“¥å¦‚ä½•å¼€å‘åƒåœ¾æœºå™¨äºº-æ²³æµæ¸…æ´å‘˜</a></li>
<li><a href="../zh-CN452644/index.html">DevConf X Webå¼€å‘è€…å¤§ä¼š-6æœˆ21æ—¥</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>