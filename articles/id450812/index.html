<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏌️ 💲 🔚 PSR-14 - acara utama dalam PHP 🚶🏻 🥈 🤜</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tahun lalu, PHP-FIG , Kelompok Konsep Kompatibilitas PHP , merilis beberapa spesifikasi baru. Yang terakhir, PSR-14 , didedikasikan untuk pengiriman a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PSR-14 - acara utama dalam PHP</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/450812/">  Tahun lalu, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PHP-FIG</a> , Kelompok Konsep Kompatibilitas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PHP</a> , merilis beberapa spesifikasi baru.  Yang terakhir, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PSR-14</a> , didedikasikan untuk pengiriman acara.  Seperti PSR lain, ini adalah spesifikasi lokal, tetapi memiliki dampak besar pada banyak aspek standardisasi. <br><br>  <i>Dari seorang penerjemah: Ini adalah terjemahan dari bagian pertama dari serangkaian publikasi di mana Larry (Crell) Garfield, salah satu anggota PHP-FIG, menjelaskan apa itu PSR-14, apa yang mampu dan apa yang tidak, dan apa cara terbaik untuk menggunakannya dalam proyek mereka.</i> <br><a name="habracut"></a><br><h2>  Tujuan </h2><br>  Pengiriman acara telah lama digunakan dalam banyak bahasa.  Jika Anda pernah menggunakan EventDispatcher di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Symfony</a> , sistem acara di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Laravel</a> , kait di Drupal, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Manajer Acara</a> dalam kerangka Zend, paket <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">League \ Event</a> , atau sesuatu seperti itu, maka Anda tahu apa ini. <br><br>  Secara umum, semua sistem ini adalah bentuk "mediator-observer".  Sepotong kode mengirimkan pesan jenis - "peristiwa", dan perantara mengirimkannya ke bagian kode lainnya - "pendengar".  Kadang-kadang sinyal diarahkan hanya dalam satu arah, kadang-kadang "pendengar" entah bagaimana dapat mengirimkan data kembali ke pemanggil.  Tentu saja, mereka semua berbeda dan tidak terlalu kompatibel satu sama lain. <br><br>  Ini adalah masalah untuk perpustakaan mandiri yang ingin terhubung ke berbagai perpustakaan dan aplikasi.  Banyak perpustakaan dapat diperluas dengan mengirimkan acara dalam satu bentuk atau yang lain sehingga kode lain dapat menghubungi mereka.  Tetapi lapisan perantara seperti itu, pada kenyataannya, adalah hak milik.  Perpustakaan yang menjalankan Symfony EventDispatcher kemudian digabungkan dengan Symfony.  Kemudian menggunakannya di tempat lain memerlukan menginstal EventDispatcher dan menghubungkan ke perpustakaan dalam program ini.  Perpustakaan yang memanggil sistem penjilidan dari Drupal <code>module_invoke_all()</code> kemudian ditautkan ke Drupal.  Dan sebagainya. <br><br>  Tujuan dari PSR-14 adalah untuk menghilangkan perpustakaan dari ketergantungan ini.  Ini memungkinkan perpustakaan untuk memperluas melalui lapisan umum yang tipis, dan kemudian memfasilitasi transfer mereka ke lingkungan lain tanpa usaha dan biaya tambahan, misalnya, di Symfony, Zend Framework, Laravel, TYPO3, eZ Platform atau Slim.  Selama lingkungan memiliki kompatibilitas dengan PSR-14, semuanya akan berfungsi. <br><br><h2>  Spesifikasi </h2><br>  Seperti yang sudah disebutkan, spesifikasinya cukup ringan.  Ini adalah tiga antarmuka dalam satu metode dan deskripsi meta tentang cara menggunakannya.  Semuanya sederhana dan nyaman.  Di bawah ini adalah kode untuk antarmuka ini (tidak ada komentar untuk menghemat ruang). <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Psr</span></span>\<span class="hljs-title"><span class="hljs-title">EventDispatcher</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">EventDispatcherInterface</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dispatch</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(object $event)</span></span></span></span>; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ListenerProviderInterface</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getListenersForEvent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(object $event)</span></span></span><span class="hljs-function"> : </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">iterable</span></span></span></span>; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StoppableEventInterface</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isPropagationStopped</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> : </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bool</span></span></span></span>; }</code> </pre> <br>  Dua yang pertama adalah inti dari spesifikasi.  <code>StoppableEventInterface</code> adalah ekstensi yang akan kami kembalikan nanti. <br><br>  Saya pikir <code>EventDispatcher</code> biasa bagi sebagian besar dari Anda - itu hanya objek dengan metode yang Anda lewati acara - perantara yang sudah Anda bicarakan.  Acara itu sendiri, bagaimanapun, tidak didefinisikan - itu bisa berupa <b>objek PHP</b> .  Lebih lanjut tentang ini nanti. <br><br>  Sebagian besar implementasi yang ada memiliki satu objek atau serangkaian fungsi yang bertindak sebagai perantara atau pengirim dan tempat untuk mendaftarkan kode yang menerima acara (pendengar).  Untuk PSR-14, kami sengaja membagi dua tanggung jawab ini menjadi objek yang terpisah.  Dispatcher menerima daftar pendengar dari objek penyedia yang membentuk daftar ini. <br><br>  Dari mana penyedia mendapatkan daftar pendengar?  Tapi kemana dia mau!  Ada satu miliar dan satu cara untuk menghubungkan pendengar dan acara tersebut, semuanya benar-benar valid dan tidak kompatibel.  Pada awalnya, kami memutuskan bahwa standarisasi "One True Way" untuk mendaftarkan siswa akan terlalu terbatas.  Namun, dengan menstandarkan proses menghubungkan pendengar ke operator, Anda bisa mendapatkan fleksibilitas luar biasa tanpa memaksa pengguna untuk melakukan sesuatu yang aneh dan tidak bisa dipahami. <br><br>  Juga, kode tersebut tidak menunjukkan apa yang dimaksud pendengar.  Ini bisa berupa fragmen PHP yang mampu persepsi sinyal: fungsi, fungsi anonim, metode objek, apa pun.  Karena objek yang dipanggil dapat melakukan apa saja, maka diizinkan untuk memiliki, sebagai pendengar, fungsi anonim yang melakukan pemuatan yang tertunda dari sebuah layanan dari sebuah wadah DI dan memanggil metode dalam layanan tersebut, yang sebenarnya berisi kode mendengarkan. <br><br>  Singkatnya, operator adalah API sederhana dan mudah untuk penulis perpustakaan.  Penyedia pendengar menawarkan API yang kuat dan fleksibel untuk integrator kerangka kerja, dan hubungan antara operator dan penyedia menyatukan mereka. <br><br><h2>  Contoh sederhana </h2><br>  Secara umum, skema menggabungkan semua bagian menjadi satu kesatuan akan terlihat seperti ini. <br><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Dispatcher</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">EventDispatcherInterface</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ListenerProviderInterface $provider)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;provider = $provider; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dispatch</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(object $event)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;provider-&gt;getListenersForEvent($event) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $listener) { $listener($event); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $event; } } $dispatcher = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dispatcher($provider); $event = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SomethingHappened(); $dispatcher-&gt;dispatch($event);</code> </pre><br>  Sepotong kode kecil ini menawarkan peluang besar, dan sangat fleksibel.  Dalam artikel-artikel berikut, kita akan berbicara secara rinci tentang sifat-sifatnya, menganalisis beberapa solusi struktural, dan mempertimbangkan banyak cara untuk menggunakan peristiwa ringan seperti itu. <br><br><h2>  Kode </h2><br>  PSR-14 sudah didukung oleh kerangka kerja dan aplikasi utama. <br><br><ul><li>  Matthew Weier O'Phinney telah berjanji untuk memperkenalkan dukungan untuk PSR-14 di zend-eventmanager 4.0 dalam kerangka Zend. <br></li><li>  Symfony <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">baru-baru ini mengumumkan</a> perubahan pada EventDispatcher untuk kompatibilitas dengan PSR-14, yang akan memberikan dukungan penuh di 5.0 / 5.1. <br></li><li>  Kerangka kerja Yii mengumumkan niatnya untuk mengintegrasikan PSR-14 <a href="">dalam versi 3.0</a> . <br></li><li>  Benni Mack dari TYPO3 CMS mengatakan bahwa dalam rilis TYPO3 berikutnya, semua konsep perangkap + sinyal / slot yang ada akan mendukung PSR-14. <br></li></ul><br>  PSR-14 juga memiliki tiga implementasi independen yang berfungsi penuh yang sudah dapat Anda gunakan dalam aplikasi apa pun. <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tukio</a> oleh Larry Garfield, penulis artikel ini. <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Dispatcher Peristiwa Phly</a> oleh Matthew Weier O'Phinney. <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kart</a> dari Benni Mack, yang berfungsi sebagai plugin tertanam. <br></li></ul><br>  Penulis berterima kasih kepada seluruh kelompok kerja PSR: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Larry Garfield</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Cees-Jan Kiewiet</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Benjamin Mack</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Elizabeth Smith</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Ryan Weaver</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Matthew Weier O'Phinney</a> .  Sepanjang pekerjaan, prosesnya sangat produktif: semua orang bekerja bersama, secara kolektif, sebagaimana mestinya.  Hasilnya menyenangkan, dan saya ingin semua upaya lebih lanjut dalam pekerjaan bersama pada arsitektur menjadi sama produktifnya. <br><br><blockquote>  Anda dapat menemukan rincian lebih lanjut baik dari yang asli dari bagian berikutnya dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi</a> atau 17 Mei di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PHP Russia</a> .  Opsi kedua menarik karena beberapa alasan.  Misalnya, ketua Komite Program, Alexander ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">samdark</a> ) Makarov, adalah di antara mereka yang memperkenalkan PSR-14 di Yii.  Dan pada prinsipnya, komposisi Komite Program dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pembicara</a> sangat kuat, hampir tidak ada topik dari bidang penggunaan PHP profesional yang tidak dapat dibahas pada konferensi ini. </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id450812/">https://habr.com/ru/post/id450812/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id450800/index.html">Pengembangan Layanan Mikro dengan BDD dan IOD</a></li>
<li><a href="../id450802/index.html">Pemadaman warisan</a></li>
<li><a href="../id450804/index.html">Pencetakan logam 3D di industri otomotif: mulai dari yang kecil</a></li>
<li><a href="../id450806/index.html">Ketika variabel lingkungan mempercepat proses hingga 40 kali</a></li>
<li><a href="../id450810/index.html">7 cara teratas untuk dengan cepat memeriksa kompetensi spesialis TI sebelum wawancara</a></li>
<li><a href="../id450814/index.html">Bagaimana BGP Bekerja</a></li>
<li><a href="../id450816/index.html">Tajuk HTTP untuk pengembang yang bertanggung jawab</a></li>
<li><a href="../id450818/index.html">Dari Latensi Ceph Tinggi ke Patch Kernel dengan eBPF / BCC</a></li>
<li><a href="../id450820/index.html">Komite program FrontendConf: kerangka kerja, cakrawala, pengalaman dunia dan misi konferensi</a></li>
<li><a href="../id450822/index.html">Kerangka kerja yang hilang</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>