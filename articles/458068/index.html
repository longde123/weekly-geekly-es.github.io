<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéÅ üë®üèº‚Äçüè´ ‚ô¶Ô∏è PVS-Studio para Visual Studio üë©‚Äçüëß üë®‚Äçüéì ü§ûüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Muchos de nuestros art√≠culos se centran en cualquier cosa, pero no en la herramienta PVS-Studio en s√≠. Mientras que hacemos mucho para que su uso sea ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PVS-Studio para Visual Studio</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/458068/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b55/042/8ad/b550428adfba0288bfdfce8d5f15e6fa.png"></div><br>  Muchos de nuestros art√≠culos se centran en cualquier cosa, pero no en la herramienta PVS-Studio en s√≠.  Mientras que hacemos mucho para que su uso sea conveniente para los desarrolladores.  Sin embargo, nuestros esfuerzos a menudo se ocultan detr√°s de escena.  Decid√≠ remediar esta situaci√≥n y contarles sobre el complemento PVS-Studio para Visual Studio.  Si usa Visual Studio, este art√≠culo es para usted. <br><a name="habracut"></a><br><h2>  ¬øQu√© es el an√°lisis de c√≥digo est√°tico y por qu√© lo necesitamos? </h2><br>  El an√°lisis de c√≥digo est√°tico es el proceso de detectar errores y fallas en el c√≥digo fuente de los programas.  El an√°lisis est√°tico puede considerarse como un proceso de revisi√≥n autom√°tica de c√≥digo.  La <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">revisi√≥n</a> conjunta del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">c√≥digo</a> es una metodolog√≠a maravillosa.  Sin embargo, tiene un inconveniente significativo: alto costo.  Es necesario reunir a varios programadores para revisar el c√≥digo reci√©n escrito o reescrito despu√©s de las modificaciones realizadas en √©l. <br><br>  Por un lado, queremos revisar el c√≥digo regularmente.  Por otro lado, es demasiado caro.  La soluci√≥n de compromiso son las herramientas de an√°lisis est√°tico.  Analizan seriamente el c√≥digo fuente de los programas y dan recomendaciones a los programadores sobre la revisi√≥n de ciertos fragmentos de c√≥digo.  Por supuesto, un programa no sustituir√° una revisi√≥n de c√≥digo completa, realizada por un equipo de desarrolladores.  Sin embargo, la relaci√≥n precio / beneficios hace que el an√°lisis est√°tico sea una pr√°ctica bastante √∫til, aplicada por muchas empresas.  Si el lector est√° interesado en n√∫meros precisos, le sugiero que lea el art√≠culo " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ROI de PVS-Studio</a> ". <br><br>  Hay muchos analizadores de c√≥digo est√°tico comerciales y gratuitos.  Una gran lista de analizadores est√°ticos est√° disponible en Wikipedia: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Lista de herramientas para el an√°lisis de c√≥digo est√°tico</a> .  La lista de lenguajes para los que hay analizadores de c√≥digo est√°tico es bastante grande (C, C ++, C #, Java, Ada, Fortran, Perl, Ruby, ...).  No hace falta decir que le informaremos sobre el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">analizador</a> PVS-Studio. <br><br>  La principal ventaja del an√°lisis de c√≥digo est√°tico es la oportunidad de reducir en gran medida el costo de eliminar defectos en un programa.  Cuanto antes se detecte un error, menos costoso ser√° corregirlo.  Por lo tanto, de acuerdo con el libro "Code Complete" de McConnell, la detecci√≥n de errores en la etapa de prueba de c√≥digo es diez veces m√°s costosa que en la etapa de dise√±o de c√≥digo (codificaci√≥n): <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/834/bdd/a8f/834bdda8fd783e91db60015010476cd6.png" alt="Figura 1. Costo promedio de correcci√≥n de defectos seg√∫n el momento de su aparici√≥n y detecci√≥n en el c√≥digo (los datos de la tabla est√°n tomados del libro 'Code Complete' de S. McConnell)"></div><br>  <font color="#999999"><i>Figura 1. Costo promedio de correcci√≥n de defectos seg√∫n el momento de su aparici√≥n y detecci√≥n en el c√≥digo (los datos de la tabla est√°n tomados del libro 'Code Complete' de S. McConnell)</i></font> <br><br>  Las herramientas de an√°lisis est√°tico permiten detectar una gran cantidad de errores, t√≠picos de la etapa de dise√±o de c√≥digo, lo que reduce significativamente el costo de todo el desarrollo del proyecto.  Por ejemplo, el analizador de c√≥digo est√°tico PVS-Studio se puede ejecutar en modo de fondo inmediatamente despu√©s de la compilaci√≥n y, en caso de encontrar posibles errores, lo notificar√° a un programador.  M√°s sobre este modo se dar√° a continuaci√≥n. <br><br><h2>  Analizador de c√≥digo est√°tico PVS-Studio </h2><br>  PVS-Studio es un analizador est√°tico que detecta errores y posibles vulnerabilidades en el c√≥digo fuente de aplicaciones en C, C ++ (otras extensiones compatibles: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C ++ / CLI</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C ++ / CX</a> ), C # y Java en plataformas Windows, Linux y macOS.  El analizador est√° perfectamente integrado en Visual Studio 2010 - 2019 e IDE IntelliJ IDEA.  En este art√≠culo, veremos m√°s de cerca a PVS-Studio, verificando el c√≥digo en los lenguajes C, C ++ y C #.  Puede leer sobre c√≥mo usar PVS-Studio para verificar el c√≥digo Java en IntelliJ IDEA <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br>  Despu√©s de la instalaci√≥n de PVS-Studio y su integraci√≥n en Visual Studio, los usuarios obtienen un elemento adicional "PVS-Studio" en el men√∫ principal y la ventana para trabajar con mensajes de error: <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/943/589/d81/943589d818ec8e95fe078ed08585fe5c.png" alt="Figura 2. Los elementos principales que agrega el analizador PVS-Studio al integrarse en Visual Studio."></div><br>  <font color="#999999"><i>Figura 2. Los elementos principales que agrega el analizador PVS-Studio al integrarse en Visual Studio.</i></font> <br><br><h3>  Configuraciones iniciales </h3><br>  El analizador est√° listo para funcionar justo despu√©s de la instalaci√≥n.  En la mayor√≠a de los casos, no necesita configurar nada para la primera ejecuci√≥n.  La √∫nica configuraci√≥n que puede necesitar al principio es la exclusi√≥n de bibliotecas de terceros.  No va a arreglar nada en los archivos originales, por ejemplo, la biblioteca jpeg, por lo que no es necesario verificarlo.  Adem√°s, la exclusi√≥n de carpetas innecesarias acelerar√° el an√°lisis del proyecto.  Aqu√≠ se establecen las excepciones del directorio: PVS-Studio&gt; Opciones ...&gt; No verificar archivos&gt; PathMasks (consulte la Figura 3). <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ee5/c57/d08/ee5c57d087ce5294b2de1cc455fbd662.png" alt="Figura 3. Edici√≥n de una lista de directorios que el analizador no verificar√°."></div><br>  <font color="#999999"><i>Figura 3. Edici√≥n de una lista de directorios que el analizador no verificar√°.</i></font> <br><br>  Si en el nombre completo del archivo hay uno de los nombres especificados, el an√°lisis no se realizar√° para este archivo.  Por defecto, los nombres de algunos directorios ya est√°n incluidos en la lista.  Sin embargo, en su proyecto, el directorio con la biblioteca ZLib puede llamarse no "zlib", sino, por ejemplo, "zip_lib".  Por lo tanto, esta lista debe ser editada.  Para comenzar a editar, debe hacer clic en un bot√≥n con tres puntos. <br><br>  Ejemplos de m√°scaras aceptables para la lista PathMasks: <br><br><ul><li>  c: \ Libs \: se excluir√°n todos los archivos de este directorio y sus subdirectorios. </li><li>  \ Libs \ o * \ Libs \ *: se excluir√°n todos los archivos de los directorios cuya ruta contenga el subdirectorio "Libs".  Si no se especifican los s√≠mbolos "*", se agregar√°n autom√°ticamente de todos modos, por lo que ambas opciones son iguales. </li><li>  Libs o * Libs *: todos los archivos cuya ruta contiene el subdirectorio, cuyo nombre es igual o contiene 'Libs'.  Tambi√©n en este caso, todos los archivos que contengan Libs en su nombre, por ejemplo, c: \ project \ mylibs.cpp, ser√°n excluidos.  Para evitar confusiones, recomendamos usar siempre barras. </li></ul><br>  Adem√°s de excluir directorios completos, puede configurar m√°scaras para excluir archivos individuales.  Para hacer esto, existe la configuraci√≥n FileNameMasks.  Obtenga m√°s informaci√≥n sobre c√≥mo trabajar con listas de excepciones en la documentaci√≥n: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Configuraci√≥n: No verificar archivos</a> . <br><br><h3>  Verificaci√≥n del proyecto </h3><br>  Cuando complete la configuraci√≥n inicial, puede comenzar a verificar el proyecto.  PVS-Studio para Visual Studio admite la comprobaci√≥n de proyectos C ++ (.vcxproj) y C # (.csproj).  Tambi√©n puede intentar comprobar de inmediato toda la soluci√≥n, que contiene proyectos de este tipo.  Para hacer esto, seleccione el elemento del men√∫ Extensiones Extensiones&gt; PVS-Studio&gt; Verificar&gt; Soluci√≥n (Ver Figura 4). <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/716/ee3/2d8/716ee32d88dcc6bac832be8356dfaca6.png" alt="Figura 4. Verificaci√≥n de una soluci√≥n utilizando el analizador PVS-Studio."></div><br>  <font color="#999999"><i>Figura 4. Verificaci√≥n de una soluci√≥n utilizando el analizador PVS-Studio.</i></font> <br><br>  Si hay algunas dificultades con la verificaci√≥n, recomendamos consultar la secci√≥n " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PVS-Studio: Soluci√≥n de problemas</a> " en nuestro sitio web.  Estas no son recomendaciones est√∫pidas en el esp√≠ritu de "verificar que el enchufe est√© insertado en el enchufe".  La secci√≥n describe situaciones t√≠picas de las solicitudes de los usuarios y sugiere opciones. <br><br><h3>  Trabajando con una lista de mensajes de diagn√≥stico </h3><br>  Despu√©s de la verificaci√≥n, todos los mensajes de diagn√≥stico se mostrar√°n en una ventana especial.  La ventana tiene muchos componentes de control.  Todos ellos sirven para mostrar exactamente aquellos mensajes de diagn√≥stico que son interesantes para el usuario.  Sin embargo, en el primer momento la ventana puede parecer complicada.  Veamos todos los componentes de control (ver Figura 5). <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b28/700/7c4/b287007c4520a416cd531e31962c01ca.png" alt="Figura 5. Una ventana con mensajes de diagn√≥stico."></div><br>  <font color="#999999"><i>Figura 5. Una ventana con mensajes de diagn√≥stico.</i></font> <br><br><ol><li>  Bueno, aqu√≠ est√° la ventana PVS-Studio. </li><li>  Men√∫ adicional  Le permite acceder a opciones como marcar advertencias como falsas, ocultar mensajes, agregar archivos a excepciones (lea sobre esto a continuaci√≥n). </li><li>  El bot√≥n habilita los mensajes "algo sali√≥ mal".  Por ejemplo, uno de los archivos no puede ser preprocesado. </li><li>  Ir al mensaje anterior / siguiente.  Esto abre el archivo relevante y el cursor se coloca en la l√≠nea con un posible error.  Adem√°s, siempre puede seleccionar un diagn√≥stico de la lista con un doble clic.  Puede <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">configurar teclas de acceso r√°pido</a> para las transiciones al mensaje anterior / siguiente.  Por defecto, es Alt + '[' y Alt + ']'. </li><li>  Botones que incluyen advertencias de diferentes niveles.  Los dos primeros niveles de diagn√≥stico ahora est√°n habilitados.  Al mismo tiempo, la ventana muestra 90 advertencias del primer nivel, 6700 advertencias del segundo nivel.  El nivel del mensaje se muestra en el lado izquierdo de la ventana como una tira, correspondiente al color de la tira en el bot√≥n de nivel correspondiente.  ¬øPor qu√© hay tantos disparos?  ¬øPor qu√© 6700 advertencias?  Para demostrar las capacidades de la interfaz, se habilita un conjunto de reglas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">MISRA</a> , lo cual es inapropiado para las aplicaciones normales :). </li><li>  Conjuntos activos de reglas de diagn√≥stico.  General: diagn√≥stico general, Optimizaci√≥n: microoptimizaci√≥n, diagn√≥stico de 64 bits - 64 bits, diagn√≥stico est√°ndar MISRA - MISRA C y MISRA C ++.  Ahora se muestran todo tipo de advertencias en la ventana. </li><li>  El indicador muestra el n√∫mero de advertencias, marcadas como falsas (falsas alarmas).  Puede habilitar / deshabilitar la visualizaci√≥n de mensajes marcados en la configuraci√≥n: PVS-Studio&gt; Opciones ...&gt; Configuraci√≥n espec√≠fica del analizador&gt; Mostrar falsas alarmas. </li><li>  Filtros r√°pidos  Por ejemplo, puede acortar la lista a solo mensajes con c√≥digo V501 y los del proyecto XYZ. </li><li>  Algunos diagn√≥sticos sugieren prestar atenci√≥n no a una, sino a varias l√≠neas.  En este caso, aparecen puntos al lado del n√∫mero de l√≠nea.  Al hacer clic en √©l, puede ver la lista de l√≠neas y elegir una de ellas. </li></ol><br>  La tabla con mensajes de diagn√≥stico se divide en las siguientes columnas: <br><br><ul><li>  <b>Nivel</b>  El nivel de certeza que indica que se encontr√≥ un error, no un olor a c√≥digo.  El nivel 1 (rojo) muestra los lugares m√°s sospechosos.  El nivel 3 (amarillo) es probablemente una imprecisi√≥n no esencial en el c√≥digo. </li><li>  <b>Estrella</b>  No tiene un prop√≥sito espec√≠fico.  Los usuarios pueden interpretarlo como lo deseen.  Por ejemplo, un usuario puede marcar las advertencias m√°s interesantes para un an√°lisis m√°s detallado.  La analog√≠a es la marca estrella de los correos electr√≥nicos en clientes de correo como Thunderbird o Outlook. </li><li>  <b>ID</b>  N√∫mero de mensaje √∫nico.  Puede ser √∫til cuando se trata de una lista grande.  Por ejemplo, puede ir a un mensaje con un n√∫mero espec√≠fico (consulte "Ir a ID ..." en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">men√∫ contextual</a> ). </li><li>  <b>C√≥digo</b>  C√≥digo de mensaje  Si hace clic en √©l, abrir√° una p√°gina que describe la advertencia. </li><li>  <b>CWE</b>  Le permite <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">identificar</a> una advertencia mediante el c√≥digo CWE (enumeraci√≥n de debilidad com√∫n).  Cuando hace clic en el enlace, puede ver una descripci√≥n de este CWE en la red. </li><li>  <b>Misra</b>  Igual que el anterior, pero para el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">est√°ndar MISRA</a> . </li><li>  <b>Mensaje</b>  El texto del mensaje de diagn√≥stico. </li><li>  <b>Proyecto</b>  Nombre del proyecto (puede deshabilitar esta columna usando un men√∫ contextual). </li><li>  <b>Archivo</b>  Nombre de archivo </li><li>  <b>L√≠nea</b>  Numero de linea.  <b>Importante!</b>  Tenga en cuenta que algunas l√≠neas terminan con puntos.  Ejemplo: "123 (...)".  Al hacer clic en este n√∫mero, obtendr√° una lista de todas las l√≠neas de c√≥digo relacionadas con este mensaje.  Al mismo tiempo, puede ir a cada una de las l√≠neas de la lista. </li></ul><br>  S√≠, fue agotador leerlo todo.  Sin embargo, le aseguro que, una vez que haya comenzado a usarlo, se acostumbrar√° r√°pidamente a la herramienta.  Y rara vez har√° clic en algo para configurar. <br><br><h3>  Men√∫ contextual </h3><br>  Por lo tanto, al hacer doble clic en el mensaje, va al fragmento de c√≥digo correspondiente.  Al hacer clic con el bot√≥n derecho del mouse, se abre el men√∫ contextual. <br><br>  El men√∫ es bastante simple y no saturar√© el art√≠culo con la descripci√≥n de cada elemento.  Si algo no est√° claro, puede consultar la documentaci√≥n. <br><br>  Sin embargo, me gustar√≠a detenerme en una caracter√≠stica muy √∫til.  ¬øRecuerdas que en la configuraci√≥n puedes agregar carpetas / archivos para ser excluidos?  ¬°La cosa es que agregar algo es mucho m√°s simple de lo que parece! <br><br>  Preste atenci√≥n a la opci√≥n de men√∫ "No verificar archivos y ocultar todos los mensajes de ...".  Cuando hace clic en √©l, obtiene una lista de rutas que puede agregar a las excepciones (consulte la figura 6). <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ce3/581/300/ce35813002196bdbd53fcb666a33f58b.png" alt="Figura 6. Excluyendo archivos de la verificaci√≥n."></div><br>  <font color="#999999"><i>Figura 6. Excluyendo archivos de la verificaci√≥n.</i></font> <br><br>  Puede elegir un archivo separado o uno de los directorios.  La imagen muestra que se elige la carpeta "SDL2-2.0.9 \ src \ haptic \ windows".  Esto significa que todos los archivos de esta carpeta y todas las subcarpetas se excluir√°n del an√°lisis.  Adem√°s, todos los mensajes relacionados con estos archivos desaparecer√°n de la lista de inmediato.  Muy conveniente  No necesita reiniciar el an√°lisis para eliminar todos los mensajes relacionados con las pruebas. <br><br><h2>  Modo de an√°lisis incremental </h2><br>  La introducci√≥n a PVS-Studio ser√° incompleta si ocultamos una de las caracter√≠sticas m√°s importantes: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el an√°lisis de c√≥digo incremental</a> . <br><br>  Cuanto antes se detecte un error, menos costoso es eliminarlo.  La mejor opci√≥n es resaltar los errores en el texto del programa editado de inmediato.  Sin embargo, es t√©cnicamente dif√≠cil y requiere muchos recursos.  Es por eso que PVS-Studio se ejecuta en modo de fondo cuando el c√≥digo fijo se compila correctamente.  Al hacerlo, busca errores en el c√≥digo que acaba de cambiar.  El icono en el √°rea de notificaci√≥n del sistema indica que el an√°lisis se est√° ejecutando. <br><br>  Cuando se encuentra un error, aparece una ventana emergente que advierte del peligro (consulte la Figura 7). <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/61b/394/8bd/61b3948bd26a9ed4c410446e46b5eb3b.png" alt="Figura 7. Un mensaje emergente que informa que se han encontrado lugares sospechosos en los archivos editados."></div><br>  <font color="#999999"><i>Figura 7. Un mensaje emergente que informa que se han encontrado lugares sospechosos en los archivos editados.</i></font> <br><br>  Si hace clic en el icono, abrir√° el IDE con el resultado de la verificaci√≥n del proyecto (consulte la Figura 2) y podr√° buscar fragmentos de c√≥digo sospechosos. <br><br>  De hecho, es m√°s f√°cil intentar trabajar en este modo que describirlo.  Escribes el c√≥digo como antes.  Cuando sea necesario, el analizador lo molestar√°.  Dale una oportunidad! <br><br>  Usamos este modo todo el tiempo.  S√≠, a veces tambi√©n cometemos errores de codificaci√≥n.  La capacidad de solucionarlos de inmediato reduce significativamente el tiempo para detectar el defecto y tratar de entender por qu√© el programa no se comporta como se esperaba.  Es muy molesto pasar 15-20 minutos depurando para eventualmente encontrar un error tipogr√°fico en el √≠ndice.  Este es uno de los casos en que PVS-Studio encontr√≥ un error en PVS-Studio justo despu√©s de que apareciera en el c√≥digo: <br><br><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (in[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-string"><span class="hljs-string">'\\'</span></span> &amp;&amp; in[<span class="hljs-number"><span class="hljs-number">1</span></span>] == <span class="hljs-string"><span class="hljs-string">'.'</span></span> &amp;&amp; in[<span class="hljs-number"><span class="hljs-number">1</span></span>] == <span class="hljs-string"><span class="hljs-string">'\\'</span></span>) { in += <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; }</code> </pre> <br>  Bueno, lo m√°s interesante est√° por venir.  El analizador PVS-Studio a veces puede ser mucho m√°s √∫til que esto.  Aqu√≠ est√° una de las revisiones sobre nuestro analizador: " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">La experiencia de un usuario de trabajar con el analizador</a> ".  El texto me hace preguntarme. <br><br>  D√©jame resumirlo.  El an√°lisis incremental es algo que definitivamente deber√≠as probar.  Le encantar√° tan pronto como encuentre un par de errores en el nuevo c√≥digo. <br><br><h2>  Capacidades PVS-Studio </h2><br>  Seamos breves.  Es imposible describir sucintamente todos los diagn√≥sticos disponibles en PVS-Studio.  Puede encontrar una lista completa de diagn√≥sticos y su descripci√≥n detallada en la documentaci√≥n: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Descripci√≥n de errores detectados</a> .  Vamos a establecernos en la tabla en la que los diagn√≥sticos se agrupan por tipo.  Algunos diagn√≥sticos est√°n en m√°s de un grupo.  El hecho es que la clasificaci√≥n es bastante formal.  Por ejemplo, un error tipogr√°fico puede resultar en el uso de memoria no inicializada.  Algunos de los errores, por el contrario, no pod√≠an ajustarse a ninguno de los grupos, porque eran demasiado espec√≠ficos.  Sin embargo, esta tabla ofrece informaci√≥n sobre el funcionamiento del analizador de c√≥digo est√°tico. <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ee5/a44/f24/ee5a44f24dff71c09d5491dc9294b4f2.png" alt="Figura 8. Capacidades de PVS-Studio."></div><br>  <font color="#999999"><i>Figura 8. Capacidades de PVS-Studio.</i></font> <br><br>  Como puede ver, el analizador es especialmente √∫til en √°reas como la b√∫squeda de errores de copiar y pegar.  Es excelente para detectar problemas relacionados con la seguridad del c√≥digo. <br><br>  Para ver estos diagn√≥sticos en acci√≥n, eche un vistazo a la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">base de errores</a> .  Recopilamos todos los errores que hemos encontrado, verificando varios proyectos de c√≥digo abierto con PVS-Studio. <br><br><h2>  SAST </h2><br>  PVS-Studio es una herramienta de prueba de seguridad de aplicaciones est√°ticas.  El analizador puede detectar vulnerabilidades potenciales en el c√≥digo del proyecto y mostrar el identificador de error apropiado en una determinada clasificaci√≥n. <br><br>  PVS-Studio admite las siguientes clasificaciones de error: <br><br><ol><li>  CWE </li><li>  SEI CERT </li><li>  Misra </li></ol><br>  Puede habilitar la visualizaci√≥n de c√≥digos CWE mediante el men√∫ contextual en la ventana del analizador junto a la ruta Mostrar columnas&gt; CWE <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/919/85b/e34/91985be349bf7385fa7f3878ef57dcde.png" alt="Figura 9. Men√∫ contextual y el ejemplo de salida CWE."></div><br>  <font color="#999999"><i>Figura 9. Men√∫ contextual y el ejemplo de salida CWE.</i></font> <br><br>  O en el men√∫ principal (Extensiones&gt; PVS-Studio&gt; Mostrar c√≥digos CWE en la ventana de salida) <br><br><p><img src="https://habrastorage.org/getpro/habr/post_images/0b6/582/d8c/0b6582d8c2626066567dfd111439cbc6.png" alt="Figura 10. Men√∫ de extensi√≥n."></p><br>  <font color="#999999"><i>Figura 10. Men√∫ de extensi√≥n.</i></font> <br><br>  Los diagn√≥sticos MISRA se habilitan por separado en la configuraci√≥n: <br><br><p><img src="https://habrastorage.org/getpro/habr/post_images/b89/898/709/b89898709db7045f949fb564c6c80059.png" alt="Figura 11. Una lista de errores detectados."></p><br>  <font color="#999999"><i>Figura 11. Una lista de errores detectados.</i></font> <br><br>  Puede leer m√°s sobre estas clasificaciones <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br><h2>  Verificaci√≥n de proyectos desde la l√≠nea de comandos </h2><br>  PVS-Studio_Cmd.exe: una utilidad para verificar los proyectos de C ++ / C # Visual Studio (.vcxproj / .csproj) y las soluciones .sln desde la l√≠nea de comandos.  Puede ser √∫til para automatizar el an√°lisis.  El programa se encuentra en el directorio donde se realiz√≥ la instalaci√≥n; de forma predeterminada, es 'C: \ Archivos de programa (x86) \ PVS-Studio'. <br><br>  El programa tiene muchos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">par√°metros</a> , pero primero solo necesitamos 3 de ellos: <br><br><ul><li>  --target: proyecto o archivo de soluci√≥n que debe verificarse. </li><li>  --output: archivo de plog donde se debe escribir el informe. </li><li>  --progreso: muestra el progreso de un cheque. </li></ul><br>  As√≠ se ver√° la carrera: <br><br><p><img src="https://habrastorage.org/getpro/habr/post_images/3ce/ee2/aa1/3ceee2aa11c0bf9f887ad8959d7cdd65.png" alt="Figura 12. Salida del programa PVS-Studio_Cmd.exe."></p><br>  <font color="#999999"><i>Figura 12. Salida del programa PVS-Studio_Cmd.exe.</i></font> <br><br>  Despu√©s de ejecutar, obtendremos un archivo de plog con un informe, una ruta a la que especificamos en las opciones de ejecuci√≥n.  Puede convertir este informe en otros formatos utilizando la utilidad PlogConverter.exe.  Para ver el informe en IDE, haga doble clic en un archivo de plog en el buscador. <br><br>  Tambi√©n puede abrir el archivo de informe en el men√∫ de extensi√≥n mediante la ruta Extensiones&gt; PVS-Studio&gt; Abrir / Guardar&gt; Abrir informe de an√°lisis ... <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/490/7ac/cc5/4907accc516b05ccfedf52acc9c85d9f.png" alt="Cuadro 4"></div><br><br>  Puede encontrar informaci√≥n detallada sobre la utilidad y sus par√°metros en la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">documentaci√≥n</a> . <br><br><h2>  Supresi√≥n de falsos positivos </h2><br>  Algunos mensajes emitidos por el analizador ser√°n inevitablemente falsos.  No hay nada que podamos hacer al respecto.  Un analizador est√°tico es solo un programa que no tiene inteligencia artificial y no puede determinar si es un error real o no. <br><br>  Para luchar contra los falsos positivos, el analizador proporciona un conjunto de mecanismos diferentes.  Se detallan en las siguientes secciones de documentaci√≥n: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Afinacion fina</a> . </li><li>  Un m√©todo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aproximado</a> que solo le permite trabajar con advertencias relacionadas con c√≥digo nuevo o modificado. </li></ul><br><h2>  Conclusi√≥n </h2><br>  Por supuesto, no le contamos todo sobre la herramienta.  Si le cuento todo, el art√≠culo se convertir√° en documentaci√≥n.  El objetivo era mostrar lo f√°cil que es trabajar con la herramienta dentro del entorno de Visual Studio.  Puede leer sobre otros entornos y modos de trabajo en la documentaci√≥n y otros art√≠culos en nuestro <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sitio web</a> .  Por cierto, hay muchas cosas interesantes para los programadores.  Ven y espera. <br><br>  Vale la pena se√±alar que PVS-Studio no solo funciona en el entorno de Microsoft.  Tambi√©n admitimos el lenguaje Java, podemos trabajar en Linux y macOS, integrarnos en CMake y mucho m√°s.  Puede encontrar m√°s informaci√≥n en la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">documentaci√≥n</a> . <br><br>  Le deseo un c√≥digo incorrecto sin errores y espero que disfrute de PVS-Studio.  Si tiene alguna pregunta, siempre le ayudaremos y le daremos consejos.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Escr√≠benos</a> <br><br><h2>  Enlaces adicionales: </h2><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Revisi√≥n de c√≥digo</a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">An√°lisis de c√≥digo est√°tico</a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Herramientas de an√°lisis de c√≥digo est√°tico</a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">SAST</a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Tecnolog√≠as utilizadas en el analizador PVS-Studio</a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Descargue</a> y pruebe PVS-Studio. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Soporte de Visual Studio 2019</a> . </li><li>  Discuta el precio del analizador PVS-Studio para su equipo y c√≥mo comprarlo: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">compre PVS-Studio</a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Ejemplo de uso de un analizador est√°tico</a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Respuestas</a> a preguntas que a menudo se hacen en conferencias. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥mo ejecutar PVS-Studio Java</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥mo ejecutar PVS-Studio en Linux y macOS</a> </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/458068/">https://habr.com/ru/post/458068/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../458052/index.html">AMA con Habr.10. √öltimo * problema</a></li>
<li><a href="../458056/index.html">La gran entrevista con Martin Kleppmann: "Descubrir el futuro de los sistemas de datos distribuidos"</a></li>
<li><a href="../458060/index.html">Crear un sombreador de c√©sped en el motor de Unity</a></li>
<li><a href="../458062/index.html">Descripci√≥n general de la plataforma UserGate</a></li>
<li><a href="../458064/index.html">PVS-Studio en las nubes - Ejecuci√≥n del an√°lisis en Travis CI</a></li>
<li><a href="../458070/index.html">PVS-Studio para Visual Studio</a></li>
<li><a href="../458072/index.html">PVS-Studio va a las nubes: an√°lisis de lanzamiento en Travis CI</a></li>
<li><a href="../458074/index.html">Ir idioma: selecci√≥n ORM</a></li>
<li><a href="../458076/index.html">Comercializaci√≥n con toma de decisiones de ML</a></li>
<li><a href="../458080/index.html">25 de julio, Mosc√∫ - QIWI iOS Meetup</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>