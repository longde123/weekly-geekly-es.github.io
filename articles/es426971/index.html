<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëé üîí üõÉ Fatalismo en el manejo de errores ü•• üåô ü§¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pr√≥logo 


 Este art√≠culo es una reacci√≥n al art√≠culo: ¬øQu√© pasar√° con el manejo de errores en C ++ 2a ? Despu√©s de cada p√°rrafo, me picaba, las herid...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Fatalismo en el manejo de errores</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/426971/"><h2 id="predislovie">  Pr√≥logo </h2><br><p>  Este art√≠culo es una reacci√≥n al art√≠culo: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">¬øQu√© pasar√° con el manejo de errores en C ++ 2a</a> ?  Despu√©s de cada p√°rrafo, me picaba, las heridas curadas se abrieron y comenc√© a sangrar.  Tal vez llevo lo que est√° escrito demasiado cerca de mi coraz√≥n.  Pero solo quiero aullar sobre la miop√≠a y el analfabetismo que los programadores de C ++ muestran en el siglo XXI.  Y ni siquiera al principio. </p><br><p>  Empecemos </p><br><h2 id="klassifikaciya">  Clasificaci√≥n </h2><br><blockquote>  Convencionalmente, todas las situaciones err√≥neas en el programa se pueden dividir en 2 grandes grupos: <br><ol><li>  Errores fatales. </li><li>  No son fatales ni se esperan errores. </li></ol><br></blockquote><a name="habracut"></a><br><p> Ahora encontrar√© la culpa.  Pero errores fatales: tambi√©n son, en cierto sentido, esperados.  Esperamos que el viaje de memoria a menudo conduzca a una ca√≠da, pero puede que no conduzca a ella.  Y esto se espera, ¬øno?  Cuando se introduce una clasificaci√≥n, siempre ser√° posible verificar su coherencia. </p><br><p>  Pero esto es as√≠, un error sutil frecuente. </p><br><p>  Veamos los errores fatales. </p><br><p>  <strong>Divisi√≥n por 0</strong> .  Me pregunto por qu√© este error es fatal?  Me encantar√≠a lanzar una excepci√≥n en este caso y atraparla para su posterior procesamiento.  ¬øPor qu√© es ella fatal?  ¬øPor qu√© me impone un cierto comportamiento de mi propio programa y no puedo influirlo de ninguna manera?  ¬øC ++ no se trata de flexibilidad y del hecho de que el lenguaje se dirige hacia el programador?  Aunque ... </p><br><p> <strong>Puntero nulo desreferenciaci√≥n</strong> .  Inmediatamente recuerdo Java, hay una <code>NullPointerException</code> que se puede manejar.  ¬°Tambi√©n hay una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><code>NullPointerException</code></a> biblioteca de Poco!  Entonces, ¬øpor qu√© los desarrolladores est√°ndar con la tenacidad del sordomudo repiten el mismo mantra? </p><br><p>  En general, ¬øpor qu√© comenc√© este tema?  Es muy importante y solo revela la comprensi√≥n del desarrollador sobre el manejo de errores.  No se trata del manejo de errores per se, es el preludio de una acci√≥n importante.  Siempre se trata de la confiabilidad de la aplicaci√≥n, de la tolerancia a fallas y, a veces, en los tipos de programas m√°s raros y en peligro, incluso dir√≠a, en peligro, del comportamiento transaccional y consistente. </p><br><p>  En este aspecto, todas las disputas sobre dividir entre cero y desreferenciar los punteros parecen una lucha de p√°jaros por una miga de pan.  Ciertamente un proceso importante.  Pero solo desde el punto de vista de las aves. </p><br><p>  Volvamos a la divisi√≥n en fatalismo y su ausencia ... Comenzar√© con una simple pregunta: si recib√≠ datos incorrectos a trav√©s de la red, ¬øes un error fatal? </p><br><p>  Respuesta simple y correcta: depende de.  Est√° claro que en la mayor√≠a de los casos esto no es un error fatal, y todos los datos recibidos a trav√©s de la red deben ser validados y devueltos 4xx si los datos son incorrectos.  ¬øHay alg√∫n caso en el que deba bloquearse?  Y se estrell√≥ con un aullido salvaje, por lo que llegar√≠an SMS, por ejemplo.  S√≠, y no uno. </p><br><p>  Hay.  Puedo dar un ejemplo de mi √°rea tem√°tica: un algoritmo de consenso distribuido.  Un nodo recibe una respuesta que contiene un hash de una cadena de cambios de otro nodo.  Y este hash es diferente del local.  Esto significa que algo sali√≥ mal, y continuar con la ejecuci√≥n posterior es simplemente peligroso: los datos pueden divergir, si no es que ya.  Ocurre cuando la disponibilidad de un servicio es menos importante que su consistencia.  En este caso, tenemos que caer, y con un rugido, para que todos escuchen.  Es decir  Recibimos datos a trav√©s de la red, los validaron y cayeron.  Para nosotros, este error no es m√°s fatal.  ¬øSe espera este error?  Bueno, s√≠, escribimos el c√≥digo con validaci√≥n.  Es una tonter√≠a decir lo contrario.  Solo que no queremos continuar el programa despu√©s de eso.  Se requiere intervenci√≥n manual, la automatizaci√≥n no funcion√≥. </p><br><h2 id="vybor-fatalizma">  Elecci√≥n del fatalismo </h2><br><p>  Lo m√°s obvio en el manejo de errores es decidir qu√© es fatal y qu√© no.  Pero cada programador se hace esta pregunta durante toda la actividad de desarrollo.  Por lo tanto, de alguna manera se responde a esta pregunta.  La respuesta correcta proviene de la pr√°ctica por alguna raz√≥n. </p><br><p>  Sin embargo, esta es solo la parte visible del iceberg.  En las profundidades hay una pregunta mucho m√°s monstruosa.  Para comprender la profundidad completa, debe establecer una tarea simple e intentar responderla. </p><br><p>  <em>Desaf√≠o</em>  Haz un marco para algo. </p><br><p>  Todo es simple  Hacemos un marco, por ejemplo, de interacci√≥n de red.  O analizando JSON.  O, en el peor de los casos, XML.  La pregunta surge de inmediato: pero cuando ocurre un error desde el z√≥calo, ¬øes un error fatal o no?  Parafraseando: ¬ødebo lanzar una excepci√≥n o devolver un error?  ¬øEs esta una situaci√≥n excepcional o no?  ¬øO puede devolver <code>std::optional</code> ?  O una monja?  (^ 1) </p><br><p>  La conclusi√≥n parad√≥jica es que el marco en s√≠ mismo no puede responder a esta pregunta.  Solo el c√≥digo que lo usa lo sabe.  Es por eso que la excelente biblioteca, en mi opini√≥n, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">boost.asio</a> usa ambas opciones.  Dependiendo de las preferencias personales del autor del c√≥digo y la l√≥gica aplicada, se puede elegir uno u otro m√©todo de manejo de errores.  Al principio, estaba un poco avergonzado por este enfoque, pero con el tiempo, me impregn√© de la flexibilidad de este enfoque. </p><br><p>  Sin embargo, esto no es todo.  Lo peor est√° por venir.  Aqu√≠ estamos escribiendo el c√≥digo de la aplicaci√≥n, pero nos parece que se aplica.  Para otro c√≥digo, de nivel superior, nuestro c√≥digo ser√° la biblioteca.  Es decir  La divisi√≥n en c√≥digo de aplicaci√≥n / biblioteca (marco, etc.) es una convenci√≥n pura, que depende del nivel de reutilizaci√≥n de los componentes.  Siempre puede atornillar algo en la parte superior y el c√≥digo de la aplicaci√≥n dejar√° de serlo.  Y esto significa inmediatamente que la elecci√≥n de lo que es v√°lido y lo que no lo est√° ya est√° decidido por el c√≥digo que usa, y no lo usa. </p><br><p>  Si saltamos a un lado, resulta que a veces ni siquiera es posible entender qui√©n usa a qui√©n.  Es decir  el componente <strong>A</strong> puede usar el componente <strong>B</strong> y el componente <strong>B</strong> componente <strong>A</strong> (^ 2).  Es decir  qui√©n determina lo que suceder√° no est√° claro en absoluto. </p><br><h2 id="rasputyvanie-klubka">  Enredo desenredando </h2><br><p>  Cuando miras toda esta desgracia, surge la pregunta de inmediato: ¬øc√≥mo vivir con ella?  Que hacer  ¬øQu√© pautas puedes elegir para no ahogarse en la variedad? </p><br><p>  Para hacer esto, es √∫til mirar alrededor y comprender c√≥mo se resuelven estos problemas en otros lugares.  Sin embargo, uno debe buscar con prudencia: es necesario distinguir entre la "recolecci√≥n de sellos" de las soluciones completas. </p><br><p>  ¬øQu√© es coleccionar sellos?  Este es un t√©rmino colectivo, lo que significa que intercambiamos un objetivo pero algo m√°s.  Por ejemplo: ten√≠amos un objetivo: llamar y comunicarnos con nuestros seres queridos.  Y una vez, y compramos un juguete caro, porque "de moda" y "hermoso" (^ 3).  ¬øEso es familiar?  ¬øCrees que eso no les sucede a los programadores?  No te hagas ilusiones. </p><br><p>  El manejo de errores no es el objetivo.  Cada vez que hablamos sobre el manejo de errores, inmediatamente nos detenemos.  Porque es una forma de lograr un objetivo.  Y el objetivo inicial es hacer que nuestro software sea confiable, simple y comprensible.  Son estos objetivos los que deben establecerse y cumplirse siempre.  Y el manejo de errores es una mierda que no vale la pena discutir.  Quiero lanzar una excepci√≥n, ¬°pero a la salud!  Devolvi√≥ un error, ¬°bien hecho!  ¬øQuieres una m√≥nada?  Felicitaciones, creaste la ilusi√≥n de avance, pero solo en tu propia cabeza (^ 4). </p><br><p>  Entonces quise escribir c√≥mo hacerlo bien, pero ya escrib√≠.  Las heridas sanaron y dejaron de sangrar.  En resumen, los consejos son: </p><br><ol><li>  Separar en componentes con l√≠mites claros. </li><li>  En las fronteras, describa qu√© y c√≥mo puede volar.  Es deseable que sea uniforme.  Pero mucho m√°s importante es. </li><li>  Facilite el manejo de errores en el c√≥digo que lo usar√°. </li><li>  Si algo puede procesarse internamente sin cargar el c√≥digo de usuario, no lo sobresalga.  Cuantos menos errores deba manejar un usuario, mejor. </li><li>  Respeta a tu usuario, ¬°no seas imb√©cil!  Escriba interfaces intuitivas con el comportamiento esperado para que no necesite leer comentarios y jurar. </li></ol><br><p>  El quinto consejo es el m√°s importante, porque  √©l combina los primeros cuatro. </p><br><p>  <em>PD:</em> En la infancia, siempre tuve curiosidad por mirar el hormiguero.  Miles de hormigas, todos hacen algo, se arrastran por su negocio.  El proceso est√° en marcha.  Ahora tambi√©n estoy mirando con inter√©s.  Tambi√©n detr√°s del hormiguero.  Donde miles de personas est√°n haciendo su peque√±a cosa.  ¬°Puedo desearles buena suerte en su duro negocio! </p><br><p>  ^ 1: La gente es aficionada a las cosas de moda.  Cuando todos jugaron lo suficiente, los programadores de C ++ se despertaron y luego todo cambi√≥. </p><br><p>  ^ 2: Esto puede suceder cuando hay varias abstracciones en el componente <strong>B</strong> que las conecta.  Ver <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Inversi√≥n de control</a> . </p><br><p>  ^ 3: Y al d√≠a siguiente, bam, y la pantalla se bloque√≥. </p><br><p>  ^ 4: No estoy en contra de las m√≥nadas, estoy en contra de aspirar, como, mira, aqu√≠ est√° la m√≥nada, es decir  monoide en la categor√≠a monoidal de endofunctores!  Se escuchan aplausos y aprobaciones.  Y en alg√∫n lugar lejos, lejos, apenas audible, alguien tiene orgasmos. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es426971/">https://habr.com/ru/post/es426971/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es426961/index.html">C√≥mo Microsoft reescribi√≥ el compilador de C # a C # y lo abri√≥</a></li>
<li><a href="../es426963/index.html">¬øLas aplicaciones Flutter sue√±an con widgets basados ‚Äã‚Äãen plataformas?</a></li>
<li><a href="../es426965/index.html">¬øQu√© pasar√° con el manejo de errores en C ++ 2a?</a></li>
<li><a href="../es426967/index.html">Generador de c√≥digo ABAP en l√≠nea</a></li>
<li><a href="../es426969/index.html">Vigilant Lida: Automatizaci√≥n de pruebas de seguridad</a></li>
<li><a href="../es426973/index.html">Sandwiches corporativos</a></li>
<li><a href="../es426975/index.html">Joker 2018: lo imposible es posible</a></li>
<li><a href="../es426977/index.html">LibreOffice: la pesadilla del contador</a></li>
<li><a href="../es426979/index.html">C√≥mo aprender ingl√©s gratis: 3 herramientas comunes e instrucciones detalladas para cada</a></li>
<li><a href="../es426981/index.html">10 trucos para tablero avanzado en Splunk. Parte 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>