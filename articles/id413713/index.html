<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ’³ ğŸ‘ğŸ¿ ğŸŒˆ Kinerja Gudang Data: Digit Baru ğŸ“‡ ğŸ¦‹ ğŸ‰</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam posting kami sebelumnya, kami berbagi pengukuran kinerja hypervisor kami setelah memasang tambalan terhadap kerentanan Meltdown dan Specter. Har...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kinerja Gudang Data: Digit Baru</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/virtuozzo/blog/413713/">  Dalam posting kami sebelumnya, kami berbagi pengukuran kinerja hypervisor kami setelah memasang tambalan terhadap kerentanan Meltdown dan Specter.  Hari ini, saatnya berbicara tentang kinerja data warehouse. <br><a name="habracut"></a><br>  Berkat optimalisasi VzKernel dan kompilasi ulangnya dengan opsi "Retpoline", kami mengganti urutan kode mesin yang rentan dan hampir dapat sepenuhnya menghilangkan masalah kinerja yang disebabkan oleh kebutuhan untuk melindungi hypervisor dari kerentanan pada prosesor Intel.  Akibatnya, penurunan produktivitas berkurang menjadi 1-2%.  Namun, dengan latar belakang ini, banyak yang memiliki pertanyaan tentang pengoperasian data warehouse.  Dan ini tidak mengherankan, karena dalam lingkungan hiper-konvergen, penyimpanan data terdistribusi memainkan peran mendasar, dan dengan penyimpanan lambat semua keuntungan kinerja mesin dan wadah virtual dapat sia-sia. <br><br>  Hari ini kami ingin berbagi dengan Anda dua uji demonstrasi yang dilakukan untuk mengevaluasi kinerja mesin virtual dan kepadatan data dalam penyimpanan terdistribusi VZ Storage, yang dibangun ke dalam kelompok produk Virtuozzo 7. Sekelompok 6 node digunakan sebagai bangku tes, dengan penyimpanan data secara langsung hanya 5 dari mereka yang ditempati, dan pada node yang tersisa mesin virtual berada. <br><br>  Setiap node memiliki konfigurasi berikut: <br><br><ul><li>  CPU: 2 x Intel Xeon E5-2620 v4 @ 2.1 GHz </li><li>  RAM: 64 GB DDR4 2133 MHz </li><li>  NET: 2 x 10 Gb / s - dua subnet terpisah untuk memisahkan lalu lintas uji dan lalu lintas penyimpanan data terdistribusi </li><li>  Kapasitas: <br><br><ul><li>  HDD: 8 x 1 TB 7200 RPM - termasuk 7 HDD untuk server chunk (CS) </li><li>  SSD: 400 GB Intel DC P3600 PCIe - untuk metadata (MDS), penjurnalan, dan cache klien </li></ul></li></ul><br>  Salah satu disk pada setiap node dialokasikan untuk sistem, dan 7 sisanya untuk chunk server (CS) untuk penyimpanan data.  Akibatnya, cluster ternyata menjadi 42 chunk server.  Untuk mengelola ekonomi ini, kami meluncurkan 3 server metadata (MDS).  Replikasi data dilaksanakan sesuai dengan skema 3: 2, yang dapat dianggap sebagai solusi standar untuk sebagian besar tugas-tugas umum. <br><br>  Menurut hasil uji WebBench, di mana kami mengevaluasi kinerja dan kepadatan mesin virtual dengan Windows Server 2012 R2, jumlah permintaan untuk penyimpanan virtual di VZ7 jauh lebih tinggi, dan kinerja keseluruhan adalah 30% lebih tinggi daripada hasil penyimpanan generasi sebelumnya yang dikirimkan dengan VZ6 .  Pada saat yang sama, VZ Storage bersama dengan hypervisor Virtuozzo 7 dapat mendukung operasi simultan lebih dari 100 mesin virtual pada sekelompok ukuran ini, memberikan mereka kinerja yang dapat diterima. <br><br>  <i><b>WebBench: Density VM Windows 2012 R2 berdasarkan VStorage</b></i> <br><br><img src="https://habrastorage.org/webt/r3/uw/1t/r3uw1tmfy3lzgsluwj-ha0usfaw.jpeg"><br>  Tes kedua dilakukan dengan menggunakan utilitas SysBench dan ditiru bukan permintaan OLTP, tetapi transaksi OLTP.  Kami memuat mesin virtual yang sama dengan Microsoft Windows Server 2012 R2 pada kluster yang sama dan mendapatkan hasil yang lebih menarik.  Selain keunggulan kinerja, dengan VM mulai dari 30 buah, VZ7 telah menunjukkan kepadatan yang lebih tinggi, mengatasi operasi simultan lebih dari 100 mesin virtual.  Pada saat yang sama, penyimpanan usang pada VZ6 menunjukkan kinerja yang dapat diterima untuk maksimum 60 mesin virtual pada cluster yang dikurangi. <br><br>  <i><b>SysBench: Density VM berbasis Windows 2012 R2 VM</b></i> <i><br></i> <br><br><img src="https://habrastorage.org/webt/rm/pj/r0/rmpjr0_bj3xryufnjmibrbfedfk.jpeg"><br><br><h3>  Dan sedikit lagi tentang Erasure Coding </h3><br>  Selain semua hal di atas, Virtuozzo tetap merupakan pendukung penggunaan teknologi kompresi berdasarkan kode Reed-Solomon atau Erasure Coding.  Meskipun diskusi yang luas tentang teknologi ini, banyak yang masih lebih suka menggunakan salinan langsung dan menyimpan hingga 3 salinan data di jaringan mereka.  Namun, seperti yang ditunjukkan oleh praktik, pendekatan ini mengurangi kinerja jaringan dan memperlambat proses pencadangan. <br><br>  Untuk memverifikasi fakta ini, kami mengumpulkan dua cluster, masing-masing 6 node.  Kedua cluster meluncurkan 3 server metadata (MDS) dan 66 server chunk (CS) untuk menyimpan data melalui drive SAS 15K.  Salah satu cluster digunakan untuk meng-host mesin virtual, dan yang lain untuk cadangan.  Kami mencoba dua cara menempatkan cadangan: EC dalam mode 3 + 2 (dua jumlah hash untuk tiga bagian data) dan cadangan lengkap 3: 2 (dua salinan penuh data disimpan di jaringan).  Dari sudut pandang perlindungan data, konfigurasinya identik - memungkinkan untuk memulihkan semua informasi bahkan ketika dua titik kegagalan terjadi.  Namun, dalam hal kinerja, EC menunjukkan hasil yang jauh lebih baik. <br><br>  <b><i>Menghapus Kode dan Replikasi Data dalam Skrip Cadangan VM Paralel</i></b> <br><br><img src="https://habrastorage.org/webt/aq/1c/mk/aq1cmk5rjcymqwwwjsllcismdli.jpeg"><br><br>  Abscissa menunjukkan jumlah mesin virtual yang secara bersamaan terlibat dalam proses pencadangan.  Dan di sepanjang sumbu ordinat adalah kecepatan cadangan rata-rata dalam MB / s.  Kecepatan dihitung per node, sehingga total throughput dan kinerja cluster jauh lebih tinggi, kelipatan dari jumlah node.  Grafik menunjukkan bahwa dengan cadangan 15 mesin virtual secara simultan dari setiap node, kenaikan kinerja karena penggunaan EC berada pada level 10%. <br><br><h3>  Kesimpulan </h3><br>  Pengujian ini menunjukkan keuntungan dari arsitektur yang diperbarui dan peningkatan operasi Penyimpanan VZ ketika bekerja dengan mesin virtual MS Windows, yang secara tradisional lebih sulit untuk dioptimalkan dan dipadatkan daripada VM dengan guest Linux, yang umumnya dapat dikonversi ke wadah sistem.  Dalam pengujian ini, kami menggunakan hard drive SAS 15K, bukan solid state drive, yang hasilnya akan lebih tinggi karena peningkatan waktu respons keseluruhan dan kecepatan subsistem penyimpanan. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id413713/">https://habr.com/ru/post/id413713/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id413703/index.html">Keamanan informasi pembayaran tanpa uang tunai bank. Bagian 5 - 100+ tautan tematik tentang meretas bank</a></li>
<li><a href="../id413705/index.html">Tentang masa depan berbagi di Rusia dan di dunia</a></li>
<li><a href="../id413707/index.html">Penjelasan yang sangat sederhana tentang prinsip-prinsip SOLID</a></li>
<li><a href="../id413709/index.html">Penggabungan proyek fusi Tor Browser dan Firefox diluncurkan</a></li>
<li><a href="../id413711/index.html">Program pendahuluan PyConRu-2018: tiga Python Core Developers, pembicara dari Google, Yelp, Red Hat, Yandex</a></li>
<li><a href="../id413715/index.html">Pensiun TI</a></li>
<li><a href="../id413717/index.html">GraphQL untuk Platform InterSystems</a></li>
<li><a href="../id413719/index.html">C ++ 20 dalam perjalanan! Bertemu di Rapperswil Yona</a></li>
<li><a href="../id413721/index.html">Pemeriksaan Waktu: Timejacking vs Bitcoin</a></li>
<li><a href="../id413723/index.html">Saga layanan elektronik dan lokasi mereka. Bagian 2. Kabinet elektronik</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>