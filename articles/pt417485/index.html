<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏻‍🤝‍👨🏼 🍭 🧑🏿‍🤝‍🧑🏾 [marcador] Folha de dicas do administrador do sistema para ferramentas de rede Linux 👨‍👧‍👦 🐎 ✋🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As tarefas diárias dos administradores de sistema incluem trabalhar com redes e equipamentos conectados a eles. Freqüentemente, o papel da estação de ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>[marcador] Folha de dicas do administrador do sistema para ferramentas de rede Linux</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/417485/"> As tarefas diárias dos administradores de sistema incluem trabalhar com redes e equipamentos conectados a eles.  Freqüentemente, o papel da estação de trabalho do administrador é desempenhado por um computador no qual alguma distribuição Linux está instalada.  Os utilitários e comandos do Linux, que serão discutidos no material, cuja tradução publicamos hoje, incluem uma lista de ferramentas de complexidade variada - do simples ao avançado, projetadas para resolver uma ampla variedade de tarefas de gerenciamento de rede e solução de problemas de rede. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/bu/ef/v2/buefv2vz0npbynfhwvqrh13p4ug.jpeg"></a> <br><br>  Em alguns dos exemplos discutidos aqui, você encontrará a abreviação <code>&lt;fqdn&gt;</code> (nome de domínio totalmente qualificado).  Ao encontrá-lo, substitua-o, dependendo das circunstâncias, pelo endereço do site ou servidor em que você está interessado, por exemplo, por algo como <code>server-name.company.com</code> . <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Ping</font> </h2><br>  O utilitário <code>ping</code> , como o próprio nome sugere, é usado para testar a conexão entre os nós da rede, entre o computador no qual é iniciado e outro sistema.  Este utilitário usa o protocolo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ICMP</a> , enviando pings aos quais o sistema remoto que os recebe responde.  O uso de <code>ping</code> também é uma boa maneira de verificar a conectividade da rede como primeira etapa no diagnóstico de uma rede, se houver algum problema.  O comando <code>ping</code> pode ser usado com endereços IPv4 e IPv6.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Aqui</a> você pode ler mais sobre endereços IP e como trabalhar com eles. <br><br><h3>  <font color="#3AC1EF">▍ Exemplos</font> </h3><br><pre> <code class="hljs xml">IPv4: ping <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ip</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">address</span></span></span><span class="hljs-tag">&gt;</span></span>/<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fqdn</span></span></span><span class="hljs-tag">&gt;</span></span> IPv6: ping6 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ip</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">address</span></span></span><span class="hljs-tag">&gt;</span></span>/<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fqdn</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Além disso, o Ping pode ser usado para descobrir os endereços IP dos sites com base em seus nomes.  Aqui está como fica. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/879/710/257/87971025701f33286cf51950f53272d5.png"><br>  <i><font color="#999999">Usando ping para descobrir o endereço IP de um site pelo nome</font></i> <br><br><h2>  <font color="#3AC1EF">Traceroute</font> </h2><br>  <code>Traceroute</code> é um bom utilitário que permite explorar rotas de transferência de dados entre computadores.  Enquanto o comando <code>ping</code> visa descobrir se é possível estabelecer uma conexão entre dois nós da rede, o <code>traceroute</code> fornece informações sobre os endereços IP dos roteadores através dos quais os dados passam do seu sistema para o final, por exemplo, para um site ou servidor.  O comando <code>traceroute</code> é geralmente usado na segunda etapa do diagnóstico da rede, após o comando <code>ping</code> . <br><br><h3>  <font color="#3AC1EF">▍ Exemplo</font> </h3><br><pre> <code class="hljs xml">traceroute <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ip</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">address</span></span></span><span class="hljs-tag">&gt;</span></span>/<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fqdn</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">Telnet</font> </h2><br>  O utilitário <code>telnet</code> permite que você se comunique com um computador remoto usando o protocolo Telnet e interaja com ele usando os comandos apropriados. <br><br><h3>  <font color="#3AC1EF">▍ Exemplo</font> </h3><br>  Para organizar uma sessão de comunicação <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Telnet</a> com outro computador, use o seguinte comando: <br><br><pre> <code class="hljs xml">telnet <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ip</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">address</span></span></span><span class="hljs-tag">&gt;</span></span>/<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fqdn</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">Netstat</font> </h2><br>  Este comando permite coletar informações sobre a rede e é usado para encontrar e corrigir problemas de rede; é usado para verificar dados sobre a operação de interfaces e portas, examinar tabelas de roteamento e estudar informações sobre a operação de protocolos.  Esse comando certamente deve estar presente no arsenal do administrador do sistema. <br><br><h3>  <font color="#3AC1EF">▍ Exemplos</font> </h3><br>  Para obter uma lista de todas as portas que estão no modo de escuta, use este comando: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">netstat</span></span> -l</code> </pre> <br>  O comando a seguir exibe informações sobre todas as portas.  Para restringir apenas as portas TCP, você precisa usar a opção <code>-at</code> , para obter dados sobre as portas UDP, use a <code>-au</code> . <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">netstat</span></span> -a</code> </pre> <br>  Para visualizar as tabelas de roteamento, use o seguinte comando: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">netstat</span></span> -r</code> </pre> <br>  Aqui está o resultado deste comando. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d64/a61/04b/d64a6104b6989360842aa74ee1a7a6e7.png"><br>  <i><font color="#999999">Informações da tabela de roteamento</font></i> <br><br>  Aqui está uma variante deste comando que exibe estatísticas sobre protocolos: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">netstat</span></span> -s</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/19b/b99/6e1/19bb996e1ebc3c8ae6d7ac8653b9d1d2.png"><br>  <i><font color="#999999">Estatísticas de protocolo</font></i> <br><br>  A opção de chamada <code>netstat</code> seguir permite encontrar informações sobre pacotes enviados e recebidos (transmissão / recebimento, TX / RX) para cada interface: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3a4/fe9/4b3/3a4fe94b37174bbbd240e9d7d4c74998.png"><br>  <i><font color="#999999">Dados sobre pacotes enviados e recebidos</font></i> <br><br><h2>  <font color="#3AC1EF">Nmcli</font> </h2><br>  O utilitário <code>nmcli</code> ótimo para gerenciar conexões de rede, <code>nmcli</code> configurações e resolver outras tarefas semelhantes.  Com sua ajuda, você pode controlar o programa <code>NetworkManager</code> e modificar os parâmetros de rede de vários dispositivos. <br><br><h3>  <font color="#3AC1EF">▍ Exemplos</font> </h3><br>  Veja como listar as interfaces de rede usando o <code>nmcli</code> : <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">nmcli</span></span> device</code> </pre> <br>  Assim, você pode exibir informações em uma interface específica: <br><br><pre> <code class="hljs sql">nmcli device <span class="hljs-keyword"><span class="hljs-keyword">show</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">interface</span></span>&gt;</code> </pre> <br>  A seguinte opção de chamada de comando permite verificar a conexão de rede do dispositivo: <br><br><pre> <code class="hljs pgsql">nmcli <span class="hljs-keyword"><span class="hljs-keyword">connection</span></span></code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/c37/701/22c/c3770122ca3093465a53c43376f30a33.png"><br>  <i><font color="#999999">Exemplos Nmcli</font></i> <br><br>  Este comando permite desativar a interface especificada: <br><br><pre> <code class="hljs kotlin">nmcli connection down &lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class">&gt;</span></span></code> </pre> <br>  E isso permite que você ative a interface: <br><br><pre> <code class="hljs kotlin">nmcli connection up &lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class">&gt;</span></span></code> </pre> <br>  Aqui está um exemplo de um comando que adiciona uma interface VLAN com um determinado número de VLAN, endereço IP e gateway à interface especificada: <br><br><pre> <code class="hljs pgsql">nmcli con <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> vlan con-<span class="hljs-type"><span class="hljs-type">name</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">connection</span></span>-<span class="hljs-type"><span class="hljs-type">name</span></span>&gt; dev &lt;interface&gt; id &lt;vlan-number&gt; ipv4 &lt;ip/<span class="hljs-type"><span class="hljs-type">cidr</span></span>&gt; gw4 &lt;gateway-ip&gt;</code> </pre> <br><h2>  <font color="#3AC1EF">Encaminhamento</font> </h2><br>  Existem muitos comandos que podem ser usados ​​para verificar e configurar regras de roteamento.  Considere o mais útil deles. <br><br><h3>  <font color="#3AC1EF">▍ Exemplos</font> </h3><br>  O comando a seguir mostra todas as rotas atuais configuradas para as respectivas interfaces: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">ip</span></span> route</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/691/7a0/679/6917a0679120633832b7e45a54601351.png"><br>  <i><font color="#999999">Rotas configuradas para interfaces</font></i> <br><br>  Este comando permite adicionar o gateway padrão à tabela de roteamento: <br><br><pre> <code class="hljs cs">route <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> gw &lt;gateway-ip&gt;</code> </pre> <br>  O comando a seguir adiciona uma nova rota de rede à tabela de roteamento.  Existem muitos outros parâmetros que permitem executar operações como adicionar uma rota e um gateway padrão e assim por diante. <br><br><pre> <code class="hljs xml">route add -net <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">network</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ip</span></span></span><span class="hljs-tag">/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">cidr</span></span></span><span class="hljs-tag">&gt;</span></span> gw <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">gateway</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ip</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">interface</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Usando este comando, você pode excluir uma entrada sobre uma determinada rota da tabela de roteamento: <br><br><pre> <code class="hljs dos">route <span class="hljs-built_in"><span class="hljs-built_in">del</span></span> -<span class="hljs-built_in"><span class="hljs-built_in">net</span></span> &lt;network ip/cidr&gt;</code> </pre> <br>  Aqui estão exemplos de como usar o comando <code>route</code> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ebb/bc2/90f/ebbbc290f61ca92364c1d22560596d56.png"><br>  <i><font color="#999999">Usando o comando route</font></i> <br><br>  Aqui está o comando usado para exibir a tabela atual de vizinhos.  Além disso, ele pode ser usado para adicionar, modificar ou excluir informações sobre vizinhos: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">ip</span></span> neighbor</code> </pre> <br>  Veja exemplos de seu uso. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/595/1ae/72c/5951ae72c26d18f80299ab0410757107.png"><br>  <i><font color="#999999">Dados obtidos usando o comando ip neighbour</font></i> <br><br>  Aqui estão os <code>ip neigh</code> comando <code>ip neigh</code> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/605/d16/153/605d16153555ddaa7d6ea88befc3516e.png"><br>  <i><font color="#999999">Detalhes da equipe ip neigh</font></i> <br><br>  O comando <code>arp</code> (ARP significa Address Resolution Protocol) é semelhante ao <code>ip neighbor</code> .  O utilitário <code>arp</code> exibe dados sobre a correspondência de endereços IP para endereços MAC.  Veja como usá-lo: <br><br><pre> <code class="hljs">arp</code> </pre> <br>  Aqui está um exemplo de sua ligação. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c3e/e95/e70/c3ee95e70c5ba7b2ddcd2e5eae061545.png"><br>  <i><font color="#999999">Chamar comando arp</font></i> <br><br><h2>  <font color="#3AC1EF">Tcpdump e wireshark</font> </h2><br>  O Linux fornece ao administrador muitas ferramentas para capturar e analisar pacotes.  Entre eles, por exemplo, <code>tcpdump</code> , <code>wireshark</code> , <code>tshark</code> e outros.  Eles são usados ​​para capturar o tráfego de rede em pacotes transmitidos pelo sistema ou em pacotes recebidos por ele.  Isso os torna uma ferramenta administrativa muito valiosa para ajudar a identificar as causas de vários problemas de rede.  Quem prefere a linha de comando a todas as outras maneiras de se comunicar com os computadores <code>tcpdump</code> .  Para quem gosta de interfaces gráficas, o <code>wireshark</code> é uma ótima ferramenta para capturar e analisar pacotes.  O utilitário <code>tcpdump</code> é uma ferramenta baseada em Linux para capturar tráfego de rede.  Pode ser usado para capturar e gerar tráfego com filtragem por portas, protocolos e outros sinais. <br><br><h3>  <font color="#3AC1EF">▍ Exemplos</font> </h3><br>  Esse comando mostra, em tempo real, pacotes de uma determinada interface: <br><br><pre> <code class="hljs kotlin">tcpdump -i &lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">name</span></span></span><span class="hljs-class">&gt;</span></span></code> </pre> <br>  Os pacotes podem ser salvos em um arquivo usando o sinalizador <code>-w</code> e especificando um nome de arquivo: <br><br><pre> <code class="hljs powershell">tcpdump <span class="hljs-literal"><span class="hljs-literal">-w</span></span> &lt;output<span class="hljs-operator"><span class="hljs-operator">-file</span></span>.&gt; <span class="hljs-literal"><span class="hljs-literal">-i</span></span> &lt;interface<span class="hljs-literal"><span class="hljs-literal">-name</span></span>&gt;</code> </pre> <br>  Aqui está um exemplo usando o <code>tcpdump</code> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4cf/ad7/340/4cfad7340f8226d9bf4181720b29b2fe.png"><br>  <i><font color="#999999">Usando tcpdump</font></i> <br><br>  A seguinte versão do comando é usada para capturar pacotes provenientes de um determinado IP do sistema de origem: <br><br><pre> <code class="hljs xml">tcpdump -i <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">interface</span></span></span><span class="hljs-tag">&gt;</span></span> src <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source-ip</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Portanto, você pode capturar pacotes que vão para o endereço fornecido do sistema receptor: <br><br><pre> <code class="hljs xml">tcpdump -i <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">interface</span></span></span><span class="hljs-tag">&gt;</span></span> dst <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">destination-ip</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Aqui está um exemplo do uso do <code>tcpdump</code> para capturar pacotes para um determinado número de porta, por exemplo, pode ser a porta 53, 80, 8080 e assim por diante: <br><br><pre> <code class="hljs xml">tcpdump -i <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">interface</span></span></span><span class="hljs-tag">&gt;</span></span> port <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">port-number</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Isso mostra como usar o <code>tcpdump</code> capturar pacotes de um determinado protocolo, como TCP, UDP ou outros: <br><br><pre> <code class="hljs xml">tcpdump -i <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">interface</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">protocol</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">Iptables</font> </h2><br>  O utilitário <code>iptables</code> é semelhante a um firewall, suporta filtragem de pacotes, o que permite controlar o tráfego ignorando ou bloqueando.  A variedade de recursos desse utilitário é enorme.  Considere alguns dos casos de uso mais comuns. <br><br><h3>  <font color="#3AC1EF">▍ Exemplos</font> </h3><br>  O comando a seguir exibe todas as regras existentes do <code>iptables</code> : <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">iptables</span></span> -L</code> </pre> <br>  Este comando remove todas as regras existentes: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">iptables</span></span> -F</code> </pre> <br>  Os seguintes comandos permitem o tráfego de um número de porta especificado para uma determinada interface: <br><br><pre> <code class="hljs powershell">iptables <span class="hljs-literal"><span class="hljs-literal">-A</span></span> INPUT <span class="hljs-literal"><span class="hljs-literal">-i</span></span> &lt;interface&gt; <span class="hljs-literal"><span class="hljs-literal">-p</span></span> tcp –dport &lt;port<span class="hljs-literal"><span class="hljs-literal">-number</span></span>&gt; <span class="hljs-literal"><span class="hljs-literal">-m</span></span> state –state NEW,ESTABLISHED <span class="hljs-literal"><span class="hljs-literal">-j</span></span> ACCEPT iptables <span class="hljs-literal"><span class="hljs-literal">-A</span></span> OUTPUT <span class="hljs-literal"><span class="hljs-literal">-o</span></span> &lt;interface&gt; <span class="hljs-literal"><span class="hljs-literal">-p</span></span> tcp <span class="hljs-literal"><span class="hljs-literal">-sport</span></span> &lt;port<span class="hljs-literal"><span class="hljs-literal">-number</span></span>&gt; <span class="hljs-literal"><span class="hljs-literal">-m</span></span> state – state ESTABLISHED <span class="hljs-literal"><span class="hljs-literal">-j</span></span> ACCEPT</code> </pre> <br>  Os seguintes comandos ativam o acesso de loopback ao sistema: <br><br><pre> <code class="hljs powershell">iptables <span class="hljs-literal"><span class="hljs-literal">-A</span></span> INPUT <span class="hljs-literal"><span class="hljs-literal">-i</span></span> lo <span class="hljs-literal"><span class="hljs-literal">-j</span></span> ACCEPT iptables <span class="hljs-literal"><span class="hljs-literal">-A</span></span> OUTPUT <span class="hljs-literal"><span class="hljs-literal">-o</span></span> lo <span class="hljs-literal"><span class="hljs-literal">-j</span></span> ACCEPT</code> </pre> <br><h2>  <font color="#3AC1EF">Nslookup</font> </h2><br>  A ferramenta <code>nslookup</code> é usada para obter informações sobre a atribuição de endereços IP aos recursos da rede.  Também pode ser usado para obter informações de servidores DNS, por exemplo, como todos os registros DNS de um site (veremos um exemplo correspondente abaixo).  O utilitário <code>nslookup</code> é semelhante ao <code>dig</code> (Domain Information Groper). <br><br><h3>  <font color="#3AC1EF">▍ Exemplos</font> </h3><br>  O comando a seguir exibe os endereços IP do seu servidor DNS no campo Servidor e, abaixo, exibe o endereço IP do site que você está procurando: <br><br><pre> <code class="hljs pgsql">nslookup &lt;website-<span class="hljs-type"><span class="hljs-type">name</span></span>.com&gt;</code> </pre> <br>  Este comando mostra todos os registros disponíveis para um determinado site ou domínio: <br><br><pre> <code class="hljs pgsql">nslookup -<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>=<span class="hljs-keyword"><span class="hljs-keyword">any</span></span> &lt;website-<span class="hljs-type"><span class="hljs-type">name</span></span>.com&gt;</code> </pre> <br><h2>  <font color="#3AC1EF">Solução de problemas</font> </h2><br>  Aqui está um conjunto de comandos e uma lista de arquivos importantes usados ​​para identificar problemas de rede. <br><br><h3>  <font color="#3AC1EF">▍ Exemplos</font> </h3><br><ul><li>  <code>ss</code> - utilitário para exibir informações estatísticas sobre soquetes. </li><li>  <code>nmap &lt;ip-address&gt;</code> - esse nome de comando é abreviado para Mapeador de Rede.  Ele examina portas de rede, descobre hosts, descobre endereços MAC e executa muitas outras tarefas. </li><li>  <code>ip addr/ifconfig -a</code> - este comando fornece informações sobre endereços IP e outros dados em todas as interfaces do sistema. </li><li>  <code>ssh -vvv user@&lt;ip/domain&gt;</code> - este comando permite conectar via SSH a outro computador usando o endereço IP especificado ou o nome de domínio do computador e o nome de usuário.  O sinalizador <code>-vvv</code> permite obter informações detalhadas sobre o que está acontecendo. </li><li>  <code>ethtool -S &lt;interface&gt;</code> - este comando permite exibir informações estatísticas em uma determinada interface. </li><li>  <code>ifup &lt;interface&gt;</code> - este comando ativa a interface especificada. </li><li>  <code>ifdown &lt;interface&gt;</code> - este comando desativa a interface especificada. </li><li>  <code>systemctl restart network</code> - com este comando, você pode reiniciar o subsistema de rede do sistema. </li><li>  <code>/etc/sysconfig/network-scripts/&lt;interface-name&gt;</code> - este é o arquivo de configuração da interface usado para especificar o endereço IP, a rede, o gateway e outros parâmetros para a interface especificada.  Aqui você pode especificar se a interface usa o modo DHCP. </li><li>  <code>/etc/hosts</code> - esse arquivo contém informações sobre a correspondência de hosts ou domínios para endereços IP configurados pelo administrador. </li><li>  <code>/etc/resolv.conf</code> - As configurações de DNS são armazenadas neste arquivo. </li><li>  <code>/etc/ntp.conf</code> - Este arquivo armazena as configurações de NTP. </li></ul><br><h2>  <font color="#3AC1EF">Sumário</font> </h2><br>  Nesta pequena folha de dicas, falamos sobre ferramentas de rede Linux para administradores de sistemas.  Esperamos que você ache essas ferramentas úteis. <br><br>  <b>Caros leitores!</b>  O que você usa para administrar redes e descobrir as causas dos problemas de rede? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/oh/jk/gg/ohjkggjpdnx1daweusetv6o31rm.jpeg"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt417485/">https://habr.com/ru/post/pt417485/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt417475/index.html">Codificação Glusterfs + apagamento: quando você precisar de muito, barato e confiável</a></li>
<li><a href="../pt417477/index.html">Secretária quente</a></li>
<li><a href="../pt417479/index.html">Concatenação de string mais rápida do tipo faça você mesmo no Go</a></li>
<li><a href="../pt417481/index.html">Sobre geradores no JavaScript ES6 e por que é opcional estudá-los</a></li>
<li><a href="../pt417483/index.html">Comparação de estruturas JS: React, Vue e Hyperapp</a></li>
<li><a href="../pt417487/index.html">O lugar onde a Internet russa começou</a></li>
<li><a href="../pt417489/index.html">Relatório do Clube de Roma de 2018, capítulo 3.4: “Energia descentralizada”</a></li>
<li><a href="../pt417493/index.html">Como compactar o carregador de inicialização do STM8 para tamanho 18 bytes na memória FLASH</a></li>
<li><a href="../pt417495/index.html">As equipes russas e ucranianas prevaleceram sobre os europeus na final européia do concurso InnovateFPGA da Intel</a></li>
<li><a href="../pt417497/index.html">4 anos em Ciência de Dados no Schibsted Media Group</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>