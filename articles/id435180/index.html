<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ•¦ ğŸŒŒ â API REST Serverless "berlutut dalam 5 menit" ğŸ¤šğŸ¾ ğŸ ğŸ‘©ğŸ¿â€ğŸ­</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo, Habr! Hari ini kami melanjutkan diskusi tentang peluang yang disediakan oleh Amazon Web Services dan cara menggunakan peluang ini dalam memecahk...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>API REST Serverless "berlutut dalam 5 menit"</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435180/">  Halo, Habr!  Hari ini kami melanjutkan diskusi tentang peluang yang disediakan oleh Amazon Web Services dan cara menggunakan peluang ini dalam memecahkan masalah aplikasi. <br><br>  Menggunakan contoh sederhana, pertimbangkan untuk membuat hanya beberapa menit REST API auto-scalable serverless kami sendiri dengan penguraian kasus - mendapatkan daftar sumber daya. <br><br>  Menarik?  Lalu pergi di bawah luka! <br><br><img src="https://habrastorage.org/webt/o1/lo/od/o1loodoauwe328yyywvsjwxbhpu.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">(Sumber)</a> <br><a name="habracut"></a><br><h2>  Alih-alih bergabung </h2><br>  Kami tidak akan menggunakan basis data apa pun untuk menguraikan contoh, sebagai gantinya, sumber informasi kami akan berupa file teks biasa di AWS S3. <br><br><ul><li>  Jadi, misalkan pada AWS S3 kita memiliki file teks dengan header dan beberapa proses menulis informasi padanya. </li><li>  Kami akan membuat API cloud yang akan mengembalikan respons JSON sebagai permintaan GET dengan parameter yang diteruskan. </li><li>  Pada saat yang sama, tergantung pada kompleksitas tugas dan, sebagai akibatnya, meningkatnya persyaratan untuk kekuatan pemrosesan sumber daya, Anda tidak perlu khawatir tentang hal itu, karena  layanan ini sepenuhnya terukur secara otomatis.  Dan ini berarti bahwa Anda tidak memerlukan administrasi, alokasi dan manajemen server, cukup unggah kode Anda dan jalankan. </li></ul><br><h2>  Arsitektur sistem dalam pengembangan </h2><br><img src="https://habrastorage.org/webt/jm/7r/yb/jm7ryb1z30xucimouckrlyitm6a.png"><br><br>  Komponen Layanan Web Amazon yang Digunakan: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b>Amazon S3</b></a> - penyimpanan objek, yang memungkinkan Anda menyimpan informasi dalam jumlah hampir tak terbatas; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b>AWS Identity and Access Management (IAM)</b></a> - Layanan yang menyediakan kemampuan untuk secara aman mengontrol akses ke layanan dan sumber daya AWS.  Menggunakan IAM, Anda dapat membuat, mengelola, mengelola pengguna dan grup AWS, dan menggunakan izin untuk memberikan atau menolak akses ke sumber daya AWS; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b>AWS Lambda</b></a> adalah layanan yang memungkinkan Anda untuk menjalankan kode tanpa membuat cadangan dan mengkonfigurasi server.  Semua daya komputasi secara otomatis diskalakan untuk setiap panggilan.  Biaya ini dibebankan berdasarkan jumlah permintaan fitur dan durasinya, yaitu  waktu selama kode dieksekusi. <br><blockquote>  Tingkat akses gratis (Free tier) menyiratkan 1 juta permintaan per bulan secara gratis dan 400K Gb-s.  Bahasa yang didukung: Node.js, Java, C #, Go, Python, Ruby, PowerShell </blockquote>  .  Kami akan menggunakan Python: <br><br><ul><li>  Perpustakaan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b>boto3</b></a> adalah SDK AWS untuk Python yang memungkinkan Anda untuk berinteraksi dengan berbagai layanan Amazon; </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b>Amazon API Gateway</b></a> adalah layanan pengembang yang dikelola sepenuhnya yang dirancang untuk membuat, menerbitkan, memelihara, memantau, dan mengamankan API pada skala apa pun.  Selain kemampuan untuk menggunakan beberapa versi dari API yang sama (tahapan) untuk debugging, perbaikan dan pengujian, layanan ini memungkinkan Anda untuk membuat API REST tanpa server menggunakan AWS Lambda.  Lambda mengeksekusi kode dalam infrastruktur komputasi yang sangat mudah diakses, menghilangkan kebutuhan untuk distribusi, penskalaan, dan manajemen server. <br><blockquote>  Tier gratis untuk HTTP / REST API mencakup satu juta panggilan API per bulan selama 12 bulan </blockquote></li></ul><br><h2>  Persiapan data </h2><br>  File teks dengan tab akan digunakan sebagai pembatas bidang sebagai sumber informasi untuk menghasilkan respons terhadap permintaan GET REST.  Informasi sekarang tidak terlalu penting untuk contoh ini, tetapi untuk penggunaan API lebih lanjut, saya mengunduh dari terminal perdagangan Quik sebuah tabel perdagangan saat ini dalam bentuk obligasi dalam mata uang Rusia, menyimpannya dalam bonds.txt dan menempatkan file ini dalam ember AWS S3 yang dibuat khusus. <br><br>  Contoh informasi yang diterima adalah seperti yang ditunjukkan pada gambar di bawah ini: <br><br> <a href=""><img src="https://habrastorage.org/webt/ua/yl/na/uaylnacmex2xuts2gnqstudoxii.jpeg"></a> <br><br>  Selanjutnya, Anda perlu menulis fungsi yang akan membaca informasi dari file bonds.txt, menguraikannya dan mengeluarkannya berdasarkan permintaan.  AWS Lambda akan baik-baik saja dengan ini.  Tetapi pertama-tama, Anda harus membuat peran baru yang akan memungkinkan fungsi Lambda yang dibuat untuk membaca informasi dari bucket yang berada di AWS S3. <br><br><h2>  Buat Peran untuk AWS Lambda </h2><br><ol><li>  Di konsol manajemen AWS, buka layanan AWS IAM dan kemudian ke tab "Peran", klik tombol "Buat peran"; <br><br><div class="spoiler">  <b class="spoiler_title">Menambahkan Peran Baru</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/bz/wl/n9/bzwln9pjpdlusmo8cgwv7csvey8.jpeg"><br></div></div></li><li>  Peran yang kami buat sekarang akan digunakan oleh AWS Lambda untuk membaca informasi dari AWS S3.  Oleh karena itu, pada langkah berikutnya, pilih "Pilih jenis tepercaya" -&gt; "Layanan Aws" dan "Pilih layanan yang akan menggunakan peran ini" -&gt; "Lambda" dan klik tombol "Berikutnya: Izin" <br><br><div class="spoiler">  <b class="spoiler_title">Peran layanan Lambda</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/mq/bh/ik/mqbhikgn46p9m4ul1ulytb1etpk.jpeg"><br></div></div></li><li>  Sekarang Anda perlu menetapkan kebijakan akses untuk sumber daya AWS yang akan digunakan dalam peran yang baru dibuat.  Karena  daftar kebijakan cukup mengesankan, menggunakan filter untuk kebijakan, kami menunjukkan "S3" untuk itu.  Hasilnya, kami mendapatkan daftar yang difilter untuk layanan S3.  Perhatikan kotak centang di seberang kebijakan "AmazonS3ReadOnlyAccess" dan klik tombol "Next: Tags". <br><br><div class="spoiler">  <b class="spoiler_title">Kebijakan untuk Peran</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ix/nz/jk/ixnzjk8y4wkt3xo6sntt_ss_q04.jpeg"><br></div></div></li><li>  Langkah (Tambahkan tag (opsional)) adalah opsional, tetapi Anda dapat menentukan tag untuk Peran jika diinginkan.  Kami tidak akan melakukan ini dan beralih ke langkah berikutnya - Pratinjau.  Di sini Anda perlu mengatur nama peran - "ForLambdaS3-ReadOnly", tambahkan deskripsi dan klik tombol "Buat peran". <br><br><div class="spoiler">  <b class="spoiler_title">Peran Judul</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/pf/lc/cj/pflccjxy1lmfker-x-_jmb00m7e.jpeg"><br></div></div></li></ol><br>  Semuanya, peran telah dibuat dan kita dapat menggunakannya dalam pekerjaan lebih lanjut. <br><br><h2>  Buat fitur baru di AWS Lambda </h2><br><ol><li>  Pergi ke layanan AWS Lambda dan klik tombol "Buat fungsi": <br><br><div class="spoiler">  <b class="spoiler_title">Penciptaan Fungsi</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/lb/9g/mq/lb9gmqf_f2wkakv3y3ta-xgpr_u.jpeg"><br></div></div><br>  Isi semua bidang seperti yang ditunjukkan pada tangkapan layar di bawah ini: <br><br><ul><li>  Nama - "getAllBondsList"; </li><li>  Runtime - "Python 3.6" </li><li>  Peran - â€œPilih peran yang adaâ€ </li><li>  Peran yang ada - di sini kita memilih peran yang kita buat di atas - ForLambdaS3-ReadOnly </li></ul><br><div class="spoiler">  <b class="spoiler_title">Nama dan pilihan peran</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/g7/7y/od/g77yodilqokdh3rmtmwk1arsh80.jpeg"><br></div></div></li><li>  Tetap hanya menulis kode fungsi dan memeriksa kinerjanya pada berbagai uji coba.  Perlu dicatat bahwa komponen utama dari setiap fungsi Lambda (jika Anda menggunakan Python) adalah pustaka boto3: <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> boto3 s3 = boto3.resource(<span class="hljs-string"><span class="hljs-string">'s3'</span></span>) bucket = s3.Bucket(<span class="hljs-string"><span class="hljs-string">'your-s3-bucket'</span></span>) obj = bucket.Object(key = <span class="hljs-string"><span class="hljs-string">'bonds.txt'</span></span>) response = obj.get()</code> </pre> <br>  Ide dasar fungsi Python kami adalah sebagai berikut: <br><br><ul><li>  Buka file bonds.txt; </li><li>  Baca tajuk kolom; </li><li>  Pecahkan catatan berdasarkan halaman (10 koleksi dalam kasus kami); </li><li>  Pilih halaman yang diinginkan; </li><li>  Petakan nama kolom dan catatan; </li><li>  Berikan hasilnya dalam bentuk koleksi. </li></ul><br>  Kami tidak akan mencurahkan banyak waktu untuk kode fungsi itu sendiri dan implementasi teknis, semuanya cukup sederhana di sini dan kode lengkap tersedia di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">GitHub</a> saya. <br><br><pre> <code class="python hljs"> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">0</span></span>, len(lines_proc)): d = dict((<span class="hljs-string"><span class="hljs-string">u''</span></span>.join(key), <span class="hljs-string"><span class="hljs-string">u''</span></span>.join(value)) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (key, value) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> zip(headers, lines_proc[i].split(<span class="hljs-string"><span class="hljs-string">"\t"</span></span>))) response_body.append(d) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-string"><span class="hljs-string">'statusCode'</span></span>: <span class="hljs-number"><span class="hljs-number">200</span></span>, <span class="hljs-string"><span class="hljs-string">'page'</span></span> : num_page, <span class="hljs-string"><span class="hljs-string">'body'</span></span>: response_body }</code> </pre><br>  Masukkan kode (atau tulis sendiri :)) ke dalam blok "Kode fungsi" dan klik tombol "Simpan" di sudut kanan atas layar. <br><br><div class="spoiler">  <b class="spoiler_title">Penyisipan kode</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/py/v7/bz/pyv7bzmaokoa7dxmgc-auhuji7q.jpeg"><br></div></div></li><li>  Buat acara uji.  Setelah memasukkan kode, fungsi tersedia untuk peluncuran dan pengujian.  Klik tombol "Uji" dan buat beberapa acara uji: luncurkan fungsi lambda_handler dengan parameter berbeda.  Yaitu: <br><br><ul><li>  Memulai fungsi dengan parameter 'halaman': '100'; </li><li>  Meluncurkan fungsi dengan parameter 'halaman': '1000000'; </li><li>  Memulai fungsi dengan parameter 'halaman': 'bla-bla-bla'; </li><li>  Menjalankan fungsi tanpa parameter 'halaman'. </li></ul><br><div class="spoiler">  <b class="spoiler_title">Uji acara Halaman100</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/f4/lc/s8/f4lcs8v_qj_nmzetyijk0ybngp4.jpeg"><br></div></div><br>  Mulai fungsi yang dibuat dengan mengirimkan halaman acara pengujian == 100. Seperti yang dapat dilihat dari tangkapan layar di bawah, fungsi tersebut berhasil, mengembalikan status 200 (OK), serta koleksi koleksi yang sesuai dengan halaman keseratus data terbagi menggunakan pagination. <br><br><div class="spoiler">  <b class="spoiler_title">Acara uji pemicu Halaman100</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/of/7e/1b/of7e1bgnqpk63gugwnletylpxzk.jpeg"><br></div></div><br>  Untuk kemurnian percobaan, kami akan meluncurkan acara pengujian lain - "PageBlaBlaBla".  Dalam kasus ini, fungsi mengembalikan hasilnya dengan kode 415 dan komentar yang diperlukan untuk memeriksa kebenaran dari parameter yang diteruskan: <br><br><div class="spoiler">  <b class="spoiler_title">Uji acara PageBlaBlaBla</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/sp/qt/op/spqtopae3qqqroxxpwmhcdmdmu8.jpeg"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">PageBlaBlaBla memicu acara</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/v3/ms/3x/v3ms3x0jd9pyucqqmnb4qqnful4.jpeg"><br></div></div><br></li></ol><br><h2>  Pembuatan API </h2><br>  Setelah semua kasus lainnya diuji dan ada pemahaman bahwa fungsi Lambda berfungsi seperti yang kami harapkan, kami melanjutkan untuk membuat API.  Mari kita membuat titik akses ke fungsi Lambda yang dibuat di atas dan juga mengatur perlindungan terhadap permulaan yang tidak diinginkan menggunakan Kunci API. <br><br><ul><li>  Pergi ke layanan AWS API Gateway.  Klik pada tombol Create API, atur nama API - getAllBondsList <br><br><div class="spoiler">  <b class="spoiler_title">Buat API baru</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/yc/1q/7z/yc1q7zqud7q7m_fu7gibtsql9-w.jpeg"><br></div></div></li><li>  Tambahkan metode GET ke API yang baru dibuat.  Untuk melakukan ini, pilih Tindakan -&gt; Buat metode, pilih metode GET di daftar turun bawah dan klik tanda centang <br><br><div class="spoiler">  <b class="spoiler_title">Metode GET Baru</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/7j/6j/df/7j6jdfyvpyvhzhfv3yjxewkc0lk.jpeg"><br></div></div><br>  Selanjutnya, kami mengindikasikan bahwa metode GET akan menggunakan fungsi Lambda kami getAllBondsList.  Pilih dan klik tombol Simpan. <br><br><div class="spoiler">  <b class="spoiler_title">Binding Function Lambda</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/zi/8e/5l/zi8e5ly5xby143omz8p_-oxk4x0.jpeg"><br></div></div></li><li>  Mari kita gunakan API kita, sehingga mendapatkan URL untuk memanggil API. <br>  Klik Tindakan -&gt; Menyebarkan API, lalu, Tahap penerapan -&gt; Tahap Baru <br><blockquote>  Dimungkinkan untuk menggunakan API pada tahapan yang berbeda dan Anda dapat memanggil tahapan ini sesuka Anda (misalnya, DEV / QA / PROD).  Kami akan segera menyebar ke PROD. </blockquote><div class="spoiler">  <b class="spoiler_title">Sebarkan API</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ok/vb/gm/okvbgmwxrrzzcilnvzwisbeoqw4.jpeg"><br></div></div><br>  Setelah penyebaran, tautan untuk meluncurkan API yang baru dibuat akan tersedia.  Kami akan membuka URL ini di bilah alamat browser (atau menjalankan perintah curl di terminal) - kami akan mendapatkan panggilan API dan, sebagai hasilnya, luncurkan fungsi Lambda: <br><br><div class="spoiler">  <b class="spoiler_title">URL API</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/y3/ok/1e/y3ok1esjw61-xjp7uzql21cxdxa.jpeg"><br></div></div><br>  Saya akan menggunakan aplikasi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Postman</a> untuk mendemonstrasikan AWS API Gateway.  Di dalamnya, Anda dapat dengan nyaman men-debug dan menguji operasi API. <br><br><div class="spoiler">  <b class="spoiler_title">Pengujian API pertama</b> <div class="spoiler_text">  Salin URL dari tahap PROD ke Tukang pos dan kirim permintaan GET ke API kami: <br><br> <a href=""><img src="https://habrastorage.org/webt/bo/ku/3x/boku3xlj9kkoknm0wfnax1ninqg.jpeg"></a> <br><br>  Sesuatu sepertinya salah ... permintaan GET mengembalikan respons JSON dengan kode 400 dan petunjuk bahwa parameter Halaman tidak disetel dalam permintaan panggilan API.  Tambahkan dukungan untuk parameter permintaan ke API. <br></div></div></li><li>  Dukungan untuk parameter yang lulus dalam permintaan. <br>  Kami kembali ke pengaturan permintaan GET dan pergi ke langkah Metode Permintaan. <br><br><div class="spoiler">  <b class="spoiler_title">Permintaan metode</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/di/yi/oo/diyioox34z86tv41lrp0oqw8tu4.jpeg"><br></div></div><br>  Dalam pengaturan terperinci dari Permintaan Metode, Anda perlu memperluas blok Parameter Parameter Kueri URL dan menambahkan "halaman" parameter baru dan membuatnya Diperlukan: <br><br><div class="spoiler">  <b class="spoiler_title">Menambahkan Parameter</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/j2/rj/gc/j2rjgcaffqvrmq6a6rrh7znhimy.jpeg"><br></div></div><br>  Kami kembali ke halaman Eksekusi Metode dan pergi ke Permintaan Integrasi.  Kami turun ke bagian bawah halaman dan membuka blok "Mapping Templates".  Pilih "Ketika tidak ada template yang ditentukan (disarankan)", di bidang Tipe-Konten, tentukan <b>aplikasi / json</b> dan klik tanda centang.  Kami gulir ke bawah halaman di bawah ini dan masukkan kode di kotak teks, seperti yang ditunjukkan pada gambar di bawah ini.  Setelah itu, klik tombol Simpan. <br><br><div class="spoiler">  <b class="spoiler_title">Permintaan metode</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ue/s3/y5/ues3y5vyonxozczm7onfg2-351s.jpeg"><br></div></div><br>  Setelah sebelumnya melakukan penyebaran API, kami memeriksa lagi, tetapi dengan "halaman" parameter berlalu: <br><br> <a href=""><img src="https://habrastorage.org/webt/s5/-3/v_/s5-3v_kqnx5k3drotwwhw4mltf4.jpeg"></a> <br><br>  Itu sukses!  Sekarang permintaan berhasil dan mengembalikan kepada kami koleksi yang terkandung di halaman kesepuluh!  Hore! </li><li>  Tetap hanya untuk melindungi API kami dari serangan yang tidak diinginkan dari luar. <br><br>  Untuk melakukan ini, Anda perlu mengonfigurasi API sedemikian rupa sehingga saat mengaksesnya memerlukan kunci rahasia, yang diteruskan ke header. <br><br>  Buka Kunci API dan buat banyak kunci API baru - KeyForBondsList. <br><br><div class="spoiler">  <b class="spoiler_title">Kunci API</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/su/na/ba/sunaba6acca0mmout5n1yu4xyd8.jpeg"><br></div></div><br>  Setelah Kunci API berhasil dibuat, Anda harus menentukan bahwa getAllBondsList API harus meminta kunci API untuk dilewatkan di header permintaan.  Dan ikat KeyForBondsList tertentu ke API getAllBondsList. <br><br>  Mari kita kembali ke pengaturan untuk permintaan GET di Metode Permintaan dan mengubah parameter Diperlukan Kunci API dari false ke true.  Sekarang API akan membutuhkan transfer Kunci API. <br><br><div class="spoiler">  <b class="spoiler_title">Diperlukan Kunci API</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/dn/gu/sy/dngusygxk5h50j4qnbcxt3umkbs.jpeg"><br></div></div><br>  Buka Rencana Penggunaan dan buat rencana baru untuk menggunakan API. <br><br>  Pertama, kami memberikan nama dan deskripsi, dan kedua, di sini Anda dapat menetapkan batasan untuk meluncurkan API, misalnya, tidak lebih dari satu peluncuran per detik, dll. <br><br><div class="spoiler">  <b class="spoiler_title">Membuat Rencana Penggunaan</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/zl/-3/y9/zl-3y9ruwexssvl3jzpzlocfqpe.jpeg"><br></div></div><br>  Klik Berikutnya dan pergi ke halaman berikutnya di mana Anda harus menghubungkan tahapan API dengan rencana penggunaan: <br><br><div class="spoiler">  <b class="spoiler_title">Mengikat Panggung ke Rencana Penggunaan</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/lh/q8/m0/lhq8m0te7ejfwkjz1sftxwznz24.jpeg"><br></div></div><br>  Pada halaman berikutnya, kami mengikat Kunci API dengan rencana untuk menggunakan API.  Klik tombol Tambahkan Kunci API ke Rencana Penggunaan dan temukan Kunci API yang dibuat pada langkah sebelumnya dengan nama: <br><br><div class="spoiler">  <b class="spoiler_title">Mengikat Kunci API ke Rencana Penggunaan</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/y2/p0/8c/y2p08c59ly3trqt6kjhlbud2tmg.jpeg"><br></div></div><br>  Setelah melakukan penyebaran dan menjalankan panggilan GET API kami lagi, kami mendapatkan jawabannya: "Terlarang", karena  header permintaan tidak ada Kunci API: <br><br> <a href=""><img src="https://habrastorage.org/webt/oy/z9/39/oyz939fbfo9e6g-xpbujygkhj3o.jpeg"></a> <br><br>  Mari kita coba menambahkannya dengan menyalin dari Kunci API -&gt; KeyForBondsList -&gt; Kunci API -&gt; Perlihatkan dan tempel ke bagian permintaan yang sesuai dengan kunci "x-api-key": <br><br> <a href=""><img src="https://habrastorage.org/webt/vc/ml/l5/vcmll5c2bbyazujggy7orazylbm.jpeg"></a> <br><br>  Semuanya berhasil!  Kali ini, permintaan mengembalikan data tanpa masalah, panggilan API aman dan terlindungi dari penyusup oleh Kunci API rahasia. </li></ul><br><h2>  Kesimpulan dan Ringkasan </h2><br>  Pada artikel ini, kami melihat pembuatan REST API auto-scalable serverless menggunakan layanan cloud Amazon.  Artikel itu bukan yang terkecil dalam volume, tetapi saya mencoba menjelaskan sebanyak mungkin seluruh proses pembuatan API dan menyusun seluruh urutan tindakan. <br><br>  Saya yakin bahwa setelah satu atau dua pengulangan langkah-langkah yang dijelaskan dalam artikel, Anda dapat menaikkan API cloud Anda dalam 5 menit atau bahkan lebih cepat. <br><br>  Karena kesederhanaannya yang relatif, murahnya dan kekuatannya, layanan AWS API Gateway membuka peluang luas bagi para pengembang untuk digunakan dalam pekerjaan dan dalam proyek komersial.  Untuk mengkonsolidasikan materi teoretis dalam artikel ini, cobalah mendaftar untuk berlangganan tahunan Amazon Web Services gratis dan lakukan sendiri langkah-langkah di atas untuk membuat REST API. <br><br>  Untuk pertanyaan dan saran, saya siap berbicara dengan senang hati.  Saya menantikan komentar Anda pada artikel dan berharap Anda sukses! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id435180/">https://habr.com/ru/post/id435180/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id435170/index.html">Melihat Apple Watch EKG untuk seseorang yang peduli</a></li>
<li><a href="../id435172/index.html">Oculus GoBlack - cara meningkatkan Oculus Go</a></li>
<li><a href="../id435174/index.html">Unreal Engine 4 - membakar shader</a></li>
<li><a href="../id435176/index.html">DEFCON 21. Kata sandi saja tidak cukup, atau mengapa enkripsi disk â€œterputusâ€ dan bagaimana hal ini dapat diperbaiki. Bagian 1</a></li>
<li><a href="../id435178/index.html">DEFCON 21. Kata sandi saja tidak cukup, atau mengapa enkripsi disk â€œterputusâ€ dan bagaimana hal ini dapat diperbaiki. Bagian 2</a></li>
<li><a href="../id435182/index.html">Studi: Pasar HDD akan menyusut sepertiga pada tahun 2021</a></li>
<li><a href="../id435184/index.html">Kecerdasan Buatan Dipelajari untuk Menemukan Penyakit Alzheimer di Otak 6 Tahun Sebelum Diagnosis</a></li>
<li><a href="../id435186/index.html">Rolls-Royce mengembangkan pesawat listrik tercepat di dunia</a></li>
<li><a href="../id435190/index.html">Google telah berhasil menarik pajak dari $ 22,7 miliar melalui Irlandia dan Bermuda</a></li>
<li><a href="../id435194/index.html">Sederhanakan menulis resume pengembang</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>