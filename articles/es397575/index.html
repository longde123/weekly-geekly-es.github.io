<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèΩ‚ÄçüöÄ üëêüèª üòø Caja negra para la casa: recolectamos NAS con nuestras propias manos, parte 2 - magn√≠fico NAS4Free üòú üë©‚Äçüè≠ üåî</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La publicaci√≥n est√° destinada a personas alejadas de la administraci√≥n del sistema. Esta publicaci√≥n muestra las capacidades b√°sicas del maravilloso s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Caja negra para la casa: recolectamos NAS con nuestras propias manos, parte 2 - magn√≠fico NAS4Free</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/397575/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La publicaci√≥n est√° destinada a personas alejadas de la administraci√≥n del sistema. </font><font style="vertical-align: inherit;">Esta publicaci√≥n muestra las capacidades b√°sicas del maravilloso sistema operativo NAS4Free, que le permite implementar su NAS dom√©stico incluso en hardware de baja potencia, con una falta total de conocimiento de FreeBSD y la l√≠nea de comandos. </font><font style="vertical-align: inherit;">La primera parte de la publicaci√≥n se encuentra </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, tenemos una caja con las siguientes caracter√≠sticas:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Caso: Thermaltake Core V1;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fuente de alimentaci√≥n: Chieftec HPS-350NS;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Placa base: GIGABYTE GA-J1800N-D2H;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAM: Transcend SO-DIMM 2Gb DDR-III 1333Mhz x 2;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HDD: WD Re 2004FBYZ x 2 (antes de hacer los ojos redondos, lea la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">primera parte</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> );</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enfriamiento: TITAN DC FAN (80 mm, 2000 rpm) x 2.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es hora de convertirlo en un NAS dom√©stico, lo m√°s confiable posible en el entorno actual. </font><font style="vertical-align: inherit;">Y el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema de archivos Zettabyte</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nos ayudar√° con esto </font><font style="vertical-align: inherit;">, quiz√°s la mejor soluci√≥n para organizar un almacenamiento de archivos tolerante a fallas y, al mismo tiempo, productivo. </font><font style="vertical-align: inherit;">Desarrollado por Sun Microsistems para Solaris, ZFS luego fue portado a Linux y FreeBSD. </font><font style="vertical-align: inherit;">Entre sus muchas ventajas, nos interesar√° lo siguiente:</font></font><br>
<br>
<ol>
<li> ,          ,   ,    ‚Äì   ,  LVM;</li>
<li>     256-  ;</li>
<li>      ;</li>
<li>    RAID-    .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entre las soluciones especializadas capaces de trabajar con ZFS, dos competidores se destacan claramente: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FreeNAS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NAS4Free</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dichos nombres de "espejo" no son en absoluto accidentales: ambos conjuntos se basan en FreeBSD, y NAS4Free en s√≠ es una bifurcaci√≥n de FreeNAS 0.7, que se origin√≥ en el momento en que el sistema operativo original qued√≥ bajo el ala de iXsystems y se puso en marcha. Es NAS4Free que es mi favorito personal. Por qu√© Vamos a hacerlo bien.</font></font><br>
<br>
<ol>
<li>.   ,       NAS,     ,   NAS4Free   .       ?   , 4  RAM,  4-  ,       .     512    2-   .  FreeNAS   :      8  RAM  8- ,          1616 (    ).</li>
<li>.   NAS4Free       ‚Äú ‚Äù ‚Äì         :<br>
<img src="https://habrastorage.org/files/db0/488/59d/db048859d2fd48b891142fb3bdb4b3b5.JPG"></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conveniencia </font><font style="vertical-align: inherit;">En NAS4Free, casi todo se puede controlar a trav√©s de una interfaz web realmente intuitiva, que adem√°s contiene muchos consejos y est√° bien traducido al ruso en comparaci√≥n con un competidor. </font><font style="vertical-align: inherit;">Podr√° trabajar con discos y servicios, administrar el sistema de archivos, tomar instant√°neas y montar clones sin iniciar la consola en principio, lo que atraer√° a usuarios novatos y personas que no est√°n familiarizadas con la administraci√≥n de * nix.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Creo que los argumentos anteriores son suficientes para hacer una elecci√≥n inequ√≠voca. </font><font style="vertical-align: inherit;">Ahora nos ocuparemos de la instalaci√≥n y la configuraci√≥n inicial del sistema.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instalar NAS4Free</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como solo hay dos discos en el sistema, utilizaremos una unidad flash USB como unidad de arranque. Cu√°l es absolutamente irrelevante, cualquier antig√ºedad de 2 GB ser√° suficiente. Si hay dudas sobre la salud del dispositivo, puede usar el mismo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rufus</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , despu√©s de haber realizado varias pruebas. Entonces todo es simple: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">descargue el LiveCD</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y contin√∫e con la instalaci√≥n. Primero ver√° la siguiente pantalla: </font></font><br>
<br>
<img src="https://habrastorage.org/files/fbf/648/4da/fbf6484daa0547b0909f3c6ae628055c.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de un tiempo, aparece el men√∫ de texto en la pantalla: </font></font><br>
<br>
<img src="https://habrastorage.org/files/a67/f79/d38/a67f79d38d184d7398b43e8e47ec31e6.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estamos interesados ‚Äã‚Äãen el noveno elemento, lo seleccionamos. El proceso de instalaci√≥n comienza:</font></font><br>
<br>
<img src="https://habrastorage.org/files/e0b/749/0b5/e0b7490b5b9249e3afe759a0338f00ac.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No tocamos el modo experto, pero la elecci√≥n entre GPT y MBR depende de la antig√ºedad de la placa base de su m√°quina. Si eres fan√°tico del "cl√°sico" en la cara del BIOS, selecciona el segundo elemento. Worth UEFI: elige el primero. Despu√©s de la confirmaci√≥n, NAS4Free le dir√° amablemente qu√© operaciones va a hacer: estamos de acuerdo en todo: a </font></font><br>
<br>
<img src="https://habrastorage.org/files/9e0/573/d3d/9e0573d3d97748f9886e27cfce14abd7.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
continuaci√≥n, seleccione la unidad con el disco de instalaci√≥n (en nuestro ejemplo es el √∫nico): </font></font><br>
<br>
<img src="https://habrastorage.org/files/4e4/6e0/278/4e46e0278ccd4e81ac36823d4deaae17.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
luego debe especificar la unidad flash USB en la que se realizar√° la instalaci√≥n. Es f√°cil distinguirlo de la unidad del sistema en tama√±o y nombre:</font></font><br>
<br>
<img src="https://habrastorage.org/files/2ab/ab6/10c/2abab610c86a4e088662cc49dadb6788.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El siguiente paso es establecer el tama√±o del archivo de p√°gina. La regla es simple: si usa una unidad de 2 GB - ponga 512 MB, 4 GB - ponga 1024 MB, si es 8 - 2. Muchos tienen una pregunta justa en los comentarios, pero qu√© tan confiable es instalar el sistema operativo en una unidad flash USB, m√°s a√∫n h√°galo. ? Considero necesario aclarar este punto. En primer lugar, una caracter√≠stica de la versi√≥n incorporada es que se crea una imagen de disco del sistema en la RAM, es decir, se accede a una unidad flash solo al momento de cargar el NAS, as√≠ como al guardar la configuraci√≥n. En segundo lugar, el instalador requiere la creaci√≥n de un archivo de intercambio sin fallas, mientras determina su tama√±o incorrectamente. ¬øHacer un intercambio de 8 conciertos en un dispositivo de 4 conciertos? F√°cil! En cualquier caso, seg√∫n el programa, vale la pena intentarlo. Para evitar errores, es m√°s f√°cil establecer uno de los valores correctos dados anteriormente.Y finalmente, el archivo de intercambio se conecta manualmente en la configuraci√≥n: no se usar√°, lo que significa que la unidad flash tampoco se eliminar√°.</font></font><br>
<br>
<img src="https://habrastorage.org/files/f60/05b/781/f6005b78119547c887160a817bc13307.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comenzar√° el proceso de instalaci√≥n, despu√©s de lo cual ver√° la siguiente pantalla: </font></font><br>
<br>
<img src="https://habrastorage.org/files/899/565/757/89956575762146aa86febf2e095cf33e.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede desconectar la unidad flash USB y reiniciar; la instalaci√≥n se realiz√≥ correctamente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora trabajemos con el NAS mismo. Como elegimos la opci√≥n de presupuesto para el Thin Client como la placa base, tendremos que comenzar ajustando los par√°metros de arranque, conectando no solo una unidad flash USB, sino tambi√©n un monitor con un teclado al dispositivo. Como las salidas de video presentan D-Sub y HDMI, para que no haya problemas. Despu√©s de encender la m√°quina, presionamos "Eliminar" y configuramos nuestra unidad flash USB en el men√∫ "Arranque" como el dispositivo de arranque principal (de forma predeterminada, UEFI Shell arrancar√°, pero no lo necesitamos). Guardamos los cambios, reiniciamos el NAS y, si todo se hace correctamente, vemos un men√∫ familiar:</font></font><br>
<br>
<img src="https://habrastorage.org/files/145/570/2e1/1455702e1f1845a79781dfc2fcf7f1f7.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede conectar el NAS al entorno de trabajo por cualquier medio: a trav√©s de un enrutador, conmutador, concentrador cero: todo depende de sus necesidades personales. </font><font style="vertical-align: inherit;">Dado que probablemente desee llevar la m√°quina a su red dom√©stica, la mejor opci√≥n es un enrutador, as√≠ que configuremos una direcci√≥n IP est√°tica en el paso 2. Responda constantemente las preguntas que hace el sistema:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øDesea usar DHCP para esta interfaz? </font><font style="vertical-align: inherit;">- No (queremos establecer una IP est√°tica)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ingrese la nueva direcci√≥n IPv4 LAN: 192.168.1.250 (instalada de manera predeterminada, si ya se usa en su red, ingrese una libre)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ingrese la nueva m√°scara de subred LAN - 24 (m√°scara de subred 255.255.255.0)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ingrese la puerta de enlace predeterminada IPv4 - 192.168.1.1 (especifique la direcci√≥n del enrutador)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ingrese la direcci√≥n DNS IPv4 - 192.168.1.1 (tambi√©n especifique la direcci√≥n del enrutador)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øDesea configurar IPv6 para esta interfaz? </font><font style="vertical-align: inherit;">- No (simplemente no necesitamos una red dom√©stica IPv6)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta pantalla testificar√° la finalizaci√≥n exitosa de la configuraci√≥n: aqu√≠ </font></font><br>
<br>
<img src="https://habrastorage.org/files/e11/c1a/3b2/e11c1a3b258a446984032148e61f0d6c.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
es donde se completa la preparaci√≥n del NAS: ahora puede conectar el almacenamiento a la red y continuar con la configuraci√≥n.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Personalizar unidades</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todas las operaciones se llevan a cabo a trav√©s de la conveniente WebGUI: simplemente ingrese la direcci√≥n IP configurada anteriormente (en nuestro caso, 192.168.1.250) y </font></font><br>
<br>
<img src="https://habrastorage.org/files/844/ba8/a75/844ba8a75db746cc88c0d4ab6107eeff.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
acceda </font><font style="vertical-align: inherit;">inmediatamente al formulario de autorizaci√≥n: el </font><font style="vertical-align: inherit;">inicio de sesi√≥n predeterminado es admin, la contrase√±a (qui√©n lo hubiera pensado) es nas4free. </font><font style="vertical-align: inherit;">Inicie sesi√≥n y vea el monitor del sistema: </font></font><br>
<br>
<img src="https://habrastorage.org/files/7ee/93c/0d5/7ee93c0d52084fdba42170d9f4a9be33.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cambiemos a la excelente y poderosa de inmediato: vaya a "Sistema" -&gt; "General" y cambie el idioma a ruso: </font></font><br>
<br>
<img src="https://habrastorage.org/files/6f7/99d/35b/6f799d35b471485697b7a7284a8e2589.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
aqu√≠ tambi√©n puede establecer un nuevo nombre de usuario y contrase√±a para la interfaz web. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora configuremos los discos. </font><font style="vertical-align: inherit;">Vamos a la secci√≥n "Unidades" -&gt; "Gesti√≥n", y ... no encontramos nada:</font></font><br>
<br>
<img src="https://habrastorage.org/files/fa5/4b0/53a/fa54b053a6a94984b083c298b52930f6.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Solo sin p√°nico: en NAS4Free debe hacer todo con las manos. </font><font style="vertical-align: inherit;">La opci√≥n m√°s f√°cil es hacer clic en "Borrar configuraci√≥n e importar discos", pero recomiendo hacer clic en el signo m√°s azul a la derecha y agregar unidades de una en una. </font><font style="vertical-align: inherit;">El men√∫ es el siguiente: </font></font><br>
<br>
<img src="https://habrastorage.org/files/aac/ab4/fc0/aacab4fc02874f59a086427a3ae2bcbd.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
veamos las opciones:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La descripci√≥n puede dejarse en blanco, conduje el nombre abreviado del disco;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El modo de transferencia deja Auto;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Especifique el per√≠odo de transferencia de unidades al modo de espera seg√∫n sus necesidades personales. </font><font style="vertical-align: inherit;">Sin embargo, debe tenerse en cuenta: el reinicio frecuente ni siquiera es beneficioso para WD Re confiable, por lo que no tiene sentido establecer 5-10 minutos; esto solo acelerar√° el desgaste del HDD;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Administraci√≥n de energ√≠a: configur√© el nivel 127, una compensaci√≥n entre rendimiento y consumo de energ√≠a;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nivel de ruido: no considero necesario usarlo, ya que WD funciona de manera muy silenciosa de todos modos;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si desea habilitar la supervisi√≥n SMART, marque la casilla;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como los discos son nuevos, dejamos Sin formato (sin formato) en la √∫ltima l√≠nea.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora haga clic en el bot√≥n "Agregar" y repita el procedimiento para los discos restantes. </font><font style="vertical-align: inherit;">No es necesario agregar una unidad flash para evitar malentendidos (formatee r√°pidamente, y todo tendr√° que comenzar desde cero). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de todas las manipulaciones, vemos lo siguiente en el men√∫ de configuraci√≥n del disco: </font></font><br>
<br>
<img src="https://habrastorage.org/files/f7d/1d9/ca0/f7d1d9ca037f40d286c4fa1f4edf577b.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lea la advertencia en la captura de pantalla. </font><font style="vertical-align: inherit;">S√≠, esta es una caracter√≠stica de NAS4Free: primero hacemos la configuraci√≥n, luego confirmamos la elecci√≥n haciendo clic en "Aplicar cambios"; tendr√° que acostumbrarse. </font><font style="vertical-align: inherit;">Despu√©s de eso, observamos el resultado de nuestras acciones: </font></font><br>
<br>
<img src="https://habrastorage.org/files/aef/a97/cd9/aefa97cd9662417f8a71903c3f408636.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
si desea recibir datos SMART al monitorear el estado de los discos, vaya a la pesta√±a del mismo nombre.</font></font><br>
<br>
<img src="https://habrastorage.org/files/972/633/2f8/9726332f81f54e4fbcc01c31ebf99db3.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Marque la casilla de verificaci√≥n "Activar", seleccione el modo de energ√≠a en espera (para no molestar a los discos duros en modo de espera) y guarde los cambios. Tambi√©n existe la posibilidad de configurar alertas. Ahora puede ver datos detallados de cada unidad en la secci√≥n "Diagn√≥stico" -&gt; "Informaci√≥n" -&gt; "INTELIGENTE". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, ambas unidades est√°n en l√≠nea, todos los sistemas funcionan bien. Pero esto es solo el comienzo del viaje. Vayamos a la pesta√±a "Formateo de HDD". Como acordamos al principio del art√≠culo, usaremos ZFS. Seleccione ambas unidades y haga clic en "Siguiente":</font></font><br>
<br>
<img src="https://habrastorage.org/files/1eb/08e/72e/1eb08e72e4b5475d872eaa8975b111ae.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el siguiente paso, configure la etiqueta de volumen: eleg√≠ WDREZFS% 1. La construcci√≥n de "% 1" significa que los discos que formateamos recibir√°n n√∫meros de serie que comienzan con uno. Es decir, el primero se llamar√° WDREZFS1, el segundo - WDREZFS2, etc. Si no especifica un punto de partida, colocando un signo "%" sin un d√≠gito, el sistema mismo numerar√° el HDD. Tambi√©n puede dar nombres por n√∫meros de serie. Por ejemplo, "[4" significa que los √∫ltimos cuatro d√≠gitos del n√∫mero de serie se utilizar√°n como etiqueta. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s, le recomiendo que marque la casilla "Creaci√≥n de ZFS en la partici√≥n GPT" si est√° creando un grupo complejo de discos m√∫ltiples y planea agregar nuevas unidades en el futuro. </font></font><br>
<br>
<img src="https://habrastorage.org/files/191/bd3/bc8/191bd3bc8f494c89b9eb38abd80c8890.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Formateamos los discos, esperamos a que termine la operaci√≥n y hacemos clic en el bot√≥n "Aceptar".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora necesitamos construir un dispositivo virtual. Vaya a "Unidades" -&gt; "ZFS" -&gt; "Grupos" -&gt; "Dispositivo virtual", haga clic en el signo m√°s azul y vea la siguiente imagen: </font></font><br>
<br>
<img src="https://habrastorage.org/files/90c/f28/391/90cf28391fee481b9fb04c0f94e72fb8.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ podemos recopilar los discos en una matriz. Necesito un an√°logo de RAID-1, as√≠ que seleccion√© "Mirror" (para referencia, "Stripe" es esencialmente el mismo RAID-0). Despu√©s de confirmar la selecci√≥n, no olvide aplicar los cambios: </font></font><br>
<br>
<img src="https://habrastorage.org/files/8b0/b18/5c7/8b0b185c703c4208b4ae127141cc9b47.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ahora vamos a la pesta√±a "Grupos" y agregamos uno nuevo utilizando el dispositivo virtual reci√©n creado: </font></font><br>
<br>
<img src="https://habrastorage.org/files/44a/2ad/fa5/44a2adfa59424164917a37b8f5dc902d.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
todo lo que se requiere es crear un nombre, no necesita configurar nada m√°s.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En principio, ya puede comenzar a cargar archivos, pero es mejor aprovechar la ventaja principal de ZFS: la capacidad de crear conjuntos de datos. De hecho, son sistemas de archivos subsidiarios, por lo que tenemos la oportunidad de elegir un m√©todo de compresi√≥n para cada conjunto de datos, establecer derechos de acceso y cuotas de disco (lo que elimina la situaci√≥n en la que su colecci√≥n de videos consume de forma segura todo el espacio libre para documentos) y, lo m√°s importante, crear instant√°neas que le permiten recuperar casi al instante la informaci√≥n perdida. Por lo tanto, vayamos a los "Conjuntos de datos" y creemos algunos: </font></font><br>
<br>
<img src="https://habrastorage.org/files/89f/4e1/1be/89f4e11be0744aeda26a792ef9bf26dd.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
en la captura de pantalla anterior, se selecciona el √∫nico grupo: WDREP y el m√©todo de compresi√≥n lzjb (un compromiso entre eficiencia y rendimiento). </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deduplicaci√≥n de datos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d√©jelo apagado, ya que su funcionamiento adecuado requiere un m√≠nimo de 16 gigabytes de RAM. El t√©rmino en s√≠ mismo significa un m√©todo para comprimir una matriz de datos mediante la eliminaci√≥n de copias duplicadas. Es √∫til, por ejemplo, si crea regularmente copias de seguridad de grandes vol√∫menes de informaci√≥n, mientras que la diferencia entre ellas es m√≠nima. Si el NAS desempe√±a el papel de solo almacenamiento para pel√≠culas, m√∫sica, fotos y otros contenidos multimedia, simplemente no notar√° los beneficios de la duplicaci√≥n, lo que significa que no debe gastar dinero adicional en hardware. El resto de la configuraci√≥n se deja por defecto. Lo √∫nico, con fines de demostraci√≥n, pondr√© una marca delante de "Instant√°neas de visibilidad": ahora las im√°genes ser√°n visibles desde otros dispositivos. En el campo "Espacio reservado", puede especificar el volumen m√≠nimo garantizado del conjunto de datos, y "Cuota" le permite establecer la barra superior.A continuaci√≥n puede seleccionar usuarios y configurar derechos de acceso:</font></font><br>
<br>
<img src="https://habrastorage.org/files/6ec/2ba/9d4/6ec2ba9d4925465faa41e66dfb7f324f.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Del mismo modo, puede agregar tantos conjuntos de datos como desee:</font></font><br>
<br>
<img src="https://habrastorage.org/files/466/fbd/283/466fbd2831a44e5a84b7745a1d27795f.JPG"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hora de subir archivos</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NAS est√° en pleno funcionamiento, queda por ense√±arle c√≥mo comunicarse con el mundo exterior. </font><font style="vertical-align: inherit;">Para esto, el sistema operativo ofrece un conjunto impresionante de herramientas para todos los gustos, ubicado en el men√∫ "Servicios". </font><font style="vertical-align: inherit;">Lo que necesita depende de usted: decida usted mismo, ahora me limitar√© a la configuraci√≥n b√°sica de FTP: </font></font><br>
<br>
<img src="https://habrastorage.org/files/fba/8fa/c95/fba8fac9596241358493ce24f5630068.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
no olvide marcar la casilla de verificaci√≥n "Activar" (de forma predeterminada, todos los servicios est√°n deshabilitados). </font><font style="vertical-align: inherit;">La cantidad de clientes se establece por la cantidad de dispositivos que contactar√°n simult√°neamente con el almacenamiento (3 son relevantes para m√≠). </font><font style="vertical-align: inherit;">Recomiendo dejar el n√∫mero de conexiones 2. Luego, la carga / descarga de archivos se realizar√° en una secuencia, lo que evitar√° la fragmentaci√≥n y alcanzar√° la velocidad m√°xima. </font><font style="vertical-align: inherit;">Guarde la configuraci√≥n e intente conectarse al NAS:</font></font><br>
<br>
<img src="https://habrastorage.org/files/052/afa/e33/052afae33a9942d9a619b994ea98ef44.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como puede ver, el conjunto y los conjuntos de datos se presentan en forma de directorios, y se muestran los directorios .zfs en los que se guardar√°n las instant√°neas. Y, me parece, ha llegado el momento de hablar sobre ellos con m√°s detalle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Instant√°neas: instant√°neas de todo el grupo o del conjunto de datos seleccionado. Sin entrar en detalles, una instant√°nea es la forma m√°s r√°pida y "m√°s barata" de realizar copias de seguridad en t√©rminos de espacio. Actualmente, la funcionalidad de gesti√≥n de im√°genes implementada en WebGUI es algo limitada, pero puede satisfacer plenamente las necesidades de un usuario com√∫n. Si quieres m√°s, tienes que usar la consola.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NAS4Free admite la creaci√≥n de instant√°neas manuales y autom√°ticas. Para tomar una foto manualmente, vaya a la pesta√±a ‚ÄúZFS‚Äù -&gt; ‚ÄúInstant√°neas‚Äù -&gt; ‚ÄúInstant√°nea‚Äù, haga clic en el signo m√°s, especifique la ruta (por ejemplo, cre√© el conjunto de datos de M√∫sica) y piense en un nombre para la imagen futura: una </font></font><br>
<br>
<img src="https://habrastorage.org/files/7f9/b24/baa/7f9b24baa4654293b8c185dca3194338.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
marca de verificaci√≥n en la columna ‚ÄúRecursiva‚Äù "Significa que se crear√°n instant√°neas de todos los conjuntos de datos secundarios en M√∫sica, si corresponde. El resultado ser√° el siguiente: </font></font><br>
<br>
<img src="https://habrastorage.org/files/a55/41b/3fa/a5541b3fa5f54b359cae79e9825ddddc.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S√≠, esto no es un error: una instant√°nea no ocupa espacio libre hasta que se cambian los datos del conjunto de datos. Por ejemplo, crecer√° a medida que elimine archivos mp3 de M√∫sica. El proceso de instant√°nea se puede automatizar en la pesta√±a "Instant√°nea autom√°tica".</font></font><br>
<br>
<img src="https://habrastorage.org/files/f4c/8b3/e4b/f4c8b3e4bdbf412a83c6072edce9cf48.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠, adem√°s de las configuraciones discutidas anteriormente, puede elegir la hora en que se tom√≥ la imagen y el per√≠odo de almacenamiento. No puede especificar un tipo que no sea diario aqu√≠ (esto solo es posible a trav√©s de la consola). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bueno, digamos que borraste accidentalmente archivos importantes. ¬øC√≥mo pueden ser restaurados? Esto se hace creando clones. Volvamos a la pesta√±a "Instant√°nea" y haga clic en el icono de llave inglesa frente a la instant√°nea. Aparecer√° la siguiente ventana: </font></font><br>
<br>
<img src="https://habrastorage.org/files/526/7dd/131/5267dd131142459faee1659b7a207e56.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ debe elegir la ruta a lo largo de la cual se ubicar√° el clon. Por supuesto, debe ser √∫nico y no repetir los nombres de los conjuntos de datos. Haga clic en "Ejecutar" y verifique el resultado a trav√©s de FTP:</font></font><br>
<br>
<img src="https://habrastorage.org/files/ae5/e3e/771/ae5e3e77122a46cdb4a769a024e686a2.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como puede ver, el clon de MusicSnap repite completamente el contenido del conjunto de datos original. </font><font style="vertical-align: inherit;">Ahora puede extraer los archivos perdidos del clon y copiarlos de nuevo a M√∫sica. </font><font style="vertical-align: inherit;">Despu√©s de que el clon se pueda eliminar en la misma pesta√±a:</font></font><br>
<br>
<img src="https://habrastorage.org/files/c50/efe/325/c50efe325b014a7f99d97c77428886d2.JPG"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Toque final</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por lo tanto, ZFS Mirror, basado en Western Digital Re, pr√°cticamente indestructible, le permite crear un NAS dom√©stico de confiabilidad bastante aceptable, incluso a pesar de la falta de soporte ECC por parte de la placa base. Sin embargo, hay un punto d√©bil en el sistema descrito: una unidad flash. La memoria flash no se puede llamar confiable a menos que use </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chips industriales</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , pero NAS4Free proporciona un mecanismo muy conveniente para elevar el servidor desde cero. En la secci√≥n "Sistema" - "Guardar / Restaurar" puede obtener el archivo XML con la configuraci√≥n con un solo clic: el </font></font><br>
<br>
<img src="https://habrastorage.org/files/da2/325/19b/da232519b3b347d3b2773b3b171972cb.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
cifrado de contrase√±a est√° disponible opcionalmente. Si la unidad flash falla, todo lo que se requiere de usted es instalar el sistema limpiamente y restaurar la configuraci√≥n desde el archivo. Todos los grupos y conjuntos de datos creados anteriormente, as√≠ como la informaci√≥n almacenada, volver√°n a estar disponibles.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En realidad, eso es todo: el NAS dom√©stico est√° listo para funcionar. </font><font style="vertical-align: inherit;">Por el momento, el ensamblaje descrito anteriormente me cuesta aproximadamente un mes, digiriendo alrededor de 500 gigabytes durante este tiempo. </font><font style="vertical-align: inherit;">Por supuesto, esto est√° lejos de ser un trabajo de desgaste, sin embargo, el almacenamiento funciona sin problemas, no se han observado problemas durante este tiempo. </font><font style="vertical-align: inherit;">Y ahora organizar√© un poco interactivo: escriba en los comentarios qu√© caracter√≠sticas de NAS4Free le gustar√≠a ver, o qu√© soluciones no est√°ndar le gustar√≠a implementar en funci√≥n de ello. </font><font style="vertical-align: inherit;">Entonces, por ejemplo,   </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dispi estaba</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> interesado en la posibilidad de crear una LAMP completa: la solicitud ha sido aceptada, aunque no prometo su publicaci√≥n en el futuro cercano.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es397575/">https://habr.com/ru/post/es397575/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es397561/index.html">Audio Digest 9: Blogs sobre sonido, m√∫sica y tecnolog√≠a de audio</a></li>
<li><a href="../es397563/index.html">Se demuestra la autenticidad del C√≥digo de Grolier, el cuarto c√≥dice maya sobreviviente.</a></li>
<li><a href="../es397565/index.html">C√≥mo ve Lyft el transporte por carretera en 10 a√±os</a></li>
<li><a href="../es397567/index.html">En Nokia Bell Labs, lograron la transmisi√≥n de datos a una velocidad de 1 Tbit / s por fibra</a></li>
<li><a href="../es397571/index.html">La tela h√≠brida convierte la luz solar y la energ√≠a mec√°nica en electricidad.</a></li>
<li><a href="../es397577/index.html">Procesador Terminator, Bender, Dandy y Apple 2: MOS 6502</a></li>
<li><a href="../es397579/index.html">Historial inesperado de microprocesador</a></li>
<li><a href="../es397581/index.html">¬°Patea ahora! Con Kickstarter, el futuro est√° m√°s cerca</a></li>
<li><a href="../es397583/index.html">Una reuni√≥n inesperada. Capitulo 4</a></li>
<li><a href="../es397585/index.html">"¬°S√≠, conduces!". C√≥mo los overclockers cambiaron la industria inform√°tica</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>