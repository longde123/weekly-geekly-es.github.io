<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎊 🤞🏾 ◻️ Wir übertragen Zimbra von einer Einzelserver- auf eine Multiserverinfrastruktur 👨🏿‍🎤 🙌🏾 📢</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In einem früheren Artikel haben wir darüber gesprochen, wie Zimbra auf einer Multi-Server-Infrastruktur installiert wird. Neben der erhöhten Ausfallsi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wir übertragen Zimbra von einer Einzelserver- auf eine Multiserverinfrastruktur</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/zimbra/blog/433152/">  In einem früheren Artikel haben wir darüber gesprochen, wie Zimbra auf einer Multi-Server-Infrastruktur installiert wird.  Neben der erhöhten Ausfallsicherheit ist diese Infrastruktur leicht skalierbar und ideal für SaaS-Anbieter, die E-Mail- und Collaboration-Tools sowohl an Service- als auch an große Unternehmen verkaufen.  Was aber, wenn Zimbra ursprünglich auf einem einzelnen Server in Ihrem Unternehmen installiert war, aber als das Unternehmen wuchs und sich entwickelte, begann seine Geschwindigkeit und Verfügbarkeit erheblich zu sinken?  Die naheliegende Lösung wäre die Migration der Zimbra Collaboration Suite auf eine Multi-Server-Infrastruktur. Ist dies jedoch ohne lange Ausfallzeiten und ohne Verlust wertvoller Daten möglich? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e98/93d/7d9/e9893d7d9f995c2a24dce02df7fa5d51.png" alt="Bild"><a name="habracut"></a><br><br>  Es stellt sich heraus, dass dies möglich ist.  Bei Verwendung einer Lösung von Zextras erfolgt die Migration auf eine neue Infrastruktur in mehreren Schritten: <br><br><ol><li>  Zimbra Clean-Installation auf Ihrer gewünschten Multiserver-Infrastruktur </li><li>  Installieren des Zextras Backup Winterlet auf dem Quellserver </li><li>  Installieren Sie Zextras Backup auf dem Zielserver mit Postfachspeicher </li><li>  Erstellen eines Backups mit dem Inhalt des Quellservers </li><li>  Stellen Sie Zimbra Backup auf der Zielinfrastruktur bereit </li><li>  Inbetriebnahme der Multi-Server-Infrastruktur mit Zimbra </li></ol><br>  Der Installationsprozess für Zimbra Open-Source Edition mit mehreren Servern <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wurde in einem früheren Artikel ausführlich beschrieben</a> .  Nachdem die auf verschiedenen Servern installierten Zimbra-Elemente als Ganzes funktionieren, kann der Prozess des „Verschiebens“ vom alten Server auf die neue Infrastruktur gestartet werden.  Die vom italienischen IT-Unternehmen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Zextras entwickelte</a> und im modularen Erweiterungspaket der Zextras Suite enthaltene Zextras Backup-Winterzeit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">eignet sich für</a> diese Aufgabe. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4ce/305/a72/4ce305a729cdd5fcb15d41d94eb79c95.png" alt="Bild"><br><br>  Führen Sie nach der Installation des Zimblet auf dem Quellserver die Export Backup-Funktion aus.  Zextras Backup scannt Ihren Server und erstellt eine Sicherungskopie des Inhalts der Postfächer, Benutzereinstellungen und -parameter, Kalenderdaten, freigegebenen Dateien sowie Informationen zu Benutzergruppen und Domänen.  Nachdem das Backup erstellt wurde, ist es nicht überflüssig, es aus Gründen der Zuverlässigkeit an einem anderen Ort zu speichern.  Für diese Zwecke sind sowohl eine externe Festplatte als auch ein Cloud-Speicher geeignet. <br><br>  Beachten Sie, dass die Verwendung von Zextras Backup zum Bereitstellen einer Sicherungskopie des ursprünglichen Zimbra-Servers auf der neuen Infrastruktur aufgrund des 30-tägigen Testzeitraums absolut kostenlos sein kann und gleichzeitig die Einfachheit und Benutzerfreundlichkeit der Zextras Suite bewertet. <br><br>  Installieren Sie die Zextras Suite auf einem oder mehreren Postfachservern der Zielinfrastruktur.  Nach Abschluss der Installation können Sie die vom Zextras Backup bereitgestellte Funktion zum Importieren der Sicherung verwenden, um die Sicherung wiederherzustellen.  Im angezeigten Dialogfeld können Sie auswählen, welche der reservierten Elemente auf diesem Server wiederhergestellt werden sollen.  Dank dessen kann der Zimbra-Infrastrukturadministrator verschiedene Domänen oder sogar Konten auf verschiedene Postfachserver verteilen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bae/289/a75/bae289a75eefd7cba509e44c9b3f2226.png" alt="Bild"><br><br>  Nachdem die Wiederherstellung der Sicherung des Quellservers auf der Zielinfrastruktur abgeschlossen ist, kann die Zimbra-Multiserver-Infrastruktur in Betrieb genommen werden. <br><br>  Ein aufmerksamer Leser wird jedoch darauf aufmerksam machen, dass diese Methode immer noch eine Unterbrechung der Arbeit des Zimbra-Quellservers impliziert, während das Backup erstellt und in der Zielinfrastruktur bereitgestellt wird.  Abhängig von der Datenmenge kann eine solche Unterbrechung von einigen Minuten bis zu völlig inakzeptablen Werten variieren.  Wenn die Dauer des Serverausfalls nicht zu Ihnen passt, können Sie die inkrementelle Migration verwenden - eine Methode, mit der Sie unabhängig von der übertragenen Datenmenge migrieren können, ohne die Server anzuhalten. <br><br>  Um eine inkrementelle Migration durchzuführen, muss der Benutzer Zextras Backup auf dem Quellserver sowie auf einem oder mehreren Postfachservern der Zielinfrastruktur installieren.  Um die Belastung eines laufenden Servers zu verringern, wird empfohlen, eine externe Festplatte daran <b>anzuschließen und im Ordner / opt / zimbra / backup / zextras / zu mounten</b> .  Außerdem wird empfohlen, vor dem Start der Migration den TTL-Wert in den MX-Einträgen des DNS North auf 300 zu setzen, um die Geschwindigkeit des Datenübertragungsprozesses zu maximieren. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6fd/36d/2a6/6fd36d2a6ed3941cef8e81b76136d0ef.png" alt="Bild"><br><br>  Beginnen wir die Migration, indem wir alle Real Time Scanner-Server mit dem <b>Befehl zxsuite backup setProperty ZxBackup_RealTimeScanner false deaktivieren</b> .  Starten Sie dann auf dem <b>Quellserver</b> SmartScan mit dem <b>Befehl zxsuite backup doSmartScan</b> .  Dank dessen werden alle unsere Daten in den <b>Ordner / opt / zimbra / backup / zextras /</b> exportiert. Wenn Sie zuvor eine externe Festplatte darin gemountet haben, erhalten Sie auch Sicherungsmedien.  Beachten Sie, dass Sie, wenn Sie Domänen vom <b>Quellserver</b> für verschiedene Postfachserver in der <b>Zielinfrastruktur streuen möchten,</b> dies auch mit einem Befehl des Formulars <b>zxsuite backup doExport / path / to / export / folder / domain domain1.com, domain2.com tun können</b> und schließlich Backups von verschiedenen Domänen erhalten. <br><br>  Danach können Sie die Sicherung in der Zielinfrastruktur bereitstellen.  Zu diesem Zweck empfehlen wir die Verwendung der Option <b>Nur Bereitstellung</b> , mit der Sie nur Domänen-, Benutzergruppen- und Kontodaten importieren können, wobei der Inhalt der Postfächer ignoriert wird.  Um diese Option zu verwenden, geben Sie den Befehl <b>zxsuite backup doExternalRestore / path / for / the / data / provisioning_only TRUE</b> auf dem Zielserver ein.  Wiederholen Sie diesen Vorgang für jeden Server und sichern Sie die entsprechenden Domänen, wenn Sie sie auf verschiedene Postfachserver verteilen möchten <br><br>  Als Ergebnis erhalten Sie eine Arbeitskopie des alten Nordens ohne den Inhalt von Postfächern.  Danach können Sie den Buchstabenfluss sofort auf die <b>Zielinfrastruktur umschalten</b> und dann den Inhalt der Postfächer mit dem <b>Befehl zxsuite backup doExternalRestore / path / for / the / data /</b> vom alten Server <b>verschieben</b> .  Der offensichtliche Nachteil dieses Ansatzes besteht darin, dass Zimbra-Benutzer für einige Zeit keinen Zugriff auf früher gesendete und empfangene E-Mails haben, obwohl sie normalerweise weiterhin E-Mails empfangen und senden.  Darüber hinaus kann während der direkten Wiederherstellung von Postfachinhalten die Serverleistung sinken.  Nachdem die Wiederherstellung des Inhalts der Postfächer abgeschlossen ist, können wir über den erfolgreichen Abschluss der Migration ohne Ausfallzeiten sprechen. <br><br>  Bei allen Fragen zur Zextras Suite können Sie sich per E-Mail an katerina@zextras.com an den Vertreter der Firma "Zextras" Katerina Triandafilidi wenden </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de433152/">https://habr.com/ru/post/de433152/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de433138/index.html">Fünf Prinzipien des Produktdesigns bei Booking</a></li>
<li><a href="../de433140/index.html">Bereites Google Pay Client-Modul</a></li>
<li><a href="../de433142/index.html">Zeitlose Klassiker oder eine Übersicht über neue Angriffsmethoden über Microsoft Office</a></li>
<li><a href="../de433144/index.html">.NET Core 2.2 veröffentlicht. Was gibt's Neues? (1 von 3)</a></li>
<li><a href="../de433146/index.html">[Wettbewerb] Top 25 Spielekonsolen (alte Zeiten erschüttern)</a></li>
<li><a href="../de433154/index.html">5G NR Benutzererfahrung in der realen Welt erwartet</a></li>
<li><a href="../de433156/index.html">Dell geht an die Börse und strebt die Hybrid Cloud an</a></li>
<li><a href="../de433158/index.html">Musikalische Parodien von SUSE über Kubernetes, Linus Torvalds und andere</a></li>
<li><a href="../de433164/index.html">Schnell und wütend: Forza Horizon 4 beschleunigt mit Fenstershadern</a></li>
<li><a href="../de433168/index.html">Warum hat ein Programmierer ein Praktikum in der Küche - ein Gespräch mit Dodo Pizza über gemba, .NET und Offenheit</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>