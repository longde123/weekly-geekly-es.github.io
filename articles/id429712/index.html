<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💨 🐲 🛃 Pengantar React Hooks 👩🏽 🧙🏾 👩🏾‍🎨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Jika Anda membaca Twitter, kemungkinan besar Anda tahu bahwa Hooks adalah fitur Bereaksi baru, tetapi Anda mungkin bertanya, bagaimana kita dapat meng...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pengantar React Hooks</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/429712/"><img src="https://habrastorage.org/webt/fi/qp/xs/fiqpxsj8dqr3mts4ayrpml4es0u.png"><br><br>  Jika Anda membaca Twitter, kemungkinan besar Anda tahu bahwa Hooks adalah fitur Bereaksi baru, tetapi Anda mungkin bertanya, <b>bagaimana kita dapat menggunakannya dalam praktik</b> ?  Pada artikel ini, kami akan menunjukkan kepada Anda beberapa contoh menggunakan kait. <br>  Salah satu ide kunci untuk dipahami adalah bahwa <b>kait memungkinkan Anda untuk menggunakan status dan fitur Bereaksi lainnya tanpa menulis kelas</b> . <br><a name="habracut"></a><br><h1>  Motivasi di balik kail </h1><br>  Meskipun arsitektur berorientasi komponen memungkinkan kita untuk menggunakan kembali tampilan dalam aplikasi kita, salah satu masalah terbesar yang dihadapi pengembang adalah bagaimana <b>menggunakan kembali logika berbasis negara di antara komponen</b> .  Ketika kami memiliki komponen yang memiliki logika keadaan yang sama, tidak ada solusi yang baik untuk menggunakan kembali komponen, dan ini kadang-kadang dapat menyebabkan duplikasi logika dalam konstruktor dan metode siklus hidup. <br>  Untuk mengatasi masalah ini, biasanya gunakan: <br><br><ul><li>  Komponen Pesanan Tinggi </li><li>  render alat peraga </li></ul><br>  Tetapi kedua pola ini memiliki kelemahan yang dapat berkontribusi pada kompleksitas basis kode. <br><br>  <b>Hooks bertujuan untuk menyelesaikan semua masalah ini, memungkinkan Anda untuk menulis komponen fungsional yang memiliki akses ke keadaan, konteks, metode siklus hidup, ref, dll., Tanpa menulis kelas.</b> <br><br><h1>  Kait di Alpha </h1><br><blockquote>  Sebelum kita menyelam, penting untuk menyebutkan bahwa pengembangan API Hooks belum lengkap. <br><br>  Selain itu, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi resmi</a> sangat bagus, dan kami sarankan untuk membacanya juga karena secara luas menggambarkan motivasi di balik pengenalan Hooks. <br>  <b>UPD</b> Artikel asli, terjemahan yang sedang Anda baca, ditulis pada saat API ini dalam pengujian alpha, saat React Hooks secara resmi siap digunakan.  Perubahan ireversibel yang dibuat untuk rilis (dibandingkan dengan alpha) dapat ditemukan di bagian bawah artikel atau dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">catatan rilis</a> . <br></blockquote><br><h2>  Bagaimana kait terkait dengan kelas </h2><br>  Jika Anda terbiasa dengan React, salah satu cara terbaik untuk memahami Hooks adalah untuk melihat bagaimana kita dapat mereproduksi perilaku yang biasa kita gunakan untuk bekerja dengan kelas menggunakan Hooks. <br><br>  Ingatlah bahwa ketika menulis kelas komponen, kita sering perlu: <br><br><ul><li>  Kelola status </li><li>  Gunakan metode siklus hidup seperti componentDidMount () dan componentDidUpdate () </li><li>  Akses konteks (static contextType) </li></ul><br><br>  Dengan React Hooks, kami dapat mereproduksi perilaku serupa dalam komponen fungsional: <br><br><ul><li>  Untuk menggunakan status komponen, gunakan hook useState () </li><li>  Alih-alih menggunakan metode siklus hidup seperti componentDidMount () dan componentDidUpdate (), gunakan hook useEffect (). </li><li>  Alih-alih menggunakan properti static contextType, gunakan hook useContext (). </li></ul><br><h2>  Versi terbaru dari React diperlukan untuk menggunakan Hooks. </h2><br>  Anda dapat memulai dengan Hooks sekarang dengan mengubah nilai reaksi dan reaksi-dom di paket Anda. Json ke "selanjutnya". <br><br><img src="https://habrastorage.org/webt/ys/tx/47/ystx47s3snw_tfev_vqedjlzqfe.png"><br><br><h1>  UseState () contoh Hook </h1><br>  Negara adalah bagian integral dari React.  Ini memungkinkan kita untuk mendeklarasikan variabel yang berisi data, yang, pada gilirannya, akan digunakan dalam aplikasi kita.  Menggunakan kelas, negara biasanya didefinisikan sebagai berikut: <br><br><img src="https://habrastorage.org/webt/qs/se/7a/qsse7afsrvty1pgadlncirgnljk.png"><br><br>  Sebelum Hooks, status biasanya hanya digunakan dalam komponen - kelas, tetapi, seperti yang disebutkan di atas, <b>Hooks memungkinkan kita untuk menambahkan status ke komponen fungsional juga</b> . <br>  Mari kita lihat contoh di bawah ini.  Di sini kita membuat saklar dengan cahaya latar yang berubah warna tergantung pada nilai kondisi.  Untuk ini kita akan menggunakan hook useState (). <br>  Berikut adalah kode lengkap (dan contoh yang dapat dieksekusi) - kita akan melihat apa yang terjadi di bawah.  Dengan mengklik gambar, Anda dapat melihat contoh ini di CodeSandBox. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/ct/-f/xa/ct-fxahjxyoqamk8h-rkguxnfia.png"></a> <br><br><h2>  Komponen kami adalah fungsi </h2><br>  Dalam blok kode di atas, kita mulai dengan mengimpor <b>useState</b> dari React.  UseState adalah cara baru untuk memanfaatkan kemungkinan yang bisa ditawarkan oleh negara ini. <br>  Kemudian perhatikan bahwa komponen ini <b>adalah fungsi, bukan kelas</b> .  Menarik! <br><br><h2>  Baca dan tulis status </h2><br>  Di dalam fungsi ini, kami memanggil useState untuk membuat variabel dalam status: <br><br><img src="https://habrastorage.org/webt/mw/3n/ti/mw3ntirdvzk3oxyedpzi00q-vv0.png"><br><br>  <b>useState digunakan untuk mendeklarasikan variabel status</b> dan dapat diinisialisasi dengan semua jenis nilai (tidak seperti status dalam kelas, yang harus menjadi objek). <br><br>  Seperti yang terlihat di atas, kami menggunakan destrrukturisasi pada nilai pengembalian useState. <br><ul><li>  Nilai pertama, terang dalam kasus ini, adalah kondisi saat ini (seperti status ini) </li><li>  Nilai kedua adalah fungsi yang digunakan untuk memperbarui nilai status (nilai pertama) (seperti this.setState). </li></ul><br>  Kemudian kita membuat dua fungsi, yang masing-masing menetapkan negara ke nilai yang berbeda, 0 atau 1. <br><br><img src="https://habrastorage.org/webt/ma/sp/lk/masplkqh6lcp33bsywxmhs9zu7g.png"><br><br>  Kemudian kami menerapkannya sebagai penangan acara pada tombol dalam tampilan: <br><br><img src="https://habrastorage.org/webt/bu/6y/ht/bu6yhtzsnm1tory2ro257etb2yi.png"><br><br><h2>  Bereaksi trek negara </h2><br>  Ketika tombol "On" ditekan, fungsi setOn dipanggil, yang memanggil setLight (1).  Memanggil setLight (1) <b>memperbarui nilai cahaya untuk render berikutnya</b> .  Ini mungkin tampak sedikit ajaib, tetapi <b>Bereaksi melacak nilai variabel ini</b> dan akan memberikan nilai baru ketika komponen ini sedang dibuat. <br>  Kemudian kami menggunakan kondisi saat ini ( <b>cahaya</b> ) untuk menentukan apakah lampu harus menyala atau tidak.  Artinya, kami mengatur warna isi SVG tergantung pada nilai <b>cahaya</b> .  Jika cahaya 0 (mati), maka fillColor diatur ke # 000000 (dan jika 1 (aktif), fillColor diatur ke # ffbb73). <br><br><h2>  Beberapa negara </h2><br>  Meskipun kami tidak melakukan ini pada contoh di atas, Anda dapat membuat beberapa status dengan memanggil useState lebih dari sekali.  Sebagai contoh: <br><br><img src="https://habrastorage.org/webt/f6/hc/rt/f6hcrt31natgsnrwwxznmwya2da.png"><br><br><blockquote>  CATATAN <br>  Ada beberapa batasan untuk menggunakan kait yang harus Anda ketahui.  Yang paling penting, Anda hanya boleh memanggil kait di tingkat atas fungsi Anda.  Lihat " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Aturan Hooks</a> " untuk informasi lebih lanjut. </blockquote><br><br><h2>  Contoh penggunaan UseEffect () </h2><br>  <b>UseEffect Hook memungkinkan Anda melakukan efek samping dalam komponen fungsional</b> .  Efek samping dapat termasuk mengakses API, memperbarui DOM, berlangganan event handler - yang Anda inginkan hanyalah tindakan "imperatif" terjadi. <br><br>  Menggunakan kait useEffect (), React tahu bahwa Anda ingin melakukan tindakan tertentu setelah rendering. <br><br>  Mari kita lihat contoh di bawah ini.  Kami akan menggunakan useEffect () untuk memanggil API dan mendapatkan respons. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/d3/s9/wm/d3s9wmjvrllc8z6xfwol0hocesg.png"></a> <br><br>  Contoh kode ini menggunakan <b>useState</b> dan <b>useEffect</b> , dan ini karena kami ingin menulis hasil panggilan API untuk menyatakannya. <br><br><img src="https://habrastorage.org/webt/l_/ro/uh/l_rouhqptfnk3xxxpevplnsg8qm.png"><br><br><h2>  Terima data dan perbarui status </h2><br>  Untuk "menggunakan efek", kita perlu menempatkan tindakan kita di fungsi <b>useEffect</b> , yaitu, kita melewatkan efek "aksi" sebagai fungsi anonim, sebagai argumen pertama yang <b>menggunakanEffect</b> . <br>  Dalam contoh di atas, kami merujuk ke API yang mengembalikan daftar nama.  Ketika <b>respons</b> kembali, kami mengonversinya menjadi JSON, dan kemudian menggunakan <b>setNames (data)</b> untuk mengatur status. <br><br><img src="https://habrastorage.org/webt/jn/2m/a6/jn2ma6v7m2cdiiy6pwxoscgdtsq.png"><br><br><h2>  Masalah Kinerja Saat Menggunakan Efek </h2><br><br>  Namun, ada hal lain yang bisa dikatakan tentang penggunaan <b>useEffect</b> . <br><br>  Hal pertama yang harus dipikirkan adalah bahwa secara default, <b>useEffect</b> kami akan dipanggil pada setiap render!  Berita baiknya adalah kita tidak perlu khawatir tentang data yang sudah ketinggalan zaman, tetapi berita buruknya adalah kita mungkin tidak ingin membuat permintaan HTTP untuk setiap render (seperti dalam kasus ini). <br><br>  Anda dapat melewati efek <b>menggunakan argumen useEffect kedua</b> , seperti dalam kasus ini.  Argumen kedua untuk menggunakan Efek adalah daftar variabel yang ingin kita “amati”, dan kemudian kita akan menjalankan kembali efeknya hanya ketika salah satu dari nilai-nilai ini berubah. <br><br>  Dalam contoh kode di atas, perhatikan bahwa kita melewatkan <b>array kosong</b> sebagai argumen kedua.  Kitalah yang memberi tahu React bahwa kami hanya ingin memberi nama efek ini saat memasang komponen. <br><br><blockquote>  Untuk mempelajari lebih lanjut tentang kinerja efek, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">periksa bagian ini di kertas putih.</a> </blockquote><br>  Selain itu, seperti fungsi useState, useEffect memungkinkan Anda untuk menggunakan beberapa instance, yang berarti Anda dapat memiliki beberapa fungsi useEffect. <br><br><h2>  Contoh hook UseContext () </h2><br>  <b>Titik konteks</b> <br><br>  Konteks dalam Bereaksi adalah cara komponen anak untuk mengakses nilai di komponen induk. <br><br>  Untuk memahami kebutuhan akan konteks: saat membuat aplikasi Bereaksi, Anda sering harus meneruskan nilai dari atas pohon Bereaksi ke bawah.  Dengan tidak menggunakan konteks, Anda melewati alat peraga melalui komponen yang tidak perlu tahu tentang mereka. <br><br>  Melewatkan alat peraga ke bawah pohon komponen "tidak terkait" secara sayang disebut pemboran alat peraga. <br>  Bereaksi Konteks memecahkan masalah pengeboran alat peraga dengan memungkinkan Anda berbagi nilai melalui pohon komponen, dengan komponen apa pun yang meminta nilai-nilai ini. <br><br>  <b>useContext () menyederhanakan penggunaan konteks</b> <br><br>  Dengan useContext Hook, menggunakan konteks lebih mudah dari sebelumnya. <br><br>  Fungsi <b>useContext ()</b> mengambil objek konteks, yang awalnya dikembalikan dari <b>React.createContext ()</b> , dan kemudian mengembalikan nilai konteks saat ini.  Mari kita lihat contoh di bawah ini. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/aa/uh/w6/aauhw6dryv5g7ltu15gake6yu_a.png"></a> <br><br>  Dalam kode di atas, konteks JediContext dibuat menggunakan React.createContext (). <br><br>  Kami menggunakan JediContext.Provider di komponen Aplikasi kami dan menetapkan nilainya ke "Luke" di sana.  Ini berarti bahwa setiap komponen yang perlu mengakses konteks sekarang akan dapat membaca nilai ini. <br><br>  Untuk membaca nilai ini dalam fungsi Display (), kami memanggil useContext, melewati argumen JediContext. <br><br>  Lalu kami melewati objek konteks yang kami dapatkan dari React.createContext, dan secara otomatis menampilkan nilai.  Ketika nilai penyedia diperbarui, Hook ini akan secara otomatis bekerja dengan nilai konteks terakhir. <br><br><h4>  Mendapatkan tautan ke konteks dalam aplikasi yang lebih besar </h4><br>  Di atas, kami membuat JediContext dalam kedua komponen, tetapi dalam aplikasi yang lebih besar, Tampilan dan Aplikasi akan berada dalam file yang berbeda.  Oleh karena itu, jika Anda memiliki situasi yang serupa, Anda mungkin bertanya-tanya: "Bagaimana kita mendapatkan tautan ke JediContext antar file?" <br><br>  Jawabannya adalah Anda perlu <b>membuat file baru yang mengekspor JediContext</b> . <br>  Misalnya, Anda mungkin memiliki file context.js yang berisi sesuatu seperti ini: <br><br><img src="https://habrastorage.org/webt/7p/aj/8g/7paj8gv_3osxvml7qa8figr6jnk.png"><br><br>  dan kemudian di App.js (dan Display.js) Anda harus menulis: <br><br><img src="https://habrastorage.org/webt/3p/sp/f1/3pspf1ab9sgflp2xvfhqn_edcig.png"><br><br>  Terima kasih, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Dave</a> ) <br><br><h3>  UseRef () contoh Hook </h3><br>  Rujukan menyediakan cara untuk mengakses elemen Bereaksi yang dibuat dalam metode render (). <br>  Jika Anda baru <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mengenal</a> React ref, Anda dapat membaca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pengantar React ref</a> . <br>  Fungsi <b>useRef ()</b> mengembalikan objek ref. <br><br><img src="https://habrastorage.org/webt/lx/ti/yw/lxtiywoqga-4a5mynvgtmhc9nhq.png"><br><br><h3>  useRef () dan formulir dengan input </h3><br>  Mari kita lihat contoh menggunakan hook useRef (). <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/kj/5j/kv/kj5jkvt8rawy6g9relz8icq7rks.png"></a> <br><br>  Dalam contoh di atas, kami menggunakan useRef () dalam kombinasi dengan useState () untuk merender nilai input ke tag p. <br><br>  Ref dibuat dalam variabel nameRef.  Kemudian variabel nameRef dapat digunakan dalam input, diberikan sebagai referensi.  Pada dasarnya, ini berarti bahwa sekarang isi bidang input akan dapat diakses melalui referensi. <br><br>  Tombol kirim dalam kode memiliki pengendali event onClick yang disebut submitButton.  Fungsi submitButton memanggil setName (dibuat melalui useState). <br><br>  Seperti yang sudah kita lakukan menggunakan hookState, setName akan digunakan untuk mengatur nama negara.  Untuk mengekstrak nama dari tag input, kita membaca nilai nameRef.current.value. <br><br>  Catatan lain tentang useRef adalah ia dapat digunakan lebih dari atribut ref. <br><br><h3>  Menggunakan Custom Hooks </h3><br>  Salah satu fitur paling keren dari Hooks adalah Anda dapat dengan mudah <b>berbagi logika antara beberapa komponen dengan membuat Hook Anda sendiri.</b> <br><br>  Dalam contoh di bawah ini, kami akan membuat kait <b>setCounter ()</b> kustom yang memungkinkan kami melacak status dan menyediakan fungsi pembaruan status kustom! <br><br><blockquote>  Lihat Juga, this <b>useCounter</b> Hook dari <a href="">use-use</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">useCounter dari Kent</a> </blockquote><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/5j/1t/po/5j1tpoviea-npppg002j2vbyydw.png"></a> <br><br>  Dalam blok kode di atas, kita membuat fungsi useCounter yang menyimpan logika hook kita. <br><br>  Harap dicatat bahwa useCounter dapat menggunakan Hook lain!  Mari kita mulai dengan membuat status Hook baru melalui useState. <br><br>  Kemudian kita mendefinisikan dua fungsi pembantu: <b>kenaikan</b> dan <b>penurunan</b> , yang memanggil <b>setCount</b> dan menyesuaikan jumlah saat ini sesuai. <br><br>  Akhirnya, kami mengembalikan tautan yang diperlukan untuk berinteraksi dengan kait kami. <br><br>  T: Apa yang terjadi, mengembalikan array dengan objek? <br>  A: Ya, seperti kebanyakan hal di Hooks, konvensi API belum lengkap.  Tapi apa yang kita lakukan di sini mengembalikan array, di mana: <br><br><ul><li>  Item pertama adalah nilai hook saat ini. </li><li>  Elemen kedua adalah objek yang berisi fungsi yang digunakan untuk berinteraksi dengan hook. </li></ul><br>  Konvensi ini memungkinkan Anda untuk dengan mudah “mengganti nama” nilai Hook saat ini - seperti yang kami lakukan di atas dengan <b>myCount</b> . <br><br>  Namun, Anda dapat mengembalikan apa pun yang Anda inginkan dari Hook kustom Anda. <br><br>  Dalam contoh di atas, kami menggunakan <b>kenaikan</b> dan <b>penurunan</b> sebagai penangan <b>onClick</b> dalam pandangan kami.  Ketika pengguna menekan tombol, penghitung diperbarui dan ditampilkan kembali (seperti <b>myCount</b> ) dalam tampilan. <br><br><h2>  Tes Penulisan untuk React Hooks </h2><br>  Untuk menulis tes untuk kait, kami akan menggunakan <b>perpustakaan reaksi-pengujian</b> untuk pengujian. <br><br>  <b>Reaksi-pengujian-perpustakaan</b> adalah solusi yang sangat ringan untuk menguji komponen Bereaksi.  Ini adalah perpanjangan dari <b>dom</b> <b>reaksi</b> dan <b>dom</b> <b>reaksi</b> .  Menggunakan <b>perpustakaan pengujian reaksi</b> memastikan bahwa tes Anda bekerja langsung dengan node DOM. <br><br>  Dengan kait penguji, belum semuanya jelas.  Saat ini, Anda tidak dapat menguji hook secara terpisah.  Sebagai gantinya, Anda perlu memasang kait Anda ke komponen dan menguji komponen ini. <br><br>  Jadi, di bawah ini kami akan menulis tes untuk Hooks kami, berinteraksi dengan komponen kami, dan tidak dengan Hooks secara langsung.  Berita baiknya adalah tes kami akan terlihat seperti tes Bereaksi reguler. <br><br><h3>  Pengujian menggunakanState () hook </h3><br>  Mari kita lihat contoh tes menulis untuk <b>useState</b> Hook.  Dalam tutorial di atas, kami menguji lebih banyak variasi dari contoh useState yang digunakan di atas.  Kami akan menulis tes untuk memastikan bahwa menekan tombol "Off" menetapkan negara ke 0 dan menekan tombol "On" menetapkan negara ke 1. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/y4/tc/i7/y4tci7evnak6quqqgjfp1ngdg9m.png"></a> <br><br>  Dalam blok kode di atas, kita mulai dengan mengimpor beberapa pembantu dari <b>perpustakaan pengujian-reaksi</b> dan komponen yang diuji. <br><br><ul><li>  <b>render</b> , ini akan membantu menampilkan komponen kami.  Ini diterjemahkan ke dalam wadah yang ditambahkan ke <b>document.body</b> </li><li>  <b>getByTestId</b> mendapatkan elemen DOM <b>dengan data-testid</b> </li><li>  <b>FireEvent</b> , ini digunakan untuk "memicu" peristiwa DOM.  Ini melampirkan pengendali acara untuk <b>mendokumentasikan</b> dan memproses beberapa acara DOM melalui delegasi acara, misalnya.  dengan mengklik tombol. </li></ul><br>  Lebih lanjut, dalam fungsi persetujuan tes, kami menetapkan nilai variabel untuk elemen dengan <b>data-testid</b> dan nilai-nilai yang ingin kami gunakan dalam tes.  Dengan tautan ke elemen pada DOM, kita dapat menggunakan metode <b>fireEvent</b> untuk mensimulasikan klik pada tombol. <br><br>  Tes memverifikasi bahwa jika <b>onButton</b> ditekan, nilai status diatur ke 1, dan ketika Anda mengklik <b>offButton</b> state adalah 1. <br><br><h3>  Pengujian menggunakanEffect () Hook </h3><br>  Dalam contoh ini, kami akan menulis tes untuk menambahkan produk ke troli menggunakan <b>useEffect</b> Hook.  Jumlah item juga disimpan di Penyimpanan lokal.  File index.js di CodeSandbox di bawah ini berisi logika aktual yang digunakan untuk menambahkan item ke keranjang. <br><br>  Kami akan menulis tes untuk memastikan bahwa pembaruan jumlah item keranjang juga tercermin dalam Penyimpanan lokal, dan bahkan jika halaman memuat ulang, jumlah item keranjang masih sama. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/74/w8/vj/74w8vjaiwkk_okdrqgrgg4s90bc.png"></a> <br><br>  Dalam fungsi konfirmasi pengujian, pertama-tama kita menetapkan <b>cartItem</b> di <b>localStorage</b> ke 0, yang berarti bahwa jumlah item keranjang adalah 0. Kemudian kita mendapatkan <b>kontainer</b> dan <b>rerender</b> dari komponen <b>Aplikasi</b> melalui perusakan.  <b>Rerender</b> memungkinkan kita mensimulasikan pemuatan ulang halaman. <br><br>  Kemudian kita mendapatkan tautan ke tombol dan tag p, yang menampilkan nilai keranjang saat ini dan menetapkannya ke variabel. <br><br>  Setelah ini selesai, tes kemudian mensimulasikan klik pada <b>addButton</b> dan memeriksa apakah penghitung keranjang saat ini adalah 1 dan memuat ulang halaman, setelah itu jika memeriksa apakah <b>penyimpanan lokal</b> , <b>cartItem</b> diatur ke 1. Kemudian mensimulasikan klik pada <b>resetButton</b> dan memeriksa apakah jumlah item keranjang saat ini diatur ke 0. <br><br><h3>  Pengujian menggunakanRef () Hook </h3><br>  Dalam contoh ini, kita akan menguji <b>useRef</b> Hook, dan kita akan menggunakan contoh <b>useRef</b> asli di atas sebagai dasar untuk pengujian.  <b>UseRef</b> digunakan untuk mendapatkan nilai dari bidang input, dan kemudian menetapkan nilai status.  File <b>index.js</b> di <b>CodeSandbox</b> di bawah ini berisi logika untuk memasukkan nilai dan mengirimkannya. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/zu/m4/yu/zum4yuqeeszwservqx8mzj8ypoy.png"></a> <br><br>  Dalam fungsi yang menyetujui pengujian, kami menetapkan variabel di bidang input, tag p yang menampilkan nilai ref saat ini, dan tombol kirim.  Kami juga menetapkan nilai yang ingin kami masukkan di bidang input untuk variabel newName.  Ini akan digunakan untuk verifikasi dalam ujian. <br><br><img src="https://habrastorage.org/webt/pj/gz/jz/pjgzjzqildkkv6tkasce6xy389c.png"><br><br>  Metode fireEvent.change digunakan untuk memasukkan nilai di bidang input, dalam hal ini nama yang disimpan dalam newName konstan digunakan, setelah itu tombol kirim ditekan. <br><br>  Tes kemudian memeriksa untuk melihat apakah nilai ref setelah menekan tombol <b>cocok dengan</b> nilai <b>newName</b> . <br><br>  Akhirnya, Anda akan melihat "Tidak ada tes yang gagal, selamat!"  pesan di konsol. <br><br><h3>  Tanggapan Masyarakat terhadap Pengait </h3><br>  Sejak diperkenalkannya React Hooks, komunitas telah senang dengan fitur ini, dan kami telah melihat <b>banyak</b> contoh dan contoh penggunaan React Hooks.  Inilah beberapa yang utama: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Situs</a> ini berisi koleksi React Hooks. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Reaksi-gunakan</a> , perpustakaan yang dilengkapi dengan sekelompok React Hooks. </li><li>  Contoh <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CodeSandbox</a> ini menunjukkan cara menggunakan useEffect Hook untuk membuat animasi menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">react-spring</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Contoh</a> useMutableReducer yang memungkinkan Anda untuk hanya memutasikan status untuk memperbaruinya dalam peredam. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Contoh ini ada</a> di CodeSandbox, yang menunjukkan penggunaan terintegrasi yang kompleks dari komunikasi orangtua-anak dan penggunaan redisers. </li><li>  React Hooks <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Switch Component</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Koleksi</a> lain <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">React Hooks</a> yang memiliki kait untuk nilai input, orientasi perangkat, dan visibilitas dokumen. </li></ul><br><br><h3>  Berbagai jenis kait </h3><br>  Ada berbagai jenis kait yang dapat Anda gunakan di aplikasi Bereaksi.  Mereka tercantum di bawah ini: <br><br><ul><li>  <b>useState</b> - memungkinkan kita untuk menulis fungsi murni dengan akses untuk menyatakannya. </li><li>  <b>useEffect</b> - memungkinkan kita untuk melakukan efek samping.  Efek samping dapat berupa panggilan API, memperbarui DOM, berlangganan pengendali acara. </li><li>  <b>useContext</b> - memungkinkan Anda untuk menulis fungsi murni dengan konteks di dalamnya. </li><li>  <b>useReducer</b> - memberi kita tautan ke peredam seperti Redux </li><li>  <b>useRef</b> - memungkinkan Anda untuk menulis fungsi-fungsi murni yang mengembalikan objek <b>referensi</b> yang dapat berubah. </li><li> <b>useMemo</b> -      . </li><li> <b>useCallback</b> —  Hook     . </li><li> <b>useImperativeMethods</b> -   ,       ref. </li><li> <b>useMutationEffects</b> —   useEffect Hook   ,     DOM-. </li><li> <b>useLayoutEffect</b> -       DOM   -. </li><li> <b> hooks</b> -        . </li></ul><br><br><h3>  hooks </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hal hebat tentang Hooks adalah mereka bekerja berdampingan dengan kode yang ada, sehingga Anda dapat secara perlahan melakukan perubahan yang mengimplementasikan Hooks. Yang harus Anda lakukan adalah memutakhirkan Bereaksi ke versi yang mendukung kait. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Namun, Hooks masih merupakan fitur eksperimental, dan tim Bereaksi telah berulang kali memperingatkan bahwa API dapat berubah. Anggaplah Anda diperingatkan. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apa arti penampilan kait untuk kelas? Seperti yang dilaporkan tim Bereaksi, kelas-kelasnya masih ada, mereka adalah bagian besar dari basis kode Bereaksi, dan kemungkinan besar akan untuk beberapa waktu mendatang.</font></font><br><br><blockquote>      .  Facebook      ,  , ,    ,     .    React  Hooks,          — <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> </a> </blockquote><br> <b>  API- Hooks   ,    Hooks,   ,      .</b> <br><br><h3>  Sumber Daya Tambahan </h3><br><ul><li>  React      React Hooks,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="></a> </li><li> API    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="></a> . </li><li>    RFC,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="></a> ,       </li></ul><br><br><blockquote> <b>UPD</b> <br>  : <br>      React 16.8   Hooks API.        -: <br> —  useMutationEffect. <br> —  useImperativeMethods  useImperativeHandle. <br> —         useState  useReducer Hooks. <br> —      ,   useEffect/useMemo/useCallback Hooks. <br> —  Object.is     useState  useReducer. <br> —     Strict Mode (DEV-only). <br> —  lazy initialization API  useReducer Hook. <br>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="></a> . <br></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id429712/">https://habr.com/ru/post/id429712/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id429702/index.html">Google Analytics Sinkronisasi Pixel Facebook, VK, Yandex, MyTarget</a></li>
<li><a href="../id429704/index.html">Hubungkan Penyimpanan Multipath LUN ke Windows Server 2008 dan Windows Server 2012</a></li>
<li><a href="../id429706/index.html">A1: 2017 - Suntikan (Bagian 3 dan Terakhir)</a></li>
<li><a href="../id429708/index.html">Bagian dari program HolyJS 2018 Moskow</a></li>
<li><a href="../id429710/index.html">Karbon dioksida pada ISS</a></li>
<li><a href="../id429714/index.html">Lebih mudah daripada MQTT? MQTT / UDP</a></li>
<li><a href="../id429716/index.html">5 game PC terbaik untuk belajar bahasa Inggris</a></li>
<li><a href="../id429718/index.html">Saya ingin semuanya sekaligus! Kami mempelajari RAM HyperX Predator DDR4 RGB, dengan frekuensi 4000 MHz</a></li>
<li><a href="../id429720/index.html">Bagaimana cara pengembang pemula untuk bertahan dalam sebuah wawancara dan tidak menjadi gila di tempat kerja</a></li>
<li><a href="../id429722/index.html">Bagaimana kami melakukan pembayaran melalui Google Pay di Yandex.Cash [diperbarui]</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>