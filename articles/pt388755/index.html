<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèª‚Äç‚úàÔ∏è üë©‚Äçüéì üë¥üèª Esprema a Internet m√°xima das c√©lulas da aldeia üíÉüèΩ ü•Ñ üßõ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nas v√©speras do feriado de Ano Novo, partiu cedo da capital, deixando-a na dire√ß√£o de lugares onde a Internet √© bastante rara. Por um per√≠odo de aus√™n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Esprema a Internet m√°xima das c√©lulas da aldeia</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/388755/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nas v√©speras do feriado de Ano Novo, partiu cedo da capital, deixando-a na dire√ß√£o de lugares onde a Internet √© bastante rara. </font><font style="vertical-align: inherit;">Por um per√≠odo de aus√™ncia no trabalho, prometi que meus parceiros entrassem em contato. </font><font style="vertical-align: inherit;">E como minha ocupa√ß√£o est√° diretamente relacionada √† web, decidi experimentar a disponibilidade da Internet no local planejado da estadia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A ess√™ncia da tarefa era a seguinte:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Consiga uma velocidade de internet confort√°vel.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Distribua a Internet n√£o apenas para voc√™, mas tamb√©m para seu c√¥njuge.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
T√≠nhamos 2 modems, 750 megabytes de Internet paga, 3 laptops, v√°rios telefones e toda uma s√©rie de cart√µes SIM de todos os tipos e cores, um ponto de acesso com o OpenWRT, um hub usb, uma unidade flash e uma antena. </font><font style="vertical-align: inherit;">N√£o que fosse um suprimento necess√°rio para a viagem, mas se voc√™ come√ßar a coletar pe√ßas de ferro, fica dif√≠cil parar. </font><font style="vertical-align: inherit;">A √∫nica coisa que me causou preocupa√ß√£o foi a antena. </font><font style="vertical-align: inherit;">Nada no mundo √© mais desamparado, irrespons√°vel e fraco do que o sinal da antena, passado atrav√©s de um cabo USB de 3 metros. </font><font style="vertical-align: inherit;">Eu sabia que mais cedo ou mais tarde passaremos a esse lixo.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu tive v√°rias solu√ß√µes:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Use meu modem Huawei 5776, depois de comprar uma antena.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Colete mais peda√ßos de ferro e colete algo mais poderoso.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desde que me lembrei muito tarde da possibilidade de conectar uma antena no meu E5776, na verdade n√£o tive a primeira escolha. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dos itens essenciais que eu tinha:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TP-Link TL-WR1043ND com firmware OpenWRT 15.05</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Antena Connect 2.0 (com um cabo usb de 3 metros sem an√©is de ferrite).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hub USB</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para uma imagem completa, me faltava um modem USB, a escolha recaiu sobre o Huawei 3372h.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Montagem do construtor</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu tinha uma porta USB no TP-Link, e ela j√° estava ocupada por uma unidade para o sistema de arquivos raiz, e o fio longo da antena era suspeito. </font><font style="vertical-align: inherit;">Fiquei atormentado com as d√∫vidas de que o ponto de acesso pudesse alimentar o modem atrav√©s de um fio de 3 metros; portanto, conectar-se atrav√©s de um hub USB era a √∫nica solu√ß√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como hub, usei o bom e velho D-Link Dub-104 (um belo e compacto hub com uma fonte de alimenta√ß√£o incrivelmente robusta). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Op√ß√£o intermedi√°ria:</font></font><br>
<br>
<img src="https://habrastorage.org/files/924/481/443/92448144316044468af121b830d2042c.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instalando o software necess√°rio no ponto de acesso</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como est√°vamos indo para uma vila em que todos os telefones mal funcionavam no modo GPRS, decidi instalar todo o software enquanto estava em uma cidade grande, ent√£o o ajustei no m√°ximo para que eu pudesse pegar um m√≠nimo de aventura no local. </font><font style="vertical-align: inherit;">Aprendi o conhecimento sobre ajuste neste artigo: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://wiki.openwrt.org/doc/recipes/3gdongle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="bash hljs">ssh root@&lt; &gt;
</code></pre><br>
<pre><code class="bash hljs">opkg update<font></font>
opkg install comgt kmod-usb-serial kmod-usb-serial-option kmod-usb-serial-wwan usb-modeswitch usb-modeswitch-data<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em geral, depois disso, voc√™ pode tentar inserir um modem e verificar se dispositivos como </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ dev / ttyUSB * apareceram</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">No meu caso, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usb_modeswitch</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fez todo o trabalho e os dispositivos apareceram. </font><font style="vertical-align: inherit;">Se esse n√£o for o seu caso, leia o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artigo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> em </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usb_modeswitch em detalhes</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definir configura√ß√µes de conex√£o</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Defina as op√ß√µes de WAN:</font></font><br>
<br>
<pre><code class="bash hljs">vim /etc/config/network
</code></pre><br>
<pre><code class="bash hljs">config interface <span class="hljs-string"><span class="hljs-string">'wan'</span></span><font></font>
        option device /dev/ttyUSB0<font></font>
        option username <span class="hljs-string"><span class="hljs-string">'gdata'</span></span>
        option password <span class="hljs-string"><span class="hljs-string">'gdata'</span></span>
        option apn <span class="hljs-string"><span class="hljs-string">'internet'</span></span>
        option service <span class="hljs-string"><span class="hljs-string">'umts'</span></span>
        option maxwait <span class="hljs-string"><span class="hljs-string">'0'</span></span>
        option dialnumber <span class="hljs-string"><span class="hljs-string">'*99#'</span></span>
        option proto <span class="hljs-string"><span class="hljs-string">'3g'</span></span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No meu caso, o SIM era do Megaphone, ent√£o os par√¢metros foram selecionados especificamente para ele. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tamb√©m adicionei uma linha em chatscript para ver o n√≠vel do sinal da torre quando conectado:</font></font><br>
<br>
<pre><code class="bash hljs">vim /etc/chatscripts/3g.chat
</code></pre><br>
<pre><code class="bash hljs">ABORT   BUSY<font></font>
ABORT   <span class="hljs-string"><span class="hljs-string">'NO CARRIER'</span></span><font></font>
ABORT   ERROR<font></font>
REPORT  CONNECT<font></font>
TIMEOUT 10<font></font>
<span class="hljs-string"><span class="hljs-string">""</span></span>      <span class="hljs-string"><span class="hljs-string">"AT+CSQ"</span></span>
<span class="hljs-string"><span class="hljs-string">""</span></span>      <span class="hljs-string"><span class="hljs-string">"AT&amp;F"</span></span>
OK      <span class="hljs-string"><span class="hljs-string">"ATE1"</span></span>
OK      <span class="hljs-string"><span class="hljs-string">'AT+CGDCONT=1,"IP","$USE_APN"'</span></span>
SAY     <span class="hljs-string"><span class="hljs-string">"Calling UMTS/GPRS"</span></span><font></font>
TIMEOUT 30<font></font>
OK      <span class="hljs-string"><span class="hljs-string">"ATD</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$DIALNUMBER</span></span></span><span class="hljs-string">"</span></span>
CONNECT <span class="hljs-string"><span class="hljs-string">' '</span></span>
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Liga√ß√£o</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora fazemos </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ifup wan</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , veja o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">logread</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> iii ... Se voc√™ tiver sorte, ver√° algo parecido com isto:</font></font><br>
<br>
<pre><code class="bash hljs">Wed Dec 30 21:47:01 2015 local2.info chat[30352]: CONNECT<font></font>
Wed Dec 30 21:47:01 2015 local2.info chat[30352]:  -- got it<font></font>
Wed Dec 30 21:47:01 2015 local2.info chat[30352]: send ( ^M)<font></font>
Wed Dec 30 21:47:01 2015 daemon.info pppd[30347]: Serial connection established.<font></font>
Wed Dec 30 21:47:01 2015 kern.info kernel: [98634.870000] 3g-wan: renamed from ppp0<font></font>
Wed Dec 30 21:47:01 2015 daemon.info pppd[30347]: Using interface 3g-wan<font></font>
Wed Dec 30 21:47:01 2015 daemon.notice pppd[30347]: Connect: 3g-wan &lt;--&gt; /dev/ttyUSB0<font></font>
Wed Dec 30 21:47:02 2015 daemon.info pppd[30347]: CHAP authentication succeeded: Welcome!!<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se o seu operador Megafone n√£o estiver l√°, siga em frente.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dan√ßando com um pandeiro</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ocorreu </font><font style="vertical-align: inherit;">um erro </font><font style="vertical-align: inherit;">enquanto o modem </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ATD</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> estava executando o comando </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Tendo um pouco de f√≥runs, descobri um recurso interessante do operador Megaphone. </font><font style="vertical-align: inherit;">Em um dos f√≥runs, foi proposto desativar manualmente tudo o que era sup√©rfluo no modem e deixar apenas as fun√ß√µes do pr√≥prio modem e, possivelmente, um cart√£o SD. </font><font style="vertical-align: inherit;">Por outro lado, atualize o modem com firmware de f√°brica (sem marca) (no meu caso, o firmware tamb√©m era do Megaphone). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Surpreendente foi o fato de que, quando conectado a um laptop com Windows, o modem funcionava corretamente. </font><font style="vertical-align: inherit;">Valeu a pena conectar-se ao Linux - recebi um erro. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primeiro, decidi verificar se isso realmente est√° conectado ao megafone. </font><font style="vertical-align: inherit;">Peguei um cart√£o SIM da Tele2 de estoques, aprimorei levemente a configura√ß√£o da conex√£o:</font></font><br>
<br>
<pre><code class="bash hljs">vim /etc/config/network
</code></pre><br>
<pre><code class="bash hljs">config interface <span class="hljs-string"><span class="hljs-string">'wan'</span></span><font></font>
        option device /dev/ttyUSB0<font></font>
        option apn <span class="hljs-string"><span class="hljs-string">'internet.tele2.ru'</span></span>
        option service <span class="hljs-string"><span class="hljs-string">'umts'</span></span>
        option maxwait <span class="hljs-string"><span class="hljs-string">'0'</span></span>
        option dialnumber <span class="hljs-string"><span class="hljs-string">'*99#'</span></span>
        option proto <span class="hljs-string"><span class="hljs-string">'3g'</span></span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
III, funcionou. </font><font style="vertical-align: inherit;">Imediatamente. </font><font style="vertical-align: inherit;">Ok, vamos primeiro da maneira mais simples e desligamos todo o excesso no modem:</font></font><br>
<br>
<pre><code class="bash hljs">ssh root@&lt; &gt;
</code></pre><br>
<pre><code class="bash hljs">picocom -b 9600 -f n -p n -d 8 -r /dev/ttyUSB1<font></font>
at^setport=<span class="hljs-string"><span class="hljs-string">"ff;10,12,16,a2"</span></span> 
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sa√≠mos da combina√ß√£o: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CTRL + A + X</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Agora desative o usb_modeswitch como desnecess√°rio:</font></font><br>
<br>
<pre><code class="bash hljs">/etc/init.d/usbmode stop<font></font>
/etc/init.d/usbmode <span class="hljs-built_in"><span class="hljs-built_in">disable</span></span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ligamos o modem, esperamos at√© ele inicializar e aumentamos a interface wan:</font></font><br>
<br>
<pre><code class="bash hljs">ifup wan
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No meu caso, tudo funcionou agora. </font><font style="vertical-align: inherit;">Viva!</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Otimiza√ß√£o</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O ajuste inicial foi realizado sem conectar uma antena, agora era interessante ver se haveria algum efeito nela. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Intensidade do sinal sem antena:</font></font><br>
<br>
<pre><code class="bash hljs">gcom sig -d /dev/ttyUSB1<font></font>
Signal Quality: 15,99<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E agora com a antena:</font></font><br>
<br>
<pre><code class="bash hljs">gcom sig -d /dev/ttyUSB1<font></font>
Signal Quality: 21,99<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parecia t√£o legal que senti uma pegadinha. </font><font style="vertical-align: inherit;">E realmente havia um problema. </font><font style="vertical-align: inherit;">Foi uma descoberta para mim que um bom sinal de uma esta√ß√£o base n√£o significa nada. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Abaixo os pings para a primeira e a segunda op√ß√µes: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1.</font></font><pre><code class="bash hljs">root@OpenWrt:~<span class="hljs-comment"><span class="hljs-comment"># ping 8.8.8.8</span></span><font></font>
PING 8.8.8.8 (8.8.8.8): 56 data bytes<font></font>
64 bytes from 8.8.8.8: seq=0 ttl=44 time=986.652 ms<font></font>
64 bytes from 8.8.8.8: seq=1 ttl=44 time=327.628 ms<font></font>
64 bytes from 8.8.8.8: seq=2 ttl=44 time=246.212 ms<font></font>
64 bytes from 8.8.8.8: seq=3 ttl=44 time=265.568 ms<font></font>
64 bytes from 8.8.8.8: seq=4 ttl=44 time=285.271 ms<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2) </font></font><pre><code class="bash hljs">64 bytes from 8.8.8.8: seq=233 ttl=45 time=1567.306 ms<font></font>
64 bytes from 8.8.8.8: seq=234 ttl=45 time=1126.106 ms<font></font>
64 bytes from 8.8.8.8: seq=235 ttl=45 time=569.993 ms<font></font>
64 bytes from 8.8.8.8: seq=236 ttl=45 time=1403.010 ms<font></font>
64 bytes from 8.8.8.8: seq=237 ttl=45 time=428.891 ms<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E aqui um novo mundo maravilhoso de comunica√ß√µes m√≥veis se abriu para mim. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Descobri que meu modem suporta a varredura da √°rea em busca de esta√ß√µes base, e n√£o necessariamente o operador cujo cart√£o SIM est√° instalado dentro dela. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso foi feito com o seguinte comando:</font></font><br>
<br>
<pre><code class="bash hljs">AT^NETSCAN=20,-110,1
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - quantas torres produzir√£o </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-110</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - o n√≠vel m√≠nimo de sinal √© </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0/1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 0 - 2G, 1 - 3G. </font><font style="vertical-align: inherit;">Com o LTE at√© agora. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A lista √© classificada pela intensidade do sinal e fica assim:</font></font><br>
<br>
<pre><code class="bash hljs">^NETSCAN: 10638,,,1e7e,250,02,0,-78,8b77,400000<font></font>
^NETSCAN: 10687,,,1e7e,250,02,0,-79,d5c8,400000<font></font>
^NETSCAN: 10662,,,1e7e,250,02,0,-82,8ade,400000<font></font>
^NETSCAN: 10587,,,4cf8,250,20,0,-105,d4fc,400000<font></font>
^NETSCAN: 10563,,,4cf8,250,20,0,-106,d4f9,400000<font></font>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1e7e</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - esta√ß√£o LAC </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">250</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - MCC (Russo) </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">02</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - MNC (neste caso - MTS) </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-78</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - sinal de n√≠vel de esta√ß√£o de base </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8b77</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - esta√ß√£o CID </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">400,000</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - num intervalo no qual o sinal recebido pela esta√ß√£o de base (como no time ^ syscfgex) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora Com esses dados, voc√™ pode acessar o site </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://xinit.ru/bs/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e ver onde essas torres est√£o localizadas em rela√ß√£o a si mesmas.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como regra, se houver uma antena direcional, ela dever√° ser enviada para a esta√ß√£o base mais pr√≥xima - pensei que sim. Ent√£o a pr√≥xima descoberta me esperava. Mesmo se enviarmos uma antena, isso est√° longe do fato de que o registro ocorrer√° nesta esta√ß√£o base. E, se o fizer, n√£o √© fato que a taxa de transfer√™ncia de dados ser√° maior do que atrav√©s de uma torre localizada duas vezes mais longe dela. Ent√£o, caminhei at√© as esta√ß√µes mais pr√≥ximas, num raio de 1,5 km a 3, e todas elas, com um bom sinal, transmitiram dados com um longo atraso. O ping teve uma m√©dia de ~ 300ms. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao experimentar, acidentalmente cheguei √† torre, que ficava a uma dist√¢ncia de 6-7 quil√¥metros de mim. Depois de conectado, o tempo de ping caiu para ~ 90ms, apesar do n√≠vel do sinal cair com ele. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para compara√ß√£o, o n√≠vel de sinal de: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
torres pr√≥ximas: 13-20</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
da torre remota: 5-12 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(as medi√ß√µes foram realizadas pelo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">utilit√°rio gcom sig -d / dev / ttyUSB1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , em que o valor pode ser um d√≠gito de 0 a 99). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, realizei testes de velocidade na melhor torre pr√≥xima e na remota, os resultados: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
uma das esta√ß√µes mais pr√≥ximas - 2 / 0,35 Mbit. </font></font><br>
<br>
<img src="https://habrastorage.org/files/802/071/2b2/8020712b29aa4d06bdbc6ad7057e1a9f.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta√ß√£o remota - 4.28 / 1.68 Mbps. </font></font><br>
<br>
<img src="https://habrastorage.org/files/6fe/338/b9c/6fe338b9caf34f6ab07bc971e269d37b.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Honestamente, fiquei impressionado com dois megabits tamb√©m. </font><font style="vertical-align: inherit;">ao usar um telefone comum, mesmo o Google Play Market n√£o foi aberto. </font><font style="vertical-align: inherit;">E aqui, ao que parece, voc√™ ainda pode acelerar para 4!</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sum√°rio</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tais resultados foram suficientes para mim. Deixei a antena para olhar na dire√ß√£o da torre mais distante, esperando sempre manter contato com ela, mas minhas esperan√ßas eram ing√™nuas. Um problema novo e ainda n√£o resolvido surgiu. Consiste no fato de que, de tempos em tempos, h√° registro em outra esta√ß√£o base, mesmo se estiver localizada na dire√ß√£o oposta em rela√ß√£o √† dire√ß√£o da antena. Nesses momentos, os atrasos na transfer√™ncia de dados aumentam, e ainda n√£o descobri como superar isso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na Internet, uma pergunta como: ‚Äúo modem pode indicar com qual torre trabalhar‚Äù √© respondida que voc√™ n√£o escolhe a torre, mas √© voc√™. Talvez pessoas com conhecimento lhe digam se existem solu√ß√µes para tais situa√ß√µes? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso √© tudo. Obrigado a todos que leram at√© o fim. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, Simon Beeline chegou, suas torres est√£o mais pr√≥ximas de n√≥s e depois de conectar o teste de velocidade mostrou at√© 20/2 Megabits. </font><font style="vertical-align: inherit;">Trago a configura√ß√£o para o Beeline:</font></font><br>
<br>
<pre><code class="bash hljs">vim /etc/config/network
</code></pre><br>
<pre><code class="bash hljs">config interface <span class="hljs-string"><span class="hljs-string">'wan'</span></span><font></font>
        option device /dev/ttyUSB0<font></font>
        option username <span class="hljs-string"><span class="hljs-string">'beeline'</span></span>
        option password <span class="hljs-string"><span class="hljs-string">'beeline'</span></span>
        option apn <span class="hljs-string"><span class="hljs-string">'internet.beeline.ru'</span></span>
        option service <span class="hljs-string"><span class="hljs-string">'umts'</span></span>
        option maxwait <span class="hljs-string"><span class="hljs-string">'0'</span></span>
        option dialnumber <span class="hljs-string"><span class="hljs-string">'*99#'</span></span>
        option proto <span class="hljs-string"><span class="hljs-string">'3g'</span></span>
</code></pre><br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recursos utilizados</font></font></h5><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">W3bsit3-dns.com.ru </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wiki.openwrt.org </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xinit.ru/bs/</font></font></a></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt388755/">https://habr.com/ru/post/pt388755/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt388741/index.html">–§–∞—Ä–∫—É–Ω—Å—Ç</a></li>
<li><a href="../pt388743/index.html">Nos 20 anos de IPv6, seu suporte se espalhou para 10% dos dispositivos</a></li>
<li><a href="../pt388745/index.html">Empresa da Calif√≥rnia desenvolve tecnologia de impress√£o 3D de alta resist√™ncia em cer√¢mica</a></li>
<li><a href="../pt388749/index.html">–ü–æ—Ç—Ä–∞—Ç–∏—Ç—å $5900 –≤–æ —Ñ—Ä–∏–º–∏—É–º –∏–≥—Ä—É—à–∫–µ? –ù–µ –ø—Ä–æ–±–ª–µ–º–∞</a></li>
<li><a href="../pt388751/index.html">Abrasivo contempor√¢neo [Voice over Vert Dider]</a></li>
<li><a href="../pt388757/index.html">Todos os 2015 lan√ßamentos de foguetes em um v√≠deo</a></li>
<li><a href="../pt388759/index.html">As profiss√µes do futuro est√£o chegando para n√≥s.</a></li>
<li><a href="../pt388763/index.html">Recuperando dados de 200 disquetes de propriedade do criador de Star Trek</a></li>
<li><a href="../pt388765/index.html">Moov Now: um rastreador de fitness que incentiva o propriet√°rio a ser ativo</a></li>
<li><a href="../pt388769/index.html">Tesla Model S queimado em uma esta√ß√£o de carregamento r√°pido na Noruega</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>