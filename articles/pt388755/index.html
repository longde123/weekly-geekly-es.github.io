<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏻‍✈️ 👩‍🎓 👴🏻 Esprema a Internet máxima das células da aldeia 💃🏽 🥄 🧛</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nas vésperas do feriado de Ano Novo, partiu cedo da capital, deixando-a na direção de lugares onde a Internet é bastante rara. Por um período de ausên...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Esprema a Internet máxima das células da aldeia</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/388755/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nas vésperas do feriado de Ano Novo, partiu cedo da capital, deixando-a na direção de lugares onde a Internet é bastante rara. </font><font style="vertical-align: inherit;">Por um período de ausência no trabalho, prometi que meus parceiros entrassem em contato. </font><font style="vertical-align: inherit;">E como minha ocupação está diretamente relacionada à web, decidi experimentar a disponibilidade da Internet no local planejado da estadia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A essência da tarefa era a seguinte:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Consiga uma velocidade de internet confortável.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Distribua a Internet não apenas para você, mas também para seu cônjuge.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tínhamos 2 modems, 750 megabytes de Internet paga, 3 laptops, vários telefones e toda uma série de cartões SIM de todos os tipos e cores, um ponto de acesso com o OpenWRT, um hub usb, uma unidade flash e uma antena. </font><font style="vertical-align: inherit;">Não que fosse um suprimento necessário para a viagem, mas se você começar a coletar peças de ferro, fica difícil parar. </font><font style="vertical-align: inherit;">A única coisa que me causou preocupação foi a antena. </font><font style="vertical-align: inherit;">Nada no mundo é mais desamparado, irresponsável e fraco do que o sinal da antena, passado através de um cabo USB de 3 metros. </font><font style="vertical-align: inherit;">Eu sabia que mais cedo ou mais tarde passaremos a esse lixo.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu tive várias soluções:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Use meu modem Huawei 5776, depois de comprar uma antena.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Colete mais pedaços de ferro e colete algo mais poderoso.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desde que me lembrei muito tarde da possibilidade de conectar uma antena no meu E5776, na verdade não tive a primeira escolha. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dos itens essenciais que eu tinha:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TP-Link TL-WR1043ND com firmware OpenWRT 15.05</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Antena Connect 2.0 (com um cabo usb de 3 metros sem anéis de ferrite).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hub USB</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para uma imagem completa, me faltava um modem USB, a escolha recaiu sobre o Huawei 3372h.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Montagem do construtor</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu tinha uma porta USB no TP-Link, e ela já estava ocupada por uma unidade para o sistema de arquivos raiz, e o fio longo da antena era suspeito. </font><font style="vertical-align: inherit;">Fiquei atormentado com as dúvidas de que o ponto de acesso pudesse alimentar o modem através de um fio de 3 metros; portanto, conectar-se através de um hub USB era a única solução. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como hub, usei o bom e velho D-Link Dub-104 (um belo e compacto hub com uma fonte de alimentação incrivelmente robusta). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Opção intermediária:</font></font><br>
<br>
<img src="https://habrastorage.org/files/924/481/443/92448144316044468af121b830d2042c.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instalando o software necessário no ponto de acesso</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como estávamos indo para uma vila em que todos os telefones mal funcionavam no modo GPRS, decidi instalar todo o software enquanto estava em uma cidade grande, então o ajustei no máximo para que eu pudesse pegar um mínimo de aventura no local. </font><font style="vertical-align: inherit;">Aprendi o conhecimento sobre ajuste neste artigo: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://wiki.openwrt.org/doc/recipes/3gdongle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="bash hljs">ssh root@&lt; &gt;
</code></pre><br>
<pre><code class="bash hljs">opkg update<font></font>
opkg install comgt kmod-usb-serial kmod-usb-serial-option kmod-usb-serial-wwan usb-modeswitch usb-modeswitch-data<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em geral, depois disso, você pode tentar inserir um modem e verificar se dispositivos como </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ dev / ttyUSB * apareceram</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">No meu caso, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usb_modeswitch</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fez todo o trabalho e os dispositivos apareceram. </font><font style="vertical-align: inherit;">Se esse não for o seu caso, leia o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artigo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> em </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usb_modeswitch em detalhes</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definir configurações de conexão</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Defina as opções de WAN:</font></font><br>
<br>
<pre><code class="bash hljs">vim /etc/config/network
</code></pre><br>
<pre><code class="bash hljs">config interface <span class="hljs-string"><span class="hljs-string">'wan'</span></span><font></font>
        option device /dev/ttyUSB0<font></font>
        option username <span class="hljs-string"><span class="hljs-string">'gdata'</span></span>
        option password <span class="hljs-string"><span class="hljs-string">'gdata'</span></span>
        option apn <span class="hljs-string"><span class="hljs-string">'internet'</span></span>
        option service <span class="hljs-string"><span class="hljs-string">'umts'</span></span>
        option maxwait <span class="hljs-string"><span class="hljs-string">'0'</span></span>
        option dialnumber <span class="hljs-string"><span class="hljs-string">'*99#'</span></span>
        option proto <span class="hljs-string"><span class="hljs-string">'3g'</span></span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No meu caso, o SIM era do Megaphone, então os parâmetros foram selecionados especificamente para ele. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Também adicionei uma linha em chatscript para ver o nível do sinal da torre quando conectado:</font></font><br>
<br>
<pre><code class="bash hljs">vim /etc/chatscripts/3g.chat
</code></pre><br>
<pre><code class="bash hljs">ABORT   BUSY<font></font>
ABORT   <span class="hljs-string"><span class="hljs-string">'NO CARRIER'</span></span><font></font>
ABORT   ERROR<font></font>
REPORT  CONNECT<font></font>
TIMEOUT 10<font></font>
<span class="hljs-string"><span class="hljs-string">""</span></span>      <span class="hljs-string"><span class="hljs-string">"AT+CSQ"</span></span>
<span class="hljs-string"><span class="hljs-string">""</span></span>      <span class="hljs-string"><span class="hljs-string">"AT&amp;F"</span></span>
OK      <span class="hljs-string"><span class="hljs-string">"ATE1"</span></span>
OK      <span class="hljs-string"><span class="hljs-string">'AT+CGDCONT=1,"IP","$USE_APN"'</span></span>
SAY     <span class="hljs-string"><span class="hljs-string">"Calling UMTS/GPRS"</span></span><font></font>
TIMEOUT 30<font></font>
OK      <span class="hljs-string"><span class="hljs-string">"ATD</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$DIALNUMBER</span></span></span><span class="hljs-string">"</span></span>
CONNECT <span class="hljs-string"><span class="hljs-string">' '</span></span>
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ligação</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora fazemos </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ifup wan</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , veja o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">logread</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> iii ... Se você tiver sorte, verá algo parecido com isto:</font></font><br>
<br>
<pre><code class="bash hljs">Wed Dec 30 21:47:01 2015 local2.info chat[30352]: CONNECT<font></font>
Wed Dec 30 21:47:01 2015 local2.info chat[30352]:  -- got it<font></font>
Wed Dec 30 21:47:01 2015 local2.info chat[30352]: send ( ^M)<font></font>
Wed Dec 30 21:47:01 2015 daemon.info pppd[30347]: Serial connection established.<font></font>
Wed Dec 30 21:47:01 2015 kern.info kernel: [98634.870000] 3g-wan: renamed from ppp0<font></font>
Wed Dec 30 21:47:01 2015 daemon.info pppd[30347]: Using interface 3g-wan<font></font>
Wed Dec 30 21:47:01 2015 daemon.notice pppd[30347]: Connect: 3g-wan &lt;--&gt; /dev/ttyUSB0<font></font>
Wed Dec 30 21:47:02 2015 daemon.info pppd[30347]: CHAP authentication succeeded: Welcome!!<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se o seu operador Megafone não estiver lá, siga em frente.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dançando com um pandeiro</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ocorreu </font><font style="vertical-align: inherit;">um erro </font><font style="vertical-align: inherit;">enquanto o modem </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ATD</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> estava executando o comando </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Tendo um pouco de fóruns, descobri um recurso interessante do operador Megaphone. </font><font style="vertical-align: inherit;">Em um dos fóruns, foi proposto desativar manualmente tudo o que era supérfluo no modem e deixar apenas as funções do próprio modem e, possivelmente, um cartão SD. </font><font style="vertical-align: inherit;">Por outro lado, atualize o modem com firmware de fábrica (sem marca) (no meu caso, o firmware também era do Megaphone). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Surpreendente foi o fato de que, quando conectado a um laptop com Windows, o modem funcionava corretamente. </font><font style="vertical-align: inherit;">Valeu a pena conectar-se ao Linux - recebi um erro. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primeiro, decidi verificar se isso realmente está conectado ao megafone. </font><font style="vertical-align: inherit;">Peguei um cartão SIM da Tele2 de estoques, aprimorei levemente a configuração da conexão:</font></font><br>
<br>
<pre><code class="bash hljs">vim /etc/config/network
</code></pre><br>
<pre><code class="bash hljs">config interface <span class="hljs-string"><span class="hljs-string">'wan'</span></span><font></font>
        option device /dev/ttyUSB0<font></font>
        option apn <span class="hljs-string"><span class="hljs-string">'internet.tele2.ru'</span></span>
        option service <span class="hljs-string"><span class="hljs-string">'umts'</span></span>
        option maxwait <span class="hljs-string"><span class="hljs-string">'0'</span></span>
        option dialnumber <span class="hljs-string"><span class="hljs-string">'*99#'</span></span>
        option proto <span class="hljs-string"><span class="hljs-string">'3g'</span></span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
III, funcionou. </font><font style="vertical-align: inherit;">Imediatamente. </font><font style="vertical-align: inherit;">Ok, vamos primeiro da maneira mais simples e desligamos todo o excesso no modem:</font></font><br>
<br>
<pre><code class="bash hljs">ssh root@&lt; &gt;
</code></pre><br>
<pre><code class="bash hljs">picocom -b 9600 -f n -p n -d 8 -r /dev/ttyUSB1<font></font>
at^setport=<span class="hljs-string"><span class="hljs-string">"ff;10,12,16,a2"</span></span> 
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saímos da combinação: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CTRL + A + X</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Agora desative o usb_modeswitch como desnecessário:</font></font><br>
<br>
<pre><code class="bash hljs">/etc/init.d/usbmode stop<font></font>
/etc/init.d/usbmode <span class="hljs-built_in"><span class="hljs-built_in">disable</span></span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ligamos o modem, esperamos até ele inicializar e aumentamos a interface wan:</font></font><br>
<br>
<pre><code class="bash hljs">ifup wan
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No meu caso, tudo funcionou agora. </font><font style="vertical-align: inherit;">Viva!</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Otimização</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O ajuste inicial foi realizado sem conectar uma antena, agora era interessante ver se haveria algum efeito nela. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Intensidade do sinal sem antena:</font></font><br>
<br>
<pre><code class="bash hljs">gcom sig -d /dev/ttyUSB1<font></font>
Signal Quality: 15,99<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E agora com a antena:</font></font><br>
<br>
<pre><code class="bash hljs">gcom sig -d /dev/ttyUSB1<font></font>
Signal Quality: 21,99<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parecia tão legal que senti uma pegadinha. </font><font style="vertical-align: inherit;">E realmente havia um problema. </font><font style="vertical-align: inherit;">Foi uma descoberta para mim que um bom sinal de uma estação base não significa nada. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Abaixo os pings para a primeira e a segunda opções: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1.</font></font><pre><code class="bash hljs">root@OpenWrt:~<span class="hljs-comment"><span class="hljs-comment"># ping 8.8.8.8</span></span><font></font>
PING 8.8.8.8 (8.8.8.8): 56 data bytes<font></font>
64 bytes from 8.8.8.8: seq=0 ttl=44 time=986.652 ms<font></font>
64 bytes from 8.8.8.8: seq=1 ttl=44 time=327.628 ms<font></font>
64 bytes from 8.8.8.8: seq=2 ttl=44 time=246.212 ms<font></font>
64 bytes from 8.8.8.8: seq=3 ttl=44 time=265.568 ms<font></font>
64 bytes from 8.8.8.8: seq=4 ttl=44 time=285.271 ms<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2) </font></font><pre><code class="bash hljs">64 bytes from 8.8.8.8: seq=233 ttl=45 time=1567.306 ms<font></font>
64 bytes from 8.8.8.8: seq=234 ttl=45 time=1126.106 ms<font></font>
64 bytes from 8.8.8.8: seq=235 ttl=45 time=569.993 ms<font></font>
64 bytes from 8.8.8.8: seq=236 ttl=45 time=1403.010 ms<font></font>
64 bytes from 8.8.8.8: seq=237 ttl=45 time=428.891 ms<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E aqui um novo mundo maravilhoso de comunicações móveis se abriu para mim. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Descobri que meu modem suporta a varredura da área em busca de estações base, e não necessariamente o operador cujo cartão SIM está instalado dentro dela. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso foi feito com o seguinte comando:</font></font><br>
<br>
<pre><code class="bash hljs">AT^NETSCAN=20,-110,1
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - quantas torres produzirão </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-110</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - o nível mínimo de sinal é </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0/1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 0 - 2G, 1 - 3G. </font><font style="vertical-align: inherit;">Com o LTE até agora. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A lista é classificada pela intensidade do sinal e fica assim:</font></font><br>
<br>
<pre><code class="bash hljs">^NETSCAN: 10638,,,1e7e,250,02,0,-78,8b77,400000<font></font>
^NETSCAN: 10687,,,1e7e,250,02,0,-79,d5c8,400000<font></font>
^NETSCAN: 10662,,,1e7e,250,02,0,-82,8ade,400000<font></font>
^NETSCAN: 10587,,,4cf8,250,20,0,-105,d4fc,400000<font></font>
^NETSCAN: 10563,,,4cf8,250,20,0,-106,d4f9,400000<font></font>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1e7e</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - estação LAC </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">250</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - MCC (Russo) </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">02</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - MNC (neste caso - MTS) </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-78</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - sinal de nível de estação de base </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8b77</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - estação CID </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">400,000</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - num intervalo no qual o sinal recebido pela estação de base (como no time ^ syscfgex) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora Com esses dados, você pode acessar o site </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://xinit.ru/bs/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e ver onde essas torres estão localizadas em relação a si mesmas.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como regra, se houver uma antena direcional, ela deverá ser enviada para a estação base mais próxima - pensei que sim. Então a próxima descoberta me esperava. Mesmo se enviarmos uma antena, isso está longe do fato de que o registro ocorrerá nesta estação base. E, se o fizer, não é fato que a taxa de transferência de dados será maior do que através de uma torre localizada duas vezes mais longe dela. Então, caminhei até as estações mais próximas, num raio de 1,5 km a 3, e todas elas, com um bom sinal, transmitiram dados com um longo atraso. O ping teve uma média de ~ 300ms. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao experimentar, acidentalmente cheguei à torre, que ficava a uma distância de 6-7 quilômetros de mim. Depois de conectado, o tempo de ping caiu para ~ 90ms, apesar do nível do sinal cair com ele. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para comparação, o nível de sinal de: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
torres próximas: 13-20</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
da torre remota: 5-12 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(as medições foram realizadas pelo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">utilitário gcom sig -d / dev / ttyUSB1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , em que o valor pode ser um dígito de 0 a 99). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, realizei testes de velocidade na melhor torre próxima e na remota, os resultados: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
uma das estações mais próximas - 2 / 0,35 Mbit. </font></font><br>
<br>
<img src="https://habrastorage.org/files/802/071/2b2/8020712b29aa4d06bdbc6ad7057e1a9f.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estação remota - 4.28 / 1.68 Mbps. </font></font><br>
<br>
<img src="https://habrastorage.org/files/6fe/338/b9c/6fe338b9caf34f6ab07bc971e269d37b.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Honestamente, fiquei impressionado com dois megabits também. </font><font style="vertical-align: inherit;">ao usar um telefone comum, mesmo o Google Play Market não foi aberto. </font><font style="vertical-align: inherit;">E aqui, ao que parece, você ainda pode acelerar para 4!</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sumário</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tais resultados foram suficientes para mim. Deixei a antena para olhar na direção da torre mais distante, esperando sempre manter contato com ela, mas minhas esperanças eram ingênuas. Um problema novo e ainda não resolvido surgiu. Consiste no fato de que, de tempos em tempos, há registro em outra estação base, mesmo se estiver localizada na direção oposta em relação à direção da antena. Nesses momentos, os atrasos na transferência de dados aumentam, e ainda não descobri como superar isso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na Internet, uma pergunta como: “o modem pode indicar com qual torre trabalhar” é respondida que você não escolhe a torre, mas é você. Talvez pessoas com conhecimento lhe digam se existem soluções para tais situações? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso é tudo. Obrigado a todos que leram até o fim. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Então, Simon Beeline chegou, suas torres estão mais próximas de nós e depois de conectar o teste de velocidade mostrou até 20/2 Megabits. </font><font style="vertical-align: inherit;">Trago a configuração para o Beeline:</font></font><br>
<br>
<pre><code class="bash hljs">vim /etc/config/network
</code></pre><br>
<pre><code class="bash hljs">config interface <span class="hljs-string"><span class="hljs-string">'wan'</span></span><font></font>
        option device /dev/ttyUSB0<font></font>
        option username <span class="hljs-string"><span class="hljs-string">'beeline'</span></span>
        option password <span class="hljs-string"><span class="hljs-string">'beeline'</span></span>
        option apn <span class="hljs-string"><span class="hljs-string">'internet.beeline.ru'</span></span>
        option service <span class="hljs-string"><span class="hljs-string">'umts'</span></span>
        option maxwait <span class="hljs-string"><span class="hljs-string">'0'</span></span>
        option dialnumber <span class="hljs-string"><span class="hljs-string">'*99#'</span></span>
        option proto <span class="hljs-string"><span class="hljs-string">'3g'</span></span>
</code></pre><br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recursos utilizados</font></font></h5><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">W3bsit3-dns.com.ru </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wiki.openwrt.org </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xinit.ru/bs/</font></font></a></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt388755/">https://habr.com/ru/post/pt388755/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt388741/index.html">Фаркунст</a></li>
<li><a href="../pt388743/index.html">Nos 20 anos de IPv6, seu suporte se espalhou para 10% dos dispositivos</a></li>
<li><a href="../pt388745/index.html">Empresa da Califórnia desenvolve tecnologia de impressão 3D de alta resistência em cerâmica</a></li>
<li><a href="../pt388749/index.html">Потратить $5900 во фримиум игрушке? Не проблема</a></li>
<li><a href="../pt388751/index.html">Abrasivo contemporâneo [Voice over Vert Dider]</a></li>
<li><a href="../pt388757/index.html">Todos os 2015 lançamentos de foguetes em um vídeo</a></li>
<li><a href="../pt388759/index.html">As profissões do futuro estão chegando para nós.</a></li>
<li><a href="../pt388763/index.html">Recuperando dados de 200 disquetes de propriedade do criador de Star Trek</a></li>
<li><a href="../pt388765/index.html">Moov Now: um rastreador de fitness que incentiva o proprietário a ser ativo</a></li>
<li><a href="../pt388769/index.html">Tesla Model S queimado em uma estação de carregamento rápido na Noruega</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>