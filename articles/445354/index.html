<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>久쀮잺 游뱣游낕 游뱜 Encontrar objetos en im치genes 游띲 游뚤 游</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nos dedicamos a la compra de tr치fico de Adwords (una plataforma publicitaria de Google). Una de las tareas habituales en esta 치rea es la creaci칩n de n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Encontrar objetos en im치genes</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/joom/blog/445354/"><p>  Nos dedicamos a la compra de tr치fico de Adwords (una plataforma publicitaria de Google).  Una de las tareas habituales en esta 치rea es la creaci칩n de nuevos banners.  Las pruebas muestran que los banners pierden efectividad con el tiempo, a medida que los usuarios se acostumbran al banner;  Las estaciones y las tendencias est치n cambiando.  Adem치s, tenemos el objetivo de capturar diferentes nichos de audiencia, y los banners con un objetivo espec칤fico funcionan mejor. </p><br><p>  En relaci칩n con la entrada en nuevos pa칤ses, surgi칩 el problema de la localizaci칩n de pancartas.  Para cada banner, debe crear versiones en diferentes idiomas y con diferentes monedas.  Puede pedirles a los dise침adores que hagan esto, pero este trabajo manual agregar치 una carga adicional a un recurso ya escaso. </p><br><p>  Parece una tarea f치cil de automatizar.  Para hacer esto, es suficiente crear un programa que imponga en el banner en blanco un precio localizado para la "etiqueta de precio" y un llamado a la acci칩n (una frase como "comprar ahora") en el bot칩n.  Si imprimir texto en una imagen es lo suficientemente simple, entonces determinar d칩nde debe colocarlo no siempre es trivial.  Peppercorns agrega que el bot칩n viene en diferentes colores y tiene una forma ligeramente diferente. </p><br><p>  Este art칤culo est치 dedicado a: 쯖칩mo encontrar el objeto especificado en la imagen?  Se resolver치n los m칠todos populares;  츼reas de aplicaci칩n, caracter칤sticas, pros y contras.  Los m칠todos anteriores se pueden usar para otros fines: desarrollar programas para c치maras de seguridad, automatizaci칩n de pruebas de IU y similares.  Las dificultades descritas se pueden encontrar en otras tareas, y los m칠todos utilizados se pueden utilizar para otros fines.  Por ejemplo, el Canny Edge Detector se usa a menudo para preprocesar im치genes, y la cantidad de puntos clave se puede usar para evaluar la "complejidad" visual de una imagen. </p><br><p>  Espero que las soluciones descritas repongan su arsenal de herramientas y trucos para resolver problemas. </p><br><p><img src="https://habrastorage.org/webt/2q/_t/fm/2q_tfmvffjyb1i9k_dlczqceoha.png"></p><a name="habracut"></a><br><p>  El c칩digo est치 en Python 3.6 ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">repositorio</a> );  Se requiere la biblioteca OpenCV.  Se espera que el lector comprenda los conceptos b치sicos de 치lgebra lineal y visi칩n por computadora. </p><br><p>  Nos centraremos en encontrar el bot칩n en s칤.  Recordaremos sobre encontrar etiquetas de precio (ya que encontrar un rect치ngulo tambi칠n se puede resolver de manera m치s simple), pero om칤talo, ya que la soluci칩n se ver치 de la misma manera. </p><br><h1 id="template-matching">  Coincidencia de plantillas </h1><br><p>  El primer pensamiento que viene a la mente es 쯣or qu칠 no elegir y encontrar en la imagen la regi칩n que es m치s similar al bot칩n en t칠rminos de diferencia de color de p칤xeles?  Esto es lo que hace que la coincidencia de plantillas sea un m칠todo basado en encontrar espacio en la imagen que sea m치s similar a la plantilla.  La "similitud" de una imagen est치 definida por una m칠trica espec칤fica.  Es decir, la plantilla se "superpone" en la imagen, y se considera la discrepancia entre la imagen y la plantilla.  La posici칩n de la plantilla en la que esta discrepancia ser치 m칤nima e indicar치 la ubicaci칩n del objeto deseado. </p><br><p>  Puede usar diferentes opciones como m칠trica, por ejemplo, la suma de las diferencias al cuadrado entre una plantilla y una imagen (suma de las diferencias al cuadrado, SSD), o usar la correlaci칩n cruzada (CCORR).  Sea <em>fyg</em> la imagen y el patr칩n con dimensiones <em>(k, l)</em> y <em>(m, n),</em> respectivamente (ignoraremos los canales de color por ahora);  <em>i, j</em> : posici칩n en la imagen a la que "adjuntamos" la plantilla. </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-4"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-5" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D </font></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-6" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mo" id="MJXp-Span-8"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-9"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">j</font></font></span></span></span><span class="MJXp-mo" id="MJXp-Span-10" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font></span><font style="vertical-align: inherit;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12"><font style="vertical-align: inherit;">s </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-13"><font style="vertical-align: inherit;">u </font></span><span class="MJXp-msubsup" id="MJXp-Span-14"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-15" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">m </font></span></span><span class="MJXp-msubsup" id="MJXp-Span-14"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-16" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-17"><font style="vertical-align: inherit;">a </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-14"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-16" style="vertical-align: -0.4em;"><span class="MJXp-mo" id="MJXp-Span-18"><font style="vertical-align: inherit;">= </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-14"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-16" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-19"><font style="vertical-align: inherit;">0 .. </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-14"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-16" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-20"><font style="vertical-align: inherit;">m </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-14"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-16" style="vertical-align: -0.4em;"><span class="MJXp-mo" id="MJXp-Span-21"><font style="vertical-align: inherit;">, </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-14"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-16" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-22"><font style="vertical-align: inherit;">b </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-14"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-16" style="vertical-align: -0.4em;"><span class="MJXp-mo" id="MJXp-Span-23"><font style="vertical-align: inherit;">= </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-14"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-16" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-24"><font style="vertical-align: inherit;">0 .. </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-14"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-16" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25"><font style="vertical-align: inherit;">n</font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-mo" id="MJXp-Span-27" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"> ( </font></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-msubsup" id="MJXp-Span-28"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-29" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">f </font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-msubsup" id="MJXp-Span-28"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-30" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31"><font style="vertical-align: inherit;">i </font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-msubsup" id="MJXp-Span-28"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-30" style="vertical-align: -0.4em;"><span class="MJXp-mo" id="MJXp-Span-32"><font style="vertical-align: inherit;">+ </font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-msubsup" id="MJXp-Span-28"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-30" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-33"><font style="vertical-align: inherit;">a </font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-msubsup" id="MJXp-Span-28"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-30" style="vertical-align: -0.4em;"><span class="MJXp-mo" id="MJXp-Span-34"><font style="vertical-align: inherit;">, </font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-msubsup" id="MJXp-Span-28"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-30" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35"><font style="vertical-align: inherit;">j </font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-msubsup" id="MJXp-Span-28"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-30" style="vertical-align: -0.4em;"><span class="MJXp-mo" id="MJXp-Span-36"><font style="vertical-align: inherit;">+ </font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-msubsup" id="MJXp-Span-28"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-30" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-37"><font style="vertical-align: inherit;">b</font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-mo" id="MJXp-Span-38" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"> - </font></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-msubsup" id="MJXp-Span-39"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-40" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">g </font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-msubsup" id="MJXp-Span-39"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-41" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42"><font style="vertical-align: inherit;">a </font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-msubsup" id="MJXp-Span-39"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-41" style="vertical-align: -0.4em;"><span class="MJXp-mo" id="MJXp-Span-43"><font style="vertical-align: inherit;">, </font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-msubsup" id="MJXp-Span-39"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-41" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44"><font style="vertical-align: inherit;">b</font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-msubsup" id="MJXp-Span-45"><span class="MJXp-mo" id="MJXp-Span-46" style="margin-left: 0em; margin-right: 0.05em;"><font style="vertical-align: inherit;"> ) </font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-msubsup" id="MJXp-Span-45"><span class="MJXp-mn MJXp-script" id="MJXp-Span-47" style="vertical-align: 0.5em;"><font style="vertical-align: inherit;">2</font></span></span></span></font><span class="MJXp-mtext" id="MJXp-Span-11">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-13"><font style="vertical-align: inherit;"></font></span><span class="MJXp-msubsup" id="MJXp-Span-14"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-15" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-16" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-17"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-18"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mn" id="MJXp-Span-19"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-20"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-21"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-22"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-23"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mn" id="MJXp-Span-24"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25"><font style="vertical-align: inherit;"></font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-mo" id="MJXp-Span-27" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-msubsup" id="MJXp-Span-28"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-29" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-30" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-32"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-33"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-34"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-36"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-37"><font style="vertical-align: inherit;"></font></span></span></span><span class="MJXp-mo" id="MJXp-Span-38" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-msubsup" id="MJXp-Span-39"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-40" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-41" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-43"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44"><font style="vertical-align: inherit;"></font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-45"><span class="MJXp-mo" id="MJXp-Span-46" style="margin-left: 0em; margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-47" style="vertical-align: 0.5em;"><font style="vertical-align: inherit;"></font></span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="42.005ex" height="3.142ex" viewBox="0 -987.6 18085.2 1352.7" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-53" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-53" x="645" y="0"></use><g transform="translate(1291,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-44" x="0" y="0"></use><g transform="translate(828,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2C" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-6A" x="624" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-3D" x="3230" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-73" x="4536" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-75" x="5005" y="0"></use><g transform="translate(5578,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-3D" x="529" y="0"></use><g transform="translate(924,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-30"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2E" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2E" x="779" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-6D" x="2365" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2C" x="3243" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-62" x="3522" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-3D" x="3951" y="0"></use><g transform="translate(3344,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-30"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2E" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2E" x="779" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-6E" x="5787" y="0"></use></g></g><g transform="translate(11074,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-28" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-66" x="0" y="0"></use><g transform="translate(490,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2B" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-61" x="1124" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2C" x="1653" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-6A" x="1932" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2B" x="2344" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-62" x="3123" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2212" x="3714" y="0"></use><g transform="translate(4714,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-67" x="0" y="0"></use><g transform="translate(477,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2C" x="529" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-62" x="808" y="0"></use></g></g><g transform="translate(6167,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-32" x="550" y="583"></use></g></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> SSD_ {i, j} = \ sum_ {a = 0..m, b = 0..n} {(f_ {i + a, j + b} - g_ {a, b}) ^ 2} </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-48"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-49">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-51">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52">R</span><span class="MJXp-msubsup" id="MJXp-Span-53"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54" style="margin-right: 0.05em;">R</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-55" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-56">i</span><span class="MJXp-mo" id="MJXp-Span-57">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58">j</span></span></span><span class="MJXp-mo" id="MJXp-Span-59" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-60">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-61">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-62">u</span><span class="MJXp-msubsup" id="MJXp-Span-63"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-64" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-65" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-66">a</span><span class="MJXp-mo" id="MJXp-Span-67">=</span><span class="MJXp-mn" id="MJXp-Span-68">0..</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-69">m</span><span class="MJXp-mo" id="MJXp-Span-70">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71">b</span><span class="MJXp-mo" id="MJXp-Span-72">=</span><span class="MJXp-mn" id="MJXp-Span-73">0..</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-74">n</span></span></span><span class="MJXp-mrow" id="MJXp-Span-75"><span class="MJXp-mo" id="MJXp-Span-76" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-77"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-78" style="margin-right: 0.05em;">f</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-79" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80">i</span><span class="MJXp-mo" id="MJXp-Span-81">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82">a</span><span class="MJXp-mo" id="MJXp-Span-83">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-84">j</span><span class="MJXp-mo" id="MJXp-Span-85">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-86">b</span></span></span><span class="MJXp-mtext" id="MJXp-Span-87">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-90">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-91">t</span><span class="MJXp-msubsup" id="MJXp-Span-92"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-93" style="margin-right: 0.05em;">g</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-94" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-95">a</span><span class="MJXp-mo" id="MJXp-Span-96">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-97">b</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-98"><span class="MJXp-mo" id="MJXp-Span-99" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-100" style="vertical-align: 0.5em;">2</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="47.846ex" height="3.142ex" viewBox="0 -987.6 20600.3 1352.7" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-43" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-43" x="760" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-4F" x="1521" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-52" x="2284" y="0"></use><g transform="translate(3044,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-52" x="0" y="0"></use><g transform="translate(759,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2C" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-6A" x="624" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-3D" x="4914" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-73" x="6220" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-75" x="6689" y="0"></use><g transform="translate(7262,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-3D" x="529" y="0"></use><g transform="translate(924,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-30"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2E" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2E" x="779" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-6D" x="2365" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2C" x="3243" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-62" x="3522" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-3D" x="3951" y="0"></use><g transform="translate(3344,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-30"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2E" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2E" x="779" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-6E" x="5787" y="0"></use></g></g><g transform="translate(12758,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-28" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-66" x="0" y="0"></use><g transform="translate(490,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2B" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-61" x="1124" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2C" x="1653" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-6A" x="1932" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2B" x="2344" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-62" x="3123" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-63" x="3741" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-64" x="4175" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-6F" x="4698" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-74" x="5184" y="0"></use><g transform="translate(5545,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-67" x="0" y="0"></use><g transform="translate(477,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2C" x="529" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-62" x="808" y="0"></use></g></g><g transform="translate(6998,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-32" x="550" y="583"></use></g></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-2"> CCORR_ {i, j} = \ sum_ {a = 0..m, b = 0..n} {(f_ {i + a, j + b} \ cdot g_ {a, b}) ^ 2} </script></p><br><p>  Intentemos aplicar la diferencia de cuadrados para encontrar un gatito <br><img src="https://habrastorage.org/webt/yl/jh/rs/yljhrsjvvk02qqkppdp7tameuei.png"></p><br><p>  En la foto <br><img src="https://habrastorage.org/webt/e6/rl/er/e6rleromcb4st7cpxuisl9qsk-i.png"></p><br><p>  (Fotograf칤a tomada de PETA Caring for Cats). </p><br><p>  La imagen de la izquierda es el valor m칠trico de la similitud del lugar en la imagen con la plantilla (es decir, los valores de SSD para diferentes i, j).  El 치rea oscura es el lugar donde la diferencia es m칤nima.  Este es un puntero al lugar que m치s se parece a una plantilla; en la imagen de la derecha, este lugar est치 rodeado. </p><br><p><img src="https://habrastorage.org/webt/6b/fe/fb/6bfefbafbzjwe710fa4yoqjvuay.png"><img src="https://habrastorage.org/webt/nn/hl/wq/nnhlwqagheaudmhfnvxk6mbwfxu.png"></p><br><p>  La correlaci칩n cruzada es en realidad una convoluci칩n de dos im치genes.  Las convoluciones se pueden implementar r치pidamente utilizando la r치pida transformaci칩n de Fourier.  Seg칰n el teorema de convoluci칩n, despu칠s de la transformada de Fourier, la convoluci칩n se convierte en una simple multiplicaci칩n por elementos: </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-101"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-102">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-103">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-104">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-105">R</span><span class="MJXp-msubsup" id="MJXp-Span-106"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-107" style="margin-right: 0.05em;">R</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-108" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-109">i</span><span class="MJXp-mo" id="MJXp-Span-110">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-111">j</span></span></span><span class="MJXp-mo" id="MJXp-Span-112" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-113">f</span><span class="MJXp-mtext" id="MJXp-Span-114">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-115">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-116">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-118">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-120">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-121">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-122">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-123">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-125">g</span><span class="MJXp-mo" id="MJXp-Span-126" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-127">I</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-128">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-129">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-130">T</span><span class="MJXp-mo" id="MJXp-Span-131" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-132">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-134">T</span><span class="MJXp-mo" id="MJXp-Span-135" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-136">f</span><span class="MJXp-mtext" id="MJXp-Span-137">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-138">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-139">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-141">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-142">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-143">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-144">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-145">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-147">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-148">g</span><span class="MJXp-mo" id="MJXp-Span-149" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-150" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-151" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-152">I</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-153">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-154">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-155">T</span><span class="MJXp-mo" id="MJXp-Span-156" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-157">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-158">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-159">T</span><span class="MJXp-mo" id="MJXp-Span-160" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-161">f</span><span class="MJXp-mo" id="MJXp-Span-162" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-163">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-164">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-165">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-166">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-167">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-168">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-169">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-170">T</span><span class="MJXp-mo" id="MJXp-Span-171" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-172">g</span><span class="MJXp-mo" id="MJXp-Span-173" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-174" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="90.193ex" height="2.78ex" viewBox="0 -832 38833.1 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-43" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-43" x="760" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-4F" x="1521" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-52" x="2284" y="0"></use><g transform="translate(3044,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-52" x="0" y="0"></use><g transform="translate(759,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2C" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-6A" x="624" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-3D" x="4914" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-66" x="5970" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-63" x="6770" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-69" x="7204" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-72" x="7549" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-63" x="8001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-6C" x="8434" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-65" x="8733" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-64" x="9199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-61" x="9723" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-73" x="10252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-74" x="10722" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-67" x="11083" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-3D" x="11842" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-49" x="12898" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-46" x="13403" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-46" x="14152" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-54" x="14902" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-28" x="15606" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-46" x="15996" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-46" x="16745" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-54" x="17495" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-28" x="18199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-66" x="18589" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-63" x="19389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-69" x="19823" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-72" x="20168" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-63" x="20620" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-6C" x="21053" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-65" x="21352" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-64" x="21818" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-61" x="22342" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-73" x="22871" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-74" x="23341" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-67" x="23702" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-29" x="24183" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-29" x="24572" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-3D" x="25239" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-49" x="26296" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-46" x="26800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-46" x="27550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-54" x="28299" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-28" x="29004" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-46" x="29393" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-46" x="30143" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-54" x="30892" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-28" x="31597" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-66" x="31986" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-29" x="32537" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-63" x="33176" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-64" x="33610" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-6F" x="34133" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-74" x="34619" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-46" x="34980" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-46" x="35730" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-54" x="36479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-28" x="37184" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-67" x="37573" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-29" x="38054" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-29" x="38443" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-3"> CCORR_ {i, j} = f \ circledast g = IFFT (FFT (f \ circledast g)) = IFFT (FFT (f) \ cdot FFT (g)) </script></p><br><p>  Donde <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-175"><span class="MJXp-mtext" id="MJXp-Span-176">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-177">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-178">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-179">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-180">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-181">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-182">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-183">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-184">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-185">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-186">t</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.598ex" height="2.057ex" viewBox="0 -780.1 4563 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-69" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-72" x="1029" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-63" x="1480" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-6C" x="1914" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-65" x="2212" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-64" x="2679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-61" x="3202" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-73" x="3732" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-74" x="4201" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> \ circledast </script>  - operador de convoluci칩n.  De esta forma podemos calcular r치pidamente la correlaci칩n cruzada.  Esto proporciona la complejidad general de <em>O (kllog (kl) + mnlog (mn))</em> , frente a <em>O (klmn)</em> cuando se implementa de frente.  El cuadrado de la diferencia tambi칠n se puede realizar mediante convoluci칩n, ya que despu칠s de abrir los corchetes se convertir치 en la diferencia entre la suma de los cuadrados de los valores de p칤xeles de la imagen y la correlaci칩n cruzada: </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-187"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-188">S</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">S</span><span class="MJXp-msubsup" id="MJXp-Span-190"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-191" style="margin-right: 0.05em;">D</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-192" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-193">i</span><span class="MJXp-mo" id="MJXp-Span-194">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-195">j</span></span></span><span class="MJXp-mo" id="MJXp-Span-196" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-197">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-198">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-199">u</span><span class="MJXp-msubsup" id="MJXp-Span-200"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-201" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-202" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-203">a</span><span class="MJXp-mo" id="MJXp-Span-204">=</span><span class="MJXp-mn" id="MJXp-Span-205">0..</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-206">m</span><span class="MJXp-mo" id="MJXp-Span-207">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-208">b</span><span class="MJXp-mo" id="MJXp-Span-209">=</span><span class="MJXp-mn" id="MJXp-Span-210">0..</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-211">n</span></span></span><span class="MJXp-mrow" id="MJXp-Span-212"><span class="MJXp-mo" id="MJXp-Span-213" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-214"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-215" style="margin-right: 0.05em;">f</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-216" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-217">i</span><span class="MJXp-mo" id="MJXp-Span-218">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-219">a</span><span class="MJXp-mo" id="MJXp-Span-220">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-221">j</span><span class="MJXp-mo" id="MJXp-Span-222">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-223">b</span></span></span><span class="MJXp-mo" id="MJXp-Span-224" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-msubsup" id="MJXp-Span-225"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-226" style="margin-right: 0.05em;">g</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-227" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-228">a</span><span class="MJXp-mo" id="MJXp-Span-229">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-230">b</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-231"><span class="MJXp-mo" id="MJXp-Span-232" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-233" style="vertical-align: 0.5em;">2</span></span></span><span class="MJXp-mo" id="MJXp-Span-234" style="margin-left: 0.333em; margin-right: 0.333em;">=</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="44.458ex" height="3.142ex" viewBox="0 -987.6 19141.5 1352.7" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-53" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-53" x="645" y="0"></use><g transform="translate(1291,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-44" x="0" y="0"></use><g transform="translate(828,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2C" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-6A" x="624" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-3D" x="3230" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-73" x="4536" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-75" x="5005" y="0"></use><g transform="translate(5578,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-3D" x="529" y="0"></use><g transform="translate(924,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-30"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2E" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2E" x="779" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-6D" x="2365" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2C" x="3243" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-62" x="3522" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-3D" x="3951" y="0"></use><g transform="translate(3344,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-30"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2E" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2E" x="779" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-6E" x="5787" y="0"></use></g></g><g transform="translate(11074,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-28" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-66" x="0" y="0"></use><g transform="translate(490,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2B" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-61" x="1124" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2C" x="1653" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-6A" x="1932" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2B" x="2344" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-62" x="3123" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2212" x="3714" y="0"></use><g transform="translate(4714,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-67" x="0" y="0"></use><g transform="translate(477,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-2C" x="529" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMATHI-62" x="808" y="0"></use></g></g><g transform="translate(6167,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-32" x="550" y="583"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhie7WR7XYUyHqo4Y6kWLHyM1ypeKQ#MJMAIN-3D" x="18362" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-5"> SSD_ {i, j} = \ sum_ {a = 0..m, b = 0..n} {(f_ {i + a, j + b} - g_ {a, b}) ^ 2} = </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-235"><span class="MJXp-mo" id="MJXp-Span-236" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-237">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-238">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-239">u</span><span class="MJXp-msubsup" id="MJXp-Span-240"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-241" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-242" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-243">a</span><span class="MJXp-mo" id="MJXp-Span-244">=</span><span class="MJXp-mn" id="MJXp-Span-245">0..</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-246">m</span><span class="MJXp-mo" id="MJXp-Span-247">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-248">b</span><span class="MJXp-mo" id="MJXp-Span-249">=</span><span class="MJXp-mn" id="MJXp-Span-250">0..</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-251">n</span></span></span><span class="MJXp-mrow" id="MJXp-Span-252"><span class="MJXp-msubsup" id="MJXp-Span-253"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-254" style="margin-right: 0.05em;">f</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-263">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-255"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-256">i</span><span class="MJXp-mo" id="MJXp-Span-257">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-258">a</span><span class="MJXp-mo" id="MJXp-Span-259">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-260">j</span><span class="MJXp-mo" id="MJXp-Span-261">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-262">b</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-264" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-265">2</span><span class="MJXp-msubsup" id="MJXp-Span-266"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-267" style="margin-right: 0.05em;">f</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-268" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-269">i</span><span class="MJXp-mo" id="MJXp-Span-270">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-271">a</span><span class="MJXp-mo" id="MJXp-Span-272">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-273">j</span><span class="MJXp-mo" id="MJXp-Span-274">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-275">b</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-276"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-277" style="margin-right: 0.05em;">g</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-278" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-279">a</span><span class="MJXp-mo" id="MJXp-Span-280">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-281">b</span></span></span><span class="MJXp-mo" id="MJXp-Span-282" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-283"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-284" style="margin-right: 0.05em;">g</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-289">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-285"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-286">a</span><span class="MJXp-mo" id="MJXp-Span-287">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-288">b</span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-290" style="margin-left: 0.333em; margin-right: 0.333em;">=</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-6"> = \ sum_ {a = 0..m, b = 0..n} {f_ {i + a, j + b} ^ 2 - 2 f_ {i + a, j + b} g_ {a, b} + g_ {a, b} ^ 2} = </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-291"><span class="MJXp-mo" id="MJXp-Span-292" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-293">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-294">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-295">u</span><span class="MJXp-msubsup" id="MJXp-Span-296"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-297" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-298" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-299">a</span><span class="MJXp-mo" id="MJXp-Span-300">=</span><span class="MJXp-mn" id="MJXp-Span-301">0..</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-302">m</span><span class="MJXp-mo" id="MJXp-Span-303">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-304">b</span><span class="MJXp-mo" id="MJXp-Span-305">=</span><span class="MJXp-mn" id="MJXp-Span-306">0..</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-307">n</span></span></span><span class="MJXp-mrow" id="MJXp-Span-308"><span class="MJXp-msubsup" id="MJXp-Span-309"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-310" style="margin-right: 0.05em;">f</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-319">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-311"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-312">i</span><span class="MJXp-mo" id="MJXp-Span-313">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-314">a</span><span class="MJXp-mo" id="MJXp-Span-315">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-316">j</span><span class="MJXp-mo" id="MJXp-Span-317">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-318">b</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-320" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-321"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-322" style="margin-right: 0.05em;">g</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-327">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-323"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-324">a</span><span class="MJXp-mo" id="MJXp-Span-325">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-326">b</span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-328" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-329">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-330">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-331">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-332">O</span><span class="MJXp-msubsup" id="MJXp-Span-333"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-334" style="margin-right: 0.05em;">R</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-335" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-336">i</span><span class="MJXp-mo" id="MJXp-Span-337">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-338">j</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-7"> = \ sum_ {a = 0..m, b = 0..n} {f_ {i + a, j + b} ^ 2 + g_ {a, b} ^ 2} - 2CCOR_ {i, j} </script></p><br><p>  Los detalles se pueden ver en esta <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">presentaci칩n</a> . </p><br><p>  Pasemos a la implementaci칩n.  Afortunadamente, los colegas del departamento de Intel de Nizhny Novgorod se encargaron de nosotros al crear la biblioteca OpenCV, que ya implementa una b칰squeda de una plantilla utilizando el m칠todo matchTemplate (por cierto, utiliza la implementaci칩n FFT, aunque esto no se menciona en la documentaci칩n), utilizando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">diferentes m칠tricas de discrepancia</a> : </p><br><ul><li>  CV_TM_SQDIFF: la suma de los cuadrados de la diferencia en valores de p칤xeles </li><li>  CV_TM_SQDIFF_NORMED: la suma del cuadrado de las diferencias de color, normalizado al rango 0..1. </li><li>  CV_TM_CCORR: la suma de los productos elemento por elemento de la plantilla y el segmento de imagen </li><li>  CV_TM_CCORR_NORMED: la suma del elemento funciona, normalizada al rango -1..1. </li><li>  CV_TM_CCOEFF: correlaci칩n cruzada de im치genes sin promedio </li><li>  CV_TM_CCOEFF_NORMED - correlaci칩n cruzada entre im치genes sin un promedio, normalizado a -1..1 (correlaci칩n de Pearson) </li></ul><br><p>  Los usaremos para encontrar un gatito: </p><br><p><img src="https://habrastorage.org/webt/y8/8f/vi/y88fviifqz-jleg9frdobcnyh9s.png"></p><br><p>  Se puede ver que solo TM_CCORR no hizo frente a su tarea.  Esto es comprensible: dado que es un producto escalar, el mayor valor de esta m칠trica ser치 al comparar una plantilla con un rect치ngulo blanco. </p><br><p>  Puede notar que estas m칠tricas requieren una coincidencia de patr칩n de p칤xel por p칤xel en la imagen deseada.  Cualquier desviaci칩n de gamma, luz o tama침o dar치 como resultado que los m칠todos no funcionen.  Perm칤tame recordarle que este es exactamente nuestro caso: los botones pueden ser de diferentes tama침os y colores. </p><br><p>  El problema de los diferentes colores y luces se puede resolver aplicando un filtro de detecci칩n de bordes.  Este m칠todo solo deja informaci칩n sobre d칩nde en la imagen hubo cambios bruscos de color.  Apliquemos Canny Edge Detector (lo analizaremos un poco m치s) a los botones de diferentes colores y brillo.  A la izquierda est치n los banners originales, y a la derecha est치 el resultado de aplicar el filtro Canny. </p><br><p><img src="https://habrastorage.org/webt/bi/dq/wq/bidqwqba0as5nqgbcfkxgkkibvu.png"></p><br><p>  En nuestro caso, tambi칠n hay un problema de diferentes tama침os, pero ya se ha resuelto.  La transformaci칩n logar칤tmica polar transforma una imagen en un espacio en el que el zoom y la rotaci칩n aparecer치n como un desplazamiento.  Usando esta transformaci칩n, podemos restaurar la escala y el 치ngulo.  Despu칠s de eso, al escalar y rotar la plantilla, puede encontrar la posici칩n de la plantilla en la imagen original.  Tambi칠n puede usar FFT a lo largo de este procedimiento, como se describe en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Una t칠cnica basada</a> en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">FFT para traducci칩n, rotaci칩n y registro de imagen invariante a escala</a> .  En la literatura, el caso se considera cuando los patrones horizontales y verticales se cambian proporcionalmente, mientras que el factor de escala var칤a dentro de l칤mites peque침os (2.0 ... 0.8).  Desafortunadamente, cambiar el tama침o de un bot칩n puede ser grande y desproporcionado, lo que puede conducir a un resultado incorrecto. </p><br><p>  Aplicamos la construcci칩n resultante (filtro Canny, restaurando solo la escala a trav칠s de la transformaci칩n logar칤tmica polar, obteniendo la posici칩n mediante la b칰squeda del lugar con la m칤nima discrepancia cuadr치tica), para encontrar el bot칩n en tres im치genes.  Utilizaremos el bot칩n amarillo grande como plantilla: </p><br><p><img src="https://habrastorage.org/webt/lb/07/vf/lb07vfkchqexignjqteoi7iilek.png"></p><br><p>  Al mismo tiempo, los botones en los banners ser치n de diferentes tipos, colores y tama침os: </p><br><p><img src="https://habrastorage.org/webt/nz/wv/mj/nzwvmjpywnjdcicgjk1r7qinq5q.png"></p><br><p>  En el caso de cambiar el tama침o del bot칩n, el m칠todo no funcion칩 correctamente.  Esto se debe al hecho de que el m칠todo implica cambiar el tama침o de los botones en la misma cantidad de veces, tanto horizontal como verticalmente.  Sin embargo, este no es siempre el caso.  En la imagen de la derecha, el tama침o del bot칩n no ha cambiado verticalmente, pero horizontalmente ha disminuido considerablemente.  Si el cambio de tama침o es demasiado grande, las distorsiones causadas por la transformaci칩n logar칤tmica polar hacen que la b칰squeda sea inestable.  En este sentido, el m칠todo no pudo detectar el bot칩n en el tercer caso. </p><br><h1 id="keypoint-detection">  Detecci칩n de puntos clave </h1><br><p>  Puede intentar un enfoque diferente: en lugar de buscar el bot칩n completo, busquemos sus partes t칤picas, por ejemplo, las esquinas del bot칩n o los elementos del borde (hay un trazo decorativo a lo largo del contorno del bot칩n).  Parece que encontrar esquinas y un borde es m치s f치cil, ya que estos son objetos peque침os (y por lo tanto simples).  Lo que se encuentra entre las cuatro esquinas y el borde ser치 un bot칩n.  La clase de m칠todos para encontrar puntos clave se denomina "detecci칩n de puntos clave", y los algoritmos para comparar y buscar im치genes utilizando puntos clave se denominan "coincidencia de puntos clave".  La b칰squeda de un patr칩n en una imagen se reduce a aplicar un algoritmo para detectar puntos clave en un patr칩n y una imagen, y comparar los puntos clave de un patr칩n y una imagen. </p><br><p>  Por lo general, los "puntos clave" se encuentran autom치ticamente al encontrar p칤xeles cuyo entorno tiene ciertas propiedades.  Se inventaron muchos m칠todos y criterios para encontrarlos.  Todos estos algoritmos son heur칤sticos que encuentran algunos elementos caracter칤sticos de la imagen, por regla general: 치ngulos o cambios bruscos de color.  Un buen detector deber칤a funcionar r치pidamente y ser resistente a las transformaciones de la imagen (al cambiar la imagen, los puntos clave no deben dejar de estar / moverse). </p><br><h2 id="harris-corner-detector">  Detector de esquina Harris </h2><br><p>  Uno de los algoritmos m치s b치sicos es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el detector de esquina Harris</a> .  Para la imagen (en adelante consideramos que estamos operando con "intensidad", una imagen traducida a escala de grises), trata de encontrar puntos en los alrededores de los cuales las diferencias de intensidad son mayores que un cierto umbral.  El algoritmo se ve as칤: </p><br><ol><li><p>  De intensidad <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-339"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-340">I</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-8"> I </script>  son derivados a lo largo de los ejes x e y ( <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-341"><span class="MJXp-msubsup" id="MJXp-Span-342"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-343" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-344" style="vertical-align: -0.4em;">x</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-9"> I_x </script>  y <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-345"><span class="MJXp-msubsup" id="MJXp-Span-346"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-347" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-348" style="vertical-align: -0.4em;">y</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-10"> I_y </script>  respectivamente).  Se pueden encontrar, por ejemplo, aplicando el filtro Sobel. </p><br></li><li><p>  Para un p칤xel, considere el cuadrado <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-349"><span class="MJXp-msubsup" id="MJXp-Span-350"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-351" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-352" style="vertical-align: -0.4em;">x</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-11"> I_x </script>  plaza <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-353"><span class="MJXp-msubsup" id="MJXp-Span-354"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-355" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-356" style="vertical-align: -0.4em;">y</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-12"> I_y </script>  y funciona <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-357"><span class="MJXp-msubsup" id="MJXp-Span-358"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-359" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-360" style="vertical-align: -0.4em;">x</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-13"> I_x </script>  y <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-361"><span class="MJXp-msubsup" id="MJXp-Span-362"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-363" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-364" style="vertical-align: -0.4em;">y</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-14"> I_y </script>  .  Algunas fuentes los etiquetan como <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-365"><span class="MJXp-msubsup" id="MJXp-Span-366"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-367" style="margin-right: 0.05em;">I</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-368" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-369">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-370">x</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-15"> I_ {xx} </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-371"><span class="MJXp-msubsup" id="MJXp-Span-372"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-373" style="margin-right: 0.05em;">I</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-374" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-375">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-376">y</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-16"> I_ {xy} </script>  y <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-377"><span class="MJXp-msubsup" id="MJXp-Span-378"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-379" style="margin-right: 0.05em;">I</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-380" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-381">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-382">y</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-17"> I_ {xy} </script>  - lo cual no agrega claridad, ya que uno podr칤a pensar que estas son las segundas derivadas de la intensidad (y esto no es as칤). </p><br></li><li><p>  Para cada p칤xel, consideramos las sumas en un vecindario determinado (m치s de 1 p칤xel) con las siguientes caracter칤sticas: </p><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-383"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-384">A</span><span class="MJXp-mo" id="MJXp-Span-385" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-386">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-387">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-388">u</span><span class="MJXp-msubsup" id="MJXp-Span-389"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-390" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-391" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-392">x</span><span class="MJXp-mo" id="MJXp-Span-393">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-394">y</span></span></span><span class="MJXp-mrow" id="MJXp-Span-395"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-396">w</span><span class="MJXp-mo" id="MJXp-Span-397" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-398">x</span><span class="MJXp-mo" id="MJXp-Span-399" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-400">y</span><span class="MJXp-mo" id="MJXp-Span-401" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-402"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-403" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-404" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-msubsup" id="MJXp-Span-405"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-406" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-407" style="vertical-align: -0.4em;">x</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-18"> A = \ sum_ {x, y} {w (x, y) I_xI_x} </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-408"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-409">B</span><span class="MJXp-mo" id="MJXp-Span-410" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-411">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-412">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-413">u</span><span class="MJXp-msubsup" id="MJXp-Span-414"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-415" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-416" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-417">x</span><span class="MJXp-mo" id="MJXp-Span-418">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-419">y</span></span></span><span class="MJXp-mrow" id="MJXp-Span-420"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-421">w</span><span class="MJXp-mo" id="MJXp-Span-422" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-423">x</span><span class="MJXp-mo" id="MJXp-Span-424" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-425">y</span><span class="MJXp-mo" id="MJXp-Span-426" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-427"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-428" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-429" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-msubsup" id="MJXp-Span-430"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-431" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-432" style="vertical-align: -0.4em;">y</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-19"> B = \ sum_ {x, y} {w (x, y) I_xI_y} </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-433"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-434">C</span><span class="MJXp-mo" id="MJXp-Span-435" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-436">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-437">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-438">u</span><span class="MJXp-msubsup" id="MJXp-Span-439"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-440" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-441" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-442">x</span><span class="MJXp-mo" id="MJXp-Span-443">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-444">y</span></span></span><span class="MJXp-mrow" id="MJXp-Span-445"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-446">w</span><span class="MJXp-mo" id="MJXp-Span-447" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-448">x</span><span class="MJXp-mo" id="MJXp-Span-449" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-450">y</span><span class="MJXp-mo" id="MJXp-Span-451" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-452"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-453" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-454" style="vertical-align: -0.4em;">y</span></span><span class="MJXp-msubsup" id="MJXp-Span-455"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-456" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-457" style="vertical-align: -0.4em;">y</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-20"> C = \ sum_ {x, y} {w (x, y) I_yI_y} </script></p><br>  Al igual que en la detecci칩n de plantillas, este procedimiento para ventanas grandes se puede llevar a cabo de manera eficiente utilizando el teorema de convoluci칩n. <br></li><li><p>  Para cada p칤xel, calcule el valor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-458"><span class="MJXp-msubsup" id="MJXp-Span-459"><span class="MJXp-mi" id="MJXp-Span-460" style="margin-right: 0.05em;"></span><span class="MJXp-mtext MJXp-script" id="MJXp-Span-461" style="vertical-align: 0.5em;">&nbsp;</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-462">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-463">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-464">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-465">r</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-21"> ^ \ star </script>  R heur칤stica </p><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-466"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-467">R</span><span class="MJXp-mo" id="MJXp-Span-468" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-469">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-470">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-471">t</span><span class="MJXp-mo" id="MJXp-Span-472" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-473">H</span><span class="MJXp-mo" id="MJXp-Span-474" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-475" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-476">k</span><span class="MJXp-mo" id="MJXp-Span-477" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-478">T</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-479">r</span><span class="MJXp-mo" id="MJXp-Span-480" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-481">H</span><span class="MJXp-mo" id="MJXp-Span-482" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-483"><span class="MJXp-mo" id="MJXp-Span-484" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-485" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-486" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-487" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-488">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-489">B</span><span class="MJXp-mo" id="MJXp-Span-490" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-msubsup" id="MJXp-Span-491"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-492" style="margin-right: 0.05em;">C</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-493" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-494" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-495" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-496">k</span><span class="MJXp-mo" id="MJXp-Span-497" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-498">A</span><span class="MJXp-mo" id="MJXp-Span-499" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-500">B</span><span class="MJXp-msubsup" id="MJXp-Span-501"><span class="MJXp-mo" id="MJXp-Span-502" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-503" style="vertical-align: 0.5em;">2</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-22"> R = Det (H) - k (Tr (H)) ^ 2 = (AB - C ^ 2) - k (A + B) ^ 2 </script></p><br>  Valor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-504"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-505">k</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-23"> k </script>  seleccionado emp칤ricamente en el rango [0.04, 0.06] Si <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-506"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-507">R</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-24"> R </script>  algunos p칤xeles tienen un cierto umbral, entonces el vecindario <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-508"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-509">w</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-25"> w </script>  Este p칤xel contiene un 치ngulo, y lo marcamos como un punto clave. <br></li><li><p>  La f칩rmula anterior puede crear grupos de puntos clave uno al lado del otro, en cuyo caso vale la pena eliminarlos.  Esto se puede hacer comprobando para cada punto si tiene un valor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-510"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-511">R</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-26"> R </script>  M치ximo entre vecinos inmediatos.  Si no, entonces el punto clave se filtra.  Este procedimiento se llama <em>supresi칩n no m치xima</em> . </p><br></li></ol><br><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-512"><span class="MJXp-mtext" id="MJXp-Span-513">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-514">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-515">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-516">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-517">r</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-27"> \ star </script>  Formula <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-518"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-519">R</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-28"> R </script>  elegido por una raz칩n <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-520"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-521">A</span><span class="MJXp-mo" id="MJXp-Span-522" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-523">B</span><span class="MJXp-mo" id="MJXp-Span-524" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-525">C</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-29"> A, B, C </script>  - componentes del tensor estructural - matriz que describe el comportamiento del gradiente en la vecindad: </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-526"><span class="noError" id="MJXp-Span-527" style="display: inline-block;">H&nbsp;=&nbsp;\&nbsp;begin&nbsp;{pmatrix}&nbsp;A&nbsp;y&nbsp;C&nbsp;\\&nbsp;C&nbsp;&amp;&nbsp;B&nbsp;\&nbsp;end&nbsp;{pmatrix}</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-30"> H = \ begin {pmatrix} A y C \\ C & B \ end {pmatrix} </script></p><br><p>  Esta matriz es similar en muchos aspectos a su matriz de covarianza.  Por ejemplo, ambas son matrices positivamente semidefinidas, pero la similitud no se limita a esto.  Perm칤teme recordarte que la matriz de covarianza tiene una interpretaci칩n geom칠trica.  Los vectores propios de la matriz de covarianza indican las direcciones de la mayor varianza de los datos de origen (sobre los cuales se calcul칩 la covarianza), y los valores propios indican la dispersi칩n a lo largo del eje: </p><br><p><img src="https://habrastorage.org/webt/y7/yv/g1/y7yvg148wkaold6x0scnqffqq1m.png"></p><br><p>  Imagen tomada de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">http://www.visiondummy.com/2014/04/geometric-interpretation-covariance-matrix/</a> </p><br><p>  Los valores propios del tensor estructural tambi칠n se comportan de la misma manera: describen la propagaci칩n de los gradientes.  En una superficie plana, los valores propios del tensor estructural ser치n peque침os (porque la extensi칩n de los propios gradientes ser치 peque침a).  Los valores propios del tensor estructural construido en una pieza de una imagen con una cara variar치n mucho: un n칰mero ser치 grande (y corresponder치 a su propio vector dirigido perpendicular a la cara), y el segundo ser치 peque침o.  En el tensor de 치ngulo, ambos valores propios ser치n grandes.  En base a esto, podemos construir una heur칤stica ( <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-528"><span class="MJXp-mtext" id="MJXp-Span-529">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-530">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-531">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-532">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-533">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-534">d</span><span class="MJXp-msubsup" id="MJXp-Span-535"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-536" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-537" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-538" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-539">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-540">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-541">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-542">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-543">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-544">d</span><span class="MJXp-msubsup" id="MJXp-Span-545"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-546" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-547" style="vertical-align: -0.4em;">2</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-31"> \ lambda_1, \ lambda_2 </script>  Son los valores propios del tensor estructural). </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-548"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-549">R</span><span class="MJXp-mo" id="MJXp-Span-550" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-551">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-552">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-553">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-554">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-555">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-556">d</span><span class="MJXp-msubsup" id="MJXp-Span-557"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-558" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-559" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mtext" id="MJXp-Span-560">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-561">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-562">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-563">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-564">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-565">d</span><span class="MJXp-msubsup" id="MJXp-Span-566"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-567" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-568" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-569" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-570">k</span><span class="MJXp-mo" id="MJXp-Span-571" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-572">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-573">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-574">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-575">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-576">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-577">d</span><span class="MJXp-msubsup" id="MJXp-Span-578"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-579" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-580" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-581" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-582">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-583">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-584">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-585">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-586">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-587">d</span><span class="MJXp-msubsup" id="MJXp-Span-588"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-589" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-590" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-msubsup" id="MJXp-Span-591"><span class="MJXp-mo" id="MJXp-Span-592" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-593" style="vertical-align: 0.5em;">2</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-32"> R = \ lambda_1 \ lambda_2 - k (\ lambda_1 + \ lambda_2) ^ 2 </script></p><br><p>  El valor de esta heur칤stica ser치 grande cuando ambos valores propios son grandes. </p><br><p>  La suma de los valores propios es la traza de la matriz, que puede calcularse como la suma de los elementos en la diagonal (y si observa las f칩rmulas A y B, queda claro que esta tambi칠n es la suma de los cuadrados de las longitudes de los gradientes en la regi칩n): </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-594"><span class="MJXp-mtext" id="MJXp-Span-595">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-596">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-597">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-598">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-599">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-600">d</span><span class="MJXp-msubsup" id="MJXp-Span-601"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-602" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-603" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-604" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-605">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-606">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-607">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-608">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-609">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-610">d</span><span class="MJXp-msubsup" id="MJXp-Span-611"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-612" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-613" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-614" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-615">T</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-616">r</span><span class="MJXp-mo" id="MJXp-Span-617" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-618">H</span><span class="MJXp-mo" id="MJXp-Span-619" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-620" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-621">A</span><span class="MJXp-mo" id="MJXp-Span-622" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-623">B</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-33"> \ lambda_1 + \ lambda_2 = Tr (H) = A + B </script></p><br><p>  El producto de los valores propios es el determinante de una matriz, que tambi칠n es f치cil de escribir en el caso de 2x2: </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-624"><span class="MJXp-mtext" id="MJXp-Span-625">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-626">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-627">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-628">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-629">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-630">d</span><span class="MJXp-msubsup" id="MJXp-Span-631"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-632" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-633" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mtext" id="MJXp-Span-634">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-635">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-636">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-637">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-638">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-639">d</span><span class="MJXp-msubsup" id="MJXp-Span-640"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-641" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-642" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-643" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-644">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-645">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-646">t</span><span class="MJXp-mo" id="MJXp-Span-647" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-648">H</span><span class="MJXp-mo" id="MJXp-Span-649" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-650" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-651">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-652">B</span><span class="MJXp-mo" id="MJXp-Span-653" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-msubsup" id="MJXp-Span-654"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-655" style="margin-right: 0.05em;">C</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-656" style="vertical-align: 0.5em;">2</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-34"> \ lambda_1 \ lambda_2 = Det (H) = AB - C ^ 2 </script></p><br><p>  Por lo tanto, podemos calcular efectivamente <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-657"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-658">R</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-35"> R </script>  , expres치ndolo en t칠rminos de los componentes del tensor estructural. </p><br><h2 id="fast">  R치pido </h2><br><p>  El m칠todo de Harris es bueno, pero hay muchas alternativas.  No consideraremos todo de la misma manera que el m칠todo anterior, solo mencionaremos algunos populares para mostrar trucos interesantes y compararlos en acci칩n. </p><br><p><img src="https://habrastorage.org/webt/k5/4e/a1/k54ea1vfb82j0lsk6o-xhngk0cw.png"><br>  P칤xeles verificados por el algoritmo FAST </p><br><p>  Una alternativa al m칠todo de Harris es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">R츼PIDO</a> .  Como su nombre indica, FAST es mucho m치s r치pido que el m칠todo anterior.  Este algoritmo intenta encontrar los puntos que se encuentran en los bordes y esquinas de los objetos, es decir.  en lugares de diferencia de contraste.  Su ubicaci칩n es la siguiente: FAST construye un c칤rculo de radio R alrededor del p칤xel candidato y comprueba si tiene un segmento continuo de p칤xeles de longitud t que es m치s oscuro (o m치s claro) del p칤xel candidato por K unidades.  Si se cumple esta condici칩n, el p칤xel se considera un "punto clave".  Para ciertas t, podemos implementar esta heur칤stica de manera eficiente agregando algunas comprobaciones preliminares que cortar치n los p칤xeles que se garantiza que no son esquinas.  Por ejemplo, cuando <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-659"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-660">R</span><span class="MJXp-mo" id="MJXp-Span-661" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-662">3</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-36"> R = 3 </script>  y <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-663"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-664">t</span><span class="MJXp-mo" id="MJXp-Span-665" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-666">12</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-37"> t = 12 </script>  , es suficiente para verificar si hay 3 p칤xeles consecutivos entre los 4 p칤xeles extremos que son estrictamente m치s oscuros / claros que el centro en K (en la imagen: 1, 5, 9, 13).  Esta condici칩n le permite cortar efectivamente a los candidatos que definitivamente no son puntos clave. </p><br><h2 id="sift">  SIFT </h2><br><p>  Ambos algoritmos anteriores no son resistentes al cambio de tama침o de la imagen.  No le permiten encontrar una plantilla en la imagen si la escala del objeto ha cambiado.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">SIFT</a> (transformaci칩n de caracter칤sticas invariantes de escala) ofrece una soluci칩n a este problema.  Tome la imagen de la que extraemos los puntos clave y comience a reducir gradualmente su tama침o con un peque침o paso, y para cada opci칩n de escala encontraremos los puntos clave.  El escalado es un procedimiento dif칤cil, pero reducirlo en 2/4/8 / ... veces se puede hacer de manera eficiente saltando p칤xeles (en SIFT estas escalas m칰ltiples se denominan "octavas").  Las escalas intermedias se pueden aproximar aplicando un azul gaussiano con un tama침o de n칰cleo diferente a la imagen.  Como describimos anteriormente, esto puede hacerse computacionalmente de manera eficiente.  El resultado se ver치 si primero redujimos la imagen y luego la ampliamos a su tama침o original: se pierden peque침os detalles y la imagen se vuelve "borrosa". </p><br><p><img src="https://habrastorage.org/webt/p3/tn/ao/p3tnao1rjzyg9q6sbhtlttktf_q.png"></p><br><p>  Despu칠s de este procedimiento, calculamos la diferencia entre escalas vecinas.  Los valores grandes (en valor absoluto) en esta diferencia se obtendr치n si alguna parte peque침a deja de ser visible en el siguiente nivel de escala, o, por el contrario, el siguiente nivel de escala comienza a capturar alguna parte que no era visible en el anterior.  Esta t칠cnica se llama DoG, Diferencia de Gauss.  Podemos suponer que la gran importancia de esta diferencia ya es una se침al de que hay algo interesante en este lugar en la imagen.  Pero estamos interesados 근n la escala para la cual este punto clave ser치 m치s expresivo.  Para hacer esto, consideraremos un punto clave no solo como un punto que difiere de su entorno, sino que tambi칠n difiere m치s fuertemente entre las diferentes escalas de imagen.  En otras palabras, elegiremos un punto clave no solo en el espacio X e Y, sino en el espacio <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-667"><span class="MJXp-mo" id="MJXp-Span-668" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-669"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X </font></font></span><span class="MJXp-mo" id="MJXp-Span-670" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-671"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y </font></font></span><span class="MJXp-mo" id="MJXp-Span-672" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-673"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-674"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-675"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-676"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-677"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-678"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mo" id="MJXp-Span-679" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-38"> (X, Y, Escala) </script>  .  En SIFT, esto se hace mediante la b칰squeda de puntos en la DoG (Diferencia de gaussianos), que son m치ximos o m칤nimos locales en <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-680"><span class="MJXp-mn" id="MJXp-Span-681"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-682"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font></span><span class="MJXp-mn" id="MJXp-Span-683"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-684"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font></span><span class="MJXp-mn" id="MJXp-Span-685"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-39"> 3x3x3 </script>  cubo de espacio <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-686"><span class="MJXp-mo" id="MJXp-Span-687" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-688"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X </font></font></span><span class="MJXp-mo" id="MJXp-Span-689" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-690"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y </font></font></span><span class="MJXp-mo" id="MJXp-Span-691" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-692"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-693"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-694"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-695"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-696"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-697"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mo" id="MJXp-Span-698" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-40"> (X, Y, Escala) </script>  a su alrededor </p><br><p><img src="https://habrastorage.org/webt/bd/zk/gd/bdzkgddgrifmsizaxknwzbrbboy.png"></p><br><p>  Los algoritmos para encontrar puntos clave y construir descriptores SIFT y SURF est치n patentados.  Es decir, para su uso comercial es necesario obtener una licencia.  Es por eso que no est치n disponibles en el paquete principal de opencv, sino solo en un paquete separado de opencv_contrib.  Sin embargo, hasta ahora nuestra investigaci칩n es de naturaleza puramente acad칠mica, por lo tanto, nada nos impide participar en el SIFT en comparaci칩n. </p><br><h2 id="deskriptory">  Descriptores </h2><br><p>  Intentemos aplicar alg칰n tipo de detector (por ejemplo, Harris) a la plantilla y a la imagen. </p><br><p><img src="https://habrastorage.org/webt/dl/jy/t9/dljyt9d6ngfzvnom-mx1_wt1uh4.png"><img src="https://habrastorage.org/webt/fx/cv/p5/fxcvp5gfb55nzpmfkpvn6jllyiq.png"></p><br><p>  Despu칠s de encontrar los puntos clave en la imagen y la plantilla, debe compararlos de alguna manera entre s칤.  Perm칤tame recordarle que hasta ahora solo hemos extra칤do las posiciones de los puntos clave.  Lo que significa este punto (por ejemplo, en qu칠 direcci칩n se dirige el 치ngulo encontrado), a칰n no lo hemos determinado.  Y tal descripci칩n puede ayudar al comparar puntos de imagen y patrones entre s칤.  Algunos de los puntos de la plantilla en la imagen pueden ser desplazados por distorsiones, cubiertos por otros objetos, por lo que depender 칰nicamente de la posici칩n de los puntos entre s칤 parece poco confiable.  Por lo tanto, tomemos su vecindario para cada punto clave para construir una determinada descripci칩n (descriptor), que luego nos permite tomar un par de puntos (un punto de la plantilla, uno de la imagen), y comparar su similitud. </p><br><h3 id="brief">  BREVE </h3><br><p>         (..   0  1),       ,  XOR  ,      .    ? ,    N      . ,  i-  ,      ,       i-    1.        N.            -     (,      ),       :       ,    럭.  ,       (       ).      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">BRIEF</a> . </p><br><p><img src="https://habrastorage.org/webt/ua/su/sh/uasushvojprrhmms6vfjhxhxwsc.png"><br>      .      .  ,   GII     . </p><br><p>  ,    ,    (..        ,    ,  ).    OpenCV        <a href=""></a> . </p><br><h3 id="deskriptor-sift">  SIFT </h3><br><p> SIFT     ,          .    SIFT   1616   ,      44 .      (       ,      ).       8    (, -, ,  ..).         8 ,     ,     .        . ,     8-   .         128 (  4*4 = 16 ,    8 ).      . </p><br><h3 id="sravnenie">  Comparaci칩n </h3><br><p>          (    ,      ),  -     : </p><br><p><img src="https://habrastorage.org/webt/qx/er/fs/qxerfsd6yqjzlxroadwnhveb3am.png"></p><br><p>               .      ? </p><br><p> ,    .      ,        ,     .  ,     ,      ,    ,    .         ?   BRIEF,          ,        ,      .  ,  BRIEF  1/16    .  SIFT     -   1/4    . </p><br><p>         SIFT. </p><br><h2 id="sravnenie-detektorov">   </h2><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ahora aplicamos todo el conocimiento adquirido para resolver nuestro problema. </font><font style="vertical-align: inherit;">En nuestro caso, los requisitos para el detector de punto clave son suficientes: no necesitamos invariancia para cambiar el tama침o, as칤 como un rendimiento extremadamente alto. </font><font style="vertical-align: inherit;">Compara los tres detectores.</font></font></p><br><table><thead><tr><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Detector de esquina Harris </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> R치pido </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SIFT </font></font></th></tr></thead><tbody><tr><td> <a href=""><img src="https://habrastorage.org/webt/-a/bs/dk/-absdkxkvccrzrfa6t0i8arpc_e.png"></a> </td><td> <a href=""><img src="https://habrastorage.org/webt/pa/dl/lk/padllkwce61vmi9t3vv5hskhyv0.png"></a> </td><td> <a href=""><img src="https://habrastorage.org/webt/lu/3d/i-/lu3di-b7fxf3graaaxqsumerpd8.png"></a> </td></tr><tr><td> <a href=""><img src="https://habrastorage.org/webt/6_/6k/5l/6_6k5lr13o0urqqmnbnap3cbb4i.png"></a> </td><td> <a href=""><img src="https://habrastorage.org/webt/vn/i9/hq/vni9hq6ozwaheetajhu6dk-3ckk.png"></a> </td><td> <a href=""><img src="https://habrastorage.org/webt/ch/cr/dq/chcrdqlia0fjz18fmv0clf0bz-a.png"></a> </td></tr><tr><td> <a href=""><img src="https://habrastorage.org/webt/do/as/hs/doashsborvmicatlqa5tdfqfuxc.png"></a> </td><td> <a href=""><img src="https://habrastorage.org/webt/m9/qj/ii/m9qjiitzdkekcwv1kj7gywfjcp8.png"></a> </td><td> <a href=""><img src="https://habrastorage.org/webt/dg/u9/2_/dgu92__jquo-geofs1exakj0vj0.png"></a> </td></tr></tbody></table><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SIFT encontr칩 muy pocos puntos clave en el bot칩n. </font><font style="vertical-align: inherit;">Esto es comprensible: el bot칩n es un objeto bastante peque침o y plano, y el zoom no ayuda a encontrar puntos clave.</font></font></p><br><p> Adem치s, ni un solo detector manej칩 el tercer caso.  Esto es explicable y esperado.  Por lo general, los m칠todos anteriores se utilizan para encontrar un objeto de una plantilla en una imagen en la que se puede ocultar, rotar o distorsionar parcialmente.  En nuestro caso, queremos encontrar no <em>exactamente el mismo objeto</em> , sino <em>un objeto que sea bastante similar a la plantilla (bot칩n)</em> .  Esta es una tarea ligeramente diferente.  Por lo tanto, al cambiar la forma del bot칩n en s칤 (por ejemplo, el radio de redondeo de las esquinas, o el grosor del marco de puntos) cambia los puntos clave en ellos y sus descriptores.  Adem치s, los puntos clave se ubicar치n en la esquina del bot칩n.  Debido a la posici칩n en el borde, los puntos ser치n inestables: su ubicaci칩n exacta y los descriptores se ven afectados por lo que se dibuja al lado del bot칩n. </p><br><p>  Conclusi칩n: el m칠todo es bueno y cumple correctamente situaciones en las que se gira el objeto deseado, se cambia su tama침o o el objeto est치 parcialmente oculto (lo cual es bueno para encontrar objetos complejos o una etiqueta de precio, por ejemplo).  Sin embargo, si hay pocos puntos en el objeto que pueden ser "atrapados", o la forma del objeto cambia demasiado, entonces los puntos clave y ellos en la plantilla y la imagen pueden no coincidir.  Adem치s, un fondo con muchos detalles peque침os puede cambiar los "puntos clave" o cambiar sus descriptores. </p><br><p>  Podemos encontrar una coincidencia que use las coordenadas de los puntos clave.  En lugar de buscar pares de puntos en la plantilla y la imagen, cuyo vecindario es similar, puede buscar dichos conjuntos de puntos, la interposici칩n de puntos clave en la plantilla y la imagen ser치 similar.  En el caso general, esta es una tarea bastante complicada (tanto computacionalmente como desde un punto de vista de programaci칩n), especialmente en una situaci칩n en la que algunos puntos pueden ser cambiados o ausentes.  Pero, dado que tenemos puntos clave - 치ngulos, es suficiente para nosotros encontrar grupos que aproximadamente formar치n un rect치ngulo de las proporciones deseadas, y dentro del cual no habr치 puntos clave.  Poco a poco llegamos al siguiente m칠todo: </p><br><h1 id="contour-detection">  Detecci칩n de contorno </h1><br><p>  Por lo general, un bot칩n es alg칰n tipo de objeto rectangular (a veces con esquinas redondeadas), cuyos lados son paralelos a los ejes de coordenadas.  Luego, intentemos distinguir las zonas de diferencia de contraste (bordes), y entre ellas encontraremos caras cuyos contornos son similares al contorno del objeto que necesitamos.  Este m칠todo se llama detecci칩n de contorno. </p><br><h2 id="edge-detection">  Detecci칩n de bordes </h2><br><p>  A diferencia de la detecci칩n de puntos clave, estamos interesados 긅o solo en los 치ngulos de los puntos clave, sino tambi칠n en los bordes.  Sin embargo, las ideas b치sicas que podemos tomar de all칤.  Alise la imagen con un filtro gaussiano, y como en el detector de esquina Harris.  Luego calculamos las derivadas de la intensidad <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-699"><span class="MJXp-msubsup" id="MJXp-Span-700"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-701" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yo </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-702" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-41"> I_x </script>  y <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-703"><span class="MJXp-msubsup" id="MJXp-Span-704"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-705" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yo </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-706" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-42-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-42"> I_y </script>  .  Dado que no necesitamos distinguir los 치ngulos de los bordes, no necesitamos considerar el tensor estructural; es suficiente para calcular la fuerza del gradiente: <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-707"><span class="MJXp-msubsup" id="MJXp-Span-708"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-709" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-710" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-711" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-712"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-713" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I </font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-715"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-714"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-716" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> + </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-717"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-718" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I </font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-720"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-719"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y</font></font></span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-43"> I_l = I_x ^ 2 + I_y ^ 2 </script>  (por cierto, esta es la ra칤z de <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-721"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-722"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-723"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mo" id="MJXp-Span-724" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-725"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H </font></font></span><span class="MJXp-mo" id="MJXp-Span-726" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-44"> Tr (H) </script>  , o de la suma de la diagonal del tensor estructural).  Despu칠s de eso, dejamos solo p칤xeles que son m치ximos locales en t칠rminos de <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-727"><span class="MJXp-msubsup" id="MJXp-Span-728"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-729" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yo </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-730" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-45-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-45"> I_l </script>  (utilizando la supresi칩n no m치xima ya considerada), pero como configuraci칩n regional elegiremos no 8 p칤xeles vecinos, sino aquellos p칤xeles de estos 8, a los que me dirijo, y del lado opuesto: </p><br><p><img src="https://habrastorage.org/webt/au/vm/v7/auvmv7glpynxvkwwg8thg2yfyze.png"></p><br><p>  El p칤xel en cuesti칩n es azul, la flecha es la direcci칩n I. Los p칤xeles verdes son los que se tendr치n en cuenta durante la supresi칩n no m치xima. </p><br><p>  Una elecci칩n tan inusual de p칤xeles para la comparaci칩n se debe al hecho de que no queremos hacer huecos en el borde.  En la imagen de la izquierda, la cara va de arriba a abajo, y dado que la supresi칩n no m치xima no comparar치 las intensidades con los p칤xeles arriba y abajo del azul, obtenemos una cara continua. </p><br><p>  Obviamente, una supresi칩n no m치xima no es suficiente, y debe aplicar alg칰n tipo de filtrado para eliminar bordes con un Il demasiado bajo.  Para hacer esto, aplicamos la t칠cnica de "doble umbral": eliminamos todos los p칤xeles con Il, con una intensidad de gradiente por debajo del umbral bajo, y asignamos todos los p칤xeles por encima del umbral alto para que sean "bordes fuertes".  Los p칤xeles en los que la intensidad del gradiente se encuentra entre Bajo y Alto se denominar치n "bordes d칠biles", solo los dejamos si est치n conectados a "bordes fuertes": </p><br><p><img src="https://habrastorage.org/webt/cx/qt/kb/cxqtkbtz7qhbyv69raqyqxbxhs4.png"></p><br><p>  Azul claro indica "costillas d칠biles", azul oscuro - fuerte.  Las costillas en la parte inferior est치n cernidas, ya que no est치n conectadas a ninguna costilla fuerte. </p><br><p>  Acabamos de describir Canny Edge Detector.  Es extremadamente utilizado hasta el d칤a de hoy como un procedimiento simple y r치pido que le permite encontrar los contornos de los objetos. </p><br><h2 id="border-tracking">  Seguimiento de la frontera </h2><br><p>  La siguiente acci칩n es seleccionar los contornos entre el mapa con las caras encontradas.  Encuentre los componentes relacionados (islas de p칤xeles adyacentes que han pasado todas las comprobaciones) y compruebe cada uno de ellos, cu치nto se parece a un bot칩n.  Despu칠s de aplicar la supresi칩n no m치xima en Canny, tenemos garant칤as de que los bordes tendr치n un grosor de un p칤xel, pero confiemos en ello.  Para cada p칤xel que se asign칩 a una cara, y al lado del cual hay un p칤xel que no es de cara, lo asignamos a un "borde".  Pasando de un p칤xel del borde a otro, volvemos al mismo p칤xel (y luego encontramos el camino), o a un callej칩n sin salida (entonces puede intentar regresar si hab칤a una bifurcaci칩n en alg칰n lugar del camino): </p><br><p><img src="https://habrastorage.org/webt/iz/jj/i_/izjji_u52eu0h9aj-iphph2fjs4.png"></p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu칤</a> se describe el algoritmo de seguimiento de borde completo, teniendo en cuenta diferentes casos de borde (por ejemplo, cuando un objeto con una cara gruesa genera dos contornos, interno y externo).  Despu칠s de aplicar este algoritmo, tendremos un conjunto de contornos que podr칤an ser botones. </p><br><h2 id="filtraciya-konturov">  Filtrado de ruta </h2><br><p>  쮺칩mo saber que nuestro circuito es un bot칩n?  Para rect치ngulos y pol칤gonos hay un excelente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">m칠todo</a> basado en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">simplificar el contorno</a> .  Es suficiente con "colapso" gradual de las costillas, si est치n casi en l칤nea recta, y luego calcular el n칰mero de costillas restantes y verificar los 치ngulos entre ellas.  Desafortunadamente, para nuestro caso, estos m칠todos no son adecuados: nuestro rect치ngulo tiene esquinas redondeadas.  Adem치s, hay <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">coincidencia de contornos</a> para figuras con geometr칤a compleja, pero esto tampoco se trata de nosotros, ya que solo tenemos un rect치ngulo (en el art칤culo se dan ejemplos con un contorno humano).  Por lo tanto, es mejor hacer un filtro basado en las propiedades de la figura misma.  Sabemos que: </p><br><ul><li>  El bot칩n es lo suficientemente grande (치rea de m치s de 100 p칤xeles) </li><li>  Los lados son paralelos a los ejes de coordenadas. </li><li>  La relaci칩n del 치rea de la figura al 치rea del rect치ngulo delimitador debe estar bastante cerca de la unidad.  Establecemos el umbral en 0.8, ya que el bot칩n es un rect치ngulo con lados paralelos a los ejes de coordenadas, y el 20% que falta son las esquinas redondeadas. </li></ul><br><p>  Adem치s, por la experiencia de usar detectores de puntos clave, recordamos que puede haber problemas con situaciones en las que hay un objeto de contraste debajo del bot칩n.  Por lo tanto, despu칠s de aplicar Canny, desenfocamos los bordes para cerrar peque침os agujeros que podr칤an surgir de tales objetos. </p><br><p>  Aplicamos el enfoque resultante: </p><br><p><img src="https://habrastorage.org/webt/2t/29/if/2t29ify9hc0vz1qtj55whhu7npi.png"></p><br><p>  La aplicaci칩n de filtro Canny (imagen 2) encontr칩 la forma necesaria, pero debido a la forma compleja del bot칩n y el gradiente, se encontraron muchos contornos a la vez, y debido a la supresi칩n no m치xima, algunos de ellos no se cerraron.  La aplicaci칩n de desenfoque (imagen 3) solucion칩 el problema. </p><br><h1 id="testirovanie-podhoda">  Enfoque de prueba </h1><br><p>  Ejecute la b칰squeda de contornos en la imagen resultante.  Colorea los contornos que pasaron la prueba en rojo.  Si hay varios de ellos, entonces debemos elegir la opci칩n m치s exitosa entre ellos.  Seleccionamos el contorno del 치rea m치s grande y lo pintamos de verde. </p><br><p>  El | <img src="https://habrastorage.org/webt/bi/ku/ls/bikuls_blki6of3jtlyhuuffino.png">  El | <img src="https://habrastorage.org/webt/bp/mt/wp/bpmtwpq00xs7zbcjp4gpwsgk6ei.png">  El | <img src="https://habrastorage.org/webt/ie/kl/ts/iekltsc8zyvnbha0f3lce22505g.png">  El | </p><br><p>  El dise침o resultante encontr칩 botones en las im치genes de prueba.  Una ejecuci칩n en todos los banners mostr칩 que ocasionalmente (1 caso de ~ 20), en lugar de un bot칩n, selecciona mosaicos rectangulares de iOS Appstore y Google Apps, u otros objetos rectangulares (cajas del tel칠fono).  Por lo tanto, agregando la capacidad de indicar manualmente la posici칩n en ese raro caso de una determinaci칩n incorrecta, implementamos esta opci칩n en la herramienta de localizaci칩n. </p><br><h1 id="zaklyuchenie">  Conclusi칩n </h1><br><p>  Para resumir.  El CV "cl치sico" sin aprendizaje profundo todav칤a funciona, y en base a 칠l puedes resolver problemas.  No son pretenciosos y no requieren una gran cantidad de datos etiquetados, hardware potente, y son m치s f치ciles de depurar.  Sin embargo, introducen suposiciones adicionales y, por lo tanto, con su ayuda, no todos los problemas se pueden resolver de manera efectiva. </p><br><ul><li>  <strong>La coincidencia de plantillas</strong> es la forma m치s f치cil, basada en encontrar un lugar en la imagen que sea m치s similar (por alguna m칠trica simple) a una plantilla.  Efectivo con la comparaci칩n p칤xel por p칤xel.  Puede hacerse resistente a las curvas y peque침os cambios de tama침o, pero con grandes cambios puede que no funcione correctamente. </li><li>  <strong>Detecci칩n / coincidencia de</strong> puntos clave: encuentre los puntos clave, <strong>haga</strong> coincidir los puntos de la imagen y la plantilla.  Los detectores son resistentes a las rotaciones, al zoom (seg칰n el detector y descriptor seleccionados) y a la coincidencia, a solapamientos parciales.  Pero este m칠todo funciona bien solo si hay suficientes "puntos clave" en el objeto, y los locales de la plantilla y los puntos de imagen coinciden bastante bien (es decir, el mismo objeto en la plantilla y la imagen). </li><li>  <strong>Detecci칩n de contorno</strong> : encontrar los contornos de los objetos y encontrar un contorno similar al contorno del objeto deseado.  Esta soluci칩n solo tiene en cuenta la forma del objeto e ignora su contenido y color (que puede ser tanto un m치s como un menos). <br>  Un lector experto puede notar que nuestro problema puede resolverse con la ayuda de m칠todos modernos de visi칩n por computadora capacitados.  Por ejemplo, la red <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">YOLO</a> devuelve el cuadro delimitador del objeto deseado, y esto es lo que nos interesa.  S칤, probamos y lanzamos con 칠xito la soluci칩n basada en el aprendizaje profundo, pero como una segunda iteraci칩n (ya despu칠s de que se lanz칩 la herramienta de localizaci칩n y comenz칩 a funcionar).  Estas soluciones son m치s resistentes a los cambios en los par치metros de los botones y tienen muchas propiedades positivas: por ejemplo, en lugar de seleccionar umbrales y par치metros con las manos, simplemente puede agregar ejemplos de banners en los que la red est치 equivocada (Aprendizaje activo) en el conjunto de entrenamiento.  Usar el aprendizaje profundo para nuestra tarea tiene sus problemas y puntos interesantes.  Por ejemplo, muchos m칠todos modernos de visi칩n por computadora requieren una gran cantidad de im치genes marcadas, pero no ten칤amos marcado (como en muchos casos reales), y el n칰mero total de diferentes banners no excede varios miles.  Por lo tanto, decidimos dise침ar una peque침a cantidad de im치genes nosotros mismos y escribir un generador que crear치 otros banners similares sobre la base de ellos.  En esta direcci칩n hay muchos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">trucos interesantes</a> .  Hay muchas otras trampas, y la tarea misma de determinar la posici칩n de un objeto de visi칩n por computadora es extensa y tiene muchas soluciones.  Por lo tanto, se decidi칩 limitar el campo de visi칩n del art칤culo y no se consideraron las decisiones basadas en el aprendizaje profundo. </li></ul><br><p>  El c칩digo con blocs de notas que implementan los m칠todos descritos y dibuja im치genes del art칤culo se puede encontrar en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">repositorio</a> ). </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/445354/">https://habr.com/ru/post/445354/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../445344/index.html">Plataforma de comunicaciones unificadas OpenVox</a></li>
<li><a href="../445346/index.html">C칩mo escribir una API incorrecta</a></li>
<li><a href="../445348/index.html">SNA Hackathon 2019: Simplify Architecture - Simplify Features</a></li>
<li><a href="../445350/index.html">Sonata: servidor de aprovisionamiento SIP</a></li>
<li><a href="../445352/index.html">Spark Structured Streaming Applications en Kubernetes. Experimenta FASTEN RUS</a></li>
<li><a href="../445356/index.html">Descripci칩n general de la secci칩n M칩vil en DUMP-2019: m치xima aplicada y 칰til en el trabajo diario</a></li>
<li><a href="../445358/index.html">Organizaci칩n del sistema de eventos en Unity - a trav칠s de los ojos de un dise침ador de juegos.</a></li>
<li><a href="../445360/index.html">5 tareas t칤picas para las entrevistas de JavaScript: an치lisis y soluciones</a></li>
<li><a href="../445362/index.html">El libro "Sistemas distribuidos. Patrones de dise침o</a></li>
<li><a href="../445366/index.html">C칩mo acelerar el cifrado seg칰n GOST 28147-89 en el procesador Baikal-T1 debido al bloque SIMD</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>