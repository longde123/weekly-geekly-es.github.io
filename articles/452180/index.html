<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçπ üë©‚Äç‚ù§Ô∏è‚Äçüë© üà∂ Elevamos el rendimiento de SSD desde las rodillas, d√≥nde hacer clic y por qu√© üíì üç¢ üòØ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="De hecho, hoy no solo hablaremos sobre las unidades usadas por alg√∫n tiempo, porque el problema de la baja velocidad puede afectar incluso al SSD reci...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Elevamos el rendimiento de SSD desde las rodillas, d√≥nde hacer clic y por qu√©</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/kingston_technology/blog/452180/">  De hecho, hoy no solo hablaremos sobre las unidades usadas por alg√∫n tiempo, porque el problema de la baja velocidad puede afectar incluso al SSD reci√©n tra√≠do de la tienda.  Por supuesto, no puedes enga√±ar a la f√≠sica: con el tiempo, todos los SSD perder√°n rendimiento.  Pero la raz√≥n de esto puede ser no solo el problema del SSD en s√≠.  Asegurar una interacci√≥n competente de los componentes y el software en el sistema no es una tarea f√°cil para los usuarios comunes que no quieren (o que simplemente no necesitan) comprender el tema en lo m√°s m√≠nimo y escuchar los consejos de personas competentes a este respecto.  Es m√°s f√°cil para alguien reinstalar el sistema operativo o agregar algunos "modificadores" dudosos a la lista de aplicaciones utilizadas.  Pero pi√©nselo: por ejemplo, una eliminaci√≥n de archivos que es simple desde nuestro punto de vista consiste en un n√∫mero bastante grande de etapas en las que varios participantes est√°n vinculados a la vez.  Y, si al menos uno de ellos trabaj√≥ la tarea incorrectamente, esto afectar√° el rendimiento del disco.  ¬øCu√°les son estas etapas?  ¬øPor qui√©n o c√≥mo se llevan a cabo?  ¬øC√≥mo garantizar un funcionamiento estable?  Hoy entenderemos todo esto.  Simple y claro, para que todos lo entiendan.  Y luego queda claro que el tratamiento de los s√≠ntomas del bajo rendimiento de SSD no ayudar√°. <br><img src="https://habrastorage.org/webt/tc/sd/c2/tcsdc2pur0tu5okr7lfszqt49vo.jpeg"><br><a name="habracut"></a><br><h2>  Siete problemas: una desasignaci√≥n </h2><br>  Muchos han escuchado sobre el comando TRIM.  Esas mismas atesoraron cuatro letras que causan muchas preguntas para el usuario promedio.  TRIM es uno de los comandos ATA enviados por el sistema operativo para notificar a la unidad de estado s√≥lido que el usuario ha eliminado los datos del disco y que las celdas f√≠sicas ocupadas pueden liberarse.  Vale la pena mencionar por separado acerca de los SSD con la interfaz NVMe: estos discos tienen un conjunto diferente de comandos para trabajar, pero el an√°logo ATA del comando TRIM tambi√©n existe all√≠, se llama Deallocate y, en consecuencia, es id√©ntico.  Por lo tanto, al mencionar TRIM, tambi√©n nos referiremos a Deallocate.  ¬øPor qu√© hablar de todo esto?  Precisamente los problemas con la ejecuci√≥n de estos comandos en la gran mayor√≠a de los casos son la raz√≥n del bajo rendimiento de las unidades.  Por supuesto, no dejaremos de lado otros problemas, pero todo tiene su tiempo. <br><br><img src="https://habrastorage.org/webt/tq/ce/rp/tqcerpp13cozhrj0jgkmxzwz1gq.jpeg"><br><br>  En el momento en que elimina datos de su unidad, de hecho, se elimina la entrada en la tabla principal del sistema de archivos.  Es decir, los datos en s√≠ permanecen en su lugar, pero el √°rea est√° marcada para su eliminaci√≥n.  La "limpieza de la celda" en s√≠ se lleva a cabo en un momento determinado, por ejemplo, cuando la unidad est√° inactiva, mientras usted est√° fuera para tomar el t√©.  Por lo tanto, los fabricantes logran un menor desgaste de la memoria y aumentan el rendimiento de sus unidades en ciertos escenarios.  Es en la limpieza de estas celdas en lo que participa el controlador al ejecutar el comando TRIM.  Por cierto, despu√©s de su implementaci√≥n, la recuperaci√≥n de datos es casi imposible. <br><br>  M√°s recientemente, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">hablamos sobre la tecnolog√≠a Secure Erase</a> , que es similar a TRIM, pero afecta no solo a las celdas principales, sino tambi√©n a las √°reas de servicio, devolviendo el disco a su estado original.  Recuerde que el borrado seguro solo se puede realizar en una unidad sin un sistema de archivos y bajo ciertas condiciones.  Y la tecnolog√≠a TRIM solo requiere un sistema operativo con todos los requisitos correspondientes. <br><img src="https://habrastorage.org/webt/3-/_d/dg/3-_ddgsjzma7zuwofwj8xszcs7e.jpeg"><br><br><h2>  Vamos a explicar con los dedos, solo 20 de ellos ... </h2><br>  Cuando crea un archivo, el sistema operativo env√≠a un comando de escritura a la direcci√≥n de una unidad l√≥gica espec√≠fica.  Cuando elimina datos del disco, estos bloques se marcan como libres. <br>  En este caso, los datos permanecer√°n en el disco hasta que el controlador quiera sobrescribirlos. <br><br>  Ante nosotros est√° la parte de la memoria en la que los archivos A y B son de diferentes tama√±os, ocupando, respectivamente, un n√∫mero diferente de bloques.  Primero, eliminamos el archivo B y luego escribimos el archivo C en nuestro disco.  Para ilustrar la situaci√≥n en la que TRIM no funciona, agregamos una ilustraci√≥n simple en la que se indican los siguientes estados: <br><br><ol><li>  La presencia de los archivos A y B. </li><li>  Eliminar archivo B. </li><li>  Un cierto tiempo de inactividad.  Tenga en cuenta que los bloques de datos marcados para la limpieza permanecen con los datos en ellos. </li><li>  Escriba el archivo C, pero primero, elimine el archivo B de las celdas. </li></ol><br>  Por ejemplo, si imagina (solo imagine, s√≠) que el bloque de datos en forma de cuadrado es de 1 MB, en el paso 4 el controlador primero borra los dos bloques de datos marcados para su eliminaci√≥n con el archivo B y solo luego escribe el archivo C. Si un par de megabytes de espacio: incluso peque√±as cosas, pero con el trabajo activo con la unidad de dichos bloques, el total puede ser gigabytes, lo que ya afectar√° notablemente el tiempo de las operaciones de escritura. <br><br><img src="https://habrastorage.org/webt/7u/3o/u3/7u3ou3k6c2lp9xzdulbg7i9w_-u.png"><br><br>  Y ahora qu√© sucede si TRIM funciona.  De nuevo en etapas: <br><br><ol><li>  La presencia de los archivos A y B. </li><li>  Eliminar archivo B. </li><li>  El tiempo de inactividad espec√≠fico en el que se borran los bloques marcados con eliminaci√≥n con el archivo B. </li><li>  Escriba el archivo C sin demora en el √°rea donde estaba el archivo B. </li></ol><br><img src="https://habrastorage.org/webt/0k/db/r7/0kdbr7iwlk4zabsabg90noydpxs.png"><br><br>  Es decir, la l√≥gica del trabajo es completamente diferente.  Repitamos lo que se ha hecho: en el momento en que eliminamos el archivo B, se env√≠a el comando TRIM y, dado que est√° inactivo con bastante frecuencia en el SSD, elimina felizmente los bloques innecesarios casi de inmediato.  Y en el momento en que queremos escribir el archivo C, se escribe inmediatamente en el disco y no espera hasta que se limpien los bloques con basura. <br><br><h2>  TRIM, pero ¬øest√°s en absoluto?  Y si es as√≠, ¬øtrabajas? </h2><br>  Puede averiguar si el SSD admite el comando TRIM utilizando una cantidad bastante grande de software libre.  Tome CrystalDiskInfo, por ejemplo: <br><br><img src="https://habrastorage.org/webt/pv/iv/dl/pvivdlbxu3-w8w2fggfhzrmgfba.png"><br><br>  Pero una demostraci√≥n de apoyo no es un trabajo.  Para comenzar, veamos situaciones en las que TRIM necesita ejecutarse de una manera complicada o este comando no funciona en absoluto.  Por supuesto, la situaci√≥n puede cambiar con el tiempo, pero hasta ahora las cosas son las siguientes: <br><br><ol><li>  Los controladores est√°ndar de Windows no pueden realizar TRIM en matrices RAID.  Dependiendo del sistema y del tipo de matriz RAID, un controlador de Intel llamado Rapid Storage puede resolver el problema.  Las matrices 0 y 1 son compatibles con el controlador de la versi√≥n Enterprise. </li><li>  La compatibilidad con TRIM en Windows comienza con la versi√≥n del sistema operativo con el n√∫mero 7. Vista y, adem√°s, XP no son compatibles con TRIM en el nivel del sistema operativo.  Por supuesto, este problema se resuelve con software de terceros, pero aqu√≠ todo es bajo su propio riesgo y riesgo: no podemos y no lo recomendaremos. </li><li>  El comando Deallocate (TRIM para NVMe SSD) solo es compatible con Windows 8 y versiones posteriores. </li><li>  TRIM no funciona en discos virtuales. </li><li>  TRIM solo funciona en modo AHCI. </li><li>  TRIM no funciona cuando se conecta una unidad a trav√©s de adaptadores USB. </li><li>  TRIM no funciona con el sistema de archivos FAT32 (y m√°s "shaggy"). </li></ol><br>  <b>Ahora revisemos: ¬øTRIM funciona en el sistema?</b> <br><br>  Para empezar, intentemos averiguarlo desde el sistema operativo.  En la l√≠nea de comando o PowerShell lanzado en nombre del Administrador, ingrese el comando "consulta de comportamiento fsutil disabledeletenotify" sin comillas y observe el resultado.  Si aparece "0" en la salida, entonces esto es bueno: TRIM funciona.  Si es "1", la funcionalidad TRIM no est√° disponible.  As√≠ es: cero: un comando habilitado, 1: un comando deshabilitado. <br><br><img src="https://habrastorage.org/webt/1g/gm/5q/1ggm5qu0emifcchod_oznrdqijc.png"><br><br>  Por ejemplo, puede usar el programa trimcheck f√°cil de usar de Vladimir Panteleev.  El programa funciona en dos etapas, entre las cuales pueden pasar varios segundos o decenas de minutos; todo depende de los detalles de un modelo de SSD en particular.  La utilidad escribe datos en el disco y marca las direcciones de los bloques virtuales en los que se encuentran.  Guarda estas direcciones en un archivo JSON en su carpeta y luego elimina los datos, lo que provoca el env√≠o del comando TRIM.  La utilidad busca ver si los datos grabados previamente se almacenan en las direcciones almacenadas.  Su ausencia significa que el controlador tom√≥ nota de los comandos TRIM y elimin√≥ los datos.  Si TRIM funciona, entonces el mensaje ser√° apropiado: <br><br><img src="https://habrastorage.org/webt/7q/km/gi/7qkmgipqp-082lqm74pqjbfao9q.png"><br><br>  De lo contrario, la inscripci√≥n leer√° <b>TRIM parece NO FUNCIONAR</b> .  En realidad, si recibe un mensaje sobre inoperabilidad, ejecute el comando "fsutil behaviour set disabledeletenotify 0" sin comillas en el s√≠mbolo del sistema iniciado en nombre del Administrador o PowerShell.  La funci√≥n TRIM, si se cumplen todas las condiciones (sistema operativo compatible, implementaci√≥n en SSD, etc.), debe activarse y funcionar.  Si esto no sucede y se cumplen todos los requisitos, tendr√° que pensar en reemplazar la unidad. <br><br>  <b>Problemas, problemas en lugar de almuerzo</b> <br><br>  El problema m√°s com√∫n es la herencia.  Por supuesto, estamos hablando de Windows hasta la versi√≥n 8. Por ejemplo, cuando un usuario instala SSD en sistemas antiguos o cambia de HDD a SSD sin cambiar la configuraci√≥n del BIOS (si es necesario) o incluso clonando particiones o todo el disco.  Le recordamos que TRIM solo est√° disponible en modo AHCI.  Por ejemplo, muchas placas base pueden funcionar en dos modos AHCI e IDE.  En consecuencia, si un SSD est√° conectado a dicha tarjeta en el modo IDE, entonces TRIM no funcionar√°.  Solo tener el modo AHCI no resuelve el problema: Windows instalar√° los controladores de acuerdo con el IDE seleccionado.  Parece que la situaci√≥n puede ser rara, pero en realidad, no.  Si no es amigo de la configuraci√≥n del BIOS, al menos debe verificar el modo de operaci√≥n.  Puede hacerlo en el administrador de dispositivos en la secci√≥n "Controladores IDE ATA / ATAPI": <br><br><img src="https://habrastorage.org/webt/9e/h-/l2/9eh-l2tya3vwx2nembzthxh4dns.png"><br><br>  Recuerde que justo despu√©s de instalar Windows, cambiar de IDE a AHCI (y viceversa) no funcionar√° sin manipulaciones adicionales: el sistema operativo simplemente no se iniciar√°.  Hay soluciones a este problema (incluso desde el propio Microsoft), pero no vale la pena recomendarlas.  Requiere cambiar la configuraci√≥n del registro, agregar el controlador correcto y la preparaci√≥n para reinstalar el sistema operativo en caso de falla. <br><br>  En cuanto a los sistemas Linux, el requisito previo, adem√°s del componente de hardware, es el sistema de archivos ext4.  La inclusi√≥n de TRIM se indica mediante la opci√≥n de descarte en el archivo fstab.  Las opciones √∫tiles adicionales para la secci√≥n ser√°n noatime (tiempo real o nodiratime), lo que reducir√° el registro al deshabilitar la actualizaci√≥n del tiempo del √∫ltimo acceso a los archivos y directorios.  El comando TRIM se inicia utilizando el programa fstrim - "fstrim / -v" sin comillas y con privilegios de root. <br><br>  Recordemos tambi√©n sobre Borrado seguro.  Puede restaurar el rendimiento con esta funci√≥n.  Solo aqu√≠ es poco probable durante mucho tiempo.  Especialmente si obstruye r√°pidamente su unidad con nuevos datos.  Entonces, como soluci√≥n temporal, lo har√°, pero siempre seguir√° siendo temporal. <br><br>  Tambi√©n agregaremos sobre el almacenamiento en cach√© SLC, que a menudo utilizan muchas unidades SSD sin estar vinculados a una interfaz.  La baja velocidad de escritura de una gran cantidad de archivos (o archivos grandes) despu√©s de cierto umbral no es un problema, sino una caracter√≠stica del trabajo.  La esencia del almacenamiento en cach√© es que primero los datos que se escriben caen en un √°rea especial de memoria, y solo entonces se escriben en la memoria principal en segundo plano.  Cuando finaliza la memoria de alta velocidad asignada, los datos comienzan a escribirse directamente en la memoria a una velocidad notablemente reducida, de 50 a 150 MB / s.  Este es un modo de operaci√≥n completamente normal de unidades con un cach√© SLC, por lo que aqu√≠ no se puede hacer nada de la palabra. <br><br><img src="https://habrastorage.org/webt/cp/aa/5j/cpaa5jq3jtwxhvjkba4oyhmv10e.jpeg"><br><br><h2>  ¬øQu√© es bueno y qu√© es malo? </h2><br>  Si la funci√≥n TRIM funcion√≥ desde el principio, entonces por s√≠ sola no puede ir a ninguna parte.  Pero es un asunto completamente diferente si eres aficionado a todo tipo de modificadores, controladores de terceros o firmware, as√≠ como a las compilaciones de sistemas operativos que supuestamente se han mejorado.  Todos estos programas y ensamblados solo pueden causar mucho da√±o cuando se trata de Windows 8, y a√∫n m√°s en Windows 10: todo est√° pensado correctamente en estos sistemas operativos.  En los "siete" pueden ayudar con algo, pero esto es m√°s bien una excepci√≥n a los muchos problemas que pueden traer. <br><br>  Por separado, debo decir algunas palabras sobre las unidades y controladores NVMe para ellos.  Al comprar un SSD de alta velocidad, los indicadores de velocidad declarados obtenidos en los puntos de referencia deben reflejarse en sus ojos.  Este suele ser el caso, por ejemplo, con las unidades Kingston.  Establece y olvida, como dicen, disfrutando de sus altas velocidades.  Pero con los SSD de otros fabricantes, este no siempre es el caso, lo que obviamente molestar√° a cualquiera.  Aqu√≠, no la ausencia de Deallocate es la raz√≥n de la falta de rendimiento, sino el controlador NVMe est√°ndar.  S√≠, s√≠, al comprar algunos SSD NVMe de algunos fabricantes, debe ir al sitio web de su sitio web y descargar el controlador correspondiente: ¬°la diferencia con el est√°ndar puede ser el doble! <br><br><h2>  Ahora, como, eso es todo. </h2><br>  Result√≥ que no todo es tan aterrador como parec√≠a a primera vista.  Se requiere que el usuario siga solo algunas recomendaciones para que el sistema funcione correctamente y satisfaga el rendimiento de la unidad de estado s√≥lido durante mucho tiempo.  Repetimos al final: un sistema de distribuci√≥n limpio del sistema operativo, los controladores actuales y el firmware del fabricante, as√≠ como la ausencia de "sintonizadores" de terceros del sistema, que, seg√∫n sus desarrolladores, aumentan la productividad en un 146%.  Si el problema no es el hardware, no tendr√° ninguna queja sobre el disco durante toda la vida √∫til de su sistema.  Por lo tanto, no habr√° una larga conclusi√≥n: palabrer√≠a: todo lo que ten√≠a que decir ya se ha dicho.  SSD de alta capacidad para usted, sus altas velocidades y rendimiento estable. <br><br><img src="https://habrastorage.org/webt/tm/9l/t7/tm9lt7ldeox8efnddyomwl0mxrg.jpeg"><br><br>  Para obtener m√°s informaci√≥n sobre los productos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">HyperX</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Kingston</a> , visite el sitio web de la compa√±√≠a. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/452180/">https://habr.com/ru/post/452180/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../452164/index.html">ModLook: esc√°ner de registro ModBus. Celebrando el 20 aniversario del programa</a></li>
<li><a href="../452168/index.html">Creando un juego de ritmo en Unity</a></li>
<li><a href="../452172/index.html">Sistemas complejos Alcanzando un nivel cr√≠tico</a></li>
<li><a href="../452174/index.html">El no te necesita</a></li>
<li><a href="../452178/index.html">An√°lisis: 23 errores populares en ingl√©s escrito y c√≥mo evitarlos</a></li>
<li><a href="../452182/index.html">Encuesta de empleados. El principal error</a></li>
<li><a href="../452184/index.html">Sobre el anonimato en blockchains basados ‚Äã‚Äãen cuentas</a></li>
<li><a href="../452186/index.html">Los lenguajes de programaci√≥n m√°s raros y caros</a></li>
<li><a href="../452188/index.html">Prueba de la unidad de serializaci√≥n Json en Spring Boot</a></li>
<li><a href="../452190/index.html">Uso de la aplicaci√≥n web WebAssembly 20x acelerada</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>