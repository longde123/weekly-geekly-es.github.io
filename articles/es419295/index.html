<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèæ‚Äçüç≥ ‚ôªÔ∏è üê• Multimodularidad y Daga 2. Conferencia Yandex üë¶üèø ü§π üë©üèæ‚Äçü§ù‚Äçüë®üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cuando su aplicaci√≥n se basa en una arquitectura de m√≥dulos m√∫ltiples, debe dedicar mucho tiempo a garantizar que todas las comunicaciones entre los m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Multimodularidad y Daga 2. Conferencia Yandex</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/419295/">  Cuando su aplicaci√≥n se basa en una arquitectura de m√≥dulos m√∫ltiples, debe dedicar mucho tiempo a garantizar que todas las comunicaciones entre los m√≥dulos est√©n escritas correctamente en el c√≥digo.  La mitad de este trabajo se puede confiar al marco Dagger 2. El jefe del grupo Yandex.Map para Android, Vladimir Tagakov <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">Noxa,</a> habl√≥ sobre los pros y los contras de la multimodularidad y la organizaci√≥n conveniente de los m√≥dulos internos DI utilizando Dagger 2. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/pMEAD6jjbaI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  - Mi nombre es Vladimir, estoy desarrollando Yandex.Maps y hoy les contar√© sobre la modularidad y la segunda Daga. <a name="habracut"></a><br><br>  Entend√≠ la parte m√°s larga cuando la estudi√© yo misma, la m√°s r√°pida.  La segunda parte, sobre la que me sent√© durante varias semanas, te la contar√© de manera r√°pida y concisa. <br><br><img src="https://habrastorage.org/webt/t5/2r/s5/t52rs5gcestw_7jvexuardxaaus.jpeg"><br><br>  ¬øPor qu√© comenzamos un proceso dif√≠cil de dividir en m√≥dulos en Maps?  Solo quer√≠amos aumentar la velocidad de construcci√≥n, todos lo saben. <br><br>  El segundo punto del objetivo es reducir el enganche de c√≥digo.  Tom√© el equipo de Wikipedia.  Esto significa que quer√≠amos reducir las interconexiones entre los m√≥dulos para que los m√≥dulos est√©n separados y puedan usarse fuera de la aplicaci√≥n.  Declaraci√≥n inicial del problema: otros proyectos de Yandex deber√≠an poder usar parte de la funcionalidad de Maps exactamente como lo hacemos nosotros.  Y para desarrollar esta funcionalidad, estamos comprometidos con el desarrollo del proyecto. <br><br>  Quiero lanzar una zapatilla ardiente hacia [k] apt, lo que reduce la velocidad de montaje.  No lo odio mucho, pero lo amo mucho.  Me deja usar Dagger. <br><br><img src="https://habrastorage.org/webt/9c/bz/iv/9cbzivba2osslltalebrdwqfsre.jpeg"><br><br>  El principal inconveniente del proceso de separaci√≥n del m√≥dulo es, parad√≥jicamente, la desaceleraci√≥n en la velocidad de ensamblaje.  Especialmente al principio, cuando saca los dos primeros m√≥dulos, Com√∫n y algunas de sus funciones, la velocidad general de construcci√≥n del proyecto disminuye, sin importar c√≥mo lo intente.  Al final, como queda menos c√≥digo en su m√≥dulo principal, aumentar√° la velocidad de compilaci√≥n.  Y a√∫n as√≠, esto no significa que todo est√© muy mal, hay formas de evitar esto e incluso obtener ganancias del primer m√≥dulo. <br><br>  El segundo inconveniente es que es dif√≠cil separar el c√≥digo en m√≥dulos.  Quien lo intent√≥, sabe que est√° comenzando a extraer alg√∫n tipo de dependencias, algunos cl√°sicos, y todo termina copiando todo su m√≥dulo principal en otro m√≥dulo y comienza de nuevo.  Por lo tanto, debe comprender claramente el momento en que debe detener y romper la conexi√≥n utilizando alg√∫n tipo de abstracci√≥n.  La desventaja es m√°s abstracciones.  M√°s abstracciones - dise√±o m√°s complejo - m√°s abstracciones. <br><br>  Es dif√≠cil agregar nuevos m√≥dulos Gradle.  Por qu√©  Por ejemplo, llega un desarrollador, lleva una nueva caracter√≠stica al desarrollo, inmediatamente lo hace bien, crea un m√≥dulo separado.  Cual es el problema  Debe recordar todo el c√≥digo disponible, que est√° en el m√≥dulo principal, de modo que, en todo caso, lo reutilice y lo ponga en com√∫n.  Porque el proceso de extraer alg√∫n m√≥dulo en com√∫n es constante hasta que el m√≥dulo principal de la aplicaci√≥n se convierta en una capa delgada. <br><br>  M√≥dulos, m√≥dulos, m√≥dulos ... Los m√≥dulos Gradle, los m√≥dulos Dagger, los m√≥dulos de interfaz son horribles. <br><br><img src="https://habrastorage.org/webt/2b/nj/x2/2bnjx25ooi8xw2exdinm5yfmmys.jpeg"><br><br>  El informe constar√° de tres partes: peque√±o, grande y complejo.  Primero, la diferencia entre Implementaci√≥n y API en AGP.  Android Gradle Plugin 3.0 ha aparecido relativamente recientemente.  ¬øC√≥mo estuvo todo ante √©l? <br><br><img src="https://habrastorage.org/webt/qc/oa/fw/qcoafwzux6royjdv11tr0sqvmug.jpeg"><br><br>  Este es un proyecto t√≠pico de un desarrollador saludable, que consta de tres m√≥dulos: el m√≥dulo de la aplicaci√≥n, que es el principal, se ensambla e instala en la aplicaci√≥n, y dos m√≥dulos de funciones. <br><br>  Habla inmediatamente sobre las flechas.  Este es un gran dolor, todos dibujan en la direcci√≥n en la que es conveniente para √©l dibujar.  Para m√≠, quieren decir que desde Core hay una flecha hacia Feature.  Entonces, Feature sabe sobre Core, puede usar clases de Core.  Como puede ver, no hay una flecha entre el Core y la aplicaci√≥n, lo que significa que la aplicaci√≥n no parece estar usando Core.  Core no es un m√≥dulo com√∫n, lo es, todos dependen de √©l, est√° separado, tiene poco c√≥digo.  Si bien no lo consideraremos. <br><br>  Nuestro m√≥dulo principal ha cambiado, tenemos que rehacerlo de alguna manera.  Cambiamos el c√≥digo en √©l.  Color amarillo - cambio de c√≥digo. <br><br><img src="https://habrastorage.org/webt/l4/b1/5w/l4b15wdqsgukdttudzee9vbxne0.jpeg"><br><br>  Despu√©s de reensamblar el proyecto.  Est√° claro que despu√©s de cambiar un m√≥dulo, tendr√° que ser reconstruido, recompilado.  Esta bien <br><br><img src="https://habrastorage.org/webt/_q/jo/mh/_qjomhp4-vkpioy_0ai112zuam0.jpeg"><br><br>  Despu√©s de que el m√≥dulo de caracter√≠sticas tambi√©n se ensambla, lo que depende de ello.  Tambi√©n est√° claro, su dependencia se ha reagrupado y necesita actualizarse.  Qui√©n sabe qu√© ha cambiado all√≠. <br><br>  Y aqu√≠ sucede lo m√°s desagradable.  El m√≥dulo de la aplicaci√≥n est√° funcionando, aunque no est√° claro por qu√©.  S√© con certeza que no uso Core de ninguna manera, y no est√° claro por qu√© se est√° reconstruyendo la aplicaci√≥n.  Y √©l es muy grande, porque al principio del camino, y este es un dolor muy grande. <br><br><img src="https://habrastorage.org/webt/hu/j8/la/huj8larhnqmhr6dq7qhp2etnkc8.jpeg"><br><br>  Adem√°s, si varias funciones, muchos m√≥dulos dependen de Core, entonces todo el mundo se volver√° a montar, lleva mucho tiempo. <br><br>  Actualicemos a la nueva versi√≥n de AGP y reemplacemos, como dice el manual, todos compilemos con la API, y no con la Implementaci√≥n, como pensaba.  Nada cambia  Los esquemas son id√©nticos.  ¬øCu√°l es la nueva forma de especificar dependencias de implementaci√≥n?  ¬øImagina el mismo esquema usando solo esta palabra clave, sin una API?  Se ver√° as√≠. <br><br><img src="https://habrastorage.org/webt/nj/ns/fg/njnsfgghg9om12lpwlu5yh21hmu.jpeg"><br><br>  Aqu√≠ en la implementaci√≥n, se ve claramente que hay una conexi√≥n entre Core y la aplicaci√≥n.  Aqu√≠ podemos entender claramente que no lo necesitamos, queremos deshacernos de √©l, as√≠ que simplemente qu√≠telo.  Todo se est√° volviendo m√°s f√°cil. <br><br><img src="https://habrastorage.org/webt/rp/lx/xr/rplxxrfrsee28vucqevngre8xq4.jpeg"><br><br>  Ahora casi todo est√° bien, incluso m√°s que.  Si cambiamos alguna API en Core, agregamos una nueva clase, un nuevo m√©todo p√∫blico o privado de paquete, entonces Core y Feature se reconstruir√°n.  Si cambia la implementaci√≥n dentro del m√©todo o agrega un m√©todo privado, entonces la reconstrucci√≥n te√≥rica de Feature no deber√≠a suceder en absoluto, porque nada ha cambiado. <br><br><img src="https://habrastorage.org/webt/mk/ub/1e/mkub1ect0enydqitlermncinoyk.jpeg"><br><br>  Vamos m√°s all√°.  Dio la casualidad de que muchos dependen de nuestro n√∫cleo.  Core es probablemente alg√∫n tipo de red o procesamiento de datos de usuario.  Debido a que esto es Red, todo cambia con bastante frecuencia, todo se reconstruye y tenemos el mismo dolor del que nos escapamos con cuidado. <br>  Veamos dos formas de lidiar con esto. <br><br><img src="https://habrastorage.org/webt/um/_d/c-/um_dc-9rumfh-vyvlqdavr6zvgg.jpeg"><br><br>  Solo podemos transferir las API de nuestro m√≥dulo Core a un m√≥dulo separado, su API, que usamos.  Y en un m√≥dulo separado podemos sacar la implementaci√≥n de estas interfaces. <br><br><img src="https://habrastorage.org/webt/eu/o8/0-/euo80-48enzm_rvppcwmb1qbjca.jpeg"><br><br>  Puedes mirar la conexi√≥n en la pantalla.  Core Impl no estar√° disponible para funciones.  Es decir, no habr√° conexi√≥n entre las caracter√≠sticas y la implementaci√≥n de Core.  Y el m√≥dulo, resaltado en amarillo, solo proporcionar√° f√°bricas que proporcionar√°n alg√∫n tipo de implementaci√≥n de sus interfaces desconocidas para cualquiera. <br><br>  Despu√©s de tal conversi√≥n, quiero llamar la atenci√≥n sobre el hecho de que la API Core, debido al hecho de que la palabra clave API est√° en pie, estar√° disponible para todas las funciones de forma transitiva. <br><br><img src="https://habrastorage.org/webt/7a/lq/iu/7alqiukvhfpie8_olsuekuczfgi.jpeg"><br><br>  Despu√©s de estas transformaciones, cambiamos algo en la implementaci√≥n que haces con mayor frecuencia, y solo se reconstruir√° el m√≥dulo con las f√°bricas, es muy ligero, peque√±o, ni siquiera tienes que considerar cu√°nto tiempo lleva. <br><br><img src="https://habrastorage.org/webt/8p/ri/ah/8priahixb3prj9of3cqpzqjxaeg.jpeg"><br><br>  Otra opci√≥n no siempre funciona.  Por ejemplo, si se trata de alg√∫n tipo de red, dif√≠cilmente puedo imaginar c√≥mo puede suceder esto, pero si se trata de alg√∫n tipo de pantalla de inicio de sesi√≥n de usuario, entonces puede ser. <br><br><img src="https://habrastorage.org/webt/eu/rf/cs/eurfcs3tlrk9jasm6fqphr5lb4y.jpeg"><br><br>  Podemos hacer Sample, el mismo m√≥dulo ra√≠z completo que App, y recopilar solo una caracter√≠stica en √©l, ser√° muy r√°pido y se puede desarrollar r√°pidamente de forma iterativa.  Al final de la presentaci√≥n, le mostrar√© cu√°nto tiempo lleva construir y crear una muestra. <br><br>  Con la primera parte terminada.  ¬øQu√© m√≥dulos hay? <br><br><img src="https://habrastorage.org/webt/sv/jm/xk/svjmxkqxazeydcsinvypfuh_-24.jpeg"><br><br>  Hay tres tipos de m√≥dulos.  Lo com√∫n, por supuesto, debe ser lo m√°s ligero posible, y no debe contener ninguna caracter√≠stica, sino solo la funcionalidad utilizada por todos.  Para nosotros en nuestro equipo esto es especialmente importante.  Si proporcionamos nuestros m√≥dulos de funciones a otras aplicaciones, los forzaremos a arrastrar Common en cualquier caso.  Si es muy gordo, nadie nos amar√°. <br><br><img src="https://habrastorage.org/webt/bd/n-/1s/bdn-1si0fx1fxre86gldhgepx34.jpeg"><br><br>  Si tienes un proyecto m√°s peque√±o, entonces con Common puedes sentirte m√°s relajado, entonces tampoco tienes que ser muy celoso. <br><br><img src="https://habrastorage.org/webt/ah/jj/fi/ahjjfiyfzltnadyswlalhsoeh-u.jpeg"><br><br>  El siguiente tipo de m√≥dulo es independiente.  El m√≥dulo m√°s com√∫n e intuitivo que contiene una caracter√≠stica espec√≠fica: alg√∫n tipo de pantalla, alg√∫n tipo de script de usuario, etc.  Debe ser lo m√°s independiente posible, y para ello, con mayor frecuencia, puede hacer una aplicaci√≥n de muestra y desarrollarla en ella.  La aplicaci√≥n de muestra es muy importante al comienzo del proceso de divisi√≥n, porque todo se est√° construyendo lentamente y desea obtener ganancias lo m√°s r√°pido posible.  Al final, cuando todo se divide en m√≥dulos, puede reconstruir todo, ser√° r√°pido.  Porque no ser√° reconstruido una vez m√°s. <br><br><img src="https://habrastorage.org/webt/sz/la/p5/szlap5ot3jnjdtvsj5roegwlboy.jpeg"><br><br>  M√≥dulos de famosos.  Yo mismo se me ocurri√≥ la palabra.  El punto es que es muy famoso por todos, y muchos dependen de √©l.  La misma red.  Ya dije, si a menudo lo vuelve a armar, ¬øc√≥mo puede evitar el hecho de que todo se vuelva a montar de usted?  Hay otra manera que se puede utilizar para proyectos peque√±os para los que no vale la pena el objetivo de dar todo como una adicci√≥n separada, un artefacto separado. <br><br><img src="https://habrastorage.org/webt/pk/yq/u8/pkyqu8xflbfu40ufwly3wr4rgzi.jpeg"><br><br>  ¬øC√≥mo se ve?  Repetimos que elimine la API de Celebrity, elimine su implementaci√≥n y ahora mire sus manos, preste atenci√≥n a las flechas de Feature a Celebrity.  Esto esta pasando.  La API de su m√≥dulo cay√≥ en Com√∫n, la implementaci√≥n permaneci√≥ en ella y la f√°brica que proporciona la implementaci√≥n de esta API apareci√≥ en su m√≥dulo principal.  Si alguien miraba a Mobius, entonces Denis Neklyudov hablaba de ello.  Esquema muy similar. <br><br>  Usamos Dagger en el proyecto, nos gusta y quer√≠amos aprovechar al m√°ximo este beneficio en el contexto de diferentes m√≥dulos. <br><br><img src="https://habrastorage.org/webt/kr/ak/xu/krakxunqnjjjoinel9yk0sfbemc.jpeg"><br><br>  Quer√≠amos que cada m√≥dulo tuviera un gr√°fico de dependencia independiente, que tuviera un componente ra√≠z espec√≠fico desde el que pudiera hacer cualquier cosa, quer√≠amos tener nuestro propio c√≥digo generado para cada m√≥dulo Gradle.  No quer√≠amos que el c√≥digo generado se arrastrara al principal.  Quer√≠amos la mayor validaci√≥n en tiempo de compilaci√≥n posible.  Sufrimos de [k] apt, al menos deber√≠amos obtener alg√∫n beneficio de lo que Dagger nos da.  Y con todo esto, no quer√≠amos obligar a nadie a usar Dagger.  Ni el que implementa el m√≥dulo de funciones nuevas por separado, ni el que luego lo consume, son nuestros colegas que solicitan algunas funciones por s√≠ mismos. <br><br>  ¬øC√≥mo organizar un gr√°fico de dependencia separado dentro de nuestro m√≥dulo de caracter√≠sticas? <br><br><img src="https://habrastorage.org/webt/9p/-u/im/9p-uimpq3hakpiwmedw-kinrsai.jpeg"><br><br>  Puede intentar usar Subcomponente, e incluso funcionar√°.  Pero esto tiene bastantes defectos.  Puede ver que en Subcomponente no est√° claro qu√© dependencias usa de Componente.  Para comprender esto, debe volver a armar el proyecto de manera larga y dolorosa, mirar lo que Dagger jura y agregarlo. <br>  Adem√°s, los subcomponentes est√°n dispuestos de tal manera que obligan a otros a usar Dagger, y no resultar√° f√°cil para sus clientes y usted mismo si decide rechazar en alg√∫n m√≥dulo. <br><br><img src="https://habrastorage.org/webt/d3/wz/vj/d3wzvj5_hjyy31e9rl-6hlo36ck.jpeg"><br><br>  Una de las cosas m√°s desagradables es que cuando se usa Subcomponente, todas las dependencias se incorporan al m√≥dulo principal.  Dagger est√° dise√±ado para que los subcomponentes sean generados por una clase integrada de sus componentes de trama, el padre.  ¬øQuiz√°s alguien estaba mirando el c√≥digo generado y su tama√±o en sus componentes generados?  Tenemos 20 mil l√≠neas en √©l.  Dado que los subcomponentes siempre son clases anidadas para componentes, resulta que los subcomponentes de los subcomponentes tambi√©n est√°n anidados, y todo el c√≥digo generado cae en el m√≥dulo principal, este archivo de veinte l√≠neas que debe compilarse y necesita ser refactorizado, Studio comienza a disminuir la velocidad - dolor. <br><br>  Pero hay una soluci√≥n.  Puede usar solo Componente. <br><br><img src="https://habrastorage.org/webt/dr/1b/lc/dr1blc8pj2qzzhxs3pnnu7lbqui.jpeg"><br><br>  En Dagger, un componente puede especificar dependencias.  Esto se muestra en el c√≥digo y en la imagen.  Dependencias en las que especifica m√©todos de aprovisionamiento, m√©todos de f√°brica que muestran de qu√© entidades depende su componente.  Los quiere en el momento de la creaci√≥n. <br>  Antes, siempre pens√© que solo se pueden especificar otros componentes en estas dependencias, y esa es la raz√≥n: la documentaci√≥n lo dice. <br><br><img src="https://habrastorage.org/webt/gk/us/45/gkus45n1uhs0jhqjojmciaa3y48.jpeg"><br><br>  Ahora entiendo lo que significa usar la interfaz de componente, pero antes pensaba que era solo un componente.  De hecho, debe usar una interfaz compuesta de acuerdo con las reglas para crear una interfaz para un componente.  En resumen, simplemente aprovisione m√©todos, cuando solo tiene captadores para alg√∫n tipo de dependencias.  Tambi√©n puede encontrar c√≥digo de muestra en la documentaci√≥n de Dagger. <br><br><img src="https://habrastorage.org/webt/ry/jo/63/ryjo63y8bfqo1a5kfkgeff4iv10.jpeg"><br><br>  OtherComponent tambi√©n est√° escrito all√≠, y esto es confuso, porque de hecho, no solo puede insertar componentes all√≠. <br><br>  ¬øC√≥mo nos gustar√≠a utilizar este negocio en realidad? <br><br><img src="https://habrastorage.org/webt/sy/v1/r_/syv1r_5jzsr7i8vkniesru582gg.jpeg"><br><br>  En realidad, hay un m√≥dulo de caracter√≠sticas, tiene un paquete API visible, ubicado cerca de la ra√≠z de todos los paquetes, y dice que hay un punto de entrada: FeatureActivity.  No es necesario usar typealias, solo para aclararlo.  Puede ser un fragmento, puede ser un ViewController, no importa.  Y existen sus dependencias, FeatureDeps, donde se indica que necesita un contexto, alg√∫n servicio de red, algo com√∫n que desee obtener de la aplicaci√≥n, y cualquier cliente est√° obligado a satisfacer esto.  Cuando lo haga, todo funcionar√°. <br><br><img src="https://habrastorage.org/webt/tu/rl/yk/turlykyi-zrmheakatdmpasqqr4.jpeg"><br><br>  ¬øC√≥mo usamos todo esto en el m√≥dulo de funciones?  Aqu√≠ uso Activity, esto es opcional.  Como de costumbre, creamos nuestro propio componente ra√≠z Dagger y usamos el m√©todo m√°gico findComponentDependencies, es muy similar a Dagger para Android, pero no podemos usarlo principalmente porque no queremos arrastrar subcomponentes.  De lo contrario, podemos tomar toda la l√≥gica de ellos. <br><br>  Al principio trat√© de decir c√≥mo funciona, pero puedes verlo en el proyecto de muestra el viernes.  ¬øC√≥mo deber√≠an usarlo los clientes de su biblioteca en su m√≥dulo principal? <br><br><img src="https://habrastorage.org/webt/ui/nk/mj/uinkmj6kxqhr3218cfbo_y8v9uk.jpeg"><br><br>  En primer lugar, son solo typealias.  De hecho, tiene un nombre diferente, pero por brevedad lo es.  La clase de interfaz MapOfDepth by Dependency le ofrece su implementaci√≥n.  En la aplicaci√≥n, decimos que podemos hacer dependencias de la misma manera que en Dagger para Android, y es muy importante que el componente herede esta interfaz y reciba autom√°ticamente los m√©todos de provisi√≥n.  Daga a partir de este momento comienza a obligarnos a proporcionar esta dependencia.  Hasta que lo proporciones, no se compilar√°.  Esta es la principal comodidad: decidi√≥ organizar una funci√≥n, expandi√≥ su componente con esta interfaz; todo hasta que haga el resto, no solo se compilar√°, sino que producir√° mensajes de error claros.  El m√≥dulo es simple, el punto es que vincula su componente a la implementaci√≥n de la interfaz.  Aproximadamente lo mismo que en Dagger para Android. <br><br>  Pasemos a los resultados. <br><br><img src="https://habrastorage.org/webt/hs/gv/0o/hsgv0oyk_v-jbzjk8lono2uepju.jpeg"><br><br>  Revis√© nuestro mainframe y mi laptop local, antes de eso apagu√© todo lo que era posible.  Si agregamos un m√©todo p√∫blico a Feature, el tiempo de compilaci√≥n es significativamente diferente.  Aqu√≠ muestro las diferencias cuando estoy construyendo un proyecto de muestra.  Esto es 16 segundos.  O cuando recojo todas las cartas, significa dos minutos para sentarme y esperar cada cambio, incluso m√≠nimo.  Por lo tanto, desarrollamos muchas caracter√≠sticas que desarrollaremos en proyectos de muestra.  En el mainframe, el tiempo es comparable. <br><br><img src="https://habrastorage.org/webt/ey/ou/va/eyouvaxzp3kw8cl0eb3jznokvpe.jpeg"><br><br>  Otro resultado importante.  Antes de resaltar el m√≥dulo Feature, se ve√≠a as√≠: en el mainframe eran 28 segundos, ahora son 49 segundos.  Hemos asignado el primer m√≥dulo y ya recibimos una desaceleraci√≥n del ensamblaje casi dos veces. <br><br><img src="https://habrastorage.org/webt/f2/px/_o/f2px_oqd8uktolgh3-f2ae8j6to.jpeg"><br><br>  Y otra opci√≥n es un ensamblaje incremental simple de nuestro m√≥dulo, no una caracter√≠stica, como en el anterior.  28 segundos fueron hasta que se asign√≥ el m√≥dulo.  Cuando asignamos un c√≥digo que no necesitaba ser reconstruido cada vez, y [k] apt, que no ten√≠a que ejecutarse cada vez, ganamos tres segundos.  Dios sabe qu√©, pero espero que con cada nuevo m√≥dulo, el tiempo solo disminuya. <br><br>  Aqu√≠ hay enlaces √∫tiles a art√≠culos: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">API versus implementaci√≥n</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo con medidas de tiempo de construcci√≥n</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">m√≥dulo de muestra</a> .  La presentaci√≥n estar√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">disponible</a> .  Gracias </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es419295/">https://habr.com/ru/post/es419295/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es419279/index.html">El resumen de materiales interesantes para el desarrollador m√≥vil # 264 (30 de julio - 5 de agosto)</a></li>
<li><a href="../es419281/index.html">rcm - administrador de archivos rc: ajuste y uso</a></li>
<li><a href="../es419283/index.html">Bezos arroja dinero e ingenieros para desarrollar un cohete en relaci√≥n con la aceleraci√≥n de la carrera espacial.</a></li>
<li><a href="../es419289/index.html">Escucha y habla: anuncio de HolyJS 2018 Mosc√∫</a></li>
<li><a href="../es419291/index.html">Anuncio de Heisenbug 2018 Mosc√∫: respuestas a todas las preguntas</a></li>
<li><a href="../es419297/index.html">Ver comentarios sobre Habr√© en el orden de agregar</a></li>
<li><a href="../es419299/index.html">Una l√°mpara inteligente que muestra el estado de √°nimo de tu ciudad.</a></li>
<li><a href="../es419303/index.html">El informe de Tesla mostr√≥ mayores p√©rdidas e ingresos de lo que esperaban los inversores</a></li>
<li><a href="../es419305/index.html">Spy Toy or Find: M√°quina de escribir Barbie ‚Ñ¢</a></li>
<li><a href="../es419307/index.html">Roskomnadzor se interesa por las conexiones comerciales de Facebook</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>