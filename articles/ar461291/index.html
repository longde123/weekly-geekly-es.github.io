<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ค๐ฟ ๐ฑ ๐๏ธ Golang: ูุดุงูู ุงูุฃุฏุงุก ุงููุญุฏุฏุฉ ๐จ๐พโ๐ณ ๐ท ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุบุฉ Go ุชูุชุณุจ ุดุนุจูุฉ. ูุงุซู ูู ุฃู ููุงู ุงููุฒูุฏ ูุงููุฒูุฏ ูู ุงููุคุชูุฑุงุช ุ ุนูู ุณุจูู ุงููุซุงู ุ GolangConf ุ ูุงููุบุฉ ูู ูู ุจูู ุงูุชูููุงุช ุงูุนุดุฑุฉ ุงูุฃูุซุฑ ุฑุจุญูุง . ูุฐูู ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Golang: ูุดุงูู ุงูุฃุฏุงุก ุงููุญุฏุฏุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/461291/" style=";text-align:right;direction:rtl">  ูุบุฉ Go ุชูุชุณุจ ุดุนุจูุฉ.  ูุงุซู ูู ุฃู ููุงู ุงููุฒูุฏ ูุงููุฒูุฏ ูู ุงููุคุชูุฑุงุช ุ ุนูู ุณุจูู ุงููุซุงู ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">GolangConf</a> ุ ูุงููุบุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู ูู ุจูู</a> ุงูุชูููุงุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุนุดุฑุฉ</a> ุงูุฃูุซุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฑุจุญูุง</a> .  ูุฐูู ุ ูู ุงูููุทูู ุจุงููุนู ุงูุชุญุฏุซ ุนู ูุดููุงุชูุง ุงููุญุฏุฏุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุงูุฃุฏุงุก.  ุจุงูุฅุถุงูุฉ ุฅูู ุงููุดุงูู ุงูุดุงุฆุนุฉ ูุฌููุน ุงููุบุงุช ุงููุชุฑุฌูุฉ ุ ูุฅู Go ููุง ููุงุนุงุชูุง.  ุชุฑุชุจุท ูุน ุงููุญุณู ุ ุงูููุฏุณ ุ ูุธุงู ุงููุชุงุจุฉ ุ ููููุฐุฌ ุชุนุฏุฏ ุงูููุงู.  ุทุฑู ูุญููุง ูุงูุญููู ูู ุจุนุถ ุงูุฃุญูุงู ูุญุฏุฏุฉ ููุบุงูุฉ. <br><br>  <strong>ุฏุงูููู ุจูุฏููุณูู</strong> ุ ุนูู ุงูุฑุบู ูู ูุจุดุฑ ุฌู ุ ููุงุฌู ุฃูุถูุง ุงููุซูุฑ ูู ุงูุฃุดูุงุก ุงูุบุฑูุจุฉ ููู.  ูู ุดูุก ุบุฑูุจ ุ ูุงูุฃูู ูู ุฐูู ุ ูุซูุฑ ููุงูุชูุงู ุ ูุฌูุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุฎุชุจุฑ</a> ุ ุซู ูุชุญุฏุซ ุนู ุฐูู ูู HighLoad ++.  ุณูุชุถูู ูุต ุงูุชูุฑูุฑ ุงูุฃุฑูุงู ูุงูุฑุณูู ุงูุจูุงููุฉ ูุฃูุซูุฉ ุงูููุฏ ููุชุงุฆุฌ ุงููุญูู ุ ูููุงุฑูุฉ ุฃุฏุงุก ุงูุฎูุงุฑุฒููุงุช ููุณูุง ุจูุบุงุช ูุฎุชููุฉ - ููู ุดูุก ุขุฎุฑ ุ ููุฑู ูููุฉ "ุงูุชุญุณูู".  ูู ูููู ููุงู ุฃู ูุดู ูู ุงููุต - ูู ุฃูู ุฃุชูุง ุจูุฐู ุงููุบุฉ ุงูุจุณูุทุฉ - ููู ูุง ูููู ูุฑุงุกุชู ูู ุงูุตุญู. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/8UESXMJwTpc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><a name="habracut"></a><br>  <strong>ุนู ุงููุชุญุฏุซูู.</strong>  <b>ุฏุงูููู ุจูุฏููุณูู</b> : 26 ุนุงููุง ูู ุงูุฎุจุฑุฉ ุ 20 ุนุงููุง ูู ุงูุนูููุฉ ุ ุจูุง ูู ุฐูู ูุงุฆุฏ ุงููุฌููุนุฉ ุ 5 ุณููุงุช ูู ุงูุจุฑูุฌุฉ ุนูู Go.  <b>ููุฑูู</b> ุฏุงูุดูู: ูุจุฏุน Gramework ุ Maintainer ุ Fast HTTP ุ Black Go-mage. <br><br>  <em>ูุงู ุจุฅุนุฏุงุฏ ุงูุชูุฑูุฑ ุฏุงูููู ุจูุฏููุณูู ูููุฑูู ุฏุงูุดูู ุ ููู ุฏุงููุงู ูุฏู ุชูุฑูุฑุงู ุ ูุณุงุนุฏ ููุฑูู ุนูููุงู.</em> <br><br><h2 style=";text-align:right;direction:rtl">  ุจูุงุก ุงููุบุฉ </h2><br>  ูุฏููุง ูุนูุงุฑ ุงูุฃุฏุงุก - <code>direct</code> .  ูุฐู ุฏุงูุฉ ุชุฒูุฏ ูุชุบูุฑูุง ููู ุชุนุฏ ุชููู ุจุฃู ุดูุก. <br><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">//   var testInt64 int64 func BenchmarkDirect(b *testing.B) { for i := 0; i &lt; bN; i++ { incDirect() } } func incDirect() { testInt64++ }</span></span></code> </pre> <br>  ูุชูุฌุฉ ุงููุธููุฉ <b>1.46 ูุงูู ุซุงููุฉ ููู ุนูููุฉ</b> .  ูุฐุง ูู ุงูุฎูุงุฑ ุงูุฃุฏูู.  ุฃุณุฑุน ูู 1.5 ns ููู ุนูููุฉ ุ ูุฑุจูุง ูู ุชุนูู. <br><br><h3 style=";text-align:right;direction:rtl">  ุชุฃุฌูู ููู ูุญุจู </h3><br>  ูุนุฑู ุงููุซูุฑูู ููุญุจูู ุงุณุชุฎุฏุงู ูุบุฉ ุงูุชุฃุฌูู.  ูู ูุซูุฑ ูู ุงูุฃุญูุงู ูุณุชุฎุฏููุง ูุซู ูุฐุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BenchmarkDefer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(b *testing.B)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i := <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; bN; i++ { incDefer() } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">incDefer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">defer</span></span> incDirect() }</code> </pre> <br>  ููู ูุง ููููู ุงุณุชุฎุฏุงููุง ููุฐุง!  ูู ุชุฃุฌูู ูุฃูู 40 ูุงููุบุฑุงู ููู ุนูููุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">//   BenchmarkDirect-4 2000000000 1.46 / // defer BenchmarkDefer-4 30000000 40.70 /</code> </pre> <br>  ุงุนุชูุฏุช ุฑุจูุง ูุฐุง ุจุณุจุจ ุงููุถููุฉุ  ุฑุจูุง ูุถููุฉ ุณุฑูุน ุฌุฏุงุ <br><br>  Direct ูุถูููุฉ ุ ููุง ูููู ุฃู ุชููู ูุธููุฉ ุงูุชุฃุฌูู ูุถููุฉ.  ูุฐูู ุ ุฌูุนุช ูุธููุฉ ุงุฎุชุจุงุฑ ูููุตูุฉ ุฏูู ูุถููุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BenchmarkDirectNoInline</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(b *testing.B)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i := <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; bN; i++ { incDirectNoInline() } } <span class="hljs-comment"><span class="hljs-comment">//go:noinline func incDirectNoInline() { testInt64++ }</span></span></code> </pre> <br>  ูู ูุชุบูุฑ ุดูุก ุ ุงุณุชุบุฑู ุชุฃุฌูู ููุณ 40 ูุงููุซุงููุฉ.  ุชุฃุฌูู ุนุฒูุฒู ุ ูููู ููุณ ูุงุฑุซูุฉ. <br><br><blockquote style=";text-align:right;direction:rtl">  ุนูุฏูุง ุชุณุชุบุฑู ุงููุธููุฉ ุฃูู ูู 100 ns ุ ููููู ุงูุงุณุชุบูุงุก ุนู ุงูุชุฃุฌูู. </blockquote><br>  ูููู ุนูุฏูุง ุชุณุชุบุฑู ุงููุธููุฉ ุฃูุซุฑ ูู ุฌุฒุก ูู ุงูุซุงููุฉ ุ ููู ุดูุก ุนูู ุญุงูู - ููููู ุงุณุชุฎุฏุงู ุงูุชุฃุฌูู. <br><br><h3 style=";text-align:right;direction:rtl">  ุชูุฑูุฑ ุงููุนููุฉ ุญุณุจ ุงููุฑุฌุน </h3><br>  ุงููุธุฑ ูู ุฎุฑุงูุฉ ุดุนุจูุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BenchmarkDirectByPointer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(b *testing.B)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i := <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; bN; i++ { incDirectByPointer(&amp;testInt64) } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">incDirectByPointer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(n *</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int64</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> { *n++ }</code> </pre> <br>  ูู ูุชุบูุฑ ุดูุก - ูุง ุดูุก ูุณุชุญู ูู ูุฐุง ุงูุนูุงุก. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">//     BenchmarkDirectByPointer-4 2000000000 1.47 / BenchmarkDeferByPointer-4 30000000 43.90 /</code> </pre> <br>  ุจุงุณุชุซูุงุก 3 ns ููู ุชุฃุฌูู ุ ูููู ูุชู ุดุทุจ ูุฐุง ููุชููุจุงุช. <br><br><h3 style=";text-align:right;direction:rtl">  ูุธุงุฆู ูุฌูููุฉ </h3><br>  ูู ุจุนุถ ุงูุฃุญูุงู ูุณุฃู newbies ุ "ูู ูุธููุฉ ูุฌูููุฉ ุงููุตุฏุฑ ุจุงูุธุฉ ุงูุซููุ" <br><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BenchmarkDirectAnonymous</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(b *testing.B)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i := <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; bN; i++ { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { testInt64++ }() } }</code> </pre> <br><blockquote style=";text-align:right;direction:rtl">  ูุธููุฉ ูุฌูููุฉ ุงููุตุฏุฑ ููุณุช ููููุฉ ุ ูุณุชุบุฑู 40.4 ูุงููุซุงููุฉ. </blockquote><br><h3 style=";text-align:right;direction:rtl">  ูุงุฌูุงุช </h3><br>  ููุงู ูุงุฌูุฉ ููููู ูููุฐ ุฐูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> testTypeInterface <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> { Inc() } <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> testTypeStruct <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { n <span class="hljs-keyword"><span class="hljs-keyword">int64</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(s *testTypeStruct)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Inc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { s.n++ }</code> </pre> <br>  ููุงู ุซูุงุซุฉ ุฎูุงุฑุงุช ูุงุณุชุฎุฏุงู ุทุฑููุฉ ุงูุฒูุงุฏุฉ.  ูุจุงุดุฑุฉ ูู ุงููููู: <code>var testStruct = testTypeStruct{}</code> . <br><br>  ูู ุงููุงุฌูุฉ ุงูุฎุฑุณุงููุฉ ุงูููุงุจูุฉ: <code>var testInterface testTypeInterface = &amp;testStruct</code> . <br><br>  ูุน ุชุญููู ูุงุฌูุฉ ููุช ุงูุชุดุบูู: <code>var testInterfaceEmpty interface{} = &amp;testStruct</code> . <br><br>  ุฃุฏูุงู ูู ุชุญููู ูุงุฌูุฉ ุงูุชุดุบูู ูุงูุงุณุชุฎุฏุงู ูุจุงุดุฑุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BenchmarkInterface</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(b *testing.B)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i := <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; bN; i++ { testInterface.Inc() } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BenchmarkInterfaceRuntime</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(b *testing.B)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i := <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; bN; i++ { testInterfaceEmpty.(testTypeInterface).Inc() } }</code> </pre> <br><blockquote style=";text-align:right;direction:rtl">  ุงููุงุฌูุฉ ุ ุนูู ูุฐุง ุงููุญู ุ ูุง ุชููู ุดูุฆูุง. </blockquote><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">//  BenchmarkStruct-4 2000000000 1.44 / BenchmarkInterface-4 2000000000 1.88 / BenchmarkInterfaceRuntime-4 200000000 9.23 /</code> </pre> <br><br>  ุชูุงููู ุชุญููู ูุงุฌูุฉ ููุช ุงูุชุดุบูู ุ ูููููุง ููุณุช ุจุงูุธุฉ ุงูุซูู - ูุณุช ุจุญุงุฌุฉ ุฅูู ุงูุฑูุถ ุนูู ูุฌู ุงูุชุญุฏูุฏ.  ููู ุญุงูู ุงูุงุณุชุบูุงุก ุนููุง ุญูุซูุง ุฃููู ุฐูู. <br><br>  <b>ุงูุฃุณุงุทูุฑ:</b> <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Dereference - ูุคุดุฑุงุช ุฅูุบุงุก ุงูุชุณุฌูู - ูุฌุงููุง. </li><li style=";text-align:right;direction:rtl">  ููุฒุงุช ูุฌูููุฉ ูุฌุงููุฉ. </li><li style=";text-align:right;direction:rtl">  ูุงุฌูุงุช ูุฌุงููุฉ. </li><li style=";text-align:right;direction:rtl">  ุชุญููู ูุงุฌูุฉ ููุช ุงูุชุดุบูู - ููุณุช ูุฌุงููุฉ. </li></ul><br><h3 style=";text-align:right;direction:rtl">  ุงูุชุจุฏูู ุ ุฎุฑูุทุฉ ูุดุฑูุญุฉ </h3><br>  ูู ุงููุงูุฏ ุงูุฌุฏูุฏ ุฅูู Go ูุณุฃู ุนูุง ูุญุฏุซ ุฅุฐุง ุงุณุชุจุฏูุช ุงูุชุจุฏูู ุจุงูุฎุฑูุทุฉ.  ูู ุณูููู ุฃุณุฑุนุ <br><br>  ุงูุชุจุฏูู ูุฃุชู ูู ุฃุญุฌุงู ูุฎุชููุฉ.  ููุฏ ุงุฎุชุจุฑุช ุนูู ุซูุงุซุฉ ุฃุญุฌุงู: ุตุบูุฑ ููุฏุฉ 10 ุญุงูุงุช ุ ูุชูุณุท โโูู 100 ููุจูุฑ ูู 1000 ุญุงูุฉ.  ุชู ุงูุนุซูุฑ ุนูู ุฑูุฒ ุงูุชุจุฏูู ูู 1000 ุญุงูุฉ ูู ุฑูุฒ ุงูุฅูุชุงุฌ ุงูุญูููู.  ุจุงูุทุจุน ุ ูุง ุฃุญุฏ ููุชุจูู ุจูุฏูู.  ูุฐุง ุฑูุฒ ุชู ุฅูุดุงุคู ุชููุงุฆููุง ุ ูุนุงุฏุฉู ูุง ูููู ููุชุงุญ ูุชุงุจุฉ.  ุชู ุงุฎุชุจุงุฑู ุนูู ููุนูู: int ู string.  ูุจุฏู ุฃูู ุณูุชุญูู ุจุดูู ุฃูุซุฑ ูุถูุญุง. <br><br>  <strong>ุงูุชุจุฏูู ููููุง.</strong>  ุฃุณุฑุน ุฎูุงุฑ ูู ุงูุชุจุฏูู ุงููุนูู.  ูุชุจุน ุฐูู ุนูู ุงูููุฑ ูุฐูุจ ุดุฑูุญุฉ ุ ุญูุซ ูุญุชูู ูุคุดุฑ ุนุฏุฏ ุตุญูุญ ุงูููุงุจูุฉ ุนูู ุฅุดุงุฑุฉ ุฅูู ูุธููุฉ.  ุงูุฎุฑูุทุฉ ููุณุช ูุงุฆุฏูุง ุนูู int ุฃู ุงูุณูุณูุฉ. <br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  BenchmarkSwitchIntSmall-4 </td><td>  500000000 </td><td>  3.26 ns / op </td></tr><tr><td>  BenchmarkMapIntSmall-4 </td><td>  100000000 </td><td>  11.70 ns / op </td></tr><tr><td>  BenchmarkSliceIntSmall-4 </td><td>  500000000 </td><td>  3.85 ns / op </td></tr><tr><td>  BenchmarkSwitchStringSmall-4 </td><td>  100000000 </td><td>  12.70 ns / op </td></tr><tr><td>  BenchmarkMapStringSmall-4 </td><td>  100000000 </td><td>  15.60 ูุงูู ุซุงููุฉ / ุงููุฑุฌุน </td></tr></tbody></table></div><br>  ุงูุชุจุฏูู ุนูู ุงูุฃูุชุงุฑ ุฃุจุทุฃ ุจูุซูุฑ ูู ุงูุชุดุบูู.  ุฅุฐุง ุฃูููู ุฅุฌุฑุงุก ุงูุชุจุฏูู ูุง ุฅูู ุณูุณูุฉ ุ ูููู ุฅูู int ุ ููู ุจุฐูู. <br><br>  <strong>ุงูุชุจุฏูู ุงูุฃูุณุท.</strong>  ุงูุชุจุฏูู ูุง ูุฒุงู ูุญูู int ุ ููู ุงูุดุฑูุญุฉ ุชุฌุงูุฒุชู ููููุงู.  ุงูุฎุฑูุทุฉ ูุง ุชุฒุงู ุณูุฆุฉ.  ูููู ุนูู ููุชุงุญ ุณูุณูุฉ ุ ุงูุฎุฑูุทุฉ ุฃุณุฑุน ูู ุงูุชุจุฏูู - ููุง ูู ูุชููุน. <br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  BenchmarkSwitchIntMedium-4 </td><td>  300000000 </td><td>  4.55 ns / op </td></tr><tr><td>  BenchmarkMapIntMedium-4 </td><td>  100000000 </td><td>  17.10 ns / op </td></tr><tr><td>  BenchmarkSliceIntMedium-4 </td><td>  300000000 </td><td>  3.76 ns / op </td></tr><tr><td>  BenchmarkSwitchStringMedium-4 </td><td>  50000000 </td><td>  28.50 ns / op </td></tr><tr><td>  BenchmarkMapStringMedium-4 </td><td>  100000000 </td><td>  20.30 ns / op </td></tr></tbody></table></div><br>  <strong>ููุชุงุญ ูุจูุฑ.</strong>  ุฃูู ุญุงูุฉ ุชุธูุฑ ุงูุงูุชุตุงุฑ ุบูุฑ ุงููุดุฑูุท ููุฎุฑูุทุฉ ูู ุงูุชุฑุดูุญ "ุงูุชุจุฏูู ุจุณูุณูุฉ".  ูู ุงููุงุญูุฉ ุงููุธุฑูุฉ ุ ูุงุฒุช ุดุฑูุญุฉ ุ ูููู ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉ ุฃูุตุญู ุจุงุณุชุฎุฏุงู ููุณ ุงูุชุจุฏูู ููุง.  ูุง ุชุฒุงู ุงูุฎุฑูุทุฉ ุจุทูุฆุฉ ุ ุญุชู ูู ุฃุฎุฐูุง ูู ุงูุงุนุชุจุงุฑ ุฃู ุงูุฎุฑูุทุฉ ุจูุง ููุงุชูุญ ุนุฏุฏ ุตุญูุญ ูุน ูุธููุฉ ุชุฌุฒุฆุฉ ุฎุงุตุฉ.  ุจุดูู ุนุงู ุ ูุฐู ุงููุธููุฉ ูุง ุชูุนู ุดูุฆูุง.  ู int ููุณูุง ูุฏููุง ุงูุชุฌุฒุฆุฉ ู โโint. <br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  BenchmarkSwitchIntLarge-4 </td><td>  100000000 </td><td>  13.6 ns / op </td></tr><tr><td>  BenchmarkMapIntLarge-4 </td><td>  50000000 </td><td>  34.3 ns / op </td></tr><tr><td>  BenchmarkSliceIntLarge-4 </td><td>  100000000 </td><td>  12.8 ns / op </td></tr><tr><td>  BenchmarkSwitchStringLarge-4 </td><td>  20000000 </td><td>  100.0 ns / op </td></tr><tr><td>  BenchmarkMapStringLarge-4 </td><td>  30000000 </td><td>  37.4 ns / op </td></tr></tbody></table></div><br>  <strong>ุงูุงุณุชูุชุงุฌุงุช.</strong>  ุงูุฎุฑูุทุฉ ุฃูุถู ููุท ุนูู ุงููููุงุช ุงููุจูุฑุฉ ูููุณ ูู ุญุงูุฉ ุนุฏุฏ ุตุญูุญ.  ุฃูุง ูุชุฃูุฏ ูู ุฃูู ูู ุฃู ูู ุงูุญุงูุงุช ุจุงุณุชุซูุงุก int ุ ุณูุชุตุฑู ููุง ูู ุงูุญุงู ูู ุงูุณูุณูุฉ.  ุชูุณู ุงูุดุฑูุญุฉ ุฏุงุฆููุง ุนูุฏูุง ุชููู ุงูุธุฑูู ุนุฏุฏูุง ุตุญูุญูุง.  ุงุณุชุฎุฏูู ุฅุฐุง ููุช ุชุฑุบุจ ูู "ุชุณุฑูุน" ุงูุจุฑูุงูุฌ ุจููุฏุงุฑ 2 ูุงูู ุซุงููุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ุงูุชูุงุนู ุจูู ุงูุฑูุชูู </h2><br>  ุงูููุถูุน ูุนูุฏ ุ ููุฏ ุฃุฌุฑูุช ุงูุนุฏูุฏ ูู ุงูุงุฎุชุจุงุฑุงุช ูุณุฃูุฏู ุฃูุซุฑ ุงูุงุฎุชุจุงุฑุงุช.  ูุญู ูุนุฑู <strong>ุงููุณุงุฆู</strong> ุงูุชุงููุฉ <strong>ููุชูุงุนู ุจูู ุงูููุงูุงุช</strong> . <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุฐุฑูุฉ.  ูุฐู ูุณููุฉ ููุชุทุจูู ุงููุญุฏูุฏ - ููููู ุงุณุชุจุฏุงู ุงููุคุดุฑ ุฃู ุงุณุชุฎุฏุงู int. </li><li style=";text-align:right;direction:rtl">  ุชู ุงุณุชุฎุฏุงู Mutex ุนูู ูุทุงู ูุงุณุน ููุฐ Java. </li><li style=";text-align:right;direction:rtl">  ุงูููุงุฉ ูุฑูุฏุฉ ูู ููุนูุง ูู GO. </li><li style=";text-align:right;direction:rtl">  ููุงุฉ ูุฎุฒูุฉ - ูููุงุช ูุฎุฒูุฉ. </li></ul><br>  ุจุงูุทุจุน ุ ููุฏ ุงุฎุชุจุฑุช ุนูู ุนุฏุฏ ุฃูุจุฑ ุจูุซูุฑ ูู goroutines ุงูุชู ุชุชูุงูุณ ุนูู ููุฑุฏ ูุงุญุฏ.  ูููู ุงุฎุชุงุฑ ุซูุงุซุฉ ูููุณู ูุฏููู: ุงููููู - 100 ุ ุงููุชูุณุท โโ- 1000 ูุงููุซูุฑ - 10000. <br><br>  <strong>ููู ุชุนุฑูู ุงูุชุญููู ูุฎุชูู</strong> .  ูู ุจุนุถ ุงูุฃุญูุงู ูุฑูุฏ ูู gorutins ุงููุชุงุจุฉ ูู ูุชุบูุฑ ูุงุญุฏ ุ ูููู ูุฐุง ุฃูุฑ ูุงุฏุฑ ุงูุญุฏูุซ.  ุนุงุฏุฉ ุ ุจุนุฏ ูู ุดูุก ุ ููุชุจ ุงูุจุนุถ ุ ุงูุจุนุถ ููุฑุฃ.  ูู ุฃูุซุฑ ุงููุฑุงุก ูุฑุงุกุฉ - 90ูช ุ ูู ููุชุจูู - 90ูช ููุชุจูู. <br><br>  ูุฐุง ูู ุงูููุฏ ุงููุณุชุฎุฏู ุญุชู ูุชููู goroutine ุงูุฐู ูุฎุฏู ุงูููุงุฉ ูู ุชูููุฑ ูู ูู ุงููุฑุงุกุฉ ูุงููุชุงุจุฉ ุฅูู ูุชุบูุฑ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">go</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> n, ok := &lt;-cw: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> !ok { wgc.Done() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } testInt64 += n <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> cr &lt;- testInt64: } } }()</code> </pre> <br>  ุฅุฐุง ูุตูุช ุฅูููุง ุฑุณุงูุฉ ุนุจุฑ ุงูููุงุฉ ุงูุชู ููุชุจ ูู ุฎูุงููุง ุ ูุฅููุง ูููุฐูุง.  ุฅุฐุง ุชู ุฅุบูุงู ุงูููุงุฉ ุ ูุฅููุง ูููู goroutin.  ูู ุฃู ููุช ุ ูุญู ุนูู ุงุณุชุนุฏุงุฏ ูููุชุงุจุฉ ุฅูู ุงูููุงุฉ ุงูุชู ูุณุชุฎุฏููุง goroutines ุงูุขุฎุฑูู ูููุฑุงุกุฉ. <br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  BenchmarkMutex-4 </td><td>  100000000 </td><td>  16.30 ูุงููุบุฑุงู / ุงููุฑุฌุน </td></tr><tr><td>  BenchmarkAtomic-4 </td><td>  200000000 </td><td>  6.72 ns / op </td></tr><tr><td>  BenchmarkChan-4 </td><td>  5000000 </td><td>  239.00 ns / op </td></tr></tbody></table></div><br>  ูุฐู ูู ุงูุจูุงูุงุช ู goroutine ูุงุญุฏ.  ูุชู ุฅุฌุฑุงุก ุงุฎุชุจุงุฑ ุงูููุงุฉ ุนูู ุงุซููู ูู goroutines: ุฃุญุฏููุง ูุนุงูุฌ ุงูููุงุฉ ุ ูุงูุขุฎุฑ ููุชุจ ุนูู ูุฐู ุงูููุงุฉ.  ููุฏ ุชู ุงุฎุชุจุงุฑ ูุฐู ุงูุฎูุงุฑุงุช ุนูู ูุงุญุฏ. <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููุชุจ ูุจุงุดุฑุฉ ุฅูู ูุชุบูุฑ. </li><li style=";text-align:right;direction:rtl">  Mutex ูุฃุฎุฐ ุณุฌู ุ ููุชุจ ุฅูู ูุชุบูุฑ ููุตุฏุฑ ุณุฌู. </li><li style=";text-align:right;direction:rtl">  ููุชุจ ุงูุฐุฑูุฉ ุฅูู ูุชุบูุฑ ูู ุฎูุงู ุงูุฐุฑูุฉ.  ุฃููุง ููุณุช ูุฌุงููุฉ ุ ููููุง ูุง ุชุฒุงู ุฃุฑุฎุต ุจูุซูุฑ ูู Mutex ุนูู ุฌุงุฑูุชู ูุงุญุฏ. </li></ul><br>  ูุน ูููุฉ ุตุบูุฑุฉ ูู goroutine ุ ูุฅู Atomic ูู ูุณููุฉ ูุนุงูุฉ ูุณุฑูุนุฉ ููุชุฒุงูู ุ ููู ุฃูุฑ ุบูุฑ ููุงุฌุฆ.  Direct ุบูุฑ ููุฌูุฏ ููุง ุ ูุฃููุง ูุญุชุงุฌ ุฅูู ุงูุชุฒุงูู ุ ูุงูุฐู ูุง ูููุฑู.  ููู ุงูุฐุฑุฉ ูุฏููุง ุนููุจ ุ ุจุงูุทุจุน. <br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  BenchmarkMutexFew-4 </td><td>  30000 </td><td>  55894 ns / op </td></tr><tr><td>  BenchmarkAtomicFew-4 </td><td>  100000 </td><td>  14585 ns / op </td></tr><tr><td>  BenchmarkChanFew-4 </td><td>  5000 </td><td>  323859 ns / op </td></tr><tr><td>  BenchmarkChanBufferedFew-4 </td><td>  5000 </td><td>  341321 ns / op </td></tr><tr><td>  BenchmarkChanBufferedFullFew-4 </td><td>  20000 </td><td>  70052 ns / op </td></tr><tr><td>  BenchmarkMutexMostlyReadFew-4 </td><td>  30000 </td><td>  56402 ns / op </td></tr><tr><td>  BenchmarkAtomicMostlyReadFew-4 </td><td>  1000000 </td><td>  2094 ns / op </td></tr><tr><td>  BenchmarkChanMostlyReadFew-4 </td><td>  3000 </td><td>  442689 ns / op </td></tr><tr><td>  BenchmarkChanBufferedMostlyReadFew-4 </td><td>  3000 </td><td>  449666 ns / op </td></tr><tr><td>  BenchmarkChanBufferedFullMostlyReadFew-4 </td><td>  5000 </td><td>  442708 ns / op </td></tr><tr><td>  BenchmarkMutexMostlyWriteFew-4 </td><td>  20000 </td><td>  79708 ns / op </td></tr><tr><td>  BenchmarkAtomicMostlyWriteFew-4 </td><td>  100000 </td><td>  13358 ns / op </td></tr><tr><td>  BenchmarkChanMostlyWriteFew-4 </td><td>  3000 </td><td>  449556 ns / op </td></tr><tr><td>  BenchmarkChanBufferedMostlyWriteFew-4 </td><td>  3000 </td><td>  445423 ns / op </td></tr><tr><td>  BenchmarkChanBufferedFullMostlyWriteFew-4 </td><td>  3000 </td><td>  414626 ns / op </td></tr></tbody></table></div><br>  ูุตู ุงูููุจู ูู Mutex.  ููุช ุฃุชููุน ุฃู ุชููู ุงูููุงุฉ ูู ุฃุณุฑุน ููุช ูุซู Mutex ุ ููู ูุง. <br><br><blockquote style=";text-align:right;direction:rtl">  ุงูููุงุฉ ูู ุฃูุฑ ูู ุญูุซ ุงูุญุฌู ุฃุบูู ูู Mutex. </blockquote><br>  ุนูุงูุฉ ุนูู ุฐูู ุ ูุชู ุนุฑุถ ุงูููุงุฉ ูุงูููุงุฉ ุงููุฎุฒูุฉ ูู ููุณ ุงูุณุนุฑ ุชูุฑูุจูุง.  ูููุงู ููุงุฉ ุ ุญูุซ ูุง ูููุถ ุงููุฎุฒู ุงููุคูุช ูุทูููุง.  ุฅูู ุชุฑุชูุจ ูู ุญูุซ ุงูุญุฌู ุฃุฑุฎุต ูู ุงูุฐู ูููุถ ุงููุฎุฒู ุงููุคูุช.  ููุท ุฅุฐุง ูู ููู ุงููุฎุฒู ุงููุคูุช ูู ุงูููุงุฉ ููุชูุฆูุง ุ ูุฅูู ูููู ููุณู ุชูุฑูุจูุง ูู ุฃูุงูุฑ ุงูุญุฌู ูุซู Mutex.  ูุฐุง ูุง ููุช ุฃุชููุนู ูู ุงูุงุฎุชุจุงุฑ. <br><br>  ูุชู ุชูุฑุงุฑ ูุฐู ุงูุตูุฑุฉ ูุน ุชูุฒูุน ููุฏุงุฑ ุชูููุชูุง ุนูู ุฃู ููู ุชุนุฑูู ุชุญููู - ุนูู MostlyRead ูุนูู MostlyWrite.  ุนูุงูุฉ ุนูู ุฐูู ุ ุชููู ููุงุฉ MostlyRead ุงููุงููุฉ ููุณ ุงูุชูููุฉ ุบูุฑ ุงูููุชููุฉ.  ูููุงุฉ MostlyWrite ุงููุฎุฒูุฉ ูุคูุชูุง ุ ูุงูุชู ูููู ุงููุฎุฒู ุงููุคูุช ูููุง ุบูุฑ ููุชูุฆ ุ ุชููู ููุณ ุชูููุฉ ุงูุจุงูู.  ูุง ุฃุณุชุทูุน ุฃู ุฃููู ุณุจุจ ุฐูู - ูู ุฃุฏุฑุณ ูุฐู ุงููุดููุฉ ุจุนุฏ. <br><br><h2 style=";text-align:right;direction:rtl">  ุชูุฑูุฑ ุงููุนููุงุช </h2><br>  <strong>ููููุฉ ุชูุฑูุฑ ุงููุนููุงุช ุจุดูู ุฃุณุฑุน - ุจุงูุฑุฌูุน ุฃู ุจุงููููุฉุ</strong>  ุฏุนููุง ุงูุชุญูู ูู ุฐูู. <br><br>  ุฑุงุฌุนุช ุนูู ุงููุญู ุงูุชุงูู - ุฃููุงุน ุงููุชุฏุงุฎูุฉ ุงูุตูุน 1-10. <br><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> TP001 <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { I001 <span class="hljs-keyword"><span class="hljs-keyword">int64</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> TV002 <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { I001 <span class="hljs-keyword"><span class="hljs-keyword">int64</span></span> S001 TV001 I002 <span class="hljs-keyword"><span class="hljs-keyword">int64</span></span> S002 TV001 }</code> </pre> <br>  ุณูููู ููููุน ุงููุชุฏุงุฎู ุงูุนุงุดุฑ 10 ุญููู int64 ุ ูุงูุฃููุงุน ุงููุชุฏุงุฎูุฉ ููุชุฏุงุฎู ุงูุณุงุจู ุณุชููู ุฃูุถูุง 10. <br><br>  ุซู ูุชุจ ุงููุธุงุฆู ุงูุชู ุชุฎูู ููุนูุง ูู ุงูุชุนุดูุด. <br><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">NewTP001</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> *</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TP001</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> &amp;TP001{ I001: rand.Int63(), } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">NewTV002</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TV002</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> TV002{ I001: rand.Int63(), S001: NewTV001(), I002: rand.Int63(), S002: NewTV001(), } }</code> </pre> <br>  ููุงุฎุชุจุงุฑ ุ ุงุณุชุฎุฏูุช ุซูุงุซุฉ ุฎูุงุฑุงุช ูู ุงูููุน: ุตุบูุฑ ูุน ุชุฏุงุฎู 2 ุ ูุชูุณุท โโูุน ุชุฏุงุฎู 3 ุ ูุจูุฑ ูุน ุชุฏุงุฎู 5. ุงุถุทุฑุฑุช ุฅูู ุฅุฌุฑุงุก ุงุฎุชุจุงุฑ ูุจูุฑ ุฌุฏูุง ูุน ุชุฏุงุฎู 10 ูู ุงูููู ุ ูููู ููุงู ุงูุตูุฑุฉ ููุณูุง ุชูุงููุง ูุซู 5. <br><br>  <b>ูู ุงููุธุงุฆู ุ ูููู ุชูุฑูุฑ ุงููููุฉ ุถุนู ุณุฑุนุฉ ุงููุฑูุฑ ุจุงูุฑุฌูุน</b> .  ูุฐุง ูุฑุฌุน ุฅูู ุญูููุฉ ุฃู ุชูุฑูุฑ ุงููููุฉ ูุง ูุชู ุชุญููู ุชุญููู ุงููุฑูุจ.  ูููุง ูุฐูู ุ ูุฅู ุงููุชุบูุฑุงุช ุงูุชู ูุฎุตุตูุง ูู ุนูู ุงูููุฏุณ.  ุฃููุง ุฃุฑุฎุต ุจูุซูุฑ ูููุช ุงูุชุดุบูู ุ ูุฌุงูุน ุงูููุงูุฉ.  ุนูู ุงูุฑุบู ูู ุฃูู ูุฏ ูุง ูููู ูุฏูู ุงูููุช ููุงุชุตุงู.  ุงุณุชูุฑุช ูุฐู ุงูุงุฎุชุจุงุฑุงุช ูุจุถุน ุซูุงู - ุฑุจูุง ูุงู ุฌุงูุน ุงูููุงูุฉ ูุง ูุฒุงู ูุงุฆูุงู. <br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  BenchmarkCreateSmallByValue-4 </td><td>  200000 </td><td>  8942 ns / op </td></tr><tr><td>  BenchmarkCreateSmallByPointer-4 </td><td>  100000 </td><td>  15985 ns / op </td></tr><tr><td>  BenchmarkCreateMediuMByValue-4 </td><td>  2000 </td><td>  862317 ns / op </td></tr><tr><td>  BenchmarkCreateMediuMByPointer-4 </td><td>  2000 </td><td>  1228130 ns / op </td></tr><tr><td>  BenchmarkCreateLargeByValue-4 </td><td>  30 </td><td>  47398456 ns / op </td></tr><tr><td>  BenchmarkCreateLargeByPointer-4 </td><td>  20 </td><td>  61928751 ns / op </td></tr></tbody></table></div><br><h2 style=";text-align:right;direction:rtl">  ุงูุณุญุฑ ุงูุงุณูุฏ </h2><br>  ูู ุชุนุฑู ูุงุฐุง ุณููุชุฌ ูุฐุง ุงูุจุฑูุงูุฌุ <br><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> A <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { a, b <span class="hljs-keyword"><span class="hljs-keyword">int32</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { a := <span class="hljs-built_in"><span class="hljs-built_in">new</span></span>(A) aa = <span class="hljs-number"><span class="hljs-number">0</span></span> ab = <span class="hljs-number"><span class="hljs-number">1</span></span> z := (*(*<span class="hljs-keyword"><span class="hljs-keyword">int64</span></span>)(unsafe.Pointer(a))) fmt.Println(z) }</code> </pre> <br>  ุชุนุชูุฏ ูุชูุฌุฉ ุงูุจุฑูุงูุฌ ุนูู ุงููููู ุงูุฐู ุชู ุชูููุฐู ุนููู.  ุนูู endian ููููุงู ุ ุนูู ุณุจูู ุงููุซุงู ุ AMD64 ุ ูุนุฑุถ ุงูุจุฑูุงูุฌ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mn>2</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>32</mn></mrow></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.039ex" height="2.419ex" viewBox="0 -935.7 1308.3 1041.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/company/oleg-bunin/blog/461291/&amp;usg=ALkJrhgsYbjvr7E7TOepUYg2nkCykpAFiQ#MJMAIN-32" x="0" y="0"></use><g transform="translate(500,393)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/company/oleg-bunin/blog/461291/&amp;usg=ALkJrhgsYbjvr7E7TOepUYg2nkCykpAFiQ#MJMAIN-33"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/company/oleg-bunin/blog/461291/&amp;usg=ALkJrhgsYbjvr7E7TOepUYg2nkCykpAFiQ#MJMAIN-32" x="500" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mrow class="MJX-TeXAtom-ORD"><mn>32</mn></mrow></msup></math></span></span><script type="math/tex" id="MathJax-Element-1"> 2 ^ {32} </script>  .  ุนูู endian ูุจูุฑุฉ ุ ูุงุญุฏุฉ.  ูุงููุชูุฌุฉ ูุฎุชููุฉ ุ ูุฃู ูุฐู ุงููุญุฏุฉ ุชุธูุฑ ูู ููุชุตู ุงูุฑูู ุ ููู ุงูููุงูุฉ endian ุงููุจูุฑุฉ ุ ูู ุงูููุงูุฉ. <br><br>  ูุง ุชุฒุงู ููุงู ูุนุงูุฌุงุช ูู ุงูุนุงูู ุญูุซ ููุงุชูุญ endian ุ ุนูู ุณุจูู ุงููุซุงู ุ Power PC.  ุณูููู ูู ุงูุถุฑูุฑู ูุนุฑูุฉ ููุน endian ุงูุฐู ุชู ุชููููู ุนูู ุฌูุงุฒ ุงูููุจููุชุฑ ุงูุฎุงุต ุจู ุนูุฏ ุจุฏุก ุงูุชุดุบูู ุ ูุจู ุฅุฌุฑุงุก ุงุณุชูุชุงุฌุงุช ุญูู ูุง ุชูุนูู ุงูุญูู ุบูุฑ ุงูุขููุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ููุช ุจูุชุงุจุฉ ุฑูุฒ Go ุงูุฐู ุณูุชู ุชูููุฐู ุนูู ุจุนุถ ุฎุงุฏู IBM ูุชุนุฏุฏ ุงููุนุงูุฌุงุช. <br><br>  ููุฏ ุงุณุชุดูุฏุช ุจูุฐุง ุงูููุฏ ูุดุฑุญ ููุงุฐุง ุฃุนุชุจุฑ ูู ุงูุณุญุฑ ุงูุฃุณูุฏ ุบูุฑ ุงูุขูู.  ูุง ุชุญุชุงุฌ ุฅูู ุงุณุชุฎุฏุงูู.  ููู ุณูุฑูู ูุนุชูุฏ ุฃูู ุถุฑูุฑู.  ูููุง ุงูุณุจุจ. <br><br>  ููุงู ูุธููุฉ ุชูุนู ููุณ ุงูุดูุก ูุซู GOB - Go Binary Marshaller.  ูุฐุง ูู ุงูุชุดููุฑ ุ ูููู ุนูู ุบูุฑ ุขููุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">encodeMut</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data []</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">uint64</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(res []</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> { sz := <span class="hljs-built_in"><span class="hljs-built_in">len</span></span>(data) * <span class="hljs-number"><span class="hljs-number">8</span></span> dh := (*header)(unsafe.Pointer(&amp;data)) rh := &amp;header{ data: dh.data, <span class="hljs-built_in"><span class="hljs-built_in">len</span></span>: sz, <span class="hljs-built_in"><span class="hljs-built_in">cap</span></span>: sz, } res = *(*[]<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>)(unsafe.Pointer(&amp;rh)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> }</code> </pre> <br>  ูู ุงููุงูุน ุ ูุฅูู ูุฃุฎุฐ ูุทุนุฉ ูู ุงูุฐุงูุฑุฉ ููุณุญุจ ูุฌููุนุฉ ูู ุจุงูุช ููู. <br><br>  ูุฐุง ููุณ ุญุชู ุฃูุฑ - ูุฐู ูู ุฃูุฑูู.  ูุฐูู ุ ุนูุฏูุง ูุง ููุชุจ Cyril Danshin ูุฏููุฉ ุนุงููุฉ ุงูุฃุฏุงุก ุ ูุง ูุชุฑุฏุฏ ูู ุงูุฏุฎูู ูู ุฃุญุดุงุก ุจุฑูุงูุฌู ูุฌุนูู ุบูุฑ ุขูู. <br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  ุงููุนูุงุฑ gob-4 </td><td>  200000 </td><td>  8466 ns / op </td><td>  120.94 ููุบุงุจุงูุช / ุซุงููุฉ </td></tr><tr><td>  BenchmarkUnsafeMut-4 </td><td>  50000000 </td><td>  37 ู / ุซุงููุฉ </td><td>  27691.06 ููุบุงุจุงูุช / ุซุงููุฉ </td></tr></tbody></table></div><blockquote style=";text-align:right;direction:rtl">  ุณููุงูุด ููุฒุงุช ุฃูุซุฑ ุชุญุฏูุฏูุง ูู Go ูู 7 ุฃูุชูุจุฑ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">GolangConf</a> - ูุคุชูุฑ ูุฃููุฆู ุงูุฐูู ูุณุชุฎุฏููู Go ูู ุงูุชุทููุฑ ุงููููู ูุฃููุฆู ุงูุฐูู ูุนุชุจุฑูู ูุฐู ุงููุบุฉ ุจุฏููุงู.  Daniil Podolsky ูู ูุฌุฑุฏ ุนุถู ูู ูุฌูุฉ ุงูุจุฑูุงูุฌ ุ ุฅุฐุง ููุช ุชุฑุบุจ ูู ููุงูุดุฉ ูุฐู ุงูููุงูุฉ ุฃู ุงููุดู ุนู ุงููุดููุงุช ุฐุงุช ุงูุตูุฉ - ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจุชูุฏูู ุทูุจ</a> ููุญุตูู ุนูู ุชูุฑูุฑ. <br><br>  ููู ุดูุก ุขุฎุฑ ุ ูููุง ูุชุนูู ุจุงูุฃุฏุงุก ุงูุนุงูู ุ ุจุงูุทุจุน ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">HighLoad ++</a> .  ูุญู ููุจู ุฃูุถุง ุงูุทูุจุงุช ููุงู.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุงุดุชุฑุงู</a> ูู ุงููุดุฑุฉ ุงูุฅุฎุจุงุฑูุฉ ูุงูุจูุงุก ุนูู ุงุทูุงุน ุนูู ุงูุฃุฎุจุงุฑ ูู ุฌููุน ูุคุชูุฑุงุชูุง ููุทูุฑู ุงูููุจ. </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar461291/">https://habr.com/ru/post/ar461291/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar461281/index.html">ุชุฌูู ูุฅุนุฏุงุฏ ุฎุงุฏู BIND DNS ูู ุจูุฆุฉ chroot ูู Red Hat (RHEL / CentOS) 7</a></li>
<li><a href="../ar461283/index.html">ููุฏุณุฉ ุงูุจุฑูุฌูุงุช ูุชุตููู ุงููุธุงู: The Big Picture and Resource Guide</a></li>
<li><a href="../ar461285/index.html">5 ุฎูุงุฑุฒููุงุช ุฃุฎุฐ ุงูุนููุงุช ุงูุฑุฆูุณูุฉ</a></li>
<li><a href="../ar461287/index.html">ุชุทููุฑ ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุงููุงูุฑุฉ ูู ูุนุจุฉ ุชูุชูููุฉ ุชุนุชูุฏ ุนูู ุงูุงุณุชุฏูุงู ูุงูุทูุฑุงุช</a></li>
<li><a href="../ar461289/index.html">ุชู ุฅุตุฏุงุฑ CLion 2019.2: ุฏุนู ุงูุชุทููุฑ ุงููุถูู ุ ูุตุญุญ ุงูุฃุฎุทุงุก ูู MSVC ุ ุงูุจุญุซ ุนู ูููุงุช ุงูุฑุฃุณ ุบูุฑ ุงููุณุชุฎุฏูุฉ</a></li>
<li><a href="../ar461297/index.html">ููู ุชุจุฏู ุงููุฌูุงุช ุงููุณุชูุฏูุฉ ุงูุญุฏูุซุฉ</a></li>
<li><a href="../ar461299/index.html">ููู ุบุฒุง ุงูููุจููุชุฑ ุงูุดุฎุตู ุตูุงุนุฉ ุงููุณุงุฆุท ุจุจุฑุงูุฌ ูุงุฌุญุฉ: ููุงูุดุฉ Pro Tools ู Media Composer</a></li>
<li><a href="../ar461303/index.html">ุงุณุชุฎุฏุงู ุจุทุงูุฉ Troika ููุซููุฉ ุชุฃููู ุทุจู ุฅูุฒุงูู</a></li>
<li><a href="../ar461305/index.html">ุดุฑูุฉ ุงูุดุจูุฉ ู MitM. ุงูุฌุฒุก 2</a></li>
<li><a href="../ar461307/index.html">ูุญู ูุฏุนูู ุฅูู VK Hackathon 2019. ุชุฌูุน ุฌูุงุฆุฒ ูุฐุง ุงูุนุงู ูููููู ุฑูุจู.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>