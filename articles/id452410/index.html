<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨ğŸ¾â€ğŸ¤â€ğŸ‘¨ğŸ¼ ğŸ˜‹ ğŸ—» Bash diluncurkan secara detail ğŸ§‘ğŸ¼â€ğŸ¤â€ğŸ§‘ğŸ» ğŸ§š ğŸ‘ </title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Jika Anda menemukan halaman ini dalam pencarian, maka Anda mungkin mencoba menyelesaikan beberapa masalah dengan menjalankan bash. 

 Ada kemungkinan ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bash diluncurkan secara detail</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/452410/">  Jika Anda menemukan halaman ini dalam pencarian, maka Anda mungkin mencoba menyelesaikan beberapa masalah dengan menjalankan bash. <br><br>  Ada kemungkinan bahwa bash lingkungan Anda tidak menetapkan variabel lingkungan dan Anda tidak mengerti mengapa.  Anda mungkin memasukkan sesuatu ke berbagai file boot bash atau ke dalam profil, atau ke semua file secara acak hingga berfungsi. <br><br>  Bagaimanapun, tujuan dari catatan ini adalah untuk menguraikan prosedur startup bash semudah mungkin sehingga Anda dapat mengatasi masalah. <br><br><h2>  Bagan </h2><br>  Diagram alir ini merangkum semua proses saat menjalankan bash. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c6d/dca/884/c6ddca8846f8c34fd80e003c91c4356b.png"><br><br>  Sekarang mari kita melihat lebih dekat pada setiap bagian. <br><a name="habracut"></a><br><h2>  Login Shell? </h2><br>  Pertama, Anda perlu memilih apakah Anda berada di shell login atau tidak. <br><br>  Shell login adalah shell pertama yang Anda masukkan ketika Anda login untuk sesi interaktif.  Shell login tidak memerlukan nama pengguna dan kata sandi.  Anda dapat memaksa peluncuran shell login dengan menambahkan flag <code>--login</code> saat memanggil <code>bash</code> , misalnya: <br><br><pre>  bash - login </pre><br>  Shell login mengkonfigurasi lingkungan dasar ketika Anda pertama kali menjalankan bash shell. <br><br><h2>  Interaktif? </h2><br>  Kemudian Anda menentukan apakah shell itu interaktif atau tidak. <br><br>  Ini dapat diperiksa dengan kehadiran variabel <code>PS1</code> (ini menetapkan fungsi input perintah): <br><br><pre>  if ["$ {PS1-}"];  lalu
   gema interaktif
 lain
   gema non-interaktif
 fi </pre><br>  Atau lihat apakah opsi <code>-i</code> diatur menggunakan variabel tanda hubung khusus dalam bash, misalnya: <br><br><pre>  $ echo $ - </pre><br>  Jika ada <code>i</code> dalam output, maka shell bersifat interaktif. <br><br><h2>  Di shell login? </h2><br>  Jika Anda berada di shell login, maka bash mencari file <code>/etc/profile</code> dan berjalan jika ada. <br><br>  Kemudian ia mencari salah satu dari tiga file ini dalam urutan sebagai berikut: <br><br><pre>  ~ / .bash_profile
 ~ / .bash_login
 ~ /. profil </pre><br>  Ketika menemukan satu, meluncurkan dan melompati yang lain. <br><br><h2>  Dalam shell interaktif? </h2><br>  Jika Anda berada di shell interaktif tanpa login (shell non-login), diasumsikan bahwa Anda telah mengunjungi shell login, lingkungan dikonfigurasikan dan akan diwarisi. <br><br>  Dalam hal ini, dua file berikut dijalankan secara berurutan, jika ada: <br><br><pre>  /etc/bash.bashrc
 ~ / .bashrc </pre><br><h2>  Bukan satu opsi? </h2><br>  Jika Anda tidak berada di shell login atau di shell interaktif, maka lingkungan Anda memang akan kosong.  Ini menyebabkan banyak kebingungan (lihat pekerjaan cron di bawah). <br><br>  Dalam hal ini, bash melihat variabel <code>BASH_ENV</code> dari lingkungan Anda dan mengeksekusi file yang sesuai yang tercantum di sana. <br><br><h2>  Kesulitan dan aturan praktis yang khas </h2><br><h4>  Pekerjaan Cron </h4><br>  <b>Dalam 95% kasus, saya telah men-debug peluncuran bash karena fakta bahwa pekerjaan cron tidak berfungsi seperti yang diharapkan.</b> <br><br>  Tugas sialan ini <b>berfungsi dengan baik ketika saya menjalankannya di baris perintah, tetapi gagal ketika dijalankan di crontab</b> . <br><br>  Ada <b>dua alasan</b> : <br><br><ul><li>  Pekerjaan Cron tidak interaktif. <br></li><li>  Tidak seperti skrip baris perintah, pekerjaan cron tidak mewarisi lingkungan shell. </li></ul><br>  Biasanya Anda tidak memperhatikan atau peduli bahwa skrip shell tidak interaktif karena lingkungan mewarisi dari shell interaktif.  Ini berarti bahwa semua <code>PATH</code> dan <code>alias</code> dikonfigurasikan seperti yang Anda harapkan. <br><br>  Inilah sebabnya mengapa Anda sering harus menetapkan <code>PATH</code> spesifik untuk tugas cron, seperti di sini: <br><br><pre>  * * * * * PATH = $ {PATH}: / path / ke / my / program / folder myprogram </pre><br><h4>  Script yang saling memanggil </h4><br>  Masalah umum lainnya adalah ketika skrip dikonfigurasi secara salah untuk saling memanggil.  Sebagai contoh, <code>/etc/profile</code> merujuk ke <code>~/.bashrc</code> . <br><br>  Biasanya ini terjadi ketika seseorang mencoba untuk memperbaiki beberapa jenis kesalahan dan semuanya tampak berhasil.  Sayangnya, ketika Anda perlu memisahkan berbagai jenis sesi ini, masalah baru muncul. <br><br><h2>  Gambar Docker Sandbox </h2><br>  Untuk bereksperimen dengan startup shell, saya membuat gambar Docker yang dapat Anda gunakan untuk debug startup shell di lingkungan yang aman. <br><br>  Luncurkan: <br><br><pre> <code class="bash hljs">$ docker run -n bs -d imiell/bash_startup $ docker <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> -ti bs bash</code> </pre> <br>  Dockerfile ada di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br><br>  Untuk memaksa login dan mensimulasikan shell login: <br><br><pre> <code class="bash hljs">$ bash --login</code> </pre> <br>  Untuk memeriksa set variabel <code>BASH_ENV</code> : <br><br><pre> <code class="bash hljs">$ env | grep BASH_ENV</code> </pre> <br>  Untuk men-debug <code>crontab</code> skrip sederhana akan dieksekusi setiap menit (di <code>/root/ascript</code> ): <br><br><pre> <code class="bash hljs">$ crontab -l $ cat /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/script.log</code> </pre> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id452410/">https://habr.com/ru/post/id452410/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id452398/index.html">EFORTH untuk kalkulator yang dapat diprogram</a></li>
<li><a href="../id452400/index.html">Bisnis tidak efektif</a></li>
<li><a href="../id452402/index.html">Eksperimen dengan dioda terowongan analog</a></li>
<li><a href="../id452404/index.html">Lima tren ITSM utama untuk tahun ini</a></li>
<li><a href="../id452408/index.html">Toilet Maine Coon</a></li>
<li><a href="../id452412/index.html">Privasi Data, IoT dan Mozilla WebThings</a></li>
<li><a href="../id452414/index.html">HP Reverb - Tinjauan Set VR Baru</a></li>
<li><a href="../id452416/index.html">Animasi kerangka di sisi kartu video</a></li>
<li><a href="../id452418/index.html">Bagaimana cara membuat presentasi produk yang akan melibatkan pelanggan?</a></li>
<li><a href="../id452424/index.html">Kekurangan Helium dapat memperlambat perkembangan komputer kuantum - mendiskusikan situasi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>