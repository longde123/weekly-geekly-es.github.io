<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∂ üò≤ üÖæÔ∏è Pourquoi les physiciens utilisent encore Fortran ‚öæÔ∏è üë®‚Äçüëß‚Äçüëß üç∞</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Je ne sais pas √† quoi ressemblera le langage de programmation en 2000, mais je sais qu‚Äôil s‚Äôappellera FORTRAN. 
 - Charles Anthony Richard Hoar, env. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pourquoi les physiciens utilisent encore Fortran</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/400523/"><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je ne sais pas √† quoi ressemblera le langage de programmation en 2000, mais je sais qu‚Äôil s‚Äôappellera FORTRAN. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Charles Anthony Richard Hoar, env. </font><font style="vertical-align: inherit;">1982</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans l'industrie, le Fortran est rarement utilis√© aujourd'hui - dans l'une des listes de langues populaires, il </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">occupait la 28e place</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Mais Fortran est toujours le langage principal pour les simulations √† grande √©chelle de syst√®mes physiques - c'est-√†-dire pour des choses comme la mod√©lisation astrophysique des √©toiles et des galaxies (par exemple </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flash</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), la dynamique mol√©culaire √† grande √©chelle, les codes de comptage de structures √©lectroniques ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SIESTA</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), les mod√®les climatiques, etc. Dans le domaine du calcul haute performance, dont un sous-ensemble est constitu√© de simulations num√©riques √† grande √©chelle, seuls deux langages sont aujourd'hui utilis√©s - C / C ++ et ¬´modern Fortran¬ª (Fortran 90/95/03/08). Biblioth√®ques </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">MPI ouvertes</font></a><font style="vertical-align: inherit;"> populaires</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des outils de parall√©lisation de code ont √©t√© d√©velopp√©s pour ces deux langages. En g√©n√©ral, si vous avez besoin d'un code rapide qui s'ex√©cute sur plusieurs processeurs, vous n'avez que deux options. Dans le Fortran moderne, il existe une fonctionnalit√© telle que " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coarray</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ", qui permet de travailler directement avec le langage dans une programmation parall√®le. Coarray est apparu dans l'extension Fortran 95 et a ensuite √©t√© inclus dans Fortran 2008. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'utilisation active de Fortran par les physiciens confond souvent les informaticiens et d'autres personnes sans rapport avec ce domaine qui pensent que Fortran est un anachronisme historique.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je voudrais expliquer pourquoi Fortran est toujours utile. Je n'encourage pas les √©tudiants qui √©tudient la physique √† enseigner le Fortran - puisque la plupart d'entre eux feront de la recherche, ils devraient √©tudier le C / C ++ (ou s'arr√™ter √† Matlab / Octave / Python). Je voudrais expliquer pourquoi Fortran est toujours utilis√© et prouver que ce n'est pas seulement parce que les physiciens sont ¬´en retard¬ª (bien que ce soit parfois le cas - l'ann√©e derni√®re, j'ai vu un √©tudiant en physique travailler avec du code Fortran 77, alors que ni lui ni son manager n'ont entendu parler de Fortran 90). Les informaticiens devraient consid√©rer la domination de Fortran dans l'informatique num√©rique comme un d√©fi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avant de me plonger dans le sujet, je veux discuter de l'histoire, car lorsque les gens entendent le mot "Fortran", ils imaginent imm√©diatement des cartes perfor√©es et du code avec des lignes num√©rot√©es. La premi√®re sp√©cification Fortran a √©t√© √©crite en 1954. Le premier Fortran (alors son nom √©tait √©crit en majuscules, FORTRAN) √©tait, selon les normes modernes, une langue infernale, mais c'√©tait un pas en avant incroyable par rapport √† la programmation pr√©c√©dente des assembleurs. FORTRAN √©tait souvent programm√© avec des cartes perfor√©es, comme le rappelle le professeur Miriam Forman de l'Universit√© Stony Brook sans plaisir. Fortran avait de nombreuses versions, dont les plus c√©l√®bres sont les normes 66, 77, 90, 95, 03 et 08. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On dit souvent que Fortran est toujours utilis√© en raison de sa vitesse. Mais est-il le plus rapide? √Ä </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">benchmarksgame.alioth.debian.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">il y a une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comparaison de C et Fortran</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dans plusieurs tests parmi de nombreuses langues. </font><font style="vertical-align: inherit;">Dans la plupart des cas, Fortran et C / C ++ sont les plus rapides. </font><font style="vertical-align: inherit;">Les programmeurs Python pr√©f√©r√©s sont souvent en retard de vitesse 100 fois, mais c'est dans l'ordre des choses pour le code interpr√©t√©. </font><font style="vertical-align: inherit;">Python ne convient pas aux calculs num√©riques complexes, mais convient bien √† un autre. </font><font style="vertical-align: inherit;">Fait int√©ressant, C / C ++ surpasse Fortran dans tous les tests sauf deux, bien qu'en g√©n√©ral ils diff√®rent peu dans les r√©sultats. </font><font style="vertical-align: inherit;">Les tests o√π Fortran gagne, les plus ¬´physiques¬ª sont la simulation d'un syst√®me de n corps et le calcul du spectre. </font><font style="vertical-align: inherit;">Les r√©sultats d√©pendent du nombre de c≈ìurs de processeur, par exemple, Fortran est en retard sur C / C ++ sur le quad core. </font><font style="vertical-align: inherit;">Les tests, dans lesquels Fortran est loin derri√®re C / C ++, lisent et √©crivent des donn√©es la plupart du temps, et √† cet √©gard, la lenteur de Fortran est connue.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le C / C ++ est donc aussi rapide que Fortran, et parfois un peu plus rapide. </font><font style="vertical-align: inherit;">Nous sommes int√©ress√©s par "pourquoi les professeurs de physique continuent-ils √† conseiller √† leurs √©tudiants d'utiliser Fortran au lieu de C / C ++?"</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fortran a un code h√©rit√©</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gr√¢ce √† la longue histoire de Fortran, il n‚Äôest pas surprenant que des montagnes de code physique y soient √©crites. </font><font style="vertical-align: inherit;">Les physiciens essaient de minimiser le temps de programmation, donc s'ils trouvent du code ant√©rieur, ils l'utiliseront. </font><font style="vertical-align: inherit;">M√™me si l'ancien code est illisible, mal document√© et pas le plus efficace, il est plus susceptible d'utiliser l'ancien code √©prouv√© que d'en √©crire un nouveau. </font><font style="vertical-align: inherit;">La t√¢che des physiciens n'est pas d'√©crire du code, ils essaient de comprendre la nature de la r√©alit√©. </font><font style="vertical-align: inherit;">Les professeurs ont toujours le code h√©rit√© √† port√©e de main (souvent ils ont √©crit ce code il y a des d√©cennies), et ils le transmettent √† leurs √©tudiants. </font><font style="vertical-align: inherit;">Cela leur fait gagner du temps et supprime les incertitudes du processus de correction d'erreurs.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les √©tudiants en physique apprennent le Fortran plus facilement que le C / C ++</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je pense que Fortran est plus facile √† apprendre que C / C ++. Fortran 90 et C sont tr√®s similaires, mais Fortran est plus facile √† √©crire. Le C est un langage relativement primitif, donc les physiciens qui choisissent le C / C ++ sont engag√©s dans une programmation orient√©e objet. La POO peut √™tre utile, en particulier dans les grands projets logiciels, mais √©tudiez-la beaucoup plus longtemps. Vous devez √©tudier les abstractions comme les classes et l'h√©ritage. Le paradigme OOP est tr√®s diff√©rent de celui proc√©dural utilis√© par Fortran. Fortran est bas√© sur un paradigme proc√©dural simple qui est plus proche de ce qui se passe sous le capot d'un ordinateur. Lorsque vous optimisez / vectorisez du code pour augmenter la vitesse, le paradigme proc√©dural est plus facile √† utiliser. Les physiciens comprennent g√©n√©ralement le fonctionnement des ordinateurs et pensent en termes de processus physiques, par exemple, le transfert de donn√©es du disque vers la RAM et de la RAM vers le cache du processeur.Ils diff√®rent des math√©maticiens qui pr√©f√®rent penser en termes de fonctions abstraites et de logique. En outre, cette pens√©e est diff√©rente de celle orient√©e objet. L'optimisation du code POO est plus compliqu√©e de mon point de vue que proc√©durale. Les objets sont des structures tr√®s volumineuses par rapport aux structures de donn√©es pr√©f√©r√©es des physiciens: les tableaux.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L√©g√®ret√© One: Fortran Array Work</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les matrices, ou, comme les physiciens les appellent, les matrices, sont au c≈ìur de tout calcul physique. </font><font style="vertical-align: inherit;">Dans Fortran 90+, vous pouvez trouver de nombreuses opportunit√©s de travailler avec eux, comme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et Matlab / Octave. </font><font style="vertical-align: inherit;">Les tableaux peuvent √™tre copi√©s, multipli√©s par un scalaire, multipli√©s entre eux de mani√®re tr√®s intuitive:</font></font><br>
 <br>
<pre><code class="hljs lisp">A = B<font></font>
A = <span class="hljs-number"><span class="hljs-number">3.24</span></span>*B<font></font>
C = A*B<font></font>
B = exp(<span class="hljs-name"><span class="hljs-name">A</span></span>)<font></font>
norm = sqrt(<span class="hljs-name"><span class="hljs-name">sum</span></span>(<span class="hljs-name"><span class="hljs-name">A**2</span></span>))</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, A, B, C sont des tableaux d'une certaine dimension (disons, 10x10x10). C = A * B nous donne la multiplication √©l√©mentaire des matrices si A et B sont de la m√™me taille. Pour la multiplication matricielle, C = matmul (A, B) est utilis√©. Presque toutes les fonctions internes de Fortran (Sin (), Exp (), Abs (), Floor (), etc.) prennent des tableaux comme arguments, ce qui conduit √† un code simple et propre. Il n'y a tout simplement pas de code similaire en C / C ++. Dans une impl√©mentation C / C ++ de base, la simple copie d'un tableau n√©cessite l'ex√©cution de boucles sur tous les √©l√©ments ou l'appel d'une fonction de biblioth√®que. Si vous alimentez un tableau de la mauvaise fonction de biblioth√®que en C, une erreur se produit. La n√©cessit√© d'utiliser des biblioth√®ques au lieu de fonctions internes signifie que le code r√©sultant ne sera pas propre et portable, ni facile √† apprendre.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans Fortran, l'acc√®s aux √©l√©ments d'un tableau fonctionne √† travers la syntaxe simple A [x, y, z], quand en C / C ++ vous devez √©crire A [x] [y] [z]. </font><font style="vertical-align: inherit;">Les √©l√©ments des tableaux commencent par 1, ce qui correspond √† la compr√©hension des physiciens des matrices, et dans les tableaux C / C ++, la num√©rotation commence √† z√©ro. </font><font style="vertical-align: inherit;">Voici quelques fonctionnalit√©s suppl√©mentaires pour travailler avec des tableaux dans Fortran.</font></font><br>
 <br>
<pre><code class="hljs lisp">A = (<span class="hljs-name"><span class="hljs-name">/</span></span> i , i = <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">100</span></span> /)<font></font>
B = A(<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">100</span></span>:<span class="hljs-number"><span class="hljs-number">10</span></span>)<font></font>
C(<span class="hljs-number"><span class="hljs-number">10</span></span>:) = B</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Premi√®rement, le vecteur A est cr√©√© via une boucle do implicite, √©galement connue sous le nom de constructeur de tableau. </font><font style="vertical-align: inherit;">Ensuite, un vecteur B est cr√©√©, compos√© de chaque 10e √©l√©ment de A, en utilisant une √©tape de 10. Et, enfin, le tableau B est copi√© dans le tableau C, √† partir du 10e √©l√©ment. </font><font style="vertical-align: inherit;">Fortran prend en charge la d√©claration de tableaux avec des indices nuls ou n√©gatifs:</font></font><br>
 <br>
<pre><code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">double</span></span> <span class="hljs-type"><span class="hljs-type">precision</span></span>, dimension(<span class="hljs-number"><span class="hljs-number">-1</span></span>:<span class="hljs-number"><span class="hljs-number">10</span></span>) :: myArray</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un indice n√©gatif semble √† premi√®re vue idiot, mais j'ai entendu parler de leur utilit√© - par exemple, imaginez que c'est un domaine suppl√©mentaire pour publier des clarifications. </font><font style="vertical-align: inherit;">Fortran prend √©galement en charge les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">index vectoriels</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Par exemple, vous pouvez transf√©rer les √©l√©ments 1, 5 et 7 d'un tableau A de dimension N x 1 vers un tableau B de dimension 3 x 1:</font></font><br>
 <br>
<pre><code class="hljs lisp">subscripts = (<span class="hljs-name"><span class="hljs-name">/</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span> /)<font></font>
B = A(<span class="hljs-name"><span class="hljs-name">subscripts</span></span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fortran prend en charge les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">masques de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tableau dans toutes les fonctions internes. </font><font style="vertical-align: inherit;">Par exemple, si nous devons calculer le logarithme de tous les √©l√©ments de matrice sup√©rieurs √† z√©ro, nous utilisons:</font></font><br>
 <br>
<pre><code class="hljs lisp">log_of_A = log(<span class="hljs-name"><span class="hljs-name">A</span></span>, mask= A .gt. <span class="hljs-number"><span class="hljs-number">0</span></span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ou nous pouvons annuler tous les √©l√©ments n√©gatifs du tableau sur une seule ligne:</font></font><br>
 <br>
<pre><code class="hljs lisp">where(<span class="hljs-name"><span class="hljs-name">my_array</span></span> .lt. <span class="hljs-number"><span class="hljs-number">0.0</span></span>) my_array = <span class="hljs-number"><span class="hljs-number">0.0</span></span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fortran facilite l'allocation dynamique et la disponibilit√© de tableaux. </font><font style="vertical-align: inherit;">Par exemple, pour placer un tableau √† deux dimensions:</font></font><br>
 <br>
<pre><code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">real</span></span>, dimension(:,:), allocatable :: name_of_array<font></font>
allocate(name_of_array(xdim, ydim))</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En C / C ++, cela </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n√©cessite l'entr√©e suivante</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
 <br>
<pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> **<span class="hljs-built_in"><span class="hljs-built_in">array</span></span>;
<span class="hljs-built_in"><span class="hljs-built_in">array</span></span> = <span class="hljs-built_in"><span class="hljs-built_in">malloc</span></span>(nrows * <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">double</span></span> *));<font></font>
 <font></font>
<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &amp;lt; nrows; i++){
     <span class="hljs-built_in"><span class="hljs-built_in">array</span></span>[i] = <span class="hljs-built_in"><span class="hljs-built_in">malloc</span></span>(ncolumns * <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">double</span></span>));<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour lib√©rer un tableau √† Fortran</font></font><br>
 <br>
<pre><code class="hljs lisp">deallocate(<span class="hljs-name"><span class="hljs-name">name_of_array</span></span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En C / C ++ pour cela</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &amp;lt; nrows; i++){
    <span class="hljs-built_in"><span class="hljs-built_in">free</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">array</span></span>[i]);<font></font>
}<font></font>
<span class="hljs-built_in"><span class="hljs-built_in">free</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">array</span></span>);</code></pre><br>
<h2> :        </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans des langages comme C / C ++, toutes les variables sont pass√©es par valeur, √† l'exception des tableaux qui sont pass√©s par r√©f√©rence. Mais dans de nombreux cas, le passage d'un tableau par valeur a plus de sens. Par exemple, laissez les donn√©es se composer de positions de 100 mol√©cules √† diff√©rentes p√©riodes. Nous devons analyser le mouvement d'une mol√©cule. Nous prenons une tranche du tableau (sous-tableau) correspondant aux coordonn√©es des atomes de cette mol√©cule et la passons √† la fonction. Nous y traiterons une analyse complexe du sous-r√©seau transmis. Si nous le transmettions par r√©f√©rence, les donn√©es transf√©r√©es ne seraient pas localis√©es en m√©moire dans une rang√©e. En raison de la nature de l'acc√®s √† la m√©moire, travailler avec un tel tableau serait lent. Si nous le transmettons par valeur, nous cr√©erons en m√©moire un nouveau tableau dispos√© en ligne. Pour le plus grand plaisir des physiciens, le compilateur se charge de tout le sale travail d'optimisation de la m√©moire.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans Fortran, les variables sont g√©n√©ralement transmises par r√©f√©rence, et non par valeur. </font><font style="vertical-align: inherit;">Sous le capot, le compilateur Fortran optimise automatiquement leur transmission pour une efficacit√© accrue. </font><font style="vertical-align: inherit;">Du point de vue du professeur dans le domaine de l'optimisation de l'utilisation de la m√©moire, le compilateur doit faire plus confiance qu'√† l'√©tudiant! </font><font style="vertical-align: inherit;">En cons√©quence, les </font><font style="vertical-align: inherit;">physiciens utilisent rarement des </font><font style="vertical-align: inherit;">pointeurs, bien que Fortran-90 + </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ils ont</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quelques exemples suppl√©mentaires des diff√©rences entre Fortran et C</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fortran dispose de plusieurs options pour g√©rer le compilateur lors du d√©pannage et de l'optimisation. </font><font style="vertical-align: inherit;">Des erreurs dans le code peuvent √™tre d√©tect√©es au stade de la compilation et non lors de l'ex√©cution. </font><font style="vertical-align: inherit;">Par exemple, toute variable peut √™tre d√©clar√©e en tant que param√®tre, c'est-√†-dire une constante.</font></font><br>
<br>
<pre><code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">double</span></span> <span class="hljs-type"><span class="hljs-type">precision</span></span>, parameter :: hbar = <span class="hljs-number"><span class="hljs-number">6.63e-34</span></span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si le param√®tre du code change, le compilateur renvoie une erreur. </font><font style="vertical-align: inherit;">En C, cela s'appelle </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">const</font></font></a><br>
<br>
<pre><code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">double</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> hbar = <span class="hljs-number"><span class="hljs-number">6.63e-34</span></span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le probl√®me est que const real est diff√©rent du simple real. Si une fonction acceptant real devient const real, elle retournera une erreur. Il est facile d'imaginer comment cela peut entra√Æner des probl√®mes d'interop√©rabilit√© dans le code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fortran a √©galement une sp√©cification d'intention qui indique au compilateur si l'argument pass√© √† la fonction est une entr√©e, une sortie ou √† la fois une entr√©e et un param√®tre de sortie. Cela aide le compilateur √† optimiser le code et augmente sa lisibilit√© et sa fiabilit√©.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fortran poss√®de d'autres fonctionnalit√©s qui sont utilis√©es √† diff√©rentes fr√©quences. </font><font style="vertical-align: inherit;">Par exemple, Fortran 95 a la capacit√© de d√©clarer des fonctions avec le modificateur pur. </font><font style="vertical-align: inherit;">Une telle fonction n'a pas d'effets secondaires - elle modifie uniquement ses arguments et ne modifie pas les variables globales. </font><font style="vertical-align: inherit;">Un cas particulier d'une telle fonction est la fonction √©l√©mentaire, qui accepte et renvoie des scalaires. </font><font style="vertical-align: inherit;">Il est utilis√© pour traiter les √©l√©ments du tableau. </font><font style="vertical-align: inherit;">Le fait que la fonction soit pure ou √©l√©mentaire permet au compilateur d'effectuer une optimisation suppl√©mentaire, en particulier lors de la parall√©lisation du code.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä quoi s'attendre √† l'avenir?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans les calculs scientifiques, le Fortran reste la langue principale et ne va pas dispara√Ætre dans un futur proche. </font><font style="vertical-align: inherit;">Dans l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">enqu√™te</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parmi les visiteurs de la conf√©rence 2014 Supercomputing Convention utilisant cette langue, 100% d'entre eux ont d√©clar√© qu'ils allaient l'utiliser dans les 5 prochaines ann√©es. Il ressort √©galement de l'enqu√™te que 90% ont utilis√© un m√©lange de Fortran et C. Anticipant une augmentation du m√©lange de ces langages, les cr√©ateurs de la sp√©cification Fortran 2015 incluent plus de fonctionnalit√©s pour l'interop√©rabilit√© du code. Le code Fortran est de plus en plus appel√© √† partir du code Python. Les informaticiens qui critiquent l'utilisation de Fortran ne comprennent pas que ce langage reste uniquement adapt√© √† son nom - FOrmula TRANslation, traduisant des formules, c'est-√†-dire convertissant des formules physiques en code. Beaucoup d'entre eux ne savent pas que le langage √©volue et inclut constamment de nouvelles fonctionnalit√©s.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Appeler l'ancien Fortran 90+ moderne est le m√™me que d'appeler l'ancien C ++ car C a √©t√© d√©velopp√© en 1973. D'autre part, m√™me la nouvelle norme Fortran 2008 a une compatibilit√© descendante avec Fortran 77 et la plupart de Fortran 66. Par cons√©quent, le d√©veloppement de la langue est associ√© √† certaines difficult√©s. </font><font style="vertical-align: inherit;">R√©cemment, des chercheurs du MIT ont d√©cid√© de surmonter ces difficult√©s en d√©veloppant √† partir de z√©ro un langage pour HPC appel√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Julia</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , sorti pour la premi√®re fois en 2012. </font><font style="vertical-align: inherit;">Reste √† savoir si Julia prendra la place de Fortran. </font><font style="vertical-align: inherit;">En tout cas, je soup√ßonne que cela prendra tr√®s longtemps.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr400523/">https://habr.com/ru/post/fr400523/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr400511/index.html">√Ä propos de la m√©thode moderne de stockage du combustible nucl√©aire irradi√©</a></li>
<li><a href="../fr400513/index.html">Th√©or√®me d'incompl√©tude de G√∂del en 20 minutes</a></li>
<li><a href="../fr400515/index.html">Blockchainer: avantages de la blockchain pour ceux qui ne conviennent pas aux crypto-monnaies</a></li>
<li><a href="../fr400519/index.html">Imprimante 3D modulaire 3D-Start comme source d'int√©r√™t pour un chat 3D</a></li>
<li><a href="../fr400521/index.html">Apple a corrig√© le bogue et accuse Consumer Reports de m√©thodologie de test incorrecte</a></li>
<li><a href="../fr400525/index.html">D√©veloppement d'un syst√®me de m√©morisation mn√©monique des nombres</a></li>
<li><a href="../fr400527/index.html">R√©√©chantillonnage II. Comparaison du fonctionnement des filtres num√©riques et analogiques d'ordre √©lev√© dans le chemin sonore et r√©ponses aux questions</a></li>
<li><a href="../fr400529/index.html">√âquipement de salle d'op√©ration pour la correction de la vision</a></li>
<li><a href="../fr400531/index.html">La commission de la Douma d'√âtat a approuv√© un projet de loi sur la r√©glementation des services audiovisuels</a></li>
<li><a href="../fr400533/index.html">Le principal paradoxe de la conscience. Pourquoi copier le cerveau ou la personnalit√© n'a pas de sens</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>