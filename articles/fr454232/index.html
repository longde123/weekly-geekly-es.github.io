<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßòüèº üëäüèº üßë POO dans les langages de programmation graphique. Partie 2 MOS et OOP üò¶ üíï üé∑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans la premi√®re partie, j'ai essay√© de montrer qu'un chat OOP noir dans une pi√®ce sombre des langages graphiques existe, m√™me s'il ne s'agit pas d'un...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>POO dans les langages de programmation graphique. Partie 2 MOS et OOP</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454232/"><p>  Dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">premi√®re partie,</a> j'ai essay√© de montrer qu'un chat OOP noir dans une pi√®ce sombre des langages graphiques existe, m√™me s'il ne s'agit pas d'un chat, mais d'un chat √† moiti√© mort de l'√©corcheur Schroedinger, c'est-√†-dire qu'il ne l'est pas.  Un exemple de la mise en ≈ìuvre de la m√©thodologie de la programmation orient√©e objet a √©t√© pr√©sent√©, lorsqu'un programme n'est pas du code C ++ ou Java, mais un diagramme Simulink, SimInTech, SimulationX ou SCADE Esterel - toute notation graphique de la description de l'algorithme. </p><br><p> Dans le mat√©riel publicitaire, Matlab Simulink utilise souvent le terme MOS - Design bas√© sur un mod√®le.  Dans de nombreux textes, ils soulignent que le diagramme graphique de l'algorithme est un mod√®le, ce qui, bien s√ªr, est vrai.  Cependant, dans la d√©finition initiale de MOS, le mod√®le est principalement le mod√®le de l'objet sur lequel le syst√®me de contr√¥le est d√©velopp√©, y compris le logiciel de contr√¥le.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Plus de m√©thodologie MOS est d√©crite ici.</a>  Ainsi, lors du d√©veloppement d'un syst√®me de contr√¥le selon la m√©thodologie MOS, il est possible et n√©cessaire d'utiliser la m√©thodologie OOP pour d√©velopper un logiciel de gestion.  Et pour fermer compl√®tement le probl√®me avec les mod√®les, voici une photo avec les diff√©rences de l'un par rapport √† l'autre.  Si tout est clair, alors vous ne pouvez plus lire. </p><br><p><img width="700" src="https://habrastorage.org/webt/6q/lp/ti/6qlptikqb67uqw2kui8ejgydl7s.png"></p><br><a name="habracut"></a><br><p>  Revenons aux langages graphiques et √† la POO appliqu√©s aux programmes de contr√¥le pour l'industrie.  Le langage de programmation graphique fournit un enregistrement de programme sous la forme d'un diagramme √† partir d'un ensemble de blocs connect√©s par des lignes de communication.  En r√®gle g√©n√©rale, dans la programmation industrielle, un code pour le compilateur et le chargement ult√©rieur dans l'√©quipement cible est cr√©√© √† partir d'un circuit graphique par un g√©n√©rateur de code automatique. </p><br><p>  Dans le cadre de ma sp√©cialit√©, j'ai d√ª travailler avec la gestion de logiciels pour les centrales nucl√©aires o√π il est interdit d'utiliser le C ++ avec des normes de s√©curit√©, uniquement du C pur, et dans certains cas m√™me pas du C, mais une logique ¬´ironique¬ª, o√π les algorithmes sont impl√©ment√©s sous forme de circuits √©lectroniques sur des transistors et relais.  Et le respect des normes est surveill√© par des gars de surveillance s√©v√®res. </p><br><p><img width="700" src="https://habrastorage.org/webt/kt/cu/i1/ktcui1vz0x-4bn3uce7zntd40i0.jpeg"></p><br><p>  Mais ici, aussi surprenant que cela puisse para√Ætre, le d√©veloppement utilise toujours la m√©thodologie OOP.  Parce que lorsque vous ne pouvez pas utiliser la POO, mais que vous le voulez vraiment, vous le pouvez.  Certes, alors tout doit √™tre retourn√©, et ce ne serait pas un C ++ et le code final, pour des normes de s√©curit√© et √ºber alles.  Comme on dit, manger un poisson et ne pas s'asseoir pour des violations. </p><br><p>  Pour cr√©er un objet r√©el par la d√©finition de la POO, nous lions les structures de donn√©es et les sch√©mas de traitement en un seul objet, c'est ce qu'on appelle l'encapsulation.  Et comme nous ne pouvons pas utiliser C ++ pour des syst√®mes NPP fiables, nous devons analyser tout cela lors de la g√©n√©ration du code.  Comme expliqu√© dans les commentaires de l'article pr√©c√©dent, le premier compilateur C ++ Front a fonctionn√© de la m√™me mani√®re, il a traduit le code OOP C ++ en C. pur </p><br><p>  Dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">premi√®re version de l'impl√©mentation de la POO</a> dans un langage graphique, nous avons cr√©√© un bloc sp√©cial contenant un sch√©ma de calcul graphique.  Lors de l'initialisation, ce bloc a li√© le sch√©ma de classes (m√©thode) √† une ¬´instance de classe¬ª sp√©cifique - un ensemble de variables nomm√©es d'une mani√®re sp√©ciale. </p><br><p>  Consid√©rons le deuxi√®me mode de r√©alisation de la m√©thodologie OOP dans les langages de programmation graphique.  La figure 1 montre le fonctionnement de l'algorithme de traitement des capteurs. </p><br><p><img width="700" src="https://habrastorage.org/webt/zi/ci/3_/zici3_ssrtr7--y2enbtoa6flts.png"><br>  <i><font color="#999999">Figure 1. Programme de traitement des capteurs.</font></i> </p><br><p>  Il s'agit d'une m√©thode de classe.  Il correspond √† sa propre cat√©gorie <b>"Capteurs"</b> dans la base de donn√©es - une classe abstraite avec un ensemble donn√© de champs et une instance du capteur sp√©cifique √† la classe <b>KBA31CFO1</b> .  Pour ce capteur, les champs ont des valeurs sp√©cifiques, certains champs sont d√©finis par l'utilisateur, certains champs sont calcul√©s par le processus d'ex√©cution du programme.  voir la photo  2 </p><br><p><img width="700" src="https://habrastorage.org/webt/ht/ei/ct/hteict0a86fegqyvxgqhcllfebc.png"><br>  <i><font color="#999999">Figure 2. La base de donn√©es de signaux avec la cat√©gorie ouverte ¬´Capteur¬ª.</font></i> </p><br><p>  Jusqu'√† pr√©sent, tout est comme dans le premier mode de r√©alisation, o√π nous avons form√© la liaison du sch√©ma de conception √† un capteur sp√©cifique lors de l'installation de l'unit√© sur le circuit.  "O√π est la diff√©rence?"  - demandez-vous.  Et la diff√©rence est √† l'int√©rieur du bloc.  Si dans la premi√®re version il y avait un sch√©ma de conception √† l'int√©rieur, qui a √©t√© copi√© avec chaque installation du bloc, alors dans cette version, l'int√©rieur ressemble √† ceci: </p><br><p><img width="700" src="https://habrastorage.org/webt/7x/nx/hu/7xnxhufgyyih-wha7hqii0szr7o.png"><br>  <i><font color="#999999">Figure 3. L'int√©rieur d'une instance de bloc d'une instance de classe.</font></i> </p><br><p>  Au lieu du sch√©ma de conception, seules la transmission et la r√©ception des donn√©es sont ¬´affich√©es¬ª √† l'int√©rieur du bloc. <br>  Et le calcul lui-m√™me a lieu √† un autre endroit, dans le diagramme de la figure 1. Dans certains cas, il est possible de ne pas utiliser du tout de blocs dans le diagramme de calcul, il suffit d'avoir des instances de la classe de capteur dans la base de donn√©es des singles.  Il s'agit de la deuxi√®me fa√ßon d'impl√©menter l'encapsulation dans les langages graphiques.  L'astuce est que tous les blocs dans le diagramme de la figure 1 sont vectoriels, et ils traitent non pas un signal, mais un vecteur de signaux de tous les capteurs de ce type dans le sch√©ma de calcul.  Si vous activez le mode d'affichage des r√©sultats sur la ligne de communication, alors nous verrons que chaque ligne de communication contient non pas un chiffre, mais un vecteur de 4 nombres (selon le nombre de capteurs dans la base de donn√©es). </p><br><p><img width="700" src="https://habrastorage.org/webt/rt/2k/ml/rt2kmlwmldjmc8n4aqsorxtxqyc.png"><br>  <i><font color="#999999">Figure 4. Sch√©ma de traitement du signal des capteurs en mode de visualisation des valeurs.</font></i> </p><br><p>  Ainsi, un sch√©ma de traitement impl√©mente le traitement de tous les capteurs du projet, chaque capteur √©tant trait√© avec ses propres param√®tres sp√©cifi√©s dans la base de donn√©es en tant que caract√©ristiques d'une instance particuli√®re de la classe.  Par exemple, le limiteur prend la valeur maximale de la base de donn√©es, qui est la m√™me pour les trois premiers capteurs et diff√®re pour le quatri√®me.  (voir fig.5) </p><br><p><img width="450" src="https://habrastorage.org/webt/zf/fk/q_/zffkq_axhvogvctwlxrqfsat2cg.png"><br>  <i><font color="#999999">Figure 5. Param√®tres du bloc limiteur dans le sch√©ma de calcul.</font></i> </p><br><p>  Et qu'en est-il du code r√©sultant, qui est g√©n√©r√© automatiquement selon ce merveilleux sch√©ma, comment parvenez-vous √† √©viter les artefacts OOP?  C'est simple: pas de triche et pas de POO, du pur C dans le code.  Pour chaque bloc du sch√©ma de traitement vectoriel, un cycle sera form√© qui fournira autant de calculs qu'il y a d'instances de classe dans le projet.  Dans notre cas, il y a 4 capteurs, nous formons donc d'abord des tableaux de dimension ¬´4¬ª en lisant les signaux des capteurs: </p><br><pre><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* Index=104 UID=104 GeneratorClassName=TSignalReader Name=buz1.sensor.Macro6.Macro3.Macro157.SignalReader3 Type=    */</span></span> }; state_vars-&gt;kbastdv104_out_0_[<span class="hljs-number"><span class="hljs-number">0</span></span>] = kba31cf001_mf_type; state_vars-&gt;kbastdv104_out_0_[<span class="hljs-number"><span class="hljs-number">1</span></span>] = kba32cf001_mf_type; state_vars-&gt;kbastdv104_out_0_[<span class="hljs-number"><span class="hljs-number">2</span></span>] = kba33cf001_mf_type; state_vars-&gt;kbastdv104_out_0_[<span class="hljs-number"><span class="hljs-number">3</span></span>] = uf40y329084320_mf_type</code> </pre> <br><p>  Ensuite, nous trions tous les blocs dans l'ordre et les ex√©cutons en boucle.  Pour chaque √©l√©ment d'un tableau de type, chaque bloc de calculs sera effectu√© pour tous les capteurs. </p><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* Index=211 UID=211 GeneratorClassName=TAndSrc Name=buz1.sensor.Macro6.And61 Type=  */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;<span class="hljs-number"><span class="hljs-number">4</span></span>;i++){ locals-&gt;v211_out_0_[i] = state_vars-&gt;kbastdv125_out_0_[i] &amp;&amp; (!(locals-&gt;v191_out_7_[i] &gt; <span class="hljs-number"><span class="hljs-number">0.5</span></span>)); <span class="hljs-comment"><span class="hljs-comment">/* Index=212 UID=212 GeneratorClassName=TMulDbl Name=buz1.sensor.Macro6.Mul_oper1 Type= */</span></span> locals-&gt;v209_out_2_[i] = consts-&gt;kbastdv121_a_[i]*state_vars-&gt;kbastdv127_out_0_[i]; <span class="hljs-comment"><span class="hljs-comment">/* Index=213 UID=213 GeneratorClassName=TSumSrc Name=buz1.sensor.Macro6.Add_oper1 Type= */</span></span> locals-&gt;v209_out_3_[i] = (<span class="hljs-number"><span class="hljs-number">1</span></span>)*consts-&gt;kbastdv122_a_[i]+(<span class="hljs-number"><span class="hljs-number">1</span></span>)*locals-&gt;v209_out_2_[i]; ‚Ä¶ }</code> </pre><br>  Apr√®s le calcul, nous enregistrons les signaux pour chaque instance de la classe: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* Index=776 UID=776 GeneratorClassName=TSignalWriter Name=buz1.sensor.Macro6.Macro3.SignalWriter4 Type=    */</span></span> kba31cf001_mf_xb01 = state_vars-&gt;kbastdv207_out_0_[<span class="hljs-number"><span class="hljs-number">0</span></span>]; kba32cf001_mf_xb01 = state_vars-&gt;kbastdv207_out_0_[<span class="hljs-number"><span class="hljs-number">1</span></span>]; kba33cf001_mf_xb01 = state_vars-&gt;kbastdv207_out_0_[<span class="hljs-number"><span class="hljs-number">2</span></span>]; uf40y329084320_mf_xb01 = state_vars-&gt;kbastdv207_out_0_[<span class="hljs-number"><span class="hljs-number">3</span></span>];</code> </pre><br><p>  Comme vous pouvez le voir, il n'y a aucun objet dans le code final.  SI propre, innocent et s√ªr.  Dans l'exemple ci-dessus, la mise en ≈ìuvre de la POO dans un langage graphique, un circuit vectoriel calcule tous les capteurs du m√™me type.  Cette technique vous permet de modifier un sch√©ma pour modifier le traitement de tous les capteurs. </p><br><p>  Un autre avantage suppl√©mentaire de cette approche est l'assurance contre les erreurs.  Imaginez: vous ajoutez manuellement un capteur et √† un endroit, vous avez oubli√© d'augmenter le nombre de r√©p√©titions pendant le traitement dans un cycle.  Aucun analyseur de code statique ne pourra d√©tecter cette erreur, le code est correct.  Et m√™me au travail, cela peut ne pas affecter imm√©diatement et de mani√®re √©vidente. </p><br><p>  Eh bien, au final, le polymorphisme et l'h√©ritage promis.  Dans la premi√®re m√©thode, l'utilisateur a re√ßu de nombreux sch√©mas identiques, qu'il a pu modifier apr√®s l'installation du bloc de sous-mod√®le et, par cons√©quent, effectuer un polymorphisme, modifiant le comportement d'une instance particuli√®re de la classe.  Je pense que tout le monde a devin√© qu'il est possible de changer le sch√©ma de traitement pour un capteur particulier, et nous obtiendrons une nouvelle classe avec des champs qui correspondent, mais les m√©thodes sont diff√©rentes.  Vous pouvez √©galement ajouter de nouveaux champs et obtenir une nouvelle classe avec diff√©rents champs contenant tous les champs du parent et les m√©thodes du parent. </p><br><p>  La figure 6 montre un exemple de deux blocs des classes ¬´parent¬ª et ¬´h√©ritier¬ª.  √Ä l'int√©rieur du bloc, le sch√©ma de calcul de la classe parent est enregistr√©.  Toutes les donn√©es vont √† un bloc vectoriel commun, similaire au bloc de la Fig.  4. La m√©thode de la classe parent est compl√®tement r√©p√©t√©e.  Et puis la classe successeur a un champ suppl√©mentaire <b>Yatm</b> et un recalcul suppl√©mentaire de la valeur en utilisant le bloc d'interpolation lin√©aire. </p><br><p>  Ainsi, il reste possible de changer les m√©thodes de traitement du parent, qui changeront dans toutes les classes-h√©riti√®res, ainsi que de personnaliser individuellement le comportement de l'h√©ritier. </p><br><p><img width="700" src="https://habrastorage.org/webt/cj/uf/fl/cjufflnh6w6vxom0ihlevs34vf0.png"><br>  <i><font color="#999999">Figure 6. Polymorphisme chez les h√©ritiers de la classe.</font></i> </p><br><p>  Pour r√©sumer, nous pouvons affirmer que la m√©thodologie OOP peut √™tre utilis√©e pour cr√©er des logiciels dans des langages de programmation graphiques.  Abstraction, encapsulation, h√©ritage, polymorphisme - tous ces principes sont facilement et naturellement mis en ≈ìuvre par les bons outils de d√©veloppement.  Il est important de noter que le code final, apr√®s g√©n√©ration automatique √† partir d'un langage graphique, reste du C pur sans aucun OOP </p><br><p>  Dans certains cas, le r√©sultat du d√©veloppement d'un logiciel de contr√¥le sous forme graphique n'est pas le code C pour le chargement dans les contr√¥leurs, mais le sch√©ma de circuit "logique de fer", mais la technique d√©crite ci-dessus OOP fonctionne √©galement tr√®s bien. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr454232/">https://habr.com/ru/post/fr454232/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr454216/index.html">Preuve trouv√©e que tous les changements sont un m√©lange d'ordre et de chance</a></li>
<li><a href="../fr454220/index.html">Thermom√®tre √† deux chiffres</a></li>
<li><a href="../fr454222/index.html">Mettez √† niveau le sous-syst√®me de disque de l'ancien serveur avec le bus PCIe 1.0 - 2.0</a></li>
<li><a href="../fr454224/index.html">Recommandations √† Okko: comment gagner des centaines de millions en multipliant quelques matrices</a></li>
<li><a href="../fr454226/index.html">M√©moire sur domaines magn√©tiques cylindriques. Partie 1. Principe de travail</a></li>
<li><a href="../fr454236/index.html">Deux histoires sur la fa√ßon dont ANKI peut vous aider √† apprendre une langue √©trang√®re et √† vous pr√©parer √† un entretien</a></li>
<li><a href="../fr454238/index.html">Marvin Minsky "The Emotion Machine" (traduction Habra, Round Two)</a></li>
<li><a href="../fr454240/index.html">Analyse des ondelettes. 3e partie</a></li>
<li><a href="../fr454242/index.html">"Regardez, quel jetpack j'ai!" "Ha, regardez quelle fus√©e j'ai!" (notes du championnat de fus√©e)</a></li>
<li><a href="../fr454246/index.html">Vari√©t√©s de coordonn√©es utilis√©es dans l'interface graphique Unity3d</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>