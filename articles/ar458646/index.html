<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏻 🏩 🌠 مقايضة ذرية باختصار 🐃 👆🏻 ⏏️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="اعتبارًا من يوليو 2019 ، يوجد حوالي 2000 عملة مشفرة ، ولكن لا توجد آلية صرف واحدة بين مجموعات العملات المختلفة. في هذه المقالة ، نفكر بطريقة مبسطة في ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>مقايضة ذرية باختصار</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458646/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  اعتبارًا من يوليو 2019 ، يوجد حوالي 2000 عملة مشفرة ، ولكن لا توجد آلية صرف واحدة بين مجموعات العملات المختلفة.  في هذه المقالة ، نفكر بطريقة مبسطة في كيفية ترتيب إحدى تقنيات التبادل بدون وسطاء - المقايضات الذرية. <br>  هل لديك قراءة لطيفة! </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/jc/ba/qj/jcbaqjix_if2eyc1wfdplh9y24y.png" alt="شعار"></p><a name="habracut"></a><br><h1 id="atomic-swaps-chto-eto-takoe-i-s-chem-ego-edyat" style=";text-align:right;direction:rtl">  المقايضة الذرية: ما هو وماذا يأكل؟ </h1><br><p style=";text-align:right;direction:rtl">  المقايضات الذرية عبارة عن سلسلة من المعاملات على كلا العقدين الرئيسيين تسمح لك بتبادل العملات دون مشاركة طرف ثالث والثقة في المشارك الثاني في البورصة.  في جوهرها ، يتم إنشاء مثل هذه المعاملة ، والتي يمكن أن تنفق ناتجها إما في وجود مفتاح معين أو بعد وقت. <br>  ليس كل القيود تسمح لتطبيق AtomicSwap.  هناك اثنين من المتطلبات الرئيسية: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  دعم العقود الذكية (مولد هذه الصفقة "الأولية" للغاية) ؛ </li><li style=";text-align:right;direction:rtl">  استخدام نفس cryptomagy (وظيفة التجزئة). </li></ul><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">عقود ذكية؟</b>  <b class="spoiler_title">لا ، لم يسمع</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  العقود الذكية ، بمعنى واسع ، هي خوارزمية "غير ملتصقة" تنفذ إجراءات في ظل ظروف معروفة ولا شيء غير ذلك.  في حالتنا ، يمكن اعتبار العقد الذكي بمثابة صندوق أسود كبير ، يتم تغذيته على عنوان المستلم وعنوان المرسل والمبلغ المرسل ووقت الاحتفاظ بالأموال وتعيين معرف فريد (تجزئة).  الإخراج هو المعاملة المطلوبة مع الظروف. </p></div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">هاش وأصدقائه</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  دالة التجزئة هي شخصية أخرى من قصة الرياضيات العليا.  يحول دفق الإدخال إلى قيمة مختلفة.  نفس البيانات تعطي نفس النتيجة.  عادةً ما يكون الإدخال عبارة عن رقم كبير يسمى المفتاح السري ، والإخراج هو تجزئة.  تحويل تجزئة إلى مفتاح سري غير ممكن. </p></div></div><br><h1 id="kogda-vse-idet-gladko" style=";text-align:right;direction:rtl">  عندما يسير كل شيء بسلاسة </h1><br><p style=";text-align:right;direction:rtl">  النظر في التبادل بين أليس (نعم ، نعم ، أليس لم تعد هي نفسها) وبوب.  أليس لديه بيتكوين (BTC) ، وبوب لديه الأثير (eth).  كل من الشخصيات لها عناوين على كلا blockchains.  على سبيل المثال: ترمز علامات العملة الكبيرة إلى قيود الكتل. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/he/-w/pn/he-wpn_bs0onorq7h0fk9lesjoi.png"></p><br><p style=";text-align:right;direction:rtl">  تنشئ Alice مفتاحًا (رقمًا كبيرًا) ولا تخبر أي شخص بشكل متواضع: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/yg/yp/ki/ygypki8kwue-kfpciozfa1amdao.png"></p><br><p style=";text-align:right;direction:rtl">  بناءً على المفتاح ، تعتبر التجزئة: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/6p/fy/05/6pfy05jkf_gsnkdpnmsobirlksw.png"></p><br><p style=";text-align:right;direction:rtl">  ينشئ عقدًا بمعرّف فريد يساوي التجزئة: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/o0/tb/o7/o0tbo7awy1tggp2hw6_2o4r1bwy.png"></p><br><p style=";text-align:right;direction:rtl">  يرسل المال إلى العقد.  الآن لا يمكنها قضاء بعض الوقت (timelock): </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">انتهى الوقت ، أو timelock</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  Timelock - الوقت الذي سيتمكن منشئ العقد بعده من إعادة الأموال إذا أرسل معاملة من نوع معين (دعنا نسميها "استرداد").  ليس هناك حاجة إلى مفتاح سري لهذه الصفقة.  يمكن لمستخدم آخر سحب الأموال لعنوان المستلم المحدد في العقد (مهم: ليس ملكًا له) إذا أرسل معاملة من نوع مختلف (دعنا نسميها استرداد) مع المفتاح السري. </p><br><p style=";text-align:right;direction:rtl">  بشكل عام ، تكون آلية معالجة معاملات العقود كما يلي: </p><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">if (transaction_type == "refund" and sender == contract_creater and timelock &lt; now()) { send_to(creator_address); } else if (transaction_type == "redeem" and hash(secret_key) == contract_id) { send_to(receiver_address); }</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/qn/a7/gv/qna7gvo-5i4xwnhcfxwtoe8fay4.png"></p><br><p style=";text-align:right;direction:rtl">  أليس تقارير التجزئة لبوب.  يستطيع الآن مراجعة (التحقق) من جميع حقول العقد: تأكد من صحة العناوين ، ومقدار الإرسال ، ووقت تخزين الأموال في العقد (الفترة التي لن تتمكن Alice خلالها من سحبها): </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/dz/9g/03/dz9g03vs129wy9zt4lz1kwbwjo0.png"></p><br><p style=";text-align:right;direction:rtl">  إذا كان كل شيء جيدًا ، يقوم Bob بإنشاء عقد على blockchain الثاني يشبه Alisinom (بنفس المعرف).  يتغير المستلم ، وربما ، المبلغ (إذا لم يكن السعر من 1 إلى 1). </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/y9/he/o3/y9heo3nanmlllp1p1c9wgfoh61m.png"></p><br><p style=";text-align:right;direction:rtl">  أليس تقوم بمراجعة العقد: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/u2/ab/px/u2abpxzaey8qdfotjdrcswduroq.png"></p><br><p style=";text-align:right;direction:rtl">  إذا كانت تتضاعف كل شيء ، فإنها تنشئ معاملة على Ethereum تنفق الأموال على عقد Bob.  الطريقة الوحيدة للقيام بذلك هي توفير مفتاح.  الآن هو معروف: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/bq/0q/57/bq0q57qn1v7p_hg1zfzus21qiy0.png"></p><br><p style=";text-align:right;direction:rtl">  أليس يحصل على إيث: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/69/s8/wu/69s8wut5tgijnspuyr7c4conq9u.png"></p><br><p style=";text-align:right;direction:rtl">  ينظر بوب إلى المفتاح ويقوم بإنشاء معاملة تنفق الأموال على عقد أليس باستخدام مفتاحها: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/yz/pk/j9/yzpkj9qdzxpfshxb6nt6j-40-y4.png"></p><br><p style=";text-align:right;direction:rtl">  النجاح!  الذئاب ممتلئة ، الأغنام آمنة! </p><br><h1 id="kogda-mir-ne-idealen" style=";text-align:right;direction:rtl">  عندما يكون العالم غير مثالي </h1><br><p style=";text-align:right;direction:rtl">  ومع ذلك ، في بعض الأحيان قد يحدث خطأ ما.  هناك مكانان يمكن أن تفشل فيهما البورصة.  للقيام بذلك ، هناك آلية لإعادة الأموال إلى أصحابها الشرعيين. </p><br><p style=";text-align:right;direction:rtl">  لنفترض أن أليس كفتاة كريمة أرسلت أموالًا مقابل عقد ، ولكن بعد التدقيق ، غيّر بوب رأيه بشأن الفراق: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/dz/9g/03/dz9g03vs129wy9zt4lz1kwbwjo0.png"></p><br><p style=";text-align:right;direction:rtl">  Alice تنتظر انتهاء صلاحية timelock المحدد في العقد (على سبيل المثال ، 48 ساعة) وإرجاع صراصير الدم: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/69/vc/dw/69vcdwy1-vgf2fvclawn6gbbfg8.png"></p><br><p style=";text-align:right;direction:rtl">  تحكي قصة أخرى عن أليس المتقلب ، الذي لم يرغب في مواصلة التبادل الذري بعد أن أنشأ بوب العقد.  سيناريو بديل: أليس فقدت المفتاح ولا تستطيع القيام بذلك: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/u2/ab/px/u2abpxzaey8qdfotjdrcswduroq.png"></p><br><p style=";text-align:right;direction:rtl">  ينتظر بوب لبعض الوقت لحظر الأموال (عادة ما يكون أقل من Alice ، حتى Alice لا تسحب أموال Bob في اللحظة الأخيرة ، ثم لا تعيدها ؛ قل 24 ساعة).  إرجاع أليس أموالها بعد timelock لها. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/wl/ij/p-/wlijp-qfuo2p7dlqdxycxnhchg0.png"></p><br><h1 id="zaklyuchenie" style=";text-align:right;direction:rtl">  استنتاج </h1><br><p style=";text-align:right;direction:rtl">  التبادلات الذرية مريحة للغاية للتبادلات من نقطة إلى نقطة ، وتجاوز التبادلات والوسطاء.  يتعهد المشاركون بدفع عمولة فقط لإرسال المعاملات. </p><br><p style=";text-align:right;direction:rtl">  بإيجاز ، في التبادل بين A و C على العقدين B1 و B2 ، يمكن تمييز الخطوات التالية: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  تهيئة العقد على B1 بواسطة المشارك أ ؛ </li><li style=";text-align:right;direction:rtl">  الاستماع إلى عقد على B1 بواسطة الجزء C ؛ </li><li style=";text-align:right;direction:rtl">  تهيئة العقد على B2 بواسطة المشارك C ؛ </li><li style=";text-align:right;direction:rtl">  الاستماع إلى عقد B2 بواسطة A ؛ </li><li style=";text-align:right;direction:rtl">  توفير المفتاح وسحب الأموال إلى B2 بواسطة المشارك أ ؛ </li><li style=";text-align:right;direction:rtl">  الحصول على مفتاح على B2 بواسطة المشارك C ؛ </li><li style=";text-align:right;direction:rtl">  سحب الأموال من B1 من طرف S. </li></ol><br><p style=";text-align:right;direction:rtl">  هذه التكنولوجيا جديدة ، لكن يتم تقديمها بالفعل بشكل نشط.  ربما في المستقبل القريب ، ستكون قادرة على استبدال الغريبة الأيديولوجية المركزية لتبادل القوالب. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar458646/">https://habr.com/ru/post/ar458646/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar458634/index.html">"لا تكن شريرًا" أو ما يخفيه فيسبوك</a></li>
<li><a href="../ar458636/index.html">أشرطة الفيديو من mitap DevLeads من مكتب Tutu.ru</a></li>
<li><a href="../ar458638/index.html">مشروع Intel oneAPI: العديد من البنيات وواجهة برمجة تطبيقات واحدة</a></li>
<li><a href="../ar458640/index.html">العثور على اندفاعة طويلة</a></li>
<li><a href="../ar458642/index.html">النظرية بدلاً من الاستدلال: التحسن كمطورين للواجهة الأمامية</a></li>
<li><a href="../ar458648/index.html">CI / CD مع AWS والخيزران</a></li>
<li><a href="../ar458650/index.html">التحدي السيبراني. مستوى جديد. المنافسة على الإنترنت من Rostelecom Solar</a></li>
<li><a href="../ar458652/index.html">RamblerFront & Meetup # 7</a></li>
<li><a href="../ar458654/index.html">اخترق فيروس Lurk البنوك بينما كان مكتوبًا بواسطة عمال مستأجرين عاديين</a></li>
<li><a href="../ar458658/index.html">التبديل من الأجهزة الظاهرية إلى حاويات LXC: الأسباب والمزايا والتعليمات الجاهزة للاستخدام</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>