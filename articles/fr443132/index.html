<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>➿ 🏴 👩🏻‍🎤 Comment découvrir les bases de données ouvertes MongoDB et Elasticsearch 🏕️ 🧘🏻 🕵🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il y a quelque temps chez les chercheurs en sécurité, il était très «à la mode» de trouver des stockages cloud AWS mal configurés avec différents type...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment découvrir les bases de données ouvertes MongoDB et Elasticsearch</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443132/"><p>  Il y a quelque temps chez les chercheurs en sécurité, il était très «à la mode» de trouver des stockages cloud AWS mal configurés avec différents types d'informations confidentielles.  À cette époque, j'ai même publié une petite note sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">découverte du stockage cloud ouvert Amazon S3</a> . </p><br><p>  Cependant, le temps passe et la recherche se concentre sur la recherche de bases de données du domaine public non sécurisées et exposées.  Plus de la moitié des cas connus de grandes fuites de données au cours de la dernière année sont des fuites de bases de données ouvertes. </p><br><p><img src="https://habrastorage.org/webt/qd/5n/0_/qd5n0_zxgdzy8vhi_tgddi8v9ws.jpeg"></p><br><p>  <em>Aujourd'hui, nous allons essayer de comprendre comment ces bases de données sont découvertes par les chercheurs en sécurité ...</em> </p><a name="habracut"></a><br><blockquote>  Avis de non-responsabilité requis: cet article ne traite pas et ne soulève pas de problèmes juridiques et éthiques liés à la recherche et à l'identification de bases de données accessibles au public.  Toutes les informations ci-dessous doivent être considérées uniquement comme pédagogiques. </blockquote><p> Je ne «découvrirai pas l'Amérique» si je dis que les principaux outils de recherche de bases de données ouvertes sont les moteurs de recherche spécialisés Shodan.io, BinaryEdge.io et Censys.io.  Je vais juste noter que ce ne sont pas des services gratuits, et vous devez payer pour accéder aux résultats de recherche complets (dans le cas de Shodan, c'est 59 $ / mois, BinaryEdge - 50 $ / mois et pour Censys - 99 $ / mois pour les forfaits de base minimum).  Les versions gratuites des moteurs de recherche limitent considérablement le nombre de résultats dans l'émission. </p><br><p>  En plus de l'expérience de recherche classique de type Google utilisant la fonction de recherche, ces moteurs de recherche offrent la possibilité de s'y connecter via l'API.  L'heureux propriétaire d'un abonnement payant recevra une clé API.  Cela permet de faciliter considérablement la tâche d'effacement du tas de déchets de recherche.  J'ai fourni une liste de scripts utiles et de programmes d'automatisation de la recherche qui utilisent des clés API à la fin de cet article. </p><br><p>  Jetons un coup d'œil à l'exemple du moteur de recherche Shodan: comment trouver des bases de données MongoDB et Elasticsearch ouvertes. </p><br><p>  La requête la plus simple et la plus évidente qui demande une tentative est «MongoDB»: </p><br><p><img src="https://habrastorage.org/webt/t0/cz/35/t0cz35wov0lcelzqhfxud4sexvm.png"></p><br><p>  À partir d'une capture d'écran ci-dessus, nous pouvons voir que cette demande a renvoyé tous les serveurs MongoDB indexés (sur le port par défaut 27017).  De plus, la plupart d'entre eux (les trois premiers de la capture d'écran) seront des bases de données fermées nécessitant des informations d'identification de compte.  Ce n'est pas exactement ce que nous voulons trouver.  Plus précisément, ce n'est pas du tout intéressant. </p><br><p>  Compliquons légèrement la requête en utilisant les filtres de recherche «tous:« informations sur le serveur mongodb »tous:« métriques »»: </p><br><p><img src="https://habrastorage.org/webt/ds/al/1h/dsal1h5z6nbodykeozkerdhkoqa.png"></p><br><p>  Les résultats sont bien meilleurs.  Toutes les bases de données trouvées étaient librement disponibles au moment où le moteur de recherche les indexait.  Il est très probable que nous pourrons nous connecter aux adresses IP spécifiées à l'aide de n'importe quel gestionnaire pour MongoDB (par exemple, NoSQL Manager pour MongoDB ou Studio 3T pour MongoDB). </p><br><p>  Pour rechercher des instances MongoDB non authentifiées qui agissent également comme des serveurs de stockage de fichiers, vous pouvez essayer d'utiliser la requête «port: 27017 -all:« partiellement »all:« fs.files »» </p><br><p>  On peut limiter la recherche à n'importe quel pays.  Disons pour rechercher les MongoDB ouverts en Chine: (requête «tous:« informations sur le serveur mongodb »tous:« métriques »pays:« cn »»): </p><br><p><img src="https://habrastorage.org/webt/0f/o_/x1/0fo_x1w4f_m2az4l9gzkk5fhrqa.png"></p><br><p>  Pour rechercher des bases de données ouvertes Elasticsearch, il est pratique d'utiliser la requête "port:" 9200 "all:" indices élastiques "": </p><br><p><img src="https://habrastorage.org/webt/5c/as/wo/5caswon2tfp9hoz9bizzm88zncs.png"></p><br><p>  Pour imposer des filtres plus complexes (restrictions sur la taille de la base de données, la date du serveur dans l'index, etc.) sur les résultats de la recherche, on peut utiliser des scripts et des programmes spécialisés.  Pour ce faire, il faudra un accès payant et une clé API, comme je l'ai écrit ci-dessus. </p><br><p>  Voici une petite liste de liens qui pourraient être utiles: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cli.shodan.io</a> est la console Shodan officielle. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">github.com/woj-ciech/LeakLooker</a> est un programme python pour rechercher des bases de données ouvertes (MongoDB, CouchDB, Elasticsearch, etc.). </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lampyre.io</a> est une interface graphique très puissante (et toujours très boguée!) pour rechercher et visualiser ce que vous trouvez.  Il a des modèles intégrés pour la recherche MongoDB et bien plus encore.  C'est en beta test avec toutes les conséquences que cela implique ... </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr443132/">https://habr.com/ru/post/fr443132/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr443120/index.html">La Douma d'État poursuivra la lutte contre la vente illégale de cartes SIM</a></li>
<li><a href="../fr443122/index.html">Fuite de 809 millions d'adresses e-mail du service Verifications.io en raison de l'ouverture publique de MongoDB</a></li>
<li><a href="../fr443124/index.html">React.lazy? Mais que faire si vous n'avez pas de composant?</a></li>
<li><a href="../fr443126/index.html">D = Trust: pourquoi Google, Amazon, Apple et Facebook le perdent et comment le restaurer</a></li>
<li><a href="../fr443128/index.html">kW, kW * h et kW / h</a></li>
<li><a href="../fr443136/index.html">Ne simplifiez pas trop votre CI / CD et utilisez Docker de manière significative</a></li>
<li><a href="../fr443138/index.html">«L'audio est cool, mais un peu plus tard»: un podcast sur les créateurs de contenu, GTD pour un éditeur et une carrière médiatique</a></li>
<li><a href="../fr443140/index.html">Système de simulation de script ZenCad 3D</a></li>
<li><a href="../fr443144/index.html">École Programmation 42 écoles aux Etats-Unis - le rêve américain accessible à tous</a></li>
<li><a href="../fr443146/index.html">Parking intelligent - navigation adaptative, éclairage et bornes de recharge pour véhicules électriques</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>