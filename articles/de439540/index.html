<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë¶üèø üìø üßë Etherblade.net - OpenSource-Projekt zum Erstellen eines Ethernet-Verkehrskapselers auf FPGA (Teil 1) üë®‚Äçüíª üõ•Ô∏è ü•û</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ich m√∂chte sofort reservieren, dass dieser Artikel nicht nur passives Lesen impliziert, sondern auch alle einl√§dt, sich der Entwicklung anzuschlie√üen....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Etherblade.net - OpenSource-Projekt zum Erstellen eines Ethernet-Verkehrskapselers auf FPGA (Teil 1)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439540/"><img src="https://habrastorage.org/webt/ny/dp/nj/nydpnjy4-t3sceksgb2crf_odse.jpeg" alt="Bild"><br><br>  Ich m√∂chte sofort reservieren, dass dieser Artikel nicht nur passives Lesen impliziert, sondern auch alle einl√§dt, sich der Entwicklung anzuschlie√üen.  Systemprogrammierer, Hardwareentwickler, Netzwerk- und DevOps-Ingenieure sind willkommen. <br><br>  Da sich das Projekt an der Schnittstelle von Netzwerktechnologien und Hardware-Design befindet, teilen wir unser Gespr√§ch in drei Teile - es wird einfacher sein, Informationen an ein bestimmtes Publikum von Lesern anzupassen. <br><br>  Definieren Sie den ersten Teil als Einf√ºhrung.  Hier werden wir √ºber den auf FPGA erstellten Hardware-Ethernet-Verkehrskapseler sprechen und seine Hauptfunktionen, Architekturmerkmale und Vorteile im Vergleich zu Softwarel√∂sungen diskutieren. <br><br>  Der zweite Teil, nennen wir ihn ‚ÄûNetzwerk‚Äú, ist f√ºr Hardwareentwickler interessanter, die die Netzwerktechnologien besser kennenlernen m√∂chten.  Es wird untersucht, welche Rolle ‚ÄûEtherblade.net‚Äú in den Netzen von Telekommunikationsbetreibern spielen kann.  Wir werden auch √ºber das Konzept von SDN <i>(Software Defined Networking)</i> sprechen und dar√ºber, wie offene Netzwerkhardware L√∂sungen gro√üer Anbieter wie Cisco und Juniper erg√§nzen und sogar mit diesen konkurrieren kann. <br><br>  Und der dritte Teil ist ‚ÄûHardware‚Äú, was eher Netzwerkingenieure interessiert, die sich mit dem Hardware-Design befassen und selbst mit der Entwicklung von Netzwerkger√§ten beginnen m√∂chten.  Darin werden wir uns den FPGA-Workflow, die ‚ÄûVereinigung von Software und Hardware‚Äú, FPGA-Boards, Entwicklungsumgebungen und andere Themen genauer ansehen, die Ihnen zeigen, wie Sie eine Verbindung herstellen k√∂nnen, um am EtherBlade.net-Projekt teilzunehmen. <br>  Also lass uns gehen! <br><a name="habracut"></a><br><h4>  Ethernet-Kapselung </h4><br>  Das Ziel des Etherblade.net-Projekts besteht darin, ein Ger√§t zu entwerfen und zu bauen, das auf Hardwareebene einen L2-Ethernet-Kanal √ºber eine L3-Umgebung emulieren kann.  Ein einfacher Anwendungsfall besteht darin, unterschiedliche Server und Workstations auf dieselbe Weise miteinander zu verbinden, als ob sich zwischen ihnen ein regul√§res physisches Ethernet-Kabel befindet. <br><br>  Im Internet finden Sie verschiedene Begriffe f√ºr diese Technologie.  Die h√§ufigsten von ihnen sind <i>Pseudodraht, EVPN, L2VPN, E-Line / E-Tree / E-Lan</i> usw.  Nun, eine gro√üe Anzahl von abgeleiteten Begriffen unterscheidet sich f√ºr verschiedene Arten von Transportnetzen, durch die ein virtueller Ethernet-Kanal gelegt wird. <br><br>  So wird beispielsweise die Ethernet-Emulation √ºber ein IP-Netzwerk durch die folgenden Technologien bereitgestellt: <i>EoIP, VxLAN, OTV</i> ; <br>  Ethernet-Emulation √ºber MPLS-Netzwerk - <i>VPLS- und EoMPLS-Technologien</i> ; <br>  Die Ethernet-Emulation √ºber Ethernet ist eine Aufgabe der <i>Technologien</i> von <i>MetroEthernet, PBB-802.1ah</i> usw. <br><br>  Es ist die Aufgabe der Vermarkter, Begriffe zu finden, aber wenn Eisendesigner f√ºr jeden Begriff oder jede Abk√ºrzung ein eigenes Ger√§t erfinden w√ºrden, w√ºrden sie verr√ºckt werden.  Daher ist das Ziel der Hardwareentwickler und unser Ziel die Entwicklung eines universellen Ger√§ts - eines Kapselungsger√§ts, das Ethernet-Frames in jedem Protokoll des Transportnetzwerks kapseln kann, sei es <i>IP / IPv6, MPLS, Ethernet</i> usw. <br><br>  Ein solcher Encapsulator wurde bereits implementiert und entwickelt sich in einem Projekt namens "Etherblade-Version1 - Encapsulator Core". <br><br>  Zum besseren Verst√§ndnis schlage ich vor, eine Abbildung zu betrachten, die dieses Einkapselungsprinzip erkl√§rt: <br><img src="https://habrastorage.org/webt/8h/ha/3u/8hha3ulnruaxaokrf-ravtcejuq.jpeg" alt="Bild"><br><br>  Wir sehen, dass sich die Kapselungsger√§te um den Umfang des Transportnetzes des Transportunternehmens befinden.  Jeder Encapsulator verf√ºgt √ºber zwei Schnittstellen <i>(L2 - Trunk-Port, der in Richtung der Clients "schaut", und L3-Schnittstelle, die in Richtung des Transportnetzwerks "schaut")</i> . <br><br>  Schauen wir uns den Encapsulator ganz rechts genauer an.  Clients sind damit verbunden, wobei der Datenverkehr jedes Clients in einem separaten vlan-e "abl√§uft".  Das Ger√§t muss in der Lage sein, virtuelle Kan√§le f√ºr einzelne Clients zu erstellen oder wissenschaftlich gesehen den Ethernet-Verkehr f√ºr verschiedene VLANs mit unterschiedlichen L3-Headern zu kapseln.  Die Abbildung zeigt, wie ein Encapsulator vier virtuelle Kan√§le f√ºr vier Clients emuliert: <br><br><ul><li>  vlan-11 (gr√ºn) - <i>Ethernet √ºber IP (IPv4 + GRE)</i> ; </li><li>  vlan-12 (lila) - <i>Ethernet √ºber IP (IPv4 + UDP)</i> ; </li><li>  vlan-13 (blau) - <i>Ethernet √ºber MPLS</i> ; </li><li>  vlan-14 (rot) - <i>Ethernet √ºber IP (IPv6 + UDP)</i> ; </li></ul><br>  Nachdem die Funktionalit√§t gekl√§rt ist, sprechen wir nun √ºber die Optionen f√ºr die Implementierung des Kapselungsger√§ts. <br><br><h4>  Warum FPGA? </h4><br>  FPGA ist in der Tat ein Chip, der einen L√∂tkolben und eine Schachtel Chips <i>(Logikelemente, Speicherchips usw.) ersetzt</i> .  Mit FPGA k√∂nnen wir also Hardware f√ºr unsere Anforderungen und Aufgaben erstellen. <br><img src="https://habrastorage.org/webt/za/9u/56/za9u56d7cawurfoqoorc3m5vzp4.jpeg" alt="Bild"><br><br>  Neben dem ‚ÄûSatz Elemente und L√∂tkolben‚Äú sind jedoch auch Schaltpl√§ne erforderlich.  Das Repository solcher Schemata, aus denen Sie den Kapseler im FPGA ‚Äûl√∂ten‚Äú und ein funktionierendes Ger√§t erhalten k√∂nnen, ist das Projekt ‚ÄûEtherblade.net‚Äú.  Ein weiterer wichtiger Vorteil von FPGA ist die Tatsache, dass seine Elemente auf neue Schaltkreise ‚Äûneu verl√∂tet‚Äú werden k√∂nnen. Die Schaltkreise selbst m√ºssen jedoch dank des Repositorys nicht ‚Äûvon Grund auf neu‚Äú erstellt und √ºberpr√ºft werden, um neue Funktionen zu implementieren. <br><br>  Und doch, warum FPGA und keine Softwarel√∂sung? <br><br>  Wenn die Frage nach der Entwicklung des Systems von Grund auf gestellt w√ºrde, w√§re es nat√ºrlich einfacher und schneller, einen fertigen Computer zu nehmen und ein Programm daf√ºr zu schreiben, als ein spezielles Hardwareger√§t zu entwickeln. <br><br>  Zur Vereinfachung und Geschwindigkeit der Entwicklung m√ºssen Sie jedoch eine schlechtere Leistung zahlen, und dies ist der Hauptnachteil der Softwarel√∂sung.  Tatsache ist, dass Software ein Computerprogramm ist, das aufgrund von Verzweigungen und Schleifen eine variable Ausf√ºhrungszeit hat.  Wir f√ºgen hier konstante Unterbrechungen des Mikroprozessors durch das Betriebssystem und Verkehrsumw√§lzung im DMA-Subsystem hinzu. <br><br>  In einer Hardware-Implementierung ist unser Encapsulator tats√§chlich ein "Flow-and-Forward" -Puffer mit direktem Fluss, der mit zus√§tzlichem Speicher ausgestattet ist, in dem Header gespeichert sind.  Aufgrund ihrer Einfachheit und Linearit√§t verarbeitet die Hardwarel√∂sung Datenverkehr mit einer Geschwindigkeit, die der Bandbreite des Ethernet-Kanals entspricht, mit minimalen Verz√∂gerungen und stabilem Jitter.  Als Bonus f√ºgen wir hier weniger Stromverbrauch und kosteng√ºnstigere FPGA-L√∂sungen im Vergleich zu Mikroprozessorsystemen hinzu. <br><br>  Bevor ich zum n√§chsten Thema √ºbergehe, m√∂chte ich Ihnen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">diesen Link</a> zu einem Video mitteilen, in dem ein Kapselungsger√§t in Aktion gezeigt wird.  <i>Das Video wird von englischen Untertiteln begleitet, und bei Bedarf bietet ‚ÄûYoutube‚Äú die Option, die automatische √úbersetzung ins Russische zu aktivieren.</i> <br><br>  Im letzten Teil des Artikels m√∂chte ich √ºber einige Bl√∂cke sprechen, die ebenfalls im Rahmen des Etherblade.net-Projekts entwickelt werden. <br><br><h4>  Entwicklung des Empf√§ngers ‚ÄûEtherblade-Version2 - Decapsulator Core‚Äú </h4><br>  M√∂glicherweise haben Sie bemerkt, dass im vorherigen Netzwerkdiagramm <i>(das die mit dem Netzwerk des Anbieters verbundenen Kapselungsger√§te zeigt)</i> eine kleine Bemerkung darauf hinweist, dass die MTU im Netzwerk mehr als 1560 betragen sollte. F√ºr gro√üe Telekommunikationsbetreiber ist dies kein Problem, da sie Arbeiten Sie an "dunklen" Glasfaserkan√§len mit Jumbo-Frames auf aktivierter Hardware.  In diesem Fall k√∂nnen die gekapselten Ethernet-Pakete mit einer maximalen Gr√∂√üe von 1.500 Bytes und einem zus√§tzlichen L3-Header frei √ºber solche Netzwerke "laufen". <br><br>  Was aber, wenn wir das regul√§re Internet mit Kapselungsger√§ten nutzen m√∂chten, die beispielsweise mit DSL- oder 4G-Heimmodems als Transportnetzwerk verbunden sind?  In diesem Fall sollte der empfangende Teil der Kapselungsger√§te in der Lage sein, fragmentierte Ethernet-Frames zu sammeln. <br><br>  Weder Cisco noch Juniper bieten derzeit solche Funktionen in ihren Ger√§ten an, und dies ist verst√§ndlich, da sich ihre Ger√§te auf gro√üe Telekommunikationsbetreiber konzentrieren.  Das EtherBlade.net-Projekt richtete sich urspr√ºnglich an Kunden verschiedener Kaliber und verf√ºgt bereits √ºber eine entwickelte Methode zur "Hardware" -Montage von Fragmenten, mit der Ethernet-Kan√§le mit Telekommunikationsqualit√§t emuliert werden k√∂nnen.  Ausf√ºhrliche Dokumentation und Quellcodes finden Sie unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://etherblade.net</a> . <br><br><h4>  10 Gigabit </h4><br>  Derzeit wird auch aktiv an einer 10-Gigabyte-Version des Kapselungsger√§ts gearbeitet und auf Hardware portiert, insbesondere auf das Board des allgemeinen Forschungs- und Entwicklungsteams aus St. Petersburg, das am Anfang des Artikels Intel Cyclone 10GX gezeigt wurde. <br><br>  Zus√§tzlich zu den in diesem Artikel beschriebenen Funktionen k√∂nnen Zehn-Gigabit-Kapselungsger√§te in den Netzwerken von Telekommunikationsbetreibern verwendet werden, um "interessanten" Verkehr zu DDoS-Clearingzentren, dem Yarovoy-Server usw. umzuleiten.  Lesen Sie mehr dazu im n√§chsten Artikel √ºber das Konzept von SDN <i>(Software Defined Networking)</i> und die Verwendung von Etherblade.net in gro√üen Netzwerken - bleiben Sie dran. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de439540/">https://habr.com/ru/post/de439540/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de439526/index.html">Telekommunikationsbetreiber werden ‚ÄûFeldversuche‚Äú zum Nachhaltigkeitsgesetz von Runet durchf√ºhren</a></li>
<li><a href="../de439528/index.html">Keine Kosten f√ºr die Anrufverfolgung</a></li>
<li><a href="../de439532/index.html">Was ist neu in JavaScript ES2019?</a></li>
<li><a href="../de439534/index.html">Ertragsprogrammierung und Einsatz von Drohnen in der √ñlf√∂rderung - 10 Vortr√§ge von der GIS Tech Russia-Konferenz</a></li>
<li><a href="../de439538/index.html">Gesellschaftsprogrammierung</a></li>
<li><a href="../de439542/index.html">Nintendo macht deutlich, dass nur Piraterie die Geschichte von Videospielen retten kann</a></li>
<li><a href="../de439544/index.html">Kolonie. Kapitel 24: Abreise</a></li>
<li><a href="../de439546/index.html">Tr√§umen Androiden von elektrischem Punk? Wie ich einem neuronalen Netzwerk das Schreiben von Musik beigebracht habe</a></li>
<li><a href="../de439550/index.html">Hackquest 2018. Ergebnisse & Zuschreibungen. Tag 1-3</a></li>
<li><a href="../de439552/index.html">Sch√§dliche Chrome-Erweiterungen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>