<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👦🏿 📿 🧑 Etherblade.net - OpenSource-Projekt zum Erstellen eines Ethernet-Verkehrskapselers auf FPGA (Teil 1) 👨‍💻 🛥️ 🥞</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ich möchte sofort reservieren, dass dieser Artikel nicht nur passives Lesen impliziert, sondern auch alle einlädt, sich der Entwicklung anzuschließen....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Etherblade.net - OpenSource-Projekt zum Erstellen eines Ethernet-Verkehrskapselers auf FPGA (Teil 1)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439540/"><img src="https://habrastorage.org/webt/ny/dp/nj/nydpnjy4-t3sceksgb2crf_odse.jpeg" alt="Bild"><br><br>  Ich möchte sofort reservieren, dass dieser Artikel nicht nur passives Lesen impliziert, sondern auch alle einlädt, sich der Entwicklung anzuschließen.  Systemprogrammierer, Hardwareentwickler, Netzwerk- und DevOps-Ingenieure sind willkommen. <br><br>  Da sich das Projekt an der Schnittstelle von Netzwerktechnologien und Hardware-Design befindet, teilen wir unser Gespräch in drei Teile - es wird einfacher sein, Informationen an ein bestimmtes Publikum von Lesern anzupassen. <br><br>  Definieren Sie den ersten Teil als Einführung.  Hier werden wir über den auf FPGA erstellten Hardware-Ethernet-Verkehrskapseler sprechen und seine Hauptfunktionen, Architekturmerkmale und Vorteile im Vergleich zu Softwarelösungen diskutieren. <br><br>  Der zweite Teil, nennen wir ihn „Netzwerk“, ist für Hardwareentwickler interessanter, die die Netzwerktechnologien besser kennenlernen möchten.  Es wird untersucht, welche Rolle „Etherblade.net“ in den Netzen von Telekommunikationsbetreibern spielen kann.  Wir werden auch über das Konzept von SDN <i>(Software Defined Networking)</i> sprechen und darüber, wie offene Netzwerkhardware Lösungen großer Anbieter wie Cisco und Juniper ergänzen und sogar mit diesen konkurrieren kann. <br><br>  Und der dritte Teil ist „Hardware“, was eher Netzwerkingenieure interessiert, die sich mit dem Hardware-Design befassen und selbst mit der Entwicklung von Netzwerkgeräten beginnen möchten.  Darin werden wir uns den FPGA-Workflow, die „Vereinigung von Software und Hardware“, FPGA-Boards, Entwicklungsumgebungen und andere Themen genauer ansehen, die Ihnen zeigen, wie Sie eine Verbindung herstellen können, um am EtherBlade.net-Projekt teilzunehmen. <br>  Also lass uns gehen! <br><a name="habracut"></a><br><h4>  Ethernet-Kapselung </h4><br>  Das Ziel des Etherblade.net-Projekts besteht darin, ein Gerät zu entwerfen und zu bauen, das auf Hardwareebene einen L2-Ethernet-Kanal über eine L3-Umgebung emulieren kann.  Ein einfacher Anwendungsfall besteht darin, unterschiedliche Server und Workstations auf dieselbe Weise miteinander zu verbinden, als ob sich zwischen ihnen ein reguläres physisches Ethernet-Kabel befindet. <br><br>  Im Internet finden Sie verschiedene Begriffe für diese Technologie.  Die häufigsten von ihnen sind <i>Pseudodraht, EVPN, L2VPN, E-Line / E-Tree / E-Lan</i> usw.  Nun, eine große Anzahl von abgeleiteten Begriffen unterscheidet sich für verschiedene Arten von Transportnetzen, durch die ein virtueller Ethernet-Kanal gelegt wird. <br><br>  So wird beispielsweise die Ethernet-Emulation über ein IP-Netzwerk durch die folgenden Technologien bereitgestellt: <i>EoIP, VxLAN, OTV</i> ; <br>  Ethernet-Emulation über MPLS-Netzwerk - <i>VPLS- und EoMPLS-Technologien</i> ; <br>  Die Ethernet-Emulation über Ethernet ist eine Aufgabe der <i>Technologien</i> von <i>MetroEthernet, PBB-802.1ah</i> usw. <br><br>  Es ist die Aufgabe der Vermarkter, Begriffe zu finden, aber wenn Eisendesigner für jeden Begriff oder jede Abkürzung ein eigenes Gerät erfinden würden, würden sie verrückt werden.  Daher ist das Ziel der Hardwareentwickler und unser Ziel die Entwicklung eines universellen Geräts - eines Kapselungsgeräts, das Ethernet-Frames in jedem Protokoll des Transportnetzwerks kapseln kann, sei es <i>IP / IPv6, MPLS, Ethernet</i> usw. <br><br>  Ein solcher Encapsulator wurde bereits implementiert und entwickelt sich in einem Projekt namens "Etherblade-Version1 - Encapsulator Core". <br><br>  Zum besseren Verständnis schlage ich vor, eine Abbildung zu betrachten, die dieses Einkapselungsprinzip erklärt: <br><img src="https://habrastorage.org/webt/8h/ha/3u/8hha3ulnruaxaokrf-ravtcejuq.jpeg" alt="Bild"><br><br>  Wir sehen, dass sich die Kapselungsgeräte um den Umfang des Transportnetzes des Transportunternehmens befinden.  Jeder Encapsulator verfügt über zwei Schnittstellen <i>(L2 - Trunk-Port, der in Richtung der Clients "schaut", und L3-Schnittstelle, die in Richtung des Transportnetzwerks "schaut")</i> . <br><br>  Schauen wir uns den Encapsulator ganz rechts genauer an.  Clients sind damit verbunden, wobei der Datenverkehr jedes Clients in einem separaten vlan-e "abläuft".  Das Gerät muss in der Lage sein, virtuelle Kanäle für einzelne Clients zu erstellen oder wissenschaftlich gesehen den Ethernet-Verkehr für verschiedene VLANs mit unterschiedlichen L3-Headern zu kapseln.  Die Abbildung zeigt, wie ein Encapsulator vier virtuelle Kanäle für vier Clients emuliert: <br><br><ul><li>  vlan-11 (grün) - <i>Ethernet über IP (IPv4 + GRE)</i> ; </li><li>  vlan-12 (lila) - <i>Ethernet über IP (IPv4 + UDP)</i> ; </li><li>  vlan-13 (blau) - <i>Ethernet über MPLS</i> ; </li><li>  vlan-14 (rot) - <i>Ethernet über IP (IPv6 + UDP)</i> ; </li></ul><br>  Nachdem die Funktionalität geklärt ist, sprechen wir nun über die Optionen für die Implementierung des Kapselungsgeräts. <br><br><h4>  Warum FPGA? </h4><br>  FPGA ist in der Tat ein Chip, der einen Lötkolben und eine Schachtel Chips <i>(Logikelemente, Speicherchips usw.) ersetzt</i> .  Mit FPGA können wir also Hardware für unsere Anforderungen und Aufgaben erstellen. <br><img src="https://habrastorage.org/webt/za/9u/56/za9u56d7cawurfoqoorc3m5vzp4.jpeg" alt="Bild"><br><br>  Neben dem „Satz Elemente und Lötkolben“ sind jedoch auch Schaltpläne erforderlich.  Das Repository solcher Schemata, aus denen Sie den Kapseler im FPGA „löten“ und ein funktionierendes Gerät erhalten können, ist das Projekt „Etherblade.net“.  Ein weiterer wichtiger Vorteil von FPGA ist die Tatsache, dass seine Elemente auf neue Schaltkreise „neu verlötet“ werden können. Die Schaltkreise selbst müssen jedoch dank des Repositorys nicht „von Grund auf neu“ erstellt und überprüft werden, um neue Funktionen zu implementieren. <br><br>  Und doch, warum FPGA und keine Softwarelösung? <br><br>  Wenn die Frage nach der Entwicklung des Systems von Grund auf gestellt würde, wäre es natürlich einfacher und schneller, einen fertigen Computer zu nehmen und ein Programm dafür zu schreiben, als ein spezielles Hardwaregerät zu entwickeln. <br><br>  Zur Vereinfachung und Geschwindigkeit der Entwicklung müssen Sie jedoch eine schlechtere Leistung zahlen, und dies ist der Hauptnachteil der Softwarelösung.  Tatsache ist, dass Software ein Computerprogramm ist, das aufgrund von Verzweigungen und Schleifen eine variable Ausführungszeit hat.  Wir fügen hier konstante Unterbrechungen des Mikroprozessors durch das Betriebssystem und Verkehrsumwälzung im DMA-Subsystem hinzu. <br><br>  In einer Hardware-Implementierung ist unser Encapsulator tatsächlich ein "Flow-and-Forward" -Puffer mit direktem Fluss, der mit zusätzlichem Speicher ausgestattet ist, in dem Header gespeichert sind.  Aufgrund ihrer Einfachheit und Linearität verarbeitet die Hardwarelösung Datenverkehr mit einer Geschwindigkeit, die der Bandbreite des Ethernet-Kanals entspricht, mit minimalen Verzögerungen und stabilem Jitter.  Als Bonus fügen wir hier weniger Stromverbrauch und kostengünstigere FPGA-Lösungen im Vergleich zu Mikroprozessorsystemen hinzu. <br><br>  Bevor ich zum nächsten Thema übergehe, möchte ich Ihnen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">diesen Link</a> zu einem Video mitteilen, in dem ein Kapselungsgerät in Aktion gezeigt wird.  <i>Das Video wird von englischen Untertiteln begleitet, und bei Bedarf bietet „Youtube“ die Option, die automatische Übersetzung ins Russische zu aktivieren.</i> <br><br>  Im letzten Teil des Artikels möchte ich über einige Blöcke sprechen, die ebenfalls im Rahmen des Etherblade.net-Projekts entwickelt werden. <br><br><h4>  Entwicklung des Empfängers „Etherblade-Version2 - Decapsulator Core“ </h4><br>  Möglicherweise haben Sie bemerkt, dass im vorherigen Netzwerkdiagramm <i>(das die mit dem Netzwerk des Anbieters verbundenen Kapselungsgeräte zeigt)</i> eine kleine Bemerkung darauf hinweist, dass die MTU im Netzwerk mehr als 1560 betragen sollte. Für große Telekommunikationsbetreiber ist dies kein Problem, da sie Arbeiten Sie an "dunklen" Glasfaserkanälen mit Jumbo-Frames auf aktivierter Hardware.  In diesem Fall können die gekapselten Ethernet-Pakete mit einer maximalen Größe von 1.500 Bytes und einem zusätzlichen L3-Header frei über solche Netzwerke "laufen". <br><br>  Was aber, wenn wir das reguläre Internet mit Kapselungsgeräten nutzen möchten, die beispielsweise mit DSL- oder 4G-Heimmodems als Transportnetzwerk verbunden sind?  In diesem Fall sollte der empfangende Teil der Kapselungsgeräte in der Lage sein, fragmentierte Ethernet-Frames zu sammeln. <br><br>  Weder Cisco noch Juniper bieten derzeit solche Funktionen in ihren Geräten an, und dies ist verständlich, da sich ihre Geräte auf große Telekommunikationsbetreiber konzentrieren.  Das EtherBlade.net-Projekt richtete sich ursprünglich an Kunden verschiedener Kaliber und verfügt bereits über eine entwickelte Methode zur "Hardware" -Montage von Fragmenten, mit der Ethernet-Kanäle mit Telekommunikationsqualität emuliert werden können.  Ausführliche Dokumentation und Quellcodes finden Sie unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://etherblade.net</a> . <br><br><h4>  10 Gigabit </h4><br>  Derzeit wird auch aktiv an einer 10-Gigabyte-Version des Kapselungsgeräts gearbeitet und auf Hardware portiert, insbesondere auf das Board des allgemeinen Forschungs- und Entwicklungsteams aus St. Petersburg, das am Anfang des Artikels Intel Cyclone 10GX gezeigt wurde. <br><br>  Zusätzlich zu den in diesem Artikel beschriebenen Funktionen können Zehn-Gigabit-Kapselungsgeräte in den Netzwerken von Telekommunikationsbetreibern verwendet werden, um "interessanten" Verkehr zu DDoS-Clearingzentren, dem Yarovoy-Server usw. umzuleiten.  Lesen Sie mehr dazu im nächsten Artikel über das Konzept von SDN <i>(Software Defined Networking)</i> und die Verwendung von Etherblade.net in großen Netzwerken - bleiben Sie dran. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de439540/">https://habr.com/ru/post/de439540/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de439526/index.html">Telekommunikationsbetreiber werden „Feldversuche“ zum Nachhaltigkeitsgesetz von Runet durchführen</a></li>
<li><a href="../de439528/index.html">Keine Kosten für die Anrufverfolgung</a></li>
<li><a href="../de439532/index.html">Was ist neu in JavaScript ES2019?</a></li>
<li><a href="../de439534/index.html">Ertragsprogrammierung und Einsatz von Drohnen in der Ölförderung - 10 Vorträge von der GIS Tech Russia-Konferenz</a></li>
<li><a href="../de439538/index.html">Gesellschaftsprogrammierung</a></li>
<li><a href="../de439542/index.html">Nintendo macht deutlich, dass nur Piraterie die Geschichte von Videospielen retten kann</a></li>
<li><a href="../de439544/index.html">Kolonie. Kapitel 24: Abreise</a></li>
<li><a href="../de439546/index.html">Träumen Androiden von elektrischem Punk? Wie ich einem neuronalen Netzwerk das Schreiben von Musik beigebracht habe</a></li>
<li><a href="../de439550/index.html">Hackquest 2018. Ergebnisse & Zuschreibungen. Tag 1-3</a></li>
<li><a href="../de439552/index.html">Schädliche Chrome-Erweiterungen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>