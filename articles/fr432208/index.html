<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧒🏾 👶🏻 👨‍👦 Kubernetes 1.13: aperçu des principales innovations 🖖 ✍🏽 🍅</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Au début de cette semaine , la prochaine version de Kubernetes a eu lieu , qui a été surnommée «angélique», 1.13 . Ce nom est associé au nombre 113, q...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kubernetes 1.13: aperçu des principales innovations</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/432208/"><img src="https://habrastorage.org/webt/l2/ae/f1/l2aef1q_sehvvcqwjxvhwbjevg8.png"><br><br>  Au début de cette semaine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">, la</a> prochaine version de Kubernetes a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">eu lieu</a> , qui a été surnommée «angélique», <a href="">1.13</a> .  Ce nom est associé au nombre 113, qui <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">est considéré comme</a> «angélique» et, selon les développeurs de Kubernetes, symbolise «de nouveaux commencements, la transformation et la fin d'un chapitre avant d'en ouvrir de nouveaux».  Sans entrer dans une analyse plus approfondie du symbolisme de ce qui se passe, selon la tradition déjà établie pour notre blog, nous rendrons compte pour la septième fois des changements clés dans la nouvelle version de Kubernetes, qui sont conçus pour plaire aux ingénieurs DevOps / SRE travaillant avec ce produit. <br><br>  En tant que sources d'informations, nous avons exploité les données du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">suivi des améliorations de</a> <a href="">Kubernetes</a> , du <a href="">tableau CHANGELOG-1.13</a> et des problèmes connexes, des demandes d'extraction, des propositions d'amélioration de Kubernetes (KEP). <a name="habracut"></a><br><br><h2>  GA pour kubeadm </h2><br>  L'un des principaux événements de la version Kubernetes 1.13 a été l'annonce d'un état stable (General Availability, GA) pour l' <b>utilitaire de</b> console <b>kubeadm</b> .  Le blog K8s y a même consacré une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">publication séparée</a> .  Comme beaucoup de gens le savent, kubeadm est un outil pour créer des clusters Kubernetes selon les meilleures pratiques du projet, ainsi que leur support minimal supplémentaire.  Une caractéristique distinctive est que les développeurs s'efforcent de le garder compact et indépendant du fournisseur / de l'infrastructure, sans inclure de solutions à des problèmes tels que les infrastructures d'approvisionnement, les solutions réseau tierces, les modules complémentaires (surveillance, journalisation, etc.), les intégrations spécifiques avec le cloud prestataires. <br><br>  Le statut GA a marqué la maturité du kubeadm dans les domaines suivants: <br><br><ul><li>  interface de console stable qui suit la politique d'obsolescence de Kubernetes: les commandes et drapeaux présentés dans la version GA doivent être pris en charge pendant au moins un an après leur dépréciation; </li><li>  implémentation stable "sous le capot" du fait que le cluster est créé par des méthodes qui ne changeront pas dans un avenir proche: le plan de contrôle démarre autant de pods statiques, des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">jetons de bootstrap</a> sont utilisés pour la <code>kubeadm join</code> et <a href="">ComponentConfig est</a> utilisé pour configurer kubelet; </li><li>  schéma de configuration avec une nouvelle API (v1beta1), qui permet de décrire de manière déclarative presque tous les composants de cluster (GitOps est possible pour les clusters créés avec kubeadm) - une mise à niveau vers la version v1 est prévue sans ou avec des changements minimes; </li><li>  les soi-disant <i>phases</i> (ou interface de <i>boîte à outils</i> ) dans kubeadm ( <code>kubeadm init phase</code> ), vous permettant de choisir les procédures d'initialisation à effectuer; </li><li>  <code>kubeadm upgrade</code> équipe de <code>kubeadm upgrade</code> garantit les mises à jour du cluster entre les versions 1.10.x, 1.11.x, 1.12.x et 1.13.x (mises à jour etcd, API Server, Controller Manager et Scheduler); </li><li>  installation sécurisée de etcd par défaut (il utilise TLS partout) avec la possibilité de s'étendre au cluster HA si nécessaire. </li></ul><br>  On peut également noter que kubeadm reconnaît désormais correctement Docker 18.09.0 et ses versions les plus récentes.  Enfin, les développeurs demandent aux utilisateurs de kubeadm de répondre à une petite <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">enquête</a> en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ligne</a> dans laquelle ils peuvent exprimer leurs souhaits sur l'utilisation et le développement du projet. <br><br><h2>  CoreDNS par défaut </h2><br>  CoreDNS, qui a reçu un statut stable dans la version <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kubernetes 1.11</a> , est allé encore plus loin et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">est devenu le</a> serveur DNS par défaut dans K8s (au lieu des kube-dns utilisés jusqu'à présent).  Il était prévu que cela se produise dès la 1.12, mais les développeurs étaient confrontés au besoin d'optimisations supplémentaires en termes d'évolutivité et de consommation de mémoire, qui n'ont été achevées que par la version actuelle. <br><br><img src="https://habrastorage.org/webt/3l/cv/oq/3lcvoqgpqlaffp-wfc9idyslnkk.png"><br><br>  La prise en charge de kube-dns continuera "pour au moins une prochaine version", mais les développeurs parlent de la nécessité <b>de commencer la migration vers une solution à jour</b> maintenant. <br><br>  Parmi les modifications liées à la rubrique CoreDNS dans Kubernetes 1.13, le <a href=""><b>plug-</b></a> in <a href=""><b>NodeLocal DNS Cache</b></a> peut également <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">être noté</a> pour améliorer les performances DNS.  L'amélioration est obtenue en exécutant un agent sur les nœuds du cluster pour le cache DNS, qui sera accessible directement par les pods de ce nœud.  Par défaut, la fonction est désactivée et pour l'activer, vous devez définir <code>KUBE_ENABLE_NODELOCAL_DNS=true</code> . <br><br><h2>  Installations de stockage </h2><br>  Une grande attention dans les dernières versions de Kubernetes est accordée à l'utilisation de <b>Container Storage Interface</b> (CSI), qui a commencé avec la version alpha de CSI dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">K8s 1.9</a> , a continué avec la version bêta à <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">1.10</a> ... Cependant, nous avons déjà <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">écrit</a> à ce sujet plus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d'une fois</a> .  Une nouvelle étape importante a été franchie dans les K8 1.13: le <b>support CSI est déclaré stable</b> (GA). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f37/7a1/772/f377a1772f60faef0fb96bceb2ccffe5.png" alt="image"><br>  <i>(Diagramme de l'article « <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comprendre l'interface de stockage de conteneurs</a> »)</i> <br><br>  Parallèlement à cela, la prise en charge de la spécification CSI v1.0.0 est apparue et la prise en charge des anciennes versions de la norme (0.3 et antérieures) a été déconseillée.  Cela signifie que les anciens pilotes CSI nécessiteront une mise à niveau vers CSI 1.0 (et un déplacement vers le nouveau répertoire d'enregistrement du plug-in Kubelet) pour fonctionner dans Kubernetes 1.15 et versions antérieures.  Soit dit en passant, à partir des pilotes eux-mêmes, il convient de noter l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">apparition de la</a> version alpha de l'interface CSI pour gérer le cycle de vie des volumes AWS EBS (Elastic Block Store). <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Un nouvel ajout</a> au gestionnaire d'extensions installe désormais automatiquement CRI à partir de CSI si au moins l'une des deux portes de fonctionnalité est activée: <code>CSIDriverRegistry</code> et <code>CSINodeInfo</code> .  Il a le statut de la version alpha, mais en fait ce n'est qu'une solution temporaire au problème, décrit en détail comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">un mécanisme d'installation CRD</a> . <br><br>  La planification du volume basée sur la topologie ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Topology Aware Volume Scheduling</a> ), dont nous avons parlé dans le contexte de la version <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kubernetes 1.10</a> , est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">devenue stable</a> .  En bref, l'ordonnanceur dans son travail prend en compte les limites de la topologie du volume du pod (par exemple, sa zone et son nœud). <br><br>  L' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">opportunité</a> introduite dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kubernetes 1.9</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d'</a> utiliser <b>des périphériques bruts</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">bloqués</a> (pas le réseau) en tant que volumes persistants a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">été traduite</a> en version bêta et est désormais activée par défaut. <br><br>  Nous concluons le sujet du stockage par le fait que la prise en charge de GCERegionalPersistentDisk est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">déclarée</a> stable. <br><br><h2>  Noeuds de cluster </h2><br>  La version alpha de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">prise en</a> <b>charge des plug-ins de surveillance d'appareils tiers a été</b> introduite.  L'idée derrière cette initiative est de faire ressortir des connaissances spécifiques à l'appareil <i>de l'arbre</i> de Kubelet.  Les administrateurs de cluster recevront des métriques signalées par les plugins de périphérique au niveau du conteneur, et les fabricants pourront créer ces métriques sans avoir à apporter de modifications au noyau Kubernetes.  Les détails de l'implémentation se trouvent dans la proposition, appelée <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">API de métadonnées Kubelet</a> . <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Déclaré</a> stable, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kubelet Plugin Watcher</a> <i>(également connu sous le nom d'enregistrement de</i> plug-in de <i>périphérique Kubelet)</i> permet aux plug-ins de niveau nœud (plug-ins de périphérique, CSI et CNI) de communiquer avec Kubelet à leur sujet. <br><br>  Une nouvelle fonctionnalité en état alpha est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>NodeLease</b></a> .  Si auparavant le «battement de cœur» d'un nœud était déterminé par NodeStatus, alors avec une nouvelle fonctionnalité, chaque nœud a un objet <code>Lease</code> associé (dans l'espace de noms <code>kube-node-lease</code> ), qui est périodiquement mis à jour par le nœud.  «Pulse» est désormais défini par les deux paramètres: l'ancien NodeStatus, qui n'est signalé au maître qu'en cas de changement ou par un timeout fixe (par défaut c'est une fois par minute), et un nouvel objet (il est mis à jour fréquemment).  Étant donné que cet objet est très petit, il améliorera considérablement l'évolutivité et les performances.  Les auteurs se sont mis à créer une nouvelle «impulsion» après avoir testé des clusters avec une taille de plus de 2 000 nœuds, qui pendant leur travail pourraient reposer sur les limites etcd, pour plus de détails, voir <a href="">KEP-0009</a> . <br><br><pre> <code class="plaintext hljs">type Lease struct { metav1.TypeMeta `json:",inline"` // Standard object's metadata. // More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata // +optional ObjectMeta metav1.ObjectMeta `json:"metadata,omitempty"` // Specification of the Lease. // More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#spec-and-status // +optional Spec LeaseSpec `json:"spec,omitempty"` } type LeaseSpec struct { HolderIdentity string `json:"holderIdentity"` LeaseDurationSeconds int32 `json:"leaseDurationSeconds"` AcquireTime metav1.MicroTime `json:"acquireTime"` RenewTime metav1.MicroTime `json:"renewTime"` LeaseTransitions int32 `json:"leaseTransitions"` }</code> </pre> <br>  <i>(La spécification compacte du nouvel objet pour représenter l '"impulsion" du nœud - <code>Lease</code> - est identique à <a href=""><code>LeaderElectionRecord</code></a> )</i> <br><br><h2>  La sécurité </h2><br>  La version alpha de <a href=""><b>Dynamic Audit Control</b></a> suit les idées de Dynamic Admission Control et fournit une configuration dynamique de capacités d'audit avancées - pour cela, vous pouvez maintenant enregistrer (dynamiquement) un webhook qui recevra un flux d'événements.  La nécessité de cette fonctionnalité s'explique par le fait que l'audit Kubernetes offre des fonctionnalités très puissantes, mais elles sont difficiles à configurer, et chaque changement de configuration nécessitait toujours un redémarrage d'apiserver. <br><br>  <b>Le chiffrement des données dans etcd</b> <i>(voir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">la documentation officielle</a> ) a</i> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">été transféré</a> du statut expérimental à la version bêta. <br><br><pre> <code class="xml hljs">kind: EncryptionConfiguration apiVersion: apiserver.config.k8s.io/v1 resources: - resources: - secrets providers: - identity: {} - aesgcm: keys: - name: key1 secret: c2VjcmV0IGlzIHNlY3VyZQ== - name: key2 secret: dGhpcyBpcyBwYXNzd29yZA== - aescbc: keys: - name: key1 secret: c2VjcmV0IGlzIHNlY3VyZQ== - name: key2 secret: dGhpcyBpcyBwYXNzd29yZA== - secretbox: keys: - name: key1 secret: YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoxMjM0NTY=</code> </pre> <br>  <i>(Un exemple de configuration avec des données chiffrées est tiré de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation</a> .)</i> <br><br>  Parmi les innovations les moins significatives de cette catégorie: <br><br><ul><li>  Apiserver <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">peut</a> maintenant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">être configuré</a> pour refuser les demandes qui ne peuvent pas entrer dans les journaux d'audit. </li><li>  <code>PodSecurityPolicy</code> objets <code>PodSecurityPolicy</code> ont <code>PodSecurityPolicy</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ajoutés avec la</a> prise <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">en</a> charge de la règle <code>MayRunAs</code> pour les options <code>fsGroup</code> et <code>supplementalGroups</code> , qui permet de définir la plage d'identificateurs de groupe autorisés (GID) pour les pods / conteneurs sans forcer le GID par défaut.  De plus, avec <code>PodSecurityPolicy</code> , la stratégie RunAsGroup <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">est</a> désormais <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">possible</a> dans la spécification des <code>RunAsGroup</code> , c'est-à-dire  Vous pouvez contrôler le GID principal pour les conteneurs. </li><li>  Pour kube-scheduler, nous avons <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">remplacé le</a> port non sécurisé précédent (10251) par le nouveau port sécurisé (10259) et l'avons activé par défaut.  Si aucun indicateur supplémentaire n'est spécifié, lors du chargement, des certificats auto-signés sont créés pour lui en mémoire. </li></ul><br><h2>  CLI </h2><br>  La <code><b>kubectl diff</b></code> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">montrant la</a> différence entre la configuration locale et la description actuelle de l'objet de travail (fonctionne et récursivement pour les répertoires avec des configurations), a reçu le statut bêta. <br><br>  En fait, <code>diff</code> "prédit" les changements qui seront effectués avec la <code>kubectl apply</code> , et une autre nouvelle fonctionnalité est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>utilisée</b></a> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>APIServer DryRun</b></a> .  Son essence - démarrage inactif - devrait être claire d'après le nom, et une description plus détaillée est disponible dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation de Kubernetes</a> .  Soit dit en passant, dans la version 1.13, la fonction DryRun a également été «mise à niveau» vers la version bêta et activée par défaut. <br><br>  Et une autre avancée vers la version bêta dans le monde de la console de Kubernetes a affecté le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nouveau mécanisme de plugin</a> .  En cours de route, ils ont <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">corrigé l'</a> ordre de sortie des plugins ( <code>kubectl plugin list</code> des plugins <code>kubectl plugin list</code> ), supprimant le tri supplémentaire à partir de là. <br><br>  De plus, la sortie des ressources de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">stockage éphémère</a> utilisées a été <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ajoutée</a> au <code>kubectl describe node</code> , et les volumes de type <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">projetés</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ont été ajoutés</a> à la <code>kubectl describe pod</code> . <br><br><h2>  Autres changements </h2><br>  La fonction de planification <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>Tiction Based Eviction a</b></a> été convertie en état bêta et est activée par défaut après une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">longue accalmie</a> en développement.  Son but est d'ajouter automatiquement des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">taches</a> aux nœuds (via NodeController ou kubelet) lors de l'apparition de certaines conditions, telles que, par exemple, <code>node.kubernetes.io/not-ready</code> , qui correspond à la valeur <code>NodeCondition</code> dans <code>Ready=False</code> . <br><br>  Une annotation de pods critiques pour le fonctionnement du cluster - <code>critical-pod</code> - est obsolète.  Au lieu de cela, il est proposé d'utiliser des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">priorités</a> <i>(en version bêta avec Kubernetes 1.11)</i> . <br><br>  Pour AWS pour la première fois (dans le cadre des versions alpha), les éléments suivants sont devenus disponibles: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">intégration</a> pour AWS ALB (Application Load Balancer) avec les ressources Kubernetes Ingress - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">aws-alb-ingress-controller</a> (le projet a été initialement créé par Ticketmaster et CoreOS pour migrer le premier vers le cloud AWS); </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CCM externe</a> AWS (Cloud Controller Manager) - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cloud-provider-aws</a> , qui est responsable du lancement des contrôleurs avec la fonctionnalité de fournisseur spécifique au cloud (AWS). </li></ul><br>  SIG Azure a implémenté une prise en charge supplémentaire pour Azure Disk (Ultra SSD, Standard SSD et Premium Azure Files) et a promu les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nœuds du groupe de ressources croisées</a> en version bêta.  De plus, les plugins CNI pour Windows ont désormais <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">la</a> possibilité de configurer DNS dans un conteneur. <br><br><h2>  La compatibilité </h2><br><ul><li>  La version <b>etcd</b> est 3.2.24 (n'a pas changé depuis Kubernetes 1.12). </li><li>  Versions vérifiées de <b>Docker</b> - 1.11.1, 1.12.1, 1.13.1, 17.03, 17.06, 17.09, 18.06 (également inchangées). </li><li>  <b>Go</b> version - 1.11.2, coïncide avec le minimum pris en charge. </li><li>  <b>La</b> version <b>CNI</b> est 0.6.0. </li><li>  <b>La</b> version <b>CSI</b> est 1.0.0. </li><li>  <b>La</b> version <b>CoreDNS</b> est 1.2.6. </li></ul><br><h2>  PS </h2><br>  Lisez aussi dans notre blog: <br><br><ul><li>  «Nous <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">comprenons l'interface de stockage de conteneurs (dans Kubernetes et pas seulement)</a> »; </li><li>  « <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kubernetes 1.12: aperçu des principales innovations</a> »; </li><li>  « <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kubernetes 1.11: un aperçu des innovations clés</a> »; </li><li>  « <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kubernetes 1.10: aperçu des principales innovations</a> »; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kubernetes 1.9: un aperçu des principales innovations</a> . </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr432208/">https://habr.com/ru/post/fr432208/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr432198/index.html">Delivery Manager - Un nouveau rôle dans le monde agile</a></li>
<li><a href="../fr432200/index.html">Comment Ivan a étudié la conversion des peuplements</a></li>
<li><a href="../fr432202/index.html">Génération de types de personnages à la volée (ou fous avec Rust)</a></li>
<li><a href="../fr432204/index.html">Séminaire «20 petites choses qui rendront le travail dans le centre de données vraiment confortable», 13 décembre, Moscou</a></li>
<li><a href="../fr432206/index.html">Une analyse détaillée de ce que Google a montré lors de la conférence FlutterLive (et ce que cela signifie pour Dart et le monde)</a></li>
<li><a href="../fr432210/index.html">Qualcomm a présenté la plate-forme Snapdragon 855 avec prise en charge 5G</a></li>
<li><a href="../fr432212/index.html">7 ans de projets pédagogiques Groupe Mail.Ru: partager son expérience dans les principaux domaines</a></li>
<li><a href="../fr432214/index.html">Réseaux quantiques: ce qui se développe en Russie et à l'étranger</a></li>
<li><a href="../fr432220/index.html">Comment les réseaux de fibres optiques sont construits</a></li>
<li><a href="../fr432224/index.html">La mission SpaceX CRS-16 pour la NASA est un succès. Tentative infructueuse de faire atterrir le Falcon 9 de 1re étape</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>