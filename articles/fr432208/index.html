<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßíüèæ üë∂üèª üë®‚Äçüë¶ Kubernetes 1.13: aper√ßu des principales innovations üññ ‚úçüèΩ üçÖ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Au d√©but de cette semaine , la prochaine version de Kubernetes a eu lieu , qui a √©t√© surnomm√©e ¬´ang√©lique¬ª, 1.13 . Ce nom est associ√© au nombre 113, q...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kubernetes 1.13: aper√ßu des principales innovations</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/432208/"><img src="https://habrastorage.org/webt/l2/ae/f1/l2aef1q_sehvvcqwjxvhwbjevg8.png"><br><br>  Au d√©but de cette semaine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">, la</a> prochaine version de Kubernetes a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">eu lieu</a> , qui a √©t√© surnomm√©e ¬´ang√©lique¬ª, <a href="">1.13</a> .  Ce nom est associ√© au nombre 113, qui <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">est consid√©r√© comme</a> ¬´ang√©lique¬ª et, selon les d√©veloppeurs de Kubernetes, symbolise ¬´de nouveaux commencements, la transformation et la fin d'un chapitre avant d'en ouvrir de nouveaux¬ª.  Sans entrer dans une analyse plus approfondie du symbolisme de ce qui se passe, selon la tradition d√©j√† √©tablie pour notre blog, nous rendrons compte pour la septi√®me fois des changements cl√©s dans la nouvelle version de Kubernetes, qui sont con√ßus pour plaire aux ing√©nieurs DevOps / SRE travaillant avec ce produit. <br><br>  En tant que sources d'informations, nous avons exploit√© les donn√©es du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">suivi des am√©liorations de</a> <a href="">Kubernetes</a> , du <a href="">tableau CHANGELOG-1.13</a> et des probl√®mes connexes, des demandes d'extraction, des propositions d'am√©lioration de Kubernetes (KEP). <a name="habracut"></a><br><br><h2>  GA pour kubeadm </h2><br>  L'un des principaux √©v√©nements de la version Kubernetes 1.13 a √©t√© l'annonce d'un √©tat stable (General Availability, GA) pour l' <b>utilitaire de</b> console <b>kubeadm</b> .  Le blog K8s y a m√™me consacr√© une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">publication s√©par√©e</a> .  Comme beaucoup de gens le savent, kubeadm est un outil pour cr√©er des clusters Kubernetes selon les meilleures pratiques du projet, ainsi que leur support minimal suppl√©mentaire.  Une caract√©ristique distinctive est que les d√©veloppeurs s'efforcent de le garder compact et ind√©pendant du fournisseur / de l'infrastructure, sans inclure de solutions √† des probl√®mes tels que les infrastructures d'approvisionnement, les solutions r√©seau tierces, les modules compl√©mentaires (surveillance, journalisation, etc.), les int√©grations sp√©cifiques avec le cloud prestataires. <br><br>  Le statut GA a marqu√© la maturit√© du kubeadm dans les domaines suivants: <br><br><ul><li>  interface de console stable qui suit la politique d'obsolescence de Kubernetes: les commandes et drapeaux pr√©sent√©s dans la version GA doivent √™tre pris en charge pendant au moins un an apr√®s leur d√©pr√©ciation; </li><li>  impl√©mentation stable "sous le capot" du fait que le cluster est cr√©√© par des m√©thodes qui ne changeront pas dans un avenir proche: le plan de contr√¥le d√©marre autant de pods statiques, des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">jetons de bootstrap</a> sont utilis√©s pour la <code>kubeadm join</code> et <a href="">ComponentConfig est</a> utilis√© pour configurer kubelet; </li><li>  sch√©ma de configuration avec une nouvelle API (v1beta1), qui permet de d√©crire de mani√®re d√©clarative presque tous les composants de cluster (GitOps est possible pour les clusters cr√©√©s avec kubeadm) - une mise √† niveau vers la version v1 est pr√©vue sans ou avec des changements minimes; </li><li>  les soi-disant <i>phases</i> (ou interface de <i>bo√Æte √† outils</i> ) dans kubeadm ( <code>kubeadm init phase</code> ), vous permettant de choisir les proc√©dures d'initialisation √† effectuer; </li><li>  <code>kubeadm upgrade</code> √©quipe de <code>kubeadm upgrade</code> garantit les mises √† jour du cluster entre les versions 1.10.x, 1.11.x, 1.12.x et 1.13.x (mises √† jour etcd, API Server, Controller Manager et Scheduler); </li><li>  installation s√©curis√©e de etcd par d√©faut (il utilise TLS partout) avec la possibilit√© de s'√©tendre au cluster HA si n√©cessaire. </li></ul><br>  On peut √©galement noter que kubeadm reconna√Æt d√©sormais correctement Docker 18.09.0 et ses versions les plus r√©centes.  Enfin, les d√©veloppeurs demandent aux utilisateurs de kubeadm de r√©pondre √† une petite <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">enqu√™te</a> en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ligne</a> dans laquelle ils peuvent exprimer leurs souhaits sur l'utilisation et le d√©veloppement du projet. <br><br><h2>  CoreDNS par d√©faut </h2><br>  CoreDNS, qui a re√ßu un statut stable dans la version <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kubernetes 1.11</a> , est all√© encore plus loin et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">est devenu le</a> serveur DNS par d√©faut dans K8s (au lieu des kube-dns utilis√©s jusqu'√† pr√©sent).  Il √©tait pr√©vu que cela se produise d√®s la 1.12, mais les d√©veloppeurs √©taient confront√©s au besoin d'optimisations suppl√©mentaires en termes d'√©volutivit√© et de consommation de m√©moire, qui n'ont √©t√© achev√©es que par la version actuelle. <br><br><img src="https://habrastorage.org/webt/3l/cv/oq/3lcvoqgpqlaffp-wfc9idyslnkk.png"><br><br>  La prise en charge de kube-dns continuera "pour au moins une prochaine version", mais les d√©veloppeurs parlent de la n√©cessit√© <b>de commencer la migration vers une solution √† jour</b> maintenant. <br><br>  Parmi les modifications li√©es √† la rubrique CoreDNS dans Kubernetes 1.13, le <a href=""><b>plug-</b></a> in <a href=""><b>NodeLocal DNS Cache</b></a> peut √©galement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√™tre not√©</a> pour am√©liorer les performances DNS.  L'am√©lioration est obtenue en ex√©cutant un agent sur les n≈ìuds du cluster pour le cache DNS, qui sera accessible directement par les pods de ce n≈ìud.  Par d√©faut, la fonction est d√©sactiv√©e et pour l'activer, vous devez d√©finir <code>KUBE_ENABLE_NODELOCAL_DNS=true</code> . <br><br><h2>  Installations de stockage </h2><br>  Une grande attention dans les derni√®res versions de Kubernetes est accord√©e √† l'utilisation de <b>Container Storage Interface</b> (CSI), qui a commenc√© avec la version alpha de CSI dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">K8s 1.9</a> , a continu√© avec la version b√™ta √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">1.10</a> ... Cependant, nous avons d√©j√† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√©crit</a> √† ce sujet plus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d'une fois</a> .  Une nouvelle √©tape importante a √©t√© franchie dans les K8 1.13: le <b>support CSI est d√©clar√© stable</b> (GA). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f37/7a1/772/f377a1772f60faef0fb96bceb2ccffe5.png" alt="image"><br>  <i>(Diagramme de l'article ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comprendre l'interface de stockage de conteneurs</a> ¬ª)</i> <br><br>  Parall√®lement √† cela, la prise en charge de la sp√©cification CSI v1.0.0 est apparue et la prise en charge des anciennes versions de la norme (0.3 et ant√©rieures) a √©t√© d√©conseill√©e.  Cela signifie que les anciens pilotes CSI n√©cessiteront une mise √† niveau vers CSI 1.0 (et un d√©placement vers le nouveau r√©pertoire d'enregistrement du plug-in Kubelet) pour fonctionner dans Kubernetes 1.15 et versions ant√©rieures.  Soit dit en passant, √† partir des pilotes eux-m√™mes, il convient de noter l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">apparition de la</a> version alpha de l'interface CSI pour g√©rer le cycle de vie des volumes AWS EBS (Elastic Block Store). <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Un nouvel ajout</a> au gestionnaire d'extensions installe d√©sormais automatiquement CRI √† partir de CSI si au moins l'une des deux portes de fonctionnalit√© est activ√©e: <code>CSIDriverRegistry</code> et <code>CSINodeInfo</code> .  Il a le statut de la version alpha, mais en fait ce n'est qu'une solution temporaire au probl√®me, d√©crit en d√©tail comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">un m√©canisme d'installation CRD</a> . <br><br>  La planification du volume bas√©e sur la topologie ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Topology Aware Volume Scheduling</a> ), dont nous avons parl√© dans le contexte de la version <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kubernetes 1.10</a> , est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">devenue stable</a> .  En bref, l'ordonnanceur dans son travail prend en compte les limites de la topologie du volume du pod (par exemple, sa zone et son n≈ìud). <br><br>  L' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">opportunit√©</a> introduite dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kubernetes 1.9</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d'</a> utiliser <b>des p√©riph√©riques bruts</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">bloqu√©s</a> (pas le r√©seau) en tant que volumes persistants a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√©t√© traduite</a> en version b√™ta et est d√©sormais activ√©e par d√©faut. <br><br>  Nous concluons le sujet du stockage par le fait que la prise en charge de GCERegionalPersistentDisk est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d√©clar√©e</a> stable. <br><br><h2>  Noeuds de cluster </h2><br>  La version alpha de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">prise en</a> <b>charge des plug-ins de surveillance d'appareils tiers a √©t√©</b> introduite.  L'id√©e derri√®re cette initiative est de faire ressortir des connaissances sp√©cifiques √† l'appareil <i>de l'arbre</i> de Kubelet.  Les administrateurs de cluster recevront des m√©triques signal√©es par les plugins de p√©riph√©rique au niveau du conteneur, et les fabricants pourront cr√©er ces m√©triques sans avoir √† apporter de modifications au noyau Kubernetes.  Les d√©tails de l'impl√©mentation se trouvent dans la proposition, appel√©e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">API de m√©tadonn√©es Kubelet</a> . <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">D√©clar√©</a> stable, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kubelet Plugin Watcher</a> <i>(√©galement connu sous le nom d'enregistrement de</i> plug-in de <i>p√©riph√©rique Kubelet)</i> permet aux plug-ins de niveau n≈ìud (plug-ins de p√©riph√©rique, CSI et CNI) de communiquer avec Kubelet √† leur sujet. <br><br>  Une nouvelle fonctionnalit√© en √©tat alpha est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>NodeLease</b></a> .  Si auparavant le ¬´battement de c≈ìur¬ª d'un n≈ìud √©tait d√©termin√© par NodeStatus, alors avec une nouvelle fonctionnalit√©, chaque n≈ìud a un objet <code>Lease</code> associ√© (dans l'espace de noms <code>kube-node-lease</code> ), qui est p√©riodiquement mis √† jour par le n≈ìud.  ¬´Pulse¬ª est d√©sormais d√©fini par les deux param√®tres: l'ancien NodeStatus, qui n'est signal√© au ma√Ætre qu'en cas de changement ou par un timeout fixe (par d√©faut c'est une fois par minute), et un nouvel objet (il est mis √† jour fr√©quemment).  √âtant donn√© que cet objet est tr√®s petit, il am√©liorera consid√©rablement l'√©volutivit√© et les performances.  Les auteurs se sont mis √† cr√©er une nouvelle ¬´impulsion¬ª apr√®s avoir test√© des clusters avec une taille de plus de 2 000 n≈ìuds, qui pendant leur travail pourraient reposer sur les limites etcd, pour plus de d√©tails, voir <a href="">KEP-0009</a> . <br><br><pre> <code class="plaintext hljs">type Lease struct { metav1.TypeMeta `json:",inline"` // Standard object's metadata. // More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata // +optional ObjectMeta metav1.ObjectMeta `json:"metadata,omitempty"` // Specification of the Lease. // More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#spec-and-status // +optional Spec LeaseSpec `json:"spec,omitempty"` } type LeaseSpec struct { HolderIdentity string `json:"holderIdentity"` LeaseDurationSeconds int32 `json:"leaseDurationSeconds"` AcquireTime metav1.MicroTime `json:"acquireTime"` RenewTime metav1.MicroTime `json:"renewTime"` LeaseTransitions int32 `json:"leaseTransitions"` }</code> </pre> <br>  <i>(La sp√©cification compacte du nouvel objet pour repr√©senter l '"impulsion" du n≈ìud - <code>Lease</code> - est identique √† <a href=""><code>LeaderElectionRecord</code></a> )</i> <br><br><h2>  La s√©curit√© </h2><br>  La version alpha de <a href=""><b>Dynamic Audit Control</b></a> suit les id√©es de Dynamic Admission Control et fournit une configuration dynamique de capacit√©s d'audit avanc√©es - pour cela, vous pouvez maintenant enregistrer (dynamiquement) un webhook qui recevra un flux d'√©v√©nements.  La n√©cessit√© de cette fonctionnalit√© s'explique par le fait que l'audit Kubernetes offre des fonctionnalit√©s tr√®s puissantes, mais elles sont difficiles √† configurer, et chaque changement de configuration n√©cessitait toujours un red√©marrage d'apiserver. <br><br>  <b>Le chiffrement des donn√©es dans etcd</b> <i>(voir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">la documentation officielle</a> ) a</i> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√©t√© transf√©r√©</a> du statut exp√©rimental √† la version b√™ta. <br><br><pre> <code class="xml hljs">kind: EncryptionConfiguration apiVersion: apiserver.config.k8s.io/v1 resources: - resources: - secrets providers: - identity: {} - aesgcm: keys: - name: key1 secret: c2VjcmV0IGlzIHNlY3VyZQ== - name: key2 secret: dGhpcyBpcyBwYXNzd29yZA== - aescbc: keys: - name: key1 secret: c2VjcmV0IGlzIHNlY3VyZQ== - name: key2 secret: dGhpcyBpcyBwYXNzd29yZA== - secretbox: keys: - name: key1 secret: YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoxMjM0NTY=</code> </pre> <br>  <i>(Un exemple de configuration avec des donn√©es chiffr√©es est tir√© de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation</a> .)</i> <br><br>  Parmi les innovations les moins significatives de cette cat√©gorie: <br><br><ul><li>  Apiserver <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">peut</a> maintenant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√™tre configur√©</a> pour refuser les demandes qui ne peuvent pas entrer dans les journaux d'audit. </li><li>  <code>PodSecurityPolicy</code> objets <code>PodSecurityPolicy</code> ont <code>PodSecurityPolicy</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ajout√©s avec la</a> prise <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">en</a> charge de la r√®gle <code>MayRunAs</code> pour les options <code>fsGroup</code> et <code>supplementalGroups</code> , qui permet de d√©finir la plage d'identificateurs de groupe autoris√©s (GID) pour les pods / conteneurs sans forcer le GID par d√©faut.  De plus, avec <code>PodSecurityPolicy</code> , la strat√©gie RunAsGroup <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">est</a> d√©sormais <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">possible</a> dans la sp√©cification des <code>RunAsGroup</code> , c'est-√†-dire  Vous pouvez contr√¥ler le GID principal pour les conteneurs. </li><li>  Pour kube-scheduler, nous avons <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">remplac√© le</a> port non s√©curis√© pr√©c√©dent (10251) par le nouveau port s√©curis√© (10259) et l'avons activ√© par d√©faut.  Si aucun indicateur suppl√©mentaire n'est sp√©cifi√©, lors du chargement, des certificats auto-sign√©s sont cr√©√©s pour lui en m√©moire. </li></ul><br><h2>  CLI </h2><br>  La <code><b>kubectl diff</b></code> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">montrant la</a> diff√©rence entre la configuration locale et la description actuelle de l'objet de travail (fonctionne et r√©cursivement pour les r√©pertoires avec des configurations), a re√ßu le statut b√™ta. <br><br>  En fait, <code>diff</code> "pr√©dit" les changements qui seront effectu√©s avec la <code>kubectl apply</code> , et une autre nouvelle fonctionnalit√© est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>utilis√©e</b></a> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>APIServer DryRun</b></a> .  Son essence - d√©marrage inactif - devrait √™tre claire d'apr√®s le nom, et une description plus d√©taill√©e est disponible dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation de Kubernetes</a> .  Soit dit en passant, dans la version 1.13, la fonction DryRun a √©galement √©t√© ¬´mise √† niveau¬ª vers la version b√™ta et activ√©e par d√©faut. <br><br>  Et une autre avanc√©e vers la version b√™ta dans le monde de la console de Kubernetes a affect√© le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nouveau m√©canisme de plugin</a> .  En cours de route, ils ont <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">corrig√© l'</a> ordre de sortie des plugins ( <code>kubectl plugin list</code> des plugins <code>kubectl plugin list</code> ), supprimant le tri suppl√©mentaire √† partir de l√†. <br><br>  De plus, la sortie des ressources de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">stockage √©ph√©m√®re</a> utilis√©es a √©t√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ajout√©e</a> au <code>kubectl describe node</code> , et les volumes de type <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">projet√©s</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ont √©t√© ajout√©s</a> √† la <code>kubectl describe pod</code> . <br><br><h2>  Autres changements </h2><br>  La fonction de planification <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>Tiction Based Eviction a</b></a> √©t√© convertie en √©tat b√™ta et est activ√©e par d√©faut apr√®s une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">longue accalmie</a> en d√©veloppement.  Son but est d'ajouter automatiquement des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">taches</a> aux n≈ìuds (via NodeController ou kubelet) lors de l'apparition de certaines conditions, telles que, par exemple, <code>node.kubernetes.io/not-ready</code> , qui correspond √† la valeur <code>NodeCondition</code> dans <code>Ready=False</code> . <br><br>  Une annotation de pods critiques pour le fonctionnement du cluster - <code>critical-pod</code> - est obsol√®te.  Au lieu de cela, il est propos√© d'utiliser des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">priorit√©s</a> <i>(en version b√™ta avec Kubernetes 1.11)</i> . <br><br>  Pour AWS pour la premi√®re fois (dans le cadre des versions alpha), les √©l√©ments suivants sont devenus disponibles: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">int√©gration</a> pour AWS ALB (Application Load Balancer) avec les ressources Kubernetes Ingress - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">aws-alb-ingress-controller</a> (le projet a √©t√© initialement cr√©√© par Ticketmaster et CoreOS pour migrer le premier vers le cloud AWS); </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CCM externe</a> AWS (Cloud Controller Manager) - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cloud-provider-aws</a> , qui est responsable du lancement des contr√¥leurs avec la fonctionnalit√© de fournisseur sp√©cifique au cloud (AWS). </li></ul><br>  SIG Azure a impl√©ment√© une prise en charge suppl√©mentaire pour Azure Disk (Ultra SSD, Standard SSD et Premium Azure Files) et a promu les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">n≈ìuds du groupe de ressources crois√©es</a> en version b√™ta.  De plus, les plugins CNI pour Windows ont d√©sormais <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">la</a> possibilit√© de configurer DNS dans un conteneur. <br><br><h2>  La compatibilit√© </h2><br><ul><li>  La version <b>etcd</b> est 3.2.24 (n'a pas chang√© depuis Kubernetes 1.12). </li><li>  Versions v√©rifi√©es de <b>Docker</b> - 1.11.1, 1.12.1, 1.13.1, 17.03, 17.06, 17.09, 18.06 (√©galement inchang√©es). </li><li>  <b>Go</b> version - 1.11.2, co√Øncide avec le minimum pris en charge. </li><li>  <b>La</b> version <b>CNI</b> est 0.6.0. </li><li>  <b>La</b> version <b>CSI</b> est 1.0.0. </li><li>  <b>La</b> version <b>CoreDNS</b> est 1.2.6. </li></ul><br><h2>  PS </h2><br>  Lisez aussi dans notre blog: <br><br><ul><li>  ¬´Nous <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">comprenons l'interface de stockage de conteneurs (dans Kubernetes et pas seulement)</a> ¬ª; </li><li>  ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kubernetes 1.12: aper√ßu des principales innovations</a> ¬ª; </li><li>  ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kubernetes 1.11: un aper√ßu des innovations cl√©s</a> ¬ª; </li><li>  ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kubernetes 1.10: aper√ßu des principales innovations</a> ¬ª; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kubernetes 1.9: un aper√ßu des principales innovations</a> . </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr432208/">https://habr.com/ru/post/fr432208/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr432198/index.html">Delivery Manager - Un nouveau r√¥le dans le monde agile</a></li>
<li><a href="../fr432200/index.html">Comment Ivan a √©tudi√© la conversion des peuplements</a></li>
<li><a href="../fr432202/index.html">G√©n√©ration de types de personnages √† la vol√©e (ou fous avec Rust)</a></li>
<li><a href="../fr432204/index.html">S√©minaire ¬´20 petites choses qui rendront le travail dans le centre de donn√©es vraiment confortable¬ª, 13 d√©cembre, Moscou</a></li>
<li><a href="../fr432206/index.html">Une analyse d√©taill√©e de ce que Google a montr√© lors de la conf√©rence FlutterLive (et ce que cela signifie pour Dart et le monde)</a></li>
<li><a href="../fr432210/index.html">Qualcomm a pr√©sent√© la plate-forme Snapdragon 855 avec prise en charge 5G</a></li>
<li><a href="../fr432212/index.html">7 ans de projets p√©dagogiques Groupe Mail.Ru: partager son exp√©rience dans les principaux domaines</a></li>
<li><a href="../fr432214/index.html">R√©seaux quantiques: ce qui se d√©veloppe en Russie et √† l'√©tranger</a></li>
<li><a href="../fr432220/index.html">Comment les r√©seaux de fibres optiques sont construits</a></li>
<li><a href="../fr432224/index.html">La mission SpaceX CRS-16 pour la NASA est un succ√®s. Tentative infructueuse de faire atterrir le Falcon 9 de 1re √©tape</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>