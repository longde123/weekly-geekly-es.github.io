<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë± ü•õ üë®üèΩ‚Äçüî¨ Fonctionnement de l'apprentissage automatique dans Mail.ru Mail üìå üêÅ üï¥üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="D'apr√®s mes performances √† Highload ++ et DataFest Minsk 2019 

 Pour beaucoup, le courrier d'aujourd'hui fait partie int√©grante de la vie en ligne. A...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Fonctionnement de l'apprentissage automatique dans Mail.ru Mail</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/476714/"><img src="https://habrastorage.org/webt/k-/h5/xj/k-h5xjc6xswda5namvb8vgzjnns.jpeg"><br><br>  <i>D'apr√®s mes performances √† Highload ++ et DataFest Minsk 2019</i> <br><br>  Pour beaucoup, le courrier d'aujourd'hui fait partie int√©grante de la vie en ligne.  Avec son aide, nous menons la correspondance commerciale, stockons toutes sortes d'informations importantes li√©es aux finances, aux r√©servations d'h√¥tel, au paiement et bien plus encore.  √Ä la mi-2018, nous avons formul√© une strat√©gie de produit de d√©veloppement de courrier.  Quel devrait √™tre le courrier moderne? <br><br>  Le courrier doit √™tre <b>intelligent</b> , c'est-√†-dire aider les utilisateurs √† naviguer dans la quantit√© croissante d'informations: filtrer, structurer et les fournir de la mani√®re la plus pratique.  Cela devrait √™tre <b>utile</b> , permettant directement dans la bo√Æte aux lettres de r√©soudre divers probl√®mes, par exemple, payer des amendes (une fonction que j'utilise malheureusement).  Et en m√™me temps, bien s√ªr, le courrier doit fournir une protection des informations en supprimant le spam et en prot√©geant contre les hacks, c'est-√†-dire en <b>toute s√©curit√©</b> . <br><a name="habracut"></a><br>  Ces domaines d√©terminent un certain nombre de t√¢ches cl√©s, dont beaucoup peuvent √™tre r√©solues efficacement √† l'aide de l'apprentissage automatique.  Voici des exemples de fonctionnalit√©s existantes d√©velopp√©es dans le cadre de la strat√©gie - une pour chaque direction. <br><br><ul><li>  <b>R√©ponse intelligente</b> .  Il y a une fonction de r√©ponse intelligente dans l'e-mail.  Le r√©seau de neurones analyse le texte de la lettre, en comprend le sens et le but, et propose par cons√©quent les trois options de r√©ponse les plus appropri√©es: positive, n√©gative et neutre.  Cela permet de gagner beaucoup de temps lors de la r√©ponse aux lettres, et r√©pond √©galement souvent non standard et amusant pour vous-m√™me. <br></li><li> <b>Regroupement des lettres</b> li√©es aux commandes dans les boutiques en ligne.  Nous effectuons souvent des achats sur Internet et, en r√®gle g√©n√©rale, les magasins peuvent envoyer plusieurs lettres pour chaque commande.  Par exemple, sur AliExpress, le plus grand service, il y a beaucoup de lettres pour une commande, et nous avons pens√© que dans le cas du terminal, leur nombre peut atteindre 29. Par cons√©quent, en utilisant le mod√®le de reconnaissance d'entit√© nomm√©e, nous s√©lectionnons le num√©ro de commande et d'autres informations dans le texte et le groupe toutes les lettres dans un seul fil.  Nous montrons √©galement les informations de base sur la commande dans une bo√Æte s√©par√©e, ce qui facilite le travail avec ce type de lettres. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3f1/b29/7f7/3f1b297f73ba953ecda62e89fee2ee9c.png"><br></li><li>  <b>Antiphishing</b> .  Le phishing est un type de courrier √©lectronique frauduleux particuli√®rement dangereux √† l'aide duquel les attaquants tentent d'obtenir des informations financi√®res (y compris les cartes bancaires des utilisateurs) et des connexions.  Ces lettres imitent les vraies envoy√©es par le service, y compris visuellement.  Par cons√©quent, avec l'aide de Computer Vision, nous reconnaissons les logos et le style des lettres des grandes entreprises (par exemple, Mail.ru, Sberbank, Alpha) et en tenons compte avec le texte et les autres signes dans nos classificateurs de spam et de phishing. <br></li></ul><br><h2>  Apprentissage automatique </h2><br>  Un peu sur l'apprentissage automatique dans le courrier en g√©n√©ral.  Le courrier est un syst√®me tr√®s charg√©: sur nos serveurs, une moyenne de 1,5 milliard de lettres par jour passe √† 30 millions d'utilisateurs DAU.  Servir toutes les fonctions et caract√©ristiques n√©cessaires d'environ 30 syst√®mes d'apprentissage automatique. <br><br>  Chaque lettre passe par un convoyeur de classification complet.  D'abord, nous supprimons le spam et laissons de bons e-mails.  Souvent, les utilisateurs ne remarquent pas le fonctionnement de l'anti-spam, car 95 √† 99% du spam ne p√©n√®tre m√™me pas dans le dossier correspondant.  La reconnaissance du spam est une partie tr√®s importante de notre syst√®me, et la plus difficile, car dans la sph√®re anti-spam, il y a une adaptation constante entre les syst√®mes de d√©fense et d'attaque, ce qui constitue un d√©fi d'ing√©nierie continu pour notre √©quipe. <br><br>  Ensuite, nous s√©parons les lettres des personnes et des robots.  Les lettres de personnes sont les plus importantes, donc pour elles, nous fournissons des fonctions comme Smart Reply.  Les lettres des robots sont divis√©es en deux parties: transactionnelles - ce sont des lettres importantes des services, par exemple, la confirmation des achats ou des r√©servations d'h√¥tel, les finances et l'information - ce sont la publicit√© commerciale, les remises. <br><br>  Nous pensons que les lettres transactionnelles ont la m√™me valeur que la correspondance personnelle.  Ils doivent √™tre √† port√©e de main, car il est souvent n√©cessaire de trouver rapidement des informations sur la commande ou la r√©servation d'un billet, et nous passons du temps √† rechercher ces lettres.  Par cons√©quent, pour plus de commodit√©, nous les divisons automatiquement en six cat√©gories principales: voyages, r√©servations, finances, billets, inscriptions et enfin, amendes. <br><br>  Les newsletters sont le groupe le plus important et probablement le moins important qui ne n√©cessite pas de r√©action instantan√©e, car rien de significatif ne changera dans la vie de l'utilisateur s'il ne lit pas une telle lettre.  Dans notre nouvelle interface, nous les regroupons en deux fils: les r√©seaux sociaux et les newsletters, effa√ßant ainsi visuellement la bo√Æte aux lettres et ne laissant que les lettres importantes en vue. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/300/e18/9b9/300e189b9567866cb526eb34be80b3b4.jpg"><br><br><h3>  Fonctionnement </h3><br>  Un grand nombre de syst√®mes entra√Æne de nombreuses difficult√©s de fonctionnement.  Apr√®s tout, les mod√®les se d√©gradent avec le temps, comme n'importe quel logiciel: les panneaux tombent en panne, les machines tombent en panne, un code roule.  De plus, les donn√©es changent constamment: de nouvelles sont ajout√©es, le mod√®le de comportement de l'utilisateur est transform√©, etc., par cons√©quent, le mod√®le sans support appropri√© fonctionnera de plus en plus mal avec le temps. <br><br>  Nous ne devons pas oublier que plus l'apprentissage automatique approfondit la vie des utilisateurs, plus leur impact sur l'√©cosyst√®me est important et, par cons√©quent, plus les acteurs du march√© peuvent obtenir de pertes ou de b√©n√©fices financiers.  Par cons√©quent, dans un nombre croissant de domaines, les joueurs s'adaptent au travail des algorithmes ML (les exemples classiques sont la publicit√©, la recherche et l'anti-spam d√©j√† mentionn√©s). <br><br>  De plus, les t√¢ches d'apprentissage automatique ont une particularit√©: toute modification du syst√®me, bien qu'insignifiante, peut entra√Æner beaucoup de travail avec le mod√®le: travailler avec les donn√©es, recycler, d√©ployer, ce qui peut prendre des semaines ou des mois.  Par cons√©quent, plus l'environnement dans lequel fonctionnent vos mod√®les est rapide, plus leur assistance n√©cessite d'efforts.  Une √©quipe peut cr√©er de nombreux syst√®mes et en profiter, puis d√©penser presque toutes les ressources pour son support, sans avoir la possibilit√© de faire quelque chose de nouveau.  Une fois, nous avons rencontr√© une telle situation dans une √©quipe anti-spam.  Et ils ont clairement conclu que la maintenance devait √™tre automatis√©e. <br><br><h3>  Automatisation </h3><br>  Qu'est-ce qui peut √™tre automatis√©?  En fait, presque tout.  J'ai identifi√© quatre domaines qui d√©finissent l'infrastructure du machine learning: <br><br><ul><li>  collecte de donn√©es; <br></li><li>  formation continue; <br></li><li>  d√©ploiement; <br></li><li>  tests et surveillance. <br></li></ul><br>  Si l'environnement est instable et en constante √©volution, alors toute l'infrastructure autour du mod√®le est beaucoup plus importante que le mod√®le lui-m√™me.  C'est peut-√™tre le bon vieux classificateur lin√©aire, mais si vous appliquez correctement les signes et √©tablissez une bonne r√©troaction des utilisateurs, cela fonctionnera beaucoup mieux que les mod√®les de pointe avec toutes les cloches et les sifflets. <br><br><h4>  Boucle de r√©troaction </h4><br>  Ce cycle combine la collecte de donn√©es, la formation continue et le d√©ploiement - en fait, tout le cycle de mise √† jour du mod√®le.  Pourquoi est-ce important?  Regardez le calendrier d'inscription dans l'e-mail: <br><br><img src="https://habrastorage.org/webt/8b/nj/qx/8bnjqxedzuj9ubakau7yd1vh_cc.png"><br><br>  Le d√©veloppeur de l'apprentissage automatique a introduit un mod√®le antibot qui emp√™che les bots de s'enregistrer dans l'e-mail.  Le graphique tombe √† une valeur o√π seuls les utilisateurs r√©els restent.  Tout est super!  Mais quatre heures s'√©coulent, les botvods resserrent leurs scripts, et tout revient √† la case d√©part.  Dans cette impl√©mentation, le d√©veloppeur a pass√© un mois √† ajouter des fonctionnalit√©s et un mod√®le de formation, mais le spammeur a pu s'adapter en quatre heures. <br><br>  Pour ne pas √™tre si douloureusement douloureux et ne pas avoir √† tout refaire plus tard, nous devons d'abord penser √† quoi ressemblera la boucle de r√©troaction et √† ce que nous ferons si l'environnement change.  Commen√ßons par collecter des donn√©es - c'est le carburant de nos algorithmes. <br><br><h2>  Collecte de donn√©es </h2><br>  Il est clair que les r√©seaux de neurones modernes, plus il y a de donn√©es, mieux c'est, et ils g√©n√®rent en fait des utilisateurs du produit.  Les utilisateurs peuvent nous aider en balisant les donn√©es, mais vous ne pouvez pas en abuser, car √† un moment donn√©, les utilisateurs seront fatigu√©s de terminer vos mod√®les et ils passeront √† un autre produit. <br><br>  L'une des erreurs les plus courantes (je fais ici une r√©f√©rence √† Andrew Ng) est que l'orientation vers les m√©triques sur l'ensemble de donn√©es de test est trop forte, et non vers les commentaires de l'utilisateur, qui est en fait la principale mesure de la qualit√© du travail, car nous cr√©ons un produit pour l'utilisateur.  Si l'utilisateur ne comprend pas ou n'aime pas le travail du mod√®le, alors tout est p√©rissable. <br><br>  Par cons√©quent, l'utilisateur devrait toujours pouvoir voter, devrait lui donner un outil de r√©troaction.  Si nous pensons qu'une lettre li√©e √† la finance est arriv√©e dans la bo√Æte, nous devons la marquer ¬´finance¬ª et dessiner un bouton sur lequel l'utilisateur peut cliquer et dire que ce n'est pas de la finance. <br><br><h3>  Qualit√© des commentaires </h3><br>  Parlons de la qualit√© des commentaires des utilisateurs.  Premi√®rement, vous et l'utilisateur pouvez mettre diff√©rentes significations dans un m√™me concept.  Par exemple, vous et les chefs de produit pensez que ¬´finance¬ª est une lettre de la banque, et l'utilisateur pense que la lettre de ma grand-m√®re sur la retraite fait √©galement r√©f√©rence √† la finance.  Deuxi√®mement, il y a des utilisateurs qui aiment sans r√©fl√©chir appuyer sur des boutons sans aucune logique.  Troisi√®mement, l'utilisateur peut se tromper profond√©ment dans ses conclusions.  Un exemple frappant de notre pratique est l'introduction du classificateur de <a href="https://ru.wikipedia.org/wiki/%25D0%259D%25D0%25B8%25D0%25B3%25D0%25B5%25D1%2580%25D0%25B8%25D0%25B9%25D1%2581%25D0%25BA%25D0%25B8%25D0%25B5_%25D0%25BF%25D0%25B8%25D1%2581%25D1%258C%25D0%25BC%25D0%25B0">spam nig√©rian</a> , un type de spam tr√®s amusant, lorsque l'utilisateur est invit√© √† collecter plusieurs millions de dollars aupr√®s d'un parent √©loign√© soudainement trouv√© en Afrique.  Apr√®s avoir introduit ce classificateur, nous avons v√©rifi√© les clics ¬´Pas de spam¬ª sur ces lettres, et il s'est av√©r√© que 80% d'entre elles sont du spam nig√©rian juteux, ce qui sugg√®re que les utilisateurs peuvent faire extr√™mement confiance. <br><br>  Et n'oublions pas que non seulement les gens peuvent pousser les boutons, mais toutes sortes de bots qui se font passer pour un navigateur.  La r√©troaction brute n'est donc pas bonne pour l'apprentissage.  Que faire de ces informations? <br><br>  Nous utilisons deux approches: <br><br><ul><li>  <b>Commentaires du ML correspondant</b> .  Par exemple, nous avons un syst√®me antibot en ligne qui, comme je l'ai mentionn√©, prend une d√©cision rapide en fonction d'un nombre limit√© de signes.  Et il existe un deuxi√®me syst√®me lent qui fonctionne ex post.  Elle a plus de donn√©es sur l'utilisateur, sur son comportement, etc.  En cons√©quence, la d√©cision la plus √©quilibr√©e est prise, respectivement, elle a une pr√©cision et une exhaustivit√© plus √©lev√©es.  Vous pouvez diriger la diff√©rence dans le travail de ces syst√®mes dans le premier comme donn√©es pour la formation.  Ainsi, un syst√®me plus simple tentera toujours de se rapprocher d'une performance plus complexe. <br></li><li>  <b>Classification des clics</b> .  Vous pouvez simplement classer chaque clic de l'utilisateur, √©valuer sa validit√© et sa capacit√© d'utilisation.  Nous le faisons dans le courrier anti-spam en utilisant les attributs de l'utilisateur, son historique, les attributs de l'exp√©diteur, le texte lui-m√™me et le r√©sultat des classificateurs.  En cons√©quence, nous obtenons un syst√®me automatique qui valide les commentaires des utilisateurs.  Et comme il est n√©cessaire de le former beaucoup moins fr√©quemment, son travail peut devenir le principal pour tous les autres syst√®mes.  La pr√©cision est la principale priorit√© de ce mod√®le, car la formation d'un mod√®le sur des donn√©es inexactes est lourde de cons√©quences. <br></li></ul><br>  Pendant que nous nettoyons les donn√©es et recyclons nos syst√®mes ML, nous ne devons pas oublier les utilisateurs, car pour nous des milliers, des millions d'erreurs sur le graphique sont des statistiques, et pour un utilisateur, chaque bug est une trag√©die.  En plus du fait que l'utilisateur doit en quelque sorte vivre avec votre erreur dans le produit, il s'attend, apr√®s les commentaires, √† l'exclusion d'une situation similaire √† l'avenir.  Par cons√©quent, vous devez toujours donner aux utilisateurs non seulement la possibilit√© de voter, mais √©galement corriger le comportement des syst√®mes ML, en cr√©ant, par exemple, une heuristique personnelle pour chaque clic de r√©troaction, dans le cas du courrier, il peut √™tre possible de filtrer ces messages par exp√©diteur et en-t√™te pour cet utilisateur. <br><br>  Vous devez √©galement b√©quiller le mod√®le sur la base de certains rapports ou appels √† l'assistance en mode semi-automatique ou manuel, afin que les autres utilisateurs ne souffrent pas non plus de probl√®mes similaires. <br><br><h3>  Heuristique pour l'apprentissage </h3><br>  Il y a deux probl√®mes avec ces heuristiques et ces b√©quilles.  La premi√®re est que le nombre toujours croissant de b√©quilles est difficile √† entretenir, sans parler de leur qualit√© et de leurs performances sur de longues distances.  Le deuxi√®me probl√®me est que l'erreur n'est peut-√™tre pas fr√©quentielle, et quelques clics pour recycler le mod√®le ne suffiront pas.  Il semblerait que ces deux effets non li√©s peuvent √™tre sensiblement nivel√©s si l'approche suivante est appliqu√©e. <br><br><ol><li>  Cr√©ez une b√©quille temporaire. <br></li><li>  Nous en dirigeons les donn√©es vers le mod√®le; elles sont r√©guli√®rement r√©cup√©r√©es, y compris les donn√©es re√ßues.  Ici, bien s√ªr, il est important que l'heuristique ait une grande pr√©cision afin de ne pas r√©duire la qualit√© des donn√©es dans l'ensemble d'apprentissage. <br></li><li>  Ensuite, nous suspendons la surveillance du fonctionnement de la b√©quille, et si apr√®s un certain temps la b√©quille ne fonctionne plus et est compl√®tement couverte par le mod√®le, vous pouvez la retirer en toute s√©curit√©.  Maintenant, ce probl√®me est peu susceptible de se reproduire. <br></li></ol><br>  L'arm√©e de b√©quilles est donc tr√®s utile.  L'essentiel est que leur service soit urgent et non permanent. <br><br><h2>  Formation continue </h2><br>  La reconversion est le processus consistant √† ajouter de nouvelles donn√©es obtenues √† la suite des commentaires des utilisateurs ou d'autres syst√®mes et √† former le mod√®le existant √† leur sujet.  Il peut y avoir plusieurs probl√®mes de recyclage: <br><br><ol><li>  Un mod√®le peut tout simplement ne pas soutenir la poursuite des √©tudes et apprendre uniquement √† partir de z√©ro. <br></li><li>  Nulle part dans le livre de la nature il n'est √©crit que la formation continue am√©liorera certainement la qualit√© du travail en production.  Souvent, cela se produit au contraire, c'est-√†-dire que seule la d√©t√©rioration est possible. <br></li><li>  Les changements peuvent √™tre impr√©visibles.  C'est un point assez subtil que nous avons identifi√© pour nous-m√™mes.  M√™me si le nouveau mod√®le du test A / B montre des r√©sultats similaires par rapport au mod√®le actuel, cela ne signifie pas du tout qu'il fonctionnera de mani√®re identique.  Leur travail peut diff√©rer d'un pour cent, ce qui peut entra√Æner de nouvelles erreurs ou renvoyer des anciennes d√©j√† corrig√©es.  Les utilisateurs et nous savons d√©j√† comment vivre avec les erreurs actuelles, et lorsqu'un grand nombre de nouvelles erreurs se produisent, l'utilisateur peut √©galement ne pas comprendre ce qui se passe, car il s'attend √† un comportement pr√©visible. <br></li></ol><br>  Par cons√©quent, la chose la plus importante dans le recyclage est garantie d'am√©liorer le mod√®le, ou du moins de ne pas l'aggraver. <br><br>  La premi√®re chose qui me vient √† l'esprit lorsque nous parlons de formation continue est l'approche Active Learning.  Qu'est-ce que cela signifie?  Par exemple, le classificateur d√©termine si la lettre se rapporte √† la finance, et autour de sa fronti√®re de prise de d√©cision, nous ajoutons une s√©lection d'exemples balis√©s.  Cela fonctionne bien, par exemple, dans la publicit√©, o√π il y a beaucoup de commentaires et o√π vous pouvez former le mod√®le en ligne.  Et s'il y a peu de r√©troaction, alors nous obtenons un √©chantillon fortement biais√© par rapport √† la production de la distribution des donn√©es, sur la base duquel il est impossible d'√©valuer le comportement du mod√®le pendant le fonctionnement. <br><br><img src="https://habrastorage.org/webt/wz/1c/0g/wz1c0gfwffg6kh2gnc76v_-70ai.jpeg"><br><br>  En fait, notre objectif est de conserver les anciens mod√®les, les mod√®les d√©j√† connus et d'en acqu√©rir de nouveaux.  Ici, la continuit√© est importante.  Le mod√®le, que nous avons souvent d√©ploy√© avec beaucoup de difficult√©, fonctionne d√©j√†, nous pouvons donc nous concentrer sur ses performances. <br><br>  Dans l'e-mail, diff√©rents mod√®les sont utilis√©s: arbres, r√©seaux lin√©aires, neuronaux.  Pour chacun, nous cr√©ons notre propre algorithme de recyclage.  Dans le processus de recyclage, nous obtenons non seulement de nouvelles donn√©es, mais souvent de nouvelles fonctionnalit√©s que nous prendrons en compte dans tous les algorithmes ci-dessous. <br><br><h3>  Mod√®les lin√©aires </h3><br>  Disons que nous avons une r√©gression logistique.  Nous composons le mod√®le de perte √† partir des composants suivants: <br><br><ul><li>  LogLoss sur les nouvelles donn√©es; <br></li><li>  nous r√©gularisons le poids des nouveaux panneaux (nous ne touchons pas aux anciens); <br></li><li>  nous apprenons d'anciennes donn√©es afin de conserver les anciens sch√©mas; <br></li><li>  et, peut-√™tre, le plus important: nous attachons la r√©gularisation harmonique, qui garantit un l√©ger changement de poids par rapport √† l'ancien mod√®le selon la norme. <br></li></ul><br>  √âtant donn√© que chaque composant de perte a des coefficients, nous pouvons choisir les valeurs optimales pour notre t√¢che pour la validation crois√©e ou en fonction des exigences du produit. <br><br><img src="https://habrastorage.org/webt/kz/ej/-r/kzej-rg5tcarotc9l25xe7x9d8a.jpeg"><br><br><h3>  Les arbres </h3><br>  Passons aux arbres de d√©cision.  Nous avons film√© l'algorithme de recyclage des arbres suivant: <br><br><ol><li>  Une for√™t de 100-300 arbres travaille sur le prod, qui a √©t√© form√© sur l'ancien ensemble de donn√©es. <br></li><li>  √Ä la fin, nous supprimons M = 5 pi√®ces et en ajoutons 2M = 10 nouvelles, entra√Æn√©es sur l'ensemble des donn√©es, mais avec un poids √©lev√© √† partir des nouvelles donn√©es, ce qui garantit naturellement un changement incr√©mentiel dans le mod√®le. <br></li></ol><br>  De toute √©vidence, au fil du temps, le nombre d'arbres augmente de mani√®re significative, et ils doivent √™tre p√©riodiquement r√©duits afin de s'adapter aux horaires.  Pour ce faire, nous utilisons la distillation d√©sormais omnipr√©sente des connaissances (KD).  Bri√®vement sur le principe de son travail. <br><br><ol><li>  Nous avons le mod√®le ¬´complexe¬ª actuel.  Nous le commen√ßons sur l'ensemble de donn√©es d'apprentissage et obtenons la distribution de probabilit√© des classes en sortie. <br></li><li>  Ensuite, nous enseignons au mod√®le √©tudiant (un mod√®le avec moins d'arbres dans ce cas) de r√©p√©ter les r√©sultats du mod√®le, en utilisant la distribution des classes comme variable cible. <br></li><li>  Il est important de noter ici que nous n'utilisons aucun balisage d'ensemble de donn√©es, et que nous pouvons donc utiliser des donn√©es arbitraires.  Bien s√ªr, nous utilisons un √©chantillon de donn√©es du flux de combat comme √©chantillon d'entra√Ænement pour le mod√®le √©tudiant.  Ainsi, l'ensemble d'apprentissage nous permet d'assurer la pr√©cision du mod√®le, et un √©chantillon du flux garantit une performance similaire sur la distribution de la production, compensant le d√©calage de l'√©chantillon d'apprentissage. <br></li></ol><br><img src="https://habrastorage.org/webt/a9/y-/qb/a9y-qbwv-wg1r8w7ohezamjzbi4.jpeg"><br><br>  La combinaison de ces deux techniques (ajout d'arbres et r√©duction p√©riodique de leur nombre gr√¢ce √† la distillation des connaissances) assure l'introduction de nouveaux sch√©mas et une continuit√© compl√®te. <br><br>  Avec l'aide de KD, nous effectuons √©galement la distinction des op√©rations avec les caract√©ristiques d'un mod√®le, par exemple, la suppression des caract√©ristiques et le travail sur les passes.  Dans notre cas, nous avons un certain nombre de fonctionnalit√©s statistiques importantes (par exp√©diteurs, hachages de texte, URL, etc.) qui sont stock√©es dans une base de donn√©es qui a la propri√©t√© de refuser.  Le mod√®le, bien s√ªr, n'est pas pr√™t pour un tel d√©veloppement des √©v√©nements, car il n'y a pas de situations d'√©chec dans l'ensemble d'entra√Ænement.  Dans de tels cas, nous combinons KD et techniques d'augmentation: lorsque nous nous entra√Ænons pour une partie des donn√©es, nous supprimons ou mettons √† z√©ro les signes n√©cessaires, et nous prenons les √©tiquettes (sorties du mod√®le actuel) comme initiales, le mod√®le √©tudiant nous apprend √† r√©p√©ter cette distribution. <br><br><img src="https://habrastorage.org/webt/xz/dc/12/xzdc12577_krj0_-qknhnh8eqvo.jpeg"><br><br>  Nous avons remarqu√© que plus la manipulation des mod√®les est s√©rieuse, plus le pourcentage d'√©coulement d'√©chantillon requis est √©lev√©. <br><br>  Pour supprimer des fonctionnalit√©s, l'op√©ration la plus simple, seule une petite partie du flux est requise, car seules quelques fonctionnalit√©s changent, et le mod√®le actuel √©tudi√© sur le m√™me ensemble - la diff√©rence est minime.  Pour simplifier le mod√®le (en r√©duisant le nombre d'arbres de plusieurs fois), 50 √† 50 sont d√©j√† n√©cessaires. Et omettre des caract√©ristiques statistiques importantes qui affectent s√©rieusement les performances du mod√®le n√©cessitent encore plus de flux pour √©quilibrer le travail du nouveau mod√®le, qui r√©siste aux omissions, sur tous les types de lettres. <br><br><img src="https://habrastorage.org/webt/xw/b5/ib/xwb5ibcbds7xt3asahheyhpj9v4.jpeg"><br><br><h3>  Fasttext </h3><br>  Passons √† FastText.  Permettez-moi de vous rappeler que la repr√©sentation (incorporation) d'un mot consiste en la somme de l'incorporation du mot lui-m√™me et de toutes ses lettres N-grammes, g√©n√©ralement des trigrammes.  √âtant donn√© que les trigrammes peuvent √™tre beaucoup, Bucket Hashing est utilis√©, c'est-√†-dire la conversion de tout l'espace en une certaine table de hachage fixe.  En cons√©quence, la matrice de poids est obtenue par la dimension de la couche int√©rieure par le nombre de mots + seau. <br><br>  Au cours de la formation continue, de nouveaux signes apparaissent: mots et trigrammes.  Dans la post-formation standard de Facebook, rien de significatif ne se produit.  Seuls les anciens poids avec entropie crois√©e sur les nouvelles donn√©es sont recycl√©s.  ,    , ,      ,      .     FastText.     (  ),     -         ,      . <br><br><img src="https://habrastorage.org/webt/ib/0g/v3/ib0gv3rq9xvxitkbimz_6f4yaqs.jpeg"><br><br><h3>  CNN </h3><br>     .   CNN   , , ,       .    ,     ,         .         Triplet Loss ( <a href="https://arxiv.org/abs/1503.03832"> </a> ). <br><br><h4> Triplet Loss </h4><br>         Triplet Loss.   ,         .         ,     ,     . <br><br><img src="https://habrastorage.org/webt/h9/uz/cy/h9uzcyjc9y86mc2inrlv0wq3kwm.jpeg"><br><br>    ,       ,       .     ,  .    ,       . <br><br>      -       .        (Finetuning):    ,     .            ,  ‚Äî   .  ,         v1  v2.    . <br><br><img src="https://habrastorage.org/webt/eb/iu/ro/ebiurox9uuibm_meuq8tap3zyzw.jpeg"><br><br><h3>   </h3><br>        ,    ,     .  ,    ,   CNN  Fast Text  .     ,       ( , ,  ).            .                    ,           . <br><br><img src="https://habrastorage.org/webt/ik/42/y4/ik42y4lvyzbhbsuywkmrxwg6bp4.jpeg"><br><br>        .     CNN  Fast Text    ,     ‚Äî          .          Knowledge Distillation. <br><br>           ,             .               ,            ,        . <br><br><h2>  D√©ployer </h2><br>         ,        . <br><br><h3> /B- </h3><br>    ,     ,  ,   ,     - .          ,  ,      ,    A/B-.              .       5 %,  30 %,  50 %   100 % ,            .   -      ,    ,     ,     .       50 %   ,       ,      . <br><br>   A/B-    .   ,   A/B-   (      6  24      ),         .         ,       /B- (            ),    A/B-  . ,          ,        . <br><br>        ,   A/B-.         , Precision, Recall      ,       .       ,  ,      (Complexity) .    ,       -,      ,   ,      A/B-. <br><br><img src="https://habrastorage.org/webt/jf/nf/mu/jfnfmu8eoxpau1ux_n_ndww9ffi.jpeg"><br><br>             A/B-. <br><br><h3>  &amp;  </h3><br>   ,   ,    , , ,      .    ,   ‚Äî   ,     . <br><br>   ,          ‚Äî       .          ,          .      ,     ‚Äî -      ,     . <br><br>     ,                 .             (     ).  -       .  ,      ,         ¬´¬ª       .    ,     ,        .          . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/db1/f2f/6a9/db1f2f6a95922c5c4caf13e5aab1be57.jpg"><br><br>            .     ,       ,      .   KL-           A/B-   ,          . <br><br>               ,       . ,  NER-       -,         ,    .     ! <br><br><h2>  R√©sum√© </h2><br>       . <br><br><ul><li> <b></b> .    :       ,     .  ,   ‚Äî       ,        ML-.       ,     , ,  . <br></li><li> <b></b> .   ‚Äî  ,     -.    ,              . </li><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©ployer</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Les mesures automatiques r√©duisent consid√©rablement le temps de mise en ≈ìuvre des mod√®les. </font><font style="vertical-align: inherit;">Suivi des statistiques et r√©partition de la prise de d√©cision, le nombre de chutes des utilisateurs est obligatoire pour votre bon sommeil et vos jours de repos productifs.</font></font><br></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Eh bien, j'esp√®re que ce que vous lirez vous aidera √† am√©liorer vos syst√®mes ML plus rapidement, √† acc√©l√©rer leur lancement sur le march√© et √† les rendre plus fiables, r√©duisant ainsi le stress du travail. </font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr476714/">https://habr.com/ru/post/fr476714/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr476704/index.html">Comment automatiser la mise en page des emails avec le m√™me type d'√©l√©ments: nous utilisons des objets intelligents</a></li>
<li><a href="../fr476706/index.html">Cerebras Systems a pr√©sent√© un ordinateur avec le plus grand processeur au monde 22 √ó 22 centim√®tres</a></li>
<li><a href="../fr476708/index.html">Slurm Basic √† Moscou. Troisi√®me jour La collection de contre-espionnage et le cluster, battant Pavel Selivanov et "Slurm Inspires!"</a></li>
<li><a href="../fr476710/index.html">Ouverture des inscriptions: Deep Dive to IT sur Mars</a></li>
<li><a href="../fr476712/index.html">Service pour des rencontres al√©atoires avec des √©trangers, mais pas de rencontres. Historique de d√©marrage de Coffee al√©atoire</a></li>
<li><a href="../fr476718/index.html">Histoire d'une radio nationale: Mussolini de la radio rurale et Joseph Goebbels des lampes chaudes</a></li>
<li><a href="../fr476720/index.html">Comment identifier un employ√© potentiel √† l'√©tape du CV</a></li>
<li><a href="../fr476722/index.html">Automatisation de la distribution de flux Apache NiFi</a></li>
<li><a href="../fr476724/index.html">Installer Vmware ESXi sur Mac Pro 1.1</a></li>
<li><a href="../fr476726/index.html">Dipl√¥m√© de l'Universit√© Innopolis sur les √©tudes √† l'Universit√© de Grenoble, AI, anglais avec le fran√ßais et fromage avec des punaises de lit</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>