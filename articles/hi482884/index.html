<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯЪк ЁЯзТЁЯП╗ ЁЯХ║ЁЯП╜ рд╢рд╛рдо рдХреЗ рд▓рд┐рдП рдкрд╛рда: рд╡рд╛рдХреНрдп рд░рдЪрдирд╛ рд╣рд╛рдЗрд▓рд╛рдЗрдЯрд┐рдВрдЧ ЁЯИ│ ЁЯЫбя╕П ЁЯПЬя╕П</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рд╣рд╛рд▓ рд╣реА рдореЗрдВ рдореБрдЭреЗ рджрд┐рд▓рдЪрд╕реНрдкреА рд╣реБрдИ рдХрд┐ рдХреЛрдб рд╣рд╛рдЗрд▓рд╛рдЗрдЯрд┐рдВрдЧ рдХреЛ рдЕрдВрджрд░ рд╕реЗ рдХреИрд╕реЗ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПред рдкрд╣рд▓реЗ рдРрд╕рд╛ рд▓рдЧрддрд╛ рдерд╛ рдХрд┐ рд╡рд╣рд╛рдБ рд╕рдм рдХреБрдЫ рдмреЗрддрд╣рд╛рд╢рд╛ рдЬрдЯрд┐рд▓ рдерд╛ - рдПрдХ рд╡рд╛рдХреНрдпрд╡рд┐рдиреНрдпрд╛рд╕ рд╡...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рд╢рд╛рдо рдХреЗ рд▓рд┐рдП рдкрд╛рда: рд╡рд╛рдХреНрдп рд░рдЪрдирд╛ рд╣рд╛рдЗрд▓рд╛рдЗрдЯрд┐рдВрдЧ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482884/">  рд╣рд╛рд▓ рд╣реА рдореЗрдВ рдореБрдЭреЗ рджрд┐рд▓рдЪрд╕реНрдкреА рд╣реБрдИ рдХрд┐ рдХреЛрдб рд╣рд╛рдЗрд▓рд╛рдЗрдЯрд┐рдВрдЧ рдХреЛ рдЕрдВрджрд░ рд╕реЗ рдХреИрд╕реЗ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПред  рдкрд╣рд▓реЗ рдРрд╕рд╛ рд▓рдЧрддрд╛ рдерд╛ рдХрд┐ рд╡рд╣рд╛рдБ рд╕рдм рдХреБрдЫ рдмреЗрддрд╣рд╛рд╢рд╛ рдЬрдЯрд┐рд▓ рдерд╛ - рдПрдХ рд╡рд╛рдХреНрдпрд╡рд┐рдиреНрдпрд╛рд╕ рд╡реГрдХреНрд╖, рдкреБрдирд░рд╛рд╡реГрддреНрддрд┐, рдФрд░ рд╡рд╣ рд╕рдм рдХреБрдЫ рдерд╛ред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдХрд░реАрдм рдирд┐рд░реАрдХреНрд╖рдг рдкрд░, рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рдХрд┐ рдпрд╣рд╛рдВ рдХреБрдЫ рднреА рдореБрд╢реНрдХрд┐рд▓ рдирд╣реАрдВ рд╣реИред  рд╕рднреА рдХрд╛рдо рдПрдХ рдЪрдХреНрд░ рдореЗрдВ рдкреАрдЫреЗ рдФрд░ рдкреАрдЫреЗ рдХреЗ рд╕рд╛рде рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдирд┐рдпрдорд┐рдд рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐рдпрд╛рдБ рд▓рдЧрднрдЧ рдХрднреА рднреА рдкрд░рд┐рдгрд╛рдореА рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХреА рдЬрд╛рддреА рд╣реИрдВред <br><br>  рдбреЗрдореЛ рдкреЗрдЬ: <a href="https://astynk.github.io/highlight.html">рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛрдб рд╣рд╛рдЗрд▓рд╛рдЗрдЯрд░</a> <br><a name="habracut"></a><br><h2>  рдореБрдЦреНрдп рд╡рд┐рдЪрд╛рд░ </h2><br>  рд╣рдо <i>рд░рд╛рдЬреНрдп рдХреЗ</i> рд╡реИрд░рд┐рдПрдмрд▓ рдХреА рдШреЛрд╖рдгрд╛ рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░реЗрдЧрд╛ рдХрд┐ рд╣рдо рдХрд┐рд╕ рдХреЛрдб рдореЗрдВ рд╣реИрдВред  рдпрджрд┐, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, <i>рд░рд╛рдЬреНрдп</i> рдПрдХ рдХреЗ рдмрд░рд╛рдмрд░ рд╣реИ, рддреЛ рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рд╣рдо рдПрдХрд▓ рдЙрджреНрдзрд░рдг рдХреЗ рд╕рд╛рде рдПрдХ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдХреЗ рдЕрдВрджрд░ рд╣реИрдВред  рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╕рдорд╛рдкрди рдЙрджреНрдзрд░рдг рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░реЗрдЧреА рдФрд░ рдмрд╛рдХреА рд╕рдм рдХреЛ рдЕрдирджреЗрдЦрд╛ рдХрд░реЗрдЧреАред  рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ, regexp рдФрд░ рдЕрдиреНрдп рддрддреНрд╡реЛрдВ рдХреЛ рдЙрдЬрд╛рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд╕рд╛рде рдПрдХ рд╣реА рдмрд╛рдд, рдкреНрд░рддреНрдпреЗрдХ рдХрд╛ рдЕрдкрдирд╛ <i>рд░рд╛рдЬреНрдп</i> рдореВрд▓реНрдп рд╣реИред  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рд╡рд┐рднрд┐рдиреНрди рдЙрджреНрдШрд╛рдЯрди рдФрд░ рд╕рдорд╛рдкрди рд╡рд░реНрдг рд╕рдВрдШрд░реНрд╖ рдирд╣реАрдВ рдХрд░реЗрдВрдЧреЗ;  рджреВрд╕рд░реЗ рд╢рдмреНрджреЛрдВ рдореЗрдВ, рдЗрд╕ рддрд░рд╣ рдПрдХ рдХреЛрдб: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> a = <span class="hljs-string"><span class="hljs-string">'"\'"'</span></span>;</code> </pre> <br>  рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдкреНрд░рдХрд╛рд╢ рдбрд╛рд▓рд╛ рдЬрд╛рдПрдЧрд╛, рдЕрд░реНрдерд╛рддреН, рдРрд╕реЗ рдорд╛рдорд▓реЛрдВ рдиреЗ рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдХрдард┐рдирд╛рдЗрдпреЛрдВ рдХрд╛ рдХрд╛рд░рдг рдмрдирд╛ред <br><br><h2>  рд╢реБрд░реБрдЖрдд рд╣реЛ рд░рд╣реА рд╣реИ </h2><br>  рд╣рдо рд░рд╛рдЬреНрдп рдЪрд░ рдХреЗ рд╕рдВрднрд╛рд╡рд┐рдд рдореВрд▓реНрдпреЛрдВ рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рд╕рд╛рде рд╣реА рд░рдВрдЧ рдЬрд┐рд╕рдореЗрдВ рдХреЛрдб рдХреЗ рдЗрд╕ рдпрд╛ рдЙрд╕ рд╣рд┐рд╕реНрд╕реЗ рдХреЛ рд░рдВрдЧреАрди рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рд╕рд╛рде рд╣реА рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреАрд╡рд░реНрдб рдХреА рд╕реВрдЪреА (рдЬрд┐рд╕реЗ рднреА рд╣рд╛рдЗрд▓рд╛рдЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛): <br><br><div class="spoiler">  <b class="spoiler_title">рдХреЙрдиреНрд╕реНрдЯ рд╕реНрдЯреЗрдЯреНрд╕ = {...</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> states = { <span class="hljs-attr"><span class="hljs-attr">NONE</span></span> : <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">SINGLE_QUOTE</span></span> : <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-comment"><span class="hljs-comment">// 'string' DOUBLE_QUOTE : 2, // "string" ML_QUOTE : 3, // `string` REGEX_LITERAL : 4, // /regex/ SL_COMMENT : 5, // // single line comment ML_COMMENT : 6, // /* multiline comment */ NUMBER_LITERAL : 7, // 123 KEYWORD : 8 // function, var etc. }; const colors = { NONE : '#000', SINGLE_QUOTE : '#aaa', // 'string' DOUBLE_QUOTE : '#aaa', // "string" ML_QUOTE : '#aaa', // `string` REGEX_LITERAL : '#707', // /regex/ SL_COMMENT : '#0a0', // // single line comment ML_COMMENT : '#0a0', // /* multiline comment */ NUMBER_LITERAL : '#a00', // 123 KEYWORD : '#00a', // function, var etc. OPERATOR : '#07f' // null, true etc. }; const keywords = 'async|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|of|package|private|protected|public|return|set|static|super|switch|throw|try|typeof|var|void|while|with|yield|catch|finally'.split('|');</span></span></code> </pre><br></div></div><br>  рдЕрдЧрд▓рд╛, рд╣рдо рдПрдХ рдлрд╝рдВрдХреНрд╢рди рдмрдирд╛рддреЗ рд╣реИрдВ рдЬреЛ рдХреЛрдб рдХреЗ рд╕рд╛рде рдПрдХ рд▓рд╛рдЗрди рд▓реЗрдЧрд╛ рдФрд░ рд╣рд╛рдЗрд▓рд╛рдЗрдЯ рдХрд┐рдП рдЧрдП рдХреЛрдб рдХреЗ рд╕рд╛рде рд╕рдорд╛рдкреНрдд HTML рд▓реМрдЯрд╛рдПрдЧрд╛ред  рд╣рд╛рдЗрд▓рд╛рдЗрдЯрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рд╡рд░реНрдгреЛрдВ рдХреЛ рд╡рд░реНрдг рдЪрд░ рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд░рдВрдЧ рдХреЗ рд╕рд╛рде SPAN рдореЗрдВ рд▓рдкреЗрдЯрд╛ рдЬрд╛рдПрдЧрд╛ред <br><br>  рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ рдХреЗрд╡рд▓ рдПрдХ рдЪрдХреНрд░ рд╣реЛрдЧрд╛, рдЬреЛ рдкреНрд░рддреНрдпреЗрдХ рд╡рд░реНрдг рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЖрд╡рд╢реНрдпрдХ рд╣реЛрдиреЗ рдкрд░ рдЦреБрд▓рдиреЗ / рдмрдВрдж рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ рдПрд╕рдкреАрдПрдПрди рдХреЛ рдЬреЛрдбрд╝рддрд╛ рд╣реИред <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">highlight</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">code</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> output = <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> state = states.NONE; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; code.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> char = code[i], prev = code[i<span class="hljs-number"><span class="hljs-number">-1</span></span>], next = code[i+<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-comment"><span class="hljs-comment">//     } return output; }</span></span></code> </pre> <br>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдХреЛ рд╣рд╛рдЗрд▓рд╛рдЗрдЯ рдХрд░реЗрдВ: рд╕рд┐рдВрдЧрд▓-рд▓рд╛рдЗрди рдФрд░ рдорд▓реНрдЯреА-рд▓рд╛рдЗрдиред  рдпрджрд┐ рд╡рд░реНрддрдорд╛рди рдФрд░ рдЕрдЧрд▓рд╛ рд╡рд░реНрдг рд╕реНрд▓реИрд╢ рд╣реИ, рдФрд░ рд╡реЗ рдкрдВрдХреНрддрд┐ рдХреЗ рдЕрдВрджрд░ рдирд╣реАрдВ рд╣реИрдВ ( <i>рд╕реНрдерд┐рддрд┐</i> 0 рд╣реИ, <i>рдЕрд░реНрдерд╛рдд</i> , <i>рд╕реНрдЯреЗрдЯреНрд╕ред рдХреЛрдИ рднреА рдирд╣реАрдВ</i> ), рддреЛ рдпрд╣ рдЯрд┐рдкреНрдкрдгреА рдХреА рд╢реБрд░реБрдЖрдд рд╣реИред  <i>рд░рд╛рдЬреНрдп</i> рдмрджрд▓реЗрдВ рдФрд░ рд╡рд╛рдВрдЫрд┐рдд рд░рдВрдЧ рдХреЗ рд╕рд╛рде рд╕реНрдкреИрди рдЦреЛрд▓реЗрдВ: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (state == states.NONE &amp;&amp; char == <span class="hljs-string"><span class="hljs-string">'/'</span></span> &amp;&amp; next == <span class="hljs-string"><span class="hljs-string">'/'</span></span>) { state = states.SL_COMMENT; output += <span class="hljs-string"><span class="hljs-string">'&lt;span style="color: '</span></span> + colors.SL_COMMENT + <span class="hljs-string"><span class="hljs-string">'"&gt;'</span></span> + char; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; }</code> </pre> <br>  <i>рдЬрд╛рд░реА рд░рдЦрдиреЗ рдХреА</i> рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЬрд╛рдВрдЪ рдХрд╛рдо рди рдХрд░реЗрдВ рдФрд░ рд╕рдВрдШрд░реНрд╖ рди рд╣реЛред <br><br>  рдЕрдЧрд▓рд╛, рд╣рдо рдкрдВрдХреНрддрд┐ рдХреЗ рдЕрдВрдд рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░рддреЗ рд╣реИрдВ: рдпрджрд┐ рд╡рд░реНрддрдорд╛рди рд╡рд░реНрдг рдПрдХ рдкрдВрдХреНрддрд┐ рд╡рд┐рд░рд╛рдо рд╣реИ рдФрд░ <i>рд░рд╛рдЬреНрдп рдореЗрдВ</i> рдПрдХрд▓-рдкрдВрдХреНрддрд┐ рдЯрд┐рдкреНрдкрдгреА рд╣реИ, рддреЛ SPAN рдХреЛ рдмрдВрдж рдХрд░реЗрдВ рдФрд░ <i>рд░рд╛рдЬреНрдп</i> рдХреЛ рд╢реВрдиреНрдп рдореЗрдВ рдмрджрд▓реЗрдВ: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (state == states.SL_COMMENT &amp;&amp; char == <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) { state = states.NONE; output += char + <span class="hljs-string"><span class="hljs-string">'&lt;/span&gt;'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; }</code> </pre> <br>  рдЗрд╕реА рддрд░рд╣, рд╣рдо рдорд▓реНрдЯреА-рд▓рд╛рдЗрди рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдХреА рддрд▓рд╛рд╢ рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдмрд┐рд▓реНрдХреБрд▓ рд╡реИрд╕рд╛ рд╣реА рд╣реИ, рдХреЗрд╡рд▓ рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рджреЗрдЦреЗ рдЬрд╛ рд░рд╣реЗ рд╡рд░реНрдг рдЕрд▓рдЧ рд╣реИрдВ: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (state == states.NONE &amp;&amp; char == <span class="hljs-string"><span class="hljs-string">'/'</span></span> &amp;&amp; next == <span class="hljs-string"><span class="hljs-string">'*'</span></span>) { state = states.ML_COMMENT; output += <span class="hljs-string"><span class="hljs-string">'&lt;span style="color: '</span></span> + colors.ML_COMMENT + <span class="hljs-string"><span class="hljs-string">'"&gt;'</span></span> + char; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (state == states.ML_COMMENT &amp;&amp; char == <span class="hljs-string"><span class="hljs-string">'/'</span></span> &amp;&amp; prev == <span class="hljs-string"><span class="hljs-string">'*'</span></span>) { state = states.NONE; output += char + <span class="hljs-string"><span class="hljs-string">'&lt;/span&gt;'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; }</code> </pre> <br>  рддрд╛рд░реЛрдВ рдХрд╛ рд╣рд╛рдЗрд▓рд╛рдЗрдЯрд┐рдВрдЧ рдПрдХ рд╕рдорд╛рди рддрд░реАрдХреЗ рд╕реЗ рд╣реЛрддрд╛ рд╣реИ, рдХреЗрд╡рд▓ рдЗрд╕реЗ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рд╕рдорд╛рдкрди рдЙрджреНрдзрд░рдг рдЪрд┐рд╣реНрди рдХреЛ рдмреИрдХрд╕реНрд▓реИрд╢ рдХреЗ рд╕рд╛рде рдмрдЪрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдФрд░ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдпрд╣ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдПрдХ рд╕рдорд╛рдкрди рд╕реНрд▓реИрд╢ рд╣реИред <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (state == states.NONE &amp;&amp; char == <span class="hljs-string"><span class="hljs-string">'\''</span></span>) { state = states.SINGLE_QUOTE; output += <span class="hljs-string"><span class="hljs-string">'&lt;span style="color: '</span></span> + colors.SINGLE_QUOTE + <span class="hljs-string"><span class="hljs-string">'"&gt;'</span></span> + char; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (state == states.SINGLE_QUOTE &amp;&amp; char == <span class="hljs-string"><span class="hljs-string">'\''</span></span> &amp;&amp; prev != <span class="hljs-string"><span class="hljs-string">'\\'</span></span>) { state = states.NONE; output += char + <span class="hljs-string"><span class="hljs-string">'&lt;/span&gt;'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; }</code> </pre> <br>  рдХреЛрдб рд╡рд╣реА рд╣реИ рдЬреЛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдКрдкрд░ рдерд╛, рдХреЗрд╡рд▓ рдЕрдм рд╣рдо рдкрдВрдХреНрддрд┐ рдХреЗ рдЕрдВрдд рдХреЛ рдкрдВрдЬреАрдХреГрдд рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ рдпрджрд┐ рдЙрджреНрдзрд░рдг рд╕реЗ рдкрд╣рд▓реЗ рдмреИрдХрд╕реНрд▓реИрд╢ рдерд╛ред <br><br>  рдбрдмрд▓-рдЙрджреНрдзреГрдд рд╕реНрдЯреНрд░рд┐рдВрдЧреНрд╕ рдХреА рдкрд░рд┐рднрд╛рд╖рд╛ рдмрд┐рд▓реНрдХреБрд▓ рдЙрд╕реА рддрд░рд╣ рд╕реЗ рд╣реЛрддреА рд╣реИ, рдФрд░ рдпрд╣ рдЙрдиреНрд╣реЗрдВ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рдкрд╛рд░реНрд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдХрдо рд╕рдордЭ рдореЗрдВ рдЖрддрд╛ рд╣реИред  рдЪрд┐рддреНрд░ рдХреЛ рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВ рдЙрдиреНрд╣реЗрдВ рд╕реНрдкреЙрдЗрд▓рд░ рдХреЗ рдиреАрдЪреЗ рд░рдЦреВрдБрдЧрд╛ред <br><br><div class="spoiler">  <b class="spoiler_title">рдЕрдЧрд░ (рд░рд╛рдЬреНрдп == рд╕реНрдЯреЗрдЯреНрд╕ред рдХреЛрдИ рдФрд░&amp; рдЪрд╛рд░ == '' '') {...</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (state == states.NONE &amp;&amp; char == <span class="hljs-string"><span class="hljs-string">'"'</span></span>) { state = states.DOUBLE_QUOTE; output += <span class="hljs-string"><span class="hljs-string">'&lt;span style="color: '</span></span> + colors.DOUBLE_QUOTE + <span class="hljs-string"><span class="hljs-string">'"&gt;'</span></span> + char; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (state == states.DOUBLE_QUOTE &amp;&amp; char == <span class="hljs-string"><span class="hljs-string">'"'</span></span> &amp;&amp; prev != <span class="hljs-string"><span class="hljs-string">'\\'</span></span>) { state = states.NONE; output += char + <span class="hljs-string"><span class="hljs-string">'&lt;/span&gt;'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (state == states.NONE &amp;&amp; char == <span class="hljs-string"><span class="hljs-string">'`'</span></span>) { state = states.ML_QUOTE; output += <span class="hljs-string"><span class="hljs-string">'&lt;span style="color: '</span></span> + colors.ML_QUOTE + <span class="hljs-string"><span class="hljs-string">'"&gt;'</span></span> + char; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (state == states.ML_QUOTE &amp;&amp; char == <span class="hljs-string"><span class="hljs-string">'`'</span></span> &amp;&amp; prev != <span class="hljs-string"><span class="hljs-string">'\\'</span></span>) { state = states.NONE; output += char + <span class="hljs-string"><span class="hljs-string">'&lt;/span&gt;'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; }</code> </pre> <br></div></div><br>  Regexp рд╢рд╛рдмреНрджрд┐рдХ, рдЬреЛ рдЖрд╕рд╛рдиреА рд╕реЗ рд╡рд┐рднрд╛рдЬрди рдХреЗ рд╕рдВрдХреЗрдд рдХреЗ рд╕рд╛рде рднреНрд░рдорд┐рдд рд╣реИрдВ, рдПрдХ рдЕрд▓рдЧ рд╡рд┐рдЪрд╛рд░ рдХреЗ рд▓рд╛рдпрдХ рд╣реИрдВред  рд╣рдо рд▓реЗрдЦ рдХреЗ рдЕрдВрдд рдореЗрдВ рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдкрд░ рд▓реМрдЯ рдЖрдПрдВрдЧреЗ, рд▓реЗрдХрд┐рди рдЕрдм рд╣рдо рд╕реНрдЯреНрд░рд┐рдВрдЧреНрд╕ рдХреЗ рд╕рд╛рде regexps рдХреЗ рд╕рд╛рде рднреА рдРрд╕рд╛ рд╣реА рдХрд░ рд░рд╣реЗ рд╣реИрдВред <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (state == states.NONE &amp;&amp; char == <span class="hljs-string"><span class="hljs-string">'/'</span></span>) { state = states.REGEX_LITERAL; output += <span class="hljs-string"><span class="hljs-string">'&lt;span style="color: '</span></span> + colors.REGEX_LITERAL + <span class="hljs-string"><span class="hljs-string">'"&gt;'</span></span> + char; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (state == states.REGEX_LITERAL &amp;&amp; char == <span class="hljs-string"><span class="hljs-string">'/'</span></span> &amp;&amp; prev != <span class="hljs-string"><span class="hljs-string">'\\'</span></span>) { state = states.NONE; output += char + <span class="hljs-string"><span class="hljs-string">'&lt;/span&gt;'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; }</code> </pre> <br>  рдпрд╣ рд╕рд░рд▓ рдорд╛рдорд▓реЛрдВ рдХреЛ рд╕рдорд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ рдЬрдм рдПрдХ рд╢рд╛рдмреНрджрд┐рдХ рдХреА рд╢реБрд░реБрдЖрдд рдФрд░ рдЕрдВрдд 1-2 рдкрд╛рддреНрд░реЛрдВ рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЖрдЗрдП рд╕рдВрдЦреНрдпрд╛рдУрдВ рдХреЛ рдЙрдЬрд╛рдЧрд░ рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░реЗрдВ: рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рдЬрд╛рдирддреЗ рд╣реИрдВ, рд╡реЗ рд╣рдореЗрд╢рд╛ рдПрдХ рд╕рдВрдЦреНрдпрд╛ рд╕реЗ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рд░рдЪрдирд╛ рдореЗрдВ рдЕрдХреНрд╖рд░ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ ( <i>0xFF</i> , <i>123n</i> )ред <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (state == states.NONE &amp;&amp; <span class="hljs-regexp"><span class="hljs-regexp">/[0-9]/</span></span>.test(char) &amp;&amp; !<span class="hljs-regexp"><span class="hljs-regexp">/[0-9a-z$_]/i</span></span>.test(prev)) { state = states.NUMBER_LITERAL; output += <span class="hljs-string"><span class="hljs-string">'&lt;span style="color: '</span></span> + colors.NUMBER_LITERAL + <span class="hljs-string"><span class="hljs-string">'"&gt;'</span></span> + char; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (state == states.NUMBER_LITERAL &amp;&amp; !<span class="hljs-regexp"><span class="hljs-regexp">/[0-9a-fnx]/i</span></span>.test(char)) { state = states.NONE; output += <span class="hljs-string"><span class="hljs-string">'&lt;/span&gt;'</span></span> }</code> </pre> <br>  рдпрд╣рд╛рдВ рд╣рдо рдПрдХ рд╕рдВрдЦреНрдпрд╛ рдХреА рд╢реБрд░реБрдЖрдд рдХреА рддрд▓рд╛рд╢ рдХрд░ рд░рд╣реЗ рд╣реИрдВ: рдкрд┐рдЫрд▓реЗ рд╡рд░реНрдг рдореЗрдВ рдПрдХ рд╕рдВрдЦреНрдпрд╛ рдпрд╛ рдЕрдХреНрд╖рд░ рдирд╣реАрдВ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП, рдЕрдиреНрдпрдерд╛ рдЪрд░ рдирд╛рдореЛрдВ рдореЗрдВ рд╕рдВрдЦреНрдпрд╛ рдХреЛ рд╣рд╛рдЗрд▓рд╛рдЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рдЬреИрд╕реЗ рд╣реА рд╡рд░реНрддрдорд╛рди рдЪрд░рд┐рддреНрд░ рдПрдХ рд╕рдВрдЦреНрдпрд╛ рдпрд╛ рдПрдХ рдЕрдХреНрд╖рд░ рдирд╣реАрдВ рд╣реИ рдЬрд┐рд╕реЗ рдПрдХ рд╕рдВрдЦреНрдпрд╛ рдХреЗ рд╢рд╛рдмреНрджрд┐рдХ рд░реВрдк рдореЗрдВ рд╕рдорд╛рд╣рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, SPAN рдХреЛ рдмрдВрдж рдХрд░реЗрдВ рдФрд░ <i>рд░рд╛рдЬреНрдп рдХреЛ</i> рд╢реВрдиреНрдп рдкрд░ рд╕реЗрдЯ рдХрд░реЗрдВред <br><br>  рд╕рднреА рд╕рдВрднрд╛рд╡рд┐рдд рдкреНрд░рдХрд╛рд░ рдХреЗ рд╢рд╛рдмреНрджрд┐рдХ рд╢рдмреНрджреЛрдВ рдкрд░ рдкреНрд░рдХрд╛рд╢ рдбрд╛рд▓рд╛ рдЧрдпрд╛ рд╣реИ, рдХреАрд╡рд░реНрдб рдХреА рдЦреЛрдЬ рдмрдиреА рд╣реБрдИ рд╣реИред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдПрдХ рдиреЗрд╕реНрдЯреЗрдб рд▓реВрдк рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ рдЬреЛ рдЖрдЧреЗ рджрд┐рдЦрддрд╛ рд╣реИ рдФрд░ рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рд╡рд░реНрддрдорд╛рди рдЪрд░рд┐рддреНрд░ рдХреАрд╡рд░реНрдб рдХреА рд╢реБрд░реБрдЖрдд рд╣реИ рдпрд╛ рдирд╣реАрдВред <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (state == states.NONE &amp;&amp; !<span class="hljs-regexp"><span class="hljs-regexp">/[a-z0-9$_]/i</span></span>.test(prev)) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> word = <span class="hljs-string"><span class="hljs-string">''</span></span>, j = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (code[i + j] &amp;&amp; <span class="hljs-regexp"><span class="hljs-regexp">/[az]/i</span></span>.test(code[i + j])) { word += code[i + j]; j++; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (keywords.includes(word)) { state = states.KEYWORD; output += <span class="hljs-string"><span class="hljs-string">'&lt;span style="color: '</span></span> + colors.KEYWORD + <span class="hljs-string"><span class="hljs-string">'"&gt;'</span></span>; } }</code> </pre> <br>  рдпрд╣рд╛рдБ рд╣рдо рджреЗрдЦрддреЗ рд╣реИрдВ, рдкрд┐рдЫрд▓рд╛ рд╡рд░реНрдг рдкрд░рд┐рд╡рд░реНрддрдирд╢реАрд▓ рдирд╛рдо рдореЗрдВ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдЕрдиреНрдпрдерд╛ рдХреАрд╡рд░реНрдб рд╢рдмреНрдж <i>рдЖрдЙрдЯрд▓реЗрдЯ</i> рдореЗрдВ рд╣рд╛рдЗрд▓рд╛рдЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рддрдм рдиреЗрд╕реНрдЯреЗрдб рд▓реВрдк рд╕рдВрднрд╡ рд╕рдмрд╕реЗ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рд╢рдмреНрдж рдПрдХрддреНрд░ рдХрд░рддрд╛ рд╣реИ рдЬрдм рддрдХ рдХрд┐ рдПрдХ рдЧреИрд░-рд╡рд░реНрдгрдирд╛рддреНрдордХ рдЪрд░рд┐рддреНрд░ рдХрд╛ рд╕рд╛рдордирд╛ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрджрд┐ рдкреНрд░рд╛рдкреНрдд рд╢рдмреНрдж <i>рдХреАрд╡рд░реНрдб</i> рд╕рд░рдгреА рдореЗрдВ рд╣реИ, рддреЛ SPAN рдЦреЛрд▓реЗрдВ рдФрд░ рд╢рдмреНрдж рдХреЛ рд╣рд╛рдЗрд▓рд╛рдЗрдЯ рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░реЗрдВред  рдЬреИрд╕реЗ рд╣реА рдПрдХ рдЧреИрд░-рдЕрдХреНрд╖рд░ рд╡рд░реНрдг рдХрд╛ рд╕рд╛рдордирд╛ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рд╢рдмреНрдж рдХрд╛ рдЕрдВрдд - рддрджрдиреБрд╕рд╛рд░, SPAN рдХреЛ рдмрдВрдж рдХрд░реЗрдВ: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (state == states.KEYWORD &amp;&amp; !<span class="hljs-regexp"><span class="hljs-regexp">/[az]/i</span></span>.test(char)) { state = states.NONE; output += <span class="hljs-string"><span class="hljs-string">'&lt;/span&gt;'</span></span>; }</code> </pre> <br>  рд╕рдмрд╕реЗ рд╕рд░рд▓ рдмрд╛рдд рдмрдиреА рд╣реБрдИ рд╣реИ - рдСрдкрд░реЗрдЯрд░реЛрдВ рдХрд╛ рдореБрдЦреНрдп рдЖрдХрд░реНрд╖рдг, рдпрд╣рд╛рдВ рдЖрдк рдХреЗрд╡рд▓ рдЙрди рдкрд╛рддреНрд░реЛрдВ рдХреЗ рд╕реЗрдЯ рдХреА рддреБрд▓рдирд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рдСрдкрд░реЗрдЯрд░реЛрдВ рдореЗрдВ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (state == states.NONE &amp;&amp; <span class="hljs-string"><span class="hljs-string">'+-/*=&amp;|%!&lt;&gt;?:'</span></span>.indexOf(char) != <span class="hljs-number"><span class="hljs-number">-1</span></span>) { output += <span class="hljs-string"><span class="hljs-string">'&lt;span style="color: '</span></span> + colors.OPERATOR + <span class="hljs-string"><span class="hljs-string">'"&gt;'</span></span> + char + <span class="hljs-string"><span class="hljs-string">'&lt;/span&gt;'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; }</code> </pre> <br>  рд▓реВрдк рдХреЗ рдЕрдВрдд рдореЗрдВ, рдпрджрд┐ <i>рдЬрд╛рд░реА рд░рд╣рдиреЗ</i> рд╡рд╛рд▓реА рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдореЗрдВ рд╕реЗ рдХреЛрдИ рднреА рдХрд╛рд░рдг рдЯреНрд░рд┐рдЧрд░ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рд╣рдо рд╡рд░реНрддрдорд╛рди рд╡рд░реНрдг рдХреЛ рдкрд░рд┐рдгрд╛рдореА рдЪрд░ рдореЗрдВ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВред  рдЬрдм рд╢рд╛рдмреНрджрд┐рдХ рдпрд╛ рдХреАрд╡рд░реНрдб рдХреА рд╢реБрд░реБрдЖрдд рдпрд╛ рдЕрдВрдд рд╣реЛрддрд╛ рд╣реИ, рддреЛ рд╣рдо рд░рдВрдЧ рдХреЗ рд╕рд╛рде рд╕реНрдкреИрди рдХреЛ рдЦреЛрд▓рддреЗ / рдмрдВрдж рдХрд░рддреЗ рд╣реИрдВ;  рдЕрдиреНрдп рд╕рднреА рдорд╛рдорд▓реЛрдВ рдореЗрдВ - рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЬрдм рд▓рд╛рдЗрди рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЦреБрд▓реА рд╣реЛрддреА рд╣реИ, рддреЛ рд╣рдо рдПрдХ рдмрд╛рд░ рдореЗрдВ рдХреЗрд╡рд▓ рдПрдХ рд╡рд░реНрдг рдлреЗрдВрдХрддреЗ рд╣реИрдВред  рдпрд╣ рдЙрджреНрдШрд╛рдЯрди рдХреЛрдг рдХреЛрд╖реНрдардХ рдХреЛ рдкрд░рд┐рд░рдХреНрд╖рдг рдХреЗ рд▓рд╛рдпрдХ рднреА рд╣реИ, рдЕрдиреНрдпрдерд╛ рд╡реЗ рд▓реЗрдЖрдЙрдЯ рдХреЛ рддреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред <br><br><pre> <code class="javascript hljs">output += char.replace(<span class="hljs-string"><span class="hljs-string">'&lt;'</span></span>, <span class="hljs-string"><span class="hljs-string">'&amp;'</span></span> + <span class="hljs-string"><span class="hljs-string">'lt;'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//  +      &lt;</span></span></code> </pre> <br><h2>  рдмрдЧ рдареАрдХ рдХрд░рдирд╛ </h2><br>  рд╕рдм рдХреБрдЫ рдХрд┐рд╕реА рднреА рддрд░рд╣ рд╕реЗ рдмрд╣реБрдд рд╕рд░рд▓ рд▓рдЧ рд░рд╣рд╛ рдерд╛, рдФрд░ рд╡реНрдпрд░реНрде рдирд╣реАрдВ: рдЕрдзрд┐рдХ рдЧрд╣рди рдкрд░реАрдХреНрд╖рдг рдХреЗ рд╕рд╛рде, рдРрд╕реЗ рдорд╛рдорд▓реЗ рдереЗ рдЬрд╣рд╛рдВ рдмреИрдХрд▓рд╛рдЗрдЯ рд╕рд╣реА рддрд░реАрдХреЗ рд╕реЗ рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддрд╛ рдерд╛ред <br><br>  рд╡рд┐рднрд╛рдЬрди рдХреЛ рд░реЗрдЧреЗрдХреНрд╕рдкреА рдХреЗ рд░реВрдк рдореЗрдВ рдорд╛рдиреНрдпрддрд╛ рдкреНрд░рд╛рдкреНрдд рд╣реИ, рдПрдХ рдХреЛ рджреВрд╕рд░реЗ рд╕реЗ рдЕрд▓рдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд░реЗрдХреНрд╕рдПрдХреНрд╕рдк рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рддрд░реАрдХреЗ рдХреЛ рдмрджрд▓рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реЛрдЧрд╛ред  рд╣рдо рдЪрд░ рдХреЛ <i>isegex = true</i> рдШреЛрд╖рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдХреЗ рдмрд╛рдж рд╣рдо "рд╕рд╛рдмрд┐рдд" рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдВрдЧреЗ рдХрд┐ рдпрд╣ regexp рдирд╣реАрдВ рд╣реИ, рдмрд▓реНрдХрд┐ рдПрдХ рд╡рд┐рднрд╛рдЬрди рдЪрд┐рдиреНрд╣ рд╣реИред  рдбрд┐рд╡реАрдЬрди рдСрдкрд░реЗрд╢рди рд╕реЗ рдкрд╣рд▓реЗ рдХреЛрдИ рдХреАрд╡рд░реНрдб рдпрд╛ рдмреНрд░реИрдХреЗрдЯ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ - рдЗрд╕рд▓рд┐рдП, рд╣рдо рдПрдХ рдиреЗрд╕реНрдЯреЗрдб рд▓реВрдк рдмрдирд╛рддреЗ рд╣реИрдВ рдФрд░ рджреЗрдЦрддреЗ рд╣реИрдВ рдХрд┐ рд╕реНрд▓реИрд╢ рдХрд╛ рд╕рд╛рдордирд╛ рдХреНрдпрд╛ рд╣реЛрддрд╛ рд╣реИред <br><br><div class="spoiler">  <b class="spoiler_title">рдЬреИрд╕рд╛ рдХрд┐ рдкрд╣рд▓реЗ рдерд╛</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (state == states.NONE &amp;&amp; char == <span class="hljs-string"><span class="hljs-string">'/'</span></span>) { state = states.REGEX_LITERAL; output += <span class="hljs-string"><span class="hljs-string">'&lt;span style="color: '</span></span> + colors.REGEX_LITERAL + <span class="hljs-string"><span class="hljs-string">'"&gt;'</span></span> + char; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; }</code> </pre> <br></div></div><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (state == states.NONE &amp;&amp; char == <span class="hljs-string"><span class="hljs-string">'/'</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> word = <span class="hljs-string"><span class="hljs-string">''</span></span>, j = <span class="hljs-number"><span class="hljs-number">0</span></span>, isRegex = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (i + j &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span>) { j--; <span class="hljs-comment"><span class="hljs-comment">//        if ('+/-*=|&amp;&lt;&gt;%,({[?:;'.indexOf(code[i+j]) != -1) break; //   ;   -   if (!/[0-9a-z$_]/i.test(code[i+j]) &amp;&amp; word.length &gt; 0) break; //  ,     if (/[0-9a-z$_]/i.test(code[i+j])) word = code[i+j] + word; //   - ,     if (')]}'.indexOf(code[i+j]) != -1) { isRegex = false; break; } } //      -    //  : return /test/g - , plainWord /test/g -  if (word.length &gt; 0 &amp;&amp; !keywords.includes(word)) isRegex = false; if (isRegex) { state = states.REGEX_LITERAL; output += '&lt;span style="color: ' + colors.REGEX_LITERAL + '"&gt;' + char; continue; } }</span></span></code> </pre> <br>  рдпрджреНрдпрдкрд┐ рдпрд╣ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рддрд╛ рд╣реИ, рдлрд┐рд░ рднреА рдпрд╣ рджреЛрд╖реЛрдВ рдХреЗ рдмрд┐рдирд╛ рдирд╣реАрдВ рд╣реИред  рдЖрдк рдЗрд╕реЗ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдпрд╣ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рднреА рдЧрд▓рдд рддрд░реАрдХреЗ рд╕реЗ рд╣рд╛рдЗрд▓рд╛рдЗрдЯ рд╣реЛ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП: <i>рдпрджрд┐ (рдП) / рд░реЗрдЧреЗрдХреНрд╕ /</i> рдпрд╛ рддреЛ: <i>1 / / рд░реЗрдЧреЗрдХреНрд╕ / / 2</i> ред  рдПрдХ рд╡реНрдпрдХреНрддрд┐ рдЬреЛ рд╕рдВрдЦреНрдпрд╛ рдХреЛ regexp рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд░рддрд╛ рд╣реИ рдЙрд╕реЗ рд╣рд╛рдЗрд▓рд╛рдЗрдЯрд┐рдВрдЧ рдХреЛрдб рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреНрдпреЛрдВ рд╣реЛрддреА рд╣реИ - рдпрд╣ рдПрдХ рдФрд░ рд╕рд╡рд╛рд▓ рд╣реИ;  рдбрд┐рдЬрд╛рдЗрди рд╡рд╛рдХреНрдпрд╛рддреНрдордХ рд░реВрдк рд╕реЗ рд╕рд╣реА рд╣реИ, рд╣рд╛рд▓рд╛рдВрдХрд┐ рдпрд╣ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЬреАрд╡рди рдореЗрдВ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИред <br><br>  рдХрдИ рдХрд╛рд░реНрдпреЛрдВ рдореЗрдВ <a href="https://prismjs.com/test.html">рд░реЗрдЧреЗрдХреНрд╕рдк рдХрд▓рд░рд┐рдВрдЧ рдХреА рд╕рдорд╕реНрдпрд╛рдПрдБ рд╣реИрдВ</a> , рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП <a href="https://prismjs.com/test.html">рдкреНрд░рд┐рдЬреНрдо.рдЬреЗрдПрд╕ рдореЗрдВ</a> ред  рдЬрд╛рд╣рд┐рд░ рд╣реИ, regexps рдХреЗ рд╕рд╣реА рд╣рд╛рдЗрд▓рд╛рдЗрдЯрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рд╕рд┐рдВрдЯреИрдХреНрд╕ рдХреЛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд╕рдордЭрдирд╛ рд╣реЛрдЧрд╛, рдЬреИрд╕рд╛ рдХрд┐ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХрд░рддреЗ рд╣реИрдВред <br><br>  рджреВрд╕рд░рд╛ рдмрдЧ рдЬреЛ рдореБрдЭреЗ рдирд┐рдкрдЯрдирд╛ рдерд╛ рд╡рд╣ рдмреИрдХрд╕реНрд▓реИрд╢ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдерд╛ред  рдПрдХ рдмрдВрдж рдЙрджреНрдзрд░рдг рдЪрд┐рд╣реНрди рдХреЛ <i>'test \\'</i> рд░реВрдк рдореЗрдВ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдореЗрдВ рдкрд╣рдЪрд╛рдирд╛ рдирд╣реАрдВ рдЧрдпрд╛ рдерд╛, рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕рдХреЗ рд╕рд╛рдордиреЗ рдПрдХ рдмреИрдХрд╕реНрд▓реИрд╢ рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ рдереАред  рдЙрд╕ рд╕реНрдерд┐рддрд┐ рдкрд░ рд╡рд╛рдкрд╕ рдЬрд╛рдПрдВ рдЬреЛ рдкрдВрдХреНрддрд┐ рдХреЗ рдЕрдВрдд рдХреЛ рдкрдХрдбрд╝рддреА рд╣реИ: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (state == states.SINGLE_QUOTE &amp;&amp; char == <span class="hljs-string"><span class="hljs-string">'\''</span></span> &amp;&amp; prev != <span class="hljs-string"><span class="hljs-string">'\\'</span></span>)</code> </pre> <br>  рд╕реНрдерд┐рддрд┐ рдХреЗ рдЕрдВрддрд┐рдо рднрд╛рдЧ рдХреЛ рдмрджрд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: рдпрджрд┐ рдмреИрдХрд╕реНрд▓реИрд╢ рдмрдЪ рдЧрдпрд╛ рд╣реИ (рдЕрд░реНрдерд╛рдд, рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рдПрдХ рдФрд░ рдмреИрдХрд╕реНрд▓реИрд╢ рд╣реИ), рддреЛ рд▓рд╛рдЗрди рдХреЗ рдЕрдВрдд рдХреЛ рдкрдВрдЬреАрдХреГрдд рдХрд░реЗрдВред <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> closingCharNotEscaped = prev != <span class="hljs-string"><span class="hljs-string">'\\'</span></span> || prev == <span class="hljs-string"><span class="hljs-string">'\\'</span></span> &amp;&amp; code[i<span class="hljs-number"><span class="hljs-number">-2</span></span>] == <span class="hljs-string"><span class="hljs-string">'\\'</span></span>; <span class="hljs-comment"><span class="hljs-comment">// ... if (state == states.SINGLE_QUOTE &amp;&amp; char == '\'' &amp;&amp; closingCharNotEscaped)</span></span></code> </pre> <br>  рдПрдХ рд╣реА рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рдбрдмрд▓ рдФрд░ рд░рд┐рд╡рд░реНрд╕ рдЙрджреНрдзрд░рдг рдХреЗ рд╕рд╛рде рддрд╛рд░ рдХреЗ рд▓рд┐рдП рдЦреЛрдЬ рдореЗрдВ рдмрдирд╛рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рд╕рд╛рде рд╣реА regexp рдХреА рдЦреЛрдЬ рдореЗрдВред <br><br>  рдпрд╣ рд╕рдм рд╣реИ, рдЖрдк рд▓реЗрдЦ рдХреА рд╢реБрд░реБрдЖрдд рдореЗрдВ рд▓рд┐рдВрдХ рджреНрд╡рд╛рд░рд╛ рд╣рд╛рдЗрд▓рд╛рдЗрдЯ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi482884/">https://habr.com/ru/post/hi482884/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi482870/index.html">рдореИрдВрдиреЗ рдИрдмреЗ рдкрд░ рдПрдХ рдмрдВрдж рд▓реИрдкрдЯреЙрдк рдХреИрд╕реЗ рдЦрд░реАрджрд╛ рдФрд░ IntelAMT рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдЕрдкрдиреЗ рдПрдВрдЯреАрдЗрдВрдЯ рдХреЛ рдмрдирд╛рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХреА</a></li>
<li><a href="../hi482874/index.html">рд╕рд┐рдлрд╛рд░рд┐рд╢реЛрдВ рдХреА рд╕реВрдЪреА рдореЗрдВ рдХреЛрд╢реЗрдЪреА рдХреА рдореГрддреНрдпреБ (рдХреНрдпрд╛ рдЖрдк YouTube рдХреЛ рдЖрд░рд╛рдорджрд╛рдпрдХ рдФрд░ рд╕реБрд░рдХреНрд╖рд┐рдд рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ?)</a></li>
<li><a href="../hi482876/index.html">рдпреВрд░реЛрдк рдХреЗ рдХреЗрдВрджреНрд░ рдореЗрдВ рдПрдХ рдШрд░ рдХреА рдЕрдкрдиреА рдЬрд░реВрд░рддреЛрдВ рдХреЗ рд▓рд┐рдП рд╕реМрд░ рдКрд░реНрдЬрд╛ рдХреЗ рдЙрддреНрдкрд╛рджрди рдХреА рд▓рд╛рдЧрдд рдХреА рдЧрдгрдирд╛</a></li>
<li><a href="../hi482878/index.html">рдореИрдВрдиреЗ "рдЙрддреНрдкрд╛рдж" рдХреА рдкрд░рд┐рднрд╛рд╖рд╛ рдХреИрд╕реЗ рдЦреЛрдЬреА</a></li>
<li><a href="../hi482882/index.html">рдПрдХ рд╡рд┐рджреНрдпреБрдд рдЪреБрдореНрдмрдХреАрдп рдмреНрд░реЗрдХ рдХреЗ рд░реВрдк рдореЗрдВ рдореЛрдЯрд░</a></li>
<li><a href="../hi482886/index.html">рд╣рд╛рдмрд░рд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг: рдХреНрдпрд╛ рдкреНрд░рдХрд╛рд╢рди рдХреА рд▓рдВрдмрд╛рдИ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ?</a></li>
<li><a href="../hi482888/index.html">рдкреНрд░рджрд╛рддрд╛ NAT рдХреЗ рдкреАрдЫреЗ рдПрдХ рд╡реАрдкреАрдПрди рд╕рд░реНрд╡рд░ рд▓реЙрдиреНрдЪ рдХрд░рдирд╛</a></li>
<li><a href="../hi482892/index.html">рдХрд╛рд╕реНрдЯ рдмрдирд╛рдо - рдХреНрдпрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП?</a></li>
<li><a href="../hi482894/index.html">WaveFunctionCollapse рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдФрд░ рдПрдХ рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рд╕рдВрднрд╛рд╡рдирд╛ рд╡рд┐рддрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рдЕрдиреБрдХреВрд▓реА рдкреНрд░рдХреНрд░рд┐рдпрд╛рддреНрдордХ рдкреАрдврд╝реА</a></li>
<li><a href="../hi482896/index.html">OSCP - рдореЗрд░рд╛ рдЕрдиреБрднрд╡</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>