<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕵🏿 👨🏻‍✈️ 🏇🏾 Alimentation automatique MailChimp personnalisée à partir du flux RSS 💓 🎷 💭</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tout le monde sait comment faire une newsletter. Beaucoup de gens savent comment créer des chaînes de déclenchement. Quelqu'un sait comment créer une ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Alimentation automatique MailChimp personnalisée à partir du flux RSS</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/promopult/blog/466193/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/a9/bo/7g/a9bo7gasnig4xgve5f55el30wcu.png" alt="Alimentation automatique MailChimp personnalisée à partir du flux RSS"></div><br><p>  Tout le monde sait comment faire une newsletter.  Beaucoup de gens savent comment créer des chaînes de déclenchement.  Quelqu'un sait comment créer une newsletter à partir du flux RSS d'un blog.  Nous avons dû creuser plus profondément, car nous voulions que notre newsletter ne soit pas simple, mais belle et détaillée.  Après tout, il est issu d'un blog intéressant, sur lequel nous avons également consacré beaucoup d'efforts. </p><br><p>  Pour chaque détail d'une lettre simple, j'ai dû me battre avec ce mignon singe.  Tout a fonctionné.  Nous vous expliquons comment. </p><a name="habracut"></a><br><p>  Mailhimp est un service d'interface en langue anglaise et parfois illogique.  Mais il sait combien et est si populaire que des instructions méticuleuses ont été écrites pour lui sur la manière de fournir du contenu aux lecteurs de toutes les manières possibles. </p><br><p>  Nous avons également choisi Mailhimp pour nos articles de blog PromoPult.  L'une des fonctionnalités de Mailhimp est les campagnes automatiques.  Vous pouvez planifier des envois réguliers, des lettres individuelles, mettre en place des lettres de bienvenue et bien plus encore. </p><br><p>  Cette histoire concerne la configuration de la publication automatique des articles de blog.  Un condensé de matériel frais au courrier de l'abonné une fois par semaine. </p><br><div class="spoiler">  <b class="spoiler_title">Contenu de l'article</b> <div class="spoiler_text">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">L'option standard pour la liaison automatique et pourquoi elle ne nous convenait pas</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment nous avons résolu le problème</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Créer des flux RSS</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">À l'intérieur de la bande</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Faire une feinte avec vos oreilles</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Afficher le contenu du flux dans le modèle d'e-mail</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Sur une ligne distincte:</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">TOTAL: Si tout est standard et facile pour vous, utilisez les outils MailChimp standard et ne vous inquiétez pas</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Liens vers le sujet des flux RSS dans MailChimp:</a> <br></div></div><br><a name="id1"></a><h2>  L'option standard pour la liaison automatique et pourquoi elle ne nous convenait pas </h2><br><p>  Mailhimp lui-même a une excellente documentation sur toutes les fonctions, et spécifiquement à ce sujet aussi: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partagez vos articles de blog avec Mailchimp</a> .  Des traductions en russe peuvent également être trouvées, à des degrés divers d'adéquation. </p><br><p>  En bref, ce dont vous avez besoin pour créer un lien automatique: </p><br><ol><li>  Créez un flux RSS distinct pour MailChimp (ou même ne créez pas, mais utilisez un flux standard). </li><li>  Créez une campagne, spécifiez la source, configurez les conditions d'envoi. </li><li>  Créez et sélectionnez un modèle. </li><li>  C'est fait.  Tu es incroyable! </li></ol><br><p>  Ce qui ne nous convenait pas, c'est qu'il est tout simplement impossible d'ajouter nos propres choses. </p><br><p>  Il existe des données de base du flux RSS que Mailhimp comprend: </p><br><ul><li> Informations de base sur le flux (titre, lien, description, date de constitution ou de mise à jour du flux) - <code>*|RSSFEED|*</code> . </li><li>  <strong>Lien</strong> vers un post-tag séparé <code>*|RSSFEED:URL|*</code> , examine le <code>&lt;link&gt;</code> à l'intérieur du <code>&lt;item&gt;</code> (ci-après). </li><li>  <strong>Le titre d'un</strong> seul article est le tag <code>*|RSSITEM:TITLE|*</code> , regarde <code>&lt;title&gt;</code> . </li><li>  <strong>Date de publication d 'un</strong> seul post - tag <code>*|RSSITEM:DATE|*</code> , regardez <code>&lt;pubDate&gt;</code> . </li><li>  <strong>Annonce</strong> textuelle <strong>d'un</strong> post-tag séparé <code>*|RSSITEM:CONTENT|*</code> , regardez <code>&lt;description&gt;</code> , si ce tag n'est pas dans <code>&lt;item&gt;</code> - MailChimp regarde <code>&lt;content:encoded&gt;</code> .  Vous pouvez utiliser des balises HTML à l'intérieur. <br></li><li>  <strong>Le contenu complet d'une</strong> seule publication est la balise <code>*|RSSITEM:CONTENT_FULL|*</code> , examine <code>&lt;content:encoded&gt;</code> . </li><li>  <strong>Image d'un</strong> article, souvent un aperçu ( <em>vignette</em> en termes WordPress) - tag <code>*|RSSITEM:IMAGE|*</code> , regarde <code>&lt;media:content&gt;</code> et n'oubliez pas les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tags et attributs supplémentaires pour les pièces jointes média</a> : marquages ​​d'âge, informations sur le fichier lui-même et ainsi de suite. </li></ul><br><p>  Et nous avons des choses supplémentaires dans un article séparé: </p><br><ul><li>  Compteur de <strong>commentaires</strong> </li><li>  <strong>Voir le</strong> compteur; </li><li>  Comme compteur </li><li>  <strong>Je</strong> veux montrer la <strong>date de publication de l'</strong> article <strong>au format humain</strong> : premièrement, en russe, avec déclinaison et si l'article a été publié cette année - ne pas afficher l'année de publication <em>(maintenant tout fonctionne dans le blog, en lettres je veux la même attention aux détails)</em> ; </li><li>  <strong>Couverture de poste</strong> personnalisée séparée, que vous devez en quelque sorte atteindre; </li><li>  <strong>Catégorie</strong> avec un lien vers tous les articles de la catégorie. </li></ul><br><p>  Et vous ne pouvez pas mettre cela dans un flux RSS régulier - il n'y a pas de balises correspondantes.  Les balises MailChimp personnalisées ne comprennent pas et ne doivent pas être blâmées pour cela.  Nous devons chercher une solution qui conviendra à tout le monde et qui ne cassera pas. </p><br><p>  Les données qui doivent être affichées sur une carte postale distincte dans le modèle de résumé sont liées à l'apparence.  Le dessinateur a dessiné, le typographe a beaucoup souffert et a composé la lettre. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ty/ad/up/tyadupj6ch6bnoabgptd9gc3dh0.png" alt="Alimentation automatique MailChimp personnalisée à partir du flux RSS"></div><br><p>  <em>Carte postale du blog PromoPult dans le résumé hebdomadaire</em> </p><br><br><a name="id2"></a><h2>  Comment nous avons résolu le problème </h2><br><a name="id3"></a><h3>  Créer des flux RSS </h3><br><p>  La première chose à faire est de créer un flux RSS distinct pour MailChimp.  Il existe déjà plusieurs flux similaires sur le blog PromoPult: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pour les pages Yandex.Zen</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Turbo</a> . </p><br><p>  Vous pouvez créer un nouveau flux via <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">add_feed ()</a> .  Voici le code dans le fichier de fonction du thème: </p><br><p> <code>functions.php:</code> </p> <br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/* start       MailChimp */</span></span> add_action( <span class="hljs-string"><span class="hljs-string">'init'</span></span>, <span class="hljs-string"><span class="hljs-string">'customRSSforMC'</span></span> ); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">customRSSforMC</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ add_feed( <span class="hljs-string"><span class="hljs-string">'mchimp'</span></span>, <span class="hljs-string"><span class="hljs-string">'customRSSforMCFunc'</span></span> ); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">customRSSforMCFunc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ get_template_part( <span class="hljs-string"><span class="hljs-string">'rss'</span></span>, <span class="hljs-string"><span class="hljs-string">'mchimp'</span></span> ); } <span class="hljs-comment"><span class="hljs-comment">/* end       MailChimp */</span></span></code> </pre> <br><p>  Dans la ligne n ° 7 <code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">get_template_part</a> ( 'rss', 'mchimp' );</code>  - indique que le modèle du flux se trouve à la racine du dossier de thème et s'appelle <code>rss-zen.php</code> . </p><br><p>  Après avoir créé le fichier et ajouté la fonction, vous devez aller dans le panneau d'administration de WordPress, les paramètres de la CNC: "Console → Paramètres → Permaliens" et cliquez sur le bouton "Enregistrer les modifications" afin que WordPress mette à jour les paramètres d' <code>/feed/URL</code> et s'ouvre à l' <code>/feed/URL</code> donnée <code>/feed/URL</code> dans le premier paramètre de la ligne n ° 4. nouveau flux RSS. </p><br><p>  Vous devez le faire une fois lors de la création de la bande. </p><br><p>  Voir notre exemple: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://blog.promopult.ru/feed/mchimp</a> </p><br><a name="id4"></a><h3>  À l'intérieur de la bande </h3><br><p>  À l'intérieur du flux lui-même se trouve une boucle de publication WordPress régulière: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">query_posts ()</a> .  Cela vous permet de sélectionner et de filtrer les publications de manière très flexible: comme si vous configuriez des catégories individuelles, des pages avec des sélections, des archives et tout ce dont vous avez besoin pour les publications WordPress. </p><br><p>  Mais avant d'arriver à la solution parfaite au problème, il y a eu plusieurs tentatives pour entasser les données importantes pour l'écriture dans les conceptions standard des flux RSS et les utiliser dans MailChimp. </p><br><p>  Par exemple, il y avait une telle option pour le compteur de <strong>commentaires</strong> : </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> [...] <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span><span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?php</span></span></span><span class="php"> the_title_rss(); </span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag">&gt;</span></span><span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?php</span></span></span><span class="php"> the_permalink_rss(); </span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span>?utm_source=newsletter<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag">&gt;</span></span> //      1,    <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?php</span></span></span><span class="php"> </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">if</span></span></span><span class="php"> (get_comments_number() &gt;= </span><span class="hljs-number"><span class="php"><span class="hljs-number">1</span></span></span><span class="php">) { </span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">commentsCounter</span></span></span><span class="hljs-tag">&gt;</span></span><span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?php</span></span></span><span class="php"> comments_number(</span><span class="hljs-string"><span class="php"><span class="hljs-string">'0'</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">'1'</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">'%'</span></span></span><span class="php">); </span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">commentsCounter</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?php</span></span></span><span class="php"> } </span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span> [...] <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Cette option fonctionne bien sûr en termes de données: tout ce qui est nécessaire est obtenu et correctement affiché.  Mais MailChimp ne comprend pas la <code>&lt;commentsCounter&gt;</code> , comme toutes les autres balises non standard. </p><br><p>  Aussi, par exemple, avec des dates.  MailChimp a sa propre balise: <code>*|RSSITEM:DATE:d/m/y|*</code> , et vous pouvez lui passer des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">options de formatage de date</a> .  Mais, malheureusement, dans la lettre, cela n'a pas l'air humain du tout.  À propos de la traduction de la date en général, vous ne pouvez pas parler. </p><br><p>  Un autre problème est les images.  Vous avez souffert et composé votre belle écriture.  Vous devez afficher une photo.  Dans le modèle d'e-mail, vous procédez comme suit: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"*|RSSITEM:IMAGE|*"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"*|RSSITEM:TITLE|*"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><p>  Mais l'analyseur MailChimp peut venir casser la mise en page, en ajoutant ses propriétés, classes et autres codes à la <code>&lt;img ... /&gt;</code> image <code>&lt;img ... /&gt;</code> . </p><br><p>  <strong>Astuce.</strong>  Si vous utilisez un flux et des balises standard, n'oubliez pas d'activer la case à cocher « <em>Redimensionner les images du flux RSS conformément au modèle</em> » dans les paramètres de la campagne: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ua/ph/ry/uaphryb0gejjolyed1hsq3cq3ck.png" alt="Alimentation automatique MailChimp personnalisée à partir du flux RSS"></div><br><p>  <strong>Conclusions intermédiaires:</strong> quelque chose ne va pas, les options standard ne suffisent pas, la lettre est terrible et pas humaine.  Les données non standard ne peuvent pas être affichées. </p><br><a name="id5"></a><h3>  Faire une feinte avec nos oreilles: tout marquer nous-mêmes </h3><br>  Si rien de standard ne peut être fait dans le flux RSS pour que l'analyseur de service MailChimp le comprenne correctement, vous pouvez transférer le morceau de code balisé et plié terminé pour la carte postale simplement dans la <code>&lt;description&gt;</code> <code>&lt;item&gt;</code> distinct dans le flux. <br><p>  Il n'y a qu'un inconvénient distinct: tous les styles d'écriture doivent être alignés, c'est-à-dire que tout ce qui est décrit via <code>.class</code> se transforme en styles avec l'attribut <code>style=”...”</code> . </p><br><pre> <code class="css hljs">&lt;!<span class="hljs-selector-tag"><span class="hljs-selector-tag">--</span></span>   : <span class="hljs-selector-tag"><span class="hljs-selector-tag">--</span></span>&gt; &lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">style</span></span>&gt; <span class="hljs-selector-class"><span class="hljs-selector-class">.post-meta</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">Margin</span></span>: <span class="hljs-number"><span class="hljs-number">8px</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.post-category</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">border-radius</span></span>: <span class="hljs-number"><span class="hljs-number">3px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>: <span class="hljs-number"><span class="hljs-number">#adb2b2</span></span> <span class="hljs-number"><span class="hljs-number">1px</span></span> solid; <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: <span class="hljs-number"><span class="hljs-number">#adb2b2</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border-bottom</span></span>: <span class="hljs-number"><span class="hljs-number">#adb2b2</span></span> <span class="hljs-number"><span class="hljs-number">1px</span></span> solid <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>: <span class="hljs-number"><span class="hljs-number">2px</span></span> <span class="hljs-number"><span class="hljs-number">6px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">13px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">line-height</span></span>: <span class="hljs-number"><span class="hljs-number">13px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">Margin</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">8px</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; } &lt;/<span class="hljs-selector-tag"><span class="hljs-selector-tag">style</span></span>&gt; &lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">div</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">class</span></span>="<span class="hljs-selector-tag"><span class="hljs-selector-tag">post-meta</span></span>"&gt; &lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">href</span></span>="<span class="hljs-selector-tag"><span class="hljs-selector-tag">https</span></span>://<span class="hljs-selector-tag"><span class="hljs-selector-tag">blog</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.promopult</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.ru</span></span>/<span class="hljs-selector-tag"><span class="hljs-selector-tag">category</span></span>/<span class="hljs-selector-tag"><span class="hljs-selector-tag">seo</span></span>" <span class="hljs-selector-tag"><span class="hljs-selector-tag">target</span></span>="_<span class="hljs-selector-tag"><span class="hljs-selector-tag">blank</span></span>" <span class="hljs-selector-tag"><span class="hljs-selector-tag">class</span></span>="<span class="hljs-selector-tag"><span class="hljs-selector-tag">post-category</span></span>"&gt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">SEO</span></span>:    &lt;/<span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span>&gt; &lt;/<span class="hljs-selector-tag"><span class="hljs-selector-tag">div</span></span>&gt; &lt;!<span class="hljs-selector-tag"><span class="hljs-selector-tag">--</span></span>   : <span class="hljs-selector-tag"><span class="hljs-selector-tag">--</span></span>&gt; &lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">div</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">style</span></span>="<span class="hljs-selector-tag"><span class="hljs-selector-tag">Margin</span></span>: 8<span class="hljs-selector-tag"><span class="hljs-selector-tag">px</span></span> 0;"&gt; &lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">href</span></span>="<span class="hljs-selector-tag"><span class="hljs-selector-tag">https</span></span>://<span class="hljs-selector-tag"><span class="hljs-selector-tag">blog</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.promopult</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.ru</span></span>/<span class="hljs-selector-tag"><span class="hljs-selector-tag">category</span></span>/<span class="hljs-selector-tag"><span class="hljs-selector-tag">seo</span></span>?<span class="hljs-selector-tag"><span class="hljs-selector-tag">utm_source</span></span>=<span class="hljs-selector-tag"><span class="hljs-selector-tag">newsletter</span></span>" <span class="hljs-selector-tag"><span class="hljs-selector-tag">target</span></span>="_<span class="hljs-selector-tag"><span class="hljs-selector-tag">blank</span></span>" <span class="hljs-selector-tag"><span class="hljs-selector-tag">style</span></span>="<span class="hljs-selector-tag"><span class="hljs-selector-tag">Margin</span></span>: 0 8<span class="hljs-selector-tag"><span class="hljs-selector-tag">px</span></span> 0 0; <span class="hljs-selector-tag"><span class="hljs-selector-tag">border</span></span>: <span class="hljs-selector-id"><span class="hljs-selector-id">#adb2b2</span></span> 1<span class="hljs-selector-tag"><span class="hljs-selector-tag">px</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">solid</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">border-bottom</span></span>: <span class="hljs-selector-id"><span class="hljs-selector-id">#adb2b2</span></span> 1<span class="hljs-selector-tag"><span class="hljs-selector-tag">px</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">solid</span></span> !<span class="hljs-selector-tag"><span class="hljs-selector-tag">important</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">border-radius</span></span>: 3<span class="hljs-selector-tag"><span class="hljs-selector-tag">px</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">color</span></span>: <span class="hljs-selector-id"><span class="hljs-selector-id">#adb2b2</span></span> !<span class="hljs-selector-tag"><span class="hljs-selector-tag">important</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">font-size</span></span>: 13<span class="hljs-selector-tag"><span class="hljs-selector-tag">px</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">line-height</span></span>: 13<span class="hljs-selector-tag"><span class="hljs-selector-tag">px</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">padding</span></span>: 2<span class="hljs-selector-tag"><span class="hljs-selector-tag">px</span></span> 6<span class="hljs-selector-tag"><span class="hljs-selector-tag">px</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">text-decoration</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">none</span></span>;"&gt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">SEO</span></span>:    &lt;/<span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span>&gt; &lt;/<span class="hljs-selector-tag"><span class="hljs-selector-tag">div</span></span>&gt;</code> </pre> <br><p>  Pour la mise en page des lettres de blog, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">«Pechkin» a été utilisé - un collecteur de modèles de lettres</a> qui recueille une lettre à partir de blocs et intègre les styles lui-même.  Vous pouvez également utiliser le style de ligne en ligne, par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Premailer.io</a> . </p><br><p>  Une boucle de flux est disponible dans le modèle de flux RSS.  Par conséquent, vous pouvez tout tirer et façonner à votre guise et selon vos besoins. </p><br><p>  La première approche de la solution était partielle: laisser le titre, l'URL, les balises de description brève en standard, mais les méta-informations de publication: les vues, les mentions J'aime, les commentaires, la catégorie et la date de publication devraient être formés en tant que code HTML distinct et insérés dans l'emplacement de balisage souhaité. </p><br><p>  Cette option a également dû être abandonnée en raison d'une mise en page cassée et d'un manque de contrôle sur la mise en page et les styles d'image.  Et transférez plus tard tout le balisage du bloc de carte postale à la <code>&lt;description&gt;</code> . </p><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (have_posts()): the_post(); <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;item&gt; &lt;description&gt;&lt;![CDATA[ &lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">post</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">card</span></span></span><span class="hljs-class">"&gt; &lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">if</span></span></span><span class="hljs-class"> ( </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">get_post_meta</span></span></span><span class="hljs-class">($</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">post</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ID</span></span></span><span class="hljs-class">, '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">imga</span></span></span><span class="hljs-class">', </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">true</span></span></span><span class="hljs-class">) ) </span></span>{ <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">post</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">card__img</span></span></span><span class="hljs-class">"&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">href</span></span></span><span class="hljs-class">="&lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">the_permalink</span></span></span><span class="hljs-class">(); ?&gt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">utm_source</span></span></span><span class="hljs-class">=</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">newsletter</span></span></span><span class="hljs-class">" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">target</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_blank</span></span></span><span class="hljs-class">"&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">img</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">src</span></span></span><span class="hljs-class">="&lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">echo</span></span></span><span class="hljs-class"> $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">postImg</span></span></span><span class="hljs-class">[0]; ?&gt;" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">alt</span></span></span><span class="hljs-class">="&lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">the_title</span></span></span><span class="hljs-class">(); ?&gt;"&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class">&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class">&gt; &lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> } ?&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">post</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">card__info</span></span></span><span class="hljs-class">"&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">h2</span></span></span><span class="hljs-class">&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">href</span></span></span><span class="hljs-class">="&lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">the_permalink</span></span></span><span class="hljs-class">(); ?&gt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">utm_source</span></span></span><span class="hljs-class">=</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">newsletter</span></span></span><span class="hljs-class">"&gt;&lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">the_title</span></span></span><span class="hljs-class">(); ?&gt;&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class">&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">h2</span></span></span><span class="hljs-class">&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">p</span></span></span><span class="hljs-class">&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">href</span></span></span><span class="hljs-class">="&lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">the_permalink</span></span></span><span class="hljs-class">(); ?&gt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">utm_source</span></span></span><span class="hljs-class">=</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">newsletter</span></span></span><span class="hljs-class">"&gt; &lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">if</span></span></span><span class="hljs-class"> ( !</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">empty</span></span></span><span class="hljs-class">( </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">get_post_meta</span></span></span><span class="hljs-class">($</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">post</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ID</span></span></span><span class="hljs-class">, '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">intro</span></span></span><span class="hljs-class">', </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">true</span></span></span><span class="hljs-class">) ) ) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> get_post_meta($post-&gt;ID, <span class="hljs-string"><span class="hljs-string">'intro'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { $content = get_the_content(); $trimmed_content = wp_trim_words( $content, <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-string"><span class="hljs-string">'...'</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $trimmed_content; } <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;/a&gt; &lt;/p&gt; &lt;div&gt; &lt;p&gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (get_the_date(<span class="hljs-string"><span class="hljs-string">'Y'</span></span>) == date(<span class="hljs-string"><span class="hljs-string">'Y'</span></span>)) { the_time(<span class="hljs-string"><span class="hljs-string">'j F'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { the_time(<span class="hljs-string"><span class="hljs-string">'j F Y'</span></span>); } <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span>, <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $categories = get_the_category(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( $categories[<span class="hljs-number"><span class="hljs-number">0</span></span>] ) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'&lt;a href="'</span></span> . get_category_link($categories[<span class="hljs-number"><span class="hljs-number">0</span></span>]-&gt;term_id ) . <span class="hljs-string"><span class="hljs-string">'?utm_source=newsletter"&gt;'</span></span>. $categories[<span class="hljs-number"><span class="hljs-number">0</span></span>]-&gt;name . <span class="hljs-string"><span class="hljs-string">'&lt;/a&gt;'</span></span>; } <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(function_exists(<span class="hljs-string"><span class="hljs-string">'the_views'</span></span>)) { <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;span&gt; &lt;span&gt; &lt;img src=<span class="hljs-string"><span class="hljs-string">"icon-views.png"</span></span> alt=<span class="hljs-string"><span class="hljs-string">" "</span></span>&gt; &lt;/span&gt; &lt;span <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">item__text</span></span></span><span class="hljs-class">"&gt;&lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">the_views</span></span></span><span class="hljs-class">(); ?&gt;&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class">&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class">&gt; &lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> } ?&gt; &lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">if</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">function_exists</span></span></span><span class="hljs-class">('</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">get_simple_likes_counter</span></span></span><span class="hljs-class">')) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (get_simple_likes_counter( get_the_ID() ) &gt;= <span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;span&gt; &lt;span <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">item__icon</span></span></span><span class="hljs-class">"&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">img</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">src</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">icon</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">like</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">png</span></span></span><span class="hljs-class">" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">alt</span></span></span><span class="hljs-class">=" "&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class">&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class">&gt;&lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">echo</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">get_simple_likes_counter</span></span></span><span class="hljs-class">( </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">get_the_ID</span></span></span><span class="hljs-class">() ); ?&gt;&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class">&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class">&gt; &lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> } } ?&gt; &lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">if</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">get_comments_number</span></span></span><span class="hljs-class">() &gt;= 1) </span></span>{ <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;span&gt; &lt;span&gt; &lt;img src=<span class="hljs-string"><span class="hljs-string">"icon-comments.png"</span></span> alt=<span class="hljs-string"><span class="hljs-string">" "</span></span>&gt; &lt;/span&gt; &lt;span&gt;<span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> comments_number(<span class="hljs-string"><span class="hljs-string">'0'</span></span>, <span class="hljs-string"><span class="hljs-string">'1'</span></span>, <span class="hljs-string"><span class="hljs-string">'%'</span></span>); <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span>&lt;/span&gt; &lt;/span&gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> } <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; ]]&gt;&lt;/description&gt; &lt;/item&gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">endwhile</span></span>; wp_reset_query(); <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre> <br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Il</a> n'y a pas de styles <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">en</a> ligne <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dans l'exemple de code</a> pour que tout soit net.  La version combat de la bande est fournie avec un balisage et des styles complets. </p><br><p>  Toutes les adresses des graphiques dans l'exemple sont également simplifiées.  Dans la version combat, toutes les images, icônes, photographies et tout ce qui est important pour l'écriture sont téléchargés vers le panneau d'administration MailChimp via <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Content Studio</a> , et les modèles utilisent déjà l'adresse complète pour les attributs <code>src-</code> des <code>src-</code> <code>&lt;img /&gt;</code> . </p><br><p>  Dans les lignes n ° 20-24, nous sélectionnons la version du texte-annonce (intro) de l'article.  Si la coutume est remplie dans les propriétés de publication dans des champs arbitraires de l'enregistrement - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">get_post_meta ()</a> , puis affichez-la, si elle n'est pas là, montrez ce qui se trouve dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">get_the_content ()</a> . </p><br><p>  Sélectionnez également une image de couverture.  Nous avons deux photos associées à l'article: un petit aperçu (affiché dans la carte postale sur la page principale) et une couverture de l'en-tête du message.  Prenez une grande couverture. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rl/bm/tw/rlbmtws_fwnjw_joulw6ctdnkq4.png" alt="Alimentation automatique MailChimp personnalisée à partir du flux RSS"></div><br><p>  <em>Un exemple d'en-tête avec un arrière-plan dans un article de blog PromoPult</em> </p><br><p>  Étant donné que tout cela se produit dans le cycle WordPress standard, toutes les méthodes de tri sont disponibles.  Par exemple, affichez les vidéos les plus vues et les plus appréciées au cours des 12 derniers jours, en triant de plus en moins de likes. </p><br><a name="id6"></a><h3>  Afficher le contenu du flux dans le modèle d'e-mail </h3><br><p>  Étant donné que toutes les données d'une seule carte postale se trouvent à l'intérieur de la <code>&lt;description&gt;</code> incorporée dans un <code>&lt;item&gt;</code> séparé, il vous suffit de l'afficher dans le modèle de message: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span>     PromoPult<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>*|RSSFEED:DESCRIPTION|*<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- *|RSSFEED:DESCRIPTION|* : «21  — 28 »,   &lt;description&gt;   --&gt;</span></span> *|RSSITEMS:|* *|RSSITEM:CONTENT|* *|END:RSSITEMS|*</code> </pre> <br><p>  Les données s'affichent correctement, le code HTML est inséré dans une boucle et la campagne automatique fonctionne. </p><br><a name="id7"></a><h3>  Ligne séparée sur RSSFEED et FEEDBLOCK </h3><br><p>  Quelle est la différence entre <code>*|RSSFEED|*</code> et <code>*|FEEDBLOCK|*?</code> </p><br><p>  Il est facile de comprendre les différences: </p><br><ul><li>  <code>*|FEEDBLOCK|*</code> peut être utilisé dans n'importe quel modèle d'e-mail et de campagne.  Par exemple, si vous souhaitez parler des derniers articles d'une newsletter périodique, utilisez-le.  Vous pouvez spécifier un lien vers n'importe quelle source RSS. </li><li>  <code>*|RSSFEED|*</code> ne fonctionne que dans les campagnes automatiques et en tant que source voit ce qui est spécifié dans les paramètres de la campagne. </li></ul><br><a name="id8"></a><h2>  TOTAL: Si tout est standard et facile pour vous, utilisez les outils MailChimp standard et ne vous inquiétez pas </h2><br><p>  Mais si la conception de votre blog et vos listes de diffusion sont spécialement conçues et coordonnées à trois reprises avec un combat, si vous souhaitez ajouter les données disponibles aux e-mails automatiques ou au moins déclarer la date en russe, vous devrez gâcher un peu et envoyer des données prêtes à l'emploi à MailChimp. </p><br><p>  Comment - nous l'avons dit. </p><br><a name="id9"></a><h2>  Liens sur le sujet des flux RSS dans MailChimp: </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Feedblock RSS Merge Tags</a> - documentation sur l'utilisation des balises <code>*|FEEDBLOCK|*</code> dans les modèles de courrier électronique </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Balises de fusion RSS</a> - documentation sur la balise <code>*|RSSFEED|*</code> dans les modèles de courrier électronique </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Email Design Reference → RSS Merge Tags</a> - pour commencer avec MailChimp et utiliser les blocs de flux RSS dans les modèles de courrier électronique </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr466193/">https://habr.com/ru/post/fr466193/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr466179/index.html">fform: React & JSONSchema - flexibilité maximale</a></li>
<li><a href="../fr466181/index.html">Python de C (API C)</a></li>
<li><a href="../fr466183/index.html">Algorithmes de traitement de chaîne intelligents dans ClickHouse</a></li>
<li><a href="../fr466187/index.html">Éditeur de logique visuelle pour Unity3d. 2e partie</a></li>
<li><a href="../fr466191/index.html">L'essentiel de la bataille pour la neutralité du réseau aux États-Unis est la chronologie des événements et l'état actuel des choses</a></li>
<li><a href="../fr466195/index.html">PVS-Studio 7.04</a></li>
<li><a href="../fr466197/index.html">PVS-Studio 7.04</a></li>
<li><a href="../fr466199/index.html">Verrous dans PostgreSQL: 4. Verrous en mémoire</a></li>
<li><a href="../fr466201/index.html">Comment quitter la science en informatique et devenir testeur: l'histoire d'une carrière</a></li>
<li><a href="../fr466203/index.html">Journée Techdir à Saint-Pétersbourg. Bière, pizza, deux microphones</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>