<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö´ ü§öüèæ üïØÔ∏è Optimisation Web: le plus important ‚ôüÔ∏è üë∏üèø üà¥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Auteur d'un livre √©lectronique - Eddie Osmani, Google Chrome Development Manager 

 tl; dr 
 La compression d'image doit toujours √™tre automatis√©e. 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Optimisation Web: le plus important</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/422531/">  <font color="gray">Auteur d'un livre √©lectronique - Eddie Osmani, Google Chrome Development Manager</font> <br><br><h1>  tl; dr </h1><br><h4>  La compression d'image doit toujours √™tre automatis√©e. </h4><br>  L'optimisation graphique doit √™tre automatis√©e.  Il est facile de l'oublier, les recommandations changent et le contenu lui-m√™me peut facilement glisser au-del√† de la cha√Æne de montage.  Pour automatiser la construction, utilisez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">imagemin</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">libvips</a> .  Il y en a bien d'autres. <br><br>  La plupart des CDN (tels que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Akamai</a> ) et des solutions tierces comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cloudinary</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">imgix</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Fastly Image Optimizer</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Instart Logic</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SmartVision</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ImageOptim API</a> offrent des solutions automatis√©es compl√®tes pour l'optimisation d'image. <br><br>  Vous passerez du temps √† lire des articles et √† les configurer, ce qui est plus cher que de payer pour leurs services (Cloudinary a un tarif <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">gratuit</a> ).  Mais si vous ne souhaitez toujours pas externaliser votre travail pour des raisons de co√ªt ou en raison d'une latence suppl√©mentaire, choisissez les options open source ci-dessus.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Les</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">projets</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Imageflow</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Thumbor</a> offrent une alternative sur leur propre h√©bergement. <br><a name="habracut"></a><br><h4>  Tout le monde a besoin de compresser efficacement les images </h4><br>  Au minimum, utilisez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ImageOptim</a> .  Il r√©duit consid√©rablement la taille tout en pr√©servant la qualit√© visuelle.  Il existe des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">versions</a> pour Windows et Linux. <br><br>  Une approche plus approfondie: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ex√©cutez les</a> fichiers JPEG via <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MozJPEG</a> (pour une qualit√© de contenu Web <code>q=80</code> ou inf√©rieure est acceptable) et envisagez la prise en charge du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JPEG progressif</a> .  Passez les fichiers PNG via <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pngquant</a> et SVG via <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SVGO</a> .  Sp√©cifiez explicitement le nettoyage des m√©tadonn√©es ( <code>--strip</code> pour pngquant) pour √©viter le gonflement des fichiers.  Au lieu de GIF anim√©s g√©ants fous, offrez aux utilisateurs des vid√©os <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">H.264</a> (ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WebM</a> pour Chrome, Firefox et Opera)!  Si vous ne pouvez pas vous le permettre, utilisez au moins <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Giflossy</a> .  Lorsqu'il est possible de passer quelques cycles CPU, et que vous avez besoin d'une image de meilleure qualit√© et que vous √™tes pr√™t √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">accepter</a> un long temps d'encodage, essayez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Guetzli</a> . <br><br>  Certains navigateurs annoncent la prise en charge des formats d'image via l'en-t√™te Accept.  Cela peut √™tre utilis√© lors du choix d'un format pour l'√©mission: par exemple, le format <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WebP</a> pour les navigateurs bas√©s sur Blink tels que Chrome et l'option JPEG / PNG pour les autres navigateurs. <br><br>  La compression peut toujours √™tre am√©lior√©e.  Il existe des outils pour g√©n√©rer et √©mettre <code>srcset</code> .  Dans les navigateurs bas√©s sur Blink, la s√©lection des ressources est automatis√©e √† l'aide d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">indices client</a> - et vous √©conomiserez du trafic sur les utilisateurs qui ont sp√©cifi√© l'option ¬´enregistrer les donn√©es¬ª dans le navigateur via l'indicateur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Save-Data</a> . <br><br>  Plus la taille des images est petite, plus elle est pratique pour les utilisateurs, en particulier avec les t√©l√©phones portables.  Dans cet article, nous examinerons les moyens de compresser des graphiques √† l'aide de m√©thodes modernes avec un impact minimal sur la qualit√©. <br><br><h1>  Table des mati√®res </h1><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Pr√©sentation</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment savoir si les images doivent √™tre optimis√©es?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment choisir un format?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JPEG modeste</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Modes de compression JPEG</a> <ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Avantages du JPEG progressif</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Qui utilise le JPEG progressif en production?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Inconv√©nients du JPEG progressif</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment encoder des fichiers JPEG progressifs?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Sous-√©chantillonnage des couleurs</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JPEG sup√©rieur</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Optimiseurs JPEG</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Qu'est-ce que MozJPEG?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Qu'est-ce que Guetzli?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comparaison de MozJPEG avec Guetzli?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Butteraugli</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Qu'est-ce que WebP?</a> <ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment fonctionne webp?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Qui utilise WebP en production?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">comment fonctionne le codage webp?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Prise en charge du navigateur WebP</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment convertir des images en WebP?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment afficher les images WebP sur mon syst√®me d'exploitation?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment donner WebP?</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Optimisation SVG</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√âvitez de serrer les graphiques avec une perte de qualit√©</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">R√©duisez les co√ªts de d√©codage et de redimensionnement inutiles</a> <ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Fournir des images HiDPI √† l'aide de srcset</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Transformation artistique</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Gestion des couleurs</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Sprites</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Chargement paresseux d'images non critiques</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment √©viter l'affichage: aucun pi√®ge</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Est-il judicieux d'utiliser CDN pour le traitement d'image?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Mise en cache d'image</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Pr√©charger des ressources importantes</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Budgets de performances Web pour les images</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Recommandations finales</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Petites choses</a> </li></ul><br><a name="01"></a><h1>  Pr√©sentation </h1><br><h4>  Les graphiques restent la principale cause des pages Web sur l'ob√©sit√© </h4><br>  Les images repr√©sentent une part √©norme du trafic Internet.  Selon les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=http://">archives HTTP</a> , 60% des pages Web sont des graphiques JPEG, PNG et GIF.  En juillet 2017, les images √©taient de 1,7 Mo sur une page Web moyenne de 3,0 Mo. <br><br>  L'exp√©rience Tammy Everts a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">prouv√©</a> que l'ajout d'images √† une page ou l'agrandissement d'images existantes augmente le taux de conversion (pourcentage de visiteurs qui deviennent clients - environ Per.).  Les images n'iront donc nulle part - c'est pourquoi il est important d'investir dans une strat√©gie efficace pour les compresser. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4a3/3b0/2b6/4a33b02b6a5429884129920cb5795047.jpg"><br>  <i><font color="gray"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Une</a> √©tude <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Soasta / Google de 2016</a> a montr√© que les illustrations sont le deuxi√®me pr√©dicteur de la conversion et que les pages effectives ont 38% d'images en moins.</font></i> <br><br>  L'optimisation d'image implique un certain nombre de mesures.  Le choix d√©pend de la perte de qualit√© consid√©r√©e comme acceptable. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/717/0e8/588/7170e85883225b9e08b09ea84cc3ae72.jpg"><br>  <i><font color="gray">Optimisation: choisissez le format correct, compressez doucement et priorisez le chargement des diff√©rentes images</font></i> <br><br>  Les optimisations typiques incluent la compression, le rendu intelligent des images en fonction de la taille √† l'aide des <code>&lt;picture&gt;/&lt;img srcset&gt;</code> et le redimensionnement. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8ba/36c/69c/8ba36c69c745b99a1bb0b25d803ae15c.jpg"><br>  <i><font color="gray">Selon les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">archives HTTP</a> , au 95e centile (dans la fonction de distribution cumulative), chaque image peut √™tre r√©duite de 30 Ko!</font></i> <br><br>  Nous avons encore beaucoup d'images qui peuvent √™tre optimis√©es. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/640/bb3/f22/640bb3f22116b34da321bc72f5ffd360.jpg"><br>  <i><font color="gray">Le logiciel gratuit ImageOptim r√©duit la taille des graphiques avec des m√©thodes de compression modernes et supprime les m√©tadonn√©es EXIF ‚Äã‚Äãinutiles</font></i> <br><br>  Si vous √™tes concepteur, il existe √©galement le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plugin ImageOptim pour Sketch</a> , qui optimise les ressources lors de l'exportation.  J'ai trouv√© que cela √©conomisait une tonne de temps. <br><br><a name="02"></a><h1>  Comment savoir si les images doivent √™tre optimis√©es? </h1><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Auditez</a> votre site √† l'aide de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WebPageTest.org</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bd7/5ed/eb7/bd75edeb7a6ded48fcb74b79acc9b01f.jpg"><br>  <i><font color="gray">La section Compress Images du rapport WebPageTest r√©pertorie les images qui peuvent √™tre compress√©es plus efficacement, tout en √©valuant les gains potentiels de taille de fichier</font></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c45/d66/afa/c45d66afa348cb8c00124c6d3c95bb99.jpg"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Lighthouse</a> effectue √©galement des audits de performance, y compris la v√©rification de l'optimisation de l'image.  Il montre des images qui peuvent √™tre compress√©es plus fortement et qui peuvent √™tre mises en chargement paresseux. <br><br>  √Ä partir de Chrome 60, ce service fonctionne dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le</a> tableau de bord d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">audit</a> Chrome DevTools: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f98/cbe/eb0/f98cbeeb0a10a2faf610981cecf07400.jpg"><br>  <i><font color="gray">Lighthouse effectue un audit en tenant compte de la productivit√©, des meilleures pratiques ou des fonctionnalit√©s avanc√©es des applications Web (facultatif)</font></i> <br><br>  Vous connaissez peut-√™tre d'autres outils d'audit tels que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PageSpeed ‚Äã‚ÄãInsights</a> et Cloudinary's <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Website Speed ‚Äã‚ÄãTest</a> , qui incluent un audit d'image d√©taill√©. <br><br><a name="03"></a><h1>  Comment choisir un format? </h1><br>  Comme Ilya Grigorik l'a not√© dans son excellent <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">guide d'optimisation d'image</a> , le ¬´format correct¬ª combine le r√©sultat visuel souhait√© et les exigences fonctionnelles.  Avez-vous des graphiques raster ou vectoriels? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/69b/fc1/e44/69bfc1e44304fbf9877fe53a86ff80b2.png"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Les graphiques raster</a> codent les valeurs de chaque pixel sur une grille rectangulaire de pixels.  Ils sont ind√©pendants de la r√©solution ou de l'√©chelle.  WebP ou des formats largement pris en charge tels que JPEG ou PNG peuvent faire ce type de graphiques.  Les graphiques raster sont utilis√©s l√† o√π le photor√©alisme est n√©cessaire.  Guetzli, MozJPEG et les autres outils mentionn√©s conviennent aux graphiques raster. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Les graphiques vectoriels</a> utilisent des points, des lignes et des polygones pour repr√©senter des images avec des formes g√©om√©triques simples (comme des logos).  Il offre une haute r√©solution et un zoom.  Pour cette option, les formats comme SVG sont mieux adapt√©s. <br><br>  Choisir le mauvais format vous co√ªtera cher.  Modifiez le format avec prudence, en r√©alisant des exp√©riences avec des √©conomies possibles dans diff√©rents formats. <br><br>  Dans sa conf√©rence, Jeremy Wagner a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">soulign√© les compromis</a> √† consid√©rer lors de l'√©valuation de diff√©rents formats dans le processus d'optimisation. <br><br><a name="04"></a><h1>  JPEG modeste </h1><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JPEG</a> est probablement le format graphique le plus populaire au monde.  Comme indiqu√© pr√©c√©demment, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=http://">45% des images</a> sur les sites des archives HTTP sont des images JPEG.  Votre t√©l√©phone, appareil photo num√©rique, ancienne webcam - tous prennent g√©n√©ralement en charge ce codec.  Il est tr√®s ancien, il est utilis√© depuis 1992.  Pendant ce temps, de nombreuses recherches ont √©t√© effectu√©es sur la fa√ßon d'am√©liorer la compression JPEG. <br><br>  JPEG est un algorithme de compression avec perte qui supprime les informations "suppl√©mentaires" pour √©conomiser de l'espace.  Le d√©fi consiste √† maximiser la pr√©cision visuelle tout en minimisant la taille des fichiers. <br><br><h4>  Quelle qualit√© d'image est acceptable dans votre cas? </h4><br>  Les formats comme JPEG conviennent mieux aux photos ou aux images avec beaucoup de couleurs.  La plupart des outils d'optimisation vous permettront de choisir un niveau de compression acceptable: une compression plus forte r√©duit la taille des fichiers, mais peut apporter des artefacts: halo ou bloc. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ef8/c24/b8e/ef8c24b8ea845d7f5ba216762c72f60c.jpg"><br>  <i><font color="gray">Les artefacts de compression JPEG visibles augmentent √† mesure que vous passez du meilleur au pire.</font></i>  <i><font color="gray">Notez que la qualit√© d'image dans diff√©rents outils peut varier consid√©rablement.</font></i> <br><br>  Lors du choix d'un niveau de compression, vous devez consid√©rer la qualit√© n√©cessaire pour les images: <br><br><ul><li>  <b>Le meilleur</b> : lorsque la qualit√© est plus importante que la taille du fichier.  Cela peut √™tre d√ª au fait que l'image occupe une place importante dans la conception ou s'affiche en pleine r√©solution. </li><li>  <b>Bon</b> : lorsque vous pensez √† √©conomiser du trafic, mais que vous ne voulez pas trop affecter la qualit√© de l'image.  Pourtant, la qualit√© des illustrations est importante pour les utilisateurs. </li><li>  <b>Faible</b> : lorsque vous vous souciez d'un trafic minimal et que vous supportez la d√©gradation de l'image.  Ce profil convient aux r√©seaux √† faible couverture et canaux minces. </li><li>  <b>Plus bas</b> : √©conomiser de la bande passante est de la plus haute importance.  Les utilisateurs acceptent une qualit√© assez m√©diocre pour un chargement de page plus rapide. </li></ul><br>  Parlons maintenant des modes de compression JPEG qui affectent grandement le r√©sultat. <br><br><blockquote>  <b>Remarque:</b> nous pouvons parfois surestimer la qualit√© de l'image dont les utilisateurs ont besoin.  La qualit√© peut √™tre consid√©r√©e comme un √©cart par rapport √† la source id√©ale.  Il s'agit d'un indicateur subjectif. </blockquote><br><a name="05"></a><h1>  Modes de compression JPEG </h1><br>  Le format JPEG a un certain nombre de modes de compression diff√©rents.  Trois formats populaires: de base (s√©quentiel), JPEG progressif (PJPEG) et compression sans perte. <br><br><h4>  Quelle est la diff√©rence entre JPEG de base (ou s√©quentiel) et progressif? </h4><br>  Le JPEG de base (le mode par d√©faut dans la plupart des √©diteurs et optimiseurs) encode et d√©code relativement simplement: de haut en bas.  Lorsqu'un fichier JPEG de base est charg√© sur une connexion lente ou instable, l'utilisateur voit d'abord le haut de l'image.  Le mode de compression JPEG sans perte est similaire au mode de base, mais avec un taux de compression inf√©rieur. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d23/6db/cbe/d236dbcbedb51e84a7ab3531543008f9.jpg"><br>  <i><font color="gray">Le JPEG de base (JPEG de base) est charg√© de haut en bas et le JPEG progressif est t√©l√©charg√© de flou √† net</font></i> <br><br>  Le JPEG progressif divise l'image en une s√©rie de passes.  La premi√®re passe montre l'image sous forme floue et de faible qualit√©, et les passes suivantes am√©liorent progressivement la qualit√©.  Chaque passage augmente le niveau de d√©tail.  Au final, une image compl√®te est cr√©√©e. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/576/cd4/82c/576cd482ced17692a2dd98fc68cf7eb7.jpg"><br>  <i><font color="gray">JPEG de base t√©l√©charge l'image de haut en bas.</font></i>  <i><font color="gray">PJPEG affiche d'abord une image floue, puis augmente la r√©solution.</font></i>  <i><font color="gray">Pat Minan a d√©velopp√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=http://www.patrickmeenan.com/progressive/view.php%3Fimg%3D">un outil interactif</a> pour tester et √©tudier les fichiers JPEG progressifs</font></i> <br><br>  L'optimisation JPEG sans perte est obtenue en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">supprimant les en-t√™tes EXIF</a> des appareils photo num√©riques et des √©diteurs, en optimisant les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tables Huffman</a> et en r√©analysant l'image.  Des outils comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">jpegtran</a> fournissent une compression sans perte en reconstruisant les donn√©es compress√©es sans compromettre la qualit√© de l'image.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">jpegrescan</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">jpegoptim</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mozjpeg</a> (que nous verrons bient√¥t) prennent √©galement en charge la compression JPEG sans perte. <br><br><a name="06"></a><h2>  Avantages du JPEG progressif </h2><br>  La capacit√© de PJPEG √† afficher des aper√ßus au d√©marrage am√©liore les performances - il semble aux utilisateurs que l'image se charge plus rapidement que les graphiques standard. <br><br>  Sur les connexions 3G lentes, cela vous permet de voir approximativement l'image lorsque seule une partie du fichier est re√ßue - et de d√©cider d'attendre ou non le t√©l√©chargement complet.  Cela peut √™tre plus pratique que de charger l'image de haut en bas, comme dans le JPEG de base. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f54/39b/acc/f5439bacc4fb55239d2895ac9817b492.png"><br>  <i><font color="gray">En 2015, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Facebook est pass√© √† PJPEG (pour son application iOS)</a> et le trafic a diminu√© de 10%.</font></i>  <i><font color="gray">Ils ont pu afficher une image de bonne qualit√© 15% plus rapidement qu'auparavant, optimisant le temps de chargement per√ßu, comme le montre la figure ci-dessus.</font></i> <br><br>  PJPEG peut r√©duire la taille du fichier de 2 √† 10% par rapport au JPEG de base / simple pour les images de plus de 10 Ko.  Un taux de compression plus √©lev√© est obtenu en raison du fait qu'√† chaque passage, une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">table Huffman</a> distincte peut √™tre compil√©e.  Les encodeurs JPEG modernes (par exemple <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">libjpeg-turbo</a> , MozJPEG, etc.) utilisent la flexibilit√© de PJPEG pour une meilleure compression des donn√©es. <br><br><blockquote>  <b>Remarque:</b> pourquoi PJPEG compresse-t-il mieux?  √âtant donn√© que les blocs JPEG de base sont cod√©s un √† la fois et en PJPEG, les coefficients de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">transformation en cosinus discrets</a> de plusieurs blocs peuvent √™tre cod√©s ensemble, ce qui conduit √† une meilleure compression. </blockquote><br><a name="07"></a><h2>  Qui utilise le JPEG progressif en production? </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Twitter.com produit des JPEG progressifs</a> avec un niveau de qualit√© de base de 85%.  Ils ont mesur√© le retard subjectif per√ßu par l'utilisateur (temps jusqu'au premier passage et le temps de t√©l√©chargement total), et ont d√©cid√© que PJPEG √©tait g√©n√©ralement adapt√© en fonction de la qualit√© de la compression, de l'encodage et de la vitesse de d√©codage. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Facebook produit des JPEG progressifs dans l'application iOS</a> .  Cela a r√©duit le trafic de 10% et acc√©l√©r√© l'√©mission d'images de ¬´bonne qualit√©¬ª de 15%. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Yelp est pass√© au JPEG progressif</a> .  C'est l'une des mesures qui a r√©duit la taille de l'image d'environ 4,5%.  Il a encore baiss√© de 13,8% gr√¢ce √† MozJPEG. </li></ul><br>  De nombreux autres sites avec un grand nombre de fichiers d'images, comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Pinterest</a> , utilisent √©galement le JPEG progressif en production. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/106/3da/c22/1063dac226ca94466d408d5eb660ebce.png"><br>  <i><font color="gray">Sur Pinterest, les images sont encod√©es en JPEG progressif uniquement.</font></i>  <i><font color="gray">C'est plus pratique pour les utilisateurs lorsque l'image appara√Æt progressivement</font></i> <br><br><a name="08"></a><h2>  Inconv√©nients du JPEG progressif </h2><br>  Le d√©codage PJPEG est plus lent que le JPEG de base - parfois trois fois plus lent.  Sur les ordinateurs de bureau dot√©s de processeurs puissants, ce n'est pas aussi important que sur les appareils mobiles aux ressources limit√©es.  L'affichage de calques incomplets n√©cessite du travail, car vous d√©codez l'image plusieurs fois.  Ces passages multiples consomment des cycles CPU. <br><br>  De plus, les images JPEG progressives <i>ne</i> sont <i>pas toujours</i> plus petites.  L'encodage progressif de tr√®s petites images (telles que des miniatures pour les aper√ßus) peut augmenter leur taille.  Et pour de telles images, le rendu en plusieurs passes n'a g√©n√©ralement pas de sens. <br><br>  Donc, avant de choisir PJPEG, il est conseill√© d'exp√©rimenter et de trouver le bon √©quilibre entre la taille du fichier, la latence du r√©seau et l'utilisation du processeur. <br><br><blockquote>  <b>Remarque:</b> le d√©codage mat√©riel PJPEG (et tout JPEG) peut √™tre pris en charge sur les appareils mobiles.  Cela ne r√©duit pas la consommation de m√©moire, mais r√©duit la charge du processeur.  Tous les smartphones Android n'ont pas d'acc√©l√©ration mat√©rielle, mais dans les appareils haut de gamme et les appareils iOS, c'est le cas. </blockquote><br>  Certains utilisateurs peuvent consid√©rer les t√©l√©chargements progressifs comme un inconv√©nient, car il est difficile de comprendre quand le t√©l√©chargement de l'image est termin√©.  Essayez d'√©valuer la fa√ßon dont votre public s'y rapporte. <br><br><a name="09"></a><h2>  Comment encoder des fichiers JPEG progressifs? </h2><br>  Des outils et des biblioth√®ques comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ImageMagick</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">libjpeg</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">jpegtran</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">jpeg-recompress</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">imagemin</a> prennent en charge le JPEG progressif.  Si vous avez d√©j√† configur√© un pipeline d'optimisation, il est probable que la modification de la m√©thode de codage JPEG ne deviendra pas un probl√®me: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> gulp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> imagemin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-imagemin'</span></span>); gulp.task(<span class="hljs-string"><span class="hljs-string">'images'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> gulp.src(<span class="hljs-string"><span class="hljs-string">'images/*.jpg'</span></span>) .pipe(imagemin({ <span class="hljs-attr"><span class="hljs-attr">progressive</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> })) .pipe(gulp.dest(<span class="hljs-string"><span class="hljs-string">'dist'</span></span>)); });</code> </pre> <br>  La plupart des √©diteurs enregistrent par d√©faut au format JPEG de base. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1fe/8fe/189/1fe8fe189888206150a2c92ad28b590f.jpg"><br>  <i><font color="gray">La plupart des √©diteurs enregistrent par d√©faut au format JPEG de base, mais cela peut √™tre modifi√© dans les param√®tres.</font></i>  <i><font color="gray">Dans Photoshop, vous devez s√©lectionner la commande "Fichier" ‚Üí "Exporter" ‚Üí "Enregistrer pour le Web", et indiquer le format JPEG progressif.</font></i>  <i><font color="gray">Sketch prend √©galement en charge l'exportation de JPEG progressif en cochant une case dans le menu d'exportation JPG</font></i> <br><br><a name="10"></a><h2>  Sous-√©chantillonnage des couleurs </h2><br>  Nos yeux remarquent moins de perte de couleur que de luminosit√©.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Sous-√©chantillonnage des couleurs</a> (sous-√©chantillonnage de la chrominance) - un type de compression qui r√©duit la pr√©cision des couleurs en raison de la luminosit√© (luma).  Cela r√©duit la taille du fichier <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√† 15-17%</a> , sans affecter de mani√®re significative la qualit√© de l'image.  Le sur√©chantillonnage r√©duit √©galement l'utilisation de la m√©moire. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/41b/040/dd9/41b040dd91221b76f82d9f207646ef4a.jpg"><br><br>  Le contraste est responsable de la nettet√© de l'image, la luma est donc tr√®s importante.  Les photographies en noir et blanc n'ont pas de couleur, mais en raison de leur luminosit√©, elles sont aussi d√©taill√©es que leurs homologues en couleur.  Le chroma affecte moins la perception visuelle. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1d7/518/d2e/1d7518d2e4020bf3c7b4f58500d2b4e5.jpg"><br>  <i><font color="gray">JPEG prend en charge diff√©rents types de sous-√©chantillonnage: pas de sous-√©chantillonnage, horizontal, horizontal + vertical.</font></i>  <i><font color="gray">Voici une illustration de l'article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">¬´JPEG pour les crabes¬ª de</a> Frederick Kaiser</font></i> <br><br>  Lors de la discussion des sous-√©chantillons, un certain nombre d'exemples courants sont g√©n√©ralement cit√©s: 4: 4: 4, 4: 2: 2 et 4: 2: 0.  Quels sont-ils?  Supposons que le sous-√©chantillon soit au format A: B: C.  Ici, A est le nombre de pixels dans une ligne, pour JPEG, il est g√©n√©ralement de 4, B est le nombre de couleurs dans la premi√®re ligne, et C est le nombre de couleurs dans la seconde. <br><br><ul><li>  En <code>4:4:4</code> il n'y a pas de compression, la couleur et la luminosit√© sont enti√®rement transmises. </li><li>  √Ä <code>4:2:2</code> demi-√©chantillonnage horizontalement et plein verticalement. </li><li>  √Ä <code>4:2:0</code> , les couleurs de la moiti√© des pixels de la premi√®re ligne sont utilis√©es. </li></ul><br><blockquote>  <b>Remarque:</b> jpegtran et cjpeg prennent en charge une configuration distincte de luminosit√© et de couleur via l'indicateur <code>-sample</code> (par exemple, <code>-sample 2x1</code> ).  Quelques r√®gles g√©n√©rales: le sous-√©chantillonnage ( <code>-sample 2x2</code> ) est id√©al pour les photos.  Il est pr√©f√©rable de le d√©sactiver ( <code>-sample 1x1</code> ) pour les captures d'√©cran, les banni√®res et les boutons.  Enfin, <code>2x1</code> au cas o√π vous ne seriez pas s√ªr de l'option √† utiliser. </blockquote><br>  En r√©duisant le nombre de pixels, vous pouvez r√©duire consid√©rablement la taille des composants de couleur, ce qui r√©duit finalement la taille du fichier. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6d5/cbd/8d3/6d5cbd8d354285776369025a20c3390c.jpg"><br>  <i><font color="gray">80 options de sous-√©chantillonnage de couleurs pour la qualit√© JPEG 80</font></i> <br><br>  Le sous-√©chantillonnage des couleurs est utile pour la plupart des images, bien qu'il existe des exceptions √©videntes: il est pr√©f√©rable de ne pas l'utiliser lorsque les d√©tails des couleurs sont aussi importants que la luminosit√© (par exemple, les images m√©dicales). <br><br>  Les images avec des polices en souffriront √©galement.  Les bords clairs sont plus difficiles √† compresser avec JPEG, car il est con√ßu pour mieux g√©rer les sc√®nes photographiques avec des transitions plus douces. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/792/434/e28/792434e286dd698afecc7de662c8ab18.jpg"><br>  <i><font color="gray">Lorsque vous travaillez avec du texte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">, le</a> didacticiel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Learning JPEG</a> recommande de s'en tenir au sous-√©chantillonnage 4: 4: 4 (1 √ó 1)</font></i> <br><br>  Soit dit en passant: dans les sp√©cifications JPEG, la m√©thode exacte de sous-√©chantillonnage des couleurs n'est pas indiqu√©e, donc les diff√©rents encodeurs / d√©codeurs agissent diff√©remment.  MozJPEG et libjpeg-turbo utilisent la m√™me m√©thode, et les anciennes versions de libjpeg utilisent l'autre, ce qui ajoute des artefacts. <br><br><blockquote>  <b>Remarque:</b> Photoshop s√©lectionne automatiquement le sous-√©chantillonnage des couleurs lors de l'enregistrement sur le Web.  Si la qualit√© est d√©finie dans la plage 51‚àí100, le sous-√©chantillonnage n'est pas utilis√© (4: 4: 4).  Lorsque la qualit√© est inf√©rieure, 4: 2: 0 est d√©fini.  C'est l'une des raisons pour lesquelles la taille des fichiers diminue consid√©rablement lors du passage de la qualit√© de 51 √† 50. </blockquote><br><blockquote>  <b>Remarque: Le</b> terme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">YCbCr</a> est souvent mentionn√© dans une discussion sur le sous-√©chantillonnage.  Il s'agit d'un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mod√®le d'</a> espace colorim√©trique <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RVB √†</a> correction gamma.  Y est la luminosit√© corrig√©e gamma, Cb est la composante chromatique du bleu et Cr est rouge.  Si vous regardez ExifData, vous verrez YCbCr √† c√¥t√© des niveaux d'√©chantillonnage. </blockquote><br>  Pour plus d'informations, consultez l'article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"Pourquoi n'utilisez-vous pas le sous-√©chantillonnage des couleurs?"</a> <br><br><a name="11"></a><h2>  JPEG sup√©rieur </h2><br><h4>  Quel est le statut actuel des JPEG sur Internet? </h4><br> <i>tl;dr:     .    ,        .</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3e2/26c/f29/3e226cf294bca6151e7ab29b3cc8e05d.jpg"><br> <i><font color="gray">   ( )        26 .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SSIM</a> ( )  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Butteraugli</a> ,      .</font></i> <br><br><ul><li> <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JPEG 2000</a> (2000)</b> ‚Äî          . <b>  :  Safari  iOS</b> . </li><li> <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JPEG XR</a> (2009)</b> ‚Äî  JPEG  JPEG 2000,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">HDR</a>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> .    ,  JPEG,      /. <b>  : Edge, IE</b> . </li><li> <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WebP</a> (2010)</b> ‚Äî       Google       .   ,  JPEG,   ,  PNG.        .   ,   JPEG. <b>  : Chrome, Opera.    Safari  Firefox</b> . </li><li> <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">FLIF</a> (2015)</b> ‚Äî    ,  PNG, WebP  , BPG    JPEG 2000     . <b>  : ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JS-</a></b> . </li><li> <b>HEIF  BPG</b> .      ,     : </li><li> <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">BPG</a> (2015)</b> ‚Äî  JPEG      HEVC ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">High Efficiency Video Coding</a> ). ,        MozJPEG  WebP.      -   . <b>  : ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JS-</a></b> . </li><li> <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">HEIF</a> (2015)</b> ‚Äî      ,  HEVC   . Apple   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WWDC</a> ,     c JPEG  HEIF    iOS,        . <b>  :     .     Safari  iOS 11</b> . </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous aimez percevoir les informations graphiquement, vous pouvez √©valuer l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ces</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> outils de comparaison visuelle pour certains des formats ci-dessus. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ainsi, la </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prise en charge du navigateur est tr√®s diff√©rente</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Pour utiliser l'un des formats ci-dessus, vous devrez probablement donner des copies diff√©rentes √† chacun des navigateurs cibles. Chez Google, nous voyons certains prospects WebP, nous allons donc bient√¥t examiner de plus pr√®s ce format. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez √©galement produire diff√©rents formats (par exemple, WebP, JPEG 2000) avec la m√™me extension .jpg (ou tout autre) car le navigateur peut choisir le type de contenu pour le rendu quelle que soit l'extension. Cela vous permet de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sp√©cifier le type de contenu</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c√¥t√© serveur, sans changer du tout le document HTML. </font><font style="vertical-align: inherit;">Des services comme Instart Logic adoptent cette approche. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ensuite, nous parlerons de situations o√π il est impossible de produire des images dans diff√©rents formats: les </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">optimiseurs JPEG vous</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aideront ici </font><font style="vertical-align: inherit;">.</font></font><br><br><a name="12"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Optimiseurs JPEG </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les codecs JPEG modernes tentent de r√©duire la taille des fichiers JPEG, tout en pr√©servant la qualit√© et la compatibilit√© avec les navigateurs et applications existants. </font><font style="vertical-align: inherit;">Ils √©liminent le besoin d'utiliser de nouveaux formats d'image et apportent des changements √† l'√©cosyst√®me. </font><font style="vertical-align: inherit;">Deux de ces encodeurs sont MozJPEG et Guetzli. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tl; dr: Quel codec JPEG optimis√© utiliser?</font></font></b> <br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La plupart des fichiers: MozJPEG </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si la qualit√© est importante et que vous acceptez un codage continu: Guetzli </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si vous avez besoin de configurabilit√©: </font></font></li></ul><br><a name="13"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Qu'est-ce que MozJPEG? </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mozilla propose un encodeur JPEG am√©lior√© - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MozJPEG</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Selon </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d√©veloppeurs, cela r√©duit de 10% la taille des fichiers JPEG. Les fichiers compress√©s MozJPEG s'ouvrent dans tous les navigateurs, et parmi les fonctions prises en charge figurent la num√©risation progressive, la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quantification du treillis</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (suppression des d√©tails les plus compress√©s) et plusieurs </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mod√®les de tableau de quantification</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avanc√©s </font><font style="vertical-align: inherit;">qui aident √† cr√©er des images haute r√©solution plus fluides (bien que cela soit possible avec ImageMagick si vous √™tes pr√™t √† parcourir la jungle de la configuration XML). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MozJPEG est pris en charge dans </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ImageOptim</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et il existe un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plugin imagemin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personnalisable relativement fiable </font><font style="vertical-align: inherit;">. Voici un exemple d'impl√©mentation utilisant Gulp:</font></font><br><br><pre> <code class="hljs php"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> gulp = <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> imagemin = <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-imagemin'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> imageminMozjpeg = <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'imagemin-mozjpeg'</span></span>); gulp.task(<span class="hljs-string"><span class="hljs-string">'mozjpeg'</span></span>, () =&gt; gulp.src(<span class="hljs-string"><span class="hljs-string">'src/*.jpg'</span></span>) .pipe(imagemin([imageminMozjpeg({ quality: <span class="hljs-number"><span class="hljs-number">85</span></span> })])) .pipe(gulp.dest(<span class="hljs-string"><span class="hljs-string">'dist'</span></span>)) );</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/4f4/7fe/93a/4f47fe93a97da4bb6e0d1fb491f99d32.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/c90/265/8a2/c902658a2ad04db50cf3a5e76d8cffb5.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MozJPEG: comparer les tailles de fichiers et les cotes de similitude visuelle avec diff√©rentes qualit√©s</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pour calculer les cotes SSIM (similitude structurelle avec l'image d'origine), j'ai utilis√©</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> jpeg-compress</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> du projet</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> jpeg-archive</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D'apr√®s mon exp√©rience, MozJPEG est une bonne option pour compresser des images sur Internet avec une haute qualit√© tout en r√©duisant la taille du fichier. Pour les images de petite et moyenne taille, MozJPEG (avec une qualit√© de 80 √† 85) r√©duit les fichiers de 30 √† 40% tout en maintenant une SSIM acceptable et en am√©liorant de 5 √† 6% avec jpeg-turbo. Il code</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> plus lentement que le JPEG de base</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mais la diff√©rence n'est pas critique.</font></font><br><br><blockquote> <b>:</b>    ,  MozJPEG          ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">jpeg-recompress</a> .   ¬´-  ¬ª        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> . </blockquote><br><a name="14"></a><h2>   Guetzli? </h2><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guetzli</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un codec JPEG prometteur mais tr√®s lent et perceptuel de Google. Il essaie de trouver le plus petit JPEG, impossible √† distinguer de l'original. Le codec effectue une s√©rie d'exp√©riences, offrant des options de comparaison, et prend en compte l'erreur psycho-visuelle de chaque option. L'option avec la note la plus √©lev√©e est s√©lectionn√©e comme r√©sultat final. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guetzli utilise </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Butteraugli</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , un mod√®le bas√© sur la perception humaine (discut√© ci-dessous), </font><font style="vertical-align: inherit;">pour mesurer les diff√©rences entre les images </font><font style="vertical-align: inherit;">. Guetzli prend en compte certaines propri√©t√©s de la vision humaine qui ne sont pas prises en compte par les autres codecs JPEG. Par exemple, il existe une relation entre la quantit√© de lumi√®re verte visible et la sensibilit√© au bleu, de sorte que les changements de bleu autour du vert peuvent √™tre encod√©s avec moins de pr√©cision.</font></font><br><br><blockquote> <b>:</b>   <b></b>     <b> </b> ,    .         JPEG ,  √≥ ,    .       .      ,      . </blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guetzli </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">revendique</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> une diff√©rence de taille de fichier de 20 √† 30% sans r√©duire le score de Butteraugli par rapport aux autres compresseurs. Le gros d√©faut de Guetzli est son extr√™me lenteur, donc actuellement il ne convient qu'aux contenus statiques. README indique une grande quantit√© de m√©moire consomm√©e: l'encodage prend environ 1 minute et 200 Mo de RAM par m√©gapixel. Il y a un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bon fil</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur GitHub </font><font style="vertical-align: inherit;">avec une discussion sur l'exp√©rience r√©elle avec Guetzli. Le codec est id√©al pour optimiser les images lors de la construction d'un site statique, mais il est moins adapt√© au lancement √† la demande. Des </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">outils tels que l' </font><font style="vertical-align: inherit;">optimisation ImageOptim prennent en </font><font style="vertical-align: inherit;">charge Guetzli (dans les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">versions r√©centes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br><br><pre> <code class="hljs php"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> gulp = <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> imagemin = <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-imagemin'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> imageminGuetzli = <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'imagemin-guetzli'</span></span>); gulp.task(<span class="hljs-string"><span class="hljs-string">'guetzli'</span></span>, () =&gt; gulp.src(<span class="hljs-string"><span class="hljs-string">'src/*.jpg'</span></span>) .pipe(imagemin([ imageminGuetzli({ quality: <span class="hljs-number"><span class="hljs-number">85</span></span> }) ])) .pipe(gulp.dest(<span class="hljs-string"><span class="hljs-string">'dist'</span></span>)) );</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/734/9a0/698/7349a069854fef62982512c8e3a08f1a.jpg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'encodage d'images de Guetzli de 3000 √ó 3000 pixels avec diff√©rents niveaux a pris pr√®s de sept minutes. </font><font style="vertical-align: inherit;">Cela est logique pour l'archivage de photos haute r√©solution. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/b2b/6a4/1a8/b2b6a41a8799620ebc175fb9c63c1bb0.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guetzli: comparer la taille des fichiers et √©valuer les similitudes visuelles avec diff√©rentes qualit√©s</font></font></font></i> <br><br><blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque: Il est</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> recommand√© d'ex√©cuter Guetzli sur des images de haute qualit√© (par exemple, des images source non compress√©es, PNG ou JPEG avec une qualit√© d'environ 100%). </font><font style="vertical-align: inherit;">Bien que l'effet soit √©galement sur d'autres images (par exemple, la qualit√© JPEG 84 ou inf√©rieure), mais les r√©sultats sont pires.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guetzli passe tr√®s (tr√®s) beaucoup de temps et fera tourner compl√®tement le refroidisseur de CPU, mais √ßa vaut le coup. </font><font style="vertical-align: inherit;">J'ai vu un certain nombre d'exemples o√π la taille du fichier a √©t√© r√©duite de 40% tout en conservant une pr√©cision visuelle. </font><font style="vertical-align: inherit;">Cela en fait un choix id√©al pour l'archivage des photos. </font><font style="vertical-align: inherit;">Sur les images de petite et moyenne taille, il y a aussi quelques √©conomies (de l'ordre de 10 √† 15 Ko), mais pas si importantes. </font><font style="vertical-align: inherit;">Lors de la compression de tr√®s petites images, Guetzli peut introduire des distorsions fluides. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour une vari√©t√© de </font><font style="vertical-align: inherit;">cas d' </font><font style="vertical-align: inherit;">utilisation, vous pourriez √™tre int√©ress√© par la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comparaison de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Guetzli avec l'auto-compression cloudinaire dans l'√©tude d'Eric Portis.</font></font><br><br><a name="15"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Comparaison de MozJPEG et Guetzli </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il est difficile de comparer diff√©rents codecs JPEG: vous devez √©valuer √† la fois la qualit√© et la pr√©cision de l'image compress√©e, pas seulement la taille. </font><font style="vertical-align: inherit;">Comme le souligne Cornel Lesinsky, un expert en compression d'image, un seul, et non les deux, r√©f√©rence peut conduire √† </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> conclusions </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">incorrectes</font></a><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä quoi ressemblent Guetzli et MozJPEG en comparaison? </font><font style="vertical-align: inherit;">L'approche de Cornell:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Guetzli convient aux images de meilleure qualit√© (la note optimale butteraugli est consid√©r√©e pour q = 90 + et pour MozJPEG - environ q = 75) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Guetzli est beaucoup plus lent (les deux produisent des JPEG standard, le d√©codage est donc aussi rapide que d'habitude) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MozJPEG ne s√©lectionne pas automatiquement un param√®tre de qualit√©, mais vous pouvez trouver la qualit√© optimale √† l'aide d'un outil externe, par exemple, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jpeg-archive</font></font></a> </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il existe un certain nombre de m√©thodes pour d√©terminer la similitude visuelle ou perceptuelle des images compress√©es avec la source. </font><font style="vertical-align: inherit;">Les √©tudes utilisent souvent </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSIM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (similitude structurelle). </font><font style="vertical-align: inherit;">Cependant, Guetzli est optimis√© pour Butteraugli.</font></font><br><br><a name="16"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Butteraugli </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le syst√®me Butteraugli d√©termine le moment o√π une personne commence √† remarquer la diff√©rence (similitude psycho-visuelle) entre les deux images. Butteraugli donne non seulement une estimation, mais √©tablit √©galement une carte spatiale du niveau des diff√©rences. Alors que SSIM r√©sume toutes les erreurs, Butteraugli recherche le maximum. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/798/5b0/df8/7985b0df81227135fd3b432abf490a1b.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans cet exemple, Butteraugli recherche un seuil minimum pour la qualit√© JPEG afin que l'utilisateur ne remarque pas la diff√©rence visuelle entre les images. Cela nous a permis de r√©duire la taille du fichier de 65%.</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> En pratique, vous d√©terminez le niveau de qualit√© visuelle, puis ex√©cutez plusieurs strat√©gies d'optimisation d'image, en examinant les estimations de Butteraugli, avant de choisir un r√©sultat qui correspond √† l'√©quilibre optimal entre la taille du fichier et le niveau de compression.</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/bf8/9e1/b18/bf89e1b182b3c5e8b89ffab674e1488d.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il m'a fallu environ 30 minutes pour configurer Butteraugli localement apr√®s avoir install√© Bazel et cr√©√© les sources C ++ pour compiler correctement sur Mac. </font><font style="vertical-align: inherit;">Son utilisation est relativement simple: sp√©cifiez deux images √† comparer (source et version compress√©e) - et obtenez une estimation</font></font></font></i> <br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> En quoi Butteraugli est-il diff√©rent des autres m√©thodes d'√©valuation de la similitude visuelle? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guetzli </font><font style="vertical-align: inherit;">, l' </font><font style="vertical-align: inherit;">un des d√©veloppeurs, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que Guetzli est meilleur √† Butteraugli, pire √† SSIM, et MozJPEG est √† peu pr√®s tout aussi bon dans les deux mesures. </font><font style="vertical-align: inherit;">C'est la strat√©gie que j'utilise pour optimiser les images. </font><font style="vertical-align: inherit;">J'utilise Butteraugli et un module Node comme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">img-ssim</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour comparer les classements SSIM avant / apr√®s Guetzli et MozJPEG.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Association des encodeurs? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comme le montre la pratique, la combinaison de Guetzli et MozJPEG </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sans pertes</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (jpegtran, pas cjpeg, afin de ne pas ignorer le travail effectu√© par Guetzli) peut r√©duire encore la taille du fichier de 10 √† 15% (55% dans l'ensemble) avec une tr√®s l√©g√®re diminution du score SSIM. </font><font style="vertical-align: inherit;">Cela n√©cessite une v√©rification et une analyse, mais d'autres sp√©cialistes comme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aria Khidayat l'ont</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> essay√© et ont obtenu le m√™me r√©sultat prometteur. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MozJPEG est un codec pratique pour les d√©butants, qui compresse les fichiers pour le Web relativement rapidement et offre une bonne qualit√© d'image. </font><font style="vertical-align: inherit;">Dans le m√™me temps, Guetzli consomme beaucoup de ressources et fonctionne mieux sur des images de grande taille et de haute qualit√©: je recommanderais cette option aux utilisateurs avanc√©s et professionnels.</font></font><br><br><a name="17"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Qu'est-ce que WebP? </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebP est le dernier format graphique de Google, qui vise √† r√©duire la taille des fichiers avec une compression sans perte et avec perte, offrant une qualit√© visuelle acceptable. </font><font style="vertical-align: inherit;">Prend en charge le canal alpha (transparence) et l'animation. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebP s'am√©liore: au cours de la derni√®re ann√©e, il a ajout√© quelques pour cent de compression sans perte et avec perte, la vitesse d'encodage est devenue deux fois plus rapide et la vitesse de d√©codage a augment√© de 10%. </font><font style="vertical-align: inherit;">WebP n'est pas un outil universel, mais sa popularit√© augmente. </font><font style="vertical-align: inherit;">Voyons pourquoi. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/f9a/25d/5ca/f9a25d5cafa3418ab89008985e8784d4.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebP: comparer la taille des fichiers et √©valuer la similitude visuelle √† diff√©rents niveaux de qualit√©</font></font></font></i> <br><br><a name="18"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Comment fonctionne webp? </font></font></h2><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Compression de perte </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les d√©veloppeurs affirment qu'avec une compression avec perte utilisant le codec VP8 ou VP9, ‚Äã‚Äãles fichiers sont r√©duits en moyenne de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25 √† 34%</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> par rapport au JPEG. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans la plage de faible qualit√© (0‚Äì50), WebP a un gros avantage sur JPEG car il √©rode les artefacts de blocage laids. </font><font style="vertical-align: inherit;">R√©glage de qualit√© moyenne (-m 4 -q 75) - l'√©quilibre par d√©faut de la vitesse et de la taille du fichier. </font><font style="vertical-align: inherit;">Dans la gamme de haute qualit√© (80‚Äì99), les avantages de WebP sont minimes. </font><font style="vertical-align: inherit;">WebP est recommand√© lorsque la vitesse est plus importante que la qualit√©.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Compression sans perte </font></font></h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les fichiers WebP avec compression sans perte sont 26% plus petits que les fichiers PNG</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Le temps de t√©l√©chargement par rapport au PNG est r√©duit de 3%. </font><font style="vertical-align: inherit;">Cependant, sur Internet, la compression sans perte n'est pas couramment utilis√©e. </font><font style="vertical-align: inherit;">Cette option est mieux adapt√©e au stockage d'archives.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La transparence </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebP dispose d'un canal de transparence 8 bits avec une compression sans perte de seulement 22% d'octets de plus que PNG. </font><font style="vertical-align: inherit;">Il prend √©galement en charge la transparence RVB avec perte, une caract√©ristique unique de WebP.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> M√©tadonn√©es </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le format WebP prend en charge les m√©tadonn√©es photo EXIF ‚Äã‚Äãet les documents num√©riques XMP, et contient √©galement le profil de couleur ICC. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebP offre une meilleure compression gr√¢ce √† une utilisation accrue du processeur. </font><font style="vertical-align: inherit;">En 2013, la compression WebP √©tait environ 10 fois plus lente que JPEG, mais maintenant la diff√©rence n'est plus aussi importante (certaines images peuvent √™tre compress√©es deux fois plus lentement). </font><font style="vertical-align: inherit;">Pour les images statiques qui sont trait√©es pendant le processus d'assemblage, cela ne devrait pas √™tre un gros probl√®me. </font><font style="vertical-align: inherit;">Les images g√©n√©r√©es dynamiquement sont susceptibles de provoquer une utilisation notable du processeur avec laquelle il faut compter.</font></font><br><br><blockquote> <b>:</b>   WebP      JPEG. , JPEG   70%      WebP   70%,   WebP    ,   . </blockquote><br><a name="19"></a><h2>   WebP  ? </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De nombreuses grandes entreprises utilisent WebP en production pour r√©duire les co√ªts et augmenter la vitesse de chargement des pages. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google a signal√© des √©conomies de 30 √† 35% sur WebP par rapport √† d'autres sch√©mas de compression avec perte. Google produit 43 milliards d'images par jour, dont 26% sont compress√©es sans perte. C'est beaucoup de demandes et des √©conomies importantes. Il augmentera sans aucun doute lorsque les navigateurs am√©lioreront la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prise en charge de WebP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Google utilise ce format sur Google Play, YouTube et d'autres sites. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netflix, Amazon, Quora, Yahoo, Walmart, Ebay, The Guardian, Fortune et USA Today compressent et produisent des images WebP pour les navigateurs qui le prennent en charge. L'√©diteur VoxMedia </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a r√©duit </font></font></a> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le </font></font></i><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">temps de chargement de la page </font></a><i><font style="vertical-align: inherit;">The Verge </font></i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">de 1 √† 3 secondes en</font></a><font style="vertical-align: inherit;"> passant √† WebP pour les utilisateurs de Chrome. Le site</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">500 pixels ont</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> enregistr√© une diminution de la taille des fichiers de 25% en moyenne avec une qualit√© identique ou sup√©rieure. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En plus de ce qui pr√©c√®de, WebP est utilis√© par d'autres soci√©t√©s. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/c9f/2a1/51f/c9f2a151ff30b5a3dd8b20178a78e64b.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilisation de WebP chez Google: 43 milliards d'images WebP sont affich√©es chaque jour sur YouTube, Google Play, Chrome Data Saver et G +</font></font></font></i> <br><br><a name="20"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Comment fonctionne le codage WebP? </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour les images statiques, WebP est une alternative au JPEG. Dans le codage avec perte, il y a trois √©tapes cl√©s: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Macro-blocage</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - fractionnement d'une image en (macro) blocs de 16 √ó 16 pixels de luminosit√© et blocs de 8 √ó 8 pixels de couleur. Cela est similaire √† la fa√ßon dont JPEG transforme l'espace colorim√©trique, le divise en blocs et r√©duit le nombre de pixels sur les canaux de couleur. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/65f/45b/705/65f45b70532300058c0e9a00fe08b6de.png"><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pr√©diction</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - pour chaque sous-bloc 4 √ó 4, un mod√®le de pr√©vision est compil√© qui effectue efficacement le filtrage. Il est d√©fini par deux ensembles de pixels autour du bloc: A (ligne imm√©diatement au-dessus) et L (colonne √† gauche). √Ä l'aide de ces deux ensembles, l'encodeur remplit un bloc de test 4 √ó 4 avec des pixels et d√©termine quelles valeurs sont les plus proches du bloc d'origine. Colt Macanlis en parle davantage dans un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">article.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> comment WebP fonctionne en mode de compression avec perte. </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cd2/863/50a/cd286350a67629c8fa14233af6973893.png"></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La transform√©e en cosinus discr√®te (DCT) est appliqu√©e en plusieurs √©tapes, comme en JPEG. </font><font style="vertical-align: inherit;">La principale diff√©rence est l'utilisation de la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">compression arithm√©tique</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> plut√¥t que de l'algorithme de Huffman, comme en JPEG. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour plus d'informations, je recommande l'article </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"M√©thodes de compression WebP"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de Google Developer.</font></font><br><br><a name="21"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Prise en charge du navigateur WebP </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tous les navigateurs ne prennent pas en charge WebP, mais selon </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CanIUse.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , la prise en charge mondiale est d'environ 74%. </font><font style="vertical-align: inherit;">Chrome et Opera prennent en charge le format. </font><font style="vertical-align: inherit;">Safari, Edge et Firefox exp√©rimentent, mais n'ont pas encore impl√©ment√© de support dans les versions officielles. </font><font style="vertical-align: inherit;">Pour cette raison, l'√©mission WebP d√©pend souvent du d√©veloppeur Web. </font><font style="vertical-align: inherit;">Plus d'informations √† ce sujet plus tard. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voici les principaux navigateurs et informations d'assistance pour chacun d'eux:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Chrome: prise en charge compl√®te depuis la version 23 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Chrome pour Android: √† partir de Chrome 50 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Android: depuis 4.2 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Opera: √† partir de 12.1 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Opera Mini: toutes les versions </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Firefox: un support b√™ta </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Edge: un support b√™ta </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Internet Explorer: non </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Safari: un support b√™ta </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebP n'est pas sans d√©fauts. </font><font style="vertical-align: inherit;">Il ne dispose pas d'options d'espace colorim√©trique en pleine r√©solution et ne prend pas en charge le d√©codage progressif. </font><font style="vertical-align: inherit;">N√©anmoins, une bo√Æte √† outils d√©cente a √©t√© cr√©√©e pour WebP, et la prise en charge du navigateur est suffisante pour consid√©rer l'√©mission de WebP comme l'une des options.</font></font><br><br><a name="22"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Comment convertir des images en WebP? </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plusieurs √©diteurs commerciaux et gratuits prennent en charge WebP. </font><font style="vertical-align: inherit;">L'une des applications les plus utiles est XnConvert: c'est un convertisseur batch multiplateforme gratuit.</font></font><br><br><blockquote> <b>:</b>      WebP  JPEG    .   ,      WebP    JPEG.    WebP,      , <i>  JPEG</i> ,      .      ,  . </blockquote><br><h4> XnConvert </h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XnConvert</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> produit un traitement d'image par lots dans plus de 500 formats. </font><font style="vertical-align: inherit;">Vous pouvez combiner plus de 80 actions distinctes pour convertir ou √©diter des images. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/507/572/44f/50757244ffc4338222e3960f09485c31.png"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XnConvert prend en charge l'optimisation d'images par lots en effectuant une conversion directe des fichiers source vers WebP et d'autres formats. </font><font style="vertical-align: inherit;">En plus de la compression, XnConvert peut supprimer des m√©tadonn√©es, recadrer des images, ajuster la profondeur des couleurs et effectuer d'autres transformations.</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Certains des param√®tres r√©pertori√©s sur le site Web de xnview sont:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> M√©tadonn√©es: modification </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Transformations: rotation, recadrage, redimensionnement </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> R√©glages: luminosit√©, contraste, saturation </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Filtres: flou, relief, nettet√© </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Effets: masques, filigranes, vignettage (att√©nuation partielle) </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les r√©sultats des op√©rations peuvent √™tre export√©s vers environ 70 formats de fichiers diff√©rents, y compris WebP. </font><font style="vertical-align: inherit;">XnConvert est un programme gratuit pour Linux, Mac et Windows. </font><font style="vertical-align: inherit;">Il s'agit d'une excellente option, en particulier pour les petites entreprises.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Modules de n≈ìuds </font></font></h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Imagemin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un module de compression d'image populaire qui a une extension pour convertir en WebP ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">imagemin-webp</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">La compression sans perte et sans perte est prise en charge. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour installer imagemin et imagemin-webp, ex√©cutez: </font></font><br><br> <code>&gt; npm install --save imagemin imagemin-webp</code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ensuite, nous pouvons √©crire require () dans les deux modules et les ex√©cuter sur toutes les images (par exemple, JPEG) dans le r√©pertoire du projet. </font><font style="vertical-align: inherit;">Ci-dessous, nous utilisons le codage avec perte avec la qualit√© de l'encodeur WebP 60:</font></font><br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> imagemin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'imagemin'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> imageminWebp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'imagemin-webp'</span></span>); imagemin([<span class="hljs-string"><span class="hljs-string">'images/*.{jpg}'</span></span>], <span class="hljs-string"><span class="hljs-string">'images'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">use</span></span>: [ imageminWebp({<span class="hljs-attr"><span class="hljs-attr">quality</span></span>: <span class="hljs-number"><span class="hljs-number">60</span></span>}) ] }).then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Images optimized'</span></span>); });</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comme en JPEG, vous pouvez voir des artefacts de compression dans l'image finale. </font><font style="vertical-align: inherit;">Voyez par vous-m√™me quel niveau de compression convient √† vos fichiers. </font><font style="vertical-align: inherit;">Imagemin-webp peut √©galement √™tre utilis√© pour encoder des images WebP sans perte de qualit√© (avec prise en charge des couleurs 24 bits et transparence totale) en sp√©cifiant le param√®tre </font></font><code>lossless: true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> imagemin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'imagemin'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> imageminWebp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'imagemin-webp'</span></span>); imagemin([<span class="hljs-string"><span class="hljs-string">'images/*.{jpg,png}'</span></span>], <span class="hljs-string"><span class="hljs-string">'build/images'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">use</span></span>: [ imageminWebp({<span class="hljs-attr"><span class="hljs-attr">lossless</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>}) ] }).then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Images optimized'</span></span>); });</code> </pre> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le plugin WebP pour Gulp</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> du syndrome de Sorhus est bas√© sur imagemin-webp, il existe √©galement </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un chargeur WebP pour WebPack</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Le plugin Gulp comprend toutes les options d'extension imagemin:</font></font><br><br><pre> <code class="hljs coffeescript">const gulp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp'</span></span>); const webp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-webp'</span></span>); gulp.task(<span class="hljs-string"><span class="hljs-string">'webp'</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> gulp.src(<span class="hljs-string"><span class="hljs-string">'src/*.jpg'</span></span>) .pipe(webp({ quality: <span class="hljs-number"><span class="hljs-number">80</span></span>, preset: <span class="hljs-string"><span class="hljs-string">'photo'</span></span>, method: <span class="hljs-number"><span class="hljs-number">6</span></span> })) .pipe(gulp.dest(<span class="hljs-string"><span class="hljs-string">'dist'</span></span>)) );</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ou compression sans perte: </font></font><br><br><pre> <code class="hljs coffeescript">const gulp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp'</span></span>); const webp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-webp'</span></span>); gulp.task(<span class="hljs-string"><span class="hljs-string">'webp-lossless'</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> gulp.src(<span class="hljs-string"><span class="hljs-string">'src/*.jpg'</span></span>) .pipe(webp({ lossless: <span class="hljs-literal"><span class="hljs-literal">true</span></span> })) .pipe(gulp.dest(<span class="hljs-string"><span class="hljs-string">'dist'</span></span>)) );</code> </pre> <br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Optimisation d'image par lots avec Bash </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XNConvert prend en charge la compression par lots, mais vous pouvez tout faire √† partir de la ligne de commande. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conversion d'images par lots en WebP √† l'aide de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cwebp</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br><pre> <code class="bash hljs">find ./ -<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> f -name <span class="hljs-string"><span class="hljs-string">'*.jpg'</span></span> -<span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> cwebp -q 70 {} -o {}.webp \;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Optimisation par le codec MozJPEG utilisant </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jpeg-recompress</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br><pre> <code class="bash hljs">find ./ -<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> f -name <span class="hljs-string"><span class="hljs-string">'*.jpg'</span></span> -<span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> jpeg-recompress {} {} \;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et recadrage SVG en </font><font style="vertical-align: inherit;">utilisant le programme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">svgo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (dont nous parlerons plus tard):</font></font><br><br><pre> <code class="bash hljs">find ./ -<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> f -name <span class="hljs-string"><span class="hljs-string">'*.svg'</span></span> -<span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> svgo {} \;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jeremy Wagner a √©crit un article plus complet sur l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">optimisation des images dans Bash</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et un autre sur la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">parall√©lisation de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cette t√¢che.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Autres applications de traitement et d'√©dition WebP </font></font></h4><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Leptonica est un site Web complet d'applications de traitement et d'analyse d'images gratuites. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sketch prend en charge l'enregistrement dans WebP. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> GIMP est une alternative gratuite et open source √† Photoshop. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ImageMagick - cr√©ation, mise en page, transformation et √©dition de graphiques raster. </font><font style="vertical-align: inherit;">Gratuit, fonctionne √† partir de la ligne de commande.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pixelmator est un √©diteur d'image commercial pour Mac. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Photoshop WebP Plugin est un plugin gratuit de Google. </font><font style="vertical-align: inherit;">Importez et exportez des images dans Photoshop.</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour Android, vous pouvez convertir les formats BMP, JPG, PNG et GIF statiques existants au format WebP √† l'aide d'Android Studio. </font><font style="vertical-align: inherit;">Pour plus d'informations, voir </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´Cr√©ation d'images WebP √† l'aide d'Android Studio¬ª</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><a name="23"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Comment afficher les images WebP sur mon syst√®me d'exploitation? </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bien que les images WebP s'ouvrent toujours dans un navigateur √† l'aide du moteur Blink (Chrome, Opera, Brave), elles peuvent √™tre visualis√©es directement √† partir du syst√®me d'exploitation √† l'aide du compl√©ment pour Mac ou Windows. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il y a quelques ann√©es, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Facebook a exp√©riment√© WebP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et a remarqu√© un probl√®me: certains utilisateurs ont enregistr√© des photos sur le disque, puis n'ont pas pu les ouvrir. </font><font style="vertical-align: inherit;">Il y a trois probl√®mes cl√©s ici:</font></font><br><br><ul><li>       WebP .    Chrome,       .webp. </li><li>        ,    Chrome. Facebook  ,    ¬´¬ª,    JPEG. </li><li>  URL         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> content-type</a> . </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vos utilisateurs peuvent ne pas avoir de tels probl√®mes, mais c'est une note marginale int√©ressante. </font><font style="vertical-align: inherit;">Heureusement, il existe aujourd'hui des utilitaires pour visualiser WebP sous diff√©rents syst√®mes d'exploitation. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sur Mac, essayez le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plug-in Quick Look pour WebP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (qlImageSize). </font><font style="vertical-align: inherit;">Cela fonctionne plut√¥t bien: </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/31f/440/5f5/31f4405f5b2c5e9fe146d00c77566621.jpg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sous Windows, vous pouvez t√©l√©charger </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le package de codecs WebP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui ajoute la possibilit√© d'afficher WebP dans l'explorateur de fichiers et la visionneuse de photos Windows.</font></font><br><br><a name="24"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Comment donner WebP? </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les navigateurs sans prise en charge WebP n'afficheront aucune image. </font><font style="vertical-align: inherit;">Pour √©viter cela, il existe plusieurs strat√©gies. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/921/075/af2/921075af2ee07862f7dc586ee402793d.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le panneau Chrome DevTools Network avec la s√©lection de fichiers WebP qui sont donn√©s aux navigateurs sur le moteur Blink Le </font></font></font></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a88/8c9/56d/a888c956d80db06c0b4a170be510135e.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Play Store donne aux navigateurs WebP Blink et JPEG √† d'autres, comme Firefox</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Voici quelques options pour fournir des images WebP aux utilisateurs:</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Utilisez .htaccess pour √©mettre des copies WebP </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voici comment utiliser .htaccess pour √©mettre des fichiers WebP dans les navigateurs pris en charge si le serveur poss√®de une version webp du fichier JPEG / PNG. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vincent Orbach a recommand√© cette approche: les </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">navigateurs peuvent </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">signaler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> explicitement </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">la prise</font></a><font style="vertical-align: inherit;"> en </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">charge WebP</font></a><font style="vertical-align: inherit;"> via l'en- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t√™te Accept</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dans ce cas, vous pouvez envoyer la version WebP de l'image √† partir du serveur. </font><font style="vertical-align: inherit;">Mais ce n'est pas toujours possible (par exemple, pour les h√¥tes statiques, tels que les pages GitHub ou S3), alors assurez-vous de v√©rifier avant d'envisager cette option. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voici un exemple de fichier .htaccess pour le serveur Web Apache:</font></font><br><br><pre> <code class="hljs pgsql">&lt;IfModule mod_rewrite.c&gt; RewriteEngine <span class="hljs-keyword"><span class="hljs-keyword">On</span></span> # <span class="hljs-keyword"><span class="hljs-keyword">Check</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> browser support WebP images RewriteCond %{HTTP_ACCEPT} image/webp # <span class="hljs-keyword"><span class="hljs-keyword">Check</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> WebP replacement image <span class="hljs-keyword"><span class="hljs-keyword">exists</span></span> RewriteCond %{DOCUMENT_ROOT}/<span class="hljs-meta"><span class="hljs-meta">$1</span></span>.webp -f # Serve WebP image <span class="hljs-keyword"><span class="hljs-keyword">instead</span></span> RewriteRule (.+)\.(jpe?g|png)$ <span class="hljs-meta"><span class="hljs-meta">$1</span></span>.webp [T=image/webp,E=accept:<span class="hljs-number"><span class="hljs-number">1</span></span>] &lt;/IfModule&gt; &lt;IfModule mod_headers.c&gt; <span class="hljs-keyword"><span class="hljs-keyword">Header</span></span> append Vary Accept env=REDIRECT_accept &lt;/IfModule&gt; AddType image/webp .webp</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous rencontrez des probl√®mes d'affichage des graphiques WebP, assurez-vous que l'image de type MIME / webp est activ√©e sur le serveur. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sur Apache, ajoutez le code suivant √† votre fichier .htaccess:</font></font><br><br><pre> <code class="hljs mel">AddType <span class="hljs-keyword"><span class="hljs-keyword">image</span></span>/webp .webp</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sur Nginx, ajoutez le code suivant au fichier mime.types: </font></font><br><br><pre> <code class="hljs mel"><span class="hljs-keyword"><span class="hljs-keyword">image</span></span>/webp webp;</code> </pre> <br><blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vincent Orback fournit un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exemple htaccess</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour WebP et Ilya Grigorik g√®re une collection de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">scripts</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">configuration pour WebP</font></a><font style="vertical-align: inherit;"> qui peuvent √™tre utiles.</font></font></blockquote><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Utilisation de la balise &lt;picture&gt; </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le navigateur lui-m√™me peut s√©lectionner le format d'image √† l'aide de la balise &lt;picture&gt;. </font><font style="vertical-align: inherit;">√Ä l'int√©rieur de la &lt;photo&gt;, il y a de nombreux √©l√©ments &lt;source&gt;, avec une balise &lt;img&gt; pour chacun qui contient r√©ellement l'image. </font><font style="vertical-align: inherit;">Le navigateur scanne la &lt;source&gt; et demande la premi√®re appropri√©e. </font><font style="vertical-align: inherit;">Si la balise &lt;picture&gt; n'est pas prise en charge, la &lt;div&gt; est rendue √† l'aide de la balise &lt;img&gt;.</font></font><br><br><blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> faites attention √† l'ordre des √©l√©ments &lt;source&gt;. </font><font style="vertical-align: inherit;">Ne placez pas les sources image / webp apr√®s des formats obsol√®tes, mais placez-les devant elles. </font><font style="vertical-align: inherit;">Vous pouvez √©galement placer les images dans l'ordre croissant de la taille du fichier si elles ont la m√™me taille en pixels (lorsque l'attribut n'est pas utilis√© </font></font><code>media</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">Habituellement, le m√™me ordre est obtenu que lors de la sp√©cification des nouveaux formats en premier.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Voici quelques exemples de HTML: </font></font><br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/path/to/image.webp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/webp"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/path/to/image.jpg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'paul_irish.jxr'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'image/vnd.ms-photo'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'paul_irish.jp2'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'image/jp2'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'paul_irish.webp'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'image/webp'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'paul_irish.jpg'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'paul'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"photo.jxr"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/vnd.ms-photo"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"photo.jp2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/jp2"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"photo.webp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/webp"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"photo.jpg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"My beautiful face"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Conversion automatique en WebP du c√¥t√© CDN </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Certains CDN prennent en charge la conversion automatique et l'√©mission WebP sur demande du client, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lorsque cela est possible</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">V√©rifiez votre CDN pour le support. </font><font style="vertical-align: inherit;">Peut-√™tre que le probl√®me est tr√®s facilement r√©solu.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Prise en charge de WordPress </font></font></h4><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jetpack</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : le plugin WordPress populaire, comprend un service d'image CDN appel√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Photon</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avec prise en charge WebP. Il est inclus dans la version gratuite de Jetpack, qui est tr√®s pratique et utile. L'inconv√©nient est que Photon redimensionne automatiquement l'image, place la cha√Æne de requ√™te dans l'URL et une requ√™te DNS suppl√©mentaire est effectu√©e pour chaque image. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cache Enabler and Optimizer</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : si vous utilisez WordPress, il existe au moins une option open source. Dans le menu du plugin </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cache Enabler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">il existe un indicateur pour la mise en cache et l'√©mission des images WebP, si le navigateur de l'utilisateur les prend en charge. </font><font style="vertical-align: inherit;">Cela simplifie le travail avec WebP. </font><font style="vertical-align: inherit;">Il y a aussi un inconv√©nient: Cache Enabler n√©cessite l'utilisation du programme s≈ìur Optimizer, pour lequel ils facturent des frais annuels. </font><font style="vertical-align: inherit;">Ce n'est pas tr√®s courant avec les solutions open source. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pixel court</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : une autre option d'optimisation pour Cache Enabler, √©galement payante. </font><font style="vertical-align: inherit;">En termes de fonctionnalit√©s, Short Pixel est tr√®s similaire √† l'optimiseur mentionn√©. </font><font style="vertical-align: inherit;">Permet d'optimiser gratuitement jusqu'√† 100 photos par mois.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Compression GIF et pourquoi &lt;video&gt; est meilleur </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les GIF anim√©s sont encore largement utilis√©s, malgr√© leur sp√©cialisation √©troite. Bien que tout, des r√©seaux sociaux aux sites de m√©dias populaires, fasse un usage intensif des animations GIF, ce format </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n'a jamais</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √©t√© destin√© √† la vid√©o ou √† l'animation. En fait, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la sp√©cification GIF89a</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> indique explicitement que "GIF n'est pas destin√© √† servir de plate-forme d'animation". </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le nombre de couleurs, le nombre d'images et le rapport hauteur / largeur</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - tout cela affecte la taille du GIF anim√©. Le remplacement du format vid√©o permet de r√©aliser des √©conomies maximales. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/56b/bda/eb7/56bbdaeb754a883674dc575a36542d8e.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comparaison des tailles d'animation GIF et de vid√©os de qualit√© √©quivalente La</font></font></font></i> <br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> production de la m√™me vid√©o au format MP4 r√©duit la taille du fichier de 80% ou plus.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Outre le fait que les fichiers GIF gaspillent du trafic, leur chargement prend plus de temps, contient moins de couleurs et n'est g√©n√©ralement pas tr√®s joli. Vous avez peut-√™tre remarqu√© que les GIF anim√©s Twitter fonctionnent mieux l√†-bas que sur d'autres sites. En effet, les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GIF anim√©s sur Twitter ne sont pas vraiment des GIF</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Pour am√©liorer la qualit√© et r√©duire le trafic, Twitter les convertit automatiquement en vid√©o. De m√™me, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Imgur convertit GIF en MP4 lors du chargement</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi les GIF sont-ils plusieurs fois plus grands? </font><font style="vertical-align: inherit;">Parce qu'ils stockent chaque image sous forme d'image GIF sans perte - oui, sans perte. </font><font style="vertical-align: inherit;">La mauvaise qualit√© GIF n'est pas due √† la compression, mais √† une palette de 256 couleurs. </font><font style="vertical-align: inherit;">Le format n'analyse pas les images adjacentes pour la compression, contrairement aux codecs vid√©o comme H.264. </font><font style="vertical-align: inherit;">La vid√©o MP4 stocke chaque image cl√© au format JPEG avec perte, en supprimant certaines des donn√©es d'origine pour obtenir une meilleure compression.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si vous pouvez passer √† la vid√©o </font></font></h4><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilisez </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ffmpeg</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour convertir des GIF anim√©s (ou fichiers source) au format MP4 (H.264). </font><font style="vertical-align: inherit;">Je dirige un tel one-liner de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rigor</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br> <code>ffmpeg -i animated.gif -movflags faststart -pix_fmt yuv420p -vf "scale=trunc(iw/2)2:trunc(ih/2)2" video.mp4</code> </li> <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> L'API ImageOptim prend √©galement en charge la conversion de GIF anim√©s en WebM / H.264 et supprime les GIF anti-aliasing, augmentant encore la compression </font></font></li></ul><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si vous devez utiliser des GIF anim√©s </font></font></h4><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Des outils comme Gifsicle suppriment les m√©tadonn√©es, les couleurs de palette inutilis√©es et minimisent les changements entre les cadres. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Consid√©rez le codage GIF avec perte. </font><font style="vertical-align: inherit;">Giflossy - Fourche Gifsicle, qui prend en </font><font style="vertical-align: inherit;">charge le </font><font style="vertical-align: inherit;">drapeau </font></font><code>-lossy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et comprime l'animation par 60-65%. </font><font style="vertical-align: inherit;">Sur cette base, un bon outil </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gifify</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">cr√©√©</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Convertissez des GIF non anim√©s au format PNG ou WebP.</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voir </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le livre GIF</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de Rigor </font><font style="vertical-align: inherit;">pour plus d'informations </font><font style="vertical-align: inherit;">.</font></font><br><br><a name="25"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Optimisation SVG </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©duire les fichiers SVG signifie supprimer tous les fichiers inutiles. </font><font style="vertical-align: inherit;">En r√®gle g√©n√©rale, SVG de l'√©diteur contient de nombreuses informations redondantes (m√©tadonn√©es, commentaires, couches masqu√©es, etc.). </font><font style="vertical-align: inherit;">Souvent, il peut √™tre retir√© ou minimis√© en toute s√©curit√© sans affecter le r√©sultat visuel. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/cb6/e7e/747/cb6e7e747134071886e39623f818a8b1.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le service </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SVGOMG</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> par Jake Archibald, vous pouvez choisir diff√©rentes fa√ßons aux r√©sultats instantan√©s optimize</font></font></font></i> <br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Quelques r√®gles g√©n√©rales d'optimisation SVG (SVGO) </font></font></h4><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©duisez les fichiers SVG et compressez-les dans gzip, car les SVG ne sont que des ressources de texte XML telles que CSS, HTML et JavaScript. </font><font style="vertical-align: inherit;">Pour augmenter la productivit√©, ils doivent √™tre minimis√©s et compress√©s.</font></font></li><li>      SVG,   <code>&lt;rect&gt;</code> , <code>&lt;circle&gt;</code> , <code>&lt;ellipse&gt;</code> , <code>&lt;line&gt;</code>  <code>&lt;polygon&gt;</code> .              . </li><li>    ,   .      ,  .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">simplify</a>  Illustrator        ,  . </li><li>  .   ,   . </li><li>   . </li><li>   Photoshop  Illustrator.       . </li><li>      ,     SVG. </li><li>     SVG,   - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SVGOMG</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SVGO</a> .   Sketch,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> Sketch  SVGO</a>     . </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/d9f/f9c/4d9/d9ff9c4d9f37684e7997d4a4fc3fcfee.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'efficacit√© de SVGO en haute pr√©cision (‚àí29% de la taille du fichier d'origine) et en basse pr√©cision (‚àí38%)</font></font></font></i> <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SVGO</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un outil d'optimisation SVG sur Node. </font><font style="vertical-align: inherit;">Il r√©duit la taille des fichiers en diminuant la pr√©cision des nombres dans les d√©finitions. </font><font style="vertical-align: inherit;">Chaque chiffre apr√®s le point est un octet suppl√©mentaire, donc la modification de la pr√©cision (nombre de chiffres) affecte consid√©rablement la taille du fichier. </font><font style="vertical-align: inherit;">Mais soyez tr√®s prudent, car une pr√©cision r√©duite peut affecter visuellement les formes de l'image. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/928/573/607/9285736076b2d09166f936d1595ffe81.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il est important de noter: bien que SVGO ait r√©ussi dans l'exemple pr√©c√©dent sans trop simplifier les chemins et les formulaires, cela se produit souvent diff√©remment. </font><font style="vertical-align: inherit;">D√©couvrez comment une fus√©e √©clairante sur une fus√©e est d√©form√©e avec une pr√©cision d√©croissante</font></font></font></i> <br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SVGO depuis la ligne de commande: </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SVGO peut √™tre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">install√© en tant que CLI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> si vous pr√©f√©rez la ligne de commande: </font></font><br><br> <code>npm i -g svgo</code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Optimisation de fichier SVG: </font></font><br><br> <code>svgo input.svg -o output.svg</code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tous les param√®tres possibles sont pris en charge, y compris les param√®tres de pr√©cision √† virgule flottante: </font></font><br><br> <code>svgo input.svg --precision=1 -o output.svg</code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voir le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fichier Lisez</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">moi</font></a><font style="vertical-align: inherit;"> pour une liste compl√®te des param√®tres pris en charge.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> N'oubliez pas de compresser SVG! </font></font></h4><br><img src="https://habrastorage.org/getpro/habr/post_images/ea1/243/9dc/ea12439dcd3c53d5e99931e019593306.jpg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assurez-vous √©galement de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">compresser les fichiers SVG</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou de les √©mettre √† l'aide du protocole Brotli. </font><font style="vertical-align: inherit;">Le format texte se compressera tr√®s bien (~ 50% de la source). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lorsque Google a publi√© le nouveau logo, nous avons annonc√© que sa </font><font style="vertical-align: inherit;">version </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">minimale</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> n'√©tait que de 305 octets. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/817/219/f48/817219f4818aab93aa611df402f5db60.jpg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il existe de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nombreuses astuces avanc√©es</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour r√©duire encore plus le fichier (jusqu'√† 146 octets)!</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sprites SVG </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SVG est </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">id√©al</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour les ic√¥nes, offrant une visualisation de sprite sans les solutions de contournement douteuses n√©cessaires pour les polices. Il a un meilleur contr√¥le sur les styles CSS que dans les polices (propri√©t√©s des traits SVG), un meilleur contr√¥le du positionnement (pas besoin de se soucier des pseudo-√©l√©ments et </font></font><code>display</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) et SVG est beaucoup mieux </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pris en charge dans les navigateurs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Des outils comme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">svg-sprite</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IcoMoon</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> automatisent l'int√©gration des </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">SVG</font></a><font style="vertical-align: inherit;"> dans les sprites qui peuvent √™tre utilis√©s dans </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSS Sprite</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Symbol Sprite</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stacked Sprite</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">Conseils pratiques</font></a><font style="vertical-align: inherit;"> pour apprendre</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de Una Kravets, comment utiliser gulp-svg-sprite dans un workflow. </font><font style="vertical-align: inherit;">Sarah Sudein sur son blog d√©crit la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">transition des polices d'ic√¥nes au SVG</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h4>  Mat√©riel suppl√©mentaire </h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les conseils de Sarah Sowaydan sur l'optimisation de l'√©mission de SVG</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le livre pratique de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Chris Coyier </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">sur SVG</font></a><font style="vertical-align: inherit;"> sont excellents. </font><font style="vertical-align: inherit;">J'ai trouv√© des articles tr√®s utiles d'Andreas Larsen sur l'optimisation SVG ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">partie 1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">partie 2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Je peux √©galement recommander l'article </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´Pr√©parer et exporter des ic√¥nes SVG dans Sketch¬ª</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><a name="26"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √âvitez de serrer les graphiques avec une perte de qualit√© </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La compression d'une image est toujours recommand√©e √† partir de la source. Un serrage r√©p√©t√© est lourd de cons√©quences d√©sagr√©ables. Supposons que vous preniez un JPEG qui est d√©j√† compress√© avec une qualit√© 60. Si vous le recompressez avec perte, il sera pire. Chaque cycle de compression suppl√©mentaire entra√Ænera une perte de qualit√© suppl√©mentaire - les informations sont supprim√©es et les artefacts sont accumul√©s. M√™me si vous pincez avec des param√®tres de haute qualit√©. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour √©viter ce pi√®ge, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d√©finissez imm√©diatement la qualit√© minimale acceptable</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et obtenez des √©conomies maximales d√®s le d√©but. Ensuite, vous n'allez pas recourir √† la recompression, car toute compression de fichier avec perte sera mauvaise, m√™me si elle r√©duira la taille du fichier. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/fa9/6dc/866/fa96dc866135f21f0a9bfe022ab8211f.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un exemple d'une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grande vid√©o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un article de couverture</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">John Sneijers montre l'impact du serrage dans diff√©rents formats. Ce probl√®me peut se produire si vous enregistrez des images (d√©j√† compress√©es) √† partir des r√©seaux sociaux et les t√©l√©chargez √† nouveau (avec une nouvelle compression).</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MozJPEG</font><i><font color="gray"><font style="vertical-align: inherit;"> augmente</font></font></i><font style="vertical-align: inherit;"> sa perte de</font><i><font color="gray"><font style="vertical-align: inherit;"> qualit√©</font></font></i><font style="vertical-align: inherit;"> (peut-√™tre par accident) et est plus r√©sistant √† une telle d√©gradation en raison de la quantification du treillis. Au lieu de compresser toutes les valeurs DCT telles quelles, il recherche des valeurs proches dans la plage + 1 / -1 pour les compresser en moins de bits. FLIF avec perte de qualit√© utilise un hack similaire √† PNG avec perte de qualit√©, o√π le codec analyse les donn√©es et d√©cide quoi jeter avant la (re) compression.</font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Stockez les fichiers source au format sans perte, tels que PNG ou TIFF, pour maintenir une qualit√© maximale</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ensuite, des outils d'assemblage ou des compresseurs pr√©pareront une version compress√©e que vous donnerez aux utilisateurs avec une perte de qualit√© minimale.</font></font><br><br><a name="27"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> R√©duisez les co√ªts de d√©codage et de redimensionnement inutiles </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous avons tous donn√© aux utilisateurs de grandes images avec une r√©solution trop √©lev√©e. Vous devez payer pour cela. Le d√©codage et le redimensionnement sont des op√©rations gourmandes en ressources pour un navigateur sur un t√©l√©phone mobile standard. Si vous effectuez un rendu de grandes images, en les mettant √† l'√©chelle √† l'aide d'attributs CSS ou width / height, vous verrez comment cela affectera les performances. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/750/7de/e00/7507dee00658db123ac3a0519cbacd86.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lorsque le navigateur re√ßoit l'image, il doit la d√©coder du format source d'origine (par exemple, JPEG) en une image bitmap en m√©moire. Souvent, une image n√©cessite un redimensionnement (par exemple, la largeur est d√©finie en pourcentage). Le d√©codage et le redimensionnement des images sont des op√©rations gourmandes en ressources qui ralentissent le rendu</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Id√©alement, vous devez donner des images que le navigateur affiche sans redimensionnement. Donnez donc les images de taille minimale pour les √©crans et r√©solutions correspondants, en utilisant </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>srcset/sizes</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- dans un proche avenir, nous envisagerons </font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attributs Skipping </font></font><code>width</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code>height</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">peuvent √©galement avoir une </font><font style="vertical-align: inherit;">incidence d√©favorable sur le </font><font style="vertical-align: inherit;">rendement. Sans eux, le navigateur attribue la plus petite zone d'espace r√©serv√© √† l'image jusqu'√† ce qu'il re√ßoive suffisamment d'octets pour d√©terminer la taille correcte. √Ä ce stade, le balisage du document doit √™tre mis √† jour √† l'aide de l'op√©ration de refusion gourmande en ressources. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/ebb/33b/9ab/ebb33b9abfffafce7253dffa0c637175.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les navigateurs doivent effectuer plusieurs √©tapes pour dessiner une image √† l'√©cran. Apr√®s avoir re√ßu l'image, elle doit √™tre d√©cod√©e et souvent redimensionn√©e. Ces √©v√©nements peuvent √™tre suivis sur la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chronologie.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chrome DevTools</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Les grandes images prennent √©galement de la m√©moire: environ 4 octets par pixel apr√®s d√©codage. Si vous n'√™tes pas trop prudent, vous pouvez litt√©ralement bloquer le navigateur; sur les appareils √† petit budget, il n'est pas si difficile de changer la situation. Ainsi, gardez une trace des co√ªts de d√©codage, de redimensionnement et de consommation de m√©moire.</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/97b/2cb/a04/97b2cba04d8de16112c91508bfe387f1.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Le d√©codage d'images peut √™tre extr√™mement gourmand en ressources sur les t√©l√©phones portables de milieu de gamme et bas de gamme. Dans certains cas, il est 5 fois plus lent que sur le bureau.</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lors du d√©veloppement d'une nouvelle</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> version mobile,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Twitter a consid√©rablement augment√© la vitesse de d√©codage des images en d√©finissant les tailles correctes. Pour de nombreuses images, le temps de d√©codage est pass√© de ~ 400 ms √† ~ 19 ms!</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/695/cfe/d7c/695cfed7c10f6fde08830c7783c874a5.jpg"><br> <i><font color="gray"> Timeline/Performance  Chrome DevTools      Twitter Lite    </font></i> <br><br><a name="28"></a><h2>   HiDPI   <code>srcset</code> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les utilisateurs peuvent acc√©der au site via divers appareils mobiles et de bureau avec des √©crans haute r√©solution. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Device Pixel Ratio</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (DPR) (√©galement appel√© ¬´CSS Pixel Ratio¬ª) d√©termine comment CSS doit interpr√©ter la r√©solution d'√©cran. La norme DPR a √©t√© cr√©√©e par les fabricants de t√©l√©phones pour augmenter la r√©solution et la nettet√© des √©crans mobiles sans r√©duire les √©l√©ments. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour une qualit√© maximale, vous devez donner des images avec la r√©solution la plus appropri√©e. Les images haute d√©finition (avec DPR 2 √ó, 3 √ó) sont donn√©es aux appareils avec des √©crans haute r√©solution, et les images ordinaires sont donn√©es aux √©crans standard, car les images avec DPR 2 √ó et 3 √ó sont beaucoup plus lourdes. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/d00/ca2/7b1/d00ca27b1325ed096734db4e125cdf31.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ratio de pixels de l'appareil: de nombreux sites suivent le DPR des appareils populaires via </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">material.io</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mydevice.io</font></font></a></font></i> <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> srcset</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> permet au navigateur de s√©lectionner l'image optimale pour chaque appareil. </font><font style="vertical-align: inherit;">Par exemple, prenez une photo 2 √ó pour un √©cran mobile avec un DPR 2 √ó. </font><font style="vertical-align: inherit;">Les navigateurs sans prise en charge</font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">peuvent prendre la valeur par d√©faut</font></font><code>src</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sp√©cifi√©e dans la balise</font></font><code>&lt;img&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"paul-irish-320w.jpg, paul-irish-640w.jpg 2x, paul-irish-960w.jpg 3x"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"paul-irish-960w.jpg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Paul Irish cameo"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les CDN d'images comme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloudinary</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Imgix</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> prennent en charge DPR pour fournir des images de r√©solution optimale √† partir d'une seule source.</font></font><br><br><blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour en </font><font style="vertical-align: inherit;">savoir plus sur la relation de pixels et l'appareil peut √™tre des </font><font style="vertical-align: inherit;">images sensibles dans ce </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cours gratuit Udacity</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">guider les </font><font style="vertical-align: inherit;">images</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur base du </font><font style="vertical-align: inherit;">Web.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je vous rappelle que les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conseils client</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sont √©galement une alternative appropri√©e √† la sp√©cification de tous les DPR et formats possibles dans le balisage r√©actif. </font><font style="vertical-align: inherit;">Au lieu de cela, les informations pertinentes sont ajout√©es √† la demande HTTP afin que le serveur Web s√©lectionne l'option la plus appropri√©e pour un √©cran particulier.</font></font><br><br><a name="29"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Transformation artistique </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bien qu'il soit important de choisir la bonne r√©solution, certains sites pensent toujours √† la beaut√©. </font><font style="vertical-align: inherit;">Si l'utilisateur a un petit √©cran, vous pouvez recadrer ou zoomer - et afficher l'objet diff√©remment, en utilisant au mieux l'espace disponible. </font><font style="vertical-align: inherit;">Bien que la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">transformation artistique</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (direction artistique) au - </font><font style="vertical-align: inherit;">del√† de </font><font style="vertical-align: inherit;">la port√©e de cet article, certains services comme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloudinary</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fournissent des </font><font style="vertical-align: inherit;">interfaces API pour automatiser ces t√¢ches. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/812/9d1/081/8129d10818e6ffb6cae71fca47a071fb.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eric Portis a montr√© un excellent </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exemple de la</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fa√ßon d'utiliser </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">de</font></a><font style="vertical-align: inherit;"> mani√®re cr√©ative des images r√©actives. </font><font style="vertical-align: inherit;">Dans cet exemple, les caract√©ristiques de l'objet principal dans l'illustration sont modifi√©es pour utiliser au mieux l'espace disponible.</font></font></font></i> <br><br><a name="30"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Gestion des couleurs </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La couleur peut √™tre vue sous au moins trois points de vue: la biologie, la physique et l'impression. </font><font style="vertical-align: inherit;">En biologie, la couleur est un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ph√©nom√®ne de perception</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Les objets r√©fl√©chissent la lumi√®re dans diverses combinaisons de longueurs d'onde. </font><font style="vertical-align: inherit;">Les r√©cepteurs de lumi√®re dans les yeux traduisent ces ondes en un sentiment de couleur. </font><font style="vertical-align: inherit;">En physique, les fr√©quences des vagues et l'√©nergie (luminosit√©) sont importantes. </font><font style="vertical-align: inherit;">L'impression concerne davantage la gamme de couleurs, les couleurs et les mod√®les artistiques. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Id√©alement, tous les √©crans et navigateurs Web du monde devraient afficher exactement la m√™me couleur. </font><font style="vertical-align: inherit;">Ce n'est malheureusement pas le cas. </font><font style="vertical-align: inherit;">La gestion des couleurs offre un compromis dans l'affichage des couleurs √† l'aide de mod√®les de couleurs, d'espaces et de profils.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mod√®les de couleurs </font></font></h3><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les mod√®les de couleurs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sont un syst√®me pour cr√©er le spectre complet d'un plus petit ensemble de couleurs primaires. Il existe diff√©rents types d'espaces colorim√©triques avec diff√©rentes options de gestion des couleurs. Dans certains espaces, il y a moins de param√®tres de contr√¥le que dans d'autres - par exemple, pour toutes les nuances de gris, un param√®tre de luminosit√© entre le noir et le blanc suffit. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deux types courants de mod√®les de couleurs sont additifs et soustractifs. Les mod√®les de couleur additifs de type RVB affichent la couleur avec luminescence et les couleurs de type CMJN soustractives avec r√©flexion (soustraction). </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/831/b9c/52c/831b9c52cc2059f46e5c63ba3c6d5624.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En RVB, la lumi√®re rouge, verte et bleue est ajout√©e dans diverses combinaisons pour produire une large gamme de couleurs. CMJN (cyan, magenta, jaune et noir) fonctionne dans diff√©rentes couleurs d'encre, supprimant une partie du spectre blanc du papier</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Article</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´Le concept de mod√®les de couleurs et de syst√®mes de couleurs¬ª</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d√©crit bien d'autres mod√®les et modes de couleurs, tels que HSL, HSV et LAB.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Espaces colorim√©triques </font></font></h1><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les espaces</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> colorim√©triques sont une gamme sp√©cifique de couleurs qui peuvent √™tre affich√©es pour une image donn√©e. Par exemple, dans l'image jusqu'√† 16,7 millions de couleurs, et divers espaces colorim√©triques vous permettent d'affiner ou d'√©largir cette plage. Certains d√©veloppeurs estiment que les mod√®les de couleurs et les espaces colorim√©triques sont identiques. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sRGB est</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> con√ßu sur la base du RVB comme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">standard</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour Internet. Il s'agit d'un petit espace colorim√©trique, qui est g√©n√©ralement consid√©r√© comme le d√©nominateur le moins commun et l'option la plus s√ªre pour la gestion des couleurs dans les navigateurs. Autres espaces colorim√©triques (tels </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qu'Adobe RGB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ProPhoto RGB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(utilis√© dans Photoshop et Lightroom) contiennent des couleurs plus diverses, mais comme le sRGB est courant dans les navigateurs, les jeux et les moniteurs, ils l'utilisent g√©n√©ralement. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/6dd/0bf/4f0/6dd0bf4f0a627d651a95f94ba30a4d26.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visualisation de la gamme - la gamme de couleurs dans l'espace colorim√©trique.</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Trois canaux sont utilis√©s </font><i><font color="gray"><font style="vertical-align: inherit;">dans les espaces colorim√©triques</font></font></i><font style="vertical-align: inherit;"> (rouge, vert et bleu), chacun avec 255 couleurs en mode 8 bits, ce qui donne 16,7 millions de couleurs. Les images 16 bits peuvent afficher des milliers de milliards de couleurs. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/a55/90d/d1b/a5590dd1bf6c059ec89e984d0108f878.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comparaison de sRGB, Adobe RGB et ProPhoto RGB sur une image avec </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yardstick</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Il est extr√™mement difficile d'illustrer ce concept si votre √©cran n'affiche que des couleurs sRGB. Lorsque vous comparez une photo ordinaire en sRGB et une large gamme, tout sera le m√™me, √† l'exception des couleurs ¬´riches¬ª les plus satur√©es</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les espaces colorim√©triques se distinguent par leur gamme (la gamme de couleurs qu'ils peuvent reproduire avec des nuances), leur spectre et leur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">courbe gamma</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . sRGB est environ 20% plus petit qu'Adobe RGB, ProPhoto RGB est </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">environ 50% plus large</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> qu'Adobe RGB. Les photos ci-dessus sont tir√©es du </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">trac√© de d√©tourage</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Large</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gamme est un terme qui signifie des espaces colorim√©triques plus larges que sRGB. Ces types d'√©crans deviennent de plus en plus courants. Cependant, de nombreux √©crans num√©riques ne sont tout simplement pas capables d'afficher des profils de couleurs nettement meilleurs que sRGB. Lors de l'enregistrement sur le Web dans Photoshop, utilisez l'option de conversion en sRGB, sauf si vous comptez sur des √©crans avec une large gamme de couleurs.</font></font><br><br><blockquote> <b>:</b>        sRGB     .  ,           .        (, ProPhoto RGB),    sRGB     . </blockquote><br><h4>   ,       -? </h4><br>  Oui<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si l'image contient une couleur tr√®s satur√©e / riche / lumineuse - et que vous souhaitez l'afficher sur des √©crans compatibles. </font><font style="vertical-align: inherit;">Cependant, dans de vraies photographies, cela se produit rarement. </font><font style="vertical-align: inherit;">Souvent, vous pouvez facilement modifier les param√®tres afin que la couleur soit lumineuse sans d√©passer la gamme sRGB. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La raison en est que la perception humaine de la couleur n'est pas absolue. </font><font style="vertical-align: inherit;">La perception fonctionne par rapport √† l'environnement - et il est facile de tromper. </font><font style="vertical-align: inherit;">Mais si l'image montre une trace d'un marqueur fluorescent, alors bien s√ªr, il est plus facile de le montrer dans une large gamme.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Correction et compression gamma </font></font></h3><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La correction gamma</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ou simplement gamma) contr√¥le la luminosit√© globale de l'image. La modification du gamma peut √©galement modifier le rapport du rouge au vert. Les images sans correction gamma sont souvent p√¢les ou sombres. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En vid√©o et infographie, le gamma est utilis√© pour la compression, similaire √† la compression de donn√©es. Cela nous permet de compresser les niveaux de luminosit√© utiles en moins de bits (8, pas 12 ou 16). La perception humaine de la luminosit√© n'est pas lin√©airement proportionnelle √† la quantit√© physique de lumi√®re. Repr√©senter les fleurs dans leur v√©ritable forme physique serait un gaspillage lors du codage pour l'≈ìil humain. La compression gamma est utilis√©e pour coder la luminosit√© √† une √©chelle plus proche de la perception humaine.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avec la compression gamma, une √©chelle de luminosit√© utile tient dans 8 bits de pr√©cision (0‚Äì255 dans la plupart des couleurs RVB), car les unit√©s de luminance sont cod√©es de mani√®re non lin√©aire. Imaginez que vous √™tes dans une pi√®ce sombre avec une bougie. Allumez le second - et notez une augmentation significative de la luminosit√©. Ajoutez une troisi√®me bougie et la pi√®ce deviendra encore plus lumineuse. Imaginez-vous maintenant dans une pi√®ce avec une centaine de bougies. Allumez les 101e et 102e bougies - et vous ne remarquerez aucun changement. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans les deux cas, la m√™me quantit√© de lumi√®re a √©t√© physiquement ajout√©e. Mais comme les yeux sont moins sensibles √† la lumi√®re vive, la compression gamma ¬´comprime¬ª les valeurs lumineuses, donc moins de pr√©cision est cod√©e en unit√©s physiques, mais l'√©chelle elle-m√™me est ajust√©e pour les personnes - et d'un point de vue humain, toutes les valeurs sont √©galement exactes.</font></font><br><br><blockquote> <b>:</b> -      -  ¬´¬ª,  -     . </blockquote><br><h3>   </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un profil colorim√©trique est une information qui d√©crit l'espace colorim√©trique d'un p√©riph√©rique. Il est utilis√© pour convertir entre diff√©rents espaces colorim√©triques. La t√¢che des profils est de rendre les images aussi similaires que possible sur tous les types d'√©crans et de supports. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les images peuvent avoir un profil de couleur int√©gr√© selon la norme </font><font style="vertical-align: inherit;">ICC ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">International Color Consortium</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) pour localiser les couleurs. Les profils sont pris en charge dans une vari√©t√© de formats, y compris JPEG, PNG, SVG et WebP, et la plupart des principaux navigateurs prennent √©galement en charge les profils ICC int√©gr√©s. Si l'image s'ouvre dans le programme et que le profil du moniteur est connu, les couleurs sont ajust√©es en cons√©quence.</font></font><br><br><blockquote> <b>:</b>      sRGB,           .         .     . </blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les profils de couleurs int√©gr√©s augmentent √©galement consid√©rablement la taille des images (parfois de 100 Ko ou plus), alors soyez prudent. </font><font style="vertical-align: inherit;">Des outils comme ImageOptim suppriment automatiquement tous les profils de couleurs qu'ils trouvent. </font><font style="vertical-align: inherit;">Si le profil ICC est supprim√©, le navigateur commencera √† afficher l'image dans l'espace colorim√©trique de votre moniteur, ce qui peut entra√Æner un changement de saturation et de contraste. </font><font style="vertical-align: inherit;">Il est donc logique de rechercher un compromis pour chaque cas sp√©cifique. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le site </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">neuf degr√©s au- </font><font style="vertical-align: inherit;">dessous</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> une excellente s√©lection de ressources pour la </font><font style="vertical-align: inherit;">gestion des profils de couleur ICC, si vous avez besoin de </font><font style="vertical-align: inherit;">plus amples informations.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Profils de couleurs et navigateurs </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans les versions pr√©c√©dentes de Chrome, la gestion des couleurs n'√©tait pas beaucoup prise en charge, mais la situation a √©t√© corrig√©e en 2017 en introduisant la fonction de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rendu correct des couleurs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Si le profil d'affichage est diff√©rent de sRGB (les derniers MacBook Pros), il convertira les couleurs de sRGB en profil d'affichage. </font><font style="vertical-align: inherit;">Cela signifie que les couleurs deviendront plus similaires dans diff√©rents syst√®mes et navigateurs. </font><font style="vertical-align: inherit;">Les navigateurs Safari, Edge et Firefox prennent √©galement en compte les profils ICC, de sorte que les images avec diff√©rents profils s'affichent d√©sormais correctement, que vous ayez ou non un large √©ventail de couleurs.</font></font><br><br><blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque: Un</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> excellent guide des diff√©rentes fa√ßons d'utiliser la couleur sur le Web est </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le Guide de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sarah Drazner </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">sur Color</font></a><font style="vertical-align: inherit;"> Nerd </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">sur Internet</font></a><font style="vertical-align: inherit;"> .</font></font></blockquote><br><a name="31"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sprites </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sprites</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ou CSS sprite) a une longue histoire, ils sont pris en </font><font style="vertical-align: inherit;">charge par tous les </font><font style="vertical-align: inherit;">navigateurs et ont √©t√© un moyen populaire de r√©duire le nombre d'images t√©l√©charg√©es en les combinant en une seule image, qui est coup√©e en morceaux. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/dc1/d7c/68f/dc1d7c68f3fdeef1c56234d17122d7bc.jpg"><br> <font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les sprites d'image sont encore largement utilis√©s sur les grands sites de production, y compris la page d'accueil Google.</font></font></font> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Selon la norme HTTP / 1.x, certains sprites utilis√©s pour r√©duire le nombre de requ√™tes HTTP. Cela pr√©sentait un certain nombre d'avantages, mais cela n√©cessitait de la pr√©cision en raison d'un probl√®me d'invalidation du cache - les modifications apport√©es √† n'importe quelle petite partie du sprite invalideraient l'image enti√®re dans le cache. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spriting est d√©sormais en contradiction avec </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://hpbn.co/"><font style="vertical-align: inherit;">les</font></a><font style="vertical-align: inherit;"> directives </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://hpbn.co/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTP / 2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Puisqu'il est devenu possible d'envoyer de nombreuses demandes en une seule connexion, il est pr√©f√©rable </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://deliciousbrains.com/performance-best-practices-"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de t√©l√©charger des photos individuellement</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">√âvaluez les options pour votre situation.</font></font><br><br><a name="32"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Chargement paresseux d'images non critiques </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le chargement paresseux (diff√©r√©) est une pratique qui augmente la productivit√© lorsque le t√©l√©chargement d'images vers le navigateur est retard√© jusqu'√† ce que l'utilisateur en ait vraiment besoin. </font><font style="vertical-align: inherit;">Par exemple, les images sont charg√©es de mani√®re asynchrone lors du d√©filement de la page. </font><font style="vertical-align: inherit;">Cela peut √©conomiser du trafic en plus de la compression d'image. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/d04/326/c74/d04326c7499058e1cff821d707cb53dd.jpg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les images qui frappent l'√©cran sont t√©l√©charg√©es imm√©diatement. </font><font style="vertical-align: inherit;">Mais le reste en ce moment n'est pas encore visible. </font><font style="vertical-align: inherit;">Ils ne doivent pas √™tre t√©l√©charg√©s imm√©diatement, mais plus tard - c'est un chargement paresseux. </font><font style="vertical-align: inherit;">Cela ne se produit que si et quand l'utilisateur fait d√©filer la page. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le chargement diff√©r√© n'est pas encore pris en charge par les navigateurs eux-m√™mes (bien que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cela ait √©t√© discut√©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans le pass√© </font><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">Au lieu de cela, JavaScript est utilis√©.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pourquoi le chargement diff√©r√© est-il utile? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Elle pr√©sente de nombreux avantages: </font></font><br><br><ul><li> <b> </b> .     .   ,       . </li><li> <b>  </b> .     ‚Äî   . </li><li> <b>  </b> .                . ,       ,       . </li></ul><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cependant, comme pour d'autres outils, une grande responsabilit√© s'accompagne d'une grande force. </font></font></b> <br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âvitez le chargement retard√© des images dans la port√©e.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Utilisez-le pour de longues listes (par exemple, des produits ou des avatars personnalis√©s). Ne l'utilisez pas pour l'image principale de la page. Un chargement paresseux dans la port√©e peut ralentir le chargement √† la fois techniquement et pour la perception humaine. Il tue la pr√©charge et le chargement progressif, et JavaScript g√©n√®re un travail suppl√©mentaire pour le navigateur. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Soyez tr√®s prudent avec le chargement d'images paresseuses lors du d√©filement.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous attendez directement l'√©v√©nement de d√©filement, l'utilisateur peut voir des espaces r√©serv√©s au lieu d'images ou obtenir des images avant de les faire d√©filer. </font><font style="vertical-align: inherit;">L'une des recommandations consiste √† commencer √† charger paresseusement les images suivantes imm√©diatement apr√®s l'affichage de la pr√©c√©dente √† l'√©cran, quelle que soit l'interaction de l'utilisateur.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Qui utilise un chargement diff√©r√©? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le chargement paresseux est utilis√© par la plupart des grands sites avec un grand nombre d'images. Par exemple, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Medium</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pinterest</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/fd8/c9d/134/fd8c9d134f3bf1b461cd66b8edddc29d.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemple d'aper√ßu avec flou gaussien d'illustrations sur moyen</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sur certains sites (par exemple, moyen), une petite image floue (environ 100 octets) s'affiche pour l'aper√ßu qui, apr√®s un t√©l√©chargement retard√©, se transforme en une illustration de qualit√© normale. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jose M. Perez a expliqu√© comment impl√©menter l'effet Medium √† l'aide de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filtres CSS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Il a exp√©riment√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diff√©rents formats graphiques</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Facebook a √©galement d√©crit sa c√©l√®bre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">approche</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avec des espaces r√©serv√©s de 200 octets pour les photos d'en-t√™te. Si vous utilisez Webpack, alors</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le chargeur LQIP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aidera √† automatiser certaines de ces proc√©dures. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour voir le chargement paresseux, ouvrez simplement votre catalogue pr√©f√©r√© de photos de haute qualit√©, puis faites d√©filer la page. Vous verrez presque toujours que le site ne t√©l√©charge que quelques images en pleine r√©solution, et les autres sont des espaces r√©serv√©s. Lorsque vous faites d√©filer, les espaces r√©serv√©s sont remplac√©s par des images en pleine r√©solution. C'est un chargement paresseux. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©cemment, une nouvelle technique de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vecteurs</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> plut√¥t que des espaces r√©serv√©s raster </font><font style="vertical-align: inherit;">a gagn√© en popularit√© </font><font style="vertical-align: inherit;">. Il a √©t√© propos√© par Tobias Baldauf dans son outil </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQIP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . L√†, l'utilitaire </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Primitive</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> g√©n√®re des aper√ßus SVG √† partir de plusieurs formes simples, co√Øncidant approximativement avec les principales caract√©ristiques de l'image. Ensuite, SVG est optimis√© en utilisant</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SVGO</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - et un filtre de flou gaussien est appliqu√©. </font><font style="vertical-align: inherit;">Le r√©sultat est un espace r√©serv√© SVG de seulement 800-1000 octets, qui semble net sur n'importe quel √©cran et donne une vue significative de ce qui est dans l'image r√©elle. </font><font style="vertical-align: inherit;">√âvidemment, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vous pouvez combiner le</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> chargement paresseux et la pr√©visualisation d'images de faible qualit√©.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Comment appliquer un chargement diff√©r√©? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il existe un certain nombre de m√©thodes et de plugins pour le chargement diff√©r√©. </font><font style="vertical-align: inherit;">Je recommande </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lazysizes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Alexander Farkas en raison de ses performances d√©centes, de ses fonctionnalit√©s, de son int√©gration suppl√©mentaire avec </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intersection Observer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et de la prise en charge des plugins.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Que peut faire Lazysizes? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lazysizes est une biblioth√®que JavaScript, elle ne n√©cessite pas de personnalisation. </font><font style="vertical-align: inherit;">Il suffit de t√©l√©charger le fichier js minifi√© et de l'inclure dans la page Web. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voici un exemple de code d'un fichier README: </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ajoutez la classe 'lazyload' aux images / cadres en combinaison avec l'attribut data-src et / ou data-srcset. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De plus, vous pouvez ajouter l'attribut src avec une image de faible qualit√©:</font></font><br><br><pre> <code class="html hljs xml"><span class="hljs-comment"><span class="hljs-comment">&lt;!-- non-responsive: --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image.jpg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"lazyload"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- responsive example with automatic sizes calculation: --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-sizes</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"auto"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image2.jpg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image1.jpg 300w, image2.jpg 600w, image3.jpg 900w"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"lazyload"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- iframe example --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">iframe</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">frameborder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"lazyload"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">allowfullscreen</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"//www.youtube.com/embed/ZfV-aYdU4uE"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">iframe</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour la version Web de ce livre, j'ai associ√© Lazysizes √† Cloudinary (bien que vous puissiez utiliser n'importe quelle alternative). </font><font style="vertical-align: inherit;">Cela vous permet d'exp√©rimenter librement et avec un minimum d'effort avec diff√©rentes √©chelles, qualit√©, formats et ind√©pendamment du fait que le t√©l√©chargement progressif soit n√©cessaire:</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/377/f20/d09/377f20d09d2e11b1037a62777ad25e3e.jpg"><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Caract√©ristiques Lazysizes: </font></font></h4><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> D√©tecte automatiquement les changements de visibilit√© des √©l√©ments actuels et futurs du chargement paresseux </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Prise en charge des images r√©actives standard (image et srcset) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Calcul automatique des tailles et des alias pour les requ√™tes multim√©dias </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Fonctionne avec des centaines d'images / cadres CSS, dans des pages riches en scripts et des applications Web </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Extensibilit√©: prend en charge les plugins </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Solution simple mais mature </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Am√©lioration du r√©f√©rencement: ne masque pas les images / √©l√©ments des robots </font></font></li></ul><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Autres m√©thodes de chargement paresseux </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lazysizes n'est pas la seule option. </font><font style="vertical-align: inherit;">Il existe d'autres biblioth√®ques:</font></font><br><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lazy Load XT</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLazy.js</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ou [Be] Lazy)</font></font></li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©voiler</font></font></a> </li><li> <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yall.js (encore un autre chargeur Lazy)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d'environ 1 kilo - </font><font style="vertical-align: inherit;">octets, il utilise Observer intersection lorsque cela est </font><font style="vertical-align: inherit;">possible.</font></font></li></ul><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Quels sont les inconv√©nients du chargement paresseux? </font></font></h4><br><ul><li>    ,        JavaScript   ,    JavaScript.        &lt;noscript&gt;. </li><li>         .      (redraw),             .     ‚Äî Intersection Observer,     lazysizes. </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le chargement diff√©r√© est un moyen courant d'√©conomiser du trafic, de r√©duire les co√ªts et d'am√©liorer l'exp√©rience utilisateur. </font><font style="vertical-align: inherit;">√âvaluez son utilit√© dans votre cas. </font><font style="vertical-align: inherit;">Pour plus d'informations, consultez les articles </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´Chargement d'images paresseux¬ª</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´Impl√©mentation d'un chargement progressif dans Medium¬ª</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><a name="33"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Comment √©viter l'affichage: aucun pi√®ge </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les anciennes solutions d'images r√©actives traitaient par erreur les demandes d'images lors de la d√©finition de la propri√©t√© CSS </font></font><code>display</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Cela pourrait entra√Æner une augmentation significative du nombre de demandes, ce qui est une autre raison pour laquelle il est pr√©f√©rable d'utiliser &lt;picture&gt; et &lt;img srcset&gt;. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avez-vous d√©j√† √©crit une requ√™te m√©dia qui, sous certaines conditions, cache une image </font></font><code>display:none</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">?</font></font><br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img.jpg"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> @</span><span class="hljs-keyword"><span class="css"><span class="hljs-keyword">media</span></span></span><span class="css"> (max-width: </span><span class="hljs-number"><span class="css"><span class="hljs-number">640px</span></span></span><span class="css">) { </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">img</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">display</span></span></span><span class="css">: none; } } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ou cache des images avec une classe </font></font><code>display:none</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">?</font></font><br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.hidden</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">display</span></span></span><span class="css">: none; } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img.jpg"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äúimg-hidden.jpg</span></span></span><span class="hljs-tag">" </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hidden"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une v√©rification rapide dans le panneau r√©seau Chrome DevTools montre que ces images ¬´cach√©es¬ª sont toujours en cours de chargement. </font><font style="vertical-align: inherit;">Il s'agit en fait du comportement correct du navigateur selon la sp√©cification des ressources int√©gr√©es.</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/a67/471/222/a67471222582a069b511993bab0c0b51.jpg"><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> L'affichage: aucun ne permet d'√©viter la demande src? </font></font></h4><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display:none"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img.jpg"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Non.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'image sp√©cifi√©e sera toujours demand√©e. </font><font style="vertical-align: inherit;">Ici, la biblioth√®que ne peut pas compter sur l'affichage: aucun, car la demande est envoy√©e avant que JavaScript ne modifie src.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Est-ce que display: none permet d'√©viter la requ√™te background: url ()? </font></font></h4><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display:none"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"background: url(img.jpg)"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©ponse affirmative. </font><font style="vertical-align: inherit;">Le fond CSS n'est pas extrait lors de l'analyse d'un √©l√©ment. </font><font style="vertical-align: inherit;">Calcul des styles CSS pour les </font><font style="vertical-align: inherit;">enfants avec </font></font><code>display:none</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">moins utiles, car ils ne touchent pas le rendu du document. </font><font style="vertical-align: inherit;">Les images d'arri√®re-plan des enfants ne sont ni calcul√©es ni charg√©es. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jake Archibald a une excellente </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qu√™te de quiz</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pi√®ge </font></font><code>display:none</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">En cas de doute sur la fa√ßon dont un navigateur particulier g√®re les demandes d'images, ouvrez DevTools et voyez par vous-m√™me. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encore une fois, si possible, utilisez &lt;picture&gt; et &lt;img srcset&gt; au lieu de vous fier √† &lt;display: none&gt;.</font></font><br><br><a name="34"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Est-il judicieux d'utiliser CDN pour le traitement d'image? </font></font></h1><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le temps pass√© √† lire des articles pour configurer votre pipeline de traitement d'image, puis le raffiner est souvent beaucoup plus cher que de payer pour ce service. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloudinary</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> propose un service gratuit, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Imgix</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> offre un essai gratuit, il existe une alternative gratuite √† </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thumbor</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , il existe donc de nombreuses options. </font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour un chargement de page plus rapide, vous devez optimiser le chargement des images, y compris la sortie d'images r√©actives avec compression c√¥t√© serveur, la s√©lection automatique du format optimal et le redimensionnement. </font><font style="vertical-align: inherit;">Il est important d'envoyer l'image de la bonne taille au bon appareil dans la bonne r√©solution - et le plus rapidement possible. </font><font style="vertical-align: inherit;">Ce n'est pas aussi simple qu'il y para√Æt.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Votre serveur ou CDN? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La manipulation d'images est un sujet sp√©cifique. </font><font style="vertical-align: inherit;">Tout change constamment ici, alors commen√ßons par une citation d'un sp√©cialiste exp√©riment√©, puis continuons. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´Si votre produit n'est pas en soi associ√© au traitement d'image, ne le faites pas vous-m√™me. </font><font style="vertical-align: inherit;">Des services comme Cloudinary [ou Imgix, env. </font><font style="vertical-align: inherit;">ed.] s'en sortira beaucoup mieux et plus efficacement. </font><font style="vertical-align: inherit;">Et si vous √™tes pr√©occup√© par le prix, r√©fl√©chissez au co√ªt du d√©veloppement et de la maintenance, ainsi que de l'h√©bergement, du stockage et de la livraison ¬ª- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chris Gmyr</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> En ce moment, nous avons tendance √† convenir qu'il est pr√©f√©rable d'utiliser CDN pour le traitement d'image. </font><font style="vertical-align: inherit;">Consid√©rez deux de ces services - comment ils correspondent √† la liste des t√¢ches mentionn√©es.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cloudinary et Imgix </font></font></h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloudinary</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Imgix</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sont des CDN de traitement d'image bien connus. Ils sont utilis√©s par des centaines de milliers de d√©veloppeurs et d'entreprises √† travers le monde, notamment Netflix et Red Bull.</font></font><br><br><h4>  Principal </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le premier √©norme avantage de CDN par rapport √† sa propre solution est qu'il utilise un syst√®me de r√©seau mondial distribu√© pour garder vos images plus proches de vos utilisateurs. Et avec CDN, il est beaucoup plus facile pour vous de garantir la pertinence du service avec les futurs changements technologiques, car tout le monde ne sera pas en mesure de surveiller ind√©pendamment les tendances, d'apporter des modifications - cela n√©cessite une maintenance, un suivi du support pour les nouveaux formats par les navigateurs et une immersion dans la vie de la communaut√© de compression d'image. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deuxi√®mement: chaque service a un plan tarifaire √† plusieurs niveaux: Cloudinary a un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tarif gratuit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Imgix a un plan de d√©part peu co√ªteux. Imgix offre un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">essai</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gratuit </font><font style="vertical-align: inherit;">, c'est presque la m√™me chose qu'un tarif gratuit.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Troisi√®mement: les deux services ont une API. </font><font style="vertical-align: inherit;">Les d√©veloppeurs peuvent se connecter par programme √† un CDN et automatiser le processus. </font><font style="vertical-align: inherit;">Les biblioth√®ques clientes, les plugins pour les frameworks et la documentation API sont disponibles, bien que certaines options ne soient disponibles qu'√† des tarifs √©lev√©s.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Passons au traitement d'image. </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Limitez la discussion aux images statiques. </font><font style="vertical-align: inherit;">Cloudinary et Imgix offrent une large gamme de techniques de traitement d'image. </font><font style="vertical-align: inherit;">Dans les tarifs standard et gratuits, les deux prennent en charge les fonctions de base: compression, redimensionnement, recadrage, g√©n√©ration de petites copies. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/e27/b9f/e79/e27b9fe792a444abd15ed71fa10387ae.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√©diath√®que Cloudinary: par d√©faut, Cloudinary produit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des fichiers JPEG r√©guliers plut√¥t que progressifs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Pour activer cette option, placez l'ic√¥ne correspondante dans les "Options avanc√©es" ou utilisez l'indicateur fl_progressive</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cloudinary nomme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sept grandes cat√©gories de conversion</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , soit un total de 48 sous-cat√©gories. </font><font style="vertical-align: inherit;">Imgix a plus de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">100 op√©rations de traitement d'image</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Que se passe-t-il par d√©faut? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cloudinary effectue les optimisations suivantes par d√©faut: </font></font><br><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encodage JPEG utilisant MozJPEG</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (s√©lectionn√© √† la place de Guetzli par d√©faut).</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√©tadonn√©es claires (l'image d'origine reste intacte). </font><font style="vertical-align: inherit;">Pour modifier ce comportement et rendre des images avec des m√©tadonn√©es, ajoutez l'indicateur keep_iptc.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Possibilit√© de g√©n√©rer WebP, GIF, JPEG et JPEG-XR avec une qualit√© automatique. </font><font style="vertical-align: inherit;">Pour modifier les param√®tres par d√©faut, d√©finissez le param√®tre de qualit√© manuellement.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Optimisation de la taille des fichiers avec un impact minimal sur la qualit√© lors de la g√©n√©ration de PNG, JPEG ou GIF. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Imgix ne lance pas les optimisations telles que Cloudinary par d√©faut, mais vous permet de d√©finir la qualit√© par d√©faut. </font><font style="vertical-align: inherit;">Dans Imgix, les param√®tres automatiques permettent d'automatiser le niveau de base d'optimisation dans le catalogue d'images. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il est actuellement utilis√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quatre m√©thodes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La compression </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Am√©lioration visuelle </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Conversion de format de fichier </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √âlimination des yeux rouges </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Imgix prend en charge les formats d'image suivants: JPEG, JPEG2000, PNG, GIF, GIF anim√©, TIFF, BMP, ICNS, ICO, PDF, PCT, PSD, AI. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloudinary prend en charge les formats suivants: JPEG, JPEG 2000, JPEG XR, PNG, GIF, GIF anim√©, WebP, WebP anim√©, BMP, TIFF, ICO, PDF, EPS, PSD, SVG, AI, DjVu, FLIF, TARGA.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Et la performance? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les performances CDN d√©pendent principalement de la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">latence</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et de la vitesse. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le d√©lai est toujours un peu plus long pour les images enti√®rement non mises en cache. </font><font style="vertical-align: inherit;">Mais d√®s que l'image va dans le cache et diverge √† travers les serveurs du r√©seau, le CDN global trouve la route la plus proche de l'utilisateur. </font><font style="vertical-align: inherit;">Associ√© √† des √©conomies de taille de fichier, cela √©limine presque toujours les probl√®mes de latence par rapport aux images non optimis√©es ou aux serveurs uniques qui tentent de servir la plan√®te enti√®re. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les deux CDN ont une large couverture et des serveurs rapides, ce qui r√©duit la latence et augmente la vitesse de t√©l√©chargement. </font><font style="vertical-align: inherit;">La vitesse affecte le temps de chargement des pages, et c'est l'une des mesures les plus importantes pour les utilisateurs et la conversion.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Quel est le meilleur? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloudinary compte environ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">160 000 clients</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dont Netflix, eBay et Dropbox. Imgix ne rapporte pas le nombre d'utilisateurs, mais il est inf√©rieur √† Cloudinary. Cependant, la base Imgix comprend des poids lourds tels que Kickstarter, Exposure, unsplash et Eventbrite. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En traitement d'images, de nombreux param√®tres ne peuvent pas √™tre √©valu√©s objectivement, ce qui rend difficile la comparaison des performances des deux services. Tout d√©pend de la fa√ßon dont vous souhaitez traiter l'image (cela prendra un temps diff√©rent), de la taille et de la r√©solution dont vous avez besoin √† la fin. En fin de compte, le facteur le plus important pour vous peut √™tre le co√ªt.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les CDN co√ªtent de l'argent. </font><font style="vertical-align: inherit;">Un site lourd avec beaucoup de trafic peut payer des centaines de dollars par mois sur un CDN. </font><font style="vertical-align: inherit;">Un certain niveau de connaissances et de comp√©tences en programmation est n√©cessaire pour tirer le meilleur parti de ces services. </font><font style="vertical-align: inherit;">Mais si vous ne faites rien d'inhabituel, il n'y aura pas de probl√®mes particuliers.</font></font><br><br><h4>  Conclusion </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si vous t√©l√©chargez actuellement des images depuis votre propre serveur ou pr√©voyez de le faire, vous voudrez peut-√™tre penser √† un CDN. </font></font><br><br><a name="35"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mise en cache d'image </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les ressources peuvent d√©finir des r√®gles de mise en cache via </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des en-t√™tes de cache HTTP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . En particulier, elle </font></font><code>Cache-Control</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d√©finit qui et combien de </font><font style="vertical-align: inherit;">temps devrait mettre en </font><font style="vertical-align: inherit;">cache les </font><font style="vertical-align: inherit;">r√©ponses. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La plupart des images sont des ressources statiques qui </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ne changeront pas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √† l'avenir. La meilleure strat√©gie pour eux est la mise en cache agressive. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lors de la configuration des en-t√™tes de mise en cache HTTP, configurez Cache-Control pour une p√©riode d' </font></font><code>max-age</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un an (par exemple, </font></font><code>Cache-Control:public; max-age=31536000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). Une telle mise en cache agressive fonctionne bien pour la plupart des images, en particulier pour celles √† longue dur√©e de vie telles que les avatars et les images dans les en-t√™tes de page.</font></font><br><br><blockquote> <b>:</b>       PHP,    -   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">session_cache_limiter</a> .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>   <code>session_cache_limiter('public')</code> ,  <code>public</code>  <code>max-age=</code> .  ,        . </blockquote><br><a name="36"></a><h1>     </h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les ressources critiques peuvent √™tre pr√©charg√©es √† l'aide de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;link rel = preload&gt;</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br> <code>&lt;link rel=preload&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Il s'agit d'un t√©l√©chargement d√©claratif qui oblige le navigateur √† envoyer une demande de ressource sans bloquer l'√©v√©nement </font></font><code>onload</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour le document. </font><font style="vertical-align: inherit;">Cela augmente la priorit√© des demandes de ressources qui ne seraient autrement d√©tect√©es que plus tard lors de l'analyse. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour pr√©charger des images, la valeur est </font></font><code>as</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indiqu√©e comme suit </font></font><code>image</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="hljs swift">&lt;link rel=<span class="hljs-string"><span class="hljs-string">"preload"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span>=<span class="hljs-string"><span class="hljs-string">"image"</span></span> href=<span class="hljs-string"><span class="hljs-string">"logo.jpg"</span></span>/&gt;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De cette fa√ßon, optimiser l' </font><font style="vertical-align: inherit;">utilisation des ressources pour </font></font><code>&lt;img&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>&lt;picture&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et SVG.</font></font><br><br><blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque: Il est </font></font></b> <code>&lt;link rel=preload&gt;</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pris</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">charge</font></a><font style="vertical-align: inherit;"> dans les navigateurs Chrome et Blink tels que Opera et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Safari Tech Preview</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , et est √©galement </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">impl√©ment√©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans Firefox.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Des sites tels que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Philips</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flipkart</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xerox</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utilisent </font></font><code>&lt;link rel=preload&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour pr√©charger leurs logos (souvent utilis√©s au d√©but du document). </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kayak</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> applique √©galement le pr√©chargement afin que l'image principale dans l'en-t√™te se charge aussi rapidement que possible.</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/492/932/3d3/4929323d36c4089f7c5ab7d94ced76c0.jpg"><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Qu'est-ce que l'en-t√™te de pr√©charge Link? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le pr√©chargement de lien est d√©fini par la balise HTML ou dans </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l'en-t√™te HTTP Link Header</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dans tous les cas, le lien indique au navigateur de commencer √† charger la ressource dans le cache m√©moire, car la page est tr√®s susceptible d'attendre cette ressource et vous ne pouvez pas attendre que le scanner de pr√©chargement ou l'analyseur la d√©tecte. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La l√©gende des images ressemblera √† ceci:</font></font><br><br><pre> <code class="hljs objectivec">Link: &lt;https:<span class="hljs-comment"><span class="hljs-comment">//example.com/logo-hires.jpg&gt;; rel=preload; as=image</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lorsque le Financial Times a pr√©sent√© un tel titre sur son site Web, les utilisateurs ont commenc√© √† ouvrir le contenu </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 seconde plus rapidement</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : en </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/5e6/1f8/9ad/5e61f89ad2148c7ed6ab04d1a226c986.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bas: avec &lt;link rel = preload&gt;, en haut: sans. </font><font style="vertical-align: inherit;">Comparaison de Moto G4 sur canal 3G selon le test WebPageTest </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avant</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apr√®s</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> optimisation</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> De m√™me, Wikipedia a acc√©l√©r√© le t√©l√©chargement ¬´vers le logo¬ª, comme d√©crit dans leur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©tude</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Quels sont les pi√®ges de cette optimisation? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous devez √™tre s√ªr que le pr√©chargement de cette ressource particuli√®re est absolument n√©cessaire, car il d√©place le reste du contenu √† la fin de la file d'attente. </font><font style="vertical-align: inherit;">Vous devriez peut-√™tre vous concentrer sur d'autres contenus? </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il est important d'√©viter de </font></font><code>rel=preload</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pr√©charger les images sans une prise en charge √©tendue dans les navigateurs (par exemple WebP) et d'√©viter d'utiliser des images r√©actives d√©finies dans srcset, o√π la source de l'image d√©pend du type d'appareil. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour plus d'informations, consultez les articles </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Pr√©chargement et priorit√©s dans Chrome"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Pr√©chargement: pourquoi est-il bon pour quoi?"</font></font></a> <br><br><a name="37"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Budgets de performances Web pour les images </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le budget de performance est la limite maximale que les d√©veloppeurs tentent de ne pas d√©passer. Par exemple, ¬´pas plus de 200 Ko d'images sur une page¬ª ou ¬´l'interface utilisateur doit se charger plus rapidement que 3 secondes¬ª. Lorsque le budget n'est pas rempli - d√©couvrez pourquoi cela se produit et comment r√©gler la situation. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les budgets aident √† discuter des r√©sultats du travail. Lorsqu'une d√©cision de conception ou commerciale affecte la productivit√©, v√©rifiez votre budget. Si le changement ne rentre pas dans le budget, c'est la base pour le reporter ou le r√©viser. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'ai trouv√© qu'un budget de performance fonctionne mieux si la surveillance est automatis√©e. Au lieu d'√©tudier les horaires du r√©seau, un service est d√©marr√© manuellement, ce qui signale automatiquement un exc√©dent du budget. Deux de ces services utiles sont</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Calibre</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SpeedCurve</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√®s qu'un budget pour la taille de l'image est d√©termin√©, SpeedCurve commence la surveillance et alerte sur les d√©passements: </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/7b7/ecb/206/7b7ecb2062b83d9a3af42d0c8f1a2b4d.jpg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Calibre propose un param√®tre de budget pour chaque classe d'appareils. </font><font style="vertical-align: inherit;">Cela est utile car le budget pour la taille des images pour un ordinateur de bureau via WiFi peut √™tre tr√®s diff√©rent du budget pour les t√©l√©phones mobiles.</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/ac9/a20/dfd/ac9a20dfdeb3a76f937b298c83994feb.jpg"><br><br><a name="38"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Recommandations finales </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En fin de compte, le choix de la strat√©gie d'optimisation d'image se r√©sume aux types d'images que vous donnez aux utilisateurs et √† un ensemble raisonnable de crit√®res d'√©valuation de la s√©lection. </font><font style="vertical-align: inherit;">Il peut s'agir de SSIM ou de Butteraugli, et sur une petite s√©rie d'illustrations, vous pouvez faire confiance √† votre propre ≈ìil: ce qui semble meilleur et ce qui est pire.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Voici mes derni√®res recommandations: </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ne pouvez pas</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> donner d'images dans diff√©rents formats, selon la prise en charge dans le navigateur:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Guetzli + jpegtran de MozJPEG sont bien optimis√©s pour les JPEG de plus de 90. </font></font><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour le web, la qualit√© est </font></font><code>q=90</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">trop gaspilleuse. </font><font style="vertical-align: inherit;">Pour les </font><font style="vertical-align: inherit;">images normales est suffisante </font></font><code>q=80</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, et pour la </font><font style="vertical-align: inherit;">RDP 2 √ó m√™me </font></font><code>q=50</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Puisque Guetzli n'atteint pas un niveau aussi bas, vous pouvez utiliser MozJPEG pour le Web.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cornel Lesinsky a r√©cemment am√©lior√© l'√©quipe cjpeg sur mozjpeg en ajoutant un minuscule profil sRGB pour aider Chrome √† afficher des couleurs naturelles sur des √©crans √† large gamme de couleurs. </font></font></li></ul></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> PNG pngquant + advpng fournit un assez bon rapport vitesse / compression. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pouvez</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> rendre des images dans diff√©rents formats, selon la prise en charge du navigateur √† l'aide de &lt;photo&gt;, l'en- </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">t√™te </font></a></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Accept</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Picturefill</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Donnez WebP aux navigateurs qui le prennent en charge </font></font><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cr√©ez WebP √† partir d'images originales de qualit√© 100%. </font><font style="vertical-align: inherit;">Sinon, vous enverrez √† votre navigateur des images de qualit√© inf√©rieure et de volume plus important avec une </font><font style="vertical-align: inherit;">distorsion </font><font style="vertical-align: inherit;">JPEG </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et une</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> distorsion WebP! </font><font style="vertical-align: inherit;">Si vous compressez l'image source avec le codec WebP, alors la distorsion sera moins perceptible et le niveau de compression sera plus √©lev√©.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les param√®tres par d√©faut WebP </font></font><code>-m 4 -q 75</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sont bonnes pour la </font><font style="vertical-align: inherit;">plupart des </font><font style="vertical-align: inherit;">cas, le rapport optimal du taux et le </font><font style="vertical-align: inherit;">degr√© de compression.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebP dispose d'un mode de compression sans perte sp√©cial ( </font></font><code>-m 6 -q 100</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), qui r√©duit les fichiers en examinant toutes les combinaisons de param√®tres. </font><font style="vertical-align: inherit;">C'est un ordre de grandeur plus lent, mais √ßa vaut le coup pour les ressources statiques.</font></font></li></ul></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La solution de remplacement est Guetzli / MozJPEG pour les navigateurs qui ne prennent pas en charge WebP. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bonne compression! </font></font><br><br><blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour des conseils d'optimisation d'image plus pratiques, je recommande fortement </font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les performances Web en action de</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Jeremy Wagner. </font><font style="vertical-align: inherit;">Le livre </font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">High Performance Images</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> contient √©galement de nombreuses astuces et nuances.</font></font></blockquote><br><a name="39"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Petites choses </font></font></h1><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JPEG XT</a>    JPEG 1992 .           1992 ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">libjpeg-turbo</a>      (  ). </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PIK</a> ‚Äî    ,    .    JPEG,         Guetzli.    33%  JPEG,      54%   ,  libjpeg.    Guetzli  . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>     ,  PIK   .  ,      ,      (    2017 ). </li><li>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ImageMagick</a> .   ,         ,     .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">libvips</a> ,            .  ImageMagick   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>   ,    . </li><li> Blink (   Chrome)     .             .     .               ,          . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">img.decode()</a> API    . </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr422531/">https://habr.com/ru/post/fr422531/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr422519/index.html">Distribution de billets de faveur: fils non frein√©s en Java. M√©tier √† projet</a></li>
<li><a href="../fr422521/index.html">Pr√©diction de l'in√©vitable</a></li>
<li><a href="../fr422525/index.html">"La matrice de l'amiti√©." Le graphique social le plus ancien pour le plus petit</a></li>
<li><a href="../fr422527/index.html">R√©sum√© des nouvelles de PostgreSQL. Num√©ro 10</a></li>
<li><a href="../fr422529/index.html">Cours sp√©cial Groupe-IB: ¬´S√©curit√© des applications mobiles¬ª</a></li>
<li><a href="../fr422535/index.html">Voyez l'invisible. Polarisation infrarouge lointain (8-12 Œºm)</a></li>
<li><a href="../fr422537/index.html">BEM ne devrait pas exister</a></li>
<li><a href="../fr422539/index.html">√Ä propos de l'√©conomie num√©rique, des incendies et d'Internet</a></li>
<li><a href="../fr422541/index.html">Le drame des trous dans l'Union s'est transform√© en fantasmagorie</a></li>
<li><a href="../fr422543/index.html">Pensez comme un programmeur. Tutoriel de r√©solution de probl√®mes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>