<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚫 🤚🏾 🕯️ Optimisation Web: le plus important ♟️ 👸🏿 🈴</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Auteur d'un livre électronique - Eddie Osmani, Google Chrome Development Manager 

 tl; dr 
 La compression d'image doit toujours être automatisée. 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Optimisation Web: le plus important</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/422531/">  <font color="gray">Auteur d'un livre électronique - Eddie Osmani, Google Chrome Development Manager</font> <br><br><h1>  tl; dr </h1><br><h4>  La compression d'image doit toujours être automatisée. </h4><br>  L'optimisation graphique doit être automatisée.  Il est facile de l'oublier, les recommandations changent et le contenu lui-même peut facilement glisser au-delà de la chaîne de montage.  Pour automatiser la construction, utilisez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">imagemin</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">libvips</a> .  Il y en a bien d'autres. <br><br>  La plupart des CDN (tels que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Akamai</a> ) et des solutions tierces comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cloudinary</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">imgix</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Fastly Image Optimizer</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Instart Logic</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SmartVision</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ImageOptim API</a> offrent des solutions automatisées complètes pour l'optimisation d'image. <br><br>  Vous passerez du temps à lire des articles et à les configurer, ce qui est plus cher que de payer pour leurs services (Cloudinary a un tarif <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">gratuit</a> ).  Mais si vous ne souhaitez toujours pas externaliser votre travail pour des raisons de coût ou en raison d'une latence supplémentaire, choisissez les options open source ci-dessus.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Les</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">projets</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Imageflow</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Thumbor</a> offrent une alternative sur leur propre hébergement. <br><a name="habracut"></a><br><h4>  Tout le monde a besoin de compresser efficacement les images </h4><br>  Au minimum, utilisez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ImageOptim</a> .  Il réduit considérablement la taille tout en préservant la qualité visuelle.  Il existe des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">versions</a> pour Windows et Linux. <br><br>  Une approche plus approfondie: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">exécutez les</a> fichiers JPEG via <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MozJPEG</a> (pour une qualité de contenu Web <code>q=80</code> ou inférieure est acceptable) et envisagez la prise en charge du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JPEG progressif</a> .  Passez les fichiers PNG via <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pngquant</a> et SVG via <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SVGO</a> .  Spécifiez explicitement le nettoyage des métadonnées ( <code>--strip</code> pour pngquant) pour éviter le gonflement des fichiers.  Au lieu de GIF animés géants fous, offrez aux utilisateurs des vidéos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">H.264</a> (ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WebM</a> pour Chrome, Firefox et Opera)!  Si vous ne pouvez pas vous le permettre, utilisez au moins <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Giflossy</a> .  Lorsqu'il est possible de passer quelques cycles CPU, et que vous avez besoin d'une image de meilleure qualité et que vous êtes prêt à <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">accepter</a> un long temps d'encodage, essayez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Guetzli</a> . <br><br>  Certains navigateurs annoncent la prise en charge des formats d'image via l'en-tête Accept.  Cela peut être utilisé lors du choix d'un format pour l'émission: par exemple, le format <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WebP</a> pour les navigateurs basés sur Blink tels que Chrome et l'option JPEG / PNG pour les autres navigateurs. <br><br>  La compression peut toujours être améliorée.  Il existe des outils pour générer et émettre <code>srcset</code> .  Dans les navigateurs basés sur Blink, la sélection des ressources est automatisée à l'aide d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">indices client</a> - et vous économiserez du trafic sur les utilisateurs qui ont spécifié l'option «enregistrer les données» dans le navigateur via l'indicateur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Save-Data</a> . <br><br>  Plus la taille des images est petite, plus elle est pratique pour les utilisateurs, en particulier avec les téléphones portables.  Dans cet article, nous examinerons les moyens de compresser des graphiques à l'aide de méthodes modernes avec un impact minimal sur la qualité. <br><br><h1>  Table des matières </h1><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Présentation</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment savoir si les images doivent être optimisées?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment choisir un format?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JPEG modeste</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Modes de compression JPEG</a> <ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Avantages du JPEG progressif</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Qui utilise le JPEG progressif en production?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Inconvénients du JPEG progressif</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment encoder des fichiers JPEG progressifs?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Sous-échantillonnage des couleurs</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JPEG supérieur</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Optimiseurs JPEG</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Qu'est-ce que MozJPEG?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Qu'est-ce que Guetzli?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comparaison de MozJPEG avec Guetzli?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Butteraugli</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Qu'est-ce que WebP?</a> <ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment fonctionne webp?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Qui utilise WebP en production?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">comment fonctionne le codage webp?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Prise en charge du navigateur WebP</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment convertir des images en WebP?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment afficher les images WebP sur mon système d'exploitation?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment donner WebP?</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Optimisation SVG</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Évitez de serrer les graphiques avec une perte de qualité</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Réduisez les coûts de décodage et de redimensionnement inutiles</a> <ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Fournir des images HiDPI à l'aide de srcset</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Transformation artistique</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Gestion des couleurs</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Sprites</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Chargement paresseux d'images non critiques</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment éviter l'affichage: aucun piège</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Est-il judicieux d'utiliser CDN pour le traitement d'image?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Mise en cache d'image</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Précharger des ressources importantes</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Budgets de performances Web pour les images</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Recommandations finales</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Petites choses</a> </li></ul><br><a name="01"></a><h1>  Présentation </h1><br><h4>  Les graphiques restent la principale cause des pages Web sur l'obésité </h4><br>  Les images représentent une part énorme du trafic Internet.  Selon les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=http://">archives HTTP</a> , 60% des pages Web sont des graphiques JPEG, PNG et GIF.  En juillet 2017, les images étaient de 1,7 Mo sur une page Web moyenne de 3,0 Mo. <br><br>  L'expérience Tammy Everts a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">prouvé</a> que l'ajout d'images à une page ou l'agrandissement d'images existantes augmente le taux de conversion (pourcentage de visiteurs qui deviennent clients - environ Per.).  Les images n'iront donc nulle part - c'est pourquoi il est important d'investir dans une stratégie efficace pour les compresser. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4a3/3b0/2b6/4a33b02b6a5429884129920cb5795047.jpg"><br>  <i><font color="gray"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Une</a> étude <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Soasta / Google de 2016</a> a montré que les illustrations sont le deuxième prédicteur de la conversion et que les pages effectives ont 38% d'images en moins.</font></i> <br><br>  L'optimisation d'image implique un certain nombre de mesures.  Le choix dépend de la perte de qualité considérée comme acceptable. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/717/0e8/588/7170e85883225b9e08b09ea84cc3ae72.jpg"><br>  <i><font color="gray">Optimisation: choisissez le format correct, compressez doucement et priorisez le chargement des différentes images</font></i> <br><br>  Les optimisations typiques incluent la compression, le rendu intelligent des images en fonction de la taille à l'aide des <code>&lt;picture&gt;/&lt;img srcset&gt;</code> et le redimensionnement. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8ba/36c/69c/8ba36c69c745b99a1bb0b25d803ae15c.jpg"><br>  <i><font color="gray">Selon les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">archives HTTP</a> , au 95e centile (dans la fonction de distribution cumulative), chaque image peut être réduite de 30 Ko!</font></i> <br><br>  Nous avons encore beaucoup d'images qui peuvent être optimisées. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/640/bb3/f22/640bb3f22116b34da321bc72f5ffd360.jpg"><br>  <i><font color="gray">Le logiciel gratuit ImageOptim réduit la taille des graphiques avec des méthodes de compression modernes et supprime les métadonnées EXIF ​​inutiles</font></i> <br><br>  Si vous êtes concepteur, il existe également le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plugin ImageOptim pour Sketch</a> , qui optimise les ressources lors de l'exportation.  J'ai trouvé que cela économisait une tonne de temps. <br><br><a name="02"></a><h1>  Comment savoir si les images doivent être optimisées? </h1><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Auditez</a> votre site à l'aide de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WebPageTest.org</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bd7/5ed/eb7/bd75edeb7a6ded48fcb74b79acc9b01f.jpg"><br>  <i><font color="gray">La section Compress Images du rapport WebPageTest répertorie les images qui peuvent être compressées plus efficacement, tout en évaluant les gains potentiels de taille de fichier</font></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c45/d66/afa/c45d66afa348cb8c00124c6d3c95bb99.jpg"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Lighthouse</a> effectue également des audits de performance, y compris la vérification de l'optimisation de l'image.  Il montre des images qui peuvent être compressées plus fortement et qui peuvent être mises en chargement paresseux. <br><br>  À partir de Chrome 60, ce service fonctionne dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le</a> tableau de bord d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">audit</a> Chrome DevTools: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f98/cbe/eb0/f98cbeeb0a10a2faf610981cecf07400.jpg"><br>  <i><font color="gray">Lighthouse effectue un audit en tenant compte de la productivité, des meilleures pratiques ou des fonctionnalités avancées des applications Web (facultatif)</font></i> <br><br>  Vous connaissez peut-être d'autres outils d'audit tels que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PageSpeed ​​Insights</a> et Cloudinary's <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Website Speed ​​Test</a> , qui incluent un audit d'image détaillé. <br><br><a name="03"></a><h1>  Comment choisir un format? </h1><br>  Comme Ilya Grigorik l'a noté dans son excellent <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">guide d'optimisation d'image</a> , le «format correct» combine le résultat visuel souhaité et les exigences fonctionnelles.  Avez-vous des graphiques raster ou vectoriels? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/69b/fc1/e44/69bfc1e44304fbf9877fe53a86ff80b2.png"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Les graphiques raster</a> codent les valeurs de chaque pixel sur une grille rectangulaire de pixels.  Ils sont indépendants de la résolution ou de l'échelle.  WebP ou des formats largement pris en charge tels que JPEG ou PNG peuvent faire ce type de graphiques.  Les graphiques raster sont utilisés là où le photoréalisme est nécessaire.  Guetzli, MozJPEG et les autres outils mentionnés conviennent aux graphiques raster. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Les graphiques vectoriels</a> utilisent des points, des lignes et des polygones pour représenter des images avec des formes géométriques simples (comme des logos).  Il offre une haute résolution et un zoom.  Pour cette option, les formats comme SVG sont mieux adaptés. <br><br>  Choisir le mauvais format vous coûtera cher.  Modifiez le format avec prudence, en réalisant des expériences avec des économies possibles dans différents formats. <br><br>  Dans sa conférence, Jeremy Wagner a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">souligné les compromis</a> à considérer lors de l'évaluation de différents formats dans le processus d'optimisation. <br><br><a name="04"></a><h1>  JPEG modeste </h1><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JPEG</a> est probablement le format graphique le plus populaire au monde.  Comme indiqué précédemment, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=http://">45% des images</a> sur les sites des archives HTTP sont des images JPEG.  Votre téléphone, appareil photo numérique, ancienne webcam - tous prennent généralement en charge ce codec.  Il est très ancien, il est utilisé depuis 1992.  Pendant ce temps, de nombreuses recherches ont été effectuées sur la façon d'améliorer la compression JPEG. <br><br>  JPEG est un algorithme de compression avec perte qui supprime les informations "supplémentaires" pour économiser de l'espace.  Le défi consiste à maximiser la précision visuelle tout en minimisant la taille des fichiers. <br><br><h4>  Quelle qualité d'image est acceptable dans votre cas? </h4><br>  Les formats comme JPEG conviennent mieux aux photos ou aux images avec beaucoup de couleurs.  La plupart des outils d'optimisation vous permettront de choisir un niveau de compression acceptable: une compression plus forte réduit la taille des fichiers, mais peut apporter des artefacts: halo ou bloc. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ef8/c24/b8e/ef8c24b8ea845d7f5ba216762c72f60c.jpg"><br>  <i><font color="gray">Les artefacts de compression JPEG visibles augmentent à mesure que vous passez du meilleur au pire.</font></i>  <i><font color="gray">Notez que la qualité d'image dans différents outils peut varier considérablement.</font></i> <br><br>  Lors du choix d'un niveau de compression, vous devez considérer la qualité nécessaire pour les images: <br><br><ul><li>  <b>Le meilleur</b> : lorsque la qualité est plus importante que la taille du fichier.  Cela peut être dû au fait que l'image occupe une place importante dans la conception ou s'affiche en pleine résolution. </li><li>  <b>Bon</b> : lorsque vous pensez à économiser du trafic, mais que vous ne voulez pas trop affecter la qualité de l'image.  Pourtant, la qualité des illustrations est importante pour les utilisateurs. </li><li>  <b>Faible</b> : lorsque vous vous souciez d'un trafic minimal et que vous supportez la dégradation de l'image.  Ce profil convient aux réseaux à faible couverture et canaux minces. </li><li>  <b>Plus bas</b> : économiser de la bande passante est de la plus haute importance.  Les utilisateurs acceptent une qualité assez médiocre pour un chargement de page plus rapide. </li></ul><br>  Parlons maintenant des modes de compression JPEG qui affectent grandement le résultat. <br><br><blockquote>  <b>Remarque:</b> nous pouvons parfois surestimer la qualité de l'image dont les utilisateurs ont besoin.  La qualité peut être considérée comme un écart par rapport à la source idéale.  Il s'agit d'un indicateur subjectif. </blockquote><br><a name="05"></a><h1>  Modes de compression JPEG </h1><br>  Le format JPEG a un certain nombre de modes de compression différents.  Trois formats populaires: de base (séquentiel), JPEG progressif (PJPEG) et compression sans perte. <br><br><h4>  Quelle est la différence entre JPEG de base (ou séquentiel) et progressif? </h4><br>  Le JPEG de base (le mode par défaut dans la plupart des éditeurs et optimiseurs) encode et décode relativement simplement: de haut en bas.  Lorsqu'un fichier JPEG de base est chargé sur une connexion lente ou instable, l'utilisateur voit d'abord le haut de l'image.  Le mode de compression JPEG sans perte est similaire au mode de base, mais avec un taux de compression inférieur. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d23/6db/cbe/d236dbcbedb51e84a7ab3531543008f9.jpg"><br>  <i><font color="gray">Le JPEG de base (JPEG de base) est chargé de haut en bas et le JPEG progressif est téléchargé de flou à net</font></i> <br><br>  Le JPEG progressif divise l'image en une série de passes.  La première passe montre l'image sous forme floue et de faible qualité, et les passes suivantes améliorent progressivement la qualité.  Chaque passage augmente le niveau de détail.  Au final, une image complète est créée. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/576/cd4/82c/576cd482ced17692a2dd98fc68cf7eb7.jpg"><br>  <i><font color="gray">JPEG de base télécharge l'image de haut en bas.</font></i>  <i><font color="gray">PJPEG affiche d'abord une image floue, puis augmente la résolution.</font></i>  <i><font color="gray">Pat Minan a développé <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=http://www.patrickmeenan.com/progressive/view.php%3Fimg%3D">un outil interactif</a> pour tester et étudier les fichiers JPEG progressifs</font></i> <br><br>  L'optimisation JPEG sans perte est obtenue en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">supprimant les en-têtes EXIF</a> des appareils photo numériques et des éditeurs, en optimisant les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tables Huffman</a> et en réanalysant l'image.  Des outils comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">jpegtran</a> fournissent une compression sans perte en reconstruisant les données compressées sans compromettre la qualité de l'image.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">jpegrescan</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">jpegoptim</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mozjpeg</a> (que nous verrons bientôt) prennent également en charge la compression JPEG sans perte. <br><br><a name="06"></a><h2>  Avantages du JPEG progressif </h2><br>  La capacité de PJPEG à afficher des aperçus au démarrage améliore les performances - il semble aux utilisateurs que l'image se charge plus rapidement que les graphiques standard. <br><br>  Sur les connexions 3G lentes, cela vous permet de voir approximativement l'image lorsque seule une partie du fichier est reçue - et de décider d'attendre ou non le téléchargement complet.  Cela peut être plus pratique que de charger l'image de haut en bas, comme dans le JPEG de base. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f54/39b/acc/f5439bacc4fb55239d2895ac9817b492.png"><br>  <i><font color="gray">En 2015, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Facebook est passé à PJPEG (pour son application iOS)</a> et le trafic a diminué de 10%.</font></i>  <i><font color="gray">Ils ont pu afficher une image de bonne qualité 15% plus rapidement qu'auparavant, optimisant le temps de chargement perçu, comme le montre la figure ci-dessus.</font></i> <br><br>  PJPEG peut réduire la taille du fichier de 2 à 10% par rapport au JPEG de base / simple pour les images de plus de 10 Ko.  Un taux de compression plus élevé est obtenu en raison du fait qu'à chaque passage, une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">table Huffman</a> distincte peut être compilée.  Les encodeurs JPEG modernes (par exemple <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">libjpeg-turbo</a> , MozJPEG, etc.) utilisent la flexibilité de PJPEG pour une meilleure compression des données. <br><br><blockquote>  <b>Remarque:</b> pourquoi PJPEG compresse-t-il mieux?  Étant donné que les blocs JPEG de base sont codés un à la fois et en PJPEG, les coefficients de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">transformation en cosinus discrets</a> de plusieurs blocs peuvent être codés ensemble, ce qui conduit à une meilleure compression. </blockquote><br><a name="07"></a><h2>  Qui utilise le JPEG progressif en production? </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Twitter.com produit des JPEG progressifs</a> avec un niveau de qualité de base de 85%.  Ils ont mesuré le retard subjectif perçu par l'utilisateur (temps jusqu'au premier passage et le temps de téléchargement total), et ont décidé que PJPEG était généralement adapté en fonction de la qualité de la compression, de l'encodage et de la vitesse de décodage. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Facebook produit des JPEG progressifs dans l'application iOS</a> .  Cela a réduit le trafic de 10% et accéléré l'émission d'images de «bonne qualité» de 15%. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Yelp est passé au JPEG progressif</a> .  C'est l'une des mesures qui a réduit la taille de l'image d'environ 4,5%.  Il a encore baissé de 13,8% grâce à MozJPEG. </li></ul><br>  De nombreux autres sites avec un grand nombre de fichiers d'images, comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Pinterest</a> , utilisent également le JPEG progressif en production. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/106/3da/c22/1063dac226ca94466d408d5eb660ebce.png"><br>  <i><font color="gray">Sur Pinterest, les images sont encodées en JPEG progressif uniquement.</font></i>  <i><font color="gray">C'est plus pratique pour les utilisateurs lorsque l'image apparaît progressivement</font></i> <br><br><a name="08"></a><h2>  Inconvénients du JPEG progressif </h2><br>  Le décodage PJPEG est plus lent que le JPEG de base - parfois trois fois plus lent.  Sur les ordinateurs de bureau dotés de processeurs puissants, ce n'est pas aussi important que sur les appareils mobiles aux ressources limitées.  L'affichage de calques incomplets nécessite du travail, car vous décodez l'image plusieurs fois.  Ces passages multiples consomment des cycles CPU. <br><br>  De plus, les images JPEG progressives <i>ne</i> sont <i>pas toujours</i> plus petites.  L'encodage progressif de très petites images (telles que des miniatures pour les aperçus) peut augmenter leur taille.  Et pour de telles images, le rendu en plusieurs passes n'a généralement pas de sens. <br><br>  Donc, avant de choisir PJPEG, il est conseillé d'expérimenter et de trouver le bon équilibre entre la taille du fichier, la latence du réseau et l'utilisation du processeur. <br><br><blockquote>  <b>Remarque:</b> le décodage matériel PJPEG (et tout JPEG) peut être pris en charge sur les appareils mobiles.  Cela ne réduit pas la consommation de mémoire, mais réduit la charge du processeur.  Tous les smartphones Android n'ont pas d'accélération matérielle, mais dans les appareils haut de gamme et les appareils iOS, c'est le cas. </blockquote><br>  Certains utilisateurs peuvent considérer les téléchargements progressifs comme un inconvénient, car il est difficile de comprendre quand le téléchargement de l'image est terminé.  Essayez d'évaluer la façon dont votre public s'y rapporte. <br><br><a name="09"></a><h2>  Comment encoder des fichiers JPEG progressifs? </h2><br>  Des outils et des bibliothèques comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ImageMagick</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">libjpeg</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">jpegtran</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">jpeg-recompress</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">imagemin</a> prennent en charge le JPEG progressif.  Si vous avez déjà configuré un pipeline d'optimisation, il est probable que la modification de la méthode de codage JPEG ne deviendra pas un problème: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> gulp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> imagemin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-imagemin'</span></span>); gulp.task(<span class="hljs-string"><span class="hljs-string">'images'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> gulp.src(<span class="hljs-string"><span class="hljs-string">'images/*.jpg'</span></span>) .pipe(imagemin({ <span class="hljs-attr"><span class="hljs-attr">progressive</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> })) .pipe(gulp.dest(<span class="hljs-string"><span class="hljs-string">'dist'</span></span>)); });</code> </pre> <br>  La plupart des éditeurs enregistrent par défaut au format JPEG de base. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1fe/8fe/189/1fe8fe189888206150a2c92ad28b590f.jpg"><br>  <i><font color="gray">La plupart des éditeurs enregistrent par défaut au format JPEG de base, mais cela peut être modifié dans les paramètres.</font></i>  <i><font color="gray">Dans Photoshop, vous devez sélectionner la commande "Fichier" → "Exporter" → "Enregistrer pour le Web", et indiquer le format JPEG progressif.</font></i>  <i><font color="gray">Sketch prend également en charge l'exportation de JPEG progressif en cochant une case dans le menu d'exportation JPG</font></i> <br><br><a name="10"></a><h2>  Sous-échantillonnage des couleurs </h2><br>  Nos yeux remarquent moins de perte de couleur que de luminosité.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Sous-échantillonnage des couleurs</a> (sous-échantillonnage de la chrominance) - un type de compression qui réduit la précision des couleurs en raison de la luminosité (luma).  Cela réduit la taille du fichier <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">à 15-17%</a> , sans affecter de manière significative la qualité de l'image.  Le suréchantillonnage réduit également l'utilisation de la mémoire. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/41b/040/dd9/41b040dd91221b76f82d9f207646ef4a.jpg"><br><br>  Le contraste est responsable de la netteté de l'image, la luma est donc très importante.  Les photographies en noir et blanc n'ont pas de couleur, mais en raison de leur luminosité, elles sont aussi détaillées que leurs homologues en couleur.  Le chroma affecte moins la perception visuelle. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1d7/518/d2e/1d7518d2e4020bf3c7b4f58500d2b4e5.jpg"><br>  <i><font color="gray">JPEG prend en charge différents types de sous-échantillonnage: pas de sous-échantillonnage, horizontal, horizontal + vertical.</font></i>  <i><font color="gray">Voici une illustration de l'article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">«JPEG pour les crabes» de</a> Frederick Kaiser</font></i> <br><br>  Lors de la discussion des sous-échantillons, un certain nombre d'exemples courants sont généralement cités: 4: 4: 4, 4: 2: 2 et 4: 2: 0.  Quels sont-ils?  Supposons que le sous-échantillon soit au format A: B: C.  Ici, A est le nombre de pixels dans une ligne, pour JPEG, il est généralement de 4, B est le nombre de couleurs dans la première ligne, et C est le nombre de couleurs dans la seconde. <br><br><ul><li>  En <code>4:4:4</code> il n'y a pas de compression, la couleur et la luminosité sont entièrement transmises. </li><li>  À <code>4:2:2</code> demi-échantillonnage horizontalement et plein verticalement. </li><li>  À <code>4:2:0</code> , les couleurs de la moitié des pixels de la première ligne sont utilisées. </li></ul><br><blockquote>  <b>Remarque:</b> jpegtran et cjpeg prennent en charge une configuration distincte de luminosité et de couleur via l'indicateur <code>-sample</code> (par exemple, <code>-sample 2x1</code> ).  Quelques règles générales: le sous-échantillonnage ( <code>-sample 2x2</code> ) est idéal pour les photos.  Il est préférable de le désactiver ( <code>-sample 1x1</code> ) pour les captures d'écran, les bannières et les boutons.  Enfin, <code>2x1</code> au cas où vous ne seriez pas sûr de l'option à utiliser. </blockquote><br>  En réduisant le nombre de pixels, vous pouvez réduire considérablement la taille des composants de couleur, ce qui réduit finalement la taille du fichier. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6d5/cbd/8d3/6d5cbd8d354285776369025a20c3390c.jpg"><br>  <i><font color="gray">80 options de sous-échantillonnage de couleurs pour la qualité JPEG 80</font></i> <br><br>  Le sous-échantillonnage des couleurs est utile pour la plupart des images, bien qu'il existe des exceptions évidentes: il est préférable de ne pas l'utiliser lorsque les détails des couleurs sont aussi importants que la luminosité (par exemple, les images médicales). <br><br>  Les images avec des polices en souffriront également.  Les bords clairs sont plus difficiles à compresser avec JPEG, car il est conçu pour mieux gérer les scènes photographiques avec des transitions plus douces. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/792/434/e28/792434e286dd698afecc7de662c8ab18.jpg"><br>  <i><font color="gray">Lorsque vous travaillez avec du texte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">, le</a> didacticiel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Learning JPEG</a> recommande de s'en tenir au sous-échantillonnage 4: 4: 4 (1 × 1)</font></i> <br><br>  Soit dit en passant: dans les spécifications JPEG, la méthode exacte de sous-échantillonnage des couleurs n'est pas indiquée, donc les différents encodeurs / décodeurs agissent différemment.  MozJPEG et libjpeg-turbo utilisent la même méthode, et les anciennes versions de libjpeg utilisent l'autre, ce qui ajoute des artefacts. <br><br><blockquote>  <b>Remarque:</b> Photoshop sélectionne automatiquement le sous-échantillonnage des couleurs lors de l'enregistrement sur le Web.  Si la qualité est définie dans la plage 51−100, le sous-échantillonnage n'est pas utilisé (4: 4: 4).  Lorsque la qualité est inférieure, 4: 2: 0 est défini.  C'est l'une des raisons pour lesquelles la taille des fichiers diminue considérablement lors du passage de la qualité de 51 à 50. </blockquote><br><blockquote>  <b>Remarque: Le</b> terme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">YCbCr</a> est souvent mentionné dans une discussion sur le sous-échantillonnage.  Il s'agit d'un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">modèle d'</a> espace colorimétrique <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RVB à</a> correction gamma.  Y est la luminosité corrigée gamma, Cb est la composante chromatique du bleu et Cr est rouge.  Si vous regardez ExifData, vous verrez YCbCr à côté des niveaux d'échantillonnage. </blockquote><br>  Pour plus d'informations, consultez l'article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"Pourquoi n'utilisez-vous pas le sous-échantillonnage des couleurs?"</a> <br><br><a name="11"></a><h2>  JPEG supérieur </h2><br><h4>  Quel est le statut actuel des JPEG sur Internet? </h4><br> <i>tl;dr:     .    ,        .</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3e2/26c/f29/3e226cf294bca6151e7ab29b3cc8e05d.jpg"><br> <i><font color="gray">   ( )        26 .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SSIM</a> ( )  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Butteraugli</a> ,      .</font></i> <br><br><ul><li> <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JPEG 2000</a> (2000)</b> —          . <b>  :  Safari  iOS</b> . </li><li> <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JPEG XR</a> (2009)</b> —  JPEG  JPEG 2000,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">HDR</a>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> .    ,  JPEG,      /. <b>  : Edge, IE</b> . </li><li> <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WebP</a> (2010)</b> —       Google       .   ,  JPEG,   ,  PNG.        .   ,   JPEG. <b>  : Chrome, Opera.    Safari  Firefox</b> . </li><li> <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">FLIF</a> (2015)</b> —    ,  PNG, WebP  , BPG    JPEG 2000     . <b>  : ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JS-</a></b> . </li><li> <b>HEIF  BPG</b> .      ,     : </li><li> <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">BPG</a> (2015)</b> —  JPEG      HEVC ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">High Efficiency Video Coding</a> ). ,        MozJPEG  WebP.      -   . <b>  : ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JS-</a></b> . </li><li> <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">HEIF</a> (2015)</b> —      ,  HEVC   . Apple   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WWDC</a> ,     c JPEG  HEIF    iOS,        . <b>  :     .     Safari  iOS 11</b> . </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous aimez percevoir les informations graphiquement, vous pouvez évaluer l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ces</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> outils de comparaison visuelle pour certains des formats ci-dessus. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ainsi, la </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prise en charge du navigateur est très différente</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Pour utiliser l'un des formats ci-dessus, vous devrez probablement donner des copies différentes à chacun des navigateurs cibles. Chez Google, nous voyons certains prospects WebP, nous allons donc bientôt examiner de plus près ce format. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez également produire différents formats (par exemple, WebP, JPEG 2000) avec la même extension .jpg (ou tout autre) car le navigateur peut choisir le type de contenu pour le rendu quelle que soit l'extension. Cela vous permet de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">spécifier le type de contenu</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">côté serveur, sans changer du tout le document HTML. </font><font style="vertical-align: inherit;">Des services comme Instart Logic adoptent cette approche. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ensuite, nous parlerons de situations où il est impossible de produire des images dans différents formats: les </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">optimiseurs JPEG vous</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aideront ici </font><font style="vertical-align: inherit;">.</font></font><br><br><a name="12"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Optimiseurs JPEG </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les codecs JPEG modernes tentent de réduire la taille des fichiers JPEG, tout en préservant la qualité et la compatibilité avec les navigateurs et applications existants. </font><font style="vertical-align: inherit;">Ils éliminent le besoin d'utiliser de nouveaux formats d'image et apportent des changements à l'écosystème. </font><font style="vertical-align: inherit;">Deux de ces encodeurs sont MozJPEG et Guetzli. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tl; dr: Quel codec JPEG optimisé utiliser?</font></font></b> <br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La plupart des fichiers: MozJPEG </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si la qualité est importante et que vous acceptez un codage continu: Guetzli </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si vous avez besoin de configurabilité: </font></font></li></ul><br><a name="13"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Qu'est-ce que MozJPEG? </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mozilla propose un encodeur JPEG amélioré - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MozJPEG</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Selon </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> développeurs, cela réduit de 10% la taille des fichiers JPEG. Les fichiers compressés MozJPEG s'ouvrent dans tous les navigateurs, et parmi les fonctions prises en charge figurent la numérisation progressive, la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quantification du treillis</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (suppression des détails les plus compressés) et plusieurs </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modèles de tableau de quantification</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avancés </font><font style="vertical-align: inherit;">qui aident à créer des images haute résolution plus fluides (bien que cela soit possible avec ImageMagick si vous êtes prêt à parcourir la jungle de la configuration XML). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MozJPEG est pris en charge dans </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ImageOptim</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et il existe un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plugin imagemin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personnalisable relativement fiable </font><font style="vertical-align: inherit;">. Voici un exemple d'implémentation utilisant Gulp:</font></font><br><br><pre> <code class="hljs php"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> gulp = <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> imagemin = <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-imagemin'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> imageminMozjpeg = <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'imagemin-mozjpeg'</span></span>); gulp.task(<span class="hljs-string"><span class="hljs-string">'mozjpeg'</span></span>, () =&gt; gulp.src(<span class="hljs-string"><span class="hljs-string">'src/*.jpg'</span></span>) .pipe(imagemin([imageminMozjpeg({ quality: <span class="hljs-number"><span class="hljs-number">85</span></span> })])) .pipe(gulp.dest(<span class="hljs-string"><span class="hljs-string">'dist'</span></span>)) );</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/4f4/7fe/93a/4f47fe93a97da4bb6e0d1fb491f99d32.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/c90/265/8a2/c902658a2ad04db50cf3a5e76d8cffb5.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MozJPEG: comparer les tailles de fichiers et les cotes de similitude visuelle avec différentes qualités</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pour calculer les cotes SSIM (similitude structurelle avec l'image d'origine), j'ai utilisé</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> jpeg-compress</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> du projet</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> jpeg-archive</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D'après mon expérience, MozJPEG est une bonne option pour compresser des images sur Internet avec une haute qualité tout en réduisant la taille du fichier. Pour les images de petite et moyenne taille, MozJPEG (avec une qualité de 80 à 85) réduit les fichiers de 30 à 40% tout en maintenant une SSIM acceptable et en améliorant de 5 à 6% avec jpeg-turbo. Il code</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> plus lentement que le JPEG de base</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mais la différence n'est pas critique.</font></font><br><br><blockquote> <b>:</b>    ,  MozJPEG          ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">jpeg-recompress</a> .   «-  »        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> . </blockquote><br><a name="14"></a><h2>   Guetzli? </h2><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guetzli</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un codec JPEG prometteur mais très lent et perceptuel de Google. Il essaie de trouver le plus petit JPEG, impossible à distinguer de l'original. Le codec effectue une série d'expériences, offrant des options de comparaison, et prend en compte l'erreur psycho-visuelle de chaque option. L'option avec la note la plus élevée est sélectionnée comme résultat final. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guetzli utilise </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Butteraugli</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , un modèle basé sur la perception humaine (discuté ci-dessous), </font><font style="vertical-align: inherit;">pour mesurer les différences entre les images </font><font style="vertical-align: inherit;">. Guetzli prend en compte certaines propriétés de la vision humaine qui ne sont pas prises en compte par les autres codecs JPEG. Par exemple, il existe une relation entre la quantité de lumière verte visible et la sensibilité au bleu, de sorte que les changements de bleu autour du vert peuvent être encodés avec moins de précision.</font></font><br><br><blockquote> <b>:</b>   <b></b>     <b> </b> ,    .         JPEG ,  ó ,    .       .      ,      . </blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guetzli </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">revendique</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> une différence de taille de fichier de 20 à 30% sans réduire le score de Butteraugli par rapport aux autres compresseurs. Le gros défaut de Guetzli est son extrême lenteur, donc actuellement il ne convient qu'aux contenus statiques. README indique une grande quantité de mémoire consommée: l'encodage prend environ 1 minute et 200 Mo de RAM par mégapixel. Il y a un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bon fil</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur GitHub </font><font style="vertical-align: inherit;">avec une discussion sur l'expérience réelle avec Guetzli. Le codec est idéal pour optimiser les images lors de la construction d'un site statique, mais il est moins adapté au lancement à la demande. Des </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">outils tels que l' </font><font style="vertical-align: inherit;">optimisation ImageOptim prennent en </font><font style="vertical-align: inherit;">charge Guetzli (dans les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">versions récentes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br><br><pre> <code class="hljs php"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> gulp = <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> imagemin = <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-imagemin'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> imageminGuetzli = <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'imagemin-guetzli'</span></span>); gulp.task(<span class="hljs-string"><span class="hljs-string">'guetzli'</span></span>, () =&gt; gulp.src(<span class="hljs-string"><span class="hljs-string">'src/*.jpg'</span></span>) .pipe(imagemin([ imageminGuetzli({ quality: <span class="hljs-number"><span class="hljs-number">85</span></span> }) ])) .pipe(gulp.dest(<span class="hljs-string"><span class="hljs-string">'dist'</span></span>)) );</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/734/9a0/698/7349a069854fef62982512c8e3a08f1a.jpg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'encodage d'images de Guetzli de 3000 × 3000 pixels avec différents niveaux a pris près de sept minutes. </font><font style="vertical-align: inherit;">Cela est logique pour l'archivage de photos haute résolution. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/b2b/6a4/1a8/b2b6a41a8799620ebc175fb9c63c1bb0.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guetzli: comparer la taille des fichiers et évaluer les similitudes visuelles avec différentes qualités</font></font></font></i> <br><br><blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque: Il est</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> recommandé d'exécuter Guetzli sur des images de haute qualité (par exemple, des images source non compressées, PNG ou JPEG avec une qualité d'environ 100%). </font><font style="vertical-align: inherit;">Bien que l'effet soit également sur d'autres images (par exemple, la qualité JPEG 84 ou inférieure), mais les résultats sont pires.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guetzli passe très (très) beaucoup de temps et fera tourner complètement le refroidisseur de CPU, mais ça vaut le coup. </font><font style="vertical-align: inherit;">J'ai vu un certain nombre d'exemples où la taille du fichier a été réduite de 40% tout en conservant une précision visuelle. </font><font style="vertical-align: inherit;">Cela en fait un choix idéal pour l'archivage des photos. </font><font style="vertical-align: inherit;">Sur les images de petite et moyenne taille, il y a aussi quelques économies (de l'ordre de 10 à 15 Ko), mais pas si importantes. </font><font style="vertical-align: inherit;">Lors de la compression de très petites images, Guetzli peut introduire des distorsions fluides. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour une variété de </font><font style="vertical-align: inherit;">cas d' </font><font style="vertical-align: inherit;">utilisation, vous pourriez être intéressé par la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comparaison de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Guetzli avec l'auto-compression cloudinaire dans l'étude d'Eric Portis.</font></font><br><br><a name="15"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Comparaison de MozJPEG et Guetzli </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il est difficile de comparer différents codecs JPEG: vous devez évaluer à la fois la qualité et la précision de l'image compressée, pas seulement la taille. </font><font style="vertical-align: inherit;">Comme le souligne Cornel Lesinsky, un expert en compression d'image, un seul, et non les deux, référence peut conduire à </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> conclusions </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">incorrectes</font></a><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">À quoi ressemblent Guetzli et MozJPEG en comparaison? </font><font style="vertical-align: inherit;">L'approche de Cornell:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Guetzli convient aux images de meilleure qualité (la note optimale butteraugli est considérée pour q = 90 + et pour MozJPEG - environ q = 75) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Guetzli est beaucoup plus lent (les deux produisent des JPEG standard, le décodage est donc aussi rapide que d'habitude) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MozJPEG ne sélectionne pas automatiquement un paramètre de qualité, mais vous pouvez trouver la qualité optimale à l'aide d'un outil externe, par exemple, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jpeg-archive</font></font></a> </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il existe un certain nombre de méthodes pour déterminer la similitude visuelle ou perceptuelle des images compressées avec la source. </font><font style="vertical-align: inherit;">Les études utilisent souvent </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSIM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (similitude structurelle). </font><font style="vertical-align: inherit;">Cependant, Guetzli est optimisé pour Butteraugli.</font></font><br><br><a name="16"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Butteraugli </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le système Butteraugli détermine le moment où une personne commence à remarquer la différence (similitude psycho-visuelle) entre les deux images. Butteraugli donne non seulement une estimation, mais établit également une carte spatiale du niveau des différences. Alors que SSIM résume toutes les erreurs, Butteraugli recherche le maximum. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/798/5b0/df8/7985b0df81227135fd3b432abf490a1b.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans cet exemple, Butteraugli recherche un seuil minimum pour la qualité JPEG afin que l'utilisateur ne remarque pas la différence visuelle entre les images. Cela nous a permis de réduire la taille du fichier de 65%.</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> En pratique, vous déterminez le niveau de qualité visuelle, puis exécutez plusieurs stratégies d'optimisation d'image, en examinant les estimations de Butteraugli, avant de choisir un résultat qui correspond à l'équilibre optimal entre la taille du fichier et le niveau de compression.</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/bf8/9e1/b18/bf89e1b182b3c5e8b89ffab674e1488d.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il m'a fallu environ 30 minutes pour configurer Butteraugli localement après avoir installé Bazel et créé les sources C ++ pour compiler correctement sur Mac. </font><font style="vertical-align: inherit;">Son utilisation est relativement simple: spécifiez deux images à comparer (source et version compressée) - et obtenez une estimation</font></font></font></i> <br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> En quoi Butteraugli est-il différent des autres méthodes d'évaluation de la similitude visuelle? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guetzli </font><font style="vertical-align: inherit;">, l' </font><font style="vertical-align: inherit;">un des développeurs, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que Guetzli est meilleur à Butteraugli, pire à SSIM, et MozJPEG est à peu près tout aussi bon dans les deux mesures. </font><font style="vertical-align: inherit;">C'est la stratégie que j'utilise pour optimiser les images. </font><font style="vertical-align: inherit;">J'utilise Butteraugli et un module Node comme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">img-ssim</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour comparer les classements SSIM avant / après Guetzli et MozJPEG.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Association des encodeurs? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comme le montre la pratique, la combinaison de Guetzli et MozJPEG </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sans pertes</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (jpegtran, pas cjpeg, afin de ne pas ignorer le travail effectué par Guetzli) peut réduire encore la taille du fichier de 10 à 15% (55% dans l'ensemble) avec une très légère diminution du score SSIM. </font><font style="vertical-align: inherit;">Cela nécessite une vérification et une analyse, mais d'autres spécialistes comme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aria Khidayat l'ont</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> essayé et ont obtenu le même résultat prometteur. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MozJPEG est un codec pratique pour les débutants, qui compresse les fichiers pour le Web relativement rapidement et offre une bonne qualité d'image. </font><font style="vertical-align: inherit;">Dans le même temps, Guetzli consomme beaucoup de ressources et fonctionne mieux sur des images de grande taille et de haute qualité: je recommanderais cette option aux utilisateurs avancés et professionnels.</font></font><br><br><a name="17"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Qu'est-ce que WebP? </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebP est le dernier format graphique de Google, qui vise à réduire la taille des fichiers avec une compression sans perte et avec perte, offrant une qualité visuelle acceptable. </font><font style="vertical-align: inherit;">Prend en charge le canal alpha (transparence) et l'animation. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebP s'améliore: au cours de la dernière année, il a ajouté quelques pour cent de compression sans perte et avec perte, la vitesse d'encodage est devenue deux fois plus rapide et la vitesse de décodage a augmenté de 10%. </font><font style="vertical-align: inherit;">WebP n'est pas un outil universel, mais sa popularité augmente. </font><font style="vertical-align: inherit;">Voyons pourquoi. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/f9a/25d/5ca/f9a25d5cafa3418ab89008985e8784d4.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebP: comparer la taille des fichiers et évaluer la similitude visuelle à différents niveaux de qualité</font></font></font></i> <br><br><a name="18"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Comment fonctionne webp? </font></font></h2><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Compression de perte </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les développeurs affirment qu'avec une compression avec perte utilisant le codec VP8 ou VP9, ​​les fichiers sont réduits en moyenne de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25 à 34%</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> par rapport au JPEG. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans la plage de faible qualité (0–50), WebP a un gros avantage sur JPEG car il érode les artefacts de blocage laids. </font><font style="vertical-align: inherit;">Réglage de qualité moyenne (-m 4 -q 75) - l'équilibre par défaut de la vitesse et de la taille du fichier. </font><font style="vertical-align: inherit;">Dans la gamme de haute qualité (80–99), les avantages de WebP sont minimes. </font><font style="vertical-align: inherit;">WebP est recommandé lorsque la vitesse est plus importante que la qualité.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Compression sans perte </font></font></h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les fichiers WebP avec compression sans perte sont 26% plus petits que les fichiers PNG</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Le temps de téléchargement par rapport au PNG est réduit de 3%. </font><font style="vertical-align: inherit;">Cependant, sur Internet, la compression sans perte n'est pas couramment utilisée. </font><font style="vertical-align: inherit;">Cette option est mieux adaptée au stockage d'archives.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La transparence </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebP dispose d'un canal de transparence 8 bits avec une compression sans perte de seulement 22% d'octets de plus que PNG. </font><font style="vertical-align: inherit;">Il prend également en charge la transparence RVB avec perte, une caractéristique unique de WebP.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Métadonnées </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le format WebP prend en charge les métadonnées photo EXIF ​​et les documents numériques XMP, et contient également le profil de couleur ICC. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebP offre une meilleure compression grâce à une utilisation accrue du processeur. </font><font style="vertical-align: inherit;">En 2013, la compression WebP était environ 10 fois plus lente que JPEG, mais maintenant la différence n'est plus aussi importante (certaines images peuvent être compressées deux fois plus lentement). </font><font style="vertical-align: inherit;">Pour les images statiques qui sont traitées pendant le processus d'assemblage, cela ne devrait pas être un gros problème. </font><font style="vertical-align: inherit;">Les images générées dynamiquement sont susceptibles de provoquer une utilisation notable du processeur avec laquelle il faut compter.</font></font><br><br><blockquote> <b>:</b>   WebP      JPEG. , JPEG   70%      WebP   70%,   WebP    ,   . </blockquote><br><a name="19"></a><h2>   WebP  ? </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De nombreuses grandes entreprises utilisent WebP en production pour réduire les coûts et augmenter la vitesse de chargement des pages. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google a signalé des économies de 30 à 35% sur WebP par rapport à d'autres schémas de compression avec perte. Google produit 43 milliards d'images par jour, dont 26% sont compressées sans perte. C'est beaucoup de demandes et des économies importantes. Il augmentera sans aucun doute lorsque les navigateurs amélioreront la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prise en charge de WebP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Google utilise ce format sur Google Play, YouTube et d'autres sites. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netflix, Amazon, Quora, Yahoo, Walmart, Ebay, The Guardian, Fortune et USA Today compressent et produisent des images WebP pour les navigateurs qui le prennent en charge. L'éditeur VoxMedia </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a réduit </font></font></a> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le </font></font></i><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">temps de chargement de la page </font></a><i><font style="vertical-align: inherit;">The Verge </font></i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">de 1 à 3 secondes en</font></a><font style="vertical-align: inherit;"> passant à WebP pour les utilisateurs de Chrome. Le site</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">500 pixels ont</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> enregistré une diminution de la taille des fichiers de 25% en moyenne avec une qualité identique ou supérieure. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En plus de ce qui précède, WebP est utilisé par d'autres sociétés. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/c9f/2a1/51f/c9f2a151ff30b5a3dd8b20178a78e64b.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilisation de WebP chez Google: 43 milliards d'images WebP sont affichées chaque jour sur YouTube, Google Play, Chrome Data Saver et G +</font></font></font></i> <br><br><a name="20"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Comment fonctionne le codage WebP? </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour les images statiques, WebP est une alternative au JPEG. Dans le codage avec perte, il y a trois étapes clés: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Macro-blocage</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - fractionnement d'une image en (macro) blocs de 16 × 16 pixels de luminosité et blocs de 8 × 8 pixels de couleur. Cela est similaire à la façon dont JPEG transforme l'espace colorimétrique, le divise en blocs et réduit le nombre de pixels sur les canaux de couleur. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/65f/45b/705/65f45b70532300058c0e9a00fe08b6de.png"><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prédiction</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - pour chaque sous-bloc 4 × 4, un modèle de prévision est compilé qui effectue efficacement le filtrage. Il est défini par deux ensembles de pixels autour du bloc: A (ligne immédiatement au-dessus) et L (colonne à gauche). À l'aide de ces deux ensembles, l'encodeur remplit un bloc de test 4 × 4 avec des pixels et détermine quelles valeurs sont les plus proches du bloc d'origine. Colt Macanlis en parle davantage dans un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">article.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> comment WebP fonctionne en mode de compression avec perte. </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cd2/863/50a/cd286350a67629c8fa14233af6973893.png"></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La transformée en cosinus discrète (DCT) est appliquée en plusieurs étapes, comme en JPEG. </font><font style="vertical-align: inherit;">La principale différence est l'utilisation de la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">compression arithmétique</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> plutôt que de l'algorithme de Huffman, comme en JPEG. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour plus d'informations, je recommande l'article </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Méthodes de compression WebP"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de Google Developer.</font></font><br><br><a name="21"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Prise en charge du navigateur WebP </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tous les navigateurs ne prennent pas en charge WebP, mais selon </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CanIUse.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , la prise en charge mondiale est d'environ 74%. </font><font style="vertical-align: inherit;">Chrome et Opera prennent en charge le format. </font><font style="vertical-align: inherit;">Safari, Edge et Firefox expérimentent, mais n'ont pas encore implémenté de support dans les versions officielles. </font><font style="vertical-align: inherit;">Pour cette raison, l'émission WebP dépend souvent du développeur Web. </font><font style="vertical-align: inherit;">Plus d'informations à ce sujet plus tard. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voici les principaux navigateurs et informations d'assistance pour chacun d'eux:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Chrome: prise en charge complète depuis la version 23 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Chrome pour Android: à partir de Chrome 50 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Android: depuis 4.2 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Opera: à partir de 12.1 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Opera Mini: toutes les versions </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Firefox: un support bêta </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Edge: un support bêta </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Internet Explorer: non </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Safari: un support bêta </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebP n'est pas sans défauts. </font><font style="vertical-align: inherit;">Il ne dispose pas d'options d'espace colorimétrique en pleine résolution et ne prend pas en charge le décodage progressif. </font><font style="vertical-align: inherit;">Néanmoins, une boîte à outils décente a été créée pour WebP, et la prise en charge du navigateur est suffisante pour considérer l'émission de WebP comme l'une des options.</font></font><br><br><a name="22"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Comment convertir des images en WebP? </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plusieurs éditeurs commerciaux et gratuits prennent en charge WebP. </font><font style="vertical-align: inherit;">L'une des applications les plus utiles est XnConvert: c'est un convertisseur batch multiplateforme gratuit.</font></font><br><br><blockquote> <b>:</b>      WebP  JPEG    .   ,      WebP    JPEG.    WebP,      , <i>  JPEG</i> ,      .      ,  . </blockquote><br><h4> XnConvert </h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XnConvert</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> produit un traitement d'image par lots dans plus de 500 formats. </font><font style="vertical-align: inherit;">Vous pouvez combiner plus de 80 actions distinctes pour convertir ou éditer des images. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/507/572/44f/50757244ffc4338222e3960f09485c31.png"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XnConvert prend en charge l'optimisation d'images par lots en effectuant une conversion directe des fichiers source vers WebP et d'autres formats. </font><font style="vertical-align: inherit;">En plus de la compression, XnConvert peut supprimer des métadonnées, recadrer des images, ajuster la profondeur des couleurs et effectuer d'autres transformations.</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Certains des paramètres répertoriés sur le site Web de xnview sont:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Métadonnées: modification </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Transformations: rotation, recadrage, redimensionnement </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Réglages: luminosité, contraste, saturation </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Filtres: flou, relief, netteté </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Effets: masques, filigranes, vignettage (atténuation partielle) </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les résultats des opérations peuvent être exportés vers environ 70 formats de fichiers différents, y compris WebP. </font><font style="vertical-align: inherit;">XnConvert est un programme gratuit pour Linux, Mac et Windows. </font><font style="vertical-align: inherit;">Il s'agit d'une excellente option, en particulier pour les petites entreprises.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Modules de nœuds </font></font></h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Imagemin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un module de compression d'image populaire qui a une extension pour convertir en WebP ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">imagemin-webp</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">La compression sans perte et sans perte est prise en charge. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour installer imagemin et imagemin-webp, exécutez: </font></font><br><br> <code>&gt; npm install --save imagemin imagemin-webp</code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ensuite, nous pouvons écrire require () dans les deux modules et les exécuter sur toutes les images (par exemple, JPEG) dans le répertoire du projet. </font><font style="vertical-align: inherit;">Ci-dessous, nous utilisons le codage avec perte avec la qualité de l'encodeur WebP 60:</font></font><br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> imagemin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'imagemin'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> imageminWebp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'imagemin-webp'</span></span>); imagemin([<span class="hljs-string"><span class="hljs-string">'images/*.{jpg}'</span></span>], <span class="hljs-string"><span class="hljs-string">'images'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">use</span></span>: [ imageminWebp({<span class="hljs-attr"><span class="hljs-attr">quality</span></span>: <span class="hljs-number"><span class="hljs-number">60</span></span>}) ] }).then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Images optimized'</span></span>); });</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comme en JPEG, vous pouvez voir des artefacts de compression dans l'image finale. </font><font style="vertical-align: inherit;">Voyez par vous-même quel niveau de compression convient à vos fichiers. </font><font style="vertical-align: inherit;">Imagemin-webp peut également être utilisé pour encoder des images WebP sans perte de qualité (avec prise en charge des couleurs 24 bits et transparence totale) en spécifiant le paramètre </font></font><code>lossless: true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> imagemin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'imagemin'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> imageminWebp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'imagemin-webp'</span></span>); imagemin([<span class="hljs-string"><span class="hljs-string">'images/*.{jpg,png}'</span></span>], <span class="hljs-string"><span class="hljs-string">'build/images'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">use</span></span>: [ imageminWebp({<span class="hljs-attr"><span class="hljs-attr">lossless</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>}) ] }).then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Images optimized'</span></span>); });</code> </pre> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le plugin WebP pour Gulp</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> du syndrome de Sorhus est basé sur imagemin-webp, il existe également </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un chargeur WebP pour WebPack</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Le plugin Gulp comprend toutes les options d'extension imagemin:</font></font><br><br><pre> <code class="hljs coffeescript">const gulp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp'</span></span>); const webp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-webp'</span></span>); gulp.task(<span class="hljs-string"><span class="hljs-string">'webp'</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> gulp.src(<span class="hljs-string"><span class="hljs-string">'src/*.jpg'</span></span>) .pipe(webp({ quality: <span class="hljs-number"><span class="hljs-number">80</span></span>, preset: <span class="hljs-string"><span class="hljs-string">'photo'</span></span>, method: <span class="hljs-number"><span class="hljs-number">6</span></span> })) .pipe(gulp.dest(<span class="hljs-string"><span class="hljs-string">'dist'</span></span>)) );</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ou compression sans perte: </font></font><br><br><pre> <code class="hljs coffeescript">const gulp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp'</span></span>); const webp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-webp'</span></span>); gulp.task(<span class="hljs-string"><span class="hljs-string">'webp-lossless'</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> gulp.src(<span class="hljs-string"><span class="hljs-string">'src/*.jpg'</span></span>) .pipe(webp({ lossless: <span class="hljs-literal"><span class="hljs-literal">true</span></span> })) .pipe(gulp.dest(<span class="hljs-string"><span class="hljs-string">'dist'</span></span>)) );</code> </pre> <br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Optimisation d'image par lots avec Bash </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XNConvert prend en charge la compression par lots, mais vous pouvez tout faire à partir de la ligne de commande. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conversion d'images par lots en WebP à l'aide de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cwebp</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br><pre> <code class="bash hljs">find ./ -<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> f -name <span class="hljs-string"><span class="hljs-string">'*.jpg'</span></span> -<span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> cwebp -q 70 {} -o {}.webp \;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Optimisation par le codec MozJPEG utilisant </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jpeg-recompress</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br><pre> <code class="bash hljs">find ./ -<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> f -name <span class="hljs-string"><span class="hljs-string">'*.jpg'</span></span> -<span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> jpeg-recompress {} {} \;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et recadrage SVG en </font><font style="vertical-align: inherit;">utilisant le programme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">svgo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (dont nous parlerons plus tard):</font></font><br><br><pre> <code class="bash hljs">find ./ -<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> f -name <span class="hljs-string"><span class="hljs-string">'*.svg'</span></span> -<span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> svgo {} \;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jeremy Wagner a écrit un article plus complet sur l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">optimisation des images dans Bash</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et un autre sur la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">parallélisation de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cette tâche.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Autres applications de traitement et d'édition WebP </font></font></h4><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Leptonica est un site Web complet d'applications de traitement et d'analyse d'images gratuites. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sketch prend en charge l'enregistrement dans WebP. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> GIMP est une alternative gratuite et open source à Photoshop. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ImageMagick - création, mise en page, transformation et édition de graphiques raster. </font><font style="vertical-align: inherit;">Gratuit, fonctionne à partir de la ligne de commande.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pixelmator est un éditeur d'image commercial pour Mac. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Photoshop WebP Plugin est un plugin gratuit de Google. </font><font style="vertical-align: inherit;">Importez et exportez des images dans Photoshop.</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour Android, vous pouvez convertir les formats BMP, JPG, PNG et GIF statiques existants au format WebP à l'aide d'Android Studio. </font><font style="vertical-align: inherit;">Pour plus d'informations, voir </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«Création d'images WebP à l'aide d'Android Studio»</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><a name="23"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Comment afficher les images WebP sur mon système d'exploitation? </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bien que les images WebP s'ouvrent toujours dans un navigateur à l'aide du moteur Blink (Chrome, Opera, Brave), elles peuvent être visualisées directement à partir du système d'exploitation à l'aide du complément pour Mac ou Windows. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il y a quelques années, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Facebook a expérimenté WebP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et a remarqué un problème: certains utilisateurs ont enregistré des photos sur le disque, puis n'ont pas pu les ouvrir. </font><font style="vertical-align: inherit;">Il y a trois problèmes clés ici:</font></font><br><br><ul><li>       WebP .    Chrome,       .webp. </li><li>        ,    Chrome. Facebook  ,    «»,    JPEG. </li><li>  URL         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> content-type</a> . </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vos utilisateurs peuvent ne pas avoir de tels problèmes, mais c'est une note marginale intéressante. </font><font style="vertical-align: inherit;">Heureusement, il existe aujourd'hui des utilitaires pour visualiser WebP sous différents systèmes d'exploitation. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sur Mac, essayez le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plug-in Quick Look pour WebP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (qlImageSize). </font><font style="vertical-align: inherit;">Cela fonctionne plutôt bien: </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/31f/440/5f5/31f4405f5b2c5e9fe146d00c77566621.jpg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sous Windows, vous pouvez télécharger </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le package de codecs WebP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui ajoute la possibilité d'afficher WebP dans l'explorateur de fichiers et la visionneuse de photos Windows.</font></font><br><br><a name="24"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Comment donner WebP? </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les navigateurs sans prise en charge WebP n'afficheront aucune image. </font><font style="vertical-align: inherit;">Pour éviter cela, il existe plusieurs stratégies. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/921/075/af2/921075af2ee07862f7dc586ee402793d.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le panneau Chrome DevTools Network avec la sélection de fichiers WebP qui sont donnés aux navigateurs sur le moteur Blink Le </font></font></font></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a88/8c9/56d/a888c956d80db06c0b4a170be510135e.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Play Store donne aux navigateurs WebP Blink et JPEG à d'autres, comme Firefox</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Voici quelques options pour fournir des images WebP aux utilisateurs:</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Utilisez .htaccess pour émettre des copies WebP </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voici comment utiliser .htaccess pour émettre des fichiers WebP dans les navigateurs pris en charge si le serveur possède une version webp du fichier JPEG / PNG. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vincent Orbach a recommandé cette approche: les </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">navigateurs peuvent </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">signaler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> explicitement </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">la prise</font></a><font style="vertical-align: inherit;"> en </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">charge WebP</font></a><font style="vertical-align: inherit;"> via l'en- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tête Accept</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dans ce cas, vous pouvez envoyer la version WebP de l'image à partir du serveur. </font><font style="vertical-align: inherit;">Mais ce n'est pas toujours possible (par exemple, pour les hôtes statiques, tels que les pages GitHub ou S3), alors assurez-vous de vérifier avant d'envisager cette option. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voici un exemple de fichier .htaccess pour le serveur Web Apache:</font></font><br><br><pre> <code class="hljs pgsql">&lt;IfModule mod_rewrite.c&gt; RewriteEngine <span class="hljs-keyword"><span class="hljs-keyword">On</span></span> # <span class="hljs-keyword"><span class="hljs-keyword">Check</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> browser support WebP images RewriteCond %{HTTP_ACCEPT} image/webp # <span class="hljs-keyword"><span class="hljs-keyword">Check</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> WebP replacement image <span class="hljs-keyword"><span class="hljs-keyword">exists</span></span> RewriteCond %{DOCUMENT_ROOT}/<span class="hljs-meta"><span class="hljs-meta">$1</span></span>.webp -f # Serve WebP image <span class="hljs-keyword"><span class="hljs-keyword">instead</span></span> RewriteRule (.+)\.(jpe?g|png)$ <span class="hljs-meta"><span class="hljs-meta">$1</span></span>.webp [T=image/webp,E=accept:<span class="hljs-number"><span class="hljs-number">1</span></span>] &lt;/IfModule&gt; &lt;IfModule mod_headers.c&gt; <span class="hljs-keyword"><span class="hljs-keyword">Header</span></span> append Vary Accept env=REDIRECT_accept &lt;/IfModule&gt; AddType image/webp .webp</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous rencontrez des problèmes d'affichage des graphiques WebP, assurez-vous que l'image de type MIME / webp est activée sur le serveur. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sur Apache, ajoutez le code suivant à votre fichier .htaccess:</font></font><br><br><pre> <code class="hljs mel">AddType <span class="hljs-keyword"><span class="hljs-keyword">image</span></span>/webp .webp</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sur Nginx, ajoutez le code suivant au fichier mime.types: </font></font><br><br><pre> <code class="hljs mel"><span class="hljs-keyword"><span class="hljs-keyword">image</span></span>/webp webp;</code> </pre> <br><blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vincent Orback fournit un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exemple htaccess</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour WebP et Ilya Grigorik gère une collection de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">scripts</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">configuration pour WebP</font></a><font style="vertical-align: inherit;"> qui peuvent être utiles.</font></font></blockquote><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Utilisation de la balise &lt;picture&gt; </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le navigateur lui-même peut sélectionner le format d'image à l'aide de la balise &lt;picture&gt;. </font><font style="vertical-align: inherit;">À l'intérieur de la &lt;photo&gt;, il y a de nombreux éléments &lt;source&gt;, avec une balise &lt;img&gt; pour chacun qui contient réellement l'image. </font><font style="vertical-align: inherit;">Le navigateur scanne la &lt;source&gt; et demande la première appropriée. </font><font style="vertical-align: inherit;">Si la balise &lt;picture&gt; n'est pas prise en charge, la &lt;div&gt; est rendue à l'aide de la balise &lt;img&gt;.</font></font><br><br><blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> faites attention à l'ordre des éléments &lt;source&gt;. </font><font style="vertical-align: inherit;">Ne placez pas les sources image / webp après des formats obsolètes, mais placez-les devant elles. </font><font style="vertical-align: inherit;">Vous pouvez également placer les images dans l'ordre croissant de la taille du fichier si elles ont la même taille en pixels (lorsque l'attribut n'est pas utilisé </font></font><code>media</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">Habituellement, le même ordre est obtenu que lors de la spécification des nouveaux formats en premier.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Voici quelques exemples de HTML: </font></font><br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/path/to/image.webp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/webp"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/path/to/image.jpg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'paul_irish.jxr'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'image/vnd.ms-photo'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'paul_irish.jp2'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'image/jp2'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'paul_irish.webp'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'image/webp'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'paul_irish.jpg'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'paul'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"photo.jxr"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/vnd.ms-photo"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"photo.jp2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/jp2"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"photo.webp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/webp"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"photo.jpg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"My beautiful face"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Conversion automatique en WebP du côté CDN </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Certains CDN prennent en charge la conversion automatique et l'émission WebP sur demande du client, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lorsque cela est possible</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Vérifiez votre CDN pour le support. </font><font style="vertical-align: inherit;">Peut-être que le problème est très facilement résolu.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Prise en charge de WordPress </font></font></h4><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jetpack</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : le plugin WordPress populaire, comprend un service d'image CDN appelé </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Photon</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avec prise en charge WebP. Il est inclus dans la version gratuite de Jetpack, qui est très pratique et utile. L'inconvénient est que Photon redimensionne automatiquement l'image, place la chaîne de requête dans l'URL et une requête DNS supplémentaire est effectuée pour chaque image. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cache Enabler and Optimizer</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : si vous utilisez WordPress, il existe au moins une option open source. Dans le menu du plugin </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cache Enabler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">il existe un indicateur pour la mise en cache et l'émission des images WebP, si le navigateur de l'utilisateur les prend en charge. </font><font style="vertical-align: inherit;">Cela simplifie le travail avec WebP. </font><font style="vertical-align: inherit;">Il y a aussi un inconvénient: Cache Enabler nécessite l'utilisation du programme sœur Optimizer, pour lequel ils facturent des frais annuels. </font><font style="vertical-align: inherit;">Ce n'est pas très courant avec les solutions open source. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pixel court</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : une autre option d'optimisation pour Cache Enabler, également payante. </font><font style="vertical-align: inherit;">En termes de fonctionnalités, Short Pixel est très similaire à l'optimiseur mentionné. </font><font style="vertical-align: inherit;">Permet d'optimiser gratuitement jusqu'à 100 photos par mois.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Compression GIF et pourquoi &lt;video&gt; est meilleur </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les GIF animés sont encore largement utilisés, malgré leur spécialisation étroite. Bien que tout, des réseaux sociaux aux sites de médias populaires, fasse un usage intensif des animations GIF, ce format </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n'a jamais</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> été destiné à la vidéo ou à l'animation. En fait, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la spécification GIF89a</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> indique explicitement que "GIF n'est pas destiné à servir de plate-forme d'animation". </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le nombre de couleurs, le nombre d'images et le rapport hauteur / largeur</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - tout cela affecte la taille du GIF animé. Le remplacement du format vidéo permet de réaliser des économies maximales. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/56b/bda/eb7/56bbdaeb754a883674dc575a36542d8e.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comparaison des tailles d'animation GIF et de vidéos de qualité équivalente La</font></font></font></i> <br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> production de la même vidéo au format MP4 réduit la taille du fichier de 80% ou plus.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Outre le fait que les fichiers GIF gaspillent du trafic, leur chargement prend plus de temps, contient moins de couleurs et n'est généralement pas très joli. Vous avez peut-être remarqué que les GIF animés Twitter fonctionnent mieux là-bas que sur d'autres sites. En effet, les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GIF animés sur Twitter ne sont pas vraiment des GIF</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Pour améliorer la qualité et réduire le trafic, Twitter les convertit automatiquement en vidéo. De même, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Imgur convertit GIF en MP4 lors du chargement</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi les GIF sont-ils plusieurs fois plus grands? </font><font style="vertical-align: inherit;">Parce qu'ils stockent chaque image sous forme d'image GIF sans perte - oui, sans perte. </font><font style="vertical-align: inherit;">La mauvaise qualité GIF n'est pas due à la compression, mais à une palette de 256 couleurs. </font><font style="vertical-align: inherit;">Le format n'analyse pas les images adjacentes pour la compression, contrairement aux codecs vidéo comme H.264. </font><font style="vertical-align: inherit;">La vidéo MP4 stocke chaque image clé au format JPEG avec perte, en supprimant certaines des données d'origine pour obtenir une meilleure compression.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si vous pouvez passer à la vidéo </font></font></h4><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilisez </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ffmpeg</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour convertir des GIF animés (ou fichiers source) au format MP4 (H.264). </font><font style="vertical-align: inherit;">Je dirige un tel one-liner de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rigor</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br> <code>ffmpeg -i animated.gif -movflags faststart -pix_fmt yuv420p -vf "scale=trunc(iw/2)2:trunc(ih/2)2" video.mp4</code> </li> <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> L'API ImageOptim prend également en charge la conversion de GIF animés en WebM / H.264 et supprime les GIF anti-aliasing, augmentant encore la compression </font></font></li></ul><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si vous devez utiliser des GIF animés </font></font></h4><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Des outils comme Gifsicle suppriment les métadonnées, les couleurs de palette inutilisées et minimisent les changements entre les cadres. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Considérez le codage GIF avec perte. </font><font style="vertical-align: inherit;">Giflossy - Fourche Gifsicle, qui prend en </font><font style="vertical-align: inherit;">charge le </font><font style="vertical-align: inherit;">drapeau </font></font><code>-lossy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et comprime l'animation par 60-65%. </font><font style="vertical-align: inherit;">Sur cette base, un bon outil </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gifify</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">créé</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Convertissez des GIF non animés au format PNG ou WebP.</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voir </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le livre GIF</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de Rigor </font><font style="vertical-align: inherit;">pour plus d'informations </font><font style="vertical-align: inherit;">.</font></font><br><br><a name="25"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Optimisation SVG </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Réduire les fichiers SVG signifie supprimer tous les fichiers inutiles. </font><font style="vertical-align: inherit;">En règle générale, SVG de l'éditeur contient de nombreuses informations redondantes (métadonnées, commentaires, couches masquées, etc.). </font><font style="vertical-align: inherit;">Souvent, il peut être retiré ou minimisé en toute sécurité sans affecter le résultat visuel. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/cb6/e7e/747/cb6e7e747134071886e39623f818a8b1.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le service </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SVGOMG</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> par Jake Archibald, vous pouvez choisir différentes façons aux résultats instantanés optimize</font></font></font></i> <br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Quelques règles générales d'optimisation SVG (SVGO) </font></font></h4><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Réduisez les fichiers SVG et compressez-les dans gzip, car les SVG ne sont que des ressources de texte XML telles que CSS, HTML et JavaScript. </font><font style="vertical-align: inherit;">Pour augmenter la productivité, ils doivent être minimisés et compressés.</font></font></li><li>      SVG,   <code>&lt;rect&gt;</code> , <code>&lt;circle&gt;</code> , <code>&lt;ellipse&gt;</code> , <code>&lt;line&gt;</code>  <code>&lt;polygon&gt;</code> .              . </li><li>    ,   .      ,  .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">simplify</a>  Illustrator        ,  . </li><li>  .   ,   . </li><li>   . </li><li>   Photoshop  Illustrator.       . </li><li>      ,     SVG. </li><li>     SVG,   - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SVGOMG</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SVGO</a> .   Sketch,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> Sketch  SVGO</a>     . </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/d9f/f9c/4d9/d9ff9c4d9f37684e7997d4a4fc3fcfee.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'efficacité de SVGO en haute précision (−29% de la taille du fichier d'origine) et en basse précision (−38%)</font></font></font></i> <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SVGO</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un outil d'optimisation SVG sur Node. </font><font style="vertical-align: inherit;">Il réduit la taille des fichiers en diminuant la précision des nombres dans les définitions. </font><font style="vertical-align: inherit;">Chaque chiffre après le point est un octet supplémentaire, donc la modification de la précision (nombre de chiffres) affecte considérablement la taille du fichier. </font><font style="vertical-align: inherit;">Mais soyez très prudent, car une précision réduite peut affecter visuellement les formes de l'image. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/928/573/607/9285736076b2d09166f936d1595ffe81.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il est important de noter: bien que SVGO ait réussi dans l'exemple précédent sans trop simplifier les chemins et les formulaires, cela se produit souvent différemment. </font><font style="vertical-align: inherit;">Découvrez comment une fusée éclairante sur une fusée est déformée avec une précision décroissante</font></font></font></i> <br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SVGO depuis la ligne de commande: </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SVGO peut être </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">installé en tant que CLI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> si vous préférez la ligne de commande: </font></font><br><br> <code>npm i -g svgo</code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Optimisation de fichier SVG: </font></font><br><br> <code>svgo input.svg -o output.svg</code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tous les paramètres possibles sont pris en charge, y compris les paramètres de précision à virgule flottante: </font></font><br><br> <code>svgo input.svg --precision=1 -o output.svg</code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voir le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fichier Lisez</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">moi</font></a><font style="vertical-align: inherit;"> pour une liste complète des paramètres pris en charge.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> N'oubliez pas de compresser SVG! </font></font></h4><br><img src="https://habrastorage.org/getpro/habr/post_images/ea1/243/9dc/ea12439dcd3c53d5e99931e019593306.jpg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assurez-vous également de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">compresser les fichiers SVG</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou de les émettre à l'aide du protocole Brotli. </font><font style="vertical-align: inherit;">Le format texte se compressera très bien (~ 50% de la source). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lorsque Google a publié le nouveau logo, nous avons annoncé que sa </font><font style="vertical-align: inherit;">version </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">minimale</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> n'était que de 305 octets. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/817/219/f48/817219f4818aab93aa611df402f5db60.jpg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il existe de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nombreuses astuces avancées</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour réduire encore plus le fichier (jusqu'à 146 octets)!</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sprites SVG </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SVG est </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">idéal</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour les icônes, offrant une visualisation de sprite sans les solutions de contournement douteuses nécessaires pour les polices. Il a un meilleur contrôle sur les styles CSS que dans les polices (propriétés des traits SVG), un meilleur contrôle du positionnement (pas besoin de se soucier des pseudo-éléments et </font></font><code>display</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) et SVG est beaucoup mieux </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pris en charge dans les navigateurs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Des outils comme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">svg-sprite</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IcoMoon</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> automatisent l'intégration des </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">SVG</font></a><font style="vertical-align: inherit;"> dans les sprites qui peuvent être utilisés dans </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSS Sprite</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Symbol Sprite</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stacked Sprite</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">Conseils pratiques</font></a><font style="vertical-align: inherit;"> pour apprendre</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de Una Kravets, comment utiliser gulp-svg-sprite dans un workflow. </font><font style="vertical-align: inherit;">Sarah Sudein sur son blog décrit la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">transition des polices d'icônes au SVG</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h4>  Matériel supplémentaire </h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les conseils de Sarah Sowaydan sur l'optimisation de l'émission de SVG</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le livre pratique de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Chris Coyier </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">sur SVG</font></a><font style="vertical-align: inherit;"> sont excellents. </font><font style="vertical-align: inherit;">J'ai trouvé des articles très utiles d'Andreas Larsen sur l'optimisation SVG ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">partie 1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">partie 2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Je peux également recommander l'article </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«Préparer et exporter des icônes SVG dans Sketch»</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><a name="26"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Évitez de serrer les graphiques avec une perte de qualité </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La compression d'une image est toujours recommandée à partir de la source. Un serrage répété est lourd de conséquences désagréables. Supposons que vous preniez un JPEG qui est déjà compressé avec une qualité 60. Si vous le recompressez avec perte, il sera pire. Chaque cycle de compression supplémentaire entraînera une perte de qualité supplémentaire - les informations sont supprimées et les artefacts sont accumulés. Même si vous pincez avec des paramètres de haute qualité. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour éviter ce piège, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">définissez immédiatement la qualité minimale acceptable</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et obtenez des économies maximales dès le début. Ensuite, vous n'allez pas recourir à la recompression, car toute compression de fichier avec perte sera mauvaise, même si elle réduira la taille du fichier. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/fa9/6dc/866/fa96dc866135f21f0a9bfe022ab8211f.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un exemple d'une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grande vidéo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un article de couverture</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">John Sneijers montre l'impact du serrage dans différents formats. Ce problème peut se produire si vous enregistrez des images (déjà compressées) à partir des réseaux sociaux et les téléchargez à nouveau (avec une nouvelle compression).</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MozJPEG</font><i><font color="gray"><font style="vertical-align: inherit;"> augmente</font></font></i><font style="vertical-align: inherit;"> sa perte de</font><i><font color="gray"><font style="vertical-align: inherit;"> qualité</font></font></i><font style="vertical-align: inherit;"> (peut-être par accident) et est plus résistant à une telle dégradation en raison de la quantification du treillis. Au lieu de compresser toutes les valeurs DCT telles quelles, il recherche des valeurs proches dans la plage + 1 / -1 pour les compresser en moins de bits. FLIF avec perte de qualité utilise un hack similaire à PNG avec perte de qualité, où le codec analyse les données et décide quoi jeter avant la (re) compression.</font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Stockez les fichiers source au format sans perte, tels que PNG ou TIFF, pour maintenir une qualité maximale</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ensuite, des outils d'assemblage ou des compresseurs prépareront une version compressée que vous donnerez aux utilisateurs avec une perte de qualité minimale.</font></font><br><br><a name="27"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Réduisez les coûts de décodage et de redimensionnement inutiles </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous avons tous donné aux utilisateurs de grandes images avec une résolution trop élevée. Vous devez payer pour cela. Le décodage et le redimensionnement sont des opérations gourmandes en ressources pour un navigateur sur un téléphone mobile standard. Si vous effectuez un rendu de grandes images, en les mettant à l'échelle à l'aide d'attributs CSS ou width / height, vous verrez comment cela affectera les performances. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/750/7de/e00/7507dee00658db123ac3a0519cbacd86.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lorsque le navigateur reçoit l'image, il doit la décoder du format source d'origine (par exemple, JPEG) en une image bitmap en mémoire. Souvent, une image nécessite un redimensionnement (par exemple, la largeur est définie en pourcentage). Le décodage et le redimensionnement des images sont des opérations gourmandes en ressources qui ralentissent le rendu</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idéalement, vous devez donner des images que le navigateur affiche sans redimensionnement. Donnez donc les images de taille minimale pour les écrans et résolutions correspondants, en utilisant </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>srcset/sizes</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- dans un proche avenir, nous envisagerons </font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attributs Skipping </font></font><code>width</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code>height</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">peuvent également avoir une </font><font style="vertical-align: inherit;">incidence défavorable sur le </font><font style="vertical-align: inherit;">rendement. Sans eux, le navigateur attribue la plus petite zone d'espace réservé à l'image jusqu'à ce qu'il reçoive suffisamment d'octets pour déterminer la taille correcte. À ce stade, le balisage du document doit être mis à jour à l'aide de l'opération de refusion gourmande en ressources. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/ebb/33b/9ab/ebb33b9abfffafce7253dffa0c637175.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les navigateurs doivent effectuer plusieurs étapes pour dessiner une image à l'écran. Après avoir reçu l'image, elle doit être décodée et souvent redimensionnée. Ces événements peuvent être suivis sur la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chronologie.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chrome DevTools</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Les grandes images prennent également de la mémoire: environ 4 octets par pixel après décodage. Si vous n'êtes pas trop prudent, vous pouvez littéralement bloquer le navigateur; sur les appareils à petit budget, il n'est pas si difficile de changer la situation. Ainsi, gardez une trace des coûts de décodage, de redimensionnement et de consommation de mémoire.</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/97b/2cb/a04/97b2cba04d8de16112c91508bfe387f1.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Le décodage d'images peut être extrêmement gourmand en ressources sur les téléphones portables de milieu de gamme et bas de gamme. Dans certains cas, il est 5 fois plus lent que sur le bureau.</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lors du développement d'une nouvelle</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> version mobile,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Twitter a considérablement augmenté la vitesse de décodage des images en définissant les tailles correctes. Pour de nombreuses images, le temps de décodage est passé de ~ 400 ms à ~ 19 ms!</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/695/cfe/d7c/695cfed7c10f6fde08830c7783c874a5.jpg"><br> <i><font color="gray"> Timeline/Performance  Chrome DevTools      Twitter Lite    </font></i> <br><br><a name="28"></a><h2>   HiDPI   <code>srcset</code> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les utilisateurs peuvent accéder au site via divers appareils mobiles et de bureau avec des écrans haute résolution. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Device Pixel Ratio</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (DPR) (également appelé «CSS Pixel Ratio») détermine comment CSS doit interpréter la résolution d'écran. La norme DPR a été créée par les fabricants de téléphones pour augmenter la résolution et la netteté des écrans mobiles sans réduire les éléments. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour une qualité maximale, vous devez donner des images avec la résolution la plus appropriée. Les images haute définition (avec DPR 2 ×, 3 ×) sont données aux appareils avec des écrans haute résolution, et les images ordinaires sont données aux écrans standard, car les images avec DPR 2 × et 3 × sont beaucoup plus lourdes. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/d00/ca2/7b1/d00ca27b1325ed096734db4e125cdf31.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ratio de pixels de l'appareil: de nombreux sites suivent le DPR des appareils populaires via </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">material.io</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mydevice.io</font></font></a></font></i> <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> srcset</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> permet au navigateur de sélectionner l'image optimale pour chaque appareil. </font><font style="vertical-align: inherit;">Par exemple, prenez une photo 2 × pour un écran mobile avec un DPR 2 ×. </font><font style="vertical-align: inherit;">Les navigateurs sans prise en charge</font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">peuvent prendre la valeur par défaut</font></font><code>src</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">spécifiée dans la balise</font></font><code>&lt;img&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"paul-irish-320w.jpg, paul-irish-640w.jpg 2x, paul-irish-960w.jpg 3x"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"paul-irish-960w.jpg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Paul Irish cameo"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les CDN d'images comme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloudinary</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Imgix</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> prennent en charge DPR pour fournir des images de résolution optimale à partir d'une seule source.</font></font><br><br><blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour en </font><font style="vertical-align: inherit;">savoir plus sur la relation de pixels et l'appareil peut être des </font><font style="vertical-align: inherit;">images sensibles dans ce </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cours gratuit Udacity</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">guider les </font><font style="vertical-align: inherit;">images</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur base du </font><font style="vertical-align: inherit;">Web.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je vous rappelle que les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conseils client</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sont également une alternative appropriée à la spécification de tous les DPR et formats possibles dans le balisage réactif. </font><font style="vertical-align: inherit;">Au lieu de cela, les informations pertinentes sont ajoutées à la demande HTTP afin que le serveur Web sélectionne l'option la plus appropriée pour un écran particulier.</font></font><br><br><a name="29"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Transformation artistique </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bien qu'il soit important de choisir la bonne résolution, certains sites pensent toujours à la beauté. </font><font style="vertical-align: inherit;">Si l'utilisateur a un petit écran, vous pouvez recadrer ou zoomer - et afficher l'objet différemment, en utilisant au mieux l'espace disponible. </font><font style="vertical-align: inherit;">Bien que la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">transformation artistique</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (direction artistique) au - </font><font style="vertical-align: inherit;">delà de </font><font style="vertical-align: inherit;">la portée de cet article, certains services comme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloudinary</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fournissent des </font><font style="vertical-align: inherit;">interfaces API pour automatiser ces tâches. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/812/9d1/081/8129d10818e6ffb6cae71fca47a071fb.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eric Portis a montré un excellent </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exemple de la</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> façon d'utiliser </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">de</font></a><font style="vertical-align: inherit;"> manière créative des images réactives. </font><font style="vertical-align: inherit;">Dans cet exemple, les caractéristiques de l'objet principal dans l'illustration sont modifiées pour utiliser au mieux l'espace disponible.</font></font></font></i> <br><br><a name="30"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Gestion des couleurs </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La couleur peut être vue sous au moins trois points de vue: la biologie, la physique et l'impression. </font><font style="vertical-align: inherit;">En biologie, la couleur est un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">phénomène de perception</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Les objets réfléchissent la lumière dans diverses combinaisons de longueurs d'onde. </font><font style="vertical-align: inherit;">Les récepteurs de lumière dans les yeux traduisent ces ondes en un sentiment de couleur. </font><font style="vertical-align: inherit;">En physique, les fréquences des vagues et l'énergie (luminosité) sont importantes. </font><font style="vertical-align: inherit;">L'impression concerne davantage la gamme de couleurs, les couleurs et les modèles artistiques. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idéalement, tous les écrans et navigateurs Web du monde devraient afficher exactement la même couleur. </font><font style="vertical-align: inherit;">Ce n'est malheureusement pas le cas. </font><font style="vertical-align: inherit;">La gestion des couleurs offre un compromis dans l'affichage des couleurs à l'aide de modèles de couleurs, d'espaces et de profils.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Modèles de couleurs </font></font></h3><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les modèles de couleurs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sont un système pour créer le spectre complet d'un plus petit ensemble de couleurs primaires. Il existe différents types d'espaces colorimétriques avec différentes options de gestion des couleurs. Dans certains espaces, il y a moins de paramètres de contrôle que dans d'autres - par exemple, pour toutes les nuances de gris, un paramètre de luminosité entre le noir et le blanc suffit. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deux types courants de modèles de couleurs sont additifs et soustractifs. Les modèles de couleur additifs de type RVB affichent la couleur avec luminescence et les couleurs de type CMJN soustractives avec réflexion (soustraction). </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/831/b9c/52c/831b9c52cc2059f46e5c63ba3c6d5624.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En RVB, la lumière rouge, verte et bleue est ajoutée dans diverses combinaisons pour produire une large gamme de couleurs. CMJN (cyan, magenta, jaune et noir) fonctionne dans différentes couleurs d'encre, supprimant une partie du spectre blanc du papier</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Article</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«Le concept de modèles de couleurs et de systèmes de couleurs»</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> décrit bien d'autres modèles et modes de couleurs, tels que HSL, HSV et LAB.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Espaces colorimétriques </font></font></h1><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les espaces</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> colorimétriques sont une gamme spécifique de couleurs qui peuvent être affichées pour une image donnée. Par exemple, dans l'image jusqu'à 16,7 millions de couleurs, et divers espaces colorimétriques vous permettent d'affiner ou d'élargir cette plage. Certains développeurs estiment que les modèles de couleurs et les espaces colorimétriques sont identiques. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sRGB est</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> conçu sur la base du RVB comme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">standard</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour Internet. Il s'agit d'un petit espace colorimétrique, qui est généralement considéré comme le dénominateur le moins commun et l'option la plus sûre pour la gestion des couleurs dans les navigateurs. Autres espaces colorimétriques (tels </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qu'Adobe RGB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ProPhoto RGB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(utilisé dans Photoshop et Lightroom) contiennent des couleurs plus diverses, mais comme le sRGB est courant dans les navigateurs, les jeux et les moniteurs, ils l'utilisent généralement. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/6dd/0bf/4f0/6dd0bf4f0a627d651a95f94ba30a4d26.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visualisation de la gamme - la gamme de couleurs dans l'espace colorimétrique.</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Trois canaux sont utilisés </font><i><font color="gray"><font style="vertical-align: inherit;">dans les espaces colorimétriques</font></font></i><font style="vertical-align: inherit;"> (rouge, vert et bleu), chacun avec 255 couleurs en mode 8 bits, ce qui donne 16,7 millions de couleurs. Les images 16 bits peuvent afficher des milliers de milliards de couleurs. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/a55/90d/d1b/a5590dd1bf6c059ec89e984d0108f878.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comparaison de sRGB, Adobe RGB et ProPhoto RGB sur une image avec </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yardstick</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Il est extrêmement difficile d'illustrer ce concept si votre écran n'affiche que des couleurs sRGB. Lorsque vous comparez une photo ordinaire en sRGB et une large gamme, tout sera le même, à l'exception des couleurs «riches» les plus saturées</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les espaces colorimétriques se distinguent par leur gamme (la gamme de couleurs qu'ils peuvent reproduire avec des nuances), leur spectre et leur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">courbe gamma</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . sRGB est environ 20% plus petit qu'Adobe RGB, ProPhoto RGB est </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">environ 50% plus large</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> qu'Adobe RGB. Les photos ci-dessus sont tirées du </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tracé de détourage</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Large</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gamme est un terme qui signifie des espaces colorimétriques plus larges que sRGB. Ces types d'écrans deviennent de plus en plus courants. Cependant, de nombreux écrans numériques ne sont tout simplement pas capables d'afficher des profils de couleurs nettement meilleurs que sRGB. Lors de l'enregistrement sur le Web dans Photoshop, utilisez l'option de conversion en sRGB, sauf si vous comptez sur des écrans avec une large gamme de couleurs.</font></font><br><br><blockquote> <b>:</b>        sRGB     .  ,           .        (, ProPhoto RGB),    sRGB     . </blockquote><br><h4>   ,       -? </h4><br>  Oui<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si l'image contient une couleur très saturée / riche / lumineuse - et que vous souhaitez l'afficher sur des écrans compatibles. </font><font style="vertical-align: inherit;">Cependant, dans de vraies photographies, cela se produit rarement. </font><font style="vertical-align: inherit;">Souvent, vous pouvez facilement modifier les paramètres afin que la couleur soit lumineuse sans dépasser la gamme sRGB. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La raison en est que la perception humaine de la couleur n'est pas absolue. </font><font style="vertical-align: inherit;">La perception fonctionne par rapport à l'environnement - et il est facile de tromper. </font><font style="vertical-align: inherit;">Mais si l'image montre une trace d'un marqueur fluorescent, alors bien sûr, il est plus facile de le montrer dans une large gamme.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Correction et compression gamma </font></font></h3><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La correction gamma</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ou simplement gamma) contrôle la luminosité globale de l'image. La modification du gamma peut également modifier le rapport du rouge au vert. Les images sans correction gamma sont souvent pâles ou sombres. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En vidéo et infographie, le gamma est utilisé pour la compression, similaire à la compression de données. Cela nous permet de compresser les niveaux de luminosité utiles en moins de bits (8, pas 12 ou 16). La perception humaine de la luminosité n'est pas linéairement proportionnelle à la quantité physique de lumière. Représenter les fleurs dans leur véritable forme physique serait un gaspillage lors du codage pour l'œil humain. La compression gamma est utilisée pour coder la luminosité à une échelle plus proche de la perception humaine.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avec la compression gamma, une échelle de luminosité utile tient dans 8 bits de précision (0–255 dans la plupart des couleurs RVB), car les unités de luminance sont codées de manière non linéaire. Imaginez que vous êtes dans une pièce sombre avec une bougie. Allumez le second - et notez une augmentation significative de la luminosité. Ajoutez une troisième bougie et la pièce deviendra encore plus lumineuse. Imaginez-vous maintenant dans une pièce avec une centaine de bougies. Allumez les 101e et 102e bougies - et vous ne remarquerez aucun changement. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans les deux cas, la même quantité de lumière a été physiquement ajoutée. Mais comme les yeux sont moins sensibles à la lumière vive, la compression gamma «comprime» les valeurs lumineuses, donc moins de précision est codée en unités physiques, mais l'échelle elle-même est ajustée pour les personnes - et d'un point de vue humain, toutes les valeurs sont également exactes.</font></font><br><br><blockquote> <b>:</b> -      -  «»,  -     . </blockquote><br><h3>   </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un profil colorimétrique est une information qui décrit l'espace colorimétrique d'un périphérique. Il est utilisé pour convertir entre différents espaces colorimétriques. La tâche des profils est de rendre les images aussi similaires que possible sur tous les types d'écrans et de supports. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les images peuvent avoir un profil de couleur intégré selon la norme </font><font style="vertical-align: inherit;">ICC ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">International Color Consortium</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) pour localiser les couleurs. Les profils sont pris en charge dans une variété de formats, y compris JPEG, PNG, SVG et WebP, et la plupart des principaux navigateurs prennent également en charge les profils ICC intégrés. Si l'image s'ouvre dans le programme et que le profil du moniteur est connu, les couleurs sont ajustées en conséquence.</font></font><br><br><blockquote> <b>:</b>      sRGB,           .         .     . </blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les profils de couleurs intégrés augmentent également considérablement la taille des images (parfois de 100 Ko ou plus), alors soyez prudent. </font><font style="vertical-align: inherit;">Des outils comme ImageOptim suppriment automatiquement tous les profils de couleurs qu'ils trouvent. </font><font style="vertical-align: inherit;">Si le profil ICC est supprimé, le navigateur commencera à afficher l'image dans l'espace colorimétrique de votre moniteur, ce qui peut entraîner un changement de saturation et de contraste. </font><font style="vertical-align: inherit;">Il est donc logique de rechercher un compromis pour chaque cas spécifique. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le site </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">neuf degrés au- </font><font style="vertical-align: inherit;">dessous</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> une excellente sélection de ressources pour la </font><font style="vertical-align: inherit;">gestion des profils de couleur ICC, si vous avez besoin de </font><font style="vertical-align: inherit;">plus amples informations.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Profils de couleurs et navigateurs </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans les versions précédentes de Chrome, la gestion des couleurs n'était pas beaucoup prise en charge, mais la situation a été corrigée en 2017 en introduisant la fonction de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rendu correct des couleurs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Si le profil d'affichage est différent de sRGB (les derniers MacBook Pros), il convertira les couleurs de sRGB en profil d'affichage. </font><font style="vertical-align: inherit;">Cela signifie que les couleurs deviendront plus similaires dans différents systèmes et navigateurs. </font><font style="vertical-align: inherit;">Les navigateurs Safari, Edge et Firefox prennent également en compte les profils ICC, de sorte que les images avec différents profils s'affichent désormais correctement, que vous ayez ou non un large éventail de couleurs.</font></font><br><br><blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque: Un</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> excellent guide des différentes façons d'utiliser la couleur sur le Web est </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le Guide de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sarah Drazner </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">sur Color</font></a><font style="vertical-align: inherit;"> Nerd </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">sur Internet</font></a><font style="vertical-align: inherit;"> .</font></font></blockquote><br><a name="31"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sprites </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sprites</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ou CSS sprite) a une longue histoire, ils sont pris en </font><font style="vertical-align: inherit;">charge par tous les </font><font style="vertical-align: inherit;">navigateurs et ont été un moyen populaire de réduire le nombre d'images téléchargées en les combinant en une seule image, qui est coupée en morceaux. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/dc1/d7c/68f/dc1d7c68f3fdeef1c56234d17122d7bc.jpg"><br> <font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les sprites d'image sont encore largement utilisés sur les grands sites de production, y compris la page d'accueil Google.</font></font></font> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Selon la norme HTTP / 1.x, certains sprites utilisés pour réduire le nombre de requêtes HTTP. Cela présentait un certain nombre d'avantages, mais cela nécessitait de la précision en raison d'un problème d'invalidation du cache - les modifications apportées à n'importe quelle petite partie du sprite invalideraient l'image entière dans le cache. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spriting est désormais en contradiction avec </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://hpbn.co/"><font style="vertical-align: inherit;">les</font></a><font style="vertical-align: inherit;"> directives </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://hpbn.co/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTP / 2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Puisqu'il est devenu possible d'envoyer de nombreuses demandes en une seule connexion, il est préférable </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://deliciousbrains.com/performance-best-practices-"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de télécharger des photos individuellement</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Évaluez les options pour votre situation.</font></font><br><br><a name="32"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Chargement paresseux d'images non critiques </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le chargement paresseux (différé) est une pratique qui augmente la productivité lorsque le téléchargement d'images vers le navigateur est retardé jusqu'à ce que l'utilisateur en ait vraiment besoin. </font><font style="vertical-align: inherit;">Par exemple, les images sont chargées de manière asynchrone lors du défilement de la page. </font><font style="vertical-align: inherit;">Cela peut économiser du trafic en plus de la compression d'image. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/d04/326/c74/d04326c7499058e1cff821d707cb53dd.jpg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les images qui frappent l'écran sont téléchargées immédiatement. </font><font style="vertical-align: inherit;">Mais le reste en ce moment n'est pas encore visible. </font><font style="vertical-align: inherit;">Ils ne doivent pas être téléchargés immédiatement, mais plus tard - c'est un chargement paresseux. </font><font style="vertical-align: inherit;">Cela ne se produit que si et quand l'utilisateur fait défiler la page. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le chargement différé n'est pas encore pris en charge par les navigateurs eux-mêmes (bien que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cela ait été discuté</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans le passé </font><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">Au lieu de cela, JavaScript est utilisé.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pourquoi le chargement différé est-il utile? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Elle présente de nombreux avantages: </font></font><br><br><ul><li> <b> </b> .     .   ,       . </li><li> <b>  </b> .     —   . </li><li> <b>  </b> .                . ,       ,       . </li></ul><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cependant, comme pour d'autres outils, une grande responsabilité s'accompagne d'une grande force. </font></font></b> <br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Évitez le chargement retardé des images dans la portée.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Utilisez-le pour de longues listes (par exemple, des produits ou des avatars personnalisés). Ne l'utilisez pas pour l'image principale de la page. Un chargement paresseux dans la portée peut ralentir le chargement à la fois techniquement et pour la perception humaine. Il tue la précharge et le chargement progressif, et JavaScript génère un travail supplémentaire pour le navigateur. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Soyez très prudent avec le chargement d'images paresseuses lors du défilement.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous attendez directement l'événement de défilement, l'utilisateur peut voir des espaces réservés au lieu d'images ou obtenir des images avant de les faire défiler. </font><font style="vertical-align: inherit;">L'une des recommandations consiste à commencer à charger paresseusement les images suivantes immédiatement après l'affichage de la précédente à l'écran, quelle que soit l'interaction de l'utilisateur.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Qui utilise un chargement différé? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le chargement paresseux est utilisé par la plupart des grands sites avec un grand nombre d'images. Par exemple, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Medium</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pinterest</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/fd8/c9d/134/fd8c9d134f3bf1b461cd66b8edddc29d.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemple d'aperçu avec flou gaussien d'illustrations sur moyen</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sur certains sites (par exemple, moyen), une petite image floue (environ 100 octets) s'affiche pour l'aperçu qui, après un téléchargement retardé, se transforme en une illustration de qualité normale. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jose M. Perez a expliqué comment implémenter l'effet Medium à l'aide de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filtres CSS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Il a expérimenté </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">différents formats graphiques</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Facebook a également décrit sa célèbre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">approche</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avec des espaces réservés de 200 octets pour les photos d'en-tête. Si vous utilisez Webpack, alors</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le chargeur LQIP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aidera à automatiser certaines de ces procédures. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour voir le chargement paresseux, ouvrez simplement votre catalogue préféré de photos de haute qualité, puis faites défiler la page. Vous verrez presque toujours que le site ne télécharge que quelques images en pleine résolution, et les autres sont des espaces réservés. Lorsque vous faites défiler, les espaces réservés sont remplacés par des images en pleine résolution. C'est un chargement paresseux. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Récemment, une nouvelle technique de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vecteurs</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> plutôt que des espaces réservés raster </font><font style="vertical-align: inherit;">a gagné en popularité </font><font style="vertical-align: inherit;">. Il a été proposé par Tobias Baldauf dans son outil </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQIP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Là, l'utilitaire </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Primitive</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> génère des aperçus SVG à partir de plusieurs formes simples, coïncidant approximativement avec les principales caractéristiques de l'image. Ensuite, SVG est optimisé en utilisant</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SVGO</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - et un filtre de flou gaussien est appliqué. </font><font style="vertical-align: inherit;">Le résultat est un espace réservé SVG de seulement 800-1000 octets, qui semble net sur n'importe quel écran et donne une vue significative de ce qui est dans l'image réelle. </font><font style="vertical-align: inherit;">Évidemment, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vous pouvez combiner le</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> chargement paresseux et la prévisualisation d'images de faible qualité.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Comment appliquer un chargement différé? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il existe un certain nombre de méthodes et de plugins pour le chargement différé. </font><font style="vertical-align: inherit;">Je recommande </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lazysizes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Alexander Farkas en raison de ses performances décentes, de ses fonctionnalités, de son intégration supplémentaire avec </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intersection Observer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et de la prise en charge des plugins.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Que peut faire Lazysizes? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lazysizes est une bibliothèque JavaScript, elle ne nécessite pas de personnalisation. </font><font style="vertical-align: inherit;">Il suffit de télécharger le fichier js minifié et de l'inclure dans la page Web. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voici un exemple de code d'un fichier README: </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ajoutez la classe 'lazyload' aux images / cadres en combinaison avec l'attribut data-src et / ou data-srcset. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De plus, vous pouvez ajouter l'attribut src avec une image de faible qualité:</font></font><br><br><pre> <code class="html hljs xml"><span class="hljs-comment"><span class="hljs-comment">&lt;!-- non-responsive: --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image.jpg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"lazyload"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- responsive example with automatic sizes calculation: --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-sizes</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"auto"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image2.jpg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image1.jpg 300w, image2.jpg 600w, image3.jpg 900w"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"lazyload"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- iframe example --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">iframe</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">frameborder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"lazyload"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">allowfullscreen</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"//www.youtube.com/embed/ZfV-aYdU4uE"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">iframe</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour la version Web de ce livre, j'ai associé Lazysizes à Cloudinary (bien que vous puissiez utiliser n'importe quelle alternative). </font><font style="vertical-align: inherit;">Cela vous permet d'expérimenter librement et avec un minimum d'effort avec différentes échelles, qualité, formats et indépendamment du fait que le téléchargement progressif soit nécessaire:</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/377/f20/d09/377f20d09d2e11b1037a62777ad25e3e.jpg"><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Caractéristiques Lazysizes: </font></font></h4><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Détecte automatiquement les changements de visibilité des éléments actuels et futurs du chargement paresseux </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Prise en charge des images réactives standard (image et srcset) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Calcul automatique des tailles et des alias pour les requêtes multimédias </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Fonctionne avec des centaines d'images / cadres CSS, dans des pages riches en scripts et des applications Web </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Extensibilité: prend en charge les plugins </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Solution simple mais mature </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Amélioration du référencement: ne masque pas les images / éléments des robots </font></font></li></ul><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Autres méthodes de chargement paresseux </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lazysizes n'est pas la seule option. </font><font style="vertical-align: inherit;">Il existe d'autres bibliothèques:</font></font><br><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lazy Load XT</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLazy.js</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ou [Be] Lazy)</font></font></li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dévoiler</font></font></a> </li><li> <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yall.js (encore un autre chargeur Lazy)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d'environ 1 kilo - </font><font style="vertical-align: inherit;">octets, il utilise Observer intersection lorsque cela est </font><font style="vertical-align: inherit;">possible.</font></font></li></ul><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Quels sont les inconvénients du chargement paresseux? </font></font></h4><br><ul><li>    ,        JavaScript   ,    JavaScript.        &lt;noscript&gt;. </li><li>         .      (redraw),             .     — Intersection Observer,     lazysizes. </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le chargement différé est un moyen courant d'économiser du trafic, de réduire les coûts et d'améliorer l'expérience utilisateur. </font><font style="vertical-align: inherit;">Évaluez son utilité dans votre cas. </font><font style="vertical-align: inherit;">Pour plus d'informations, consultez les articles </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«Chargement d'images paresseux»</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«Implémentation d'un chargement progressif dans Medium»</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><a name="33"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Comment éviter l'affichage: aucun piège </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les anciennes solutions d'images réactives traitaient par erreur les demandes d'images lors de la définition de la propriété CSS </font></font><code>display</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Cela pourrait entraîner une augmentation significative du nombre de demandes, ce qui est une autre raison pour laquelle il est préférable d'utiliser &lt;picture&gt; et &lt;img srcset&gt;. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avez-vous déjà écrit une requête média qui, sous certaines conditions, cache une image </font></font><code>display:none</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">?</font></font><br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img.jpg"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> @</span><span class="hljs-keyword"><span class="css"><span class="hljs-keyword">media</span></span></span><span class="css"> (max-width: </span><span class="hljs-number"><span class="css"><span class="hljs-number">640px</span></span></span><span class="css">) { </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">img</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">display</span></span></span><span class="css">: none; } } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ou cache des images avec une classe </font></font><code>display:none</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">?</font></font><br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.hidden</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">display</span></span></span><span class="css">: none; } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img.jpg"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">“img-hidden.jpg</span></span></span><span class="hljs-tag">" </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hidden"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une vérification rapide dans le panneau réseau Chrome DevTools montre que ces images «cachées» sont toujours en cours de chargement. </font><font style="vertical-align: inherit;">Il s'agit en fait du comportement correct du navigateur selon la spécification des ressources intégrées.</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/a67/471/222/a67471222582a069b511993bab0c0b51.jpg"><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> L'affichage: aucun ne permet d'éviter la demande src? </font></font></h4><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display:none"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img.jpg"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Non.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'image spécifiée sera toujours demandée. </font><font style="vertical-align: inherit;">Ici, la bibliothèque ne peut pas compter sur l'affichage: aucun, car la demande est envoyée avant que JavaScript ne modifie src.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Est-ce que display: none permet d'éviter la requête background: url ()? </font></font></h4><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display:none"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"background: url(img.jpg)"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Réponse affirmative. </font><font style="vertical-align: inherit;">Le fond CSS n'est pas extrait lors de l'analyse d'un élément. </font><font style="vertical-align: inherit;">Calcul des styles CSS pour les </font><font style="vertical-align: inherit;">enfants avec </font></font><code>display:none</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">moins utiles, car ils ne touchent pas le rendu du document. </font><font style="vertical-align: inherit;">Les images d'arrière-plan des enfants ne sont ni calculées ni chargées. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jake Archibald a une excellente </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quête de quiz</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> piège </font></font><code>display:none</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">En cas de doute sur la façon dont un navigateur particulier gère les demandes d'images, ouvrez DevTools et voyez par vous-même. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encore une fois, si possible, utilisez &lt;picture&gt; et &lt;img srcset&gt; au lieu de vous fier à &lt;display: none&gt;.</font></font><br><br><a name="34"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Est-il judicieux d'utiliser CDN pour le traitement d'image? </font></font></h1><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le temps passé à lire des articles pour configurer votre pipeline de traitement d'image, puis le raffiner est souvent beaucoup plus cher que de payer pour ce service. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloudinary</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> propose un service gratuit, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Imgix</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> offre un essai gratuit, il existe une alternative gratuite à </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thumbor</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , il existe donc de nombreuses options. </font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour un chargement de page plus rapide, vous devez optimiser le chargement des images, y compris la sortie d'images réactives avec compression côté serveur, la sélection automatique du format optimal et le redimensionnement. </font><font style="vertical-align: inherit;">Il est important d'envoyer l'image de la bonne taille au bon appareil dans la bonne résolution - et le plus rapidement possible. </font><font style="vertical-align: inherit;">Ce n'est pas aussi simple qu'il y paraît.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Votre serveur ou CDN? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La manipulation d'images est un sujet spécifique. </font><font style="vertical-align: inherit;">Tout change constamment ici, alors commençons par une citation d'un spécialiste expérimenté, puis continuons. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«Si votre produit n'est pas en soi associé au traitement d'image, ne le faites pas vous-même. </font><font style="vertical-align: inherit;">Des services comme Cloudinary [ou Imgix, env. </font><font style="vertical-align: inherit;">ed.] s'en sortira beaucoup mieux et plus efficacement. </font><font style="vertical-align: inherit;">Et si vous êtes préoccupé par le prix, réfléchissez au coût du développement et de la maintenance, ainsi que de l'hébergement, du stockage et de la livraison »- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chris Gmyr</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> En ce moment, nous avons tendance à convenir qu'il est préférable d'utiliser CDN pour le traitement d'image. </font><font style="vertical-align: inherit;">Considérez deux de ces services - comment ils correspondent à la liste des tâches mentionnées.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cloudinary et Imgix </font></font></h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloudinary</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Imgix</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sont des CDN de traitement d'image bien connus. Ils sont utilisés par des centaines de milliers de développeurs et d'entreprises à travers le monde, notamment Netflix et Red Bull.</font></font><br><br><h4>  Principal </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le premier énorme avantage de CDN par rapport à sa propre solution est qu'il utilise un système de réseau mondial distribué pour garder vos images plus proches de vos utilisateurs. Et avec CDN, il est beaucoup plus facile pour vous de garantir la pertinence du service avec les futurs changements technologiques, car tout le monde ne sera pas en mesure de surveiller indépendamment les tendances, d'apporter des modifications - cela nécessite une maintenance, un suivi du support pour les nouveaux formats par les navigateurs et une immersion dans la vie de la communauté de compression d'image. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deuxièmement: chaque service a un plan tarifaire à plusieurs niveaux: Cloudinary a un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tarif gratuit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Imgix a un plan de départ peu coûteux. Imgix offre un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">essai</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gratuit </font><font style="vertical-align: inherit;">, c'est presque la même chose qu'un tarif gratuit.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Troisièmement: les deux services ont une API. </font><font style="vertical-align: inherit;">Les développeurs peuvent se connecter par programme à un CDN et automatiser le processus. </font><font style="vertical-align: inherit;">Les bibliothèques clientes, les plugins pour les frameworks et la documentation API sont disponibles, bien que certaines options ne soient disponibles qu'à des tarifs élevés.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Passons au traitement d'image. </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Limitez la discussion aux images statiques. </font><font style="vertical-align: inherit;">Cloudinary et Imgix offrent une large gamme de techniques de traitement d'image. </font><font style="vertical-align: inherit;">Dans les tarifs standard et gratuits, les deux prennent en charge les fonctions de base: compression, redimensionnement, recadrage, génération de petites copies. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/e27/b9f/e79/e27b9fe792a444abd15ed71fa10387ae.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Médiathèque Cloudinary: par défaut, Cloudinary produit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des fichiers JPEG réguliers plutôt que progressifs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Pour activer cette option, placez l'icône correspondante dans les "Options avancées" ou utilisez l'indicateur fl_progressive</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cloudinary nomme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sept grandes catégories de conversion</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , soit un total de 48 sous-catégories. </font><font style="vertical-align: inherit;">Imgix a plus de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">100 opérations de traitement d'image</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Que se passe-t-il par défaut? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cloudinary effectue les optimisations suivantes par défaut: </font></font><br><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encodage JPEG utilisant MozJPEG</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (sélectionné à la place de Guetzli par défaut).</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Métadonnées claires (l'image d'origine reste intacte). </font><font style="vertical-align: inherit;">Pour modifier ce comportement et rendre des images avec des métadonnées, ajoutez l'indicateur keep_iptc.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Possibilité de générer WebP, GIF, JPEG et JPEG-XR avec une qualité automatique. </font><font style="vertical-align: inherit;">Pour modifier les paramètres par défaut, définissez le paramètre de qualité manuellement.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Optimisation de la taille des fichiers avec un impact minimal sur la qualité lors de la génération de PNG, JPEG ou GIF. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Imgix ne lance pas les optimisations telles que Cloudinary par défaut, mais vous permet de définir la qualité par défaut. </font><font style="vertical-align: inherit;">Dans Imgix, les paramètres automatiques permettent d'automatiser le niveau de base d'optimisation dans le catalogue d'images. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il est actuellement utilisé </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quatre méthodes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La compression </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Amélioration visuelle </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Conversion de format de fichier </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Élimination des yeux rouges </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Imgix prend en charge les formats d'image suivants: JPEG, JPEG2000, PNG, GIF, GIF animé, TIFF, BMP, ICNS, ICO, PDF, PCT, PSD, AI. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloudinary prend en charge les formats suivants: JPEG, JPEG 2000, JPEG XR, PNG, GIF, GIF animé, WebP, WebP animé, BMP, TIFF, ICO, PDF, EPS, PSD, SVG, AI, DjVu, FLIF, TARGA.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Et la performance? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les performances CDN dépendent principalement de la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">latence</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et de la vitesse. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le délai est toujours un peu plus long pour les images entièrement non mises en cache. </font><font style="vertical-align: inherit;">Mais dès que l'image va dans le cache et diverge à travers les serveurs du réseau, le CDN global trouve la route la plus proche de l'utilisateur. </font><font style="vertical-align: inherit;">Associé à des économies de taille de fichier, cela élimine presque toujours les problèmes de latence par rapport aux images non optimisées ou aux serveurs uniques qui tentent de servir la planète entière. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les deux CDN ont une large couverture et des serveurs rapides, ce qui réduit la latence et augmente la vitesse de téléchargement. </font><font style="vertical-align: inherit;">La vitesse affecte le temps de chargement des pages, et c'est l'une des mesures les plus importantes pour les utilisateurs et la conversion.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Quel est le meilleur? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloudinary compte environ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">160 000 clients</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dont Netflix, eBay et Dropbox. Imgix ne rapporte pas le nombre d'utilisateurs, mais il est inférieur à Cloudinary. Cependant, la base Imgix comprend des poids lourds tels que Kickstarter, Exposure, unsplash et Eventbrite. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En traitement d'images, de nombreux paramètres ne peuvent pas être évalués objectivement, ce qui rend difficile la comparaison des performances des deux services. Tout dépend de la façon dont vous souhaitez traiter l'image (cela prendra un temps différent), de la taille et de la résolution dont vous avez besoin à la fin. En fin de compte, le facteur le plus important pour vous peut être le coût.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les CDN coûtent de l'argent. </font><font style="vertical-align: inherit;">Un site lourd avec beaucoup de trafic peut payer des centaines de dollars par mois sur un CDN. </font><font style="vertical-align: inherit;">Un certain niveau de connaissances et de compétences en programmation est nécessaire pour tirer le meilleur parti de ces services. </font><font style="vertical-align: inherit;">Mais si vous ne faites rien d'inhabituel, il n'y aura pas de problèmes particuliers.</font></font><br><br><h4>  Conclusion </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si vous téléchargez actuellement des images depuis votre propre serveur ou prévoyez de le faire, vous voudrez peut-être penser à un CDN. </font></font><br><br><a name="35"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mise en cache d'image </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les ressources peuvent définir des règles de mise en cache via </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des en-têtes de cache HTTP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . En particulier, elle </font></font><code>Cache-Control</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">définit qui et combien de </font><font style="vertical-align: inherit;">temps devrait mettre en </font><font style="vertical-align: inherit;">cache les </font><font style="vertical-align: inherit;">réponses. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La plupart des images sont des ressources statiques qui </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ne changeront pas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> à l'avenir. La meilleure stratégie pour eux est la mise en cache agressive. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lors de la configuration des en-têtes de mise en cache HTTP, configurez Cache-Control pour une période d' </font></font><code>max-age</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un an (par exemple, </font></font><code>Cache-Control:public; max-age=31536000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). Une telle mise en cache agressive fonctionne bien pour la plupart des images, en particulier pour celles à longue durée de vie telles que les avatars et les images dans les en-têtes de page.</font></font><br><br><blockquote> <b>:</b>       PHP,    -   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">session_cache_limiter</a> .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>   <code>session_cache_limiter('public')</code> ,  <code>public</code>  <code>max-age=</code> .  ,        . </blockquote><br><a name="36"></a><h1>     </h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les ressources critiques peuvent être préchargées à l'aide de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;link rel = preload&gt;</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br> <code>&lt;link rel=preload&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Il s'agit d'un téléchargement déclaratif qui oblige le navigateur à envoyer une demande de ressource sans bloquer l'événement </font></font><code>onload</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour le document. </font><font style="vertical-align: inherit;">Cela augmente la priorité des demandes de ressources qui ne seraient autrement détectées que plus tard lors de l'analyse. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour précharger des images, la valeur est </font></font><code>as</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indiquée comme suit </font></font><code>image</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="hljs swift">&lt;link rel=<span class="hljs-string"><span class="hljs-string">"preload"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span>=<span class="hljs-string"><span class="hljs-string">"image"</span></span> href=<span class="hljs-string"><span class="hljs-string">"logo.jpg"</span></span>/&gt;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De cette façon, optimiser l' </font><font style="vertical-align: inherit;">utilisation des ressources pour </font></font><code>&lt;img&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>&lt;picture&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et SVG.</font></font><br><br><blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque: Il est </font></font></b> <code>&lt;link rel=preload&gt;</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pris</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">charge</font></a><font style="vertical-align: inherit;"> dans les navigateurs Chrome et Blink tels que Opera et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Safari Tech Preview</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , et est également </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">implémenté</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans Firefox.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Des sites tels que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Philips</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flipkart</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xerox</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utilisent </font></font><code>&lt;link rel=preload&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour précharger leurs logos (souvent utilisés au début du document). </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kayak</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> applique également le préchargement afin que l'image principale dans l'en-tête se charge aussi rapidement que possible.</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/492/932/3d3/4929323d36c4089f7c5ab7d94ced76c0.jpg"><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Qu'est-ce que l'en-tête de précharge Link? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le préchargement de lien est défini par la balise HTML ou dans </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l'en-tête HTTP Link Header</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dans tous les cas, le lien indique au navigateur de commencer à charger la ressource dans le cache mémoire, car la page est très susceptible d'attendre cette ressource et vous ne pouvez pas attendre que le scanner de préchargement ou l'analyseur la détecte. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La légende des images ressemblera à ceci:</font></font><br><br><pre> <code class="hljs objectivec">Link: &lt;https:<span class="hljs-comment"><span class="hljs-comment">//example.com/logo-hires.jpg&gt;; rel=preload; as=image</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lorsque le Financial Times a présenté un tel titre sur son site Web, les utilisateurs ont commencé à ouvrir le contenu </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 seconde plus rapidement</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : en </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/5e6/1f8/9ad/5e61f89ad2148c7ed6ab04d1a226c986.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bas: avec &lt;link rel = preload&gt;, en haut: sans. </font><font style="vertical-align: inherit;">Comparaison de Moto G4 sur canal 3G selon le test WebPageTest </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avant</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">après</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> optimisation</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> De même, Wikipedia a accéléré le téléchargement «vers le logo», comme décrit dans leur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">étude</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Quels sont les pièges de cette optimisation? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous devez être sûr que le préchargement de cette ressource particulière est absolument nécessaire, car il déplace le reste du contenu à la fin de la file d'attente. </font><font style="vertical-align: inherit;">Vous devriez peut-être vous concentrer sur d'autres contenus? </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il est important d'éviter de </font></font><code>rel=preload</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">précharger les images sans une prise en charge étendue dans les navigateurs (par exemple WebP) et d'éviter d'utiliser des images réactives définies dans srcset, où la source de l'image dépend du type d'appareil. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour plus d'informations, consultez les articles </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Préchargement et priorités dans Chrome"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Préchargement: pourquoi est-il bon pour quoi?"</font></font></a> <br><br><a name="37"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Budgets de performances Web pour les images </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le budget de performance est la limite maximale que les développeurs tentent de ne pas dépasser. Par exemple, «pas plus de 200 Ko d'images sur une page» ou «l'interface utilisateur doit se charger plus rapidement que 3 secondes». Lorsque le budget n'est pas rempli - découvrez pourquoi cela se produit et comment régler la situation. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les budgets aident à discuter des résultats du travail. Lorsqu'une décision de conception ou commerciale affecte la productivité, vérifiez votre budget. Si le changement ne rentre pas dans le budget, c'est la base pour le reporter ou le réviser. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'ai trouvé qu'un budget de performance fonctionne mieux si la surveillance est automatisée. Au lieu d'étudier les horaires du réseau, un service est démarré manuellement, ce qui signale automatiquement un excédent du budget. Deux de ces services utiles sont</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Calibre</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SpeedCurve</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dès qu'un budget pour la taille de l'image est déterminé, SpeedCurve commence la surveillance et alerte sur les dépassements: </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/7b7/ecb/206/7b7ecb2062b83d9a3af42d0c8f1a2b4d.jpg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Calibre propose un paramètre de budget pour chaque classe d'appareils. </font><font style="vertical-align: inherit;">Cela est utile car le budget pour la taille des images pour un ordinateur de bureau via WiFi peut être très différent du budget pour les téléphones mobiles.</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/ac9/a20/dfd/ac9a20dfdeb3a76f937b298c83994feb.jpg"><br><br><a name="38"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Recommandations finales </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En fin de compte, le choix de la stratégie d'optimisation d'image se résume aux types d'images que vous donnez aux utilisateurs et à un ensemble raisonnable de critères d'évaluation de la sélection. </font><font style="vertical-align: inherit;">Il peut s'agir de SSIM ou de Butteraugli, et sur une petite série d'illustrations, vous pouvez faire confiance à votre propre œil: ce qui semble meilleur et ce qui est pire.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Voici mes dernières recommandations: </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ne pouvez pas</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> donner d'images dans différents formats, selon la prise en charge dans le navigateur:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Guetzli + jpegtran de MozJPEG sont bien optimisés pour les JPEG de plus de 90. </font></font><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour le web, la qualité est </font></font><code>q=90</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">trop gaspilleuse. </font><font style="vertical-align: inherit;">Pour les </font><font style="vertical-align: inherit;">images normales est suffisante </font></font><code>q=80</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, et pour la </font><font style="vertical-align: inherit;">RDP 2 × même </font></font><code>q=50</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Puisque Guetzli n'atteint pas un niveau aussi bas, vous pouvez utiliser MozJPEG pour le Web.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cornel Lesinsky a récemment amélioré l'équipe cjpeg sur mozjpeg en ajoutant un minuscule profil sRGB pour aider Chrome à afficher des couleurs naturelles sur des écrans à large gamme de couleurs. </font></font></li></ul></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> PNG pngquant + advpng fournit un assez bon rapport vitesse / compression. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pouvez</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> rendre des images dans différents formats, selon la prise en charge du navigateur à l'aide de &lt;photo&gt;, l'en- </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">tête </font></a></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Accept</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Picturefill</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Donnez WebP aux navigateurs qui le prennent en charge </font></font><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Créez WebP à partir d'images originales de qualité 100%. </font><font style="vertical-align: inherit;">Sinon, vous enverrez à votre navigateur des images de qualité inférieure et de volume plus important avec une </font><font style="vertical-align: inherit;">distorsion </font><font style="vertical-align: inherit;">JPEG </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et une</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> distorsion WebP! </font><font style="vertical-align: inherit;">Si vous compressez l'image source avec le codec WebP, alors la distorsion sera moins perceptible et le niveau de compression sera plus élevé.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les paramètres par défaut WebP </font></font><code>-m 4 -q 75</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sont bonnes pour la </font><font style="vertical-align: inherit;">plupart des </font><font style="vertical-align: inherit;">cas, le rapport optimal du taux et le </font><font style="vertical-align: inherit;">degré de compression.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebP dispose d'un mode de compression sans perte spécial ( </font></font><code>-m 6 -q 100</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), qui réduit les fichiers en examinant toutes les combinaisons de paramètres. </font><font style="vertical-align: inherit;">C'est un ordre de grandeur plus lent, mais ça vaut le coup pour les ressources statiques.</font></font></li></ul></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La solution de remplacement est Guetzli / MozJPEG pour les navigateurs qui ne prennent pas en charge WebP. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bonne compression! </font></font><br><br><blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour des conseils d'optimisation d'image plus pratiques, je recommande fortement </font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les performances Web en action de</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Jeremy Wagner. </font><font style="vertical-align: inherit;">Le livre </font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">High Performance Images</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> contient également de nombreuses astuces et nuances.</font></font></blockquote><br><a name="39"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Petites choses </font></font></h1><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JPEG XT</a>    JPEG 1992 .           1992 ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">libjpeg-turbo</a>      (  ). </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PIK</a> —    ,    .    JPEG,         Guetzli.    33%  JPEG,      54%   ,  libjpeg.    Guetzli  . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>     ,  PIK   .  ,      ,      (    2017 ). </li><li>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ImageMagick</a> .   ,         ,     .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">libvips</a> ,            .  ImageMagick   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>   ,    . </li><li> Blink (   Chrome)     .             .     .               ,          . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">img.decode()</a> API    . </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr422531/">https://habr.com/ru/post/fr422531/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr422519/index.html">Distribution de billets de faveur: fils non freinés en Java. Métier à projet</a></li>
<li><a href="../fr422521/index.html">Prédiction de l'inévitable</a></li>
<li><a href="../fr422525/index.html">"La matrice de l'amitié." Le graphique social le plus ancien pour le plus petit</a></li>
<li><a href="../fr422527/index.html">Résumé des nouvelles de PostgreSQL. Numéro 10</a></li>
<li><a href="../fr422529/index.html">Cours spécial Groupe-IB: «Sécurité des applications mobiles»</a></li>
<li><a href="../fr422535/index.html">Voyez l'invisible. Polarisation infrarouge lointain (8-12 μm)</a></li>
<li><a href="../fr422537/index.html">BEM ne devrait pas exister</a></li>
<li><a href="../fr422539/index.html">À propos de l'économie numérique, des incendies et d'Internet</a></li>
<li><a href="../fr422541/index.html">Le drame des trous dans l'Union s'est transformé en fantasmagorie</a></li>
<li><a href="../fr422543/index.html">Pensez comme un programmeur. Tutoriel de résolution de problèmes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>