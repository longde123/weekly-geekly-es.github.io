<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üé£ üë®üèæ‚Äçüîß üëèüèº Pruebas de rendimiento del servicio web como parte de la integraci√≥n continua. Experiencia Yandex üíáüèæ üçô üöå</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Casi todos los nuevos empleados de Yandex est√°n sorprendidos por la magnitud del estr√©s que experimentan nuestros productos. Miles de hosts con ciento...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pruebas de rendimiento del servicio web como parte de la integraci√≥n continua. Experiencia Yandex</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/425867/"><p>  Casi todos los nuevos empleados de Yandex est√°n sorprendidos por la magnitud del estr√©s que experimentan nuestros productos.  Miles de hosts con cientos de miles de solicitudes por segundo.  Y este es solo uno de los servicios.  Al mismo tiempo, debemos responder a las solicitudes en una fracci√≥n de segundo.  Incluso un ligero cambio en el producto puede tener un impacto significativo en el rendimiento, por lo que es importante probar y evaluar el impacto de su c√≥digo en el servicio. </p><br><p>  En nuestro servicio de tecnolog√≠as publicitarias, las pruebas funcionan en el marco de la metodolog√≠a de integraci√≥n continua, que discutiremos con m√°s detalle sobre la organizaci√≥n del 25 de octubre en el evento <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Yandex desde adentro</a> , y hoy compartiremos con los lectores de Habr la experiencia de automatizar la evaluaci√≥n de m√©tricas de productos importantes relacionadas con el rendimiento del servicio.  Aprender√° c√≥mo confiar el an√°lisis a una m√°quina y no seguirlos en gr√°ficos.  Vamos! </p><br><img src="https://habrastorage.org/webt/iz/tt/0g/iztt0gctohbgmc0liwkarkwteye.jpeg"><br><p><a name="habracut"></a>  No se trata de c√≥mo probar el sitio.  Hay muchas herramientas en l√≠nea para esto.  Hoy hablaremos sobre un servicio interno de back-end altamente cargado, que es parte de un gran sistema y prepara informaci√≥n para un servicio externo.  En nuestro caso, para p√°ginas de resultados de b√∫squeda y sitios asociados.  Si nuestro componente no tiene tiempo para responder, entonces la informaci√≥n de √©l simplemente no se le dar√° al usuario.  Entonces, la compa√±√≠a perder√° dinero.  Por lo tanto, es muy importante responder a tiempo. </p><br><p>  ¬øQu√© m√©tricas importantes del servidor se pueden resaltar? </p><br><ul><li>  <strong>Solicitud por segundo (RPS)</strong> .  La felicidad de un usuario es, por supuesto, importante para nosotros.  Pero qu√© pasa si no uno, sino que miles de usuarios vinieron a ti.  ¬øCu√°ntas solicitudes por segundo puede soportar su servidor y no caer? </li><li>  <strong>Tiempo por solicitud</strong> .  El contenido del sitio debe mostrarse lo m√°s r√°pido posible para que el usuario no se canse de esperar y no vaya a la tienda a comprar palomitas de ma√≠z.  En nuestro caso, no ver√° una parte importante de la informaci√≥n en la p√°gina. </li><li>  <strong>Tama√±o de conjunto residente (RSS)</strong> .  Aseg√∫rese de controlar cu√°nto consume memoria su programa.  Si el servicio consume toda la memoria, apenas es posible hablar de tolerancia a fallas. </li><li>  <strong>Errores HTTP</strong> </li></ul><br><p>  As√≠ que vamos a ponerlo en orden. </p><br><h3 id="request-per-second">  Solicitud por segundo </h3><br><p>  A nuestro desarrollador, que ha estado lidiando con las pruebas de carga durante mucho tiempo, le gusta hablar sobre el recurso cr√≠tico del sistema.  Veamos de qu√© se trata. </p><br><p> Cada sistema tiene sus propias caracter√≠sticas de configuraci√≥n que determinan la operaci√≥n.  Por ejemplo, longitud de la cola, tiempo de espera de respuesta, grupo de subprocesos de trabajo, etc.  Y puede suceder que la capacidad de su servicio se base en uno de estos recursos.  Puedes realizar un experimento.  Aumenta cada recurso por turno.  Un recurso, cuyo aumento aumentar√° la capacidad de su servicio, ser√° cr√≠tico para usted.  En un sistema bien configurado, para aumentar la capacidad, tendr√° que aumentar no un recurso, sino varios.  Pero esto todav√≠a se puede "sentir".  Ser√° genial si puede configurar su sistema para que todos los recursos funcionen con toda su fuerza y ‚Äã‚Äãel servicio se ajuste dentro de los plazos establecidos. </p><br><p>  Para estimar cu√°ntas solicitudes por segundo resistir√° su servidor, debe dirigirle un flujo de solicitudes.  Como tenemos este proceso integrado en el sistema CI, utilizamos una "pistola" muy simple con funcionalidad limitada.  Pero desde el software de c√≥digo abierto Yandex.Tank es perfecto para esta tarea.  √âl tiene <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">documentaci√≥n</a> detallada.  Un regalo para Tank es un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">servicio</a> para ver los resultados. </p><br><p>  <em>Un peque√±o tope.</em>  Yandex.Tank tiene una funcionalidad bastante rica, no se limita a automatizar las solicitudes de bombardeo.  Tambi√©n ayudar√° a recopilar m√©tricas de su servicio, crear gr√°ficos y ajustar el m√≥dulo con la l√≥gica que necesita.  En general, recomendamos conocerlo. </p><br><p>  Ahora necesita alimentar las solicitudes al Tanque para que puedan disparar a nuestro servicio.  Las solicitudes con las que va a utilizar el servidor pueden ser del mismo tipo, creadas y propagadas artificialmente.  Sin embargo, las mediciones ser√°n mucho m√°s precisas si puede recopilar un conjunto real de solicitudes de los usuarios durante un cierto per√≠odo de tiempo. </p><br><p>  La capacidad se puede medir de dos maneras. </p><br><p>  <strong>Modelo de carga abierta (prueba de esfuerzo)</strong> </p><br><p>  Haga "usuarios", es decir, varios hilos que enviar√°n una solicitud a su sistema.  La carga que no daremos es constante, sino que se acumula o incluso se alimenta en olas.  Entonces nos acercar√° a la vida real.  Aumentamos el RPS y detectamos el punto en el que el servicio descascarado "rompe" el SLA.  Por lo tanto, puede encontrar los l√≠mites del sistema. </p><br><p>  Para calcular el n√∫mero de usuarios, puede usar la f√≥rmula Little (puede leer sobre esto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> ).  Omitiendo la teor√≠a, la f√≥rmula se ve as√≠: </p><br><p>  RPS = 1000 / T * trabajadores, donde </p><br><p>  ‚Ä¢ T: tiempo promedio de procesamiento de la solicitud (en milisegundos); <br>  ‚Ä¢ trabajadores: el n√∫mero de hilos; <br>  ‚Ä¢ 1000 / T solicitudes por segundo: este valor ser√° generado por un generador de un solo subproceso. </p><br><p>  <strong>Modelo de carga cerrada (prueba de carga)</strong> </p><br><p>  Tomamos un n√∫mero fijo de "usuarios".  Debe configurarlo para que la cola de entrada correspondiente a la configuraci√≥n de su servicio est√© siempre obstruida.  Al mismo tiempo, no tiene sentido hacer que el n√∫mero de subprocesos supere el l√≠mite de la cola, ya que descansaremos en este n√∫mero y el servidor descartar√° las solicitudes restantes con un error 5xx.  Observamos cu√°ntas solicitudes por segundo podr√° emitir el dise√±o.  Tal esquema en el caso general no es similar al flujo real de solicitudes, pero ayudar√° a mostrar el comportamiento del sistema a la carga m√°xima y evaluar su rendimiento actual. </p><br><p>  Para la gran mayor√≠a de los sistemas (donde el recurso cr√≠tico no est√° relacionado con el procesamiento de conexiones), el resultado ser√° el mismo.  Al mismo tiempo, el modelo cerrado tiene menos ruido, porque el sistema est√° en el √°rea de carga que nos interesa todo el tiempo de la prueba. </p><br><p>  Al probar nuestro servicio, utilizamos un modelo cerrado.  Despu√©s de disparar, el arma nos da cu√°ntas solicitudes por segundo pudo emitir nuestro servicio.  Yandex.Tank este indicador tambi√©n es f√°cil de decir. </p><br><h3 id="time-per-request">  Tiempo por solicitud </h3><br><p>  Si volvemos al p√°rrafo anterior, resulta obvio que con dicho esquema, no tiene sentido evaluar el tiempo de respuesta a una solicitud.  Cuanto m√°s fuerte carguemos el sistema, m√°s se degradar√° y m√°s tiempo responder√°.  Por lo tanto, para probar el tiempo de respuesta, el enfoque debe ser diferente. </p><br><p>  Para obtener el tiempo de respuesta promedio, usaremos el mismo Yandex.Tank.  Solo ahora estableceremos el RPS correspondiente al indicador promedio de su sistema en producci√≥n.  Despu√©s del bombardeo, obtenemos tiempos de respuesta para cada solicitud.  En funci√≥n de los datos recopilados, se pueden calcular los percentiles de los tiempos de respuesta. </p><br><p>  A continuaci√≥n, debe comprender qu√© percentil consideramos importante.  Por ejemplo, construimos sobre la producci√≥n.  Podemos dejar el 1% de las solicitudes de errores, no respuestas, solicitudes de depuraci√≥n que funcionen durante mucho tiempo, problemas con la red, etc.  Por lo tanto, consideramos significativo el tiempo de respuesta, que acomoda el 99% de las solicitudes. </p><br><h3 id="resident-set-size">  Tama√±o de conjunto residente </h3><br><p>  Nuestro servidor trabaja directamente con archivos a trav√©s de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">mmap</a> .  Al medir el √≠ndice RSS, queremos saber cu√°nta memoria tom√≥ el programa del sistema operativo durante la operaci√≥n. </p><br><p>  En Linux, el archivo / proc / PID / smaps est√° escrito: esta es una extensi√≥n basada en mapas que muestra el consumo de memoria para cada una de las asignaciones de procesos.  Si su proceso usa tmpfs, entonces la memoria an√≥nima y no an√≥nima entrar√° en smaps.  La memoria no an√≥nima incluye, por ejemplo, archivos cargados en la memoria.  Aqu√≠ hay una entrada de ejemplo en smaps.  Se especifica un archivo espec√≠fico y su par√°metro An√≥nimo = 0kB. </p><br><pre><code class="hljs go"><span class="hljs-number"><span class="hljs-number">7f</span></span>ea65a60000<span class="hljs-number"><span class="hljs-number">-7f</span></span>ea65a61000 r--s <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">09</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span> <span class="hljs-number"><span class="hljs-number">79169191</span></span> /place/home/.../some.yabs Size: <span class="hljs-number"><span class="hljs-number">4</span></span> kB Rss: <span class="hljs-number"><span class="hljs-number">4</span></span> kB Pss: <span class="hljs-number"><span class="hljs-number">4</span></span> kB Shared_Clean: <span class="hljs-number"><span class="hljs-number">0</span></span> kB Shared_Dirty: <span class="hljs-number"><span class="hljs-number">0</span></span> kB Private_Clean: <span class="hljs-number"><span class="hljs-number">4</span></span> kB Private_Dirty: <span class="hljs-number"><span class="hljs-number">0</span></span> kB Referenced: <span class="hljs-number"><span class="hljs-number">4</span></span> kB Anonymous: <span class="hljs-number"><span class="hljs-number">0</span></span> kB AnonHugePages: <span class="hljs-number"><span class="hljs-number">0</span></span> kB Swap: <span class="hljs-number"><span class="hljs-number">0</span></span> kB KernelPageSize: <span class="hljs-number"><span class="hljs-number">4</span></span> kB MMUPageSize: <span class="hljs-number"><span class="hljs-number">4</span></span> kB Locked: <span class="hljs-number"><span class="hljs-number">0</span></span> kB VmFlags: rd mr me ms</code> </pre> <br><p>  Y este es un ejemplo de asignaci√≥n de memoria an√≥nima.  Cuando un proceso (el mismo mmap) realiza una solicitud al sistema operativo para asignar un cierto tama√±o de memoria, se le asigna una direcci√≥n.  Mientras que el proceso solo ocupa memoria virtual.  En este punto, a√∫n no sabemos qu√© parte f√≠sica de la memoria se asignar√°.  Vemos un registro sin nombre.  Este es un ejemplo de asignaci√≥n de memoria an√≥nima.  Se solicit√≥ al sistema el tama√±o de 24572 kB, pero no lo usaron y en realidad solo se tom√≥ RSS = 4 kB. </p><br><pre> <code class="hljs go"><span class="hljs-number"><span class="hljs-number">7f</span></span>ea67264000<span class="hljs-number"><span class="hljs-number">-7f</span></span>ea68a63000 rw-p <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> Size: <span class="hljs-number"><span class="hljs-number">24572</span></span> kB Rss: <span class="hljs-number"><span class="hljs-number">4</span></span> kB Pss: <span class="hljs-number"><span class="hljs-number">4</span></span> kB Shared_Clean: <span class="hljs-number"><span class="hljs-number">0</span></span> kB Shared_Dirty: <span class="hljs-number"><span class="hljs-number">0</span></span> kB Private_Clean: <span class="hljs-number"><span class="hljs-number">0</span></span> kB Private_Dirty: <span class="hljs-number"><span class="hljs-number">4</span></span> kB Referenced: <span class="hljs-number"><span class="hljs-number">4</span></span> kB Anonymous: <span class="hljs-number"><span class="hljs-number">4</span></span> kB AnonHugePages: <span class="hljs-number"><span class="hljs-number">0</span></span> kB Swap: <span class="hljs-number"><span class="hljs-number">0</span></span> kB KernelPageSize: <span class="hljs-number"><span class="hljs-number">4</span></span> kB MMUPageSize: <span class="hljs-number"><span class="hljs-number">4</span></span> kB Locked: <span class="hljs-number"><span class="hljs-number">0</span></span> kB VmFlags: rd wr mr mw me ac</code> </pre> <br><p>  Dado que la memoria no an√≥nima asignada no ir√° a ninguna parte despu√©s de que se detenga el proceso, el archivo no se eliminar√°, no nos interesa dicho RSS. </p><br><p>  Antes de comenzar a disparar al servidor, resumimos el RSS de / proc / PID / smaps, asignado para la memoria an√≥nima, y ‚Äã‚Äãlo recordamos.  Realizamos bombardeos, similar al tiempo de prueba por solicitud.  Despu√©s de terminar, considere RSS nuevamente.  La diferencia entre el estado inicial y el final ser√° la cantidad de memoria que utiliz√≥ su proceso durante la operaci√≥n. </p><br><h3 id="http-oshibki">  Errores HTTP </h3><br><p>  No olvide seguir los c√≥digos de respuesta que el servicio devuelve durante las pruebas.  Si algo sali√≥ mal al configurar una prueba o entorno, y el servidor devolvi√≥ errores 5xx y 4xx para todas sus solicitudes, entonces no hab√≠a mucho sentido en dicha prueba.  Estamos monitoreando la proporci√≥n de malas respuestas.  Si hay muchos errores, la prueba se considera inv√°lida. </p><br><h3 id="nemnogo-o-tochnosti-izmereniy">  Un poco sobre precisi√≥n de medici√≥n </h3><br><p>  Y ahora lo m√°s importante.  Volvamos a los p√°rrafos anteriores.  Resulta que los valores absolutos de las m√©tricas calculadas por nosotros no son tan importantes para nosotros.  No, por supuesto, puede lograr la estabilidad de los indicadores, teniendo en cuenta todos los factores, errores y fluctuaciones.  Paralelamente, escriba un trabajo cient√≠fico sobre este tema (por cierto, si alguien estaba buscando uno, esta podr√≠a ser una buena opci√≥n).  Pero esto no es lo que nos interesa. </p><br><p>  Es importante para nosotros que una confirmaci√≥n particular afecte el c√≥digo relativo al estado anterior del sistema.  Es decir, la diferencia entre las m√©tricas de commit a commit es importante.  Y aqu√≠ es necesario establecer un proceso que compare esta diferencia y al mismo tiempo garantice la estabilidad del valor absoluto en este intervalo. </p><br><p>  El entorno, las solicitudes, los datos, el estado del servicio: todos los factores disponibles para nosotros deben corregirse.  Es este sistema el que funciona para nosotros como parte de la integraci√≥n continua, proporcion√°ndonos informaci√≥n sobre todo tipo de cambios que se han producido dentro de cada confirmaci√≥n.  A pesar de esto, no ser√° posible arreglar todo, habr√° ruido.  Podemos reducir el ruido, obviamente, al aumentar la muestra, es decir, hacer varias iteraciones del rodaje.  Adem√°s, despu√©s de disparar, digamos, 15 iteraciones, podemos calcular la mediana de la muestra resultante.  Adem√°s, es necesario encontrar un equilibrio entre el ruido y la duraci√≥n del disparo.  Por ejemplo, nos decidimos por un error del 1%.  Si desea elegir un m√©todo estad√≠stico m√°s complejo y preciso de acuerdo con sus requisitos, le recomendamos un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">libro</a> que enumere las opciones con una descripci√≥n de cu√°ndo y cu√°l se utiliza. </p><br><h3 id="chto-eschyo-mozhno-sdelat-s-shumom">  ¬øQu√© m√°s se puede hacer con el ruido? </h3><br><p>  Tenga en cuenta que el entorno en el que realiza las pruebas juega un papel importante en dichas pruebas.  El banco de pruebas debe ser confiable, no debe ejecutar otros programas, ya que pueden provocar la degradaci√≥n de su servicio.  Adem√°s, los resultados pueden y depender√°n del perfil de carga, el entorno, la base de datos y varias "tormentas magn√©ticas". </p><br><p>  Como parte de una prueba de confirmaci√≥n √∫nica, realizamos varias iteraciones en diferentes hosts.  En primer lugar, si usa la nube, entonces puede pasar cualquier cosa all√≠.  Incluso si la nube es especializada, como la nuestra, los procesos de servicio siguen funcionando all√≠.  Por lo tanto, no puede confiar en el resultado de un host.  Y si tiene un host de hierro, donde no hay, como en la nube, un mecanismo est√°ndar para elevar el medio ambiente, incluso puede romperlo accidentalmente una vez y dejarlo as√≠.  Y √©l siempre te mentir√°.  Por lo tanto, manejamos nuestras pruebas en la nube. </p><br><p>  Es cierto, otra pregunta surge de esto.  Si sus mediciones se realizan cada vez en diferentes hosts, entonces los resultados pueden hacer un poco de ruido y debido a esto incluido.  Entonces puede normalizar las lecturas al host.  Es decir, seg√∫n datos hist√≥ricos, recopile el "coeficiente del host" y t√©ngalo en cuenta al analizar los resultados. </p><br><p>  El an√°lisis de los datos hist√≥ricos muestra que el hardware es diferente.  La palabra "hardware" aqu√≠ incluye la versi√≥n del kernel y las consecuencias del tiempo de actividad (aparentemente, no objetos del kernel m√≥viles en la memoria). </p><br><p>  Por lo tanto, a cada "host" (al reiniciar, el host "muere" y aparece un "nuevo") asociamos una correcci√≥n por la cual multiplicamos el RPS antes de la agregaci√≥n. </p><br><p>  Consideramos y actualizamos las enmiendas de una manera extremadamente torpe, que recuerda sospechosamente alguna opci√≥n de entrenamiento de refuerzo. </p><br><p>  Para un vector dado de correcciones posthost, consideramos la funci√≥n objetivo: </p><br><ul><li>  en cada prueba consideramos la desviaci√≥n est√°ndar de los resultados RPS "corregidos" obtenidos </li><li>  tomar el promedio de ellos con pesos iguales <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4">p</span><span class="MJXp-mo" id="MJXp-Span-5" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-6" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-9">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-11">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-13">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-15">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-16">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-17">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-18">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-19">p</span><span class="MJXp-mo" id="MJXp-Span-20" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-22">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-23">w</span><span class="MJXp-mo" id="MJXp-Span-24" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mrow" id="MJXp-Span-25"><span class="MJXp-mo" id="MJXp-Span-26" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-27">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-28">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-29">u</span><span class="MJXp-mo" id="MJXp-Span-30" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-1"> exp ((testtimestamp - now) / tau) </script>  , </li><li>  tenemos tau = 1 semana. </li></ul><br><p>  Luego fijamos una correcci√≥n (para el host con la mayor suma de estos pesos) en 1.0 y buscamos los valores de todas las otras correcciones que dan un m√≠nimo de la funci√≥n objetivo. </p><br><p>  Con el fin de validar los resultados en los datos hist√≥ricos, consideramos las correcciones en los datos antiguos, consideramos el resultado corregido en el fresco, en comparaci√≥n con el no corregido. </p><br><p>  Otra opci√≥n para ajustar los resultados y reducir el ruido es normalizar a "sint√©ticos".  Antes de comenzar el servicio que se probar√°, ejecute un "programa sint√©tico" en el host, desde el cual puede evaluar el estado del host y calcular el factor de correcci√≥n.  Pero en nuestro caso, utilizamos correcciones basadas en el host, y esta idea ha seguido siendo una idea.  Quiz√°s a uno de ustedes le gustar√°. </p><br><p>  A pesar de la automatizaci√≥n y todas sus ventajas, no se olvide de la din√°mica de sus indicadores.  Es importante asegurarse de que el servicio no se degrada con el tiempo.  Es posible que no note peque√±as reducciones, pueden acumularse y, durante un largo per√≠odo de tiempo, sus indicadores pueden ceder.  Aqu√≠ hay un ejemplo de nuestros gr√°ficos que estamos viendo en RPS.  Muestra el valor relativo en cada confirmaci√≥n marcada, su n√∫mero y la capacidad de ver desde d√≥nde se asign√≥ la versi√≥n. </p><br><img src="https://habrastorage.org/webt/qu/lj/_h/qulj_hvry8sfubkrt285xlzidsq.png"><br><img src="https://habrastorage.org/webt/gp/76/o9/gp76o9rgelvep5u8rrpyoricmfs.png"><br><p>  Si lees el art√≠culo, definitivamente ser√° interesante para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ti ver un</a> informe sobre Yandex.Tank y un an√°lisis de los resultados de las pruebas de carga. </p><br><p>  Tambi√©n le recordamos que con m√°s detalle sobre la organizaci√≥n de la integraci√≥n continua, hablaremos sobre el 25 de octubre en el evento <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Yandex desde adentro</a> .  Ven a visitarnos! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es425867/">https://habr.com/ru/post/es425867/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es425851/index.html">Infer.NET: potente sistema de aprendizaje autom√°tico ahora OpenSource</a></li>
<li><a href="../es425853/index.html">Toda la IA conversacional en la primera conferencia de Conversaciones</a></li>
<li><a href="../es425855/index.html">Twitch me mejor√≥ y me ayud√≥ a sobrevivir los tres meses m√°s oscuros de mi vida.</a></li>
<li><a href="../es425859/index.html">Los operadores regionales se oponen a la cancelaci√≥n del roaming</a></li>
<li><a href="../es425861/index.html">Ponte a prueba: ¬øpuedes proteger a la empresa de los ciberataques?</a></li>
<li><a href="../es425869/index.html">iFixit: Apple a√∫n no ha activado el bloqueo de MacBooks restaurados</a></li>
<li><a href="../es425871/index.html">Ekaterimburgo, 11 de octubre: Atlassian se encuentra con el acoplador</a></li>
<li><a href="../es425873/index.html">[CppCon 2018] Herb Sutter: hacia un C ++ m√°s simple y m√°s potente</a></li>
<li><a href="../es425875/index.html">Actualizaci√≥n de matriz de notebook TN-> IPS o c√≥mo obtener una laptop m√°s avanzada de una laptop econ√≥mica</a></li>
<li><a href="../es425877/index.html">El CEO de Apple dice que los chips esp√≠as chinos en servidores Supermicro son ficci√≥n</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>