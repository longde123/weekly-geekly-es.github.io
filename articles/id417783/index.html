<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸšµğŸ½ ğŸ‘¨ğŸ¼â€ğŸ­ ğŸŒ‹ Optimasi Digunakan dengan Python: Daftar dan Tuple ğŸ§š ğŸ— ğŸ™†ğŸ»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam Python, ada dua jenis yang sama - daftar (daftar) dan tuple (tuple). Perbedaan paling terkenal antara keduanya adalah bahwa tupel tidak dapat di...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Optimasi Digunakan dengan Python: Daftar dan Tuple</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/417783/">  Dalam Python, ada dua jenis yang sama - daftar (daftar) dan tuple (tuple).  Perbedaan paling terkenal antara keduanya adalah bahwa tupel tidak dapat diubah. <br><br>  Anda tidak dapat mengubah objek dalam tuple: <br><br><pre><code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>a = (<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>) &gt;&gt;&gt; a[<span class="hljs-number"><span class="hljs-number">0</span></span>] = <span class="hljs-number"><span class="hljs-number">10</span></span> Traceback (most recent call last): File <span class="hljs-string"><span class="hljs-string">"&lt;stdin&gt;"</span></span>, line <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> &lt;module&gt; TypeError: <span class="hljs-string"><span class="hljs-string">'tuple'</span></span> object does <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> support item assignment</code> </pre> <br>  Tapi Anda bisa memodifikasi objek yang bisa berubah di dalam tuple: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>b = (<span class="hljs-number"><span class="hljs-number">1</span></span>,[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>],<span class="hljs-number"><span class="hljs-number">3</span></span>) &gt;&gt;&gt; b[<span class="hljs-number"><span class="hljs-number">1</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] &gt;&gt;&gt; b[<span class="hljs-number"><span class="hljs-number">1</span></span>].append(<span class="hljs-number"><span class="hljs-number">4</span></span>) &gt;&gt;&gt; b (<span class="hljs-number"><span class="hljs-number">1</span></span>, [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>], <span class="hljs-number"><span class="hljs-number">3</span></span>)</code> </pre><a name="habracut"></a><br>  Di dalam CPython (penerjemah standar), daftar dan tuple diimplementasikan sebagai selembar pointer (tautan) ke objek Python, mis.  secara fisik mereka tidak menyimpan benda bersebelahan.  Saat Anda menghapus objek dari daftar, referensi ke objek ini dihapus.  Jika orang lain mengacu pada objek, itu akan terus berada dalam memori. <br><br><h4>  Tuples </h4><br>  Terlepas dari kenyataan bahwa tupel jauh lebih jarang terjadi dalam kode dan tidak begitu populer, ini adalah tipe yang sangat mendasar yang digunakan oleh Python untuk keperluan internal. <br><br>  Anda mungkin tidak melihat, tetapi Anda menggunakan tuple ketika: <br><br><ul><li>  bekerja dengan argumen atau parameter (disimpan sebagai tupel) </li><li>  mengembalikan dua atau lebih variabel dari suatu fungsi </li><li>  iterate kunci nilai dalam kamus </li><li>  gunakan pemformatan string </li></ul><br>  Biasanya, skrip paling sederhana menggunakan ribuan tupel: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> gc &gt;&gt;&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">type_stats</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(type_obj)</span></span></span><span class="hljs-function">:</span></span> ... count = <span class="hljs-number"><span class="hljs-number">0</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> obj <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> gc.get_objects(): ... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> type(obj) == type_obj: ... count += <span class="hljs-number"><span class="hljs-number">1</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> count ... &gt;&gt;&gt; type_stats(tuple) <span class="hljs-number"><span class="hljs-number">3136</span></span> &gt;&gt;&gt; type_stats(list) <span class="hljs-number"><span class="hljs-number">659</span></span> &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas &gt;&gt;&gt; type_stats(tuple) <span class="hljs-number"><span class="hljs-number">6953</span></span> &gt;&gt;&gt; type_stats(list) <span class="hljs-number"><span class="hljs-number">2455</span></span></code> </pre><br><h4>  Daftar kosong vs tuple kosong </h4><br>  Sebuah tuple kosong berfungsi seperti singleton, mis.  selalu ada hanya satu tuple kosong di memori skrip Python yang sedang berjalan.  Semua tupel kosong hanya merujuk ke objek yang sama, ini dimungkinkan karena tupel tidak berubah.  Pendekatan ini menghemat banyak memori dan mempercepat proses bekerja dengan tuple kosong. <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>a = () &gt;&gt;&gt; b = () &gt;&gt;&gt; a <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> b <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> &gt;&gt;&gt; id(a) <span class="hljs-number"><span class="hljs-number">4409020488</span></span> &gt;&gt;&gt; id(b) <span class="hljs-number"><span class="hljs-number">4409020488</span></span> &gt;&gt;&gt; <span class="hljs-comment"><span class="hljs-comment">#  CPython,  id    .</span></span></code> </pre><br>  Tetapi ini tidak berfungsi dengan daftar, karena mereka dapat diubah: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>a = [] &gt;&gt;&gt; b = [] &gt;&gt;&gt; a <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> b <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> &gt;&gt;&gt; id(a) <span class="hljs-number"><span class="hljs-number">4465566920</span></span> &gt;&gt;&gt; id(b) <span class="hljs-number"><span class="hljs-number">4465370632</span></span></code> </pre><br><h4>  Mengoptimalkan alokasi memori untuk tupel </h4><br>  Untuk mengurangi fragmentasi memori dan mempercepat pembuatan tupel, Python menggunakan kembali tupel lama yang telah dihapus.  Jika sebuah tuple terdiri dari kurang dari 20 elemen dan tidak lagi digunakan, maka alih-alih menghapusnya, Python menempatkannya dalam daftar khusus, yang menyimpan tuple gratis untuk digunakan kembali. <br><br>  Daftar ini dibagi menjadi 20 kelompok, di mana masing-masing kelompok adalah daftar tupel ukuran n, di mana n adalah 0 hingga 20. Setiap kelompok dapat menyimpan hingga 2.000 tupel gratis.  Grup pertama menyimpan hanya satu elemen dan merupakan daftar satu tuple kosong. <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>a = (<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>) &gt;&gt;&gt; id(a) <span class="hljs-number"><span class="hljs-number">4427578104</span></span> &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">del</span></span> a &gt;&gt;&gt; b = (<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>) &gt;&gt;&gt; id(b) <span class="hljs-number"><span class="hljs-number">4427578104</span></span></code> </pre><br>  Pada contoh di atas, kita dapat melihat bahwa a dan b memiliki alamat yang sama dalam memori.  Ini karena kami mengambil tuple gratis dengan ukuran yang sama. <br><br><h4>  Mengoptimalkan alokasi memori untuk daftar </h4><br>  Karena daftar dapat berubah, optimasi yang sama seperti dalam kasus tupel tidak dapat lagi diputar.  Meskipun demikian, daftar menggunakan pengoptimalan serupa yang ditujukan pada daftar kosong.  Jika daftar kosong dihapus, maka itu juga dapat digunakan kembali di masa depan. <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>a = [] &gt;&gt;&gt; id(a) <span class="hljs-number"><span class="hljs-number">4465566792</span></span> &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">del</span></span> a &gt;&gt;&gt; b = [] &gt;&gt;&gt; id(b) <span class="hljs-number"><span class="hljs-number">4465566792</span></span></code> </pre><br><h4>  Ubah Ukuran Daftar </h4><br>  Untuk menghindari overhead daftar perubahan ukuran terus-menerus, Python tidak mengubah ukurannya setiap kali diperlukan.  Alih-alih, setiap daftar memiliki satu set sel tambahan yang disembunyikan bagi pengguna, tetapi nantinya dapat digunakan untuk elemen baru.  Segera setelah sel tersembunyi berakhir, Python menambahkan ruang ekstra untuk elemen baru.  Dan dia melakukannya dengan margin yang baik, jumlah sel tersembunyi dipilih berdasarkan ukuran daftar saat ini - semakin besar, semakin banyak slot tersembunyi tambahan untuk elemen baru. <br><br>  Optimalisasi ini sangat membantu ketika Anda mencoba menambahkan banyak elemen dalam satu lingkaran. <br><br>  Pola pertumbuhan ukuran daftar terlihat seperti ini: 0, 4, 8, 16, 25, 35, 46, 58, 72, 88, ... <br><br>  Misalnya, jika Anda ingin menambahkan elemen baru ke daftar dengan 8 elemen, maka tidak akan ada sel bebas di dalamnya dan Python akan segera memperluas ukurannya menjadi 16 sel, di mana 9 di antaranya akan ditempati dan terlihat oleh pengguna. <br><br>  Rumus ukuran Python: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_new_size</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(n_items)</span></span></span><span class="hljs-function">:</span></span> ... new_size = n_items + (n_items // <span class="hljs-number"><span class="hljs-number">2</span></span> ** <span class="hljs-number"><span class="hljs-number">3</span></span>) ... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> n_items &lt; <span class="hljs-number"><span class="hljs-number">9</span></span>: ... new_size += <span class="hljs-number"><span class="hljs-number">3</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: ... new_size += <span class="hljs-number"><span class="hljs-number">6</span></span> ... ... <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> new_size ... &gt;&gt;&gt; get_new_size(<span class="hljs-number"><span class="hljs-number">9</span></span>) <span class="hljs-number"><span class="hljs-number">16</span></span></code> </pre><br><h4>  Kecepatan </h4><br>  Jika kita membandingkan kedua jenis ini dalam kecepatan, maka rata-rata di rumah sakit, tupel sedikit lebih cepat daripada daftar.  Raymond Hettinger memiliki penjelasan yang bagus untuk perbedaan kecepatan pada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">stackoverflow</a> . <br><br>  PS: Saya penulis artikel ini, kamu bisa bertanya. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id417783/">https://habr.com/ru/post/id417783/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id417773/index.html">Pemasang Komponen OpenPnP buatan sendiri</a></li>
<li><a href="../id417775/index.html">Mekanisme komisi Bitcoin dan mengapa berteman dengan penambang</a></li>
<li><a href="../id417777/index.html">Weekend Reading: 25 bahan untuk penggemar vinyl pemula</a></li>
<li><a href="../id417779/index.html">Menggunakan Unity3D di aplikasi asli iOS / Android untuk memodelkan pencahayaan ruang terbuka</a></li>
<li><a href="../id417781/index.html">Probe NASA "menyentuh" â€‹â€‹Matahari - dan tidak meleleh</a></li>
<li><a href="../id417785/index.html">Administrator sistem mana yang tidak memimpikan perusahaan outsourcing-nya?</a></li>
<li><a href="../id417787/index.html">Pengalaman Kerja Saya pada Peran Pelatih Agile di Eropa, Bagian Satu</a></li>
<li><a href="../id417789/index.html">Diskusi tentang Prospek Telekomunikasi</a></li>
<li><a href="../id417793/index.html">Lupakan tentang megastruktur alien: pengamatan baru menjelaskan perilaku bintang Tabby hanya debu</a></li>
<li><a href="../id417795/index.html">Obsesi saya dengan video game di masa remaja saya bukanlah "gangguan game"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>