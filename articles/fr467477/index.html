<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚õàÔ∏è üë©üèΩ‚Äçüéì üö∂üèæ Kubernetes 1.16: Aper√ßu des faits saillants üßôüèø ü•á üë®üèø‚Äçüíª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Aujourd'hui, mercredi, la prochaine version de Kubernetes aura lieu - 1.16. Selon la tradition qui s'est d√©velopp√©e pour notre blog, pour le dixi√®me a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kubernetes 1.16: Aper√ßu des faits saillants</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/467477/"><img src="https://habrastorage.org/webt/6b/oi/xq/6boixq7wqypazw43aysbw8y9xty.png"><br><br>  Aujourd'hui, mercredi, la prochaine version de Kubernetes <a href="">aura lieu</a> - 1.16.  Selon la tradition qui s'est d√©velopp√©e pour notre blog, pour le dixi√®me anniversaire, nous parlons des changements les plus importants de la nouvelle version. <br><br>  Les informations utilis√©es pour pr√©parer ce mat√©riel sont tir√©es du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tableau de suivi des am√©liorations de Kubernetes</a> , de <a href="">CHANGELOG-1.16</a> et des probl√®mes connexes, des demandes d'extraction, ainsi que des propositions d'am√©lioration de Kubernetes (KEP).  Alors allons-y! .. <a name="habracut"></a><br><br><h2>  Noeuds </h2><br>  Un tr√®s grand nombre d'innovations notables (dans l'√©tat de la version alpha) sont pr√©sent√©es du c√¥t√© des n≈ìuds des clusters K8s (Kubelet). <br><br>  Tout d'abord, les soi-disant <b>¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">conteneurs √©ph√©m√®res</a> ¬ª <i>(conteneurs √©ph√©m√®res) sont</i></b> pr√©sent√©s <b>, con√ßus pour simplifier le processus de d√©bogage dans les pods</b> .  Le nouveau m√©canisme vous permet d'ex√©cuter des conteneurs sp√©ciaux qui d√©marrent dans l'espace de noms des pods existants et vivent pendant une courte p√©riode.  Leur but est d'interagir avec d'autres pods et conteneurs afin de r√©soudre tout probl√®me et d√©bogage.  Pour cette fonctionnalit√©, une nouvelle commande de <code>kubectl debug</code> est <code>kubectl debug</code> , similaire en substance √† <code>kubectl exec</code> : seulement au lieu de d√©marrer le processus dans le conteneur (comme dans le cas de <code>exec</code> ), il d√©marre le conteneur dans pod.  Par exemple, une telle commande connectera un nouveau conteneur au pod: <br><br><pre> <code class="bash hljs">kubectl debug -c debug-shell --image=debian target-pod -- bash</code> </pre> <br>  Des d√©tails sur les conteneurs √©ph√©m√®res (et des exemples de leur utilisation) peuvent √™tre trouv√©s dans le <a href="">KEP correspondant</a> .  L'impl√©mentation actuelle (dans K8s 1.16) est la version alpha, et parmi les crit√®res pour son transfert vers la version b√™ta, il y a "tester l'API Ephemeral Containers pour au moins 2 versions [Kubernetes]". <br><br>  <i><b>NB</b> : En substance et m√™me le nom de la fonctionnalit√© ressemble au plugin <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">kubectl-debug</a> d√©j√† existant, dont nous avons <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d√©j√† parl√©</a> .</i>  <i>On suppose qu'avec l'av√®nement des conteneurs √©ph√©m√®res, le d√©veloppement d'un plug-in externe s√©par√© s'arr√™tera.</i> <br><br>  Une autre innovation, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>PodOverhead</code></a> est con√ßue pour fournir un <b>m√©canisme de calcul des frais g√©n√©raux des pods</b> , qui peuvent varier consid√©rablement en fonction du temps d'ex√©cution utilis√©.  √Ä titre d'exemple, les auteurs de <a href="">ce KEP</a> citent les conteneurs Kata, qui n√©cessitent le lancement du noyau invit√©, de l'agent kata, du syst√®me init, etc.  Lorsque les frais g√©n√©raux deviennent si importants, ils ne peuvent pas √™tre ignor√©s, ce qui signifie qu'un moyen est n√©cessaire pour les prendre en compte pour d'autres quotas, la planification, etc.  Pour l'impl√©menter, le champ <code>Overhead *ResourceList</code> a √©t√© ajout√© √† <code>PodSpec</code> (par rapport aux donn√©es de <code>RuntimeClass</code> , le cas √©ch√©ant). <br><br>  Une autre innovation notable est le <i>Node Topology Manager</i> , con√ßu pour unifier l'approche permettant d'affiner l'allocation des ressources mat√©rielles pour divers composants dans Kubernetes.  Cette initiative est caus√©e par la demande croissante de divers syst√®mes modernes (du domaine des t√©l√©communications, de l'apprentissage automatique, des services financiers, etc.) pour le calcul parall√®le haute performance et la minimisation des retards dans l'ex√©cution des op√©rations, pour lesquels ils utilisent les capacit√©s avanc√©es d'acc√©l√©ration CPU et mat√©rielle.  De telles optimisations dans Kubernetes ont √©t√© r√©alis√©es jusqu'√† pr√©sent gr√¢ce √† des composants disparates (gestionnaire de CPU, gestionnaire de p√©riph√©riques, CNI), et maintenant elles ajouteront une interface interne unique qui unifie l'approche et simplifie la connexion de nouveaux composants similaires - appel√©s soi-disant topologiques - c√¥t√© Kubelet.  Les d√©tails sont dans le <a href="">KEP correspondant</a> . <br><br><img src="https://habrastorage.org/webt/tq/bs/vr/tqbsvryzr9tnxv_9uldn-ofx1es.png"><br>  <i>Diagramme des composants du gestionnaire de topologie</i> <br><br>  La fonctionnalit√© suivante <b>v√©rifie les conteneurs lors du d√©marrage <i>( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sonde de d√©marrage</a> )</i></b> .  Comme vous le savez, pour les conteneurs qui fonctionnent longtemps, il est difficile d'obtenir l'√©tat actuel: ils sont soit "tu√©s" avant le d√©but r√©el de l'op√©ration, soit ils se retrouvent dans une impasse pendant longtemps.  Une nouvelle v√©rification (activ√©e via la porte de fonctionnalit√© appel√©e <code>StartupProbeEnabled</code> ) annule - ou plut√¥t <code>StartupProbeEnabled</code> - l'action de toute autre v√©rification jusqu'au moment o√π le pod a termin√© son lancement.  Pour cette raison, la fonctionnalit√© √©tait √† l'origine appel√©e <a href="">holdoff de sonde de vie de pod-startup</a> .  Pour les pods dont le d√©marrage est long, vous pouvez interroger l'√©tat √† des intervalles de temps relativement courts. <br><br>  De plus, imm√©diatement en version b√™ta, une am√©lioration de RuntimeClass est ajout√©e, ajoutant la prise en charge des ¬´clusters h√©t√©rog√®nes¬ª.  Avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RuntimeClass Scheduling,</a> il n'est plus n√©cessaire que chaque n≈ìud prenne en charge chaque RuntimeClass: pour les pods, vous pouvez choisir RuntimeClass sans penser √† la topologie du cluster.  Auparavant, pour y parvenir - afin que les pods apparaissent sur les n≈ìuds avec la prise en charge de tout ce dont ils avaient besoin - ils devaient attribuer des r√®gles appropri√©es √† NodeSelector et des tol√©rances.  <a href="">KEP</a> parle d'exemples d'utilisation et, bien s√ªr, de d√©tails d'impl√©mentation. <br><br><h2>  R√©seau </h2><br>  Deux fonctionnalit√©s r√©seau importantes qui sont apparues pour la premi√®re fois (dans la version alpha) dans Kubernetes 1.16 sont: <br><br><ul><li>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Prise en charge d'une</a> double pile r√©seau - IPv4 / IPv6</b> - et sa "compr√©hension" correspondante au niveau des pods, n≈ìuds, services.  Il comprend l'interaction d'IPv4 √† IPv4 et d'IPv6 √† IPv6 entre les pods, des pods aux services externes, les impl√©mentations de r√©f√©rence (dans le cadre des ponts Bridge CNI, PTP CNI et Host-Local IPAM), ainsi que l'inverse Compatible avec les clusters Kubernetes qui fonctionnent uniquement sur IPv4 ou IPv6.  Les d√©tails d'impl√©mentation sont dans <a href="">KEP</a> . <br><br>  Un exemple de la sortie de deux types d'adresses IP (IPv4 et IPv6) dans la liste des pods: <br><br><pre> <code class="bash hljs">kube-master<span class="hljs-comment"><span class="hljs-comment"># kubectl get pods -o wide NAME READY STATUS RESTARTS AGE IP NODE nginx-controller 1/1 Running 0 20m fd00:db8:1::2,192.168.1.3 kube-minion-1 kube-master#</span></span></code> </pre> <br></li><li>  <b>La nouvelle API pour Endpoint</b> est l' <a href="">API EndpointSlice</a> .  Il r√©sout les probl√®mes de l'API Endpoint existante avec des performances / √©volutivit√© qui affectent divers composants dans le plan de contr√¥le (apiserver, etcd, endpoints-controller, kube-proxy).  La nouvelle API sera ajout√©e au groupe Discovery API et pourra servir des dizaines de milliers de points de terminaison principaux sur chaque service dans un cluster compos√© d'un millier de n≈ìuds.  Pour ce faire, chaque service est mapp√© √† N objets <code>EndpointSlice</code> , dont chacun par d√©faut n'a pas plus de 100 points de terminaison (la valeur est configurable).  L'API EndpointSlice offrira √©galement des opportunit√©s pour son d√©veloppement futur: prise en charge de nombreuses adresses IP pour chaque module, nouveaux √©tats pour les points de terminaison (non seulement <code>Ready</code> et <code>NotReady</code> ), sous-ensemble dynamique pour les points de terminaison. </li></ul><br>  Le <a href="">finaliseur</a> pr√©sent√© dans la derni√®re version appel√©e <code>service.kubernetes.io/load-balancer-cleanup</code> et attach√© √† chaque service avec le type <code>LoadBalancer</code> pass√© √† la version b√™ta.  Au moment de la suppression d'un tel service, il emp√™che la suppression effective de la ressource jusqu'√† ce que le "nettoyage" de toutes les ressources correspondantes de l'√©quilibreur soit termin√©. <br><br><h2>  Machines API </h2><br>  Le v√©ritable ¬´jalon de stabilisation¬ª est fix√© dans la zone du serveur API Kubernetes et l'interaction avec lui.  √Ä bien des √©gards, cela s'est produit en raison du <b>transfert au statut stable de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CustomResourceDefinitions</a> (CRD)</b> qui <b>n'avait pas besoin d'une pr√©sentation sp√©ciale</b> , qui avait un statut b√™ta depuis le lointain Kubernetes 1.7 (et c'est juin 2017!).  La m√™me stabilisation est venue aux caract√©ristiques qui leur sont li√©es: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"Sous-ressources"</a> avec <code>/status</code> et <code>/scale</code> pour CustomResources; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">conversion de</a> version pour CRD, bas√©e sur un webhook externe; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">r√©cemment introduit</a> (dans K8s 1.15) les valeurs par d√©faut <i>(par d√©faut)</i> et la suppression automatique des champs <i>(√©lagage)</i> pour CustomResources; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">la possibilit√© d'</a> utiliser le sch√©ma OpenAPI v3 pour cr√©er et publier la documentation OpenAPI utilis√©e pour valider les ressources CRD c√¥t√© serveur. </li></ul><br>  Un autre m√©canisme qui est depuis longtemps familier aux administrateurs de Kubernetes: l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>admission webhook</b></a> - est √©galement en version b√™ta depuis longtemps (depuis K8s 1.9) et a maintenant √©t√© d√©clar√© stable. <br><br>  Deux autres fonctionnalit√©s ont atteint la version b√™ta: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">appliquer c√¥t√© serveur</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">regarder les signets</a> . <br><br>  Et la seule innovation significative dans la version alpha a √©t√© le <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">rejet</a> de <code>SelfLink</code></b> - un URI sp√©cial qui repr√©sente l'objet sp√©cifi√© et fait partie d' <code>ListMeta</code> et de <code>ListMeta</code> (c'est-√†-dire une partie de tout objet dans Kubernetes).  Pourquoi le refuser?  La motivation ¬´simple¬ª <a href="">sonne</a> comme l'absence de raisons r√©elles (insurmontables) pour que ce domaine continue d'exister.  Des raisons plus formelles sont d'optimiser les performances (supprimer un champ inutile) et de simplifier le travail de generic-apiserver, qui est oblig√© de traiter un tel champ d'une mani√®re sp√©ciale (c'est le seul champ qui est d√©fini juste avant la s√©rialisation de l'objet).  La v√©ritable ¬´obsolescence¬ª (dans la version b√™ta) de <code>SelfLink</code> arrivera √† la version 1.20 de Kubernetes, et la derni√®re - 1.21. <br><br><h2>  Stockage de donn√©es </h2><br>  Le travail principal dans le domaine du stockage, comme dans les versions pr√©c√©dentes, est observ√© dans le domaine du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">support pour CSI</a> .  Les principaux changements sont les suivants: <br><br><ul><li>  pour la premi√®re fois (dans la version alpha) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">, la</a> <b>prise en charge des plug-ins CSI pour les n≈ìuds de travail Windows est apparue</b> : la mani√®re actuelle de travailler avec les r√©f√©rentiels remplacera les plug-ins dans l'arborescence du noyau Kubernetes et les plug-ins FlexVolume bas√©s sur Powershell de Microsoft; <br><br><img src="https://habrastorage.org/webt/4_/6o/h2/4_6oh2zuutje1tcvwqwzhi385m0.png"><br>  <i>Sch√©ma d'impl√©mentation du plug-in CSI Windows Kubernetes</i> <br></li><li>  la possibilit√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">de redimensionner les volumes CSI</a> , introduite dans K8s 1.12, est devenue une version b√™ta; </li><li>  la possibilit√© d'utiliser CSI pour cr√©er des volumes √©ph√©m√®res locaux ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CSI Inline Volume Support</a> ) a atteint une ¬´augmentation¬ª similaire (de l'alpha √† la b√™ta). </li></ul><br>  La <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fonction de clonage de volumes</a> apparue dans la version pr√©c√©dente de Kubernetes (utilisant des PVC existants comme <code>DataSource</code> pour cr√©er de nouveaux PVC) a √©galement re√ßu le statut b√™ta. <br><br><h2>  Planificateur </h2><br>  Deux changements notables dans la planification (tous deux en version alpha): <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>EvenPodsSpreading</code></a> est la possibilit√© d' <b>utiliser des</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>EvenPodsSpreading</code></a> <b>pour "r√©partir √©quitablement" des charges de charges au lieu d'unit√©s logiques d'application</b> (comme Deployment et ReplicaSet) et d'ajuster cette distribution (comme une exigence stricte ou comme une condition mod√©r√©e, c'est-√†-dire une priorit√©).  Cette fonctionnalit√© √©tendra les capacit√©s de distribution existantes des pods pr√©vus, d√©sormais limit√©es par les <code>PodAntiAffinity</code> <code>PodAffinity</code> et <code>PodAntiAffinity</code> , offrant aux administrateurs un contr√¥le plus fin dans ce domaine, ce qui signifie une meilleure accessibilit√© et une consommation de ressources optimis√©e.  Les d√©tails sont dans le <a href="">KEP</a> . </li><li>  Utilisation de la <i>strat√©gie BestFit</i> dans la <i>fonction de priorit√© RequestedToCapacityRatio</i> lors de la planification des pods, qui permet √† l' <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">emballage bin</a></b> (¬´emballage dans des conteneurs¬ª) d'√™tre utilis√© √† la fois pour les ressources de base (processeur, m√©moire) et √©tendues (comme le GPU).  Voir <a href="">KEP pour</a> plus de d√©tails. <br><br><img src="https://habrastorage.org/webt/4z/gx/zm/4zgxzmdtmhyg-mmjnw-cccyw8wq.gif"><br>  <i>Planification des pods: avant d'utiliser la politique de meilleur ajustement (directement via le planificateur par d√©faut) et de l'utiliser (via l'extension du planificateur)</i> </li></ul><br>  De plus, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">l'</a> opportunit√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">est pr√©sent√©e</a> de cr√©er vos propres plugins pour le planificateur en dehors de l'arbre de d√©veloppement principal de Kubernetes (hors arborescence). <br><br><h2>  Autres changements </h2><br>  √âgalement dans la version Kubernetes 1.16, vous pouvez noter l' <b>initiative visant √† <a href="">mettre</a> les m√©triques existantes en ordre complet</b> , ou plus pr√©cis√©ment, conform√©ment aux <a href="">exigences officielles</a> pour l'instrumentation K8.  Ils s'appuient essentiellement sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation Prometheus</a> pertinente.  Les incoh√©rences ont √©t√© formul√©es pour diverses raisons (par exemple, certaines mesures ont √©t√© simplement cr√©√©es avant que les instructions actuelles n'apparaissent), et les d√©veloppeurs ont d√©cid√© qu'il √©tait temps de tout mettre √† un seul standard, "en ligne avec le reste de l'√©cosyst√®me Prometheus".  La mise en ≈ìuvre actuelle de cette initiative a le statut de la version alpha, qui augmentera progressivement dans les futures versions de Kubernetes en beta (1.17) et stable (1.18). <br><br>  De plus, les changements suivants peuvent √™tre not√©s: <br><br><ul><li>  <b>D√©veloppement de la prise</b> en <b>charge de Windows</b> avec l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">av√®nement</a> de l'utilitaire Kubeadm pour ce syst√®me d'exploitation (version alpha), la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">possibilit√© de</a> <code>RunAsUserName</code> pour les conteneurs Windows (version alpha), l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">am√©lioration de la</a> prise en charge du compte de service g√©r√© de groupe (gMSA) vers la version b√™ta, le support de montage / attachement pour les volumes vSphere. </li><li>  <b>M√©canisme de compression des donn√©es repens√© dans les r√©ponses API</b> .  Auparavant, un filtre HTTP √©tait utilis√© √† ces fins, ce qui imposait un certain nombre de restrictions qui emp√™chaient son inclusion par d√©faut.  Maintenant, la "compression transparente des requ√™tes" fonctionne: les clients qui envoient <code>Accept-Encoding: gzip</code> dans l'en-t√™te re√ßoivent une r√©ponse compress√©e dans GZIP si sa taille d√©passe 128 Ko.  Les clients en d√©placement prennent automatiquement en charge la compression (envoient l'en-t√™te souhait√©), de sorte qu'ils remarquent imm√©diatement une diminution du trafic.  (Pour d'autres langues, des modifications mineures peuvent √™tre n√©cessaires.) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Il est devenu possible de faire</a> <b>√©voluer HPA de / vers z√©ro pods sur la base de mesures externes</b> .  Si la mise √† l'√©chelle est bas√©e sur des objets / mesures externes, alors lorsque les charges de travail sont inactives, vous pouvez automatiquement mettre √† l'√©chelle 0 r√©pliques pour √©conomiser les ressources.  Cette fonctionnalit√© devrait √™tre particuli√®rement utile dans les cas o√π les travailleurs demandent des ressources GPU et que le nombre de types diff√©rents de travailleurs inactifs d√©passe le nombre de GPU disponibles. </li><li>  Un nouveau client - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>k8s.io/client-go/metadata.Client</code></a> - pour un acc√®s "g√©n√©ralis√©" aux objets.  Il est con√ßu pour obtenir facilement des m√©tadonn√©es (c'est-√†-dire la sous-section des <code>metadata</code> ) √† partir des ressources du cluster et effectuer des op√©rations avec elles dans la cat√©gorie de collecte de d√©chets et des quotas. </li><li>  Kubernetes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">peut d√©sormais √™tre construit</a> sans fournisseurs de cloud obsol√®tes (dans l'arborescence ¬´int√©gr√©e¬ª) (version alpha). </li><li>  La capacit√© exp√©rimentale (version alpha) d'appliquer des correctifs kustomize pendant les op√©rations d' <code>init</code> , de <code>join</code> et de <code>upgrade</code> a √©t√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ajout√©e √† l'</a> utilitaire kubeadm.  Pour plus de d√©tails sur l'utilisation de l' <code>--experimental-kustomize</code> , voir <a href="">KEP</a> . </li><li>  Le nouveau noeud final pour apiserver est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>readyz</code></a> , ce qui vous permet d'exporter des informations de pr√©paration.  Le serveur API a √©galement un indicateur <code>--maximum-startup-sequence-duration</code> , qui vous permet d'ajuster ses red√©marrages. </li><li>  Deux <b>fonctionnalit√©s pour Azure sont</b> d√©clar√©es stables: la prise en charge des zones de disponibilit√© et le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">groupe de ressources crois√©es</a> (RG).  De plus, Azure a ajout√©: <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Prise en charge de l'authentification</a> AAD et ADFS </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">annotation</a> <code>service.beta.kubernetes.io/azure-pip-name</code> pour sp√©cifier l'IP publique de l'√©quilibreur de charge; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Possibilit√© de</a> configurer <code>LoadBalancerName</code> et <code>LoadBalancerResourceGroup</code> . </li></ul></li><li>  AWS prend en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">charge</a> EBS sur Windows et l'API EC2 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">optimis√©e</a> appelle <code>DescribeInstances</code> . </li><li>  Kubeadm <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">migre</a> d√©sormais lui-m√™me <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sa</a> configuration CoreDNS lors de la mise √† niveau vers CoreDNS. </li><li>  Les fichiers binaires <b>etcd</b> dans l'image Docker correspondante sont ex√©cutables dans le monde entier, ce qui vous permet d'ex√©cuter cette image sans avoir besoin des privil√®ges root.  De plus, l'image de migration etcd a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">supprim√© la</a> prise en charge de la version etcd2. </li><li>  <a href="">Cluster Autoscaler 1.16.0 est</a> pass√© √† l'utilisation de l'image sans distraction comme image de base, a am√©lior√© les performances et a ajout√© de nouveaux fournisseurs de cloud (DigitalOcean, Magnum, Packet). </li><li>  Mises √† jour du logiciel utilis√© / d√©pendant: Go 1.12.9, etcd 3.3.15, CoreDNS 1.6.2. </li></ul><br><h2>  PS </h2><br>  Lisez aussi dans notre blog: <br><br><ul><li>  ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kubernetes 1.15: un aper√ßu des principales innovations</a> ¬ª; </li><li>  ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kubernetes 1.14: un aper√ßu des principales innovations</a> ¬ª; </li><li>  ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kubernetes 1.13: un aper√ßu des principales innovations</a> ¬ª; </li><li>  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kubernetes 1.12: un aper√ßu des principales innovations</a> ." </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr467477/">https://habr.com/ru/post/fr467477/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr467463/index.html">Juste la division, ou comment cr√©er une th√©orie math√©matique et y gagner 400 000 $. Troisi√®me s√©rie, finale</a></li>
<li><a href="../fr467465/index.html">Le cloud sauvera-t-il les smartphones ultra-√©conomiques</a></li>
<li><a href="../fr467471/index.html">Soul Mikrotik contre ILV sans √¢me et le m√™me fournisseur</a></li>
<li><a href="../fr467473/index.html">Et plus sur les sortes</a></li>
<li><a href="../fr467475/index.html">Renvoyez Thread.Abort () √† .NET Core. Livraison d'applications avec sa version de CoreCLR et CoreFX</a></li>
<li><a href="../fr467479/index.html">Kir Shatrov: Shopify a commenc√© avec Rails et ici, ils aiment sinc√®rement ce cadre.</a></li>
<li><a href="../fr467485/index.html">R√©solution de probl√®mes avec pwnable.kr 23 - calculatrice md5. Nous traitons avec Stack Canary. Connexion des biblioth√®ques C en python</a></li>
<li><a href="../fr467487/index.html">√Ä propos de l'avenir des paiements par blockchain et crypto-monnaie</a></li>
<li><a href="../fr467489/index.html">Ce sont des variables statiques √©tranges en PHP</a></li>
<li><a href="../fr467493/index.html">Comment devenir moins accessible √† un attaquant potentiel sur Internet. Exp√©rience personnelle et observations</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>