<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚òòÔ∏è ü•ò ü¶É Construyendo y operando una red anycast tolerante a fallas üéÅ ü•ë üò†</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola Habr! La siguiente es una transcripci√≥n del informe de Evgeny error2407 Bogomazov (ingeniero de I + D de red) y Dmitry h8r Shemonaev (jefe de NOC...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Construyendo y operando una red anycast tolerante a fallas</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/qrator/blog/457446/">  Hola Habr!  La siguiente es una transcripci√≥n del informe de Evgeny <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">error2407</a> Bogomazov (ingeniero de I + D de red) y Dmitry <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">h8r</a> Shemonaev (jefe de NOC) del pasado UPTIMEDAY.  Video al final de la publicaci√≥n. <br><br><img src="https://habrastorage.org/webt/h2/kk/hf/h2kkhfbh4bzqqwtsh2x1_vsxjrk.png"><br><blockquote>  Hoy nos gustar√≠a hablar sobre qu√© problemas surgen al construir una red de difusi√≥n ilimitada.  ¬øPor qu√© nos metimos en esto y qu√© estamos haciendo all√≠? </blockquote><a name="habracut"></a><br><img src="https://habrastorage.org/webt/_f/pb/lr/_fpblrppj9--llxvsztbw-nrzpy.png"><br>  En Qrator Labs, construimos nuestra propia red de difusi√≥n ilimitada para resolver problemas especiales que difieren de los de los operadores de telecomunicaciones "comunes".  En consecuencia, tenemos puntos de presencia en estas regiones: simplemente olvidamos agregar a Rusia aqu√≠.  Y esto significa que tenemos muchas historias sobre c√≥mo y no se debe hacer.  Hoy compartiremos con ustedes algunos de ellos. <br><br><img src="https://habrastorage.org/webt/ga/ai/xk/gaaixkdwusnkgwqc4h4wt_6kake.png"><br>  ¬øQu√© vamos a decir, considerando que el tema es inicialmente voluminoso?  Al principio, solo quer√≠amos hacer preguntas y respuestas (preguntas y respuestas), pero a√∫n as√≠ nos pidieron leer el informe.  Por lo tanto, si no decimos algo, pero definitivamente no tenemos tiempo, p√°sanos despu√©s, al margen. <br><br>  Como parte de lo planeado, trataremos de hablar sobre la diferencia entre equilibrar usando DNS y BGP.  C√≥mo elegir nuevos sitios y a qu√© debe prestar atenci√≥n para evitar el dolor posterior.  C√≥mo apoyar todo esto y cu√°nto le dir√° esta dif√≠cil tarea a Dmitry. <br><img src="https://habrastorage.org/webt/ai/so/3s/aiso3sgur0rj7nwml4w5zjzilhe.png"><br>  Para comenzar, determinemos qu√© tan familiarizado est√° con el tema. <br>  - ¬øCu√°ntos saben qu√© es anycast y por qu√© es necesario?  (aproximadamente un tercio de las manos se levantan en el pasillo) <br>  - ¬øY qui√©n est√° familiarizado con DNS y configur√≥ el servidor?  (aproximadamente el mismo n√∫mero de manos) <br>  - Y BGP (dos manos en el marco) <br><br>  A√∫n mucho <br><br>  - Bueno, la √∫ltima pregunta: ¬øqui√©n est√° familiarizado con NOC?  ¬øQui√©n tuvo problemas con los proveedores y qui√©n intent√≥ resolverlos?  (la mano del administrador del sistema Habr es visible en el marco) <br><br>  Genial  En este caso, espero que lo que vamos a decirte surja. <br><img src="https://habrastorage.org/webt/ei/zh/dc/eizhdckf0att6kbopdgn49ngwji.png"><br>  Antes de pasar a anycast, veamos por qu√© es necesario.  Tiene una aplicaci√≥n con la que desea procesar las solicitudes de los clientes.  Est√°s alojado en alg√∫n lugar, mientras no lo piensas particularmente.  Compre el nombre DNS, resu√©lvalo, etc.  Luego firme el certificado, porque HTTPS.  Tu aplicaci√≥n est√° creciendo. <br><img src="https://habrastorage.org/webt/yx/z8/kt/yxz8ktime7shqpt5sesf60mtw5k.png"><br>  Primero, debes manejar la carga.  Si su aplicaci√≥n "dispara" al mismo tiempo, es decir, se vuelve muy popular, muchos m√°s usuarios acuden a usted.  Debe comprar hierro y equilibrar la carga sobre √©l. <br><br>  Adem√°s, pueden surgir clientes especialmente exigentes con las palabras: "¬°Chicos, deben estar disponibles siempre y en todas partes por ese tipo de dinero!"  Lo que lleva al hecho de que est√° colocando la redundancia de los recursos inform√°ticos no solo para el procesamiento de cargas m√°ximas, sino simplemente como una reserva. <br><br>  Adem√°s, hoy ya se ha mencionado en otras apariencias, no puede colocar las gl√°ndulas en un centro de datos; puede ocurrir un desastre natural, lo que significa que la aplicaci√≥n entrar√° en inactividad, lo que causar√° p√©rdidas financieras y de otro tipo.  Por lo tanto, si su aplicaci√≥n ha crecido lo suficiente, ya deber√≠a estar ubicado en varios centros de datos, de lo contrario ser√° malo. <br><img src="https://habrastorage.org/webt/ak/ml/9l/akml9ljdopye_n4kf1u6lqrlq20.png"><br>  El problema tiene un lado negativo: si su aplicaci√≥n es urgente, como en el an√°lisis financiero o el comercio, es importante que env√≠e las solicitudes a sus usuarios lo m√°s r√°pido posible.  La notoria latencia con la que est√°n conectados dos puntos.  El primero: si desea enviar una solicitud lo m√°s r√°pido posible, entonces para esto, el n√∫mero de solicitudes y respuestas a ellas debe ser lo m√°s peque√±o posible.  Una vez m√°s, el hecho es que cuando el usuario se conecta contigo por primera vez, todo no funciona y se ve obligado a pasar por todos los c√≠rculos del infierno.  El segundo punto es la velocidad de la luz.  Un paquete de Europa occidental a Rusia no puede ir m√°s r√°pido que un cierto n√∫mero de milisegundos, no hay nada que hacer al respecto. <br><img src="https://habrastorage.org/webt/rv/8b/f0/rv8bf0jfbctzabai0cuqh6q18ni.png"><br>  Es necesario estar ubicado en varios centros de datos porque queremos redundancia y necesitamos estar m√°s cerca de los clientes potenciales.  Si, por ejemplo, su regi√≥n principal de clientes es Am√©rica, entonces colocar√° su equipo all√≠ para que el tr√°fico no pase por otros pa√≠ses y partes del mundo. <br><br>  Resulta que a partir de alg√∫n momento tendr√°s que estar presente en todas partes del mundo en diferentes lugares.  Y esto todav√≠a no es de ning√∫n tipo. <br><img src="https://habrastorage.org/webt/ko/uv/q2/kouvq2rg2extkysj5rffo8btofe.png"><br>  Entonces necesitas algunos sitios.  De alguna manera, debe elegirlos, ambos inicialmente nuevos, y comprender su capacidad de escalar: durante la sobrecarga, tendr√° que comprar hardware adicional. <br><br>  Si ya tiene varios sitios, debe aprender a distribuir usuarios entre ellos.  Hay dos sillas: BGP y DNS. <br><img src="https://habrastorage.org/webt/ve/zp/aj/vezpajk-xzaj4g0_rohgo3ouhqi.png"><br>  A partir de dos puntos comenzaremos con el √∫ltimo.  Y nuevamente dos enfoques principales.  En el primero, hay diferentes sitios que tienen diferentes IP y, en consecuencia, cuando un usuario presenta una solicitud, obtiene la IP de un sitio espec√≠fico y los asigna. <br><br>  ¬øQu√© estamos decidiendo aqu√≠?  Queremos que un usuario de una determinada regi√≥n acceda a un sitio ubicado en la misma regi√≥n.  La soluci√≥n m√°s simple y tonta es usar GeoDNS.  Comprende las regiones en las que se encuentran los prefijos: toma estos datos, los inserta en un servidor DNS, asigna los usuarios en consecuencia, si la IP de origen proviene del prefijo correcto, al sitio correcto.  Pero hay un problema: los que resuelven.  Y alrededor del 15-20% de las solicitudes provienen de solucionadores, es decir, la IP de origen ser√° 8.8.8.8.  ¬øD√≥nde poner esto? <br><br>  Para hacer esto, existe EDNS, que permite, dentro del marco de la solicitud, transferir la subred del cliente original de la que proviene.  Como saben, el 1 de febrero de 2019, ocurri√≥ el D√≠a de la Bandera de DNS: desde ese d√≠a, todos los servidores DNS deben admitir esta extensi√≥n. <br><br>  En este ejemplo, puede tener uno o varios sitios donde se encuentran servidores DNS que mapean a los usuarios, y los propios servidores se pueden distribuir en todo el mundo.  Y ya en el marco de DNS existe la oportunidad de usar anycast; hablaremos de esto un poco m√°s adelante. <br><br>  En el esquema general, asigna el usuario al sitio m√°s cercano a √©l, dando la direcci√≥n de este sitio en particular.  Se usa con menos frecuencia. <br><br>  El tercer enfoque est√° relacionado con el hecho de que incluso si el usuario vino de la misma regi√≥n donde se encuentra el sitio, esto no significa que se haya resuelto el problema de los retrasos.  Puede ser a√∫n m√°s rentable transferir al usuario a otro sitio, ya que la regi√≥n puede sobrecargarse si hay rutas alternativas disponibles.  ¬øSer√≠a bueno usar esto?  Desafortunadamente, casi no hay soluciones actuales para hacer algo similar.  Facebook de alguna manera mostr√≥ un informe de que hizo esto, pero no hay un cuadro, todo tendr√° que hacerse con sus propias manos. <br><img src="https://habrastorage.org/webt/6a/m1/qp/6am1qpmydhm7ztcbihnlxg9uxn4.png"><br>  ¬øQu√© tenemos con DNS? <br><br>  Las ventajas son que a los diferentes usuarios se les pueden dar diferentes direcciones, y un usuario espec√≠fico se puede enviar a un sitio estrictamente definido, es decir, puede trabajar con usuarios individuales.  Bueno, DNS es f√°cil de configurar. <br><br>  ¬øCu√°les son las desventajas?  Si realiza un ajuste granular, entonces la configuraci√≥n crece bastante r√°pido, lo que es imposible de soportar con sus manos.  Necesita automatizaci√≥n.  Y si la automatizaci√≥n se realiza incorrectamente, entonces todo se descompondr√°: si el DNS miente, entonces la aplicaci√≥n es inaccesible. <br><br>  Por otro lado, si realiza el equilibrio de DNS, el usuario se asignar√° a un sitio espec√≠fico y su IP se volver√° vulnerable.  Esta es la raz√≥n por la que no utilizamos el equilibrio de DNS en casa, ya que en este caso todo el tr√°fico del ataque puede fluir exactamente en un punto, deshabilit√°ndolo. <br><br>  Y como ya se mencion√≥, DNS no admite el equilibrio de latencia fuera de la caja.  Y hacerlo t√∫ mismo es muy dif√≠cil. <br><img src="https://habrastorage.org/webt/9k/on/ng/9konngtwrxyf4kmhqlj-gjytbnw.png"><br>  Lleguemos finalmente a las cosas buenas, a saber, BGP anycast. <br><br>  Este es exactamente nuestro caso.  Cual es el punto?  Todos los sitios tienen la misma IP, o mejor dicho, anuncian el mismo prefijo.  El usuario se asigna al sitio "m√°s cercano".  "M√°s cercano" desde el punto de vista de BGP: dicho prefijo se anuncia utilizando varias rutas, y si el operador tiene varias rutas para el sitio anunciado, la mayor√≠a de las veces elegir√° la m√°s corta.  De nuevo desde el punto de vista de BGP.  Pronto explicaremos por qu√© esto es malo. <br><br>  BGP tambi√©n funciona con la disponibilidad de prefijos, por lo que siempre opera en una subred y no puede manipular IP individuales. <br><br>  Como resultado, dado que se anuncia el mismo prefijo en todos los sitios, todos los usuarios de la misma regi√≥n ser√°n dirigidos al mismo sitio.  El atacante no tiene forma de transferir la carga de una regi√≥n a otra, por lo que debe ganar tanta potencia en cada uno de los lugares como deseaba el operador que eligi√≥ esta ruta.  Incluso si no punt√∫a, a√∫n puede protegerse. <br><br>  Se anuncia el mismo prefijo: ¬øqu√© podr√≠a ser m√°s f√°cil?  Pero tambi√©n hay problemas. <br>  La primera es que debido a la necesidad de anunciar el mismo prefijo en todo el mundo, se ve obligado a comprar direcciones independientes del proveedor, que son varias veces m√°s caras. <br><br>  El segundo se reduce al hecho de que los usuarios de una regi√≥n no pueden simplemente ser arrojados a otra, si de repente algunos de ellos son ileg√≠timos o con el objetivo de diversificar el tr√°fico de ataques usando otros sitios, porque algunos de ellos duelen.  No hay tales bol√≠grafos. <br><br>  El tercer problema es que dentro del marco de BGP es muy f√°cil elegir el sitio "incorrecto" y los proveedores "incorrectos".  Te parecer√° que tienes redundancia y disponibilidad, pero en realidad no habr√° ni lo uno ni lo otro. <br><img src="https://habrastorage.org/webt/mo/bq/tt/mobqttqpsg2o2yhh9yzydelt008.png"><br>  Tiene varios sitios entre los cuales desea dispersar usuarios.  ¬øCu√°les son los controles para restringir una determinada regi√≥n y atraer a los usuarios a un sitio espec√≠fico? <br><br>  Hay Geo Community.  ¬øPor qu√© son ellos?  D√©jame recordarte: eliges la ruta m√°s cercana desde el punto de vista de BGP.  Y tiene un operador de nivel 1, por ejemplo, Level3, que tiene su propia troncal en todo el mundo.  El cliente de Level3, si est√° conectado directamente a √©l, se encuentra en dos esperanzas de usted.  Y alg√∫n operador local, en tres.  En consecuencia, un operador de Estados Unidos estar√° m√°s cerca de usted que un operador de Rusia o Europa, porque desde el punto de vista de BGP es as√≠. <br><br>  Con Geo Community, puede limitar la regi√≥n dentro de la cual un operador tan grande e internacional anunciar√° su ruta.  El problema tambi√©n es que no siempre est√°n disponibles (Comunidad Geo). <br><br>  Tenemos varios casos cuando se trata de nosotros mismos.  Dim? <br><br>  (Dmitry Shemonaev toma la palabra) <br><img src="https://habrastorage.org/webt/no/w0/6i/now06iptknl3uf_utkuguxmotn0.png"><br><br>  Fuera de la caja, muchos operadores no proporcionan esto y dicen que, dicen, no restringiremos nada para la neutralidad de la red, la libertad, etc.  Tenemos que explicar a los operadores durante mucho tiempo y qui√©nes somos, por qu√© lo queremos y por qu√© es tan importante para nosotros, y tambi√©n educar por qu√© esto no se aplica a la neutralidad que tienen en mente.  A veces esto funciona, y a veces no, y simplemente nos negamos a cooperar con operadores potencialmente interesantes porque dicha cooperaci√≥n conducir√° a un mayor dolor en la operaci√≥n de nuestro servicio. <br><br>  Adem√°s, a menudo nos encontramos con el hecho de que hay una serie de operadores que Eugene ya ha mencionado: estos son Tier-1, que no le compran tr√°fico a nadie y solo intercambian tr√°fico entre ellos.  Pero, adem√°s de ellos, hay un par de al menos docenas de operadores que no son Tier-1: compran tr√°fico, pero al mismo tiempo tambi√©n tienen redes desplegadas en todo el mundo.  No tiene que ir muy lejos: desde lo m√°s cercano a nosotros es Rostelecom o ReTN, un poco m√°s lejos hay maravillosas telecomunicaciones de Taipei, China Unicom, Singtel, etc. <br><br>  Y en Asia a menudo nos enfrentamos a una situaci√≥n tal que, al parecer, tenemos varios puntos de presencia en Asia, estamos conectados a varios operadores bastante grandes, desde el punto de vista de esta regi√≥n.  Sin embargo, nos enfrentamos constantemente con el hecho de que el tr√°fico de Asia va a nuestro sitio a trav√©s de Europa o realiza un viaje transatl√°ntico.  Desde el punto de vista de BGP, esto es bastante normal en s√≠ mismo, ya que no tiene en cuenta la latencia.  Pero la aplicaci√≥n sufre en tales condiciones, sus usuarios tambi√©n, en general, todos sufren, pero desde el punto de vista de BGP, todo est√° bien. <br><br>  Y tiene que hacer algunos cambios con las manos, hacer ingenier√≠a inversa de c√≥mo se organiza la ruta de este o aquel operador, a veces negociar, preguntar, rogar, arrodillarse.  En general, haga cualquier cosa para resolver estos problemas.  Con esto, nuestro NOC se enfrenta a una envidiable regularidad. <br><br>  Como regla general, los operadores satisfacen sus necesidades y, en algunos casos, est√°n listos para proporcionar un determinado conjunto ... Pero, en general, ¬øpueden aquellos que trabajaron con BGP a nivel comunitario levantar la mano?  (Sonr√≠e) ¬°Genial!  Es decir, los operadores est√°n listos para proporcionar alg√∫n conjunto de gerentes de la comunidad para, por ejemplo, reducir las preferencias locales en una determinada regi√≥n, o agregar un prefijo, o no anunciar bien o algo m√°s. <br><br>  En consecuencia, hay dos formas de equilibrar la carga en BGP.  El primero es c√≥mo est√° escrito en la diapositiva, el llamado  Precede.  Podemos imaginar la ruta a BGP como una peque√±a l√≠nea que enumera los sistemas aut√≥nomos a trav√©s de los cuales pasa la ruta del paquete del remitente al destinatario.  Puede agregar un en√©simo n√∫mero de sistemas aut√≥nomos a esta ruta y, como resultado, la ruta se extender√° y no ser√° muy prioritaria.  Este es un m√©todo frontal y no funciona para todo: si agrega prepend, no es granular, es decir, todos lo ver√°n en el cono del operador en el que est√° haciendo esta manipulaci√≥n. <br><br>  Por otro lado, tambi√©n est√° la comunidad BGP, que est√° marcando, para entender de d√≥nde viene este o aquel prefijo, de qui√©n es con respecto al operador, es decir, un banquete, cliente o aguas arriba, y tambi√©n en qu√© lugar se toma y etc.  Y hay administradores de la comunidad que van al enrutador al operador y √©l toma ciertas acciones con este prefijo. <br><br>  La mayor√≠a de los operadores tienen comunidades restrictivas.  Tomemos, por ejemplo, el operador ruso abstracto, que est√° conectado a varios operadores rusos en el vac√≠o.  Algunos de ellos tienen relaciones entre pares, lo que implica un intercambio de tr√°fico paritario, y algunos los compran.  En consecuencia, proporcionan comunidad para hacer preparativos en esta direcci√≥n, extendiendo la ruta AS, o no para anunciar o cambiar las preferencias locales.  Si est√° operando con BGP, mire a la comunidad y sepa qu√© puede hacer el solicitante para convertirse en su proveedor.  A veces, las comunidades est√°n ocultas y debe comunicarse con los administradores de los operadores o con expertos t√©cnicos para mostrarnos un determinado conjunto compatible. <br><br>  Por defecto, la comunidad, en el caso de la regi√≥n europea, se describe en RIPE DB.  Es decir, usted solicita a whois los n√∫meros del sistema aut√≥nomo y el campo Comentarios generalmente dice lo que el operador tiene en t√©rminos de marcado y administraci√≥n de la comunidad.  No todos tienen esto, por lo que a menudo hay que buscar diferentes lugares interesantes. <br><br>  Tan pronto como comience a operar BGP, en esencia, dice que la red es parte de su aplicaci√≥n y no algo abstracto, por lo que debe considerar los riesgos. <br><br>  Por ejemplo, tuvimos un caso con una instituci√≥n financiera letona, cuyo prefijo, si se inclu√≠a a trav√©s de nuestra red, no estaba disponible en aproximadamente la mitad de Letonia.  Aunque parece que nada ha cambiado, el mismo prefijo que estamos anunciando en los operadores Tier-1, en Europa, parece que todo est√° all√≠, incluida la redundancia.  Pero ni siquiera pod√≠amos imaginar que aproximadamente la mitad de los operadores letones ten√≠an como dispositivos fronterizos que no pod√≠an digerir el volumen completo de la vista completa (toda la tabla de enrutamiento BGP), que en ese momento era de aproximadamente 650 mil prefijos.  Se quedaron all√≠, bueno, si alguien sabe qu√© es el Catalyst 3550, fue exactamente all√≠ donde estaba, solo pod√≠a tener 12,000 prefijos.  Bueno, obtuvieron una cierta cantidad de prefijos de IX'a, en los que, por supuesto, no hab√≠a ning√∫n defecto.  Junto con esto, de otro operador: la televisi√≥n letona, cuyo prefijo en el IX no era / 24, sino / 22 en el que se encontraba este / 24. <br><br>  Como resultado, fue a un lugar donde no sab√≠a d√≥nde encaminarlo y todo vol√≥ a la tuber√≠a.  Para solucionar esto, nos llev√≥ unos dos d√≠as y una correspondencia persistente con los operadores letones hasta que nos mostraron la salida de su dispositivo de borde y solo notamos el nombre de host all√≠.  Hola a todos, es muy divertido a veces. <br><br>  Hay muchos operadores con hierro viejo.  Hay muchos operadores con una extra√±a comprensi√≥n de c√≥mo deber√≠a funcionar la red.  Y ahora este tambi√©n es tu problema si vas a jugar con BGP.  Bueno, al final, muchos operadores tienen una sola pierna (un proveedor superior de conectividad), por lo que tienen sus propios conjuntos de muletas. <br><img src="https://habrastorage.org/webt/89/zx/is/89zxisdottw3dfx4cxkca1o1xt4.png"><br><br>  (Evgeny Bogomazov contin√∫a) <br><br><img src="https://habrastorage.org/webt/l-/dd/wa/l-ddwaj2uwwteduh5wupbhygz1i.png"><br><br>  Como puede ver, incluso este tema puede desarrollarse durante mucho tiempo y es dif√≠cil mantenerlo en 40 minutos. <br><br>  Entonces, tienes plumas con las que deseas limitar la regi√≥n.  Ahora veamos qu√© necesita mirar y qu√© es importante tener en cuenta cuando desee hospedarse en un sitio nuevo. <br><br>  El mejor caso no es comprar su hardware, sino estar de acuerdo con una nube de alojamiento.  Entonces ya, ser√° posible estar de acuerdo con √©l en que se conectar√° independientemente a ciertos proveedores. <br><br>  Por otro lado, si, sin embargo, sigui√≥ este camino, debe comprender aproximadamente qu√© regi√≥n, con o sin asas, se unir√° a este sitio.  Para hacer esto, necesita modelar, o m√°s bien, debe comprender que si hay varias rutas desde diferentes sitios, cu√°l ser√° la mejor.  Para hacer esto, debe tener una idea de c√≥mo funciona BGP y c√≥mo circulan las rutas en la situaci√≥n actual. <br><br>  Dos puntos principales son la longitud de la ruta, influenciada por prepuestos y la preferencia local, que dice que las rutas de los clientes son preferibles a las rutas de otros lugares.  En principio, estos dos puntos son suficientes para comprender qu√© regi√≥n se unir√° y d√≥nde levantarse. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entre otras cosas, hay un par de cosas a considerar, a saber, qu√© tipo de conectividad tiene su proveedor, adem√°s, el hecho de que algunos proveedores no se comunican entre s√≠ (guerras entre pares), e incluso si se conecta al Nivel 1 regional, esto no significa que Todos los usuarios locales te ver√°n. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Otra cosa que a menudo se olvida es que la conectividad en IPv4 e IPv6 es completamente diferente, no port√°til entre s√≠.</font></font><br><img src="https://habrastorage.org/webt/5w/1o/mo/5w1omookjlxi8nlba_jya-k0p-g.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y aqu√≠ llegamos al punto principal. Respondiendo a la pregunta: "¬øD√≥nde levantarse?" La elecci√≥n parece ser obvia. Si tienes usuarios en la regi√≥n, obtienes IX en esta regi√≥n y no hay nada m√°s en lo que pensar. Hay conectividad, la mayor√≠a de los usuarios, en teor√≠a, deber√≠an estar conectados a ella, y la mayor√≠a de los especialistas en contenido, como compa√±√≠as como Yandex y otras, primero se conectan a IXs y solo luego a proveedores. Pero los proveedores pueden tener clientes √∫nicos, algunos proveedores no est√°n presentes en IX y, como resultado, no puede redirigir a estos usuarios a usted mismo, lo har√°n de manera extra√±a.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Al elegir proveedores, no puede volverse loco: tuvimos un par de casos en los que el enfoque incorrecto provoc√≥ un problema. Los proveedores son nuestra elecci√≥n, porque si no tienes muchos recursos para conectarte, si vas a los jugadores regionales m√°s grandes, terminar√°s con la misma conectividad que en IX. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dime c√≥mo elegir los proveedores correctos, Dima. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(y nuevamente Dmitry Shemonaev) </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Est√° bien. Imaginemos que tenemos un punto y la regi√≥n de nuestro inter√©s es Rusia. Tenemos un punto en un centro de datos condicionalmente bueno en Mosc√∫, operamos con nuestro sistema aut√≥nomo, nuestro propio conjunto de prefijos y decidimos escalar usando BGP anycast: elegante y de moda.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El negocio, junto con colegas t√©cnicos, decidi√≥ que desde Vladivostok hasta Mosc√∫ hay un RTT muy grande y esto es malo, es decir, no es bueno. Digamos que nos quedaremos en Mosc√∫ y pondremos fin a Novosibirsk, todo ser√° mejor, RTT caer√°, por supuesto. Apenas dicho que hecho. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esto plantea la cuesti√≥n de un sitio para equipos, pero esto est√° un poco fuera del alcance de nuestra conversaci√≥n hoy, pero la cuesti√≥n de elegir un operador es bastante.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parecer√≠a que la elecci√≥n es obvia: en Mosc√∫ estamos conectados con el Moskvatelekom condicional, peg√©monos tambi√©n en Novosibirsk. S√≠, en principio, podemos confiar en el enrutamiento interno del proveedor, pero esto no siempre es correcto; en este caso, ponemos todos los huevos en una canasta y debemos entender que el enrutamiento de acuerdo con el IGP del operador puede no ser √≥ptimo, por decir lo menos, porque no siempre est√° claro lo que lo impulsa A veces es comprensible, a veces no lo es tanto, ahora no se trata de eso, adem√°s, la administraci√≥n me prohibi√≥ maldecir, as√≠ que no puedo dar algunos ejemplos en detalle.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las tendencias modernas son tales que incluso Moskvatelecom puede decir que ha llegado el momento de SDN y ahora pondremos un controlador maravilloso que controlar√° la red. Y en un punto, dicho controlador simplemente puede destruir esta red. Por casualidad, no recuerdo tal caso, espec√≠ficamente con un controlador SDN, pero recientemente en Estados Unidos, un gran operador (CenturyLink) dej√≥ una tarjeta de red al dios de la red y toda la red era inestable en todo Estados Unidos. Debido a una tarjeta de interfaz de red. El NOC de este operador resolvi√≥ este problema durante tres o cuatro d√≠as. Debido a una tarjeta de red. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si est√° conectado a un operador, lo felicito sinceramente.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bueno, entonces han decidido: no cooperaremos con un solo operador condicional en Mosc√∫ y Novosibirsk. Aqu√≠, con Moskvatelecom, y all√°, con Novosibirsktelecom (todas las coincidencias son aleatorias). Los tama√±os de los conos del cliente de estas dos telecomunicaciones difieren como una tortuga de un elefante y obtendr√° todo su tr√°fico a donde cae el cono principal del cliente, es decir, a Moskvatelecom con sede en Mosc√∫. Siempre es aconsejable que los operadores sean paritarios y tengan pares entre ellos en el territorio de la regi√≥n en la que se encuentra su inter√©s. En Rusia, hace varios a√±os, los operadores m√°s grandes, como Rostelecom y TTK, ten√≠an pares en Mosc√∫, San Petersburgo, Nizhny Novgorod, Novosibirsk y, al parecer, en Vladivostok. Por lo tanto, el tr√°fico pas√≥ entre estos operadores m√°s o menos de manera √≥ptima.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pero el operador a√∫n debe seleccionarse correctamente. Entonces √©l tiene una comunidad, entonces √©l tiene un NOC. Todo esto es realmente importante, porque el a√±o pasado hubo un caso maravilloso cuando un operador ruso bastante grande prob√≥ algunos de sus servicios y por la noche anunci√≥ muchos prefijos de la ciudad de San Petersburgo con la inserci√≥n de su sistema aut√≥nomo en el segundo servidor de ruta DE-CIX en Frankfurt. Lo anunci√≥ all√≠ con una comunidad de agujeros negros.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como resultado, muchos operadores y centros de datos de San Petersburgo enfrentaron la inaccesibilidad de, por ejemplo, la red TTK. Esto tambi√©n nos afect√≥, pero pudimos evitar esto, porque entre nuestros puntos tenemos nuestra propia red, en alg√∫n lugar superpuesto y en alg√∫n lugar f√≠sico, y enrutamos el tr√°fico desde el operador problem√°tico al que no ten√≠a problemas. En general, venci√≥. Pero le digo esto para que sepa que el NOC del operador debe ser adecuado, porque en ese caso el NOC del delincuente no contact√≥ la noche del viernes al s√°bado, sino que se despert√≥ solo el lunes. Inaccesibilidad parcial de tres d√≠as para varios operadores. Mejor piensa tres veces.</font></font><br><img src="https://habrastorage.org/webt/y9/tl/j7/y9tlj7bpbxs6ftkb8bq-d4vnvww.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Volvamos a NOC. Centro de operaciones de red: un centro de administraci√≥n de red, esta es la divisi√≥n de la empresa que se dedica a la operaci√≥n de la red, operaciones de red, etc. Respuestas a una cantidad de tickets recibidos con respecto a la red. ¬øQu√© quieres agregar? Los especialistas criados en la suma de Aichi en esta sala probablemente sepan todas las cosas buenas sobre el monitoreo. Esto es realmente importante En algunos casos, cosas muy espec√≠ficas tendr√°n que ser monitoreadas.</font></font><br><img src="https://habrastorage.org/webt/kc/6y/vq/kc6yvqtrzauok7myxr58bvlyces.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algunos usuarios pueden quejarse de que "todo es de alguna manera malo" y no pueden proporcionar los diagn√≥sticos necesarios para comenzar a trabajar para corregir la situaci√≥n. Hay una se√±al que es mala, y qu√© y d√≥nde no est√° claro. En este caso, intentamos interactuar con el NOC del operador en el cono del cliente en el que se encuentra este usuario. Si no funciona, veremos qu√© correlaciones hay: la posibilidad de un nodo de proyecto RIPE Atlas dentro de este cono. En general, recolectamos como podemos. Estamos listos para lo que no siempre nos pueden dar.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En algunos casos, tiene sentido monitorear con qu√© comunidad este o aquel prefijo viene a su enrutador de borde y recopilar una retrospectiva hist√≥rica, perd√≥n por la tautolog√≠a. Por ejemplo, tomamos tres operadores: Megafon, Rostelecom y Transtelecom. Supongamos que todos ellos est√°n mirando en el territorio de la Federaci√≥n Rusa, y usted est√° conectado a un Rostelecom condicional o no importa. Ver√° los prefijos en los que se encuentran sus usuarios, con alg√∫n tipo de comunidad de marcado, en este caso. Se pueden recopilar, registrar y, cuando sucede algo, la comunidad cambiar√°. Por ejemplo, obtienes un prefijo con la comunidad de que esta es una fiesta en Rusia. S√≠, bueno, grabado. Y luego esta comunidad ha cambiado al hecho de que esta es una fiesta en Frankfurt.</font></font> ¬øQu√© significa esto?<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Que estos operadores rompieron las relaciones entre pares y que usted y Latency no lo est√°n haciendo muy bien, est√° atravesando el ciclo europeo. En este caso, puede hacer algo de forma proactiva, pero lleva mucho tiempo y requiere determinaci√≥n, as√≠ como otras cualidades. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y si es posible, automatice todo: fue dif√≠cil hace 10 a√±os, y ahora hay muchas utilidades, como Ansible, Chef, Puppet, que pueden interactuar con elementos de la red. ¬øPor qu√© es importante la automatizaci√≥n? He estado configurando BGP durante mucho tiempo y la primera regla es algo como esto: "Quienquiera que haya configurado su vecindario BGP, por otro lado, no est√° configurado por una persona muy agradable". Desde el punto de vista de esa persona, esta regla tambi√©n se aplica a usted.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Personalmente tuve un caso cuando transfer√≠ todos los pares de una frontera a otra en un operador de Samara cuyo nombre no nombraremos. Tuve una uni√≥n con un proveedor de contenido importante: una sala de cine en l√≠nea y tuve una uni√≥n con la hija local de Rostelecom. Solo con el administrador de contenido tuve una uni√≥n de gigabytes, y con mi hija una de cien megabytes. Y yo, como persona agradable, soport√© todo esto por la noche: miro los gr√°ficos, la articulaci√≥n de cien megabits y pienso: "¬°Oh, c√≥mo demonios!" Y luego miro, este en el regimiento, el que est√° en el regimiento y pienso (me golpeo en la frente), olvid√© hacer filtros. Eso se debe excluir de tales acciones, porque todos los dem√°s aceptaron, desde el triple strike solo necesitan ser protegidos por la automatizaci√≥n. La automatizaci√≥n es enemiga de las personas malas y amiga de las buenas. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entonces lo eres, Zhenya. </font></font><br><img src="https://habrastorage.org/webt/_d/0b/v6/_d0bv6jjg1dic2gjmj9rdbp-azw.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Evgeny Bogomazov contin√∫a)</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As√≠ que discutimos todos los puntos iniciales. Pero en cualquier caso, todo no termina; adem√°s de √©l, debes realizar un seguimiento de otras cosas adicionales. </font></font><br><img src="https://habrastorage.org/webt/_n/ve/jn/_nvejncgp1tspvfwgu8nvozas8e.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Veamos que m√°s es. Debe ver qu√© tan bien se integra la aplicaci√≥n en la distribuci√≥n; si hay varios sitios, debe poder dispersar el contenido en estos sitios. Si esto no es posible, no importa c√≥mo se distribuya su sistema, todos los usuarios ir√°n al sitio donde se encuentra realmente la aplicaci√≥n. Y exactamente RTT no guardar√°.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por otro lado, si no tiene datos de usuario como tales, puede colocar la aplicaci√≥n de usuario en ese sitio, simplemente h√°galo. Si la aplicaci√≥n es compatible con todo, utilice nubes de difusi√≥n ilimitada, si no desea desarrollar su propia infraestructura, esto generar√° muchas ganancias. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bueno, si ya tiene varios sitios y el usuario llega a uno de ellos, algo puede suceder all√≠, digamos que se caer√° o los enlaces se romper√°n, por lo que los usuarios ir√°n a otro sitio. Pero no deber√≠an notarlo. Por lo tanto, debe poder transferir este tr√°fico lo m√°s r√°pido posible dentro de la red interna de difusi√≥n ilimitada y, en general, debe considerar tal problema como inevitable; por lo tanto, es bueno poner algo en la aplicaci√≥n para prepararse para tal desarrollo de eventos.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idealmente, si tiene m√©tricas empresariales de aplicaciones, en caso de que caigan, solicite de inmediato la supervisi√≥n de la red y genere un informe sobre el estado de la red interna o externa, o mejor ambas. Las m√©tricas comerciales generalmente caen porque algo sucedi√≥ en alg√∫n lugar, pero esto, por supuesto, es una utop√≠a, incluso si a√∫n no nos hemos acercado a esto. </font></font><br><img src="https://habrastorage.org/webt/ec/lq/mf/eclqmf8bbilulb74g7y9cmrhajs.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tiene una red externa, pero tambi√©n hay sitios internos: deben comunicarse entre s√≠. Al mismo tiempo, no necesita tener su propia infraestructura f√≠sica: puede usar las redes de operadores externos, lo principal es configurar t√∫neles virtuales. Adem√°s, debe configurar el enrutamiento de la red interna, porque no todo termina en BGP. Debido a la naturaleza del procesamiento del tr√°fico, tenemos nuestros propios protocolos, estilo de comunicaci√≥n y secuencias de comandos.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si tiene bastantes sitios, deber√≠a poder actualizar las configuraciones en diferentes lugares al mismo tiempo. Obtiene un nuevo prefijo, tiene que anunciarlo en todas partes, DNS actualizado, lo mismo. En el contexto de los SDN, debe recopilar datos de los sitios y agregarlos en alg√∫n lugar, y verter los cambios que ocurrieron debido a estos datos nuevamente en los sitios. </font></font><br><img src="https://habrastorage.org/webt/sc/nf/2g/scnf2gqwejhemq6z5xfdolrn1ki.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El √∫ltimo elemento es DNS. El ejemplo con Dyn fue indicativo: como recordar√°n, en 2016 se realiz√≥ un ataque contra ellos, al que no pudieron hacer frente y una gran cantidad de recursos populares en los EE. UU. Dejaron de estar disponibles. El DNS tambi√©n necesita protecci√≥n, de lo contrario, los usuarios no encontrar√°n su aplicaci√≥n en la red. Los cach√©s de DNS se guardan, en parte, y hay un trabajo interesante sobre este tema en el IETF, pero siempre depende de si ciertos solucionadores de DNS lo admitir√°n.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En cualquier caso, debe tener un DNS seguro. Esta es la primera etapa que debe resolverse para que el usuario se familiarice con su aplicaci√≥n. Cuando abre la p√°gina por primera vez, adem√°s del RTT, que ya hemos mencionado, habr√° demoras adicionales para las consultas de DNS y debe estar preparado para que, por primera vez, la p√°gina del usuario se abra durante mucho tiempo, alguien no lo tolere. Si para usted un primer descubrimiento largo es cr√≠tico, tambi√©n tendr√° que acelerar el DNS. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En el caso de anycast, puede almacenar en cach√© las respuestas DNS en sus puntos de presencia, porque ya tiene estos sitios y las respuestas DNS llegar√°n con la suficiente rapidez. </font></font><br><img src="https://habrastorage.org/webt/cs/gk/dd/csgkddm43z94n7u_mbvf-cvqamu.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cual es el problema Bueno, latencia, bueno, equilibrio.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como ya mencionamos, todav√≠a hay naturaleza. En parte debido a ello, debe ser colocado en diferentes lugares. Esto no debe olvidarse, aunque el riesgo parece peque√±o. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tambi√©n hay una persona y un factor de oportunidad. Por lo tanto, debe automatizar todo lo m√°s posible, probar las configuraciones vertidas y monitorear los cambios. Incluso si ha tomado algo, ser√° bueno si puede hacer cambios r√°pida y localmente. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Este es el 90% de los casos. Pero el 10% restante, esto es si los competidores decidieron eliminarlo. En este caso, tienes serios problemas. ¬øPor qu√© se resalta la "Reserva" en una fuente grande separada? Si decide colocar, necesitar√° una gran cantidad de canales en sus sitios, lo que significa que deber√° negociar con una gran cantidad de proveedores. De lo contrario, con el nivel promedio actual de ataques, no puede hacerlo en absoluto.</font></font><br><img src="https://habrastorage.org/webt/x9/ii/bx/x9iibxwaeelggpxuhoteepdhxhy.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por lo tanto, es mejor delegar que comprar su propio hardware. </font><font style="vertical-align: inherit;">Incluso parte de la funcionalidad que describimos hoy en el marco de anycast y los problemas que surgen son f√°ciles de resolver de manera incorrecta. </font><font style="vertical-align: inherit;">Entonces, si existe la oportunidad de no resolver estos problemas y cambiarlos a personas externas, probablemente valga la pena hacerlo. </font><font style="vertical-align: inherit;">De lo contrario, debe responder con precisi√≥n la pregunta de por qu√© necesita implementar todo esto. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bueno, en caso de un ataque, recurra a esas nubes que se especializan en resolver tales problemas. </font><font style="vertical-align: inherit;">Bueno, o a√∫n puedes chatear con nosotros.</font></font><br><br>  Gracias<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Preguntas? </font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/htUvHjaNwvA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/457446/">https://habr.com/ru/post/457446/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../457436/index.html">Golang Meetup vol. 4 - 27 de junio, Nizhny Novgorod</a></li>
<li><a href="../457438/index.html">Descargue el audio VKontakte a trav√©s del cliente js o la extensi√≥n de archivo .m3u8</a></li>
<li><a href="../457440/index.html">ServiceLoader: un marco DI integrado del que quiz√°s nunca hayas o√≠do hablar</a></li>
<li><a href="../457442/index.html">Proyecto Salmon: C√≥mo resistir la censura de Internet de manera efectiva con proxies con niveles de confianza del usuario</a></li>
<li><a href="../457444/index.html">Gafas AR en acci√≥n. Casos reales de c√≥mo la realidad aumentada encontr√≥ aplicaci√≥n en una amplia variedad de √°reas de negocios</a></li>
<li><a href="../457450/index.html">Las 10 principales tendencias tecnol√≥gicas en procesamiento de datos y an√°lisis en 2019 seg√∫n Gartner</a></li>
<li><a href="../457458/index.html">Soporte m√≥vil para m√°quinas herramienta chinas. O como colocarlos en un departamento</a></li>
<li><a href="../457460/index.html">Tarjeta de seguridad del kernel de Linux</a></li>
<li><a href="../457462/index.html">Uber: descripci√≥n general de los algoritmos clave de gesti√≥n de la plataforma</a></li>
<li><a href="../457464/index.html">Deduplicaci√≥n de anuncios en Yandex.Real Estate</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>