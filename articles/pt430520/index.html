<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®‚Äçüë®‚Äçüë¶‚Äçüë¶ ‚úâÔ∏è üïë Apresentando o Spring Data MongoDB üÜì üê± ü•™</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bom dia a todos! 

 O novo fluxo ‚ÄúDeveloper on the Spring Framework‚Äù come√ßou, ‚Äúde repente‚Äù, este curso se tornou muito popular entre os novos alunos e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Apresentando o Spring Data MongoDB</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/430520/">  Bom dia a todos! <br><br>  O novo fluxo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">‚ÄúDeveloper on the Spring Framework‚Äù</a> come√ßou, ‚Äúde repente‚Äù, este curso se tornou muito popular entre os novos alunos e aqueles que j√° nos desaprenderam sobre Java e empresas ‚Äúregulares‚Äù.  Portanto, se for interessante, venha a n√≥s para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">li√ß√µes abertas</a> e, √© claro, compartilhe materiais interessantes sobre o assunto. <br><br>  <i>Tradu√ß√£o do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Tutorial do Spring Data MongoDB</a></i> <i><br></i>  <i>Postado por Anand Kumar</i> <br><br>  Vamos l√°! <br><br>  No mundo de hoje, √© muito importante criar e executar o aplicativo o mais r√°pido poss√≠vel.  Al√©m disso, o aplicativo deve ser f√°cil de desenvolver e manter. <br><br>  O Spring √© apenas uma estrutura que facilita a integra√ß√£o com muitas outras estruturas diferentes, o que simplifica o desenvolvimento de aplicativos usando o Spring.  Uma dessas integra√ß√µes √© a integra√ß√£o do Spring com o MongoDB. <br><br><img src="https://habrastorage.org/webt/nb/mx/ey/nbmxeyxhok6yyrwovmk9vfkqgv4.png"><br><br>  <b>1. Introdu√ß√£o</b> <a name="habracut"></a><br><br>  Nesta li√ß√£o, discutiremos uma combina√ß√£o da estrutura Spring java mais famosa e do MongoDB do sistema de gerenciamento de banco de dados NoSQL (DBMS) mais famoso.  O MongoDB √© um NoSQL DBMS orientado a documentos que armazena dados em um formato semelhante a JSON. <br>  A integra√ß√£o do Spring Data e do MongoDB √© fornecida pelo Spring para facilitar a intera√ß√£o de ambos e a conveni√™ncia dos desenvolvedores, eliminando a necessidade de escrever muitas consultas para inserir, atualizar e excluir. <br><br>  A seguir, est√£o alguns dos recursos fornecidos pelo projeto Spring Data MongoDB: <br><br><ol><li>  O Spring Data permite que voc√™ use a classe @Configuration e a configura√ß√£o XML. </li><li>  A hierarquia de exce√ß√µes do Data Access Spring √© usada para converter a exce√ß√£o. </li><li>  Mapeamento integrado entre POJOs Java e um documento MongoDB. </li><li>  A classe MongoTemplate, que simplifica o uso de opera√ß√µes comuns do MongoDB. </li><li>  Al√©m do MongoTemplate, voc√™ pode usar as classes MongoReader e MongoWriter para renderiza√ß√£o de baixo n√≠vel. </li></ol><br>  A melhor maneira de entender qualquer tecnologia √© us√°-la na pr√°tica, e √© exatamente isso que vamos fazer agora. <br><br>  Vamos criar um programa simples para aprender mais sobre o Spring Data MongoDB. <br><br>  <b>2. Tecnologias e ferramentas</b> <br><br>  Vejamos as tecnologias e ferramentas que usaremos para criar o programa. <br><br><ol><li>  Libera√ß√£o do Eclispe Oxygen.2 (4.7.2) </li><li>  Java - vers√£o 9.0.4 </li><li>  Gradle - 4.6 </li><li>  Servidor MongoDB - 3.6 </li><li>  MongoCompass - 3.6 </li><li>  SpringDataMongoDB - 2.0.5-RELEASE </li></ol><br>  <b>3. Estrutura do projeto</b> <br><br>  A estrutura do nosso projeto ter√° a apar√™ncia mostrada abaixo. <br><br><img src="https://habrastorage.org/webt/ot/f3/_j/otf3_jvoeuqufrnqzfoh4tz3qms.jpeg"><br>  <i>Estrutura do projeto para o Spring Data MongoDB</i> <br><br>  O projeto gradle ter√° a estrutura mostrada acima.  No caso do pom.xml, a estrutura do projeto ser√° um pouco diferente. <br><br>  <b>4. O programa</b> <br><br>  Como parte deste programa, tentaremos concluir as tarefas abaixo. <br><br><ol><li>  Salvando um objeto no MongoDB </li><li>  Atualizando um objeto no MongoDB </li><li>  Removendo um objeto do MongoDB </li><li>  Recuperando todos os objetos do MongoDB </li></ol><br>  Vamos agora analisar todos os componentes do programa.  Primeiro, come√ßaremos com as depend√™ncias e os arquivos jar necess√°rios para o programa. <br><br>  <b>4.1 gradle</b> <br><br>  Usamos o Gradle para compilar como parte do programa.  O arquivo <code>build.gradle</code> ser√° semelhante ao mostrado abaixo. <br><br><pre> <code class="java hljs">apply plugin: <span class="hljs-string"><span class="hljs-string">'java'</span></span> repositories { mavenCentral() } dependencies { compile group: <span class="hljs-string"><span class="hljs-string">'org.springframework.data'</span></span>, name: <span class="hljs-string"><span class="hljs-string">'spring-data-mongodb'</span></span>, version: <span class="hljs-string"><span class="hljs-string">'2.0.5.RELEASE'</span></span> implementation <span class="hljs-string"><span class="hljs-string">'com.google.guava:guava:23.0'</span></span> testImplementation <span class="hljs-string"><span class="hljs-string">'junit:junit:4.12'</span></span> }</code> </pre> <br>  No arquivo <code>build.gradle</code> , a linha <code>apply plugin: 'java'</code> informa qual plug-in instalar.  No nosso caso, este √© um plugin Java. <br><br>  A tag <code>repositories{}</code> relata o reposit√≥rio do qual as depend√™ncias devem ser extra√≠das.  Escolhemos o <code>mavenCentral</code> para <code>mavenCentral</code> arquivos jar dependentes.  Tamb√©m podemos usar o jcenter para acessar os arquivos jar dependentes correspondentes. <br><br>  A tag <code>dependencies {}</code> √© usada para fornecer os dados necess√°rios sobre os arquivos jar que precisam ser extra√≠dos para o projeto. <br><br>  <b>4.2 Configura√ß√£o para MongoDB</b> <br><br>  Para usar a configura√ß√£o do MongoDB, precisamos implementar a classe <code>AbstractMongoConfiguration</code> .  A classe <code>MongoConfig.java</code> ser√° semelhante √† mostrada abaixo.  Aqui usamos anota√ß√µes em vez de xml.  Mas o XML tamb√©m pode ser usado para configurar a configura√ß√£o. <br><br>  Implementa√ß√£o da classe MongoConfig.java <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.tutorial.config; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.annotation.Bean; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.annotation.Configuration; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.data.mongodb.config.AbstractMongoConfiguration; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.mongodb.MongoClient; <span class="hljs-meta"><span class="hljs-meta">@Configuration</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MongoConfig</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbstractMongoConfiguration</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDatabaseName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"local"</span></span>; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-meta"><span class="hljs-meta">@Bean</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> MongoClient </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mongoClient</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MongoClient(<span class="hljs-string"><span class="hljs-string">"127.0.0.1"</span></span>); } }</code> </pre> <br>  <code>@Configuration</code> usado para definir a classe <code>MongoConfig.java</code> como a classe de configura√ß√£o.  <code>@Bean</code> define o <code>MongoClient</code> . <br><br>  <b>4.3 Classe do modelo</b> <br><br>  Agora considere a classe do modelo.  Usamos <code>student.java</code> como uma classe de modelo que cont√©m atributos para Student, como Nome e Idade.  A <code>Student.java</code> modelo <code>Student.java</code> usada para mapear POJOs para a cole√ß√£o MongoDB. <br><br>  Classe do modelo do aluno <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.tutorial.model; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.data.annotation.Id; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.data.mongodb.core.mapping.Document; <span class="hljs-meta"><span class="hljs-meta">@Document</span></span>(collection = <span class="hljs-string"><span class="hljs-string">"students"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Student</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Student</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String studentName, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> studentAge)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.studentName = studentName; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.studentAge = studentAge; } <span class="hljs-meta"><span class="hljs-meta">@Id</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String id; String studentName; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> studentAge; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getStudentName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> studentName; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setStudentName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String studentName)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.studentName = studentName; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getStudentAge</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> studentAge; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setStudentAge</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> studentAge)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.studentAge = studentAge; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> String.format( <span class="hljs-string"><span class="hljs-string">"Student[id=%s, studentName='%s', studentAge="</span></span>+studentAge+<span class="hljs-string"><span class="hljs-string">"]"</span></span>, id, studentName); } }</code> </pre> <br>  <code>@Document</code> define um documento.  A propriedade <code>collection</code> determina a cole√ß√£o que ser√° usada para corresponder √† cole√ß√£o.  Todos os atributos mencionados como parte da cole√ß√£o devem estar acess√≠veis na classe POJO.  <code>@Id</code> define o identificador de cole√ß√£o. <br><br>  <b>4.4 Opera√ß√µes CRUD</b> <br><br>  Para executar opera√ß√µes CRUD (abrevia√ß√£o de criar, ler, atualizar, excluir), como salvar, atualizar, excluir e recuperar dados do MongoDB, usaremos o <code>MongoOperations</code> . <br><br>  Agora, vejamos a classe <code>MongoDBPOperations.java</code> .  Esta classe cont√©m a implementa√ß√£o de todos os m√©todos de opera√ß√µes CRUD. <br><br>  A classe MongoDBPOperations que ser√° usada para executar opera√ß√µes CRUD <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.tutorial; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.List; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.data.mongodb.core.MongoOperations; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.data.mongodb.core.query.Criteria; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.data.mongodb.core.query.Query; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.data.mongodb.core.query.Update; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.tutorial.model.Student; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MongoDBPOperations</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">saveStudent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(MongoOperations mongoOperation, Student student)</span></span></span><span class="hljs-function"> </span></span>{ mongoOperation.save(student); System.out.println(<span class="hljs-string"><span class="hljs-string">"Student saved successfully"</span></span>); <span class="hljs-comment"><span class="hljs-comment">// student object got created with id. System.out.println("student : " + student); } public void searchStudent(MongoOperations mongoOperation, String critera,String value) { // query to search student Query searchStudent = new Query(Criteria.where(critera).is(value)); // find student based on the query Student resultStudent = mongoOperation.findOne(searchStudent, Student.class); System.out.println("Student found!!"); System.out.println("Student details: " + resultStudent); } public void updateStudent(MongoOperations mongoOperation, String critera,String value, String updateCriteria, String updateValue) { // query to search student Query searchStudent = new Query(Criteria.where(critera).is(value)); mongoOperation.updateFirst(searchStudent, Update.update(updateCriteria, updateValue), Student.class); System.out.println("Student got updated successfully"); } public void getAllStudent(MongoOperations mongoOperation) { List listStudent = mongoOperation.findAll(Student.class); for(Student student:listStudent) { System.out.println("Student = " + student); } } public void removeStudent(MongoOperations mongoOperation, String critera,String value) { Query searchStudent = new Query(Criteria.where(critera).is(value)); mongoOperation.remove(searchStudent, Student.class); System.out.println("Student removed successfully!! "); } }</span></span></code> </pre> <br>  A classe mais importante de um programa Java √© a classe que cont√©m o m√©todo <code>main</code> . <br><br>  <b>4.5 Classe de aplica√ß√£o</b> <br><br>  A classe principal que cont√©m o m√©todo principal √© a classe <code>Application.java</code> .  Usaremos essa classe para chamar m√©todos da classe <code>MongoDBPOperations</code> . <br><br>  Classe de aplicativo para chamar m√©todos da classe MongoDBPOperations <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.tutorial; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.ApplicationContext; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.annotation.AnnotationConfigApplicationContext; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.data.mongodb.core.MongoOperations; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.tutorial.config.MongoConfig; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.tutorial.model.Student; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Application</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// For Annotation ApplicationContext ctx = new AnnotationConfigApplicationContext(MongoConfig.class); MongoOperations mongoOperation = (MongoOperations) ctx.getBean("mongoTemplate"); MongoDBPOperations ops = new MongoDBPOperations(); Student student = new Student("John", 15); //save student ops.saveStudent(mongoOperation, student); // get student based on search criteria ops.searchStudent(mongoOperation, "studentName", "John"); //update student based on criteria ops.updateStudent(mongoOperation, "StudentName", "John", "studentAge", "18"); // get student based on search criteria ops.searchStudent(mongoOperation, "studentName", "John"); // get all the students ops.getAllStudent(mongoOperation); //remove student based on criteria ops.removeStudent(mongoOperation, "studentName", "John"); // get all the students ops.getAllStudent(mongoOperation); } }</span></span></code> </pre> <br>  Vamos examinar passo a passo as opera√ß√µes que s√£o executadas na classe <code>Application.java</code> : <br><br><ol><li>  Criamos um <code>ApplicationContext</code> .  Isso ocorre devido √† necessidade de baixar a configura√ß√£o. </li><li>  Al√©m disso, um objeto <code>MongoOperations</code> foi <code>MongoOperations</code> para carregar o componente <code>MongoTemplate</code> . </li><li>  O objeto <code>MongoDBOperations</code> fornece acesso a m√©todos para executar v√°rias opera√ß√µes do <code>MongoOperation</code> . </li><li>  Al√©m disso, um objeto Student foi criado com o nome John e 15 anos. </li><li>  Chamamos o m√©todo <code>saveMethod</code> classe <code>saveMethod</code> e passamos os par√¢metros necess√°rios para salvar o objeto no banco de dados. </li><li>  Da mesma forma, chamamos os v√°rios m√©todos <code>MongoDBOperations</code> um por um. </li></ol><br>  <b><b>4.6 Iniciando o programa</b></b> <br><br>  Finalmente, vamos agora executar o programa como um aplicativo Java.  Clique com o bot√£o direito do mouse em Application.java -&gt; Executar como -&gt; Aplicativo Java. <br><br>  O resultado a seguir aparecer√° no console. <br><br><img src="https://habrastorage.org/webt/ue/vs/bn/uevsbnjunkbqehapgwio4uzer4i.jpeg"><br>  <i>Sa√≠da do console ap√≥s iniciar o programa</i> <br><br>  Agora vamos comentar o comando para excluir o objeto.  O MongoDB armazenar√° dados com sucesso. <br><br>  Al√©m disso, vamos comentar a linha para excluir o objeto, como mostrado abaixo. <br><br>  Aplicativo de classe ap√≥s comentar os m√©todos de remo√ß√£o <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.tutorial; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.ApplicationContext; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.annotation.AnnotationConfigApplicationContext; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.data.mongodb.core.MongoOperations; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.tutorial.config.MongoConfig; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.tutorial.model.Student; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Application</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// For Annotation ApplicationContext ctx = new AnnotationConfigApplicationContext(MongoConfig.class); MongoOperations mongoOperation = (MongoOperations) ctx.getBean("mongoTemplate"); MongoDBPOperations ops = new MongoDBPOperations(); Student student = new Student("John", 15); //save student ops.saveStudent(mongoOperation, student); // get student based on search criteria ops.searchStudent(mongoOperation, "studentName", "John"); //update student based on criteria ops.updateStudent(mongoOperation, "StudentName", "John", "studentAge", "18"); // get student based on search criteria ops.searchStudent(mongoOperation, "studentName", "John"); // get all the students ops.getAllStudent(mongoOperation); //remove student based on criteria //ops.removeStudent(mongoOperation, "studentName", "John"); // get all the students //ops.getAllStudent(mongoOperation); } }</span></span></code> </pre> <br>  Depois de fazer altera√ß√µes no programa, vamos reinici√°-lo.  O seguinte aparece no console. <br><br><img src="https://habrastorage.org/webt/a8/sc/lv/a8sclvihnd6fkwi9igu92f8ddqk.jpeg"><br>  <i>Console quando a opera√ß√£o de exclus√£o √© comentada</i> <br><br>  Como resultado do coment√°rio sobre o comando delete, o MongoDB armazenar√° os dados e, portanto, ser√° semelhante ao mostrado abaixo. <br><br><img src="https://habrastorage.org/webt/yb/8p/to/yb8ptodba8b2ygsony4gz1nvhnu.jpeg"><br>  <i>Sa√≠da do MongoDB ap√≥s o comando save and update</i> <br><br>  <b>5. Fa√ßa o download do projeto Eclipse</b> <br><br>  Voc√™ pode fazer o download do c√≥digo-fonte inteiro para este exemplo <a href="">aqui.</a> <br><br>  O FIM <br><br>  Como sempre, estamos esperando perguntas e coment√°rios aqui ou vamos a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Yuri</a> para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">uma aula aberta,</a> onde voc√™ pode n√£o apenas ouvir, mas tamb√©m perguntar. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt430520/">https://habr.com/ru/post/pt430520/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt430508/index.html">DevOps: o que √© realmente</a></li>
<li><a href="../pt430510/index.html">Como escrever um c√≥digo que todos entender√£o?</a></li>
<li><a href="../pt430512/index.html">Como vivem os freelancers: n√£o trabalhe com clientes oniscientes e permita-se procrastinar</a></li>
<li><a href="../pt430514/index.html">Caridade Blockchain - DataArt vence a Hackathon Summit de Blockchain de Malta</a></li>
<li><a href="../pt430518/index.html">Como renderizar o quadro da Terra M√©dia: Sombra de Mordor</a></li>
<li><a href="../pt430522/index.html">Voc√™ precisa de uma cultura corporativa em TI? Confiss√£o do gerente de marca do est√∫dio Krasnodar Plarium</a></li>
<li><a href="../pt430524/index.html">Arquitetura de rede neural</a></li>
<li><a href="../pt430526/index.html">M√°quinas ca√ßa-n√≠queis: de onde eles vieram na URSS e como est√£o organizados</a></li>
<li><a href="../pt430528/index.html">Programando com PyUSB 1.0</a></li>
<li><a href="../pt430530/index.html">Servidor simulado para automa√ß√£o de teste m√≥vel</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>