<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ•˜ ğŸ‘¸ğŸ¼ ğŸ‘©â€ğŸ­ 5æ¡æ˜“äºé˜…è¯»çš„ä»£ç è§„åˆ™ ğŸ™„ ğŸ•¯ï¸ ğŸ§’</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æ‚¨é—®è‡ªå·±ï¼šâ€œå¦‚ä½•æ¸…æ™°æ¸…æ™°åœ°ä¹¦å†™ï¼Ÿâ€ å¦‚ä½•å¿«é€Ÿæ‰¾å‡ºåˆ«äººçš„ä»£ç ï¼Ÿâ€ 

 è®°ä½å¹¶éµå®ˆä»¥ä¸‹è§„åˆ™ï¼ 
 
 æœ¬æ–‡ä¸è®¨è®ºå˜é‡å’Œå‡½æ•°çš„å‘½åçš„åŸºæœ¬è§„åˆ™ï¼Œå¥æ³•ç¼©è¿›ä»¥åŠå¤§å‹é‡æ„ä¸»é¢˜ã€‚ æˆ‘ä»¬è€ƒè™‘5æ¡ç®€å•çš„è§„åˆ™ï¼Œä»¥ç®€åŒ–ä»£ç å¹¶å‡å°‘å¼€å‘è¿‡ç¨‹ä¸­çš„å¤§è„‘è´Ÿæ‹…ã€‚ 

 è€ƒè™‘æ„ŸçŸ¥æ•°æ®çš„è¿‡ç¨‹ï¼Œä»¥å°†æè¿°çš„è§„åˆ™ä¸æ„ŸçŸ¥è¿‡ç¨‹ç›¸å…³è”ï¼Œå¹¶ç¡®å®šç®€å•ä»£...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>5æ¡æ˜“äºé˜…è¯»çš„ä»£ç è§„åˆ™</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436160/">  <i>æ‚¨é—®è‡ªå·±ï¼šâ€œå¦‚ä½•æ¸…æ™°æ¸…æ™°åœ°ä¹¦å†™ï¼Ÿâ€</i>  <i>å¦‚ä½•å¿«é€Ÿæ‰¾å‡ºåˆ«äººçš„ä»£ç ï¼Ÿâ€</i> <i><br><br></i>  <i>è®°ä½å¹¶éµå®ˆä»¥ä¸‹è§„åˆ™ï¼</i> <i><br></i> <br> æœ¬æ–‡ä¸è®¨è®ºå˜é‡å’Œå‡½æ•°çš„å‘½åçš„åŸºæœ¬è§„åˆ™ï¼Œå¥æ³•ç¼©è¿›ä»¥åŠå¤§å‹é‡æ„ä¸»é¢˜ã€‚ æˆ‘ä»¬è€ƒè™‘5æ¡ç®€å•çš„è§„åˆ™ï¼Œä»¥ç®€åŒ–ä»£ç å¹¶å‡å°‘å¼€å‘è¿‡ç¨‹ä¸­çš„å¤§è„‘è´Ÿæ‹…ã€‚ <br><br> è€ƒè™‘æ„ŸçŸ¥æ•°æ®çš„è¿‡ç¨‹ï¼Œä»¥å°†æè¿°çš„è§„åˆ™ä¸æ„ŸçŸ¥è¿‡ç¨‹ç›¸å…³è”ï¼Œå¹¶ç¡®å®šç®€å•ä»£ç çš„æ ‡å‡†ã€‚ <br><br> æ„ŸçŸ¥çš„ç®€åŒ–è¿‡ç¨‹åŒ…æ‹¬ä»¥ä¸‹æ­¥éª¤ï¼š <br><br><ol><li> é€šè¿‡æ¥æ”¶å™¨æ¥æ”¶çš„æ•°æ®ä¸ä»¥å‰çš„ç»éªŒä¸€è‡´ã€‚ </li><li> å¦‚æœæ²¡æœ‰ç›¸å…³æ€§ï¼Œé‚£å°±æ˜¯å™ªéŸ³ã€‚ å™ªéŸ³å¾ˆå¿«å°±è¢«é—å¿˜äº†ã€‚ å¦‚æœæœ‰ä»»ä½•ç›¸å…³çš„äº‹å®ï¼Œåˆ™å¯ä»¥è¯†åˆ«äº‹å®ã€‚ </li><li> å¦‚æœäº‹å®å¾ˆé‡è¦-ä¾‹å¦‚ï¼Œæˆ‘ä»¬è®°å¾—ï¼Œæ¦‚æ‹¬æˆ–è¡ŒåŠ¨ï¼Œæˆ‘ä»¬è¯´æˆ–é”®å…¥ä»£ç ã€‚ </li><li>ä¸ºäº†å‡å°‘è®°å¿†å’Œåˆ†æçš„ä¿¡æ¯é‡ï¼Œä½¿ç”¨äº†å½’çº³æ³•ã€‚ </li><li> æ±‡æ€»åï¼Œå†æ¬¡å¯¹ä¿¡æ¯è¿›è¡Œå…³è”å’Œåˆ†æï¼ˆæ­¥éª¤1ï¼‰ã€‚ </li></ol><a name="habracut"></a><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qe/gs/0_/qegs0_rplnoxgz0angdzj7xsn-u.png"></div><br> ç§‘å­¦å®¶å°†è®°å¿†åˆ†ä¸ºçŸ­æœŸå’Œé•¿æœŸã€‚ çŸ­æœŸå­˜å‚¨é‡å¾ˆå°ï¼Œä½†æ˜¯ä¿¡æ¯ä¼šç«‹å³æå–å¹¶å­˜å‚¨ã€‚ çŸ­æœŸè®°å¿†æ˜¯å¤§è„‘çš„ç¼“å­˜ã€‚ å®ƒå¯ä»¥å­˜å‚¨7 + -2ä¸ªå•è¯ï¼Œæ•°å­—ï¼Œå¯¹è±¡ã€‚ é•¿æœŸå­˜å‚¨å™¨çš„å®¹é‡æ›´å¤§ï¼Œä½†æ˜¯ä¸çŸ­æœŸå­˜å‚¨å™¨ç›¸æ¯”ï¼Œå®ƒéœ€è¦æ›´å¤šçš„ç²¾åŠ›ï¼ˆç²¾åŠ›ï¼‰æ¥ä¿å­˜å’Œæ£€ç´¢ä¿¡æ¯ã€‚ <br><br> ç»“è®ºï¼š <br><br><ul><li> å…ƒç´ è¶Šå°‘ï¼ŒèŠ±è´¹çš„èƒ½é‡å°±è¶Šå°‘ï¼Œ </li><li> éœ€è¦å°†æ„ŸçŸ¥å…ƒç´ çš„æ•°é‡å‡å°‘åˆ°9 </li><li> ä½¿ç”¨å°½å¯èƒ½å°‘çš„é•¿æœŸè®°å¿†ï¼šæ³›åŒ–æˆ–å¿˜è®°ã€‚ </li></ul><br> æˆ‘ä»¬ç»§ç»­å¯¹è§„åˆ™è¿›è¡Œæè¿°ã€‚ <br><br>  <strong>è§„åˆ™1.æˆ‘ä»¬åœ¨æ¡ä»¶ä¸­ä½¿ç”¨è¯¥è¯­å¥ï¼Œä»¥æ‘†è„±â€œä¸â€ã€‚</strong> <br><br> åˆ é™¤â€œéâ€è¿ç®—ç¬¦å¯ä»¥å‡å°‘è¦åˆ†æçš„å…ƒç´ çš„æ•°é‡ã€‚ åŒæ ·ï¼Œåœ¨è®¸å¤šç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå¦å®šè¿ç®—ç¬¦ä½¿ç”¨â€œï¼â€ã€‚ é˜…è¯»ä»£ç æ—¶ï¼Œå®¹æ˜“è·³è¿‡æ­¤å­—ç¬¦ã€‚ <br><br> æ¯”è¾ƒï¼š <br><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!entity.IsImportAvaible) { <span class="hljs-comment"><span class="hljs-comment">// 1 } else { // 2 }</span></span></code> </pre> <br> ä¹‹åï¼š <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (entity.IsImportAvaible) { <span class="hljs-comment"><span class="hljs-comment">// 2 } else { // 1 }</span></span></code> </pre><br>  <strong>è§„åˆ™2.å‡å°‘åµŒå¥—çº§åˆ«ã€‚</strong> <br><br> åœ¨ä»£ç åˆ†ææœŸé—´ï¼Œæ¯ä¸ªåµŒå¥—çº§åˆ«éƒ½éœ€è¦ä¿ç•™åœ¨å†…å­˜ä¸­ã€‚ å‡å°‘ç­‰çº§æ•°é‡-é™ä½ç‡ƒæ–™æˆæœ¬ã€‚ <br><br> è€ƒè™‘å‡å°‘åµŒå¥—çº§åˆ«çš„æ–¹æ³•ã€‚ <br><br>  1ï¼‰è¿”å›æ§åˆ¶ã€‚ æˆ‘ä»¬åˆ‡æ–­äº†ä¸€äº›æ¡ˆä¾‹ï¼Œå°†é‡ç‚¹æ”¾åœ¨å…¶ä½™çš„æ¡ˆä¾‹ä¸Šã€‚ <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (conributor != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-comment"><span class="hljs-comment">// }</span></span></code> </pre><br> è½¬æ¢æˆ <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(contributor == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-comment"><span class="hljs-comment">//</span></span></code> </pre><br> æˆ– <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">while</span></span>( <span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( <span class="hljs-number"><span class="hljs-number">2</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-comment"><span class="hljs-comment">// }</span></span></code> </pre><br> æˆ– <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(; <span class="hljs-number"><span class="hljs-number">1</span></span>;) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( <span class="hljs-number"><span class="hljs-number">2</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } <span class="hljs-comment"><span class="hljs-comment">// }</span></span></code> </pre><br> è§„åˆ™5ä¸­ç»™å‡ºäº†æ‰©å±•ç¤ºä¾‹ã€‚è¯·æ³¨æ„å¼•å‘å¼‚å¸¸ã€‚ <br><br>  2ï¼‰æ–¹æ³•çš„éš”ç¦»ã€‚ å‡½æ•°çš„åç§°æ˜¯æ³›åŒ–çš„ç»“æœã€‚ <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( ) { foreach(<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sender in senders) { sender.Send(message); } }</code> </pre><br> åœ¨ <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( ) { SendAll(senders, message); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SendAll</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(IEnumerable&lt;Sender&gt; senders, string message)</span></span></span><span class="hljs-function"> </span></span>{ foreach(<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sender in senders) { sender.Send(message); } }</code> </pre><br>  3ï¼‰ç»“åˆæ¡ä»¶ã€‚ <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (contributor == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (accessMngr == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-comment"><span class="hljs-comment">// } }</span></span></code> </pre><br> åœ¨ <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (contributor == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; accessMngr == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-comment"><span class="hljs-comment">// }</span></span></code> </pre><br>  4ï¼‰åˆ é™¤å˜é‡å¹¶åˆ’åˆ†ä¸ºè¯­ä¹‰å—ã€‚ ç»“æœï¼Œå¯ä»¥ç‹¬ç«‹æ›´æ”¹å—ï¼Œæœ€é‡è¦çš„æ˜¯ï¼Œé˜…è¯»å’Œç†è§£æ­¤ç±»ä»£ç è¦å®¹æ˜“å¾—å¤šã€‚ ä¸€ç«™å¼-ä¸€ç§åŠŸèƒ½ã€‚ å¸¸è§çš„æƒ…å†µæ˜¯å¸¦æœ‰å¤„ç†çš„æœç´¢ã€‚ æœ‰å¿…è¦å°†ä»£ç åˆ†æˆå•ç‹¬çš„è¯­ä¹‰å—ï¼šå…ƒç´ æœç´¢ï¼Œå¤„ç†ã€‚ <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;array.length;i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (array[i] == findItem) { <span class="hljs-comment"><span class="hljs-comment">// array[i] break; } }</span></span></code> </pre><br> åœ¨ <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;array.length;i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(array[i] == findItem) { foundItem =array[i]; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (foundItem != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-comment"><span class="hljs-comment">// foundItem }</span></span></code> </pre><br>  <strong>è§„åˆ™3ã€‚æˆ‘ä»¬æ‘†è„±äº†ç´¢å¼•å™¨å’Œé€šè¿‡å±æ€§è¿›è¡Œè°ƒç”¨ã€‚</strong> <br><br> ç´¢å¼•å™¨-åœ¨ç´¢å¼•arr [index]å¤„è®¿é—®æ•°ç»„å…ƒç´ çš„æ“ä½œã€‚ <br><br> åœ¨æ„ŸçŸ¥ä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œå¤§è„‘ä½¿ç”¨ç¬¦å·[]ä½œä¸ºå®šç•Œç¬¦ï¼Œå¹¶ä½¿ç”¨ç´¢å¼•å™¨ä½œä¸ºè¡¨è¾¾å¼è¿›è¡Œæ“ä½œã€‚ <br><br><pre> <code class="hljs powershell"><code class="java"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateActiveColumnsSetting</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(fieldsGroups)</span></span></span></span> { var result = {}; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (var i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; fieldsGroups.length; i++) { var fields = fieldsGroups[<span class="hljs-type"><span class="hljs-type">i</span></span>].fields; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (var j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; fields.length; j++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!result[<span class="hljs-type"><span class="hljs-type">fieldsGroups</span></span>[<span class="hljs-type"><span class="hljs-type">i</span></span>]<span class="hljs-type"><span class="hljs-type">.groupName</span></span>]) { result[<span class="hljs-type"><span class="hljs-type">fieldsGroups</span></span>[<span class="hljs-type"><span class="hljs-type">j</span></span>]<span class="hljs-type"><span class="hljs-type">.groupName</span></span>] = {}; } result[<span class="hljs-type"><span class="hljs-type">fieldsGroups</span></span>[<span class="hljs-type"><span class="hljs-type">i</span></span>]<span class="hljs-type"><span class="hljs-type">.groupName</span></span>][<span class="hljs-type"><span class="hljs-type">fields</span></span>[<span class="hljs-type"><span class="hljs-type">j</span></span>]<span class="hljs-type"><span class="hljs-type">.field</span></span>] = createColumnAttributes(j, fields[<span class="hljs-type"><span class="hljs-type">j</span></span>].isActive); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> JSON.stringify(result); }</code></code> </pre><br> ç´¢å¼•å™¨æ˜¯ç»å¸¸å‡ºé”™çš„åœ°æ–¹ã€‚ ç”±äºç´¢å¼•åçŸ­ï¼Œå› æ­¤å¾ˆå®¹æ˜“æ··æ·†Iï¼Œjæˆ–kã€‚ <br><br> åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œåœ¨è¡Œç»“æœä¸­[fieldsGroups [j] .groupName] = {}; é”™è¯¯ï¼š <br> ä½¿ç”¨jä»£æ›¿iã€‚ <br><br> ä¸ºäº†æ‰¾åˆ°ç¡®åˆ‡ä½¿ç”¨ç¬¬iä¸ªå€¼çš„ä½ç½®ï¼Œæ‚¨å¿…é¡»ï¼š <br><br>  1ï¼‰åœ¨è§†è§‰ä¸Šçªå‡ºæ˜¾ç¤ºæ•°ç»„å˜é‡ <br><br><pre> <code class="hljs powershell"><code class="java"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateActiveColumnsSetting</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(fieldsGroups)</span></span></span></span> { var result = {}; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (var i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; fieldsGroups.length; i++) { var fields = fieldsGroups[<span class="hljs-type"><span class="hljs-type">i</span></span>].fields; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (var j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; fields.length; j++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!result[<span class="hljs-type"><span class="hljs-type">fieldsGroups</span></span>[<span class="hljs-type"><span class="hljs-type">i</span></span>]<span class="hljs-type"><span class="hljs-type">.groupName</span></span>]) { result[<span class="hljs-type"><span class="hljs-type">fieldsGroups</span></span>[<span class="hljs-type"><span class="hljs-type">j</span></span>]<span class="hljs-type"><span class="hljs-type">.groupName</span></span>] = {}; } result[<span class="hljs-type"><span class="hljs-type">fieldsGroups</span></span>[<span class="hljs-type"><span class="hljs-type">i</span></span>]<span class="hljs-type"><span class="hljs-type">.groupName</span></span>][<span class="hljs-type"><span class="hljs-type">fields</span></span>[<span class="hljs-type"><span class="hljs-type">j</span></span>]<span class="hljs-type"><span class="hljs-type">.field</span></span>] = createColumnAttributes(j, fields[<span class="hljs-type"><span class="hljs-type">j</span></span>].isActive); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> JSON.stringify(result); }</code></code> </pre><br>  2ï¼‰åˆ†ææ¯æ¬¡å‡ºç°çš„æƒ…å†µï¼Œä»¥ä½¿ç”¨æ‰€éœ€çš„ç´¢å¼•å™¨Iï¼Œjï¼Œi-1ï¼Œj-1ç­‰ï¼ŒåŒæ—¶ç‰¢è®°ç´¢å¼•å™¨çš„ä½¿ç”¨ä½ç½®å’Œå·²è¯†åˆ«çš„å‚è€ƒç´¢å¼•ã€‚ <br> é€šè¿‡çªå‡ºæ˜¾ç¤ºå˜é‡ä¸­çš„ç´¢å¼•å™¨ï¼Œæˆ‘ä»¬å¯ä»¥å‡å°‘å±é™©ä½ç½®çš„æ•°é‡ï¼Œå¹¶ä¸”å¯ä»¥è½»æ¾åœ°ä½¿ç”¨å¤§è„‘æ¥æ„ŸçŸ¥å˜é‡ï¼Œè€Œæ— éœ€è®°å¿†ã€‚ <br><br> å¤„ç†åï¼š <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-function">function </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateActiveColumnsSetting</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(fieldsGroups)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> columnsGroups = {}; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; fieldsGroups.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fieldsGroup = fieldsGroups[i]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> groupName = fieldsGroup.groupName; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> columnsGroup = columnsGroups[groupName]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!columnsGroup) { columnsGroup = columnsGroups[groupName] = {}; } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fields = fieldsGroup.fields; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; fields.length; j++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fieldInfo = fields[j]; columnsGroup[fieldInfo.field] = createColumnAttributes(j, field.isActive); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> columnsGroups; }</code> </pre> <br> è§†è§‰é€‰æ‹©æ›´åŠ ç®€å•ï¼Œç°ä»£å¼€å‘ç¯å¢ƒå’Œç¼–è¾‘å™¨é€šè¿‡çªå‡ºæ˜¾ç¤ºä»£ç ä¸åŒéƒ¨åˆ†ä¸­çš„å­å­—ç¬¦ä¸²æ¥æä¾›å¸®åŠ©ã€‚ <br><br><pre> <code class="hljs powershell"><code class="java"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateActiveColumnsSetting</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(fieldsGroups)</span></span></span></span> { var columnsGroups = {}; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (var i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; fieldsGroups.length; i++) { var fieldsGroup = fieldsGroups[<span class="hljs-type"><span class="hljs-type">i</span></span>]; var groupName = fieldsGroup.groupName; var columnsGroup = columnsGroups[<span class="hljs-type"><span class="hljs-type">groupName</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!columnsGroup) { columnsGroup = columnsGroups[<span class="hljs-type"><span class="hljs-type">groupName</span></span>] = {}; } var fields = fieldsGroup.fields; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (var j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; fields.length; j++) { var fieldInfo = fields[<span class="hljs-type"><span class="hljs-type">j</span></span>]; columnsGroup[<span class="hljs-type"><span class="hljs-type">fieldInfo.field</span></span>] = createColumnAttributes(j, field.isActive); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> columnsGroups; }</code></code> </pre><br>  <strong>è§„åˆ™4.æ ¹æ®å«ä¹‰å¯¹å—è¿›è¡Œåˆ†ç»„ã€‚</strong> <br><br> æˆ‘ä»¬ä½¿ç”¨æ„ŸçŸ¥çš„å¿ƒç†æ•ˆåº”-â€œæ¥è¿‘æ•ˆåº”â€ï¼šæ„ŸçŸ¥ä¸­ç´§å¯†é—´éš”çš„äººç‰©ç›¸ç»“åˆã€‚ ä¸ºäº†ä½¿ä»£ç ä¸ºæ„ŸçŸ¥è¿‡ç¨‹ä¸­çš„åˆ†æå’Œæ³›åŒ–åšå¥½å‡†å¤‡ï¼Œå¹¶å‡å°‘å­˜å‚¨åœ¨å†…å­˜ä¸­çš„ä¿¡æ¯é‡ï¼Œæ‚¨å¯ä»¥æŒ‰å«ä¹‰æ’åˆ—æˆ–åœ¨åŠŸèƒ½ä¸Šç´§å¯†ç»“åˆï¼Œç”¨ç©ºè¡Œå°†å…¶åˆ†éš”å¼€æ¥æ’åˆ—é™„è¿‘çš„è¡Œã€‚ <br><br> è‡³ï¼š <br><br><pre> <code class="hljs cs"><code class="java"><span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> abcFactInfo <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> abcFactInfos) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> currentFact = abcInfoManager.GetFact(abcFactInfo); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> percentage = GetPercentage(summaryFact, currentFact); abcInfoManager.SetPercentage(abcFactInfo, percentage); accumPercentage += percentage; abcInfoManager.SetAccumulatedPercentage(abcFactInfo, accumPercentage); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> category = GetAbcCategory(accumPercentage, categoryDictionary); abcInfoManager.SetCategory(abcFactInfo, category); }</code></code> </pre><br> ä¹‹åï¼š <br><br><pre> <code class="hljs cs"><code class="java"><span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> abcFactInfo <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> abcFactInfos) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> currentFact = abcInfoManager.GetFact (abcFactInfo); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> percentage = GetPercentage(summaryFact, currentFact); accumPercentage += percentage; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> category = GetAbcCategory(accumPercentage, categoryDictionary); abcInfoManager.SetPercentage(abcFactInfo, percentage); abcInfoManager.SetAccumulatedPercentage(abcFactInfo, accumPercentage); abcInfoManager.SetCategory(abcFactInfo, category); }</code></code> </pre><br> åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæœ‰7ä¸ªå—ï¼Œåœ¨ä¸‹é¢çš„3ä¸­ï¼šè·å–å€¼ï¼Œå¾ªç¯ç´¯ç§¯ï¼Œè®¾ç½®ç®¡ç†å™¨å±æ€§ã€‚ <br><br> ç¼©è¿›æœ‰åŠ©äºè¯†åˆ«å€¼å¾—å…³æ³¨çš„ä½ç½®ã€‚ æ‰€ä»¥ï¼Œçº¿ <br><br><pre> <code class="hljs nginx"><code class="java"><span class="hljs-attribute"><span class="hljs-attribute">accumPercentage</span></span> += percentage; <span class="hljs-attribute"><span class="hljs-attribute">var</span></span> category = GetAbcCategory(accumPercentage, categoryDictionary);</code></code> </pre><br> é™¤äº†ä¾èµ–äºå…ˆå‰çš„è®¡ç®—ä¹‹å¤–ï¼Œå®ƒä»¬è¿˜ä¼šå°†å€¼ç´¯åŠ åˆ°ç´¯è®¡å˜é‡Percentageä¸­ã€‚ ä¸ºäº†å¼ºè°ƒå·®å¼‚ï¼Œå°†ä»£ç ç¼©è¿›ã€‚ <br><br> è§„åˆ™çš„ä¸€ç§ç‰¹æ®Šç”¨ä¾‹æ˜¯å£°æ˜å±€éƒ¨å˜é‡ï¼Œä½¿å…¶å°½å¯èƒ½é è¿‘ä½¿ç”¨åœ°ç‚¹ã€‚ <br><br>  <strong>è§„åˆ™5.éµå¾ªå”¯ä¸€æ€§åŸåˆ™ã€‚</strong> <br><br> è¿™æ˜¯OOPä¸­SOLIDåŸåˆ™çš„ç¬¬ä¸€ä¸ªï¼Œä½†æ˜¯é™¤ç±»å¤–ï¼Œå®ƒè¿˜å¯ä»¥åº”ç”¨äºé¡¹ç›®ï¼Œæ¨¡å—ï¼ŒåŠŸèƒ½ï¼Œä»£ç å—ï¼Œé¡¹ç›®å›¢é˜Ÿæˆ–å•ä¸ªå¼€å‘äººå‘˜ã€‚ å½“è¢«é—®åˆ°è°æˆ–ä»€ä¹ˆè´Ÿè´£è¯¥é¢†åŸŸæ—¶ï¼Œç«‹å³æ¸…æ¥šæ˜¯è°æˆ–ä»€ä¹ˆã€‚ ä¸€ä¸ªè¿æ¥æ€»æ˜¯å¾ˆç®€å•ã€‚ æ¯ä¸ªç±»åˆ«éƒ½è¢«æ¦‚æ‹¬ä¸ºä¸€ä¸ªæ¦‚å¿µï¼ŒçŸ­è¯­ï¼Œéšå–»ã€‚ ç»“æœï¼Œæ— éœ€è®°ä½ï¼Œæ„ŸçŸ¥è¿‡ç¨‹å˜å¾—æ›´å®¹æ˜“ï¼Œæ›´æœ‰æ•ˆã€‚ <br><br> æœ€åï¼Œä¸€ä¸ªç»¼åˆçš„ä¾‹å­ï¼š <br><br><pre> <code class="hljs pgsql"><code class="java">private PartnerState GetPartnerStateForUpdate( PartnerActivityInfo partner, <span class="hljs-keyword"><span class="hljs-keyword">Dictionary</span></span>&lt;<span class="hljs-type"><span class="hljs-type">int</span></span>, PartnerState&gt; currentStates, <span class="hljs-keyword"><span class="hljs-keyword">Dictionary</span></span>&lt;<span class="hljs-type"><span class="hljs-type">int</span></span>, PartnerState&gt; prevStates) { PartnerState updatingState; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (prevStates.ContainsKey(partner.id)) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (currentStates.ContainsKey(partner.id)) { var prevState = prevStates[partner.id]; updatingState = currentStates[partner.id]; // <span class="hljs-number"><span class="hljs-number">1</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { // <span class="hljs-number"><span class="hljs-number">2</span></span> } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (currentStates.ContainsKey(partner.id)) { updatingState = currentStates[partner.id]; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { throw <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>(string.Format("  {0}         {1}", partner.id, month)); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> updatingState; }</code></code> </pre><br> åœ¨æ›¿æ¢äº†ContainsKeç´¢å¼•å™¨ï¼Œåè½¬åˆ†æ”¯ï¼Œé€‰æ‹©æ–¹æ³•å¹¶é™ä½åµŒå¥—çº§åˆ«ä¹‹åï¼Œç»“æœæ˜¯ï¼š <br><br><pre> <code class="hljs pgsql"><code class="java">private PartnerState GetPartnerStateForUpdate( PartnerActivityInfo partner, <span class="hljs-keyword"><span class="hljs-keyword">Dictionary</span></span>&lt;<span class="hljs-type"><span class="hljs-type">int</span></span>, PartnerState&gt; currentStates, <span class="hljs-keyword"><span class="hljs-keyword">Dictionary</span></span>&lt;<span class="hljs-type"><span class="hljs-type">int</span></span>, PartnerState&gt; prevStates) { PartnerState currentState = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; PartnerState prevState = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; prevStates.TryGetValue(partner.id, <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> prevState); currentStates.TryGetValue(partner.id, <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> currentState); currentState = CombineStates(currentState, prevState); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> currentState; } private PartnerState CombineStates( PartnerState currentState, PartnerState prevState) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (currentState == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; prevState == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { throw <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>(string.Format( "  {0}         {1}" , partner.id, month)); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (currentState == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { // <span class="hljs-number"><span class="hljs-number">1</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (prevState != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { // } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> currentState; }</code></code> </pre><br> ç¬¬ä¸€ä¸ªåŠŸèƒ½è´Ÿè´£ä»å­—å…¸ä¸­è·å–çŠ¶æ€ï¼Œç¬¬äºŒä¸ªåŠŸèƒ½å°†å®ƒä»¬ç»„åˆæˆä¸€ä¸ªæ–°çš„çŠ¶æ€ã€‚ <br><br> ç»™å‡ºçš„è§„åˆ™å¾ˆç®€å•ï¼Œä½†æ˜¯ç»“åˆèµ·æ¥ï¼Œå®ƒä»¬æä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œå¯ä»¥ç®€åŒ–ä»£ç å¹¶å‡å°‘å¼€å‘è¿‡ç¨‹ä¸­çš„å†…å­˜è´Ÿè½½ã€‚ æ‚¨å°†æ— æ³•å§‹ç»ˆéµå¾ªå®ƒä»¬ï¼Œä½†æ˜¯ï¼Œå¦‚æœæ‚¨æ„è¯†åˆ°è‡ªå·±ä¸äº†è§£è¯¥ä»£ç ï¼Œåˆ™æœ€å®¹æ˜“ä»å®ƒä»¬å¼€å§‹ã€‚ ä»–ä»¬åœ¨æœ€å›°éš¾çš„æƒ…å†µä¸‹ä¸€å†å¸®åŠ©æäº¤äººã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN436160/">https://habr.com/ru/post/zh-CN436160/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN436144/index.html">åœ¨ç”Ÿç‰©å¤§æµè¡Œçš„èƒŒæ™¯ä¸‹å¸è¡€çš„ä¸Šå¸ï¼šä¸ºä»€ä¹ˆä¸€ä¸ªè‡ªæ²»çš„å›¢é˜Ÿå¦‚æœæ²¡æœ‰é›†ä¸­åŒ–å°±ä¼šè§£æ•£</a></li>
<li><a href="../zh-CN436148/index.html">ä¸€ä¸ªå¤§ä¸‰çš„æ•…äº‹-å¦‚ä½•å¼€å§‹å·¥ä½œè€Œä¸å®³æ€•ä¸€åˆ‡</a></li>
<li><a href="../zh-CN436150/index.html">é…ç½®è®¾å¤‡æ•°æ®åˆ°AWS IoT Coreçš„ä¼ è¾“</a></li>
<li><a href="../zh-CN436152/index.html">æ•™ä¼šæˆ‘é¢å‘ä¸šåŠ¡è®¾è®¡çš„é”™è¯¯</a></li>
<li><a href="../zh-CN436154/index.html">è½¦é€Ÿè¡¨çš„ä¸€ä¸ªé—®é¢˜æˆ–Chromiumå¦‚ä½•ç®¡ç†å†…å­˜çš„æ•…äº‹</a></li>
<li><a href="../zh-CN436162/index.html">GoProå·¥å‚æ¬è¿ä»¥é˜²èŒƒæ›´é«˜è¿›å£å…³ç¨çš„å¨èƒ</a></li>
<li><a href="../zh-CN436164/index.html">ä¿¡å·å®éªŒè¡¨æ˜ï¼Œé‡å­æ¶ˆæ¯ä¼ é€’æ¯”ç»å…¸æ¶ˆæ¯ä¼ é€’æ›´å¿«</a></li>
<li><a href="../zh-CN436166/index.html">ç‰¹æ–¯æ‹‰Model 3åœ¨Pwn2Ownä¸Šæä¾›ç»™ä»»ä½•é—¯å…¥ç”µåŠ¨æ±½è½¦ä¿æŠ¤ç³»ç»Ÿçš„äºº</a></li>
<li><a href="../zh-CN436170/index.html">åœ¨æœˆçƒçš„ç”Ÿç‰©å®¹å™¨ä¸­ï¼Œç¬¬ä¸€æ‰¹æ¤ç‰©å‘èŠ½äº†</a></li>
<li><a href="../zh-CN436172/index.html">PADS Professional-å¿«é€Ÿå…¥é—¨</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>