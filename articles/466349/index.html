<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úíÔ∏è üìë üç∑ C√≥mo realizar pruebas A / B en 15,000 tiendas sin conexi√≥n üç¨ üò© üë°</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola Equipo de an√°lisis ad-hoc de Big Data conectado de X5 Retail Group. 

 En este art√≠culo, hablaremos sobre nuestra metodolog√≠a de prueba A / B y l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo realizar pruebas A / B en 15,000 tiendas sin conexi√≥n</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/X5RetailGroup/blog/466349/">  Hola  Equipo de an√°lisis ad-hoc de Big Data conectado de X5 Retail Group. <br><br>  En este art√≠culo, hablaremos sobre nuestra metodolog√≠a de prueba A / B y los desaf√≠os que enfrentamos a diario. <br><br>  Big Data X5 emplea a unas 200 personas, incluidas 70 la fecha de los cient√≠ficos y la fecha de los analistas.  Nuestra parte principal se dedica a productos espec√≠ficos: demanda, surtido, campa√±as de promoci√≥n, etc.  Adem√°s de ellos, est√° nuestro equipo de an√°lisis Ad-hoc separado. <br><br><img src="https://habrastorage.org/webt/fc/ab/by/fcabbyvlt69yxmfimt4iidjbsze.png"><br><a name="habracut"></a><br>  Somos: <br><br><ul><li>  ayudamos a las unidades de negocios con solicitudes de an√°lisis de datos que no se ajustan a los productos existentes; </li><li>  ayudamos a los equipos de productos si necesitan manos adicionales; </li><li>  Nos dedicamos a las pruebas A / B, y esta es la funci√≥n principal del equipo. </li></ul><br>  La situaci√≥n en la que trabajamos es muy diferente de las pruebas A / B t√≠picas.  T√≠picamente, la t√©cnica est√° asociada con m√©tricas en l√≠nea y en l√≠nea: c√≥mo los cambios afectaron la conversi√≥n, retenci√≥n, CTR, etc.  La mayor√≠a de los experimentos est√°n relacionados con cambios en la interfaz: reorganizar el banner, volver a pintar el bot√≥n, reemplazar el texto, etc. <br><br>  El negocio de X5 es diferente: son 15,000 tiendas fuera de l√≠nea en vivo de varios formatos, distribuidas en todo el pa√≠s.  Esta caracter√≠stica impone ciertas limitaciones.  En primer lugar, el conjunto de m√©tricas que se pueden probar var√≠a enormemente y, en segundo lugar, se impone la restricci√≥n de los experimentos.  La tarea de cambiar el dise√±o de un escaparate de una tienda en l√≠nea no es comparable en t√©rminos de mano de obra a la tarea de cambiar el orden de los departamentos en las tiendas fuera de l√≠nea. <br><br>  La compa√±√≠a tiene un equipo que se dedica a un programa de fidelizaci√≥n y sus pilotos est√°n m√°s cerca de la idea cl√°sica de las pruebas A / B.  Las preguntas que nos llegan son muy at√≠picas para las pruebas A / B "ordinarias".  Por ejemplo: <br><br><ul><li>  ¬øC√≥mo cambiar√° el rendimiento financiero de la tienda si cambio el orden de los departamentos de salchichas y pasteles? </li><li>  ¬øC√≥mo afectar√° el modelo de rotaci√≥n de clientes al resultado financiero? </li><li>  ¬øC√≥mo afectar√° la configuraci√≥n de postamatos al rendimiento de la tienda? </li></ul><br>  Los clientes creen que cierto cambio afectar√° positivamente a uno de los indicadores (hablaremos de ellos m√°s adelante).  Nuestro trabajo es ayudarlos a validar sus hip√≥tesis basadas en datos. <br><br><h3>  M√©tricas </h3><br>  ¬øQu√© indicadores estamos probando?  <b>RTO</b> , <b>verificaci√≥n promedio</b> y <b>tr√°fico</b> son las palabras m√°s utilizadas en nuestro espacio abierto. <br><br><ul><li>  <b>RTO</b> (facturaci√≥n minorista): la cantidad de dinero ganada por la tienda. </li></ul><br>  Una de las principales m√©tricas para los negocios y la m√°s dif√≠cil de probar. <br><br>  La facturaci√≥n diaria de la tienda se mide en millones de rublos.  En consecuencia, la propagaci√≥n del indicador se mide en al menos miles de rublos.  La f√≥rmula compleja y larga para determinar el tama√±o de la muestra dice que cuanto mayor es la varianza, m√°s datos se necesitan para llegar a conclusiones significativas.  Para captar el efecto incluso en el d√©cimo por ciento con una dispersi√≥n tan grande de PTO, los pilotos en las tiendas deben pasar seis meses. <br><br>  Imagine la reacci√≥n de la junta, si en una reuni√≥n con ellos dice que el piloto necesita pasar seis meses, o incluso un a√±o en todas las tiendas.  =) <br><br>  Tenemos dos enfoques est√°ndar. <br><br>  El primer enfoque: no estamos considerando el RTO de toda la tienda, sino alg√∫n tipo de categor√≠a de producto.  Por ejemplo, como resultado de la reorganizaci√≥n de dos secciones en la tienda ("Tortas" y "Salchichas"), se espera un aumento en el PTO en ambas categor√≠as.  El RTO de una categor√≠a es mucho m√°s peque√±o que el RTO de toda la tienda, por lo tanto, la dispersi√≥n es menor.  En este caso, esperamos que el piloto en estas categor√≠as est√© aislado de las categor√≠as restantes. <br><br>  Segundo enfoque: tomamos muestras del tiempo.  La unidad de observaci√≥n no es el PTO de la tienda para todo el piloto, sino el PTO por semana o d√≠a.  Por lo tanto, aumentamos el n√∫mero de observaciones, mientras mantenemos la varianza de los datos sin procesar. <br><br><img src="https://habrastorage.org/webt/kw/b_/w1/kwb_w1jmlkx4rynvidf5cfqvkny.jpeg"><br><br><ul><li>  <b>Cheque promedio</b> , o <b>RTO / n√∫mero de cheques</b> : la cantidad promedio de dinero en un cheque. </li></ul><br>  Parte de los cambios tiene como objetivo hacer que las personas compren m√°s, por lo que probamos el RTO / n√∫mero de cheques, o el cheque promedio, si hacemos analog√≠as con las m√©tricas habituales. <br><br>  La dificultad para probar esta m√©trica est√° relacionada con los detalles del comercio minorista.  Por ejemplo, con el lanzamiento piloto de la promoci√≥n ‚Äú3 por el precio de 2‚Äù, una persona que plane√≥ comprar un producto comprar√≠a tres, y el monto del cheque aumentar√°.  Pero, ¬øqu√© pasa si m√°s tarde tiene menos probabilidades de ir a la tienda y el piloto no tiene tanto √©xito? <br><br><ul><li>  <b>Tr√°fico</b> : el n√∫mero de cheques en la tienda durante un cierto per√≠odo de tiempo. </li></ul><br>  Para evitar conclusiones err√≥neas al probar hip√≥tesis que afectan la verificaci√≥n promedio, simult√°neamente observamos los cambios de tr√°fico.  No podemos rastrear directamente cu√°ntas personas vinieron a la tienda, ya que  no todos los visitantes son clientes del programa de fidelizaci√≥n, por lo tanto, para las pruebas A / B, cada cheque es una "visita √∫nica" al cliente.  Por analog√≠a con PTO, consideramos el tr√°fico en varios intervalos de tiempo: tr√°fico por d√≠a, tr√°fico por hora. <br><br>  La relaci√≥n entre el control promedio y el tr√°fico es muy importante: ¬øpodr√≠a el piloto aumentar el control promedio, pero reducir el tr√°fico y, en √∫ltima instancia, no conducir a un aumento en el PTO, sino a su disminuci√≥n?  ¬øPodr√≠a el piloto ayudar a aumentar el tr√°fico sin cambiar la factura promedio? <br><br><ul><li>  <b>Margen</b> : la diferencia entre el precio de un producto y su costo </li></ul><br>  Hay pilotos en cuyo marco cambiamos los precios de los bienes: para algunos, el precio ha aumentado, para otros, por el contrario.  Como no afectamos los costos de producci√≥n, al cambiar los precios, cambiamos el margen de los bienes.  Tal piloto puede conducir a un aumento del tr√°fico y a aumentar la verificaci√≥n promedio.  Pero, ¬øsignifica esto que el piloto tiene √©xito y que vale la pena cambiar los precios en todas las tiendas de la red?  No, bien podr√≠a suceder que la gente comenzara a comprar productos con un margen negativo o peque√±o con mayor frecuencia y abandonara los productos con un margen alto.  Por lo tanto, no siempre un aumento en RTO es seguido por un aumento en el margen total; por lo tanto, vale la pena probar estos indicadores por separado. <br><br>  Bueno, digamos que hemos decidido las m√©tricas objetivo.  Las siguientes preguntas: <br><br><ul><li>  ¬øQu√© efecto de tama√±o planea recibir el cliente? </li><li>  ¬øQu√© efecto se puede detectar realmente en el experimento? </li><li>  ¬øCu√°nto dura el experimento? </li><li>  Que grupos </li></ul><br><h3>  Resumen del experimento </h3><br>  Las pruebas A / B realizadas en usuarios en l√≠nea tienen una ventaja significativa: tienen una alta capacidad de generalizaci√≥n.  En otras palabras, las conclusiones obtenidas durante el experimento se pueden escalar a todos los usuarios.  La capacidad de generalizaci√≥n est√° garantizada por la configuraci√≥n del experimento: los grupos de control y prueba se forman aleatoriamente, casi exactamente ambos grupos de la misma distribuci√≥n, puede atrapar mucho tr√°fico en ambos grupos, habr√≠a un presupuesto. <br><br>  En el caso del comercio minorista sin conexi√≥n, ninguna de estas configuraciones funciona.  En primer lugar, hay un l√≠mite en el n√∫mero de tiendas.  En segundo lugar, las tiendas son muy diferentes entre s√≠.  La tienda Perekrestok en el √°rea residencial y Perekrestok cerca del centro de negocios son, de hecho, objetos muy diferentes de diferentes distribuciones. <br><br><img src="https://habrastorage.org/webt/-8/o_/so/-8o_sonaxffqinwcofkoegbxw58.jpeg"><br><br>  En el gr√°fico vemos que las tiendas del grupo de prueba son diferentes de las tiendas de toda la red.  Esta es una situaci√≥n bastante t√≠pica: en la cadena de tiendas Pyaterochka se encuentran no solo en las ciudades, sino tambi√©n en peque√±os asentamientos.  Los grandes pilotos se llevan a cabo con mayor frecuencia en las ciudades.  Cualquiera que sea el efecto que detectemos, escalarlo en toda la red est√° mal. <br><br>  El efecto total <b>–Ñ del</b> piloto que evaluamos mediante la f√≥rmula: <br><br><img src="https://habrastorage.org/webt/0p/t7/-w/0pt7-w_eyalkcs_fafhwwgqzjx0.png"><br><br>  a es el √°rea de intersecci√≥n de las distribuciones del grupo piloto y todas las tiendas en la red. <br><br>  Tenga en cuenta que esto no es una consecuencia de las leyes estad√≠sticas, pero nuestra suposici√≥n sobre c√≥mo es l√≥gico considerar el efecto acumulativo. <br><br>  La opci√≥n ideal es reclutar una muestra representativa para el grupo de prueba, es decir, aquellas tiendas que realmente reflejen todo el estado de la red.  Pero la representatividad conduce a la heterogeneidad de la muestra, porque  Se tomar√°n muestras de tiendas con PTO alto o bajo. <br><br><h3>  Tama√±os de grupo, duraci√≥n del piloto y efecto m√≠nimo detectable </h3><br>  Y ahora para lo m√°s importante: el tama√±o del efecto y la duraci√≥n del piloto.  Como regla, nos enfrentamos a una de tres situaciones: <br><br><ol><li>  el cliente tiene un l√≠mite de tiempo para el piloto y la cantidad de tiendas con las que puede trabajar; </li><li>  el cliente sabe qu√© tama√±o de efecto espera recibir y solicita indicar la cantidad de tiendas que necesita el piloto (y luego las tiendas mismas); </li><li>  El cliente est√° abierto a nuestras ofertas. </li></ol><br>  No se puede decir que ninguno de los escenarios sea m√°s simple, porque en cualquier caso estamos preparando una tabla del error de efecto. <br><br><img src="https://habrastorage.org/webt/tl/rb/dc/tlrbdcloe-j79-o-2rygs4aqira.png"><br><br>  Importante para ella: <br><br><ol><li>  un error del primer tipo: la probabilidad de ver el efecto cuando no est√° all√≠; </li><li>  un error del segundo tipo: la probabilidad de omitir el efecto cuando lo es; </li><li>  El tama√±o del efecto que se espera ver con un piloto exitoso. </li></ol><br>  La combinaci√≥n de estos tres par√°metros le permite calcular la duraci√≥n requerida del piloto.  El valor en la tabla es el tama√±o de la muestra, en este caso, el n√∫mero de recibos o la m√©trica promedio en la tienda por d√≠a, que son necesarios para realizar el piloto.  Si hablamos del mundo real, generalmente la probabilidad de errores del primer y segundo tipo es del 5-10 por ciento.  Como se puede ver en la tabla, con tales errores fijos, necesitamos 421 d√≠as de Pyaterochka para captar el efecto del uno por ciento.  Parece que la cifra es bastante buena: despu√©s de todo, 421 Pyaterochka-day es piloto en 40 tiendas durante 10 d√≠as.  Sin embargo, hay un "pero": hay muy pocos pilotos que realmente esperan un efecto del uno por ciento.  Por lo general, estamos hablando de d√©cimas de porcentaje.  Dado que el RTO se mide en miles de millones, una d√©cima parte del porcentaje del efecto de un piloto exitoso puede generar un gran aumento en los ingresos.  Debido a esto, quiero medir incluso el efecto m√°s peque√±o.  Pero cuanto menor es el tama√±o del efecto, mayor es el error del segundo tipo.  Esto es comprensible: el peque√±o efecto es similar al ruido aleatorio y rara vez se considerar√° una desviaci√≥n real de la norma.  Esto se ve claramente en el gr√°fico a continuaci√≥n, donde queremos capturar un peque√±o efecto en los datos con gran varianza. <br><br><img src="https://habrastorage.org/webt/vr/na/lw/vrnalwenskdfrb2xpenvbhgq23o.jpeg"><br><br><h3>  Pruebas A / A </h3><br>  Antes de que comience el piloto, debe decidir sobre el grupo de prueba y control.  El cliente puede o no tener un grupo piloto.  Estamos listos para ayudarlo en ambos casos solicitando restricciones; por ejemplo, las tiendas deben ser estrictamente de tres regiones espec√≠ficas. <br><br>  Supongamos que hemos elegido de alguna manera un grupo de prueba y control.  ¬øC√≥mo asegurarse de que los grupos seleccionados son buenos y que realmente puede realizar pruebas A / B en ellos?  Parece que todo suena armonioso: calificamos el n√∫mero requerido de observaciones, de acuerdo con la f√≥rmula podemos captar el efecto de 0.7%, encontramos tiendas similares.  Lo que ahora no nos conviene? <br><br>  Desafortunadamente, muchos hechos serios: <br><br><ul><li>  los elementos de la muestra no son de la misma distribuci√≥n: nuestra muestra es una mezcla de observaciones de diferentes tiendas, y cada tienda tiene su propia distribuci√≥n. </li><li>  los elementos de la muestra no son independientes: en la muestra hay muchas observaciones de una tienda, respectivamente, hay una conexi√≥n entre ellas; </li><li>  la igualdad de medios no est√° garantizada en ausencia de un piloto, es decir  no estamos del todo seguros de que si no hubiera un piloto, las estad√≠sticas de la tienda no diferir√≠an. </li></ul><br>  Todos estos problemas no se tienen en cuenta en el c√°lculo de la f√≥rmula para seleccionar el n√∫mero de observaciones dependiendo de los errores y el efecto.  Para comprender el alcance del impacto de los problemas anteriores, realizamos pruebas A / A.  De hecho, esta es una simulaci√≥n de todo el piloto en las tiendas en un momento en que no hay piloto en las tiendas.  Este per√≠odo se llama pre-piloto. <br><img src="https://habrastorage.org/webt/rf/zd/vz/rfzdvzpvmqlff2x6ed2bzeqtuxy.png"><br>  Durante el per√≠odo pre-piloto, repetimos tres pasos muchas veces: <br><br><ol><li>  selecci√≥n de grupos similares; </li><li>  prueba de igualdad en dos grupos; </li><li>  agregando efecto al grupo de prueba y probando los medios para la igualdad. </li></ol><br><img src="https://habrastorage.org/webt/ri/ti/eg/ritieghfygj6kgxfyedloba-irk.png"><br><br><h3>  Coincidencia de grupos similares </h3><br>  No inventamos una bicicleta, por lo que buscamos grupos similares con el viejo m√©todo de los vecinos m√°s cercanos.  La estrategia de generar caracter√≠sticas para la tienda es un arte separado.  Encontramos tres m√©todos de trabajo: <br><br><ul><li>  Cada tienda se describe mediante un vector de caracter√≠sticas de acuerdo con la m√©trica que estamos probando.  Por ejemplo, al examinar el cheque promedio, describimos los cheques promedio diarios durante 8 semanas; obtenemos 56 letreros para la tienda.  Luego tomamos la distancia euclidiana entre los signos de un par de tiendas. </li></ul><br><img src="https://habrastorage.org/webt/ra/nq/sy/ranqsy12gvkgu2tgk1lsocvbwcu.jpeg"><br><br><ul><li>  Encuentra tiendas similares en din√°mica.  Las tiendas pueden diferir en los valores absolutos de las m√©tricas, pero coinciden en las tendencias, y con ciertas manipulaciones matem√°ticas, estas tiendas pueden considerarse iguales. </li></ul><br><img src="https://habrastorage.org/webt/gw/pz/99/gwpz99ikylr7lyv7nyteclwdk8y.jpeg"><br><br><ul><li>  Predecir el rendimiento de la tienda durante el per√≠odo del piloto (en el futuro) y seleccionar otros similares basados ‚Äã‚Äãen ellos, pero aqu√≠ necesitamos un or√°culo que pueda predecir el rendimiento del piloto con bastante precisi√≥n. </li></ul><br>  Nos adherimos a una hip√≥tesis muy simple: si las tiendas fueran similares antes del piloto, si no hubiera habido un cambio piloto, habr√≠an permanecido similares. <br><br>  Puede notar que incluso en estos tres m√©todos de trabajo hay muchos aspectos que pueden variar: el n√∫mero de d√≠as / semanas por los que se considera una caracter√≠stica, un m√©todo para evaluar la din√°mica de un indicador, etc. <br><br>  No existe una p√≠ldora universal, en cada experimento pasamos por diferentes opciones basadas en nuestro objetivo.  Pero es muy simple: encuentre un m√©todo para seleccionar los vecinos m√°s cercanos que proporcione errores razonables del primer y segundo tipo.  De d√≥nde vienen, contamos m√°s. <br><br><h3>  Prueba de igualdad de medios, o un error del primer tipo de m√©todo </h3><br>  Recordemos que en este punto nosotros: <br><br><ol><li>  determin√≥ con el cliente el tama√±o del efecto y la duraci√≥n del piloto </li><li>  explic√≥ la esencia de los errores del primer y segundo tipo </li><li>  construy√≥ un m√©todo para seleccionar grupos similares </li></ol><br>  El objetivo de esta etapa es asegurarse de que el m√©todo que seleccionamos en la Secci√≥n 3 encuentre grupos que antes de que el piloto inicie el indicador (RTO, verificaci√≥n promedio, tr√°fico) en estas tiendas no sea estad√≠sticamente diferente. <br><br>  En el ciclo, seleccionamos los grupos seleccionados repetidamente para la igualdad mediante alg√∫n tipo de prueba estad√≠stica y bootstrap.  Si la proporci√≥n de errores (es decir, los grupos no son iguales entre s√≠) es mayor que el umbral, entonces el m√©todo se rechaza y se selecciona uno nuevo.  Entonces, hasta que alcancemos el umbral de error deseado. <br><br><img src="https://habrastorage.org/webt/-r/wn/sg/-rwnsgtq1jyngzxrsdm446piem0.png"><br><br>  Es importante averiguar con qu√© frecuencia captamos el efecto cuando no est√° all√≠, es decir.  si nuestro m√©todo de selecci√≥n responde a diferencias aleatorias entre tiendas o no. <br><br><h3>  Agregar un efecto o un error del segundo tipo de m√©todo </h3><br>  Una pregunta razonable, pero ¬øno nos estamos volviendo a capacitar de tal manera que tambi√©n percibamos los efectos reales como ruido y los ignoremos?  En otras palabras, ¬øpodemos detectar un efecto cuando lo es? <br><br>  Despu√©s de asegurarnos en el √∫ltimo paso de que los grupos coinciden, agregamos un efecto artificial a uno de los grupos, es decir,  Garantizamos que el piloto es exitoso y el efecto deber√≠a serlo. <br><br>  Esta vez, el objetivo es descubrir con qu√© frecuencia se rechaza la hip√≥tesis de igualdad, es decir,  La prueba fue capaz de distinguir entre dos grupos.  El error en este caso es suponer que los grupos son iguales.  Llamamos a este error un error del segundo tipo. <br><br>  Nuevamente en el ciclo probamos la igualdad del grupo de control y el grupo de prueba "ruidoso".  Si rara vez cometemos errores, creemos que el m√©todo de selecci√≥n de grupos ha pasado la validaci√≥n.  Se puede utilizar para seleccionar grupos en el per√≠odo piloto y asegurarse de que si el piloto produce un efecto, podremos detectarlo. <br><br><img src="https://habrastorage.org/webt/bw/gh/vw/bwghvwsqzs2uaxq81gf06e1z2zo.png"><br><br><h3>  Sobre la heterogeneidad </h3><br>  Ya hemos mencionado que la heterogeneidad de datos es uno de los peores enemigos con los que estamos luchando.  Las inhomogeneidades surgen de varias causas fundamentales: <br><br><ul><li>  heterogeneidad de compras: cada tienda tiene su propio valor m√©trico promedio (en las tiendas RTO de Mosc√∫ y el tr√°fico es mucho m√°s que en las tiendas de la aldea) </li><li>  heterogeneidad por d√≠a de la semana: distribuci√≥n diferente del tr√°fico y verificaci√≥n promedio diferente en diferentes d√≠as de la semana: el tr√°fico del martes no se parece al tr√°fico del viernes </li><li>  heterogeneidad en el clima: las personas van de compras de manera diferente en diferentes condiciones clim√°ticas </li><li>  heterogeneidad en la √©poca del a√±o: el tr√°fico en los meses de invierno difiere del tr√°fico en el verano; esto debe tenerse en cuenta si el piloto dura varias semanas. </li></ul><br>  La falta de homogeneidad aumenta la variaci√≥n, que, como se mencion√≥ anteriormente, en la evaluaci√≥n de las tiendas de toma de fuerza ya tiene una enorme importancia.  El tama√±o del efecto capturado depende directamente de la varianza.  Por ejemplo, reducir la dispersi√≥n en un factor de cuatro le permite detectar un efecto medio. <br><br>  En el caso m√°s simple, estamos luchando con la heterogeneidad de la linealizaci√≥n. <br>  Supongamos que tenemos un piloto en dos tiendas durante tres d√≠as (s√≠, esto contradice todas las f√≥rmulas prescritas sobre el tama√±o del efecto, pero este es un ejemplo).  Los <b>RTO</b> promedio en las tiendas son, respectivamente, 200 mil y 500 mil, mientras que la variaci√≥n en ambos grupos es de 10,000 y, seg√∫n todas las observaciones, 35,000 <br>  Despu√©s del piloto, los promedios est√°n en los grupos 300 y 600 y las variaciones son 10,000 y 22,500, respectivamente, y el grupo completo es 40,000. <br><br><img src="https://habrastorage.org/webt/om/yn/pb/omynpbpgftr7lsoa7bl6rubjos0.png"><br><br>  Un movimiento simple y elegante es linealizar los datos, es decir  reste del valor de cada per√≠odo el promedio del anterior. <br><br><img src="https://habrastorage.org/webt/3t/xf/9t/3txf9tustucss6vaj6ydnkxnct8.png"><br><br>  En la salida, la muestra: 100, 0, 200, -50, 100, 250. La dispersi√≥n en el per√≠odo piloto se redujo en 3 veces a 13000. <br><br>  Esto significa que podemos ver un efecto mucho m√°s sutil que con los valores absolutos originales. <br><br>  Esta no es la √∫nica forma de lidiar con la heterogeneidad.  Hablaremos de otros en el pr√≥ximo art√≠culo. <br><br><h3>  Enfoque general de las pruebas A / B </h3><br>  La preparaci√≥n para los grandes pilotos y su evaluaci√≥n pasan por nuestro equipo y se prueban exhaustivamente. <br><br>  Nuestro protocolo: <br><br><ol><li>  recibir informaci√≥n del cliente sobre la m√©trica y el efecto esperado; </li><li>  determinar el tama√±o de los grupos y la duraci√≥n del piloto; </li><li>  desarrollar un algoritmo para la distribuci√≥n de tiendas por grupos; </li><li>  realizar una prueba A / A entre grupos y validar este algoritmo; </li><li>  Espere a que el piloto termine y calcule el efecto. </li></ol><br>  Ninguna de estas etapas pasa sin dificultades; cada una de ellas tiene caracter√≠sticas.  C√≥mo tratamos con algunos de ellos, lo describimos en este art√≠culo.  En el pr√≥ximo, hablaremos de ... <br><br><h3>  El equipo </h3><br>  Al final, me gustar√≠a mencionar a todos los actores: <br><br><ul><li>  Valery Babushkin </li><li>  Alexander Sakhnov </li><li>  Denis Ivanov </li><li>  Sergey Demchenko </li><li>  Nikolay Nazarov </li><li>  Sergey Kabanov </li><li>  Yuri Galimullin </li><li>  Helen Tevanyan </li><li>  Vladislav Ladenkov </li><li>  Sergey Zakharov </li><li>  Vasily Stories </li><li>  Alexander Belyaev </li><li>  Kismat Magomedov </li><li>  Egor Krashennikov </li><li>  Egor Karnaukh </li><li>  Svyatoslav Oreshin </li><li>  Yuri Trubitsyn </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/466349/">https://habr.com/ru/post/466349/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../466335/index.html">Crear una aplicaci√≥n Slack usando las caracter√≠sticas de 8base</a></li>
<li><a href="../466337/index.html">¬øDe qu√© color es tu funci√≥n?</a></li>
<li><a href="../466341/index.html">Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 33. Preparaci√≥n para el examen ICND1</a></li>
<li><a href="../466345/index.html">M√©todo de onda para construir un esquema de color.</a></li>
<li><a href="../466347/index.html">Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 34. Concepto avanzado de VLAN</a></li>
<li><a href="../466355/index.html">Los cocodrilos vuelan, pero bajo-bajo (sobre ekranoplans sin emociones, pero con digresiones)</a></li>
<li><a href="../466359/index.html">Por qu√© el D√≠a Mundial de la Deuda Ecol√≥gica y la huella ambiental son un sinsentido pseudocient√≠fico</a></li>
<li><a href="../466361/index.html">C√≥mo recibi√≥ el certificado GICSP de cosacos</a></li>
<li><a href="../466363/index.html">Slurm DevOps. Primer dia Git, CI / CD, IaC y el dinosaurio verde</a></li>
<li><a href="../466365/index.html">Desarrollo de un sistema operativo monol√≠tico tipo Unix: primeros pasos (1)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>