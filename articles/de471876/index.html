<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤜🏽 📠 😤 PDU und All-All-All: Rack-Stromverteilung ✊🏿 🙏🏽 🚫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Eines der Racks der internen Virtualisierung. Verwechselt mit der Farbanzeige der Kabel: Orange zeigt einen ungeraden Eingang für Strom an, grün - ger...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PDU und All-All-All: Rack-Stromverteilung</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dataline/blog/471876/"><img src="https://habrastorage.org/webt/eq/r1/yo/eqr1yo6q0xgzlqde_yrkplaj1hg.jpeg"><br>  <i>Eines der Racks der internen Virtualisierung.</i>  <i>Verwechselt mit der Farbanzeige der Kabel: Orange zeigt einen ungeraden Eingang für Strom an, grün - gerade.</i> <br><br>  Hier sprechen wir am häufigsten über den „Krupnyak“ - Kältemaschinen, Dieselaggregate, Hauptschalttafeln.  Heute werden wir über die "kleinen Dinge" sprechen - Steckdosen in Racks, sie sind auch die Power Distribution Unit (PDU).  In unseren Rechenzentren sind mehr als viertausend Racks mit IT-Geräten verstopft. In der Praxis habe ich viele Dinge gesehen: klassische PDUs, „intelligente“ mit Überwachung und Steuerung, normale Socket-Blöcke.  Heute werde ich Ihnen sagen, welche PDUs verfügbar sind und welche in einer bestimmten Situation besser zu wählen sind. <a name="habracut"></a><br><br><h3>  Was sind PDUs? </h3><br>  <b>Ein einfacher Steckdosenblock.</b>  Ja, derjenige, der in jedem Haus oder Büro lebt. <br>  Formal ist dies nicht gerade eine PDU im Sinne einer industriellen Verwendung in Racks mit IT-Geräten, aber diese Geräte haben auch ihre Lüfter.  Das einzige Plus dieser Lösung sind die geringen Kosten (die Kosten beginnen bei zweitausend Rubel).  Sie können auch hilfreich sein, wenn Sie offene Racks verwenden, in denen Sie eine Standard-PDU in keiner Weise schieben können und keine Einheiten unter einer horizontalen PDU verlieren möchten.  Dies ist wieder die Frage des Sparens. <br><br>  Es gibt viel mehr Minuspunkte: Solche Geräte verfügen nicht immer über einen internen Schutz gegen Kurzschluss und Überlastung, überwachen Anzeigen und schaffen es noch nicht, Steckdosen zu verwalten.  Meistens werden sie am unteren Rand des Racks platziert.  Dies ist nicht die bequemste Position für Steckdosen zum Trennen von Geräten. <br><br>  Im Allgemeinen können "Piloten" verwendet werden, wenn: <br><br><ul><li>  Sie haben Tausende von Servern und müssen speichern </li><li>  Sie können es sich leisten, Geräte blind anzuschließen, ohne zu verstehen, was dort mit dem tatsächlichen Verbrauch geschieht. </li><li>  Bereit für Ausfallzeiten. </li></ul><br>  Wir verwenden dies nicht, aber wir haben Kunden, die dies recht erfolgreich praktizieren.  Zwar bauen sie die Infrastruktur für ihre Dienste so auf, dass der Ausfall von Dutzenden von Servern die Leistung der Clientanwendung nicht beeinträchtigt. <br><br><img src="https://habrastorage.org/webt/c2/wb/2s/c2wb2se3kwviqykqus9qfqopfdi.jpeg"><br>  <i>Billig und fröhlich.</i> <br><br><img src="https://habrastorage.org/webt/l8/yh/xz/l8yhxzzq2chj5wjvbu0uufl6rdg.jpeg"><br>  <i>Vertikale Platzierung.</i> <br><br>  <b>Dumme PDUs.</b>  Tatsächlich ist dies eine klassische PDU für den Einsatz in Racks mit IT-Geräten, und dies ist bereits gut.  Sie haben den geeigneten Formfaktor für die Platzierung an den Seiten des Racks, wodurch es bequem ist, Geräte an sie anzuschließen.  Es gibt internen Schutz.  Solche PDUs haben keine Überwachung, was bedeutet, dass wir nicht wissen, welche Geräte wie viel verbrauchen und was im Inneren vor sich geht.  Wir haben fast keine solchen PDUs mehr und im Allgemeinen werden sie allmählich nicht mehr im Massengebrauch eingesetzt. <br><br>  Solche PDUs kosten ab 25 Tausend Rubel. <br><br><img src="https://habrastorage.org/webt/gj/ok/xn/gjokxnk_xkfiyqkyee9wjzj2ygs.jpeg"><br><br>  <b>Intelligente PDUs mit Überwachung.</b>  Diese Geräte haben ein Gehirn und können Energieverbrauchsparameter verfolgen.  Es gibt eine Anzeige, auf der die Hauptanzeigen angezeigt werden: Spannung, Strom und Leistung.  Sie können sie durch separate Gruppen von Verkaufsstellen verfolgen: Abschnitte oder Banken.  Sie können eine Remoteverbindung zu einer solchen PDU herstellen und das Senden von Daten an das Überwachungssystem konfigurieren.  Sie schreiben Protokolle, anhand derer Sie alles sehen können, was ihr passiert ist, zum Beispiel beim Ausschalten der PDU. <br><br>  Sie wissen auch, wie der Verbrauch (kW * h) für die technische Buchhaltung berechnet wird, um zu verstehen, wie viel das Rack in einer bestimmten Zeit verbraucht. <br><br>  Dies sind Standard-PDUs, die wir unseren Kunden zur Miete anbieten. Die meisten dieser PDUs befinden sich in unseren Rechenzentren. <br><br>  Wenn Sie kaufen, machen Sie sich bereit, ab 75.000 Rubel pro Stück zu zahlen. <br><br><img src="https://habrastorage.org/webt/hm/2z/_r/hm2z_r5hlfaha5fcwcc8hm4jxnq.jpeg"><br><br><img src="https://habrastorage.org/webt/te/be/fm/tebefmn6gpd4neghnidr880se4c.jpeg"><br><br><img src="https://habrastorage.org/webt/-v/bx/j_/-vbxj_jf7hc00z00dhbj21sxwfm.jpeg"><br>  <i>Grafik aus unserer internen PDU-Überwachung.</i> <br><br>  <b>Intelligente PDUs mit Steuerung.</b>  Diese Fähigkeiten werden durch Kontrollen für die oben genannten Fähigkeiten ergänzt.  Die coolsten PDUs steuern und überwachen jede Steckdose: Sie können sie ein- und ausschalten. Dies geschieht in Situationen, in denen der Server aus der Ferne mit Strom neu gestartet werden muss.  Dies ist der Reiz und die Gefahr solcher PDUs: Ein gewöhnlicher Benutzer kann sich aus Unwissenheit in die Weboberfläche einloggen, etwas drücken und das gesamte System auf einen Schlag neu starten / herunterfahren.  Ja, das System warnt zweimal vor den Folgen, aber die Praxis zeigt, dass selbst Alarme nicht immer vor gedankenlosen Benutzeraktionen schützen. <br><br>  Das große Problem bei intelligenten PDUs ist die Überhitzung und der Ausfall von Controllern und Displays.  PDUs werden normalerweise auf der Rückseite des Racks montiert, wo heiße Luft geblasen wird.  Es ist heiß dort und die Controller können es nicht aushalten.  In diesem Fall muss die PDU nicht vollständig geändert werden, der Controller kann auf Hot geändert werden. <br><br>  Nun, zu einem ziemlichen Preis - ab 120.000 Rubel. <br><br><img src="https://habrastorage.org/webt/sc/ww/2i/scww2i2gmyjqwfs1saspc7hhg3i.jpeg"><br>  <i>Kontrollierte PDUs können anhand der Anzeigen unter jeder Steckdose identifiziert werden.</i> <br><br>  Meiner Meinung nach ist die Verwaltungsfunktion in der PDU Geschmackssache, aber die Überwachung ist ein Muss.  Andernfalls ist es nicht möglich, Verbrauch und Last zu verfolgen.  Warum dies wichtig ist, werde ich etwas später erzählen. <br><br><h3>  Wie berechnet man die erforderliche PDU-Leistung? </h3><br>  Auf den ersten Blick ist hier alles ganz einfach: Die Leistung der PDU wird entsprechend der Leistung des Racks ausgewählt, aber es gibt Nuancen.  Angenommen, Sie benötigen ein 10-kW-Rack.  PDU-Hersteller bieten Modelle mit 3, 7, 11, 22 kW an.  Wählen Sie 11 kW, und Sie werden sich leider irren.  Wir müssen 22 kW wählen.  Warum brauchen wir so ein großes Angebot?  Ich werde jetzt alles erklären. <br><br>  Erstens geben Hersteller die Leistung von PDUs häufig in Kilowatt und nicht in Kilovoltampere an, was korrekter, aber für den Durchschnittsbürger nicht offensichtlich ist. <br>  Manchmal sorgen die Hersteller selbst für zusätzliche Verwirrung: <br><br>  Hier heißt es zunächst ca. 11 kW, <br><br><img src="https://habrastorage.org/webt/d5/d4/u9/d5d4u9lgwwimtjvkzb8r5v8p70i.png"><br><br>  Und in der detaillierten Beschreibung sprechen wir über 11000 VA: <br><br><img src="https://habrastorage.org/webt/ly/zo/zi/lyzozicxuuealtfgc7im7gwo-fm.png"><br><br>  Wenn Sie mit Dummies und ähnlichen Verbrauchern zu tun haben, gibt es keinen Unterschied zwischen kW und kVA.  Ein 10-kW-Rack mit Wasserkocher verbraucht 10 kVA.  Wenn wir jedoch IT-Geräte haben, erscheint dort der Koeffizient (cos φ): Je neuer die Geräte, desto näher kommt dieser Koeffizient der Einheit.  Die durchschnittlichen Krankenhauskosten für IT-Geräte betragen 0,93 bis 0,95.  Daher verbraucht ein 10-kW-Rack mit IT 10,7 kVA.  Hier ist die Formel, nach der wir 10,7 kVA erhalten haben. <br><br>  <i>Pfull = Pakt / Cos (φ)</i> <i><br></i>  <i>10 / 0,93 = 10,7 kVA</i> <br><br>  Nun, Sie stellen eine vernünftige Frage: 10,7 ist weniger als 11. Warum brauchen wir eine 22-kW-Fernbedienung?  Es gibt einen zweiten Punkt: Der Stromverbrauch der Geräte hängt von der Tageszeit und dem Wochentag ab.  Bei der Stromverteilung muss dieser Moment berücksichtigt werden und ~ 10% sollten für Schwankungen und Sprünge reserviert werden, damit sie zum Zeitpunkt des steigenden PDU-Verbrauchs nicht überlastet werden und die Geräte nicht ohne Strom bleiben. <br><br><img src="https://habrastorage.org/webt/mx/je/jg/mxjejgs7lu3oi9zt2amthe0mxtu.jpeg"><br>  <i>Der Verbrauchsplan eines Racks von 10 kW in 4 Tagen.</i> <br><br>  Es stellt sich heraus, dass wir unsere 10,7 kW um weitere 10% erhöhen müssen, weshalb die Fernbedienung für 11 kW für uns nicht mehr geeignet ist. <br><br><div class="scrollable-table"><table><tbody><tr><td>  Fernbedienungsmodell <br></td><td>  Phase <br></td><td>  Leistung des Herstellers, kVA <br></td><td>  Leistung DtLN, kW <br></td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">AP8858</a> <br></td><td>  1 f <br></td><td>  3,7 <br></td><td>  3 <br></td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">AP8853</a> <br></td><td>  1 f <br></td><td>  7.4 <br></td><td>  6 <br></td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">AP8881</a> <br></td><td>  3 f <br></td><td>  11 <br></td><td>  9 <br></td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">AP8886</a> <br></td><td>  3 f <br></td><td>  22 <br></td><td>  18 <br></td></tr></tbody></table></div><br>  <i>Ein Fragment der Leistungstabelle bestimmter PDU-Modelle gemäß DataLine.</i>  <i>Berücksichtigt man die Umstellung von kVA auf kW und die Reserve für Pferderennen während des Tages.</i> <br><br><h3>  Montagefunktionen </h3><br>  Es ist am bequemsten, mit der PDU zu arbeiten, wenn sie vertikal links und rechts vom Rack montiert ist.  In diesem Fall nimmt es keinen nutzbaren Platz ein.  Regelmäßig können bis zu vier PDUs im Rack installiert werden - zwei links und zwei rechts.  Meistens setzen sie eine PDU auf jede Seite.  Jede PDU erhält einen Stromeingang. <br><br><img src="https://habrastorage.org/webt/15/xt/sx/15xtsx1ezymyuudgqccv4hmpchu.jpeg"><br>  <i>Die Standard-Body-Kit-Racks - 2 PDU und 1 ATS.</i> <br><br>  Manchmal gibt es in einem Rack keinen Platz für vertikale PDUs, beispielsweise wenn es sich um ein offenes Rack handelt.  Dann kommen horizontale PDUs zur Rettung.  Das einzige ist, dass Sie in diesem Fall den Verlust von 2 bis 4 Einheiten im Rack akzeptieren müssen, abhängig vom PDU-Modell. <br><br><img src="https://habrastorage.org/webt/rl/zr/3q/rlzr3qasnvs2jz1rlcovcry8xym.jpeg"><br>  <i>Hier aß die PDU 4 Einheiten.</i>  <i>Dieser PDU-Typ wird auch verwendet, wenn Sie zwischen zwei Clients im selben Rack unterscheiden müssen.</i>  <i>In diesem Fall verfügt jeder Client über ein separates Paar PDUs.</i> <br><br>  Es kommt vor, dass das Rack nicht tief genug ausgewählt ist und der Server herausragt und die PDU blockiert.  Das Traurigste dabei ist nicht, dass ein Teil der Steckdosen im Leerlauf ist, sondern dass Sie eine solche PDU, wenn sie kaputt geht, direkt im Rack vergraben oder alle störenden Geräte trennen und herausziehen müssen. <br><br><img src="https://habrastorage.org/webt/1z/wh/_p/1zwh_putdsjdkgr5da4af3fgpfq.jpeg"><br>  <i>Tun Sie das nicht - 1.</i> <br><br><img src="https://habrastorage.org/webt/1t/fc/an/1tfcanom9tsxn-khlhyb3e8awxc.jpeg"><br>  <i>Tun Sie dies nicht - 2.</i> <br><br><h3>  Geräteanschluss </h3><br>  Selbst die modernste PDU hilft nicht, wenn das Gerät nicht richtig angeschlossen ist und der Verbrauch nicht überwacht werden kann. <br><br>  Was könnte schief gehen?  Ein bisschen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ausrüstung</a> .  Jedes Rack verfügt über zwei Stromeingänge, zwei PDUs in einem Standard-Rack.  Es stellt sich heraus, dass jede PDU ihren eigenen Eingang hat.  Wenn etwas mit einem der Eingänge passiert (lesen Sie die PDU), lebt das Rack auf dem zweiten weiter.  Damit dieses Schema funktioniert, müssen Sie einige Regeln befolgen.  Hier sind die wichtigsten (eine vollständige Liste finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> ): <br><br>  <b>Geräte müssen an verschiedene PDUs angeschlossen werden.</b>  Wenn das Gerät über ein Netzteil und einen Stecker verfügt, wird es über ATS (automatischer Übertragungsschalter) oder ATS (automatischer Übertragungsschalter) an die PDU angeschlossen.  Bei Problemen mit einem der Eingänge oder der PDU selbst schaltet der ATS das Gerät auf einen fehlerfreien PDU / Eingang um.  Die Ausrüstung wird nichts fühlen. <br><br>  <b>Gepaarte Last an zwei Eingängen / PDUs.</b>  Der Backup-Eingang wird nur gespeichert, wenn er der Last eines heruntergefallenen Eingangs standhält.  Dazu müssen Sie einen Spielraum lassen: Laden Sie jeden Eingang weniger als die Hälfte der Nennleistung, und die Gesamtlast der beiden Eingänge betrug weniger als 100% der Nennleistung.  Nur in diesem Fall hält der verbleibende Eingang einer doppelten Belastung stand.  Wenn Sie dies nicht tun, findet der Fokus beim Umschalten auf die Reserve nicht statt - das Gerät bleibt ohne Strom.  Um das Schlimmste zu vermeiden, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">überwachen</a> wir diesen Parameter. <br><br>  <b>Lastausgleich zwischen PDU-Abschnitten.</b>  PDU-Sockel sind in Abschnitte unterteilt.  Normalerweise 2 oder 3 Stück.  Jeder Abschnitt hat seine eigene Leistungsgrenze.  Es ist wichtig, diese nicht zu überschreiten und die Last gleichmäßig auf alle Abschnitte zu verteilen.  Nun, die Geschichte mit gepaarten Lasten, die oben besprochen wurde, funktioniert auch hier. <br><br>  <b>Zusammenfassend</b> <br><br><ol><li>  Wählen Sie nach Möglichkeit eine PDU mit Überwachungsfunktion. </li><li>  Lassen Sie bei der Auswahl eines PDU-Modells einen Leistungsspielraum. </li><li>  Montieren Sie die PDU so, dass Sie sie ersetzen können, ohne die IT-Ausrüstung zu stören. </li><li>  Richtig anschließen: Schließen Sie das Gerät an zwei PDUs an, überlasten Sie die Abschnitte nicht und merken Sie sich die Paarlasten. </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de471876/">https://habr.com/ru/post/de471876/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de471866/index.html">PEG-Parser-Visualisierung</a></li>
<li><a href="../de471868/index.html">Genetik der Liebe: Konflikt zwischen den Geschlechtern als Grundlage für die Zusammenarbeit bei Paaren monogamer Vögel</a></li>
<li><a href="../de471870/index.html">Effektive Nutzung von libdispatch</a></li>
<li><a href="../de471872/index.html">Schnittstellen in C # 8: Gefährliche Annahmen in der Standardimplementierung</a></li>
<li><a href="../de471874/index.html">Wie wir die Überprüfungsrichtlinien umgangen und einen Server auf dem Telefon gestartet haben</a></li>
<li><a href="../de471878/index.html">Wie schreibe ich einen intelligenten Vertrag für WebAssembly in einem Ontology-Netzwerk? Teil 1: Rost</a></li>
<li><a href="../de471884/index.html">10 kostenlose ApexSQL-Dienstprogramme zum Verwalten von Microsoft SQL Server-Datenbanken</a></li>
<li><a href="../de471886/index.html">VMmanager 6: Einführung in die Box und Vergleich mit der vorherigen Generation</a></li>
<li><a href="../de471890/index.html">Variationsinferenz - was ist das und was isst es?</a></li>
<li><a href="../de471892/index.html">6 praktische Geschichten von unseren SRE-Wochentagen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>