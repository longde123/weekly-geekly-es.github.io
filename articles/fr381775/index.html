<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍🤝‍👨🏿 😔 🏓 Création d'un robot de compétition Roborace 👩‍💼 ⛑️ 👩🏿‍🏭</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Spécificités de Roborace
 
 
 Roborace est une compétition dans laquelle les voitures robotiques s'affrontent sur un ring spécial. Vous pouvez faire u...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Création d'un robot de compétition Roborace</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/381775/"><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spécificités de Roborace</font></font></h4><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/353/e6a/7b1/353e6a7b1bc9f8a1b52f3f6e54954e90.jpg" alt="image"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Roborace</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est une compétition dans laquelle les voitures robotiques s'affrontent sur un ring spécial. </font><font style="vertical-align: inherit;">Vous pouvez faire une analogie entre Roborace et la Formule 1, à l'exception de deux points.</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tout d'abord, au lieu de voitures de course à grande échelle, des modèles de voitures plus petits et des conceptions originales avec des restrictions globales et de poids (LxP maximum = 25x50 cm et poids jusqu'à 3 kg) sont impliqués.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deuxièmement, au lieu de pilotes, la voiture est contrôlée par un ordinateur de bord, qui analyse les lectures de divers capteurs et oriente la voiture sur la piste, sélectionne la vitesse de déplacement, empêche les collisions avec des obstacles et des rivaux. </font><font style="vertical-align: inherit;">En fait, le «comportement» de la voiture sur la piste est déterminé par le programme de contrôle de l'ordinateur de bord.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Roborace se déroule sous la forme d'un championnat composé d'étapes, qui sont organisées dans différentes villes du Bélarus et à l'étranger. </font><font style="vertical-align: inherit;">Les constructions d'entrée de gamme (par exemple, basées sur un constructeur de type LEGO) et les appareils robotiques complexes participent au championnat. </font><font style="vertical-align: inherit;">Les règles de concurrence sont formulées de manière à couvrir le plus large éventail possible de caractéristiques et de capacités des structures robotiques.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figure 1 - Piste pour les robots de course: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/5f6/ca2/a3f/5f6ca2a3f418fe297de09192d23b89f0.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considérez la piste illustrée à la figure 1, le long de laquelle le robot se déplacera. </font><font style="vertical-align: inherit;">Les éléments obligatoires sont les lignes et les murs noirs. </font><font style="vertical-align: inherit;">Sur cette base, vous pouvez construire une stratégie pour déplacer le robot le long de la piste: par exemple, équiper le robot de capteurs de ligne noire et utiliser les lignes de piste pour la navigation, ou installer des télémètres pour détecter les obstacles et se déplacer le long des murs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cet article présente l'un des robots que j'ai développé pour Roborace selon la deuxième stratégie (mouvement basé sur les relevés des télémètres).</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Étapes de création d'un robot</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La création d'un robot pour Roborace commence par le choix du châssis. Désormais, les magasins proposent une large sélection de plateformes sur chenilles et sur roues. Je recommande de se concentrer sur le design classique lorsque les roues arrière sont entraînées par un moteur électrique et les roues avant sont entraînées par un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">servo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . La figure 2 montre un robot pour Roborace, construit selon un schéma similaire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figure 2 - Robot:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/4ea/091/513/4ea09151306071d293f21be256d9900e.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai eu la chance d'acheter un modèle dans un club local de modélistes radio pour peu d'argent (les lecteurs peuvent essayer de faire de même dans leur région: ils ont généralement beaucoup de modèles obsolètes). Puisque le modèle acheté n'avait pas de moteur de traction, un moteur 12 volts acheté a été installé dessus. Vous pouvez également utiliser un jouet ordinaire: ils sont généralement assez tenaces et vous n'avez qu'à modifier la direction. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme dans mon cas, le servo était déjà installé, il n'y avait aucun problème avec lui.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La prochaine étape est le choix de la carte de contrôle. Il existe de nombreuses options. J'ai choisi Arduino comme l'option la plus simple. La même chose peut être recommandée au lecteur, surtout avec un manque d'expérience. Sur la base de mon expérience assez étendue, pour de tels robots, les microcontrôleurs 8 bits habituels suffisent. Par conséquent, si vous ne prévoyez pas d'utiliser une caméra pour suivre les mouvements du robot, ne le compliquez pas avec un processeur plus puissant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le servo variateur peut être directement connecté à l'Arduino - par exemple, via le blindage du capteur illustré à la figure 3. Il est également pratique de lui connecter des capteurs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figure 3 - Blindage du capteur v4:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/10c/a43/683/10ca43683582b8bafff31e722c4c174c.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le moteur ne peut pas être connecté directement à l'Arduino. Vous devez utiliser un pilote de moteur spécial. Maintenant, il y en a beaucoup disponibles et il y a des instructions pour se connecter. J'ai utilisé le Motor Driver développé dans notre laboratoire (Fig.4). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figure 4 - pilote de moteur: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/0f0/554/b45/0f0554b45bb8d790fc2c47a48ce2de33.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dans les compétitions de robots, vous devez faire très attention aux batteries. J'utilise des batteries au lithium polymère. Ils ont fait leurs preuves. L'un des hacks que j'utilise dans mon robot concerne un convertisseur de tension. Le convertisseur natif Arduino n'est pas très bon, il est donc bon d'utiliser un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://www.google.com/url%3Fq%3D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">régulateur abaisseur</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour économiser la batterie </font><font style="vertical-align: inherit;">. Bien sûr, vous pouvez utiliser un convertisseur linéaire classique.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La partie la plus importante du robot est les capteurs - ce qui lui fournit des informations sur le monde, sur les obstacles et sur d'autres robots. Dans la catégorie des prix moyens, nous pouvons choisir parmi des capteurs à ultrasons et infrarouges. Dans mon robot, j'utilise des capteurs infrarouges GP2Y0A02YK0F. Je n'aime pas les capteurs à ultrasons car un capteur peut être bruyant avec un autre. Par exemple, j'ai eu de telles situations: le capteur droit a envoyé un signal, et celui de gauche l'a reçu. Je travaille toujours sur le placement et la gestion appropriés des capteurs à ultrasons. L'espoir de leur lancement est constamment alimenté par leur prix. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le modèle de robot présenté ici possède trois capteurs infrarouges. Les capteurs sont visibles sur la figure 2. Ils sont installés profondément dans le boîtier pour deux raisons:</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour réduire la zone morte du capteur, qui dans ce modèle est de 20 cm;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le corps du robot protège les capteurs des dommages mécaniques lors des collisions avec d'autres robots.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les capteurs latéraux sont installés à un angle de 45 degrés. </font><font style="vertical-align: inherit;">Eh bien, si la conception du robot prévoit le réglage de l'angle de leur installation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le schéma général du robot peut être vu sur la figure 5. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figure 5 - le schéma général du robot:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/1ee/f76/ba0/1eef76ba091be5e327bbee66eecb21cd.jpg" alt="image"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Programmation de robots</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Étant donné que le robot utilise Arduino, la programmation est effectuée à l'aide de l'IDE Arduino. </font><font style="vertical-align: inherit;">Le programme du robot est une boucle fermée, qui se compose des blocs suivants:</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lectures des capteurs de filtrage;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Calcul de l'angle et de la vitesse du robot;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transfert des signaux de commande aux mécanismes.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cette structure, il n'y a pas de bloc pour recevoir des informations des capteurs. Étant donné que les capteurs renvoient un signal analogique, l'IDE Arduino a une fonction analogWrite (). Cette fonction fonctionne très bien si la vitesse de mesure n'est pas importante. Mais comme le robot a été conçu pour la compétition, il a été décidé d'interrompre le traitement des capteurs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Toutes les cartes Arduino construites sur le microcontrôleur ATmega ont la capacité d'effectuer des mesures ADC en mode automatique. Vous devez configurer ce mode une fois, puis utiliser les valeurs obtenues. En conséquence, le contrôleur vérifie constamment les capteurs, sans perdre de temps CPU. Le filtrage des lectures des capteurs est effectué par un filtre médian à fenêtre de trois éléments.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour se déplacer le long de l'autoroute, l'algorithme suivant a été développé. </font><font style="vertical-align: inherit;">Le robot compare les distances aux murs droit et gauche et, conformément à cela, fait tourner les roues dans la direction souhaitée. </font><font style="vertical-align: inherit;">S'il n'y a pas d'obstacles devant le robot, la vitesse augmente, mais l'angle de rotation maximal possible des roues diminue également. </font><font style="vertical-align: inherit;">Cela est nécessaire pour que le robot se déplace plus directement sur des sections droites. </font><font style="vertical-align: inherit;">Lorsqu'un obstacle est détecté, l'angle de rotation des roues augmente et le robot ralentit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a bien sûr des problèmes non résolus. </font><font style="vertical-align: inherit;">Par exemple, le robot ne connaît pas la courbure du virage, il ralentit donc avant chaque virage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez afficher le code du projet sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr381775/">https://habr.com/ru/post/fr381775/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr381761/index.html">Mancala - il est temps de jeter des pierres</a></li>
<li><a href="../fr381763/index.html">Молодому учёному из Краснодара грозит 11 лет строгого режима</a></li>
<li><a href="../fr381765/index.html">3ème génération Miss Ergonomie - Logitech MX Master Review</a></li>
<li><a href="../fr381771/index.html">Dispositif pour empêcher le sommeil sur le dos et contrôler la posture du "Positionneur" UPSNS-KO</a></li>
<li><a href="../fr381773/index.html">Le site Web de la police de la circulation continue de ravir</a></li>
<li><a href="../fr381777/index.html">Le créateur du film Citizenfour: La vérité de Snowden, a reçu un Oscar, a été détenu 50 fois dans des aéroports américains</a></li>
<li><a href="../fr381779/index.html">Dans les collisions de galaxies, les grandes battent les plus petites.</a></li>
<li><a href="../fr381781/index.html">Vue d'ensemble de la caméra d'action AMK5000 et de ses vols et chutes sur drones</a></li>
<li><a href="../fr381783/index.html">Sept mauvais conseils pour un guide copter novice</a></li>
<li><a href="../fr381785/index.html">Les urnes de New York se transformeront en points d'accès WiFi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>