<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏾‍🚀 👩🏿‍🔬 👩🏾‍🌾 Cavium ThunderX2 Evaluasi: Mimpi Server Arm Menjadi Nyata (Bagian 1, Pendahuluan) 💱 👰🏿 👨‍🏫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kurang dari dua tahun yang lalu, kami menjelajahi server Arm SoC pertama, yang secara teoritis dapat bersaing dengan Intel Xeon E5s - Cavium ThunderX....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cavium ThunderX2 Evaluasi: Mimpi Server Arm Menjadi Nyata (Bagian 1, Pendahuluan)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/413885/"> Kurang dari dua tahun yang lalu, kami menjelajahi server Arm SoC pertama, yang secara teoritis dapat bersaing dengan Intel Xeon E5s - Cavium ThunderX.  Server SoC menunjukkan semua yang diumumkan, karena kinerja single-threaded yang rendah dan kesulitan dalam mengoptimalkan karakteristik energi, SoC 48-core ditugaskan untuk ceruk pasar.  Akibatnya, server Cavium SoC pertama tidak pernah mampu bersaing dengan Intel Xeon. <br><br><img src="https://habrastorage.org/webt/x6/z7/5j/x6z75jaf9myymohvcozvis4hahg.jpeg"><br><br>  Tapi Cavium tidak menyerah karena alasan yang jelas: saat ini, pasar server menjadi lebih menarik dari sebelumnya.  Pusat data raksasa global Intel mendatangkan pendapatan sekitar 20 miliar dolar AS (!) Per tahun.  Selain itu, profitabilitas adalah 50%.  Dalam hal laba dan perputaran uang, pasar server jauh lebih besar daripada pasar peralatan lainnya.  Jadi, setelah meluncurkan ThunderX, Cavium berjanji untuk merilis iterasi kedua: peningkatan manajemen daya, peningkatan kinerja single-threaded, dan bahkan lebih banyak core (54). <br><a name="habracut"></a><br>  Apa yang tidak bermain di tangan Cavium adalah bahwa jika pengguna membutuhkan server, ia hanya dapat mengambil mesin Intel yang terpercaya dan andal.  Memang, janji-janji keras dari Arm, Calxeda, Broadcom, AppliedMicro selama 5 tahun terakhir tetap janji, menyebabkan gelombang serius skeptisisme dan ketidakpercayaan dan munculnya Server Arm SoCs baru. <br><br>  Namun demikian, ciptaan baru orang luar Cavium patut mendapat perhatian.  Sejumlah perubahan dilakukan, tidak hanya penambahan nomor "2" untuk nama: Cavium membeli desain Vulcan Avago.  Vulcan adalah desain prosesor yang agak ambisius, awalnya dikembangkan oleh tim server Arm SoC Broadcom, dan memiliki warisan yang jauh lebih besar daripada ThunderX asli.  Selain itu, berdasarkan pengalamannya dengan ThunderX, Cavium mampu memperkenalkan beberapa perbaikan mikroarsitektur ke desain Vulcan, meningkatkan kinerja dan kekuatannya. <br><br>  Alhasil, ThunderX2 “ternyata” menjadi inti yang lebih rumit dari generasi sebelumnya.  Inti ThunderX memiliki pipa yang sangat pendek dan tidak mungkin tahan dua instruksi per siklus, tetapi inti Vulcan dirancang untuk 8 pengambilan dan mengeksekusi hingga 4 instruksi per siklus.  Dan bahkan lebih lagi: semua 4 stream (SMT4) dapat aktif pada saat yang sama, memberikan pemuatan back-end yang konstan.  ThunderX2 SoC32 yang baru memiliki 32 core dengan frekuensi hingga 2,5 GHz. <br><br><img src="https://habrastorage.org/webt/nt/nl/7a/ntnl7apffv6jkwh6k1v_aoqptae.png"><br><br>  Dengan hingga 128 utas dan setidaknya delapan pengontrol DDR4, CPU ini harus berkinerja baik di semua beban server.  Dengan kata lain, tidak seperti ThunderX (1), ThunderX2 adalah prosesor server Arm pertama dan memiliki setiap kesempatan untuk mengguncang keseimbangan di pasar server. <br><br><h2>  Siapa yang memiliki lebih banyak: spesifikasi </h2><br>  Tiga puluh dua core IPC tinggi dalam satu paket tampaknya menjanjikan.  Tetapi seperti apa tampilan ThunderX2 baru dibandingkan dengan produk AMD, Qualcomm dan Intel?  Pada tabel di bawah, kami membandingkan spesifikasi beberapa SKU server top-end. <br><br><img src="https://habrastorage.org/webt/p3/hv/fx/p3hvfxp0iatr1ockmnjx9xm8xp8.png"><br><br>  Pembaca yang berpengetahuan luas akan segera melihat bahwa bagian atas jalur prosesor Intel adalah Xeon Platinum 8180. Namun, SKU ini dengan 205 W TDP dan harga yang lebih tinggi dari $ 10.000 umumnya tidak dapat dibandingkan dengan prosesor mana pun dalam daftar.  Kami sudah hampir melewati garis alasan, termasuk 8176, yang, menurut kami, masuk dalam daftar ini sesuai dengan parameter SKU maksimum dari blok kernel / thread.  Faktanya, Cavium memposisikan Cavium 9980 sebagai "sebanding" dengan Xeon Platinum 8164 (dan Intel memainkan peran ini 8176), tetapi dengan frekuensi yang sedikit lebih rendah. <br><br>  Namun, dalam hal kinerja untuk dolar, Cavium membandingkan 9999 andalannya dengan Intel Xeon Gold 6148, dan dalam hal ini, harga prosesor Cavium terlihat cukup menggiurkan.  Menurut hasil tes, ThunderX2 tercepat adalah 30-40% di depan Xeon 6148, sedangkan penawaran dari Cavium adalah $ 1.300 lebih murah.  Penetapan harga yang agresif menjelaskan rumor bahwa Qualcomm tidak akan memasuki pasar server. <br><br>  Data dalam tabel di atas menunjukkan perbedaan penting antara para pesaing.  Intel tampaknya memiliki topologi inti paling canggih dan kecepatan turbo tertinggi.  Qualcomm, sementara itu, terlihat lebih menarik ketika datang ke kinerja per watt. <br><br><img src="https://habrastorage.org/webt/no/2u/7-/no2u7-_oyjv6ol2vd6vqiartfks.png"><br><br>  Seperti EPYC AMD, Cavium's ThunderX2 kemungkinan akan bersinar di pasar komputasi kinerja tinggi (throughput 33% lebih tinggi, core / utas lebih tinggi).  Seperti halnya desain AMD, cache EPYC L3 lambat jika Anda membutuhkan data yang tidak ada dalam slot cache 8 MB lokal.  ThunderX2 jauh lebih kompleks - dengan arsitektur cincin ganda mirip dengan arsitektur cincin Xeon v4 (Broadwell-EP).  Menurut informasi dari Cavium, arsitektur ring non-blocking mereka mampu menyediakan throughput hingga 6 TB / s. <br><br>  Arsitektur cincin ini terhubung ke Cavium's Coherent Processor Interconnect (CCPI2 - di bagian atas gambar), yang beroperasi pada kecepatan 600 Gbit / dtk.  Koneksi ini menghubungkan dua node socket / NUMA.  56 jalur PCIe 3.0 SoC terhubung ke ring, yang telah ditempatkan Cavium di antara 14 pengontrol PCIe.  14 pengendali ini dapat, pada gilirannya, bercabang ke x4 atau x1, seperti yang ditunjukkan di bawah ini. <br><br><img src="https://habrastorage.org/webt/yw/e3/r8/ywe3r8nlwh9n0sjcobksmoeqf58.png"><br><br>  Plus itu mendukung SR-IOV, yang sangat penting untuk virtualisasi I / O (Xen dan KVM). <br><br><h2>  ThunderX: Dari Mudah ke Kompleks </h2><br>  <b>Briefing singkat.</b>  ThunderX asli adalah versi yang ditingkatkan dari Octeon III: CPU dengan kemampuan untuk secara bersamaan menjalankan dua instruksi (dual-core core) dengan dua jalur pipa pendek. <br><br><img src="https://habrastorage.org/webt/s_/vu/na/s_vunadz47iappsidwdpeuyjmhw.png"><br><br>  Keuntungan dari desain ThunderX asli adalah efisiensi energinya yang tinggi, terutama untuk beban kerja dengan ILP rendah (paralelisme level instruksi).  Tentu saja, konveyor pendek semacam itu menimbulkan batasan serius untuk meningkatkan frekuensi clock, dan desain desain yang sederhana menjamin kinerja single-threaded yang rendah pada beban ILP menengah dan tinggi, sementara prosesor out-of-order yang lebih maju dapat mengekstraksi sebanyak mungkin "paralelisme tersembunyi". ". <br><br><h3>  Inti "baru" dari Cavium: Vulcan </h3><br><img src="https://habrastorage.org/webt/20/1j/9c/201j9c0fk3jebmf5cwxryqdxkva.png"><br><br>  Dibandingkan dengan ThunderX asli, inti dari Vulcan ThunderX2 adalah binatang yang sama sekali berbeda.  Diumumkan pada tahun 2014 oleh Broadcom, Vulcan adalah inti yang relatif besar yang mengendalikan 4 utas simultan (SMT4).  Akibatnya, ujung belakang harus dimuat dengan baik bahkan ketika bekerja dengan beban server dengan ILP rendah. <br><br>  Untuk memastikan stabilitas 4 stream SMT, ThunderX2 front-end dapat mengekstraksi hingga 64 byte dari cache instruksi 8-arah 32 KB, yang dilengkapi dengan prefetcher “baris berikutnya” yang sederhana.  Namun, pilihan 8 perintah hanya mungkin jika tidak ada percabangan dalam 64 byte ini.  Kalau tidak, seleksi akan terputus di persimpangan. <br><br>  Ini berarti bahwa dalam kode percabangan yang intensif (database, AI ...), fetcher menerima rata-rata ± 5 instruksi per siklus, karena salah satu dari 5 instruksi adalah cabang.  Instruksi yang dipilih kemudian dikirim ke buffer smoothing - buffer di mana instruksi yang disimpan disimpan untuk decoding. <br><br><img src="https://habrastorage.org/webt/lt/4e/q4/lt4eq4bh57wresbzuf84layrak8.png"><br><br>  Kemudian dekoder bekerja dengan paket 4 instruksi.  Antara dekoder dan fase penggantian nama, setiap aliran memiliki "slip buffer", yang terdiri dari 8 paket.  Dengan 4 utas, hingga 32 paket (128 instruksi) dapat disangga kapan saja. <br><br>  4 instruksi ini - paket - bergerak sepanjang pipa sampai antrian pesan tunggal tercapai untuk penjadwal.  Seperti Intel Loop Stream Detector (berfungsi seperti cache kecil), ia juga memiliki buffer loop dan prediktor.  Buffer loop ini menghilangkan prediksi cabang yang salah dan mengandung μops yang didekodekan yang “mempersingkat” pipa dan mengurangi energi yang digunakan untuk decoding. <br><br>  Hingga 6 instruksi dapat dieksekusi sekaligus.  Implementasinya mencakup 2 slot ALU / FP / NEON, 1 slot ALU / tap, 2 slot load / store (16 byte), dan 1 slot penyimpanan bersih yang mengirim 16 byte ke cache D.  Ada yang kecil (Kavium tidak akan mengungkapkan berapa) L1 TLB untuk beralih dengan nol penundaan dari alamat virtual ke fisik.  Tidak ada prefetcher perangkat keras untuk cache L1 D1, tetapi cache L2 memiliki prefetcher perangkat keras yang cukup canggih yang dapat mengenali pola (dapat bekerja langkah demi langkah atau mengambil baris berikutnya). <br><br>  Ini cukup untuk "memberi makan" ujung belakang, yang dapat mendukung 4 instruksi per siklus dari 4 utas berbeda. <br><br><h3>  Perbedaan dalam mikroarsitektur </h3><br>  Cavium telah menerbitkan sejumlah informasi terbatas tentang inti ThunderX2.  Beberapa fitur utama dari berbagai arsitektur prosesor dirangkum di bawah ini. <br><br><img src="https://habrastorage.org/webt/ud/di/rc/uddircouggaghevqdm5rtzgfrry.png"><br><br>  Analisis terperinci berada di luar cakupan artikel ini.  Tetapi Anda dapat membaca analisis Johan De Gelas pada arsitektur Falkor, Skylake, dan Zen di AnandTech.  Kami membatasi diri pada perbedaan yang paling jelas. <br><br>  Sangat jelas bahwa kinerja single-threaded Intel tetap tak tertandingi: inti Skylake adalah inti yang menjalankan sebagian besar instruksi dengan cepat, dan yang paling penting, berjalan pada kecepatan clock yang lebih tinggi.  Inti dari ThunderX2 berbeda dalam hal ini mengekstrak maksimal instruksi per siklus, yang mampu secara konstan mendukung 4 utas.  Pengambil akan menangkap 8 tim dari satu utas, lalu 8 dari utas kedua, dan akan terus berputar di antara utas.  Ini berarti bahwa prediksi yang buruk dapat secara signifikan mengurangi kinerja utas tunggal. <br><br><h2>  SKU ThunderX2: 16 hingga 32 core </h2><br>  SKU yang digunakan untuk pengujian adalah ThunderX2 CN9980 2.2.  Ini adalah SKU top-end, mengandung 32 core pada frekuensi 2,2 GHz dengan kemampuan untuk meningkatkan hingga 2,5 GHz. <br><br><img src="https://habrastorage.org/webt/bs/p0/cz/bsp0czxkrsx9_oxyoavedet_lje.png"><br><br>  Jika Anda yakin dengan rencana Cavium, dalam beberapa bulan mendatang akan ada lebih banyak SKU.  Cavium mengklaim CN9980 akan segera tersedia dengan frekuensi 2,5 GHz, dan turbo hingga 3 GHz. <br><br>  Cavium mendaftar semua SKU yang direncanakan bersama dengan SKU Intel yang sebanding.  Menurut definisi Cavium, SKU Intel yang sebanding adalah chip yang mencapai SPECInRate (2017) yang sama di bawah gcc seperti SKU Cavium. <br><br><img src="https://habrastorage.org/webt/nz/yd/7m/nzyd7mn7vi6azmttjyosotv51ma.png"><br><br>  Cavium percaya bahwa CN9880 2.2 yang kami dapatkan sebanding dengan 8164 yang jauh lebih mahal. Untuk pengujian kami, kami membandingkannya dengan 8176 (SKU Intel tersedia untuk kami).  Tidak masalah: 8176 hanya memiliki kecepatan clock 3% lebih tinggi dan 2 core tambahan (+ 7%) dibandingkan 8164. Namun, perlu diketahui bahwa meskipun ThunderX2 Cavium benar-benar dapat bersaing dengan SKU Intel yang ditunjukkan, mereka menawarkan kinerja yang sama untuk sepertiga dari biaya SKU Intel. <br><br>  Di bagian selanjutnya: <br><br><ul><li>  Konfigurasi Tes dan Metodologi </li><li>  Subsistem Memori: Bandwidth </li><li>  Performa berulir tunggal: SPEC CPU2006 </li><li>  SPEC CPU2006 Cont: kinerja berbasis inti dengan SMT </li></ul><br>  Terima kasih telah tinggal bersama kami.  Apakah Anda suka artikel kami?  Ingin melihat materi yang lebih menarik?  Dukung kami dengan melakukan pemesanan atau merekomendasikannya kepada teman-teman Anda, <b>diskon 30% untuk pengguna Habr pada analog unik dari server entry-level yang kami temukan untuk Anda:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Seluruh kebenaran tentang VPS (KVM) E5-2650 v4 (6 Cores) 10GB DDR4 240GB SSD 1Gbps dari $ 20 atau bagaimana membagi server?</a>  (opsi tersedia dengan RAID1 dan RAID10, hingga 24 core dan hingga 40GB DDR4). <br><br>  <b>Dell R730xd 2 kali lebih murah?</b>  Hanya kami yang memiliki <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128GB DDR4 6x480GB SSD 1Gbps 100 TV dari $ 249</a> di Belanda dan Amerika Serikat!</b>  Baca tentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Cara Membangun Infrastruktur Bldg.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kelas menggunakan server Dell R730xd E5-2650 v4 seharga 9.000 euro untuk satu sen?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id413885/">https://habr.com/ru/post/id413885/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id413873/index.html">Data yang dipulihkan dari misi Apollo membantu memecahkan misteri "memanaskan bulan"</a></li>
<li><a href="../id413875/index.html">SpaceX akan mengembangkan "pusat ruang angkasa masa depan"</a></li>
<li><a href="../id413877/index.html">Anda hanya memberi alasan. Atau dengan dalih apa mereka bisa merampokmu sekarang?</a></li>
<li><a href="../id413879/index.html">Belajar kuda (bagian 4)</a></li>
<li><a href="../id413881/index.html">Gambar buruh pelabuhan 5,94 meter dengan Telegram MTProxy</a></li>
<li><a href="../id413889/index.html">Tenggat waktu terlewat, atau mengapa lebih dari setengah perusahaan tidak siap untuk GDPR</a></li>
<li><a href="../id413891/index.html">Bagaimana Daftar Entitas Hukum Negara Bersatu diorganisasikan - sebuah daftar entitas hukum negara yang bersatu</a></li>
<li><a href="../id413893/index.html">Lubang sebagai alat keamanan - 2, atau cara menangkap "umpan hidup" APT</a></li>
<li><a href="../id413895/index.html">Meretas Gelang Kebugaran Murah</a></li>
<li><a href="../id413897/index.html">Unity3D ECS dan Sistem Pekerjaan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>