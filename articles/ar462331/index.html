<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ณ๏ธ ๐ค๐ฝ ๐ผ ูุนุจุฉ GAZ-66 ุนูู ููุญุฉ ุงูุชุญูู. ุงูุฌุฒุก 2 ๐ฎ ๐ด๐ฝ ๐ง</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู ูุฐุง ุงูุฌุฒุก ุณูู ูุชุญุฏุซ ุนู ูููู ุงูุจุฑูุงูุฌ ุ ููู ุธูุฑ ุงูุฌูุงุฒ. ูุง ูุธุงู ุงูุชุดุบูู ุงููุณุชุฎุฏู ุ ุงููุบุฉ ุงูุชู ุชู ุงุฎุชูุงุฑูุง ุ ูุง ุงููุดููุงุช ุงูุชู ูุงุฌูุชูุง. 
 1. ููู ูุนูู ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ูุนุจุฉ GAZ-66 ุนูู ููุญุฉ ุงูุชุญูู. ุงูุฌุฒุก 2</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462331/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ix/tf/mx/ixtfmxmnpt-9rkvbc2kqpdtol2c.jpeg" alt="ุตูุฑุฉ"></p><br><p style=";text-align:right;direction:rtl">  ูู ูุฐุง ุงูุฌุฒุก ุณูู ูุชุญุฏุซ ุนู ูููู ุงูุจุฑูุงูุฌ ุ ููู ุธูุฑ ุงูุฌูุงุฒ.  ูุง ูุธุงู ุงูุชุดุบูู ุงููุณุชุฎุฏู ุ ุงููุบุฉ ุงูุชู ุชู ุงุฎุชูุงุฑูุง ุ ูุง ุงููุดููุงุช ุงูุชู ูุงุฌูุชูุง. </p><a name="habracut"></a><br><h3 id="1-kak-rabotaet-v-2-h-slovah" style=";text-align:right;direction:rtl">  1. ููู ูุนูู ูู 2 ุงููููุงุช </h3><br><p style=";text-align:right;direction:rtl">  ูุชููู ุงููุธุงู ูู ุฎุงุฏู ูุซุจุช ุนูู ุขูุฉ ูุงุชุจุฉ ุ ูุนููู ูุซุจุช ุนูู ูุญุฏุฉ ุงูุชุญูู.  ูุซูุฑ ุงูุฎุงุฏู ููุทุฉ ูุตูู <strong>wifi</strong> ูููุชุธุฑ ุญุชู ูุชุตู ุงูุนููู.  ูููุฐ ุงูุฎุงุฏู ุฃูุงูุฑ ุงูุนููู ููููู ุฃูุถูุง ุงูููุฏูู ูู ุงููุงููุฑุง ุฅููู. </p><br><h3 id="2-os" style=";text-align:right;direction:rtl">  2. ูุธุงู ุงูุชุดุบูู </h3><br><p style=";text-align:right;direction:rtl">  ุงูุขู ุฏุนูุง ูุชุญุฏุซ ุนู ุฃูุธูุฉ ุงูุชุดุบูู ุงููุณุชุฎุฏูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุฃู ุงููุธุงู ุจุฃูููู ูุนุชูุฏ ุนูู <strong>Raspberry pi 3</strong> ุ ููุฏ ุชู ุงุณุชุฎุฏุงู ูุธุงู ุงูุชุดุบูู ุงูุฑุณูู ูู.  ูู ููุช ุงูุฅูุดุงุก ุ ูุงู ุงูุฅุตุฏุงุฑ ุงูุฃุฎูุฑ ูู <strong>Stretch</strong> ุ ูุชู ุงุฎุชูุงุฑู ููุงุณุชุฎุฏุงู ุนูู ุขูุฉ ูุงุชุจุฉ ูููุญุฉ ุชุญูู.  ููู ุงุชุถุญ ุฃูู ูุญุชูู ุนูู ุฎุทุฃ (ูุนุฐูุจ ููุฏุฉ ุฃุณุจูุน) ุจุณุจุจ ุฃูู ูู ุงููุณุชุญูู ุฑูุน ููุทุฉ ูุตูู wifi.  ูุฐูู ุ ูุฑูุน ููุทุฉ ุงููุตูู ุ ุชู ุงูุชูุงุท ุฅุตุฏุงุฑ ุณุงุจู ูู <strong>Jessie</strong> ูู ููู ูุฏูู ูุซู ูุฐู ุงููุดุงูู. </p><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุงุฏุฉ ููููุฉ ุฑูุน ููุทุฉ ูุตูู.</a>  ููุตูุฉ ุฌุฏุง ุ ูุนูุช ูู ุดูุก ุนูู ุฐูู. </p><br><p style=";text-align:right;direction:rtl">  ูุชุตู ุฌูุงุฒ ุงูุชุญูู ุนู ุจูุนุฏ ุชููุงุฆููุง ุจุงูุฌูุงุฒ ุนูุฏูุง ูุฑูุน ููุทุฉ ุงููุตูู. <br>  ูุถูู ุงูุงุชุตุงู ุงูุชููุงุฆู ุฅูู ูุฌูุฉ ูุธุฑูุง ุ ูู ุงูููู <strong>/ etc / network / ูุงุฌูุงุช</strong> : </p><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">auto wlan0 iface wlan0 inet dhcp wpa-ssid {ssid} wpa-psk {password}</code> </pre> <br><h3 id="2-yazyk" style=";text-align:right;direction:rtl">  2. ุงููุบุฉ </h3><br><p style=";text-align:right;direction:rtl">  ุงุฎุชุฑุช <strong>ุงูุซุนุจุงู</strong> ูุฃูู ุณูู ูุจุณูุท. </p><br><h3 id="3-server" style=";text-align:right;direction:rtl">  3. ุงูุฎุงุฏู </h3><br><p style=";text-align:right;direction:rtl">  ุนู ุทุฑูู ุงูุฎุงุฏู ูู ูุฐุง ุงููุณู ุ ุฃุนูู ุงูุจุฑูุงูุฌ ุงูุฐู ูุชุจู ูู ููุชุญูู ูู ุงูุฌูุงุฒ ูุงูุชุนุงูู ูุน ุงูููุฏูู. </p><br><p style=";text-align:right;direction:rtl">  ุงูุฎุงุฏู ูุชููู ูู 2 ุฃุฌุฒุงุก.  ุฎุงุฏู ุงูููุฏูู ูุฎุงุฏู ุงูุฅุฏุงุฑุฉ. </p><br><h3 id="31-video-server" style=";text-align:right;direction:rtl">  3.1 ุฎุงุฏู ุงูููุฏูู </h3><br><p style=";text-align:right;direction:rtl">  ูุงู ููุงู 2 ุฎูุงุฑุงุช ููููุฉ ุงูุนูู ูุน ูุงููุฑุง ุงูููุฏูู.  ุฃูู ุงุณุชุฎุฏุงู <strong>picamera</strong> module ู 2nd ุงุณุชุฎุฏุงู <strong>mjpg-</strong> <strong>streamer</strong> <strong>ุงูุจุฑูุฌูุงุช</strong> .  ุฏูู ุงูุชูููุฑ ูุฑุชูู ุ ูุฑุฑุช ุงุณุชุฎุฏุงู ููุงููุง ุ ูุฃู ููููุง ูุงุณุชุฎุฏุงูู ูู ุฅุนุฏุงุฏุงุช ุงูุชูููู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> conf.conf.VideoServerType == <span class="hljs-string"><span class="hljs-string">'m'</span></span> : cmd = <span class="hljs-string"><span class="hljs-string">"cd /home/pi/projects/mjpg-streamer-experimental &amp;&amp; "</span></span> cmd += <span class="hljs-string"><span class="hljs-string">'./mjpg_streamer -o "./output_http.so -p {0} -w ./www" -i "./input_raspicam.so -x {1} -y {2} -fps 25 -ex auto -awb auto -vs -ISO 10"'</span></span>.format(conf.conf.videoServerPort, conf.conf.VideoWidth, conf.conf.VideoHeight) print(cmd) os.system(cmd) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> picamera.PiCamera(resolution = str(conf.conf.VideoWidth) + <span class="hljs-string"><span class="hljs-string">'x'</span></span> + str(conf.conf.VideoHeight) , framerate = conf.conf.VideoRate) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Camera: output = camera.StreamingOutput() camera.output = output Camera.start_recording(output, format = <span class="hljs-string"><span class="hljs-string">'mjpeg'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: address = (conf.conf.ServerIP, conf.conf.videoServerPort) server = camera.StreamingServer(address, camera.StreamingHandler) server.serve_forever() <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span>: Camera.stop_recording()</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุฃููู ูุฃุฎุฐูู ููุณ ุงูุฅุนุฏุงุฏุงุช ุ ูุฅููู ูุนูููู ูู ููุณ ุงูุนููุงู.  ูุง ุชูุฌุฏ ูุดุงูู ูู ุงูุงุชุตุงู ุจุฌูุงุฒ ุงูุชุญูู ุนู ุจุนุฏ ุนูุฏ ุงูุชุจุฏูู ูู ูุงุญุฏ ุฅูู ุขุฎุฑ.  ุงูุดูุก ุงููุญูุฏ ุงูุฐู ุฃุนุชูุฏ ุฃู <strong>mjpg-streamer</strong> ูุนูู ุจุดูู ุฃุณุฑุน. </p><br><h3 id="32-server-upravleniya" style=";text-align:right;direction:rtl">  3.2 ุฎุงุฏู ุงูุฅุฏุงุฑุฉ </h3><br><h4 id="321-vzaimodeystvie-mezhdu-klientom-i-serverom" style=";text-align:right;direction:rtl">  3.2.1 ุงูุชูุงุนู ุจูู ุงูุนููู ูุงูุฎุงุฏู </h4><br><p style=";text-align:right;direction:rtl">  ุฃูุงูุฑ ุชุจุงุฏู ุงูุฎุงุฏู ูุงูุนููู ูู ุดูู ุณูุงุณู json: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">{<span class="hljs-string"><span class="hljs-string">'type'</span></span>: <span class="hljs-string"><span class="hljs-string">'remote'</span></span>, <span class="hljs-string"><span class="hljs-string">'cmd'</span></span>: <span class="hljs-string"><span class="hljs-string">'Start'</span></span>, <span class="hljs-string"><span class="hljs-string">'status'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, <span class="hljs-string"><span class="hljs-string">'val'</span></span>: <span class="hljs-number"><span class="hljs-number">0.0</span></span>} {<span class="hljs-string"><span class="hljs-string">'type'</span></span>: <span class="hljs-string"><span class="hljs-string">'remote'</span></span>, <span class="hljs-string"><span class="hljs-string">'cmd'</span></span>: <span class="hljs-string"><span class="hljs-string">'Y'</span></span>, <span class="hljs-string"><span class="hljs-string">'status'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, <span class="hljs-string"><span class="hljs-string">'val'</span></span>: <span class="hljs-number"><span class="hljs-number">0.5</span></span>} {<span class="hljs-string"><span class="hljs-string">'type'</span></span>: <span class="hljs-string"><span class="hljs-string">'remote'</span></span>, <span class="hljs-string"><span class="hljs-string">'cmd'</span></span>: <span class="hljs-string"><span class="hljs-string">'turn'</span></span>, <span class="hljs-string"><span class="hljs-string">'x'</span></span>: <span class="hljs-number"><span class="hljs-number">55</span></span>, <span class="hljs-string"><span class="hljs-string">'y'</span></span>: <span class="hljs-number"><span class="hljs-number">32</span></span>}</code> </pre> <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูููุน - "ุจุนูุฏ" ุฃู "ุณูุงุฑุฉ" ุญุณุจ ูู ูุฑุณู ุงูุฃูุฑ (ุงูุนููู ุฃู ุงูุฎุงุฏู) </li><li style=";text-align:right;direction:rtl">  cmd - ุณูุณูุฉ ุฐุงุช ุงุณู ุงูุฒุฑ ุงููุทุงุจู ูุงุณู ุงูุฒุฑ ุงูููุฌูุฏ ูู <strong>Game HAT</strong> ุ ุนูู ุณุจูู ุงููุซุงู: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงุจุฏุฃ - ุฒุฑ ุงูุจุฏุก </li><li style=";text-align:right;direction:rtl">  ุงุฎุชุฑ - ุงุฎุชุฑ ุฒุฑ </li><li style=";text-align:right;direction:rtl">  ุฒุฑ Y - Y </li><li style=";text-align:right;direction:rtl">  ุฅูุฎ </li><li style=";text-align:right;direction:rtl">  ุจุฏูุฑู - ุงูุฃูุฑ ูุชุบููุฑ ุญุงูุฉ ุนุตุง ุงูุชุญูู ุ ูู ุงููุณุคูู ุนู ููุจ ุงูุนุฌูุงุช </li></ul></li><li style=";text-align:right;direction:rtl">  ุงูุญุงูุฉ - ุตูุงุจ ุฃู ุฎุทุฃ ุ ุงุนุชูุงุฏูุง ุนูู ูุง ุฅุฐุง ูุงู ุงูุฒุฑ ูุถุบูุทูุง ุฃู ูุง.  ูุชู ุฅุฑุณุงู ุญุฏุซ ุญุงูุฉ ุฒุฑ ูู ูู ูุฑุฉ ุชุชุบูุฑ ุญุงูุชูุง. </li><li style=";text-align:right;direction:rtl">  val - ุณุฑุนุฉ ูุงุชุฌุงู ุญุฑูุฉ ุงููุญุฑู ูู -1 ... 1 ุ ูููุฉ <strong>ุชุนููู</strong> ุงูููุน.  ูุนููุฉ ูุจูุฑุฉ ูุฃุฒุฑุงุฑ ุงูุญุฑูุฉ ููุท. </li><li style=";text-align:right;direction:rtl">  x - ุงูุญุฑุงู ุฐุฑุงุน ุงูุชุญูู ุนูู ุทูู ุงููุญูุฑ x ูู -100 ... 100 ุ ูููุฉ type <strong>int</strong> </li><li style=";text-align:right;direction:rtl">  y - ุงูุญุฑุงู ุฐุฑุงุน ุงูุชุญูู ุนูู ุทูู ุงููุญูุฑ y ูู -100 ... 100 ุ ูููุฉ type <strong>int</strong> </li></ul><br><p style=";text-align:right;direction:rtl">  ูุฃุชู ุจุนุฏ ุฐูู ุนุงุฑู ุ ูุฅุนุงุฏุฉ ุฃูุฏู ูุง ุชุตู.  ูููู ุงูุฌูุงุฒ ุจุฑูุน ููุจุณ ุงูุฎุงุฏู ูููุชุธุฑ ุญุชู ูุชุตู ุงูุนููู ุจู.  ุนูุงูุฉ ุนูู ุฐูู ุ ููู ุงุชุตุงู ุฌุฏูุฏ ุ ูุฅูู ููุดุฆ ุฏูููุง ูููุตููุง ุ ูุณูุชููู ูู ุนููู ุฌุฏูุฏ ุณูุชุตู ุจุงูุฌูุงุฒ ูู ุงูุชุญูู ููู)).  ูุง ูููู ุฃู ูููู ูุฐุง ุจุนูุฏูุง ูุฃูู ูุง ููุฌุฏ ุฃุญุฏ ูุฏูู ุฌูุงุฒ ุชุญูู ุนู ุจุนุฏ ุ ูุฃุฑูุน ุดุจูุฉ WiFi ูุบููุฉ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> TCP_IP = conf.conf.ServerIP TCP_PORT = conf.conf.controlServerPort BUFFER_SIZE = conf.conf.ServerBufferSize self.tcpServer = socket.socket(socket.AF_INET, socket.SOCK_STREAM) self.tcpServer.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, <span class="hljs-number"><span class="hljs-number">1</span></span>) self.tcpServer.bind((TCP_IP, TCP_PORT)) threads = [] <span class="hljs-comment"><span class="hljs-comment">#     . self.tcpServer.listen(1) while True: print("Car server up : Waiting for connections from TCP clients...") (conn, (ip, port)) = self.tcpServer.accept() newthread = ClientThread(conn, ip, port) newthread.start() self.threads.append(newthread)</span></span></code> </pre> <br><h4 id="322-upravlenie-zhelezom" style=";text-align:right;direction:rtl">  3.2.2 ุฅุฏุงุฑุฉ ุงูุญุฏูุฏ </h4><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุงูุนูู ูุน Raspberry ุ ุชู ุงุณุชุฎุฏุงู ูุธุงู ุงูุชุฑููู <strong>GPIO.BCM</strong> . </p><br><p style=";text-align:right;direction:rtl">  <strong>ูุชู</strong> ุงูุชุญูู ูู <strong>ุงูุถูุก</strong> ุนุจุฑ gpio 17 ุ ููู ูุชุตู <strong>ุจุงูุฏุจูุณ</strong> ุงูุซุงูู ูู <strong>L293</strong> .  ุจุนุฏ ุฐูู ุ ูู ูู ูุฑุฉ ูุฃุชู ูููุง ุงูุฃูุฑ ูุชุดูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">GPIO.output(self.gpioLight, GPIO.HIGH)</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">GPIO.output(self.gpioLight, GPIO.LOW)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชุณูู ุงูุฃูุงูุฑ ุงูููุงุจูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุชู <strong>ุงูุชุญูู ูู</strong> <strong>ูุญุฑู ุณูุฑูู</strong> ุนุจุฑ ููุญุฉ <strong>PCA9685</strong> ุนุจุฑ ูุงูู I2C ุ ูุฐูู ูุญู ุจุญุงุฌุฉ ุฅูู ุงูููุชุจุฉ ุงูููุงุณุจุฉ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Adafruit_PCA9685</a> .  ูุชู ุชูุตูู PCA9685 ุฅูู ุงููุคุงุฒุฑุฉ ุนุจุฑ 7 ุฏุจูุณ.  ุชุฑุฏุฏ PWM ุงููุทููุจ ููุนูู ูุน ุงููุคุงุฒุฑุฉ ูู 50 ูุฑุชุฒ ุฃู ูุชุฑุฉ 20 ูููู ุซุงููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุจุฏุฃ ุชุดุบูู ุงููุคุงุฒุฑุฉ: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/h2/z-/ns/h2z-nsefbtnvntcwbmmt9qoikjc.jpeg" alt="ุตูุฑุฉ"></p><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุชุทุจูู ุฅุดุงุฑุฉ 1.5 ูููู ุซุงููุฉ ุ ุณูุชู ุชูุณูุท ุงูุนุฌูุงุช.  ูู 1 ูููู ุซุงููุฉ.  ุณูุชุญูู ุงููุคุงุฒุฑ ุฅูู ุฃูุตู ุญุฏ ูููู ุฅูู ุงููููู ุ 2 ูููู ุซุงููุฉ.  ุฅูู ุงููุณุงุฑ ูุฏุฑ ุงูุฅููุงู.  ูู ูุชู ุชุตููู ููุงุตู ุงูุชูุฌูู ูู ุงูุฌุณูุฑ ููุซู ูุฐู ุงูููุนุทูุงุช ุ ูุฐุง ูุฌุจ ุชุญุฏูุฏ ุฒุงููุฉ ุงูุฏูุฑุงู ุจุดูู ุชุฌุฑูุจู. </p><br><p style=";text-align:right;direction:rtl">  ุงูููู ุงูุชู ูููู ุชูุฑูุฑูุง ุฅูู ูุฌููุนุฉ Adafruit_PCA9685 API ุชุชุฑุงูุญ ูู 0..4095 ุ 0 ุจุฏูู ุฅุดุงุฑุฉ ุ 4095 ููุชูุฆุฉ.  ููููุง ูุฐูู ุ ูู ูุฐุง ุงููุทุงู ุ ูุงู ูู ุงูุถุฑูุฑู ุงุฎุชูุงุฑ ุงูููู ุงูููุงุณุจุฉ ูุนุฌูุงุชู.  ุฃุณูู ุทุฑููุฉ ูุชุญุฏูุฏ ููู ุงูุนุฌูุงุช ุงููุญุฏุฏุฉ ุจุงูุถุจุท ูู ููู 1.5 ูููู ุซุงููุฉ ุฅูู ูููุฉ ูู ูุฏู ~ 307. </p><br><p style=";text-align:right;direction:rtl">  ุงููููุฉ ุงููุตูู ูููููู ูู 245 ุ ูููุณุงุฑ 369. </p><br><p style=";text-align:right;direction:rtl">  ุชุฃุฎุฐ ุงูููู ุงููุงุฑุฏุฉ ูู ุนุตุง ุงูุชุญูู ุงูููู ูู -100 ... 100 ุ ูุฐูู ูุงู ูุฌุจ ุชุฑุฌูุชูุง ูู ุงููุทุงู ูู 245 ุฅูู 369. ูุฑุฉ ุฃุฎุฑู ุ ูููู ุงููุฑูุฒ ูู ุงูุฃุณูู ุ ุฅุฐุง ูุงู 0 ูู 307. ุงููุณุงุฑ ูุงููููู ููููุง ููุตูุบุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">val = int(HardwareSetting._turnCenter + (<span class="hljs-number"><span class="hljs-number">-1</span></span> * turn * HardwareSetting._turnDelta / HardwareSetting.yZero))</code> </pre> <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  HardwareSetting._turnCenter - 307 </li><li style=";text-align:right;direction:rtl">  ุจุฏูุฑู - ูููุฉ ูู ุนุตุง ุงูุชุญูู ูู -100 ... 100 </li><li style=";text-align:right;direction:rtl">  HardwareSetting._turnDelta - 62 ุ ูุงููุฑู ุจูู ุงููุฑูุฒ ูุงูุญุฏ ุงูุฃูุตู ููุงูุญุฑุงู ุฅูู ุงูุฌุงูุจ (307 - 245 = 62) </li><li style=";text-align:right;direction:rtl">  HardwareSetting.yZero - 100 ุ ุงููููุฉ ุงููุตูู ุงููุณุชููุฉ ูู ุนุตุง ุงูุชุญูู </li></ul><br><p style=";text-align:right;direction:rtl">  ุนุฌูุงุช ูุณุชูููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">turnCenter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> val = int(HardwareSetting._turnCenter) self.pwm_servo.set(val) CarStatus.statusCar[<span class="hljs-string"><span class="hljs-string">'car'</span></span>][<span class="hljs-string"><span class="hljs-string">'turn'</span></span>] = val</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุงุชุฌุงู ูุณุงุฑูุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">turnLeft</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, turn)</span></span></span><span class="hljs-function">:</span></span> val = int(HardwareSetting._turnCenter + (<span class="hljs-number"><span class="hljs-number">-1</span></span> * turn * HardwareSetting._turnDelta / HardwareSetting.yZero)) self.pwm_servo.set(val) CarStatus.statusCar[<span class="hljs-string"><span class="hljs-string">'car'</span></span>][<span class="hljs-string"><span class="hljs-string">'turn'</span></span>] = val</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุงุชุฌุงู ูููููุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">turnRight</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, turn)</span></span></span><span class="hljs-function">:</span></span> val = int(HardwareSetting._turnCenter + (<span class="hljs-number"><span class="hljs-number">-1</span></span> * turn * HardwareSetting._turnDelta / HardwareSetting.yZero)) self.pwm_servo.set(val) CarStatus.statusCar[<span class="hljs-string"><span class="hljs-string">'car'</span></span>][<span class="hljs-string"><span class="hljs-string">'turn'</span></span>] = val</code> </pre> <br><p style=";text-align:right;direction:rtl">  <strong>ูุชู ุงูุชุญูู ูู ุงููุญุฑู</strong> ุฃูุถูุง ุนุจุฑ ููุญุฉ <strong>PCA9685</strong> ุนุจุฑ ูุงูู I2C ุ ูุฐูู ูุณุชุฎุฏู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Adafruit_PCA9685</a> .  ูุชู ุชูุตูู ุงูุฏุจุงุจูุณ 10 ุฅูู 15 ุนูู PCA9685 ุฅูู L298N (ูููููู ุงุณุชุฎุฏุงู 2 ูููุงุช ุนููู ูุงูุชุตุงุต ุงูุทุงูุฉ).  10 ู 11 ุฅูู ENA ู ENB (ุฃููุฃููุง ุจู PWM ููุชุญูู ูู ุงูุณุฑุนุฉ).  12 ู 13 ู 14 ู 15 ุฅูู IN1 ู IN2 ู IN3 ู IN4 - ูู ุงููุณุคููุฉ ุนู ุงุชุฌุงู ุฏูุฑุงู ุงููุญุฑู.  ุชุฑุฏุฏ PWM ููุณ ููููุง ููุบุงูุฉ ููุง ุ ููููู ุฃุณุชุฎุฏู ุฃูุถูุง 50 ูุฑุชุฒ (ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ). </p><br><p style=";text-align:right;direction:rtl">  ุงูุฌูุงุฒ ูุง ูุฒุงู ูุงุฆูุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">stop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""  . """</span></span> self.pwm.set_pwm(self.ena, <span class="hljs-number"><span class="hljs-number">0</span></span>, self.LOW) self.pwm.set_pwm(self.enb, <span class="hljs-number"><span class="hljs-number">0</span></span>, self.LOW) self.pwm.set_pwm(self.in1, <span class="hljs-number"><span class="hljs-number">0</span></span>, self.LOW) self.pwm.set_pwm(self.in4, <span class="hljs-number"><span class="hljs-number">0</span></span>, self.LOW) self.pwm.set_pwm(self.in2, <span class="hljs-number"><span class="hljs-number">0</span></span>, self.LOW) self.pwm.set_pwm(self.in3, <span class="hljs-number"><span class="hljs-number">0</span></span>, self.LOW)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงููุถู ูุฏูุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">back</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, speed)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""  . Args: speed:     0  1. """</span></span> self.pwm.set_pwm(self.ena, <span class="hljs-number"><span class="hljs-number">0</span></span>, int(speed * self.HIGH)) self.pwm.set_pwm(self.enb, <span class="hljs-number"><span class="hljs-number">0</span></span>, int(speed * self.HIGH)) self.pwm.set_pwm(self.in1, <span class="hljs-number"><span class="hljs-number">0</span></span>, self.LOW) self.pwm.set_pwm(self.in4, <span class="hljs-number"><span class="hljs-number">0</span></span>, self.LOW) self.pwm.set_pwm(self.in2, <span class="hljs-number"><span class="hljs-number">0</span></span>, self.HIGH) self.pwm.set_pwm(self.in3, <span class="hljs-number"><span class="hljs-number">0</span></span>, self.HIGH)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุญุฑูุฉ ุงูุฎูููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">forward</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, speed)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""  . Args: speed:     0  1. """</span></span> self.pwm.set_pwm(self.ena, <span class="hljs-number"><span class="hljs-number">0</span></span>, int(speed * self.HIGH)) self.pwm.set_pwm(self.enb, <span class="hljs-number"><span class="hljs-number">0</span></span>, int(speed * self.HIGH)) self.pwm.set_pwm(self.in1, <span class="hljs-number"><span class="hljs-number">0</span></span>, self.HIGH) self.pwm.set_pwm(self.in4, <span class="hljs-number"><span class="hljs-number">0</span></span>, self.HIGH) self.pwm.set_pwm(self.in2, <span class="hljs-number"><span class="hljs-number">0</span></span>, self.LOW) self.pwm.set_pwm(self.in3, <span class="hljs-number"><span class="hljs-number">0</span></span>, self.LOW)</code> </pre> <br><h3 id="4-klient" style=";text-align:right;direction:rtl">  4. ุงูุนููุงุก </h3><br><h3 id="41-klaviatura" style=";text-align:right;direction:rtl">  4.1 ููุญุฉ ุงูููุงุชูุญ </h3><br><p style=";text-align:right;direction:rtl">  ูุงูุช ููุงู ูุดุงูู ูุนููุฉ ูุนูุง ุ ูู ุงูุจุฏุงูุฉ ุฃุฑุฏุช ุฃู ุฃุฌุนููุง ูููุฆุฉ ุจุงูุฃุญุฏุงุซ (ุงุณุชุบุฑู ุงูุฃูุฑ ุญูุงูู ุฃุณุจูุนูู ูู ุงูุนุฐุงุจ).  ููู ุงูุฃุฒุฑุงุฑ ุงููููุงููููุฉ ุงูุชู ุณุงููุช ุจูุง ุ ุฃุฏุช ูุนูุนุฉ ุฌูุงุช ุงูุงุชุตุงู ุฅูู ุฅุฎูุงูุงุช ุซุงุจุชุฉ ูุบูุฑ ูุชููุนุฉ (ุฎูุงุฑุฒููุงุช ุงูุชุญูู ุงูุชู ุงุฎุชุฑุนุชูุง ุนููุช ุจุดูู ุบูุฑ ูุงูู).  ุซู ุฃุฎุจุฑูู ุฒูููู ููู ุชุตูุน ููุญุงุช ุงูููุงุชูุญ.  ููุฑุฑุช ุฃู ุฃูุนู ููุณ ุงูุดูุก ุ ูุงูุขู ุฃููู ุจุงุณุชุทูุงุน ุงูุญุงูุฉ ูู 0.005 ุซุงููุฉ (ููุงุฐุง ุ ููู ูุฏุฑู).  ูุฅุฐุง ูุงู ูุฏ ุชุบูุฑ ุ ุฃุฑุณู ุงููููุฉ ุฅูู ุงูุฎุงุฏู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: time.sleep(<span class="hljs-number"><span class="hljs-number">0.005</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> pin <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.pins : p = self.pins[pin] status = p[<span class="hljs-string"><span class="hljs-string">'status'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> GPIO.input(pin) == GPIO.HIGH : p[<span class="hljs-string"><span class="hljs-string">'status'</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : p[<span class="hljs-string"><span class="hljs-string">'status'</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> p[<span class="hljs-string"><span class="hljs-string">'status'</span></span>] != status : p[<span class="hljs-string"><span class="hljs-string">'callback'</span></span>](pin) <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> KeyboardInterrupt: GPIO.cleanup()</code> </pre><br><h3 id="42-dzhoystik" style=";text-align:right;direction:rtl">  4.2 ุนุตุง ุงูุชุญูู </h3><br><p style=";text-align:right;direction:rtl">  <strong>ุชุชู ูุฑุงุกุฉ ุงููุฑุงุกุงุช</strong> ุนุจุฑ ููุญุฉ <strong>ADS1115</strong> ุนุจุฑ ุญุงููุฉ I2C ุ ูุจุงูุชุงูู ูุฅู ุงูููุชุจุฉ ุงูููุงุณุจุฉ ููุง ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Adafruit_PCA9685</a> .  ุนุตุง ุงูุชุญูู ุฃูุถูุง ุนุฑุถุฉ ูุซุฑุซุฑุฉ ุฌูุงุช ุงูุงุชุตุงู ุ ูุฐูู ุฃุฃุฎุฐ ูุฑุงุกุงุช ูููุง ูู ุฎูุงู ุงูููุงุณ ุจุงุณุชุฎุฏุงู ููุญุฉ ุงูููุงุชูุญ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: X = self.adc.read_adc(<span class="hljs-number"><span class="hljs-number">0</span></span>, gain=self.GAIN) / HardwareSetting.valueStep Y = self.adc.read_adc(<span class="hljs-number"><span class="hljs-number">1</span></span>, gain=self.GAIN) / HardwareSetting.valueStep <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> X &gt; HardwareSetting.xZero : X = X - HardwareSetting.xZero <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : X = <span class="hljs-number"><span class="hljs-number">-1</span></span> * (HardwareSetting.xZero - X) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Y &gt; HardwareSetting.yZero : Y = Y - HardwareSetting.yZero <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : Y = <span class="hljs-number"><span class="hljs-number">-1</span></span> * (HardwareSetting.yZero - Y) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (abs(X) &lt; <span class="hljs-number"><span class="hljs-number">5</span></span>) : X = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (abs(Y) &lt; <span class="hljs-number"><span class="hljs-number">5</span></span>) : Y = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (abs(self.x - X) &gt;= <span class="hljs-number"><span class="hljs-number">1.0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> abs(self.y - Y) &gt;= <span class="hljs-number"><span class="hljs-number">1.0</span></span>) : self.sendCmd(round(X), round(Y)) self.x = X self.y = Y time.sleep(<span class="hljs-number"><span class="hljs-number">0.005</span></span>)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุชุดุบููู ูู 3.3 ูููุช ุ ูุฅู ูุฌููุนุฉ ุงูููู ุงูุชู ุชูุฏููุง ADS1115 ุจูุง ุฐุฑุงุน ุชุญูู ูู 0 ... 26500.  ุฃุญูู ูุฐุง ุฅูู ูุฌููุนุฉ ูู -100 ... 100.  ูู ุงููุทุงู ุงูุฎุงุต ุจู ุญูู 0 ูุชููุจ ุฏุงุฆููุง ุ ูุฐูู ุฅุฐุง ูุงูุช ุงูููู ูุง ุชุชุฌุงูุฒ 5 ุ ูุฃูุง ุฃุนุชุจุฑ ุฃููุง 0 (ูุฅูุง ูุณูู ุชุชุฏูู).  ุจูุฌุฑุฏ ุฃู ุชุชุบูุฑ ุงูููู ุ ุฃุฑุณููุง ุฅูู ุงูุขูุฉ ุงููุงุชุจุฉ. </p><br><h3 id="43-podklyuchenie-k-serveru-upravleniya" style=";text-align:right;direction:rtl">  4.3 ุงูุงุชุตุงู ุจุฎุงุฏู ุงูุฅุฏุงุฑุฉ </h3><br><p style=";text-align:right;direction:rtl">  ุงูุงุชุตุงู ุจุงูุฎุงุฏู ุดูุก ุจุณูุท: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> : tcpClient = socket.socket(socket.AF_INET, socket.SOCK_STREAM) tcpClient.settimeout(<span class="hljs-number"><span class="hljs-number">2.0</span></span>) tcpClient.connect((conf.conf.ServerIP, conf.conf.controlServerPort)) self.signalDisplayPrint.emit(<span class="hljs-string"><span class="hljs-string">"+"</span></span>) carStatus.statusRemote[<span class="hljs-string"><span class="hljs-string">'network'</span></span>][<span class="hljs-string"><span class="hljs-string">'control'</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> self.tcpClient = tcpClient <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> socket.error <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> e: self.signalDisplayPrint.emit(<span class="hljs-string"><span class="hljs-string">"-"</span></span>) carStatus.statusRemote[<span class="hljs-string"><span class="hljs-string">'network'</span></span>][<span class="hljs-string"><span class="hljs-string">'control'</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> time.sleep(conf.conf.timeRecconect) self.tcpClient = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.tcpClient : self.tcpClient.settimeout(<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููููู ุฃุฑูุฏ ุงูุงูุชุจุงู ุฅูู ุดูุก ูุงุญุฏ.  ุฅุฐุง ูู ุชุณุชุฎุฏู ุงููููุฉ ูู ุงูุงุชุตุงู ุ ููููููุง ุงูุชุฌููุฏ ูุณูููู ุนููู ุงูุงูุชุธุงุฑ ุจุถุน ุฏูุงุฆู (ูุญุฏุซ ูุฐุง ุนูุฏูุง ูุจุฏุฃ ุงูุนููู ูุจู ุงูุฎุงุฏู).  ููุฏ ููุช ุจุญู ูุฐุง ุจุงูุทุฑููุฉ ุงูุชุงููุฉ ุ ููุช ุจุชุนููู ูููุฉ ููุงุชุตุงู.  ุจูุฌุฑุฏ ุญุฏูุซ ุงูุงุชุตุงู ุ ุฃููู ุจุฅุฒุงูุฉ ุงููููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูููููู ุฃูุถูุง ุชุฎุฒูู ุญุงูุฉ ุงูุงุชุตุงู ุ ุญุชู ุฃุนุฑู ูุง ุฅุฐุง ูุงู ุงูุชุญูู ูุฏ ููุฏ ูุนุฑุถู ุนูู ุงูุดุงุดุฉ. </p><br><h3 id="44-proverka-podklyucheniya-k-wifi" style=";text-align:right;direction:rtl">  4.4 ุงูุชุญูู ูู ุงุชุตุงู WiFi </h3><br><p style=";text-align:right;direction:rtl">  ุฃุชุญูู ูู ุญุงูุฉ wifi ููุงุชุตุงู ุจุงูุฎุงุฏู.  ูุฅุฐุง ูุงู ุงูุฃูุฑ ูุฐูู ุ ูุฃูุง ุฃุฎุทุฑ ููุณู ุฃูุถูุง ุจุงููุดุงูู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: time.sleep(<span class="hljs-number"><span class="hljs-number">1.0</span></span>) self.ps = subprocess.Popen([<span class="hljs-string"><span class="hljs-string">'iwgetid'</span></span>], stdout=subprocess.PIPE, stderr=subprocess.STDOUT) <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: output = subprocess.check_output((<span class="hljs-string"><span class="hljs-string">'grep'</span></span>, <span class="hljs-string"><span class="hljs-string">'ESSID'</span></span>), stdin=self.ps.stdout) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> re.search(<span class="hljs-string"><span class="hljs-string">r'djvu-car-pi3'</span></span>, str(output)) : self.sendStatus(<span class="hljs-string"><span class="hljs-string">'wifi+'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span> <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> subprocess.CalledProcessError: <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> self.sendStatus(<span class="hljs-string"><span class="hljs-string">'wifi-'</span></span>) self.ps.kill()</code> </pre> <br><h3 id="45-podklyuchenie-k-video-serveru" style=";text-align:right;direction:rtl">  4.5 ุงูุงุชุตุงู ุจุฎุงุฏู ุงูููุฏูู </h3><br><p style=";text-align:right;direction:rtl">  ููุฐุง ุ ูุงูุช ูู ููุฉ <strong>Qt5 ูุทููุจุฉ</strong> ุ ุจุงูููุงุณุจุฉ ุนูู ุชูุฒูุน <strong>ุงูุฅูุชุฏุงุฏ</strong> ุ ููู ุฃุญุฏุซ ููู ุฑุฃูู ุชุธูุฑ ุจุดูู ุฃูุถู.  ูู <strong>ุฌูุณู</strong> ุญุงููุช ุฃูุถุง. </p><br><p style=";text-align:right;direction:rtl">  ููุนุฑุถ ุงุนุชุฏุช: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">self.videoWidget = QVideoWidget()</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุงุณุชูุชุฌ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">self.mediaPlayer = QMediaPlayer(<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, QMediaPlayer.LowLatency) self.mediaPlayer.setVideoOutput(self.videoWidget)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุงุชุตุงู ุจุจุซ ุงูููุฏูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">self.mediaPlayer.setMedia(QMediaContent(QUrl(<span class="hljs-string"><span class="hljs-string">"http://{}:{}/?action=stream"</span></span>.format(conf.conf.ServerIP, conf.conf.videoServerPort)))) self.mediaPlayer.play()</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฑุฉ ุฃุฎุฑู ุ ุฃุนุชุฐุฑ ุนู ุงูุชุญุฑูู).  ุฃุฑุงูุจ ุญุงูุฉ ุงุชุตุงู ุงูููุฏูู ููุงุชุตุงู ุจุฎุงุฏู ุงูููุฏูู.  ูุฅุฐุง ูุงู ุงูุฃูุฑ ูุฐูู ุ ูุฃูุง ุฃุฎุทุฑ ููุณู ุฃูุถูุง ุจุงููุดุงูู. </p><br><p style=";text-align:right;direction:rtl">  ููุฐุง ูุจุฏู ุนูุฏูุง ูุง ูุนูู ูู ุดูุก: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ea/6a/ug/ea6augn3vrdv3ejjom8v6qrnpvu.jpeg" alt="ุตูุฑุฉ"></p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <strong>W</strong> - ูุนูู ุฃูู ูุง ููุฌุฏ ุงุชุตุงู ูุน ูุงู ูุงู </li><li style=";text-align:right;direction:rtl">  <strong>ุจ</strong> - ูุนูู ุนุฏู ูุฌูุฏ ููุฏูู </li><li style=";text-align:right;direction:rtl">  <strong>Y</strong> - ูุนูู ุฃูู ูุง ููุฌุฏ ุชุญูู </li></ul><br><p style=";text-align:right;direction:rtl">  ุฎูุงู ุฐูู ูุง ุชูุฌุฏ ุฑุณุงุฆู ุญูุฑุงุก ุ ูููุงู ุดุฑูุท ููุฏูู ูู ุงููุงููุฑุง.  ุณุฃูุดุฑ ุตูุฑุฉ ูููุฏูู ูุน ุงูุนูู ูู ุงููุณุชูุจู) ุขูู ุฃู ูุฃุชู ุชุฑููุจ ุงููุงููุฑุง ูู ุงููุณุชูุจู ุงููุฑูุจ ูุฃุฑูููุง ุฃุฎูุฑูุง ุจุดูู ุทุจูุนู. </p><br><h3 id="5-nastroyka-raspberry-os" style=";text-align:right;direction:rtl">  5 ุชูููู ูุธุงู ุชุดุบูู ุงูุชูุช </h3><br><p style=";text-align:right;direction:rtl">  ุจุงูููุงุณุจุฉ ุ ูุฌุจ ุชุดุบูู ุงูุนูู ูุน ุงููุงููุฑุง ูุงูุฃุดูุงุก ุงูุถุฑูุฑูุฉ ุงูุฃุฎุฑู (ุณูุงุก ุนูู ุงูุนููู ุฃู ุงูุฎุงุฏู).  ุจุนุฏ ุชุญููู ูุธุงู ุงูุชุดุบูู: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ex/ye/gz/exyegz24x9ec0ee0cdp7qpm5kog.jpeg" alt="ุตูุฑุฉ"></p><br><p style=";text-align:right;direction:rtl">  ูู ุจุชุดุบูู ูู ุดูุก ุชูุฑูุจูุง: ุงููุงููุฑุง ุ ssh ุ i2c ุ gpio </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ye/fu/z4/yefuz4_ioqh5g1j_f1n1mgwf_cg.png" alt="ุตูุฑุฉ"></p><br><h3 id="demonstraciya" style=";text-align:right;direction:rtl">  ูุธุงูุฑุฉ </h3><br><p style=";text-align:right;direction:rtl">  ูุง ููุฌุฏ ุณูู ููุงุฉ ููุฏูู (ุชุธู ุงููุงููุฑุง ูู ุงูุนูู).  ุฃุนุชุฐุฑ ุนู ุบูุงุจู ุ ุณุฃุฑููู ููู ุงูุงุซููู. </p><br><img alt="ูุจุนุฉ ุงููุนุจุฉ" width="400" src="https://habrastorage.org/webt/5q/yt/ox/5qytoxmp0ojxi7bheduksv8qipg.jpeg"><br><p style=";text-align:right;direction:rtl">  ุนูู ุงูููุฏูู: </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/D6ZT90L6q00" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3 id="ishodnye-kody" style=";text-align:right;direction:rtl">  ุดูุฑุฉ ุงููุตุฏุฑ </h3><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฎุงุฏู ูุฑูุฒ ุงูุนููู ุงููุตุฏุฑ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุญุฒูุฉ ุจุฏุก ุชุดุบูู ุฎุงุฏู ุงูุฎูู</a> </p><br><h3 id="ssylki" style=";text-align:right;direction:rtl">  ูุฑุงุฌุน </h3><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก 1</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก 3</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar462331/">https://habr.com/ru/post/ar462331/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar462321/index.html">ูุจุงุฑ ุงููุณุฆูููู ุงูุงูุชุตุงุฏููู ุงูุฏูููุฉ | ุนูุงูู ุงูุชุฑุชูุจ ููุจุงุฑ ุงููุณุฆูููู ุงูุงูุชุตุงุฏููู ุงูุฏูููุฉ</a></li>
<li><a href="../ar462323/index.html">ุงูุณููุฉ - ุงูุงุณุชุฑุฎุงุก ูุงููุดุงุฑูุฉ</a></li>
<li><a href="../ar462325/index.html">ุนุงูู ุงูููุจ ุฃุณูู ููุง ููุช ุชุนุชูุฏ</a></li>
<li><a href="../ar462327/index.html">ุตุฑูุฑ ูุฑู ุณุฑุทุงูู: ุทูุฑ ุนููุงุก NUST "MISiS" ุฌูุงุฒ ุชุตููุฑ ุจุงูููุฌุงุช ููู ุงูุตูุชูุฉ ุจุงูููุฒุฑ ูุชุดุฎูุต ุงูุณุฑุทุงู</a></li>
<li><a href="../ar462329/index.html">ููู ูุฒูุฏ ุงูุทุงูุฉ ุฅูู ุงูุฌุฒุก ุงูุฃูุงูู ูู ุงููููู</a></li>
<li><a href="../ar462333/index.html">ุฅูุดุงุก chatbot ูุญุงุฏุซุฉ ุจุณูุทุฉ ูู ุจูุซูู</a></li>
<li><a href="../ar462335/index.html">ูุง ุชูุฑุฃ ุ ุฃุนุฏ ุงููุฑุงุกุฉ</a></li>
<li><a href="../ar462337/index.html">ุฅุญุตุงุฆูุงุช ุงููููุน ููุณุชูุฏุนู ุงูุตุบูุฑ</a></li>
<li><a href="../ar462339/index.html">ููู ูุฑุชุจุท ุงูุชุฏุฑูุจ ุงููุฏูู ุจุงููุนุงููุฑ ุงูุฏุงุฎููุฉ ููุฃูุงุฒูู ูููู ุฃุซุฑ ุนูู ูุธุฑุฉ ุงูุดุฑูุฉ ุงูุนุงูููุฉุ</a></li>
<li><a href="../ar462347/index.html">ุงูุฃูุงู ุงูุนุดุฑุฉ ุงูุฃููู ูู ุงูุทุฑูู ูู ุงูุจููุฉ ุฅูู ุทุงุฆุฑ ูุจูุฑ: ุงูููู ุ ูุงููุธุงู ุงูุบุฐุงุฆู ุ ูุงููุธุงู ุงูุบุฐุงุฆู ูููุงุฑุณุฉ ุงูุฑูุงุถุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>