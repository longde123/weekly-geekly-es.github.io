<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèª‚Äçü§ù‚Äçüë®üèæ üì≥ ‚öñÔ∏è Curso MIT "Seguran√ßa de sistemas de computadores". Aula 11: Linguagem de Programa√ß√£o Ur / Web, Parte 3 ‚¨úÔ∏è üë™ üê°</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Instituto de Tecnologia de Massachusetts. Curso de Aula n¬∫ 6.858. "Seguran√ßa de sistemas de computador". Nikolai Zeldovich, James Mickens. 2014 ano 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Curso MIT "Seguran√ßa de sistemas de computadores". Aula 11: Linguagem de Programa√ß√£o Ur / Web, Parte 3</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/426001/"><h3>  Instituto de Tecnologia de Massachusetts.  Curso de Aula n¬∫ 6.858.  "Seguran√ßa de sistemas de computador".  Nikolai Zeldovich, James Mickens.  2014 ano </h3><br>  Computer Systems Security √© um curso sobre o desenvolvimento e implementa√ß√£o de sistemas de computador seguros.  As palestras abrangem modelos de amea√ßas, ataques que comprometem a seguran√ßa e t√©cnicas de seguran√ßa baseadas em trabalhos cient√≠ficos recentes.  Os t√≥picos incluem seguran√ßa do sistema operacional (SO), recursos, gerenciamento de fluxo de informa√ß√µes, seguran√ßa de idiomas, protocolos de rede, seguran√ßa de hardware e seguran√ßa de aplicativos da web. <br><br>  Palestra 1: ‚ÄúIntrodu√ß√£o: modelos de amea√ßas‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 2: ‚ÄúControle de ataques de hackers‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 3: ‚ÄúEstouros de Buffer: Explora√ß√µes e Prote√ß√£o‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 4: ‚ÄúSepara√ß√£o de Privil√©gios‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 5: ‚ÄúDe onde v√™m os sistemas de seguran√ßa?‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> <br>  Palestra 6: ‚ÄúOportunidades‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 7: ‚ÄúSandbox do Cliente Nativo‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 8: ‚ÄúModelo de Seguran√ßa de Rede‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 9: ‚ÄúSeguran√ßa de aplicativos da Web‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 10: ‚ÄúExecu√ß√£o Simb√≥lica‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 11: ‚ÄúLinguagem de Programa√ß√£o Ur / Web‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <a name="habracut"></a><br><br>  A √∫ltima coisa que precisamos fazer e que ser√° muito instrutiva √© alterar esse c√≥digo indicando o m√≥dulo da sala l√° e, em seguida, tentar acessar a tabela da sala, como no exemplo anterior.  Esta op√ß√£o n√£o √© permitida porque isso n√£o √© permitido. <br><br><img src="https://habrastorage.org/webt/lq/cl/1b/lqcl1bhdj-8n1iwdldrcdud9aae.jpeg"><br><br>  Seria como ser capaz de ler e escrever campos de classe privada em Java.  De fato, recebemos uma mensagem bastante simples, basicamente dizendo que temos uma vari√°vel n√£o relacionada aqui, uma express√£o desconhecida para o par√¢metro room. <br><br><img src="https://habrastorage.org/webt/4m/1g/_x/4m1g_xnn66lyaelr9s4uxpco8lg.jpeg"><br><br>  Poder√≠amos mencionar este m√≥dulo complementar, que criamos apenas por divers√£o. <br><br><img src="https://habrastorage.org/webt/_a/d9/xt/_ad9xtpqlfi614nkm7p7ncnoubg.jpeg"><br><br>  Mas ent√£o haver√° tabelas diferentes.  Podemos acess√°-lo facilmente.  Portanto, vou dividi-lo em duas partes, come√ßaremos simplesmente chamando o m√©todo room e, em seguida, faremos algo ligeiramente diferente para ler seus elementos. <br><br><img src="https://habrastorage.org/webt/-v/oo/uw/-voouwvojaigv3v_pwgm8hjwdpo.jpeg"><br><br>  Exibir uma lista de resultados, e n√£o vice-versa, isso √© aproximadamente equivalente ao funcionamento do programa antes, exceto pelo uso de v√°rios tipos de dados.  Vamos ver o que vem disso.  Agora voltamos ao nosso bate-papo na sala 1 e inserimos qualquer mensagem na linha.  Voc√™ v√™ que todos eles s√£o exibidos sem erros. <br><br><img src="https://habrastorage.org/webt/o0/he/wy/o0hewytedbbixmmshkq12gybvp4.jpeg"><br><br>  Ou seja, agora temos esse encapsulamento, para que voc√™ possa pensar na estrutura dessa sala como uma biblioteca, mas n√£o precisa se preocupar com isso. <br><br>  Existem v√°rios lugares que podem danificar a invari√¢ncia interna de um sistema.  Talvez voc√™ queira que, ap√≥s a adi√ß√£o da mensagem, ela nunca desapare√ßa.  Tudo isso est√° nas revistas.  Essa estrutura fornece essas propriedades independentemente de outro c√≥digo, como aquele em que o m√≥dulo da sala de bate-papo est√° gravado. <br><br>  <b>Aluno:</b> para voc√™ alterar a defini√ß√£o da sala, o que aconteceria com a tabela do banco de dados nesse caso? <br><br>  <b>Professor: voc√™</b> precisa executar manualmente o comando alter table para manter os dados antigos.  Mas quando o aplicativo √© iniciado, ele consulta o diret√≥rio do banco de dados do sistema e verifica se o esquema ainda est√° conforme o esperado.  Ent√£o voc√™ receber√° um erro est√°tico.  Espero que isso lhe d√™ uma id√©ia do que voc√™ deve alterar no banco de dados. <br><br>  <b>Aluno:</b> mas n√£o excluir√° automaticamente o banco de dados ou algo assim? <br><br>  <b>Professor:</b> Espero que n√£o.  Eu n√£o acho que o compilador deva fazer isso.  Voc√™ pode imaginar personalizar o compilador para entender a evolu√ß√£o do banco de dados.  Eu acho que voc√™ precisa escrever comandos alter table para iniciar, porque o compilador n√£o faz isso agora. <br><br><img src="https://habrastorage.org/webt/eo/je/bg/eojebgjidagcmajm7estxbmexsc.jpeg"><br><br>  Vamos agora falar sobre a falsifica√ß√£o de solicita√ß√µes entre sites e sua preven√ß√£o.  De fato, antes de fazermos isso, vejamos o c√≥digo nesta p√°gina.  Temos um formul√°rio HTML tradicional que √© gerado aqui.  E, √© claro, n√£o h√° prote√ß√£o contra a falsifica√ß√£o de solicita√ß√µes entre sites, e acho que √© bom.  Porque, pelo que entendi, o problema de falsificar solicita√ß√µes entre sites √© o contexto impl√≠cito que o aplicativo envia com cada solicita√ß√£o. <br><br>  Suponha que exista algum tipo de invasor que n√£o conhe√ßa seu contexto impl√≠cito.  Digamos que sua senha esteja armazenada em um cookie, para um exemplo muito simples.  E quando o invasor o engana ao clicar no link para o aplicativo que ele precisa, o navegador envia automaticamente um contexto impl√≠cito e obriga o aplicativo a fazer o que o invasor n√£o poderia fazer diretamente. <br><br><img src="https://habrastorage.org/webt/le/1b/wt/le1bwtuntlm1h57fs04fo5ddo-e.jpeg"><br><br>  Nesse caso, n√£o h√° contexto impl√≠cito; portanto, n√£o h√° risco de falsificar solicita√ß√µes entre sites.  Algu√©m quer desafiar esse recurso do sistema antes de continuar?  Pode ser muito informativo para mim.  Caso contr√°rio, adicione um contexto impl√≠cito aqui.  Nesse caso, o sistema adotar√° automaticamente as contramedidas corretas, com base na an√°lise do programa, que entende que agora existe um contexto impl√≠cito. <br><br>  Agora vou inserir cookies aqui.  Como outro exemplo de encapsulamento de m√≥dulo, de fato, colocarei aqui todo um sistema de autentica√ß√£o de usu√°rio no qual temos contas de usu√°rio e tipos abstratos de identificadores e senhas.  Portanto, voc√™ n√£o pode simplesmente criar o valor de qualquer um desses tipos de dados diretamente.  Voc√™ ter√° que passar por algum m√©todo aprovado de constru√ß√£o de valores desses tipos. <br><br>  Vou colocar a mesa na assinatura.  E tamb√©m imporemos uma restri√ß√£o, dizendo que a chave √© o formul√°rio de identifica√ß√£o. <br><br><img src="https://habrastorage.org/webt/ax/ci/7o/axci7otxzeirl84vccpxjnlq7cq.jpeg"><br><br>  Mas o fato √© que nessa tabela de usu√°rios, o ID e a senha s√£o tipos de dados abstratos.  Portanto, o c√≥digo n√£o pode ver a senha e n√£o pode gerar consistentemente todos os identificadores e experiment√°-los nesta tabela.  Porque ele usa um tipo abstrato, pelo qual √© imposs√≠vel estabelecer a apar√™ncia do ID e √© imposs√≠vel encontrar uma senha.  Eles v√™m dessa tabela e s√£o tokens opacos. <br><br>  Mas poder√≠amos permitir que eles fossem usados ‚Äã‚Äãcomo esgoto.  Conv√©m permitir uma dire√ß√£o de convers√£o entre cadeias e esses tipos.  Agora farei algo aqui, principalmente os detalhes, e n√£o tentarei explic√°-los.  Mas isso √© como declarar que voc√™ tem permiss√£o para converter seq√º√™ncias de caracteres em ID.  Para aqueles familiarizados com Haskell, essa √© uma classe de tipo instant√¢neo, essa permiss√£o para transformar seq√º√™ncias de caracteres em IDs. <br><br><img src="https://habrastorage.org/webt/sp/to/jh/sptojh8mtta3h7iybbruu9atirs.jpeg"><br><br>  N√£o vamos aplicar outra permiss√£o, porque n√£o queremos poder transformar o ID novamente em outra coisa.  Vamos fazer o mesmo pela senha.  Queremos poder ler a senha do usu√°rio, mas n√£o vamos aceit√°-la e transform√°-la em uma string que nos dir√° que o usu√°rio entrou no bate-papo. <br><br>  Assim, outras partes do c√≥digo poder√£o aceitar a senha do usu√°rio, convert√™-la nesse tipo e transport√°-la para o m√≥dulo do usu√°rio para verifica√ß√£o.  Mas o que eles n√£o podem fazer √© consultar a tabela do usu√°rio e obter todas as senhas em um formul√°rio a partir do qual eles podem extrair sua express√£o de texto. <br><br>  Ent√£o, podemos ter um m√©todo de login que aceite esses dois componentes, ID e senha, e apenas funcione como efeito colateral, o que √© realmente declarado no c√≥digo.  Tamb√©m precisaremos de uma maneira de descobrir qual usu√°rio est√° registrado.  Este √© o c√≥digo que executa a transa√ß√£o que cria o ID. <br><br><img src="https://habrastorage.org/webt/8x/na/j8/8xnaj8mitfi-5rqiq7hl-snqq6c.jpeg"><br><br>  O primeiro passo √© simplesmente copiar esta defini√ß√£o.  E ent√£o vem uma surpresa.  Acontece que os IDs e senhas de usu√°rio s√£o cadeias de caracteres, mas essa circunst√¢ncia n√£o ser√° divulgada fora do m√≥dulo. <br><br><img src="https://habrastorage.org/webt/1k/-l/ny/1k-lnyojw9-zowxahm6pqfkrp20.jpeg"><br><br>  Agora vamos criar cookies.  Cookies s√£o outra coisa incorporada ao idioma.  De fato, eles agem como vari√°veis ‚Äã‚Äãglobais mut√°veis ‚Äã‚Äãque possuem uma c√≥pia para cada cliente que usa seu aplicativo. <br><br>  Assim, vamos criar um cookie que para cada usu√°rio simplesmente armazene uma c√≥pia dos mesmos dois campos que temos aqui. <br><br><img src="https://habrastorage.org/webt/f2/rw/om/f2rwomhtpjbhtsvvh206wswxtne.jpeg"><br><br>  Esses cookies s√£o privados para este m√≥dulo.  Outras partes do c√≥digo n√£o poder√£o ler cookies, porque simplesmente n√£o possuem esse campo privado.  Portanto, ningu√©m poder√° ver diretamente o ID e a senha salvos para este usu√°rio.  Mas eles ser√£o salvos ao visualizar v√°rias p√°ginas, como √© o caso de cookies comuns. <br><br>  Agora vou inserir a fun√ß√£o de login, que iniciar√° o processo para verificar o banco de dados e descobrir se esse √© realmente o par correto de nome de usu√°rio e senha.  Esse processo apenas verifica se podemos encontrar uma linha no banco de dados que cont√©m esse ID do usu√°rio e senha. <br><br>  Se o encontrarmos, ent√£o bom, ent√£o este √© o significado correto.  Vamos apenas salvar isso em cookies.  Usamos um m√©todo que altera o valor de um cookie.  E temos que colocar algumas coisas aqui, para simplificar vou dizer que esse cookie n√£o expira.  N√£o quero executar SSL aqui, por isso direi que neste caso n√£o precisamos de seguran√ßa e defina o par√¢metro Secure = false. <br><br>  Mas se voc√™ realmente se importa com seguran√ßa, obviamente escrever√° Secure = true.  Se a verifica√ß√£o falhar e o m√≥dulo sinalizar um erro, o programa ser√° interrompido, fornecendo uma descri√ß√£o desse erro. <br><br><img src="https://habrastorage.org/webt/nm/zq/ql/nmzqqlpz1iiuywxpp-ykkxgkbsq.jpeg"><br><br>  Por fim, podemos criar essa fun√ß√£o que informa qual usu√°rio espec√≠fico est√° logado recebendo o valor atual do cookie.  Este par√¢metro tamb√©m pode ser definido como none se o usu√°rio ainda n√£o tiver efetuado login. Nesse caso, receberemos outra mensagem de erro.  Ou pode ser algum tipo de registro do tipo exato que usamos acima.  Ent√£o, basta copiar aqui e executar a mesma verifica√ß√£o.  Se isso funcionar, simplesmente retornamos a parte do registro de ID que acabamos de verificar no banco de dados. <br><br><img src="https://habrastorage.org/webt/go/kt/l1/goktl14i1ghmh09xw1lxmkhuhoc.jpeg"><br><br>  Ent√£o deixe-me ver isso.  Iniciamos o compilador e voc√™ v√™ o resultado na tela. <br><br><img src="https://habrastorage.org/webt/41/ce/g7/41ceg7zqyldmdfdq31s7cf7oaum.jpeg"><br><br>  Central para todos esses detalhes de implementa√ß√£o.  Mas fora deste m√≥dulo, pensamos sobre isso do ponto de vista da interface.  Existem alguns tipos desconhecidos de IDs e senhas.  Esta tabela de usu√°rio expressa termos que permitem transformar cadeias de caracteres em identificadores e senhas, mas n√£o vice-versa.  Temos esses dois m√©todos para inserir o login primeiro e h√° uma verifica√ß√£o de qual usu√°rio est√° conectado nesse est√°gio.  Tem perguntas sobre isso? <br><br>  <b>Aluno:</b> Voc√™ precisa expandir a tabela de usu√°rios? <br><br>  <b>Professor:</b> Eu fa√ßo isso porque quero us√°-lo mais tarde como uma chave estrangeira, portanto, esse n√£o √© um motivo importante.  Portanto, estamos quase no ponto em que posso mostrar a prote√ß√£o contra CSRF em a√ß√£o. <br><br>  Para come√ßar, √© muito f√°cil fazer login no sistema.  Bem, o que mais podemos fazer neste momento do programa?  Vamos apenas adicionar aqui outra parte da p√°gina que diz que √© aqui que voc√™ insere o login.  Aqui voc√™ deve inserir o nome de usu√°rio e a senha e clicar no bot√£o de a√ß√£o de envio.  Esta a√ß√£o fornecer√° uma chamada para a fun√ß√£o de login. <br><br><img src="https://habrastorage.org/webt/p1/s6/hs/p1s6hsyomulyl0n0xso9bhy6ubw.jpeg"><br><br>  Vamos definir o login como uma fun√ß√£o que faz essas coisas.  Na verdade, √© apenas um inv√≥lucro que chama a fun√ß√£o de login deste m√≥dulo, na qual pegamos cada um dos componentes e convertemos de uma sequ√™ncia para um tipo abstrato. <br><br><img src="https://habrastorage.org/webt/sd/hn/8_/sdhn8_z1ixaqdhxvthw9xwoygke.jpeg"><br><br>  Ela verifica se h√° um erro de leitura.  O erro significa que, se o login n√£o funcionar, a opera√ß√£o ser√° interrompida neste momento e a fun√ß√£o retornar√° √† parte principal do programa. <br>  Agora podemos fazer login.  Provavelmente, queremos criar uma conta que permita o login, por isso, deixe-me criar um usu√°rio com nome de usu√°rio ae senha a. <br><br><img src="https://habrastorage.org/webt/ik/kq/go/ikkqgobwhfsupe2uzoimf_ek5fe.jpeg"><br><br><img src="https://habrastorage.org/webt/tv/hb/en/tvhbenxm6qxvijq7ifhfap8v-g8.jpeg"><br><br>  Agora eu posso logar como usu√°rio a, aceite minha palavra.  Como temos um conjunto de cookies para registrar essas informa√ß√µes, vamos para a sala de bate-papo e enviar uma mensagem, por exemplo, asfasf.  Voc√™ v√™ que, depois de clicar no bot√£o Adicionar, ele apareceu no bate-papo. <br><br><img src="https://habrastorage.org/webt/-v/l6/6m/-vl66mfy3oektu_serlrv4enir4.jpeg"><br><br>  De fato, n√£o adicionamos nenhum controle de acesso aqui, ent√£o nada de especial acontece aqui.  Mas podemos verificar. <br><br><img src="https://habrastorage.org/webt/co/xw/fa/coxwfac0s4ysqowm6laeuge4xhe.jpeg"><br><br>  Existem cookies aqui, mas o sistema determinou que n√£o usamos cookies.  Quando enviamos este formul√°rio, o cookie n√£o √© leg√≠vel.  Portanto, at√© o momento n√£o h√° necessidade de adicionar prote√ß√£o CSRF aqui.  Portanto, agora precisamos adicionar uma maneira de usar cookies e ver como a prote√ß√£o se manifestar√°. <br><br>  <b>Aluno: o</b> que √© conte√∫do de cookie? <br><br>  <b>Professor:</b> esse √© o conte√∫do que voc√™ espera receber do c√≥digo.  Em outras palavras, o cookie √© declarado como tendo o tipo desse registro - identificador e senha. <br><br><img src="https://habrastorage.org/webt/ao/vi/fc/aovifcoydtayum942uhjpil-ewk.jpeg"><br><br>  Portanto, √© exatamente isso que est√° contido em um determinado formato serializado.  Agora vamos realmente usar cookies.  Dever√≠amos ver isso, apesar de usarmos o cookie indiretamente, porque vamos us√°-lo no m√≥dulo room, que n√£o tem nada a ver com cookies.  Mas chamaremos m√©todos de m√≥dulo personalizado que est√£o indiretamente relacionados ao uso de cookies.  E ent√£o o sistema entender√° que isso significa que somos dependentes dele. <br><br>  Ent√£o, vamos fazer de maneira muito simples e chamar o m√©todo whoami.  Na verdade, eu vou ignor√°-lo, ou vice-versa, deix√°-lo fazer alguma coisa.  Vamos decidir que o usu√°rio que criamos √© realmente especial e apenas esse usu√°rio pode postar qualquer coisa.  Se n√£o for esse o caso, receberemos uma mensagem de erro. <br><br><img src="https://habrastorage.org/webt/g9/6a/sl/g96aslxn7mcopzcmbkqp1a6mv8c.jpeg"><br><br>  Vou adicionar um ID ao m√≥dulo do usu√°rio, e isso deve funcionar, pois o tipo de ID oferece suporte √† verifica√ß√£o de igualdade. <br><br><img src="https://habrastorage.org/webt/z5/ka/ia/z5kaialskkermc7kjbrm37ctp7a.jpeg"><br><br>  Agora tudo deve estar em ordem e podemos fazer mais coisas com esse ID, o que pode causar alguns problemas de seguran√ßa. <br><br><img src="https://habrastorage.org/webt/14/-t/yp/14-typltmad_rnxmo_czeyedvr8.jpeg"><br><br>  Isso nos permite adicionar uma verifica√ß√£o de controle de acesso, ent√£o vamos ver como funciona e retornar √† p√°gina principal. <br><br><img src="https://habrastorage.org/webt/ol/pl/-b/olpl-br8rs9ne6c7yoim_luhdyg.jpeg"><br><br>  Agora, essas quatro letras "a" apareceram no bate-papo. <br><br>  No console da interface, vemos que agora o formul√°rio recebeu automaticamente o nome de entrada oculto sig, que √© a assinatura criptogr√°fica dos valores de todos os cookies.  Este sig assinou cookies usando uma chave que √© secreta para o servidor.  E quando o formul√°rio est√° pronto, o aplicativo sabe - porque o compilador falou sobre isso - que o aplicativo deve verificar as assinaturas para o pr√≥ximo conjunto de opera√ß√µes.  Para isso, temos uma opera√ß√£o say. <br><br><img src="https://habrastorage.org/webt/jq/gu/ij/jqguijif9ny_uoz7nkbtw8jli3e.jpeg"><br><br>  <b>Aluno:</b> as assinaturas t√™m algum tipo de carimbo de data / hora? <br><br>  <b>Professor:</b> n√£o, as assinaturas n√£o possuem registro de data e hora. <br><br>  <b>Aluno:</b> nesse caso, se um invasor conseguir "espionar" esses dados, ele poder√° fingir ser um usu√°rio, porque esses cookies nunca expirar√£o. <br><br>  <b>Professor:</b> sim, nunca expira.  Isso pode ser alterado simplesmente alterando a implementa√ß√£o do idioma sem alterar os aplicativos e implantando-o rapidamente.  Mas agora isso n√£o est√° aqui.  E eu entendo por que isso seria √∫til adicionar. <br><br>  <b>Aluno:</b> voc√™ tamb√©m pode corrigir isso simplesmente colocando um carimbo de data / hora na assinatura. <br><br>  <b>Professor:</b> sim, voc√™ est√° certo, voc√™ pode alterar o aplicativo de forma a alterar intencionalmente os dados do cookie com frequ√™ncia suficiente, ou seja, fazer a assinatura expirar. <br>  <b>Aluno:</b> voc√™ pode reatribuir URLs? <br><br>  <b>Professor:</b> sim, que transfer√™ncia voc√™ gostaria de ver? <br><br>  <b>Aluno:</b> qualquer, s√≥ quero ver como isso √© feito. <br><br>  <b>Professor:</b> Ent√£o, o compilador atribui ... como vemos, chamamos a fun√ß√£o say, e essa chamada de fun√ß√£o √© serializada como uma forma espec√≠fica de URL.  Suponha que n√£o gostemos deste formul√°rio. <br><br><img src="https://habrastorage.org/webt/xb/hs/dx/xbhsdxk5qkrjihios4qdpccye-k.jpeg"><br><br>  Decidimos reescrever a URL, por assim dizer, dentro do m√≥dulo da sala, dentro da demonstra√ß√£o.  Melhor aguentar.  Ent√£o, queremos reatribuir o URL Demo / Room / say para Demo / Room / Speak. <br><br><img src="https://habrastorage.org/webt/d4/is/y7/d4isy713jhdomsgp40du31ot604.jpeg"><br><br>  Iniciamos o compilador e vamos para a tela principal do aplicativo.  Vamos ver o que acontece.  Est√° tudo em ordem, tamb√©m podemos inserir mensagens de texto e elas aparecerem na linha de bate-papo.  Voc√™ pode usar caracteres imprevis√≠veis nessas regras para substituir um prefixo por outro, e o compilador garantir√° que cada fun√ß√£o tenha um esquema de URL separado, mas o URL √© gerado automaticamente por padr√£o. <br><br>  <b>Aluno:</b> voc√™ mencionou que o HTML n√£o √© espec√≠fico do compilador, √© apenas uma biblioteca.  Existem outras bibliotecas para outros formatos? <br><br>  <b>Professor:</b> existem outras bibliotecas que n√£o verificam o tipo com a mesma integridade funcional, mas, por exemplo, h√° uma biblioteca para serializar e desserializar JSON, e um grande n√∫mero de maneiras automatizadas de gerenciar a estrutura de tipos.  Dessa forma, voc√™ pode fazer coisas que n√£o est√£o integradas ao compilador. <br><br>  <b>Aluno:</b> suponha que ainda queremos escrever em JavaScript, por exemplo, para animar algumas coisas na p√°gina ... <br><br>  <b>Professor:</b> deixe-me baixar a vers√£o Ajax disso, que responder√° sua pergunta.  Esta vers√£o possui c√≥digo do lado do cliente.  Vamos seguir para uma vers√£o do programa chamada demo3.  Eu inseri os dados na p√°gina principal na linha de bate-papo, e eles tamb√©m apareceram na parte inferior do bate-papo.  Acredite ou n√£o, desta vez o suplemento funcionou usando uma chamada Ajax.  Isso ocorre devido ao valor do bot√£o da tag do bot√£o.  Possui um atributo onclick, que, quando o usu√°rio clica no bot√£o, todo esse c√≥digo abaixo da linha com esse atributo funciona no lado do cliente. <br><br><img src="https://habrastorage.org/webt/es/pu/me/espumedw6lwlmlwxf_zihskonai.jpeg">  ] <br><br>  Mas esse √© o c√≥digo Ur / Web, n√£o √© o c√≥digo JavaScript.  O compilador traduz isso em JavaScript para voc√™ e garante que ele salve as propriedades que desejamos para abstra√ß√µes em nossa lista, se o usu√°rio n√£o quiser mexer manualmente com ele no navegador. <br><br>  Estudante: Eu acho que hoje existem muitas bibliotecas que fazem coisas √∫teis e, em muitos casos, coisas complexas, se voc√™ quiser recodificar tudo.  Existe alguma maneira de interagir com JavaScript do Ur / Web? <br><br>  <b>Professor:</b> sim, existe uma interface de fun√ß√£o externa que permite atribuir nomes de fun√ß√µes Ur / Web a nomes e chamadas de fun√ß√µes JavaScript.  Mas quando voc√™ usa a interface de uma fun√ß√£o externa, n√£o pode mais usar todas essas fun√ß√µes √∫teis de constru√ß√£o.  Nesse caso, voc√™ precisa ter muito cuidado. <br><br>  Voc√™ deve entender a implementa√ß√£o de algumas dessas abstra√ß√µes para n√£o interferir com elas.  Enquanto eu tiver esse c√≥digo, deixe-me mostrar outra coisa. <br><br>  Ainda temos a mesma fun√ß√£o de dizer como antes.  Mas agora, em vez de cham√°-lo por refer√™ncia, apenas recebemos uma chamada de fun√ß√£o, que √© preenchida com argumentos que v√™m do contexto do manipulador onclick. <br><br><img src="https://habrastorage.org/webt/wt/jr/re/wtjrrewr_9dni8-z5u_aaw5bm_i.jpeg"><br><br>  Simplesmente envolvemos essa fun√ß√£o na sintaxe rpc.  Isso significa que essa √© uma fun√ß√£o de chamada do lado do cliente, mas a chamada em si √© iniciada no servidor com acesso ao banco de dados e outros recursos do servidor e depois transfere o resultado para aqui. <br><br>       ,     ,      JavaScript     . <br>           ,     .   ,        ,     ,       . <br><br><img src="https://habrastorage.org/webt/of/wz/j1/ofwzj1yseezr5sbgdnllh6ddr4i.jpeg"><br><br>  , ,     ,        .  ,      ,  . <br><br>  ,   -     ,     .       GUI     ,       , , ,      . <br><br>           ,     ,    ,   .     ,       DOM.    ,            ,       . <br><br><img src="https://habrastorage.org/webt/rw/dz/hy/rwdzhy-stenvyaaa3wrzvb1bcrq.jpeg"><br><br>     ,        GUI,         ,   ,        ,   . <br><br> ,    ,     . <br><br> <b>:</b> ? <br><br> <b>:</b>   ,      ,     .      ,      -      . <br><br> <b>:</b>       .    ,     ? <br><br><img src="https://habrastorage.org/webt/q1/00/us/q100us_wg7adgt1d53dq-nbxhom.jpeg"><br><br> <b>:</b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a melhor maneira √© fazer com que as pessoas usem essas coisas e relatem bugs. </font><font style="vertical-align: inherit;">Este √© o melhor conselho que posso lhe dar. </font><font style="vertical-align: inherit;">A id√©ia √© que esses compiladores sejam escritos com muito menos frequ√™ncia do que os novos aplicativos. </font><font style="vertical-align: inherit;">Porque ele coleta todos os erros em um s√≥ lugar e tenta elimin√°-los, mesmo que isso n√£o ocorra da maneira mais eficaz. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aluno:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> por que voc√™ escolheu esse nome para o seu idioma - Ur? </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Professor:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ur √© um conceito da lingu√≠stica, o nome da l√≠ngua que √© o ancestral da linguagem moderna. </font><font style="vertical-align: inherit;">E a id√©ia √© que esse idioma permita inserir todos os tipos de outros idiomas dentro dele. </font><font style="vertical-align: inherit;">Portanto, este √© um tipo de progenitor de todas as l√≠nguas.</font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/XMEFdofERLI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A vers√£o completa do curso est√° dispon√≠vel </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br>  Obrigado por ficar conosco.  Voc√™ gosta dos nossos artigos?  Deseja ver materiais mais interessantes?  Ajude-nos fazendo um pedido ou recomendando a seus amigos, um <b>desconto de 30% para os usu√°rios da Habr em um an√°logo exclusivo de servidores b√°sicos que inventamos para voc√™:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Toda a verdade sobre o VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps da US $ 20 ou como dividir o servidor?</a>  (as op√ß√µes est√£o dispon√≠veis com RAID1 e RAID10, at√© 24 n√∫cleos e at√© 40GB DDR4). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD de 1Gbps at√© dezembro de gra√ßa</b> quando pagar por um per√≠odo de seis meses, voc√™ pode fazer o pedido <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><br>  <b>Dell R730xd 2 vezes mais barato?</b>  Somente n√≥s temos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2 TVs Intel Dodeca-Core Xeon E5-2650v4 128GB DDR4 6x480GB SSD 1Gbps 100 a partir de US $ 249</a> na Holanda e nos EUA!</b>  Leia sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como criar um pr√©dio de infraestrutura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">classe usando servidores Dell R730xd E5-2650 v4 custando 9.000 euros por um centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt426001/">https://habr.com/ru/post/pt426001/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt425991/index.html">Como criamos hospedagem</a></li>
<li><a href="../pt425993/index.html">Como preencher a lacuna de g√™nero em tecnologia</a></li>
<li><a href="../pt425995/index.html">Visualize FHIR - o padr√£o de TI para medicina</a></li>
<li><a href="../pt425997/index.html">Curso MIT "Seguran√ßa de sistemas de computadores". Aula 11: Linguagem de Programa√ß√£o Ur / Web, Parte 1</a></li>
<li><a href="../pt425999/index.html">Curso MIT "Seguran√ßa de sistemas de computadores". Aula 11: Linguagem de Programa√ß√£o Ur / Web, Parte 2</a></li>
<li><a href="../pt426009/index.html">A resist√™ncia √©pica √† falha 1 ou a Fox estava passando despercebida. Testando o anonimato e a seguran√ßa + VPN para o usu√°rio</a></li>
<li><a href="../pt426013/index.html">Ester√≥ides da carreira</a></li>
<li><a href="../pt426015/index.html">O uso de drones civis serrados para fotografia a√©rea geod√©sica profissional da √°rea</a></li>
<li><a href="../pt426017/index.html">Como reduzir o n√∫mero de experi√™ncias em animais</a></li>
<li><a href="../pt426019/index.html">Esta√ß√£o meteorol√≥gica no Arduino de A a Z. Parte 5</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>