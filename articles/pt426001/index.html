<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏻‍🤝‍👨🏾 📳 ⚖️ Curso MIT "Segurança de sistemas de computadores". Aula 11: Linguagem de Programação Ur / Web, Parte 3 ⬜️ 👪 🐡</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Instituto de Tecnologia de Massachusetts. Curso de Aula nº 6.858. "Segurança de sistemas de computador". Nikolai Zeldovich, James Mickens. 2014 ano 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Curso MIT "Segurança de sistemas de computadores". Aula 11: Linguagem de Programação Ur / Web, Parte 3</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/426001/"><h3>  Instituto de Tecnologia de Massachusetts.  Curso de Aula nº 6.858.  "Segurança de sistemas de computador".  Nikolai Zeldovich, James Mickens.  2014 ano </h3><br>  Computer Systems Security é um curso sobre o desenvolvimento e implementação de sistemas de computador seguros.  As palestras abrangem modelos de ameaças, ataques que comprometem a segurança e técnicas de segurança baseadas em trabalhos científicos recentes.  Os tópicos incluem segurança do sistema operacional (SO), recursos, gerenciamento de fluxo de informações, segurança de idiomas, protocolos de rede, segurança de hardware e segurança de aplicativos da web. <br><br>  Palestra 1: “Introdução: modelos de ameaças” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 2: “Controle de ataques de hackers” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 3: “Estouros de Buffer: Explorações e Proteção” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 4: “Separação de Privilégios” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 5: “De onde vêm os sistemas de segurança?” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> <br>  Palestra 6: “Oportunidades” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 7: “Sandbox do Cliente Nativo” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 8: “Modelo de Segurança de Rede” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 9: “Segurança de aplicativos da Web” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 10: “Execução Simbólica” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 11: “Linguagem de Programação Ur / Web” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <a name="habracut"></a><br><br>  A última coisa que precisamos fazer e que será muito instrutiva é alterar esse código indicando o módulo da sala lá e, em seguida, tentar acessar a tabela da sala, como no exemplo anterior.  Esta opção não é permitida porque isso não é permitido. <br><br><img src="https://habrastorage.org/webt/lq/cl/1b/lqcl1bhdj-8n1iwdldrcdud9aae.jpeg"><br><br>  Seria como ser capaz de ler e escrever campos de classe privada em Java.  De fato, recebemos uma mensagem bastante simples, basicamente dizendo que temos uma variável não relacionada aqui, uma expressão desconhecida para o parâmetro room. <br><br><img src="https://habrastorage.org/webt/4m/1g/_x/4m1g_xnn66lyaelr9s4uxpco8lg.jpeg"><br><br>  Poderíamos mencionar este módulo complementar, que criamos apenas por diversão. <br><br><img src="https://habrastorage.org/webt/_a/d9/xt/_ad9xtpqlfi614nkm7p7ncnoubg.jpeg"><br><br>  Mas então haverá tabelas diferentes.  Podemos acessá-lo facilmente.  Portanto, vou dividi-lo em duas partes, começaremos simplesmente chamando o método room e, em seguida, faremos algo ligeiramente diferente para ler seus elementos. <br><br><img src="https://habrastorage.org/webt/-v/oo/uw/-voouwvojaigv3v_pwgm8hjwdpo.jpeg"><br><br>  Exibir uma lista de resultados, e não vice-versa, isso é aproximadamente equivalente ao funcionamento do programa antes, exceto pelo uso de vários tipos de dados.  Vamos ver o que vem disso.  Agora voltamos ao nosso bate-papo na sala 1 e inserimos qualquer mensagem na linha.  Você vê que todos eles são exibidos sem erros. <br><br><img src="https://habrastorage.org/webt/o0/he/wy/o0hewytedbbixmmshkq12gybvp4.jpeg"><br><br>  Ou seja, agora temos esse encapsulamento, para que você possa pensar na estrutura dessa sala como uma biblioteca, mas não precisa se preocupar com isso. <br><br>  Existem vários lugares que podem danificar a invariância interna de um sistema.  Talvez você queira que, após a adição da mensagem, ela nunca desapareça.  Tudo isso está nas revistas.  Essa estrutura fornece essas propriedades independentemente de outro código, como aquele em que o módulo da sala de bate-papo está gravado. <br><br>  <b>Aluno:</b> para você alterar a definição da sala, o que aconteceria com a tabela do banco de dados nesse caso? <br><br>  <b>Professor: você</b> precisa executar manualmente o comando alter table para manter os dados antigos.  Mas quando o aplicativo é iniciado, ele consulta o diretório do banco de dados do sistema e verifica se o esquema ainda está conforme o esperado.  Então você receberá um erro estático.  Espero que isso lhe dê uma idéia do que você deve alterar no banco de dados. <br><br>  <b>Aluno:</b> mas não excluirá automaticamente o banco de dados ou algo assim? <br><br>  <b>Professor:</b> Espero que não.  Eu não acho que o compilador deva fazer isso.  Você pode imaginar personalizar o compilador para entender a evolução do banco de dados.  Eu acho que você precisa escrever comandos alter table para iniciar, porque o compilador não faz isso agora. <br><br><img src="https://habrastorage.org/webt/eo/je/bg/eojebgjidagcmajm7estxbmexsc.jpeg"><br><br>  Vamos agora falar sobre a falsificação de solicitações entre sites e sua prevenção.  De fato, antes de fazermos isso, vejamos o código nesta página.  Temos um formulário HTML tradicional que é gerado aqui.  E, é claro, não há proteção contra a falsificação de solicitações entre sites, e acho que é bom.  Porque, pelo que entendi, o problema de falsificar solicitações entre sites é o contexto implícito que o aplicativo envia com cada solicitação. <br><br>  Suponha que exista algum tipo de invasor que não conheça seu contexto implícito.  Digamos que sua senha esteja armazenada em um cookie, para um exemplo muito simples.  E quando o invasor o engana ao clicar no link para o aplicativo que ele precisa, o navegador envia automaticamente um contexto implícito e obriga o aplicativo a fazer o que o invasor não poderia fazer diretamente. <br><br><img src="https://habrastorage.org/webt/le/1b/wt/le1bwtuntlm1h57fs04fo5ddo-e.jpeg"><br><br>  Nesse caso, não há contexto implícito; portanto, não há risco de falsificar solicitações entre sites.  Alguém quer desafiar esse recurso do sistema antes de continuar?  Pode ser muito informativo para mim.  Caso contrário, adicione um contexto implícito aqui.  Nesse caso, o sistema adotará automaticamente as contramedidas corretas, com base na análise do programa, que entende que agora existe um contexto implícito. <br><br>  Agora vou inserir cookies aqui.  Como outro exemplo de encapsulamento de módulo, de fato, colocarei aqui todo um sistema de autenticação de usuário no qual temos contas de usuário e tipos abstratos de identificadores e senhas.  Portanto, você não pode simplesmente criar o valor de qualquer um desses tipos de dados diretamente.  Você terá que passar por algum método aprovado de construção de valores desses tipos. <br><br>  Vou colocar a mesa na assinatura.  E também imporemos uma restrição, dizendo que a chave é o formulário de identificação. <br><br><img src="https://habrastorage.org/webt/ax/ci/7o/axci7otxzeirl84vccpxjnlq7cq.jpeg"><br><br>  Mas o fato é que nessa tabela de usuários, o ID e a senha são tipos de dados abstratos.  Portanto, o código não pode ver a senha e não pode gerar consistentemente todos os identificadores e experimentá-los nesta tabela.  Porque ele usa um tipo abstrato, pelo qual é impossível estabelecer a aparência do ID e é impossível encontrar uma senha.  Eles vêm dessa tabela e são tokens opacos. <br><br>  Mas poderíamos permitir que eles fossem usados ​​como esgoto.  Convém permitir uma direção de conversão entre cadeias e esses tipos.  Agora farei algo aqui, principalmente os detalhes, e não tentarei explicá-los.  Mas isso é como declarar que você tem permissão para converter seqüências de caracteres em ID.  Para aqueles familiarizados com Haskell, essa é uma classe de tipo instantâneo, essa permissão para transformar seqüências de caracteres em IDs. <br><br><img src="https://habrastorage.org/webt/sp/to/jh/sptojh8mtta3h7iybbruu9atirs.jpeg"><br><br>  Não vamos aplicar outra permissão, porque não queremos poder transformar o ID novamente em outra coisa.  Vamos fazer o mesmo pela senha.  Queremos poder ler a senha do usuário, mas não vamos aceitá-la e transformá-la em uma string que nos dirá que o usuário entrou no bate-papo. <br><br>  Assim, outras partes do código poderão aceitar a senha do usuário, convertê-la nesse tipo e transportá-la para o módulo do usuário para verificação.  Mas o que eles não podem fazer é consultar a tabela do usuário e obter todas as senhas em um formulário a partir do qual eles podem extrair sua expressão de texto. <br><br>  Então, podemos ter um método de login que aceite esses dois componentes, ID e senha, e apenas funcione como efeito colateral, o que é realmente declarado no código.  Também precisaremos de uma maneira de descobrir qual usuário está registrado.  Este é o código que executa a transação que cria o ID. <br><br><img src="https://habrastorage.org/webt/8x/na/j8/8xnaj8mitfi-5rqiq7hl-snqq6c.jpeg"><br><br>  O primeiro passo é simplesmente copiar esta definição.  E então vem uma surpresa.  Acontece que os IDs e senhas de usuário são cadeias de caracteres, mas essa circunstância não será divulgada fora do módulo. <br><br><img src="https://habrastorage.org/webt/1k/-l/ny/1k-lnyojw9-zowxahm6pqfkrp20.jpeg"><br><br>  Agora vamos criar cookies.  Cookies são outra coisa incorporada ao idioma.  De fato, eles agem como variáveis ​​globais mutáveis ​​que possuem uma cópia para cada cliente que usa seu aplicativo. <br><br>  Assim, vamos criar um cookie que para cada usuário simplesmente armazene uma cópia dos mesmos dois campos que temos aqui. <br><br><img src="https://habrastorage.org/webt/f2/rw/om/f2rwomhtpjbhtsvvh206wswxtne.jpeg"><br><br>  Esses cookies são privados para este módulo.  Outras partes do código não poderão ler cookies, porque simplesmente não possuem esse campo privado.  Portanto, ninguém poderá ver diretamente o ID e a senha salvos para este usuário.  Mas eles serão salvos ao visualizar várias páginas, como é o caso de cookies comuns. <br><br>  Agora vou inserir a função de login, que iniciará o processo para verificar o banco de dados e descobrir se esse é realmente o par correto de nome de usuário e senha.  Esse processo apenas verifica se podemos encontrar uma linha no banco de dados que contém esse ID do usuário e senha. <br><br>  Se o encontrarmos, então bom, então este é o significado correto.  Vamos apenas salvar isso em cookies.  Usamos um método que altera o valor de um cookie.  E temos que colocar algumas coisas aqui, para simplificar vou dizer que esse cookie não expira.  Não quero executar SSL aqui, por isso direi que neste caso não precisamos de segurança e defina o parâmetro Secure = false. <br><br>  Mas se você realmente se importa com segurança, obviamente escreverá Secure = true.  Se a verificação falhar e o módulo sinalizar um erro, o programa será interrompido, fornecendo uma descrição desse erro. <br><br><img src="https://habrastorage.org/webt/nm/zq/ql/nmzqqlpz1iiuywxpp-ykkxgkbsq.jpeg"><br><br>  Por fim, podemos criar essa função que informa qual usuário específico está logado recebendo o valor atual do cookie.  Este parâmetro também pode ser definido como none se o usuário ainda não tiver efetuado login. Nesse caso, receberemos outra mensagem de erro.  Ou pode ser algum tipo de registro do tipo exato que usamos acima.  Então, basta copiar aqui e executar a mesma verificação.  Se isso funcionar, simplesmente retornamos a parte do registro de ID que acabamos de verificar no banco de dados. <br><br><img src="https://habrastorage.org/webt/go/kt/l1/goktl14i1ghmh09xw1lxmkhuhoc.jpeg"><br><br>  Então deixe-me ver isso.  Iniciamos o compilador e você vê o resultado na tela. <br><br><img src="https://habrastorage.org/webt/41/ce/g7/41ceg7zqyldmdfdq31s7cf7oaum.jpeg"><br><br>  Central para todos esses detalhes de implementação.  Mas fora deste módulo, pensamos sobre isso do ponto de vista da interface.  Existem alguns tipos desconhecidos de IDs e senhas.  Esta tabela de usuário expressa termos que permitem transformar cadeias de caracteres em identificadores e senhas, mas não vice-versa.  Temos esses dois métodos para inserir o login primeiro e há uma verificação de qual usuário está conectado nesse estágio.  Tem perguntas sobre isso? <br><br>  <b>Aluno:</b> Você precisa expandir a tabela de usuários? <br><br>  <b>Professor:</b> Eu faço isso porque quero usá-lo mais tarde como uma chave estrangeira, portanto, esse não é um motivo importante.  Portanto, estamos quase no ponto em que posso mostrar a proteção contra CSRF em ação. <br><br>  Para começar, é muito fácil fazer login no sistema.  Bem, o que mais podemos fazer neste momento do programa?  Vamos apenas adicionar aqui outra parte da página que diz que é aqui que você insere o login.  Aqui você deve inserir o nome de usuário e a senha e clicar no botão de ação de envio.  Esta ação fornecerá uma chamada para a função de login. <br><br><img src="https://habrastorage.org/webt/p1/s6/hs/p1s6hsyomulyl0n0xso9bhy6ubw.jpeg"><br><br>  Vamos definir o login como uma função que faz essas coisas.  Na verdade, é apenas um invólucro que chama a função de login deste módulo, na qual pegamos cada um dos componentes e convertemos de uma sequência para um tipo abstrato. <br><br><img src="https://habrastorage.org/webt/sd/hn/8_/sdhn8_z1ixaqdhxvthw9xwoygke.jpeg"><br><br>  Ela verifica se há um erro de leitura.  O erro significa que, se o login não funcionar, a operação será interrompida neste momento e a função retornará à parte principal do programa. <br>  Agora podemos fazer login.  Provavelmente, queremos criar uma conta que permita o login, por isso, deixe-me criar um usuário com nome de usuário ae senha a. <br><br><img src="https://habrastorage.org/webt/ik/kq/go/ikkqgobwhfsupe2uzoimf_ek5fe.jpeg"><br><br><img src="https://habrastorage.org/webt/tv/hb/en/tvhbenxm6qxvijq7ifhfap8v-g8.jpeg"><br><br>  Agora eu posso logar como usuário a, aceite minha palavra.  Como temos um conjunto de cookies para registrar essas informações, vamos para a sala de bate-papo e enviar uma mensagem, por exemplo, asfasf.  Você vê que, depois de clicar no botão Adicionar, ele apareceu no bate-papo. <br><br><img src="https://habrastorage.org/webt/-v/l6/6m/-vl66mfy3oektu_serlrv4enir4.jpeg"><br><br>  De fato, não adicionamos nenhum controle de acesso aqui, então nada de especial acontece aqui.  Mas podemos verificar. <br><br><img src="https://habrastorage.org/webt/co/xw/fa/coxwfac0s4ysqowm6laeuge4xhe.jpeg"><br><br>  Existem cookies aqui, mas o sistema determinou que não usamos cookies.  Quando enviamos este formulário, o cookie não é legível.  Portanto, até o momento não há necessidade de adicionar proteção CSRF aqui.  Portanto, agora precisamos adicionar uma maneira de usar cookies e ver como a proteção se manifestará. <br><br>  <b>Aluno: o</b> que é conteúdo de cookie? <br><br>  <b>Professor:</b> esse é o conteúdo que você espera receber do código.  Em outras palavras, o cookie é declarado como tendo o tipo desse registro - identificador e senha. <br><br><img src="https://habrastorage.org/webt/ao/vi/fc/aovifcoydtayum942uhjpil-ewk.jpeg"><br><br>  Portanto, é exatamente isso que está contido em um determinado formato serializado.  Agora vamos realmente usar cookies.  Deveríamos ver isso, apesar de usarmos o cookie indiretamente, porque vamos usá-lo no módulo room, que não tem nada a ver com cookies.  Mas chamaremos métodos de módulo personalizado que estão indiretamente relacionados ao uso de cookies.  E então o sistema entenderá que isso significa que somos dependentes dele. <br><br>  Então, vamos fazer de maneira muito simples e chamar o método whoami.  Na verdade, eu vou ignorá-lo, ou vice-versa, deixá-lo fazer alguma coisa.  Vamos decidir que o usuário que criamos é realmente especial e apenas esse usuário pode postar qualquer coisa.  Se não for esse o caso, receberemos uma mensagem de erro. <br><br><img src="https://habrastorage.org/webt/g9/6a/sl/g96aslxn7mcopzcmbkqp1a6mv8c.jpeg"><br><br>  Vou adicionar um ID ao módulo do usuário, e isso deve funcionar, pois o tipo de ID oferece suporte à verificação de igualdade. <br><br><img src="https://habrastorage.org/webt/z5/ka/ia/z5kaialskkermc7kjbrm37ctp7a.jpeg"><br><br>  Agora tudo deve estar em ordem e podemos fazer mais coisas com esse ID, o que pode causar alguns problemas de segurança. <br><br><img src="https://habrastorage.org/webt/14/-t/yp/14-typltmad_rnxmo_czeyedvr8.jpeg"><br><br>  Isso nos permite adicionar uma verificação de controle de acesso, então vamos ver como funciona e retornar à página principal. <br><br><img src="https://habrastorage.org/webt/ol/pl/-b/olpl-br8rs9ne6c7yoim_luhdyg.jpeg"><br><br>  Agora, essas quatro letras "a" apareceram no bate-papo. <br><br>  No console da interface, vemos que agora o formulário recebeu automaticamente o nome de entrada oculto sig, que é a assinatura criptográfica dos valores de todos os cookies.  Este sig assinou cookies usando uma chave que é secreta para o servidor.  E quando o formulário está pronto, o aplicativo sabe - porque o compilador falou sobre isso - que o aplicativo deve verificar as assinaturas para o próximo conjunto de operações.  Para isso, temos uma operação say. <br><br><img src="https://habrastorage.org/webt/jq/gu/ij/jqguijif9ny_uoz7nkbtw8jli3e.jpeg"><br><br>  <b>Aluno:</b> as assinaturas têm algum tipo de carimbo de data / hora? <br><br>  <b>Professor:</b> não, as assinaturas não possuem registro de data e hora. <br><br>  <b>Aluno:</b> nesse caso, se um invasor conseguir "espionar" esses dados, ele poderá fingir ser um usuário, porque esses cookies nunca expirarão. <br><br>  <b>Professor:</b> sim, nunca expira.  Isso pode ser alterado simplesmente alterando a implementação do idioma sem alterar os aplicativos e implantando-o rapidamente.  Mas agora isso não está aqui.  E eu entendo por que isso seria útil adicionar. <br><br>  <b>Aluno:</b> você também pode corrigir isso simplesmente colocando um carimbo de data / hora na assinatura. <br><br>  <b>Professor:</b> sim, você está certo, você pode alterar o aplicativo de forma a alterar intencionalmente os dados do cookie com frequência suficiente, ou seja, fazer a assinatura expirar. <br>  <b>Aluno:</b> você pode reatribuir URLs? <br><br>  <b>Professor:</b> sim, que transferência você gostaria de ver? <br><br>  <b>Aluno:</b> qualquer, só quero ver como isso é feito. <br><br>  <b>Professor:</b> Então, o compilador atribui ... como vemos, chamamos a função say, e essa chamada de função é serializada como uma forma específica de URL.  Suponha que não gostemos deste formulário. <br><br><img src="https://habrastorage.org/webt/xb/hs/dx/xbhsdxk5qkrjihios4qdpccye-k.jpeg"><br><br>  Decidimos reescrever a URL, por assim dizer, dentro do módulo da sala, dentro da demonstração.  Melhor aguentar.  Então, queremos reatribuir o URL Demo / Room / say para Demo / Room / Speak. <br><br><img src="https://habrastorage.org/webt/d4/is/y7/d4isy713jhdomsgp40du31ot604.jpeg"><br><br>  Iniciamos o compilador e vamos para a tela principal do aplicativo.  Vamos ver o que acontece.  Está tudo em ordem, também podemos inserir mensagens de texto e elas aparecerem na linha de bate-papo.  Você pode usar caracteres imprevisíveis nessas regras para substituir um prefixo por outro, e o compilador garantirá que cada função tenha um esquema de URL separado, mas o URL é gerado automaticamente por padrão. <br><br>  <b>Aluno:</b> você mencionou que o HTML não é específico do compilador, é apenas uma biblioteca.  Existem outras bibliotecas para outros formatos? <br><br>  <b>Professor:</b> existem outras bibliotecas que não verificam o tipo com a mesma integridade funcional, mas, por exemplo, há uma biblioteca para serializar e desserializar JSON, e um grande número de maneiras automatizadas de gerenciar a estrutura de tipos.  Dessa forma, você pode fazer coisas que não estão integradas ao compilador. <br><br>  <b>Aluno:</b> suponha que ainda queremos escrever em JavaScript, por exemplo, para animar algumas coisas na página ... <br><br>  <b>Professor:</b> deixe-me baixar a versão Ajax disso, que responderá sua pergunta.  Esta versão possui código do lado do cliente.  Vamos seguir para uma versão do programa chamada demo3.  Eu inseri os dados na página principal na linha de bate-papo, e eles também apareceram na parte inferior do bate-papo.  Acredite ou não, desta vez o suplemento funcionou usando uma chamada Ajax.  Isso ocorre devido ao valor do botão da tag do botão.  Possui um atributo onclick, que, quando o usuário clica no botão, todo esse código abaixo da linha com esse atributo funciona no lado do cliente. <br><br><img src="https://habrastorage.org/webt/es/pu/me/espumedw6lwlmlwxf_zihskonai.jpeg">  ] <br><br>  Mas esse é o código Ur / Web, não é o código JavaScript.  O compilador traduz isso em JavaScript para você e garante que ele salve as propriedades que desejamos para abstrações em nossa lista, se o usuário não quiser mexer manualmente com ele no navegador. <br><br>  Estudante: Eu acho que hoje existem muitas bibliotecas que fazem coisas úteis e, em muitos casos, coisas complexas, se você quiser recodificar tudo.  Existe alguma maneira de interagir com JavaScript do Ur / Web? <br><br>  <b>Professor:</b> sim, existe uma interface de função externa que permite atribuir nomes de funções Ur / Web a nomes e chamadas de funções JavaScript.  Mas quando você usa a interface de uma função externa, não pode mais usar todas essas funções úteis de construção.  Nesse caso, você precisa ter muito cuidado. <br><br>  Você deve entender a implementação de algumas dessas abstrações para não interferir com elas.  Enquanto eu tiver esse código, deixe-me mostrar outra coisa. <br><br>  Ainda temos a mesma função de dizer como antes.  Mas agora, em vez de chamá-lo por referência, apenas recebemos uma chamada de função, que é preenchida com argumentos que vêm do contexto do manipulador onclick. <br><br><img src="https://habrastorage.org/webt/wt/jr/re/wtjrrewr_9dni8-z5u_aaw5bm_i.jpeg"><br><br>  Simplesmente envolvemos essa função na sintaxe rpc.  Isso significa que essa é uma função de chamada do lado do cliente, mas a chamada em si é iniciada no servidor com acesso ao banco de dados e outros recursos do servidor e depois transfere o resultado para aqui. <br><br>       ,     ,      JavaScript     . <br>           ,     .   ,        ,     ,       . <br><br><img src="https://habrastorage.org/webt/of/wz/j1/ofwzj1yseezr5sbgdnllh6ddr4i.jpeg"><br><br>  , ,     ,        .  ,      ,  . <br><br>  ,   -     ,     .       GUI     ,       , , ,      . <br><br>           ,     ,    ,   .     ,       DOM.    ,            ,       . <br><br><img src="https://habrastorage.org/webt/rw/dz/hy/rwdzhy-stenvyaaa3wrzvb1bcrq.jpeg"><br><br>     ,        GUI,         ,   ,        ,   . <br><br> ,    ,     . <br><br> <b>:</b> ? <br><br> <b>:</b>   ,      ,     .      ,      -      . <br><br> <b>:</b>       .    ,     ? <br><br><img src="https://habrastorage.org/webt/q1/00/us/q100us_wg7adgt1d53dq-nbxhom.jpeg"><br><br> <b>:</b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a melhor maneira é fazer com que as pessoas usem essas coisas e relatem bugs. </font><font style="vertical-align: inherit;">Este é o melhor conselho que posso lhe dar. </font><font style="vertical-align: inherit;">A idéia é que esses compiladores sejam escritos com muito menos frequência do que os novos aplicativos. </font><font style="vertical-align: inherit;">Porque ele coleta todos os erros em um só lugar e tenta eliminá-los, mesmo que isso não ocorra da maneira mais eficaz. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aluno:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> por que você escolheu esse nome para o seu idioma - Ur? </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Professor:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ur é um conceito da linguística, o nome da língua que é o ancestral da linguagem moderna. </font><font style="vertical-align: inherit;">E a idéia é que esse idioma permita inserir todos os tipos de outros idiomas dentro dele. </font><font style="vertical-align: inherit;">Portanto, este é um tipo de progenitor de todas as línguas.</font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/XMEFdofERLI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A versão completa do curso está disponível </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br>  Obrigado por ficar conosco.  Você gosta dos nossos artigos?  Deseja ver materiais mais interessantes?  Ajude-nos fazendo um pedido ou recomendando a seus amigos, um <b>desconto de 30% para os usuários da Habr em um análogo exclusivo de servidores básicos que inventamos para você:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Toda a verdade sobre o VPS (KVM) E5-2650 v4 (6 núcleos) 10GB DDR4 240GB SSD 1Gbps da US $ 20 ou como dividir o servidor?</a>  (as opções estão disponíveis com RAID1 e RAID10, até 24 núcleos e até 40GB DDR4). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 núcleos) 10GB DDR4 240GB SSD de 1Gbps até dezembro de graça</b> quando pagar por um período de seis meses, você pode fazer o pedido <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><br>  <b>Dell R730xd 2 vezes mais barato?</b>  Somente nós temos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2 TVs Intel Dodeca-Core Xeon E5-2650v4 128GB DDR4 6x480GB SSD 1Gbps 100 a partir de US $ 249</a> na Holanda e nos EUA!</b>  Leia sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como criar um prédio de infraestrutura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">classe usando servidores Dell R730xd E5-2650 v4 custando 9.000 euros por um centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt426001/">https://habr.com/ru/post/pt426001/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt425991/index.html">Como criamos hospedagem</a></li>
<li><a href="../pt425993/index.html">Como preencher a lacuna de gênero em tecnologia</a></li>
<li><a href="../pt425995/index.html">Visualize FHIR - o padrão de TI para medicina</a></li>
<li><a href="../pt425997/index.html">Curso MIT "Segurança de sistemas de computadores". Aula 11: Linguagem de Programação Ur / Web, Parte 1</a></li>
<li><a href="../pt425999/index.html">Curso MIT "Segurança de sistemas de computadores". Aula 11: Linguagem de Programação Ur / Web, Parte 2</a></li>
<li><a href="../pt426009/index.html">A resistência épica à falha 1 ou a Fox estava passando despercebida. Testando o anonimato e a segurança + VPN para o usuário</a></li>
<li><a href="../pt426013/index.html">Esteróides da carreira</a></li>
<li><a href="../pt426015/index.html">O uso de drones civis serrados para fotografia aérea geodésica profissional da área</a></li>
<li><a href="../pt426017/index.html">Como reduzir o número de experiências em animais</a></li>
<li><a href="../pt426019/index.html">Estação meteorológica no Arduino de A a Z. Parte 5</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>