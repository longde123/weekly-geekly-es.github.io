<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôÇ üèâ üÖøÔ∏è Hacemos autenticaci√≥n web a trav√©s de blockchain üëò üê∞ üòä</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recientemente particip√© en el hackathon Ethereum, y hoy quiero hablar sobre el proyecto EtherAuth, con el cual el equipo MixBytes tom√≥ el tercer lugar...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Hacemos autenticaci√≥n web a trav√©s de blockchain</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/423039/"><p><img src="https://habrastorage.org/webt/0f/l6/qv/0fl6qv7pesmgkex2kvefrj6cw0s.jpeg"></p><br><p>  Recientemente particip√© en el hackathon Ethereum, y hoy quiero hablar sobre el proyecto EtherAuth, con el cual el equipo MixBytes tom√≥ el tercer lugar.  EtherAuth es un intento de hacer una versi√≥n descentralizada del inicio de sesi√≥n del sitio utilizando una cuenta externa.  Como bot√≥n, inicie sesi√≥n a trav√©s de Facebook, solo sin Facebook. </p><a name="habracut"></a><br><h1 id="problema-i-puti-resheniya">  Problema y soluciones </h1><br><p>  Si desea crear un √°rea cerrada para los usuarios en su sitio web, debe elegir: desarrollar su propio sistema para identificar, autenticar y autorizar a los usuarios, o utilizar una soluci√≥n preparada.  Una soluci√≥n llave en mano significa que su usuario ya tiene una cuenta en alg√∫n sistema (Facebook, Google, Yahoo, Outlook o incluso solo correo electr√≥nico).  Y utiliza el mecanismo apropiado (con mayor frecuencia el protocolo OAuth 2.0) para asegurarse de que alguien que intente iniciar sesi√≥n en su sitio utilizando una ID de usuario externa sea este usuario. </p><br><p>  La √∫ltima opci√≥n es m√°s f√°cil de implementar, pero existe un riesgo para el usuario: si algo le sucede a su cuenta principal (por ejemplo, Facebook bloquear√° la cuenta sin dar razones), tambi√©n perder√° el acceso a su informaci√≥n en su sitio. <br>  Adem√°s, si como usuario quiero iniciar sesi√≥n en un sitio en el que todav√≠a no conf√≠o, me enfrento a la necesidad de proporcionar a este sitio acceso a mi informaci√≥n personal, como el correo electr√≥nico o la edad.  Si el sitio solo admite el inicio de sesi√≥n con una cuenta externa, literalmente debo tomar una decisi√≥n: negarme a usar el sitio o sacrificar mi anonimato. </p><br><p>  La mayor√≠a de los usuarios terminan sacrificando el anonimato con las palabras "entonces, qu√© terrible puede suceder, no tengo nada que ocultar".  Desafortunadamente, la mayor√≠a de los ataques dirigidos a un usuario no preparado y que terminan en p√©rdida de dinero comienzan con palabras similares.  "¬øQu√© terrible puede pasar si env√≠o un c√≥digo de SMS a un empleado del banco?"  "¬øQu√© cosa terrible puede suceder si le env√≠o a un empleado de soporte t√©cnico los encabezados de solicitud?"  La respuesta a esta pregunta se encuentra con mayor frecuencia cuando no se puede hacer nada. </p><br><p>  ¬øC√≥mo puede ayudar Ethereum aqu√≠?  Ya nos dimos cuenta de que hay tres problemas principales: </p><br><ol><li>  El usuario no est√° obligado a confiar en el sitio que visita y quiere evitar la filtraci√≥n de informaci√≥n personal. </li><li>  El sitio quiere usar un sistema de autenticaci√≥n externo para evitar almacenar datos de usuario y los costos de seguridad asociados. </li><li>  Los sistemas externos existentes que brindan a los sitios la capacidad de autenticar a los usuarios conllevan el peligro de la censura.  Cualquier cuenta puede bloquearse en cualquier momento sin explicaci√≥n y, a veces, sin posibilidad de recuperaci√≥n. </li></ol><br><p>  Podemos usar la red Ethereum en lugar de un sistema externo y almacenar solo el conjunto de datos necesarios en ella.  Debemos tener cuidado de no almacenar informaci√≥n secreta en el dominio p√∫blico, pero dado que cualquier billetera en la red Ethereum es en realidad un par de claves criptogr√°ficamente fuertes, en las que la clave p√∫blica determina la direcci√≥n de la billetera, y la clave privada nunca se transmite a trav√©s de la red y es conocida solo por el propietario, Podemos utilizar cifrado asim√©trico para autenticar a los usuarios. </p><br><p>  En el caso m√°s simple, puede usar la direcci√≥n de la billetera Ethereum como ID de usuario.  Pero aqu√≠ surge un problema: en caso de una fuga de clave, el usuario pierde el acceso al sistema para siempre.  M√°s precisamente, desde el momento en que el atacante conoce la clave secreta del usuario o simplemente cae accidentalmente en el acceso p√∫blico, no podemos usar dicha clave para la autenticaci√≥n. </p><br><h1 id="realizaciya">  Implementaci√≥n </h1><br><p>  En nuestra soluci√≥n, escrib√≠ un simple contrato inteligente EtherAuth para almacenar ID de usuario y direcciones de billetera asociadas.  El ID de usuario es solo una cadena UTF-8 con un tama√±o de entre 2 y 32 bytes.  Es inventado una vez por el propio usuario y luego se utiliza para iniciar sesi√≥n en cualquier sitio que admita EtherAuth.  Hoy agregar√≠a una restricci√≥n sobre los posibles caracteres incluidos en la cadena, dejando la posibilidad de usar caracteres latinos y n√∫meros ar√°bigos (subconjuntos de codificaci√≥n ASCII de 7 bits) para limitar la capacidad de crear inicios de sesi√≥n externos similares. </p><br><p>  Al crear una cuenta en EtherAuth, se configura un par de claves: una clave de autorizaci√≥n (authAddr) y una clave para restaurar el acceso (recoveryKey).  El nombre recoveryKey no es del todo exitoso, porque esta direcci√≥n se usa para administrar la cuenta, y no solo para la recuperaci√≥n.  Al crear, ambas direcciones son iguales a la direcci√≥n de la billetera en nombre de la cual se envi√≥ la transacci√≥n.  Pero un usuario que se preocupa por su seguridad debe crear una clave de control separada y almacenarla en un lugar inaccesible a trav√©s de la red.  Incluso lo guardar√≠a en papel en una caja fuerte en forma de 12 palabras mnemot√©cnicas, permitiendo, si es necesario, recrear un par de claves. </p><br><p>  Tambi√©n es aconsejable utilizar una direcci√≥n de billetera separada para la autenticaci√≥n, separ√°ndola de la direcci√≥n de billetera en la que se almacena todo su Ether.  La relaci√≥n de authKey con la direcci√≥n de la billetera que cre√≥ la cuenta todav√≠a se puede rastrear analizando la secuencia de transacci√≥n del contrato inteligente.  Ahora no puede establecer una authKey y recoveryKey por separado al crear una cuenta.  Sin embargo, si refina el contrato inteligente en esta direcci√≥n, la direcci√≥n que cre√≥ la cuenta no estar√° necesariamente asociada con el propietario de la cuenta, lo que permitir√° a todos proteger su anonimato. </p><br><p>  Para la interacci√≥n del usuario con el contrato inteligente, creamos una p√°gina web separada.  Puede crear una cuenta en √©l, cambiar sus claves o eliminarlo.  Para trabajar, el usuario deber√° instalar el complemento del navegador MetaMask.  Si ya est√° utilizando activamente la red Ethereum, lo m√°s probable es que ya haya instalado este complemento, es decir, la mayor√≠a de los usuarios que desean ingresar al sitio a trav√©s de Ethereum no encontrar√°n un obst√°culo adicional en su camino. </p><br><p>  El proceso de autenticaci√≥n de usuario general que usa EtherAuth se ve as√≠: </p><br><ul><li>  El sitio (backend) se convierte en un contrato inteligente y recibe la direcci√≥n Ethereum del usuario; </li><li>  El sitio (backend) genera y recuerda algunos mensajes y le pide al usuario que firme este mensaje usando la direcci√≥n authKey; </li><li>  El usuario, estando en el sitio (frontend), firma el mensaje utilizando el complemento MetaMask y lo env√≠a al backend; </li><li>  El sitio (backend) verifica la firma, y ‚Äã‚Äãsi todo est√° en orden, activa la sesi√≥n del usuario de acuerdo con la l√≥gica elegida. </li></ul><br><p>  En nuestra soluci√≥n para el hackathon, por simplicidad, combinamos las partes de backend y frontend, obtuvimos una gran interfaz.  En la vida real, es importante que la verificaci√≥n de autenticaci√≥n se realice en un entorno no controlado por el usuario, es decir, no en el navegador, sino en el servidor. </p><br><p>  De los problemas que encontramos, podemos observar la verificaci√≥n de la firma en la parte frontend.  No hab√≠a soporte para las curvas el√≠pticas en el navegador, por lo que tuve que agregar una funci√≥n al contrato inteligente que devuelve el resultado encubierto del mensaje y aprender a pasar par√°metros correctamente (obtenerlos de un mensaje firmado por MetaMask). </p><br><p>  Como resultado, en dos d√≠as recibimos una prueba de concepto de autenticaci√≥n descentralizada utilizando la red Ethereum y el complemento MetaMask.  Entendemos c√≥mo refinar este sistema para agregar anonimato al usuario.  El usuario puede restaurar el acceso en caso de una fuga de su clave principal (pero no en el caso de una fuga de la clave de recuperaci√≥n).  Un sistema descentralizado no est√° sujeto a la censura de grandes estructuras como Google o Facebook.  Si la censura es necesaria, el sitio debe llevarla a cabo por s√≠ solo, pero solo puede hacerlo dentro de su propio sistema, sin afectar el acceso del usuario a otros sistemas.  La red Ethereum no realiza transacciones muy r√°pidamente (al crear una cuenta, el usuario puede tener que esperar unos minutos), pero es posible obtener datos y verificar la autenticaci√≥n del usuario muy r√°pidamente.  Esta soluci√≥n escala bien, ya que hay muchos nodos con datos, y cualquiera puede agregar uno m√°s en cualquier momento.  La complejidad de implementar dicha soluci√≥n para los propietarios de sitios no es mayor que la complejidad de implementar el soporte para OAuth 2.0. </p><br><h1 id="zaklyuchenie">  Conclusi√≥n </h1><br><p>  Por supuesto, hoy en d√≠a los usuarios que usan la red Ethereum son insignificantes en comparaci√≥n con la cantidad de usuarios de Facebook.  Sin embargo, la popularidad de las tecnolog√≠as blockchain est√° creciendo, y creo que en el futuro previsible habr√° cada vez m√°s usuarios, lo que significa que ser√° posible utilizar la autenticaci√≥n descentralizada en los sistemas industriales. </p><br><h1 id="ssylki">  Referencias </h1><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥digo fuente</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es423039/">https://habr.com/ru/post/es423039/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es423025/index.html">¬øC√≥mo puede un programa de efectivo ahorrar en an√°lisis?</a></li>
<li><a href="../es423027/index.html">Transceptor √≥ptico FTDI-POF</a></li>
<li><a href="../es423029/index.html">Club Club Report 2018, Cap√≠tulo 3.2: ‚ÄúAlternativas de desarrollo‚Äù</a></li>
<li><a href="../es423033/index.html">Hablan demasiado sobre CRM: lidiar con los chismes</a></li>
<li><a href="../es423035/index.html">El campo de carga de archivos que merecemos</a></li>
<li><a href="../es423041/index.html">Bizarre Story Super NES CD-ROM</a></li>
<li><a href="../es423043/index.html">Debido a una vulnerabilidad en el sistema de protecci√≥n del veh√≠culo el√©ctrico Tesla, un autom√≥vil puede ser robado en unos segundos</a></li>
<li><a href="../es423045/index.html">¬øQu√© impresora 3D elegir? Revisi√≥n de video de 3Dtool</a></li>
<li><a href="../es423047/index.html">Reservamos sistemas inform√°ticos por dinero razonable</a></li>
<li><a href="../es423049/index.html">Procesos de aprendizaje en Linux</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>