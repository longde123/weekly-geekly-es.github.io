<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>โ ๐ญ ๐ ููููุฉ ููุน ุชุฌุงูุฒ ุงูุฐุงูุฑุฉ ุนูุฏ ุงุณุชุฎุฏุงู ูุฌููุนุงุช Java ๐ ๐๏ธ ๐ซ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฑุญุจุง ุจุงูุฌููุน! 

 ุชุฌุฑุจุชูุง ูุน ุงูุฎุทูุงุช ูู ุฏูุฑุฉ Java Developer ูุณุชูุฑุฉ ุ ููู ุงูุบุฑูุจ ุ ุญุชู ุจูุฌุงุญ ุชุงู (ููุนูุง ูุง): ููุง ุงุชุถุญ ุ ูุฅู ุงูุชุฎุทูุท ููุฑุงูุนุฉ ุงููุงููุฉ ูุจุถ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ููููุฉ ููุน ุชุฌุงูุฒ ุงูุฐุงูุฑุฉ ุนูุฏ ุงุณุชุฎุฏุงู ูุฌููุนุงุช Java</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/420245/" style=";text-align:right;direction:rtl"> ูุฑุญุจุง ุจุงูุฌููุน! <br><br>  ุชุฌุฑุจุชูุง ูุน ุงูุฎุทูุงุช ูู ุฏูุฑุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Java Developer</a> ูุณุชูุฑุฉ ุ ููู ุงูุบุฑูุจ ุ ุญุชู ุจูุฌุงุญ ุชุงู (ููุนูุง ูุง): ููุง ุงุชุถุญ ุ ูุฅู ุงูุชุฎุทูุท ููุฑุงูุนุฉ ุงููุงููุฉ ูุจุถุนุฉ ุฃุดูุฑ ูุน ุงูุงูุชูุงู ุงูุชุงูู ุฅูู ุฎุทูุฉ ุฌุฏูุฏุฉ ูู ุฃู ููุช ููุงุณุจ ูู ุฃูุซุฑ ููุงุกูุฉ ููุง ูู ุฎุตุต ูุง ููุฑุจ ูู ุณุชุฉ ุฃุดูุฑ ููุฐู ุงูุฏูุฑุฉ ุงูุตุนุจุฉ.  ูุฐูู ููุงู ุดู ูู ุฃู ุงูุฏูุฑุงุช ุงููุนูุฏุฉ ูู ุจุงูุถุจุท ูุง ุณูุจุฏุฃ ูู ูููู ุจุจุทุก ุฅูู ูุซู ูุฐุง ุงููุธุงู. <br><br>  ูููู ุฃูุง ุนููุง ุ ุนู ุฃูุชุณููุณูู ุ ุฃูุง ุขุณู.  ููุง ูู ุงูุญุงู ุฏุงุฆููุง ุ ููุงุตู ุฏุฑุงุณุฉ ููุงุถูุน ูุซูุฑุฉ ููุงูุชูุงู ุ ุนูู ุงูุฑุบู ูู ุฃููุง ูู ูุชู ุชูุงูููุง ูู ุจุฑูุงูุฌูุง ุ ูููู ุชูุช ููุงูุดุชูุง ูุนูุง ุ ูุฐูู ูููุง ุจุฅุนุฏุงุฏ ุชุฑุฌูุฉ ููููุงู ุงูุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู ูู ุฑุฃููุง ุญูู ุฃุญุฏ ุงูุฃุณุฆูุฉ ุงูุชู ุทุฑุญูุง ูุฏุฑุณููุง. <br><br>  ุฏุนูุง ูุฐูุจ! <br><br><img src="https://habrastorage.org/webt/gg/pb/_w/ggpb_wvr4ihy5kk_wj9wm0awrea.png"><a name="habracut"></a><br><br>  ุงููุฌููุนุงุช ูู JDK ูู ุชุทุจููุงุช ุงูููุชุจุฉ ุงูููุงุณูุฉ ููููุงุฆู ูุงูุฎุฑุงุฆุท.  ุฅุฐุง ูุธุฑุช ุฅูู ููุทุฉ ูู ุชุทุจูู Java ูุจูุฑ ูููุฐุฌู ุ ูุณุชุฑู ุงูุขูุงู ุฃู ุญุชู ุงูููุงููู ูู ุญุงูุงุช <code>java.util.ArrayList</code> ู <code>java.util.HashMap</code> ููุง ุฅูู ุฐูู. ุงููุฌููุนุงุช ูุง ุบูู ุนููุง ูุชุฎุฒูู ุงูุจูุงูุงุช ููุนุงูุฌุชูุง.  ูููู ูู ููุฑุช ููููุง ูู ูุง ุฅุฐุง ูุงูุช ุฌููุน ุงููุฌููุนุงุช ูู ุชุทุจููู ุชุณุชุฎุฏู ุงูุฐุงูุฑุฉ ุนูู ุงููุญู ุงูุฃูุซูุ  ุจูุนูู ุขุฎุฑ ุ ุฅุฐุง ุชุนุทู ุชุทุจููู ูุน <code>OutOfMemoryError</code> ุงููุฎุฒู ุฃู ุชุณุจุจ ูู ุชูููุงุช ุทูููุฉ ูู ุฌุงูุน ุงูุจูุงูุงุช ุงูููููุฉ ุ ูู ุฑุงุฌุนุช ุงููุฌููุนุงุช ุงููุณุชุฎุฏูุฉ ูู ุงูุชุณุฑูุจุงุช. <br><br>  ุฃููุงู ุ ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃู ูุฌููุนุงุช JDK ุงูุฏุงุฎููุฉ ููุณุช ููุนูุง ูู ุงูุณุญุฑ.  ุฅููุง ููุชูุจุฉ ุจูุบุฉ ุฌุงูุง.  ูุฃุชู ููุฏ ุงููุตุฏุฑ ุงูุฎุงุต ุจูู ูุน JDK ุ ุจุญูุซ ููููู ูุชุญู ูู IDE ุงูุฎุงุต ุจู.  ูููู ุฃูุถูุง ุงูุนุซูุฑ ุนูู ุฑูุฒูู ุจุณูููุฉ ุนูู ุงูุฅูุชุฑูุช.  ูููุง ุงุชุถุญ ุ ูุฅู ูุนุธู ุงููุฌููุนุงุช ููุณุช ุฃูููุฉ ููุบุงูุฉ ูู ุญูุซ ุชุญุณูู ุญุฌู ุงูุฐุงูุฑุฉ ุงููุณุชูููุฉ. <br><br>  ุฎุฐ ุจุนูู ุงูุงุนุชุจุงุฑ ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุงุญุฏุฉ ูู ุฃุจุณุท ุงููุฌููุนุงุช ูุฃูุซุฑูุง ุดุนุจูุฉ - ูุฆุฉ <code>java.util.ArrayList</code> .  ุฏุงุฎูููุง ุ ุชุนูู ูู <code>ArrayList</code> ูุน ูุตูููุฉ ูู <code>Object[] elementData</code> .  ูุฐุง ูู ุงูููุงู ุงูุฐู ูุชู ููู ุชุฎุฒูู ุนูุงุตุฑ ุงููุงุฆูุฉ.  ุฏุนููุง ูุฑู ููู ุชุชู ูุนุงูุฌุฉ ูุฐุง ุงูุตููู. <br><br>  ุนูุฏ ุฅูุดุงุก <code>ArrayList</code> ุจุงุณุชุฎุฏุงู ุงููููุดุฆ ุงูุงูุชุฑุงุถู ุ ุฃู ุงุณุชุฏุนุงุก <code>new ArrayList()</code> ุ ุชุดูุฑ <code>elementData</code> ุฅูู ูุตูููุฉ ุนุงูุฉ ุฐุงุช ุญุฌู ุตูุฑู (ูููู ุฃูุถูุง ุชุนููู <code>elementData</code> ุนูู ูููุฉ <code>null</code> ุ ูููู ุงูุตููู ูููุฑ ุจุนุถ ูุฒุงูุง ุงูุชูููุฐ ุงูุซุงูููุฉ).  ุนูุฏ ุฅุถุงูุฉ ุงูุนูุตุฑ ุงูุฃูู ุฅูู ุงููุงุฆูุฉ ุ <code>elementData</code> ูุตูููุฉ ูุฑูุฏุฉ ุญููููุฉ ูู <code>elementData</code> ุ ููุชู ุฅุฏุฑุงุฌ ุงููุงุฆู ุงููุชููุฑ ููู.  ูุชุฌูุจ ุชุบููุฑ ุญุฌู ุงููุตูููุฉ ูู ูู ูุฑุฉ ุ ุนูุฏ ุฅุถุงูุฉ ุนูุตุฑ ุฌุฏูุฏ ุ ูุชู ุฅูุดุงุคู ุจุทูู ูุณุงูู 10 ("ุงูุณุนุฉ ุงูุงูุชุฑุงุถูุฉ").  ูุฐูู ุงุชุถุญ: ุฅุฐุง ูู ุชุนุฏ ุชุถูู ุนูุงุตุฑ ุฅูู <code>ArrayList</code> ุ <code>elementData</code> 9 ูู ุฃุตู 10 ูุชุญุงุช ูู ุตููู <code>elementData</code> ูุงุฑุบุฉ.  ูุญุชู ุฅุฐุง ููุช ุจูุณุญ ุงููุงุฆูุฉ ุ ููู ูุชู ุชูููู ุญุฌู ุงูุตููู ุงูุฏุงุฎูู.  ูููุง ููู ุฑุณู ุชุฎุทูุทู ูุฏูุฑุฉ ุงูุญูุงุฉ ูุฐู: <br><br><img src="https://habrastorage.org/webt/mu/3n/hd/mu3nhdbrmajrdvphqi1kyj6nhii.png"><br><br>  ูุง ููุฏุงุฑ ุงูุฐุงูุฑุฉ ุงูุถุงุฆุนุฉ ููุงุ  ุจุงููููุฉ ุงููุทููุฉ ุ ูุชู ุญุณุงุจูุง ุนูู ุฃููุง (ุญุฌู ูุคุดุฑ ุงููุงุฆู).  ุฅุฐุง ููุช ุชุณุชุฎุฏู JVM HotSpot (ุงูุฐู ูุฃุชู ูุน Oracle JDK) ุ ูุฅู ุญุฌู ุงููุคุดุฑ ุณูุนุชูุฏ ุนูู ุงูุญุฏ ุงูุฃูุตู ูุญุฌู ุงููููุฉ (ููุฒูุฏ ูู ุงูุชูุงุตูู ุ ุฑุงุฌุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://blog.codecentric.de/en/2014/02/35gb-heap-less- 32GB-java-jvm-memory-oddities /</a> ).  ุนุงุฏุฉู ุ ุฅุฐุง ุญุฏุฏุช <code>-Xmx</code> ุฃูู ูู 32 ุฌูุฌุง ุจุงูุช ุ ูุณูููู ุญุฌู ุงููุคุดุฑ 4 ุจุงูุช ุ  ูุฃููุงู ูุจูุฑุฉ - 8 ุจุงูุช.  ูุจุงูุชุงูู ุ ูุฅู <code>ArrayList</code> ุ ุงูุฐู ุชูุช ุชููุฆุชู ุจูุงุณุทุฉ ุงููููุดุฆ ุงูุงูุชุฑุงุถู ุ ูุน ุฅุถุงูุฉ ุนูุตุฑ ูุงุญุฏ ููุท ุ ููุฏุฑ ุฅูุง 36 ุฃู 72 ุจุงูุช. <br><br>  ูู ุงููุงูุน ุ ูุฅู <code>ArrayList</code> ุงููุงุฑุบ ููุฏุฑ ุงูุฐุงูุฑุฉ ุฃูุถูุง ูุฃูู ูุง ูุญูู ุฃู ุนุจุก ุนูู ุ ูููู ุญุฌู <code>ArrayList</code> ููุณู ููุณ ุตูุฑุงู ูุฃูุจุฑ ููุง ุชุนุชูุฏ ุนูู ุงูุฃุฑุฌุญ.  ูุฐุง ูุฃูู ูู ูุงุญูุฉ ุ ูุญุชูู ูู ูุงุฆู ูุฏูุฑู HotSpot JVM ุนูู ุฑุฃุณ 12 ุฃู 16 ุจุงูุช ุ ูุงูุฐู ูุณุชุฎุฏูู JVM ููุฃุบุฑุงุถ ุงูุฏุงุฎููุฉ.  ุนูุงูุฉ ุนูู ุฐูู ุ ุชุญุชูู ูุนุธู ุงููุงุฆูุงุช ูู ุงููุฌููุนุฉ ุนูู ุญูู <code>size</code> ุ ุฃู ูุคุดุฑ ุฅูู ุตููู ุฏุงุฎูู ุฃู ูุงุฆู "ูุณุงุฆุท ุญูู ุงูุนูู" ุ ุฃู ุญูู <code>modCount</code> ูุชุชุจุน ุงูุชุบููุฑุงุช ูู ุงููุญุชูู ุ ููุง ุฅูู ุฐูู. ูุฐุง ุ ูุญุชู ุฃุตุบุฑ ูุงุฆู ูููู ููุซู ูุฌููุนุฉ ูุงุฑุบุฉ ุฑุจูุง ูุญุชุงุฌ ุนูู ุงูุฃูู 32 ุจุงูุช ูู ุงูุฐุงูุฑุฉ.  ุงูุจุนุถ ุ ูุซู <code>ConcurrentHashMap</code> ุ ูุฃุฎุฐูู ุฃูุซุฑ ูู ุฐูู ุจูุซูุฑ. <br><br>  ุถุน ูู ุงุนุชุจุงุฑู ูุฌููุนุฉ ูุดุชุฑูุฉ ุฃุฎุฑู - ูุฆุฉ <code>java.util.HashMap</code> .  ุชุดุจู ุฏูุฑุฉ ุญูุงุชูุง ุฏูุฑุฉ ุญูุงุฉ <code>ArrayList</code> : <br><br><img src="https://habrastorage.org/webt/qu/ov/lm/quovlmld5clm9w8f0x3v7a_kor8.png"><br><br>  ููุง ุชุฑู ุ <code>HashMap</code> ูุญุชูู ุนูู ุฒูุฌ ูุงุญุฏ ููุท ูู ูููุฉ ุงูููุชุงุญ ูููู 15 ุฎููุฉ ุฏุงุฎููุฉ ูู ุงูุตููู ุ ูุงูุชู ุชูุงุจู 60 ุฃู 120 ุจุงูุช.  ูุฐู ุงูุฃุฑูุงู ุตุบูุฑุฉ ุ ูููู ูุฏู ููุฏุงู ุงูุฐุงูุฑุฉ ููู ูุฌููุน ุงููุฌููุนุงุช ูู ุชุทุจููู.  ูุชุจูู ุฃู ุจุนุถ ุงูุชุทุจููุงุช ูููู ุฃู ุชููู ุงููุซูุฑ ูู ุงูุฐุงูุฑุฉ ุจูุฐู ุงูุทุฑููุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุชููุฏ ุจุนุถ ููููุงุช Hadoop ุงูุดุนุจูุฉ ููุชูุญุฉ ุงููุตุฏุฑ ุงูุชู ุญูููุง ุงููุคูู ุญูุงูู 20 ุจุงููุงุฆุฉ ูู ูููุฉ ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ ูู ุจุนุถ ุงูุญุงูุงุช!  ุจุงููุณุจุฉ ููููุชุฌุงุช ุงูุชู ุทูุฑูุง ูููุฏุณูู ุฃูู ุฎุจุฑุฉ ููุง ูุฎุถุนูู ููุฑุงุฌุนุงุช ุฃุฏุงุก ููุชุธูุฉ ุ ูููู ุฃู ูููู ููุฏุงู ุงูุฐุงูุฑุฉ ุฃุนูู.  ููุงู ุญุงูุงุช ูุงููุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุชุญุชูู 90 ูช ูู ุงูุนูุฏ ูู ุดุฌุฑุฉ ุถุฎูุฉ ุนูู ุณูุงูุฉ ูุงุญุฏุฉ ุฃู ุงุซูุชูู ููุท (ุฃู ูุง ุดูุก ุนูู ุงูุฅุทูุงู) ุ ูููุงูู ุฃุฎุฑู ุญูุซ ูุชู ุงูุณุฏุงุฏ ุงููููุฉ ุจูุฌููุนุงุช ูู 0 ุฃู 1 ุฃู 2. <br><br>  ุฅุฐุง ูุฌุฏุช ูุฌููุนุงุช ุบูุฑ ูุณุชุฎุฏูุฉ ุฃู ูุงูุตุฉ ุงูุงุณุชุฎุฏุงู ูู ุชุทุจููู ุ ูููู ููููู ุฅุตูุงุญูุงุ  ูููุง ููู ุจุนุถ ุงููุตูุงุช ุงูุดุงุฆุนุฉ.  ููุง ุ ูู ุงูููุชุฑุถ ุฃู ูุฌููุนุชูุง ุงูุฅุดูุงููุฉ ูู ูุงุฆูุฉ <code>ArrayList</code> ุงูุชู ุชูุช ุงูุฅุดุงุฑุฉ ุฅูููุง ุจูุงุณุทุฉ ุญูู ุงูุจูุงูุงุช <code>Foo.list</code> . <br><br>  ุฅุฐุง ูู ูุชู ุงุณุชุฎุฏุงู ูุนุธู ูุซููุงุช ุงููุงุฆูุฉ ูุทูููุง ุ ูุญุงูู ุชููุฆุชูุง ุจุชูุงุณู.  ูุฐูู ุงูุฑูุฒ ุงูุฐู ูุงู ูุจุฏู ุณุงุจููุง ... <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addToList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Object x)</span></span></span><span class="hljs-function"> </span></span>{ list.add(x); }</code> </pre> <br>  ... ูุฌุจ ุฅุนุงุฏุฉ ุจูุงุฆู ุฅูู ุดูุก ูุซู <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addToList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Object x)</span></span></span><span class="hljs-function"> </span></span>{ getOrCreateList().add(x); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> list </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getOrCreateList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   ,         if (list == null) list = new ArrayList(); return list; }</span></span></code> </pre> <br>  ุถุน ูู ุงุนุชุจุงุฑู ุฃูู ูู ุจุนุถ ุงูุฃุญูุงู ุณุชุญุชุงุฌ ุฅูู ุงุชุฎุงุฐ ุชุฏุงุจูุฑ ุฅุถุงููุฉ ููุนุงูุฌุฉ ุงูููุงูุณุฉ ุงููุญุชููุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ููุช ุชุฏุนู <code>ConcurrentHashMap</code> ุ ูุงูุชู ูููู ุชุญุฏูุซูุง ูู ุฎูุงู ุนุฏุฉ ุณูุงุณู ุฑุณุงุฆู ูู ููุณ ุงูููุช ุ ูุฅู ุงูุดูุฑุฉ ุงูุชู ุชููุฆูุง ูุฌุจ ุฃูุง ุชุณูุญ ูุฎููุทูู ูุฅูุดุงุก ูุณุฎุชูู ูู ูุฐู ุงูุฎุฑูุทุฉ ุจุดูู ุนุดูุงุฆู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> Map </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getOrCreateMap</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (map == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-comment"><span class="hljs-comment">//,       synchronized (this) { if (map == null) map = new ConcurrentHashMap(); } } return map; }</span></span></code> </pre> <br>  ุฅุฐุง ูุงูุช ูุนุธู ูุซููุงุช ูุงุฆูุชู ุฃู ุฎุฑูุทุชู ุชุญุชูู ุนูู ุนูุงุตุฑ ููููุฉ ููุท ุ ูุญุงูู ุชููุฆุฉ ูุฐู ุงูุนูุงุตุฑ ุจุณุนุฉ ุฃูููุฉ ุฃูุซุฑ ููุงุกูุฉ ุ ุนูู ุณุจูู ุงููุซุงู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">list = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList(<span class="hljs-number"><span class="hljs-number">4</span></span>); <span class="hljs-comment"><span class="hljs-comment">//       4</span></span></code> </pre> <br>  ุฅุฐุง ูุงูุช ูุฌููุนุงุชู ูุงุฑุบุฉ ุฃู ุชุญุชูู ุนูู ุนูุตุฑ ูุงุญุฏ ููุท (ุฃู ุฒูุฌ ูููุฉ ููุชุงุญ) ูู ูุนุธู ุงูุญุงูุงุช ุ ููููู ุงูุชูููุฑ ูู ุดูู ูุงุญุฏ ูุชุทุฑู ูู ุงูุชุญุณูู.  ูุนูู ููุท ุฅุฐุง ูุงูุช ุงููุฌููุนุฉ ููุฏุงุฑุฉ ุจุงููุงูู ุฏุงุฎู ุงููุฆุฉ ุงูุญุงููุฉ ุ ุฃู ุฃูู ูุง ูููู ุงููุตูู ุฅูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุฃุฎุฑู ูุจุงุดุฑุฉู.  ุชููู ุงูููุฑุฉ ูู ุชุบููุฑ ููุน ุญูู ุงูุจูุงูุงุช ุ ุนูู ุณุจูู ุงููุซุงู ุ ูู ูุงุฆูุฉ ุฅูู ูุงุฆู ุฃูุซุฑ ุนููููุฉ ุ ุจุญูุซ ูููู ุงูุขู ุฃู ูุดูุฑ ุฅูู ูุงุฆูุฉ ุญููููุฉ ุฃู ูุจุงุดุฑุฉ ุฅูู ุนูุตุฑ ูุงุฆูุฉ ูุงุญุฏ.  ููุง ุฑุณู ููุฌุฒ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// ***   *** private List&lt;Foo&gt; list = new ArrayList&lt;&gt;(); void addToList(Foo foo) { list.add(foo); } // ***   *** //   ,    null.      , //      .       //   ArrayList. private Object listOrSingleEl; void addToList(Foo foo) { if (listOrSingleEl == null) { //   listOrSingleEl = foo; } else if (listOrSingleEl instanceof Foo) { //  Foo firstEl = (Foo) listOrSingleEl; ArrayList&lt;Foo&gt; list = new ArrayList&lt;&gt;(); listOrSingleEl = list; list.add(firstEl); list.add(foo); } else { //      ((ArrayList&lt;Foo&gt;) listOrSingleEl).add(foo); } }</span></span></code> </pre> <br>  ูู ุงููุงุถุญ ุฃู ุงูุดูุฑุฉ ุจุงุณุชุฎุฏุงู ูุฐุง ุงูุชุญุณูู ุฃูู ูุถูุญูุง ูุฃูุซุฑ ุตุนูุจุฉ ูู ุงูุญูุงุธ ุนูููุง.  ูููู ูููู ุฃู ูููู ูุฐุง ูููุฏูุง ุฅุฐุง ููุช ูุชุฃูุฏูุง ูู ุฃู ูุฐุง ุณูููุฑ ุงููุซูุฑ ูู ุงูุฐุงูุฑุฉ ุฃู ุงูุชุฎูุต ูู ูุชุฑุงุช ุงูุชููู ุงูุทูููุฉ ููุฌูุน ุงูููุงูุฉ. <br><br>  ุฑุจูุง ุชุณุงุกูุช ุจุงููุนู: ููู ูููููู ูุนุฑูุฉ ุฃู ูุฌููุนุงุช ูู ุชุทุจููู ุชุณุชููู ุงูุฐุงูุฑุฉ ูููุ <br><br>  ุจุงุฎุชุตุงุฑ: ูู ุงูุตุนุจ ูุนุฑูุฉ ุฐูู ุจุฏูู ุงูุฃุฏูุงุช ุงูููุงุณุจุฉ.  ุฅู ูุญุงููุฉ ุชุฎููู ููุฏุงุฑ ุงูุฐุงูุฑุฉ ุงููุณุชุฎุฏูุฉ ุฃู ุงูุชู ุชููููุง ููุงูู ุงูุจูุงูุงุช ูู ุชุทุจูู ูุนูุฏ ูุจูุฑ ูู ูุคุฏู ุฃุจุฏูุง ุฅูู ุฃู ุดูุก.  ููุง ุชุนุฑู ุจุงูุถุจุท ุฃูู ุชุฐูุจ ุงูุฐุงูุฑุฉ ุ ููููู ูุถุงุก ุงููุซูุฑ ูู ุงูููุช ูู ููุงุญูุฉ ุงูุฃูุฏุงู ุงูุฎุงุทุฆุฉ ุ ุจูููุง ูุณุชูุฑ ุชุทุจููู ุจุนูุงุฏ ูู <code>OutOfMemoryError</code> ูุน <code>OutOfMemoryError</code> . <br><br>  ูุฐูู ุ ูุฌุจ ุนููู ุงูุชุญูู ูู ูุฌููุนุฉ ูู ุงูุชุทุจููุงุช ุจุงุณุชุฎุฏุงู ุฃุฏุงุฉ ุฎุงุตุฉ.  ูู ุงูุชุฌุฑุจุฉ ุ ูุฅู ุฃูุถู ุทุฑููุฉ ูุชุญููู ุฐุงูุฑุฉ JVM (ุงูุชู ูุชู ููุงุณูุง ููููุง ููููุฉ ุงููุนูููุงุช ุงููุชุงุญุฉ ููุงุฑูุฉู ุจุชุฃุซูุฑ ูุฐู ุงูุฃุฏุงุฉ ุนูู ุฃุฏุงุก ุงูุชุทุจูู) ูู ุงูุญุตูู ุนูู ุชูุฑูุบ ูู ุงูุฐุงูุฑุฉ ุซู ุนุฑุถูุง ูู ูุถุน ุนุฏู ุงูุงุชุตุงู.  ุชูุฑูุบ ูููุฉ ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ ูู ูู ุงูุฃุณุงุณ ููุทุฉ ูุงููุฉ ูู ูููุฉ ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ.  ููููู ุงูุญุตูู ุนูููุง ูู ุฃู ููุช ุนู ุทุฑูู ุงุณุชุฏุนุงุก ุฃุฏุงุฉ jmap ุ ุฃู ููููู ุชูููู JVM ูุชูุฑูุบูุง ุชููุงุฆููุง ุฅุฐุง ุชุนุทู ุงูุชุทุจูู ูุน <code>OutOfMemoryError</code> .  ุฅุฐุง ููุช ุชุณุชุฎุฏู google "JVM heap dump" ุ ูุณุชุฑู ุนูู ุงูููุฑ ุนุฏุฏูุง ูุจูุฑูุง ูู ุงูููุงูุงุช ุงูุชู ุชุดุฑุญ ุจุงูุชูุตูู ููููุฉ ุงูุญุตูู ุนูู ููู ุชูุฑูุบ. <br><br>  ุชูุฑูุบ ุงููููุฉ ูู ููู ุซูุงุฆู ุจุญุฌู ูููุฉ JVM ุ ูุฐูู ูููู ูุฑุงุกุชู ูุชุญูููู ููุท ุจุงุณุชุฎุฏุงู ุฃุฏูุงุช ุฎุงุตุฉ.  ููุงู ุงูุนุฏูุฏ ูู ุงูุฃุฏูุงุช ุ ุณูุงุก ููุชูุญุฉ ุงููุตุฏุฑ ุฃู ุชุฌุงุฑูุฉ.  ุฃูุซุฑ ุฃุฏุงุฉ ููุชูุญุฉ ุงููุตุฏุฑ ุดุนุจูุฉ ูู Eclipse MAT.  ููุงู ุฃูุถูุง VisualVM ูุจุนุถ ุงูุฃุฏูุงุช ุงูุฃูู ููุฉ ูุงูุฃูู ุดูุฑุฉ.  ุชุชุถูู ุงูุฃุฏูุงุช ุงูุชุฌุงุฑูุฉ ูููุงุช ุชุนุฑูู Java ููุฃุบุฑุงุถ ุงูุนุงูุฉ: JProfiler ู YourKit ุ ุจุงูุฅุถุงูุฉ ุฅูู ุฃุฏุงุฉ ูุงุญุฏุฉ ูุตููุฉ ุฎุตูุตูุง ูุชุญููู ุชูุฑูุบ ุงููููุฉ - JXRay (ุฅุฎูุงุก ุงููุณุคูููุฉ: ุชู ุชุทููุฑู ุขุฎุฑ ูุฑุฉ ุจูุงุณุทุฉ ุงููุคูู). <br><br>  ุนูู ุนูุณ ุงูุฃุฏูุงุช ุงูุฃุฎุฑู ุ ูุญูู JXRay ุนูู ุงูููุฑ ุชูุฑูุบ ุงููููุฉ ูุนุฏุฏ ูุจูุฑ ูู ุงููุดุงูู ุงูุดุงุฆุนุฉ ุ ูุซู ุงูุฎุทูุท ุงููุชูุฑุฑุฉ ูุงููุงุฆูุงุช ุงูุฃุฎุฑู ุ ุจุงูุฅุถุงูุฉ ุฅูู ููุงูู ุงูุจูุงูุงุช ุบูุฑ ุงููุงููุฉ.  ุชูุน ูุดุงูู ุงููุฌููุนุงุช ุงูููุตููุฉ ุฃุนูุงู ูู ุงููุฆุฉ ุงูุฃุฎูุฑุฉ.  ุชููู ุงูุฃุฏุงุฉ ุจุฅูุดุงุก ุชูุฑูุฑ ุจูู ุงููุนูููุงุช ุงูุชู ุชู ุฌูุนูุง ุจุชูุณูู HTML.  ููุฒุฉ ูุฐุง ุงูููุฌ ูู ุฃูู ููููู ุนุฑุถ ูุชุงุฆุฌ ุงูุชุญููู ูู ุฃู ููุงู ููู ุฃู ููุช ููุดุงุฑูุชูุง ุจุณูููุฉ ูุน ุงูุขุฎุฑูู.  ููููู ุฃูุถูุง ุชุดุบูู ุงูุฃุฏุงุฉ ุนูู ุฃู ุฌูุงุฒ ุ ุจูุง ูู ุฐูู ุงูุฃุฌูุฒุฉ ุงููุจูุฑุฉ ูุงููููุฉ ุ ูููู "ุนุฏููุฉ ุงูุฑุฃุณ" ูู ูุฑูุฒ ุงูุจูุงูุงุช. <br><br>  ูุญุณุจ JXRay ุงููููุงุช ุงูุนุงูุฉ (ููุฏุงุฑ ุงูุฐุงูุฑุฉ ุงูุชู ุณุชููุฑูุง ุฅุฐุง ุชุฎูุตุช ูู ูุดููุฉ ูุนููุฉ) ุจุงูุจุงูุช ูููุณุจุฉ ูุฆููุฉ ูู ุงููููุฉ ุงููุณุชุฎุฏูุฉ.  ููู ูุฌูุน ุจูู ูุฌููุนุงุช ูู ููุณ ุงููุฆุฉ ุงูุชู ูุฏููุง ููุณ ุงููุดููุฉ ... <br><br><img src="https://habrastorage.org/webt/qm/_n/44/qm_n44hqttg315sv5h8wv3ujefc.png"><br><br>  ... ุซู ุชุฌููุน ุงููุฌููุนุงุช ุงูุฅุดูุงููุฉ ุงูุชู ูููู ุงููุตูู ุฅูููุง ูู ุจุนุถ ุฌุฐุฑ ุฌุงูุน ุงูููุงูุฉ ูู ุฎูุงู ููุณ ุณูุณูุฉ ุงูุงุฑุชุจุงุท ุ ููุง ูู ุงููุซุงู ุฃุฏูุงู <br><br><img src="https://habrastorage.org/webt/4o/is/ib/4oisibqplc6cj55ojwossuycohs.png"><br><br>  ุฅู ูุนุฑูุฉ ุณูุงุณู ุงูุงุฑุชุจุงุท ู / ุฃู ุญููู ุงูุจูุงูุงุช ุงููุฑุฏูุฉ (ุนูู ุณุจูู ุงููุซุงู ุ <code>INodeDirectory.children</code> ุฃุนูุงู) ุชุดูุฑ ุฅูู ุงููุฌููุนุงุช ุงูุชู ุชููู ูุนุธู ุฐุงูุฑุชูุง ุชุณูุญ ูู ุจุชุญุฏูุฏ ุงูุฑูุฒ ุงููุณุคูู ุนู ุงููุดููุฉ ุจุณุฑุนุฉ ูุจุฏูุฉ ุ ุซู ุฅุฌุฑุงุก ุงูุชุบููุฑุงุช ุงููุงุฒูุฉ. <br><br>  ูุจุงูุชุงูู ุ ูููู ููุฌููุนุงุช Java ุงูุชู ูู ูุชู ุชูููููุง ุจุดูู ูุงู ุฃู ุชูุฏุฑ ุงููุซูุฑ ูู ุงูุฐุงูุฑุฉ.  ูู ูุซูุฑ ูู ุงูุญุงูุงุช ุ ูู ุงูุณูู ุญู ูุฐู ุงููุดููุฉ ุ ูููู ูู ุจุนุถ ุงูุฃุญูุงู ูุฏ ุชุญุชุงุฌ ุฅูู ุชุนุฏูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุจุทุฑู ุบูุฑ ุชุงููุฉ ูุชุญููู ุชุญุณู ูุจูุฑ.  ูู ุงูุตุนุจ ุฌุฏูุง ุชุฎููู ุงููุฌููุนุงุช ุงูุชู ุชุญุชุงุฌ ุฅูู ุงูุชุญุณูู ูู ุฃุฌู ุชุญููู ุฃูุจุฑ ุชุฃุซูุฑ.  ููู ูุง ุชุถูุน ุงูููุช ูู ุชุญุณูู ุงูุฃุฌุฒุงุก ุงูุฎุงุทุฆุฉ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุ ุชุญุชุงุฌ ุฅูู ุงูุญุตูู ุนูู ุชูุฑูุบ ูููุฉ JVM ูุชุญููููุง ุจุงุณุชุฎุฏุงู ุงูุฃุฏุงุฉ ุงูููุงุณุจุฉ. <br><br>  ุงูููุงูุฉ <br><br>  ูุญู ุ ููุง ูู ุงูุญุงู ุฏุงุฆููุง ุ ููุชููู ุจุขุฑุงุฆู ูุฃุณุฆูุชู ุ ูุงูุชู ููููู ุชุฑููุง ููุง ุฃู ุฒูุงุฑุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฏุฑุณ ููุชูุญ</a> ููุทูุจ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุนููููุง</a> ููุงู. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar420245/">https://habr.com/ru/post/ar420245/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar420233/index.html">UE4 | ูุนุฏุงุช ูุชุนุฏุฏุฉ ุงููุงุนุจูู # 5 | ููู ุงููุนูููุงุช ุจูู ุงูุฎุงุฏู ูุงูุนููู</a></li>
<li><a href="../ar420235/index.html">Zenject: ููู ูููู ูุญุงููุฉ IoC ุฃู ุชูุชู ุญูู ุงูุชุจุนูุฉ ูู ูุดุฑูุนู</a></li>
<li><a href="../ar420237/index.html">ูุฌููุน Qt ุญูู ุฅุทุงุฑ ุนูู gRPC ูู C ++</a></li>
<li><a href="../ar420239/index.html">ุชุทููุฑ ุงููุญููู. ุณูููุช: ุณุฑ ุงูุจุฑูุชููููุงุช</a></li>
<li><a href="../ar420243/index.html">ุงุฎุชุฑุงู ุงูุนูู ุงูุฎูุฑู: ูุดุงุฑูุน ุงูุงุฎุชุฑุงู ุงูุฅูุณุงูู</a></li>
<li><a href="../ar420251/index.html">ุชุฏุนู ุดุฑูุฉ Apple ุฃู ูุฌูุน ููุฑ ุงูุดุฑูุฉ ูููู 200 ุฏููุงุฑ ููุท</a></li>
<li><a href="../ar420253/index.html">ููู ุชุบูุฑ ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงููุตุฑููุฉ ุงูููุชูุญุฉ ุงูุนุงูู ุงููุงูู</a></li>
<li><a href="../ar420257/index.html">ูู ูุง ุฒูุช ุชุซุจุช Windows 2008ุ ุฃูุง ุฃูุถูุง ุ ูููุฐุง ุงูุณุจุจ</a></li>
<li><a href="../ar420259/index.html">ููุญุฉ ุชุดุฎูุต ุงูุดูุฎูุฎุฉ ูู ุณูุบุงููุฑุฉ</a></li>
<li><a href="../ar420261/index.html">ูุงุฐุง ุณูููุณุ ููููุฉ ุงุฎุชูุงุฑ ููุงููุณ ML ุงูููุงุณุจุฉ ูููุงู ุงูุนูู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>