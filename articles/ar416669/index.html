<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ด ๐ค๐พ โ๏ธ ุงูุญูููุฉ ุงููุงููุฉ ุนู ููููุณ ุฅุจูู ๐ฅ๏ธ โจ โจ๏ธ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุญุณููุง ุ ุฃู ุชูุฑูุจูุง ูู ุดูุก ... 





 ุฃุนุชูุฏ ุฃู ุงููุดููุฉ ุนูู ุงูุฅูุชุฑูุช ุงูุญุฏูุซ ูู ุงูุฅูุฑุงุท ูู ุงููุนูููุงุช ุฐุงุช ุงูุฌูุฏุฉ ุงููุฎุชููุฉ. ุฅู ุงูุนุซูุฑ ุนูู ูุงุฏุฉ ุญูู ููุถูุน ูุญ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงูุญูููุฉ ุงููุงููุฉ ุนู ููููุณ ุฅุจูู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/416669/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุญุณููุง ุ ุฃู ุชูุฑูุจูุง ูู ุดูุก ... </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/91f/776/71c/91f77671c2186bc1f2393c47e0696ee9.png"></p><br><p style=";text-align:right;direction:rtl">  ุฃุนุชูุฏ ุฃู ุงููุดููุฉ ุนูู ุงูุฅูุชุฑูุช ุงูุญุฏูุซ ูู ุงูุฅูุฑุงุท ูู ุงููุนูููุงุช ุฐุงุช ุงูุฌูุฏุฉ ุงููุฎุชููุฉ.  ุฅู ุงูุนุซูุฑ ุนูู ูุงุฏุฉ ุญูู ููุถูุน ูุญู ุงูุชูุงู ููุณ ูุดููุฉ ุ ูุงููุดููุฉ ูู ุงูุชูููุฒ ุจูู ุงูููุงุฏ ุงูุฌูุฏุฉ ูุงูููุงุฏ ุงูุณูุฆุฉ ุฅุฐุง ูุงูุช ูุฏูู ุฎุจุฑุฉ ููููุฉ ูู ูุฐุง ุงููุฌุงู.  ุฃูุงุญุธ ุตูุฑุฉ ุนูุฏูุง ูููู ููุงู ุงููุซูุฑ ูู ุงููุนูููุงุช ุงูุนุงูุฉ "ูู ุงูุฃุนูู" (ุชูุฑูุจูุง ุนูู ูุณุชูู ุงูุชุนุฏุงุฏ ุงูุจุณูุท) ุ ูุนุฏุฏ ูููู ุฌุฏูุง ูู ุงูููุงูุงุช ุงููุชุนููุฉ ููุง ุชูุฌุฏ ููุงูุงุช ุงูุชูุงููุฉ ูู ุจุณูุทุฉ ุฅูู ูุนูุฏุฉ.  ููุน ุฐูู ุ ูุฅู ุงููุนุฑูุฉ ุจููุฒุงุช ุขููุฉ ูุนููุฉ ุชุณูุญ ููุง ุจุงุชุฎุงุฐ ุฎูุงุฑ ูุณุชููุฑ ุฃุซูุงุก ุงูุชุทููุฑ. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูููุงูุฉ ุณุฃุญุงูู ุงููุดู ุนู ุงููุฑู ุงูุฃุณุงุณู ุจูู <strong>epoll</strong> ูุงูุขููุงุช ุงูุฃุฎุฑู ุ ููุง ุงูุฐู ูุฌุนููุง ูุฑูุฏุฉ ูู ููุนูุง ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงูุงุณุชุดูุงุฏ ุจุงูููุงูุงุช ุงูุชู ุชุญุชุงุฌ ููุท ุฅูู ูุฑุงุกุชูุง ูููู ุฅููุงููุงุช ููุดููุงุช <strong>epoll ุจุดูู ุฃูุถู</strong> . </p><br><blockquote style=";text-align:right;direction:rtl"> ูููู ูุฃู ุดุฎุต ุฃู ูุณุชุฎุฏู ูุฃุณูุง ุ ููู ุงูุฃูุฑ ูุชุทูุจ ูุญุงุฑุจูุง ุญูููููุง ูุฌุนูู ูุบูู ุงููุญู. </blockquote><p style=";text-align:right;direction:rtl">  ุฃูุชุฑุถ ุฃู ุงููุงุฑุฆ ุนูู ุฏุฑุงูุฉ ุจู <strong>epoll</strong> ุ ุนูู ุงูุฃูู ุงูุฑุฃ ุตูุญุฉ ุงูุฏููู.  ููุฏ ูุชุจ ูุง ูููู ุนู <strong>epoll</strong> ุ <strong>ุงุณุชุทูุงุน</strong> ุ <strong>ุญุฏุฏ</strong> ุจุญูุซ ุณูุน ูู ูู ูุชุทูุฑ ูู Linux ุนู ุฐูู ูุฑุฉ ูุงุญุฏุฉ ุนูู ุงูุฃูู. </p><a name="habracut"></a><br><h1 id="mnoga--fd" style=";text-align:right;direction:rtl">  ุงููุซูุฑ ูู ููุงุช ุงูุฏูุงุน ุนู ุงูุฏูููุฑุงุทูุฉ </h1><br><p style=";text-align:right;direction:rtl">  ุนูุฏูุง ูุชุญุฏุซ ุงููุงุณ ุนู <strong>epoll</strong> ุจุดูู ุฃุณุงุณู ุ ุฃุณูุน ูุฑุถูุฉ ููุงุฏูุง ุฃู "ุฃุฏุงุฆู ุฃูุถู ุนูุฏูุง ูููู ููุงู ุงููุซูุฑ ูู ูุงุตูุงุช ุงููููุงุช". </p><br><p style=";text-align:right;direction:rtl">  ููุท ุฃุฑูุฏ ุทุฑุญ ุณุคุงู - ูู ูู ููุ  ูู ุนุฏุฏ ุงูุงุชุตุงูุงุช ุงููุทููุจุฉ ุ ูุงูุฃูู ูู ุฐูู ุ ุชุญุช ุฃู ุธุฑูู ุณุชุจุฏุฃ <strong>epoll</strong> ูู ุฅุนุทุงุก ููุงุณุจ ุฃุฏุงุก ููููุณุฉุ </p><br><p style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ูุฃููุฆู ุงูุฐูู ุฏุฑุณูุง <strong>epoll</strong> (ููุงู ุงููุซูุฑ ูู ุงูููุงุฏ ุจูุง ูู ุฐูู ุงูููุงูุงุช ุงูุนูููุฉ) ุ ูุฅู ุงูุฅุฌุงุจุฉ ูุงุถุญุฉ - ูู ุงูุฃูุถู ุฅุฐุง ูููู ุนุฏุฏ ูุฑูุจุงุช "ุงูุชุธุงุฑ ุญุฏุซ" ุจุดูู ูุจูุฑ ุนุฏุฏ "ุฌุงูุฒ ูููุนุงูุฌุฉ".  ุนูุงูุฉ ุงููููุฉ ุ ุนูุฏูุง ูุตุจุญ ุงูุฑุจุญ ูุจูุฑูุง ูุฏุฑุฌุฉ ุฃูู ูุง ููุฌุฏ ุจุจุณุงุทุฉ ุจูู ูุชุฌุงูู ูุฐู ุงูุญูููุฉ ุ ูุชู ุงุนุชุจุงุฑ ูุฑูุจุงุช 10k [4]. </p><br><p style=";text-align:right;direction:rtl">  ูุฃุชู ุงูุชุฑุงุถ ุฃู ูุนุธู ุงูุงุชุตุงูุงุช ูุนููุฉ ูู ููุทู ุงูุตูุช ููุฑุงูุจุฉ ุชุญููู ุงูุฎูุงุฏู ููุฏ ุงูุงุณุชุฎุฏุงู ุงููุดุท. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ุนุฏุฏ ุงููุฑูุจุงุช ุงููุดุทุฉ ููุงูุญ ูู ุฃุฌู ุงูุนุฏุฏ ุงูุฅุฌูุงูู ุ <del>  ูู ูููู ููุงู ุฑุจุญ </del>  ูู ูููู ููุงู ููุณุจ ูุจูุฑ ุ ููุณุจ ูุจูุฑ ูุฑุฌุน ุฅูู ูููุท ูุฃู <strong>epoll</strong> ูุฑุฌุน ููุท ุงููุงุตูุงุช ุงูุชู ุชุชุทูุจ ุงูุงูุชุจุงู ุ ููุนูุฏ <strong>ุงูุงุณุชุทูุงุน</strong> ุฌููุน ุงููุงุตูุงุช ุงูุชู ุชูุช ุฅุถุงูุชูุง ููููุงุญุธุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงููุงุถุญ ุ ูู ุงูุญุงูุฉ ุงูุฃุฎูุฑุฉ ุ ููุถู ููุชูุง ูู ุงุฌุชูุงุฒ ุฌููุน ุงููุงุตูุงุช + ุงููููุงุช ุงูุนุงูุฉ ููุณุฎ ูุฌููุนุฉ ูู ุงูุฃุญุฏุงุซ ูู ุงูููุงุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงููุงูุน ุ ูู ููุงุณ ุงูุฃุฏุงุก ุงูุฃููู ุ ุงูุฐู ุชู ุฅุฑูุงูู ุจุงูุฑูุนุฉ [9] ุ ูู ูุชู ุงูุชุฃููุฏ ุนูู ูุฐู ุงูููุทุฉ ููููู ูููุฑุก ุฃู ูุฎูู ููุท ูู ุฎูุงู ูุฌูุฏ ุฃุฏุงุฉ deadcon ุงููุณุงุนุฏุฉ ุงููุฐููุฑุฉ ูู ุงูููุงูุฉ (ููุฃุณู ุ ูุชู ููุฏุงู ุฑูุฒ ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ pipetest.c).  ูู ูุงุญูุฉ ุฃุฎุฑู ุ ูู ูุตุงุฏุฑ ุฃุฎุฑู [6 ุ 8] ูู ุงูุตุนุจ ุฌุฏูุง ุนุฏู ููุงุญุธุฉ ุฐูู ุ ูุฃู ูุฐู ุงูุญูููุฉ ุชุจุฑุฒ ุนูููุง. </p><br><p style=";text-align:right;direction:rtl">  ูุทุฑุญ ุงูุณุคุงู ุนูู ุงูููุฑ ุ ูููู ูุงุฐุง ุงูุขู ุฅุฐุง ูู ููู ูู ุงููุฎุทุท ูุฎุฏูุฉ ูุฐุง ุงูุนุฏุฏ ูู ูุงุตูุงุช ููู <strong>epoll</strong> ุ ููุง ูุงูุช ุ ูููุณ ููุงู ุญุงุฌุฉุ </p><br><p style=";text-align:right;direction:rtl">  ุนูู ุงูุฑุบู ูู ุญูููุฉ ุฃู <strong>epoll</strong> ุชู ุฅูุดุงุคู ุฎุตูุตูุง ููุซู ูุฐู ุงูุญุงูุงุช [5 ุ 8 ุ 9] ุ ูุฐุง ุจุนูุฏ ุนู ุงูุงุฎุชูุงู ุงููุญูุฏ ุจูู <strong>epoll</strong> . </p><br><h1 id="epollet" style=";text-align:right;direction:rtl">  ุงููุดุฑุฉ </h1><br><p style=";text-align:right;direction:rtl">  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ุณูููู ูุธุฑุฉ ุนูู ุงููุฑู ุจูู ูุดุบูุงุช ุงูุญุงูุฉ ุงููุดุบูุฉ ูุงููุณุชููุงุช ุงููุดุบูุฉ ูููุณุชูู. ููุงู ุจูุงู ุฌูุฏ ุฌุฏูุง ุญูู ูุฐุง ุงูููุถูุน ูู ุงูููุงูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูููุงุทุนุงุช</a> ุงููุดุบูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Edge Triggered Vs Level Triggered - Venkatesh Yadav</a> : </p><br><blockquote style=";text-align:right;direction:rtl">  ุงููุทุงุน ูู ุงููุณุชูู ุ ูุซู ุงูุทูู.  ุฅุฐุง ูุงู ุงูุทูู ูุจูู ุ ูุฌุจ ุฃู ุชุชุฎูู ุนู ูู ูุง ูุนูุชู ูุชุฌุฑู ุฅูู ุงูุทูู ูุฅุทุนุงูู.  ุซู ุชุนูุฏ ุงูุทูู ุฅูู ุณุฑูุฑู.  ุฅุฐุง ุจูู ูุฑุฉ ุฃุฎุฑู ููู ุชุชุฑูู ูู ุฃู ููุงู ุ ูููู ุณุชุญุงูู ุชูุฏุฆุชู.  ูุจูููุง ูุจูู ุงูุทูู ุ ูู ุชุชุฑูู ููุญุธุฉ ุ ููู ูุนูุฏ ุฅูู ุงูุนูู ุฅูุง ุนูุฏูุง ููุฏุฃ.  ูููู ุฏุนูุง ูููู ุฃููุง ุฎุฑุฌูุง ุฅูู ุงูุญุฏููุฉ (ุชููู ุงูุงููุทุงุน) ุนูุฏูุง ุจุฏุฃ ุงูุทูู ูู ุงูุจูุงุก ุ ุซู ุนูุฏูุง ุนุฏุช ุฅูู ุงูููุฒู (ุชู ุชุดุบูู ุงูุงููุทุงุน) ุ ูุฅู ุฃูู ุดูุก ุชูุนูู ูู ุงูุฐูุงุจ ููุชุญูู ูู ุงูุทูู.  ูููู ูู ุชุนุฑู ุฃุจุฏูุง ุฃูู ูุงู ูุจูู ุฃุซูุงุก ูุฌูุฏู ูู ุงูุญุฏููุฉ. <br><br>  ุงูุงููุทุงุน ูู ุงูููุฏูุฉ ูุดุจู ูุฑุจูุฉ ุฅููุชุฑูููุฉ ููุขุจุงุก ุงูุตู.  ุจูุฌุฑุฏ ุฃู ูุจุฏุฃ ุงูุทูู ูู ุงูุจูุงุก ุนูู ุงูุฌูุงุฒ ุ ูุถูุก ุถูุก ุฃุญูุฑ ููุถูุก ุญุชู ุชุถุบุท ุนูู ุงูุฒุฑ.  ุญุชู ูู ุจุฏุฃ ุงูุทูู ูู ุงูุจูุงุก ุ ูููู ุชููู ุจุณุฑุนุฉ ููุงู ุ ุณุชุธู ุชุนูู ุฃู ุงูุทูู ูุจูู.  ูููู ุฅุฐุง ุจุฏุฃ ุจุงูุจูุงุก ูุถุบุทุช ุนูู ุงูุฒุฑ (ุชุฃููุฏ ุงูุงููุทุงุน) ุ ูู ูุถูุก ุงูุถูุก ุญุชู ุฅุฐุง ุงุณุชูุฑ ูู ุงูุจูุงุก.  ูุฌุจ ุฃู ููุฎูุถ โโูุณุชูู ุงูุตูุช ูู ุงูุบุฑูุฉ ุซู ูุฑุชูุน ูุฑุฉ ุฃุฎุฑู ุญุชู ูุถูุก ุงูุถูุก. </blockquote><p style=";text-align:right;direction:rtl">  ุฅุฐุง ุชู ุฅูุบุงุก ููู <strong>epoll</strong> (ุจุงูุฅุถุงูุฉ ุฅูู <strong>ุงูุงุณุชุทูุงุน</strong> / <strong>ุงูุชุญุฏูุฏ</strong> ) ูู ุงูุณููู ุงููุดุบู ุนูู ุงููุณุชูู ุฅุฐุง ูุงู ุงููุงุตู ูู ุงูุญุงูุฉ ุงููุญุฏุฏุฉ ูุณูุชู ุงุนุชุจุงุฑู ูุดุทูุง ุญุชู ูุชู ูุณุญ ูุฐู ุงูุญุงูุฉ ุ ูุชู ุฅูุบุงุก ุชูุนูู ุงูุญุงูุฉ ููุท ุนู ุทุฑูู ุชุบููุฑ ุงูุญุงูุฉ ุงููุทููุจุฉ ุงูุญุงููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุณูุญ ูู ูุฐุง ุจุงูุชุนุงูู ูุน ุงูุญุฏุซ ูุงุญููุง ุ ูููุณ ููุฑ ุงูุงุณุชูุงู (ุชูุฑูุจูุง ุชุดุงุจู ูุจุงุดุฑ ูุน ุงููุตู ุงูุนููู ูุงููุตู ุงูุณููู ูู ูุนุงูุฌ ุงูููุงุทุนุฉ). </p><br><p style=";text-align:right;direction:rtl">  ูุซุงู ูุญุฏุฏ ูุน epoll: </p><br><p style=";text-align:right;direction:rtl">  ุชู ุชุดุบูู ุงููุณุชูู </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชูุช ุฅุถุงูุฉ ุงูููุจุถ ุฅูู <strong>epoll</strong> ุจุนูุงูุฉ <strong>EPOLLIN</strong> </li><li style=";text-align:right;direction:rtl">  ูุชู <strong>epoll_wait ()</strong> ุฃุซูุงุก ุงูุชุธุงุฑ ุงูุญุฏุซ </li><li style=";text-align:right;direction:rtl">  ุงููุชุงุจุฉ ุฅูู ูุงุตู ุงูููู 19 ุจุงูุช </li><li style=";text-align:right;direction:rtl">  ููุชุญ <strong>epoll_wait ()</strong> ุญุฏุซ <strong>EPOLLIN</strong> </li><li style=";text-align:right;direction:rtl">  ูุญู ูุง ููุนู ุดูุฆุง ุจุงูุจูุงูุงุช ุงูุชู ุฌุงุกุช </li><li style=";text-align:right;direction:rtl">  ููุชุญ <strong>epoll_wait ()</strong> ูุฑุฉ ุฃุฎุฑู ูุน ุญุฏุซ <strong>EPOLLIN</strong> </li></ul><br><p style=";text-align:right;direction:rtl">  ูุณูุณุชูุฑ ูุฐุง ุญุชู ูุญุณุจ ุฃู ูุนูุฏ ุชุนููู ุงูุจูุงูุงุช ูู ุงููุงุตู. </p><br><p style=";text-align:right;direction:rtl">  ุฃุซุงุฑ ุงูุญุงูุฉ </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชูุช ุฅุถุงูุฉ ุงูููุจุถ ุฅูู <strong>epoll</strong> ูุน ุฃุนูุงู <strong>EPOLLIN |</strong>  <strong>ุงููุดุฑุฉ</strong> </li><li style=";text-align:right;direction:rtl">  ูุชู <strong>epoll_wait ()</strong> ุฃุซูุงุก ุงูุชุธุงุฑ ุงูุญุฏุซ </li><li style=";text-align:right;direction:rtl">  ุงููุชุงุจุฉ ุฅูู ูุงุตู ุงูููู 19 ุจุงูุช </li><li style=";text-align:right;direction:rtl">  ููุชุญ <strong>epoll_wait ()</strong> ุญุฏุซ <strong>EPOLLIN</strong> </li><li style=";text-align:right;direction:rtl">  ูุญู ูุง ููุนู ุดูุฆุง ุจุงูุจูุงูุงุช ุงูุชู ุฌุงุกุช </li><li style=";text-align:right;direction:rtl">  <strong>ุชู</strong> ุญุธุฑ <strong>epoll_wait () ูู</strong> ุงูุชุธุงุฑ ุญุฏุซ ุฌุฏูุฏ </li><li style=";text-align:right;direction:rtl">  ุงูุชุจ 19 ุจุงูุช ุฃุฎุฑู ุฅูู ูุงุตู ุงูููู </li><li style=";text-align:right;direction:rtl">  ููุชุญ <strong>epoll_wait ()</strong> ุญุฏุซ <strong>EPOLLIN</strong> ุงูุฌุฏูุฏ </li><li style=";text-align:right;direction:rtl">  <strong>ุชู</strong> ุญุธุฑ <strong>epoll_wait () ูู</strong> ุงูุชุธุงุฑ ุญุฏุซ ุฌุฏูุฏ </li></ul><br><p style=";text-align:right;direction:rtl">  ูุซุงู ุจุณูุท: <a href="">epollet_socket.c</a> </p><br><p style=";text-align:right;direction:rtl">  ุชู <strong>ุชุตููู</strong> ูุฐู ุงูุขููุฉ ูููุน ุนูุฏุฉ <strong>epoll_wait ()</strong> ุจุณุจุจ ุญุฏุซ ููุฏ ุงููุนุงูุฌุฉ ุจุงููุนู. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ุ ูู ุญุงูุฉ ุงููุณุชูู ุ ุนูุฏ ุงุณุชุฏุนุงุก <strong>epoll_wait () ุ</strong> ุชุชุญูู ุงูููุงุฉ ููุนุฑูุฉ ูุง ุฅุฐุง ูุงูุช fd ูู ูุฐู ุงูุญุงูุฉ ุ ุซู ุชุชุฎุทู ุงูุญุงูุฉ ูุฐุง ุงูุงุฎุชูุงุฑ ูุชุถุน ุนูููุฉ ุงูุงุชุตุงู ุนูู ุงูููุฑ ูู ุญุงูุฉ ุงูุณููู. </p><br><p style=";text-align:right;direction:rtl">  <strong>EPOLLET ููุณูุง</strong> ูู ูุง ูุฌุนู <strong>epoll</strong> O (1) <strong>ูุนุฏุฏูุง</strong> ููุฃุญุฏุงุซ. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูุถุฑูุฑู ุชูุถูุญ <strong>EAGAIN</strong> ู <strong>EPOLLET</strong> - ุงูุชูุตูุฉ ูุน <strong>EAGAIN</strong> ููุณุช ูุนุงูุฌุฉ ุฏูู ุงูุจุงูุช ุ ููุง ููุดุฃ ุงูุฎุทุฑ ูู ุงูุญุงูุฉ ุงูุฃุฎูุฑุฉ ุฅูุง ุฅุฐุง ูู ุชูุฑุฃ ุงููุงุตู ุญุชู ุงูููุงูุฉ ุ ููู ุชุฃุช ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ.  ุซู ูุชู ุชุนููู ุงูุฐูู ูู ุงููุงุตู ุ ููููู ูู ุชุชููู ุฅุดุนุงุฑูุง ุฌุฏูุฏูุง.  ูุน <strong>Accept</strong> <strong>() ุ ูุฅู</strong> ุงููุถุน ูุฎุชูู ุชูุงููุง ุ ูุฌุจ ุนููู <strong>ุงููุชุงุจุนุฉ</strong> ุญุชู ุฅุฑุฌุงุน <strong>()</strong> <strong>EAGAIN</strong> ุ ููุท ูู ูุฐู ุงูุญุงูุฉ ูุชู ุถูุงู ุงูุนูููุฉ ุงูุตุญูุญุฉ. </p><br><pre style=";text-align:right;direction:rtl"><code class="hljs lua">// TCP socket (<span class="hljs-built_in"><span class="hljs-built_in">byte</span></span> stream) //  fd    EPOLLIN      int <span class="hljs-built_in"><span class="hljs-built_in">len</span></span> = <span class="hljs-built_in"><span class="hljs-built_in">read</span></span>(fd, buffer, BUFFER_LEN); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">len</span></span> &lt; BUFFER_LEN) { //   } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { //         //  -       epoll_wait, //      }</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="hljs ruby"> /<span class="hljs-regexp"><span class="hljs-regexp">/ accept /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/  listenfd    EPOLLIN      event.events = EPOLLIN | EPOLLERR; epoll_ctl(epoll_fd, EPOLL_CTL_ADD, server_fd, &amp;event); sleep(5); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/       &gt;1  /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   while(epoll_wait()) { newfd = accept(listenfd, ...); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/      /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/        /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/  epoll_wait    listenfd    } /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   while(epoll_wait()) { while((newfd = accept(...)) &gt; 0) { /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/  -  } if(newfd == -1 &amp;&amp; errno = EAGAIN) { /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/       /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/       } }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุน ูุฐู ุงูุฎุงุตูุฉ ุ ูููู ุงููุฌุงุนุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุฃุชู ุงูุญุฒู ุฅูู ุงููุงุตู </li><li style=";text-align:right;direction:rtl">  ูุฑุงุกุฉ ุงูุญุฒู ูู ุงููุฎุฒู ุงููุคูุช </li><li style=";text-align:right;direction:rtl">  ุชุฃุชู ุญุฒูุฉ ุฃุฎุฑู </li><li style=";text-align:right;direction:rtl">  ูุฑุงุกุฉ ุงูุญุฒู ูู ุงููุฎุฒู ุงููุคูุช </li><li style=";text-align:right;direction:rtl">  ูุฃุชู ุฌุฒุก ุตุบูุฑ </li><li style=";text-align:right;direction:rtl">  ... </li></ul><br><p style=";text-align:right;direction:rtl">  ูุจุงูุชุงูู <strong>ุ</strong> ูู ูุชููู <strong>EAGAIN</strong> ูุฑูุจูุง ุ ูููู ูุฏ ูุง <strong>ูุณุชูุจูู</strong> ุนูู ุงูุฅุทูุงู. </p><br><p style=";text-align:right;direction:rtl">  ูุจุงูุชุงูู ุ ูุง ุชุชููู ูุงุตูุงุช ุงููููุงุช ุงูุฃุฎุฑู ููุชูุง ูููุนุงูุฌุฉ ุ ููุญู ูุดุบูููู ุจูุฑุงุกุฉ ุฃุฌุฒุงุก ุตุบูุฑุฉ ูู ุงูุจูุงูุงุช ุชุตู ุจุงุณุชูุฑุงุฑ. </p><br><h1 id="thundering-nerd-herd" style=";text-align:right;direction:rtl">  ุงูุฑุนุฏ <del>  ุงูุทุงูุจ ุงูุฐู ูุฐุงูุฑ ูุซูุฑุง </del>  ูุทูุน </h1><br><p style=";text-align:right;direction:rtl">  ูู ุฃุฌู ุงูุงูุชูุงู ุฅูู ุงูุนูู ุงูุฃุฎูุฑ ุ ุชุญุชุงุฌ ุฅูู ููู ุณุจุจ ุฅูุดุงุฆู ุจุงููุนู ูุฅุญุฏู ุงููุดุงูู ุงูุชู ุธูุฑุช ูููุทูุฑูู ูุน ุชุทูุฑ ุงูุชูููููุฌูุง ูุงูุจุฑุงูุฌ. </p><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://en.wikipedia.org/wiki/">ุงูุฑุนุฏ ูุดููุฉ ุงููุทูุน</a> </p><br><blockquote style=";text-align:right;direction:rtl">  ูุดููุฉ ุงูุฑุนุฏ ุงููุทูุน <br><br>  ุชุฎูู ุนุฏุฏูุง ูุจูุฑูุง ูู ุงูุนูููุงุช ูู ุงูุชุธุงุฑ ุงูุญุฏุซ.  ูู ุญุงูุฉ ูููุน ุญุฏุซ ุ ุณูุชู ุฅููุงุธูู ูุณูุจุฏุฃ ุงูุตุฑุงุน ุนูู ุงูููุงุฑุฏ ุ ุนูู ุงูุฑุบู ูู ุฃู ููุงู ุญุงุฌุฉ ุฅูู ุนูููุฉ ูุงุญุฏุฉ ููุท ููุชุนุงูู ูุน ุงููุฒูุฏ ูู ุงููุนุงูุฌุฉ ููุญุฏุซ.  ุณูู ุชูุงู ุจููุฉ ุงูุนูููุงุช ูุฑุฉ ุฃุฎุฑู. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุตุทูุญุงุช ุชูููููุฌูุง ุงููุนูููุงุช - ูุงุณููู ุฃููุณูููู</a> </blockquote><p style=";text-align:right;direction:rtl">  ูู ูุฐู ุงูุญุงูุฉ ุ ูุญู ููุชููู ุจูุดููุฉ <strong>ูุจูู ()</strong> <strong>ููุฑุงุกุฉ ()</strong> ุงูููุฒุนุฉ ุนุจุฑ ุงูุชุฏููุงุช ุจุงูุงูุชุฑุงู ูุน <strong>epoll</strong> . </p><br><h1 id="accept" style=";text-align:right;direction:rtl">  ูุจูู </h1><br><p style=";text-align:right;direction:rtl">  ูู ุงููุงูุน ุ ูุน ุญุธุฑ ุงูููุงููุงุช <strong>ููุจูู () ุ</strong> ูู ุชูู ููุงู ูุดุงูู ููุชุฑุฉ ุทูููุฉ.  ุณุชุฃุฎุฐ ุงูููุงุฉ ุจุนูู ุงูุงุนุชุจุงุฑ ุฃูู ุชู ุฅูุบุงุก ููู ุนูููุฉ ูุงุญุฏุฉ ููุท ููุฐุง ุงูุญุฏุซ ุ ูุฃู ุฌููุน ุงูุงุชุตุงูุงุช ุงููุงุฑุฏุฉ ููุณูุณูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูููู ูุน <strong>epoll ุ</strong> ูู ุชูุฌุญ ูุซู ูุฐู ุงูุญููุฉ.  ุฅุฐุง <strong>ุงุณุชูุนูุง () ุนูู</strong> ููุจุณ ุบูุฑ ูุงุจู ููุญุธุฑ ุ ุนูุฏ ุฅูุดุงุก ุงูุงุชุตุงู ุ ูุฅู ูู <strong>epoll_wait () ุณููุชุธุฑ</strong> ุงูุญุฏุซ ูู ูุฐุง ุงููุงุตู. </p><br><p style=";text-align:right;direction:rtl">  ุจุงูุทุจุน ุ ุณุชุชููู <strong>()</strong> ูู ุงูููุงู ุจุฎููุท ูุงุญุฏุฉ ููุท ุ ูุณูุชููู <strong>ุงูุจุงูู EAGAIN</strong> ุ ูููู ูุฐุง ูุถูุนุฉ ููููุงุฑุฏ. </p><br><p style=";text-align:right;direction:rtl">  ุนูุงูุฉ ุนูู ุฐูู ุ ูุง <strong>ูุณุงุนุฏูุง EPOLLET</strong> ุฃูุถูุง ุ ูุธุฑูุง ูุฃููุง ูุง ูุนุฑู ุจุงูุถุจุท ุนุฏุฏ ุงูุงุชุตุงูุงุช ุงูููุฌูุฏุฉ ูู ูุงุฆูุฉ ุงูุชุธุงุฑ ุงูุงุชุตุงู ( <strong>backlog</strong> ).  ููุง ูุชุฐูุฑ ุ ุนูุฏ ุงุณุชุฎุฏุงู <strong>EPOLLET</strong> ุ ูุฌุจ ุฃู ุชุณุชูุฑ ูุนุงูุฌุฉ ุงูููุจุณ ุญุชู ุชุนูุฏ ูุน <strong>ุฑูุฒ</strong> ุฎุทุฃ <strong>EAGAIN</strong> ุ ูุฐูู ููุงู ุงุญุชูุงู ุฃู ุชุชู ูุนุงูุฌุฉ ูู <strong>ูุจูู ()</strong> ุจูุงุณุทุฉ ูุคุดุฑ ุชุฑุงุจุท ูุงุญุฏ ููู ูุญุตู ุงูุจุงูู ุนูู ุงูุนูู. </p><br><p style=";text-align:right;direction:rtl">  ููุฐุง ูููุฏูุง ูุฑุฉ ุฃุฎุฑู ุฅูู ูุถุน ุชู ููู ุฅููุงุธ ุงูุชูุงุฑ ุงููุฌุงูุฑ ุฏูู ุฌุฏูู. </p><br><p style=";text-align:right;direction:rtl">  ูููููุง ุฃูุถูุง ุงูุญุตูู ุนูู ููุน ูุฎุชูู ูู ุงููุฌุงุนุฉ - ุณูููู ูุฏููุง ูุคุดุฑ ุชุฑุงุจุท ูุงุญุฏ ููุท ุ ููู ูุชููู ุงูุจุงูู ุงุชุตุงูุงุช ูููุนุงูุฌุฉ. </p><br><h1 id="epolloneshot" style=";text-align:right;direction:rtl">  ูุฑุฉ ุงููุฏู </h1><br><p style=";text-align:right;direction:rtl">  ูุจู ุงูุฅุตุฏุงุฑ 4.5 ุ ูุงูุช ุงูุทุฑููุฉ ุงูุตุญูุญุฉ ุงููุญูุฏุฉ ููุนุงูุฌุฉ <strong>epoll</strong> ุงูููุฒุนุฉ ูู ูุงุตู <strong>ุงุณุชูุงุน ()</strong> ุบูุฑ ูุงุจู ููุญุธุฑ ูุน ุงูููุงููุฉ <strong>ุงูููุจููุฉ</strong> ุงูุชุงููุฉ <strong>()</strong> ูู ุชุนููู ุนูุงูุฉ <strong>EPOLLONESHOT</strong> ุ ููุง ุฃุฏู ุจูุง ูุฑุฉ ุฃุฎุฑู ุฅูู <strong>ูุจูู ()</strong> ูุนุงูุฌุฉ ููุท ูู ูุคุดุฑ ุชุฑุงุจุท ูุงุญุฏ ูู ูู ูุฑุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุจุงุฎุชุตุงุฑ - ุฅุฐุง <strong>ุชู</strong> ุงุณุชุฎุฏุงู <strong>EPOLLONESHOT ุ</strong> ูุณูุชู ุฅุทูุงู ุงูุญุฏุซ ุงููุฑุชุจุท <strong>ุจูุงุตู</strong> ูุนูู ูุฑุฉ ูุงุญุฏุฉ ููุท ุ ูุจุนุฏ ุฐูู ูู ุงูุถุฑูุฑู ุฅุนุงุฏุฉ <strong>ุชุฑููู</strong> ุงูุฃุนูุงู ุจุงุณุชุฎุฏุงู <strong>epoll_ctl ()</strong> . </p><br><h1 id="epollexclusive" style=";text-align:right;direction:rtl">  EPOLLEXCLUSIVE </h1><br><p style=";text-align:right;direction:rtl">  ููุง <strong>ูุฃุชู EPOLLEXCLUSIVE ูุงููุญูุฒ ุนูู</strong> ุงููุณุชูู ููุณุงุนุฏุชูุง. </p><br><p style=";text-align:right;direction:rtl">  ููุชุญ <strong>EPOLLEXCLUSIVE ุฃุฏุงุฉ epoll_wait ()</strong> ูุงุญุฏุฉ ูุนููุฉ ูู ููุช ูุงุญุฏ ูุญุฏุซ ูุงุญุฏ. </p><br><p style=";text-align:right;direction:rtl">  ุงููุฎุทุท ุจุณูุท ููุบุงูุฉ (ูู ุงููุงูุน ููุณ): </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฏููุง ุฎููุท N ูู ุงูุชุธุงุฑ ุญุฏุซ ุงุชุตุงู </li><li style=";text-align:right;direction:rtl">  ุงูุนููู ุงูุฃูู ูุชุตู ุจูุง </li><li style=";text-align:right;direction:rtl">  ุณูุชู ุชุดุชูุช ุณูุณูุฉ ุงููุญุงุฏุซุงุช 0 ูุชุจุฏุฃ ุงููุนุงูุฌุฉ ุ ูุณุชุธู ุณูุงุณู ุงููุญุงุฏุซุงุช ุงูุฃุฎุฑู ูุญุธูุฑุฉ </li><li style=";text-align:right;direction:rtl">  ูุชุตู ุจูุง ุนููู ุซุงูู ุ ุฅุฐุง ูุงู ูุคุดุฑ ุงูุชุฑุงุจุท 0 ูุง ูุฒุงู ูุดุบููุงู ุจุงููุนุงูุฌุฉ ุ ูุณูุชู ุฅูุบุงุก ุชุฃููู ูุคุดุฑ ุงูุชุฑุงุจุท 1 </li><li style=";text-align:right;direction:rtl">  ููุงุตู ูุฐูู ุญุชู ูุชู ุงุณุชููุงุฏ ุชุฌูุน ุณูุณูุฉ <strong>ุงููุญุงุฏุซุงุช (</strong> ูุง ุฃุญุฏ ูุชููุน ุญุฏุซูุง ุนูู <strong>epoll_wait ()</strong> ) </li><li style=";text-align:right;direction:rtl">  ุนููู ุขุฎุฑ ูุชุตู ุจูุง </li><li style=";text-align:right;direction:rtl">  ูุณุชุชููู ูุนุงูุฌุชู ุงูุฎูุท ุงูุฃูู ุ ูุงูุฐู ุณูุชู ุงุณุชุฏุนุงุก <strong>epoll_wait ()</strong> </li><li style=";text-align:right;direction:rtl">  ุณูู ูุชููู ูุคุดุฑ ุงูุชุฑุงุจุท ุงูุซุงูู ุงูุนููู ุงูุซุงูู ุ ูุงูุฐู ุณูุชู ุงุณุชุฏุนุงุก <strong>epoll_wait ()</strong> </li></ul><br><p style=";text-align:right;direction:rtl">  ูุจุงูุชุงูู ุ ูุชู ุชูุฒูุน ุฌููุน ุนูููุงุช ุงูุตูุงูุฉ ุจุงูุชุณุงูู ุนุจุฑ ุงูุชุฏููุงุช. </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ ./epollexclusive --<span class="hljs-built_in"><span class="hljs-built_in">help</span></span> -i, --ip=ADDR specify ip address -p, --port=PORT specify port -n, --threads=NUM specify number of threads to use <span class="hljs-comment"><span class="hljs-comment">#    -  n*8 -t, --thunder not adding EPOLLEXCLUSIVE #     thunder herd -h, --help prints this message $ sudo taskset -c 0-7 ./epollexclusive -i 10.56.75.201 -p 40000 -n 8 2&gt;&amp;1</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฑูุฒ ุงููุซุงู: <a href="">epollexclusive.c</a> (ุณูุนูู ููุท ูุน ุฅุตุฏุงุฑ kernel ูู 4.5) </p><br><p style=";text-align:right;direction:rtl">  ูุญุตู ุนูู ูููุฐุฌ ูุง ูุจู ุงูุดููุฉ ุนูู epoll.  ูุฐุง ุงููุฎุทุท ูุงุจู ููุชุทุจูู ุจุดูู ุฌูุฏ ูุงุชุตุงูุงุช TCP <strong>ูุตูุฑุฉ ุงูููุช</strong> . </p><br><h1 id="read" style=";text-align:right;direction:rtl">  ุงูุฑุฃ </h1><br><p style=";text-align:right;direction:rtl">  ูููู ูุน <strong>ูุฑุงุกุฉ ()</strong> ูู ุญุงูุฉ ุชุฏูู ุงูุจุงูุช ุ <strong>ูู ุชุณุงุนุฏูุง EPOLLEXCLUSIVE</strong> ุ ูุซู <strong>EPOLLET</strong> . </p><br><p style=";text-align:right;direction:rtl">  ูุฃุณุจุงุจ ูุงุถุญุฉ ุ ุจุฏูู <strong>EPOLLEXCLUSIVE</strong> ูุง ูููููุง ุงุณุชุฎุฏุงู ูุณุชูู ุงูุฅุทูุงู ุนูู ุงูุฅุทูุงู.  ูุน <strong>EPOLLEXCLUSIVE ุ</strong> ูู ุดูุก ููุณ ุฃูุถู ุ ุญูุซ ูููููุง ุงูุญุตูู ุนูู ุญุฒูุฉ ููุฒุนุฉ ุนูู ุงูุชุฏููุงุช ุ ุฅูู ุฌุงูุจ ูุตูู ุชุฑุชูุจ ุบูุฑ ูุนุฑูู ูู ูุญุฏุงุช ุงูุจุงูุช. </p><br><p style=";text-align:right;direction:rtl">  ูุน <strong>EPOLLET ุ ูุฅู</strong> ุงููุถุน ูู ููุณู. </p><br><p style=";text-align:right;direction:rtl">  ูููุง <strong>EPOLLONESHOT</strong> ูุน ุฅุนุงุฏุฉ ุงูุชููุฆุฉ ุนูุฏ ุงูุงูุชูุงุก ูู ุงูุนูู ุณูููู ุงููุฎุฑุฌ.  ูุฐูู ุ ุจูุฌุฑุฏ ุฃู ูุนูู ูุคุดุฑ ุชุฑุงุจุท ูุงุญุฏ ูุน ูุงุตู ุงูููู ูุงููุฎุฒู ุงููุคูุช: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชูุช ุฅุถุงูุฉ ุงูููุจุถ ุฅูู <strong>epoll</strong> ูุน ุฃุนูุงู <strong>EPOLLONESHOT |</strong>  <strong>ุงููุดุฑุฉ</strong> </li><li style=";text-align:right;direction:rtl">  ุงูุงูุชุธุงุฑ ุนูู <strong>epoll_wait ()</strong> </li><li style=";text-align:right;direction:rtl">  ูุฑุงุกุฉ ูู ูุฃุฎุฐ ุงูุชูุตูู ุฅูู ุงููุฎุฒู ุงููุคูุช ุญุชู ุชุฑุฌุน <strong>read ()</strong> <strong>EAGAIN</strong> </li><li style=";text-align:right;direction:rtl">  ุฅุนุงุฏุฉ ุชููุฆุฉ ูุน ุฃุนูุงู <strong>EPOLLONESHOT |</strong>  <strong>ุงููุดุฑุฉ</strong> </li></ul><br><h1 id="struct--epoll_event" style=";text-align:right;direction:rtl">  ูููู epoll_event </h1><br><pre style=";text-align:right;direction:rtl"> <code class="hljs cpp"><span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-keyword"><span class="hljs-keyword">union</span></span> epoll_data { <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> *ptr; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> fd; <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> u32; <span class="hljs-keyword"><span class="hljs-keyword">uint64_t</span></span> u64; } <span class="hljs-keyword"><span class="hljs-keyword">epoll_data_t</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">epoll_event</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> events; <span class="hljs-comment"><span class="hljs-comment">/* Epoll events */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">epoll_data_t</span></span> data; <span class="hljs-comment"><span class="hljs-comment">/* User data variable */</span></span> };</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฑุจูุง ูููู ูุฐุง ุงูุจูุฏ ูู ุงููุญูุฏ ูู ููุงูุชู IMHO ุงูุดุฎุตูุฉ.  ูู ุงููููุฏ ุงุณุชุฎุฏุงู ูุคุดุฑ ุฃู ุฑูู.  ุนูู ุณุจูู ุงููุซุงู ุ ุงุณุชุฎุฏุงู ูุคุดุฑ ุนูุฏ ุงุณุชุฎุฏุงู epoll ูุณูุญ ูู ุจุนูู ุฎุฏุนุฉ ูุซู ูุฐุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs go">#define container_of(ptr, <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>, member) ({ \ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> typeof( ((<span class="hljs-keyword"><span class="hljs-keyword">type</span></span> *)<span class="hljs-number"><span class="hljs-number">0</span></span>)-&gt;member ) *__mptr = (ptr); \ (<span class="hljs-keyword"><span class="hljs-keyword">type</span></span> *)( (char *)__mptr - offsetof(<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>,member) );}) <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> epoll_client { <span class="hljs-comment"><span class="hljs-comment">/** some usefull associated data...*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> epoll_event event; }; <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> epoll_client* to_epoll_client(<span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> epoll_event* event) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> container_of(event, <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> epoll_client, event); } <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> epoll_client ec; ... epoll_ctl(efd, EPOLL_CTL_ADD, fd, &amp;ec.e); ... epoll_wait (efd, events, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">-1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> epoll_client* ec_ = to_epoll_client(events[<span class="hljs-number"><span class="hljs-number">0</span></span>].data.ptr);</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฃุนุชูุฏ ุฃู ุงูุฌููุน ูุนุฑู ูู ุฃูู ุฃุชุช ูุฐู ุงูุชูููุฉ. </p><br><h1 id="zaklyuchenie" style=";text-align:right;direction:rtl">  ุงูุฎูุงุตุฉ </h1><br><p style=";text-align:right;direction:rtl">  ุขูู ุฃู ูุชููู ูู ูุชุญ ููุถูุน <strong>epoll</strong> .  ุฃููุฆู ุงูุฐูู ูุฑูุฏูู ุงุณุชุฎุฏุงู ูุฐู ุงูุขููุฉ ุจูุนู ุ ูุญุชุงุฌูู ููุท ุฅูู ูุฑุงุกุฉ ุงูููุงูุงุช ูู ูุงุฆูุฉ ุงููุฑุงุฌุน [1 ุ 2 ุ 3 ุ 5]. </p><br><p style=";text-align:right;direction:rtl">  ุงุณุชูุงุฏูุง ุฅูู ูุฐู ุงููุงุฏุฉ (ุฃู ุ ุฃูุถู ูู ุฐูู ุ ูุฑุงุกุฉ ุงูููุงุฏ ุจุนูุงูุฉ ูู ุงููุฑุงุฌุน) ุ ููููู ุฅูุดุงุก ุฎุงุฏู ูุชูุฏู ูุชุนุฏุฏ ุงูุฎููุท (ุงูุฌูู ุงููุชูุฏู ูู ุงูุนูููุฉ) ุจุฏูู ููู (ุฏูู ุญุธุฑ) ุฃู ูุฑุงุฌุนุฉ ุงูุงุณุชุฑุงุชูุฌูุงุช ุงูุญุงููุฉ ุจูุงุกู ุนูู ุงูุฎุตุงุฆุต ุงูุฎุงุตุฉ ูู <strong>epoll ()</strong> ). </p><br><p style=";text-align:right;direction:rtl">  <strong>ุชุนุฏ epoll</strong> ุฅุญุฏู ุงูุขููุงุช ุงููุฑูุฏุฉ ุงูุชู ูุญุชุงุฌ ุงูุฃุดุฎุงุต ุงูุฐูู ุงุฎุชุงุฑูุง ูุณุงุฑุงุช ุจุฑูุฌุฉ Linux ุงูุฎุงุตุฉ ุจูู ุฅูู ูุนุฑูุชูุง ุ ุญูุซ ุฃููู ูููุญูู ููุฒุฉ ุฌุฏูุฉ ุนูู ุฃูุธูุฉ ุงูุชุดุบูู ุงูุฃุฎุฑู) ุ ูุฑุจูุง ุณูุชุฎููู ุนู ุงููุธุงู ุงูุฃุณุงุณู ุงููุดุชุฑู ููุฐู ุงูุญุงูุฉ ุงููุญุฏุฏุฉ (ุฏุนูุง ุชุนูู ููุท ุนูู ููููุณ ููููุง ุณุชูุนู ุฐูู ุจุดูู ุฌูุฏ). </p><br><h2 id="rassuzhdeniya-ob-specifichnosti-zadachi" style=";text-align:right;direction:rtl">  ุงูุชูููุฑ ูู "ุฎุตูุตูุฉ" ุงููุดููุฉ </h2><br><p style=";text-align:right;direction:rtl">  ูุจู ุฃู ูุชุญุฏุซ ุดุฎุต ูุง ุนู ุฎุตูุตูุฉ ูุฐู ุงูุนูุงูุงุช ูุฃููุงุท ุงูุงุณุชุฎุฏุงู ุ ุฃุฑูุฏ ุฃู ุฃุทุฑุญ ุณุคุงููุง: </p><br><p style=";text-align:right;direction:rtl">  "ูููู ุฃููุณ ุดูุฆูุง ูุง ูุญุงูู ููุงูุดุฉ ุฎุตูุตูุฉ ุงูุขููุฉ ุงูุชู ุชู ุฅูุดุงุคูุง ูููุงู ูุญุฏุฏุฉ ูู ุงูุจุฏุงูุฉ [9 ุ 11]ุ ุฃู ุฃููุง ุญุชู ูุฎุฏู ุงุชุตุงูุงุช 1k ูู ูููุฉ ููููุฉ ูููุจุฑูุฌุ" </p><br><p style=";text-align:right;direction:rtl">  ุฃูุง ูุง ุฃููู ููููู "ุฎุตูุตูุฉ ุงููููุฉ" ุ ููู ูุฐูุฑูู ุจุฌููุน ุฃููุงุน ุงูุตุฑุงุฎ ุญูู ูุงุฆุฏุฉ ูุฏุฑุก ูุฎุชูู ุงูุชุฎุตุตุงุช ุงูุชู ูุชู ุชุฏุฑูุณูุง.  ุฅุฐุง ุณูุญูุง ูุฃููุณูุง ุจุงูุนูู ุจูุฐู ุงูุทุฑููุฉ ุ ูุฅููุง ูุชุญูู ูุฃููุณูุง ุงูุญู ูู ุฃู ููุฑุฑ ููุขุฎุฑูู ูุง ูู ุงููุนูููุงุช ุงููููุฏุฉ ููู ูุฃููุง ุนุฏูู ุงููุงุฆุฏุฉ ุ ุจูููุง ูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุฃูู ูุง ุชุดุงุฑู ูู ุนูููุฉ ุงูุชุนููู ููู. </p><br><p style=";text-align:right;direction:rtl">  ูููุดูููู ุ ุฒูุฌุงู ูู ุงูุฑูุงุจุท: </p><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฒูุงุฏุฉ ุงูุฃุฏุงุก ุจุงุณุชุฎุฏุงู SO_REUSEPORT ูู NGINX 1.9.1 - VBart</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุชุนูู ูู ููููููุฑู: ุงููุจูู () ุงูุฑุนุฏ ุงููุทูุน ุจุฏูู ูุดููุฉ - ูุฑูุณ ุณูุจููุงู</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุณูุณู ูุจูู () ุ AKA Thundering Herd ุ AKA the Zeeg Problem - ุฑูุจุฑุชู ุฏู ุฅููุฑูุณ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููู ูุชูุงุนู ูุถุน EPOLLEXCLUSIVE epoll ูุน ุชุดุบูู ุงููุณุชููุ</a> </p><br><h1 id="spisok-literatury" style=";text-align:right;direction:rtl">  ุงููุฑุงุฌุน </h1><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงุฎุชุฑ ููุณูุฑุฉ ุจุดูู ุฃุณุงุณู - ูุงุฑูู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุณุฑ Epoll ุจุดูู ุฃุณุงุณู 1/2 - ูุงุฑูู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุณุฑ Epoll ุจุดูู ุฃุณุงุณู 2/2 - ูุงุฑูู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุดููุฉ C10K - ุฏุงู ููุฌู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงุณุชุทูุงุน ุฑุฃู Epoll ุ ูุฑุฉ ุฃุฎุฑู - ุฌุงู Mattheij</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">epoll - ูุฑูู ุฅุฎุทุงุฑ ุญุฏุซ I / O - The Mann</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุทุฑููุฉ ุฌููู Epoll - Cindy Sridharan</a> </li></ol><br><h2 id="benchmarks" style=";text-align:right;direction:rtl">  ุงููุนุงููุฑ </h2><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://www.kernel.org/doc/ols/2004/ols2004v1-pages-215-226.pdf</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">http://lse.sourceforge.net/epoll/index.html</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://mvitolin.wordpress.com/2015/12/05/endurox-testing-epollexclusive-flag/</a> </li></ol><br><h2 id="evolyuciya-epoll" style=";text-align:right;direction:rtl">  ุชุทูุฑ epoll </h2><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://lwn.net/Articles/13918/</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://lwn.net/Articles/520012/</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://lwn.net/Articles/520198/</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://lwn.net/Articles/542629/</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://lwn.net/Articles/633422/</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://lwn.net/Articles/637435/</a> </li></ol><br><h1 id="postskriptum" style=";text-align:right;direction:rtl">  ุจูุณุชุณูุฑูุจุช </h1><br><p style=";text-align:right;direction:rtl">  ุดูุฑุง ุฌุฒููุง ูุณูุฑุฌู ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">dlinyj</a> ) ูุจูุชุฑ ุฃููุดููููู ุนูู ุงูููุงูุดุงุช ุงููููุฉ ูุงูุชุนูููุงุช ูุงููุณุงุนุฏุฉ! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar416669/">https://habr.com/ru/post/ar416669/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar416657/index.html">ูุญุชูู ุซูุซุง ุจุทุงูุงุช ุงูุฐุงูุฑุฉ ุงููุณุชุฎุฏูุฉ ุนูู ุจูุงูุงุช ุดุฎุตูุฉ ูููุงูููู ุงูุณุงุจููู</a></li>
<li><a href="../ar416659/index.html">ุจุณุจุจ ุญุฌู ุงููุฏููุนุงุช ุงูุฑูููุฉ ูุงูุชุตุงุฏ ุงูุญููุฉ ุณูุตู ุฅูู 1.2 ุชุฑููููู ุฏููุงุฑ</a></li>
<li><a href="../ar416661/index.html">ูุง ูู ุงูุงุชุฌุงูุงุช ุงูุชู ูุฌุจ ูุฑุงุนุงุชูุง ูู ูุจู ูุณุชุฎุฏูู ูููุฏูู ุงูุฎุฏูุงุช ุงููุตุฑููุฉ ุนุจุฑ ุงููุงุชู ุงููุญููู</a></li>
<li><a href="../ar416665/index.html">ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ููุชุจุงุช Android ุงูุฎุงุตุฉ ุจุงุณุชุฎุฏุงู Sonatype Nexus Repository OSS</a></li>
<li><a href="../ar416667/index.html">ููุฒุงููุฉ ุนุฒู ุงูุบุจุงุฑ ูุงูุถูุถุงุก ููุญุฏุฉ ุงููุธุงู ุงููุฏููุฉ</a></li>
<li><a href="../ar416673/index.html">ุญู ุชุญูููู ูููุฏูุฑ</a></li>
<li><a href="../ar416677/index.html">ุงูุณุงูุจุฑุจุงูู ููุธุงุฑุงุช ุงููุฑุขุฉ: ุชุฃููุงุช ูู ุงูููุถุฉ ูุงูุซูุงูุฉ</a></li>
<li><a href="../ar416679/index.html">ุงูุญูุณุจุฉ ุงููุญูุทูุฉ: ูุจุงุฑุงุฉ ูุฏูุฉ ุจูู "ุงูุถุจุงุจ" ู "ุงูุบููู"</a></li>
<li><a href="../ar416681/index.html">ููู ูู PostgreSQL ู ClickHouse ูู Python ูุซูุฑูุง ุ ุจุดูู ุณุฑูุน ูููุฑู ูู numpy</a></li>
<li><a href="../ar416683/index.html">ูุง ูู ุงูุฎุทูุฉ ุงูุชุงููุฉุ ุฃู ููููุฉ ุงุฎุชูุงุฑ ููุฒุงุช ููุชุทููุฑ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>