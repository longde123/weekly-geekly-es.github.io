<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤶 👑 👩🏼‍🌾 Anleitung: Wie erstelle ich einen einfachen Bot für JS Telegram für einen Anfänger in der Programmierung? 👂 🏂🏿 👩🏾‍🚒</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ich habe erst vor drei Wochen angefangen, in die IT-Welt einzutauchen. Im Ernst, vor drei Wochen verstand ich nicht einmal die HTML-Syntax und meine K...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Anleitung: Wie erstelle ich einen einfachen Bot für JS Telegram für einen Anfänger in der Programmierung?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/447006/">  Ich habe erst vor drei Wochen angefangen, in die IT-Welt einzutauchen.  Im Ernst, vor drei Wochen verstand ich nicht einmal die HTML-Syntax und meine Kenntnis der Programmiersprachen endete mit einem 10 Jahre alten Lehrplan der Pascal-Schule.  Ich beschloss jedoch, ins IT-Camp zu gehen, für dessen Kinder es schön wäre, einen Bot zu machen.  Ich entschied, dass es kaum so schwierig war. <br><br>  Dies begann eine lange Reise, auf der ich: <br><br><ul><li>  einen Cloud-Server mit Ubuntu bereitgestellt, </li><li>  registriert auf github </li><li>  Erlernte die grundlegende JavaScript-Syntax </li><li>  Lesen Sie eine Menge Artikel in Englisch und Russisch. </li><li>  endlich einen bot gemacht </li><li>  schrieb diesen Artikel schließlich. </li></ul><br>  Das Endergebnis sah ungefähr so ​​aus: <br><br><img src="https://habrastorage.org/webt/qi/72/kz/qi72kzkdbw7i_mk0bry9i9bcrew.png"><br><a name="habracut"></a><br>  Ich werde gleich sagen, dies ist ein Artikel für Anfänger - nur um zu verstehen, wie man elementare Dinge vom Nullpunkt aus macht. <br><br>  Und auch - für fortgeschrittene Programmierer - nur um sie ein bisschen zum Lachen zu bringen. <br><br>  <b>1. Wie schreibe ich Code in JS?</b> <br><br>  Ich habe verstanden, dass es sich lohnt, zumindest die Syntax der Sprache zu verstehen.  Die Wahl fiel auf JavaScript, einfach weil der nächste Schritt für mich darin bestand, eine Anwendung auf ReactNative zu erstellen.  Ich begann mit einem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kurs</a> über Codecademy und war begeistert.  Die ersten 7 Tage sind kostenlos.  Echte Projekte.  Ich empfehle es.  Das Passieren dauerte ungefähr 25 Stunden.  In der Tat war alles andere als praktisch.  So sieht die Kursstruktur aus und der erste Block ist im Detail. <br><br><img src="https://habrastorage.org/webt/cv/et/v9/cvetv9w-mfsa3oyb4rjzqhsaphu.png"><br><br>  <b>2. Wie registriere ich einen Bot?</b> <br><br>  Am Anfang hat mir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dieser Artikel</a> aus dem Blog eines bestimmten Archakov sehr geholfen.  Er kaut ganz am Anfang.  Aber die Hauptsache ist, dass es eine Anweisung zum Registrieren eines Bots gibt.  Ich werde nicht besser schreiben und da dies der einfachste Teil ist, schreibe ich nur das Wesentliche.  Sie müssen einen Bot erstellen und dessen API erhalten.  Dies geschieht durch einen anderen Bot - @BotFather.  Finden Sie es im Telegramm, schreiben Sie es, gehen Sie einen einfachen Pfad durch und erhalten Sie (Speichern!) Einen API-Schlüssel (dies ist eine Reihe von Zahlen und Buchstaben).  Es hat sich später als nützlich erwiesen. <br><br><img src="https://habrastorage.org/webt/se/yv/pj/seyvpjcxg3cv4s_vcagqxyyhtwq.png"><br><br>  <b>3. Wie sieht der Bot-Code aus?</b> <br><cut><br>  Nach einem langen Studium der Artikel wurde mir klar, dass es sich lohnt, eine Bibliothek (Code von Drittanbietern im Modulformat) zu verwenden, um nicht die Telegramm-API zu lernen und große Codeteile von Grund auf neu zu erstellen.  Ich fand das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Telegraf-</a> Framework, das irgendwie mit npm oder Garn mit etwas verbunden werden musste.  So habe ich dann verstanden, woraus der Einsatz des Bots besteht.  Lache hier.  Ich werde nicht beleidigt sein.  Die folgenden Beispiele am Ende der Seite haben mir vor allem bei der anschließenden Erstellung des Bots geholfen: <br><br><img src="https://habrastorage.org/webt/j_/n_/pr/j_n_praw6dpswa0q0veu5bj1osm.png"><br><br>  <b>3. So erstellen Sie Ihren eigenen Cloud-Server für 100 Rubel</b> <br><br>  Nach einer langen Suche wurde mir klar, dass der Befehl 'npm' aus dem obigen Bild auf die Befehlszeile verweist.  Die Befehlszeile ist überall, aber um sie auszuführen, müssen Sie NodePackageManager installieren.  Das Problem war, dass ich mit ChromeOS auf dem PixelBook programmierte.  Ich werde hier einen großen Block darüber überspringen, wie ich Linux gelernt habe - für die meisten ist dies leer und unnötig.  Wenn Sie ein Windows oder MacBook haben, haben Sie bereits eine Konsole. <br><br>  Kurz gesagt, ich habe Linux über Crostini installiert. <br><br>  Dabei wurde mir jedoch klar, dass ich einen Cloud-Server benötige, damit der Bot ständig funktioniert (und nicht nur, wenn mein Computer eingeschaltet ist).  Ich entschied mich für <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vscale.io</a> Ich warf 100 Rubel, kaufte den billigsten Ubuntu-Server ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">siehe Bild</a> ). <br><br><img src="https://habrastorage.org/webt/rs/ad/jn/rsadjnqc7eok_5wps7dqbftw9yo.png"><br><br>  <b>4. So bereiten Sie den Server für den Start des Bots vor</b> <br><br>  Danach wurde mir klar, dass ich auf dem Server eine Art Ordner erstellen muss, in den ich die Datei mit dem Codetext einfügen werde.  Dazu bin ich in der Konsole (direkt auf der Site über die Schaltfläche "Konsole öffnen") gefahren <br><br><pre><code class="plaintext hljs">mkdir bot</code> </pre> <br>  bot - das ist der Name meines Ordners geworden.  Danach habe ich npm und Node.js installiert, mit denen ich Code aus Dateien mit der Berechtigung * .js ausführen kann <br><br><pre> <code class="plaintext hljs">sudo apt update sudo apt install nodejs sudo apt install npm</code> </pre> <br>  Ich empfehle dringend, zu diesem Zeitpunkt die Verbindung zum Server über Ihre Konsole zu konfigurieren.  Hier ist die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Anweisung: Auf</a> diese Weise können Sie direkt über die Konsole Ihres Computers mit dem Server arbeiten. <br><br>  <b>5. Wie schreibe ich den Code des ersten Bots?</b> <br><br>  Und jetzt ist es nur eine Entdeckung für mich.  Jedes Programm besteht nur aus Textzeilen.  Sie können überall gefahren werden, mit der gewünschten Erweiterung und allem gespeichert werden.  Du bist wunderschön  Ich habe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Atom verwendet</a> , aber wirklich, Sie können einfach in Standard-Notizblock schreiben.  Die Hauptsache ist, die Datei später in der gewünschten Erweiterung zu speichern.  So schreiben Sie Text in Word und speichern ihn. <br><br>  Ich habe eine neue Datei erstellt, in die ich den Code aus dem Beispiel auf der Telegraf-Seite eingefügt und in der Datei index.js gespeichert habe (es ist nicht erforderlich, die Datei so zu benennen, aber sie wird akzeptiert).  Wichtig - Geben Sie anstelle von BOT_TOKEN Ihren API-Schlüssel aus dem zweiten Absatz ein. <br><br><pre> <code class="plaintext hljs">const Telegraf = require('telegraf') const bot = new Telegraf(process.env.BOT_TOKEN) bot.start((ctx) =&gt; ctx.reply('Welcome!')) bot.help((ctx) =&gt; ctx.reply('Send me a sticker')) bot.on('sticker', (ctx) =&gt; ctx.reply('')) bot.hears('hi', (ctx) =&gt; ctx.reply('Hey there')) bot.launch()</code> </pre> <br>  <b>6. So laden Sie Code über Github auf den Server hoch</b> <br><br>  Jetzt musste ich diesen Code irgendwie auf den Server hochladen und ausführen.  Für mich wurde es eine Herausforderung.  Als Ergebnis wurde mir nach einer langen Prüfung klar, dass es einfacher sein würde, eine Datei auf github zu erstellen, die aufruft, um den Code mit dem Befehl in der Konsole zu aktualisieren.  Ich habe ein Konto bei <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">github registriert</a> und ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">neues Projekt erstellt</a> , in das ich die Datei hochgeladen habe.  Danach musste ich verstehen, wie man das Hochladen von Dateien von meinem Konto (offen!) Auf den Server im Bot-Ordner konfiguriert (wenn Sie ihn plötzlich verlassen haben, schreiben Sie einfach einen CD-Bot). <br><br>  <b>7. So laden Sie Dateien über Github Teil 2 auf den Server hoch</b> <br><br>  Ich musste ein Programm auf den Server stellen, das Dateien von git herunterlädt.  Ich habe Git auf den Server gelegt und es zur Konsole gefahren <br><br><pre> <code class="plaintext hljs">apt-get install git</code> </pre> <br>  Danach musste ich den Datei-Upload konfigurieren.  Dazu habe ich in die Kommandozeile gehämmert <br><br><pre> <code class="plaintext hljs">git clone git://github.com/b0tank/bot.git bot</code> </pre><br>  Infolgedessen wurde alles aus dem Projekt auf den Server hochgeladen.  Der Fehler in dieser Phase war, dass ich im Wesentlichen einen zweiten Ordner innerhalb des bereits vorhandenen Bot-Ordners erstellt habe.  Die Adresse vor der Datei sah aus wie * / bot / bot / index.js <br><br>  Ich beschloss, dieses Problem zu vernachlässigen. <br><br>  Um die Telegraf-Bibliothek zu laden, die wir in der ersten Codezeile anfordern, geben Sie einen Befehl in die Konsole ein. <br><br><pre> <code class="plaintext hljs">npm install telegraf</code> </pre> <br>  <b>8. So starten Sie einen Bot</b> <br><br>  Führen Sie dazu im Ordner mit der Datei (um über die Konsole von Ordner zu Ordner zu wechseln - den Befehl des <code>cd bot</code> Formats aus, um sicherzustellen, dass Sie dort sind, wo Sie einen Befehl ausführen müssen, der in der Konsole alle Dateien und Ordner anzeigt, die dort liegen. <code>ls -a</code> <br><br>  Zum Ausführen habe ich die Konsole betreten <br><br><pre> <code class="plaintext hljs">node index.js</code> </pre><br>  Wenn es keinen Fehler gibt - alles ist in Ordnung, funktioniert der Bot.  Suchen Sie ihn im Telegramm.  Wenn es einen Fehler gibt - wenden Sie Ihr Wissen ab 1 Punkt an. <br><br>  <b>9. So starten Sie einen Bot im Hintergrund</b> <br><br>  Schnell genug werden Sie feststellen, dass der Bot nur funktioniert, wenn Sie selbst in der Konsole sitzen.  Um dieses Problem zu lösen, habe ich den Befehl verwendet <br><br><pre> <code class="plaintext hljs">screen</code> </pre> <br>  Danach erscheint ein Bildschirm mit Text.  Das heißt, alles ist gut.  Sie befinden sich auf einem virtuellen Server auf einem Cloud-Server.  Um besser zu verstehen, wie das alles funktioniert, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier ein Artikel</a> .  Gehen Sie einfach zu Ihrem Ordner und geben Sie den Befehl ein, um den Bot zu starten <br><br><pre> <code class="plaintext hljs">node index.js</code> </pre> <br>  <b>10. Wie funktioniert der Bot und wie erweitert er seine Funktionalität?</b> <br><br>  Was kann unser Bot aus dem Beispiel tun?  Er kann <br><br><pre> <code class="plaintext hljs">bot.start((ctx) =&gt; ctx.reply('Welcome!'))</code> </pre> <br>  sag "Willkommen!"  zum Zeitpunkt des Starts (versuchen Sie, den Text zu ändern) <br><br><pre> <code class="plaintext hljs">bot.help((ctx) =&gt; ctx.reply('Send me a sticker'))</code> </pre> <br>  als Antwort auf den Standardbefehl / die Standardhilfe senden Sie eine Nachricht "Senden Sie mir einen Aufkleber" <br><br><pre> <code class="plaintext hljs">bot.on('sticker', (ctx) =&gt; ctx.reply(''))</code> </pre> <br>  als Antwort auf den Aufkleber senden Sie die Genehmigung <br><br><pre> <code class="plaintext hljs">bot.hears('hi', (ctx) =&gt; ctx.reply('Hey there'))</code> </pre> <br>  antworte "Hey there", wenn sie "hi" sagen <br>  bot.launch () <br><br><img src="https://habrastorage.org/webt/af/dy/rw/afdyrw8ffn4et_wcaqhpqvblxcc.png"><br><br>  Wenn Sie sich den Code auf <a href="">Github ansehen</a> , werden Sie schnell feststellen, dass ich von dieser Funktionalität nicht weit entfernt bin.  Was aktiv verwendet wird, ist die Funktion <code>ctx.replyWithPhoto</code> mit der Sie ein bestimmtes Foto oder GIF als Antwort auf einen bestimmten Text senden können. <br><br>  Ein wesentlicher Teil des Codes wurde von Kindern im Alter von 11 bis 13 Jahren geschrieben, denen ich Zugang zum Bot gewährte.  Sie stellten ihren User-Case vor.  Ich denke, es ist einfach festzustellen, welches Teil von ihnen hergestellt wurde. <br><br>  Zum Beispiel enthält die Nachricht „jake“ ein GIF mit einer berühmten Figur aus dem Cartoon Adventure Time. <br><br><img src="https://habrastorage.org/webt/d_/uw/7l/d_uw7lowyis6kiupnbc_vb5_cfs.png"><br><br>  Um den Bot weiterzuentwickeln und die Tastatur anzuschließen, müssen Sie sich beispielsweise Beispiele <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">von hier aus</a> ansehen <br><br>  <b>11. So aktualisieren Sie den Code und starten den Bot neu</b> <br><br>  Vergessen Sie nicht, dass Sie den Code nicht nur auf Github, sondern auch auf dem Server aktualisieren müssen.  Um dies zu tun, ist es einfach - stoppen Sie den Bot (drücken Sie Strg + C), <br><br>  - in die Konsole eintreten, sich im Zielordner befinden, <code>git pull</code> <br>  - Starten Sie den Bot erneut mit dem <code>node index.js</code> <br><br>  <b>Ende</b> <br><br>  Viele der in dieser Datei beschriebenen Dinge sind für fortgeschrittene Programmierer sehr offensichtlich.  Als ich jedoch selbst auf einen Schlag versuchte, über den Abgrund in die Welt der Bots zu springen, vermisste ich einen solchen Führer wirklich.  Ein Leitfaden, in dem Dinge, die für jeden IT-Spezialisten offensichtlich und einfach sind, nicht übersehen werden. <br><br>  In Zukunft plane ich einen Beitrag darüber, wie ich meine erste ReactNative-Anwendung im gleichen Stil erstellen kann. Abonnieren Sie! </cut></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de447006/">https://habr.com/ru/post/de447006/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de446996/index.html">Die Pomodoro-Methode ist nicht so cool wie sie sein könnte</a></li>
<li><a href="../de446998/index.html">Starten der SAP-GUI über einen Browser</a></li>
<li><a href="../de447000/index.html">Audioformatkriege: 10 Materialien auf digitalen und analogen Medien</a></li>
<li><a href="../de447002/index.html">Cabinet Lounge Foto Coworking Tour</a></li>
<li><a href="../de447004/index.html">Universal Watchdog auf ATtiny13</a></li>
<li><a href="../de447008/index.html">So übernehmen Sie die Kontrolle über Ihre Netzwerkinfrastruktur. Inhaltsverzeichnis</a></li>
<li><a href="../de447010/index.html">Nicht lange spielte die Musik ... oder wie das Betriebssystem Elbrus nie frei wurde</a></li>
<li><a href="../de447014/index.html">Einweg-Ref-Strukturen in C # 8.0</a></li>
<li><a href="../de447016/index.html">25 Jahre später: ein Interview mit Linus Torvalds</a></li>
<li><a href="../de447018/index.html">Quantenanreicherung in einer Multi-Welt-Interpretation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>