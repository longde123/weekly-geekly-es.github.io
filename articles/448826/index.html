<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§æ ü•ö üí£ Aire acondicionado IT. Parte 1 ‚ûó ü§∑üèΩ üë©üèæ‚Äçü§ù‚Äçüë®üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Penny, las cosas mejoran cuando hay Bluetooth ¬© Sheldon, TBBT 
 Aunque la casa es " prueba ", todos trataron de hacerlo lo m√°s correctamente posible: ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Aire acondicionado IT. Parte 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/448826/"><blockquote>  Penny, las cosas mejoran cuando hay Bluetooth ¬© Sheldon, TBBT </blockquote><br>  Aunque la casa es " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">prueba</a> ", todos trataron de hacerlo lo m√°s correctamente posible: buen aislamiento, ventanas de doble acristalamiento decentes, etc. <br><br>  En invierno, cuando hace buen tiempo, el sol calienta la casa hasta el punto de que un termostato apaga la calefacci√≥n con calefacci√≥n por suelo radiante.  Todo parece estar bien, pero lleg√≥ la primavera y qued√≥ claro que la casa se estaba sobrecalentando y necesitaba ser enfriada. <br><br>  Previmos este escenario y nos preparamos para la instalaci√≥n de un aire acondicionado de antemano: colocamos todas las carreteras necesarias en la etapa de construcci√≥n. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Al tema de windows</b> <div class="spoiler_text">  En general, por supuesto, valdr√≠a la pena colocar ventanas de doble acristalamiento con MF e I-glasses, pero aqu√≠ la "espada de doble filo" (sin embargo, como siempre) no recibir√≠a calor libre del sol en invierno. <br><br>  Idealmente, ser√≠a primero calcular qu√© es m√°s rentable: es menos usar una calefacci√≥n por suelo radiante el√©ctrico para calentar en el per√≠odo fr√≠o o menos usar un acondicionador de aire para enfriar y calentar, y en base a dicho an√°lisis, elija qu√© ventanas de doble acristalamiento se instalar√°n m√°s <b>correctamente</b> . <br><br>  Pero nadie ha hecho tal an√°lisis, entonces tenemos lo que tenemos. <br><br>  Por cierto, ni los constructores ni los trabajadores de ventanas recomendaron qu√© ventanas de doble acristalamiento ser√≠an mejores para usar en nuestro caso.  Debe resolverlo por su cuenta (incluido el pago de errores). <br></div></div><br>  Uno de los criterios importantes para elegir un acondicionador de aire para mi "casa de prueba" es la posibilidad de su integraci√≥n en el sistema de " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">casa inteligente</a> ". <br><br><div class="spoiler">  <b class="spoiler_title">Integraci√≥n "barata y alegre"</b> <div class="spoiler_text">  Por supuesto, la integraci√≥n m√°s f√°cil de casi cualquier aire acondicionado es usar comandos de control remoto IR.  Pero esta opci√≥n no me conviene por razones ideol√≥gicas: no hay informaci√≥n sobre el estado actual del dispositivo. <br><br>  Por lo tanto, descartamos inmediatamente esta opci√≥n y seguimos adelante. <br></div></div><br><h3>  Harina de elecci√≥n </h3><br>  Naturalmente, los par√°metros restantes tambi√©n son muy importantes (desde las prioridades principales: la operaci√≥n m√°s silenciosa, la clase de consumo de energ√≠a no es inferior a "A", el precio). <br><br>  La elecci√≥n recay√≥ en el inversor Electrolux (serie Atrium).  El fabricante indica expl√≠citamente que el aire acondicionado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">se puede controlar a trav√©s de WiFi</a> (solo necesita comprar el m√≥dulo WiFi opcional). <br><br>  El precio es relativamente humano (otros modelos de inversores con WiFi son aproximadamente un 30% m√°s caros, lo que de alguna manera es demasiado para una casa de hu√©spedes). <br><br><div class="spoiler">  <b class="spoiler_title">Llamada de atenci√≥n</b> <div class="spoiler_text">  El proveedor, por alguna raz√≥n, habla vacilante sobre el m√≥dulo WiFi y evade su entrega de todas las formas posibles bajo varios pretextos.  Ahora entiendo que esto es una "campana", pero seguimos adelante. <br></div></div><br>  Ayuda de Google, manuales y otra informaci√≥n: (algo as√≠ como) requiere el m√≥dulo Electrolux ECH / WF-01 Smart Wi-Fi.  Y no hay escasez en absoluto (este m√≥dulo tambi√©n se usa para calentadores de agua y convectores el√©ctricos del mismo fabricante) y el precio es m√°s que asequible: menos de mil rublos (en general, deber√≠a haber sido ligeramente alertado).  La aplicaci√≥n de gesti√≥n es una para todos estos tipos de dispositivos, lo que parece bastante razonable: el fabricante quiere que se forme un "ecosistema". <br><br>  Un poco m√°s de investigaci√≥n (echar un vistazo al c√≥digo normal de la aplicaci√≥n de Android) y resulta que la aplicaci√≥n se comunica con la nube en: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">dongle.rusklimat.ru/api</a> : s√≠, se vuelve a√∫n m√°s interesante y de inmediato aparecen pensamientos sobre c√≥mo ser√° necesario proporcionar integraci√≥n con el sistema de casa inteligente (UD) <br><br><div class="spoiler">  <b class="spoiler_title">"Campana" n√∫mero dos</b> <div class="spoiler_text">  La revisi√≥n de un cliente se encontr√≥ en uno de los sitios, donde dijo que la nube a menudo "rueda" e inicialmente esper√≥ y tortur√≥ el soporte t√©cnico durante unos dos meses antes de que el sistema funcionara como se anunci√≥.  La revisi√≥n es bastante antigua: pens√© que ya hab√≠a solucionado los problemas y que todo estar√≠a bien. <br></div></div><br>  Se orden√≥ el sistema dividido, se design√≥ el d√≠a de la instalaci√≥n: todo est√° claro: un par de horas y se proporciona una agradable frescura. <br><br><img src="https://habrastorage.org/webt/xh/qa/eo/xhqaeou4lqkpkhzasferpb52qpg.jpeg"><br><br>  Ahora es el momento de pedir un m√≥dulo opcional. <br><br><h3>  Rastrillo </h3><br>  Lleg√≥ el m√≥dulo Smart WiFi, no es nada especial: una "unidad flash" con un solo bot√≥n y un LED que brilla tenuemente a trav√©s de la carcasa (por supuesto, cuando est√° conectado a la alimentaci√≥n). <br><br><img src="https://habrastorage.org/webt/pd/ky/6z/pdky6zvzhyne4lpuo0ryek9yewq.jpeg"><br><br>  Lo conect√© primero a la computadora port√°til (necesito ver lo que el m√≥dulo "pretende ser)) ... pero no apareci√≥ un solo dispositivo nuevo en el sistema (me sorprendi√≥, pero por alguna raz√≥n no mucho). <br><br>  Bien, intentemos usarlo de manera regular: el m√≥dulo ha tomado el conector correspondiente en la unidad interior del aire acondicionado. <br><br><img src="https://habrastorage.org/webt/kg/pn/uc/kgpnuc-pmsqnle2ce9k1xgxfbau.jpeg"><br><br><div class="spoiler">  <b class="spoiler_title">Reverso de la pantalla</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/jo/6p/fg/jo6pfg5g7toybpwkbg-wig29kw0.jpeg"><br></div></div><br>  Instal√© el programa y segu√≠ las instrucciones: presion√≥ el bot√≥n del m√≥dulo durante cinco segundos; comenz√≥ a parpadear el LED amarillo (modo Smartlink), en el cuadro de di√°logo que apareci√≥, indic√≥ el nombre de la red wifi y su contrase√±a ... la luz del m√≥dulo parpade√≥ y se volvi√≥ azul (de acuerdo con las instrucciones) modo normal). <br><br>  Aunque todo se hizo de acuerdo con las instrucciones, el dispositivo no apareci√≥ en el programa (varios temores comenzaron a justificarse). <br><br>  Bueno, de acuerdo, seguimos adelante y tratamos de entender a qu√© nos enfrentamos: miramos la interfaz web del enrutador.  Enrutador: mostr√≥ que el nuevo dispositivo wifi est√° conectado y funcionando (aplausos, una peque√±a victoria y algo sigue funcionando). <br><br>  Al mismo tiempo, el enrutador pas√≥ este m√≥dulo como un contenedor de vidrio: el nombre del nuevo host es "HF-LPT220". <br><br>  Una b√∫squeda r√°pida mostr√≥ que este es un SoC UART-WiFi (alrededor de $ 5 cada uno y 60-80 centavos para compras al por mayor). <br><br><h3>  Una autopsia revel√≥ que el paciente muri√≥ a causa de una autopsia. </h3><br>  Desconectamos el m√≥dulo del aire acondicionado y abrimos la caja de este silbato (se abre f√°cilmente y se cierra f√°cilmente). <br><br><img src="https://habrastorage.org/webt/ft/gv/v2/ftgvv2jtp8kwwninldqtekvt1iw.jpeg"><br><br>  Se puede ver en la foto de arriba que el enrutador dijo la verdad verdadera: un m√≥dulo de "tres centavos" con un m√≠nimo de flejes (estabilizador de potencia, LED (dos colores), bot√≥n, convertidor de nivel): ya se hizo evidente que incluso el precio solicitado para este m√≥dulo era obviamente demasiado alto (est√° bien , suponemos que tambi√©n establecieron la remuneraci√≥n del trabajo de los programadores que supuestamente deb√≠an escribir firmware que proporcionar√≠a la funcionalidad necesaria). <br><br>  Preste atenci√≥n a los contactos firmados del conector usb (desde usb, solo el caso del conector y la misma ubicaci√≥n de los cables de alimentaci√≥n), por lo tanto, no es de extra√±ar que la computadora no haya detectado el m√≥dulo. <br><br><img src="https://habrastorage.org/webt/_m/mk/o_/_mmko_2i4lh5xfeisxtzqekfhwk.jpeg"><br><br>  Por lo tanto, la automatizaci√≥n del control de este aire acondicionado, puede hacerlo en cualquier cosa (al menos en el Arduino), solo necesita saber qu√© comandos espera recibir el sistema. <br><br>  Pero esta informaci√≥n sobre los equipos simplemente no lo hacemos. <br><br><h3>  Vectores de pensamiento </h3><br>  En realidad, dado que todos los componentes est√°n disponibles y ha aparecido informaci√≥n adicional sobre lo que realmente tenemos, las siguientes opciones parecen l√≥gicas: <br><br><ol><li>  An√°lisis de intercambio de red: la idea era implementar un "servidor proxy", al cual reenviar el intercambio inicial entre el aire acondicionado y la "nube" (por medio de un enrutador), y desde este "proxy", para organizar la interacci√≥n con la "nube".  Luego integre este servidor en el sistema de casa inteligente; al mismo tiempo, ser√≠a posible lograr el trabajo tanto a trav√©s de una aplicaci√≥n est√°ndar para el aire acondicionado como a trav√©s de UD (guiones autom√°ticos, etc.). </li><li>  Conecte la computadora a trav√©s del m√≥dulo USB-UART a la unidad interna del sistema, seleccione la tasa de cambio y "escuche", qu√© le dice el aire acondicionado al m√≥dulo (quiero creer que el intercambio contin√∫a independientemente de si el m√≥dulo est√°ndar est√° conectado o no).  Espero que despu√©s de recibir comandos del control remoto IR, el aire acondicionado los ejecute y env√≠e el mensaje correspondiente a trav√©s del m√≥dulo WiFi a la "nube" para mostrar el estado actual.  Y espero que los desarrolladores sean perezosos y que estos mensajes sean id√©nticos a los comandos recibidos del m√≥dulo WiFi. </li><li>  Conecte la computadora a trav√©s del m√≥dulo USB-UART al m√≥dulo WiFi e intente usar la aplicaci√≥n est√°ndar para "dirigir" el aire acondicionado y al mismo tiempo recibir comandos del m√≥dulo WiFi para el sistema dividido.  Esta opci√≥n es muy prometedora para el an√°lisis, pero, desafortunadamente, mi aire acondicionado no apareci√≥ en la aplicaci√≥n est√°ndar (en este momento), por lo tanto, no es posible enviar comandos desde el tel√©fono. </li></ol><br><h3>  Intentos </h3><br>  Como la aplicaci√≥n normal no comenz√≥ con el m√≥dulo WiFi, comenc√© con el m√°s simple: segu√≠ la opci√≥n 2: tom√© USB-UART y me conect√© a la unidad interior del aire acondicionado. <br><br>  Desafortunadamente, la opci√≥n no trajo un resultado: el sistema dividido es "silencioso" a todas las velocidades de intercambio y no reacciona a est√≠mulos externos de ninguna manera.  Aparentemente, la "protecci√≥n contra pirater√≠a" est√° incorporada: probablemente, el m√≥dulo WiFi original env√≠a algunos datos, seg√∫n los cuales la unidad principal reconoce "nuestro" e intercambia. <br><br>  Al abordar su hip√≥tesis, escribi√≥ varias cartas: a Electrolux y a los desarrolladores de software m√≥vil. <br><br><h4>  Electrolux </h4><br>  En realidad, todos los equipos clim√°ticos de la marca Electrolux son suministrados oficialmente por Rusklimat (mi primer contacto con esta compa√±√≠a fue hace unos 10 a√±os y estaba lejos de ser agradable, pero esa es otra historia).  Por lo tanto, no me sorprendi√≥ mucho que, en respuesta a una solicitud en el sitio web de Electrolux, viniera de un especialista t√©cnico de Rusclimate. <br><br>  Bueno, la respuesta fue con tal sentido que el m√≥dulo que compr√© no se ajusta a los acondicionadores de aire, pero todav√≠a no hay uno "adecuado" y solo se espera a mediados de julio de 2019. <br><br><h4>  Desarrolladores de software m√≥vil </h4><br>  El desarrollador de software para Rusklimat es la empresa Ipol LLC.  Los desarrolladores respondieron que en la versi√≥n actual los aires acondicionados no eran compatibles, y de la solicitud de "compartir el protocolo de intercambio", por supuesto, respondieron que no revelaron dicha informaci√≥n. <br><br><h3>  El final? </h3><br>  Por supuesto que no!  Ahora solo queda esperar a que el fabricante lance un m√≥dulo WiFi "compatible" y repita todos los vectores de ingenier√≠a inversa, pero con el m√≥dulo "correcto". <br><br>  Mientras tanto, volver√© a la opci√≥n de automatizaci√≥n "barata y alegre" (tendr√© que controlar el funcionamiento del aire acondicionado usando una c√°mara de videovigilancia: la unidad interior solo entra en el marco). <br><br>  Si de repente alguien se le ocurre c√≥mo, sin embargo, hacer lo "correcto", estar√© encantado de tener una pista.  Y si alguien ya "se fue por este camino" y comparte el protocolo de intercambio, estar√© feliz;) <br><br>  Por cierto, en las entra√±as de la unidad interior hab√≠a una placa de informaci√≥n muy interesante que ofrece un par de nuevos "vectores" nuevos: <br><br><img src="https://habrastorage.org/webt/ik/zc/dg/ikzcdgu-kj8ygctuhrovp3cvqg4.jpeg"><br><br>  PS " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte II</a> " con una descripci√≥n detallada de la soluci√≥n "barato y alegre" ser√° m√°s tarde (solo necesita encontrar tiempo). <br><br>  PPS "Parte III" con la soluci√≥n "correcta", espero, aparecer√° despu√©s de la adquisici√≥n de un m√≥dulo compatible (queda esperar su aparici√≥n a la venta). </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/448826/">https://habr.com/ru/post/448826/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../448808/index.html">Sobre cosas simples, complicadas. "Acero dormido". C√≥mo engrasar pernos oxidados o no WD-40 con un solo ...</a></li>
<li><a href="../448810/index.html">¬øC√≥mo atrap√© a un hacker?</a></li>
<li><a href="../448812/index.html">Misi√≥n lunar "Bereshit": busca la primera biblioteca lunar despu√©s de que el accidente de su portador haya comenzado</a></li>
<li><a href="../448814/index.html">Bosque Language: el nuevo lenguaje de programaci√≥n de Microsoft</a></li>
<li><a href="../448820/index.html">Rust + CLion = Amor</a></li>
<li><a href="../448828/index.html">Transformador Tesla con bobinas impresas, solda tres componentes, y ya est√°</a></li>
<li><a href="../448830/index.html">¬øD√≥nde comenzar el desarrollo de la arquitectura?</a></li>
<li><a href="../448836/index.html">¬øEs Stadia una revoluci√≥n en la industria del juego?</a></li>
<li><a href="../448838/index.html">¬øQu√© es el marketing de contenidos en Gran Breta√±a y por qu√© grabar un podcast con pap√°?</a></li>
<li><a href="../448840/index.html">Eventos digitales en Mosc√∫ del 22 al 28 de abril.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>