<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏆 📟 🤱 Semântica das Ferramentas de Resolução de Dependências 🍟 ⬜️ 📪</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ferramenta de Resolução de Dependências 


 Um resolvedor de dependências (daqui em diante referido como resolvedor, aprox. Transl.) Ou um gerenciador...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Semântica das Ferramentas de Resolução de Dependências</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/474106/"><h2 id="sredstvo-razresheniya-zavisimostey">  Ferramenta de Resolução de Dependências </h2><br><p>  Um resolvedor de dependências (daqui em diante referido como resolvedor, aprox. Transl.) Ou um gerenciador de pacotes é um programa que define um conjunto consistente de módulos, levando em consideração as restrições definidas pelo usuário. </p><br><p>  As restrições são geralmente especificadas por nomes de módulos e números de versão.  No ecossistema da JVM para os módulos Maven, o nome da organização (ID do grupo) também será indicado.  Além disso, as restrições podem incluir intervalos de versões, módulos excluídos, substituições de versões etc. </p><br><p>  As três principais categorias de pacotes são representadas por pacotes de SO (Homebrew, pacotes Debian, etc.), <br>  módulos para linguagens de programação específicas (CPAN, RubyGem, Maven, etc) e extensões específicas de aplicativos (plugins Eclipse, plugins IntelliJ, extensões VS Code). </p><a name="habracut"></a><br><h2 id="semantika-rezolvera">  Semântica do resolvedor </h2><br><p>  Numa primeira aproximação, podemos representar as dependências dos módulos como um DAG (gráfico acíclico direcionado, gráfico acíclico direcionado). </p><br><p>  Essa representação é chamada de gráfico de dependência.  Considere as dependências de dois módulos: </p><br><ul><li> <code>a:1.0</code> depende de <code>c:1.0</code> </li><li>  <code>b:1.0</code> depende de <code>c:1.0</code> <code>d:1.0</code> </li></ul><br><pre> <code class="plaintext hljs">+-----+ +-----+ |a:1.0| |b:1.0| +--+--+ +--+--+ | | +&lt;-------+ | | vv +--+--+ +--+--+ |c:1.0| |d:1.0| +-----+ +-----+</code> </pre> <br><p>  Se o módulo depender de <code>a:1.0</code> <code>b:1.0</code> , será apresentada <code>a:1.0</code> lista completa de dependências <code>a:1.0</code> , <code>b:1.0</code> , <code>c:1.0</code> <code>d:1.0</code> .  E este é apenas um passeio pelas árvores. </p><br><p>  A situação ficará mais complicada se as dependências transitivas forem especificadas por um intervalo de versões: </p><br><ul><li>  <code>a:1.0</code> depende de <code>c:1.0</code> </li><li>  <code>b:1.0</code> depende de <code>c:[1.0,2)</code> <code>d:1.0</code> </li></ul><br><pre> <code class="plaintext hljs">+-----+ +-----+ |a:1.0| |b:1.0| +--+--+ +--+--+ | | | +-----------+ | | | vvv +--+--+ +--+------+ +--+--+ |c:1.0| |c:[1.0,2)| |d:1.0| +-----+ +---------+ +-----+</code> </pre> <br><p>  Ou, se versões diferentes forem especificadas para dependências transitivas: </p><br><ul><li>  <code>a:1.0</code> depende de <code>c:1.0</code> </li><li>  <code>b:1.0</code> depende de <code>c:1.2</code> <code>d:1.2</code> </li></ul><br><p>  Ou, se exceções forem lançadas para a dependência: </p><br><ul><li>  dependência de <code>a:1.0</code> , que depende de <code>c:1.0</code> , excluindo <code>c:*</code> </li><li>  <code>b:1.0</code> depende de <code>c:1.2</code> <code>d:1.2</code> </li></ul><br><p>  Resolvedores diferentes interpretam as restrições definidas pelos usuários de maneira diferente.  Eu chamo essas regras de semântica dos resolvedores. </p><br><p>  Você pode precisar conhecer algumas dessas semânticas, por exemplo: </p><br><ul><li>  semântica do seu próprio módulo (determinada pela ferramenta de construção que você usa); </li><li>  a semântica das bibliotecas que você usa (determinada pela ferramenta de construção que o autor usou); </li><li>  a semântica dos módulos que seu módulo usará como uma dependência (definida pela ferramenta de criação do usuário final). </li></ul><br><h2 id="sredstva-razresheniya-zavisimostey-v-ekosisteme-jvm">  Ferramentas de resolução de dependência no ecossistema da JVM </h2><br><p>  Como eu apóio o <code>sbt</code> , tenho que trabalhar principalmente no ecossistema da JVM. </p><br><h2 id="semantika-maven-nearest-wins">  Semantics Maven: vitórias mais próximas </h2><br><p>  Nos gráficos em que há um conflito de dependências (no gráfico de dependência <code>a</code> existem muitas versões diferentes do componente <code>d</code> , por exemplo, <code>d:1.0</code> <code>d:2.0</code> ), o Maven usa a estratégia de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ganhos mais próximos</a> para resolver o conflito. </p><br><blockquote>  A resolução de conflitos de dependência é um processo que determina qual versão de um artefato será selecionada se várias versões diferentes do mesmo artefato forem encontradas entre as dependências.  Maven seleciona a definição mais próxima.  I.e.  usa a versão mais próxima do seu projeto na árvore de dependências. <br>  Você sempre pode garantir o uso da versão correta declarando-a explicitamente no POM do projeto.  Observe que, se duas versões da dependência tiverem a mesma profundidade na árvore, a primeira será selecionada.  A definição mais próxima significa que a versão mais próxima do projeto na árvore de dependência será usada.  Por exemplo, se as dependências para <code>A</code> , <code>B</code> e <code>C</code> definidas como <code>A -&gt; B -&gt; C -&gt; D 2.0</code> e <code>A -&gt; E -&gt; D 1.0</code> , então, ao criar <code>A</code> , <code>D 1.0</code> será usado, porque  o caminho de <code>A</code> a <code>D</code> via <code>E</code> mais curto (do que via <code>B</code> e <code>C</code> , aprox. transl.). </blockquote><p>  Isso significa que muitos módulos Java publicados usando o Maven foram compilados usando a semântica dos <code>nearest-wins</code> .  Para ilustrar o acima, crie um <code>pom.xml</code> simples: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">project</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://maven.apache.org/POM/4.0.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xsi:schemaLocation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">modelVersion</span></span></span><span class="hljs-tag">&gt;</span></span>4.0.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">modelVersion</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>com.example<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>foo<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.0.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">packaging</span></span></span><span class="hljs-tag">&gt;</span></span>jar<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">packaging</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencyManagement</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencies</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>com.typesafe.play<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>play-ws-standalone_2.12<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.0.1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencies</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencyManagement</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">project</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  <code>mvn dependency:build-classpath</code> retorna o <code>classpath</code> resolvido. <br>  Vale ressaltar que a árvore resultante usa <code>com.typesafe:config:1.2.0</code> mesmo que o <code>Akka 2.5.3</code> transitivamente dependente de <code>com.typesafe:config:1.3.1</code> . </p><br><p>  <code>mvn dependency:tree</code> dá essa confirmação visual: </p><br><pre> <code class="plaintext hljs">[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ foo --- [INFO] com.example:foo:jar:1.0.0 [INFO] \- com.typesafe.play:play-ws-standalone_2.12:jar:1.0.1:compile [INFO] +- org.scala-lang:scala-library:jar:2.12.2:compile [INFO] +- javax.inject:javax.inject:jar:1:compile [INFO] +- com.typesafe:ssl-config-core_2.12:jar:0.2.2:compile [INFO] | +- com.typesafe:config:jar:1.2.0:compile [INFO] | \- org.scala-lang.modules:scala-parser-combinators_2.12:jar:1.0.4:compile [INFO] \- com.typesafe.akka:akka-stream_2.12:jar:2.5.3:compile [INFO] +- com.typesafe.akka:akka-actor_2.12:jar:2.5.3:compile [INFO] | \- org.scala-lang.modules:scala-java8-compat_2.12:jar:0.8.0:compile [INFO] \- org.reactivestreams:reactive-streams:jar:1.0.0:compile</code> </pre> <br><p>  Muitas bibliotecas fornecem compatibilidade com versões anteriores, mas a compatibilidade direta não é garantida com algumas exceções, o que é alarmante. </p><br><h2 id="semantika-apache-ivy-latest-wins">  Semântica do Apache Ivy: últimas vitórias </h2><br><p>  Por padrão, o Apache Ivy usa a estratégia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">mais recente</a> para resolver conflitos de dependência. </p><br><blockquote>  Se esse contêiner não estiver presente, o gerenciador de conflitos padrão será usado para todos os módulos.  O gerenciador de conflitos padrão atual é "revisão mais recente". <br>  <em>Nota: Os <code>conflicts</code> contêiner são um dos arquivos Ivy.</em> </blockquote><p>  Até a versão <code>SBT 1.3.x</code> resolvedor de dependência interno é o Apache Ivy.  O <code>pom.xml</code> usado anteriormente é descrito no SBT um pouco mais brevemente: </p><br><pre> <code class="scala hljs"><span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / scalaVersion := <span class="hljs-string"><span class="hljs-string">"2.12.8"</span></span> <span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / organization := <span class="hljs-string"><span class="hljs-string">"com.example"</span></span> <span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / version := <span class="hljs-string"><span class="hljs-string">"1.0.0-SNAPSHOT"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lazy</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> root = (project in file(<span class="hljs-string"><span class="hljs-string">"."</span></span>)) .settings( name := <span class="hljs-string"><span class="hljs-string">"foo"</span></span>, libraryDependencies += <span class="hljs-string"><span class="hljs-string">"com.typesafe.play"</span></span> %% <span class="hljs-string"><span class="hljs-string">"play-ws-standalone"</span></span> % <span class="hljs-string"><span class="hljs-string">"1.0.1"</span></span>, )</code> </pre> <br><p>  No <code>sbt shell</code> digite <code>show externalDependencyClasspath</code> para obter o caminho de classe resolvido.  Deve indicar a versão do <code>com.typesafe:config:1.3.1</code> .  Além disso, o seguinte aviso ainda será exibido: </p><br><pre> <code class="plaintext hljs">[warn] There may be incompatibilities among your library dependencies; run 'evicted' to see detailed eviction warnings.</code> </pre> <br><p>  Chamar o <code>evicted</code> no <code>sbt shell</code> permite obter um relatório de resolução de conflitos: </p><br><pre> <code class="plaintext hljs">sbt:foo&gt; evicted [info] Updating ... [info] Done updating. [info] Here are other dependency conflicts that were resolved: [info] * com.typesafe:config:1.3.1 is selected over 1.2.0 [info] +- com.typesafe.akka:akka-actor_2.12:2.5.3 (depends on 1.3.1) [info] +- com.typesafe:ssl-config-core_2.12:0.2.2 (depends on 1.2.0) [info] * com.typesafe:ssl-config-core_2.12:0.2.2 is selected over 0.2.1 [info] +- com.typesafe.play:play-ws-standalone_2.12:1.0.1 (depends on 0.2.2) [info] +- com.typesafe.akka:akka-stream_2.12:2.5.3 (depends on 0.2.1)</code> </pre> <br><p>  Na semântica das <code>latest-wins</code> , especificar <code>config:1.2.0</code> na prática significa "fornecer-me a versão 1.2.0 ou superior". <br>  Esse comportamento é um pouco mais preferível do que na estratégia de <code>nearest-wins</code> , porque as versões das bibliotecas transitivas não são rebaixadas.  No entanto, a chamada <code>evicted</code> deve verificar se as substituições foram feitas corretamente. </p><br><h2 id="semantika-coursier-latest-wins">  Semantics Coursier: últimas vitórias </h2><br><p>  Antes de abordarmos a descrição da semântica, responderei a uma pergunta importante - como é pronunciado Coursier.  De acordo com <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">a</a> nota de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Alex Arshambo</a> , é pronunciado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">chick-sie</a> . </p><br><p>  Curiosamente, a documentação do Coursier tem uma página sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">controle</a> de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">versão</a> , que fala sobre a semântica da resolução de dependências. </p><br><blockquote>  Considere a interseção de determinados intervalos: <br><ul><li>  Se estiver vazio (os intervalos não se cruzam), há um conflito. </li><li>  Se nenhum intervalo for especificado, presume-se que a interseção seja representada por (,) (o intervalo correspondente a todas as versões). <br>  Em seguida, considere versões específicas: <br><ul><li>  Descartamos versões específicas abaixo dos limites do intervalo. </li><li>  Se houver versões específicas acima dos limites do intervalo, haverá um conflito. </li><li>  Se versões específicas estiverem dentro dos limites do intervalo, o resultado deverá ser o mais recente deles. </li><li>  Se não houver versões específicas dentro ou acima dos limites do intervalo, o resultado deverá ser o intervalo. </li></ul></li></ul><br></blockquote><p>  Porque  diz-se <code>  </code> , portanto - esta é a semântica das <code>latest-wins</code> . <br>  Você pode verificar isso usando o <code>sbt 1.3.0-RC3</code> , que usa o Coursier. </p><br><pre> <code class="scala hljs"><span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / scalaVersion := <span class="hljs-string"><span class="hljs-string">"2.12.8"</span></span> <span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / organization := <span class="hljs-string"><span class="hljs-string">"com.example"</span></span> <span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / version := <span class="hljs-string"><span class="hljs-string">"1.0.0-SNAPSHOT"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lazy</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> root = (project in file(<span class="hljs-string"><span class="hljs-string">"."</span></span>)) .settings( name := <span class="hljs-string"><span class="hljs-string">"foo"</span></span>, libraryDependencies += <span class="hljs-string"><span class="hljs-string">"com.typesafe.play"</span></span> %% <span class="hljs-string"><span class="hljs-string">"play-ws-standalone"</span></span> % <span class="hljs-string"><span class="hljs-string">"1.0.1"</span></span>, )</code> </pre> <br><p>  Chamar <code>show externalDependencyClasspath</code> partir do console do <code>sbt 1.3.0-RC3</code> retornará <code>com.typesafe:config:1.3.1</code> , conforme o esperado.  O Relatório de resolução de conflitos informa o mesmo: </p><br><pre> <code class="plaintext hljs">sbt:foo&gt; evicted [info] Here are other dependency conflicts that were resolved: [info] * com.typesafe:config:1.3.1 is selected over 1.2.0 [info] +- com.typesafe.akka:akka-actor_2.12:2.5.3 (depends on 1.3.1) [info] +- com.typesafe:ssl-config-core_2.12:0.2.2 (depends on 1.2.0) [info] * com.typesafe:ssl-config-core_2.12:0.2.2 is selected over 0.2.1 [info] +- com.typesafe.play:play-ws-standalone_2.12:1.0.1 (depends on 0.2.2) [info] +- com.typesafe.akka:akka-stream_2.12:2.5.3 (depends on 0.2.1)</code> </pre> <br><h2 id="primechanie-apache-ivy-emuliruet-semantiku-nearest-wins">  Nota: O Apache Ivy emula a semântica das <code>nearest-wins</code> ? </h2><br><p>  Ao resolver dependências do módulo no repositório Maven, o Ivy converte o arquivo <code>POM</code> e coloca o atributo <code>force="true"</code> em <code>ivy.xml</code> no cache. </p><br><p>  Por exemplo, <code>cat ~/.ivy2/cache/com.typesafe.akka/akka-actor_2.12/ivy-2.5.3.xml</code> : </p><br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencies</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">org</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"org.scala-lang"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"scala-library"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rev</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2.12.2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">force</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">conf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"compile-&gt;compile(*),master(compile);runtime-&gt;runtime(*)"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">org</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.typesafe"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"config"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rev</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.3.1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">force</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">conf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"compile-&gt;compile(*),master(compile);runtime-&gt;runtime(*)"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">org</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"org.scala-lang.modules"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"scala-java8-compat_2.12"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rev</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0.8.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">force</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">conf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"compile-&gt;compile(*),master(compile);runtime-&gt;runtime(*)"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencies</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  A <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">documentação do</a> Ivy diz: </p><br><blockquote>  Esses dois <code>latest</code> gerenciadores de conflitos levam em consideração o atributo de dependência de <code>force</code> . <br>  Assim, dependências diretas podem declarar um atributo de <code>force</code> (consulte dependência), indicando que, de dependência direta e revisões indiretas, deve-se dar preferência a revisões diretas de dependência. </blockquote><p>  Para mim, essa formulação significa que <code>force="true"</code> concebido para redefinir a lógica das <code>latest-wins</code> e emular a semântica das <code>nearest-wins</code> .  Mas, felizmente, isso não estava destinado a acontecer, e agora temos as <code>latest-wins</code> : como podemos ver, o <code>sbt 1.2.8</code> pega <code>com.typesafe:config:1.3.1</code> . </p><br><p>  No entanto, pode-se observar o efeito de <code>force="true"</code> ao usar um gerenciador de conflitos estrito, que parece estar quebrado. </p><br><pre> <code class="scala hljs"><span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / conflictManager := <span class="hljs-type"><span class="hljs-type">ConflictManager</span></span>.strict</code> </pre> <br><p>  O problema é que um gerenciador de conflitos estrito não parece impedir a substituição da versão.  <code>show externalDependencyClasspath</code> alegremente retorna <code>com.typesafe:config:1.3.1</code> . <br>  Um problema relacionado é que a adição de uma versão do <code>com.typesafe:config:1.3.1</code> , que um gerente de conflitos rigoroso coloca no gráfico, leva a um erro. </p><br><pre> <code class="scala hljs"><span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / scalaVersion := <span class="hljs-string"><span class="hljs-string">"2.12.8"</span></span> <span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / organization := <span class="hljs-string"><span class="hljs-string">"com.example"</span></span> <span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / version := <span class="hljs-string"><span class="hljs-string">"1.0.0-SNAPSHOT"</span></span> <span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / conflictManager := <span class="hljs-type"><span class="hljs-type">ConflictManager</span></span>.strict <span class="hljs-keyword"><span class="hljs-keyword">lazy</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> root = (project in file(<span class="hljs-string"><span class="hljs-string">"."</span></span>)) .settings( name := <span class="hljs-string"><span class="hljs-string">"foo"</span></span>, libraryDependencies ++= <span class="hljs-type"><span class="hljs-type">List</span></span>( <span class="hljs-string"><span class="hljs-string">"com.typesafe.play"</span></span> %% <span class="hljs-string"><span class="hljs-string">"play-ws-standalone"</span></span> % <span class="hljs-string"><span class="hljs-string">"1.0.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"com.typesafe"</span></span> % <span class="hljs-string"><span class="hljs-string">"config"</span></span> % <span class="hljs-string"><span class="hljs-string">"1.3.1"</span></span>, ) )</code> </pre> <br><p>  É assim: </p><br><pre> <code class="plaintext hljs">sbt:foo&gt; show externalDependencyClasspath [info] Updating ... [error] com.typesafe#config;1.2.0 (needed by [com.typesafe#ssl-config-core_2.12;0.2.2]) conflicts with com.typesafe#config;1.3.1 (needed by [com.example#foo_2.12;1.0.0-SNAPSHOT]) [error] org.apache.ivy.plugins.conflict.StrictConflictException: com.typesafe#config;1.2.0 (needed by [com.typesafe#ssl-config-core_2.12;0.2.2]) conflicts with com.typesafe#config;1.3.1 (needed by [com.example#foo_2.12;1.0.0-SNAPSHOT])</code> </pre> <br><h2 id="o-poryadke-versionirovaniya">  Sobre controle de versão </h2><br><p>  Mencionamos a semântica das <code>latest-wins</code> , sugerindo que as versões em uma representação de string podem ocorrer em alguma ordem. <br>  Portanto, o controle de versão faz parte da semântica. </p><br><h2 id="poryadok-versionirovaniya-v-apache-ivy">  Procedimento de versão no Apache Ivy </h2><br><p>  Este <a href="">comentário do Javadoc</a> diz que, ao criar o comparador de versões, Ivy se concentrou na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">função de comparar versões do PHP</a> : </p><br><blockquote>  Esta função primeiro substitui _, - e + por um ponto <code>.</code>  em representações de string de versões e também adiciona <code>.</code>  antes e depois de tudo que não é um número.  Assim, por exemplo, '4.3.2RC1' se torna '4.3.2.RC.1'.  Ela então compara as partes recebidas da esquerda para a direita. <br><br>  Para peças que contêm elementos especiais ( <code>dev</code> , <code>alpha</code> ou <code>a</code> , <code>beta</code> ou <code>b</code> , <code>RC</code> ou <code>rc</code> , <code>#</code> , <code>pl</code> ou <code>p</code> ) *, os elementos são comparados na seguinte ordem: <br><br>  <strong>qualquer sequência que não seja um elemento especial &lt;dev &lt;alfa = a &lt;beta = b &lt;RC = rc &lt;# &lt;pl = p.</strong> <br><br>  Portanto, não apenas níveis diferentes (por exemplo, '4.1' e '4.1.2') podem ser comparados, mas versões específicas do PHP contendo informações sobre o status do desenvolvimento. <br>  * aprox.  perev. </blockquote><p>  Podemos verificar como as versões são ordenadas escrevendo uma pequena função. </p><br><pre> <code class="scala hljs">scala&gt; :paste <span class="hljs-comment"><span class="hljs-comment">// Entering paste mode (ctrl-D to finish) val strategy = new org.apache.ivy.plugins.latest.LatestRevisionStrategy case class MockArtifactInfo(version: String) extends org.apache.ivy.plugins.latest.ArtifactInfo { def getRevision: String = version def getLastModified: Long = -1 } def sortVersionsIvy(versions: String*): List[String] = { import scala.collection.JavaConverters._ strategy.sort(versions.toArray map MockArtifactInfo) .asScala.toList map { case MockArtifactInfo(v) =&gt; v } } // Exiting paste mode, now interpreting. scala&gt; sortVersionsIvy("1.0", "2.0", "1.0-alpha", "1.0+alpha", "1.0-X1", "1.0a", "2.0.2") res7: List[String] = List(1.0-X1, 1.0a, 1.0-alpha, 1.0+alpha, 1.0, 2.0, 2.0.2)</span></span></code> </pre> <br><h2 id="poryadok-versionirovaniya-v-coursier">  Procedimento de controle de versão no Coursier </h2><br><p>  A página do GitHub sobre semântica de resolução de dependências possui uma seção sobre controle de versão. </p><br><blockquote>  O Coursier usa a ordem de versão personalizada do Maven.  Antes de comparar, as representações de string das versões são divididas em elementos separados ... <br>  Para obter esses elementos, as versões são separadas pelos caracteres., - e _ (e os próprios separadores são descartados) e por substituições de letra a número ou número a letra. </blockquote><p>  Para escrever um teste, crie um subprojeto com as <code>libraryDependencies += "io.get-coursier" %% "coursier-core" % "2.0.0-RC2-6"</code> e execute o <code>console</code> : </p><br><pre> <code class="scala hljs">sbt:foo&gt; helper/console [info] <span class="hljs-type"><span class="hljs-type">Starting</span></span> scala interpreter... <span class="hljs-type"><span class="hljs-type">Welcome</span></span> to <span class="hljs-type"><span class="hljs-type">Scala</span></span> <span class="hljs-number"><span class="hljs-number">2.12</span></span><span class="hljs-number"><span class="hljs-number">.8</span></span> (<span class="hljs-type"><span class="hljs-type">OpenJDK</span></span> <span class="hljs-number"><span class="hljs-number">64</span></span>-<span class="hljs-type"><span class="hljs-type">Bit</span></span> <span class="hljs-type"><span class="hljs-type">Server</span></span> <span class="hljs-type"><span class="hljs-type">VM</span></span>, <span class="hljs-type"><span class="hljs-type">Java</span></span> <span class="hljs-number"><span class="hljs-number">1.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_212). <span class="hljs-type"><span class="hljs-type">Type</span></span> in expressions <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> evaluation. <span class="hljs-type"><span class="hljs-type">Or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> :help. scala&gt; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> coursier.core.<span class="hljs-type"><span class="hljs-type">Version</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> coursier.core.<span class="hljs-type"><span class="hljs-type">Version</span></span> scala&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sortVersionsCoursier</span></span></span></span>(versions: <span class="hljs-type"><span class="hljs-type">String</span></span>*): <span class="hljs-type"><span class="hljs-type">List</span></span>[<span class="hljs-type"><span class="hljs-type">String</span></span>] = | versions.toList.map(<span class="hljs-type"><span class="hljs-type">Version</span></span>.apply).sorted.map(_.repr) sortVersionsCoursier: (versions: <span class="hljs-type"><span class="hljs-type">String</span></span>*)<span class="hljs-type"><span class="hljs-type">List</span></span>[<span class="hljs-type"><span class="hljs-type">String</span></span>] scala&gt; sortVersionsCoursier(<span class="hljs-string"><span class="hljs-string">"1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"2.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"1.0-alpha"</span></span>, <span class="hljs-string"><span class="hljs-string">"1.0+alpha"</span></span>, <span class="hljs-string"><span class="hljs-string">"1.0-X1"</span></span>, <span class="hljs-string"><span class="hljs-string">"1.0a"</span></span>, <span class="hljs-string"><span class="hljs-string">"2.0.2"</span></span>) res0: <span class="hljs-type"><span class="hljs-type">List</span></span>[<span class="hljs-type"><span class="hljs-type">String</span></span>] = <span class="hljs-type"><span class="hljs-type">List</span></span>(<span class="hljs-number"><span class="hljs-number">1.0</span></span>-alpha, <span class="hljs-number"><span class="hljs-number">1.0</span></span>, <span class="hljs-number"><span class="hljs-number">1.0</span></span>-<span class="hljs-type"><span class="hljs-type">X1</span></span>, <span class="hljs-number"><span class="hljs-number">1.0</span></span>+alpha, <span class="hljs-number"><span class="hljs-number">1.0</span></span>a, <span class="hljs-number"><span class="hljs-number">2.0</span></span>, <span class="hljs-number"><span class="hljs-number">2.0</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span>)</code> </pre> <br><p>  Como se vê, Coursier ordena números de versão em uma ordem completamente diferente da Ivy. <br>  Se você usou tags alfabéticas permissivas, essa ordem pode causar alguma confusão. </p><br><h2 id="o-diapazonah-versiy">  Sobre os intervalos de versão </h2><br><p>  Normalmente, evito usar intervalos de versões, embora sejam amplamente usados ​​em webjars e módulos npm republicados no Maven Central.  Algo como <code>"is-number": "^4.0.0"</code> pode ser escrito no módulo <code>"is-number": "^4.0.0"</code> que corresponderá a <code>[4.0.0,5)</code> . </p><br><h2 id="obrabotka-diapazonov-versiy-v-apache-ivy">  Manipulação do intervalo de versões no Apache Ivy </h2><br><p>  Nesta montagem, <code>angular-boostrap:0.14.2</code> depende de <code>angular:[1.3.0,)</code> . </p><br><pre> <code class="scala hljs"><span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / scalaVersion := <span class="hljs-string"><span class="hljs-string">"2.12.8"</span></span> <span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / organization := <span class="hljs-string"><span class="hljs-string">"com.example"</span></span> <span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / version := <span class="hljs-string"><span class="hljs-string">"1.0.0-SNAPSHOT"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lazy</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> root = (project in file(<span class="hljs-string"><span class="hljs-string">"."</span></span>)) .settings( name := <span class="hljs-string"><span class="hljs-string">"foo"</span></span>, libraryDependencies ++= <span class="hljs-type"><span class="hljs-type">List</span></span>( <span class="hljs-string"><span class="hljs-string">"org.webjars.bower"</span></span> % <span class="hljs-string"><span class="hljs-string">"angular"</span></span> % <span class="hljs-string"><span class="hljs-string">"1.4.7"</span></span>, <span class="hljs-string"><span class="hljs-string">"org.webjars.bower"</span></span> % <span class="hljs-string"><span class="hljs-string">"angular-bootstrap"</span></span> % <span class="hljs-string"><span class="hljs-string">"0.14.2"</span></span>, ) )</code> </pre> <br><p>  Chamar <code>show externalDependencyClasspath</code> no <code>sbt 1.2.8</code> retornará <code>angular-bootstrap:0.14.2</code> e <code>angular:1.7.8</code> .  E para onde <code>1.7.8</code> foi?  Quando o Ivy encontra uma variedade de versões, ele essencialmente acessa a Internet e encontra o que pode encontrar, às vezes até usando captura de tela. </p><br><p>  Esse processamento de intervalos de versão torna as montagens não repetitivas (a execução da mesma montagem a cada poucos meses fornece resultados diferentes). </p><br><h2 id="obrabotka-diapazonov-versiy-v-coursier">  Manuseio de versões em Coursier </h2><br><p>  Seção de resolução de dependência do Coursier na <a href="">página do</a> github <br>  lê: </p><br><blockquote>  <strong>Versões específicas em intervalos são preferidas</strong> <br>  Se o seu módulo depende de [1.0,2.0) e 1.4, a aprovação da versão será realizada em favor do 1.4. <br>  Se houver uma dependência do 1.4, essa versão será preferida no intervalo [1.0,2.0). </blockquote><p>  Parece promissor. </p><br><pre> <code class="plaintext hljs">sbt:foo&gt; show externalDependencyClasspath [warn] There may be incompatibilities among your library dependencies; run 'evicted' to see detailed eviction warnings. [info] * Attributed(/Users/eed3si9n/.sbt/boot/scala-2.12.8/lib/scala-library.jar) [info] * Attributed(/Users/eed3si9n/.coursier/cache/v1/https/repo1.maven.org/maven2/org/webjars/bower/angular/1.4.7/angular-1.4.7.jar) [info] * Attributed(/Users/eed3si9n/.coursier/cache/v1/https/repo1.maven.org/maven2/org/webjars/bower/angular-bootstrap/0.14.2/angular-bootstrap-0.14.2.jar)</code> </pre> <br><p>  <code>show externalDependencyClasspath</code> no mesmo assembly com <code>angular-bootstrap:0.14.2</code> retorna <code>angular-bootstrap:0.14.2</code> e <code>angular:1.4.7</code> conforme o esperado.  Esta é uma melhoria em relação à Ivy. </p><br><p>  Considere o caso mais complicado quando vários intervalos de versão separados são usados.  Por exemplo: </p><br><pre> <code class="scala hljs"><span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / scalaVersion := <span class="hljs-string"><span class="hljs-string">"2.12.8"</span></span> <span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / organization := <span class="hljs-string"><span class="hljs-string">"com.example"</span></span> <span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / version := <span class="hljs-string"><span class="hljs-string">"1.0.0-SNAPSHOT"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lazy</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> root = (project in file(<span class="hljs-string"><span class="hljs-string">"."</span></span>)) .settings( name := <span class="hljs-string"><span class="hljs-string">"foo"</span></span>, libraryDependencies ++= <span class="hljs-type"><span class="hljs-type">List</span></span>( <span class="hljs-string"><span class="hljs-string">"org.webjars.npm"</span></span> % <span class="hljs-string"><span class="hljs-string">"randomatic"</span></span> % <span class="hljs-string"><span class="hljs-string">"1.1.7"</span></span>, <span class="hljs-string"><span class="hljs-string">"org.webjars.npm"</span></span> % <span class="hljs-string"><span class="hljs-string">"is-odd"</span></span> % <span class="hljs-string"><span class="hljs-string">"2.0.0"</span></span>, ) )</code> </pre> <br><p>  Chamar <code>show externalDependencyClasspath</code> no <code>sbt 1.3.0-RC3</code> retorna o seguinte erro: </p><br><pre> <code class="plaintext hljs">sbt:foo&gt; show externalDependencyClasspath [info] Updating https://repo1.maven.org/maven2/org/webjars/npm/kind-of/maven-metadata.xml No new update since 2018-03-10 06:32:27 https://repo1.maven.org/maven2/org/webjars/npm/is-number/maven-metadata.xml No new update since 2018-03-09 15:25:26 https://repo1.maven.org/maven2/org/webjars/npm/is-buffer/maven-metadata.xml No new update since 2018-08-17 14:21:46 [info] Resolved dependencies [error] lmcoursier.internal.shaded.coursier.error.ResolutionError$ConflictingDependencies: Conflicting dependencies: [error] org.webjars.npm:is-number:[3.0.0,4):default(compile) [error] org.webjars.npm:is-number:[4.0.0,5):default(compile) [error] at lmcoursier.internal.shaded.coursier.Resolve$.validate(Resolve.scala:394) [error] at lmcoursier.internal.shaded.coursier.Resolve.validate0$1(Resolve.scala:140) [error] at lmcoursier.internal.shaded.coursier.Resolve.$anonfun$ioWithConflicts0$4(Resolve.scala:184) [error] at lmcoursier.internal.shaded.coursier.util.Task$.$anonfun$flatMap$2(Task.scala:14) [error] at scala.concurrent.Future.$anonfun$flatMap$1(Future.scala:307) [error] at scala.concurrent.impl.Promise.$anonfun$transformWith$1(Promise.scala:41) [error] at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64) [error] at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [error] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [error] at java.lang.Thread.run(Thread.java:748) [error] (update) lmcoursier.internal.shaded.coursier.error.ResolutionError$ConflictingDependencies: Conflicting dependencies: [error] org.webjars.npm:is-number:[3.0.0,4):default(compile) [error] org.webjars.npm:is-number:[4.0.0,5):default(compile)</code> </pre> <br><p>  Tecnicamente, isso mesmo, porque  esses intervalos não se sobrepõem.  Enquanto o <code>sbt 1.2.8</code> resolve isso como <code>is-number:4.0.0</code> . </p><br><p>  Devido ao fato de os intervalos de versão serem comuns o suficiente para serem irritantes, eu envio uma solicitação de solicitação ao Coursier para implementar regras semânticas adicionais das <code>latest-wins</code> que permitem selecionar versões posteriores dos limites inferiores dos intervalos. <br>  Ver <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">coursier / coursier # 1284</a> . </p><br><h2 id="zaklyuchenie">  Conclusão </h2><br><p>  A semântica do resolvedor define um caminho de classe específico com base nas restrições definidas pelo usuário. </p><br><p>  Geralmente, as diferenças nos detalhes são manifestadas de diferentes maneiras para resolver conflitos de versão. </p><br><ul><li>  O Maven usa a estratégia de <code>nearest-wins</code> , que pode rebaixar dependências transitivas. </li><li>  Ivy usa a estratégia de <code>latest-wins</code> . </li><li>  O Coursier usa principalmente a estratégia de <code>latest-wins</code> , enquanto tenta especificar versões mais estritamente. </li><li>  O manipulador de intervalo da versão Ivy vai para a Internet, o que torna a mesma compilação não repetível. </li><li>  Coursier e Ivy organizam representações de strings de versões de maneiras muito diferentes. </li></ul><br><blockquote>  Nem mesmo essas sutilezas do ecossistema Scala serão discutidas na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ScalaConf</a> em 26 de novembro em Moscou.  Artem Seleznev <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">apresentará</a> a prática de trabalhar com o banco de dados em programação funcional sem JDBC.  Wojtek Pitula falará sobre integração e contará como ele criou um aplicativo no qual colocou todas as bibliotecas de trabalho.  E mais 16 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">relatórios</a> cheios de hardcore técnico serão apresentados na conferência. </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt474106/">https://habr.com/ru/post/pt474106/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt474090/index.html">Salários de desenvolvedor na Armênia</a></li>
<li><a href="../pt474092/index.html">Seção de back-end no DUMP Kazan: arquitetura de aplicativos em nuvem, microsserviços de saída, DDD e mais</a></li>
<li><a href="../pt474094/index.html">Editor de diagrama de blocos - sobre a amizade entre Vue.js e MxGraph</a></li>
<li><a href="../pt474096/index.html">Linguagens de programação populares 2019 de usuários do hh.ru</a></li>
<li><a href="../pt474104/index.html">Uma maneira universal de personalizar a aparência de um aplicativo WinForms (usando o exemplo do FAQ.Net)</a></li>
<li><a href="../pt474112/index.html">Otimize a distribuição de servidores em rack</a></li>
<li><a href="../pt474114/index.html">Convidamos você para o GDG DevFest Moscow 2019 - uma conferência informal de TI</a></li>
<li><a href="../pt474116/index.html">Como você não precisa obter consentimento para o processamento de dados pessoais</a></li>
<li><a href="../pt474118/index.html">O livro "inDriver: de Yakutsk ao Vale do Silício. A história da criação de uma empresa global de tecnologia "</a></li>
<li><a href="../pt474122/index.html">Da teoria à prática: como o blockchain é usado na aviação</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>