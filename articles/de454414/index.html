<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçï üë∞üèø üèïÔ∏è SDL 2 Lektionen: Lektion 2 - Haupt ohne Gummi ‚úåüèø üëó üéÖüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo allerseits! Dies ist meine zweite SDL 2-Lektion. Ich erhalte hier noch Informationen. 

 Willkommen zur Lektion 

 Haupt nicht Gummi 
 In der le...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>SDL 2 Lektionen: Lektion 2 - Haupt ohne Gummi</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454414/">  Hallo allerseits!  Dies ist meine zweite SDL 2-Lektion. Ich erhalte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> noch Informationen. <br><br>  Willkommen zur Lektion <br><br><h2>  Haupt nicht Gummi </h2><br>  In der letzten Lektion habe ich alles in der <b>Main () -</b> Funktion gut angeordnet, aber f√ºr gro√üe Programme ist dies nicht gut.  Deshalb bot sich die M√∂glichkeit, Funktionen zu schreiben.  Jetzt werden wir es benutzen. <br><br>  Wir beginnen mit dem Schreiben von Code, indem wir eine SDL verbinden und mehrere globale Variablen deklarieren. <br><a name="habracut"></a><br><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;SDL2/SDL.h&gt; const int SCREEN_WIDTH = 640; const int SCREEN_HEIGHT = 480; SDL_Window *win = NULL; SDL_Surface *scr = NULL; SDL_Surface *smile = NULL;</span></span></span></span></code> </pre> <br>  Hier haben wir au√üerhalb der <b>Main () -</b> Funktion Fensterobjekte ( <b>win</b> ), Bildschirmfl√§chen ( <b>scr</b> ) und das Bild dieses <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Emoticon</a> ( <b>smile</b> ) <b>deklariert</b> . <br><br>  Schreiben wir eine Funktion zum Initialisieren der SDL, erstellen ein Fenster und eine Oberfl√§che zum Zeichnen.  Es sieht so aus: <br><br><div class="spoiler">  <b class="spoiler_title">Init ()</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (SDL_Init(SDL_INIT_VIDEO) != <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; } win = SDL_CreateWindow(<span class="hljs-string"><span class="hljs-string">"Main  "</span></span>, SDL_WINDOWPOS_UNDEFINED, SDL_WINDOWPOS_UNDEFINED, SCREEN_WIDTH, SCREEN_HEIGHT, SDL_WINDOW_SHOWN); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (win == <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; } scr = SDL_GetWindowSurface(win); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre></div></div><br>  Dieser Code sollte Ihnen aus der vorherigen Lektion bekannt sein.  Hier haben wir das Videosystem initialisiert, ein Fenster mit dem Namen ‚ÄûMain ist kein Gummi‚Äú mit undefinierten Koordinaten und den zuvor festgelegten Abmessungen erstellt und auch die Oberfl√§che des Fensters erhalten und in <b>scr gespeichert</b> .  Bei einem Fehler gibt diese Funktion 1 zur√ºck, andernfalls 0. <br><br>  Jetzt k√∂nnen Sie eine Funktion zum Herunterladen der erforderlichen Mediendateien schreiben.  Da ist sie: <br><br><div class="spoiler">  <b class="spoiler_title">Laden ()</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">load</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ smile = SDL_LoadBMP(<span class="hljs-string"><span class="hljs-string">"smile.bmp"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (smile == <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre></div></div><br>  Diese Funktion ist sehr einfach.  Wir laden das .bmp-Image mit der Funktion <b>SDL_LoadBMP</b> .  Diese Funktion nimmt den Pfad zur Bilddatei (vollst√§ndig oder relativ) und gibt ein Objekt der Klasse <b>SDL_Surface zur√ºck</b> .  Sie sollten auch die Richtigkeit der Ausf√ºhrung √ºberpr√ºfen: Wenn beim Herunterladen Probleme <b>aufgetreten sind</b> (Datei nicht gefunden, Datei <b>besch√§digt</b> ), gibt die Funktion <b>SDL_LoadBMP</b> <b>NULL zur√ºck</b> . <br><br>  Wir schreiben auch ein Programm, um die Bewerbung zu vervollst√§ndigen. <br><br><div class="spoiler">  <b class="spoiler_title">Beenden Sie ()</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">quit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ SDL_FreeSurface(smile); smile = <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>; SDL_DestroyWindow(win); SDL_Quit(); }</code> </pre></div></div><br>  Hier ist eine neue <b>SDL_FreeSurface-</b> Funktion erschienen, die einfach die Oberfl√§che reinigt.  Nachdem wir das variable <b>L√§cheln</b> auf <b>NULL gesetzt haben</b> .  Alle anderen Funktionen wurden in der vorherigen Lektion besprochen. <br><br>  Hier ist das Schreiben der Funktionen beendet und wir k√∂nnen mit <b>Main ()</b> fortfahren. <br><br><div class="spoiler">  <b class="spoiler_title">Main ()</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> argc, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ** args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (init() == <span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (load() == <span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; } SDL_BlitSurface(smile, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, scr, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>); SDL_UpdateWindowSurface(win); SDL_Delay(<span class="hljs-number"><span class="hljs-number">2000</span></span>); quit(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; };</code> </pre></div></div><br>  Hier rufen wir zuerst die zuvor geschriebene Funktion <b>init () auf</b> , dann die Funktion <b>load ()</b> , die wir auch zuvor geschrieben haben.  Zeigen Sie als N√§chstes <b>Smile</b> in <b>Scr</b> mit der Funktion <b>SDL_BlitSurface an</b> .  Diese Funktion verwendet eine Fl√§che zum Zeichnen, ein Rechteck, das aus dieser Fl√§che ausgeschnitten werden soll (dies ist f√ºr die Animation erforderlich). Wenn nichts geschnitten werden muss, wird <b>NULL</b> √ºbertragen, die Fl√§che, auf die das Rechteck gezeichnet wird, deren Koordinaten zum Zeichnen verwendet werden.  Wenn die Koordinaten Null sind, √ºbergeben wir <b>NULL</b> . <br><br>  Es ist Zeit, √ºber die Koordinaten zu sprechen.  SDL verwendet ein anderes Koordinatensystem, nicht das, an das jeder gew√∂hnt ist.  Hier befindet sich der Punkt mit den Koordinaten (0, 0) in der oberen linken Ecke.  Dies ist beim Anzeigen wichtig, um unangenehme Situationen zu vermeiden. <br><br>  Nun, das hat Spa√ü gemacht, wir machen weiter.  Als n√§chstes aktualisieren wir das Fenster mit einer bereits bekannten Funktion, lassen das Programm 2 Sekunden lang einfrieren, rufen die von uns geschriebene Funktion <b>quit () auf</b> und beenden das Programm.  Am Ausgang haben wir ein Programm, das 2 Sekunden lang ein k√ºhles L√§cheln zeigt.  Der gesamte Code sieht folgenderma√üen aus: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;SDL2/SDL.h&gt; const int SCREEN_WIDTH = 640; const int SCREEN_HEIGHT = 480; SDL_Window *win = NULL; SDL_Surface *scr = NULL; SDL_Surface *smile = NULL; int init() { if (SDL_Init(SDL_INIT_VIDEO) != 0) { return 1; } win = SDL_CreateWindow("Main  ", SDL_WINDOWPOS_UNDEFINED, SDL_WINDOWPOS_UNDEFINED, SCREEN_WIDTH, SCREEN_HEIGHT, SDL_WINDOW_SHOWN); if (win == NULL) { return 1; } scr = SDL_GetWindowSurface(win); return 0; } int load() { smile = SDL_LoadBMP("smile.bmp"); if (smile == NULL) { return 1; } return 0; } void quit() { SDL_FreeSurface(smile); SDL_DestroyWindow(win); SDL_Quit(); } int main (int argc, char ** args) { if (init() == 1) { return 1; } if (load() == 1) { return 1; } SDL_BlitSurface(smile, NULL, scr, NULL); SDL_UpdateWindowSurface(win); SDL_Delay(2000); quit(); return 0; };</span></span></span></span></code> </pre><br>  Ich hoffe alles war klar.  Viel Gl√ºck an alle! <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">&lt;&lt;</a> Vorherige Lektion ||  N√§chste Lektion <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">&gt;&gt;</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de454414/">https://habr.com/ru/post/de454414/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de454402/index.html">Unity State Machine-Architektur zum Organisieren von Einheitenverhalten</a></li>
<li><a href="../de454404/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 6. F√ºllen Sie die L√ºcken aus (DHCP, TCP, "Handshake", allgemeine Portnummern)</a></li>
<li><a href="../de454406/index.html">Akihabara: Otaku-Nistplatz</a></li>
<li><a href="../de454408/index.html">CortexM3 / M4 (ARM) -Hardware-Bitbanding, Kernelarchitektur, Assembler, C / C ++ 14 und ein Tropfen Metaprogrammierung</a></li>
<li><a href="../de454410/index.html">Neu in PHP 7.4</a></li>
<li><a href="../de454416/index.html">Hadoop Distribution Distribution importieren</a></li>
<li><a href="../de454418/index.html">Drei nicht offensichtliche Beispiele f√ºr die Verwendung von Template-Engines im Backend</a></li>
<li><a href="../de454420/index.html">Backup, Teil 3: √úbersicht und Testen der Duplizit√§t, Duplikate</a></li>
<li><a href="../de454422/index.html">Zur perversen Interpretation von Newtons erstem Gesetz in der modernen Physik</a></li>
<li><a href="../de454424/index.html">5 h√§ufige Fehler bei der Verwendung von Android-Architekturkomponenten</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>