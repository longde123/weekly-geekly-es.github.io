<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💀 🐦 🔨 WWDC 2019: instruments personnalisés et symboles SF, ainsi que de nouvelles approches pour le développement d'applications iOS 🍭 👩🏼‍💼 💾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Les gens disent que la chance est le résultat d'un travail dur et long. C'est probablement en partie vrai. Deux de nos employés ont remporté des bille...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>WWDC 2019: instruments personnalisés et symboles SF, ainsi que de nouvelles approches pour le développement d'applications iOS</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/nix/blog/470736/"><img src="https://habrastorage.org/webt/cp/rc/0d/cprc0drrmaapukugkoneznhhlje.jpeg"><br><br>  Les gens disent que la chance est le résultat d'un travail dur et long.  C'est probablement en partie vrai.  Deux de nos employés ont remporté des billets pour la conférence Apple la plus recherchée lors d'une loterie aléatoire et se sont rendus cet été à San Jose. <br><br>  Sans cet événement, le rêve de discuter des nouvelles fonctionnalités d'Apple avec les pros, de connaître les meilleurs développeurs iOS du monde et de parler publiquement sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">iThink # 3</a> serait resté dans les rêves. <br><a name="habracut"></a><br>  Tout développeur iOS souhaite participer à la conférence WWDC.  Bien sûr, vous pouvez dire: "Il y a une diffusion en ligne, n'est-ce pas vraiment suffisant?"  Oui, il y en a, mais nous voulons noter que lors du tirage au sort des billets pour l'événement, la compétition se déroule simplement!  Et ce n'est clairement pas sans raison. <br><br>  Malheureusement, les téléspectateurs des émissions en ligne ne voient pas plus de 25 à 30% de l'ensemble de l'événement et, surtout, ils ne participent pas aux master classes et aux sessions.  Malheureusement, ces événements très intéressants restent dans les coulisses de la diffusion en ligne et ne sont disponibles que pour ceux qui ont personnellement assisté à la conférence. <br><br>  Juste pour être présents à cette partie fermée, des développeurs du monde entier participent au tirage au sort et ne dorment pas la nuit, en attendant le résultat.  C'est ici qu'ils sont informés des mises à jour importantes et des changements dans l'écriture de code, ils sont initiés aux outils qui seront utilisés à l'avenir. <br><br>  Ce n'est qu'en visitant l'événement en personne que vous pourrez apprécier sa valeur.  Sans exagérer, on peut dire que la WWDC 2019 est l'événement le plus important des 5 dernières années. <br><br>  C'est là-dessus que les visiteurs ont été informés qu'Apple avait complètement changé la technologie d'écriture de code développée au fil des ans et familière à nous tous, la simplifiant grandement.  Et cela obligera de nombreux développeurs à repenser sérieusement leurs méthodes de travail, en jetant un nouveau regard sur de nombreuses choses familières. <br><br>  Nous voulons vous parler des tâches réelles avec lesquelles la communauté mondiale des développeurs iOS sera en contact très prochainement.  Plus précisément, nous examinerons les cas d'utilisation et les capacités des instruments personnalisés et des symboles SF et donnerons des exemples de notre travail avec de nouveaux outils à la WWDC 2019. <br><br><h1>  Instruments personnalisés </h1><br>  Cette "puce" propriétaire pour les développeurs a été montrée par Apple l'année dernière.  Mais les détails à son sujet ne sont connus que maintenant.  Lors des sessions de la WWDC 2019, les experts Apple ont expliqué en détail aux invités comment les outils personnalisés fonctionnent, ce que le développeur en tire et, surtout, comment les appliquer efficacement dans la pratique. <br><br>  Le traceur os_signpost introduit l'année dernière est le traceur principal de cette boîte à outils.  Ses tâches principales incluent la création d'événements et d'intervalles simples. <br><br>  Apple a également présenté aux développeurs le traceur os_signpost à faible coût.  Selon les intervenants, il peut désormais être facilement intégré même dans les versions finales.  Mais les programmeurs Apple recommandent une utilisation prudente de cet outil, contrôlant le nombre d'arguments pendant la trace, sans en abuser. <br><br>  L'architecture de la boîte à outils est structurée comme suit: <br><br><ul><li>  Flux de données  Vous pouvez résoudre le problème d'obtention d'un flux de données à l'aide du traceur os_signpost, qui traduit les données dans une table d'entrée.  La structure des tables d'entrée et de sortie est décrite dans un fichier XML spécialement créé.  Et le processus de lecture et d'écriture des données dans la table est une trace étape par étape. <br></li><li>  Modélisateur  Il traite et analyse les données de la table d'entrée.  Modeller lui-même, écrit dans un langage CLIPS spécial, comporte deux parties - déclarative et impérative.  C'est précisément son caractère unique!  Il traite les nouveaux événements et convertit les données.  À l'aide de Modeller, vous pouvez effectuer un calcul personnalisé ou une conversion de données dans le format dont vous avez besoin pour le développeur.  À la fin de la conversion, les nouvelles valeurs seront enregistrées dans le tableau de sortie.  Ce processus est appelé «modélisation». <br></li><li>  Les instruments  Avec leur aide, les informations enregistrées dans le tableau sont lues pour être affichées à l'écran.  Vous pouvez contrôler le format d'affichage à l'aide d'un formulaire XML.  Certes, il doit être créé pour cela. <br></li><li>  Utility StandartUI.  Responsable de la lecture et de la visualisation des informations du tableau de sortie. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b48/393/04f/b4839304fbb0dada78b5f3c9846af7e3.jpg"></li></ul><br><h1>  CloudKit + CoreData </h1><br>  Il s'agit de l'une des dernières «puces» de marque.  Il est chargé de synchroniser Core Data et le Cloud Kit en mode automatique.  Pour l'activer, il faut marquer les positions nécessaires avant le projet: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6c8/ae2/b2c/6c8ae2b2c70a16e0e2a6044bef522418.jpg"><br><br>  Veuillez noter que les notifications, ainsi que CLoudKit dans Capabilities ne s'activeront pas automatiquement.  Cela devra être fait manuellement. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e94/018/b30/e94018b30453be9beeead74cbf21a080.jpg"><br><br>  C'est là que votre travail se termine; Xcode fera le reste automatiquement.  Il créera lui-même un conteneur d'agrégation de travaux basé sur la base de données et CloudKit. <br><br>  Séparément, nous notons que cette nouvelle fonctionnalité très utile fonctionnera correctement dans les projets lancés précédemment.  Tout ce que le développeur doit faire est de créer un nouveau conteneur au lieu de celui existant.  Comme vous pouvez le voir, le processus de synchronisation dans les anciens projets est devenu beaucoup plus facile. <br><br><h1>  Symboles SF </h1><br>  Ce sujet à la WWDC 2019 a suscité le plus grand nombre de questions, ce qui n'est pas surprenant, car les conférenciers ont «marché» littéralement au galop.  C'était un résumé tellement accéléré et concis qui a semé la confusion parmi les invités à la conférence. <br><br>  De nombreux visiteurs ont sérieusement réfléchi à la question: «Pourquoi Apple a-t-il montré et présenté de nouveaux personnages?  En effet, depuis de nombreuses années maintenant, les développeurs utilisent largement les images familières .png / .jpg / .pdf. »  Oui, cette méthode présente certains inconvénients, mais elle est tellement familière et familière aux développeurs d'interface utilisateur qu'une bonne raison est nécessaire pour l'abandonner. <br><br>  Mais même dans cet esprit, ne sous-estimez pas l'importance des nouvelles icônes fournies par Apple pour créer une interface utilisateur conviviale.  Après avoir choisi des icônes sans succès, vous risquez que l'application perde son caractère natif, devienne incommode et incompréhensible pour l'utilisateur, ce qui réduira inévitablement sa popularité. <br><br>  Il est très important pour le développeur de comprendre et d'évaluer correctement la fonctionnalité des icônes dans l'application, leur apparence et leur impact sur la convivialité de l'utilisateur. <br><br>  Pour faciliter la compréhension de la fonction des icônes, nous les avons regroupées en trois catégories: <br><br><ul><li>  séparation du contexte; <br><br><img src="https://habrastorage.org/getpro/habr/post_images/37b/9d9/e60/37b9d9e6063a7e0e061258dd939743c6.png"></li><li>  consolidation du contexte; <br><br><img src="https://habrastorage.org/getpro/habr/post_images/214/388/ed9/214388ed973c3246e5d7ffbcbc03d2a0.png"><br></li><li>  correspondance du contexte visuel. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e0f/142/56b/e0f14256be84837a88fdcbad09832abd.png"></li></ul><br>  Grâce à cette séparation, nous avons réalisé que SF Symbols a été spécialement créé pour aider à la sélection optimale des icônes.  Notez qu'Apple a même développé une application distincte pour ce <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://developer.apple.com/design/human-interface-guidelines/sf-symbols/overview/</a> , dans laquelle vous pouvez découvrir en détail environ 1 500 nouveaux personnages.  Pour la commodité du développeur, l'application dispose d'une recherche et de paramètres personnalisables.  En les utilisant, vous pouvez évaluer l'apparence des icônes lorsque vous modifiez leurs valeurs. <br><br>  Eh bien, si parmi les 1500 caractères vous ne trouvez pas l'icône souhaitée, vous pouvez toujours dessiner la vôtre.  Comment faire cela, nous l'avons décrit dans notre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">guide</a> . <br><br>  Veuillez noter que dans l'application, vous créez une image vectorielle de l'icône, qui comprend des métadonnées de texte.  Peut-être que quelqu'un travaillant avec des graphiques vectoriels sera inhabituel.  Ce n'est pas par hasard que la WWDC a consacré une session distincte au processus de création de nouveaux personnages.  Cela a clairement montré que les anciennes icônes éprouvées sont désespérément dépassées et ont perdu leur efficacité.  Et aujourd'hui, la tendance la plus pertinente dans le développement iOS est de considérer les symboles comme UIFont. <br><br>  En pratique, ceci est le suivant.  Rien n'est nécessaire pour utiliser les icônes dans vos projets, car elles sont intégrées dans la police système de San Francisco.  Pour créer un personnage, de nouveaux initialiseurs UIImage sont requis: <br><br><img src="https://habrastorage.org/webt/ns/xl/lq/nsxllqt1luxtjcmecl8ek1n90y4.png"><br><br>  Le code montre que l'un des initialiseurs a reçu un nouveau paramètre, <code>UIImage.Configuration</code> .  Vous pouvez lui transmettre la valeur du paramètre <code>UIImage.SymbolConfiguration</code> , qui est le descendant de <code>UIImage.Configuration</code> .  Notez que les configurations sont immuables et que vous ne pouvez appliquer de nouveaux paramètres que lorsque vous <code>applying(:)</code> (https://developer.apple.com/documentation/uikit/uiimage/configuration/3294236-applying). <br><br>  En utilisant la configuration, vous pouvez modifier: <br><br><ul><li>  PointSize <br></li><li>  UIImage.SymbolScale; <br></li><li>  UIFont.TextStyle; <br></li><li>  UIImage.SymbolWeight; <br></li><li>  UIFont. <br></li></ul><br>  Nous vous en dirons plus sur chaque article. <br><br>  <b>Taille du point</b> <br><br>  Ce paramètre est responsable de la taille des caractères et montre également que le caractère n'est plus une image PNG ordinaire.  <code>Point size (CGFloat) != CGSize</code> vous également que désormais <code>Point size (CGFloat) != CGSize</code> .  Par conséquent, considérez maintenant les symboles SF uniquement avec la valeur de taille en points.  Cette relation est clairement visible lors du partage de caractères et de texte. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6e9/821/ff1/6e9821ff154df8b819483c9c7ced6571.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/bbe/26c/4a8/bbe26c4a845fc300c0d27d954228d69f.png"><br><br>  <b>UIImage.SymbolWeight</b> <br><br>  Si vous devez modifier l'épaisseur ou la gras des caractères, comme dans UIFont, utilisez pour cela le paramètre <code>UIImage.SymbolWeight</code> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/590/045/a34/590045a34df12bbf9cf1962c370b5b83.png" width="400"></div><br><br>  <b>SymbolConfiguration.init (police: UIFont)</b> <br><br>  Travailler avec cette option est très simple.  Avec lui, il vous suffit de sélectionner l'UIFont souhaité, puis le système fera tout sur le "pilote automatique". <br><br><img src="https://habrastorage.org/getpro/habr/post_images/39b/abc/cce/39babcccefcbe9cf8edd2a29f8862705.png"><br><br>  <b>UIImage.SymbolScale</b> <br><br>  À notre avis, c'est l'un des paramètres les plus controversés.  La première fonction qu'il exécute est le redimensionnement d'un personnage.  Et ici, le plaisir commence.  Le fait est que nous avons maintenant deux paramètres actifs entiers qui affectent cela.  Mais ne soyez pas nerveux! <br><br>  Par expérience pratique, nous pouvons dire que ces paramètres ne sont pas seulement faciles à «s'entendre», mais se complètent parfaitement.  Nous avons spécialement simulé la situation et défini la taille du point identique à notre UIFont en direct.  Et ils ont vu que la taille du symbole à l'écran diffère visuellement de la taille du texte (il reste plus ou moins grand).  Pour faciliter le travail et non pour créer une autre configuration à l'aide de la nouvelle valeur de taille en points, nous vous recommandons d'utiliser le paramètre <code>SymbolScale</code> .  Il redimensionnera l'image sans changer sa taille en points. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8f9/e06/19b/8f9e0619b544d711b6955c04af27c7a2.png"><br><br>  <b>UIFont.TextStyle</b> <br><br>  Il s'agit de l'option la plus simple à utiliser.  Les développeurs Apple recommandent de l'utiliser lorsque vous devez implémenter un type de police dynamique. <br><br>  D'après notre histoire, il est clair que la plupart des mises à jour présentées visent à inciter les développeurs d'applications à repenser les anciennes méthodes de travail.  Bien qu'il nous semble que ce n'est qu'une petite partie de ce que vous pourriez rencontrer dans un avenir proche.  Eh bien, pour que les innovations ne vous prennent pas par surprise, nous vous recommandons de commencer leur développement dans un avenir proche! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr470736/">https://habr.com/ru/post/fr470736/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr470726/index.html">Comment ne pas se noyer dans la routine, ou notre expérience en comparant les décharges AWR pendant les tests de résistance</a></li>
<li><a href="../fr470728/index.html">Azure PowerShell: principalement inoffensif</a></li>
<li><a href="../fr470730/index.html">Azure PowerShell: «principalement inoffensif»</a></li>
<li><a href="../fr470732/index.html">Sélection d'automne: que pensez-vous des parapluies intelligents?</a></li>
<li><a href="../fr470734/index.html">Contes de la crypte (de 40 ans de travail du programmeur)</a></li>
<li><a href="../fr470742/index.html">Équation de Navier-Stokes et simulation des fluides sur CUDA</a></li>
<li><a href="../fr470744/index.html">Les mathématiques révèlent les secrets de la rétroaction des cellules en direct</a></li>
<li><a href="../fr470746/index.html">Facebook fait de la conversation la prochaine interface populaire</a></li>
<li><a href="../fr470750/index.html">Amazon a attrapé les meilleurs produits</a></li>
<li><a href="../fr470752/index.html">Analyse des paiements Wechat</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>