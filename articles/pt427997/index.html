<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üå°Ô∏è üö£üèΩ üïµüèª √Åudio via Bluetooth: maximize detalhes sobre perfis, codecs e dispositivos üëéüèø üõ´ ü§ôüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este artigo tamb√©m est√° dispon√≠vel em ingl√™s 

 Devido √† produ√ß√£o em massa de smartphones sem uma tomada de √°udio de 3,5 mm, os fones de ouvido sem fi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>√Åudio via Bluetooth: maximize detalhes sobre perfis, codecs e dispositivos</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/427997/"><img src="https://xkcd.ru/i/927_v4.png" alt="Comic XKCD sobre 14 padr√µes concorrentes: Legenda: SITUA√á√ÉO: existem 14 padr√µes concorrentes.  Geek: 14 ?!  Absurdo!  Precisamos desenvolver um padr√£o universal para todas as ocasi√µes.  Companheiro de Geek: Sim!  Legenda: Em breve: SITUA√á√ÉO: Existem 15 padr√µes concorrentes."><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Este artigo tamb√©m est√° dispon√≠vel em ingl√™s</a> <br><br>  Devido √† produ√ß√£o em massa de smartphones sem uma tomada de √°udio de 3,5 mm, os fones de ouvido sem fio Bluetooth tornaram-se o principal caminho para muitos ouvirem m√∫sica e se comunicarem no modo fone de ouvido. <br>  Os fabricantes de dispositivos sem fio nem sempre escrevem especifica√ß√µes detalhadas do produto, e os artigos sobre √°udio Bluetooth na Internet s√£o contradit√≥rios, √†s vezes incorretos, n√£o falam sobre todos os recursos e geralmente copiam as mesmas informa√ß√µes que n√£o correspondem √† realidade. <br>  Vamos tentar descobrir o protocolo, os recursos das pilhas do Bluetooth OS, fones de ouvido e alto-falantes, codecs Bluetooth para m√∫sica e fala, descobrir o que afeta a qualidade do som e atraso transmitidos, aprender a coletar e decodificar informa√ß√µes sobre codecs suportados e outros recursos do dispositivo. <br><br>  <b>TL; DR</b> : <ul><li>  SBC - Codec Normal </li><li>  Os fones de ouvido t√™m seu pr√≥prio equalizador e p√≥s-processamento para cada codec separadamente </li><li>  O aptX n√£o √© t√£o bom quanto os an√∫ncios falam sobre isso </li><li>  LDAC - besteira de marketing </li><li>  A qualidade da conversa ainda √© ruim </li><li>  Voc√™ pode incorporar codificadores de √°udio em C no navegador compilando-os no WebAssembly via emscripten, e eles n√£o diminuir√£o muito a velocidade. </li></ul><br><a name="habracut"></a><br><br><br><br><h1>  M√∫sica Bluetooth </h1>  O componente funcional do Bluetooth √© definido por perfis - especifica√ß√µes de fun√ß√µes espec√≠ficas.  A m√∫sica Bluetooth √© transmitida usando o perfil de transmiss√£o de √°udio unidirecional A2DP de alta qualidade.  O padr√£o A2DP foi adotado em 2003 e n√£o mudou drasticamente desde ent√£o. <br>  Na estrutura do perfil, 1 codec obrigat√≥rio de SBC de baixa complexidade computacional, criado especificamente para Bluetooth, e 3 adicionais s√£o padronizados.  O uso de codecs n√£o documentados de nossa pr√≥pria implementa√ß√£o tamb√©m √© permitido. <br><br>  Em junho de 2019, estamos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">no quadrinho xkcd</a> com 14 codecs A2DP: <br><br><ul><li>  <b>SBC</b> ‚Üê padronizado em A2DP, suportado por todos os dispositivos </li><li>  <b>MPEG-1/2 Layer 1/2/3</b> ‚Üê padronizado em A2DP: o conhecido <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MP3</a> usado na TV digital <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MP2</a> e o desconhecido <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MP1</a> </li><li>  <b>MPEG-2/4 AAC</b> ‚Üê padronizado em A2DP </li><li>  <b>ATRAC</b> ‚Üê codec Sony antigo padronizado em A2DP </li><li>  ‚Üê Novo codec da Sony </li><li>  codec <b>aptX</b> ‚Üê de 1988 </li><li>  <b>aptX HD</b> ‚Üê O mesmo que o aptX, mas com diferentes op√ß√µes de codifica√ß√£o </li><li>  <b>aptX Low Latency</b> ‚Üê um <s>codec completamente diferente, sem implementa√ß√£o de software aptX</s> com um buffer reduzido </li><li>  <b>aptX Adaptive</b> ‚Üê outro codec da Qualcomm </li><li>  <b>FastStream</b> ‚Üê pseudo <b>codec</b> , modifica√ß√£o bidirecional da SBC </li><li>  ‚Üê <b>HWA LHDC</b> ‚Üê Novo codec da Huawei </li><li>  Dispositivos <b>Samsung HD</b> ‚Üê 2 suportados </li><li>  Dispositivos <b>Samsung Scalable</b> ‚Üê 2 suportados </li><li>  <b>Samsung UHQ-BT</b> ‚Üê 3 dispositivos suportados </li></ul><br><br>  Por que os codecs s√£o necess√°rios, voc√™ pergunta, quando o <abbr title="Taxa de dados aprimorada">EDR</abbr> est√° <abbr title="Taxa de dados aprimorada">dispon√≠vel</abbr> no Bluetooth, que permite transferir dados nas velocidades de 2 e 3 Mbps, e 1,4 Mbps √© suficiente para um PCM de 16 bits e dois canais n√£o compactados? <br><br><br><h1>  Transfer√™ncia de dados Bluetooth </h1>  Existem dois tipos de transfer√™ncia de dados no Bluetooth: Conex√£o Ass√≠ncrona Menos (ACL) para transmiss√£o ass√≠ncrona sem estabelecer uma conex√£o, e Conex√£o S√≠ncrona Orientada (SCO) para transmiss√£o s√≠ncrona com negocia√ß√£o preliminar da conex√£o. <br>  A transmiss√£o √© realizada usando um esquema de compartilhamento de tempo e a escolha de um canal de transmiss√£o para cada pacote separadamente (Frequency-Hop / Time-Division-Duplex, FH / TDD), cujo tempo √© dividido em intervalos de 625 microssegundos, chamados slots.  Um dos dispositivos transmite em n√∫meros de slot pares e o outro em n√∫meros √≠mpares.  O pacote transmitido pode ocupar 1, 3 ou 5 slots, dependendo do tamanho dos dados e do tipo de conjunto de transmiss√£o. Nesse caso, um dispositivo transfere os slots pares e √≠mpares at√© o final da transfer√™ncia.  No total, at√© 1600 pacotes podem ser recebidos e enviados por segundo, se cada um deles ocupar 1 slot, e ambos os dispositivos transmitirem e receberem algo sem parar. <br><br>  2 e 3 Mbps para EDR, que podem ser encontrados em an√∫ncios e no site da Bluetooth, s√£o a taxa m√°xima de transfer√™ncia de dados de canal para todos os dados no total (incluindo os cabe√ßalhos t√©cnicos de todos os protocolos nos quais os dados devem ser encapsulados), em duas dire√ß√µes ao mesmo tempo.  As taxas reais de transfer√™ncia de dados variam muito. <br><br>  Para transferir m√∫sica, √© usado um m√©todo ass√≠ncrono, quase sempre com a ajuda de pacotes do tipo 2-DH5 e 3-DH5, que carregam a quantidade m√°xima de dados no modo EDR de 2 Mbps e 3 Mbps, respectivamente, e ocupam 5 slots da divis√£o de tempo no ar. <br><br>  Representa√ß√£o esquem√°tica de uma transmiss√£o usando 5 slots por um dispositivo e 1 slot por outro (DH5 / DH1): <br><img src="https://habrastorage.org/webt/ym/iz/rj/ymizrjjo_3mwd8eo_p--wooe5om.png" alt="5 slots de transmiss√£o, cada um dos quais √© transmitido 625 microssegundos e um slot para recep√ß√£o, tamb√©m 625 microssegundos.  Sem total - 3,75 milissegundos."><br><br>  Devido ao princ√≠pio do compartilhamento de tempo, somos for√ßados a aguardar um intervalo de tempo de 625 microssegundos ap√≥s a transmiss√£o de um pacote, se o segundo dispositivo n√£o nos transmitir nada ou transmitir um pacote pequeno e mais tempo se o segundo dispositivo transmitir em pacotes grandes.  Se mais de um dispositivo estiver conectado ao telefone (por exemplo, fones de ouvido, rel√≥gio e pulseira de fitness), o tempo de transmiss√£o ser√° compartilhado entre todos eles. <br><br>  A necessidade de encapsular o √°udio nos protocolos de transporte especiais L2CAP e AVDTP leva 16 bytes da quantidade m√°xima poss√≠vel de √°udio de carga √∫til transmitida. <br><div class="scrollable-table"><table><tbody><tr><th>  Tipo de embalagem </th><th>  N√∫mero de slots </th><th>  M√°x.  bytes por pacote </th><th>  M√°x.  bytes de carga √∫til A2DP </th><th>  M√°x.  Taxa de bits de carga A2DP </th></tr><tr><td>  2-dh3 </td><td>  3 </td><td>  367 </td><td>  351 </td><td>  936 kbps </td></tr><tr><td>  3-dh3 </td><td>  3 </td><td>  552 </td><td>  536 </td><td>  1429 kbps </td></tr><tr><td>  2-DH5 </td><td>  5 </td><td>  679 </td><td>  663 </td><td>  1414 kbps </td></tr><tr><td>  3-dh5 </td><td>  5 </td><td>  1021 </td><td>  1005 </td><td>  2143 kbps </td></tr></tbody></table></div>  1414 e 1429 kbit / s definitivamente n√£o s√£o suficientes para transmitir som n√£o compactado em condi√ß√µes reais, com uma banda barulhenta de 2,4 GHz e a necessidade de transferir dados de servi√ßo.  O EDR de 3 Mbps √© exigente na pot√™ncia de transmiss√£o e no ru√≠do do ar; portanto, mesmo no modo 3-DH5, a transmiss√£o PCM confort√°vel √© imposs√≠vel, haver√° interrup√ß√µes de curto prazo constantemente e tudo funcionar√° apenas a uma dist√¢ncia de alguns metros. <br>  Na pr√°tica, mesmo o fluxo de √°udio de 990 kbit / s (LDAC 990 kbit / s) √© dif√≠cil de transmitir. <br><br>  Voltar para os codecs. <br><br><h2>  Sbc </h2>  Codec necess√°rio para todos os dispositivos que suportam o padr√£o A2DP.  O melhor e o pior codec ao mesmo tempo. <br><br><div class="scrollable-table"><table><tbody><tr><th>  Taxa de amostragem </th><th>  Capacidade </th><th>  Taxa de bits </th><th>  Suporte de codifica√ß√£o </th><th>  Suporte de decodifica√ß√£o </th></tr><tr><td>  16, 32, 44,1, 48 kHz </td><td>  16 bit </td><td>  10-1500 kbps </td><td>  Todos os dispositivos </td><td>  Todos os dispositivos </td></tr></tbody></table></div><br><br>  O SBC √© um codec simples e computacionalmente r√°pido, com um modelo psicoac√∫stico primitivo (apenas sons quietos s√£o mascarados), usando modula√ß√£o por c√≥digo de pulso adapt√°vel (APCM). <br>  A especifica√ß√£o A2DP recomenda dois perfis para uso: qualidade m√©dia e alta qualidade. <br><img src="https://hsto.org/webt/4b/ry/lo/4brylotdopfu9mh3whbmrmmmy0k.png" alt="Tabela de modos Qualidade m√©dia e alta qualidade.  Os valores selecionados s√£o bitpool, comprimento do quadro e taxa de bits.  Para 44,1 Stereo comum de 44,1 kHz.  Qualidade m√©dia: bitpool = 35, comprimento do quadro = 83, taxa de bits = 229. Alta qualidade: bitpool = 53, comprimento do quadro = 119, taxa de bits = 328."><br><br>  O codec possui muitas configura√ß√µes que permitem controlar o atraso algor√≠tmico, o n√∫mero de amostras em um bloco, o algoritmo de aloca√ß√£o de bits, mas quase em toda parte os mesmos par√¢metros recomendados na especifica√ß√£o s√£o usados: <abbr title="Um m√©todo de codifica√ß√£o est√©reo na forma de uma por√ß√£o de sinal comum e a diferen√ßa entre canais economiza espa√ßo">Joint Stereo</abbr> , 8 bandas de frequ√™ncia, 16 blocos em um quadro de √°udio, m√©todo de distribui√ß√£o de bits de <abbr title="Mascaramento de sons silenciosos, se houver sons altos, levando em considera√ß√£o a audibilidade de frequ√™ncia n√£o linear do ouvido humano">Loudness</abbr> . <br>  O SBC suporta a altera√ß√£o din√¢mica do par√¢metro Bitpool, que afeta diretamente a taxa de bits.  Se o r√°dio estiver entupido, os pacotes forem perdidos ou os dispositivos estiverem distantes, a fonte de √°udio poder√° reduzir o Bitpool at√© que a conex√£o normalize. <br><br>  Os fabricantes da maioria dos fones de ouvido definem o valor m√°ximo do par√¢metro Bitpool como 53, o que limita a taxa de bits a 328 kilobits por segundo ao usar o perfil recomendado. <br>  Mesmo que o fabricante do fone de ouvido defina o valor m√°ximo de Bitpool acima de 53 (tais modelos s√£o encontrados, por exemplo: Beats Solo¬≥, JBL Everest Elite 750NC, Apple AirPods, tamb√©m acontece em alguns receptores e unidades de cabe√ßa de carro), a maioria dos sistemas operacionais n√£o permitir√° o uso de taxas de bits aumentadas devido a defina o valor limite interno nas pilhas Bluetooth. <br>  Al√©m disso, alguns fabricantes definem um valor m√°ximo baixo de Bitpool para alguns dispositivos.  Por exemplo, para Bluedio T, √© 39, para Samsung Gear IconX - 37, o que oferece uma qualidade de som ruim. <br><br>  As restri√ß√µes artificiais por parte dos desenvolvedores de pilhas Bluetooth provavelmente surgiram devido √† incompatibilidade de alguns dispositivos com grandes valores de Bitpool ou perfis at√≠picos, mesmo que eles relatassem seu suporte, e um n√∫mero insuficiente de testes durante a certifica√ß√£o.  Era mais f√°cil para os autores de pilhas Bluetooth restringir-se a concordar com um perfil recomendado, em vez de criar bancos de dados de dispositivos incorretos (embora agora eles fa√ßam isso para outras fun√ß√µes que funcionam incorretamente). <br><br>  O SBC aloca dinamicamente bits de quantiza√ß√£o para bandas de frequ√™ncia, operando de baixo a alto com diferentes pesos.  Se toda a taxa de bits foi usada para as frequ√™ncias baixa e m√©dia, as frequ√™ncias mais altas ser√£o "cortadas" (haver√° um sil√™ncio). <br><br>  Exemplo SBC 328 kbps.  Acima est√° o original, abaixo est√° o SBC, alternando periodicamente entre as faixas.  Para √°udio, o arquivo de v√≠deo usa o codec de compacta√ß√£o FLAC sem perdas.  O uso do FLAC no cont√™iner mp4 n√£o √© oficialmente padronizado, portanto, n√£o √© fato que seu navegador o reproduza, mas deve funcionar nas vers√µes mais recentes do Chrome e Firefox para desktop.  Se voc√™ n√£o tiver som, fa√ßa o download do arquivo e abra-o em um player de v√≠deo completo. <br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Seu navegador n√£o suporta v√≠deo HTML5. <source src="https://files.catbox.moe/8yrssu.mp4" type="video/mp4"></video></div></div></div>  <i><font color="#666666">ZZ Top - Homem Vestido Afiado</font></i> <br><br>  O momento de comuta√ß√£o √© vis√≠vel no espectrograma: o SBC corta periodicamente sons baixos acima de 17,5 kHz e n√£o emite bits para a banda acima de 20 kHz.  O espectrograma completo est√° dispon√≠vel por clique (1,7 MB). <br> <a href=""><img src="https://habrastorage.org/webt/-n/0l/rq/-n0lrqlg47cvwkdux2tn2swevsw.jpeg" alt="imagem"></a> <br><br>  N√£o ou√ßo a diferen√ßa entre o original e a SBC nesta faixa. <br><br>  Vamos pegar algo mais novo e simular o √°udio que sairia usando os fones de ouvido Samsung Gear IconX com Bitpool 37 (na parte superior √© o sinal original, na parte inferior √© SBC 239 kbit / s, o som est√° em FLAC). <br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Seu navegador n√£o suporta v√≠deo HTML5. <source src="https://files.catbox.moe/r561g5.mp4" type="video/mp4"></video></div></div></div>  <i><font color="#666666">Auto-indulg√™ncia irracional - Testemunha</font></i> <br><br>  Ou√ßo crepitar, menos efeito est√©reo e um desagrad√°vel "ru√≠do" de vocais em altas frequ√™ncias. <br><br>  Embora o SBC seja um codec muito flex√≠vel, ele pode ser configurado para baixas lat√™ncias, fornece excelente qualidade de √°udio em altas taxas de bits (452+ kbps) e √© bastante bom para a maioria das pessoas no padr√£o de alta qualidade (328 kbps), porque que o padr√£o A2DP n√£o especifica perfis fixos (e fornece apenas recomenda√ß√µes), os desenvolvedores das pilhas estabelecem restri√ß√µes artificiais no Bitpool, os par√¢metros do √°udio transmitido n√£o s√£o exibidos na interface do usu√°rio e os fabricantes de fones de ouvido s√£o livres para definir suas pr√≥prias configura√ß√µes e nunca indicam tecnicamente o valor do Bitpool  Devido √†s caracter√≠sticas do produto, o codec √© famoso por sua baixa qualidade de som, embora isso n√£o seja um problema para o codec. <br>  O par√¢metro Bitpool afeta diretamente a taxa de bits em um √∫nico perfil.  O mesmo valor do Bitpool 53 pode fornecer uma taxa de bits de 328 kbit / s com o perfil de alta qualidade recomendado ou 1212 kbit / s com um <abbr title="Modo de codifica√ß√£o de canal, no qual todo o Bitpool √© usado em cada canal separadamente, dobrando a taxa de bits">canal duplo</abbr> e 4 bandas de frequ√™ncia, e √© por isso que os autores de SO, al√©m das restri√ß√µes no Bitpool, definem uma restri√ß√£o e na taxa de bits.  A meu ver, essa situa√ß√£o surgiu devido a uma falha no padr√£o A2DP: era necess√°rio coordenar a taxa de bits, n√£o o Bitpool. <br><br>  Tabela de suporte para recursos do SBC em diferentes sistemas operacionais: <br><div class="scrollable-table"><table><tbody><tr><th>  OS </th><th>  Taxas de amostra suportadas </th><th>  Limite m√°x.  Bitpool </th><th>  Limite m√°x.  Taxa de bits </th><th>  Taxa de bits t√≠pica </th><th>  Ajuste Din√¢mico de Bitpool </th></tr><tr><td>  <b>Windows 10</b> </td><td>  44,1 kHz </td><td>  53 </td><td>  512 kbps </td><td>  328 kbps </td><td>  ‚úì * </td></tr><tr><td>  <b>Linux (BlueZ + PulseAudio)</b> </td><td>  16, 32, 44,1, 48 kHz </td><td>  64 (para entrada), 53 (para sa√≠da) </td><td>  Sem limite </td><td>  328 kbps </td><td>  ‚úì * </td></tr><tr><td>  <b>macOS High Sierra</b> </td><td>  44,1 kHz </td><td>  64, padr√£o 53 *** </td><td>  Desconhecido </td><td>  328 kbps </td><td>  ‚úó </td></tr><tr><td>  <b>Android 4.4-9</b> </td><td>  44,1 / 48 kHz ** </td><td>  53 </td><td>  328 kbps </td><td>  328 kbps </td><td>  ‚úó </td></tr><tr><td>  <b>Android 4.1-4.3.1</b> </td><td>  44,1, 48 kHz ** </td><td>  53 </td><td>  229 kbps </td><td>  229 kbps </td><td>  ‚úó </td></tr><tr><td>  <b>Blackberry OS 10</b> </td><td>  48 kHz </td><td>  53 </td><td>  Sem limite </td><td>  328 kbps </td><td>  ‚úó </td></tr></tbody></table></div>  <i><font color="#666666"><b>* O</b> Bitpool diminui apenas, mas n√£o aumenta automaticamente, em caso de melhoria das condi√ß√µes de transmiss√£o.</font></i>  <i><font color="#666666">Para restaurar o Bitpool, voc√™ precisa interromper a reprodu√ß√£o, aguardar alguns segundos e reiniciar o √°udio.</font></i> <i><font color="#666666"><br></font></i>  <i><font color="#666666"><b>**</b> O valor padr√£o depende das configura√ß√µes da pilha especificadas ao compilar o firmware.</font></i>  <i><font color="#666666">No Android 8 / 8.1, a frequ√™ncia √© de 44,1 kHz ou 48 kHz, dependendo das configura√ß√µes durante a compila√ß√£o. Em outras vers√µes, 44,1 kHz e 48 kHz s√£o suportados ao mesmo tempo.</font></i> <i><font color="#666666"><br></font></i>  <i><font color="#666666"><b>***</b> O valor do Bitpool pode ser aumentado no Bluetooth Explorer.</font></i> <br><br><h2>  aptX e aptX HD </h2>  O aptX √© um codec simples e computacionalmente r√°pido, sem psicoac√∫stica, usando modula√ß√£o por c√≥digo de pulso diferencial adaptativo ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ADPCM</a> ).  Apareceu por volta de 1988 (a data de registro da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">patente</a> √© de fevereiro de 1988), antes do Bluetooth ser usado principalmente em equipamentos de √°udio sem fio profissionais, <abbr title="Padr√£o de telefonia e transfer√™ncia de dados. N√£o era popular nos pa√≠ses da CEI.">ISDN</abbr> , cinemas.  Atualmente de propriedade da Qualcomm, requer licenciamento e royalties.  Em 2014: US $ 6.000 por vez e US $ 1 para cada dispositivo, para lotes de at√© 10.000 dispositivos ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">fonte</a> , p. 16). <br>  O aptX e o aptX HD s√£o o mesmo codec, com perfis de codifica√ß√£o diferentes. <br><br>  O codec possui apenas um par√¢metro - a escolha da frequ√™ncia de amostragem.  H√°, no entanto, uma escolha do n√∫mero / modo de canais, mas em todos os dispositivos conhecidos por mim (mais de 70 pe√ßas), apenas o est√©reo √© suportado. <br><br><div class="scrollable-table"><table><tbody><tr><th>  Codec </th><th>  Taxa de amostragem </th><th>  Capacidade </th><th>  Taxa de bits </th><th>  Suporte de codifica√ß√£o </th><th>  Suporte de decodifica√ß√£o </th></tr><tr><td>  <b>aptX</b> </td><td>  16, 32, 44,1, 48 kHz </td><td>  16 bit </td><td>  128/256/352/384 kbps (dependendo da taxa de amostragem) </td><td>  Windows 10 (desktop e m√≥vel), macOS, Android 4.4 + / 7 *, Blackberry OS 10 </td><td>  Uma ampla variedade de dispositivos de √°udio (hardware) </td></tr></tbody></table></div>  <i><font color="#666666"><b>*</b> As vers√µes anteriores a 7 requerem modifica√ß√£o da pilha Bluetooth.</font></i>  <i><font color="#666666">O codec √© suportado apenas se o fabricante do dispositivo Android tiver licenciado a Qualcomm para usar o codec (se o SO tiver bibliotecas de codifica√ß√£o).</font></i> <br><br>  O aptX divide o √°udio em 4 bandas de frequ√™ncia e os quantifica com o mesmo n√∫mero de bits continuamente: 8 bits para 0-5,5 kHz, 4 bits para 5,5-11 kHz, 2 bits para 11-16,5 kHz, 2 bits para 16,5-22 kHz ( d√≠gitos para uma frequ√™ncia de amostragem de 44,1 kHz). <br><br>  Exemplo de √°udio aptX (na parte superior est√° o sinal da fonte, na parte inferior est√° o aptX, espectrogramas apenas dos canais esquerdos, som em FLAC): <br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Seu navegador n√£o suporta v√≠deo HTML5. <source src="https://files.catbox.moe/06eohy.mp4" type="video/mp4"></video></div></div></div><br>  As frequ√™ncias superiores ficaram um pouco mais vermelhas, mas nenhuma diferen√ßa √© ouvida. <br><br>  Devido √† distribui√ß√£o fixa de bits de quantiza√ß√£o, o codec n√£o pode "transferir bits" para as frequ√™ncias que mais precisam deles.  Diferentemente do SBC, o aptX n√£o "corta" as frequ√™ncias, mas adiciona ru√≠do de quantiza√ß√£o a elas, reduzindo a faixa din√¢mica do √°udio. <br><br>  N√£o se deve considerar que o uso, por exemplo, de 2 bits para uma banda reduz a faixa din√¢mica para 12 dB: o ADPCM permite que voc√™ use at√© 96 dB de faixa din√¢mica, mesmo ao usar 2 bits de quantiza√ß√£o, mas apenas com um sinal espec√≠fico. <br>  O ADPCM armazena a diferen√ßa na representa√ß√£o num√©rica entre a amostra atual e a pr√≥xima, em vez de escrever o valor absoluto, como no PCM.  Isso permite reduzir os requisitos para o n√∫mero de bits necess√°rios para armazenar as mesmas informa√ß√µes (sem perda) ou quase as mesmas (com um erro de arredondamento relativamente pequeno).  Para reduzir erros de arredondamento, s√£o usadas tabelas de coeficientes. <br>  Ao criar o codec, os autores calcularam os coeficientes ADPCM em um conjunto de arquivos de √°udio de m√∫sica.  Quanto mais pr√≥ximo o sinal de √°udio do conjunto de m√∫sicas em que as tabelas foram constru√≠das, menos erros de quantiza√ß√£o (ru√≠do) o aptX cria. <br><br>  Por esse motivo, os testes sint√©ticos sempre produzem resultados piores que a m√∫sica.  Fiz um exemplo sint√©tico especial em que o aptX mostra resultados ruins - uma onda senoidal de 12,4 kHz (acima √© o sinal original, abaixo √© o aptX. Som no FLAC. Abaixe o volume!): <br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Seu navegador n√£o suporta v√≠deo HTML5. <source src="https://files.catbox.moe/kterhd.mp4" type="video/mp4"></video></div></div></div><br>  Gr√°fico de espectro: <br><img src="https://habrastorage.org/webt/i1/p9/gr/i1p9grptgcwou7hf7f21yydddxa.png" alt="Gr√°fico de espectro, n√≠vel m√°ximo de ru√≠do - -55 dB"><br><br>  Ru√≠dos s√£o claramente aud√≠veis. <br><br>  No entanto, se um sinus√≥ide com uma amplitude menor for gerado para ficar mais silencioso, o ru√≠do tamb√©m ficar√° mais silencioso, o que indica uma ampla faixa din√¢mica: <br><br><img src="https://habrastorage.org/webt/qe/ti/km/qetikmcmqkiusrwtxdftmlvn_ii.png" alt="Gr√°fico de espectro, n√≠vel m√°ximo de ru√≠do - -75 dB"><br><br>  Para ouvir a diferen√ßa entre a faixa de m√∫sica original e a compactada, voc√™ pode inverter um dos sinais e adicionar as faixas canal por canal.  Essa abordagem, em geral, √© incorreta e n√£o daria um resultado sadio com codecs mais complexos, mas especificamente para o ADPCM √© bastante adequado. <br>  <a href="">A diferen√ßa entre o original e o aptX</a> <br>  A diferen√ßa entre a raiz quadrada e a m√©dia dos sinais est√° no n√≠vel de -37,4 dB, o que n√£o √© muito para m√∫sica compactada. <br><br><h3>  aptX HD </h3>  O aptX HD n√£o √© um codec independente - √© um perfil de codifica√ß√£o de codec aptX aprimorado.  As altera√ß√µes afetaram o n√∫mero de bits alocados para a codifica√ß√£o das faixas de frequ√™ncia: 10 bits para 0-5,5 kHz, 6 bits para 5,5-11 kHz, 4 bits para 11-16,5 kHz, 4 bits para 16,5-22 kHz (d√≠gitos para 44,1 kHz). <br><br><div class="scrollable-table"><table><tbody><tr><th>  Codec </th><th>  Taxa de amostragem </th><th>  Capacidade </th><th>  Taxa de bits </th><th>  Suporte de codifica√ß√£o </th><th>  Suporte de decodifica√ß√£o </th></tr><tr><td>  <b>aptX HD</b> </td><td>  16, 32, 44,1, 48 kHz </td><td>  24 bits </td><td>  192/384/529/576 kbps (dependendo da taxa de amostragem) </td><td>  Android 8 + * </td><td>  Alguns dispositivos de √°udio (hardware) </td></tr></tbody></table></div>  <i><font color="#666666"><b>*</b> As vers√µes anteriores a 7 requerem modifica√ß√£o da pilha Bluetooth.</font></i>  <i><font color="#666666">O codec √© suportado apenas se o fabricante do dispositivo Android tiver licenciado a Qualcomm para usar o codec (se o SO tiver bibliotecas de codifica√ß√£o).</font></i> <br><br>  Menos comum que o aptX: parece exigir licenciamento separado da Qualcomm e taxas de licen√ßa separadas. <br><br>  Vamos repetir o exemplo com uma onda senoidal de 12,4 kHz: <br><img src="https://habrastorage.org/webt/zj/be/u6/zjbeu69hd_pqm-valjq895lcoei.png" alt="Gr√°fico de espectro, n√≠vel m√°ximo de ru√≠do - -72 dB"><br><br>  Muito melhor do que com o aptX, mas ainda barulhento. <br><br><br><h2>  Lat√™ncia baixa do aptX </h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A vers√£o de baixa lat√™ncia do aptX n√£o √© um codec independente, mas difere apenas nas configura√ß√µes de atraso e buffer usadas no lado do dispositivo de √°udio. </font><font style="vertical-align: inherit;">O resto √© apenas o aptX. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O codec foi projetado para transmiss√£o interativa de √°udio com baixa lat√™ncia (filmes, jogos), onde o atraso do √°udio n√£o pode ser ajustado programaticamente. </font><font style="vertical-align: inherit;">A implementa√ß√£o do software est√° dispon√≠vel </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">como um driver Dell para chips Intel Bluetooth</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Tamb√©m suportado por transmissores, receptores, fones de ouvido e alto-falantes, mas n√£o smartphones.</font></font><br><br><div class="scrollable-table"><table><tbody><tr><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Taxa de amostragem </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Taxa de bits </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Suporte de codifica√ß√£o </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Suporte de decodifica√ß√£o </font></font></th></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 44,1 kHz </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 352 kbps </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Windows 10 com driver Dell e alguns transmissores (hardware) </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Alguns dispositivos de √°udio (hardware) </font></font></td></tr></tbody></table></div><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Aac </font></font></h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AAC, ou Advanced Audio Coding, √© um codec computacionalmente complexo com um modelo psicoac√∫stico s√©rio. </font><font style="vertical-align: inherit;">√â amplamente utilizado para √°udio na Internet, o segundo mais popular depois do MP3. </font><font style="vertical-align: inherit;">Requer licenciamento e royalties: US $ 15.000 por vez (ou US $ 1.000 para empresas com menos de 15 funcion√°rios) + US $ 0,98 para os primeiros 500.000 dispositivos ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fonte</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O codec √© padronizado como parte das especifica√ß√µes MPEG-2 e MPEG-4 e, ao contr√°rio do equ√≠voco, n√£o pertence √† Apple.</font></font><br><br><div class="scrollable-table"><table><tbody><tr><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Taxa de amostragem </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Taxa de bits </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Suporte de codifica√ß√£o </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Suporte de decodifica√ß√£o </font></font></th></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 8 - 96 kHz </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 8 - 576 kbps (para est√©reo), 256 - 320 kbps (t√≠pico para Bluetooth) </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> macOS, Android 7+ *, iOS </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Uma ampla variedade de dispositivos de √°udio (hardware) </font></font></td></tr></tbody></table></div> <i><font color="#666666"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Somente em dispositivos cujos fabricantes pagaram royalties:</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> iOS e macOS usam o melhor codificador Apple AAC at√© o momento, fornecendo a mais alta qualidade de √°udio poss√≠vel. O Android usa o codificador Fraunhofer FDK AAC da segunda mais alta qualidade, mas v√°rios hardwares embutidos na plataforma (SoC) podem ser usados, com qualidade de codifica√ß√£o desconhecida.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De acordo com testes recentes do SoundGuys</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, a qualidade da codifica√ß√£o AAC por diferentes telefones Android √© muito diferente: a</font><font style="vertical-align: inherit;">maioria dos dispositivos de √°udio sem fio para AAC tem uma taxa de bits m√°xima de 320 kbps, alguns suportam apenas 256 kbps. Outras taxas de bits s√£o extremamente raras.</font><font style="vertical-align: inherit;">O AAC oferece excelente qualidade em 320 e 256 kbps, mas est√° sujeito a</font></font><br> <a href=""><img src="https://www.soundguys.com/wp-content/uploads/2018/10/aac-enhanced-view-fr-1200x788.jpg" alt="Gr√°fico de espectro de codifica√ß√£o AAC de v√°rios dispositivos m√≥veis.  O Huawei P20 Pro tem um decl√≠nio acentuado em torno de 14 kHz, LG V30 - em torno de 16 kHz, Samsung Note 8 - 17 kHz, Apple iPhone 7 - 19 kHz."></a> <br><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perda de codifica√ß√£o seq√ºencial de conte√∫do j√° compactado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , no entanto, √© dif√≠cil ouvir quaisquer diferen√ßas com o original no iOS a uma taxa de bits de 256 kbps, mesmo com v√°rias codifica√ß√µes consecutivas, com codifica√ß√£o √∫nica, por exemplo, MP3 320 kbps em AAC 256 kbps pode ser negligenciado. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como em outros codecs Bluetooth, qualquer m√∫sica √© decodificada primeiro e depois codificada pelo codec. Ao ouvir m√∫sica no formato AAC, ela √© decodificada primeiro pelo sistema operacional e depois codificada no AAC novamente, para transmiss√£o via Bluetooth. Isso √© necess√°rio para misturar v√°rios fluxos de √°udio, por exemplo, m√∫sica e notifica√ß√£o de uma nova mensagem. iOS n√£o √© excep√ß√£o. Na Internet, voc√™ pode encontrar muitas alega√ß√µes de que, no iOS, a m√∫sica AAC n√£o √© transcodificada quando transmitida via Bluetooth, o que est√° incorreto.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O padr√£o AAC tem muitas extens√µes para o m√©todo de codifica√ß√£o padr√£o. </font><font style="vertical-align: inherit;">Um deles - Scalable to Lossless (SLS) - √© padronizado para Bluetooth e permite transferir √°udio sem perdas (sem perdas). </font><font style="vertical-align: inherit;">Infelizmente, em dispositivos reais, o suporte √† expans√£o n√£o foi encontrado. </font><font style="vertical-align: inherit;">A extens√£o para reduzir o atraso de transmiss√£o AAC-LD (Atraso baixo) n√£o √© padronizada para Bluetooth.</font></font><br><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MP1 / 2/3 </font></font></h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os codecs da fam√≠lia MPEG-1/2 Parte 3 consistem em MP3s conhecidos e amplamente utilizados, MP2 menos comum (usado principalmente em TV e r√°dio digital) e MP1 completamente desconhecido. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os codecs MP1 e MP2 antigos n√£o s√£o compat√≠veis: n√£o encontrei fones de ouvido e nem uma √∫nica pilha Bluetooth que os codificasse ou decodificasse. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A decodifica√ß√£o de MP3 √© suportada por alguns fones de ouvido, mas a codifica√ß√£o n√£o √© suportada em nenhuma pilha de sistemas operacionais modernos. Parece que a pilha BlueSoleil de terceiros para Windows pode codificar para MP3 se voc√™ alterar manualmente o arquivo de configura√ß√£o, mas minha instala√ß√£o leva ao BSoD no Windows 10. Conclus√£o - o codec n√£o pode realmente ser usado para √°udio Bluetooth.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Antes, em 2006-2008, antes da distribui√ß√£o do padr√£o A2DP nos dispositivos, as pessoas ouviam m√∫sica MP3 no fone de ouvido Nokia BH-501 por meio do programa MSI BluePlayer, dispon√≠vel no Symbian e no Windows Mobile. </font><font style="vertical-align: inherit;">Naquela √©poca, a arquitetura do sistema operacional do smartphone permitia o acesso a muitas fun√ß√µes de baixo n√≠vel e, no Windows Mobile, era completamente poss√≠vel instalar pilhas Bluetooth de terceiros. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A patente mais recente do codec MP3 expirou. O uso do codec n√£o exige royalties a partir de 23 de abril de 2017.</font></font><br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Se a patente mais antiga mencionada nas refer√™ncias mencionadas for tomada como medida, a tecnologia MP3 ficar√° livre de patentes nos Estados Unidos em 16 de abril de 2017, quando a patente US 6.009.399, mantida e administrada pela Technicolor, expirar√°. </font></font></blockquote> <i><font color="#666666">: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">www.iis.fraunhofer.de/en/ff/amm/prod/audiocodec/audiocodecs/mp3.html</a></font></i> <br><br><div class="scrollable-table"><table><tbody><tr><th>   </th><th>  </th><th>   </th><th>   </th></tr><tr><td> 16 ‚Äî 48  </td><td> 8 ‚Äî 320 / </td><td>    </td><td>   () </td></tr></tbody></table></div><br><br><h2> LDAC </h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O novo e avan√ßado codec de alta resolu√ß√£o da Sony, que suporta taxas de amostragem de at√© 96 kHz e resolu√ß√£o de 24 bits, com uma taxa de bits de at√© 990 kbps. Anunciado como um codec audi√≥filo, como um substituto para os codecs Bluetooth existentes. Tem a fun√ß√£o de ajuste adaptativo da taxa de bits, dependendo das condi√ß√µes do r√°dio. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O codificador LDAC ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">libldac</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) est√° inclu√≠do no pacote padr√£o do Android, portanto, a codifica√ß√£o √© suportada em qualquer smartphone Android, come√ßando com a vers√£o 8 do sistema operacional. Os decodificadores de software n√£o est√£o dispon√≠veis gratuitamente, a especifica√ß√£o do codec n√£o √© acess√≠vel ao p√∫blico em geral, no entanto, √† primeira vista no codificador, o dispositivo interno √© semelhante ao </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ATRAC9</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Codec da Sony usado no PlayStation 4 e Vita: ambos trabalham na faixa de frequ√™ncias, usam a transformada discreta de cosseno modificada (MDCT) e a compress√£o usando o algoritmo Huffman. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O LDAC usa a divis√£o em 12 ou 16 bandas de frequ√™ncia: 12 s√£o usadas para 44,1 e 48 kHz, 16 para 88,2 e 96 kHz. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O suporte ao LDAC √© representado quase exclusivamente pelos fones de ouvido da Sony. </font><font style="vertical-align: inherit;">√Äs vezes, a capacidade de decodificar LDAC √© encontrada em fones de ouvido e DACs de outros fabricantes, mas muito raramente.</font></font><br><br><div class="scrollable-table"><table><tbody><tr><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Taxa de amostragem </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Taxa de bits </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Suporte de codifica√ß√£o </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Suporte de decodifica√ß√£o </font></font></th></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 44,1 - 96 kHz </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 303/606/909 kbit / s (para 44,1 e 88,2 kHz), 330/660/990 kbit / s (para 48 e 96 kHz) </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Android 8 ou superior </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Alguns fones de ouvido e dispositivos √∫nicos da Sony de outros fabricantes (hardware) </font></font></td></tr></tbody></table></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O marketing do LDAC como codec de alta resolu√ß√£o prejudica seu componente t√©cnico: √© est√∫pido gastar taxa de bits na transmiss√£o de frequ√™ncias inaud√≠veis pelo ouvido humano e aumentar a profundidade de bits, desde que n√£o seja suficiente transmitir a qualidade do CD (44,1 / 16) sem perda. Felizmente, o codec possui dois modos de opera√ß√£o: transmiss√£o de √°udio por CD e transmiss√£o de √°udio em alta resolu√ß√£o. No primeiro caso, apenas 44,1 kHz / 16 bits √© transmitido pelo ar.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como o decodificador de software LDAC n√£o est√° dispon√≠vel gratuitamente, √© imposs√≠vel testar o codec sem dispositivos adicionais que decodifiquem o LDAC. </font><font style="vertical-align: inherit;">De acordo com o teste LDAC no DAC com seu suporte, que foi conectado pelos engenheiros da SoundGuys.com por uma sa√≠da digital e gravou o som emitido nos sinais de teste, o LDAC 660 e 990 kbps no modo de qualidade de CD fornece uma rela√ß√£o sinal-ru√≠do um pouco melhor que a do aptX HD </font><font style="vertical-align: inherit;">Este √© um bom resultado. </font><i><font color="#666666"><font style="vertical-align: inherit;">Fonte: </font></font></i><i><font color="#666666"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">www.soundguys.com/ldac-ultimate-bluetooth-guide-20026 O</font></a></font></i><font style="vertical-align: inherit;"> LDAC tamb√©m suporta taxa de bits din√¢mica fora dos perfis estabelecidos - de 138 kbps a 990 kbps, mas, tanto quanto eu sei, o Android usa apenas perfis padronizados. / 606/909 e 330/660/990 kbit / s.</font></font><br><br> <a href=""><img src="https://www.soundguys.com/wp-content/uploads/2018/10/LDAC-990-CD-Noise-Floor.jpg" alt="Perfil de ru√≠do LDAC CD 990 kbit / s"></a> <br> <i><font color="#666666"><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"></font></a></font></i> <br><br><font style="vertical-align: inherit;"></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Outros codecs </font></font></h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Outros codecs A2DP n√£o s√£o amplamente utilizados. </font><font style="vertical-align: inherit;">Seu suporte est√° quase completamente ausente ou est√° dispon√≠vel apenas em alguns modelos de fones de ouvido e smartphones. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O codec ATRAC padronizado no A2DP nunca foi usado como um codec Bluetooth, nem mesmo pela pr√≥pria Sony, os codecs Samsung HD, Samsung Scalable e Samsung UHQ-BT t√™m suporte muito limitado de dispositivos de transmiss√£o e recep√ß√£o, e o HWA LHDC √© muito novo e √© suportado apenas tr√™s (?) dispositivos.</font></font><br><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Suporte para codec de √°udio </font></font></h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nem todos os fabricantes publicam informa√ß√µes precisas sobre codecs compat√≠veis com determinados fones de ouvido, alto-falantes, receptores ou transmissores sem fio. √Äs vezes, acontece que o suporte a um determinado codec √© apenas para transmiss√£o, mas n√£o para recep√ß√£o (relevante para transmissores-receptores combinados), embora o fabricante afirme simplesmente ser "suportado", sem coment√°rios (suponho que o licenciamento separado de codificadores e decodificadores de alguns codecs seja o respons√°vel ) Nos dispositivos mais baratos, talvez voc√™ n√£o encontre o suporte ao aptX declarado. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Infelizmente, nas interfaces da maioria dos sistemas operacionais, o codec usado n√£o √© exibido em nenhum lugar. As informa√ß√µes sobre isso est√£o dispon√≠veis apenas no Android, a partir da vers√£o 8, e no macOS. No entanto, mesmo nesses sistemas operacionais, apenas os codecs compat√≠veis com o telefone / computador e os fones de ouvido ser√£o exibidos.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como descobrir quais codecs o dispositivo suporta? A op√ß√£o mais confi√°vel √© registrar e analisar um despejo de tr√°fego com par√¢metros de negocia√ß√£o A2DP! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isso pode ser feito no Linux, macOS e Android. No Linux, voc√™ pode usar o Wireshark ou o hcidump, no macOS, o Bluetooth Explorer e no Android, a fun√ß√£o padr√£o de salvamento de dump do Bluetooth HCI, dispon√≠vel nas ferramentas do desenvolvedor. Voc√™ receber√° um dump do btsnoop, que pode ser baixado no analisador Wireshark. </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Preste aten√ß√£o</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Voc√™ pode obter o dump correto apenas conectando do telefone / computador aos fones de ouvido / alto-falante (por mais engra√ßado que pare√ßa)! Os fones de ouvido podem estabelecer uma conex√£o independente com o telefone; nesse caso, solicitar√£o uma lista de codecs do telefone, e n√£o vice-versa. Para garantir que voc√™ grave o dump correto, primeiro desconecte o emparelhamento com o dispositivo e, durante a grava√ß√£o do dump, emparelhe o telefone com os fones de ouvido. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Use o seguinte filtro de exibi√ß√£o para filtrar tr√°fego irrelevante:</font></font><br><pre><code class="plaintext hljs">btavdtp.signal_id</code> </pre> <br><br>  Como resultado, voc√™ deve ver algo semelhante: <br> <a href=""><img src="https://habrastorage.org/webt/fv/ku/xs/fvkuxsqcdwtxznupploqmldv9qm.png" alt="Wireshark com um despejo e filtro carregado para exibir o comando A2DP GetCapabilities"></a> <br><br>  Em cada ponto do comando GetCapabilities, voc√™ pode clicar e ver as caracter√≠sticas detalhadas do codec. <br> <a href=""><img src="https://habrastorage.org/webt/7s/9a/xa/7s9axaeztya_dr2irptfi68ejxs.png" alt="Caracter√≠sticas de um dos itens selecionados.  O identificador de codec est√° vis√≠vel."></a> <br><br>  O Wireshark n√£o conhece todos os identificadores de codec; portanto, alguns codecs precisar√£o ser descriptografados manualmente, observando a tabela de identificadores abaixo: <br><pre> <code class="plaintext hljs">Mandatory: 0x00 - SBC Optional: 0x01 - MPEG-1,2 (aka MP3) 0x02 - MPEG-2,4 (aka AAC) 0x04 - ATRAC Vendor specific: 0xFF 0x004F 0x01 - aptX 0xFF 0x00D7 0x24 - aptX HD 0xFF 0x000A 0x02 - aptX Low Latency 0xFF 0x00D7 0x02 - aptX Low Latency 0xFF 0x000A 0x01 - FastStream 0xFF 0x012D 0xAA - LDAC 0xFF 0x0075 0x0102 - Samsung HD 0xFF 0x0075 0x0103 - Samsung Scalable Codec 0xFF 0x053A 0x484C - Savitech LHDC 0xFF 0x000A 0x0104 - The CSR True Wireless Stereo v3 Codec ID for AAC 0xFF 0x000A 0x0105 - The CSR True Wireless Stereo v3 Codec ID for MP3 0xFF 0x000A 0x0106 - The CSR True Wireless Stereo v3 Codec ID for aptX</code> </pre> <br>  Para descobrir se o seu dispositivo suporta velocidades EDR de 3 Mbps, voc√™ pode filtrar: <br><pre> <code class="plaintext hljs">bthci_evt.code==0x0b</code> </pre> <br><img src="https://habrastorage.org/webt/jj/qy/ph/jjqyphb07cjqmqgrqirhqmueula.png" alt="imagem"><br><br>  Para n√£o analisar os despejos manualmente, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">criei</a> um servi√ßo que analisar√° tudo automaticamente: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">btcodecs.valdikss.org.ru</a> <br><br>  Para Windows, existe um utilit√°rio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Bluetooth Tweaker</a> simples, mas √∫til, que, entre outras coisas, mostra os codecs atuais e os suportados. <br>  No Linux, voc√™ tamb√©m pode usar o programa avinfo inclu√≠do no BlueZ. <br><br><br><h1>  Compara√ß√£o de codecs.  Qual codec √© melhor? </h1>  Cada codec tem suas vantagens e desvantagens. <br>  O aptX e o aptX HD usam perfis codificados que n√£o podem ser alterados sem modificar o codificador e o decodificador.  Nem o fabricante do telefone nem o fabricante do fone de ouvido podem alterar a taxa de bits ou os coeficientes de codifica√ß√£o aptX.  O propriet√°rio do codec, Qualcomm, fornece um codificador de refer√™ncia na forma de uma biblioteca.  Esses fatos s√£o o ponto forte do aptX - voc√™ sabe com anteced√™ncia qual a qualidade do som que obter√°, sem nenhum "buts". <br><br>  A SBC, pelo contr√°rio, possui muitos par√¢metros configur√°veis, uma taxa de bits din√¢mica (um codificador pode reduzir o par√¢metro de pool de bits se o r√°dio estiver carregado) e n√£o possui c√≥digos f√≠sicos, mas apenas a "qualidade m√©dia" e a "alta qualidade" recomendadas, que foram adicionadas √† especifica√ß√£o A2DP em 2003 ano.  ‚ÄúAlta qualidade‚Äù n√£o √© t√£o alto para os padr√µes modernos, e a maioria das pilhas Bluetooth n√£o permite usar os par√¢metros melhor do que no perfil ‚Äúalta qualidade‚Äù, embora n√£o haja limita√ß√µes t√©cnicas para isso. <br>  O Bluetooth SIG n√£o possui um codificador de refer√™ncia SBC na forma de uma biblioteca e os fabricantes os implementam. <br>  Essas s√£o as fraquezas da SBC - nunca √© claro com anteced√™ncia qual a qualidade do som que se espera de um dispositivo espec√≠fico.  O SBC pode produzir qualidade de som baixa e muito alta, mas o √∫ltimo √© inating√≠vel sem desativar ou contornar as limita√ß√µes artificiais das pilhas Bluetooth. <br><br>  A situa√ß√£o com o AAC √© amb√≠gua: por um lado, o codec deve teoricamente fornecer qualidade indistingu√≠vel do original, mas a pr√°tica, a julgar pelos testes do laborat√≥rio SoundGuys em diferentes dispositivos Android, n√£o confirma isso.  Provavelmente, a falha est√° nos codificadores de √°udio de hardware de baixa qualidade incorporados em v√°rios chipsets de telefone.  Faz sentido usar o AAC apenas em dispositivos Apple, e no Android √© limitado ao aptX e LDAC. <br><br>  Equipamentos que suportam codecs alternativos, em regra, s√£o de maior qualidade, simplesmente porque, para dispositivos de baixa qualidade absolutamente baratos, n√£o faz sentido pagar taxas de licen√ßa pelo uso desses codecs.  De acordo com meus testes, a SBC parece muito boa em equipamentos de alta qualidade. <br><br>  Fiz um servi√ßo da Web codificando √°udio em SBC, aptX e aptX HD em tempo real, diretamente no navegador.  Com ele, voc√™ pode testar esses codecs de √°udio sem realmente transmitir √°udio via Bluetooth, em fones de ouvido com fio, alto-falantes e sua m√∫sica favorita, al√©m de alterar as configura√ß√µes de codifica√ß√£o diretamente durante a reprodu√ß√£o de √°udio: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">btcodecs.valdikss.org.ru/sbc-encoder</a> <br>  O servi√ßo usa as bibliotecas de codifica√ß√£o SBC do projeto BlueZ e a libopenaptx do ffmpeg, que s√£o compiladas no WebAssembly e JavaScript do C, via emscripten, para executar no navegador.  Quem poderia sonhar com esse futuro! <br><br>  Aqui est√° o que parece: <br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Seu navegador n√£o suporta v√≠deo HTML5. <source src="https://files.catbox.moe/9e9q8f.mp4" type="video/mp4"></video></div></div></div><br>  Observe como o n√≠vel de ru√≠do muda ap√≥s 20 kHz para diferentes codecs.  N√£o h√° frequ√™ncias acima de 20 kHz no arquivo MP3 original. <br><br>  Tente alternar codecs e avaliar se voc√™ ouvir a diferen√ßa entre o original, o SBC 53 Joint Stereo (perfil padr√£o e mais comum) e o aptX / aptX HD. <br><br><br><h2>  Eu ou√ßo a diferen√ßa entre os codecs <i>nos fones de ouvido</i> ! </h2>  As pessoas que n√£o ouvem a diferen√ßa entre codecs durante os testes por meio de um servi√ßo da Web afirmam que ouvem isso ao ouvir m√∫sica em fones de ouvido sem fio.  Infelizmente, isso n√£o √© uma piada ou um efeito placebo: a diferen√ßa √© realmente aud√≠vel, mas n√£o √© causada pelas diferen√ßas nos <i>codecs</i> . <br><br>  A grande maioria dos chipsets de √°udio Bluetooth usados ‚Äã‚Äãno recebimento de dispositivos sem fio est√° equipada com um processador de sinal digital (DSP), que implementa um equalizador, <abbr title="Compressor + expansor = compander. Usado para melhorar a rela√ß√£o sinal / ru√≠do.">compander</abbr> , expansor est√©reo e outros itens projetados para melhorar (ou alterar) o som.  Os fabricantes de equipamentos Bluetooth podem configurar o DSP <i>para cada codec separadamente</i> e, ao alternar entre codecs, o ouvinte pensar√° que ele ouve a diferen√ßa nos codecs quando realmente ouvir diferentes configura√ß√µes do DSP. <br><br> <a href=""><img src="https://habrastorage.org/webt/0j/75/rv/0j75rvrbutguojyxx9yu0s-uang.png" alt="Na foto: DECODER - Equalizador param√©trico - aprimoramento est√©reo - compander - p√≥s masteriza√ß√£o - aprimoramento de sa√≠da"></a> <br>  <i><font color="#666666">Transportador de processamento de som Kalimba DSP em chips CSR / Qualcomm</font></i> <br><br><img src="https://habrastorage.org/webt/1h/_n/dd/1h_nddksnmupgey54su2xzblmgm.png" alt="Na figura: caixas de sele√ß√£o para ativar diferentes fun√ß√µes DSP ativadas para cada codec."><br>  <i><font color="#666666">Ativa√ß√£o de v√°rias fun√ß√µes DSP para cada codec e sa√≠da separadamente</font></i> <br><br>  Alguns dispositivos de segmento premium est√£o equipados com um programa que permite configurar par√¢metros DSP, mas os fones de ouvido mais baratos n√£o possuem esse recurso, e os usu√°rios n√£o podem desativar o som do p√≥s-processamento usando meios regulares. <br><br><br><h2>  Recursos do dispositivo </h2>  A vers√£o moderna do padr√£o A2DP tem a <b>fun√ß√£o de "controle de volume absoluto"</b> - controle de volume do dispositivo com comandos especiais do protocolo AVRCP, que controla o ganho do est√°gio de sa√≠da, em vez de reduzir programaticamente o volume do fluxo de √°udio.  Se, ao alterar o volume nos fones de ouvido, a altera√ß√£o n√£o estiver sincronizada com o volume do telefone, significa que seus fones de ouvido ou o telefone n√£o suportam essa fun√ß√£o.  Nesse caso, faz sentido ouvir m√∫sica sempre com o volume m√°ximo no telefone, ajustando o volume real com os bot√µes do fone de ouvido - nesse caso, a rela√ß√£o sinal / ru√≠do ser√° melhor e a qualidade do √°udio <i>dever√° ser</i> maior. <br>  Na realidade, existem situa√ß√µes tristes.  Um compander forte √© ativado no RealForce OverDrive D1 para fones de ouvido SBC, e aumentar o volume aumenta o n√≠vel de sons silenciosos, mas o volume dos sons altos n√£o muda (o sinal √© comprimido).  Por esse motivo, √© necess√°rio definir o volume no computador para cerca da metade; nesse caso, praticamente n√£o h√° efeito de compacta√ß√£o. <br>  De acordo com minhas observa√ß√µes, todos os fones de ouvido com codecs adicionais suportam a fun√ß√£o de controle de volume absoluto, aparentemente esse √© um dos requisitos para a certifica√ß√£o de codecs. <br><br>  Alguns fones de ouvido suportam a <b>conex√£o de dois dispositivos ao mesmo tempo</b> .  Isso permite, por exemplo, ouvir m√∫sica de um computador e receber chamadas de um telefone.  No entanto, voc√™ deve estar ciente de que codecs alternativos est√£o desabilitados nesse modo e apenas o SBC √© usado. <br><br>  <b>O</b> recurso <b>Relat√≥rio de atraso do AVDTP 1.3</b> permite que o fone de ouvido relate um atraso ao dispositivo transmissor a partir do qual o som realmente √© reproduzido.  Isso permite que voc√™ ajuste a sincroniza√ß√£o do √°udio com o v√≠deo enquanto assiste aos arquivos de v√≠deo: se houver problemas com a transmiss√£o, o √°udio n√£o ficar√° atr√°s do v√≠deo, mas, pelo contr√°rio, o v√≠deo ser√° mais lento pelo player de v√≠deo at√© que o √°udio e o v√≠deo sejam sincronizados novamente. <br>  O recurso √© suportado por muitos fones de ouvido, Android 9+ e Linux com PulseAudio 12.0+.  N√£o sei sobre o suporte a fun√ß√µes em outras plataformas. <br><br><br><h1>  Comunica√ß√£o bidirecional via Bluetooth.  Transmiss√£o de voz. </h1>  Para transmiss√£o de voz em Bluetooth, s√£o usadas a Conex√£o S√≠ncrona Orientada (SCO) e sua vers√£o aprimorada da Conex√£o S√≠ncrona Avan√ßada Orientada (eSCO) - transmiss√£o s√≠ncrona com coordena√ß√£o preliminar da conex√£o.  O modo permite transmitir som e voz em ordem, com uma velocidade sim√©trica de envio e recebimento, sem aguardar a confirma√ß√£o da transmiss√£o e reenvio de pacotes.  Isso reduz o atraso geral na transmiss√£o de √°udio pelo canal de r√°dio, mas imp√µe s√©rias restri√ß√µes √† quantidade de dados transmitidos por unidade de tempo e afeta adversamente a qualidade do √°udio. <br>  Quando este modo √© usado, a voz do microfone e o √°udio para os fones de ouvido s√£o transmitidos com a mesma qualidade. <br>  A transfer√™ncia dos dados em si √© padronizada pelo perfil HSP, que tamb√©m descreve fun√ß√µes adicionais, como a opera√ß√£o dos bot√µes de volume, de atendimento e de chamada final. <br>  Infelizmente, a partir de 2019, a qualidade da voz por Bluetooth ainda √© ruim e n√£o est√° claro por que o Bluetooth SIG n√£o faz nada com ele. <br><br><h5>  CVSD </h5>  <abbr title="Modula√ß√£o delta de declive continuamente vari√°vel">O codec de</abbr> voz b√°sico <abbr title="Modula√ß√£o delta de declive continuamente vari√°vel">do CVSD</abbr> foi padronizado em 2002 e √© suportado por todos os dispositivos Bluetooth bidirecionais.  Ele fornece transmiss√£o de √°udio com uma frequ√™ncia de amostragem de 8 kHz, que corresponde √† qualidade da telefonia convencional com fio. <br><br>  <a href="">Um exemplo de registro neste codec</a> . <br><br><h5>  mSBC </h5>  Um codec mSBC adicional foi padronizado em 2009 e, em 2010, apareceram chips que o utilizam para transmitir voz.  O mSBC √© amplamente suportado por v√°rios dispositivos. <br>  Este n√£o √© um codec independente, mas um SBC regular do padr√£o A2DP, com um perfil de codifica√ß√£o fixo: 16 kHz, mono, bitpool 26. <br><br>  <a href="">Um exemplo de registro neste codec</a> . <br><br>  N√£o brilha, mas muito melhor que o CVSD, mas ainda √© desagrad√°vel us√°-lo para se comunicar via Internet, especialmente quando voc√™ usa fones de ouvido para se comunicar no jogo - o som do jogo tamb√©m ser√° transmitido com uma frequ√™ncia de amostragem de 16 kHz. <br><br><h6>  Faststream </h6>  A CSR decidiu desenvolver a id√©ia de reutilizar a SBC.  Para contornar as limita√ß√µes do protocolo SCO e usar taxas de bits mais altas, o CSR seguiu o outro caminho - eles implementaram o suporte para √°udio SBC bidirecional no padr√£o para transmiss√£o de A2DP de √°udio unidirecional, perfis de codifica√ß√£o padronizados e o denominaram "FastStream". <br><br>  O FastStream transmite som est√©reo de 44,1 ou 48 kHz com taxa de bits de 212 kbit / s para os alto-falantes e mono, 16 kHz, com uma taxa de bits de 72 kbit / s (um pouco melhor que o mSBC) para transmitir o √°udio do microfone.  Tais par√¢metros s√£o muito mais adequados para a comunica√ß√£o em jogos online - o som do jogo e os interlocutores ser√£o de alta qualidade. <br><br>  <a href="">Um exemplo de grava√ß√£o neste codec</a> (+ <a href="">som do microfone, o mesmo que mSBC</a> ). <br><br>  A empresa apresentou uma muleta interessante, mas devido ao fato de contradizer o padr√£o A2DP, √© suportada apenas em alguns dos transmissores da empresa (que funcionam como uma placa de √°udio USB, n√£o como um dispositivo Bluetooth), mas n√£o recebeu suporte nas pilhas Bluetooth, embora o n√∫mero de fones de ouvido com suporte ao FastStream n√£o seja t√£o pequeno. <br><br>  No momento, o suporte ao FastStream no sistema operacional √© apenas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">na forma de um patch para Linux PulseAudio</a> do desenvolvedor Pali Roh√°r, que n√£o est√° inclu√≠do na ramifica√ß√£o principal do programa. <br><br><h5>  Lat√™ncia baixa do aptX </h5>  Para nossa surpresa, o aptX Low Latency tamb√©m suporta √°udio bidirecional, implementando o mesmo princ√≠pio do FastStream. <br>  N√£o funcionar√° para usar esse recurso do codec - n√£o h√° suporte para decodifica√ß√£o de baixa lat√™ncia em nenhum sistema operacional ou em nenhuma pilha Bluetooth que eu conhe√ßa. <br><br><br><h1>  Bluetooth 5, cl√°ssico e baixa energia </h1>  H√° muita confus√£o em torno das especifica√ß√µes e vers√µes do Bluetooth devido √† presen√ßa de dois padr√µes incompat√≠veis sob a mesma marca, os quais s√£o amplamente utilizados para finalidades diferentes. <br><br>  Existem dois protocolos Bluetooth diferentes e n√£o compat√≠veis: Bluetooth Classic e Bluetooth Low Energy (LE, tamb√©m conhecido como Bluetooth Smart).  H√° tamb√©m um terceiro protocolo, o Bluetooth High Speed, mas n√£o √© comum e n√£o √© usado em dispositivos dom√©sticos. <br><br>  A partir do Bluetooth 4.0, as altera√ß√µes nas especifica√ß√µes envolviam principalmente o Bluetooth Low Energy, e a vers√£o Classic recebeu apenas pequenas melhorias. <br><br>  Lista de altera√ß√µes entre o Bluetooth 4.2 e o Bluetooth 5: <br><blockquote>  9 ALTERA√á√ïES DA v4.2 PARA 5.0 <br><br>  9.1 NOVOS RECURSOS <br><br>  V√°rios novos recursos foram introduzidos na vers√£o Bluetooth Core Specification 5.0.  As principais √°reas de melhoria s√£o: <br>  ‚Ä¢ M√°scara de disponibilidade de slot (SAM) <br>  ‚Ä¢ 2 ms / s PHY para LE <br>  ‚Ä¢ Longo alcance LE <br>  ‚Ä¢ Publicidade n√£o conect√°vel de ciclo de servi√ßo alto <br>  ‚Ä¢ Extens√µes de publicidade LE <br>  ‚Ä¢ Algoritmo de sele√ß√£o de canal LE # 2 <br>  9.1.1 Recursos adicionados no CSA5 - Integrado na v5.0 <br>  ‚Ä¢ Maior pot√™ncia de sa√≠da </blockquote>  <i><font color="#666666">Fonte: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">www.bluetooth.org/docman/handlers/DownloadDoc.ashx?doc_id=421043</a> (p√°gina 291)</font></i> <br><br>  Apenas uma altera√ß√£o afetou a vers√£o Classic na especifica√ß√£o Bluetooth 5: eles adicionaram suporte √† tecnologia SAM (Slot Availability Mask), que foi projetada para melhorar a separa√ß√£o do ar.  Todas as outras altera√ß√µes afetam apenas o Bluetooth LE (e maior pot√™ncia de sa√≠da tamb√©m). <br><br>  <b>Todos</b> os dispositivos de √°udio usam apenas o Bluetooth Classic.  Fones de ouvido e alto-falantes n√£o podem ser conectados via Bluetooth Low Energy: n√£o h√° padr√£o para transmiss√£o de √°udio usando LE.  O padr√£o A2DP, usado para transmitir √°udio de alta qualidade, funciona apenas atrav√©s do Bluetooth Classic e n√£o h√° anal√≥gico no LE. <br><br>  Conclus√£o - comprar dispositivos de √°udio com Bluetooth 5 apenas por causa da nova vers√£o do protocolo √© in√∫til.  O Bluetooth 4.0 / 4.1 / 4.2 no contexto da transmiss√£o de √°udio funcionar√° da mesma maneira. <br>  Se o an√∫ncio de novos fones de ouvido mencionar um raio de opera√ß√£o duplo e consumo de energia reduzido gra√ßas ao Bluetooth 5, voc√™ deve saber que eles n√£o entendem a si mesmos ou o enganam.  N√£o √© de admirar que at√© os fabricantes de chips Bluetooth em seus an√∫ncios estejam confusos sobre as diferen√ßas na nova vers√£o do padr√£o, e alguns chips Bluetooth 5 suportam a quinta vers√£o apenas para LE e para Classic eles usam 4.2. <br><br><h1>  Atraso de √°udio </h1>  A quantidade de atraso (atraso) do √°udio depende de muitos fatores: o tamanho do buffer na pilha de √°udio, na pilha Bluetooth e no dispositivo sem fio mais reprodutor, o atraso algor√≠tmico do codec. <br><br>  O atraso de codecs simples, como SBC, aptX e aptX HD, √© muito pequeno e tem de 3 a 6 ms, o que pode ser negligenciado, mas codecs complexos, como AAC e LDAC, podem causar um atraso percept√≠vel.  O atraso algor√≠tmico do AAC para 44,1 kHz √© 60 ms.  LDAC - cerca de 30 ms (de acordo com uma an√°lise aproximada do c√≥digo fonte. Posso estar enganado, mas n√£o muito). <br><br>  O atraso resultante √© altamente dependente do dispositivo de reprodu√ß√£o, seu chipset e buffer.  Durante os testes, obtive uma propaga√ß√£o de 150 a 250 ms em diferentes dispositivos (com o codec SBC).  Supondo que os dispositivos que suportam codecs aptX, AAC e LDAC adicionais usem componentes de alta qualidade e um pequeno tamanho de buffer, obtemos os seguintes atrasos t√≠picos: <br><br>  SBC: 150-250 ms <br>  aptX: 130-180 ms <br>  AAC: 190-240 ms <br>  LDAC: 160-210 ms <br><br>  Lembre-se: o aptX Low Latency n√£o √© suportado em sistemas operacionais, pelo que um atraso menor pode ser obtido apenas por um monte de transmissor + receptor ou transmissor + fones de ouvido / alto-falante, e todos os dispositivos devem suportar esse codec. <br><br><br><h1>  Problemas com as certifica√ß√µes e logotipos do dispositivo Bluetooth </h1>  Como distinguir um dispositivo de √°udio de alta qualidade de uma embarca√ß√£o barata?  Na apar√™ncia, antes de tudo! <br><br>  Fones de ouvido, alto-falantes e receptores chineses baratos: <br><ol><li>  A palavra "Bluetooth" est√° ausente na caixa e no dispositivo, mais frequentemente usada "Sem fio" e "BT" </li><li>  Falta o logotipo do Bluetooth <img src="https://habrastorage.org/webt/qt/oi/0w/qtoi0wu5qzqnx7xzmgmqjdoijjk.png" alt="Logotipo bluetooth" height="32" width="32">  na caixa ou dispositivo </li><li>  Nenhum LED azul piscando </li></ol><br>  A aus√™ncia desses elementos indica que o dispositivo n√£o passou na certifica√ß√£o, o que significa que √© potencialmente problem√°tico ou de baixa qualidade.  Por exemplo, os fones de ouvido Bluedio n√£o t√™m certifica√ß√£o Bluetooth e n√£o est√£o totalmente de acordo com a especifica√ß√£o A2DP.  Eles n√£o passariam na certifica√ß√£o. <br><br>  Considere v√°rios dispositivos e caixas a partir deles: <br> <a href=""><img src="https://habrastorage.org/webt/e4/qa/rr/e4qarrce8fcjv8wwu46aiyib3oa.jpeg"></a> <br><br> <a href=""><img src="https://habrastorage.org/webt/ba/06/vb/ba06vbcolhpvuie2xlbgnvsycd0.jpeg"></a> <br><br> <a href=""><img src="https://habrastorage.org/webt/mw/1b/t1/mw1bt1hp0cz11xuilzyz0a70dca.jpeg"></a> <br><br>  Estes s√£o todos os dispositivos n√£o certificados.  As instru√ß√µes podem incluir o logotipo e o nome da tecnologia Bluetooth, mas o mais importante √© que estejam na caixa e / ou no pr√≥prio dispositivo. <br><br>  Se seus fones de ouvido ou alto-falante disserem que ‚Äúo bluetooth Ze est√° conectado com √™xito‚Äù, isso tamb√©m n√£o significa sua qualidade: <br><iframe width="560" height="315" src="https://www.youtube.com/embed/TOFbsbGpIWk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br><br><h1>  Conclus√£o </h1>  O Bluetooth √© capaz de substituir completamente fones de ouvido e fones de ouvido com fio?  √â capaz, mas com o custo do tempo de conversa√ß√£o de baixa qualidade, maior atraso na transmiss√£o de √°udio, o que pode ser irritante em jogos e muitos codecs propriet√°rios que exigem taxas de licen√ßa e aumentam o custo final de smartphones e fones de ouvido. <br><br>  O marketing de codecs alternativos √© muito forte: o aptX e o LDAC s√£o apresentados como um substituto h√° muito esperado da SBC "obsoleta e ruim", que est√° longe de ser t√£o ruim quanto √© habitual pensar. <br><br>  Como se viu, as limita√ß√µes artificiais das pilhas Bluetooth na taxa de bits da SBC podem ser contornadas, para que a SBC n√£o seja inferior ao aptX HD.  Tomei a iniciativa em minhas pr√≥prias m√£os e fiz um patch para o firmware LineageOS: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Modificamos a pilha Bluetooth para melhorar o som em fones de ouvido sem codecs AAC, aptX e LDAC</a> <br><br>  Mais informa√ß√µes podem ser encontradas no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SoundGuys</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SoundExpert</a> . <br><br>  <b>B√¥nus:</b> <a href="">codificador de refer√™ncia SBC, informa√ß√µes de fluxo de bits A2DP e arquivos de teste</a> .  Este arquivo foi publicado anteriormente no site do Bluetooth publicamente, mas agora est√° dispon√≠vel apenas para aqueles que entraram no Bluetooth SIG. <br><br></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt427997/">https://habr.com/ru/post/pt427997/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt427985/index.html">Onkyo ISCP / eISCP: Gerenciando dispositivos Onkyo pela rede</a></li>
<li><a href="../pt427987/index.html">O Google lan√ßou dom√≠nios para criar documentos rapidamente</a></li>
<li><a href="../pt427989/index.html">Pr√≥logo divertido # 3</a></li>
<li><a href="../pt427993/index.html">Winamp est√° de volta - discutindo se ele tem uma chance na era dos servi√ßos de streaming</a></li>
<li><a href="../pt427995/index.html">Memorando sobre esp√©cies de phishing</a></li>
<li><a href="../pt427999/index.html">Analista de dados de pilha cheia</a></li>
<li><a href="../pt428001/index.html">Problemas conhecidos, bugs e corre√ß√µes nas atualiza√ß√µes do Windows 10 para outubro de 2018</a></li>
<li><a href="../pt428003/index.html">Design responsivo: mantendo a forma dos elementos de marca√ß√£o</a></li>
<li><a href="../pt428005/index.html">Tr√™s maneiras eficazes de exacerbar um desastre de rela√ß√µes p√∫blicas</a></li>
<li><a href="../pt428009/index.html">Equifax: um ano ap√≥s o maior vazamento de dados</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>