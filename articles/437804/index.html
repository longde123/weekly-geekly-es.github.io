<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®‚Äçüé® üëéüèæ ‚ô†Ô∏è ¬øPuedo usar Redux en un servidor? üçº ‚Ü™Ô∏è üïñ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Redux es una excelente herramienta para administrar el estado de aplicaciones front-end complejas. El autor del material, cuya traducci√≥n publicamos h...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>¬øPuedo usar Redux en un servidor?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/437804/">  Redux es una excelente herramienta para administrar el estado de aplicaciones front-end complejas.  El autor del material, cuya traducci√≥n publicamos hoy, encontrar√° la respuesta a la pregunta de si es posible aprovechar las caracter√≠sticas de Redux en el entorno del servidor. <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/4ff/f8d/685/4fff8d685687bacff24db95abaadd05b.png" alt="imagen"></a> <a name="habracut"></a><br><h2>  <font color="#3AC1EF">¬øPor qu√© necesito una biblioteca Redux?</font> </h2><br>  La <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">p√°gina de inicio de la</a> biblioteca Redux dice que es un "contenedor de estado predecible para aplicaciones JavaScript".  Por lo general, se hace referencia a Redux como una herramienta para administrar el estado de una aplicaci√≥n, y aunque esta biblioteca se usa principalmente con React, se puede usar en cualquier proyecto basado en JavaScript. <br><br>  Ya hemos mencionado que Redux se usa para controlar el estado de una aplicaci√≥n.  Ahora hablemos de lo que es una "condici√≥n".  Este concepto es bastante dif√≠cil de definir, pero a√∫n tratamos de describirlo. <br><br>  Teniendo en cuenta el "estado", si estamos hablando de personas o de los objetos del mundo material, nos esforzamos por describir, de hecho, su estado en el momento en el que estamos hablando de ellos, posiblemente considerando uno o m√°s par√°metros.  Por ejemplo, podemos decir sobre el lago: "El agua est√° muy caliente" o: "El agua est√° congelada".  En estas declaraciones, describimos el estado del lago en t√©rminos de la temperatura del agua. <br><br>  Cuando alguien dice acerca de s√≠ mismo: "Estoy encallado", considera la cantidad de dinero que tiene.  Est√° claro que en cada uno de estos ejemplos estamos hablando solo de un aspecto del estado de los objetos.  Pero, en el ejemplo sobre el dinero, la declaraci√≥n puede describir varios par√°metros: "Estoy encallado, no he comido en mucho tiempo, ¬°pero estoy feliz!"  Es muy importante se√±alar aqu√≠ que el estado es algo impermanente.  Esto significa que puede cambiar.  Por lo tanto, cuando nos enteramos del estado actual de un determinado objeto, entendemos que su estado real puede cambiar unos segundos o minutos despu√©s de conocerlo. <br><br>  Cuando tratamos con programas, algunas caracter√≠sticas est√°n asociadas con el concepto de "estado".  En primer lugar, el estado de la aplicaci√≥n est√° representado por datos almacenados en alg√∫n lugar.  Por ejemplo, estos datos pueden almacenarse en la memoria (por ejemplo, como un objeto JavaScript), pero pueden almacenarse en un archivo, en una base de datos y utilizando alg√∫n mecanismo de almacenamiento en cach√© como Redis.  En segundo lugar, el estado de una aplicaci√≥n generalmente est√° vinculado a su instancia espec√≠fica.  Por lo tanto, cuando hablamos sobre el estado de la aplicaci√≥n, nos referimos a una instancia espec√≠fica de esta aplicaci√≥n, un proceso, un entorno de trabajo organizado en la aplicaci√≥n para un usuario espec√≠fico.  El estado de una aplicaci√≥n puede incluir, por ejemplo, la siguiente informaci√≥n: <br><br><ul><li>  ¬øEl usuario ha iniciado sesi√≥n o no?  Si es as√≠, ¬øcu√°nto dura la sesi√≥n y cu√°ndo caducar√°? </li><li>  ¬øCu√°ntos puntos obtuvo el usuario?  Tal pregunta es relevante, por ejemplo, para cierto juego. </li><li>  ¬øD√≥nde detuvo exactamente el usuario el video?  Esta pregunta puede hacerse sobre la aplicaci√≥n del reproductor de video. </li></ul><br>  Si hablamos del estado de las aplicaciones en un nivel inferior, puede incluir, por ejemplo, la siguiente informaci√≥n: <br><br><ul><li>  Qu√© variables se establecen en el entorno actual en el que se ejecuta la aplicaci√≥n (esto se refiere a las llamadas "variables de entorno"). </li><li>  ¬øQu√© archivos est√° usando el programa actualmente? </li></ul><br>  Al observar la "instant√°nea" (a menudo se les llama "instant√°neas" - de instant√°neas) del estado de la aplicaci√≥n en cualquier momento, podemos averiguar en qu√© condiciones la aplicaci√≥n funcion√≥ en ese momento y, si es necesario, recrear estas condiciones mediante aplicaci√≥n al estado en el que se encontraba al momento de recibir la instant√°nea. <br><br>  El estado puede modificarse durante la ejecuci√≥n de ciertas acciones por parte del usuario.  Por ejemplo, si el usuario mueve correctamente el personaje del juego en un juego simple, esto puede aumentar el n√∫mero de puntos.  En aplicaciones bastante complejas, el enfoque para modificar un estado puede volverse m√°s complicado; los cambios de estado pueden provenir de diferentes fuentes. <br><br>  Por ejemplo, en un juego multijugador, cu√°ntos puntos obtiene un usuario depende no solo de sus acciones, sino tambi√©n de las acciones de aquellos que juegan con √©l en el mismo equipo.  Y si un personaje controlado por computadora ataca con √©xito un personaje del juego que controla el usuario, el usuario puede perder una cierta cantidad de puntos. <br><br>  Imagine que estamos desarrollando una aplicaci√≥n front-end como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PWA Twitter</a> .  Esta es una aplicaci√≥n de una p√°gina en la que hay varias pesta√±as, por ejemplo: Inicio, B√∫squeda, Notificaciones y Mensajes.  Cada pesta√±a tiene su propio espacio de trabajo, que est√° destinado tanto para mostrar cierta informaci√≥n como para su modificaci√≥n.  Todos estos datos forman el estado de la aplicaci√≥n.  Entonces, nuevos tweets, notificaciones y mensajes llegan a la aplicaci√≥n cada pocos segundos.  El usuario puede trabajar con el programa y con estos datos.  Por ejemplo, puede crear un tweet o eliminarlo, puede retuitear un tweet, puede leer notificaciones, enviar mensajes a alguien, etc.  Todo lo que se acaba de discutir modifica el estado de la aplicaci√≥n. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f01/221/468/f01221468374f7a04c099abb43513871.png"></div><br>  <i><font color="#999999">Todas estas pesta√±as tienen su propio conjunto de componentes de interfaz de usuario que se utilizan para mostrar y modificar datos.</font></i>  <i><font color="#999999">El estado de la aplicaci√≥n puede verse afectado por los datos que ingresan a la aplicaci√≥n desde el exterior y las acciones del usuario</font></i> <br><br>  Est√° claro que en dicha aplicaci√≥n, las fuentes de los cambios de estado pueden ser entidades diferentes, mientras que los cambios iniciados por diferentes fuentes pueden ocurrir casi simult√°neamente.  Si manejamos el estado manualmente, puede resultarnos dif√≠cil monitorear lo que est√° sucediendo.  Estas dificultades conducen a contradicciones.  Por ejemplo, un tweet puede eliminarse, pero a√∫n se mostrar√° en la secuencia de tweets.  O, digamos, el usuario puede leer la notificaci√≥n o el mensaje, pero a√∫n se mostrar√° en el programa como no visto. <br><br>  Al usuario le puede gustar el tweet, aparecer√° un coraz√≥n en la interfaz del programa, pero una solicitud de red que env√≠a informaci√≥n similar al servidor no funcionar√°.  Como resultado, lo que ve el usuario ser√° diferente de lo que est√° almacenado en el servidor.  Con el fin de prevenir tales situaciones, puede ser necesario Redux. <br><br><h2>  <font color="#3AC1EF">¬øC√≥mo funciona Redux?</font> </h2><br>  En la biblioteca Redux, hay tres conceptos principales que tienen como objetivo hacer que la gesti√≥n del estado de las aplicaciones sea simple y directa: <br><br><ol><li>  Almacenamiento (tienda).  Un repositorio de Redux es un objeto de JavaScript que representa el estado de una aplicaci√≥n.  Desempe√±a el papel de "la √∫nica fuente de datos confiables".  Esto significa que toda la aplicaci√≥n debe confiar en el almacenamiento como la √∫nica entidad responsable de representar al estado. </li><li>  Acciones  La tienda estatal es de solo lectura.  Esto significa que no se puede modificar accediendo directamente a √©l.  La √∫nica forma de modificar el contenido del repositorio es usar acciones.  Cualquier componente que quiera cambiar de estado debe tomar las medidas apropiadas. </li><li>  Reductores (reductores), que tambi√©n se denominan "convertidores".  Un reductor es una funci√≥n pura que describe c√≥mo se modifica un estado a trav√©s de acciones.  El reductor toma el estado y la acci√≥n actuales, cuya ejecuci√≥n fue solicitada por un determinado componente de la aplicaci√≥n, despu√©s de lo cual devuelve el estado transformado. </li></ol><br>  El uso de estos tres conceptos significa que la aplicaci√≥n ya no deber√≠a monitorear directamente los eventos que son fuentes de cambios de estado (acciones del usuario, respuestas API, la ocurrencia de eventos asociados con la recepci√≥n de ciertos datos a trav√©s del protocolo WebSocket, etc.) y tomar decisiones sobre c√≥mo Estos eventos afectar√°n la condici√≥n. <br><br>  Al usar el modelo Redux, estos eventos pueden desencadenar acciones que cambiar√°n de estado.  Los componentes que necesitan usar datos almacenados en el estado de la aplicaci√≥n simplemente pueden suscribirse a los cambios de estado y recibir informaci√≥n de inter√©s para ellos.  Al utilizar todos estos mecanismos, Redux se compromete a realizar cambios predecibles en el estado de la aplicaci√≥n. <br><br>  Aqu√≠ hay un ejemplo esquem√°tico que demuestra c√≥mo puede organizar un sistema de administraci√≥n de estado simple usando Redux en nuestra aplicaci√≥n ficticia: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { createStore } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux'</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  const tweets = (state = {tweets: []}, action) =&gt; {  switch (action.type) {    //     ,     .    case 'SHOW_NEW_TWEETS':      state.numberOfNewTweets = action.count;      return state.tweets.concat([action.tweets]);    default:      return state;  } }; //  ,     . SHOW_NEW_TWEETS const newTweetsAction = (tweets) =&gt; {  return {      type: 'SHOW_NEW_TWEETS',      tweets: tweets,      count: tweets.length  }; }; const store = createStore(tweets); twitterApi.fetchTweets()  .then(response =&gt; {    //  ,        ,    //    Redux.    store.dispatch(newTweetsAction(response.data));  }); //  ,    SHOW_NEW_TWEETS     //         . const postTweet = (text) =&gt; {  twitterApi.postTweet(text)  .then(response =&gt; {    store.dispatch(newTweetsAction([response.data]));  }); }; // ,  ,   WebSocket,   . //         . SHOW_NEW_TWEETS socket.on('newTweets', (tweets) =&gt; { store.dispatch(newTweetsAction(tweets)); }; //     ,  React,       , // ,         . //         , //    . store.subscribe(() =&gt; {  const { tweets } = store.getSTate();  render(tweets); });</span></span></code> </pre> <br>  Tomando este c√≥digo como base, podemos equipar nuestro sistema de gesti√≥n del estado de la aplicaci√≥n con acciones adicionales y enviarlas desde diferentes lugares de la aplicaci√≥n sin correr el riesgo de confundirse irremediablemente. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠ est√° el</a> material del cual puede aprender m√°s sobre los tres principios fundamentales de Redux. <br><br>  Ahora hablemos sobre el uso de Redux en un entorno de servidor. <br><br><h2>  <font color="#3AC1EF">Migraci√≥n de los principios de Redux al entorno del servidor</font> </h2><br>  Exploramos las caracter√≠sticas de Redux utilizadas en el desarrollo de aplicaciones cliente.  Pero, dado que Redux es una biblioteca de JavaScript, te√≥ricamente tambi√©n se puede usar en un entorno de servidor.  Reflexionaremos sobre c√≥mo se pueden aplicar los principios anteriores en el servidor. <br><br>  ¬øRecuerdas c√≥mo hablamos sobre el estado de la aplicaci√≥n cliente?  Cabe se√±alar que existen algunas diferencias conceptuales entre las aplicaciones cliente y servidor.  Por lo tanto, las aplicaciones cliente tienden a mantener el estado entre varios eventos, por ejemplo, entre la ejecuci√≥n de solicitudes al servidor.  Dichas aplicaciones se denominan aplicaciones con estado. <br><br>  Si no se esforzaron por almacenar el estado, entonces, por ejemplo, al trabajar con un determinado servicio web que requiere un nombre de usuario y contrase√±a, el usuario tendr√≠a que realizar este procedimiento cada vez que vaya a una nueva p√°gina de la interfaz web correspondiente. <br><br>  Las aplicaciones de fondo, por otro lado, se esfuerzan por no almacenar el estado (tambi√©n se denominan aplicaciones sin estado).  Aqu√≠, hablando de "aplicaciones de back-end", nos referimos principalmente a proyectos basados ‚Äã‚Äãen ciertas API que son independientes de las aplicaciones front-end.  Esto significa que la informaci√≥n sobre el estado del sistema debe proporcionarse a aplicaciones similares cada vez que se accede a ellas.  Por ejemplo, la API no supervisa si el usuario ha iniciado sesi√≥n o no.  Determina su estado analizando el token de autenticaci√≥n en sus solicitudes a esta API. <br><br>  Esto nos lleva a una raz√≥n importante por la que Redux dif√≠cilmente se usar√≠a en servidores en la forma en que describimos sus capacidades anteriormente. <br><br>  El hecho es que Redux fue dise√±ado para almacenar el estado temporal de la aplicaci√≥n.  Pero el estado de la aplicaci√≥n almacenada en el servidor generalmente deber√≠a existir el tiempo suficiente.  Si usar√≠a el repositorio de Redux en su aplicaci√≥n Node.js del lado del servidor, el estado de esta aplicaci√≥n se eliminar√≠a cada vez <code>node</code> se detenga el proceso del <code>node</code> .  Y si estamos hablando de un servidor PHP que implementa un esquema de administraci√≥n de estado similar, entonces el estado se borrar√° cuando cada nueva solicitud llegue al servidor. <br><br>  La situaci√≥n es a√∫n m√°s complicada si consideramos las aplicaciones de servidor en t√©rminos de su escalabilidad.  Si tuviera que escalar la aplicaci√≥n horizontalmente, aumentando el n√∫mero de servidores, entonces tendr√≠a muchos procesos Node.js ejecut√°ndose al mismo tiempo, y cada uno de ellos tendr√≠a su propia opci√≥n de estado.  Esto significa que con la recepci√≥n simult√°nea de dos solicitudes id√©nticas al backend, bien podr√≠an haberse dado diferentes respuestas. <br><br>  ¬øC√≥mo aplicar los principios de gesti√≥n del estado discutidos por nosotros en el servidor?  Echemos otro vistazo a los conceptos de Redux y veamos c√≥mo se usan generalmente en un entorno de servidor: <br><br><ol><li>  Repositorio.  En el backend, "la √∫nica fuente de datos confiables" suele ser una base de datos.  A veces, para facilitar el acceso a los datos que a menudo se requieren, o por alguna otra raz√≥n, se puede hacer una copia de alguna parte de esta base de datos, en forma de cach√© o en forma de archivo.  Por lo general, tales copias son de solo lectura.  Los mecanismos que los controlan est√°n suscritos a los cambios en el repositorio principal y, cuando se producen dichos cambios, actualizan el contenido de las copias. </li><li>  Acciones y reductores.  Son los √∫nicos mecanismos utilizados para cambiar de estado.  En la mayor√≠a de las aplicaciones de back-end, el c√≥digo est√° escrito en un estilo imperativo, que no es particularmente propicio para el uso de conceptos de acci√≥n y reductores. </li></ol><br>  Considere dos patrones de dise√±o que, por su naturaleza, son similares a lo que pretende hacer la biblioteca Redux.  Estos son CQRS y Event Sourcing.  De hecho, aparecieron antes de Redux, su implementaci√≥n puede ser extremadamente dif√≠cil, por lo que hablaremos de ellos muy brevemente. <br><br><h2>  <font color="#3AC1EF">CQRS y abastecimiento de eventos</font> </h2><br>  CQRS (segmentaci√≥n de responsabilidad de consulta de comando) es un patr√≥n de dise√±o, en cuya implementaci√≥n la aplicaci√≥n lee datos de la tienda solo usando consultas y escribiendo solo usando comandos. <br><br>  Cuando se usa CQRS, la √∫nica forma de cambiar el estado de una aplicaci√≥n es enviar un comando.  Los comandos son similares a las acciones de Redux.  Por ejemplo, en Redux, puede escribir c√≥digo que coincida con este esquema: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> action = { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'CREATE_NEW_USER'</span></span>, <span class="hljs-attr"><span class="hljs-attr">payload</span></span>: ... }; store.dispatch(action); <span class="hljs-comment"><span class="hljs-comment">//      const createUser = (state = {}, action) =&gt; { // };</span></span></code> </pre> <br>  Al usar CQRS, algo como esto se ver√≠a as√≠: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//      class Command { handle() { } } class CreateUserCommand extends Command { constructor(user) {   super();   this.user = user; } handle() {   //        } } const createUser = new CreateUserCommand(user); //   (   handle()) dispatch(createUser); //      CommandHandler commandHandler.handle(createUser);</span></span></code> </pre> <br>  Las consultas son mecanismos de lectura de datos en la plantilla CQRS.  Son equivalentes a la construcci√≥n <code>store.getState()</code> .  En una implementaci√≥n simple de CQRS, las consultas interactuar√°n directamente con la base de datos, recuperando registros de ella. <br><br>  La plantilla de abastecimiento de eventos est√° dise√±ada para registrar todos los cambios en el estado de la aplicaci√≥n como una secuencia de eventos.  Esta plantilla es m√°s adecuada para aplicaciones que necesitan saber no solo sobre su estado actual, sino tambi√©n sobre el historial de sus cambios, sobre c√≥mo la aplicaci√≥n alcanz√≥ su estado actual.  Como ejemplos aqu√≠, puede citar el historial de operaciones con cuentas bancarias, rastrear paquetes, trabajar con pedidos en tiendas en l√≠nea, la organizaci√≥n del transporte de carga, la log√≠stica. <br><br>  Aqu√≠ hay un ejemplo de implementaci√≥n de la plantilla de Abastecimiento de eventos: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//    Event Sourcing function transferMoneyBetweenAccounts(amount, fromAccount, toAccount) {   BankAccount.where({ id: fromAccount.id })     .decrement({ amount });   BankAccount.where({ id: toAccount.id })     .increment({ amount }); } function makeOnlinePayment(account, amount) {   BankAccount.where({ id: account.id })     .decrement({ amount }); } //    Event Sourcing function transferMoneyBetweenAccounts(amount, fromAccount, toAccount) {   dispatchEvent(new TransferFrom(fromAccount, amount, toAccount));   dispatchEvent(new TransferTo(toAccount, amount, fromAccount)); } function makeOnlinePayment(account, amount) {   dispatchEvent(new OnlinePaymentFrom(account, amount)); } class TransferFrom extends Event {   constructor(account, amount, toAccount) {     this.account = account;     this.amount = amount;     this.toAccount = toAccount;   }     handle() {     //    OutwardTransfer        OutwardTransfer.create({ from: this.account, to: this.toAccount, amount: this.amount, date: Date.now() });         //          BankAccount.where({ id: this.account.id })       .decrement({ amount: this.amount });   } } class TransferTo extends Event {   constructor(account, amount, fromAccount) {     this.account = account;     this.amount = amount;     this.fromAccount = fromAccount;   }     handle() {     //    InwardTransfer        InwardTransfer.create({ from: this.fromAccount, to: this.account, amount: this.amount, date: Date.now() });         //          BankAccount.where({ id: this.account.id })       .increment({ amount: this.amount });   } } class OnlinePaymentFrom extends Event {   constructor(account, amount) {     this.account = account;     this.amount = amount;   }     handle() {     //    OnlinePayment        OnlinePayment.create({ from: this.account, amount: this.amount, date: Date.now() });         //          BankAccount.where({ id: this.account.id })       .decrement({ amount: this.amount });   } }</span></span></code> </pre> <br>  Lo que sucede aqu√≠ tambi√©n se parece a trabajar con acciones de Redux. <br><br>  Sin embargo, el mecanismo de registro de eventos tambi√©n organiza el almacenamiento a largo plazo de informaci√≥n sobre cada cambio de estado, y no solo el almacenamiento del estado en s√≠.  Esto nos permite reproducir estos cambios en el momento que necesitamos, restaurando as√≠ el contenido del estado de la aplicaci√≥n en este momento.  Por ejemplo, si necesitamos comprender cu√°nto dinero hab√≠a en la cuenta bancaria para una fecha determinada, solo necesitamos reproducir los eventos que ocurrieron con la cuenta bancaria hasta llegar a la fecha correcta.  Los eventos en este caso est√°n representados por recibos de fondos en la cuenta y debit√°ndolos de ella, debitando la comisi√≥n bancaria y otras operaciones similares.  Si se producen errores (es decir, cuando ocurren eventos que contienen datos incorrectos), podemos invalidar el estado actual de la aplicaci√≥n, corregir los datos correspondientes y volver al estado actual de la aplicaci√≥n, ahora formado sin errores. <br><br>  Las plantillas CQRS y Event Sourcing a menudo se usan juntas.  Y, curiosamente, Redux, de hecho, se basa en parte en estas plantillas.  Los comandos se pueden escribir para que, cuando se los llame, env√≠en eventos.  Luego, los eventos interact√∫an con el repositorio (base de datos) y actualizan el estado.  En aplicaciones en tiempo real, los objetos de consulta tambi√©n pueden escuchar eventos y recibir informaci√≥n de estado actualizada del repositorio. <br><br>  El uso de cualquiera de estas plantillas en una aplicaci√≥n simple puede complicarlo innecesariamente.  Sin embargo, en el caso de las aplicaciones creadas para resolver problemas comerciales complejos, CQRS y Event Sourcing son abstracciones poderosas que ayudan a modelar mejor el √°rea tem√°tica de dichas aplicaciones y mejorar su gesti√≥n estatal. <br><br>  Tenga en cuenta que los patrones CQRS y Event Sourcing se pueden implementar de diferentes maneras, mientras que algunas de sus implementaciones son m√°s complejas que otras.  Consideramos solo ejemplos muy simples de su implementaci√≥n.  Si est√° escribiendo aplicaciones de servidor en Node.js, eche un vistazo a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">wolkenkit</a> .  Este marco, entre lo que se encontr√≥ en esta √°rea, proporciona al desarrollador una de las interfaces m√°s simples para implementar las plantillas de CQRS y Event Sourcing. <br><br><h2>  <font color="#3AC1EF">Resumen</font> </h2><br>  Redux es una gran herramienta para administrar el estado de una aplicaci√≥n, a fin de hacer que los cambios de estado sean predecibles.  En este art√≠culo, hablamos sobre los conceptos clave de esta biblioteca y descubrimos que, aunque el uso de Redux en un entorno de servidor probablemente no sea una buena idea, puede aplicar principios similares en un servidor usando las <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">plantillas CQRS</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Event Sourcing</a> . <br><br>  <b>Estimados lectores!</b>  ¬øC√≥mo se organiza la gesti√≥n del estado de las aplicaciones cliente y servidor? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/437804/">https://habr.com/ru/post/437804/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../437792/index.html">G√©minis obtuvo resultados "misteriosos" al verificar 5 servicios de b√∫squeda de ancestros de ADN</a></li>
<li><a href="../437794/index.html">Copia de seguridad de datos r√°pida y confiable en la nube 2</a></li>
<li><a href="../437796/index.html">¬øAlphaStar implement√≥ la velocidad sobrehumana como un parche para el error de entrenamiento de simulaci√≥n?</a></li>
<li><a href="../437800/index.html">ScrumBut en el equipo de an√°lisis: antes del despegue</a></li>
<li><a href="../437802/index.html">Innovar tecnolog√≠a en la nube: nube catastr√≥fica</a></li>
<li><a href="../437806/index.html">EcmaScript 10 - JavaScript de este a√±o (ES2019)</a></li>
<li><a href="../437808/index.html">Perf y flamegraphs</a></li>
<li><a href="../437810/index.html">Realidad corporativa</a></li>
<li><a href="../437812/index.html">Xcode 10.2, macOS Mojave 10.14.4, iOS 12.1 y otras versiones beta</a></li>
<li><a href="../437814/index.html">Xcode 10.2, macOS Mojave 10.14.4, iOS 12.1 y otras versiones beta</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>