<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐ฅ ๐ฆ ุงูููุงุฑุณ ูู ุจูุณุชุฌุฑุณ - 10 (ุจููู) ๐ ๐๐พ โฑ๏ธ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุงูุดูุง ูู ุงูููุงูุงุช ุงูุณุงุจูุฉ ูุญุฑู ููุฑุณุฉ PostgreSQL ููุงุฌูุฉ ุทุฑู ุงููุตูู ุ ุจุงูุฅุถุงูุฉ ุฅูู ููุงุฑุณ ุงูุชุฌุฒุฆุฉ ุ ู B- tree ุ ู GiST ุ ู SP-GiST ุ ู GIN ุ ู RUM ุ ู B...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงูููุงุฑุณ ูู ุจูุณุชุฌุฑุณ - 10 (ุจููู)</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/postgrespro/blog/452968/" style=";text-align:right;direction:rtl">  ูุงูุดูุง ูู ุงูููุงูุงุช ุงูุณุงุจูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุญุฑู ููุฑุณุฉ</a> PostgreSQL ููุงุฌูุฉ ุทุฑู ุงููุตูู ุ ุจุงูุฅุถุงูุฉ ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุงุฑุณ ุงูุชุฌุฒุฆุฉ</a> ุ ู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">B-</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">tree</a> ุ ู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">GiST</a> ุ ู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SP-GiST</a> ุ ู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">GIN</a> ุ ู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">RUM</a> ุ ู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">BRIN</a> .  ููููุง ูุง ุฒููุง ุจุญุงุฌุฉ ุฅูู ุงููุธุฑ ุฅูู ููุงุฑุณ ุจููู. <br><br><h1 style=";text-align:right;direction:rtl">  ุฅุฒูุงุฑ </h1><br><h2 style=";text-align:right;direction:rtl">  ุงูููููู ุงูุนุงู </h2><br>  ุนุงูู ุชุตููุฉ Bloom ุงูููุงุณููู ูู ุจููุฉ ุจูุงูุงุช ุชููููุง ูู ุงูุชุญูู ุจุณุฑุนุฉ ูู ุนุถููุฉ ุนูุตุฑ ูู ูุฌููุนุฉ.  ุงููุฑุดุญ ูุถุบูุท ููุบุงูุฉ ุ ูููู ูุณูุญ ุจุงูุฅูุฌุงุจูุงุช ุงูุฎุงุทุฆุฉ: ูููู ุฃู ูุนุชุจุฑ ุนู ุทุฑูู ุงูุฎุทุฃ ุนูุตุฑูุง ูุง ูุนุถู ูู ูุฌููุนุฉ (ุฅูุฌุงุจูุฉ ุฎุงุทุฆุฉ) ุ ููู ูุง ูุฌูุฒ ุงุนุชุจุงุฑ ุนูุตุฑ ูุฌููุนุฉ ูุง ูููู ุนุถููุง (ุณูุจูุฉ ุณูุจูุฉ) . <br><br>  ุงููุฑุดุญ ูู ูุฌููุนุฉ ูู <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mrow" id="MJXp-Span-2"><span class="MJXp-mo" id="MJXp-Span-3" style="margin-left: 0.278em; margin-right: 0.278em;">ู</span></span><span class="MJXp-mrow" id="MJXp-Span-4"><span class="MJXp-mo" id="MJXp-Span-5" style="margin-left: 0.278em; margin-right: 0.278em;">ุฏ</span></span><span class="MJXp-mrow" id="MJXp-Span-6"><span class="MJXp-mo" id="MJXp-Span-7" style="margin-left: 0.278em; margin-right: 0.278em;">ู</span></span><span class="MJXp-mrow" id="MJXp-Span-8"><span class="MJXp-mo" id="MJXp-Span-9" style="margin-left: 0.278em; margin-right: 0.278em;">ู</span></span><span class="MJXp-mrow" id="MJXp-Span-10"><span class="MJXp-mo" id="MJXp-Span-11" style="margin-left: 0.278em; margin-right: 0.278em;">ุง</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-1"> ู ุฏููุง</script>  ุงูุจุชุงุช (ูุชุณูู ุฃูุถูุง <em>ุงูุชูููุน</em> ) ุงูููููุกุฉ ูู ุงูุจุฏุงูุฉ ุจุงูุฃุตูุงุฑ. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-12"><span class="MJXp-mrow" id="MJXp-Span-13"><span class="MJXp-mo" id="MJXp-Span-14" style="margin-left: 0.278em; margin-right: 0.278em;">ู</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-2"> ู </script>  ูุชู ุงุฎุชูุงุฑ ูุธุงุฆู ุงูุชุฌุฒุฆุฉ ุงููุฎุชููุฉ ุงูุชู ุชุนูู ุฃู ุนูุตุฑ ูู ุนูุงุตุฑ ุงููุฌููุนุฉ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-15"><span class="MJXp-mrow" id="MJXp-Span-16"><span class="MJXp-mo" id="MJXp-Span-17" style="margin-left: 0.278em; margin-right: 0.278em;">ู</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-3"> ู </script>  ุจุช ูู ุงูุชูููุน.  ูุฅุถุงูุฉ ุนูุตุฑ ุฅูู ุงููุฌููุนุฉ ุ ูุญุชุงุฌ ุฅูู ุชุนููู ูู ูู ูุฐู ุงูุจุชุงุช ูู ุงูุชูููุน ุนูู ูุงุญุฏ.  ูุจุงูุชุงูู ุ ุฅุฐุง ุชู ุชุนููู ูู ุงูุจุชุงุช ุงูููุงุจูุฉ ูุนูุตุฑ ุนูู ูุงุญุฏ ุ ููููู ุฃู ูููู ุงูุนูุตุฑ ุนุถููุง ูู ุงููุฌููุนุฉ ุ ูููู ุฅุฐุง ูุงู ุจุช ูุงุญุฏ ุนูู ุงูุฃูู ูุณุงูู ุงูุตูุฑ ุ ููู ูููู ุงูุนูุตุฑ ูู ุงููุฌููุนุฉ ุจุงูุชุฃููุฏ. <br><br>  ูู ุญุงูุฉ DBMS ุ ูุฏููุง ุจุงููุนู <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-18"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-19">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-4"> N </script>  ูุฑุดุญุงุช ูููุตูุฉ ุจููุช ููู ุตู ูุคุดุฑ.  ููุงุนุฏุฉ ุนุงูุฉ ุ ูุชู ุชุถููู ุงูุนุฏูุฏ ูู ุงูุญููู ูู ุงูููุฑุณ ุ ูููู ูุฐู ุงูุญููู ูู ุงูุชู ุชุดูู ูุฌููุนุฉ ูู ุงูุนูุงุตุฑ ููู ุตู. <br><br>  ุนู ุทุฑูู ุงุฎุชูุงุฑ ุทูู ุงูุชูููุน <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-20"><span class="MJXp-mrow" id="MJXp-Span-21"><span class="MJXp-mo" id="MJXp-Span-22" style="margin-left: 0.278em; margin-right: 0.278em;">ู</span></span><span class="MJXp-mrow" id="MJXp-Span-23"><span class="MJXp-mo" id="MJXp-Span-24" style="margin-left: 0.278em; margin-right: 0.278em;">ุฏ</span></span><span class="MJXp-mrow" id="MJXp-Span-25"><span class="MJXp-mo" id="MJXp-Span-26" style="margin-left: 0.278em; margin-right: 0.278em;">ู</span></span><span class="MJXp-mrow" id="MJXp-Span-27"><span class="MJXp-mo" id="MJXp-Span-28" style="margin-left: 0.278em; margin-right: 0.278em;">ู</span></span><span class="MJXp-mrow" id="MJXp-Span-29"><span class="MJXp-mo" id="MJXp-Span-30" style="margin-left: 0.278em; margin-right: 0.278em;">ุง</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-5"> ู ุฏููุง</script>  ุ ูููููุง ุฅูุฌุงุฏ ููุงุถูุฉ ุจูู ุญุฌู ุงููุคุดุฑ ูุงุญุชูุงู ุงูุฅูุฌุงุจูุงุช ุงูุฎุงุทุฆุฉ.  ูุณุงุญุฉ ุงูุชุทุจูู ููุคุดุฑ Bloom ูุจูุฑุฉ ุ ุญูุซ ูุชู ุงูุงุณุชุนูุงู ุนู ุงูุฌุฏุงูู "ุงููุงุณุนุฉ" ุจุดูู ูุจูุฑ ุจุงุณุชุฎุฏุงู ุงููุฑุดุญุงุช ูู ูู ุญูู.  ูููู ุงุนุชุจุงุฑ ุทุฑููุฉ ุงููุตูู ูุฐู ุ ูุซู BRIN ุ ูุณุฑุนูุง ูููุณุญ ุงููุชุณูุณู: ูุฌุจ ุฅุนุงุฏุฉ ูุญุต ุฌููุน ุงููุทุงุจูุงุช ุงูุชู ูุฌุฏูุง ุงูููุฑุณ ูุน ุงูุฌุฏูู ุ ูููู ููุงู ูุฑุตุฉ ูุชุฌูุจ ุงููุธุฑ ูู ูุนุธู ุงูุตููู ุนูู ุงูุฅุทูุงู. <br><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  ูููู </h2><br>  ููุฏ ูุงูุดูุง ุจุงููุนู ุฃุดุฌุงุฑ ุงูุชูููุน ูู ุณูุงู ุทุฑููุฉ ุงููุตูู ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">GiST</a> .  ุนูู ุนูุณ ูุฐู ุงูุฃุดุฌุงุฑ ุ ูุฅู ูุคุดุฑ ุจููู ูู ุจููุฉ ูุณุทุญุฉ.  ููู ูุชุฃูู ูู ููู ุชุนุฑูู ูุชุจูุนูุง ุจุตูุญุงุช ุนุงุฏูุฉ ุจูุง ุตููู ููุฑุณ.  ูุญุชูู ูู ุตู ููุฑุณ ุนูู ุชูููุน ููุฑุฌุน ุฅูู ุตู ุฌุฏูู (TID) ุ ููุง ูู ููุถุญ ุชุฎุทูุทููุง ูู ุงูุดูู. <br><br><img src="https://habrastorage.org/webt/tl/v3/xp/tlv3xpdlc4iw25iuma6yurx8wto.png"><br><br><h3 style=";text-align:right;direction:rtl">  ุฅูุดุงุก ูุงุฎุชูุงุฑ ููู ุงููุนููุงุช </h3><br>  ุนูุฏ ุฅูุดุงุก ููุฑุณ Bloom ุ ูุชู ุชุญุฏูุฏ ุงูุญุฌู ุงูููู ููุชูููุน ("ุงูุทูู") ุ ููุฐูู ุนุฏุฏ ุงูุจุชุงุช ุงููุฑุงุฏ ุชุนููููุง <em>ููู ุญูู ูุฑุฏู</em> ูุฏุฑุฌ ูู ุงูููุฑุณ ("col1" - "col32"): <br><br><pre style=";text-align:right;direction:rtl"><code class="pgsql hljs"><span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> bloom(...) <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> (length=..., col1=..., col2=..., ...);</code> </pre> <br>  ุชุจุฏู ุทุฑููุฉ ุชุญุฏูุฏ ุนุฏุฏ ุงูุจุชุงุช ุบุฑูุจุฉ: ูุฌุจ ุฃู ุชููู ูุฐู ุงูุฃุฑูุงู ูุนููุงุช ููุฆุฉ ุนุงูู ุงูุชุดุบูู ุจุฏูุงู ูู ุงูููุฑุณ.  ุงูุดูุก ูู ุฃู ูุฆุงุช ุงููุดุบููู ูุง ูููู ุชุญุฏูุฏูุง ูู ุงูููุช ุงูุญุงูู ุ ุนูู ุงูุฑุบู ูู ุฃู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุนูู</a> ุฌุงุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุนูู ูุฐุง</a> . <br><br><blockquote style=";text-align:right;direction:rtl">  ูุณูุก ุงูุญุธ ุ ูุง ููุฌุฏ ุฃู ุชูุฏู ุฅุถุงูู ูู ูุฐุง ุงูุดุฃู. <br></blockquote><br>  ููู ูููููุง ุงุฎุชูุงุฑ ุงูููู ุงูููุงุณุจุฉุ  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุธุฑูุฉ</a> ุชูุต ุนูู ุฃูู ุจุงููุธุฑ ุฅูู ุงูุงุญุชูุงู <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-31"><span class="MJXp-mrow" id="MJXp-Span-32"><span class="MJXp-mo" id="MJXp-Span-33" style="margin-left: 0.278em; margin-right: 0.278em;">ุน</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-6"> ุน </script>  ูุฑุดุญ ูุฅุฑุฌุงุน ุฅูุฌุงุจูุฉ ูุงุฐุจุฉ ุ ููููู ุชูุฏูุฑ ุงูุนุฏุฏ ุงูุฃูุซู ูู ุจุช ุงูุชูููุน ุนูู ุงููุญู <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-34"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35">m</span><span class="MJXp-mo" id="MJXp-Span-36" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-37" style="margin-left: 0.267em; margin-right: 0.267em;">โ</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-38">n</span><span class="MJXp-mtext" id="MJXp-Span-39">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-40">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-41">o</span><span class="MJXp-msubsup" id="MJXp-Span-42"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-43" style="margin-right: 0.05em;">g</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-44" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-45">p</span><span class="MJXp-mrow" id="MJXp-Span-46"><span class="MJXp-mo" id="MJXp-Span-47" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mtext" id="MJXp-Span-48">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-49">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50">n</span><span class="MJXp-mn" id="MJXp-Span-51">2</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-7"> m = โn \ log_2 p / \ ln 2 </script>  ุงูู <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-52"><span class="MJXp-mrow" id="MJXp-Span-53"><span class="MJXp-mo" id="MJXp-Span-54" style="margin-left: 0.278em; margin-right: 0.278em;">ู</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-8"> ู </script>  ูู ุนุฏุฏ ุงูุญููู ูู ุงูููุฑุณ ูุนุฏุฏ ุงูุจุชุงุช ุงููุฑุงุฏ ุชุนููููุง ูู <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-55"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-56">k</span><span class="MJXp-mo" id="MJXp-Span-57" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-58" style="margin-left: 0.267em; margin-right: 0.267em;">โ</span><span class="MJXp-mtext" id="MJXp-Span-59">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-60">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-61">o</span><span class="MJXp-msubsup" id="MJXp-Span-62"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-63" style="margin-right: 0.05em;">g</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-64" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-65">p</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-9"> k = - \ log_2 p </script>  . <br><br>  ูุชู ุชุฎุฒูู ุงูุชูููุน ุฏุงุฎู ุงูููุฑุณ ูุตููู ูู ุฃุนุฏุงุฏ ุตุญูุญุฉ ุซูุงุฆูุฉ ุงูุจุงูุช ุ ูุจุงูุชุงูู ูุฅู ูููุฉ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-66"><span class="MJXp-mrow" id="MJXp-Span-67"><span class="MJXp-mo" id="MJXp-Span-68" style="margin-left: 0.278em; margin-right: 0.278em;">ู</span></span><span class="MJXp-mrow" id="MJXp-Span-69"><span class="MJXp-mo" id="MJXp-Span-70" style="margin-left: 0.278em; margin-right: 0.278em;">ุฏ</span></span><span class="MJXp-mrow" id="MJXp-Span-71"><span class="MJXp-mo" id="MJXp-Span-72" style="margin-left: 0.278em; margin-right: 0.278em;">ู</span></span><span class="MJXp-mrow" id="MJXp-Span-73"><span class="MJXp-mo" id="MJXp-Span-74" style="margin-left: 0.278em; margin-right: 0.278em;">ู</span></span><span class="MJXp-mrow" id="MJXp-Span-75"><span class="MJXp-mo" id="MJXp-Span-76" style="margin-left: 0.278em; margin-right: 0.278em;">ุง</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-10"> ู ุฏููุง</script>  ูููู ุชูุฑูุจ ุจุฃูุงู ุชุตู ุฅูู <math></math><img src="https://habrastorage.org/getpro/habr/formulas/ede/b88/0f9/edeb880f9f7b63330852174a59d9f35f.svg" alt="16 ุฏููุงุฑ" data-tex="inline">  . <br><br>  ุนูุฏ ุงุฎุชูุงุฑ ุงูุงุญุชูุงู <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-77"><span class="MJXp-mrow" id="MJXp-Span-78"><span class="MJXp-mo" id="MJXp-Span-79" style="margin-left: 0.278em; margin-right: 0.278em;">ุน</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-11"> ุน </script>  ุ ูุญู ุจุญุงุฌุฉ ุฅูู ุฃู ูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุญุฌู ุงูููุฑุณ ุ ูุงูุฐู ุณูู ูุณุงูู ุชูุฑูุจูุง <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-80"><span class="MJXp-mo" id="MJXp-Span-81" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mrow" id="MJXp-Span-82"><span class="MJXp-mo" id="MJXp-Span-83" style="margin-left: 0.278em; margin-right: 0.278em;">ู</span></span><span class="MJXp-mrow" id="MJXp-Span-84"><span class="MJXp-mo" id="MJXp-Span-85" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-86">8</span><span class="MJXp-mo" id="MJXp-Span-87" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-88">6</span><span class="MJXp-mo" id="MJXp-Span-89" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-90">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-12"> (ู / 8 + 6) N </script>  ุงูู <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-91"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-92">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-13"> N </script>  ูู ุนุฏุฏ ุงูุตููู ูู ุงูุฌุฏูู ู <math></math><img src="https://habrastorage.org/getpro/habr/formulas/a98/05b/342/a9805b3422e51c726fc4b1931f2d51aa.svg" alt="6 ุฏููุงุฑุงุช" data-tex="inline">  ูู ุญุฌู ูุคุดุฑ TID ุจุงูุจุงูุช. <br><br>  ุจุนุถ ุงูููุงุท ุงูุชู ูุฌุจ ููุงุญุธุชูุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุงุญุชูุงู <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-93"><span class="MJXp-mrow" id="MJXp-Span-94"><span class="MJXp-mo" id="MJXp-Span-95" style="margin-left: 0.278em; margin-right: 0.278em;">ุน</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-14"> ุน </script>  ูู ุฅูุฌุงุจูุฉ ูุงุฐุจุฉ ูุฑุชุจุท ูุฑุดุญ ูุงุญุฏ ุ ูุจุงูุชุงูู ุ ูุฅููุง ูุชููุน ุงูุญุตูู ุนูููุง <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-96"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-97">N</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-98">p</span><span class="MJXp-mrow" id="MJXp-Span-99"><span class="MJXp-mo" id="MJXp-Span-100" style="margin-left: 0.278em; margin-right: 0.278em;">ุฏ</span></span><span class="MJXp-mrow" id="MJXp-Span-101"><span class="MJXp-mo" id="MJXp-Span-102" style="margin-left: 0.278em; margin-right: 0.278em;">ู</span></span><span class="MJXp-mrow" id="MJXp-Span-103"><span class="MJXp-mo" id="MJXp-Span-104" style="margin-left: 0.278em; margin-right: 0.278em;">ู</span></span><span class="MJXp-mrow" id="MJXp-Span-105"><span class="MJXp-mo" id="MJXp-Span-106" style="margin-left: 0.278em; margin-right: 0.278em;">ุง</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-15"> Np ุฏููุง</script>  ุงูุฅูุฌุงุจูุงุช ุงูุฎุงุทุฆุฉ ุฃุซูุงุก ูุญุต ุงูุฌุฏูู (ุจุงูุทุจุน ุ ูุงุณุชุนูุงู ููุฑุฌุน ุจุถุนุฉ ุตููู).  ุนูู ุณุจูู ุงููุซุงู ุ ุจุงููุณุจุฉ ููุฌุฏูู ุงูุฐู ูุญุชูู ุนูู ููููู ุตู ูุงุญุชูุงู 0.01 ุ ูู ุฎุทุฉ ุงูุงุณุชุนูุงู ุ ูู ุงููุชูุณุท โโุ ูููููุง ุฃู ูุชููุน "ุฅุฒุงูุฉ ุงูุตููู ุจูุงุณุทุฉ ุฅุนุงุฏุฉ ูุญุต ุงูููุฑุณ: 10000". </li><li style=";text-align:right;direction:rtl">  ูุฑุดุญ ุจููู ูู ูููู ุงุญุชูุงูู.  ูู ุงูููุทูู ุงูุชุญุฏุซ ุนู ุฃุฑูุงู ูุญุฏุฏุฉ ููุท ุนูุฏ ุญุณุงุจ ูุชูุณุท โโูุซูุฑ ูู ุงูููู ุ ุจูููุง ูู ูู ุญุงูุฉ ูุนููุฉ ุ ูููููุง ุงูุญุตูู ุนูู ูุง ูููููุง ุงูุชูููุฑ ููู. </li><li style=";text-align:right;direction:rtl">  ุชุณุชูุฏ ุงูุชูุฏูุฑุงุช ุงููุฐููุฑุฉ ุฃุนูุงู ุฅูู ูููุฐุฌ ุฑูุงุถู ูุซุงูู ูุจุนุถ ุงูุงูุชุฑุงุถุงุช.  ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉ ุ ูู ุงููุฑุฌุญ ุฃู ุชููู ุงููุชูุฌุฉ ุฃุณูุฃ.  ูุฐูู ุ ูุง ุชุจุงูุบ ูู ุชูุฏูุฑ ุงูุตูุบ: ููู ูุฌุฑุฏ ูุณููุฉ ูุงุฎุชูุงุฑ ุงูููู ุงูุฃูููุฉ ููุชุฌุงุฑุจ ุงููุณุชูุจููุฉ. </li><li style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ููู ุญูู ุนูู ุญุฏุฉ ุ ุชุชูุญ ููุง ุทุฑููุฉ ุงููุตูู ุงุฎุชูุงุฑ ุนุฏุฏ ุงูุจุชุงุช ุงููุฑุงุฏ ุชุนููููุง.  ููุฌุฏ ุงูุชุฑุงุถ ูุนููู ุฃู ุงูุนุฏุฏ ุงูุฃูุซู ูุนุชูุฏ ูู ุงููุงูุน ุนูู ุชูุฒูุน ุงูููู ูู ุงูุนููุฏ.  ูุนูู ุงูุบูุต ุ ููููู ูุฑุงุกุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฐู ุงูููุงูุฉ</a> (ุงูุฅุดุงุฑุงุช ุฅูู ุงูุจุญูุซ ุงูุฃุฎุฑู ูู ููุถุน ุชุฑุญูุจ).  ูููู ูุนูุฏ ูุฑุงุกุฉ ุงูุนูุตุฑ ุงูุณุงุจู ุฃููุงู. </li></ul><br><h3 style=";text-align:right;direction:rtl">  ุชุญุฏูุซ </h3><br>  ุนูุฏ ุฅุฏุฑุงุฌ ุตู ุฌุฏูุฏ ูู ุฌุฏูู ุ ูุชู ุฅูุดุงุก ุชูููุน: ูููู ุฌููุน ุงูุญููู ุงููููุฑุณุฉ ุ ูุชู ุชุนููู ูู ุงูุจุชุงุช ุงูููุงุจูุฉ ููุง ุนูู ูุงุญุฏ.  ูู ุงููุงุญูุฉ ุงููุธุฑูุฉ ุ ูุฌุจ ุฃู ูููู ูุฏููุง ูุธุงุฆู ุชุฌุฒุฆุฉ ูุฎุชููุฉ k ุ ุจูููุง ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉ ุ ูููู ูููุฏ ุงูุฃุฑูุงู ุงูุนุดูุงุฆูุฉ ุงููุงุฐุจุฉ ุ ุงูุชู ูุชู ุงุฎุชูุงุฑ ุจุฐูุฑูุง ูู ูู ูุฑุฉ ุจูุณุงุนุฏุฉ ุฏุงูุฉ ุงูุชุฌุฒุฆุฉ ุงููุญูุฏุฉ. <br><br>  ูุง ูุฏุนู ูุฑุดุญ Bloom ุงูุนุงุฏู ุญุฐู ุงูุนูุงุตุฑ ุ ููู ูุฐุง ุบูุฑ ูุทููุจ ูููุฑุณ Bloom: ุนูุฏูุง ูุชู ุญุฐู ุตู ุงูุฌุฏูู ุ ูุชู ุญุฐู ุงูุชูููุน ุจุฃูููู ุ ุจุงูุฅุถุงูุฉ ุฅูู ุตู ุงูููุฑุณ. <br><br>  ูุงููุนุชุงุฏ ุ ูุชููู ุงูุชุญุฏูุซ ูู ุญุฐู ุฅุตุฏุงุฑ ุงูุตู ุงููุฏูู ูุฅุฏุฑุงุฌ ุงูุฅุตุฏุงุฑ ุงูุฌุฏูุฏ (ูุชู ุญุณุงุจ ุงูุชูููุน ูู ุงูุจุฏุงูุฉ). <br><br><h3 style=";text-align:right;direction:rtl">  ูุณุญ </h3><br>  ูุธุฑูุง ูุฃู ุงูุดูุก ุงููุญูุฏ ุงูุฐู ูููู ููุฑุดุญ Bloom ุงูููุงู ุจู ูู ุงูุชุญูู ูู ุนุถููุฉ ุนูุตุฑ ูู ูุฌููุนุฉ ูุง ุ ูุฅู ุงูุนูููุฉ ุงููุญูุฏุฉ ุงูุชู ูุฏุนููุง ููุฑุณ Bloom ูู ุงูุชุญูู ูู ุงููุณุงูุงุฉ (ูุซู ูู ููุฑุณ ุงูุชุฌุฒุฆุฉ). <br><br>  ููุง ุฐูุฑูุง ูู ูุจู ุ ูุฅู ูุคุดุฑ ุจููู ูุณุทุญ ุ ูุฐูู ูู ุณูุงู ุงููุตูู ุฅูู ุงูููุฑุณ ุ ูุชู ูุฑุงุกุชู ุฏุงุฆููุง ุจุดูู ูุชุชุงุจุน ููุงูู.  ุฃุซูุงุก ุงููุฑุงุกุฉ ุ ูุชู ุฅูุดุงุก ุตูุฑุฉ ููุทูุฉ ุ ุซู ูุชู ุงุณุชุฎุฏุงููุง ูููุตูู ุฅูู ุงูุฌุฏูู. <br><br>  ูู ุงููุตูู ุฅูู ุงูููุฑุณ ุจุดูู ููุชุธู ุ ูููุชุฑุถ ุฃูู ูุฌุจ ูุฑุงุกุฉ ุนุฏุฏ ูููู ูู ุตููู ุงูููุฑุณ ุ ูุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูููู ุฃู ุชููู ููุงู ุญุงุฌุฉ ุฅูููุง ูุฑุฉ ุฃุฎุฑู ูุฑูุจูุง ุ ูุจุงูุชุงูู ุ ูุชู ุชุฎุฒูููุง ูู ุฐุงูุฑุฉ ุชุฎุฒูู ูุคูุช ูุคูุชุฉ.  ูุฑุงุกุฉ ูุคุดุฑ ุจููู ุ ููุน ุฐูู ุ ูู ูู ุงููุงูุน ูุณุญ ุชุณูุณูู.  ูููุน ุฅุฎูุงุก ุงููุนูููุงุช ุงููููุฏุฉ ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุ ุชุชู ุงููุฑุงุกุฉ ูู ุฎูุงู ุญููุฉ ุนุงุฒูุฉ ุตุบูุฑุฉ ุ ุชูุงููุง ุจููุณ ุทุฑููุฉ ุงููุณุญ ุงููุชุณูุณู ููุฌุฏุงูู. <br><br>  ูุฌุจ ุฃู ูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุฃูู ูููุง ุฒุงุฏ ุญุฌู ูุคุดุฑ ุจููู ุ ูููุง ุจุฏุง ุฃูู ุฃูู ุฌุงุฐุจูุฉ ูููุฎุทุท.  ูุฐู ุงูุชุจุนูุฉ ุฎุทูุฉ ุ ุนูู ุนูุณ ุงูููุงุฑุณ ุงูุดุจููุฉ ุจุงูุดุฌุฑุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ูุซุงู </h2><br><h3 style=";text-align:right;direction:rtl">  ุทุงููุฉ </h3><br>  ุฏุนูุง ููุธุฑ ุฅูู ููุฑุณ ุจููู ุนูู ุณุจูู ุงููุซุงู ูุฌุฏูู ูุจูุฑ "flight_bi" ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูููุงูุฉ ุงูุณุงุจูุฉ</a> .  ูุชุฐููุฑู ุ ุญุฌู ูุฐุง ุงูุฌุฏูู ูู 4 ุบูุบุงุจุงูุช ูุน ูุง ููุฑุจ ูู 30 ููููู ุตู.  ุชุนุฑูู ุงูุฌุฏูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# \d flights_bi</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> Table "bookings.flights_bi" Column | Type | Collation | Nullable | Default --------------------+--------------------------+-----------+----------+--------- airport_code | character(3) | | | airport_coord | point | | | airport_utc_offset | interval | | | flight_no | character(6) | | | flight_type | text | | | scheduled_time | timestamp with time zone | | | actual_time | timestamp with time zone | | | aircraft_code | character(3) | | | seat_no | character varying(4) | | | fare_conditions | character varying(10) | | | passenger_id | character varying(20) | | | passenger_name | text | | |</code> </pre><br>  ูููู ุฃููุงู ุจุฅูุดุงุก ุงูุงูุชุฏุงุฏ: ุนูู ุงูุฑุบู ูู ุชุถููู ููุฑุณ Bloom ูู ุงูุชุณููู ุงูููุงุณู ุจุฏุกูุง ูู ุงูุฅุตุฏุงุฑ 9.6 ุ ุฅูุง ุฃูู ูุง ูุชููุฑ ุงูุชุฑุงุถููุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">extension</span></span> bloom;</code> </pre><br>  ุขุฎุฑ ูุฑุฉ ุชูููุง ูู ููุฑุณุฉ ุซูุงุซุฉ ุญููู ุจุงุณุชุฎุฏุงู BRIN ("sched_time" ุ ู "actual_time" ุ ู "airport_utc_offset").  ูุธุฑูุง ูุฃู ููุงุฑุณ Bloom ูุง ุชุนุชูุฏ ุนูู ุงูุชุฑุชูุจ ุงููุนูู ููุจูุงูุงุช ุ ูููุญุงูู ุชุถููู ุฌููุน ุญููู ุงูุฌุฏูู ุชูุฑูุจูุง ูู ุงูููุฑุณ.  ูุน ุฐูู ุ ุฏุนูุง ูุณุชุจุนุฏ ุญููู ุงูููุช ("sched_time" ู "actual_time"): ุงูุทุฑููุฉ ุชุฏุนู ุงูููุงุฑูุฉ ูู ุฃุฌู ุงููุณุงูุงุฉ ููุท ุ ูููู ูู ุงูุตุนุจ ุฅุซุงุฑุฉ ุฃู ุงุณุชูุณุงุฑ ูู ุงูููุช ุงููุญุฏุฏ ูุฃู ุดุฎุต (ูููููุง ุจูุงุก ุงูููุฑุณ ุนูู ุชุนุจูุฑ ุ ูุน ุชูุฑูุจ ุงูููุช ูููู ูุงุญุฏ ุ ููููุง ูู ููุนู ูุฐุง).  ุณูุชุนูู ุนูููุง ุฃูุถูุง ุงุณุชุจุนุงุฏ ุงูุฅุญุฏุงุซูุงุช ุงูุฌุบุฑุงููุฉ ูููุทุงุฑุงุช ("airport_coord"): ุจุงููุธุฑ ุฅูู ุงููุณุชูุจู ุ ูุง ูุชู ุงุนุชูุงุฏ ููุน "ุงูููุทุฉ". <br><br>  ูุงุฎุชูุงุฑ ููู ุงููุนููุงุช ุ ุฏุนููุง ูุถุจุท ุงุญุชูุงููุฉ ุงูููุฌุจุฉ ุงูุฎุงุทุฆุฉ ุนูู 0.01 (ูุน ุงูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุฃููุง ุณูุญุตู ุนูู ุงููุฒูุฏ).  ุงูุตูุบ ุฃุนูุงู ู <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-107"><span class="MJXp-mrow" id="MJXp-Span-108"><span class="MJXp-mo" id="MJXp-Span-109" style="margin-left: 0.278em; margin-right: 0.278em;">ู</span></span><span class="MJXp-mo" id="MJXp-Span-110" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-111">9</span><span class="MJXp-mrow" id="MJXp-Span-112"><span class="MJXp-mo" id="MJXp-Span-113" style="margin-left: 0.278em; margin-right: 0.278em;">ุฏ</span></span><span class="MJXp-mrow" id="MJXp-Span-114"><span class="MJXp-mo" id="MJXp-Span-115" style="margin-left: 0.278em; margin-right: 0.278em;">ู</span></span><span class="MJXp-mrow" id="MJXp-Span-116"><span class="MJXp-mo" id="MJXp-Span-117" style="margin-left: 0.278em; margin-right: 0.278em;">ู</span></span><span class="MJXp-mrow" id="MJXp-Span-118"><span class="MJXp-mo" id="MJXp-Span-119" style="margin-left: 0.278em; margin-right: 0.278em;">ุง</span></span><span class="MJXp-mrow" id="MJXp-Span-120"><span class="MJXp-mo" id="MJXp-Span-121" style="margin-left: 0.278em; margin-right: 0.278em;">ุฑ</span></span><span class="MJXp-mrow" id="MJXp-Span-122"><span class="MJXp-mo" id="MJXp-Span-123" style="margin-left: 0.278em; margin-right: 0.278em;">ุง</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-16"> ู = 9 ุฏููุงุฑุง</script>  ู <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-124"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-125">N</span><span class="MJXp-mo" id="MJXp-Span-126" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-127">30</span><span class="MJXp-mtext" id="MJXp-Span-128">&nbsp;</span><span class="MJXp-mrow" id="MJXp-Span-129"><span class="MJXp-mo" id="MJXp-Span-130" style="margin-left: 0.278em; margin-right: 0.278em;">ุ</span></span><span class="MJXp-mn" id="MJXp-Span-131">000</span><span class="MJXp-mtext" id="MJXp-Span-132">&nbsp;</span><span class="MJXp-mrow" id="MJXp-Span-133"><span class="MJXp-mo" id="MJXp-Span-134" style="margin-left: 0.278em; margin-right: 0.278em;">ุ</span></span><span class="MJXp-mn" id="MJXp-Span-135">000</span><span class="MJXp-mrow" id="MJXp-Span-136"><span class="MJXp-mo" id="MJXp-Span-137" style="margin-left: 0.278em; margin-right: 0.278em;">ุฏ</span></span><span class="MJXp-mrow" id="MJXp-Span-138"><span class="MJXp-mo" id="MJXp-Span-139" style="margin-left: 0.278em; margin-right: 0.278em;">ู</span></span><span class="MJXp-mrow" id="MJXp-Span-140"><span class="MJXp-mo" id="MJXp-Span-141" style="margin-left: 0.278em; margin-right: 0.278em;">ู</span></span><span class="MJXp-mrow" id="MJXp-Span-142"><span class="MJXp-mo" id="MJXp-Span-143" style="margin-left: 0.278em; margin-right: 0.278em;">ุง</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-17"> N = 30 \ ุ 000 \ ุ 000 ุฏููุง</script>  ุฃุนุท ุญุฌู ุงูุชูููุน 96 ุจุช ูุงูุชุฑุญ ุฅุนุฏุงุฏ 7 ุจุช ููู ุนูุตุฑ.  ุงูุญุฌู ุงูููุฏุฑ ูููุคุดุฑ ูู 515 ููุฌุงุจุงูุช (ุญูุงูู ุงูุซุงูู ูู ุงูุฌุฏูู). <br><br>  (ูุน ุงูุญุฏ ุงูุฃุฏูู ูุญุฌู ุงูุชูููุน ููู 16 ุจุช ุ ุชุนุฏ ุงูุตูุบ ุจุญุฌู ุงูููุฑุณ ุฃุตุบุฑ ูุฑุชูู ุ ูููููุง ุชุณูุญ ุจุงูุงุนุชูุงุฏ ููุท ุนูู ุงูุงุญุชูุงู ุงูุจุงูุบ 0.5 ููู ุถุนูู ููุบุงูุฉ.) <br><br><h3 style=";text-align:right;direction:rtl">  ูุฆุงุช ุงููุดุบู </h3><br>  ูุฐูู ุ ุฏุนููุง ูุญุงูู ุฅูุดุงุก ุงูููุฑุณ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> flights_bi_bloom <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> flights_bi <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> bloom(airport_code, airport_utc_offset, flight_no, flight_type, aircraft_code, seat_no, fare_conditions, passenger_id, passenger_name) <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> (length=<span class="hljs-number"><span class="hljs-number">96</span></span>, col1=<span class="hljs-number"><span class="hljs-number">7</span></span>, col2=<span class="hljs-number"><span class="hljs-number">7</span></span>, col3=<span class="hljs-number"><span class="hljs-number">7</span></span>, col4=<span class="hljs-number"><span class="hljs-number">7</span></span>, col5=<span class="hljs-number"><span class="hljs-number">7</span></span>, col6=<span class="hljs-number"><span class="hljs-number">7</span></span>, col7=<span class="hljs-number"><span class="hljs-number">7</span></span>, col8=<span class="hljs-number"><span class="hljs-number">7</span></span>, col9=<span class="hljs-number"><span class="hljs-number">7</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">ERROR: data type character has no default operator class for access method "bloom" HINT: You must specify an operator class for the index or define a default operator class for the data type.</code> </pre><br>  ูุณูุก ุงูุญุธ ุ ูุฅู ุงูููุญู ูููุฑ ููุง ูุฆุชูู ููุท ูู ุงููุดุบููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> opcname, opcintype::<span class="hljs-type"><span class="hljs-type">regtype</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pg_opclass <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> opcmethod = (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-type"><span class="hljs-type">oid</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pg_am <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> amname = <span class="hljs-string"><span class="hljs-string">'bloom'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> opcintype::<span class="hljs-type"><span class="hljs-type">regtype</span></span>::<span class="hljs-type"><span class="hljs-type">text</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> opcname | opcintype ----------+----------- int4_ops | integer text_ops | text (2 rows)</code> </pre><br>  ููู ูุญุณู ุงูุญุธ ุ ูู ุงูุณูู ุฌุฏูุง ุฅูุดุงุก ูุฆุงุช ููุงุซูุฉ ูุฃููุงุน ุงูุจูุงูุงุช ุงูุฃุฎุฑู ุฃูุถูุง.  ูุฌุจ ุฃู ุชุญุชูู ูุฆุฉ ุงููุดุบู ุงูุฎุงุตุฉ ุจุฃุณููุจ ุงููุตูู ุฅูู Bloom ุนูู ุนุงูู ุชุดุบูู ูุงุญุฏ - ุงููุณุงูุงุฉ - ููุธููุฉ ุงููุณุงุนุฏุฉ ุงูุฅุถุงููุฉ ุชูุงููุง - ุงูุชุฌุฒุฆุฉ.  ุฅู ุฃุจุณุท ุทุฑููุฉ ููุนุซูุฑ ุนูู ุงููุดุบููู ูุงููุธุงุฆู ุงููุงุฒูุฉ ูููุน ุชุนุณูู ูู ุงูุจุญุซ ูู ูุชุงููุฌ ุงููุธุงู ููุฆุงุช ุงููุดุบููู ุงูุฎุงุตุฉ ุจุฃุณููุจ "ุงูุชุฌุฒุฆุฉ": <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span> opc.opcintype::<span class="hljs-type"><span class="hljs-type">regtype</span></span>::<span class="hljs-type"><span class="hljs-type">text</span></span>, amop.amopopr::<span class="hljs-type"><span class="hljs-type">regoperator</span></span>, ampr.amproc <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pg_am am, pg_opclass opc, pg_amop amop, pg_amproc ampr <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> am.amname = <span class="hljs-string"><span class="hljs-string">'hash'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> opc.opcmethod = am.oid <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> amop.amopfamily = opc.opcfamily <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> amop.amoplefttype = opc.opcintype <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> amop.amoprighttype = opc.opcintype <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> ampr.amprocfamily = opc.opcfamily <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> ampr.amproclefttype = opc.opcintype <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> opc.opcintype::<span class="hljs-type"><span class="hljs-type">regtype</span></span>::<span class="hljs-type"><span class="hljs-type">text</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> opcintype | amopopr | amproc -----------+----------------------+-------------- abstime | =(abstime,abstime) | hashint4 aclitem | =(aclitem,aclitem) | hash_aclitem anyarray | =(anyarray,anyarray) | hash_array anyenum | =(anyenum,anyenum) | hashenum anyrange | =(anyrange,anyrange) | hash_range ...</code> </pre><br>  ุณูููู ุจุฅูุดุงุก ูุฆุชูู ููููุฏุชูู ุจุงุณุชุฎุฏุงู ูุฐู ุงููุนูููุงุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OPERATOR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CLASS</span></span> character_ops <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FOR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TYPE</span></span> <span class="hljs-type"><span class="hljs-type">character</span></span> <span class="hljs-keyword"><span class="hljs-keyword">USING</span></span> bloom <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OPERATOR</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> =(<span class="hljs-type"><span class="hljs-type">character</span></span>,<span class="hljs-type"><span class="hljs-type">character</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> hashbpchar; demo=# <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OPERATOR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CLASS</span></span> interval_ops <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FOR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TYPE</span></span> <span class="hljs-type"><span class="hljs-type">interval</span></span> <span class="hljs-keyword"><span class="hljs-keyword">USING</span></span> bloom <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OPERATOR</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> =(<span class="hljs-type"><span class="hljs-type">interval</span></span>,<span class="hljs-type"><span class="hljs-type">interval</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> interval_hash;</code> </pre><br>  ูุง ูุชู ุชุนุฑูู ุฏุงูุฉ ุงูุชุฌุฒุฆุฉ ููููุงุท (ููุน "ุงูููุทุฉ") ุ ูููุฐุง ุงูุณุจุจ ูุง ูููููุง ุจูุงุก ููุฑุณ ุจููู ูู ูุซู ูุฐุง ุงูุญูู (ุชูุงููุง ููุง ูุง ูููููุง ุชูููุฐ ุงุฑุชุจุงุท ุงูุชุฌุฒุฆุฉ ูู ุงูุญููู ูู ูุฐุง ุงูููุน). <br><br>  ุงููุญุงููุฉ ูุฑุฉ ุฃุฎุฑู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> flights_bi_bloom <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> flights_bi <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> bloom(airport_code, airport_utc_offset, flight_no, flight_type, aircraft_code, seat_no, fare_conditions, passenger_id, passenger_name) <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> (length=<span class="hljs-number"><span class="hljs-number">96</span></span>, col1=<span class="hljs-number"><span class="hljs-number">7</span></span>, col2=<span class="hljs-number"><span class="hljs-number">7</span></span>, col3=<span class="hljs-number"><span class="hljs-number">7</span></span>, col4=<span class="hljs-number"><span class="hljs-number">7</span></span>, col5=<span class="hljs-number"><span class="hljs-number">7</span></span>, col6=<span class="hljs-number"><span class="hljs-number">7</span></span>, col7=<span class="hljs-number"><span class="hljs-number">7</span></span>, col8=<span class="hljs-number"><span class="hljs-number">7</span></span>, col9=<span class="hljs-number"><span class="hljs-number">7</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">CREATE INDEX</code> </pre><br>  ุญุฌู ุงูููุฑุณ 526 ููุบุงุจุงูุช ุ ููู ุฃูุจุฑ ุฅูู ุญุฏ ูุง ูู ุงููุชููุน.  ูุฐูู ูุฃู ุงูุตูุบุฉ ูุง ุชุฃุฎุฐ ูู ุงูุญุณุจุงู ุงูุตูุญุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> pg_size_pretty(pg_total_relation_size(<span class="hljs-string"><span class="hljs-string">'flights_bi_bloom'</span></span>));</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> pg_size_pretty ---------------- 526 MB (1 row)</code> </pre><br><h3 style=";text-align:right;direction:rtl">  ุงูุงุณุชูุณุงุฑุงุช </h3><br>  ูููููุง ุงูุขู ุฅุฌุฑุงุก ุงูุจุญุซ ุจุงุณุชุฎุฏุงู ูุนุงููุฑ ูุฎุชููุฉ ุ ูุณูู ูุฏุนูู ุงูููุฑุณ. <br><br>  ููุง ุฐูุฑูุง ุจุงููุนู ุ ูุฅู ูุฑุดุญ Bloom ูู ุจููุฉ ุงุญุชูุงููุฉ ุ ูุจุงูุชุงูู ุ ูุฅู ุงูููุงุกุฉ ุชุนุชูุฏ ุจุดูู ูุจูุฑ ุนูู ูู ุญุงูุฉ ูุนููุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ููููู ูุธุฑุฉ ุนูู ุงูุตููู ุงููุชุนููุฉ ุจุงูุฑูุงุจ ุ ููุฑูุณูุงู ุณูุฏูุฑูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">costs</span></span> <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">analyze</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> flights_bi <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> passenger_name=<span class="hljs-string"><span class="hljs-string">'MIROSLAV SIDOROV'</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> QUERY PLAN -------------------------------------------------------------------------------------------------- Bitmap Heap Scan on flights_bi (actual time=2639.010..3010.692 rows=2 loops=1) Recheck Cond: (passenger_name = 'MIROSLAV SIDOROV'::text) Rows Removed by Index Recheck: 38562 Heap Blocks: exact=21726 -&gt; Bitmap Index Scan on flights_bi_bloom (actual time=1065.191..1065.191 rows=38564 loops=1) Index Cond: (passenger_name = 'MIROSLAV SIDOROV'::text) Planning time: 0.109 ms Execution time: 3010.736 ms</code> </pre><br>  ููุฑูุง ุณููููููุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">costs</span></span> <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">analyze</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> flights_bi <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> passenger_name=<span class="hljs-string"><span class="hljs-string">'MARFA SOLOVEVA'</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> QUERY PLAN --------------------------------------------------------------------------------------------------- Bitmap Heap Scan on flights_bi (actual time=9980.884..10142.684 rows=2 loops=1) Recheck Cond: (passenger_name = 'MARFA SOLOVEVA'::text) Rows Removed by Index Recheck: 3950168 Heap Blocks: exact=45757 lossy=67332 -&gt; Bitmap Index Scan on flights_bi_bloom (actual time=1037.588..1037.588 rows=212972 loops=1) Index Cond: (passenger_name = 'MARFA SOLOVEVA'::text) Planning time: 0.157 ms Execution time: 10142.730 ms</code> </pre><br>  ูู ุฅุญุฏู ุงูุญุงูุงุช ุ ุณูุญ ุงููุฑุดุญ ุจู 40 ุฃูููุง ููุท ูู ุงูุฅูุฌุงุจูุงุช ุงูุฎุงุทุฆุฉ ููุง ูุตู ุฅูู 4 ููุงููู ูููู ูู ุงูุญุงูุฉ ุงูุฃุฎุฑู ("ุชูุช ุฅุฒุงูุฉ ุงูุตููู ุจูุงุณุทุฉ ุฅุนุงุฏุฉ ูุญุต ุงูููุฑุณ").  ุชุฎุชูู ุฃููุงุช ุชูููุฐ ุงูุงุณุชุนูุงูุงุช ุชุจุนูุง ูุฐูู. <br><br>  ูููุง ููู ูุชุงุฆุฌ ุงูุจุญุซ ูู ุงูุตููู ููุณูุง ุจูุงุณุทุฉ ูุนุฑู ุงููุณุงูุฑ ุจุฏูุงู ูู ุงูุงุณู.  ููุฑูุณูุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">costs</span></span> <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">analyze</span></span>) demo-# <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> flights_bi <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> passenger_id=<span class="hljs-string"><span class="hljs-string">'5864 006033'</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> QUERY PLAN ------------------------------------------------------------------------------------------------- Bitmap Heap Scan on flights_bi (actual time=13747.305..16907.387 rows=2 loops=1) Recheck Cond: ((passenger_id)::text = '5864 006033'::text) Rows Removed by Index Recheck: 9620258 Heap Blocks: exact=50510 lossy=165722 -&gt; Bitmap Index Scan on flights_bi_bloom (actual time=937.202..937.202 rows=426474 loops=1) Index Cond: ((passenger_id)::text = '5864 006033'::text) Planning time: 0.110 ms Execution time: 16907.423 ms</code> </pre><br>  ู ุงููุฑูุฃ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">costs</span></span> <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">analyze</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> flights_bi <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> passenger_id=<span class="hljs-string"><span class="hljs-string">'2461 559238'</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> QUERY PLAN -------------------------------------------------------------------------------------------------- Bitmap Heap Scan on flights_bi (actual time=3881.615..3934.481 rows=2 loops=1) Recheck Cond: ((passenger_id)::text = '2461 559238'::text) Rows Removed by Index Recheck: 30669 Heap Blocks: exact=27513 -&gt; Bitmap Index Scan on flights_bi_bloom (actual time=1084.391..1084.391 rows=30671 loops=1) Index Cond: ((passenger_id)::text = '2461 559238'::text) Planning time: 0.120 ms Execution time: 3934.517 ms</code> </pre><br>  ุชุฎุชูู ุงูููุงุกุงุช ูุฑุฉ ุฃุฎุฑู ูุซูุฑูุง ุ ููุฐู ุงููุฑุฉ ูุงู ุญุธ ูุฑูุฃ ุฃูุซุฑ. <br><br>  ูุงุญุธ ุฃู ุงูุจุญุซ ุนู ุทุฑูู ุญูููู ูู ููุช ูุงุญุฏ ุณูุชู ุจุดูู ุฃูุซุฑ ููุงุกุฉ ูุธุฑูุง ูุงุญุชูุงููุฉ ุฅูุฌุงุจูุฉ ูุงุฐุจุฉ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-144"><span class="MJXp-mrow" id="MJXp-Span-145"><span class="MJXp-mo" id="MJXp-Span-146" style="margin-left: 0.278em; margin-right: 0.278em;">ุน</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-18"> ุน </script>  ูุชุญูู ุฅูู <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-147"><span class="MJXp-msubsup" id="MJXp-Span-148"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-149" style="margin-right: 0.05em;">p</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-150" style="vertical-align: 0.5em;">2</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-19"> p ^ 2 </script>  : <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">costs</span></span> <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">analyze</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> flights_bi <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> passenger_name=<span class="hljs-string"><span class="hljs-string">'MIROSLAV SIDOROV'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> passenger_id=<span class="hljs-string"><span class="hljs-string">'5864 006033'</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> QUERY PLAN -------------------------------------------------------------------------------------------------------------------- Bitmap Heap Scan on flights_bi (actual time=872.593..877.915 rows=2 loops=1) Recheck Cond: (((passenger_id)::text = '5864 006033'::text) AND (passenger_name = 'MIROSLAV SIDOROV'::text)) Rows Removed by Index Recheck: 357 Heap Blocks: exact=356 -&gt; Bitmap Index Scan on flights_bi_bloom (actual time=832.041..832.041 rows=359 loops=1) Index Cond: (((passenger_id)::text = '5864 006033'::text) AND (passenger_name = 'MIROSLAV SIDOROV'::text)) Planning time: 0.524 ms Execution time: 877.967 ms</code> </pre><br>  ููุน ุฐูู ุ ุงูุจุญุซ ูุน Boolean "ุฃู" ุบูุฑ ูุนุชูุฏ ุนูู ุงูุฅุทูุงู ุ  ูุฐุง ููุฏ ูุฎุทุท ุจุฏูุงู ูู ุทุฑููุฉ ุงููุตูู.  ุจุงูุทุจุน ุ ูุง ูุฒุงู ููุงู ุฎูุงุฑ ููุฑุงุกุฉ ุงูููุฑุณ ูุฑุชูู ุ ูุฅูุดุงุก ุตูุฑุชูู ููุทูุชูู ุ ูุงูุงูุถูุงู ุฅููููุง ุ ูููู ูุฐุง ุนูู ุงูุฃุฑุฌุญ ูููู ููุบุงูุฉ ุจุงููุณุจุฉ ููุฐู ุงูุฎุทุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ููุงุฑูุฉ ูุน BRIN ููุงุด </h2><br>  ุชุชูุงุทุน ูุฌุงูุงุช ุงูุชุทุจูู ุงูุฎุงุตุฉ ุจููุงุฑุณ Bloom ู BRIN.  ูุฐู ุฌุฏุงูู ูุจูุฑุฉ ูุณุชุญุณู ูููุง ุถูุงู ุงูุจุญุซ ุนู ุทุฑูู ุงูุญููู ุงููุฎุชููุฉ ุ ููุชู ุงูุชุถุญูุฉ ุจุฏูุฉ ุงูุจุญุซ ูู ุฃุฌู ุงูุงูุชูุงุฒ. <br><br>  ููุงุฑุณ BRIN ุฃูุซุฑ ุฅุญูุงูุง (ุนูู ุณุจูู ุงููุซุงู ุ ุจุนุดุฑุงุช ููุบุงุจุงูุช ูู ูุซุงููุง) ููููู ุฃู ุชุฏุนู ุงูุจุญุซ ุญุณุจ ุงููุทุงู ุ ูููู ููุง ูููุฏ ูููุฉ ุชุชุนูู ุจุงูุชุฑุชูุจ ุงููุนูู ููุจูุงูุงุช ูู ููู.  ููุงุฑุณ Bloom ุฃูุจุฑ (ุจูุฆุงุช ุงูููุฌุงุจุงูุช) ุ ูููู ููุณ ููุง ูููุฏ ุจุงุณุชุซูุงุก ุชููุฑ ูุธููุฉ ุชุฌุฒุฆุฉ ููุงุณุจุฉ. <br><br>  ูุซู ููุงุฑุณ ุจููู ุ ุชุฏุนู ููุงุฑุณ ุงูุชุฌุฒุฆุฉ ุงูุนูููุฉ ุงููุญูุฏุฉ ููุชุญูู ูู ุงููุณุงูุงุฉ.  ูุถูู ูุคุดุฑ ุงูุชุฌุฒุฆุฉ ุฏูุฉ ุงูุจุญุซ ุงูุชู ูุชุนุฐุฑ ุงููุตูู ุฅูููุง ูู Bloom ุ ูููู ุญุฌู ุงูููุฑุณ ุฃูุจุฑ ุจูุซูุฑ (ูู ูุซุงููุง ุ ุบูุบุงุจุงูุช ูุญูู ูุงุญุฏ ููุท ุ ููุง ูููู ุฅูุดุงุก ููุฑุณ ุงูุชุฌุฒุฆุฉ ูู ุนุฏุฉ ุญููู). <br><br><h2 style=";text-align:right;direction:rtl">  ุฎุตุงุฆุต </h2><br>  ูุงูุนุงุฏุฉ ุ ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ุฎุตุงุฆุต ุจููู ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชู ุชูุฏูู</a> ุงูุงุณุชุนูุงูุงุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจุงููุนู</a> ). <br><br>  ูููุง ููู ุฎุตุงุฆุต ุทุฑููุฉ ุงููุตูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> amname | name | pg_indexam_has_property --------+---------------+------------------------- bloom | can_order | f bloom | can_unique | f bloom | can_multi_col | t bloom | can_exclude | f</code> </pre><br>  ูู ุงููุงุถุญ ุฃู ุทุฑููุฉ ุงููุตูู ุชููููุง ูู ุจูุงุก ููุฑุณ ุนูู ุนุฏุฉ ุฃุนูุฏุฉ.  ุจุงููุงุฏ ูููู ูู ุงูููุทูู ุฅูุดุงุก ููุฑุณ ุจููู ูู ุนููุฏ ูุงุญุฏ. <br><br>  ุชุชููุฑ ุฎุตุงุฆุต ุทุจูุฉ ุงูููุฑุณ ุงูุชุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> name | pg_index_has_property ---------------+----------------------- clusterable | f index_scan | f bitmap_scan | t backward_scan | f</code> </pre><br>  ุชูููุฉ ุงููุณุญ ุงููุชุงุญุฉ ููุท ูู ูุญุต ุงูุตูุฑุฉ ุงูููุทูุฉ.  ูุธุฑูุง ูุฃู ุงูููุฑุณ ูุชู ูุณุญู ุถูุฆููุง ุชูุงููุง ุชูุงููุง ุ ูููุณ ูู ุงูููุทูู ุชุทุจูู ูุตูู ููุฑุณ ููุชุธู ููุฑุฌุน ุงูุตููู TID ุจูุงุณุทุฉ TID. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> name | pg_index_column_has_property --------------------+------------------------------ asc | f desc | f nulls_first | f nulls_last | f orderable | f distance_orderable | f returnable | f search_array | f search_nulls | f</code> </pre><br>  ุดุฑุทุงุช ููุท ููุง ุ  ูุง ูููู ููุทุฑููุฉ ุงูุชุนุงูู ูุน ุงูููู ุงููุงุฑุบุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ูุฃุฎูุฑุง: </h2><br>  ููุณ ูู ุงููุณุชุญูู ุฃู ุชุณุชูุฑ ูุฐู ุงูุณูุณูุฉ ูู ุงูููุงูุงุช ูู ุงููุณุชูุจู ุ ุนูุฏูุง ุชุธูุฑ ุฃููุงุน ุฌุฏูุฏุฉ ูู ุงูุงูุชูุงูุงุช ุ ูููู ุญุงู ุงูููุช ููุชููู ุงูุขู. <br><br>  ุฃูุฏ ุฃู ุฃุนุฑุจ ุนู ุชูุฏูุฑู ูุฒููุงุฆู ูู Postgres Professional (ุจุนุถูู ูุคูููู ููุนุฏูุฏ ูู ุทุฑู ุงููุตูู ุงูุชู ุชูุช ููุงูุดุชูุง) ููุฑุงุกุฉ ุงููุณูุฏุงุช ูุชูุฏูู ุชุนูููุงุชูู.  ูุฃูุง ุ ุจุงูุชุฃููุฏ ุ ููุชู ูู ุนูู ุณุนุฉ ุตุฏุฑู ูุชุนูููุงุชู ุงููููุฉ.  ุดุฌุนูู ุงูุชุจุงูู ูููุตูู ุฅูู ูุฐู ุงูููุทุฉ.  ุดูุฑุง ูู </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar452968/">https://habr.com/ru/post/ar452968/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar452958/index.html">JMAP - ุจุฑูุชูููู ููุชูุญ ูุญู ูุญู IMAP ุนูุฏ ุชุจุงุฏู ุฑุณุงุฆู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</a></li>
<li><a href="../ar452960/index.html">ุณูู ุชุฌูุจ ุนูู ูู ุดูุก! ุนููุฏ ูุญุฑููุง ุงููุณุชููู ูู ุฎูุงู ุนููู ุงููุทูุฑ</a></li>
<li><a href="../ar452962/index.html">ุงูุณุจุจ ุงูุฑุฆูุณู ููุญูุงุฏุซ ูู ูุฑุงูุฒ ุงูุจูุงูุงุช ูู ูุถุน ุจูู ุงูููุจููุชุฑ ูุงููุฑุณู</a></li>
<li><a href="../ar452964/index.html">ุดุฑุญ ุจุฃุณุนุงุฑ ูุนูููุฉ ููุฑุถูุฉ ุฑููุงู</a></li>
<li><a href="../ar452966/index.html">ุฃุณุทูุฑุฉ ุงูุฐูู: ูุฌูุฉ ูุธุฑ "ูุฑูุฒูุฉ" ููุชุฃูู</a></li>
<li><a href="../ar452974/index.html">ุงูุจุฑูุฌุฉ ุบูุฑ ุงููุชุฒุงููุฉ (ุฏูุฑุฉ ูุงููุฉ)</a></li>
<li><a href="../ar452978/index.html">ok.tech: ุดุฑุญ ุงูุจูุงูุงุช</a></li>
<li><a href="../ar452980/index.html">AWP KBR-N - ุณูุฃุชู ุงูููู ุงูุนุงุดุฑ ูุฑูุจูุง ุ ุงูุฐู ูู ูุนุฏ ููุณู ูููู</a></li>
<li><a href="../ar452982/index.html">ุงูุชูุงูู ุงูุจุณูุท ููุดุฑูุน MS Redmine</a></li>
<li><a href="../ar452984/index.html">ุงุฑุฏูููู ูุชูุช ุงูุนููู ุงููุญุธูุฑ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>