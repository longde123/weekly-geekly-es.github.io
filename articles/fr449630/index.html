<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚òÆÔ∏è üë©‚Äçüíª ü¶Ü "Ils ont sugg√©r√© de se familiariser avec les calculs d'un indicateur, et il y a deux feuilles avec int√©grales et d√©riv√©es secondes" üë®üèæ‚Äçüî¨ üôåüèæ üë®üèæ‚Äçüíº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ceci est une interview d'Anton Batiaev du Deutsche Bank Technology Center. Nous parlerons de ce que font les math√©maticiens financiers, d'o√π provienne...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>"Ils ont sugg√©r√© de se familiariser avec les calculs d'un indicateur, et il y a deux feuilles avec int√©grales et d√©riv√©es secondes"</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jugru/blog/449630/"><p>  Ceci est une interview d'Anton Batiaev du Deutsche Bank Technology Center.  Nous parlerons de ce que font les math√©maticiens financiers, d'o√π proviennent les donn√©es des banques, comment elles sont trait√©es et optimis√©es.  Sur la complexit√© d'entrer dans le secteur financier, le commerce en bourse et le besoin g√©n√©ral de banques. </p><br><p><img src="https://habrastorage.org/webt/xf/xp/3w/xfxp3w9tfj89vxaty-4hul25jzk.jpeg"></p><a name="habracut"></a><br><h1 id="chto-i-kak-schitayut-v-banke">  Quoi et comment comptent-ils √† la banque? </h1><br><p>  <strong>- Pr√©sentez-vous, s'il vous pla√Æt: dites-moi qui vous √™tes, ce que vous faites.</strong> </p><br><p>  J'ai d√©m√©nag√© au Deutsche Bank TechCenter au d√©but de janvier de cette ann√©e et je suis en train de d√©velopper le c√¥t√© serveur sur un projet qui prend en compte diff√©rents types de risques li√©s aux instruments financiers pour de nombreux traders du monde entier et d'autres √©quipes qui ont besoin de ces donn√©es. </p><br><p>  Le projet a construit une infrastructure assez √©tendue qui utilise de nombreux cadres standard populaires, des bases de donn√©es non relationnelles, qui fonctionne avec des m√©gadonn√©es sur Kafka.  Nous travaillons √©galement avec une grille pour des dizaines de milliers de CPU, utilisons divers projets personnalis√©s, optimisons le travail avec protobuf, impl√©mentons des calculs en math√©matiques financi√®res, </p><br><p>  Dans le cadre de l'infrastructure, il existe un certain nombre d'optimisations et de puces suppl√©mentaires.  C'est peut-√™tre √©vident, mais il est extr√™mement difficile de dire de mani√®re coh√©rente et logique ce qui se passe dans la banque. Quelques pour cent ont lev√© et obtenu des ressources financi√®res - ce sont des math√©matiques complexes, des algorithmes et de grandes infrastructures, des t√¢ches techniques et d'optimisation. </p><br><p>  <strong>- Allez dans l'ordre.</strong>  <strong>Vous avez dit que dans TechCenter, vous effectuez des calculs pour la plate-forme bancaire mondiale.</strong>  <strong>Et que peut-on envisager √† la banque?</strong> </p><br><p>  D'apr√®s mon exp√©rience, dans le cadre des activit√©s d'investissement, les prix et un certain nombre d'autres indicateurs de divers instruments sont pris en compte.  Si nous parlons de stocks, alors tout est clair: un devis est leur prix.  Pour les obligations, ce sera un pourcentage de la valeur nominale. </p><br><p>  Si nous parlons de produits d√©riv√©s (instruments financiers d√©riv√©s), le prix correspond √† la taille de la prime qui doit √™tre pay√©e pour cet instrument.  Il est calcul√© par de nombreuses formules diff√©rentes.  Il <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">existe une formule de Black-Scholes</a> qui estime la valeur des options - il s'agit d'une fonction qui d√©pend de la fonction du cours actuel, de l'actif sous-jacent, de la volatilit√©, du d√©lai d'expiration et de nombreux autres facteurs. </p><br><p> Il existe des mod√®les qui vous permettent de calculer la valeur du portefeuille du trader.  Un d√©partement ou une entreprise a un ensemble de transactions, des instruments financiers d√©riv√©s dans un portefeuille, et vous devez calculer combien ils co√ªtent actuellement.  S√©par√©ment, il peut y avoir un prix, mais dans l'ensemble - ils peuvent d'une mani√®re ou d'une autre corr√©ler, accorder des remises, etc.  Par exemple, les positions synth√©tiques: comment construire une option √©quivalente aux futures √† partir d'options.  Cela convient, par exemple, aux actifs non lin√©aires tels que les options, mais pas n√©cessairement vrai pour tous les types de d√©riv√©s.  L'√©valuation est bas√©e sur la cotation de l'actif sous-jacent sur lequel le d√©riv√© est construit.  Par exemple, la cotation d'une ou plusieurs paires de devises.  Les d√©riv√©s peuvent √™tre construits sur diff√©rents actifs sous-jacents: pour la devise, les actifs sous-jacents seront l'euro, le dollar, etc.  pour les d√©riv√©s de mati√®res premi√®res - p√©trole, or, bl√©;  pour spot - diverses actions et obligations. </p><br><p>  En plus d'√©valuer les produits d√©riv√©s, les risques sont √©galement pris en compte - que se passera-t-il si les prix sur le march√© baissent plus fortement (changements de volatilit√©).  Ou ce qui se passera si le dollar ne vaut pas 60, mais 100 roubles par rapport √† une ou toutes les autres devises.  Qu'adviendra-t-il d'un instrument sp√©cifique, un portefeuille? </p><br><p>  Vous devez calculer cela en temps r√©el, et √©galement rapprocher l'√©tat actuel du portefeuille de divers r√©sultats d√©favorables des mouvements de prix pour chacune des devises, les changements de la volatilit√© du march√©.  Pour ce faire, nous construisons une matrice de tous les changements possibles, qui montre ce qui est maintenant, ce qui se passera demain et ce qui se passera en cas de crise du march√©. </p><br><p>  Cela est n√©cessaire pour √©valuer ce qu'il faut acheter et vendre dans le moment actuel et quels sont les risques.  Et, notamment, √©valuer ce qui se passera √† l'avenir, √©valuer les strat√©gies de trading et r√©pondre plus pr√©cis√©ment aux changements du march√©.  Par exemple, l'un des quanta a propos√© un nouvel algorithme de calcul des risques - vous devez v√©rifier les donn√©es historiques, conduire, par exemple, pour toutes les informations d'√©change pendant des d√©cennies et voir ce qui se passe. </p><br><p>  Pour ces besoins, il existe une infrastructure connect√©e √† diverses plateformes d'√©change qui nous transmettent des donn√©es de march√©.  √âtant donn√© que notre entreprise poss√®de de nombreuses donn√©es dans le monde, nous devons en quelque sorte stocker et cr√©er des pr√©-agr√©gats afin de les traiter rapidement. </p><br><p>  <strong>- Avant de passer √† la partie infrastructure, je voudrais demander ce que vous avez d√©j√† dit.</strong>  <strong>Vous avez parl√© d'un tas d'algorithmes d'analyse de toutes sortes, d'o√π viennent ces algorithmes?</strong>  <strong>S'agit-il d'une sorte de connaissance du livre ou de vos meilleures pratiques?</strong> </p><br><p>  Il y a quelques points.  Tout d'abord, des formules bien connues, des algorithmes invent√©s par des math√©maticiens sont pris.  Par exemple, le mod√®le de tarification des options g√©n√©ralement accept√© est la formule Black-Scholes.  Mais, en plus de cela, il y a des am√©liorations internes: en particulier, nous utilisons d'autres lois de distribution des prix, nous tordons les coefficients dans ces formules.  La formule de la courbe de distribution des prix, des offres et d'autres indicateurs peut √™tre tr√®s diff√©rente. </p><br><p>  Si nous parlons d'optimisation, ce sont d√©j√† des am√©liorations internes.  Par exemple, au lieu de calculer des indicateurs √† chaque point, les d√©veloppeurs peuvent calculer des valeurs cl√©s et effectuer une approximation, ce qui co√ªtera 20 fois moins de temps d'ordinateur, mais en m√™me temps, donnera une pr√©cision acceptable et suffisante. </p><br><p>  Toutes les donn√©es changent constamment, ce qui est important pour nous non seulement pour le reporting, mais aussi pour donner aux traders une image √† jour de l'√©tat du march√©. </p><br><p>  <strong>- Il s'agit d'informations assez compliqu√©es, et il est probablement assez difficile de les transf√©rer de personne √† personne.</strong>  <strong>Quelle est la taille de votre √©quipe et comment transf√©rez-vous les connaissances entre vous?</strong> </p><br><p>  Notre projet √† Moscou emploie 35 personnes.  Ce sont plusieurs √©quipes qui s'occupent de certaines fonctionnalit√©s: interface utilisateur, backend, infrastructure, math√©matiques financi√®res.  Chacune de ces √©quipes poss√®de une expertise approfondie dans la fonctionnalit√© d'un module particulier.  Mais √† c√¥t√© de ces personnes, il y a autant de personnes impliqu√©es dans les syst√®mes li√©s √† notre projet. </p><br><p>  Toutes les informations sur notre projet sont d√©crites par les analystes de Confluence, et elles sont √©galement contenues dans les descriptions de t√¢ches dans JIRA, o√π il existe des liens vers des m√©canismes standard et des formules publiques.  Des exemples d'utilisation des fonctionnalit√©s peuvent √™tre trouv√©s dans les tests.  Eh bien, la communication humaine n'a pas √©t√© annul√©e. </p><br><p>  <strong>- Math√©maticiens financiers: combien y en a-t-il et qui sont-ils?</strong>  <strong>Des scientifiques importants?</strong> </p><br><p>  Oui, ce sont principalement des sp√©cialistes (quanta) qui si√®gent √† Londres et construisent des mod√®les financiers du fonctionnement du march√©.  Le plus souvent, ils ont un doctorat en finance ou en math√©matiques.  Ils savent comment fonctionne le march√©, ce dont les traders ont besoin et peuvent trouver une sorte de mod√®le math√©matique qui d√©crit l'√©tat du march√©, les algorithmes de calcul des risques et l'√©valuation correcte des d√©riv√©s. </p><br><p>  Par exemple, mon coll√®gue Alexander a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√©crit un article sur Habr√©</a> , o√π il a d√©j√† mentionn√© l'exp√©rience du quantum. </p><br><p>  <strong>- Les d√©veloppeurs ordinaires peuvent-ils communiquer avec eux?</strong>  <strong>Comment se passe cette communication?</strong>  <strong>En effet, les math√©matiques et le d√©veloppement conventionnel ont des mondes compl√®tement diff√©rents.</strong> </p><br><p>  Ils peuvent communiquer et communiquer: il est clair que certaines t√¢ches et concepts m√©tier de haut niveau sont discut√©s avec les dirigeants, mais dans le cadre de calculs de risques sp√©cifiques ou d'autres indicateurs, le d√©veloppeur communique directement avec le trader ou quantum qui a construit ce mod√®le. </p><br><p>  Mais en r√©alit√©, il s'agit d'un processus d'interaction mutuel, car l'algorithme th√©orique n'est pas toujours mis en ≈ìuvre dans la pratique.  Par cons√©quent, les d√©veloppeurs peuvent proposer des modifications au mod√®le afin qu'il repose sur l'architecture d'application actuelle. </p><br><p>  Il existe de nombreuses fa√ßons d'interagir - le m√™me Skype, le m√™me t√©l√©phone, tous les outils de communication standard. </p><br><p>  <strong>- Le logiciel qui en r√©sulte est automatique?</strong>  <strong>Existe-t-il des robots ou existe-t-il quelque chose pour les commer√ßants qui sont engag√©s dans l'analyse technique - des graphiques ou autre chose?</strong> </p><br><p>  Il existe plusieurs options d'utilisation du logiciel: la premi√®re est automatique, c'est-√†-dire  robots de trading, le second est un assistant pour le trader, qui montre l'√©tat actuel du portefeuille, d√©taillant les risques √† divers indicateurs, les options de trading qu'il peut d√©sormais faire, ainsi que l'√©tat futur du portefeuille et les risques en fonction des r√©sultats de ces op√©rations.  Il existe √©galement des indicateurs pour les commer√ßants, le calcul des risques et des donn√©es sur l'√©tat des portefeuilles. </p><br><p>  <strong>- Une autre mesure est la fr√©quence de l'analyse des donn√©es, √† quelle fr√©quence le faites-vous?</strong>  <strong>D'un c√¥t√© du spectre, si je comprends bien, quelques microsecondes, et de l'autre, l'analyse des m√©gadonn√©es qui peut prendre des semaines.</strong> </p><br><p>  Selon la complexit√© et l'importance des indicateurs, il peut s'agir d'indicateurs en direct, qui sont recalcul√©s pour chaque tick, puis le calcul se fait en millisecondes.  Et si nous calculons le co√ªt des portefeuilles, les mises √† jour se produisent une fois par seconde, afin que l'≈ìil humain ait le temps de le percevoir. </p><br><p>  Si vous d√©crivez de longs calculs (par exemple, certains risques complexes), dont les donn√©es sont n√©cessaires au cours de la journ√©e, puis les t√¢ches sont envoy√©es √† la grille, le sc√©nario de changement des cotations de devises est consid√©r√©.  Le m√©canisme g√©n√©ral est le suivant: vous consid√©rez toutes les nouvelles transactions dans un certain cycle, puis vous effectuez une t√¢che difficile sur la grille pour recalculer les indicateurs pour l'ensemble des transactions dans l'√©tat actuel du march√©. </p><br><p>  Ces t√¢ches peuvent √™tre mises √† jour une fois par heure.  Si vous devez chasser les strat√©gies de trading - c'est une t√¢che longue, elles sont lanc√©es et pendant plusieurs heures, elles sont prises en compte, en fonction de la complexit√© et de la quantit√© de donn√©es.  Les t√¢ches sur la grille peuvent √™tre tr√®s petites, par exemple, calculer une formule et donner un r√©sultat, ou grandes, par exemple, pour les tableaux o√π vous devez calculer les corr√©lations de tous les sc√©narios de risque possibles et donner le r√©sultat combin√©. </p><br><p>  Ici appara√Æt la t√¢che d'optimiser la charge de la grille et de pr√©dire le temps de calcul de la t√¢che en fonction du type d'outil, de la quantit√© de donn√©es et d'autres indicateurs afin de la charger au maximum.  Parce que si vous lancez une grosse t√¢che, tout le monde attendra en ligne, bien que pendant ce temps vous puissiez compter autre chose. </p><br><p>  En g√©n√©ral, la t√¢che d'un sac √† dos et d'autres optimisations.  Lorsque le ping sur la grille est plus long que le temps de calcul lui-m√™me, nous le ferons sur le backend, o√π un mini-cluster a d√©j√† √©t√© d√©ploy√© pour ces petites t√¢ches. </p><br><p>  <strong>- Puis-je en quelque sorte le mettre dans une sorte de structure?</strong>  <strong>Autant que je sache, diff√©rentes m√©thodes d'optimisation sont appliqu√©es en fonction du volume de t√¢ches.</strong>  <strong>Sur les petites t√¢ches, il est logique d'optimiser le compilateur JIT, et sur les grandes t√¢ches, autre chose.</strong>  <strong>Dites-moi quels sont les domaines du probl√®me et quelles m√©thodes y sont utilis√©es pour acc√©l√©rer et optimiser.</strong> </p><br><p>  Un exemple d'une grande t√¢che est de calculer tous les instruments financiers et les risques lors du changement des cotations de chaque devise de 1-2-3-10%.  Dans ce cas, l'optimisation consistera √† regrouper les transactions en bundles de sorte que dans un bundle, il y ait des transactions pour un type de portefeuille ou une devise. </p><br><p>  Pour qu'il n'y ait pas beaucoup de calculs de risques pour chaque transaction, nous les pr√©sentons comme une transaction pour un volume important, puis divisons proportionnellement les r√©sultats.  Ainsi, nous r√©duisons le nombre de calculs n√©cessaires. </p><br><p>  Un autre exemple d'optimisation est cette fois avec des paires de devises.  Disons qu'il y a deux paires de ¬´rouble dollar¬ª et de ¬´rouble euro¬ª.  Dans la premi√®re paire, vous pouvez imaginer que le rouble baisse, mais il est possible que le dollar augmente.  En fait, c'est la m√™me chose.  Il en va de m√™me pour la paire rouble-euro.  En cons√©quence, nous pouvons consid√©rer des paires qui sont diff√©rentes √† premi√®re vue dans un seul paquet, sur la base que le rouble change dans les deux cas. </p><br><p>  Le nombre de calculs est r√©duit et le r√©sultat est acc√©l√©r√©.  Il semble avoir chang√© une devise (dans notre exemple, le rouble), mais en fait, nous avons calcul√© les risques d'actifs h√©t√©rog√®nes. </p><br><p>  <strong>- Et pouvez-vous r√©soudre le probl√®me de front et le transformer en un √©norme, √©norme cluster?</strong> </p><br><p>  Il existe un tel cluster, mais il est d√©j√† charg√© de nombreux calculs.  Le cluster n'est pas en caoutchouc, malgr√© les dizaines de milliers de processeurs qui y sont actuellement. </p><br><p>  <strong>- Et du point de vue des logiciels, In-Memory DataGrid ou Hadoop?</strong> </p><br><p>  Oui, il y a Hadoop et Kafka pour le traitement de tout cela, et la base de donn√©es ClickHouse pour optimiser le travail avec les m√©gadonn√©es.  En termes d'empilement de donn√©es, il est clair que la conduite de JSON est, pour le moins, inefficace.  √Ä cet √©gard, il y a des moments d'optimisation avec Protobuf.  Il est important pour nous non seulement de mettre des donn√©es binaires, mais en m√™me temps de le faire aussi √©troitement que possible, en utilisant des dictionnaires. </p><br><p>  Nous y stockons, par exemple, des sp√©cifications contractuelles du m√™me type pour toutes les transactions.  Gr√¢ce √† cette optimisation avec les dictionnaires, un coll√®gue a √©conomis√© 30% de la m√©moire occup√©e. </p><br><p>  <strong>- Ces dictionnaires sont-ils sur des n≈ìuds sp√©cifiques et dupliqu√©s ou situ√©s dans une base centrale?</strong> </p><br><p>  De diff√©rentes mani√®res.  Surtout dans une base centrale.  Et il y a des dictionnaires que vous transf√©rez sur la grille avec un tas de calculs.  Elle veut √™tre aussi compacte que possible afin de ne pas faire glisser beaucoup de donn√©es, car les canaux Internet ne sont pas en caoutchouc. </p><br><p>  Comment √ßa marche?  Vous envoyez la t√¢che de calcul √† la grille avec toutes les informations n√©cessaires pour cela, que vous emballez dans des dictionnaires pour √©viter les doublons.  √Ä l'int√©rieur, il y aura d√©j√† tout le contenu, et vous n'avez pas besoin d'aller dans des r√©f√©rentiels suppl√©mentaires.  Cela √©conomise le trafic r√©seau et r√©duit la latence dans les calculs. </p><br><p>  <strong>- Pour autant que je sache, les banques ont une analyse des donn√©es historiques, qui est un √©norme paquet de donn√©es par gigaoctet-t√©raoctets.</strong>  <strong>Et l'approche avec une base de donn√©es unique ne fonctionne pas?</strong>  <strong>Vous pouvez mettre 2 To sur la cl√©, mais ce n'est pas bon.</strong> </p><br><p>  Oui, ces moments sont d√©cid√©s par portionnement.  Vous aurez des caches locaux par pays, r√©partis par √©change d'informations, car l'envoi d'informations sur toutes les transactions de New York √† Singapour n√©cessite beaucoup de ressources.  Il est clair qu'ici la r√©partition par pays est logique: par exemple, les transactions aux √âtats-Unis seront plac√©es dans des centres de donn√©es am√©ricains.  Une situation similaire avec des citations - vous devez cr√©er un routage et d√©terminer de quel type d'accord il s'agit, √† quelle r√©gion il appartient, afin de comprendre o√π se trouvent les caches, l'envoyer aux stockages et bases de donn√©es n√©cessaires et ne pas poursuivre les donn√©es √† nouveau. </p><br><p>  <strong>- Et il arrive que vous ayez besoin de joindre des donn√©es de diff√©rentes r√©gions?</strong> </p><br><p>  Oui, c'est le cas, et c'est une t√¢che difficile.  Il est clair que nous n'allons pas pomper des t√©raoctets de donn√©es de toutes les r√©gions afin d'obtenir des r√©sultats agr√©g√©s.  Tr√®s probablement dans chaque r√©gion, vous calculerez l'agr√©gat local de cette r√©gion, puis vous collecterez tous ces r√©sultats pour obtenir des donn√©es r√©sum√©es. </p><br><p>  <strong>- Tr√®s probablement, il existe des donn√©es externes, par exemple, l'historique des √©changes.</strong>  <strong>Et comment les g√©rer?</strong>  <strong>Vous refl√©tez-vous √† l'int√©rieur ou existe-t-il des moyens de les traiter?</strong> </p><br><p>  Il existe des protocoles et des connexions aux fournisseurs de donn√©es standard: Reuters, Bloomberg, qui fournissent des informations d'√©change.  Nous stockons les donn√©es n√©cessaires sur des stockages internes, mais certaines choses peuvent √™tre demand√©es de nouveau au fournisseur de donn√©es.  Encore une fois, par r√©gion, afin de ne pas g√©n√©rer de trafic. </p><br><p>  Il est clair qu'ils ont √©galement d√©ploy√© des serveurs dans le monde entier pour garantir la vitesse et les performances. </p><br><p>  <strong>- Et les donn√©es de lecture ou de lecture / √©criture?</strong>  <strong>Si le record n'est pas effrayant de rouler de tels volumes?</strong> </p><br><p>  Fondamentalement, pour la lecture, l'√©criture va tout en enregistrant les informations sur les transactions et autres informations requises par les r√©gulateurs.  Fondamentalement, les calculs des besoins int√©rieurs: les risques, la valeur des portefeuilles, etc.  Il s'agit d'une cuisine interne, vous retournez les donn√©es d'une r√©gion ou d'un centre de donn√©es, sans les envoyer √† l'ext√©rieur. </p><br><p>  <strong>- Si un morceau se d√©tache de la lune et vole vers un centre de donn√©es, que se passera-t-il?</strong>  <strong>C'est fini?</strong> </p><br><p>  Les donn√©es des centres de donn√©es sont mises en miroir.  Il est clair que dans la r√©gion, les donn√©es ne se trouvent pas sur un seul disque dur dans un centre de donn√©es.  Sinon, comme dans ce v√©lo, toute femme de m√©nage pourrait accidentellement couper le serveur.  Tout est copi√© en ligne: il y a un flux de donn√©es dans les deux sens, vous lisez dans le miroir le plus proche et vous synchronisez avec l'enregistrement pour assurer la coh√©rence. </p><br><p>  Mais, en r√®gle g√©n√©rale, beaucoup moins d'informations sont disponibles pour l'enregistrement, car elles doivent √™tre affich√©es pour l'utilisateur.  S'il voit le r√©cit non pas maintenant, mais 2 secondes plus tard d'une autre source, c'est triste, mais vous pouvez vivre.  Il est clair que les donn√©es n√©cessaires aux r√©gulateurs, aux sp√©cialistes du marketing externe et aux acteurs du march√© sont dupliqu√©es et synchronis√©es dans plusieurs sources afin de ne rien perdre. </p><br><h1 id="kak-v-tehcentre-doyche-banka-gotovyat-dannye-i-sobirayut-musor">  Comment le Tech Center Deutsche Bank pr√©pare les donn√©es et recueille les d√©chets </h1><br><p><img src="https://habrastorage.org/webt/fa/go/hg/fagohgpd0f1b3lfg2jhfcedkk2q.jpeg"></p><br><p>  <strong>- Question sur la pr√©paration des donn√©es.</strong>  <strong>Pour autant que je comprends, chaque source a son propre format, et les convertir instantan√©ment n'est pas une bonne id√©e.</strong>  <strong>Les pr√©parez-vous en quelque sorte pour les calculs?</strong> </p><br><p>  Il existe un format unique interne.  Il est clair qu'il est plus pratique de travailler avec les m√™mes donn√©es, mais cela se traduit par la n√©cessit√© de les convertir.  Il existe des flux de donn√©es et des √©quipes charg√©es d'√©changer des informations et de se connecter aux fournisseurs.  Ils forment et enrichissent les donn√©es dans notre format unique.  Pour r√©soudre les probl√®mes de performances, il y aura deux flux de donn√©es, l'un d'eux est un cycle rapide qui fournira des informations provenant du flux de donn√©es d'√©change.  Pour cette raison, il est moins n√©cessaire d'aller √† diff√©rents stockages et de former une structure standard.  Sur celui-ci, vous pouvez calculer les indicateurs n√©cessaires en temps r√©el. </p><br><p>  Et il y a un cycle plus lent qui traite le m√™me flux, mais avec tous les champs n√©cessaires, dans notre format.  Il ex√©cute des calculs de plus en plus lents, qui n√©cessitent un tas d'informations suppl√©mentaires, des champs et tout le reste. </p><br><p>  <strong>- A quoi cela ressemble-t-il du point de vue du d√©veloppeur?</strong>  <strong>Savez-vous toujours quelle zone de la base de donn√©es est affect√©e par des calculs lourds?</strong> </p><br><p>  Un √©v√©nement vous arrive, les champs dans lesquels peuvent √™tre remplis √† 100% et seulement partiellement.  Lors d'√©v√©nements rapides, vous comptez les indicateurs qui sont recompt√©s en ligne rapidement.  Sur un cycle long et plus lent avec un ensemble complet de donn√©es, vous recomptez les t√¢ches qui n√©cessitent tous les indicateurs.  C'est si vous n'allez pas en profondeur, car tout d√©pend des sp√©cificit√©s des t√¢ches. </p><br><p>  <strong>- Et les donn√©es sont stock√©es sur quoi?</strong>  <strong>Disque dur, SSD, RAM, enti√®rement en RAM?</strong> </p><br><p>  Surtout dans la m√©moire.  Nous travaillons avec de grands heps sur des backends qui consomment et stockent des donn√©es dans des structures standard en Java ou dans une grille de donn√©es en m√©moire, selon la vitesse et la proximit√© des donn√©es dont vous avez besoin.  Il est clair que les donn√©es historiques des derniers jours seront stock√©es sur des SSD et des disques.  Mais ce qui est n√©cessaire ou peut √™tre n√©cessaire pour les calculs sera charg√© dans le cache, en m√©moire. </p><br><p>  <strong>- Est-il possible de faire quelque chose sans mise en cache, mais avec la perte d'informations, en utilisant des calculs inexacts?</strong> </p><br><p>  Oui  J'ai mentionn√© un peu que parfois il faut calculer le risque sur la cha√Æne de variation d'un actif de 0 √† 100%, car les indicateurs ont chang√©.  Le graphique de distribution est construit en pourcentage, selon une formule ou une relation lin√©aire.  Vous construisez des points cl√©s et faites des approximations.  Les r√©sultats approximatifs sont obtenus, ce qui ne co√Øncidera pas avec la valeur r√©elle de 100% si nous comptons √† chaque point sp√©cifique du graphique, mais serait suffisant pour travailler avec ces donn√©es. </p><br><p>  Cette approche est souvent utilis√©e car elle permet, par exemple, de ne pas faire tous les calculs lors du changement de la valeur de chaque devise par rapport √† toutes les autres devises, par incr√©ments d'un centime.  Vous calculez soit le d√©placement avec une √©tape rare, soit la s√©lection de quelques points sp√©cifiques, et l'interpolation du reste.  Les valeurs de pr√©cision seront suffisantes. </p><br><p>  <strong>- Est-ce toujours des grosses chaleurs en Java ou tout est-il d√©cal√©?</strong> </p><br><p>  Se trouve principalement sur la hanche. </p><br><p>  <strong>- Comment luttez-vous alors avec la collecte des ordures?</strong> </p><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En plus de la surveillance standard des allocations et de la fr√©quence du garbage collector, vous commencez √† peaufiner certaines choses comme des pages √©normes, en faisant un certain nombre de choses comme choisir le bon garbage collector, etc. </font><font style="vertical-align: inherit;">Par exemple, vous pouvez essayer d'utiliser Shenandoah. </font><font style="vertical-align: inherit;">Certains composants sont construits et r√©gl√©s en fonction du manque de GC complet en tant que ph√©nom√®ne.</font></font></p><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Il s'agit d'un processus it√©ratif: chaque jour, vous collectez un graphique de flamme en direct, voyez qui consomme des ressources et o√π, regardez la fr√©quence des allocations et ce sur quoi elles abandonnent, et commencez √† r√©√©crire des algorithmes chauds dans le code pour des algorithmes plus optimaux ou optimisez le calcul dans son ensemble. </font></font></p><br><p> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Et comment collectez-vous des m√©triques, comment construisez-vous un graphique de flamme?</font></font></strong> </p><br><p>     ,   -   Java-,     ,       .       ELK-,       GC-    ,         ,     .    150    ‚Äî ,    .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">   </a>  ,      150      .    ,     . </p><br><p> <strong>‚Äî    Java   GC ?</strong> </p><br><p> Java 8,   11-   .  .     ,  , G1. </p><br><p> <strong>‚Äî    ?</strong> </p><br><p> ,  .      JVM. </p><br><p> <strong>‚Äî   ,      , .   -  ,      ?</strong> </p><br><p>  Oui tu peux.      ,           .       .        ( <em>UAT ‚Äî user acceptance testing</em> ) ‚Äî ,    .    ,      ,     .     2 ,    ‚Äî 3 ,  ,   . </p><br><p>    .     ,  ,      ,           .  ,         . </p><br><p> <strong>‚Äî      ,  - ,    ,   ?    ?</strong> </p><br><p>    .       :    ,   GC,  live set    . -  .     ‚Äî           .  ,     .    ,           . </p><br><p>        -, - . ,      .    ,        JSON diff.   JSON      . </p><br><p>   ,    . ,    ,     .   . </p><br><p> <strong>‚Äî         ,    ,    ?</strong> </p><br><p>    ,         ,        .     100     ¬´¬ª,    .         ,     .             . </p><br><p>    master,        ,        ,           .       ,         ,     ,    ,   .               . </p><br><p>   ,       ,  ,     ,    .  ,     ,       .          CI,     . </p><br><p> <strong>‚Äî         ?</strong> </p><br><p>         .  ‚Äî   ,     ,   .  ,   ,   ,      ,   .  - ,     . </p><br><h1 id="o-finansovom-bekende">    </h1><br><p> <strong>‚Äî ,       .</strong> <br>    ‚Äî ,   ,   .       ,   ,    ,    ,  - . </p><br><p>  ,         - ,     ‚Äî    -     ,           UI,   .   ,    ,   ,      ,     UI. </p><br><p> <strong>‚Äî      ?           ¬´¬ª   Spring?</strong> </p><br><p>     Spring, Java, MongoDB  Protobuf,     dependency injection.   UI  React,   gRPC   ,    . </p><br><p> <strong>‚Äî   Mongo,    Oracle.         - ?</strong> </p><br><p> , ,     .            .        -    ,     JDBC .   -     SpringData   ,     JDBC.   ,     ,   ,      . </p><br><p> <strong>‚Äî    -  CQRS?</strong> </p><br><p> , ,      . </p><br><h1 id="ot-bezopasnika-k-fyuchersam">     </h1><br><p> <strong>‚Äî      ? , ‚Ä¶</strong> </p><br><p>  . </p><br><p> <strong>‚Äî      ?    ,    .</strong> </p><br><p>    ,     .   ,        ,  ++ .      GNU/Linux,     Java.     -,        .   ,  .   , , ,  .   . </p><br><p>    ,         . </p><br><p> <strong>‚Äî         ?</strong> </p><br><p>   ,     ¬´¬ª .        ,   , -    ,     - .     ,    ,     -  ¬´¬ª  .  , ,     ,    ,   ,      . </p><br><p> <strong>‚Äî       ?</strong> </p><br><p> -, ,      .  <br>     :  , ,    .     . ,        ,    ,       .      ,   . </p><br><p>     ,          150 ,     .  -   .     ,   . </p><br><p> ,  ,  ,   .       ,       ,    ,      ‚Äî   . ,     ,          . </p><br><h1 id="mozhno-li-volku-odinochke-torgovat-bez-banka-i-kak-eto-sdelat">   -        </h1><br><p><img src="https://habrastorage.org/webt/7a/7x/x_/7a7xx_9f4mhr-clgis-uaxdk7-s.jpeg"></p><br><p> <strong>‚Äî   -  ,       ,    ,    ?</strong> </p><br><p> ,     ‚Äî        .   ,  - ,             - .  ,      .    ,          4,  . </p><br><p>      ,          - .         ‚Äî         .      ,            . </p><br><p>      ,    ,       .    ,         . </p><br><p> <strong>‚Äî  - -         ,    ?</strong> </p><br><p>      ¬´   ¬ª.   ‚Äî      ,     ‚Äî     ,    . </p><br><p>  -   -  ,    ,         -    .       ,   ,    . </p><br><p>     ,     . ,        ,           .    ‚Äî    .   -    ,         .   ,  -. </p><br><p>   ,    ,       .    ,      ,  -  (  -,  - ). </p><br><p> <strong>‚Äî      ?</strong> </p><br><p>     .      ,          .    ,            ,   . </p><br><p>   ‚Äî  ,   ,   ,    - .     ,       ‚Äî    ,     . </p><br><p>        .  ,    :       ,       -   ,         . </p><br><p>     , ,   -     ,          ,      .      ,   ,    ,    ,  ‚Äî   .     ,     ,  ,        . </p><br><h1 id="kak-popast-v-finansovuyu-matematiku-vsyo-ne-tak-strashno-kak-kazhetsya">      (   ,  ) </h1><br><p> <strong>‚Äî          ,        ?     ?</strong> </p><br><p>           , ,         Java.     dependency injection, ,  ,  ‚Äî    ,   .         ,    .         .  :     ,           - . </p><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il est tr√®s important de prendre soin du multithreading, car vous rencontrerez des probl√®mes de performances. </font><font style="vertical-align: inherit;">Si vous commencez √† parall√©liser des calculs, il est important de comprendre ce qui provoquera l'installation de barri√®res, comment effectuer la synchronisation correctement, o√π se produira-avant. </font><font style="vertical-align: inherit;">Il est n√©cessaire de d√©cider dans quel ordre les calculs seront commenc√©s, comment utiliser des choses non standard pour un style plus grand et plus dense.</font></font></p><br><p> Comme vous le savez, des choses comme <code>IntStream#distinct</code> impliquent des enveloppes de primitives dans les types Java et par la suite l'op√©ration inverse.  Cela ne semble pas tr√®s effrayant, mais sur de grandes quantit√©s de donn√©es, la boxe de masse et l'anboxing seront perceptibles, la m√©moire sera utilis√©e en vain.  Vous devez comprendre les tripes de Java lui-m√™me, car sur des bagatelles comme la boxe, vous pouvez g√©n√©rer un tas d'allocations suppl√©mentaires dont vous n'avez pas besoin.  Et pour le remarquer √† temps, vous devez √™tre en mesure d'utiliser des outils pour √©valuer les performances, collecter des m√©triques et comprendre d'autres choses standard. </p><br><p>  <strong>- Avez-vous besoin de conna√Ætre les sp√©cificit√©s de la banque?</strong> </p><br><p>  Non, fondamentalement.  Nous comprenons tous que les personnes qui connaissent les sp√©cificit√©s de la banque travaillent d√©j√† dans les banques.  Lorsque vous venez d'une autre sph√®re, vous ne la connaissez probablement pas.  Au tout d√©but, vous pouvez √©tudier les documents sur des points g√©n√©raux: quels sont les futurs, ce qui est une option, en quoi diff√®rent-ils, quels sont les risques.  Et vous plongez et commencez √† comprendre les sp√©cificit√©s de l'entreprise. </p><br><p>  Mais n√©anmoins, c'est important.  Au d√©but, vous pouvez simplement impl√©menter des fonctionnalit√©s qui ne sont pas li√©es √† une sp√©cificit√© m√©tier sp√©cifique, mais apprendre progressivement des choses plus complexes et sp√©cifiques √† un sujet.  Qu'est-ce qui est ici, ce qui √©tait au dernier lieu de travail (quand j'ai, en tant que chef du d√©partement, embauch√© des employ√©s) - vous remarquez que si sur dix personnes au moins une comprend ce que sont les futurs, c'est d√©j√† bien. </p><br><p>  Si vous avez des connaissances sur les algorithmes, le multithreading et Java en g√©n√©ral, √©tudier les sp√©cificit√©s de l'entreprise ne sera pas difficile.  Il se r√©v√®le quand vous plongez dans cet environnement, lisez des documents et comprenez. </p><br><p>  <strong>- Comment allez-vous tester une connaissance aussi approfondie de Java lors de l'entretien?</strong>  <strong>Est-ce r√©el?</strong> </p><br><p>  Il est clair que vous ne les v√©rifierez probablement pas.  Mais il y a des t√¢ches standard sur la logique, les algorithmes, la compr√©hension des structures internes.  Il s'agit d'une t√¢che de test et d'un codage de tableau blanc.  Par exemple, une t√¢che pour impl√©menter un cache dans une file d'attente qui permettra de savoir si un candidat comprend le multithreading - races, blocages et tout le reste.  En cours de route, vous pouvez poser des questions sur la quantit√© de m√©moire consomm√©e, pourquoi TreeMap, pas HashMap.  Ainsi, en r√©solvant un probl√®me g√©n√©ral, vous pouvez parcourir les moments de diff√©rentes sp√©cificit√©s.  Ici, plut√¥t, la pratique par laquelle certaines nuances sont calcul√©es. </p><br><p>  <strong>- Que pensez-vous qu'il faut faire pour devenir meilleur en tant que programmeur?</strong> </p><br><p>  √âvoluez!  Coder et regarder quelles sont les technologies et les algorithmes, quels nouveaux langages, r√©soudre les probl√®mes algorithmiques.  En fait, cela d√©pend beaucoup de l'exp√©rience.  Si vous avez r√©solu de nombreux probl√®mes sur les algorithmes, vous pouvez trouver quelque chose de similaire √† partir des t√¢ches pass√©es dans une nouvelle inconnue.  Il est n√©cessaire de d√©velopper la r√©flexion, la capacit√© √† trouver rapidement des r√©ponses.  La possibilit√© de google et de trouver des solutions sur StackOverflow est tr√®s utile.  Si vous ne savez pas quelque chose, mais vous savez o√π le trouver, c'est la voie du succ√®s. </p><br><p>  Les langues changent, les technologies et les cadres se transforment.  De nouveaux mod√®les viennent, mais certains mod√®les restent que tout le monde utilise.  Les conf√©rences Java sans rapports sur les flux r√©actifs et les discussions sur Kotlin ne passent plus.  Il est √©trange de s'asseoir dans un cocon et de ne pas comprendre que maintenant la recherche d'√©v√©nements, dans un sens, envahit progressivement le monde. </p><br><p>  Il est n√©cessaire de d√©velopper un fond.  Par exemple, les livres de Knut sont toujours pertinents.  Base plus nouvelles technologies.  Et vous devez savoir o√π et quoi google. </p><br><p>  <strong>- Quelle est la derni√®re chose qu'il a comprise?</strong> </p><br><p>  Dans Kotlin Coroutines.  Cool, j'aime √ßa.  Tant en syntaxe qu'en logique.  Je regarde comment y travailler avec le multithreading et l'asynchronie.  Auparavant, je devais tr√®s peu utiliser Kotlin.  Maintenant je l'√©tudie activement, certains projets l'exploitent d√©j√†.  Il existe m√™me dans certains petits modules sur le prod. </p><br><p><img src="https://habrastorage.org/webt/yh/ez/62/yhez62w11zsgbb3btbesltzyfhc.jpeg"></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr449630/">https://habr.com/ru/post/fr449630/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr449618/index.html">L'avenir est dans les nuages</a></li>
<li><a href="../fr449622/index.html">Personnalisez-le: personnalisez vos t√©l√©phones Snom</a></li>
<li><a href="../fr449624/index.html">Comment et pourquoi lire les fiches techniques, si les microcontr√¥leurs sont votre hobby</a></li>
<li><a href="../fr449626/index.html">Redressement cognitif: une s√©ance d'illusion √† exposition totale</a></li>
<li><a href="../fr449628/index.html">Nous √©crivons "Bonjour tout le monde!" Application Web Haskell (Spock)</a></li>
<li><a href="../fr449632/index.html">AMA avec Habr. V.8.0. Onboarding, des nouvelles pour tous, PWA</a></li>
<li><a href="../fr449634/index.html">J'adore l'IoT</a></li>
<li><a href="../fr449636/index.html">Comment √©viter la morsure d'un insecte qui s'embrasse</a></li>
<li><a href="../fr449640/index.html">Conception de jeux vid√©o: vous devez comprendre que vous h√©ritez</a></li>
<li><a href="../fr449644/index.html">Une √©tude VW montre que Golf-E est √©cologique apr√®s 100 000 km</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>