<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🖕 🤹🏼 😺 Encontramos três vulnerabilidades no systemd - entendemos qual é o problema 💇🏾 🎳 👨🏿‍🎨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="No início do mês, os especialistas em segurança da Qualys descobriram imediatamente três vulnerabilidades no systemd - o subsistema de inicialização d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Encontramos três vulnerabilidades no systemd - entendemos qual é o problema</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/1cloud/blog/437556/">  No início do mês, os especialistas em segurança da Qualys <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">descobriram</a> imediatamente três vulnerabilidades no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">systemd</a> - o subsistema de inicialização do Linux - permitindo que um invasor ganhasse direitos de superusuário.  Dizemos qual é a essência deles e quais distribuições estão sujeitas a eles. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/-h/8y/9s/-h8y9s4jodyusgu8r6wgfcm5kby.jpeg"></a> <a name="habracut"></a><br>  <font color="#A9A9A9"><i>/ Flickr / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">David Goehring</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CC BY</a> / Foto alterada</i></font> <br><br><h2>  Novas vulnerabilidades antigas </h2><br>  Todas as três vulnerabilidades estão associadas ao serviço de log do systemd, journald.  Os seguintes identificadores foram atribuídos a eles no banco de dados do CVE: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CVE-2018-16864</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CVE-2018-16865</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CVE-2018-16866</a> .  Essas vulnerabilidades dão ao invasor a capacidade de obter privilégios de root no sistema atacado. <br><br>  Todas as distribuições sem a função de proteção do espaço do usuário ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">-fstack-check</a> ) - Debian, Ubuntu, Fedora, CentOS, Mageia etc. estão em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">risco.Entre</a> as exceções estão o SUSE Linux Enterprise 15 e o openSUSE Leap 15.0, bem como as versões 28 e 29 do Fedora. <br><br>  Curiosamente, todas as três vulnerabilidades <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">existem há vários anos</a> , apenas nada se sabia sobre elas.  O CVE-2018-16864 surgiu em 2013, mas tornou-se possível operá-lo em 2016, quando o systemd foi atualizado para a versão 230.  O CVE-2018-16865 apareceu no sistema operacional em 2011, mas se tornou crítico apenas dois anos após o lançamento da versão systemd 201. <br><br>  Quanto à terceira vulnerabilidade (CVE-2018-16866), existe desde 2015.  No entanto, foi fechado acidentalmente com a atualização do systemd v240 alguns anos depois.  Máquinas sem esse patch ainda estão em perigo. <br><br><h2>  Qual é a essência dos "buracos" descobertos </h2><br>  A vulnerabilidade CVE-2018-16864 permite que um invasor manipule a linha de comando e envie muitos argumentos (pesando vários megabytes) para systemd-journald, causando a falha do processo.  Além disso, o hacker tem a oportunidade de assumir o controle do ponteiro de instruções estendido (EIP). <br><br>  O problema com o CVE-2018-16864 está relacionado à gravação de uma mensagem grande em / run / systemd / journal / socket.  Como resultado, parte dessa mensagem sai da pilha e entra na região <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">mmap</a> .  Depois disso, um invasor pode substituir o segmento de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">leitura e gravação</a> da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">libc</a> e substituir o ponteiro de função e executar qualquer cadeia de programas desejada no sistema. <br><br>  Quanto ao CVE-2018-16866, ele está associado a um erro de análise de linha.  Se você enviar uma mensagem especial (terminando com um caractere de dois pontos) no formato syslog para o sistema de log, o sistema ignorará o final da linha e gravará a próxima parte da pilha no log. <br><br>  A segunda e terceira vulnerabilidades permitem que a implementação do chamado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ataque retorne à biblioteca</a> e execute na máquina da vítima todas as funções.  Segundo especialistas da Qualys, eles conseguiram criar uma exploração e obter direitos de superusuário em computadores com a arquitetura i386 e amd64 em 10 e 70 minutos, respectivamente. <br><br><blockquote>  “Essas vulnerabilidades são bastante graves, pois permitem aumentar os direitos de acesso no sistema.  Os autores ainda mantêm o código de exploração em segredo, pois há um grande número de distribuições de "brechas", comentou Sergey Belkin, chefe do departamento de desenvolvimento do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">provedor</a> de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">IaaS 1cloud.ru</a> .  "Eles publicarão quando as vulnerabilidades forem fechadas."  Alguns desenvolvedores, por exemplo, do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Ubuntu</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Red Hat</a> , já publicaram os patches necessários.  Eles podem ser encontrados nos repositórios oficiais. ” </blockquote><br><img src="https://habrastorage.org/webt/f3/_n/ev/f3_nevg6oj62dvro42zlokg682a.jpeg"><br>  <font color="#A9A9A9"><i>/ Flickr / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">bradleypjohnson</a> / CC BY</i></font> <br><br><h2>  Que outras vulnerabilidades foram encontradas no systemd </h2><br>  A última vez que uma vulnerabilidade de sistema foi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">descoberta</a> em outubro de 2018.  O cliente DHCPv6 do gerenciador de serviços é iniciado automaticamente quando uma mensagem é recebida de qualquer servidor DHCP na rede local ou no provedor de serviços da Internet.  O uso desta mensagem no systemd pode <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">causar</a> uma falha na memória e obter controle do computador. <br><br>  Antes disso, vários erros no código do gerente de serviço foram encontrados em 2017.  Um deles <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">permitiu que os</a> atacantes usassem pacotes TCP para executar qualquer código no sistema.  Os pacotes TCP “forçaram” o systemd a alocar muito pouco espaço em buffer para a mensagem.  Isso nos permitiu gravar dados arbitrários fora do buffer na memória principal. <br><br>  Outra vulnerabilidade de 2017 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">foi relacionada</a> à obtenção de direitos de superusuário não autorizados.  Em algumas distribuições, por exemplo, CentOS e RHEL7, no systemd foi possível criar um perfil com um nome de usuário que começa com um número.  Embora geralmente no Linux esse recurso não seja fornecido.  Mas se um usuário desse tipo aparecesse no sistema, o gerente de serviço concedia a ele direitos de administrador. <br><br>  Todas essas vulnerabilidades foram fechadas em pouco tempo.  "Patches" para novos "buracos" descobertos em janeiro também aparecem gradualmente.  Pode-se esperar que as vulnerabilidades sejam fechadas na maioria das distribuições em breve, e os administradores de servidores e computadores Linux precisarão apenas instalar uma atualização do sistema. <br><br><h5>  Publicações do blog corporativo 1cloud: </h5><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como proteger dados pessoais e do que protegê-los</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Suporte de treinamento para administradores: como não quebrar lenha na infraestrutura de combate</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Dados pessoais: recursos da nuvem pública</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt437556/">https://habr.com/ru/post/pt437556/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt437546/index.html">Máquina Linux em um domínio do Windows AD usando sssd e krb5</a></li>
<li><a href="../pt437548/index.html">Não apenas o uBlock Origin sofrerá com novas APIs no Chromium, mas também outras extensões</a></li>
<li><a href="../pt437550/index.html">Leitura de fim de semana: 10 materiais de vinil - da produção à audição e cuidados em casa</a></li>
<li><a href="../pt437552/index.html">Excursão à produção do Promobot. Entrevista com CTO</a></li>
<li><a href="../pt437554/index.html">Startups na CES 2019: parte dois. Aparelhos estranhos e mágicos</a></li>
<li><a href="../pt437560/index.html">Fundo translúcido</a></li>
<li><a href="../pt437562/index.html">Irracional</a></li>
<li><a href="../pt437564/index.html">Bot do Chat do jogo Adivinhe a palavra - algumas observações e perguntas sobre desenvolvimento</a></li>
<li><a href="../pt437566/index.html">Likbez sobre lesões elétricas: de queimaduras e cataratas a fraturas e fibrilação</a></li>
<li><a href="../pt437568/index.html">Por que construir uma base de conhecimento baseada na mediawiki não é uma má idéia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>