<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèΩ‚Äçüé® ‚òÅÔ∏è üë©‚ÄçüöÄ C√≥mo integramos YouTube Live con Zoom üöµüèª üê† üë®‚Äçüéì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola a todos! Esta es la segunda parte de una serie de art√≠culos del equipo de TI del servicio de reserva de hoteles Ostrovok.ru sobre la organizaci√≥n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo integramos YouTube Live con Zoom</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ostrovok/blog/473374/"> Hola a todos!  Esta es la segunda parte de una serie de art√≠culos del equipo de TI del servicio de reserva de hoteles <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Ostrovok.ru</a> sobre la organizaci√≥n de la transmisi√≥n en l√≠nea de presentaciones y eventos corporativos en una sala separada. <br><br>  En el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">primer art√≠culo,</a> hablamos sobre c√≥mo resolvimos el problema del sonido de transmisi√≥n deficiente usando una consola de mezcla y un sistema de micr√≥fono inal√°mbrico. <br><br><img src="https://habrastorage.org/webt/v7/ix/_m/v7ix_misdt4x4-6pen0yp2a2gpc.png"><br><br>  Y todo parec√≠a estar bien, pero despu√©s de un tiempo una nueva tarea vol√≥ a nuestro departamento: ¬°hagamos que nuestras transmisiones sean m√°s interactivas!  Todos nuestros conocimientos tradicionales estaban en una propuesta: era necesario dar a los empleados remotos la oportunidad de conectarse a las reuniones del equipo, es decir, no solo mirar, sino tambi√©n participar activamente: mostrar una presentaci√≥n, hacer preguntas en tiempo real, etc.  Despu√©s de analizar la situaci√≥n, decidimos usar la llamada de conferencia Zoom. <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/z5/tb/de/z5tbdevbqhaz5cqy_stwuqjgnp8.png"><br><br>  Una peque√±a digresi√≥n: Zoom para videoconferencia se ha integrado en nuestra infraestructura durante mucho tiempo.  Muchos de nuestros empleados lo usan todos los d√≠as para entrevistas remotas, reuniones y reuniones de planificaci√≥n.  La mayor√≠a de nuestras salas de reuniones est√°n equipadas con Zoom Rooms y est√°n equipadas con grandes televisores y micr√≥fonos con cobertura circular de 360 ‚Äã‚Äãgrados.  Por cierto, tratamos de poner estos micr√≥fonos en nuestra sala de reuniones "especial", pero debido al gran tama√±o de la sala, solo emitieron gachas de los sonidos, y fue muy dif√≠cil distinguir lo que dec√≠an los altavoces.  En habitaciones peque√±as, estos micr√≥fonos funcionan perfectamente. <br><br>  Volvamos a nuestra tarea.  Parece que la soluci√≥n es simple: <br><br><ol><li>  Quitamos el cable HDMI para conectar a trav√©s de un cable; </li><li>  Configuramos Zoom Rooms en la sala de reuniones para que los empleados puedan conectarse a la reuni√≥n y mostrar una presentaci√≥n desde cualquier dispositivo desde cualquier lugar; </li><li>  Quitamos la c√°mara de nuestro circuito, porque ¬øpor qu√© necesitamos capturar la imagen de la c√°mara cuando podemos capturar la imagen de Zoom?  Conectamos el proyector a trav√©s de la tarjeta de captura de video a la computadora port√°til, transferimos el host all√≠, reconfiguramos Xsplit para capturar la ventana con el programa (funci√≥n de Selecci√≥n inteligente) e ir a la transmisi√≥n de prueba. </li><li>  Ajustamos el sonido para que los chicos remotos puedan ser escuchados y el sonido en YouTube no sufra. </li></ol><br>  Esto es exactamente lo que hicimos: conectamos los micr√≥fonos al Intel NUC con Zoom Rooms (en adelante, el "host"), retiramos el cable HDMI para el proyector, ense√±amos a los empleados c√≥mo "compartir la imagen en Zoom" y ponerla al aire.  Para que quede m√°s claro, a continuaci√≥n se muestra el diagrama de conexi√≥n. <br><br><img src="https://habrastorage.org/webt/fk/jl/a9/fkjla91kpi2ldamqdh7zi1xyxee.png"><br><br>  Est√°bamos preparados para el hecho de que la b√∫squeda de la soluci√≥n perfecta ser√≠a espinosa y, desafortunadamente, este esquema no funcion√≥: todo fue completamente diferente de lo que esper√°bamos.  Como resultado, nos enfrentamos a nuevos problemas con el sonido, o m√°s bien, con su completa ausencia en la transmisi√≥n.  Se supon√≠a que una tarjeta de captura de video conectada al concentrador de la habitaci√≥n a trav√©s de HDMI transmitir√≠a sonido a Xsplit, pero no importa c√≥mo.  No hubo sonido.  Absolutamente <br><br>  Esto nos desconcert√≥ un poco, despu√©s de lo cual pasamos otro mes probando varias opciones de conexi√≥n con diferentes √©xitos, pero primero lo primero. <br><br><h3>  Altavoz + micr√≥fono </h3><br>  Lo primero que intentamos fue colocar un altavoz debajo de la pantalla de proyecci√≥n que se supon√≠a que transmit√≠a las voces de los altavoces remotos, conectarlo a nuestro control remoto y colocar un micr√≥fono delante que capturara el sonido de ese altavoz.  Se ve√≠a as√≠: <br><br><img src="https://habrastorage.org/webt/8a/52/e9/8a52e9bmpam7bfr7n71wbr-pd_8.png"><br><br>  Probamos esta soluci√≥n en una reuni√≥n, cuyos participantes se conectaban principalmente a la sala de reuniones de forma remota.  Sorprendentemente, el resultado fue muy bueno.  Decidimos dejar ese esquema por un tiempo, ya que no ten√≠amos una mejor soluci√≥n en ese momento.  Deja que se vea muy extra√±o, ¬°lo principal es que funcion√≥! <br><br><h3>  Migrar salas de zoom </h3><br>  "¬øPero qu√© pasa si ejecuta Zoom Rooms en una computadora port√°til con Xsplit instalado y distribuye ambos programas en diferentes tablas virtuales?"  - Una vez pensamos.  Parece una soluci√≥n ideal para lograr el objetivo y, al mismo tiempo, reducir la cantidad de nodos necesarios para la transmisi√≥n (y que podr√≠an caerse).  Recuerdo el proverbio sobre la monta√±a y Magomed: <br><br><img src="https://habrastorage.org/webt/4k/iz/0z/4kiz0z9uvoe7rpgxvjjnypbfvg0.png"><br><br>  La captura de video ocurri√≥ a trav√©s de escritorios virtuales.  Xsplit est√° abierto en una mesa virtual, en la otra un host con una conferencia de trabajo.  Si antes transmit√≠amos toda la pantalla, ahora aprovechamos la oportunidad para capturar el proceso en ejecuci√≥n.  Al mismo tiempo, la consola de mezclas estaba conectada a la computadora port√°til, por lo que ya no era necesario dirigir el micr√≥fono al altavoz.  Xsplit tambi√©n captur√≥ las voces de los teletrabajadores que participaron en la conferencia a trav√©s de la aplicaci√≥n Zoom. <br><br>  De hecho, esta opci√≥n fue la m√°s exitosa. <br><br>  La primera pregunta que m√°s nos preocup√≥ fue si habr√≠a un conflicto en la transferencia de audio entre aplicaciones.  Al final result√≥ que, no.  Las pruebas han demostrado que todo funciona muy bien.  ¬°Tuvimos un sonido igualmente bueno tanto en Zoom como en YouTube!  La imagen tambi√©n agrad√≥.  Cualquier presentaci√≥n se mostr√≥ en YouTube, como es, en calidad de 1080p.  Para entenderlo, le dar√© un diagrama m√°s: en el proceso de inventar varias soluciones, pocas personas entendieron qu√© tipo de bestia obtuvimos, por lo que intentamos arreglar todo y hacer la mayor cantidad de ilustraciones posible: <br><br><img src="https://habrastorage.org/webt/3e/8i/ie/3e8iieffttpyedvzyt7koyfclyc.png"><br><br>  Inspirados por tal √©xito, celebramos la primera reuni√≥n con este esquema de conexi√≥n el mismo d√≠a.  Y todo parec√≠a ir bien, pero surgi√≥ un problema, cuya fuente no establecimos de inmediato.  Por razones desconocidas entonces, las c√°maras web del proyector no mostraban las c√°maras web de los altavoces, sino solo el contenido mostrado.  Desafortunadamente, esto no fue muy agradable para el cliente interno, y comenzamos a profundizar.  Result√≥ que todo estaba conectado con el hecho de que, de hecho, ten√≠amos dos pantallas (un proyector y una pantalla de computadora port√°til), y en la configuraci√≥n de Zoom Rooms hay un enlace r√≠gido con la cantidad de pantallas.  Como resultado, las c√°maras web de los participantes se mostraban en la pantalla de la computadora port√°til, es decir, en el escritorio virtual donde se lanz√≥ Zoom Rooms, por lo que no las vimos.  No hay forma de cambiar esto, por lo que nos vimos obligados a abandonar esta decisi√≥n.  Este es un fiasco. <br><br><h3>  ¬°Abajo la captura de video! </h3><br>  El mismo d√≠a, decidimos intentar abandonar la tarjeta de captura de video (y finalmente lo hicimos por completo) y configurar el proyector en el modo "Repetir pantalla" para que el host determine solo una pantalla, seg√∫n lo necesit√°bamos.  Cuando todo estuvo configurado, una nueva transmisi√≥n de prueba fue ... <br><br><img src="https://habrastorage.org/webt/vx/mg/_2/vxmg_2i_lrwefis54eugschtp2e.png"><br><br>  Todo funcion√≥ como deber√≠a.  Todos los participantes de la conferencia eran visibles en el proyector (probado por cuatro), el sonido era excelente, la imagen era buena.  "¬°Esto es una victoria!"  - Pensamos, pero la realidad, como siempre, est√° golpeando sigilosamente.  Nuestra √∫ltima computadora port√°til Core-i7 de octava generaci√≥n con una tarjeta gr√°fica discreta y 16 gigabytes de RAM comenz√≥ a ahogarse despu√©s de 30 minutos de prueba de √©ter.  El procesador simplemente no pudo hacer frente a la carga, funcion√≥ al 100% y, como resultado, se sobrecalent√≥.  As√≠ que nos enfrentamos a la aceleraci√≥n del procesador, lo que eventualmente result√≥ en una dispersi√≥n de im√°genes y sonido.  La presentaci√≥n de que en la pantalla del proyector, que en YouTube, se convirti√≥ en una mezcla de p√≠xeles, y que no quedaba absolutamente nada del sonido, era imposible distinguirlo.  Entonces nuestra primera victoria fue otro fiasco.  Adem√°s, ya pensamos si ensamblar un escritorio de streamer completo para nosotros o hacer lo que tenemos. <br><br><h3>  Nuevo aliento </h3><br>  Pensamos que construir un escritorio no es una soluci√≥n que nos gustar√≠a aplicar: es costoso, ocupa mucho espacio (es necesario mantener un escritorio completo en lugar de una mesita de noche compacta), y en caso de un apag√≥n lo perdemos todo.  Pero para entonces, nuestras ideas sobre c√≥mo hacer que todo funcionara en conjunto estaban casi agotadas.  Y luego decidimos volver a la soluci√≥n anterior y finalizarla.  En lugar de transferir el anfitri√≥n, decidimos intentar hacer un participante de pleno derecho en la conferencia desde nuestra computadora port√°til con nuestros micr√≥fonos y cuenta.  Nuevamente, se hizo una ilustraci√≥n para comprender lo que estaba sucediendo en general. <br><br><img src="https://habrastorage.org/webt/ua/i9/c6/uai9c6pw1lvgedw0ejsbe4ccxms.png"><br><br>  Debo decir de inmediato que esta decisi√≥n result√≥ ser exactamente la que necesit√°bamos. <br><br>  El host trabaj√≥ en el NUC y solo lo carg√≥, y la computadora port√°til con el cliente solo carg√≥ Xsplit (los experimentos anteriores han demostrado que lo tira perfectamente).  En esta soluci√≥n, Zoom Rooms tiene las siguientes ventajas sobre la conexi√≥n por cable convencional: <br><br><ol><li>  La visualizaci√≥n del contenido en el lienzo a trav√©s de Zoom Rooms se controla convenientemente utilizando la tableta host.  Comenzar, finalizar y administrar una conferencia o reuni√≥n es mucho m√°s conveniente desde la pantalla de la tableta que realizar una determinada secuencia de acciones para tomar el control de la reuni√≥n. </li><li>  Para conectarnos a la sala, siempre tenemos un enlace: esta es la ID de la reuni√≥n, por la cual todos los participantes se conectan, no es necesario que se env√≠e a todos personalmente, ya que los anuncios de transmisi√≥n en el mensajero corporativo siempre contienen este enlace. </li><li>  Tener una cuenta Zoom premium para el anfitri√≥n de una sala es muchas veces m√°s rentable que entregarlo personalmente a cada empleado de la oficina que utilizar√° el sistema de videoconferencia. </li><li>  Dado que el host y la computadora port√°til necesarios para las transmisiones ya no est√°n conectados entre s√≠, podemos decir que tenemos un sistema tolerante a fallas: cuando desconecta un dispositivo, podemos restaurar la transmisi√≥n sin detener la conferencia.  Por ejemplo, si una computadora port√°til con transmisiones falla, entonces, usando la tableta, comenzamos a grabar la reuni√≥n en la nube;  si el NUC cae, entonces ni la conferencia ni la transmisi√≥n terminan, simplemente cambie el proyector del NUC al port√°til conectado a Zoom y contin√∫e mirando. </li><li>  Los invitados a menudo vienen a la oficina con sus dispositivos y presentaciones.  En esta soluci√≥n, logramos evitar problemas eternos al conectarse a la pantalla por cable: el invitado solo necesita seguir nuestro enlace y autom√°ticamente se convertir√° en un participante de la reuni√≥n.  Sin embargo, no necesita descargar la aplicaci√≥n, todo funciona bien a trav√©s del navegador. </li></ol><br>  Adem√°s, es muy conveniente para nosotros controlar la imagen en YouTube, ya que podemos cambiar su tama√±o, cambiar el enfoque del contenido a la c√°mara web, etc.  Esta opci√≥n result√≥ ser ideal para nosotros, y es precisamente esto lo que finalmente utilizamos hasta el d√≠a de hoy. <br><br><h3>  Conclusi√≥n </h3><br>  Tal vez succionamos el problema con el dedo y la soluci√≥n correcta yace en la superficie o a√∫n permanece, pero a√∫n no lo vemos, pero lo que tenemos hoy es la base que queremos desarrollar m√°s.  Es posible que alg√∫n d√≠a abandonemos Zoom en favor de una soluci√≥n m√°s conveniente y de alta calidad, pero no lo ser√° hoy.  Hoy, nos complace que nuestra soluci√≥n funcione, y todos los empleados han cambiado a usar Zoom.  Fue una experiencia muy interesante, que quer√≠amos compartir, y nos alegrar√° saber c√≥mo nuestros colegas en el taller resolvieron problemas similares utilizando otras herramientas. ¬°Escriba en los comentarios! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/473374/">https://habr.com/ru/post/473374/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../473362/index.html">Experiencia GSoC: c√≥mo dos (tres) estudiantes mejoraron realmente el c√≥digo CRIU</a></li>
<li><a href="../473364/index.html">Hay un gobio que oscila: una lista de verificaci√≥n para el comercio electr√≥nico en la temporada de ventas</a></li>
<li><a href="../473366/index.html">¬øQu√© hay en mi televisi√≥n inteligente para ti? ¬øO qu√© se puede meter en la televisi√≥n?</a></li>
<li><a href="../473368/index.html">MIRO es una plataforma abierta de robot de interior. Parte 3 - Componente de software: ESP8266</a></li>
<li><a href="../473372/index.html">Crear un servicio de seguimiento de llamadas simple, parte 1</a></li>
<li><a href="../473376/index.html">La documentaci√≥n sobre Windows 10X se filtr√≥ a la red: una nueva versi√≥n del sistema operativo para dispositivos con dos pantallas</a></li>
<li><a href="../473378/index.html">Acuerdos de licencia de malware</a></li>
<li><a href="../473380/index.html">4. Prueba de carga Check Point Maestro</a></li>
<li><a href="../473384/index.html">3DToday Fest: c√≥mo fue (ser√°). Impresiones de miembros</a></li>
<li><a href="../473390/index.html">FDM est√° vivo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>