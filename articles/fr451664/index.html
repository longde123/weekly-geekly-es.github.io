<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⛎ ☝🏾 👎🏽 Comparaison des codecs magiques de rue. Révéler les secrets ♨️ 👨🏽‍🎤 🙌🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cette année marque l'anniversaire - 16 ans depuis le lancement du site Web compression.ru, où l'auteur et ses associés organisent des comparaisons de ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comparaison des codecs magiques de rue. Révéler les secrets</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/451664/"><img src="https://habrastorage.org/webt/cf/qr/em/cfqrems_svzniipdihzqjse9x8w.png"><br><br>  Cette année marque l'anniversaire - 16 ans depuis le lancement du site Web compression.ru, où l'auteur et ses associés organisent des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">comparaisons de codecs vidéo</a> et d'encodeurs d'images.  Pendant ce temps, des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dizaines de comparaisons</a> ont été faites <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">avec des rapports de 23 à 550+ pages</a> , le nombre de graphiques dans la dernière comparaison a dépassé 7000 et le nombre de cas enchanteurs différents pendant cette période a finalement dépassé toutes les limites raisonnables.  Puisque la prochaine date ronde (32 ans) viendra bientôt, il y a une envie de raconter un peu d'enchantement en l'honneur de l'anniversaire. <br><br>  Si nous parlons de codecs, ce n'est un secret pour personne que la plupart des comparaisons et des graphiques que le public le plus respecté voit sont des produits du service marketing.  Dans le meilleur des cas, les ingénieurs ont fait les graphiques avec compétence et le marketing n'a donné le feu vert qu'à la publication.  Dans le pire des cas, les ingénieurs n'ont pas du tout participé à leur préparation.  <s>Pourquoi perdre du temps sur ces gens occupés!</s> <br><br>  Dans le même temps, le sujet de la compression est très populaire.  Dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">la série Silicon Valley,</a> la start-up du protagoniste a développé un algorithme ingénieux qui, dans le dernier épisode de la première saison, a montré une compression <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vidéo 3D</a> incroyable et, par conséquent, des millions de startups (et investisseurs) dans le monde savent que l'essentiel est d'avoir un coefficient Weissman plus grand et plus encore le génie doit être trouvé, et le reste est des conneries.  Le miracle sera!  Cela augmente naturellement l'attente des miracles et, bien sûr (bien sûr!) Ces miracles sont joyeusement démontrés par les entreprises!  Y compris en utilisant les dernières réalisations de la magie de la rue. <br><br>  <b><font color="#ff0000">AVERTISSEMENT: Toute coïncidence des noms des sociétés ci-dessous avec des noms réels est absolument aléatoire.</font></b> <br><br>  Asseyez-vous!  Nous vous promettons qu'à la fin de l'histoire, vous serez en mesure de montrer ces astuces vous-même, comme, cependant, et d'en révéler beaucoup.  C'est parti! <br><a name="habracut"></a><br><br><h2>  Niveau 1, astuces pour débutants </h2><br>  Commençons par les plus simples, car, curieusement, ces méthodes sont intégrées dans une Silicon Valley moderne (pas sérielle, mais réelle!). <br><br>  <i>Alors, le public le plus respecté, commence des tours avec une démonstration de compression ultra-forte!</i> <i><br><br><img src="https://habrastorage.org/getpro/habr/post_images/160/24d/ed2/16024ded279944b894b2b04da7f16295.png"></i> <br><br>  Certes, beaucoup ont vu des comparaisons dynamiques similaires <s>avec des chats discrets</s> basées sur JS dans les pages.  Si la compression est comparée, il est raisonnable que la qualité soit aussi égale que possible (idéalement exactement la même), et à droite, elle serait compressée 2 fois mieux, par exemple. <br><br>  Aussitôt dit, aussitôt fait! <br><br>  La société revendique une compression 30% supérieure (tous les matchs sont aléatoires!).  Et les images sont exactement les mêmes!  Même un look professionnellement formé ne trouve pas de différences.  Il y a un désir de regarder plus en détail.  Nous montons dans le code de la page et voyons que le curseur pour les première et deuxième images prend les données d'un fichier!  Nous obtenons des avantages de plusieurs façons à la fois: premièrement, le meilleur résultat est idéalement démontré, deuxièmement, l'ingénieur n'a pas été distrait du travail, et enfin, cet endroit sur la page du site se charge deux fois plus vite.  <b>Profit solide !!!</b> <br><br>  <i>Le cas, ne le croyez pas, est réel.</i>  <i>Vous savez maintenant où chercher!</i> <br><br>  Dans un autre endroit - aussi un curseur et encore un merveilleux résultat.  Nous examinons le code du curseur - différents fichiers sont chargés.  Enseigné par une expérience amère, téléchargez-les - ils ne sont pas seulement à un octet de la même taille, ils correspondent peu à peu!  En général, tous les avantages de la méthode précédente, mais la mise au point est un peu plus compliquée, bien qu'en raison du ralentissement du chargement des pages (il faut tout payer ...).  Et, plus important encore, vous n'avez pas besoin d'attirer des spécialistes coûteux en compression. <br><br>  Cependant, les spécialistes du marketing plus avancés à ce niveau vont encore plus loin.  Le curseur est disposé - vous regardez - les images sont différentes, mais la qualité est très similaire.  Bon ok.  Encore plus!  Une ouverture fantastique est démontrée - il y a même des liens vers des fichiers vidéo.  Le téléchargement est un très bon avantage de leur méthode, on ne sait même pas comment ils l'ont fait.  Il est utile que nous soyons tous des pirates informatiques entièrement russes (déjà une marque en Occident).  Nous regardons le train de bits et voyons une merveilleuse image: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ca5/f58/b9a/ca5f58b9aa1fbcaa9b9e81b1576020d2.png"></div><br>  Autrement dit, même de nombreux experts, s'ils ne creusent pas profondément et ne revérifient pas, confirmeront en effet que les gens ont un excellent résultat qui est environ le double de la taille du leader d'aujourd'hui avec une qualité comparable.  Vous ne croirez pas que de telles méthodes sont utilisées pour elles-mêmes et même dans certains cas vous permettent d'obtenir des dizaines de millions de dollars d'investissement. <br><br>  <i>Je me souviens d'une rencontre avec une startup russe il y a 6 ans.</i>  <i>Leur directeur a dit dès la porte: «Vous devez faire de notre mieux pour nous.</i>  <i>Nous avons des investisseurs de Severstal et, si quoi que ce soit, des gars rasés par le sport avec des fers à souder viendront à vous. »Comme vous le savez, dans des conditions aussi difficiles, la qualité du travail de recherche augmente comme par magie et le nombre de tours de différents niveaux diminue ... travailler avec de tels cas dans notre patrie d'éléphants, il y a un sentiment irrésistible de pitié pour les investisseurs occidentaux.</i>  <i>Certes, tous nos investisseurs ne sont pas aussi purement spécifiques, et leurs magiciens sont aussi chez nos Palestiniens.</i>  <i>Et régulièrement.</i>  <i>Mais à ce sujet une autre fois ...</i> <br><br><h2>  Résonance de niveau 7 </h2><br>  Cette histoire n'est pas sur un codec vidéo, mais sur la compression d'image, mais il y en avait beaucoup selon toutes les lois du genre des «trucs honnêtes». <br><br>  D'une manière ou d'une autre, une entreprise assez bien connue M a décidé qu'elle devait ajouter Windows Media Photo (WMP) à leurs formats Windows Media Video (WMV) et Windows Media Audio (WMA).  Nettoyez pour le kit, comme vous le comprenez. <br><br>  <i>Jeune homme à la galerie!</i>  <i>Eh bien, ne criez pas si fort, ce n’est pas seulement un de vous!</i>  <i>Personnes cultivées (regardez au premier rang) maximum - souriant sciemment dans une moustache ...</i> <br><br>  Aussitôt dit, aussitôt fait! <br><br>  Ensuite, surveillez attentivement les mains: <br><img src="https://habrastorage.org/getpro/habr/post_images/f7d/a54/ecf/f7da54ecf22620640daed4ad80cebfd2.png"><br><br>  C'est-à-dire  WMP a plus de détails que JPEG et JPEG 2000 au même niveau de compression (JPEG et JPEG 2000 sont doucement égalisés et le niveau est réglé 24 fois), et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dans le paragraphe suivant</a> : <br><img src="https://habrastorage.org/getpro/habr/post_images/5c4/3ca/3b6/5c43ca3b6f7f8f21245c3c0c2fad4c4a.png"><img src="https://habrastorage.org/getpro/habr/post_images/547/d95/10d/547d9510d1d57dc45709ed07214d37c0.png"><br><br>  C'est-à-dire  habituellement seulement 6 fois presser, et c'était 24. Wow, ça sent trois fois!  En général, nous sommes mieux 2 fois à coup sûr.  Les médias ont transmis la bonne nouvelle aux masses (certains ont écrit qu'elle était 2 fois meilleure que JPEG 2000), même <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur Habré ils ont répété cette nouvelle</a> . <br><br>  Un peu plus tard, un graphique est apparu à partir de cette présentation: <br><div style="text-align:center;"><img width="75%" src="https://habrastorage.org/getpro/habr/post_images/4e2/14d/be8/4e214dbe8f0f2a0e8a18c78bdbb432c1.png"></div><br><br><div class="spoiler">  <b class="spoiler_title">Comment interpréter de tels graphiques?</b> <div class="spoiler_text"><div style="text-align:center;"><img width="75%" src="https://habrastorage.org/getpro/habr/post_images/698/a99/6be/698a996be23d64bac98b77669dea5cbc.png"></div><br>  La verticale est généralement de qualité (certaines des mesures en fonction du mode à ce moment), horizontale - d'une manière ou d'une autre - de la taille.  Habituellement, avec l'augmentation de la taille, la qualité augmente (bien qu'en pratique, tout se passe).  Sur la même ligne (rouge horizontal), on peut estimer que le codec "violet" perd environ 2 fois la taille du "bleu" avec la même qualité dans cette gamme de débits. <br></div></div><br><br>  L'avantage par rapport à JPEG 2000 était faible, malgré le fait qu'ils aient évidemment sélectionné la meilleure photo avec un garçon et des dauphins merveilleux.  Nous avions hâte de jouer avec cet encodeur.  Après environ six mois, l'utilitaire de compression a été présenté. <br><br>  À ce moment-là, nous avions il y a à peine un an une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">comparaison de 9 implémentations de JPEG 2000</a> <br><br>  <i>Oui, oui, oui!</i>  <i>Comme tous les yaourts ne sont pas également utiles, toutes les implémentations de la norme ne sont pas également bonnes.</i>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">La norme</a> ne stipule qu'un flux binaire, qui peut être mis en données (et, soit dit en passant, supprimé!) De manière très différente, cela crée un marché de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">codec</a> séparé avec sa concurrence féroce pour une bonne douzaine de paramètres.</i>  <i>Un peuple simple, en règle générale, ne le sait pas, ce qui lui permet de rouler sur ses oreilles en toute impunité pratiquement sur un bulldozer ("Notre DVR prend en charge le dernier H.265 / HEVC, personne d'autre ne l'a!").</i>  <i>Et personne (personne!) Est TRÈS probable d'une configuration.</i> <br><br>  Nous avons heureusement inséré 3 lignes pour WMP dans le rapport précédent.  Il s'est avéré en quelque sorte comme ceci: <br><div style="text-align:center;"><img width="75%" src="https://habrastorage.org/getpro/habr/post_images/d26/a37/663/d26a3766375fe7cb586d311052ea3004.png"></div><br>  On peut voir que les lignes des implémentations JPEG 2000 sont assez encombrées et en bleu gras (la meilleure implémentation WMP) a des résultats quelque part entre les deux, c'est-à-dire  LECTURES JPEG 2000. Si vous prenez JASPER comme zéro et que vous montrez tout verticalement par rapport à lui, alors vous pouvez voir que WMP avec le pire paramètre perd presque tout sauf les deux derniers (l'un d'eux est KDU, rappelez-vous ceci), et avec le meilleur il est quelque part centré, perdant face à de nombreuses implémentations: <br><div style="text-align:center;"><img width="75%" src="https://habrastorage.org/getpro/habr/post_images/872/3df/41a/8723df41ac59b0938bb45af01b2ab80e.png"></div><br>  Étant donné que la comparaison a été publiée publiquement et a provoqué des remous dans des cercles étroits, le développeur y a même répondu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur le blog officiel</a> .  La note était polie: elle a été louée, critiquée, puis, si vous parcourez le texte, l'homme a franchement admis avoir utilisé la pire mise en œuvre de JPEG 2000 de notre comparaison (publiée six mois auparavant) dans leur comparaison, bien que "complètement par accident".  Bien sûr, nous les croirons.  Une entreprise respectée et tout ça. <br><br>  De plus, le nom de la technologie est passé de WMP à HD Photo, mais le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">verdict suivant</a> est resté sur le réseau: <br><img src="https://habrastorage.org/getpro/habr/post_images/03c/3bb/47a/03c3bb47a18b7628ec97797cc9c718c3.png"><br>  Comme une cerise sur un gâteau.  Nos collègues sont allés plus loin: ont pris plus de photos et montré que HD Photo lit non seulement JPEG 2000, mais aussi une bonne implémentation JPEG ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dans 7 cas sur 14</a> ).  Et perd spécifiquement.  Il y a des raisons de croire qu'ils ont récupéré les photos, mais ils ont franchement enterré HDPhoto, car qui a besoin d'un format qui joue la moitié du temps l'ancien JPEG - ce n'est pas clair: <br><div style="text-align:center;"><img width="75%" src="https://habrastorage.org/getpro/habr/post_images/133/5b1/5ac/1335b15ac516afcd8d2a4ef46905adab.png"></div><br><br>  Total des secrets de cette astuce: <br><ul><li>  Nous prenons la pire mise en œuvre du principal concurrent, comparez-la. <br></li><li>  Nous créons un battage publicitaire (dans le style de "nous avons dépassé tout le monde"). <br></li><li>  Lorsque le battage médiatique s'estompe à l'arrière-plan, nous libérons et espérons que personne ne vérifiera ce qui était vraiment là. <br></li></ul><br>  <i>Les enfants!</i>  <i>Ne faites jamais cela et ne trompez pas les autres!</i>  <i>Votre entreprise pourrait perdre des millions de dollars et la confiance de spécialistes.</i> <br><br><h2>  Niveau 10, frais!  Avec les réseaux de neurones! </h2><br>  En général, il y a beaucoup de tels cas.  Même en Russie, je rencontre des situations similaires environ deux fois par an (des informations nous parviennent, comme pour les propriétaires de compression.ru).  Les investisseurs occidentaux sont élevés environ une fois par mois.  Et maintenant, la Chine s'est également connectée à ce divertissement.  La puissance des ordinateurs augmente, la complexité et les capacités des algorithmes aussi.  Comprendre cela devient de plus en plus difficile.  En conséquence, le plaisir violent continue! <br><br>  Récemment, les réseaux de neurones sont devenus très populaires.  Absolument tout ce qu'ils touchent s'améliore comme par magie.  Mais ne les appliquez pas à la compression vidéo? <br><br>  Aussitôt dit, aussitôt fait! <br><br>  En novembre dernier, une autre bonne nouvelle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">du Wall Street Journal lui-même a fait le</a> tour du monde.  Créé un codec vidéo basé sur l'apprentissage automatique qui a déchiré tout le monde!  En voici la preuve: <br><div style="text-align:center;"><img width="75%" src="https://habrastorage.org/getpro/habr/post_images/b94/088/dbb/b94088dbb1df5202c298e7caa7397eb5.png"></div><br>  <i>En général, je suis personnellement extrêmement sceptique sur toutes les nouvelles avec la mention des réseaux de neurones.</i>  <i>Et je vous conseille (SURTOUT si vous êtes un investisseur).</i>  <i>Les réseaux de neurones sont organisés de manière à ce que la sélection correcte d'un échantillon d'entraînement pour un test puisse afficher n'importe quel résultat (pour le terne - TOUT!).</i>  <i>Les réseaux de neurones sont un outil idéal pour lancer un flux de merveilles marketing.</i>  <i>L'un est plus merveilleux que l'autre!</i> <br><br>  En général, il y a un horaire, il y a des photos.  D'accord - de manière convaincante.  Surtout pour les sceptiques, les messieurs ont apporté quelques graphiques supplémentaires sur des ensembles de test bien connus: <br><img width="75%" src="https://habrastorage.org/getpro/habr/post_images/dee/4e1/640/dee4e1640e8e11ce84fb4963ea5a1805.png"><br><img width="75%" src="https://habrastorage.org/getpro/habr/post_images/0e1/928/dab/0e1928dab2d19e3e19c0265a4a75f949.png"><br>  Cependant, si le graphique précédent avec des images pour moi personnellement était en quelque sorte explicable (il est toujours possible d'affiner une vidéo et même avec des réseaux de neurones profonds), alors ces deux graphiques m'ont rendu très alerte. <br><br>  <i>Rien ne vous dérange en eux?</i> <br><div class="spoiler">  <b class="spoiler_title">La réponse</b> <div class="spoiler_text">  Il en résulte que pendant dix ans, de l'adoption de la norme H.264 à l'adoption de H.265, aucun développement particulier de codecs n'a eu lieu!  Ces stupides chercheurs ont piétiné pendant 10 ans et ont créé des codecs plus lents qui compressent les mêmes !!!  La différence est de 20% maximum, voire moins !!!  8- \ </div></div><br>  Ils mettent même la base en dessous, comme les codecs classiques reposaient sur la limite et ne sont pas particulièrement évolutifs (et ici ils montent sur scène, tout en blanc).  Et vous savez, un mensonge aussi flagrant fonctionne très bien!  Et d'accord, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"The Wall Street Journal"</a> - ils (je voudrais croire) ne comprennent que les finances, d'accord <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"MIT Technology Review"</a> - ces messieurs prennent le mot pour les messieurs de la Silicon Valley, mais une ressource aussi respectée que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Habr a</a> pris les nouvelles sans critique - Je vais le faire!  Que puis-je dire à propos de la réimpression massive des nouvelles ... <br><br>  En réalité, l'image du développement du codec, heureusement, est sensiblement différente.  Tout d'abord, dans le graphique ci-dessous, que nous avons construit <b><i>sur le même</i></b> ensemble de vidéos xiph, nous pouvons voir que H.265 est de 25 à 31% meilleur que H.264.  C'est-à-dire  10 ans de développement de codecs n'ont pas été vains!  ( <i>Uff, il s'est relâché du fond du cœur ...</i> ) Deuxièmement, le nouveau AV1 montre une amélioration presque double par rapport au H.264, et le pas de son avantage, franchement, est très perceptible: <br><div style="text-align:center;"><img width="75%" src="https://habrastorage.org/getpro/habr/post_images/669/483/9f5/6694839f57118c38b289c5f8dbbe0fc0.png"></div><br><br>  En conséquence, on peut voir à l'œil nu que si vous superposez le graphique AV1 à 45% à gauche de H.264 sur le graphique des auteurs, il couvrira le nouveau codec comme ... [découpé par censure].  Couvre bien, bref.  Par conséquent, ils «ont oublié» de se comparer à lui.  L'alignement réel ressemble à ceci (beaucoup moins de monde, d'accord): <br><div style="text-align:center;"><img width="75%" src="https://habrastorage.org/getpro/habr/post_images/720/f71/3d6/720f713d6b6fc7d36a8bb9f01451b825.png"></div><br>  Pour être clair - les codecs ont des préréglages standard qui vous permettent de faire varier la vitesse dans une plage considérable (souvent des dizaines de fois), mais en même temps d'obtenir une compression plus élevée avec la même qualité (souvent plus de 2 fois).  À x265 (une très bonne implémentation open-source de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">norme HEVC</a> ), ils sont appelés: ultra-rapide, ultra-rapide, très rapide, plus rapide, rapide, moyen, lent, plus lent, très lent, placebo.  Si nous prenons moyen pour 1, puis en vitesse et taille de fichier avec la même qualité, ils peuvent être localisés pour un fichier particulier, par exemple, comme dans le graphique ci-dessous.  Nous pouvons dire que relativement moyen, vous pouvez agrandir ou réduire le fichier de 40%, en variant la vitesse de 10 fois: <br><div style="text-align:center;"><img width="75%" src="https://habrastorage.org/getpro/habr/post_images/faa/e6d/5cc/faae6d5cc5349d82c1f963c68c01dd9b.png"></div>  Notez que pour certaines vidéos, les options standard ne vont pas nécessairement de façon monotone (dans ce cas, en qualité).  De plus, parfois les options «non standard» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">peuvent donner un gros gain de taille</a> , en particulier, en utilisant l'exemple ci-dessus, ayant perdu 20% de vitesse par rapport au moyen, vous pouvez jouer 30% en taille - presque comme passer au niveau suivant standard, mais avec la faible complexité précédente décodeur.  Mais c'est déjà un niveau plus complexe, à ce sujet une autre fois. <br><br>  Comme vous pouvez facilement le voir ci-dessus, les messieurs ont pris pour comparaison "plus lentement".  C'est bien que ce ne soit pas «très rapide», car vous pourriez l'avoir!  ) Et peu importe que leur codec lui-même soit incroyablement lent.  Pour la plupart, les personnes qui regardent un graphique ne se souviennent pas que la vitesse du codec peut différer <i>de quelques ordres en</i> fonction des paramètres.  Par conséquent, cette technique roule complètement.  Bien que sur notre graphique ci-dessus ("Bitrate / qualité ..."), leur faisceau de lignes était dans la zone rouge (ce qui est le pire).  Dans le même temps, justifier le piétinement sur place dans le développement des codecs.  Ouais ouais <br><br>  Il y a des manipulations plus subtiles, par exemple, messieurs écrivent: «Pour supprimer les cadres B, nous utilisons H.264 / 5 avec l'option bframes = 0, VP9 avec -auto-alt-ref 0 -lag-in-frames 0, et utilisez le profil main.cfg P lowdelay de l'encodeur HM. »  Autrement dit, ils ne pouvaient pas battre les codecs habituels dans une concurrence loyale et ont choisi le mode à faible latence à faible latence, qui est généralement utilisé pour le temps réel, par exemple, pour la vidéoconférence.  Les résultats du codec sont bien sûr pires.  Dans le même temps, leur décodeur (silencieux sur l'encodeur) fonctionne 2 secondes par image, c'est-à-dire que vous ne pouvez même pas parler de faible latence.  Mais quelques pour cent ont joué. <br><br>  Ce ne sont pas toutes les astuces qui ont été utilisées par les startups gentlemen, mais l'image est déjà claire. <br><br>  Il est clair que pour que la mise au point semble crédible, des touches supplémentaires sont nécessaires pour donner du réalisme.  Par exemple, ces messieurs ont publié un article sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://arxiv.org/abs/1811.06981</a> .  Aujourd'hui, le développement d'algorithmes est si rapide qu'il devient insupportable d'attendre qu'un article soit publié dans une revue, c'est pourquoi de nombreux auteurs forts publient d'abord les résultats sur arxiv.org.  Pour les magiciens de rue, ce site est pratique en ce sens que vous pouvez y placer absolument n'importe quel matériel - contrairement aux magazines et conférences évalués par des pairs, personne ne posera de questions désagréables et coupera la publication (il n'y a pas de tuer les critiques de lieux sérieux).  Mais le grand public ne sait pas que, par exemple, le 1er avril, il était de coutume de publier diverses parodies d'articles scientifiques sur arxiv.org, y compris de le ridiculiser en tant que site de publication, donc pour le grand public, la publication semble être encore solide. <br><br>  Allez-y.  Un article à leur sujet était intitulé « <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le premier codec vidéo de l'apprentissage automatique a considérablement dépassé tous les codecs existants, y compris H.265 et VP9».</a>  Une autre blague est que l'apprentissage automatique en compression n'est pas seulement exploré activement, auquel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">les pistes de conférence individuelles sont</a> déjà dédiées (c'est-à-dire qu'il y a <i>beaucoup d'articles</i> ), mais il est également activement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">utilisé, par exemple, dans AV1</a> (je fournis spécifiquement une demande Google).  Mais, s'ils disaient honnêtement: "Nous avons publié le deuxième codec en utilisant l'apprentissage automatique, tout en perdant le premier en vitesse et en compression", le Wall Street Journal n'aurait peut-être pas écrit à leur sujet ... Et MIT TechReview n'aurait pas écrit ... Et même Habr ... Evidemment, n'ayant pas enduré ce dernier, la compagnie a <i>légèrement</i> ajusté le pitch.  Dans le même temps, une caractéristique de l'Internet moderne est que les gens ne vérifient pas les informations, ce qui permet à beaucoup de se proclamer les premiers à plusieurs (à commencer par des entreprises bien connues).  L'insolence, comme vous le savez, prend la ville!  Une vérification des faits n'est pas à la mode. <br><br>  <i>- Googlé!</i> <i><br></i>  <i>- C'est comme ça?</i> <i><br></i>  <i>[exemple de demande donné ci-dessus)))]</i> <br><br>  Et aussi à propos de ML / DL.  Dans un passé lointain, lorsque les disquettes étaient grandes et les disques durs petits, l'une des méthodes de «magie de rue pour les archiveurs» consistait à enregistrer une partie du fichier compressé quelque part loin dans un répertoire contenant des fichiers temporaires et ainsi afficher un enregistrement.  Depuis lors, les temps ont changé.  Les Winchesters ont grandi, les disquettes ont complètement disparu et il est devenu à la mode de cacher des données dans les profondeurs de plusieurs centaines de mégaoctets de coefficients de grille.  Vous pouvez enregistrer la "marque de copyright" dans la grille, vous pouvez enregistrer l'œuf de Pâques, ou vous pouvez définir un faux enregistrement de compression.  Réseaux de neurones profonds - définitivement de la puissance, en bref! <br><br>  Résumant ce chemin vers le succès: <br><ul><li>  Nous ignorons le leader moderne comme s'il n'existait pas du tout. <br></li><li>  Nous formulons soigneusement tout pour qu'il se lise comme si nous étions les premiers à utiliser une nouvelle technologie (et même si le leader a fait le premier, personne ne vérifiera). <br></li><li>  Pour les normes il y a 5 et 15 ans, nous fermons les poignées pour qu'elles fonctionnent moins bien que nous. <br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Plus d'arrogance - nous justifions le fait qu'ils se sont entassés derrière nous pour qu'ils reposent sur la limite et ne se développent plus. </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nous sommes publiés dans le Wall Street Journal et sur Habr ... </font></font><br></li></ul><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et ... (roulement de tambour!) ... ils vous donnent encore quelques millions de dollars! </font><font style="vertical-align: inherit;">Ou ils ne donnent pas ... Je ne donnerais pas ... Investisseurs! </font><font style="vertical-align: inherit;">Ne dors pas! </font><font style="vertical-align: inherit;">Et puis encore vous soufflerez dans l'eau ...</font></font></i> <br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Et maintenant la master class! </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comme je l'ai promis ci-dessus, à la fin de ce texte, vous pouvez facilement briller sur la scène du pikabu conditionnel. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maintenant, O public le plus respecté, je vais vous montrer une astuce qui vous permet de comparer n'importe quoi avec n'importe quoi à n'importe quel résultat prédéterminé.</font></font></i>  <i>C'est-à-dire</i> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">si vous voulez que le codec A soit meilleur que le codec B, alors nous allons le montrer, si vous voulez que B soit meilleur que A, eh bien, nous pouvons le montrer. Nous remplirons n'importe quel caprice du service marketing </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour votre argent</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gratuitement!</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vérifions comment ces codecs pressent. Comme on dit - ne faites confiance à personne, vérifiez-le vous-même. Et puis, peut-être la vérité est, ces normes ne se développent pas et nous sommes tout simplement dupes, forçant en vain à payer l'argent gagné par le surmenage, on ne sait pas pourquoi?</font></font><br><br>  «‎»‎   480p24     x264 c  "-preset superfast -x264-params «nal-hrd=cbr» -b:v 1M -minrate 1M -maxrate 1M -bufsize 2M"   xvid   "-preset superfast -b:v 1M -minrate 1M -maxrate 1M -bufsize 2M" (   open-source   H.264  MPEG-4).         . <br><br>        : <br> avatar_x264_cbr1M_superfast.mkv — 1402 MB <br> avatar_xvid_cbr1M_superfast.mkv — 1401 MB <br><br> <i> ,   !    !!!</i> <br><br> ,     : <br><img width="50%" src="https://habrastorage.org/getpro/habr/post_images/333/cb0/a85/333cb0a85d929aee14267c52daf88261.png"><img width="50%" src="https://habrastorage.org/getpro/habr/post_images/bd8/13b/243/bd813b2436a77e56628f44a416e85a3a.png"><br><br>   : <br><img width="50%" src="https://habrastorage.org/getpro/habr/post_images/08d/9e4/a6d/08d9e4a6d585e69efe7fae22118bad06.png"><img width="50%" src="https://habrastorage.org/getpro/habr/post_images/1fc/f37/d2d/1fcf37d2d45986f6e36259ebc1dd3e43.png"><br> <i> !    ? <br><img width="50%" src="https://habrastorage.org/getpro/habr/post_images/a51/ceb/2ab/a51ceb2ab0905dcebe7a58e0cd744f41.png"><img width="50%" src="https://habrastorage.org/getpro/habr/post_images/de6/1e2/8ed/de61e28ed4a63094c5bd2dfb0393fb2b.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D'accord! Le progrès est clair et inexorable! Tout se développe et s'améliore de plus en plus! Et la vie</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plus belle et plus amusante! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bien que ... </font></font><br><br><img width="50%" src="https://habrastorage.org/getpro/habr/post_images/293/e52/598/293e52598e14e1b1b62f3a9ceab12f9f.png"><img width="50%" src="https://habrastorage.org/getpro/habr/post_images/556/62a/b48/55662ab486e914fbca85af43a1da2860.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dieu, qu'est-ce que c'est ??? La nouvelle norme a complètement fusionné ... Ahhh </font></font><br><br><img width="50%" src="https://habrastorage.org/getpro/habr/post_images/fb8/181/71c/fb818171cad436993ca5fb1be4f16dc8.png"><img width="50%" src="https://habrastorage.org/getpro/habr/post_images/889/137/425/889137425623b25d7f4fb92d67b40589.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">! Les gens! Sachez! Les entreprises vous trompent !!! Les codecs ne se développent pas depuis longtemps, mais ils vous disent que tout va bien! </font></font><br><br><img width="50%" src="https://habrastorage.org/getpro/habr/post_images/7e2/3a7/f4d/7e23a7f4df74d138098ffaf5f6caea61.png"><img width="50%" src="https://habrastorage.org/getpro/habr/post_images/02c/f0c/639/02cf0c639bdb1a2f337305c14ff86e9e.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voyez-vous Tout ce qu'ils ont appris en 10 ans, c'est d'éroder le bloc! Et ils le font tout simplement dégoûtant! Ça a empiré! Vous avez été mené par le nez toutes ces années !!!!!!! 11</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Et maintenant, nous allons voir comment le faire. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En fait, la trame complète ressemble à ceci: </font></font><br><img src="https://habrastorage.org/getpro/habr/post_images/6b3/545/17d/6b354517d00814640a78209d92c23be8.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lorsque le codec fonctionne, en particulier en mode débit binaire constant, la qualité de la trame fluctue beaucoup. Voici le début du film, par exemple - la qualité par la métrique classique</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PSNR</a> (  ,  , , ,    xvid   ): <br> <a href=""><img src="https://habrastorage.org/webt/_h/v_/jz/_hv_jzpjxj-ve3kkmalz2k17vo4.png"></a> <br> <i> </i> <br><br>       (  ,    ) —  ,         ,        +5 dB (PSNR  ,       ,   , ,  :            1.5 dB).     ,      20 dB: <br> <a href=""><img src="https://habrastorage.org/webt/ls/sn/be/lssnbevnse0hidehiryouacpxl4.png"></a> <br> <i> </i> <br><br> <i>  ,                 ,         (   )…        !</i> <br><br>     ,   10         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MSU VQMT</a> ,     3  — , -1  -2   , , 30         .  —   ! <br><br>  MPEG-4     ,      . <br><br> ,   : <br><ul><li>  ,        (,  CBR). <br></li><li>     2  (     ,       3 ) <br></li><li>  -  ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PSNR</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SSIM</a> ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">VMAF</a> ). <br></li><li>               . <br></li><li>  ,     : 3   —  ! <br></li></ul><br>  !        ! <br><br>   -,     ,  -  -  .   . <br><br> <i>  ,   ,        !   , ,   ...</i> <br><br><h2>  Au lieu d'une conclusion </h2><br>  Les moyens relativement simples de préparer du matériel de marketing «en sa faveur» dans les comparaisons de codecs et d'encodeurs ont été examinés ci-dessus.  Naturellement, dans la vraie vie, tout est plus compliqué.  Hélas, si vous allez plus loin, ce ne sera pas aussi excitant et sensiblement plus compliqué (ceux qui le souhaitent peuvent lire l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article et les commentaires ici</a> , par exemple). <br><br>  Et les gens sont généralement intéressés par des réponses simples.  La réponse la plus populaire dans Answers@Mail.ru à la question « <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Quel est le meilleur codec vidéo?» Est</a> «K-Lite Mega Codec Pack».  Et c'est vraiment la réponse la plus courte, la plus compréhensible et la plus précise pour le public de masse.  Et vous dites codecs, normes ... <br><br>  Mais plus il y a de gens, au moins au niveau moyen qui connaissent le sujet, moins les services marketing ou les start-ups impudentes vont faire sauter les oreilles des investisseurs aux oreilles.  Et la vie sera un peu meilleure. <br><br>  <i>Merci mesdames et messieurs!</i>  <i>Tout le monde - culture technique!</i> <br><br><div class="spoiler">  <b class="spoiler_title">Remerciements</b> <div class="spoiler_text">  Je remercie chaleureusement: <br><ul><li>  Laboratoire d'infographie VMK Université d'État de Moscou  MV Lomonosov pour sa contribution au développement de l'infographie en Russie et pas seulement <br></li><li>  nos collègues du groupe vidéo, dont Sergey Zvezdakov, Anastasia Antsiferova et Roman Kazantsev, dont les exemples sont utilisés ci-dessus, <br></li><li>  personnellement Konstantin Kozhemyakov, qui a fait beaucoup pour rendre cet article meilleur et plus visuel, <br></li><li>  et enfin, un grand merci à Sergey Lavrushkin, Yegor Sklyarov, Ivan Molodetsky, Evgeny Lyapustin, Dmitry Kulikov, Alexandra Anzina, Vitaly Lyudvichenko, Mikhail Erofeev et Georgy Osipov pour de nombreux commentaires et corrections utiles qui ont rendu ce texte bien meilleur! <br></li></ul></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr451664/">https://habr.com/ru/post/fr451664/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr451648/index.html">Comment avons-nous cherché un tourisme inhabituel en Russie et quel genre d'aventures se produisent généralement</a></li>
<li><a href="../fr451650/index.html">Partie I. Demandez à votre mère: comment communiquer avec les clients et confirmer l'exactitude de leur idée d'entreprise, si tout le monde est là?</a></li>
<li><a href="../fr451652/index.html">Partie II Demandez à votre mère: comment communiquer avec les clients et confirmer l'exactitude de leur idée d'entreprise, si tout le monde est là?</a></li>
<li><a href="../fr451654/index.html">Nouvel employé - mort ou vivant</a></li>
<li><a href="../fr451658/index.html">Non fiction. Que lire?</a></li>
<li><a href="../fr451666/index.html">Faire un compte à rebours dans Google Tables</a></li>
<li><a href="../fr451668/index.html">ACPI: ajout de périphériques sans recompilation du noyau</a></li>
<li><a href="../fr451670/index.html">Microcontrôleur virtuel 4 bits avec programmation à trois boutons et quatre commutateurs</a></li>
<li><a href="../fr451672/index.html">Le concept d'une tour préfabriquée avec un couvercle en dôme principalement pour les observations astronomiques</a></li>
<li><a href="../fr451674/index.html">Radio définie par logiciel - comment ça marche? Partie 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>