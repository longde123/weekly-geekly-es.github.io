<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😈 ⛺️ 🧕 UI测试：以不同的分辨率检查系统 🛐 🥃 🧞</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="在各种浏览器中以各种分辨率测试长Web表单不仅非常必要，而且第三次或第四次测试是非常无聊且集中的过程。 因此，这正是它本身要求自动化的领域。 这就是我们所做的。 

 在有关Habr的这篇文章中，我们将介绍我们使用量角器，Zalenium和Selenium-grid工具测试大屏幕的经验。 我们如何逐...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>UI测试：以不同的分辨率检查系统</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/true_engineering/blog/425647/"> 在各种浏览器中以各种分辨率测试长Web表单不仅非常必要，而且第三次或第四次测试是非常无聊且集中的过程。 因此，这正是它本身要求自动化的领域。 这就是我们所做的。 <br><br> 在有关Habr的这篇文章中，我们将介绍我们使用量角器，Zalenium和Selenium-grid工具测试大屏幕的经验。 我们如何逐步引入这些用于自动UI测试的工具，以及必须克服的困难。 <br><br><img src="https://habrastorage.org/webt/t0/ik/pi/t0ikpibqtt5stc-vmd8mm5ap7p0.jpeg"><br><a name="habracut"></a><br> 我们创建并维护一个拥有7,000名活跃用户的系统。 他们最常使用以下浏览器： <br><br><img src="https://habrastorage.org/webt/du/8h/qg/du8hqgm1ywysjlq_jnwovnu636m.png"><br><br> 以及以下屏幕分辨率： <br><br><img src="https://habrastorage.org/webt/yh/qo/65/yhqo65fklkp6alt-rooirdebj0c.png"><br><br> 每次发布新版本后，您都需要检查这些版本在这些浏览器和权限中的性能。 <br><br> 为了更好地理解UI测试在我们的情况下通常如何工作，请考虑一个简单的情况：测试密码恢复应用程序的功能。 因此，有两页。 在一个上，您需要指定一个用户名或邮件，其中一封信件将带有更改密码的链接。 发送完应用程序后，用户进入页面，确认一切顺利。 <br><br><img src="https://habrastorage.org/webt/ji/p2/1o/jip21ov8vewbempmrtgogko3lx4.png"><br>  <i>密码找回表</i> <br><br><img src="https://habrastorage.org/webt/1d/ce/-e/1dce-e0_bdinsyr_hlwidjceo6k.png"><br>  <i>成功提交申请后重定向到的页面</i> <br><br> 以简化形式测试此机制如下所示： <br><br><img src="https://habrastorage.org/webt/io/yh/zn/ioyhzno2ibl6ijdwxszbszy0qrk.png"><br><br> 与代码相同的脚本： <br><br><pre><code class="javascript hljs">it(<span class="hljs-string"><span class="hljs-string">'    '</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>): </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Promise</span></span></span><span class="hljs-function">&lt;</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">boolean</span></span></span><span class="hljs-function"> | </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">void</span></span></span><span class="hljs-function">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> browser.get(browser.baseUrl); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> element(by.name(<span class="hljs-string"><span class="hljs-string">'EmailOrLogin'</span></span>)).sendKeys(userLogin); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> element(by.buttonText(<span class="hljs-string"><span class="hljs-string">''</span></span>)).click(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> screenshot = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> browser.takeScreenshot(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> canonicalScreenshotPath = <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name"></span></span></span></span><span class="xml"><span class="hljs-tag">   &gt;</span></span></span><span class="xml">; await compareScreenshot(screenshot, canonicalScreenshotPath); });</span></span></code> </pre> <br> 如您所见，测试代码看起来非常简单，实际上是重复了框图上显示的内容。 <br><br> 现在，我们展示了哪些工具可以方便地在不同的屏幕分辨率下实施该方案，以及我们遇到了哪些困难。 <br><br><h2> 所选工具箱 </h2><br><h3> 从铬开始 </h3><br> 对于测试自动化，我们选择了Protractor，这是一个用于测试Angular应用程序的e2e框架。 我们的应用程序仅在Angular上。 使用量角器，我们进行了两种类型的测试： <br><br><ol><li> 关于常规功能：打开一个应用程序提交表单，填写数据并发送一个应用程序，此后我们验证是否已重定向到所有应用程序的注册表。 </li><li> 屏幕截图测试：量角器使您可以随时拍摄屏幕截图。 使用一个单独的蓝收库，我们比较了两个屏幕截图：一个参考和一个真实的。 如果它们不匹配，则会立即创建一个屏幕快照，在屏幕快照上可以看到所有差异，就像在Git中一样。 </li></ol><br> 例如，如果您继续解析上述示例。 <br><br><img src="https://habrastorage.org/webt/-k/op/c_/-kopc_riwo8xa6qsajn_ld-ynrk.png"><br>  <i>带有无效链接消息的屏幕截图</i> <br><br><img src="https://habrastorage.org/webt/gb/lp/uh/gblpuhvntxizhca6g1i0dk5ciqs.png"><br>  <i>参考和当前屏幕截图中的差异（按钮的文本和布局）以淡紫色突出显示</i> <br><br> 如果页面包含动态变化的数据（例如日期或订单号），则需要屏蔽它们-这种功能在blue-harvest库中。 否则，比较屏幕截图将产生负面结果。 <br><br><h3> 添加FF和其他权限 </h3><br> 随着时间的流逝，我们对现有的UI测试系统的要求不断提高： <br><br><ul><li> 不仅在Chrome中运行测试，还在FF中运行测试， </li><li> 进行屏幕截图测试不是针对一种分辨率，而是针对最受欢迎的分辨率， </li><li> 并行运行测试。 </li></ul><br> 因此，让我们在Chrome和FF中并行运行测试。 <br><br> 为此，在量角器功能配置中，将其替换为： <br><br><pre> <code class="hljs powershell">multiCapabilities: [ { <span class="hljs-type"><span class="hljs-type">shardTestFiles</span></span>: <span class="hljs-type"><span class="hljs-type">true</span></span>, <span class="hljs-type"><span class="hljs-type">maxInstances</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-type"><span class="hljs-type">browserName</span></span>: <span class="hljs-string"><span class="hljs-string">'chrome'</span></span> }, { <span class="hljs-type"><span class="hljs-type">shardTestFiles</span></span>: <span class="hljs-type"><span class="hljs-type">true</span></span>, <span class="hljs-type"><span class="hljs-type">maxInstances</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-type"><span class="hljs-type">browserName</span></span>: <span class="hljs-string"><span class="hljs-string">'firefox'</span></span> } ]</code> </pre> <br> 此处所有内容都是显而易见的，每个设置都应对此负责。 只值得关注 <br> <code>shardTestFiles: true</code> <br> <code>/** * If this is set to be true, specs will be shared by file (ie all files to be run by this set of capabilities will run in parallel). * Default is false. */</code> <br> <br> 使用此标志，我们可以在multiCapabilities中指定的所有浏览器中并行启动所有规范。 <br><br>  specs参数隐藏在specs一词下，该词确定使用哪个模板搜索带有测试的文件。 <br><br><pre> <code class="javascript hljs">exports.config = { ... specs: [<span class="hljs-string"><span class="hljs-string">'./e2e/**/*.spec.ts'</span></span>], ... }</code> </pre> <br> 将所有测试分为几个规格文件的理论看起来很合逻辑。 并发对它们起作用（例如，为应用程序的每个功能创建一个规范文件）。 <br><br> 此外，在量角器中可以突出显示套件。 <br><br><pre> <code class="javascript hljs">exports.config = { ... suites: { <span class="hljs-attr"><span class="hljs-attr">suite01</span></span>: <span class="hljs-string"><span class="hljs-string">'./e2e/**/suite01.*.spec.ts'</span></span>, <span class="hljs-attr"><span class="hljs-attr">suite02</span></span>: <span class="hljs-string"><span class="hljs-string">'./e2e/**/suite02.spec.ts'</span></span>, <span class="hljs-attr"><span class="hljs-attr">suite03</span></span>: <span class="hljs-string"><span class="hljs-string">'./e2e/**/suite03.spec.ts'</span></span> }, ... }</code> </pre> <br> 从配置的这一部分可以看到，启动一个套件时，仅从一个规范文件运行测试。 如果您只想为应用程序的一部分运行测试，这可能很有用。 <br><br> 对于以不同分辨率测试应用程序，我们采用了以下方法。 作为实验权限，选择了最受欢迎的一种：1920x1080、1366x768、1440x10900、768x1024。 运行每个测试时，最初将执行所有必要的操作，然后执行一系列屏幕截图检查。 <br><br><img src="https://habrastorage.org/webt/ht/fe/w4/htfew43t0zeewg0cg-odih_s_yq.png"><br><br><h3> 我们连接IE和全尺寸屏幕截图 </h3><br> 不幸的是，我们获得的屏幕截图测试仅在页面的最初可见部分有效。 并且，如果页面上存在滚动，则下面的所有内容对于经过的版式仍未开发。 <br><br> 除此之外，我们还需要支持尚未针对我们的测试设计的IE。 我们开始寻找在IE中运行测试并拍摄完整屏幕截图的适当机会。 <br><br><img src="https://habrastorage.org/webt/v7/ul/le/v7ulle2bbjnxzfyqc5vv_ps7due.png"><br><br> 我们确定了两个解决方案： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Zalenium</a>和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Selenium-Grid</a> 。 我们省略了对其中一个拥有什么的描述，并告诉他们在任何一种解决方案中都发现/未发现的内容。 <br><br>  <b>Zalenium</b> ：此解决方案在Docker容器中运行，并且在主容器之后又出现了N个其他容器-启动浏览器。 允许您在docker <code>docker run</code>期间指定screenWidth，screenHeight并获取屏幕尺寸，例如1920x6000。 不支持IE。 <br><br><img src="https://habrastorage.org/webt/kz/wr/de/kzwrdeodk_9rbejq0srhhk5d3zq.png"><br>  <i>两种浏览器，屏幕尺寸为1920x6000</i> <br><br>  <b>Selenium-grid：</b> IE中的测试非常容易开始。 <br> 缺点：无法设置任何大小的浏览器窗口大小。 <br><br>  <b>总计：Zalenium + Selenium-grid</b> <br> 我们选择了一堆Zalenium + Selenium-grid：通过Zalenium，决定在Chrome和FF中运行测试，并通过Selenium-grid检查IE中应用程序的最低性能。 <br><br><h2> 在过程中遇到什么有趣的事情 </h2><br>  <b>1.使用formControlName作为元素定位器</b> <br><br> 使用formControlName上的搜索，您可以轻松地在表单上搜索必填字段，并用测试数据填充它们。 由formControlName定位的不是内置的，但添加起来很容易： <br><br><pre> <code class="javascript hljs">exports.config = { ... onPrepare() { <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'ts-node'</span></span>).register({ <span class="hljs-attr"><span class="hljs-attr">project</span></span>: <span class="hljs-string"><span class="hljs-string">'e2e/tsconfig.e2e.json'</span></span> }); jasmine.getEnv().addReporter(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> specReporter({ <span class="hljs-attr"><span class="hljs-attr">spec</span></span>: { <span class="hljs-attr"><span class="hljs-attr">displayStacktrace</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> } })); addFormControlNameLocator(protractor); } ... } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addFormControlNameLocator</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">protractor</span></span></span><span class="hljs-function">) </span></span>{ protractor.by.addLocator(<span class="hljs-string"><span class="hljs-string">'formControlName'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value, optParentElement</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> using = optParentElement || <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> using.querySelectorAll(<span class="hljs-string"><span class="hljs-string">'[formControlName="'</span></span> + value + <span class="hljs-string"><span class="hljs-string">'"]'</span></span>); }); }</code> </pre> <br>  <b>2.量角器中全局和本地安装的webdriver-manager的工作差异</b> <br><br> 在系统中安装Protractor时（官方文档建议在全球范围内安装Protractor），除了测试框架本身外，我们还获得了已安装的webdriver-manager，它为浏览器提供了运行测试的驱动程序，从而解决了问题之一。 <br><br> 转到项目文件夹并执行webdriver-manager更新后，将下载Chrome，FF，IE的驱动程序。 之后，在开始测试时，他们捕获了错误： <br><br> <code>No update-config.json found. Run 'webdriver-manager update' to download binaries.</code> <br> <br> 我们意识到，如果在npm脚本中打包webdriver-manager更新，该错误就会消失： <br><br><pre> <code class="hljs powershell">{ ... scripts:{ “webdriver<span class="hljs-literal"><span class="hljs-literal">-update</span></span>”: “webdriver<span class="hljs-literal"><span class="hljs-literal">-manager</span></span> update” } ... }</code> </pre> <br> 并通过<code>npm run webdriver-update</code> ，驱动程序源和上述update-config.json都进入项目文件夹。 <br><br>  <b>3.通过docker-compose运行Zalenium</b> <br><br>  Zalenium文档随附docker <code>docker run</code>命令和docker-compose文件的示例。 一切都像魔术般起飞。 我们通过docker-compose文件启动时遇到的唯一问题 <br>  <code>/var/run/docker.sock is not a valid windows path</code> 。 解决方案在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">这里</a> 。 <br><br>  <b>4.量角器的元素可见性</b> <br><br> 在我们的实验过程中，有一段时间我们面临着刺穿页面上某些菜单的任务，即 转到菜单的每个页面并截图。 <br><br><img src="https://habrastorage.org/webt/6u/sy/ol/6usyoljearsoj0ok6kgburgd_7e.png"><br><br> 在处理了列表的第一个元素之后，测试开始下降，抛出一个错误，即在某些坐标上没有可单击的东西。 事实证明，无论列表中的所有元素都是最初选择的，在我们真正看不见它们之后，它们在量角器的眼中都消失了。 <br><br> 我们通过设置足够的屏幕宽度解决了该问题，从而使菜单在单击其下一个元素之前重新出现。 <br><br>  <b>5. IE（Selenium-grid）中的分辨率更改</b> <br><br> 您还记得，我们在Chrome和FF中微调了屏幕分辨率的变化。 在IE中，我们仅捕获了以下错误： <code>Failed: java.io.IOException: Server returned HTTP response code: 405 for URL: http://localhost:21800/session/8d14426d-6483-4bbf-90b3-2a3ed46ebe9b/window/size</code> 。 <br><br> 经过长时间的调试，有可能发现错误恰好在代码尝试执行的那一刻发生： <code>browser.driver.manage().window().setSize(x, y)</code> 。 如果尝试执行<code>browser.driver.manage().window().setPosition(x, y)</code> ，则将捕获相同的错误，仅大小会更改为位置。 这导致我们这样一个事实，即在IE中运行测试时无法控制屏幕分辨率。 解决此问题的方法是拐杖，您必须用拐杖覆盖代码，以免在运行IE时更改分辨率\位置。 <br><br>  <b>6. Zalenium和WebSocket</b> <br><br> 在本地收集了所有障碍之后，决定将Zalenium纳入公司基础架构。 打开容器，注册DNS，现在每个人都可以在Zalenium中运行测试，只需在其Protractor配置中指定容器的路径即可。 美丽吧？ 但事实确实如此。 <br><br> 在这种情况下，一切都已部署到Linux机器上，使用Nginx作为服务器。 装有Zalenium的容器没有问题，随后又有N个容器用于启动浏览器，但是...无法与其建立连接。 很容易发现父容器正试图通过WebSocket协议与浏览器的容器进行通信，而Nginx默认情况下无法做到这一点。 治疗非常简单。 <br><br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">location</span></span> / { <span class="hljs-attribute"><span class="hljs-attribute">proxy_pass</span></span> some_url; <span class="hljs-attribute"><span class="hljs-attribute">proxy_set_header</span></span> Upgrade <span class="hljs-variable"><span class="hljs-variable">$http_upgrade</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">proxy_set_header</span></span> Connection “upgrade”; }</code> </pre> <br>  <b>9.硒网格的启动</b> <br><br> 要运行Selenium-Grid，我们需要： <br><br><ul><li>  <a href="">硒服务器</a> </li><li>  IE驱动程序，可通过webdriver-manager更新--ie32轻松获得。 </li></ul><br> 服务器启动： <br><br> <code>java -jar selenium-server-standalone.jar -role hub -hubConfig selenium-server-config.json</code> <br> <br><pre> <code class="hljs pgsql">selenium-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span>-config.json { "host": "127.0.0.1", "maxSessions": <span class="hljs-number"><span class="hljs-number">5</span></span>, "port": <span class="hljs-number"><span class="hljs-number">4445</span></span>, "cleanupCycle": <span class="hljs-number"><span class="hljs-number">5000</span></span>, "timeout": <span class="hljs-number"><span class="hljs-number">300000</span></span>, "newSessionWaitTimeout": <span class="hljs-number"><span class="hljs-number">-1</span></span>, "servlets": [], "prioritizer": <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, "capabilityMatcher": "org.openqa.grid.internal.utils.DefaultCapabilityMatcher", "throwOnCapabilityNotPresent": <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, "nodePolling": <span class="hljs-number"><span class="hljs-number">180000</span></span>, "platform": "WINDOWS" }</code> </pre> <br> 启动IE驱动程序： <br><br> <code>java -Dwebdriver.ie.driver=&lt;  &gt; -jar selenium-server-standalone.jar -role node -nodeConfig .\\ie-driver-config.json</code> <br> <br><pre> <code class="hljs powershell">ie<span class="hljs-literal"><span class="hljs-literal">-driver</span></span><span class="hljs-literal"><span class="hljs-literal">-config</span></span>.json { <span class="hljs-string"><span class="hljs-string">"capabilities"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"browserName"</span></span>: <span class="hljs-string"><span class="hljs-string">"internet explorer"</span></span>, <span class="hljs-string"><span class="hljs-string">"maxInstances"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"platform"</span></span>: <span class="hljs-string"><span class="hljs-string">"WINDOWS"</span></span>, <span class="hljs-string"><span class="hljs-string">"webdriver.ie.driver"</span></span>: <span class="hljs-string"><span class="hljs-string">"C:/Program Files (x86)/Internet Explorer/iexplore.exe"</span></span> } ], <span class="hljs-string"><span class="hljs-string">"cleanUpCycle"</span></span>: <span class="hljs-number"><span class="hljs-number">2000</span></span>, <span class="hljs-string"><span class="hljs-string">"timeout"</span></span>: <span class="hljs-number"><span class="hljs-number">30000</span></span>, <span class="hljs-string"><span class="hljs-string">"port"</span></span>: <span class="hljs-literal"><span class="hljs-literal">-1</span></span>, <span class="hljs-string"><span class="hljs-string">"role"</span></span>: <span class="hljs-string"><span class="hljs-string">"node"</span></span>, <span class="hljs-string"><span class="hljs-string">"hub"</span></span>: <span class="hljs-string"><span class="hljs-string">"http://127.0.0.1:4445/grid/register/"</span></span>, <span class="hljs-string"><span class="hljs-string">"register"</span></span>: true, <span class="hljs-string"><span class="hljs-string">"maxSessions"</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span> }</code> </pre> <br> 启动服务器时和驱动程序的集线器URL'e中，请注意使用相同的端口。 作为量角器配置中的seleniumAddress，我们使用<code>http://127.0.0.1:4445/wd/hub</code> 。 <br><br><h2> 结论 </h2><br> 因此，我们解决了任务，每次发布新版本后，我们都可以检查它们在这些浏览器和分辨率下的性能。 <br><br><h3> 如何将测试集成到工作流中 </h3><br> 重要的是要理解，仅仅提高整个基础架构来运行测试和编写测试还不够。 您需要考虑如何在日常生活中使用它们。 <br><br> 我们没有在CI中实施UI测试，因为 它们的执行时间足够长，以允许自己等待每次构建的执行。 <br><br> 要测试应用程序的本地版本或安装在其中一个测试环境（内部或客户）上，只需在Protractor'a配置中更改baseUrl就足够了。 因此，开发人员和测试人员都可以运行测试。 <br> 开发人员-在开发新功能的过程中，例如需要针对应用程序的本地版本运行测试时。 质量检查专家-例如，在部署到产品后进行烟雾测试，或在进行一系列重构后在顶部进行检查。 <br><br>  <b>最后，我们要强调：</b> <br><br><ul><li> 请记住，UI测试不会使您免于进行详细的手动测试的麻烦。 自动化只能覆盖整个区域。 </li><li> 明智地使用自动化，主要用于烟雾测试。 涵盖所有内容是没有意义的-它既昂贵又难以保持最新 </li><li> 简单地写。 如果您的UI测试看起来很复杂，则说明您做错了。 打败并按照指示使用（请参阅第2点） </li></ul><br> 我们相信，轻松完成UI测试自动化是好的。 因此，请在评论中与我们分享您的观察和成功的工具。 <br><br><h2> 来自我们的有用链接： </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">量角器：新希望-Michael Giambalvo，Craig Nishina</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">扎伦vs硒</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Docker中的Selenium Gird中的量角器测试用例</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN425647/">https://habr.com/ru/post/zh-CN425647/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN425635/index.html">上周第333期（2018年10月1日至7日）来自前端世界的新鲜材料摘要</a></li>
<li><a href="../zh-CN425637/index.html">SSH连接建立算法</a></li>
<li><a href="../zh-CN425641/index.html">加拿大城市居民已经开发了公交车而非汽车的“优步服务”</a></li>
<li><a href="../zh-CN425643/index.html">10月8日至14日在莫斯科举行的数字活动</a></li>
<li><a href="../zh-CN425645/index.html">SpaceX和SAOCOM-1A新任务。 完成</a></li>
<li><a href="../zh-CN425649/index.html">性虐待，戈尔和Drupal开发者的追求</a></li>
<li><a href="../zh-CN425653/index.html">在Golang和gRPC上构建微服务架构，第1部分</a></li>
<li><a href="../zh-CN425657/index.html">惩罚的必然性，突击检查的有效性</a></li>
<li><a href="../zh-CN425659/index.html">交互式设计不必太复杂。</a></li>
<li><a href="../zh-CN425661/index.html">Angular开发人员的22个技巧。 第一部分</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>