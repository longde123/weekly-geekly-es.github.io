<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèîÔ∏è ‚ö†Ô∏è üÜò Unterwasser-Ultraschall-Entfernungsmesser-Modul. Teil zwei üèÄ ü§∑üèø üöÖ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Im ersten Teil haben wir den Prozess der Entwicklung einer Testversion eines Unterwasser-Entfernungsmesser-Moduls beschrieben. Es ist an der Zeit, Inf...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Unterwasser-Ultraschall-Entfernungsmesser-Modul. Teil zwei</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/447868/"><img src="https://habrastorage.org/webt/d9/7b/4h/d97b4htc0q8si0hr27zn2vrppre.jpeg" alt="Bild"><br><br>  Im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ersten Teil haben</a> wir den Prozess der Entwicklung einer Testversion eines Unterwasser-Entfernungsmesser-Moduls beschrieben.  Es ist an der Zeit, Informationen √ºber die zweite Version des Moduls auszutauschen, da wir die vorgeschlagenen √Ñnderungen im ersten Artikel implementiert haben. <br><a name="habracut"></a><br>  <b>√Ñnderung Nr. 1: Tempor√§re automatische Verst√§rkungsregelung (GAM).</b> <br>  Beim Testen der ersten Version des Moduls wurde das Problem des Abrollens des reflektierten Signals von Hindernissen in der N√§he des Emitters klar umrissen.  Einige Kommentatoren eines fr√ºheren Beitrags haben eine VARU empfohlen.  Ja, die Verwendung von VARU war sehr angemessen.  In den ersten Augenblicken nach dem Senden eines Sondenimpulses ist es nun m√∂glich, die Verst√§rkung zu minimieren und im Laufe der Zeit zu erh√∂hen. <br><br>  Die Implementierung der VARU ist in Schema Nr. 1 dargestellt. <br><br>  Der DAC des Mikrocontrollers erzeugt eine Spannung, die an das Gate des Transistors Q4 angelegt wird. <br>  F√ºr den angelegten Transistor wird die Charakteristik der eingef√ºhrten D√§mpfung experimentell in Abh√§ngigkeit von der Spannung am Gate erhalten.  Basierend auf dieser Eigenschaft und den vom Benutzer angegebenen Umgebungsparametern wird eine Wertetabelle berechnet, die √ºber DMA an den DAC des Mikrocontrollers gesendet wird. <br><br>  Tats√§chlich schlie√üt der im linearen Modus arbeitende Transistor das Nutzsignal vom Ausgang der ersten Stufe des Verst√§rkers teilweise gegen Masse, wodurch die Amplitude des Signals reguliert wird, das zu nachfolgenden Stufen des Verst√§rkers geht. <br><br><img src="https://habrastorage.org/webt/yx/vz/zp/yxvzzpgvi9eywsnkb-geehi9oi8.jpeg" alt="Bild"><br><br>  <b>√Ñnderung Nr. 2: Aufw√§rtswandler zur Stromversorgung der Ausgangsstufe.</b> <br>  Schema Nummer 2.  Hier ist alles einfach.  Mit dem Aufw√§rtswandler k√∂nnen wir unseren Emitter etwas ‚Äûlauter‚Äú machen.  Sie k√∂nnen die Versorgungsspannung der Ausgangsstufe von 5 bis 16 Volt einstellen.  N√ºtzliche Sache f√ºr Fernmessungen. <br><br>  <b>√Ñnderung Nr. 3: MEMS-Gyroskop / Beschleunigungsmesser.</b> <br>  Schema Nummer 3.  Eingebauter ICM20602-Chip.  Auf diese Weise k√∂nnen nicht nur Informationen √ºber die Reflexionsgrade von Objekten auf dem Strahlengang erhalten werden, sondern auch die Richtung (Winkel), in die das Modul in diesem Moment schaut.  Nachdem Sie den einfachsten Scan des Moduls durchgef√ºhrt haben (sogar das Modul mit der Hand gedreht haben), k√∂nnen Sie nach dem Prinzip der Lidar-Bilderzeugung ein realistisches Bild des Scanobjekts erhalten. <br><br>  Die √Ñnderungen sollten auch die Verwendung eines billigeren, aber nicht schlechteren Verst√§rkers MCP669-E / ML beinhalten.  Gate-Treiber w√§hlten auch den billigsten der verf√ºgbaren TPS51604DSGR. <br>  Die Form der Leiterplatten ist rund, um eine rationellere Platzierung im Metallgeh√§use zu erm√∂glichen. <br><br>  F√ºr die Kompaktheit und Konstanz der Eigenschaften von Kopie zu Kopie wird der Transformator nach planarer Technologie hergestellt. <br><br>  Eisen ist fertig.  Was weiter?  Die sch√∂nste Stunde der Programmierer kommt! <br><br>  Obwohl die grundlegenden Funktionen auf niedriger Ebene bereits in der Arbeit getestet wurden (Treiberverwaltung, Arbeiten mit ADCs, DACs usw.), m√ºssen Sie dennoch eine bequeme Interaktion mit dem Host implementieren, die API erstellen und detailliert beschreiben, die den Zugriff auf alle Funktionen des Moduls erm√∂glicht.  Ich m√∂chte Sie daran erinnern, dass wir f√ºr diese Zwecke UART als physische Schnittstelle ausgew√§hlt haben.  Und hier ist zu erw√§hnen, dass es im Team Meinungsverschiedenheiten dar√ºber gab, auf welche Art von Protokoll es sich zu konzentrieren lohnt: Text oder Bin√§r.  Einerseits ist das Bin√§rprotokoll Geschwindigkeit und einfache Verarbeitung auf der Hostseite.  Andererseits erleichtert das Textprotokoll die Analyse des Datenaustauschs (auch im Hyperterminal) und die Verwendung aussagekr√§ftiger Befehle / Modulantworten.  Hier ist ein kleines Beispiel f√ºr die Interaktion mit dem Modul mithilfe von Textbefehlen im Putty-Terminal: <br><br><img src="https://habrastorage.org/webt/n8/r7/w0/n8r7w0oeu7ktm9fsixenvxnehh4.png" alt="Bild"><br><br>  Durch Dr√ºcken der TAB-Taste wird eine Liste aller Befehle angezeigt. <br><br>  Es wird ein Beispiel f√ºr die Verwendung des Befehls YPR gegeben, der den aktuellen Wert der Modulrichtung entlang drei Achsen (Euler-Winkel) zur√ºckgibt. <br><br>  Der Befehl CHART gibt den Wert des reflektierten Signals von Objekten im Pfad des Sondenimpulses zur√ºck.  Sie k√∂nnen die Aufl√∂sung der Messung (bisher in Zentimetern) und die Anzahl der Messungen einstellen. <br><br>  Der ideale Fall ist nat√ºrlich die Unterst√ºtzung beider Versionen des Protokolls, sowohl in Textform als auch in Bin√§rform.  Leider sind wir zeitlich begrenzt und m√∂chten die Bem√ºhungen sofort auf eine f√ºr die Benutzer akzeptablere Option ausrichten.  Daher eine bescheidene Bitte: Markieren Sie in der Abstimmungsoption, was f√ºr Sie bequemer w√§re. <br><br>  Im n√§chsten Artikel werden wir versuchen, die gesamte Funktionalit√§t des Moduls zu nutzen, um Unterwasserobjekte scannen und ein Bild mit den Umrissen dieser Objekte erhalten zu k√∂nnen. <br><br><div class="spoiler">  <b class="spoiler_title">PS</b> <div class="spoiler_text">  Die Meinungen zum Inhalt des zweiten Artikels innerhalb des Teams waren geteilt: trocken, ein wenig, aber jetzt, entweder gro√ü, sch√∂n, aber dann ... "Jetzt" hat gewonnen. <br><br>  Ich werde die Trockenheit des Textes mit ein paar Fotos verd√ºnnen, die w√§hrend des Herstellungsprozesses der zweiten Version des Moduls aufgenommen wurden. <br><br>  Emitter-Baugruppe <br><br><img src="https://habrastorage.org/webt/bq/ys/_w/bqys_wbo6llkxofuhazh9p5e_fk.jpeg" alt="Bild"><br><br>  Bearbeitete Metallgeh√§use <br><br><img src="https://habrastorage.org/webt/cf/fu/rg/cffurgdkwliqlkkpt1uzjrqmbxg.jpeg" alt="Bild"><br><br>  Laserbeschriftete Geh√§use <br><br><img src="https://habrastorage.org/webt/4h/ad/wh/4hadwhlgc_fzieveuqwdcjwpvru.jpeg" alt="Bild"><br><br>  Montage von Modulplatinen <br><br><img src="https://habrastorage.org/webt/we/5n/ac/we5nacjpf_orb_ibfjlxft4ez6m.jpeg" alt="Bild"><br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de447868/">https://habr.com/ru/post/de447868/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de447854/index.html">Acht Fehler, die ich als Junior gemacht habe</a></li>
<li><a href="../de447856/index.html">Wie man ein Fenster ohne Pairing verkauft oder wie wichtig es ist, sich vor der Entwicklung einer Site zu positionieren</a></li>
<li><a href="../de447860/index.html">Thermodynamik von Schwarzen L√∂chern</a></li>
<li><a href="../de447862/index.html">Cisco Live 2019 EMEA. Technische Sitzungen: Externe Vereinfachung mit interner Komplikation</a></li>
<li><a href="../de447864/index.html">Nachrichten der Woche: Hauptereignisse in IT und Wissenschaft</a></li>
<li><a href="../de447870/index.html">Grundlagen der JavaScript-Engine: Prototypoptimierung. Teil 1</a></li>
<li><a href="../de447872/index.html">Alienware M15: Kompakter Gaming-Laptop mit umfassenden Upgrade-Optionen</a></li>
<li><a href="../de447874/index.html">Informationsentropie des Chaos</a></li>
<li><a href="../de447876/index.html">Alles ist sehr schlecht oder eine neue Art der Verkehrs√ºberwachung</a></li>
<li><a href="../de447878/index.html">√úberpr√ºfen von rdesktop und xrdp mit PVS-Studio</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>