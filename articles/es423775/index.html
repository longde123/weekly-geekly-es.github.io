<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üïµüèø üëÜüèº üë®üèø‚Äçüé® Quer√≠a una hermosa pieza de hierro. Result√≥ üë®üèø‚Äçüíº ü§ë ü§µüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Parte 1 >> Parte 2 >> Est√°s aqu√≠ 


 Una vez, la amada esposa de amigos en el pa√≠s encontr√≥ un slinka de primavera arco√≠ris. Record√© mi infancia, fui ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Quer√≠a una hermosa pieza de hierro. Result√≥</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/423775/"><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="En el que nada sucedi√≥ realmente">Parte 1</a> &gt;&gt; <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="En el que Winnie the Pooh reflexiona sobre hermosas piezas de hierro en general">Parte 2</a> &gt;&gt; <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Bueno tan hermosa">Est√°s aqu√≠</a> </p><br><p>  <em>Una vez, la amada esposa de amigos en el pa√≠s encontr√≥ un slinka de primavera arco√≠ris.</em>  <em>Record√© mi infancia, fui a las escaleras y comenc√©.</em>  <em>Milagro, pero la primavera desde la primera vez salta perfectamente en cada paso.</em> <em><br></em>  <em>- Result√≥!</em>  <em>- Con alegre sorpresa exclamaron todos los que estaban cerca.</em> <em><br></em>  <em>Mi hija de tres a√±os tambi√©n quer√≠a probarlo.</em>  <em>Ella tom√≥ la primavera, subi√≥ las escaleras y la lanz√≥.</em>  <em>Un manantial vol√≥ sobre las escaleras y cay√≥ de lado sobre la hierba.</em> <em><br></em>  <em>- Result√≥!</em>  <em>- llor√≥ la hija alegremente.</em> </p><br><p>  Ha pasado un a√±o desde el comienzo de mi proyecto de fan.  Result√≥!  Esa hermosa pieza de hierro se ve as√≠: <br><img src="https://habrastorage.org/webt/q8/r7/dt/q8r7dtlicz88928wpwny63sp6dw.png" alt="Mi belleza"></p><br><p>  A primera vista, puede no estar claro.  Pero supongamos que esto es un hacha.  Y con la ayuda de este hacha y algunos detalles al final, obtengo gachas. <a name="habracut"></a></p><br><p>  Y para una buena papilla de un hacha, se necesita cereal. </p><br><h1 id="wifi-slot">  Ranura WiFi </h1><br><p><img src="https://habrastorage.org/webt/5g/2-/le/5g2-led7lwkzbxjqlxzacvundjo.png"></p><br><p>  Todo el mundo sabe sobre el ESP8266.  Este tablero tiene varias diferencias. </p><br><ol><li>  Los m√≥dulos Troyka est√°n conectados a √©l.  Y hay muchos de ellos. </li><li>  Puede haber 4 de esos m√≥dulos. </li><li>  Tiene 8 canales ADC, con un rango de medici√≥n de 0 a 3.3 V. Y para el ESP8266 desnudo esto es muy inusual. </li><li>  Hay dos buses de potencia: potencia 5V, digital-anal√≥gico 3.3 V. </li><li>  Uno se convierte en otro a trav√©s de DC / DC.  Personalmente me enfermaron estos reguladores de calderas.  Hola alta eficiencia. </li><li>  Y esto significa que puede conducir motores directamente desde √©l.  Y de alguna manera te mostrar√© c√≥mo. </li><li>  Es compatible con el conector de ranura.  Esto es asombroso </li></ol><br><p>  En resumen, puedo meter 4 potenci√≥metros en √©l, y se ver√° hermoso.  Despu√©s de todo, por el bien de un arco fresco, todo comenz√≥. </p><br><h1 id="i2cio">  i2cio </h1><br><p>  Y aqu√≠ est√° mi STM32F030F4P6 favorito. </p><br><p><img src="https://habrastorage.org/webt/oc/by/rv/ocbyrvyuj1pn7ba3qom4gmycprm.png"><br><img src="https://habrastorage.org/webt/yb/tt/7-/ybtt7-tkdkvrs9w83lhuh8obqas.png"></p><br><p>  En la imagen hay dos placas con el mismo firmware i2cio.  Este es un expansor de puerto de E / S. <br>  9 pines de control de esta cosa pueden: </p><br><ol><li>  ADC de 12 bits </li><li>  PWM de 16 bits, con una frecuencia ajustable muy buena.  Al menos cuelgue servos all√≠ (DC / DC ayuda aqu√≠), al menos gire motores DC, al menos reproduzca sonido. <br>  Tambi√©n estos 9 m√°s uno m√°s pueden entrada / salida digital. </li></ol><br><p>  Adem√°s, Slot Expander admite conectores Troyka y separaci√≥n de potencia en partes de potencia y anal√≥gicas. </p><br><p>  Ahhh ... lo olvid√©.  Tales expansores se pueden conectar a una pieza de hierro un poco m√°s de 100 piezas.  Y todos est√°n ordenados por direcciones I2C autom√°ticamente, proporcionando direccionamiento de pin plano.  Es decir, puedes escribir </p><br><pre><code class="hljs objectivec">i2cio.digitalWrite(<span class="hljs-number"><span class="hljs-number">852</span></span>, HIGH); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> tooMuchForAnalogPinNumber_areYouReallyShureQuestion = i2cio.analogRead(<span class="hljs-number"><span class="hljs-number">942</span></span>);</code> </pre> <br><p>  Y al mismo tiempo todo saldr√° bien. <br>  Bueno, la piedra es de 33 rublos.  Y puede hacerlo con, por ejemplo, un piloto a lo largo de la l√≠nea con el mayor n√∫mero de sensores de sombra gris en el mundo.  Con ADC de 12 bits y ajuste de sensibilidad de 16 bits.  Sin cambiar el firmware. </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><p>  Lo que definitivamente mostrar√© en la pr√≥xima serie. </p></div></div><br><p>  Vamos m√°s lejos </p><br><h1 id="ekshn">  Acci√≥n </h1><br><p>  Un amigo me pidi√≥ que le hiciera un control remoto para Traktor, su programa de discjockey favorito.  Pens√© que si no pod√≠a hacerlo de manera r√°pida y hermosa, entonces resultar√≠a una tonter√≠a, y no una hermosa pieza de hierro. </p><br><h2 id="skruchivaem-vsyo-vmeste">  G√≠ralo todo junto </h2><br><p><img src="https://habrastorage.org/webt/p1/ao/lg/p1aolgxxxwwncvsyu9p8j2zksfm.jpeg"></p><br><p>  <em>Nota: en adelante, se entiende que el texto anterior nunca ha sido</em> </p><br><p>  Para hacer esto, necesito una placa base con cerebros esp8266 ( <em>izquierda</em> ).  Su diferencia con el resto es que es cuadrado, tiene 8 entradas ADC y est√° alimentado por 5 V a trav√©s de un convertidor DC / DC.  Y puede conectarlo a la misma placa de expansi√≥n cuadrada en mi stm32f030f4p6 favorito ( <em>a la derecha</em> ) a trav√©s de una hermosa pieza de hierro ( <em>centro</em> ). </p><br><h2 id="dobavim-kuchu-potenciometrov">  A√±adir un mont√≥n de potenci√≥metros </h2><br><p>  Otra caracter√≠stica de estas gl√°ndulas es que es muy f√°cil insertar m√≥dulos est√°ndar en ellas.  Tengo muchos m√≥dulos diferentes.  Tom√© un mont√≥n de potenci√≥metros.  Porque a <em>todos les encantan los potenci√≥metros</em> (c). </p><br><p><img src="https://habrastorage.org/webt/gz/8_/-q/gz8_-qc9q_qzo2catvmrb17vehw.jpeg"></p><br><p>  ¬°M√°s potenci√≥metros para el dios de los potenci√≥metros! </p><br><p><img src="https://habrastorage.org/webt/rj/mr/mo/rjmrmos5zqz3xubcnk3ua6pdx1k.jpeg"></p><br><h2 id="sol">  Sal </h2><br><p>  El punto de reuni√≥n m√°s largo.  Si desea hacer todo exactamente como yo, deber√° hacer lo siguiente: </p><br><ol><li>  Compre en Leroy una esquina de madera con un lado de 2 cm. </li><li>  Tome una sierra e intente verla a 45 grados </li><li>  Comprender que esto no es tan simple.  Comienza a correr y busca una caja de ingletes. </li><li>  Gire la caja de ingletes del dise√±ador de metal sovi√©tico. </li><li>  Para cortar casi toda la esquina en el matrimonio, porque no te es dado, Vasily, hacer algo hermoso con tus manos. </li><li>  Compre, finalmente, una caja de ingletes. </li><li>  GOTO 5. Porque no te lo dan, Basil.  Nada que intentar </li></ol><br><p>  Esto es lo que sucedi√≥: </p><br><p><img src="https://habrastorage.org/webt/4w/cv/wx/4wcvwxqkvqtnh71bqakrcuyx11w.jpeg"></p><br><h2 id="erunda-peredelat">  Tonter√≠as, rehacer </h2><br><p>  Un amigo dice: ‚Äú¬øQu√© es esto, un control remoto para un tractor, s√≠?  No es como algo ". </p><br><p>  Buen trabajo  Comienza de nuevo. </p><br><p>  Tomamos 4 tarjetas de expansi√≥n m√°s, sujetamos.  Tomamos un mont√≥n de m√≥dulos y tocamos en cualquier lugar. </p><br><p>  Result√≥ esto: <br><img src="https://habrastorage.org/webt/jq/gm/kw/jqgmkwsnlvp9khto6xipgd5l8-u.jpeg"></p><br><p>  Taladre cuidadosamente un orificio para el conector Micro-USB para programar la placa base y, posteriormente, cargue la bater√≠a. </p><br><p><img src="https://habrastorage.org/webt/g5/7w/cf/g57wcfpyvkr0dv7n-sodjq2qtmi.jpeg"></p><br><p>  Oh, no te lo di, Basilio, no te lo di ... </p><br><h2 id="demonstraciya-raboty">  Demostraci√≥n de trabajo </h2><br><p>  El resultado es un control remoto inal√°mbrico para el tractor.  Controla el tractor a trav√©s de WiFi a trav√©s de Open Sound Control. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/FNeMSCDS_2M" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2 id="ishodnyy-kod">  C√≥digo fuente </h2><br><p>  C√≥digo fuente en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">gitHub</a> .  Completamente completada la carpeta de trabajo, para no buscar bibliotecas en todo Internet. </p><br><h2 id="a-kak-voobsche-eto-rabotaet">  Pero, ¬øc√≥mo funciona en absoluto? </h2><br><p>  Una hermosa pieza de hierro es solo un conector que puede transmitir dos se√±ales y energ√≠a usando cuatro pernos.  Dos se√±ales son I2C.  La placa base puede dispersar todas las tarjetas de expansi√≥n en direcciones I2C que van secuencialmente y, posteriormente, hacer algo con ellas.  Por ejemplo, lea una se√±al anal√≥gica de 12 bits de (casi) cada tramo del expansor.  O controle un PWM de 16 bits en cada pata del expansor.  Bueno, o simplemente use estas patas como entrada / salida digital.  Puede usar estos expansores si simplemente no ten√≠a suficientes patas en su microcontrolador favorito. </p><br><p>  El firmware stm32f030f4p6 instalado en la placa de expansi√≥n est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . </p><br><p>  La biblioteca para trabajar con expansores de puertos en Arduino IDE est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . </p><br><p>  Si ser√° interesante para los respetados habitantes de Habraquia, definitivamente les contar√© m√°s al respecto.  Pero hoy no. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es423775/">https://habr.com/ru/post/es423775/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es423763/index.html">Lo que Uber Cash ense√±a a los innovadores</a></li>
<li><a href="../es423765/index.html">Estamos escribiendo una aplicaci√≥n para el control remoto del reproductor MPV de RetroOrangePi</a></li>
<li><a href="../es423767/index.html">Los hackers atacaron British Airways: 380,000 tarjetas bancarias de clientes robadas</a></li>
<li><a href="../es423769/index.html">Conectando OpenSSL a Mono</a></li>
<li><a href="../es423771/index.html">Una vez m√°s, el analizador PVS-Studio result√≥ ser m√°s atento que una persona.</a></li>
<li><a href="../es423777/index.html">Proyecto Keystone: entorno de confianza para ejecutar aplicaciones basadas en RISC-V</a></li>
<li><a href="../es423779/index.html">Copia de seguridad de nube a nube: qu√© es y por qu√© se necesita</a></li>
<li><a href="../es423781/index.html">Notas del proveedor de IoT. Caso: creamos una red LoRa para un dispensador de combustible en Chelyabinsk</a></li>
<li><a href="../es423783/index.html">Splunk: aprendizaje autom√°tico al siguiente nivel</a></li>
<li><a href="../es423785/index.html">Cree una granja de servidores preparada para la red para Kubernetes con LTSP</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>