<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö± üíû üëÉüèº Software Defined Radio - wie funktioniert es? Teil 4 üë∂üèº üóØÔ∏è üò®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo Habr. 

 Im dritten Teil wurde beschrieben, wie Sie mit Python auf den SDR-Empf√§nger zugreifen. Jetzt lernen wir das GNU- Radioprogramm kennen -...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Software Defined Radio - wie funktioniert es? Teil 4</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/453038/">  Hallo Habr. <br><br>  Im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dritten Teil wurde</a> beschrieben, wie Sie mit Python auf den SDR-Empf√§nger zugreifen.  Jetzt lernen wir das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GNU-</a> Radioprogramm kennen - ein System, mit dem Sie eine ziemlich komplexe Konfiguration eines Funkger√§ts erstellen k√∂nnen, ohne eine einzige Codezeile schreiben zu m√ºssen. <br><br><img src="https://habrastorage.org/webt/lz/0o/-a/lz0o-askafi53h9qmtsy0ktkdog.png"><br><br>  Betrachten Sie als Beispiel das Problem des parallelen Empfangs mehrerer UKW-Sender auf einem Empf√§nger.  Wir werden den gleichen RTL SDR V3 wie den Empf√§nger verwenden. <br><br>  Fortsetzung unter dem Schnitt. <a name="habracut"></a><br><br><h2>  Installation </h2><br>  Um loszulegen, muss GNU Radio installiert sein. Das Distributionskit f√ºr Windows kann hier heruntergeladen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">werden</a> .  Dieses System ist plattform√ºbergreifend, es gibt auch Versionen f√ºr Linux und OSX (es scheint, dass GNU Radio erfolgreich auf dem Raspberry Pi gestartet wurde, aber ich kann keine 100% ige Garantie geben). <br><br>  Tats√§chlich ist GNU Radio ein ganzes Framework f√ºr die digitale Signalverarbeitung, bei dem das Programm aus separaten Modulen "zusammengesetzt" wird.  Es gibt eine gro√üe Anzahl von vorgefertigten Bl√∂cken. Wenn Sie m√∂chten, k√∂nnen Sie auch eigene Bl√∂cke erstellen.  Die Module selbst sind in C ++ geschrieben und Python interagiert miteinander.  Wer m√∂chte, kann sich die API <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">genauer</a> ansehen, aber in der Praxis ist dies h√∂chstwahrscheinlich nicht sinnvoll - alle Aktionen k√∂nnen visuell im GNU Radio Companion-Programm ausgef√ºhrt werden. <br><br>  Das System konzentriert sich auf die Verarbeitung von Datenstr√∂men, so dass jeder Block normalerweise eine Eingabe und eine Ausgabe hat.  Als n√§chstes erhalten wir durch Verbinden der Bl√∂cke im Editor ein vorgefertigtes System.  Die GNU Radio-Schnittstelle selbst ist recht einfach. Die Schwierigkeit besteht darin, zu verstehen, was ein Block tut.  Wie bereits erw√§hnt, hat die Arbeit mit SDR auf niedriger Ebene eine hohe Eingabeschwelle und erfordert einige Kenntnisse in DSP und Mathematik.  Wir werden jedoch eine einfache Aufgabe betrachten, f√ºr die keine besonderen Kenntnisse erforderlich sind.  Also fangen wir an. <br><br><h2>  Erste Schritte </h2><br>  Wir starten den GNU Radio Companion, erstellen ein neues Projekt, w√§hlen den Projekttyp WX GUI aus, f√ºgen ihn dem Bildschirm hinzu und verbinden die beiden Bl√∂cke, wie im Screenshot gezeigt. <br><br><img src="https://habrastorage.org/webt/ap/zm/d5/apzmd5drzq9g-0fkn2yzeosagz0.png"><br><br>  Wir sehen zwei Arten von Bl√∂cken - Source (Source) und Sink (Output, "Drain").  RTL-SDR ist unser Empf√§nger, FFT GUI ist ein virtueller Spektrumanalysator. <br><br>  Die Variable Abtastrate ist auf 2048000 eingestellt. Dies ist die Abtastrate unseres Empf√§ngers.  Die Standard-RTL-SDR-Frequenz betr√§gt 100 MHz. <br><br>  Wir starten das Projekt - alles funktioniert, wir sehen eine Reihe von UKW-Sendern.  Das erste Programm f√ºr GNU Radio ist fertig! <br><br><img src="https://habrastorage.org/webt/cg/ii/mu/cgiimukqq7tujdtv-mprdvtl8wc.png"><br><br>  Wenn wir uns das Protokoll ansehen, werden wir solche Zeilen sehen. <br><br>  <i>Generieren: 'D: \\ MyProjects \\ GNURadio \\ top_block.py'</i> <i><br></i>  <i>Ausf√ºhren: C: \ Python27 \ python.exe -u D: \ MyProjects \ GNURadio \ top_block.py</i> <br><br>  Ja, wir k√∂nnen die Datei top_block.py sehen, die GNU Radio Companion f√ºr uns generiert hat.  Echte Jedi k√∂nnen direkt in Python schreiben, aber der erforderliche Code ist, wie wir sehen, ziemlich gro√ü.  Wir haben es in 1 Minute erstellt. <br><br><div class="spoiler">  <b class="spoiler_title">top_blocks.py</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/env python2 # -*- coding: utf-8 -*- ################################################## # GNU Radio Python Flow Graph # Title: Top Block # Generated: Wed May 22 22:05:14 2019 ################################################## if __name__ == '__main__': import ctypes import sys if sys.platform.startswith('linux'): try: x11 = ctypes.cdll.LoadLibrary('libX11.so') x11.XInitThreads() except: print "Warning: failed to XInitThreads()" from gnuradio import eng_notation from gnuradio import gr from gnuradio import wxgui from gnuradio.eng_option import eng_option from gnuradio.fft import window from gnuradio.filter import firdes from gnuradio.wxgui import fftsink2 from grc_gnuradio import wxgui as grc_wxgui from optparse import OptionParser import osmosdr import time import wx class top_block(grc_wxgui.top_block_gui): def __init__(self): grc_wxgui.top_block_gui.__init__(self, title="Top Block") ################################################## # Variables ################################################## self.samp_rate = samp_rate = 2048000 ################################################## # Blocks ################################################## self.wxgui_fftsink2_0 = fftsink2.fft_sink_c( self.GetWin(), baseband_freq=0, y_per_div=10, y_divs=10, ref_level=0, ref_scale=2.0, sample_rate=samp_rate, fft_size=1024, fft_rate=15, average=False, avg_alpha=None, title='FFT Plot', peak_hold=False, ) self.Add(self.wxgui_fftsink2_0.win) self.rtlsdr_source_0 = osmosdr.source( args="numchan=" + str(1) + " " + '' ) self.rtlsdr_source_0.set_sample_rate(samp_rate) self.rtlsdr_source_0.set_center_freq(100e6, 0) self.rtlsdr_source_0.set_freq_corr(0, 0) self.rtlsdr_source_0.set_dc_offset_mode(0, 0) self.rtlsdr_source_0.set_iq_balance_mode(0, 0) self.rtlsdr_source_0.set_gain_mode(False, 0) self.rtlsdr_source_0.set_gain(10, 0) self.rtlsdr_source_0.set_if_gain(20, 0) self.rtlsdr_source_0.set_bb_gain(20, 0) self.rtlsdr_source_0.set_antenna('', 0) self.rtlsdr_source_0.set_bandwidth(0, 0) ################################################## # Connections ################################################## self.connect((self.rtlsdr_source_0, 0), (self.wxgui_fftsink2_0, 0)) def get_samp_rate(self): return self.samp_rate def set_samp_rate(self, samp_rate): self.samp_rate = samp_rate self.wxgui_fftsink2_0.set_sample_rate(self.samp_rate) self.rtlsdr_source_0.set_sample_rate(self.samp_rate) def main(top_block_cls=top_block, options=None): tb = top_block_cls() tb.Start(True) tb.Wait() if __name__ == '__main__': main()</span></span></code> </pre> <br></div></div><br>  Wenn wir jedoch die umst√§ndliche Initialisierung entfernen, werden wir feststellen, dass es nicht so viele wichtige Codezeilen gibt. <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> gnuradio <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> gr <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> gnuradio.wxgui <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> fftsink2 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> osmosdr <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">top_block</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(grc_wxgui.top_block_gui)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> grc_wxgui.top_block_gui.__init__(self, title=<span class="hljs-string"><span class="hljs-string">"Top Block"</span></span>) self.samp_rate = samp_rate = <span class="hljs-number"><span class="hljs-number">2048000</span></span> self.wxgui_fftsink2_0 = fftsink2.fft_sink_c(...) self.Add(self.wxgui_fftsink2_0.win) self.rtlsdr_source_0 = osmosdr.source(args=<span class="hljs-string"><span class="hljs-string">"numchan="</span></span> + str(<span class="hljs-number"><span class="hljs-number">1</span></span>) + <span class="hljs-string"><span class="hljs-string">" "</span></span> + <span class="hljs-string"><span class="hljs-string">''</span></span> ) self.connect((self.rtlsdr_source_0, <span class="hljs-number"><span class="hljs-number">0</span></span>), (self.wxgui_fftsink2_0, <span class="hljs-number"><span class="hljs-number">0</span></span>)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(top_block_cls=top_block, options=None)</span></span></span><span class="hljs-function">:</span></span> tb = top_block_cls() tb.Start(<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) tb.Wait()</code> </pre><br>  Grunds√§tzlich kann es also manuell geschrieben werden.  Mit einer Maus geht es aber immer noch schneller.  Obwohl die M√∂glichkeit, den Code zu √§ndern, manchmal n√ºtzlich sein kann, wenn Sie eine nicht standardm√§√üige Logik hinzuf√ºgen m√∂chten. <br><br><h2>  UKW-Radio empfangen </h2><br>  Versuchen Sie nun, eine der Stationen zu nehmen.  Wie aus den Screenshots hervorgeht, betr√§gt die Mittenfrequenz des Empf√§ngers 100 MHz und die Bandbreite etwa 2 MHz.  Im Spektrum sehen wir zwei Stationen mit 100,1 MHz bzw. 100,7 MHz. <br><br>  Der erste Schritt besteht darin, das Spektrum der Station in die Mitte zu √ºbertragen, jetzt sind es 100 kHz rechts.  Dazu erinnern wir uns an die Schulformel zum Multiplizieren von Cosinus - als Ergebnis gibt es zwei Frequenzen, die Summe und die Differenz - die gew√ºnschte Station bewegt sich in die Mitte, was wir brauchen (und wir filtern den √úberschuss heraus). <br><br>  Wir erstellen zwei Variablen zum Speichern der Frequenzen freq_center = 100000000 und freq_1 = 100100000 und f√ºgen einen Signalgenerator mit der Frequenz freq_center hinzu - freq_1. <br><br><img src="https://habrastorage.org/webt/mz/kc/lq/mzkclq8dusvoy7kxqqcrbajlxzc.png"><br><br>  Weil  Da das System auf Python basiert, k√∂nnen wir Ausdr√ºcke in den Parametereingabefeldern verwenden, was sehr praktisch ist. <br><br>  Das Diagramm sollte folgenderma√üen aussehen: <br><br><img src="https://habrastorage.org/webt/b0/yl/7z/b0yl7z1omt-7kidj7i863nc2exq.png"><br><br>  Jetzt m√ºssen Sie mehrere Bl√∂cke gleichzeitig hinzuf√ºgen - reduzieren Sie die Taktfrequenz des Eingangssignals (2048 kHz), filtern Sie das Signal, legen Sie es auf den FM-Decoder an und reduzieren Sie die Taktfrequenz erneut auf 48 kHz. <br><br>  Das Ergebnis ist im Bild dargestellt: <br><br><img src="https://habrastorage.org/webt/8n/wq/ht/8nwqhtrflggwkkdia9xhbuok2io.png"><br><br>  Wir √ºberlegen genau.  Wir teilen die Taktrate von 2048 kHz mit dem Rational Resampler-Block durch das Vierfache (wir erhalten 512 kHz), dann gibt es nach dem Tiefpassfilter einen WBFM-Decoder mit Dezimierung 10 (wir erhalten 51,2 kHz).  Grunds√§tzlich kann dieses Signal bereits der Soundkarte zugef√ºhrt werden, die Tonh√∂he ist jedoch geringf√ºgig unterschiedlich.  Wir √§ndern erneut die Taktfrequenz auf 48/51, wodurch die Taktfrequenz 48,2 kHz betr√§gt, die Differenz kann bereits vernachl√§ssigt werden. <br><br>  Der zweite wichtige Punkt ist die Art der Eingaben.  Ein <i>komplexes</i> IQ-Signal (Ein- / Ausg√§nge in Blau) wird vom Empf√§nger empfangen, ein <i>reales</i> Signal wird vom FM-Decoder ausgegeben - Ein- und Ausg√§nge sind gelb.  Wenn verwechselt, wird nichts funktionieren.  Mehr war <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">schon auf Habr√©</a> , es reicht uns, das allgemeine Prinzip zu verstehen. <br><br>  Stellen Sie im Allgemeinen sicher, dass alles funktioniert.  Sie k√∂nnen das Programm ausf√ºhren und Radio h√∂ren.  Wir werden weiter gehen - wir haben immer noch <i>Software Defined</i> Radio - wir werden den gleichzeitigen Empfang der zweiten Station hinzuf√ºgen. <br><br><h2>  Mehrkanalempfang </h2><br>  Der zweite Empf√§nger wird durch Ihre bevorzugte Programmiermethode hinzugef√ºgt - Strg + C / Strg + V.  F√ºgen Sie die Variable freq_2 hinzu, kopieren Sie die Bl√∂cke und verbinden Sie sie auf die gleiche Weise. <br><br><img src="https://habrastorage.org/webt/wb/8-/do/wb8-dowoop7frpjeigt1pmb0_jo.png"><br><br>  Das Ergebnis ist ziemlich surreal - Sie k√∂nnen zwei UKW-Sender gleichzeitig h√∂ren.  Mit derselben Methode (Strg + V) k√∂nnen Sie eine dritte Station hinzuf√ºgen. <br><br><h2>  Aufzeichnen </h2><br>  Das H√∂ren von zwei Sendern auf originelle Weise, aber in der Praxis ist nicht sehr n√ºtzlich.  Wir werden etwas Notwendigeres tun, zum Beispiel Tonaufnahmen zu separaten Dateien hinzuf√ºgen.  Dies kann sehr praktisch sein - mehrere Kan√§le k√∂nnen gleichzeitig von einem physischen Empf√§nger aufgezeichnet werden. <br><br>  F√ºgen Sie jeder Ausgabe eine File Sink-Komponente hinzu, wie im Screenshot gezeigt. <br><br><img src="https://habrastorage.org/webt/dv/-z/ah/dv-zahcv6ushuetsll7by3jyvki.png"><br><br>  Die Windows-Version erfordert aus irgendeinem Grund absolute Dateipfade, andernfalls funktioniert die Aufzeichnung nicht.  Wir fangen an, wir sind √ºberzeugt, dass alles normal ist.  Die Gr√∂√üe der gespeicherten Dateien ist ziemlich gro√ü, weil  Das Standardformat ist float.  Bei Eingabe im int-Format bleiben die Leser als Hausaufgaben. <br><br>  Die resultierenden Dateien k√∂nnen in Cool Edit ge√∂ffnet werden und stellen sicher, dass der Ton normal aufgenommen wird. <br><br><img src="https://habrastorage.org/webt/zo/oz/lx/zoozlx5plq7aw_jftgdc-ddyrl0.png"><br><br><img src="https://habrastorage.org/webt/p9/z9/tu/p9z9tuscd-0w3fa_tkdqq0qii68.png"><br><br>  Nat√ºrlich kann die Anzahl der aufgezeichneten Kan√§le erh√∂ht werden, sie ist nur durch die Empf√§ngerbandbreite und die Computerleistung begrenzt.  Neben File Sink kann auch UDP Sink verwendet werden, sodass das Programm f√ºr die √úbertragung √ºber das Netzwerk verwendet werden kann. <br><br><h2>  F√ºhren Sie √ºber die Befehlszeile aus </h2><br>  Und der letzte.  Wenn Sie das Programm beispielsweise f√ºr die Mehrkanalaufnahme autonom verwenden, wird die Benutzeroberfl√§che im Prinzip nicht ben√∂tigt.  √Ñndern Sie im oberen linken Block von Optionen den Parameter Ausf√ºhrungsoptionen in Keine Benutzeroberfl√§che.  F√ºhren Sie das Programm erneut aus und stellen Sie sicher, dass alles funktioniert.  Jetzt speichern wir die generierte Datei top_block.py - wir k√∂nnen sie einfach √ºber die Befehlszeile ausf√ºhren, zum Beispiel √ºber eine Bat-Datei oder √ºber die Konsole. <br><br><img src="https://habrastorage.org/webt/yp/gn/qy/ypgnqytpqchjfwsk_fung67k5ck.png"><br><br>  Bei Interesse wird die generierte Datei unter einem Spoiler gespeichert. <br><div class="spoiler">  <b class="spoiler_title">recorder.py</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/env python2 # -*- coding: utf-8 -*- ################################################## # GNU Radio Python Flow Graph # Title: Top Block # Generated: Fri May 24 21:47:03 2019 ################################################## from gnuradio import analog from gnuradio import audio from gnuradio import blocks from gnuradio import eng_notation from gnuradio import filter from gnuradio import gr from gnuradio.eng_option import eng_option from gnuradio.filter import firdes from optparse import OptionParser import osmosdr import time class top_block(gr.top_block): def __init__(self): gr.top_block.__init__(self, "Top Block") ################################################## # Variables ################################################## self.samp_rate = samp_rate = 2048000 self.freq_center = freq_center = 100000000 self.freq_2 = freq_2 = 100700000 self.freq_1 = freq_1 = 100100000 ################################################## # Blocks ################################################## self.rtlsdr_source_0 = osmosdr.source( args="numchan=" + str(1) + " " + '' ) self.rtlsdr_source_0.set_sample_rate(samp_rate) self.rtlsdr_source_0.set_center_freq(freq_center, 0) self.rtlsdr_source_0.set_freq_corr(0, 0) self.rtlsdr_source_0.set_dc_offset_mode(0, 0) self.rtlsdr_source_0.set_iq_balance_mode(0, 0) self.rtlsdr_source_0.set_gain_mode(False, 0) self.rtlsdr_source_0.set_gain(10, 0) self.rtlsdr_source_0.set_if_gain(20, 0) self.rtlsdr_source_0.set_bb_gain(20, 0) self.rtlsdr_source_0.set_antenna('', 0) self.rtlsdr_source_0.set_bandwidth(0, 0) self.rational_resampler_xxx_1_0 = filter.rational_resampler_fff( interpolation=48, decimation=51, taps=None, fractional_bw=None, ) self.rational_resampler_xxx_1 = filter.rational_resampler_fff( interpolation=48, decimation=51, taps=None, fractional_bw=None, ) self.rational_resampler_xxx_0_0 = filter.rational_resampler_ccc( interpolation=1, decimation=4, taps=None, fractional_bw=None, ) self.rational_resampler_xxx_0 = filter.rational_resampler_ccc( interpolation=1, decimation=4, taps=None, fractional_bw=None, ) self.low_pass_filter_0_0 = filter.fir_filter_ccf(1, firdes.low_pass( 1, samp_rate/4, 100000, 500000, firdes.WIN_HAMMING, 6.76)) self.low_pass_filter_0 = filter.fir_filter_ccf(1, firdes.low_pass( 1, samp_rate/4, 100000, 500000, firdes.WIN_HAMMING, 6.76)) self.blocks_multiply_xx_0_0 = blocks.multiply_vcc(1) self.blocks_multiply_xx_0 = blocks.multiply_vcc(1) self.blocks_file_sink_0_0 = blocks.file_sink(gr.sizeof_float*1, 'D:\\Temp\\1\\audio2.snd', False) self.blocks_file_sink_0_0.set_unbuffered(False) self.blocks_file_sink_0 = blocks.file_sink(gr.sizeof_float*1, 'D:\\Temp\\1\\audio1.snd', False) self.blocks_file_sink_0.set_unbuffered(False) self.audio_sink_0 = audio.sink(48000, '', True) self.analog_wfm_rcv_0_0 = analog.wfm_rcv( quad_rate=samp_rate/4, audio_decimation=10, ) self.analog_wfm_rcv_0 = analog.wfm_rcv( quad_rate=samp_rate/4, audio_decimation=10, ) self.analog_sig_source_x_0_0 = analog.sig_source_c(samp_rate, analog.GR_COS_WAVE, freq_center - freq_2, 1, 0) self.analog_sig_source_x_0 = analog.sig_source_c(samp_rate, analog.GR_COS_WAVE, freq_center - freq_1, 1, 0) ################################################## # Connections ################################################## self.connect((self.analog_sig_source_x_0, 0), (self.blocks_multiply_xx_0, 1)) self.connect((self.analog_sig_source_x_0_0, 0), (self.blocks_multiply_xx_0_0, 1)) self.connect((self.analog_wfm_rcv_0, 0), (self.rational_resampler_xxx_1, 0)) self.connect((self.analog_wfm_rcv_0_0, 0), (self.rational_resampler_xxx_1_0, 0)) self.connect((self.blocks_multiply_xx_0, 0), (self.rational_resampler_xxx_0, 0)) self.connect((self.blocks_multiply_xx_0_0, 0), (self.rational_resampler_xxx_0_0, 0)) self.connect((self.low_pass_filter_0, 0), (self.analog_wfm_rcv_0, 0)) self.connect((self.low_pass_filter_0_0, 0), (self.analog_wfm_rcv_0_0, 0)) self.connect((self.rational_resampler_xxx_0, 0), (self.low_pass_filter_0, 0)) self.connect((self.rational_resampler_xxx_0_0, 0), (self.low_pass_filter_0_0, 0)) self.connect((self.rational_resampler_xxx_1, 0), (self.audio_sink_0, 0)) self.connect((self.rational_resampler_xxx_1, 0), (self.blocks_file_sink_0, 0)) self.connect((self.rational_resampler_xxx_1_0, 0), (self.audio_sink_0, 1)) self.connect((self.rational_resampler_xxx_1_0, 0), (self.blocks_file_sink_0_0, 0)) self.connect((self.rtlsdr_source_0, 0), (self.blocks_multiply_xx_0, 0)) self.connect((self.rtlsdr_source_0, 0), (self.blocks_multiply_xx_0_0, 0)) def get_samp_rate(self): return self.samp_rate def set_samp_rate(self, samp_rate): self.samp_rate = samp_rate self.rtlsdr_source_0.set_sample_rate(self.samp_rate) self.low_pass_filter_0_0.set_taps(firdes.low_pass(1, self.samp_rate/4, 100000, 500000, firdes.WIN_HAMMING, 6.76)) self.low_pass_filter_0.set_taps(firdes.low_pass(1, self.samp_rate/4, 100000, 500000, firdes.WIN_HAMMING, 6.76)) self.analog_sig_source_x_0_0.set_sampling_freq(self.samp_rate) self.analog_sig_source_x_0.set_sampling_freq(self.samp_rate) def get_freq_center(self): return self.freq_center def set_freq_center(self, freq_center): self.freq_center = freq_center self.rtlsdr_source_0.set_center_freq(self.freq_center, 0) self.analog_sig_source_x_0_0.set_frequency(self.freq_center - self.freq_2) self.analog_sig_source_x_0.set_frequency(self.freq_center - self.freq_1) def get_freq_2(self): return self.freq_2 def set_freq_2(self, freq_2): self.freq_2 = freq_2 self.analog_sig_source_x_0_0.set_frequency(self.freq_center - self.freq_2) def get_freq_1(self): return self.freq_1 def set_freq_1(self, freq_1): self.freq_1 = freq_1 self.analog_sig_source_x_0.set_frequency(self.freq_center - self.freq_1) def main(top_block_cls=top_block, options=None): tb = top_block_cls() tb.start() try: raw_input('Press Enter to quit: ') except EOFError: pass tb.stop() tb.wait() if __name__ == '__main__': main()</span></span></code> </pre><br></div></div><br>  Es ist auch praktisch, dass das System plattform√ºbergreifend ist und das resultierende Programm unter Linux, Windows und OSX ausgef√ºhrt werden kann. <br><br><h2>  Fazit </h2><br>  Wir k√∂nnen sagen, dass GNU Radio ein ziemlich kompliziertes System ist, nat√ºrlich nicht in Bezug auf das Zeichnen von Bl√∂cken, sondern in Bezug auf das Verst√§ndnis, wie alles funktioniert.  Aber einige einfache Dinge zu tun ist durchaus machbar und interessant.  GNU Radio wird auch bequem als ‚Äûvirtuelles Labor‚Äú f√ºr Schulungen verwendet. Sie k√∂nnen ein virtuelles Oszilloskop oder einen Spektrumanalysator an einen beliebigen Teil der Schaltung anschlie√üen und sehen, wie das Signal aussieht. <br><br>  Wenn es keine individuellen W√ºnsche gibt, kann das Thema SDR-Empfang wahrscheinlich geschlossen werden - alle Hauptpunkte wurden bereits ber√ºcksichtigt, und die Anzahl der Ansichten vom ersten bis zum dritten Teil sinkt <a href="">fast exponentiell</a> (obwohl Sie immer noch √ºber die √úbertragung schreiben k√∂nnen, aber es erfordert eine teurere ‚Äú Hardware ‚Äúf√ºr Tests als RTL SDR).  Trotzdem hoffe ich, dass den Lesern ein gewisses Verst√§ndnis daf√ºr bleibt, wie dies funktioniert.  Nun, alle erfolgreichen Experimente. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de453038/">https://habr.com/ru/post/de453038/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de453026/index.html">So steigern Sie die Teamproduktivit√§t mehrmals</a></li>
<li><a href="../de453028/index.html">Visuelle Hilfe am Mikrokreis des Ger√§ts</a></li>
<li><a href="../de453030/index.html">Mit einem 3D-Drucker konnte das Auto, das am Grand Prix von 1914 teilnahm, gerettet werden</a></li>
<li><a href="../de453032/index.html">Wir spielen erwachsene Autos - 2: Wie wir ein Telematikanbieter f√ºr Carsharing wurden und 5 B√ºros auf der ganzen Welt er√∂ffneten</a></li>
<li><a href="../de453034/index.html">Vater schuf mit einem 3D-Drucker und einer X-Box eine bionische Prothese f√ºr seinen Sohn</a></li>
<li><a href="../de453042/index.html">H√§ufig gestellte Fragen zu Windows Terminal Build 2019</a></li>
<li><a href="../de453044/index.html">Der lang erwartete Schritt in Richtung komplex strukturierter Dokumente (+ Video)</a></li>
<li><a href="../de453046/index.html">Verwenden aller Funktionen von Indizes in PostgreSQL</a></li>
<li><a href="../de453056/index.html">Prototyping eines Handyspiels, wo man anf√§ngt und wie man es macht. Teil 1</a></li>
<li><a href="../de453058/index.html">AI hat gelernt, Videos aus einem Frame zu erstellen. Alte Gem√§lde k√∂nnen jetzt lebendig gemacht werden</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>