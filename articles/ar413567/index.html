<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ง๐ฟโ๐คโ๐ง๐ป ๐ฅ ๐คณ ุงุจุฏุฃ ูุน ุงูุฎุฏูุงุช ุงูุตุบูุฑุฉ ูู Spring Boot ๐ง๐พโ๐คโ๐ง๐ป ๐ ๐ด</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฑุญุจุง ุจุงูุฌููุน! 

 ูู ูุฐู ุงูููุงูุฉ ุ ุณูู ููุถุญ ุงูููููุงุช ุงูุฃุณุงุณูุฉ ูุฅูุดุงุก ุฎุฏูุงุช ูุงููุฑููุฉ RESTful ุจุงุณุชุฎุฏุงู ุณุฌู ุฎุฏูุงุช ุงูููุตู ุ Boot Spring ูุฌููุน ุงูุณูุงูุงุช ุ ุญ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงุจุฏุฃ ูุน ุงูุฎุฏูุงุช ุงูุตุบูุฑุฉ ูู Spring Boot</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/413567/" style=";text-align:right;direction:rtl">  ูุฑุญุจุง ุจุงูุฌููุน! <br><br>  ูู ูุฐู ุงูููุงูุฉ ุ ุณูู ููุถุญ ุงูููููุงุช ุงูุฃุณุงุณูุฉ ูุฅูุดุงุก ุฎุฏูุงุช ูุงููุฑููุฉ RESTful ุจุงุณุชุฎุฏุงู ุณุฌู ุฎุฏูุงุช ุงูููุตู ุ Boot Spring ูุฌููุน ุงูุณูุงูุงุช ุ ุญูู ุงูุชุจุนูุฉ ุ Maven ููุชุฌููุน ุ ุจุงูุฅุถุงูุฉ ุฅูู Spring REST ู Java RESTful Jersey / JaxRS API. <br><br>  ุงููุฒุงูุง ุงูุฑุฆูุณูุฉ ููุฎุฏูุงุช ุงูุตุบูุฑุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุณุงุนุฏ Microservices ุนูู ูู ุดูุฑุชู </li></ul><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุณูุญ ุงูุฎุฏูุงุช ุงููุตุบุฑุฉ ูููุฑู ุงููุฎุชููุฉ ุจุงูุนูู ุนูู ููููุงุช ุตุบูุฑุฉ ุจุงุณุชุฎุฏุงู ุชูููุงุช ูุณุชููุฉ ุ ููุง ูููุฑ ูุดุฑูุง ุฃูุซุฑ ุฃูุงููุง ูุชูุฑุงุฑูุง. ูุฏุนู Spring Boot ุนูููุงุช ุงูุชูููุฐ ุงููุฎุชููุฉ ูุฅูุดุงุก ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช REST </li></ul><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุง ูุนุชูุฏ ุงูุงูุชุดุงู ูููุงููุฉ ุงูุฎุฏูุงุช ุนูู ุงููุธุงู ุงูุฃุณุงุณู ููุฎุฏูุฉ </li></ul><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชููู Swagger ุจุฅูุดุงุก ูุซุงุฆู API ูููุฉ ููุงุฌูุฉ ุงุชุตุงู </li></ul><br>  ุฅุฐุง ููุช ูุง ุชุณุชุฎุฏู ุจุงููุนู ุงูุฎุฏูุงุช ุงููุตุบุฑุฉ ุ ูุฃูุช ูู ุชูุฌุญ ูู ุงูุฏุฎูู ูู ูุฑุญูุฉ ุงููุชุงุจุนูู ุงูุฃูุงุฆู ุนูู ููุญูู ุชุตูุฑ ุงูุชูููููุฌูุง ุ ูุฑุจูุง ูููู ูุฐุง ูู ุงูููุช ุงูููุงุณุจ ููุจุฏุก. <br><br><img src="https://habrastorage.org/webt/o_/ze/uu/o_zeuux9s9xpxbxjvitgdmiqox4.png"><a name="habracut"></a><br><br>  ุนูู ูุฏุงุฑ ุงูุนูุฏูู ุงููุงุถููู ุ ุฃุตุจุญุช ุงููุคุณุณุฉ ูุฑูุฉ ููุบุงูุฉ ูู ุนูููุฉ SDLC ูุฏููุง ุ ููู ุชุทุจููุงุชูุง ุ ููุงุนุฏุฉ ุนุงูุฉ ุ ูุง ุชุฒุงู ูุชุฌุงูุณุฉ ุ ูุน ุจุฑุทูุงูุงุช ุถุฎูุฉ ุชุฏุนู ุฌููุน ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ูุงูุฅุตุฏุงุฑุงุช ุงููุฎุชููุฉ ูู ุงูุณูู.  ูููู ูู ุงูููุช ุงูุญุงุถุฑ ุ ููุงู ุฑุบุจุฉ ูู ุงููุฒูุฏ ูู ุนูููุงุช Lean ู DevOps ุ ูุฃุตุจุญุช ุงููุธููุฉ "ุจุฏูู ุฎุงุฏู".  ูููู ุฃู ุชููู ุฅุนุงุฏุฉ ุจูุงุก ุงูุฎุฏูุงุช ุงูุตุบูุฑุฉ ูู ุชุดุงุจู ุงูุดูุฑุฉ ูุงูููุงุฑุฏ ุ ูุชุฌุนู ุงูุชุฌููุนุงุช ุฃุตุบุฑ ุ ูุงูุฅุตุฏุงุฑุงุช ุฃูุซุฑ ุฃูุงููุง ุ ููุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุฃูุซุฑ ุงุณุชูุฑุงุฑูุง. <br><br>  ูู ูุฐู ุงูููุงูุฉ ุ ุณูููู ุจุฅูุดุงุก ุชุทุจูู ุจุณูุท ูุฅุฏุงุฑุฉ ูุญูุธุฉ ุณูู ุงูุฃุณูู ูููู ููุนููุงุก ุงูุงุชุตุงู ุจู ูุชูููู ูุญูุธุฉ ุงูุฃุณูู ุงูุฎุงุตุฉ ุจูู (ูุคุดุฑุงุช ุงูุฃุณูู ูุงูููู).  ุณุชููู ุฎุฏูุฉ microservice ุจุงุณุชุฑุฏุงุฏ ูุญูุธุฉ ุงูุนููู ุ ูุฅุฑุณุงููุง ุฅูู ุฎุฏูุฉ microservice ููุชุณุนูุฑ ูุชุทุจูู ุฃุญุฏุซ ุงูุฃุณุนุงุฑ ุ ุซู ุฅุนุงุฏุฉ ุงููุญูุธุฉ ุฐุงุช ุงููููุฉ ุงููุงููุฉ ูุงููุฌููุน ุงููุฑุนู ุ ูุน ุชูุถูุญ ูู ุฐูู ูู ุฎูุงู ููุงููุฉ ุจููุฉ. <br><br><img src="https://habrastorage.org/webt/qe/ea/aw/qeeaawb8mapjtsibfyw3nro_ue8.png"><br><br>  ูุจู ุฃู ูุจุฏุฃ ุงูุนูู ุนูู ุฅูุดุงุก ุฎุฏูุงุชูุง ุงูุตุบูุฑุฉ ุ ูููุนุฏ ุจูุฆุชูุง ูู ุฎูุงู ุฅุนุฏุงุฏ ุงูููุตู. <br><br><h3 style=";text-align:right;direction:rtl">  ุชุญููู ุงูููุตู </h3><br>  ุณูู ูุณุชุฎุฏู Hashicorp Consul ูุงูุชุดุงู ุงูุฎุฏูุงุช ุ ูุฐูู ุงูุชูู ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">www.consul.io/downloads.html</a> ููู ุจุชูุฒูู Consul ูุฃูุธูุฉ Windows ู Linux ู Mac ููุง ุฅูู ุฐูู.  ุณูููุฑ ูู ูุฐุง ููููุง ูุงุจูุงู ููุชูููุฐ ุชุญุชุงุฌ ุฅูู ุฅุถุงูุชู ุฅูู ูุณุงุฑู. <br><br><h3 style=";text-align:right;direction:rtl">  ุฅุทูุงู ุงูููุตู </h3><br>  ูู ููุฌู ุงูุฃูุงูุฑ ุ ูุชู ุชุดุบูู ุงูููุตู ูู ูุถุน dev: <br><br><pre style=";text-align:right;direction:rtl"><code class="bash hljs">consul agent -dev</code> </pre> <br>  ููุชุญูู ูู ุฃูู ูุนูู ุ ุงูุชูู ุฅูู ุงููุณุชุนุฑุถ ุงูุฎุงุต ุจู ูุงููุตูู ุฅูู ูุงุฌูุฉ ุงูููุตู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">http: // localhost: 8500</a> .  ุฅุฐุง ุณุงุฑุช ุงูุฃููุฑ ุนูู ูุง ูุฑุงู ุ ูุฌุจ ุนูู ุงูููุตู ุงูุฅูุงุฏุฉ ุจุฃูู ุนูู ููุฏ ุงูุญูุงุฉ ูุจุตุญุฉ ุฌูุฏุฉ.  ุจุงูุถุบุท ุนูู ุฎุฏูุฉ ุงูููุตู (ุนูู ุงููุณุงุฑ) ุ ุณุชุชููู ูุนูููุงุช ุฅุถุงููุฉ (ุนูู ุงููููู). <br><br><img src="https://habrastorage.org/webt/9p/4m/2t/9p4m2taqogtv6ahb3dnpmvvt2oc.png"><br><br>  ุฅุฐุง ูุงูุช ููุงู ุฃู ูุดุงูู ูู ุงูููุช ุงูุญุงูู ุ ูุชุฃูุฏ ูู ุฅุถุงูุฉ ุงูููุตู ุฅูู ูุณุงุฑ ุงูุชูููุฐ ุ ููููุฐูู 8500 ู 8600 ูุชุงุญุงู. <br><br><h3 style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุชุทุจูู SpringBoot </h3><br>  ุณูุณุชุฎุฏู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Spring Initializr</a> ุ ุงูุฐู ุชู ุฏูุฌู ูู ูุนุธู IDEs ุ ูุณูุงูุฉ ุชุทุจููุงุช SpringBoot.  ุชุณุชุฎุฏู ููุทุงุช ุงูุดุงุดุฉ ุฃุฏูุงู IntelliJ IDEA. <br><br>  ุญุฏุฏ "ููู / ูุดุฑูุน ุฌุฏูุฏ" ููุชุญ ูุงูุจ ูุดุฑูุน ุฌุฏูุฏ ุ ุซู "Spring Initializr". <br><br><img src="https://habrastorage.org/webt/xb/j5/3t/xbj53tf_bfr5dauohwqmv9gkdmm.png"><br><br>  ุจุดูู ุนุงู ุ ููููู ุฅุนุฏุงุฏ ุงูุณูุงูุงุช ุจุฏูู IDE ุนู ุทุฑูู ููุก ูููุฐุฌ ุนุจุฑ ุงูุฅูุชุฑูุช ุนุจุฑ ุตูุญุฉ ุงูููุจ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SpringBoot</a> Initializr <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">start.spring.io</a> ุ ูุงูุชู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุณุชูุดุฆ ููููุง ูุถุบูุทูุง ููุดุฑูุนู</a> ุงููุงุฑุบ ุ ุฌุงูุฒูุง ููุชูุฒูู. <br><br>  ุงููุฑ ุนูู "ุงูุชุงูู" ูุงููุฃ ุงูุจูุงูุงุช ุงููุตููุฉ ูููุดุฑูุน.  ุงุณุชุฎุฏู ุงูุชูููู ุงูุชุงูู: <br><br><img src="https://habrastorage.org/webt/l0/_p/zk/l0_pzkpsppbplfrusj7suogqmyk.png"><br><br>  ุงููุฑ ููู "ุงูุชุงูู" ูุชุญุฏูุฏ ุงูุชุจุนูุงุช ุ ูุฃุฏุฎู "ุฌูุฑุณู" ู "ุงูููุตู ุฏูุณููุฑู" ูู ุงูุจุญุซ ุนู ุงูุชุจุนูุงุช.  ุฃุถู ูุฐู ุงูุชุจุนูุงุช: <br><br><img src="https://habrastorage.org/webt/jt/t8/l8/jtt8l89pauvzyu_oo_riav_na4e.png"><br><br>  ุงููุฑ ููู "ุงูุชุงูู" ููุฅุดุงุฑุฉ ุฅูู ุงุณู ุงููุดุฑูุน ููููุนู.  ุงุญุชูุธ ุจุงูุงุณู ุงูุงูุชุฑุงุถู "ูุญูุธุฉ" ูุญุฏุฏ ุงููููุน ุงูููุถู ูููุดุฑูุน ุ ุซู ุงููุฑ ุนูู "ุฅููุงุก" ูุฅูุดุงุก ุงููุดุฑูุน ููุชุญู: <br><br><img src="https://habrastorage.org/webt/un/xl/gh/unxlgh-ufplppxqhuyfyfdoug5g.png"><br><br>  ูููููุง ุงุณุชุฎุฏุงู application.properties ุงูุฐู ุชู ุฅูุดุงุคู ุ ููู SpringBoot ูุชุนุฑู ุฃูุถูุง ุนูู ุชูุณูู YAML ุ ููู ุฃุณูู ููููุงู ูู ุงูุชุตูุฑ ุ ูุฐุง ุฏุนูุง ูุนูุฏ ุชุณููุชู ุฅูู application.yml. <br><br>  ูุญู ูุณูู ุงูุฎุฏูุฉ ุงูุตุบูุฑุฉ "ุฎุฏูุฉ ุงูุญุงูุธุฉ".  ูููููุง ุชุญุฏูุฏ ูููุฐ ุฃู ุงุณุชุฎุฏุงู ูููุฐ 0 ุจุญูุซ ูุณุชุฎุฏู ุงูุชุทุจูู ูููุฐูุง ูุชุงุญูุง.  ูู ุญุงูุชูุง ุ ุณูุณุชุฎุฏู 57116. ุฅุฐุง ุงุณุชุถูุช ูุฐู ุงูุฎุฏูุฉ ูุญุงููุฉ Docker ุ ูููููู ุชุนููููุง ุฅูู ุฃู ูููุฐ ุชุญุฏุฏู.  ูู ุจุชุณููุฉ ุงูุชุทุจูู ูุญุฏุฏ ูููุฐูุง ุจุฅุถุงูุฉ ูุง ููู ุฅูู application.yml ุงูุฎุงุต ุจูุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">spring: application: name: portfolio-service server: port: 57116</code> </pre><br>  ูุฅุชุงุญุฉ ุฎุฏูุชูุง ุ ุฃุถู ุชุนููููุง ุชูุถูุญููุง ุฅูู ูุฆุฉ ุชุทุจูู SpringBoot.  ุงูุชุญ ุชุทุจูู PortfolioApplication ูุฃุถูEnableDiscoveryClient ุฃุนูู ุชุนุฑูู ุงููุฆุฉ. <br><br>  ูู ุจุชุฃููุฏ ุนูููุงุช ุงูุงุณุชูุฑุงุฏ.  ูุฌุจ ุฃู ูุจุฏู ุงููุตู ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">package com.restms.demo.portfolio; import org.springframework.cloud.client.discovery.EnableDiscoveryClient; . . . @SpringBootApplication @EnableDiscoveryClient public class PortfolioApplication { public static void main(String[] args) { SpringApplication.run(PortfolioApplication.class, args); } }</code> </pre><br>  (ูุชูุถูุญ ููู ูููู ุฃู ุชุชููู ุงูุฎุฏูุงุช ุงูุตุบูุฑุฉ ูู ููุตุงุช ูุณุชููุฉ ุ ุณูุณุชุฎุฏู ุฌูุฑุณู ููุฐู ุงูุฎุฏูุฉ ู Spring REST ููุฎุฏูุฉ ุงูุชุงููุฉ). <br>  ูุชููุฆุฉ ุฎุฏูุฉ ุงูููุจ RESTful ุนูู ุฌูุฑุณู ุ ูุญุชุงุฌ ุฅูู ุชุญุฏูุฏ ูุฆุฉ ุงูุชูููู ResourceConfig.  ุฃุถู ูุฆุฉ JerseyConfig (ููุชูุถูุญ ุ ุณูููู ุจุญูุธูุง ูู ููุณ ุงูุญุฒูุฉ ูุซู ูุฆุฉ ุงูุชุทุจูู ูุฏููุง).  ูุฌุจ ุฃู ูุจุฏู ูุซู ูุฐุง ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงูุญุฒูุฉ ูุงูุงุณุชูุฑุงุฏ ุงูุตุญูุญูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">@Configuration @ApplicationPath(<span class="hljs-string"><span class="hljs-string">"portfolios"</span></span>) public class JerseyConfig extends ResourceConfig { public <span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">JerseyConfig</span></span></span></span>() { register(PortfolioImpl.class); } }</code> </pre><br>  ูุงุญุธ ุฃูู ูุฑุซ ูู ResourceConfig ูุชุนูููู ุนูู ุฃูู ูุฆุฉ ุชูููู ุฌูุฑุณู.  ุชุญุฏุฏ ุงูุณูุฉApplicationPath ("folios ") ุณูุงู ุงูููุงููุฉ ุ ููุง ูุนูู ุฃูู ูุฌุจ ุฃู ุชุจุฏุฃ ุงูููุงููุงุช ุจุนูุตุฑ ูุณุงุฑ "folios".  (ุฅุฐุง ุญุฐูุชู ุ ูุฅู ุงูุณูุงู ุงูุงูุชุฑุงุถู ูู "/"). <br><br>  ุณุชุนูู ูุฆุฉ PortfolioImpl ุนูู ุทูุจูู: ุชูุธูุฑ ูุญุงูุธ / ุงูุนููุงุก / {customer-id} ุฌููุน ุงููุญุงูุธ ูุงููุญุงูุธ / ุงูุนููุงุก / {customer-id} / Wallet / {Wallet-id} ุชูุฑุฌุน ูุญูุธุฉ ูุงุญุฏุฉ.  ุชุชููู ุงููุญูุธุฉ ูู ูุฌููุนุฉ ูู ุงููุคุดุฑุงุช ูุนุฏุฏ ุงูุฃุณูู ุงูุชู ูุญุชูุธ ุจูุง ูุฐุง ุงููุคุดุฑ.  (ููุชูุถูุญ ุ ููุงู ุซูุงุซุฉ ุนููุงุก ุจูุนุฑูุงุช 0 ู 1 ู 2 ุ ูููู ูููุง ุซูุงุซ ุญูุงุฆุจ ุจูุนุฑูุงุช 0 ู 1 ู 2). <br><br>  ุณูุทูุจ ููู IDE ุฅูุดุงุก PortfolioImpl ุ  ุงูุนู ุฐูู ุงูุขู.  ููุชูุถูุญ ุ ุฃุถูู ุฅูู ููุณ ุงูุญุฒูุฉ.  ุฃุฏุฎู ุงูุฑูุฒ ุฃุฏูุงู ูุฃูุฏ ุฌููุน ุนูููุงุช ุงูุงุณุชูุฑุงุฏ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">@Component @Path(<span class="hljs-string"><span class="hljs-string">"/"</span></span>) public class PortfolioImpl implements InitializingBean { private Object[][][][] clientPortfolios; @GET @Path(<span class="hljs-string"><span class="hljs-string">"customer/{customer-id}"</span></span>) @Produces(MediaType.APPLICATION_JSON) // a portfolio consists of an array of arrays, each containing an array of // stock ticker and associated shares public Object[][][] getPortfolios(@PathParam(<span class="hljs-string"><span class="hljs-string">"customer-id"</span></span>) int customerId) { <span class="hljs-built_in"><span class="hljs-built_in">return</span></span> clientPortfolios[customerId]; } @GET @Path(<span class="hljs-string"><span class="hljs-string">"customer/{customer-id}/portfolio/{portfolio-id}"</span></span>) @Produces(MediaType.APPLICATION_JSON) public Object[][] getPortfolio(@PathParam(<span class="hljs-string"><span class="hljs-string">"customer-id"</span></span>) int customerId, @PathParam(<span class="hljs-string"><span class="hljs-string">"portfolio-id"</span></span>) int portfolioId) { <span class="hljs-built_in"><span class="hljs-built_in">return</span></span> getPortfolios(customerId)[portfolioId]; } @Override public void afterPropertiesSet() throws Exception { Object[][][][] clientPortfolios = { { // 3 customers, 3 portfolios each {new Object[]{<span class="hljs-string"><span class="hljs-string">"JPM"</span></span>, 10201}, new Object[]{<span class="hljs-string"><span class="hljs-string">"GE"</span></span>, 20400}, new Object[]{<span class="hljs-string"><span class="hljs-string">"UTX"</span></span>, 38892}}, {new Object[]{<span class="hljs-string"><span class="hljs-string">"KO"</span></span>, 12449}, new Object[]{<span class="hljs-string"><span class="hljs-string">"JPM"</span></span>, 23454}, new Object[]{<span class="hljs-string"><span class="hljs-string">"MRK"</span></span>, 45344}}, {new Object[]{<span class="hljs-string"><span class="hljs-string">"WMT"</span></span>, 39583}, new Object[]{<span class="hljs-string"><span class="hljs-string">"DIS"</span></span>, 95867}, new Object[]{<span class="hljs-string"><span class="hljs-string">"TRV"</span></span>, 384756}}, }, { {new Object[]{<span class="hljs-string"><span class="hljs-string">"GE"</span></span>, 38475}, new Object[]{<span class="hljs-string"><span class="hljs-string">"MCD"</span></span>, 12395}, new Object[]{<span class="hljs-string"><span class="hljs-string">"IBM"</span></span>, 91234}}, {new Object[]{<span class="hljs-string"><span class="hljs-string">"VZ"</span></span>, 22342}, new Object[]{<span class="hljs-string"><span class="hljs-string">"AXP"</span></span>, 385432}, new Object[]{<span class="hljs-string"><span class="hljs-string">"UTX"</span></span>, 23432}}, {new Object[]{<span class="hljs-string"><span class="hljs-string">"IBM"</span></span>, 18343}, new Object[]{<span class="hljs-string"><span class="hljs-string">"DIS"</span></span>, 45673}, new Object[]{<span class="hljs-string"><span class="hljs-string">"AAPL"</span></span>, 23456}}, }, { {new Object[]{<span class="hljs-string"><span class="hljs-string">"AXP"</span></span>, 34543}, new Object[]{<span class="hljs-string"><span class="hljs-string">"TRV"</span></span>, 55322}, new Object[]{<span class="hljs-string"><span class="hljs-string">"NKE"</span></span>, 45642}}, {new Object[]{<span class="hljs-string"><span class="hljs-string">"CVX"</span></span>, 44332}, new Object[]{<span class="hljs-string"><span class="hljs-string">"JPM"</span></span>, 12453}, new Object[]{<span class="hljs-string"><span class="hljs-string">"JNJ"</span></span>, 45433}}, {new Object[]{<span class="hljs-string"><span class="hljs-string">"MRK"</span></span>, 32346}, new Object[]{<span class="hljs-string"><span class="hljs-string">"UTX"</span></span>, 46532}, new Object[]{<span class="hljs-string"><span class="hljs-string">"TRV"</span></span>, 45663}}, } }; this.clientPortfolios = clientPortfolios; } }</code> </pre><br>  ูุนููู ุงูุชุนููู ุงูุชูุถูุญู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">ูููููู</a> ูุฐุง ุนูู ุฃูู ูุฆุฉ ูููู ุงูุฑุจูุน ููููุฑู ูููุทุฉ ููุงูุฉ.  ุชุนูู ุงูุชุนูููุงุช ุงูุชูุถูุญูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">ูููุณุงุฑ</a> ุญูู ุฅุนูุงู ุงููุตู ุนู ุฃูู ูุชู ุงููุตูู ุฅูู ุงููุตู ุงูุฏุฑุงุณู ุนุจุฑ ุนูุตุฑ ุงููุณุงุฑ "/" ุ ูุฃู ููุงููุชูู ูุฏุนููุชูู ูุชุงุญุชูู ุนุจุฑ ุงููุญุงูุธ / ุงูุฒุจูู / {ุงูุนููู-ูุนุฑู} ูุงููุญุงูุธ / ุงูุฒุจูู / {ุงูุนููู-ูุนุฑู} / ูุญูุธุฉ / {ูุญูุธุฉ- ูุนุฑู} ุ ููุง ูุฑู ูู ุงูุชุนูููุงุช ุงูุชูุถูุญูุฉ ููุทุฑููุฉ.  ูุงุญุธ ุฃู ุงููุณุงุฑ ("/") ูู ุงููุณุงุฑ ุงูุงูุชุฑุงุถู ุ ููููุง ูุชุฑูู ููุฑุฌุน.  ูุชู ุชุนููู ุงูุฃุณุงููุจ ุนูู ุฃููุง HTTP GET ุนุจุฑGETannotation.  ุชู ุชุตููู ุทุฑููุชูุง ูุฅุฑุฌุงุน ูุตูููุฉ ูุชุนููู ุนูููุง ูุฅุฑุฌุงุน Json ุ ุจุญูุซ ุชููู ุจุฅุฑุฌุงุน ุตููู Json.  ูุงุญุธ ููููุฉ ุงุณุชุฎุฏุงู ุงูุชุนูููุงุช ุงูุชูุถูุญูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">Path</a> Param ูู ุชูููุน ุงูุทุฑููุฉ ูุงุณุชุฎุฑุงุฌ ุงููุนููุงุช ุงููุนุฑูุถุฉ ูู ุงูุงุณุชุนูุงูุงุช ุงููุนุฑูุถุฉ. <br><br>  (ุจุงููุณุจุฉ ุฅูู ุงูุนุฑุถ ุงูุชูุถูุญู ุงูุฎุงุต ุจูุง ุ ูุฅููุง ูุนูุฏ ุงูููู ุฐุงุช ุงูุชุฑููุฒ ุงูุซุงุจุช. ุจุงูุทุจุน ุ ุนููููุง ุ ุณูู ูุณุชุนูู ุงูุชูููุฐ ุนู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฃู ุฎุฏูุฉ ุฃู ูุตุฏุฑ ุจูุงูุงุช ุขุฎุฑ ุจุฏูุงู ูู ุงูุฑูุฒ ุงูุซุงุจุช.) <br>  ุงูุขู ูู ุจุฅูุดุงุก ูุดุฑูุน ูุชุดุบููู.  ุฅุฐุง ููุช ุชุณุชุฎุฏู IntelliJ ุ ูุณูููู ุจุฅูุดุงุก ููู ุงูุชุฑุงุถู ูุงุจู ููุชูููุฐ ุ ูุง ุนููู ุณูู ุงูููุฑ ููู ุงูุณูู ุงูุฃุฎุถุฑ "ุชุดุบูู".  ููููู ุฃูุถูุง ุงุณุชุฎุฏุงู <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">mvn spring-boot:run</code> </pre> <br>  ุฃู ููููู ุชูููุฐ ุชุซุจูุช ูุฎุถุฑู ูุชุดุบูู ุงูุชุทุจูู ุจุงุณุชุฎุฏุงู java -jar ุ ูุดูุฑุงู ุฅูู ุงููุฑุทุจุงู ุงูุฐู ุชู ุฅูุดุงุคู ูู ุงูุฏููู ุงููุฏู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">java -jar target\portfolio-0.0.1-SNAPSHOT.jar</code> </pre> <br>  ุงูุขู ูุฌุจ ุฃู ูุฑู ูุฐู ุงูุฎุฏูุฉ ูู ุงูููุตู ุ ูุฐูู ุฏุนููุง ูุนูุฏ ุฅูู ูุชุตูุญูุง ุ ูู ุจุชูุฒูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">http: // localhost: 8500 / ui / # / dc1 / services</a> (ุฃู ูู ุจุงูุชุญุฏูุซ ุฅุฐุง ููุช ููุฌูุฏูุง ุจุงููุนู). <br><br><img src="https://habrastorage.org/webt/bs/ab/2v/bsab2vs-dswpzy7nmpevmtphdma.png"><br><br>  ุญุณููุง ุ ูุฑู ุฎุฏูุชูุง ููุงู ุ ูููู ูุชู ุนุฑุถูุง ุนูู ุฃููุง ูุงุดูุฉ.  ูุฐูู ูุฃู ุงูููุตู ูุชููุน ุฅุดุงุฑุฉ ูุจุถ "ุตุญูุฉ" ูู ุฎุฏูุชูุง. <br>  ูุชูููุฏ ุฅุดุงุฑุงุช ูุจุถุงุช ุงูููุจ ุ ูููููุง ุฅุถุงูุฉ ุงูุงุนุชูุงุฏ ุนูู ุฎุฏูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Spring Actuator</a> ุฅูู ุฏููู ุชุทุจูููุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt; &lt;/dependency&gt;</code> </pre><br>  ุฃุซูุงุก ูุฌูุฏูุง ูู ุจูู ุ ูุงุญุธ ุฃู ููุงู ุชุนุงุฑุถูุง ูู ุงูุฅุตุฏุงุฑ ูุน ุฌูุฑุณู ุจูู ูุงุชุจ ุงูููุตู ููุจุชุฏุฆ ุฌูุฑุณู.  ูุชูุนูู ูุฐุง ุ ุนููู ูุงุชุจ ุฌูุฑุณู ูุฃูู ุฅุฏูุงู. <br><br>  ูุฌุจ ุฃู ูุญุชูู ุจูู ุงูุฎุงุต ุจู ุงูุขู ุนูู ุงูุชุจุนูุงุช ุงูุชุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-consul-discovery&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;<span class="hljs-built_in"><span class="hljs-built_in">test</span></span>&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;</code> </pre><br>  ูู ุฎูุงู ุฅุนุงุฏุฉ ุชุดุบูู ุงูููุตู ุ ุชุนุฑุถ ุฎุฏูุฉ Portfolio ูุงุญุฏุฉ ุณุนูุฏุฉ: <br><br><img src="https://habrastorage.org/webt/uf/oq/qr/ufoqqrtcnxnlwazqy-ozrp1lceo.png"><br><br>  ุงูุขู ูู ุฎุฏูุฉ ุงููุญูุธุฉ ููุงู ุนูุฏุชุงู ููุฅุฑุณุงู: ุฅุญุฏุงูุง ูู ุชูููุฐ ุฎุฏูุฉ ุงููุญูุธุฉ ุ ูุงูุฃุฎุฑู ูู ุถุฑุจุงุช ุงูููุจ. <br><br>  ุฏุนููุง ูุชุญูู ูู ุงููููุฐ ุงูุฐู ุชู ุชุนูููู.  ููููู ุฃู ุชุฑู ุฐูู ูู ุฅุฎุฑุงุฌ ุงูุชุทุจูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">INFO 19792 --- [ main] sbcetTomcatEmbeddedServletContainer : Tomcat started on port(s): 57116 (http)</code> </pre> <br>  ููููู ุฃูุถูุง ุฑุคูุฉ ุงููููุฐ ูุจุงุดุฑุฉ ูู ูุงุฌูุฉ ูุณุชุฎุฏู ุงูููุตู.  ุงููุฑ ุนูู "ุฎุฏูุฉ ุงูุนููุงุก" ุ ุซู ุญุฏุฏ ุฑุงุจุท "ุงูุฎุฏูุฉ" ุงุฑุชุจุงุท ุงูุชุญูู ูู ุฎุฏูุฉ ุงูุนููุงุก "ุ ูุงูุฐู ูุนุฑุถ ูููุฐ ุงูุฎุฏูุฉ ุ ูู ูุฐู ุงูุญุงูุฉ 57116. <br><br><img src="https://habrastorage.org/webt/s_/up/ce/s_upceczzu0xupqioariurhawz8.png"><br><br>  ุงุทูุจ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">http: // localhost: 57116 /folios / customer / 1 / Wallet / 2</a> ูุณุชุฑู ูุฌููุนุฉ json [["IBM"ุ 18343]ุ ["DIS"ุ 45673]ุ ["AAPL"ุ 23456]] <br><br>  ุฎุฏูุชูุง ุงูุตุบูุฑุฉ ุงูุฃููู ููุชูุญุฉ ููุฃุนูุงู! <br><br><h3 style=";text-align:right;direction:rtl">  ุฎุฏูุฉ ุงูุชุณุนูุฑ </h3><br>  ุจุนุฏ ุฐูู ุ ุณููุดุฆ ุฎุฏูุฉ ุงูุชุณุนูุฑ ูุฏููุง ุ ูุฐู ุงููุฑุฉ ุจุงุณุชุฎุฏุงู Spring RestController ุจุฏูุงู ูู ุฌูุฑุณู. <br><br>  ุณุชูุจู ุฎุฏูุฉ ุงูุชุณุนูุฑ ูุนุฑู ุงูุนููู ููุนุฑู ุงููุญูุธุฉ ููุนููุงุช ูุณุชุณุชุฎุฏู RestTemplate ูุทูุจ ุฎุฏูุงุช ุงููุญูุธุฉ ูุชููู ุงููุคุดุฑุงุช ูุงูุฃุณูู ูุฅุนุงุฏุฉ ุงูุฃุณุนุงุฑ ุงูุญุงููุฉ.  (ูุณุช ุจุญุงุฌุฉ ุฅูู ุฃู ุฃุฎุจุฑู ุฃู ูุฐู ุงูููู ูู ุฃุฎุจุงุฑ ูุฒููุฉ ุ ูุฐูู ูุง ุชุณุชุฎุฏููุง ูุงุชุฎุงุฐ ูุฑุงุฑุงุช ุงูุชุฏุงูู!) <br><br>  ูู ุจุฅูุดุงุก ูุดุฑูุน ุฌุฏูุฏ ุจุงุณุชุฎุฏุงู ุงููุนูููุงุช ุงูุชุงููุฉ: <br><br><img src="https://habrastorage.org/webt/gz/sy/sm/gzsysm7_cgynyxucuhgrcfoxhbs.png"><br><br>  ูุฐู ุงููุฑุฉ ุ ุญุฏุฏ ุชุจุนูุงุช ุงูููุจ ู Consul Discovery ู Actuator: <br><br><img src="https://habrastorage.org/webt/1l/ke/ov/1lkeovxzix2pxqwmodb2efdw-zu.png"><br><br>  ุงุชุฑู ุงูุงุณู ุงูุงูุชุฑุงุถู ููุดุฑูุน "ุงูุชุณุนูุฑ" ูุฃูุดุฆ ูุดุฑูุนูุง ูู ุงูุฏููู ุงูุฐู ุชุฎุชุงุฑู. <br><br>  ูุฐู ุงููุฑุฉ ุณูู ูุณุชุฎุฏู application.properties ุจุฏูุงู ูู application.yml. <br>  ูู ุจุชุนููู ุงูุงุณู ูุงููููุฐ ูู application.properties ูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">spring.application.name=pricing server.port=57216</code> </pre> <br>  ุถุน ุชุนูููุงุช ุชูุถูุญูุฉ ุญูู ุงูุชุณุนูุฑ ูุนEnableDiscoveryClient.  ูุฌุจ ุฃู ุชุจุฏู ุงููุฆุฉ ุนูู ูุฐุง ุงููุญู ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงูุญุฒูุฉ ูุงูุงุณุชูุฑุงุฏ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">@SpringBootApplication @EnableDiscoveryClient public class PricingApplication { public static void main(String[] args) { SpringApplication.run(PricingApplication.class, args); } }</code> </pre><br>  ุซู ุณููุดุฆ ูุฆุฉ PricingEndpoint.  ููุง ุณุฃูุฏู ูุซุงูุงู ุฃูุซุฑ ุชูุตููุงู ุ ูุฃูู ููุถุญ ุงูุนุฏูุฏ ูู ุงููุธุงุฆู ุงููููุฉ ุ ุจูุง ูู ุฐูู ุงูุชุดุงู ุงูุฎุฏูุฉ (ุงูุจุญุซ ุนู ุฎุฏูุฉ ุงููุญูุธุฉ) ูุงุณุชุฎุฏุงู RestTemplate ููุงุณุชุนูุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">@RestController @RequestMapping(<span class="hljs-string"><span class="hljs-string">"/pricing"</span></span>) public class PricingEndpoint implements InitializingBean { @Autowired DiscoveryClient client; Map&lt;String, Double&gt; pricingMap = new HashMap&lt;&gt;(); RestTemplate restTemplate = new RestTemplate(); @GetMapping(<span class="hljs-string"><span class="hljs-string">"/customer/{customer-id}/portfolio/{portfolio-id}"</span></span>) public List&lt;String&gt; getPricedPortfolio( @PathVariable(<span class="hljs-string"><span class="hljs-string">"customer-id"</span></span>) Integer customerId, @PathVariable(<span class="hljs-string"><span class="hljs-string">"portfolio-id"</span></span>) Integer portfolioId) { List&lt;ServiceInstance&gt; instances = client.getInstances(<span class="hljs-string"><span class="hljs-string">"portfolio-service"</span></span>); ServiceInstance instance = instances.stream() .findFirst() .orElseThrow(() -&gt; new RuntimeException(<span class="hljs-string"><span class="hljs-string">"not found"</span></span>)); String url = String.format(<span class="hljs-string"><span class="hljs-string">"%s/portfolios/customer/%d/portfolio/%d"</span></span>, instance.getUri(), customerId, portfolioId); // query <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> the portfolios, returned as an array of List // of size 2, containing a ticker and a position (<span class="hljs-comment"><span class="hljs-comment"># of shares) Object[] portfolio = restTemplate.getForObject(url, Object[].class); // Look up the share prices, and return a list of Strings, formatted as // ticker, shares, price, total List&lt;String&gt; collect = Arrays.stream(portfolio).map(position -&gt; { String ticker = ((List&lt;String&gt;) position).get(0); int shares = ((List&lt;Integer&gt;) position).get(1); double price = getPrice(ticker); double total = shares * price; return String.format("%s %d %f %f", ticker, shares, price, total); }).collect(Collectors.toList()); return collect; } private double getPrice(String ticker) { return pricingMap.get(ticker); } @Override public void afterPropertiesSet() throws Exception { pricingMap.put("MMM",201.81); pricingMap.put("AXP",85.11); pricingMap.put("AAPL",161.04); pricingMap.put("BA",236.32); pricingMap.put("CAT",118.02); pricingMap.put("CVX",111.31); pricingMap.put("CSCO",31.7); pricingMap.put("KO",46.00); pricingMap.put("DIS",101.92); pricingMap.put("XOM",78.7); pricingMap.put("GE",24.9); pricingMap.put("GS",217.62); pricingMap.put("HD",155.82); pricingMap.put("IBM",144.29); pricingMap.put("INTC",35.66); pricingMap.put("JNJ",130.8); pricingMap.put("JPM",89.75); pricingMap.put("MCD",159.81); pricingMap.put("MRK",63.89); pricingMap.put("MSFT",73.65); pricingMap.put("NKE",52.78); pricingMap.put("PFE",33.92); pricingMap.put("PG",92.79); pricingMap.put("TRV",117.00); pricingMap.put("UTX",110.12); pricingMap.put("UNH",198.00); pricingMap.put("VZ",47.05); pricingMap.put("V",103.34); pricingMap.put("WMT", 80.05); } }</span></span></code> </pre><br>  ููุนุซูุฑ ุนูู ุฎุฏูุฉ ุงููุญูุธุฉ ุ ูุญุชุงุฌ ุฅูู ุงููุตูู ุฅูู DiscoveryClient.  ูู ุงูุณูู ุงูุญุตูู ุนูู ุงูุชุนูููุงุช ุงูุชูุถูุญูุฉ ุงูุชููุงุฆูุฉ ูู Spring @. <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">@Autowired DiscoveryClient client;</code> </pre><br>  ูุชู ุจุนุฏ ุฐูู ุงุณุชุฎุฏุงู ูุซูู DiscoveryClient ููุจุญุซ ุนู ุงูุฎุฏูุฉ ูู ุงูููุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">List&lt;ServiceInstance&gt; instances = client.getInstances(<span class="hljs-string"><span class="hljs-string">"portfolio-service"</span></span>); ServiceInstance instance = instances.stream().findFirst().orElseThrow(() -&gt; new RuntimeException(<span class="hljs-string"><span class="hljs-string">"not found"</span></span>));</code> </pre><br>  ุจุนุฏ ุงูุนุซูุฑ ุนูู ุงูุฎุฏูุฉ ุ ูููููุง ุงุณุชุฎุฏุงููุง ูุชูุจูุฉ ุทูุจูุง ุ ุงูุฐู ูููู ุจุฅูุดุงุฆู ููููุง ูููุงููุฉ ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุชู ุชู ุฅูุดุงุคูุง ูู ุฎุฏูุฉ ุงููุญูุธุฉ ูุฏููุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">String url = String.format(<span class="hljs-string"><span class="hljs-string">"%s/portfolios/customer/%d/portfolio/%d"</span></span>, instance.getUri(), customerId, portfolioId);</code> </pre><br>  ุฃุฎูุฑูุง ุ ูุณุชุฎุฏู RestTemplate ูุชูููุฐ ุทูุจ GET. <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">Object[] portfolio = restTemplate.getForObject(url, Object[].class);</code> </pre> <br>  ูุงุญุธ ุฃูู ุจุงููุณุจุฉ ุฅูู ุฃุฌูุฒุฉ ุงูุชุญูู ูู ุงูุฑุงุญุฉ (ููุฐูู ุจุงููุณุจุฉ ุฅูู ูุญุฏุฉ ุชุญูู ุทูุจ MVC ูู ุงูุฑุจูุน) ุ ูุชู ุงุณุชุฑุฏุงุฏ ูุชุบูุฑุงุช ุงููุณุงุฑ ุจุงุณุชุฎุฏุงู ุงูุชุนููู ุงูุชูุถูุญู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">Path</a> Variable ุ ุนูู ุนูุณ ุฌูุฑุณู ุ ุงูุชู ุ ููุง ุฑุฃููุง ุ ุชุณุชุฎุฏู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">Path</a> Param. <br><br>  ุจูุฐุง ูุฎุชุชู ุฃุณุนุงุฑูุง ูุน Spring RestController. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุชูุซูู </h3><br>  ููุฏ ุญูููุง ูู ูุฐู ุงููุดุงูู ูู ุฃุฌู ุฅูุดุงุก ุฎุฏูุงุชูุง ุงูุฏูููุฉ ุ ููููุง ูู ุชุญูู ูุงุฆุฏุฉ ูุงููุฉ ุฅุฐุง ูู ูุนุท ุงูุนุงูู ุงููุนุฑูุฉ ุญูู ููููุฉ ุงุณุชุฎุฏุงููุง. <br><br>  ููููุงู ุจุฐูู ุ ูุณุชุฎุฏู ุฃุฏุงุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Swagger</a> ุงููุฑูุญุฉ ูุงูุณููุฉ ุงูุงุณุชุฎุฏุงู ุ ูุงูุชู ูุง ุชูุซู ููุงููุงุช API ุงูุฎุงุตุฉ ุจูุง ูุญุณุจ ุ ุจู ุชููุฑ ุฃูุถูุง ุนููู ููุจ ููุงุฆู ููุงุชุตุงู ุจูุง. <br><br>  ุฃููุงู ุ ุฏุนูุง ูุญุฏุฏ Swagger ูู ูุฌูุฏูุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">&lt;dependency&gt; &lt;groupId&gt;io.springfox&lt;/groupId&gt; &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt; &lt;version&gt;2.7.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;io.springfox&lt;/groupId&gt; &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt; &lt;version&gt;2.7.0&lt;/version&gt; &lt;/dependency&gt;</code> </pre><br>  ุซู ูุญุชุงุฌ ุฅูู ุฅุฎุจุงุฑ Swagger ุจุฃู ูู ุงููุตูู ุงูุฏุฑุงุณูุฉ ุงูุชู ูุฑูุฏ ุชูุซูููุง.  ุฏุนููุง ููุฏู ูุฆุฉ SwaggerConfig ุงูุฌุฏูุฏุฉ ุงูุชู ุชุญุชูู ุนูู ููุงุตูุงุช Swagger. <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">@Configuration @EnableSwagger2 public class SwaggerConfig { @Bean public Docket <span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">api</span></span></span></span>() { <span class="hljs-built_in"><span class="hljs-built_in">return</span></span> new Docket(DocumentationType.SWAGGER_2) .select() .apis(RequestHandlerSelectors.any()) .paths(PathSelectors.regex(<span class="hljs-string"><span class="hljs-string">"/pricing.*"</span></span>)) .build(); } }</code> </pre><br>  ุฏุนููุง ูุฑู ูุง ููุนูู ูุฐุง ุงููุตู.  ุฃููุงู ุ ูููุง ุจุชุนููู ูุฐุง ูุชูููู Swagger ูุน ุงูุชุนููู ุงูุชูุถูุญู @ EnableSwagger2. <br><br>  ุซู ุฃูุดุฃูุง ูููู Docket ูุฎุจุฑ Swagger ุนู ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุชู ูุฌุจ ุนุฑุถูุง.  ูู ุงููุซุงู ุฃุนูุงู ุ ุฃุฎุจุฑูุง Swagger ุจุฅุธูุงุฑ ุฃู ูุณุงุฑ ูุจุฏุฃ ุจู "/ ุงูุชุณุนูุฑ".  ุณูููู ุงูุจุฏูู ุชุญุฏูุฏ ูุฆุงุช ููุชูุซูู ุ ูููุณ ูููุณุงุฑุงุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">.apis(RequestHandlerSelectors.basePackage(<span class="hljs-string"><span class="hljs-string">"com.restms.demo"</span></span>)) .paths(PathSelectors.any())</code> </pre><br>  ุฃุนุฏ ุชุดุบูู ุฎุฏูุฉ microservice ุจุงูุฃุณุนุงุฑ ูุงุชุตู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">http: // localhost: 57216 / swagger-ui.html</a> ูู ุงููุชุตูุญ <br><br><img src="https://habrastorage.org/webt/8x/0k/gk/8x0kgk8hxs_dpijzolsmxk8rdva.png"><br><br>  ุงููุฑ ููู ูุงุฆูุฉ ุงูุนูููุงุช ูุนุฑุถ ุนูููุงุช ุงูุฎุฏูุฉ ุจุงูุชูุตูู. <br>  ุงููุฑ ููู ุชูุณูุน ุงูุนูููุงุช ูุฅูุดุงุก ุทูุจ ูุณุชูุฏ ุฅูู ุงููููุฐุฌ.  ูู ุจุชุนููู ุจุนุถ ุงููุนููุงุช ุ ุงููุฑ ููู "ุฌุฑุจูุง!"  ูุงูุชุธุฑ ุงูุฌูุงุจ: <br><br><img src="https://habrastorage.org/webt/rf/0_/iu/rf0_ius_kz3fljd74-aaqhzwsia.png"><br><br>  ููููู ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูุฃููุงู ุจุฅุถุงูุฉ ุชุนูููุงุช Swagger ุงูุชูุถูุญูุฉ ุฅูู ุทุฑูู. <br>  ุนูู ุณุจูู ุงููุซุงู ุ ูู ุจุชุฒููู ุฃุณููุจ PricingImpl.getPricedPortfolio ุงูุญุงูู ุจุงุณุชุฎุฏุงู ุงูุชุนููู ุงูุชูุถูุญูApiOperation ุ ููุง ูู ููุถุญ ุฃุฏูุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">@ApiOperation(value = <span class="hljs-string"><span class="hljs-string">"Retrieves a fully priced portfolio"</span></span>, notes = <span class="hljs-string"><span class="hljs-string">"Retrieves fully priced portfolio given customer id and portfolio id"</span></span>) @GetMapping(<span class="hljs-string"><span class="hljs-string">"/customer/{customer-id}/portfolio/{portfolio-id}"</span></span>) public List&lt;String&gt; getPricedPortfolio(@PathVariable(<span class="hljs-string"><span class="hljs-string">"customer-id"</span></span>) Integer customerId, @PathVariable(<span class="hljs-string"><span class="hljs-string">"portfolio-id"</span></span>) Integer portfolioId)</code> </pre> <br>  ูู ุจุชุญููู ูุชุญุฏูุซ ูุงุฌูุฉ ูุณุชุฎุฏู swagger-ui ููุงุทูุงุน ุนูู ุงููุซุงุฆู ุงููุญุฏุซุฉ ุงูุฌุฏูุฏุฉ: <br><br><img src="https://habrastorage.org/webt/1z/vy/bj/1zvybjvfyh6zmjxd7gahn5_tlyi.png"><br><br>  ููุฐุง ููุณ ูู ูุง ููููู ุงูููุงู ุจู ูุน Swagger ุ ูุฐุง ุชุญูู ูู ุงููุซุงุฆู. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุฑู ุฏููุฑุฒูุชุณูู</a> ุ ุงููุญุงุถุฑ ูู ุฏูุฑุชูุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">"ุงููุทูุฑ ูู ุฅุทุงุฑ ุงูุฑุจูุน" ุ</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุณูุฎุจุฑู</a> ุงููุฒูุฏ ุนู Spring Boot: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/zgd9SfSxO0Y" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><i>ุงูููุงูุฉ ุงูุฃุตููุฉ</i></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar413567/">https://habr.com/ru/post/ar413567/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar413557/index.html">NewSQL: SQL ูู ุชุฐูุจ ุฅูู ุฃู ููุงู</a></li>
<li><a href="../ar413559/index.html">ุชุฏููุฑ ุงูููุจ ุฃู ููููุฉ ุฌุนู ุงูููุจ ูุงุจู ูููุฑุงุกุฉ</a></li>
<li><a href="../ar413561/index.html">ุณุฑุนุฉ Linq Expression Tree ุงููุชุฑุฌูุฉ</a></li>
<li><a href="../ar413563/index.html">4 ุทุฑู ูุงุณุชูุฑุงุฏ ุญุฒูุฉ ูู Go</a></li>
<li><a href="../ar413565/index.html">ุชุญููู ุงูุงุฎุชุฑุงู Kubernetes - ูุณุชุชุฑ ุนุจุฑ kubelet</a></li>
<li><a href="../ar413569/index.html">ุชูููู ูุตูุน ุจุทุงุฑูุงุช ุงูููุซููู ุฃููู 18650</a></li>
<li><a href="../ar413571/index.html">ุงููุถูุฉ ุฑูู 25: ุงูุชุฏุฑูุจ ุนูู ุชูููููุฌูุง ุงููุนูููุงุช - ุงููุถุงูุง ูุงูุชุญุฏูุงุช ุงูุญุงููุฉ ูู ุงูุดุฑูุงุช ุงูุฑุงุฆุฏุฉ</a></li>
<li><a href="../ar413575/index.html">BricsCAD Shape - CAD ุซูุงุซู ุงูุฃุจุนุงุฏ ูุฌุงูู ูู Bricsys</a></li>
<li><a href="../ar413577/index.html">[ุฅุนูุงู] ูุญุงูุฑ ุงููุณุงุจูุฉ ุนูู CodinGame.com ูู ุณุจุน ูุฏู ูู ุฑูุณูุง</a></li>
<li><a href="../ar413579/index.html">ุณูุถุน ูููุฉ ุญูู ุชุญููู ุงูุดูุฑุฉ: ุงูุจุฑูุฌุฉ ุงูุณูุงููุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>