<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßîüèæ üññüèΩ üë±üèø Restringir el acceso a los atributos de dimensi√≥n en el modelo tabular SSAS üëçüèª ‚ôæ üë¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hay momentos en los que necesita restringir el acceso de los usuarios a algunos datos en el cubo. Parece que no hay nada complicado: instale los filtr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Restringir el acceso a los atributos de dimensi√≥n en el modelo tabular SSAS</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/484890/">  Hay momentos en los que necesita restringir el acceso de los usuarios a algunos datos en el cubo.  Parece que no hay nada complicado: instale los filtros de l√≠nea en los roles y ya est√°, pero hay un problema: el filtro recorta los datos en la tabla y resulta que puede ver la velocidad solo por las l√≠neas disponibles, y necesitamos toda la velocidad, pero los detalles solo deber√≠an estar disponibles para algunos de ellos <br><br>  Por ejemplo, el usuario deber√≠a ver la rotaci√≥n de todos los productos, con la posibilidad de obtener detalles completos sobre ellos, pero al mismo tiempo, los clientes no deber√≠an mostrar todos, sino solo algunos o todos los clientes, pero con datos parcialmente ocultos en algunos atributos (campos). <br><br>  Para evitar que el usuario vea la facturaci√≥n de los clientes, puede superar esto a trav√©s de las f√≥rmulas en medidas y mostrar un valor vac√≠o si el usuario intenta ver la facturaci√≥n de un cliente espec√≠fico, <a href="https://www.sqlbi.com/articles/implement-non-visual-totals-with-power-bi-security-roles/" rel="nofollow">aqu√≠</a> se describe una de estas opciones.  Sin embargo, este no es el caso.  Cuando unas pocas docenas de medidas, escriba una f√≥rmula en cada una de ellas ... ¬øy si lo olvida?  Pero seguramente lo olvidar√° alg√∫n d√≠a ... Y si el usuario necesita datos de la tarjeta de un cliente espec√≠fico, nada le impedir√° ver esto sin elegir una medida de filtrado.  Que hacer <br><br>  Necesit√°bamos lograr esta pantalla: <br><br><img src="https://habrastorage.org/webt/4u/id/xl/4uidxloiihdv0ucfozvnt7vypbu.png"><br><a name="habracut"></a><br>  Todo el principio que le permite obtener un resultado similar se basa en un peque√±o truco, y consiste en agregar filas sint√©ticas a la tabla (clientes, en este caso) para que el registro sobre la misma entidad se duplique al menos una vez: el primero contendr√° informaci√≥n completa, y el segundo en la mayor√≠a de las columnas se llena con un c√≥digo auxiliar de tipo <i>N / A</i> , pero los identificadores son los mismos para ambos registros.  Adem√°s, con la ayuda de un filtro de roles y una columna especial mediante la cual se realiza el filtrado, dejamos ciertas l√≠neas disponibles para el usuario, ya sea una l√≠nea con campos completamente rellenos o con ap√©ndices.  Y desde  Dado que el cubo tiene la caracter√≠stica de "colapsar" los datos repetidos y ning√∫n otro atributo que proporcione valores √∫nicos es accesible para el usuario, en la tabla resultante todos los clientes con el c√≥digo <i>N / A</i> se convertir√°n en una fila.  Creo que en esta etapa todo ya est√° muy claro, ya no puedes leer.  El resultado est√° en el t√≠tulo del art√≠culo. <br><br>  Pero si alguien necesita detalles, los tengo. <br><br>  Los modelos tabulares hasta la versi√≥n 1400 (SQL 2017 inclusive) no permiten crear relaciones de muchos a muchos, pero en el caso de duplicados, necesitamos dicha relaci√≥n, por lo que la crearemos a trav√©s de una tabla intermedia que contenga solo una columna con identificadores √∫nicos de clientes.  La tabla es inicialmente incompresible desde  contiene solo valores √∫nicos, por lo que puede hacer que se calcule, porque en este caso no ganaremos nada si lo completamos con t-sql (¬ørecuerda el principio de procesamiento y el orden de compresi√≥n de la tabla?).  Solo debido a la capacidad del motor para comprimir datos duplicados, la cantidad de datos en el cubo aumentar√° ligeramente, y debido al filtrado a trav√©s del rol, la sesi√≥n del usuario tiene un conjunto reducido de registros, es decir  el n√∫mero final de registros despu√©s de filtrar el conjunto permanecer√° como estaba sin duplicados.  Por lo tanto, no se preocupe, incluso si la tabla es inicialmente lo suficientemente grande, agregar duplicados no afectar√° el rendimiento y el volumen de manera significativa (por supuesto, los casos son diferentes, pero en la mayor√≠a de ellos todo ser√° solo eso). <br><br>  La siguiente figura muestra el modelo de cubo y el contenido de la tabla: <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/f0/vd/94/f0vd94vkawcfyy2lpp2vreeide8.png"></a> <br><br>  Por ejemplo, agregue un filtro simple: <br><br><img src="https://habrastorage.org/webt/fq/kc/bn/fqkcbnageypsvdvv4mzd9yzeru0.png"><br><br>  Eso es todo. <br><br>  Me gustar√≠a advertir sobre una caracter√≠stica del uso de este enfoque.  Los usuarios que son administradores en el servidor SSAS, por defecto, entran al cubo sin pasar por todo tipo de roles, incluso si sus nombres est√°n especificados en estos roles.  Esto lleva al hecho de que los filtros de roles no funcionan y, bajo el administrador, todos los duplicados son visibles.  Pero no se desespere, es suficiente para indicar expl√≠citamente qu√© rol usar en la cadena de conexi√≥n y todo encaja, adem√°s, al probar, tendr√° que cambiar entre roles m√°s de una vez. <br><br>  Como comprender√°, puede hacer varias combinaciones del mismo registro con diferentes grados de plenitud de columnas con datos reales.  Tambi√©n puede crear una tabla oculta separada en el cubo, que se completar√° con cuentas a trav√©s de ADSI, y distribuir√° usuarios a diferentes grupos de dominio, y completar√° esta tabla dependiendo de las combinaciones de membres√≠a de usuarios en ciertos grupos.  Escribimos los enlaces en los filtros de rol l√≠nea por l√≠nea en esta tabla, lo que nos permitir√° controlar las mediciones y tambi√©n podemos referirnos a ella en medidas, de modo que, si es necesario, algunas medidas muestran el vac√≠o.  Con dicha organizaci√≥n, se obtiene un ajuste fino de los derechos de acceso a los datos y todo se almacena en un solo lugar.  Pero hay un matiz con las medidas: si un usuario avanzado escribe consultas en el cubo, entonces nada le impide usar su medida, sin marcadores, siempre que sepa los nombres de las columnas base y la f√≥rmula ... Aunque, si lo desea, puede hacerlo aqu√≠ restricci√≥n, pero ese es otro tema. </div></div><p>Source: <a href="https://habr.com/ru/post/484890/">https://habr.com/ru/post/484890/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../484876/index.html">Reparaci√≥n, pirateo, excavaci√≥n. Resolviendo la misi√≥n en l√≠nea Droid Mission</a></li>
<li><a href="../484878/index.html">Conceptos b√°sicos de dise√±o de niveles: efecto de flujo o c√≥mo no dejar que el jugador se aburra</a></li>
<li><a href="../484882/index.html">Windows Terminal Preview v0.8 lanzado</a></li>
<li><a href="../484884/index.html">HIPEC A√±os de vida en lugar de meses con tumores malignos de la cavidad abdominal.</a></li>
<li><a href="../484886/index.html">RTL Styling 101 - Una gu√≠a detallada para el estilo CSS RTL</a></li>
<li><a href="../484892/index.html">Cuidado llave en mano: c√≥mo funciona el hosting SAP</a></li>
<li><a href="../484896/index.html">Hoja de trucos del administrador del sistema SELinux: 42 respuestas a preguntas importantes</a></li>
<li><a href="../484898/index.html">Buen motivo para probar sus dependencias: edici√≥n AGPL</a></li>
<li><a href="../484900/index.html">Representaci√≥n del sitio web 101</a></li>
<li><a href="../484902/index.html">En ecuaciones de grados superiores</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>