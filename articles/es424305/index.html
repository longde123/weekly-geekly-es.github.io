<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üî§ üìÉ üë©üèæ‚Äç‚öñÔ∏è RIB de arquitectura m√≥vil multiplataforma de Uber üìî üîê üîÅ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El 20 de diciembre de 2016, los chicos de Uber Engineering publicaron un art√≠culo sobre la nueva arquitectura (aqu√≠ est√° la traducci√≥n de este art√≠cul...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>RIB de arquitectura m√≥vil multiplataforma de Uber</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sports_ru/blog/424305/">  El 20 de diciembre de 2016, los chicos de Uber Engineering publicaron <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">un art√≠culo</a> sobre la nueva arquitectura (aqu√≠ est√° la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">traducci√≥n de</a> este art√≠culo en el centro).  Les presento la traducci√≥n de la parte principal de la documentaci√≥n. <a name="habracut"></a><br><br><h2>  ¬øPara qu√© sirve la arquitectura RIB? </h2><br>  RIBs es un marco de arquitectura multiplataforma de Uber.  Fue dise√±ado para grandes aplicaciones m√≥viles con una gran cantidad de estados integrados. <br><br>  Al desarrollar este marco, los ingenieros de Uber se adhirieron a los siguientes principios: <br><br><ul><li>  <b>Soporte para la colaboraci√≥n entre personas que se desarrollan en diferentes plataformas: la</b> gran mayor√≠a de las partes complejas de las aplicaciones de Uber son similares en iOS y Android.  Las RIB proporcionan patrones de desarrollo comunes para Android e iOS.  Al usar RIB, los ingenieros de iOS y Android pueden compartir una arquitectura desarrollada conjuntamente para sus funciones. </li><li>  <b>Minimizaci√≥n de los estados y decisiones</b> globales <b>:</b> los cambios de estado globales pueden conducir a un comportamiento impredecible y pueden hacer imposible saber a qu√© conducir√°n estos o aquellos cambios en el c√≥digo del programa.  La arquitectura basada en RIB fomenta estados encapsulados en una jerarqu√≠a profunda de RIB bien aisladas para evitar problemas con los estados globales. </li><li> <b>Capacidad de prueba y aislamiento: las</b> clases deben ser simples para poder escribir pruebas unitarias, y tambi√©n tener una raz√≥n para estar aisladas (refiri√©ndose a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">SRP</a> ).  Las clases RIB individuales tienen diferentes responsabilidades (por ejemplo, enrutamiento, l√≥gica de negocios, l√≥gica de presentaci√≥n, creaci√≥n de otras clases RIB).  Adem√°s, la l√≥gica de la RIB primaria est√° b√°sicamente separada de la l√≥gica de la RIB secundaria.  Esto facilita la prueba de clases RIB y reduce la dependencia entre los componentes del sistema. </li><li>  <b>Herramientas para el desarrollo productivo:</b> tomar prestados patrones arquitect√≥nicos no triviales puede generar problemas con el crecimiento de la aplicaci√≥n si no hay herramientas confiables para soportar la arquitectura.  La arquitectura RIB viene con herramientas IDE para crear c√≥digo, an√°lisis est√°tico e integraci√≥n de tiempo de ejecuci√≥n, lo que mejora la productividad del desarrollador en equipos grandes y peque√±os. </li><li>  <b>El principio de apertura-cercan√≠a: los</b> desarrolladores, si es posible, deber√≠an agregar nuevas funciones sin cambiar el c√≥digo existente.  Cuando se usan RIB, la implementaci√≥n de esta regla se puede ver en varios lugares.  Por ejemplo, puede adjuntar o crear una RIB secundaria compleja que requiera dependencias de su RIB principal, con poco o ning√∫n cambio en la RIB principal. </li><li>  <b>Estructuraci√≥n en torno a la l√≥gica empresarial: la</b> estructura de la l√≥gica empresarial de una aplicaci√≥n no debe reflejar estrictamente la estructura de la interfaz de usuario.  Por ejemplo, para facilitar la animaci√≥n y el rendimiento de una vista, la jerarqu√≠a de la vista puede ser m√°s peque√±a que la jerarqu√≠a RIB.  O, una sola funci√≥n RIB puede controlar la apariencia de tres vistas que aparecen en diferentes lugares en la interfaz de usuario. </li><li>  <b>Contratos exactos: los</b> requisitos deben declararse utilizando contratos que se verifican en tiempo de compilaci√≥n.  No se debe compilar una clase si no se satisfacen sus propias dependencias, as√≠ como las dependencias de invitado.  La arquitectura RIB utiliza <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ReactiveX</a> para representar las dependencias del hu√©sped, los sistemas de inyecci√≥n de dependencia de tipo seguro ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">DI</a> ) para representar las dependencias de clase y muchas otras caracter√≠sticas de DI para ayudar a crear invariantes de datos. </li></ul><br><h2>  Elementos componentes RIB </h2><br>  Si anteriormente trabaj√≥ con la arquitectura <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">VIPER</a> , las clases que componen la RIB le resultar√°n familiares.  Las RIB generalmente consisten en los siguientes elementos, cada uno de los cuales se implementa en su propia clase: <br><br><img src="https://habrastorage.org/webt/y2/ty/pq/y2typqu-pshcmfbwtu5y6hqcxgs.png"><br><br><h4>  Interactractor </h4><br>  Interactor contiene l√≥gica de negocios.  En esta clase, se suscriben notificaciones Rx, se toman decisiones sobre cambiar el estado, almacenar datos y adjuntar RIB secundarias. <br><br>  Todas las operaciones realizadas en Interactor deben limitarse a su ciclo de vida.  Uber ha creado un conjunto de herramientas para garantizar que la l√≥gica de negocios se ejecute solo con interacci√≥n activa.  Esto evita que los Interactores se desactiven, pero las suscripciones Rx a√∫n se activan y provocan actualizaciones no deseadas de la l√≥gica empresarial o el estado de la interfaz de usuario. <br><br><h4>  Enrutador </h4><br>  El enrutador monitorea los eventos de Interactor y los convierte en adjuntar y desconectar RIB secundarias.  El enrutador existe por tres razones simples: <br><br><ul><li>  El enrutador existe como un objeto pasivo, lo que simplifica la prueba de la l√≥gica compleja de Interactor sin la necesidad de crear ap√©ndices para interactuadores secundarios o de alguna otra manera para cuidar su existencia. </li><li>  Los enrutadores crean una capa adicional de abstracci√≥n entre los interactuadores primarios y secundarios.  Esto hace que la comunicaci√≥n sincr√≥nica entre interactuadores sea un poco m√°s compleja y fomenta el uso de comunicaciones Rx en lugar de comunicaciones directas entre RIB. </li><li>  Los enrutadores contienen una l√≥gica de enrutamiento simple y repetitiva que de otro modo se implementar√≠a en Interactors.  Portar este c√≥digo repetitivo a los enrutadores ayuda a los interactianos a ser peque√±os y m√°s centrados en la l√≥gica comercial central de RIB. </li></ul><br><h4>  Constructor </h4><br>  Se necesita Builder para crear instancias para todas las clases incluidas en la RIB, as√≠ como crear instancias de Builders para las RIB secundarias. <br><br>  Al resaltar la l√≥gica de creaci√≥n de clases en Builder, se agrega soporte para la capacidad de crear ap√©ndices en iOS y hace que el resto del c√≥digo RIB sea insensible a los detalles de la implementaci√≥n DI.  Builder es la √∫nica parte de la RIB que necesita conocer el sistema DI utilizado en el proyecto.  Al implementar otro generador, puede reutilizar el resto del c√≥digo RIB en el proyecto utilizando un mecanismo DI diferente. <br><br><h4>  Presentador </h4><br>  Presentador es una clase sin estado que traduce un modelo de negocio en un modelo de presentaci√≥n y viceversa.  Se puede usar para facilitar la prueba de transformaciones de vista de modelo.  Sin embargo, a menudo esta traducci√≥n es tan trivial que no justifica la creaci√≥n de una clase de presentador separada.  Si Presenter no se realiza, la traducci√≥n de los modelos de vista se convierte en responsabilidad de View (Controller) o Interactor. <br><br><h4>  Vista (controlador) </h4><br>  Ver crea y actualiza la interfaz de usuario.  Incluye crear y organizar los componentes de la interfaz, manejar la interacci√≥n del usuario, completar los componentes de la interfaz de usuario con datos y animaci√≥n.  La vista est√° dise√±ada para ser lo m√°s "tonta" (pasiva) posible.  Simplemente muestran informaci√≥n.  En general, no contienen ning√∫n c√≥digo para el que se deben escribir las pruebas unitarias. <br><br><h4>  Componente </h4><br>  El componente se usa para administrar dependencias RIB.  Ayuda al generador a crear instancias de las otras clases que componen el RIB.  El componente proporciona acceso a las dependencias externas necesarias para crear la RIB, as√≠ como a sus propias dependencias creadas por la propia RIB, y controla el acceso a ellas desde otras RIB.  El componente de la RIB principal normalmente est√° incrustado en el RIB-Builder secundario para proporcionarle acceso a las dependencias de la RIB principal. <br><br><h2>  Gesti√≥n del estado </h2><br>  El estado de la aplicaci√≥n se gestiona y representa principalmente mediante RIB que est√°n conectadas actualmente al √°rbol RIB.  Por ejemplo, a medida que un usuario pasa por diferentes estados en una aplicaci√≥n de viaje conjunta simplificada, la aplicaci√≥n conecta y desconecta los siguientes RIB: <br><br><img src="https://habrastorage.org/webt/cu/rb/qi/curbqinjkn7jtifrtfchuuicpcw.gif"><br><br>  Las RIB solo toman decisiones estatales dentro de su competencia.  Por ejemplo, el LoggedIn RIB solo toma la decisi√≥n de hacer la transici√≥n entre estados como Request y OnTrip.  No toma ninguna decisi√≥n sobre c√≥mo deber√≠a ser el comportamiento del sistema cuando estamos en la pantalla de OnTrip. <br><br>  No todos los estados se pueden guardar agregando o quitando RIB.  Por ejemplo, cuando cambia la configuraci√≥n del perfil de usuario, el RIB no se vincula ni se desconecta.  Como regla, guardamos este estado dentro de los flujos de modelos inmutables, que reenv√≠an valores al cambiar partes.  Por ejemplo, el nombre de usuario se puede almacenar en el archivo ProfileDataStream, que est√° bajo la competencia de LoggedIn.  Solo las respuestas de red tienen acceso de escritura a esta secuencia.  Estamos pasando una interfaz que proporciona acceso de lectura a estos hilos por el gr√°fico DI. <br><br>  No hay nada en las RIB que sea la verdad √∫ltima para el estado de las RIB.  Esto contrasta con el hecho de que los marcos m√°s magistrales como React ya se proporcionan de f√°brica.  En el contexto de cada RIB, puede elegir patrones que faciliten el flujo de datos unidireccionales, o puede dejar que el estado de la l√≥gica empresarial y el estado de vista se desv√≠en temporalmente de la norma para aprovechar los marcos de animaci√≥n eficientes para la plataforma. <br><br><h2>  Interacci√≥n entre costillas </h2><br>  Cuando Interactor toma una decisi√≥n de l√≥gica de negocios, es posible que deba informar a la otra RIB sobre eventos, como la finalizaci√≥n y el env√≠o de datos.  El marco RIB no incluye ninguna forma √∫nica de transferir datos entre RIB.  Sin embargo, este m√©todo est√° dise√±ado para facilitar algunos patrones comunes. <br><br>  Como regla general, si la conexi√≥n se reduce al RIB secundario, transmitimos esta informaci√≥n como eventos en el flujo Rx.  O bien, los datos se pueden incluir como un par√°metro en el m√©todo <i>build ()</i> del RIB secundario, en cuyo caso este par√°metro se convierte en una invariante durante toda la vida del secundario. <br><br><img src="https://habrastorage.org/webt/zm/nn/qx/zmnnqxbgmheebcy67ma8syhmrra.png"><br><br>  Si la conexi√≥n sube por el √°rbol RIB al RIB Interactor padre, esta conexi√≥n se realiza a trav√©s de la interfaz de escucha, ya que el RIB padre puede tener un ciclo de vida m√°s largo que el RIB hijo.  Una RIB principal, o alg√∫n objeto en su gr√°fico DI, implementa una interfaz de escucha y la coloca en su gr√°fico DI para que sus RIB secundarias puedan llamarlo.  El uso de esta plantilla para transferir datos en sentido ascendente en lugar de hacer que las RIB principales se suscriban directamente a las secuencias Rx de sus RIB secundarias tiene varias ventajas.  Evita las p√©rdidas de memoria, le permite escribir, probar y mantener las RIB principales sin saber qu√© RIB secundarias est√°n conectadas a ellas, y tambi√©n reduce la cantidad de problemas necesarios para conectar / desconectar una RIB secundaria.  Las transmisiones o escuchas Rx no necesitan cancelar el registro o volver a registrarse con este m√©todo de adjuntar una RIB secundaria. <br><br><img src="https://habrastorage.org/webt/lr/vq/ub/lrvqub8q19lm_yjquiniht0owrm.png"><br><br><h2>  Kit de herramientas de RIB </h2><br>  Para garantizar una implementaci√≥n sin problemas de la arquitectura RIB en las aplicaciones, los ingenieros de Uber han creado herramientas para simplificar el uso de RIB y utilizar invariantes creados al implementar la arquitectura RIB.  El c√≥digo fuente de este kit de herramientas estaba parcialmente abierto y se menciona en los <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ejemplos</a> (vea la parte correcta - aprox. Por.). <br><br>  El kit de herramientas, que actualmente es de c√≥digo abierto, incluye: <br><br><ul><li>  <b>Generador de c√≥digo:</b> complementos IDE para crear nuevas RIB y pruebas relacionadas. <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Plantillas de generaci√≥n de c√≥digo IOS para Xcode</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Complemento de generaci√≥n de c√≥digo de Android</a> </li></ul><br></li><li>  <b>NPE Static Analyzer (Android):</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">NullAway</a> es una herramienta de an√°lisis est√°tico que le permite olvidarse de NullPointerExceptions. </li><li>  <b>Analizador de colocaci√≥n autom√°tica est√°tico (Android):</b> evita las p√©rdidas de memoria m√°s comunes en RIB. </li></ul><br>  Kit de herramientas para el que Uber planea abrir c√≥digo fuente en el futuro: <br><br><ul><li>  Analizador est√°tico para evitar varias p√©rdidas de memoria en RIB </li><li>  Integraci√≥n de RIB con un detector de fugas de memoria durante la ejecuci√≥n del programa </li><li>  (Android) Procesadores de anotaciones para pruebas m√°s f√°ciles </li><li>  (Android) Analizador est√°tico RxJava que proporciona RIB con vistas que no han cambiado desde el hilo principal </li></ul><br><h2>  PS </h2><br>  En <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sports.ru</a> realmente nos gust√≥ el enfoque de los ingenieros de Uber, porque  muchas veces encontramos todos los problemas arquitect√≥nicos que describi√≥ el art√≠culo.  A pesar de lo razonable, RIB tiene una serie de desventajas, por ejemplo, un umbral bastante alto para ingresar a la arquitectura.  Analizaremos con m√°s detalle los pros y los contras de la arquitectura en los siguientes art√≠culos, se planean al menos dos: para iOS y para Android.  Para aquellos que quieran sumergirse en RIB en este momento, hay una columna en la p√°gina wiki a la derecha que tiene lecciones de ingl√©s.  Por mi cuenta, observo que la arquitectura naci√≥ claramente en largas discusiones t√©cnicas y reun√≠ las mejores pr√°cticas para construir arquitecturas para aplicaciones m√≥viles que est√°n actualmente disponibles.  Y finalmente, un poco de relaciones p√∫blicas: en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sports.ru</a> tambi√©n nos encantan las discusiones t√©cnicas, a menudo organizamos talleres t√©cnicos para colegas, estudiamos regularmente nuevas tecnolog√≠as y, en general, tenemos un gran ambiente.  Entonces, si quieres formar parte de nuestro equipo, ¬° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">bienvenido</a> ! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es424305/">https://habr.com/ru/post/es424305/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es424287/index.html">C√≥mo participamos en InnovateFPGA 2018 y no volvimos a ganar</a></li>
<li><a href="../es424289/index.html">Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 9: Seguridad de aplicaciones web, Parte 1</a></li>
<li><a href="../es424295/index.html">Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 9: "Seguridad de aplicaciones web", Parte 2</a></li>
<li><a href="../es424297/index.html">Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 9: Seguridad de aplicaciones web, Parte 3</a></li>
<li><a href="../es424301/index.html">Algoritmo de filtro de imagen de red neuronal adaptativo</a></li>
<li><a href="../es424307/index.html">GitLab 11.3 lanzado con repositorio Maven y entornos seguros</a></li>
<li><a href="../es424309/index.html">DevCore: parte del software del proyecto DevBoy</a></li>
<li><a href="../es424311/index.html">L√≥gica comercial asincr√≥nica en estos d√≠as</a></li>
<li><a href="../es424313/index.html">EveryLang es un programa que puede hacer casi todo</a></li>
<li><a href="../es424315/index.html">Una nueva ronda de sustituci√≥n de importaciones. ¬øD√≥nde correr y qu√© hacer?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>