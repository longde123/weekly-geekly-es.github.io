<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⏬ 👨‍🔬 🚽 功能思维。 第一部分 🦌 ⏭️ 📢</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="在本系列文章中，您将熟悉函数式编程的基本原理，并了解“函数式思考”的含义以及这种方法与面向对象或命令式编程的区别。 





- 第一部分 
- 第二部分 
- 第三部分 
- 第四部分 


 既然您已经在“ 深入F＃中”一文中看到了使用F＃的一些原因。 《 C＃开发人员指南 》，退后一步，讨论...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>功能思维。 第一部分</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/microsoft/blog/415189/"><p> 在本系列文章中，您将熟悉函数式编程的基本原理，并了解“函数式思考”的含义以及这种方法与面向对象或命令式编程的区别。 </p><br><p><img src="https://habrastorage.org/webt/2a/21/o2/2a21o2ychwmlckkomlkw7zcdhii.jpeg"><a name="habracut"></a></p><br><ul><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第一部分</a></strong> </li><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第二部分</a></strong> </li><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第三部分</a></strong> </li><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第四部分</a></strong> </li></ul><br><p> 既然您已经在“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">深入F＃</a>中”一文中看到了使用F＃的一些原因<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">。</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">《 C＃开发人员指南</a> 》，退后一步，讨论函数式编程的基础。  “函数式编程”的真正含义是什么，这种方法与面向对象或命令式编程有何不同？ </p><br><h2> 改变观念（简介） </h2><br><p> 重要的是要理解函数式编程不仅仅是一种单独的编程样式。 这是一种完全不同的编程思维方式，与“传统”方法不同，因为当前的OOP（采用Smalltalk风格）与传统的命令式语言（如C）有所不同。 </p><br><p>  F＃允许您使用非功能性编码样式，这会诱使程序员保留其现有习惯。 您可以使用F＃进行编程，而无需从根本上改变世界观，甚至不知道您错过了什么。 但是，为了充分利用F＃并学习如何自信地以功能性风格进行编程，学会以功能性而非强制性的方式思考非常重要。 </p><br><blockquote> 本系列文章的目的是帮助读者理解函数式编程的背景并改变其思维方式。 </blockquote><p> 尽管我将使用许多简短的代码示例来说明一些要点，但这将是一个非常抽象的系列。 我们将涵盖以下主题： </p><br><ul><li>  <strong>数学函数</strong> 。 第一篇文章介绍了功能语言基础的数学概念以及此方法带来的好处。 </li><li>  <strong>功能和价值</strong> 。 下面介绍函数和值，解释“值”与变量的区别，以及函数和简单值之间的相似之处。 </li><li>  <strong>类型</strong> 。 然后，我们继续介绍与函数一起使用的主要类型：原始类型，例如字符串和整数，单元类型，函数类型和泛型。 </li><li>  <strong>具有几个参数的功能</strong> 。 我将进一步解释“ currying”和“ partial application”的概念。 在这个地方，某人的大脑会受到伤害，特别是如果这些大脑只有当下的过去。 </li><li>  <strong>功能定义</strong> 。 然后，将有几篇文章专门讨论定义和组合功能的许多不同方式。 </li><li>  <strong>功能签名</strong> 。 以下是有关函数签名的关键价值，它们的含义以及如何使用签名来理解函数内容的重要文章。 </li><li>  <strong>职能组织</strong> 。 当清楚如何创建函数时，就会出现一个问题：如何组织它们以使其余代码可以访问它们？ </li></ul><br><h2> 数学函数 </h2><br><p>函数式编程受数学启发。 数学函数具有许多功能语言试图实现的非常好的功能。 </p><br><p> 让我们从将数字加1的数学函数开始。 </p><br><pre><code class="plaintext hljs">Add1(x) = x+1</code> </pre> <br><p> 这个表达的真正含义是什么？ 看起来很简单。 这意味着存在这样的操作：将数字加1。 <br> 添加一些术语： </p><br><ul><li> 有效输入函数值的集合称为<em>域</em> （作用域）。 在此示例中，可能有很多实数，但是我们将使生活变得更简单，并将自己局限于整数。 </li><li> 函数的可能结果集（值范围）称为<em>范围</em> （从技术上讲，共<strong>域</strong>图像）。 在这种情况下，也有很多整数。 </li><li> 一个函数称为从域到范围的<em>映射</em> （在原始<em>映射中</em> ）。  （即，从范围到范围。） </li></ul><br><p><img src="https://habrastorage.org/webt/xp/dd/7y/xpdd7yfpg_r23ziibgpisq5-zx0.png"></p><br><p> 这就是该定义在F＃中的外观。 </p><br><pre> <code class="plaintext hljs">let add1 x = x + 1</code> </pre> <br><p> 如果在F＃Interactive中输入它（不要忘记双分号），那么您可以看到结果（函数的“签名”）： </p><br><pre> <code class="plaintext hljs">val add1 : int -&gt; int</code> </pre> <br><p> 详细考虑结论： </p><br><ul><li> 一般含义是<code>add1</code>函数将整数（来自定义域）与整数（来自值范围）进行比较。 </li><li>  “ <code>add1</code> ”被定义为“ val”，“ value”的缩写。 嗯？ 这是什么意思 我们将在稍后讨论含义。 </li><li> 箭头符号“-&gt;”用于显示域和范围。 在这种情况下，域的类型为“ int”，例如range。 </li></ul><br><p> 请注意，没有明确指定类型，但是F＃编译器确定该函数可与ints一起使用。  （可以更改吗？是的，很快我们将看到它）。 </p><br><h4> 数学函数的关键属性 </h4><br><p> 数学函数具有许多特性，这些特性与程序编程中使用的函数有很大区别。 </p><br><ul><li> 对于相同的输入值，函数始终具有相同的结果。 </li><li> 该功能没有副作用。 </li></ul><br><p> 这些特性提供了许多显着的优点，功能编程语言试图在其设计中尽可能地实现这些优点。 我们将依次考虑它们。 </p><br><h4> 数学函数总是<em>将相同结果返回给定值</em> </h4><br><p> 在命令式编程中，我们认为函数可以“做某事”或“计算某事”。 数学函数不计算任何东西，它是从输入到输出的纯映射。 实际上，函数的另一个定义是所有映射的简单集合。 例如，很可能将函数“ add1”（在C＃中）定义为 </p><br><pre> <code class="plaintext hljs">int add1(int input) { switch (input) { case 0: return 1; case 1: return 2; case 2: return 3; case 3: return 4; etc ad infinitum } }</code> </pre> <br><p> 显然，不可能为每个可能的数字都包含一个大小写，但是原理是相同的。 使用此设置，不执行任何计算，仅执行搜索。 </p><br><h4> 数学函数无副作用 </h4><br><p> 在数学函数中，输入和输出值在逻辑上是两个不同的事物，都是预先定义的。 该功能不会更改输入或输出数据，而只是将预定义的输入值从定义区域映射到值区域中的预定义的输出值。 </p><br><p> 换句话说，函数计算<em>不会对输入数据或任何其他类型产生任何影响</em> 。 应当记住，函数的计算并没有真正计数或操纵任何东西，而只是高估了搜索。 </p><br><p> 值的这种“不变性”非常微妙，但同时也非常重要。 当我做数学运算时，我并不期望数字会随着添加而改变。 例如，如果我有： </p><br><pre> <code class="plaintext hljs">x = 5 y = x+1</code> </pre> <br><p> 我不希望<code>x</code>加1时<code>x</code>改变。我希望得到一个不同的数字（ <code>y</code> ），并且<code>x</code>应该保持不变。 在数学世界中，整数已经存在于不可变集中，并且add1函数仅确定它们之间的关系。 </p><br><h4> 纯功能的力量 </h4><br><p> 那些具有可重复结果且没有副作用的函数称为“纯函数”，您可以使用它们来做一些有趣的事情： </p><br><ul><li> 它们很容易并行化。 假设我们可以取一个介于1到1000之间的整数，然后将它们分配给1000个不同的处理器，然后我们指示每个CPU对相应的数字执行“ <code>add1</code> ”，同时确保它们之间不需要任何交互。 没有锁，没有互斥体，没有信号量，等等。 </li><li> 您可以延迟使用函数，并在程序逻辑需要时对其进行计算。 您可以确定答案是完全相同的，而不管是现在还是以后进行计算。 </li><li> 您只能对特定的输入执行函数计算，然后缓存结果，因为已知这些输入值将提供相同的输出。 </li><li> 如果有许多纯函数，则可以按任何顺序计算它们。 同样，这不会影响最终结果。 </li></ul><br><p> 因此，如果可以用编程语言创建纯函数，则可以立即收到许多强大的技巧。 毫无疑问，所有这些都可以在F＃中完成： </p><br><ul><li> 并行计算的一个示例在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">“为什么使用F＃？”系列中</a>  。 </li><li> 惰性函数的计算将在“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">优化”系列中</a>进行讨论。 </li><li> 缓存功能的结果称为<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">记忆</a> ，还将在“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">优化”系列中</a>进行讨论。 </li><li> 无需跟踪执行顺序，使并行编程变得更加容易，并且消除了由于更改功能顺序或重构而导致的错误的需要。 </li></ul><br><h4> 数学函数的“无用”属性 </h4><br><p> 数学函数还具有一些在编程时似乎不太有用的属性。 </p><br><ul><li> 输入和输出值是不可变的 </li><li> 函数始终具有一个输入和一个输出。 </li></ul><br><p> 这些属性反映在功能编程语言的设计中。 值得单独考虑它们。 </p><br><p>  <strong>输入和输出值是不可变的</strong> </p><br><p> 理论上不可变的值似乎是个好主意，但是如果没有传统方法分配变量的方法，那么如何真正完成工作。 </p><br><p> 我可以向您保证，这不是您可以想象的大问题。 在本系列文章中，将清楚地了解这在实践中是如何工作的。 </p><br><p>  <strong>数学函数始终具有一个输入和一个输出。</strong> </p><br><p> 从图中可以看出，对于一个数学函数，总是只有一个输入，只有一个输出。 对于函数式编程语言，这也是正确的，尽管在首次使用时可能并不明显。 <br> 这似乎带来了很大的不便。 没有带有两个（或多个）参数的函数，如何做一些有用的事情？ </p><br><p> 事实证明，有一种方法可以做到这一点，而且，它在F＃上是完全透明的。 它被称为“咖喱”，并有一个单独的帖子，该帖子将在不久的将来出现。 </p><br><p> 实际上，稍后将变得很清楚，这两个“无用”的属性将变得难以置信的价值，并将成为使函数式编程如此强大的关键部分。 </p><br><h1> 其他资源 </h1><br><p>  F＃的教程很多，包括那些具有C＃或Java经验的人的材料。 当您深入了解F＃时，以下链接可能会很有用： </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">F＃指南</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">F＃娱乐与利润</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">F＃维基</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在Y分钟内学习X：F＃</a> </li></ul><br><p> 还介绍了其他几种<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">开始学习F＃的方法</a> 。 </p><br><p> 最后，F＃社区非常适合初学者。 在Slack上，由F＃Software Foundation支持的聊天非常活跃，您<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">可以自由加入</a>初学者室。 我们强烈建议您这样做！ </p><br><p> 不要忘记访问<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">俄语社区F＃的网站</a> ！ 如果您对学习语言有任何疑问，我们将很乐意在聊天室中讨论这些问题： </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">F＃软件基金会Slack聊天</a>室中的<code>#ru_general</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">室</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在电报中聊天</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">聊天聊天</a> </li></ul><br><h2> 关于翻译作者 </h2><br><p> 由<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><em>@kleidemos</em></a>翻译 <br><img src="https://habrastorage.org/getpro/habr/post_images/f95/c6d/92c/f95c6d92c5b1126b093792a43955aa43.png" width="56" height="56">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在F＃开发人员</a>的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">俄语社区</a>的努力下进行了翻译和编辑更改。 我们也感谢<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><em>@schvepsss</em></a>和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><em>@shwars</em></a>为本文准备发表。 </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN415189/">https://habr.com/ru/post/zh-CN415189/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN415177/index.html">欢迎光临</a></li>
<li><a href="../zh-CN415181/index.html">[叶卡捷琳堡，公告]分析师Mitap-有关第一位分析师和CBAP，指标，公共部门和分析师类型的信息</a></li>
<li><a href="../zh-CN415183/index.html">自定义脚本的跨浏览器Web扩展第1部分</a></li>
<li><a href="../zh-CN415185/index.html">3CX WebMeeting免费视频会议：功能概述</a></li>
<li><a href="../zh-CN415187/index.html">首先是快速。 而且也很漂亮！ 测试HyperX Predator RGB RAM</a></li>
<li><a href="../zh-CN415191/index.html">新冠军ML新兵训练营VI。 预测受众对在线调查的反应</a></li>
<li><a href="../zh-CN415193/index.html">翻译：为什么FI对OOP程序员也很重要？</a></li>
<li><a href="../zh-CN415195/index.html">不是唯一的资本：NORBIT在该地区开设开发办事处</a></li>
<li><a href="../zh-CN415197/index.html">智能手机的核心：选择哪种SoC</a></li>
<li><a href="../zh-CN415199/index.html">OpenStack：关于“皇家”发布的全部真相</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>