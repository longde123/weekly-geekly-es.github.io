<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üì® üèà üïò Gros probl√®mes de configuration pour les petits appareils üßï ü•ü üíÖüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Partie 1. Lyrique 
 Le monde moderne est inconcevable sans un grand nombre d'assistants √©lectroniques et √©lectriques. √Ä partir des ordinateurs et des ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Gros probl√®mes de configuration pour les petits appareils</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468951/"><h3>  Partie 1. Lyrique </h3><br>  Le monde moderne est inconcevable sans un grand nombre d'assistants √©lectroniques et √©lectriques.  √Ä partir des ordinateurs et des smartphones, se terminant par un simple interrupteur d'√©clairage dans la cuisine et un disjoncteur de protection d'entr√©e.  D'une mani√®re ou d'une autre, vous devez interagir avec tous les appareils.  Avec certains plus souvent, par exemple, un smartphone, que certaines personnes ne ma√Ætrisent pas du tout, avec certains moins souvent, le m√™me dispositif de protection d'entr√©e automatique pour un appartement, dont certains ignorent m√™me l'existence. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zj/cd/h6/zjcdh6yzppvm-bxhtuvfvtv1ppg.jpeg" width="300"></div><a name="habracut"></a>  Quant aux appareils de la premi√®re cat√©gorie, tout y est simple.  L'interface, en fait, est graphique et est d√©termin√©e par les concepteurs et les programmeurs.  Et avec les appareils du second, en termes d'interaction, pas d'importance, le plan est beaucoup plus compliqu√©.  Nous les prenons pour acquis, le m√™me interrupteur d'√©clairage, ou √† la m√®re, quand ils font leur travail, comme un automate d'entr√©e qui a fonctionn√© pour surcharger. <br><br>  Pour les appareils tr√®s simples, l'interface est primitive.  Bouton ou interrupteur √† bascule, plusieurs boutons pour le thermostat, par exemple.  Les caract√©ristiques sont d√©finies par le fabricant et ne changent pas par le consommateur.  D√©clenchement du courant 10A, 16A, 25A ... Passage au 6A 230V ... Mais quand l'appareil est un peu plus compliqu√©, tout devient tr√®s mauvais. <br><br>  Un peu distrait, je vais parler de mon √©chec juste √† cause de l'interface mat√©rielle.  Il y avait une t√¢che d'√©quilibrage de charge pour une maison priv√©e.  En fait - un relais de temps programmable multicanal.  J'ai fait un prototype litt√©ralement dans la soir√©e, je l'ai livr√© au client, le client, un colocataire, √©tait satisfait, j'ai d√©cid√© d'essayer d'√©tablir une production √† petite √©chelle, d'organiser une petite startup √©lectronique √† l'√©chelle du village, car le probl√®me du manque de capacit√© d'entr√©e est pertinent pour le secteur priv√©.  Un probl√®me de conception est rest√© - la configuration de l'appareil.  Dans le prototype, les intervalles √©taient simplement regroup√©s dans le micrologiciel, si 200 instructions d'assembleur pouvaient √™tre appel√©es ainsi.  Quelques fois, j'ai d√ª ajuster les param√®tres, cela a √©t√© fait simplement en assemblant un nouveau firmware et en le mettant √† jour au moyen du programmateur.  Il est clair que pour un appareil s√©rie, m√™me √† petite √©chelle, cette m√©thode ne convient pas. <br><br>  Ici, je suis tomb√© sur tous les "charmes" du d√©veloppement d'une interface utilisateur mat√©rielle ... Des m√©thodes simples, telles que l'√©criture de 16 options de param√®tres et le r√©glage du commutateur coulissant, n'ont pas donn√© la flexibilit√© requise, ce qui rend toute interface s√©rieuse pour communiquer avec un PC ou un smartphone est une complication injustifi√©e, une hausse des prix.  De plus, il appara√Æt imm√©diatement la n√©cessit√© de d√©velopper une application simple mais multiplateforme (Win / Linux / Android / iOs).  Mais ce n'est pas l'essentiel.  En effet, l'utilisateur configurera l'appareil une seule fois lors de l'installation et, id√©alement, ne le rappellera plus. <br><br>  Contrairement au prototype, un indicateur LED 4 bits, des boutons et des LED sont apparus sur le panneau avant de l'appareil.  Des fonctionnalit√©s ont √©galement √©t√© ajout√©es, des caract√©ristiques de retards dans la mise en marche de la charge apr√®s une panne de courant, des modes suppl√©mentaires pour l'alimentation √† partir d'une ligne √©lectrique ou d'un g√©n√©rateur de secours, le maintien de la temp√©rature de cong√©lation ... <br><br><h4>  Et voici la disposition en masse de ce monstre de Frankenstein </h4><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/1g/q0/5-/1gq05-9unfivrcghdgzm83dhhiy.png"></div><br>  (Contr√¥le les contacteurs, √† l'int√©rieur des circuits de commutation des bobines √† faible courant) <br><br>  Tant que la fonctionnalit√© d'un seul relais programmable √©tait pr√©sente, cela n'a pas √©t√© difficile avec les param√®tres; l'interface mat√©rielle cr√©√©e a √©t√© payante.  Mais √† un moment donn√©, l'instruction de configuration a commenc√© √† d√©passer la taille du code du firmware.  Id√©e initiale: l'utilisateur scanne le code QR sur le tableau de bord, va √† la page avec l'instruction - a √©chou√©.  Il reste soit √† fabriquer un appareil tr√®s simple, soit √† chercher une autre m√©thode de communication avec l'appareil.  Les acheteurs potentiels (testeurs courageux) ont tr√®s longtemps compris la configuration selon les instructions. <br><br>  Le plus triste, c'est que j'ai des prototypes de plusieurs appareils qui sont une fois configur√©s et vivent leur vie dans un panneau √©lectrique.  Configuration - une douzaine d'autres octets.  Reste √† trouver une interface adapt√©e. <br><br>  <b>Qu'avons-nous aujourd'hui?</b>  <b>Comparaison des m√©thodes de configuration ¬´classiques¬ª:</b> <br><br><ul><li>  Le choix des configurations toutes faites.  <b>AVANTAGES:</b> mise en ≈ìuvre ais√©e du logiciel et du mat√©riel.  Les am√©liorations mat√©rielles suppl√©mentaires sont minimes.  L'utilisateur n'a pas besoin d'avoir un √©quipement sp√©cial, suffisamment d'instructions.  <b>CONTRE:</b> Il n'y a pas de flexibilit√©, pas intuitivement, des instructions sont n√©cessaires. <br></li><li>  Une s√©quence de clics avec r√©troaction via un affichage simple (similaire √† la mise en place d'une horloge √©lectronique ordinaire).  <b>AVANTAGES:</b> Il est facilement impl√©ment√© par programme, l'utilisateur n'a pas besoin d'avoir un √©quipement sp√©cial, suffisamment d'instructions.  <b>CONTRE:</b> Pas intuitivement, il est difficile de configurer un grand nombre de param√®tres, l'impossibilit√© de cloner les param√®tres, ce qui est critique pour les entreprises d'installation. <br></li><li>  Configuration √† l'aide d'une interface filaire standard.  <b>AVANTAGES:</b> Intuitivement, si l'application est bien √©crite, clonage facile des param√®tres, impl√©mentation relativement simple, am√©liorations mat√©rielles peut-√™tre pas tr√®s ch√®res, possibilit√© de mettre √† jour le firmware.  <b>CONTRE: L'</b> utilisateur doit avoir un √©quipement, au moins un ordinateur ou un ordinateur portable avec un port USB, un convertisseur d'interface, si votre appareil fournit autre chose que USB ou Ethernet.  La n√©cessit√© de d√©velopper une application. <br></li><li>  WiFi + WEB - tir √† partir d'un canon sur des moineaux et du terry ardurinshchina.  Mais l'id√©e n'est pas mauvaise.  <b>AVANTAGES:</b> semblable √† une connexion filaire, il n'est pas n√©cessaire de d√©velopper une application multiplateforme en fournissant l'interface WEB int√©gr√©e du configurateur, il suffit √† l'utilisateur d'avoir n'importe quel appareil avec support WiFi et un navigateur.  L'acc√®s au r√©seau mondial n'est m√™me pas n√©cessaire.  Peut-√™tre que cette conception sera moins ch√®re que les boutons / indicateurs mat√©riels, le bo√Ætier est √©galement simplifi√©.  <b>CONTRE:</b> Techniquement, une solution extr√™mement laide qui transf√®re le produit √† une classe compl√®tement diff√©rente d'appareils.  La fiabilit√© est r√©duite, √† la fois en raison de la complexit√© du micrologiciel et de la sensibilit√© accrue aux CEM. <br></li></ul><br>  Je r√©sume que l'une des plus belles solutions du point de vue de l'utilisateur est ce dernier.  Mais c'est aussi l'un des plus terribles du point de vue d'un ing√©nieur.  Je me suis presque arr√™t√© dessus, mais ... <br>  Courbure technique hant√©e.  Pour √©crire quelques octets dans l'EEPROM, cl√¥turer un jardin avec une telle pile de protocoles est irrationnel.  Mais il semble que j'ai trouv√© une solution √† mon probl√®me, voici les caract√©ristiques de cette m√©thode: <br><br>  <b>Avantages:</b> <br><br><ul><li>  La hausse du prix du composant mat√©riel est comparable √† la d√©cision de ¬´choisir parmi des configurations toutes faites¬ª, 10 √† 15 roubles, et la possibilit√© de refuser des boutons, indicateurs, etc. suppl√©mentaires donne plut√¥t un prix moins cher. <br></li><li>  L'impl√©mentation logicielle n'est pas un probl√®me. <br></li><li>  Il ne n√©cessite pas le d√©veloppement d'une application sp√©ciale.  Si vous le souhaitez, l'application peut √™tre fournie. <br></li><li>  L'intuitivit√© d√©pend de la qualit√© du d√©veloppement du configurateur WEB ou de l'application. <br></li><li>  Isolation galvanique avec l'appareil. <br></li></ul><br>  <b>Inconv√©nients:</b> <br><br><ul><li>  Faible taux de transfert de donn√©es par rapport √† une interface filaire ou radio. <br></li><li>  Un contact physique avec l'appareil est n√©cessaire. <br></li><li>  Vous avez besoin d'au moins un acc√®s au r√©seau. <br></li></ul><br>  De plus, cette m√©thode de transmission d'informations est de nature tr√®s courante.  Ceci est une onde sonore. <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hj/i9/or/hji9ormpzr_59fudc6f4-0j-aii.png"></div><br>  Maintenant, peut-√™tre que tout le monde a des smartphones.  Pas de smartphone - n'importe quel appareil pour lire le son, m√™me un lecteur de cassettes, convient.  Comme je vois cette interface en action: <br><br><ol><li>  L'utilisateur installe l'appareil conform√©ment aux instructions. <br></li><li>  La configuration requise de l'appareil est cr√©√©e, les modes et param√®tres n√©cessaires sont enregistr√©s. <br></li><li>  L'utilisateur met l'appareil en mode de configuration, par exemple, par une s√©quence sp√©ciale d'appuis sur une touche, l'appareil affiche un √©tat pr√™t, par exemple, en faisant clignoter une LED avec une fr√©quence de 5 Hz. <br></li><li>  Dans le configurateur, l'ic√¥ne ¬´Param√®tres de transfert¬ª est cliqu√©e, apr√®s quoi la s√©quence sonore encod√©e commence √† jouer (et qui les a charg√©s √† partir des cassettes dans les ann√©es 90?). <br></li><li>  L'utilisateur attend que les donn√©es soient charg√©es dans l'appareil (par exemple, la LED est allum√©e en permanence) et clique sur l'ic√¥ne ¬´arr√™ter la transmission¬ª. <br></li></ol><br>  Tout, de nouveaux param√®tres sont transf√©r√©s vers l'appareil.  Pensez-vous que cette m√©thode de configuration sera suffisamment pratique? <br><br>  <b>Au lieu d'une postface</b> <br><br>  Je n'ai pas sp√©cifiquement abord√© la partie technique de la mise en ≈ìuvre.  Chaque cas peut √™tre individuel, l'approche est une id√©e g√©n√©rale.  Si l'article suscite l'int√©r√™t, je publierai la deuxi√®me partie.  Pratique.  Alors que le spoiler: l'id√©e a r√©ussi, le mod√®le sur la version ¬´√©tudiant¬ª PIC16 + 8 bits du compilateur C sans optimisation, y compris le manuel, le firmware s'int√®gre tranquillement √† la fois en m√©moire (environ 1 Ko) et en performances.  L'op√©ration math√©matique la plus difficile est l'ajout de sint8_t et sint16_t.  Selon les calculs pr√©liminaires, le noyau du configurateur de sons, r√©√©crit dans Assembler, s'adaptera √† moins de 512 kiloslovol et les performances 2MIPS dans le PIC16F819 devraient √™tre suffisantes. <br><br>  Tout le meilleur <br>  Konstantin. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr468951/">https://habr.com/ru/post/fr468951/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr468933/index.html">√âpineux et tranchant, o√π que vous regardiez: le m√©canisme d'auto-aff√ªtage des dents des oursins</a></li>
<li><a href="../fr468935/index.html">Le condens√© des √©v√©nements pour les professionnels des RH dans le domaine des TI en octobre 2019</a></li>
<li><a href="../fr468937/index.html">Attaques par carte bancaire sans contact</a></li>
<li><a href="../fr468943/index.html">cela et ScopeChain en EcmaScript</a></li>
<li><a href="../fr468945/index.html">ITIL et ITSM sont une histoire de grande d√©ception. Y a-t-il un avantage? Combien cela co√ªte-t-il et qui exactement ¬´n'impl√©mente pas ITIL¬ª?</a></li>
<li><a href="../fr468953/index.html">Le style de code comme norme de d√©veloppement</a></li>
<li><a href="../fr468955/index.html">La communication est une autre option √† distance configurable</a></li>
<li><a href="../fr468957/index.html">G√©n√©ration de donjons cycliques sur l'exemple d'Unxplored</a></li>
<li><a href="../fr468959/index.html">Gestion des d√©pendances dans un projet multi-modules sur la gr√™le</a></li>
<li><a href="../fr468961/index.html">Comment se d√©barrasser de la routine dans la vie pour 560 $? Ou comment vivre, pas vivre</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>