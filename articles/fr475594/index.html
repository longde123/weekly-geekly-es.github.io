<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•â üë©üèª‚Äçü§ù‚Äçüë®üèø ‚¨úÔ∏è JavaScript divertissant: une √©quation presque lin√©aire üß¶ üë©üèº‚Äçü§ù‚Äçüë®üèΩ üï≥Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Et si nous prenions de merveilleuses math√©matiques (√† savoir, des √©quations lin√©aires) et notre JavaScript tout aussi merveilleux, puis nous les super...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>JavaScript divertissant: une √©quation presque lin√©aire</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/semrush/blog/475594/">  Et si nous prenions de merveilleuses math√©matiques (√† savoir, des √©quations lin√©aires) et notre <b>JavaScript</b> tout aussi merveilleux, puis nous les superposions?  Dans les conditions de limitations et de sp√©cificit√©s de l'environnement js, un simple probl√®me math√©matique peut se transformer en un tr√®s curieux et plein d'emb√ªches de pierres js.  Lors de la derni√®re conf√©rence <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">HolyJS 19</a> √† Moscou, une de ces √©quations lin√©aires (parmi d'autres t√¢ches de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SEMrush</a> ) a fait pas mal de bruit. <br><br><img src="https://habrastorage.org/webt/9g/kg/wb/9gkgwb96ttlrqlsnqmqgmnjygyu.jpeg"><br><br>  Et oui, c'est encore le titre de Entertaining JavaScript: je vous demande de couper tout le monde qui s'en soucie. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">T√¢ches pr√©c√©dentes</b> <div class="spoiler_text">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Jour de neige</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Bracket Obfuscation</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le m√©mo le plus court</a> <br></div></div><br>  Bien s√ªr, tout ce qui est d√©crit ci-dessous - ce n'est qu'une tentative frivole de symbiose entre deux choses merveilleuses pour s'amuser - ne doit pas √™tre pris au s√©rieux.  Et ce mat√©riel n'aurait pas exist√© s'il n'y avait pas eu un vif int√©r√™t de la part des participants √† la conf√©rence, pour laquelle un merci sp√©cial √† eux! <br><br><h3>  Libell√© </h3><br>  1. Trouvez toutes les solutions enti√®res de l'√©quation: <br><br><pre><code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">9</span></span> +~ x &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> = -x / <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre> <br>  2. Trouvez toutes les solutions enti√®res de l'√©quation: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">9</span></span> +~ x &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> = -x / <span class="hljs-number"><span class="hljs-number">3</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre><br>  La deuxi√®me √©quation ne diff√®re de la premi√®re que par une op√©ration suppl√©mentaire sur le c√¥t√© droit. <br><br><h3>  Approximation math√©matique </h3><br>  Nous passons √† la premi√®re √©quation.  Et pour commencer, nous comprendrons les priorit√©s des op√©rations utilis√©es, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">selon le tableau</a> : <br><br><pre> <code class="javascript hljs">(<span class="hljs-number"><span class="hljs-number">9</span></span> +(~ x)) &gt;&gt; (<span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span>) = -x / <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre><br>  Nous prenons la n√©gation au niveau du bit de <i>x</i> , puis nous l'ajoutons √† 9. Le r√©sultat de l'addition est d√©cal√© au niveau du bit vers la droite par le nombre de bits √©gal au r√©sultat de la division de 6 par 3. <br><br>  √âvidemment, le probl√®me r√©side dans l'utilisation d'op√©rations au niveau du bit sur le <i>x</i> souhait√©.  Mais afin de trouver une racine conditionnelle pour un raisonnement plus approfondi, il vaut la peine d'essayer de ramener l'√©quation √† un analogue math√©matique approximatif. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Les op√©rations au niveau du bit fonctionnent</a> avec des op√©randes en tant qu'entiers 32 bits sign√©s.  Le NOT au niveau du bit peut √™tre remplac√© par <b>une</b> n√©gation <b>enti√®re</b> de l'incr√©ment: <br><br><pre> <code class="javascript hljs">(<span class="hljs-number"><span class="hljs-number">9</span></span> -(x + <span class="hljs-number"><span class="hljs-number">1</span></span>)) &gt;&gt; (<span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span>) = -x / <span class="hljs-number"><span class="hljs-number">3</span></span> (<span class="hljs-number"><span class="hljs-number">8</span></span> - x) &gt;&gt; <span class="hljs-number"><span class="hljs-number">2</span></span> = -x / <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre><br>  Le d√©calage au niveau du bit vers la droite (tout en pr√©servant le signe) peut √™tre remplac√© par une division <b>enti√®re</b> par deux au degr√© √©gal √† l'op√©rande de droite: <br><br><pre> <code class="javascript hljs">(<span class="hljs-number"><span class="hljs-number">8</span></span> - x) / <span class="hljs-number"><span class="hljs-number">2</span></span>^<span class="hljs-number"><span class="hljs-number">2</span></span> = -x / <span class="hljs-number"><span class="hljs-number">3</span></span> (<span class="hljs-number"><span class="hljs-number">8</span></span> - x) / <span class="hljs-number"><span class="hljs-number">4</span></span> = -x / <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre><br>  Bien s√ªr, ces remplacements sont tr√®s arbitraires, et nous en reparlerons plus tard.  Et maintenant, nous avons l'√©quation lin√©aire habituelle, dont la seule racine est -24.  Remplacez la valeur dans les c√¥t√©s gauche et droit de l'√©quation d'origine: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">9</span></span> +~ (<span class="hljs-number"><span class="hljs-number">-24</span></span>) &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-comment"><span class="hljs-comment">// = 8 -(-24) / 3; // = 8</span></span></code> </pre><br>  Les deux parties sont √©gales, ce qui signifie que tout n'est pas si d√©sesp√©r√© et -24 est vraiment une solution. <br><br><h3>  Rechercher les paresseux </h3><br>  Si nous dessinons des graphiques des fonctions <i>f1 (x) = (8 -x) / 4</i> et <i>f2 (x) = -x / 3</i> , alors bien s√ªr, nous trouvons le seul point d'intersection des deux lignes √† <i>x = -24</i> . <br><br><img src="https://habrastorage.org/webt/lq/-u/eq/lq-ueqg2tcs4_kuacbct4ry7lee.png"><br><br>  Mais nous avons fait quelques substitutions in√©gales avec des op√©rations au niveau du bit dans l'expression de gauche, donc en r√©alit√© le graphique de la fonction <i>f1</i> sera l√©g√®rement diff√©rent.  Pour tout <i>x, la</i> valeur de la fonction sera un entier diff√©rent de la valeur sur la ligne continue <i>f1</i> avec un d√©calage possible dans la plage de -1 √† 1. Cela signifie que nous pouvons limiter la zone de recherche de solution √† gauche et √† droite de -24, o√π les valeurs des fonctions <i>f1</i> et <i>f2</i> commencer √† diff√©rer de plus d'un. <br><br>  Pour trouver les limites de la zone de recherche, vous pouvez 1) r√©soudre l'in√©galit√© avec le module, ou 2) regarder de plus pr√®s les graphiques des fonctions.  Nous constaterons que <i>x</i> vaut la peine de regarder le segment [-36, -12]: <br><br><pre> <code class="javascript hljs">| (<span class="hljs-number"><span class="hljs-number">8</span></span> - x) / <span class="hljs-number"><span class="hljs-number">4</span></span> + x / <span class="hljs-number"><span class="hljs-number">3</span></span> | <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">=</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span></span></span></code> </pre><br><img src="https://habrastorage.org/webt/js/cu/zy/jscuzy-3pnej3cnxpbiuor4lzus.png"><br><br>  Pour it√©rer sur des solutions enti√®res dans une plage ferm√©e <i>[d√©but, fin],</i> nous √©crivons la fonction <i>findx</i> : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> findx = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">f, beg, end</span></span></span><span class="hljs-function">) =&gt;</span></span> [...Array(end - beg + <span class="hljs-number"><span class="hljs-number">1</span></span>)].map(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">_, i</span></span></span><span class="hljs-function">) =&gt;</span></span> i + beg).filter(f);</code> </pre><br>  La fonction renvoie un tableau d'entiers pour lesquels la valeur de la fonction pass√©e <i>f</i> est r√©duite √† <i>true</i> .  Pour trouver des solutions, nous repr√©sentons l'√©quation comme une fonction js en utilisant l'op√©rateur d'√©galit√©: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> eq1 = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> +~ x &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> == -x / <span class="hljs-number"><span class="hljs-number">3</span></span>; findx(eq1, <span class="hljs-number"><span class="hljs-number">-36</span></span>, <span class="hljs-number"><span class="hljs-number">-12</span></span>); <span class="hljs-comment"><span class="hljs-comment">// [-24, -21, -18, -15]</span></span></code> </pre><br>  Ainsi, <i>x</i> = [-24, -21, -18, -15] sont les solutions souhait√©es pour la premi√®re √©quation. <br><br><h3>  Solution graphique </h3><br>  L'√©num√©ration est bien s√ªr un succ√®s, mais essayons de trouver le graphique de la fonction <i>f1</i> jusqu'√† la fin et de r√©soudre l'√©quation graphiquement.  De plus, la solution n'implique pas la propri√©t√© obligatoire de la console du navigateur. <br><br>  L'op√©rateur NOT au niveau du bit supprime simplement la partie fractionnaire, ainsi le r√©sultat <i>- (x + 1)</i> sera arrondi vers le bas.  L'op√©rateur de d√©calage de bit est un peu plus compliqu√©.  Nous l'avons remplac√© par une division enti√®re, mais selon le signe du nombre de dividendes, cette op√©ration arrondit le r√©sultat vers le bas ou vers le haut: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">10</span></span> &gt;&gt; <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-comment"><span class="hljs-comment">// = 2 -10 &gt;&gt; 2; // = -3</span></span></code> </pre><br>  Cependant, nous savons que le <i>x</i> souhait√© est dans la plage [-36, -12].  Par cons√©quent, l'op√©rande gauche de d√©calage au niveau du bit ( <i>8 -x</i> ) est dans la plage [20, 44], c'est-√†-dire qu'il est toujours positif.  Ce qui signifie √† son tour une division enti√®re avec arrondi. <br><br>  Apr√®s avoir compris la nature des op√©rations, nous pouvons dessiner le graphique correct de la fonction <i>f1</i> : <br><br><img src="https://habrastorage.org/webt/-z/-e/69/-z-e69kdpamkon9l-tnprrtwvxw.png"><br><br>  Nous trouverons quatre points d'intersection des fonctions dans les m√™mes coordonn√©es <i>x</i> = [-24, -21, -18, -15]. <br><br><h3>  Deuxi√®me √©quation </h3><br>  Donc, nous sommes arriv√©s √† la deuxi√®me √©quation: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">9</span></span> +~ x &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> = -x / <span class="hljs-number"><span class="hljs-number">3</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre><br>  Il diff√®re du premier par l'ajout d'un OU au niveau du bit.  Si l'op√©rande droit d'une telle op√©ration est nul, alors le r√©sultat est simplement la valeur de l'op√©rande gauche avec la partie fractionnaire rejet√©e. <br><br>  Pour commencer, proc√©dons √† la m√™me recherche, choisissez simplement la zone de recherche.  Puisque maintenant la fonction <i>f2</i> a un caract√®re similaire √† <i>f1</i> , pour la fiabilit√©, le d√©calage possible devrait √™tre r√©sum√© et la recherche devrait √™tre limit√©e lorsque les fonctions diff√®rent en valeur absolue de plus de deux unit√©s - c'est [-48, 0]. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> eq2 = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> +~ x &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> == -x / <span class="hljs-number"><span class="hljs-number">3</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span>; findx(eq2, <span class="hljs-number"><span class="hljs-number">-48</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-comment"><span class="hljs-comment">// [-24, -21, -18, -15]</span></span></code> </pre><br>  Et nous avons eu les m√™mes r√©ponses.  On soup√ßonne qu'apr√®s tout, quelque chose ne va pas.  Mais le fait est qu'apr√®s avoir repr√©sent√© l'√©quation d'origine en tant que telle fonction js, nous avons combin√© les deux expressions (gauche et droite) via l'op√©rateur d'√©galit√© en une seule.  Et l'op√©rateur d'√©galit√© a sa priorit√©, qui est sup√©rieure √† la priorit√© de l'op√©rateur OR au niveau du bit.  La fonction est identique √† la suivante: <br><br><pre> <code class="javascript hljs">x =&gt; (<span class="hljs-number"><span class="hljs-number">9</span></span> +~ x &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> == -x / <span class="hljs-number"><span class="hljs-number">3</span></span>) | <span class="hljs-number"><span class="hljs-number">0</span></span>;</code> </pre><br>  Dans ce cas, un OR au niveau du bit n'a aucun effet, car <i>true |</i>  <i>0 = 1</i> .  Pour √©viter cela, il est n√©cessaire d'indiquer explicitement dans le corps de la fonction que nous comparons les r√©sultats de deux sous-expressions: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> eq2 = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> (<span class="hljs-number"><span class="hljs-number">9</span></span> +~ x &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span>) == (-x / <span class="hljs-number"><span class="hljs-number">3</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span>); findx(eq2, <span class="hljs-number"><span class="hljs-number">-48</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-comment"><span class="hljs-comment">// [-32, -29, -28, -26, -25, -24, -23, -22, -21, -19, -18, -15]</span></span></code> </pre><br>  Le nombre de solutions a augment√©.  Examinons maintenant les graphiques de fonction.  Par analogie avec <i>f1</i> , une ¬´√©chelle √† degr√©s¬ª construit une fonction modifi√©e <i>f2</i> : <br><br><img src="https://habrastorage.org/webt/fc/gs/lm/fcgslmjdbg0xaigr5mumxtmuyh0.png"><br><br>  Les emplacements des graphiques de fonctions se chevauchent, mais nous ne nous int√©ressons qu'aux points avec une valeur enti√®re de la coordonn√©e <i>x</i> : [-32, -29, -28, -26, -25, -24, -23, -22, -21, -19, -18, -15], seulement 12 solutions.  L'intersection de deux "√©chelles" avec les √©tapes 3 et 4 peut √™tre trouv√©e par algorithme, si vous le souhaitez. <br><br><h3>  Question suppl√©mentaire </h3><br>  Dans le probl√®me propos√© lors de la conf√©rence, il y avait une question suppl√©mentaire: il √©tait n√©cessaire de trouver la solution minimale √† l'√©quation 2. Il n'√©tait pas dit que c'√©tait n√©cessairement un entier, donc la r√©ponse <i>x</i> = -32 - s'est av√©r√©e incorrecte. <br><br>  Trouver une solution par force brute ne fonctionnera pas ici, mais la r√©soudre graphiquement est tr√®s simple.  Il s'agit de la valeur la plus proche de <i>x</i> √† -33 sur la droite: <br><br><img src="https://habrastorage.org/webt/w9/rq/cy/w9rqcyp4fwmai59369zi9ldjiu8.png"><br><br>  Il semble que <i>x</i> = -32. (9).  Mais ce n'est toujours pas vrai.  Puisque notre environnement est JavaScript, cela signifie que dans la repr√©sentation des nombres, nous sommes limit√©s par le type de donn√©es utilis√©.  Le num√©ro de type est float64, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">un nombre √† virgule flottante double pr√©cision</a> (IEEE 754).  Pour s'en souvenir et pour nommer une pr√©cision approximative, il suffisait d'obtenir un renard en peluche! <br><br><h3>  Le c√¥t√© obscur des op√©rations au niveau du bit </h3><br>  Comme mentionn√© ci-dessus, les op√©rations au niveau du bit convertissent les op√©randes en nombres de 32 bits repr√©sent√©s par la s√©quence 0 et 1 - c'est la plage [-2147483648, 2147483647].  Si le nombre ne rentre pas dedans, alors les bits les plus significatifs seront rejet√©s. <br><br>  Dans la premi√®re √©quation, cela ne joue aucun r√¥le, car il n'y a pas d'op√©ration au niveau du bit sur le c√¥t√© droit.  Mais dans le second, cette conversion des nombres impose un effet int√©ressant. <br><br>  Par exemple, le nombre -24 sera repr√©sent√© par: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">11111111111111111111111111101000</span></span></code> </pre><br>  Une valeur n√©gative du nombre est obtenue en inversant les bits (NOT au niveau du bit) dans l'enregistrement d'un nombre positif avec l'addition d'un. <br><br>  Tout nombre en dehors de la plage, apr√®s la fin de la conversion dans cette s√©quence de 32 bits, sera identique dans les op√©rations binaires au nombre -24.  Par exemple, ce sont des chiffres: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">4294967272</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">// -24 8589934568 | 0; // -24, prepend '1' 12884901864 | 0; // -24, prepend '10' 17179869160 | 0; // -24, prepend '11' 21474836456 | 0; // -24, prepend '100' // ...</span></span></code> </pre><br>  Sur le c√¥t√© droit de l'√©quation, avant l'op√©ration au niveau du bit, nous divisons <i>x</i> par 3. Nous trouvons <i>x</i> parmi les "√©quivalents" -24 qui est divisible par 3. Le nombre le plus proche est 12884901864. Remplacez-le dans l'√©quation: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">9</span></span> +~ <span class="hljs-number"><span class="hljs-number">12884901864</span></span> &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> = <span class="hljs-number"><span class="hljs-number">-12884901864</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> +~ <span class="hljs-number"><span class="hljs-number">12884901864</span></span> &gt;&gt; <span class="hljs-number"><span class="hljs-number">2</span></span> = <span class="hljs-number"><span class="hljs-number">-4294967288</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> + <span class="hljs-number"><span class="hljs-number">23</span></span> &gt;&gt; <span class="hljs-number"><span class="hljs-number">2</span></span> = <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> = <span class="hljs-number"><span class="hljs-number">8</span></span></code> </pre><br>  Le r√©sultat de la division par 3 (-4294967288) ne correspond pas aux 32 chiffres attribu√©s;  lors de l'inversion des bits, le signe est finalement perdu et il ne reste que 8: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">00000000000000000000000000001000</span></span></code> </pre><br>  De plus, vous pouvez v√©rifier l'exactitude du r√©sultat en appelant la fonction <i>eq2</i> : <br><br><pre> <code class="javascript hljs">eq2(<span class="hljs-number"><span class="hljs-number">12884901864</span></span>); <span class="hljs-comment"><span class="hljs-comment">// true</span></span></code> </pre><br>  Si vous y r√©fl√©chissez, √† c√¥t√© de cette racine, vous pouvez trouver les projections des 11 solutions enti√®res restantes. <br><br>  Ainsi, un grand nombre de nouvelles solutions apparaissent et seul l'√©quivalent positif le plus proche de -24 est pris en compte.  N√©anmoins, ce n'est pas aussi int√©ressant que la t√¢che principale, et lors de l'analyse des d√©cisions des participants, ces r√©ponses tr√®s rares ont √©t√© √©valu√©es s√©par√©ment.  Afin de ne pas √™tre confus, vous pouvez introduire une restriction sur les entiers souhait√©s dans la condition de probl√®me en tant que ceux sign√©s sur 32 bits. <br><br>  Et vous ne pouvez pas faire!  Ensuite, pour trouver la plus petite racine, vous devez faire attention au voisinage de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Number.MAX_SAFE_INTEGER</a> avec un signe n√©gatif, car ce nombre est entier et avec une pr√©cision extr√™me float64.  Eh bien, alors tout seul. <br><br><h3>  Conclusion </h3><br>  √Ä la suite de la conf√©rence, la plupart des participants ont r√©solu le probl√®me par une recherche exhaustive, tandis que la plage de recherche √©tait compl√®tement diff√©rente pour diverses raisons.  Mais comme nous l'avons vu, il suffit de s'√©couler √† ~ 50 entiers.  Beaucoup sont tomb√©s dans des pi√®ges prioritaires op√©rationnels.  Quelqu'un a √©galement d√©cid√© graphiquement qu'il √©tait satisfait.  Unit√©s surpris par la sortie de 32 cat√©gories.  Vous pouvez utiliser la force brute pour avancer davantage dans les t√¢ches.  Mais pour obtenir un prix suppl√©mentaire, il fallait encore effectuer une analyse quasi math√©matique. <br><br>  J'esp√®re vraiment que vous avez aim√© l'id√©e d'une t√¢che aussi atypique que le divertissement pour le format de la conf√©rence.  Au cours de la derni√®re ann√©e, j'ai accumul√© plusieurs de ces t√¢ches JavaScript "divertissantes".  J'ai d√©cid√© de les rassembler en un seul endroit.  Suivez le lien si vous n'avez pas peur: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JavaScript contest√© inattendu</a> .  Les t√¢ches de <a href="">Look Complex</a> et <a href="">Broken Pipe</a> , qui ont √©galement √©t√© propos√©es lors de la conf√©rence, ont d√©j√† √©t√© d√©finies.  Oui, il existe de nombreuses collections de ce type, mais celle-ci est √† moi!  Merci encore √† tout le monde. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr475594/">https://habr.com/ru/post/fr475594/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr475582/index.html">Le probl√®me de la mon√©tisation: pourquoi l'App Store populaire supprime les utilitaires open source</a></li>
<li><a href="../fr475584/index.html">Comment sont les sections d'apprentissage automatique lors des entretiens avec Yandex</a></li>
<li><a href="../fr475586/index.html">L'empreinte sonore de l'ordinateur via l'API AudioContext</a></li>
<li><a href="../fr475588/index.html">Trois paradigmes</a></li>
<li><a href="../fr475590/index.html">Compilation de programmes avec Notepad ++</a></li>
<li><a href="../fr475596/index.html">Des hypoth√®ses de grand nombre premier prouv√©es pour des syst√®mes de petit nombre</a></li>
<li><a href="../fr475598/index.html">Organisation d'une architecture simple dans une application Android avec un tas de ViewModel + LiveData, Retrofit + Coroutines</a></li>
<li><a href="../fr475600/index.html">Comment nous avons connect√© Prometheus</a></li>
<li><a href="../fr475604/index.html">Configuration du mod√®le officiel PostgreSQL sur Zabbix 4.4</a></li>
<li><a href="../fr475608/index.html">Google Tag Manager: param√®tres de d√©clenchement non √©vidents et utiles</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>