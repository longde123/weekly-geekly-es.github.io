<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛌🏽 👊 👐🏾 在Spring Boot和AppCDS上构建铸铁助行器 💪🏼 😇 👨🏻‍🎨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="应用程序类数据共享（AppCDS）-JVM功能可加快启动速度并节省内存。 早在JDK 1.5（2004）中就在HotSpot中出现时 ，它长期以来仍然非常有限，甚至部分地商业化。 仅在OpenJDK 10（2018）中，它才可供凡人使用，同时扩大了范围。 最近发布的 Java 13试图简化此应用程序...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>在Spring Boot和AppCDS上构建铸铁助行器</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/472638/"><p><img src="https://habrastorage.org/webt/se/py/8z/sepy8zdhkojsr-xiqs-lwdtyegy.jpeg"></p><br><p> <strong>应用程序类数据共享（AppCDS）-JVM</strong>功能可加快启动速度并节省内存。 早在JDK 1.5（2004）中就在HotSpot中<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">出现时</a> ，它长期以来<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">仍然</a>非常有限，甚至部分地商业化。 仅在OpenJDK 10（2018）中，它才可供凡人使用，同时扩大了范围。 最近<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">发布的</a> Java 13试图简化此应用程序。 </p><br><p>  AppCDS的想法是在同一主机上的同一JVM实例之间“共享”已加载的类。 看来这对微服务特别有用，特别是Spring Boot上具有成千上万个库类的“ broilers”，因为现在这些类将不需要在每个JVM实例的每次启动时都进行加载（解析和验证），并且不会在内存中重复。 这意味着启动应该变得更快，并且内存消耗应该更低。 太好了，不是吗？ </p><br><p> 一切都是这样，一切都是如此。 但是，如果您（odnokhabryanin）过去不相信林荫大道的标志，而是相信特定的数字和示例，那么欢迎来到Kat –让我们尝试弄清楚它的真正含义是... </p><a name="habracut"></a><br><h2 id="vmesto-disclaimera"> 代替免责声明 </h2><br><p> 在您之前，它不是使用AppCDS的指南，而是小研究结果的摘要。 我很想了解这个JVM函数如何在我的工作项目中应用，我试图从企业开发人员的角度对其进行评估，并在本文中阐述了结果。 其中不包括在模块路径上使用AppCDS，在其他虚拟机（不是HotSpot）上实现AppCDS以及使用容器的复杂性等主题。 但是，有一个理论部分用于探讨该主题，还有一个实验性部分，您可以自己重复体验。 尚未将任何结果应用到生产中，但谁知道明天会是... </p><br><h2 id="teoriya"> 理论 </h2><br><h3 id="kratkoe-vvedenie-v-appcds">  AppCDS简介 </h3><br><p> 您可能在多个来源中都熟悉过此主题，例如： </p><br><ul><li> 在Nikolai Parlog的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">文章中</a> （包括Java 13包子，但没有Spring Boot） </li><li> 在Volker Simonis的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">报告</a>和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">文章中</a> （没有Java 13，但有详细信息） </li><li> 这些行<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">的</a>作者在一份<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">报告中</a> （没有Java 13，但重点是Spring Boot） </li></ul><br><p> 为了不进行转述，我仅强调对本文很重要的几点。 </p><br><p> 首先，AppCDS是CDS功能的扩展，该功能在HotSpot中早已出现，其实质如下： </p><br><p><img src="https://habrastorage.org/webt/gi/kg/ro/gikgrobp0s_hbnr5ox8z6d1ziqc.png"></p><br><p> 为了使这两个想法都变为现实，您需要执行以下操作（一般而言）： </p><br><ol><li> 获取要在应用程序实例之间共享的类的列表 </li><li> 将这些类合并到适合内存映射的存档中 </li><li> 启动时将存档连接到应用程序的每个实例 </li></ol><br><p> 看来算法只是3个步骤-采取并执行。 但是，新闻开始了，各种各样的事情。 </p><br><p> 不好的是，在最坏的情况下，这些项目中的每一个都会变成至少一个具有自己特定选项的JVM启动，这意味着整个算法是对相同类型的选项和文件的微妙处理。 听起来不是很有希望，不是吗？ </p><br><p> 但是有个好消息：改进此算法的工作<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">正在进行中</a> ，并且随着Java的每个发行版，其应用变得更加容易。 因此，例如： </p><br><ul><li>在OpenJDK <strong>10和11中，</strong>如果您只想共享主要的JDK类，则可以跳过第<strong>1</strong>步，因为它们已经为我们编译过，并放入<code>$JAVA_HOME\lib\classlist</code> （≈1200个）中。 </li><li> 在OpenJDK <strong>12中，</strong>您可以跳过<strong>第2步</strong> ，因为与类列表一起，发行档案还包括一个现成的档案，它们可以直接使用，并且不需要显式连接。 </li><li> 如果您想共享其他所有内容（通常只是想共享） <br>  OpenJDK <strong>13</strong> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">提供了</a>动态CDS存档-在应用程序运行期间收集的存档，并在配备人员后保存。 这使您可以将<strong>点1和2</strong>折叠为一个不太混乱的点（尽管并不是所有事情都那么简单，但稍后会介绍更多）。 </li></ul><br><p> 因此，无论准备AppCDS的过程是什么，上面列出的3个步骤始终是紧随其后的，只是在某些情况下它们是被遮盖的。 </p><br><p> 您可能已经注意到，随着AppCDS的出现，许多应用程序类开始出现双重生活：它们同时生活在以前的位置（通常是JAR文件）和新的共享存档中。 同时，开发人员继续在同一位置更改/删除/补充它们，并且JVM在工作时从新的位置获取它们。 不必担心这种情况的危险：如果不采取任何措施，迟早该课程的副本将受到腐蚀，我们将获得典型的“ JAR地狱”的许多魅力。 显然，JVM无法阻止类更改，但是它应该能够及时检测到差异。 但是，通过成对比较类（甚至通过校验和）来做到这一点是一个想法。 它可以抵消其余的生产率提高。 这可能就是为什么JVM工程师没有选择单个类作为比较对象，而是选择整个类路径的原因，并在AppCDS文档中进行了说明：“创建共享存档时，类路径应与应用程序的后续启动相同（或至少是前缀）。” </p><br><blockquote> 请注意，在归档创建时使用的类路径必须与运行时使用的类路径相同（或前缀）。 </blockquote><p> 但这并不是明确的声明，因为您记得，可以通过不同的方式来形成类路径，例如： </p><br><ul><li> 从已编译的软件包目录中读取裸露的<code>.class</code>文件， <br> 例如<code>java com.example.Main</code> </li><li> 使用通配符时，使用JAR文件扫描目录， <br> 例如<code>java -cp mydir/* com.example.Main</code> </li><li> 明确列出JAR和/或ZIP文件， <br> 例如<code>java -cp lib1.jar;lib2.jar com.example.Main</code> </li></ul><br><p>  （这不包括还可以通过例如JVM选项<code>-cp/-classpath/--class-path</code> ， <code>CLASSPATH</code>环境变量或要启动的<code>Class-Path</code> JAR文件的属性来不同地设置类路径的事实） </p><br><p> 在这些方法中，AppCDS仅支持一种方法-JAR文件的显式枚举。 显然，HotSpot JVM工程师认为，只有在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">尽可能</a>明确地指定它们（使用通常的详尽列表）的情况下，比较AppCDS存档和已启动的应用程序中的类路径才足够快速和可靠。 </p><br><blockquote>  CDS / AppCDS仅支持从JAR文件归档类。 </blockquote><p> 在此必须注意，该语句不是递归的，即 不适用于JAR文件中的JAR文件（除非它与动态CDS有关，请参见下文）。 这意味着Spring Boot发行的普通JAR娃娃无法与常规AppCDS一起使用，您必须坐下来。 </p><br><p>  CDS工作中的另一个问题是共享归档文件被投影到具有固定地址的内存（通常从<code>0x800000000</code>开始）。 这本身还不错，但是由于大多数操作系统默认情况下启用了地址空间布局随机化（ASLR），因此可能会部分占用所需的内存范围。 在这种情况下，HotSpot JVM的作用是特殊<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">选项</a> <code>-Xshare</code> ，它支持三个值： </p><br><ul><li>  <code>-Xshare:on</code>强制CDS / AppCDS； 如果范围繁忙，则JVM退出并显示错误。  <strong>不建议在生产环境中使用</strong>此模式，因为这会在启动应用程序时导致偶发的崩溃。 </li><li>  <code>-Xshare:off</code> -（您）切换CDS / AppCDS; 完全禁用共享数据的使用（包括嵌入式存档） </li><li>  <code>-Xshare:auto</code> -JVM的默认行为，如果无法分配所需的内存范围，则<code>-Xshare:auto</code>放弃并照常加载类 </li></ul><br><p> 在撰写本文时，Oracle正在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">努力</a>解决此类问题，但尚未分配发行号。 </p><br><p> 这些选项稍后对我们有用，但现在让我们看一下... </p><br><h3 id="varianty-primeneniya-appcds">  AppCDS应用 </h3><br><p> 您可以通过多种方式使用AppCDS。 <del> 毁了你的生活 </del> 优化微服务的工作。 它们的复杂性和潜在利润差异很大，因此立即决定稍后再讨论哪个至关重要。 </p><br><p> 最简单的方法是不使用AppCDS，而仅使用CDS-这是只有平台类进入共享档案库的时候（请参阅“ AppCDS简介”）。 我们将立即删除此选项，因为在Spring Boot上应用于微服务时，它带来的利润太少。 这可以通过使用一个真正的微服务的示例（参见绿色部分）通过共享类的数量在其一般分布中的比例来看出： </p><br><p><img src="https://habrastorage.org/webt/lz/7x/9l/lz7x9lodfzwv4ihwjjifjyxsf_a.png"></p><br><p> 更复杂，但很有前途的是使用成熟的AppCDS，即在同一个归档文件中同时包含库和应用程序类。 这是一整套选项，它们是从参与的应用程序数量和实例数量的组合中得出的。 以下是作者对AppCDS各种应用程序的好处和困难的主观评估。 </p><br><div class="scrollable-table"><table><thead><tr><th> 不行 </th><th> 应用领域 </th><th> 执行个体 </th><th>  CPU利润 </th><th>  RAM利润 </th><th> 难点 </th></tr></thead><tbody><tr><td>  1个 </td><td> 一个 </td><td> 一个 </td><td>  + </td><td>  ± </td><td> 低位 </td></tr><tr><td>  <strong>2</strong> </td><td>  <strong>一个</strong> </td><td>  <strong>一些</strong> </td><td>  <strong>++</strong> </td><td>  <strong>++</strong> </td><td>  <strong>低位</strong> </td></tr><tr><td>  3 </td><td> 一些 </td><td> 一次一个 </td><td>  ++ </td><td>  ++ </td><td> 高 </td></tr><tr><td>  4 </td><td> 一些 </td><td> 一些 </td><td>  +++ </td><td>  +++ </td><td> 高 </td></tr></tbody></table></div><br><p> 注意事项： </p><br><ul><li> 在一个实例中的一个应用程序中（第1个），内存利润可能变为零甚至为负（尤其是<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在Windows下</a>测量时） </li><li> 创建正确的共享存档需要采取措施，其复杂程度并不取决于应用程序随后将启动多少个副本（比较选项对1-2和3-4）。 </li><li> 同时，从一个实例到多个实例的过渡显然会增加两个指标的利润，但不会影响准备工作的复杂性。 </li></ul><br><p> 在本文中，我们将<strong>仅提供选项2</strong> （通过<strong>选项</strong> 1），因为它足够简单，可以与AppCDS熟识，并且只有简单的操作，我们才能使用最近发布的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">JEP-350</a>动态CDS存档，我想在实际中使用它。 </p><br><h3 id="dynamic-cds-archives"> 动态CDS档案 </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">JEP-350</a>动态CDS存档是Java 13的主要创新之一，旨在使AppCDS易于使用。 要感到简化，您必须首先了解复杂性。 让我提醒您，AppCDS的经典“干净”应用程序算法包括3个步骤：（1）获取共享类的列表，（2）从它们中创建一个存档，以及（3）在连接了存档的情况下运行该应用程序。 在这些步骤中，只有第3个实际上有用，其余的只是为此做准备。 尽管获得类列表（步骤1）似乎非常简单（在某些情况下甚至没有必要），但实际上，在处理非平凡的应用程序时，事实证明这是最困难的，尤其是对于Spring Boot。 因此，仅JEP-350就是为了消除这一步骤，或者使其自动化。 想法是，JVM本身会绘制应用程序所需的类的列表，然后由它们自己形成所谓的“动态”归档。 同意，听起来不错。 但是要注意的是，现在尚不清楚何时停止累积类，然后继续将其放入存档中。 以前，在经典的AppCDS中，我们自己选择了此刻，甚至可以在这些操作之间切换以更改类列表中的某些内容，然后再将其转换为存档。 现在，这是自动发生的，并且仅在瞬间，JVM工程师为此选择了唯一的折衷方案-定期关闭JVM。 这意味着在应用程序停止之前将不会创建存档。 该解决方案有两个重要的后果： </p><br><ul><li> 在JVM崩溃的情况下，无论届时累积的类列表有多美妙，都不会创建归档文件（您以后无法使用常规方法将其提取出来）。 </li><li> 仅从那些在应用程序会话期间成功加载的类创建存档。 对于Web应用程序，这意味着从头开始和停止创建归档文件是不正确的，因为那样的话，许多重要的类都不会进入归档文件。 必须至少对应用程序执行一个HTTP请求（最好在所有情况下正确运行它），以便加载其实际使用的所有类。 </li></ul><br><p> 动态和静态归档之间的一个重要区别是，它们总是构成基本静态归档的“附加组件”，基本归档可以是<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">内置</a>在Java分发工具包中的归档，也可以以经典的三步方式单独创建。 </p><br><p> 从语法上讲，使用动态CDS存档归结为两个带有两个选项的JVM启动： </p><br><ol><li> 使用<code>-XX:ArchiveClassesAtExit=archive.jsa</code>选项进行试运行<code>-XX:ArchiveClassesAtExit=archive.jsa</code> ，最后将创建一个动态档案（您可以指定任何路径和名称） </li><li> 使用<code>-XX:SharedArchiveFile=archive.jsa</code>选项的有用启动<code>-XX:SharedArchiveFile=archive.jsa</code> ，它将使用先前创建的存档 </li></ol><br><p> 第二个选项与连接常规静态存档没有什么不同。 但是，如果基本静态存档突然不在默认位置（在JDK内），则此选项可能还包括指向其的路径的指示，例如： </p><br><pre> <code class="bash hljs">-XX:SharedArchiveFile=base.jsa:dynamic.jsa</code> </pre> <br><p>  <em>（在Windows中，路径分隔符必须为“;”字符）</em> </p><br><p> 现在您已经对AppCDS了如指掌，因此可以实际使用它。 </p><br><h2 id="praktika"> 练习 </h2><br><h3 id="podopytnyy-krolik"> 实验兔 </h3><br><p> 因此，我们在实践中对AppCDS的应用不仅限于典型的HelloWorld，我们将以Spring Boot上的实际应用为基础。 我和我的同事们经常不得不在远程测试服务器上观看应用程序日志，并观看“实时”日志，就像编写它们一样。 为此，使用成熟的日志聚合器（例如ELK）通常是不合适的。 无休止地下载日志文件-很长时间了，看着<code>tail</code>的灰色控制台输出令人沮丧。 因此，我制作了一个Web应用程序，该应用程序可以将任何日志实时直接直接输出到浏览器，按重要性级别为行着色（同时格式化XML），将多个日志聚合为一个，以及其他技巧。 它称为<strong>ANALOG</strong> （例如“ log分析器”，尽管并非如此），位于<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">GitHub上</a> 。 单击屏幕截图放大： </p><br><p> <a href=""><img src="https://habrastorage.org/webt/q3/lo/m_/q3lom_x6c9wghlerm1g9oa9-yfw.png"></a> </p><br><p> 从技术上讲，这是Spring Boot + Spring Integration上的一个应用程序，在<code>tail</code> ， <code>kubectl</code>和<code>kubectl</code>支持下<code>kubectl</code> （分别支持来自文件，Docker容器和Kubernetes资源的日志）。 它以经典的“厚” Spring Boot JAR文件的形式出现。 在运行时， <strong>≈10K类挂</strong>在应用程序内存中，其中绝大多数是Spring和JDK类。 显然，这些类很少更改，这意味着可以将它们放入共享存档中，并在应用程序的所有实例中重用，从而节省内存和CPU。 </p><br><h3 id="odinochnyy-eksperiment"> 单项实验 </h3><br><p> 现在，让我们将Dynamic AppCDS的现有知识应用于实验兔子。 由于所有内容都是比较已知的，因此我们需要一些参考点-程序的状态，我们将与该状态比较实验期间获得的结果。 </p><br><h4 id="vvodnye-zamechaniya"> 引言 </h4><br><ul><li> 所有其他命令均适用于Linux。  Windows和macOS的差异不是根本。 </li><li>  JIT编译会显着影响结果，并且从理论上讲，为了保证实验的纯洁性，可以将其关闭（使用<code>-Xint</code>选项，如上述<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">文章所述</a> ），但是出于最大可信度的考虑，决定不这样做。 </li><li> 在快速测试服务器上获得了以下有关开始时间的数字。 通常，在工作机器上，相似的数字较为适中，但由于我们对绝对值不感兴趣，而对百分比增量感兴趣，因此我们认为这种差异不明显。 </li><li> 为了避免过早进入测量共享内存的复杂性，现在我们将省略以字节为单位的准确读数。 取而代之的是，我们引入“ <strong>CDS潜力</strong> ”的概念<strong>，</strong>表示为共享类数相对于已加载类总数的百分比。 当然，这是一个抽象的数量，但另一方面，它直接影响实际的内存消耗。 此外，其定义完全不依赖于操作系统，并且对于其计算，仅日志就足够了。 </li></ul><br><h4 id="referentnaya-tochka"> 参考点 </h4><br><p> 让这一点成为新下载的应用程序的状态，即 无需明确使用任何AppCDS'ov等。 要对其进行评估，我们需要： </p><br><ol><li><p> 安装OpenJDK 13（例如，国内<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Liberica</a>发行版，但不是lite版本）。 <br> 例如，还需要将其添加到PATH环境变量或<code>JAVA_HOME</code> ，如下所示： </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">export</span></span> JAVA_HOME=~/tools/jdk-13</code> </pre> <br></li><li><p>  <a href="">下载</a> ANALOG（在撰写本文时，最新版本为v0.12.1）。 </p><br><p> 如有必要，您可以在<code>server.address</code>参数的<code>config/application.yaml</code>文件中指定用于访问该应用程序的外部主机名（默认情况下，在其中指定<code>localhost</code> ）。 </p><br></li><li><p> 启用JVM类负载日志记录。 <br> 为此，您可以使用以下值来启动<code>JAVA_OPTS</code>环境变量： </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">export</span></span> JAVA_OPTS=-Xlog:class+load=info:file=<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/class-load.log</code> </pre> <br><p> 该选项将传递给JVM，并告诉它<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">保证</a>每个类<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">的</a>源。 </p><br></li><li><p> 运行测试运行： </p><br><ol><li> 使用<code>bin/analog</code>脚本运行应用程序 </li><li> 在浏览器中打开<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">http：//本地主机：8083</a> ，戳按钮和daws </li><li> 通过在<code>bin/analog</code>脚本控制台中按<code>Ctrl+C</code>来停止应用程序 </li></ol><br></li><li><p> 获取结果（来自<code>log/</code>目录中的文件） </p><br><ul><li><p> 加载的类总数（通过<code>class-load.log</code> ）： </p><br><pre> <code class="bash hljs">cat class-load.log | wc -l 10463</code> </pre> <br></li><li><p> 从共享归档文件中下载了多少个（根据它）： </p><br><pre> <code class="bash hljs">grep -o <span class="hljs-string"><span class="hljs-string">'source: shared'</span></span> - class-load.log 1146</code> </pre> <br></li><li><p> 平均启动时间（一系列启动后；通过<code>analog.log</code> ）： </p><br><pre> <code class="bash hljs">grep -oE <span class="hljs-string"><span class="hljs-string">'\(JVM running for .+\)'</span></span> analog.log | grep -oE <span class="hljs-string"><span class="hljs-string">'[0-9]\.[0-9]+'</span></span> | awk <span class="hljs-string"><span class="hljs-string">'{ total += $1; count++ } END { print total/count }'</span></span> 4.5225</code> </pre> <br></li></ul><br></li></ol><br><p> 因此，在此步骤中，CDS的潜力为<code>1146/10463=0,1095</code> <strong>0.1095≈11％</strong> 。 如果您对共享类的来源感到惊讶（毕竟，我们还没有包含任何AppCDS），那么我想提醒您，从第12版开始，JDK <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">包括</a>完成的CDS归档文件<code>$JAVA_HOME/lib/server/classes.jsa</code> ，已构建不少于准备好的班级清单： </p><br><pre> <code class="bash hljs">cat <span class="hljs-variable"><span class="hljs-variable">$JAVA_HOME</span></span>/lib/classlist | wc -l 1170</code> </pre> <br><p> 现在，在评估了应用程序的初始状态之后，我们可以将AppCDS应用于该应用程序，并通过比较来了解它的作用。 </p><br><h4 id="osnovnoy-opyt"> 核心经验 </h4><br><p> 正如<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">文档所</a>遗留的那样，要创建一个动态AppCDS存档，您只需使用<code>-XX:ArchiveClassesAtExit</code>选项对应用程序进行一次试运行<code>-XX:ArchiveClassesAtExit</code> 。 从下一次启动以来，就可以使用存档并从中获利。 要在同一只实验兔子（AnaLog）上进行验证，您需要： </p><br><ol><li><p> 将指定的选项添加到运行命令： </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">export</span></span> JAVA_OPTS=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$JAVA_OPTS</span></span></span><span class="hljs-string"> -XX:ArchiveClassesAtExit=work/classes.jsa"</span></span></code> </pre> <br></li><li><p> 扩展日志记录： </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">export</span></span> JAVA_OPTS=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$JAVA_OPTS</span></span></span><span class="hljs-string"> -Xlog:cds=debug:file=log/cds.log"</span></span></code> </pre><br><p> 此选项将强制在应用程序停止时记录构建CDS存档的过程。 </p><br></li><li><p> 执行与参考点相同的测试运行： </p><br><ol><li> 使用<code>bin/analog</code>脚本运行应用程序 </li><li> 在浏览器中打开<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">http：//本地主机：8083</a> ，戳按钮和daws </li><li> 通过在<code>bin/analog</code>脚本控制台中按<code>Ctrl+C</code>来停止应用程序 <br> 在那之后，带有各种警告的巨大脚步应该落入控制台，并且<code>log/cds.log</code>应该填充详细信息； 他们对我们还不感兴趣。 </li></ol><br></li><li><p> 将启动模式从试用模式切换为有用模式： </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">export</span></span> JAVA_OPTS=<span class="hljs-string"><span class="hljs-string">"-XX:SharedArchiveFile=work/classes.jsa -Xlog:class+load=info:file=log/class-load.log -Xlog:class+path=debug:file=log/class-path.log"</span></span></code> </pre><br><p> 在这里，我们不补充<code>JAVA_OPTS</code>变量，而是用新值重新擦除它，这些新值包括（1）使用共享档案库，（2）记录类源和（3）记录类路径检查。 </p><br></li><li><p> 根据第3段中的方案对应用程序进行有用的启动。 </p><br></li><li><p> 获取结果（来自<code>log/</code>目录中的文件） </p><br><ul><li><p> 验证AppCDS是否确实适用（通过<code>class-path.log</code> ）： </p><br><pre> <code class="plaintext hljs">[0.011s][info][class,path] type=BOOT [0.011s][info][class,path] Expecting BOOT path=/home/upc/tools/jdk-13/lib/modules [0.011s][info][class,path] ok [0.011s][info][class,path] type=APP [0.011s][info][class,path] Expecting -Djava.class.path=/home/upc/tmp/analog/lib/analog.jar [0.011s][info][class,path] ok</code> </pre><br><p>  <code>type=BOOT</code>和<code>type=APP</code>行之后的<code>ok</code>标记分别表示成功打开，验证和加载了内置CDS存档和应用CDS存档。 </p><br></li><li><p> 加载的类总数（通过<code>class-load.log</code> ）： </p><br><pre> <code class="bash hljs">cat class-load.log | wc -l 10403</code> </pre><br></li><li><p> 从共享归档文件中下载了多少个（根据它）： </p><br><pre> <code class="bash hljs">grep -o <span class="hljs-string"><span class="hljs-string">'source: shared'</span></span> -c class-load.log 6910</code> </pre><br></li><li><p> 平均启动时间（一系列启动后；通过<code>analog.log</code>文件）： </p><br><pre> <code class="bash hljs">grep -oE <span class="hljs-string"><span class="hljs-string">'\(JVM running for .+\)'</span></span> analog.log | grep -oE <span class="hljs-string"><span class="hljs-string">'[0-9]\.[0-9]+'</span></span> | awk <span class="hljs-string"><span class="hljs-string">'{ total += $1; count++ } END { print total/count }'</span></span> 4.04167</code> </pre><br></li></ul><br></li></ol><br><p> 但是在此步骤中，CDS的潜力已经为<code>6910/10403≈0,66</code> <strong>66％</strong> ，即与参考点相比增加<strong>了55％</strong> 。 同时，平均发射时间减少了<code>(4,5225-4,04167)=0,48</code>秒，即 启动速度快了初始值的<strong>10.6％</strong> 。 </p><br><h4 id="analiz-rezultatov"> 结果分析 </h4><br><p>  <em>该项目的工作标题是：“为什么这么少？”</em> </p><br><p> 就像我们一样，我们按照说明进行了所有操作，但是并不是所有的类都在存档中。 它们的数量对发射时间的影响不小于实验者机器的计算能力，因此我们将集中在这个数字上。 </p><br><p> 如果您还记得的话，我们会在试运行后忽略实验应用程序停止期间创建的<code>log/cds.log</code>文件。 在此HotSpot文件中，JVM友好地指出了未出现在CDS归档文件中的每个警告类。 这是此类标记的总数： </p><br><pre> <code class="bash hljs">grep -o <span class="hljs-string"><span class="hljs-string">'[warning]'</span></span> cds.log -c 3591</code> </pre><br><p> 考虑到<code>class-load.log</code>日志中仅提及10K +类，并且其中66％的类是从存档中加载的，因此不难理解<code>cds.log</code>中列出的3600个类是CDS潜力的“缺失” 44％。 现在，您需要找出为什么跳过它们。 </p><br><p> 如果查看cds.log日志，结果发现跳过类只有四个独特的原因。 以下是每个示例的示例： </p><br><pre> <code class="plaintext hljs">Skipping org/springframework/web/client/HttpClientErrorException: Not linked Pre JDK 6 class not supported by CDS: 49.0 org/jrobin/core/RrdUpdater Skipping java/util/stream/Collectors$$Lambda$554: Unsafe anonymous class Skipping ch/qos/logback/classic/LoggerContext: interface org/slf4j/ILoggerFactory is excluded</code> </pre><br><p> 在所有3591个错过的课程中，这些原因的出现频率如下： </p><br><p><img src="https://habrastorage.org/webt/sp/f6/6k/spf66kzmkajvdxki1xdiwjyx9lg.png"></p><br><p> 仔细看看它们： </p><br><ul><li><p> <code>Unsafe anonymous class</code> <br>   JVM   “”   ,       -,         . </p><br></li><li><p> <code>Not linked</code> <br>      , “”     ,  ,   .      ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">StackOverflow </a>    . , ,       “” () JAR-  ,   AppCDS.       ,     (  ). </p><br></li><li><p> <code>Pre JDK 6 class</code> <br>  ,   CDS    Java 5.        class-   ,   CDS    .    ,    ,  6,  Java,       .       -   ,      runtime- (, slf4j). </p><br></li><li><p> <code>Skipping ... : super class/interface ... is excluded</code> <br>   ,  “”     .          CDS',    . 例如： </p><br><pre> <code class="plaintext hljs">[warning][cds] Pre JDK 6 class not supported by CDS: 49.0 org/slf4j/spi/MDCAdapter [warning][cds] Skipping ch/qos/logback/classic/util/LogbackMDCAdapter: interface org/slf4j/spi/MDCAdapter is excluded</code> </pre><br></li></ul><br><p>  <strong>结论</strong> </p><br><blockquote>  CDS       100%. </blockquote><p> ,     ,  ,         ,  ,     .      . </p><br><h3 id="mnozhestvennyy-eksperiment">   </h3><br><p>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">JEP-310</a> , AppCDS                         JDK.   .       ,     .    CDS (, ,     )       . </p><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><p>     (    ),   -   ;      “ ”.  Spring Boot,        - ;      JVM.       <code>ANALOG_OPTS</code>   ,   Gradle'. </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">export</span></span> ANALOG_OPTS=<span class="hljs-string"><span class="hljs-string">"-Djavamelody.enabled=false -Dlogging.config=classpath:logging/logback-console.xml"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">export</span></span> ANALOG_OPTS=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$ANALOG_OPTS</span></span></span><span class="hljs-string"> -Dnodes.this.agentPort=7801 -Dserver.port=8091"</span></span></code> </pre><br><p>      JavaMelody,             ,        ,       .     TCP-    ;       . </p><br><p>  ,    ,   JVM      AppCDS    .         <code>JAVA_OPTS</code>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">JVM Unified Logging Framework</a> : </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">export</span></span> JAVA_OPTS=<span class="hljs-string"><span class="hljs-string">"-Xlog:class+load=info:file=log/class-load-%p.log -Xlog:class+path=debug:file=log/class-path-%p.log"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">export</span></span> JAVA_OPTS=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$JAVA_OPTS</span></span></span><span class="hljs-string"> -XX:SharedArchiveFile=work/classes.jsa"</span></span></code> </pre><br><p>        <code>%p</code> ,    JVM      (PID).   AppCDS  ,     (         ). </p></div></div><br><h4 id="osnovnoy-opyt-1">   </h4><br><p>  ,          .                  .     : </p><br><ol><li><p>      <code>server.port</code>  <code>nodes.this.agentPort</code> ,      : </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">export</span></span> ANALOG_OPTS=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$ANALOG_OPTS</span></span></span><span class="hljs-string"> -Dnodes.this.agentPort=7801 -Dserver.port=8091"</span></span></code> </pre><br><p> ,       (    ). </p><br></li><li><p>    <code>bin/analog</code> </p><br><p> <em>()</em>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">http://localhost:8091</a>  ,     </p><br></li><li><p>  PID  (  ), : </p><br><pre> <code class="bash hljs">pgrep -f analog 13792</code> </pre><br></li><li><p>      <code>pmap</code> (    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> </a> ): </p><br><pre> <code class="bash hljs">pmap -XX 13792 | sed -n -e <span class="hljs-string"><span class="hljs-string">'2p;$p'</span></span> Address Perm Offset Device Inode Size KernelPageSize MMUPageSize Rss Pss Shared_Clean Shared_Dirty Private_Clean Private_Dirty Referenced Anonymous LazyFree AnonHugePages ShmemPmdMapped Shared_Hugetlb Private_Hugetlb Swap SwapPss Locked ProtectionKey VmFlagsMapping 3186952 1548 1548 328132 325183 3256 0 10848 314028 212620 314024 0 0 0 0 0 0 0 325183 0 KB</code> </pre><br><p>           ;   . </p><br></li><li><p>   1-4     (,  ). </p><br></li></ol><br><h4 id="analiz-rezultatov-1">   </h4><br><p>    <code>pmap</code>             .        CDS'    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">   </a> .    ,  ,        PSS: </p><br><blockquote> The "proportional set size" (PSS) of a process is the count of pages it has in memory, where each page is divided by the number of processes sharing it. So if a process has 1000 pages all to itself, and 1000 shared with one other process, its PSS will be 1500. </blockquote><p>  ,   ,  “ ” .        ,      . </p><br><p>    PSS       ,    : </p><br><div class="scrollable-table"><table><thead><tr><th> Iteration: </th><th>  1个 </th><th>  2 </th><th>  3 </th><th>  4 </th><th>  5 </th></tr></thead><tbody><tr><td> PSS of inst#1: </td><td> 339 088 </td><td> 313 778 </td><td> 305 517 </td><td> 301 153 </td><td> 298 604 </td></tr><tr><td> PSS of inst#2: </td><td></td><td> 314 904 </td><td> 306 567 </td><td> 302 555 </td><td> 299 919 </td></tr><tr><td> PSS of inst#3: </td><td></td><td></td><td> 314 914 </td><td> 311 008 </td><td> 308 691 </td></tr><tr><td> PSS of inst#4: </td><td></td><td></td><td></td><td> 306 563 </td><td> 304 495 </td></tr><tr><td> PSS of inst#5: </td><td></td><td></td><td></td><td></td><td> 294 686 </td></tr><tr><td> <em>Average:</em> </td><td> 339 088 </td><td> 314 341 </td><td> 308 999 </td><td> 305 320 </td><td> 301 279 </td></tr></tbody></table></div><br><p>         ,      - : </p><br><ul><li>        “”  </li><li>     , PSS   </li><li>  “” ,     PSS      </li></ul><br><p>    ,      .         AppCDS.        ,       <code>-XX:SharedArchiveFile=work/classes.jsa</code>   <code>-Xshare:off</code> ,    CDS .              ,    . </p><br><p><img src="https://habrastorage.org/webt/vq/4s/n6/vq4sn66zppmcyl5aovqj6xpkwyq.png"></p><br><p>       : </p><br><ul><li><p>  PSS  AppCDS      CDS. <br>          <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> .  ,  ,    HelloWorld- JVM   CDS   2   ,   CDS.      PSS            CDS,     .        : </p><br></li><li><p>    PSS   AppCDS    2-  ; 3-      . <br>        ,      ,    ,     .  ,        AppCDS,   ,   ,      3-    . <br>  :    ,    CDS?      : </p><br></li><li><p>    CDS/AppCDS  JVM      ,  PSS       .  ,    ,      <code>pmap</code> ,   “”   <code>sed</code> '.              : </p><br><pre> <code class="bash hljs">pmap -X `pgrep -f analog` 14981: <span class="hljs-comment"><span class="hljs-comment"># ... Address Perm Offset Device Inode Size Rss Pss ... Mapping # ... ... 7faf5e31a000 r-xp 00000000 08:03 269427 17944 14200 14200 ... libjvm.so # ... ... 7faf5f7f9000 r-xp 00000000 08:03 1447189 1948 1756 25 ... libc-2.27.so</span></span></code> </pre><br><p>       ( <code>Mapping</code> )  , “”      .       JVM  ( <code>libjvm.so</code>   ),     ( <code>libc-2.27.so</code>  ).    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a>        : </p><br><blockquote> For the Java VM, the read-only parts of the loaded shared libraries (ie <code>libjvm.so</code> ) can be shared between all the VM instances running at the same time. This explains why, taking together, the two VM's consume less memory (ie have a smaller memory footprint) than the simple sum of their single resident set sizes when running alone. </blockquote><br></li></ul><br><p>           .     ,  , .  ,          ,         JVM     ,    Java-    .       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">  </a>  GeekOut: </p><br><p><img src="https://habrastorage.org/webt/wp/ia/qo/wpiaqom-2teiw_iegjacskkt3sm.png"></p><br><p> , , ,      AppCDS    , ..     Java-.   ,             JVM,  , -      . </p><br><p>       VisualVM      Metaspace    AppCDS  ,      : </p><br><p> <strong> AppCDS</strong> </p><br><p><img src="https://habrastorage.org/webt/pt/wv/6r/ptwv6rmyk8j7f7yzgxrjkqrsvww.png"></p><br><p> <strong> AppCDS</strong> </p><br><p><img src="https://habrastorage.org/webt/dt/jn/0m/dtjn0mdpcgykbfynjbwdma2vmqm.png"></p><br><p>   ,         128     Metaspace   AppCDS    <code>64.2 MiB / 8.96 MiB</code> <strong>≈7,2  </strong> ,   CDS .            (.  )       <code>66.4 MiB / 13.9 MiB</code> <strong>≈4,8 </strong> .      ,    AppCDS      ,       Metaspace.            Metaspace,    ,    CDS . </p><br><h2 id="vmesto-zaklyucheniya"> 而不是结论 </h2><br><p>            Spring Boot  AppCDS –  JVM,        . </p><br><ul><li>            JEP-350 Dynamic CDS Archives –    JDK 13. </li><li>    Spring Boot  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ó</a>          CDS (  ). ,           100%   -   <strong>66%</strong> .      ,      <strong>≈11%</strong> (    15%,      ). </li><li>     ,       5-     PSS (      ).  ,  AppCDS     ,   <strong>  </strong>           , <strong> 8%</strong> (PSS).       ,    CDS,     ,     .        AppCDS  <strong> </strong> . </li><li>          Metaspace,  ,         AppCDS  <strong> 5  </strong> ,   CDS. </li></ul><br><p> ,    , AppCDS,  ,    “killer feature”.           Spring Boot.   ,   ,    AppCDS      .  , ,        AppCDS   <em></em>   Spring Boot.              ,      … </p><br><p> <em>  by <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Nick Fewings</a> on <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Unsplash</a></em> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN472638/">https://habr.com/ru/post/zh-CN472638/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN472620/index.html">博物馆数据艺术。 检查Mera CM 7209视频终端</a></li>
<li><a href="../zh-CN472622/index.html">专业数据工程师的调配计划</a></li>
<li><a href="../zh-CN472626/index.html">华擎Z390 Phantom Gaming 7主板评估：准备9900KS</a></li>
<li><a href="../zh-CN472628/index.html">使用PIL python进行编码，移位密码，暴力哈希和图片创建。 用r0ot-mi Cryto解决问题。 第一部分</a></li>
<li><a href="../zh-CN472636/index.html">DotNext 2019莫斯科计划概述：谁能告诉你什么？</a></li>
<li><a href="../zh-CN472640/index.html">我在6年中学到的帮助初创企业成长的知识</a></li>
<li><a href="../zh-CN472642/index.html">自由职业者Webdev-不应该与谁一起工作以及与谁一起工作</a></li>
<li><a href="../zh-CN472644/index.html">在国际公司实习：如何不填写面试机会并获得令人垂涎的报价</a></li>
<li><a href="../zh-CN472650/index.html">对技术支持的恐惧，痛苦和仇恨</a></li>
<li><a href="../zh-CN472658/index.html">关于未来的几乎所有内容HolyJS 2019莫斯科</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>