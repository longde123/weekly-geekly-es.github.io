<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚è¨ üíÆ ‚ò¶Ô∏è VPN pour les appareils mobiles au niveau du r√©seau üÖ±Ô∏è üôç ü§¶üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il y a encore √©tonnamment peu de mat√©riel dans Runet sur un syst√®me aussi ancien et simple, mais pratique, s√ªr et particuli√®rement pertinent dans le c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>VPN pour les appareils mobiles au niveau du r√©seau</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/444946/">  Il y a encore √©tonnamment peu de mat√©riel dans Runet sur un syst√®me aussi ancien et simple, mais pratique, s√ªr et particuli√®rement pertinent dans le cadre du d√©veloppement des technologies de l'Internet des objets telles que le VPN mobile (r√©seau priv√© virtuel).  Dans cet article, je d√©crirai comment et pourquoi vous pouvez configurer l'acc√®s √† votre r√©seau priv√© √† n'importe quel appareil dot√© d'une carte SIM sans avoir √† configurer de logiciel sp√©cialis√© dessus. <br><img src="https://habrastorage.org/webt/vn/it/qi/vnitqitwtv8qnzwhufihgww6h0g.png"><br><a name="habracut"></a><br><h2>  T√¢ches et limitations </h2><br>  Pour commencer, je r√©pondrai √† la question ¬´pourquoi?¬ª.  Le VPN en tant que technologie est utilis√© pour r√©soudre une vari√©t√© de probl√®mes de r√©seau, unis par une caract√©ristique commune - le transfert isol√© de donn√©es entre deux appareils via un grand nombre de n≈ìuds interm√©diaires.  Sur cette base, des solutions plus complexes sont d√©j√† en cours d'√©laboration et les t√¢ches tr√®s diff√©rentes sont r√©solues.  Dans le cas habituel qui est habituel pour tout le monde, un r√©seau d'op√©rateur de ligne fixe est utilis√© pour construire un VPN (il y a du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mat√©riel formidable pour</a> ceux qui le souhaitent) ou de nombreux protocoles r√©seau diff√©rents (GRE, IPSec, L2TP et autres - le m√™me auteur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√† ce sujet</a> ) et les produits logiciels qui travaillent avec eux (Cisco AnyConnect, OpenVPN, TOR - eh bien, vous le savez vous-m√™me), mais leur utilisation sur un terminal sp√©cifique en fait imm√©diatement ressortir un certain nombre d'exigences, dont l'√©chec entra√Æne certaines restrictions. <br><br>  La premi√®re limitation s√©rieuse est que l'appareil doit pouvoir fonctionner avec au moins un de ces protocoles au niveau mat√©riel et logiciel.  Ceci est le plus souvent d√©termin√© par un logiciel facile √† trouver pour un ordinateur portable ou un smartphone, mais il y a des cas o√π la t√¢che est confront√©e √† un appareil trop simple d'un point de vue mat√©riel, ou son logiciel a des limites: le compteur d'eau veut utiliser un VPN pour transmettre son malheureux octet de lectures une fois par mois pas moins que vous ne souhaitez utiliser un VPN pour modifier votre profil LinkedIn. <br><br>  Une autre limitation importante est le besoin de personnalisation.  Cela fonctionne √† la fois pour les appareils ¬´stupides¬ª du premier paragraphe, et pour les smartphones et ordinateurs classiques pour lesquels la restriction pr√©c√©dente est inconnue.  Et si avec le premier tout est relativement simple et d√©pend du temps pass√© sur la configuration, alors avec le second il y a des options.  Souvent, les organisations utilisent des VPN √† des fins de s√©curit√© pour emp√™cher le terminal de service d'acc√©der au r√©seau public sans protection appropri√©e de l'entreprise ou de transf√©rer des donn√©es de service via des canaux publics.  Les utilisateurs finaux, cependant, peuvent pour une raison quelconque se d√©connecter ou oublier d'activer le VPN, ce qui peut laisser de nombreux syst√®mes de s√©curit√© de l'entreprise. <br><br>  Ces deux restrictions peuvent √™tre facilement supprim√©es si l'acc√®s au VPN est fourni au niveau du r√©seau.  Dans le cas des communications mobiles, cela peut √™tre mis en ≈ìuvre en utilisant le "VPN mobile".  Un appareil de toute complexit√© capable de transmettre des donn√©es les transmettra au bon r√©seau.  Peu importe les param√®tres d√©finis sur l'appareil, si le r√©seau est correctement configur√©, il les transf√©rera dans tous les cas o√π vous le souhaitez, et nulle part ailleurs. <br><br>  Et en bonus, l'appareil recevra une adresse du r√©seau interne, configur√©e √† distance, et l'acc√®s ne pourra √™tre obtenu qu'√† partir de ce r√©seau (ou physiquement).  Pour une certaine classe d'appareils, c'est tr√®s important. <br><br><h2>  Comment √ßa marche </h2><br><h3>  PS Core </h3><br>  Il semblerait que le VPN soit un service classique de tous les op√©rateurs de t√©l√©communications pour le segment B2B, et pourquoi, alors, se concentrer sur cela?  Le probl√®me est de savoir comment le r√©seau de donn√©es est organis√© pour les appareils connect√©s via GPRS, HSPA, LTE ou toute autre technologie de communication mobile.  Il n'y a pas de vlan familier √† tous les administrateurs r√©seau, il n'y a pas de commutateurs, il n'y a m√™me pas de routeurs dans leur sens habituel.  Mais il existe un r√©seau d'acc√®s radio (RAN) et un noyau de paquets (PS Core). <br><br><img src="https://habrastorage.org/webt/_d/yn/mx/_dynmxtvymlk1yu5fwschjzwlsa.png"><br>  <i>Un sch√©ma simplifi√© d'un r√©seau de paquets d'un op√©rateur mobile.</i>  <i>C'est l√©g√®rement diff√©rent pour LTE, mais la signification g√©n√©rale reste la m√™me.</i> <br><br>  En g√©n√©ral, chaque appareil poss√©dant une carte SIM enregistr√©e dans le r√©seau de paquets (ayant pass√© la proc√©dure de connexion GPRS ou similaire), avant de commencer √† transf√©rer des donn√©es quelque part, doit lancer la cr√©ation d'une session de transfert de donn√©es (contexte PDP) sur le routeur principal du r√©seau de paquets, GGSN .  Les d√©tails et le but de ces processus sont tr√®s bien d√©crits ici dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cet article</a> .  Ce qui est important pour nous: lors du lancement d'une session, la demande √† GGSN, entre autres, inclut des param√®tres que beaucoup ont vu sur leurs t√©l√©phones ou m√™me trait√©s lors de la configuration, par exemple, de modems usb.  Ce sont trois champs: APN, identifiant et mot de passe.  L'APN (point d'acc√®s) est une entit√© tr√®s importante dans la logique du GGSN: selon l'APN avec lequel la session est initi√©e, le GGSN agit de diff√©rentes mani√®res.  √Ä la suite du succ√®s du traitement d'une demande d'utilisateur, le GGSN doit activer une session de transfert de donn√©es et informer l'appareil de ses param√®tres, en particulier, l'adresse IP et les adresses DNS donn√©es √† l'appareil.  Il existe un certain nombre de caract√©ristiques tr√®s importantes: <br><br><ul><li>  Dans une demande d'ouverture de session, l'appareil ne demande jamais quelle adresse IP il souhaite recevoir; </li><li>  En plus des champs "APN", "login" et "mot de passe" sp√©cifi√©s dans les param√®tres de l'appareil, la demande √† GGSN transf√®re √©galement le num√©ro de t√©l√©phone (MSISDN) de l'abonn√© (ci-apr√®s "l'abonn√©" est l'utilisateur final, un appareil avec une carte SIM, et ¬´Client¬ª - l'organisation cliente du service, qui comprend les abonn√©s); </li><li>  Lorsqu'une session est activ√©e, GGSN cr√©e un enregistrement de la nouvelle adresse IP dans sa table de routage.  Tous les abonn√©s sur le GGSN sont indiqu√©s par des entr√©es dans la table de routage avec le pr√©fixe / 32, c'est-√†-dire  1 abonn√© - 1 entr√©e dans le tableau.  GGSN est un routeur tr√®s productif; </li><li>  Le r√©seau d'un op√©rateur peut, √† diff√©rentes √©tapes (√† la fois sur SGSN et GGSN), pour diverses raisons, modifier le champ APN dans une demande d'ouverture de session.  Cela permet dans certains cas de r√©duire, et dans certains cas d'exclure compl√®tement les param√®tres r√©seau sur les appareils avec une carte SIM. </li></ul><br>  Sur les trois premiers points, la question se pose imm√©diatement: quel type d'adresse IP est d√©livr√©e √† l'abonn√©? <br>  Ceci est d√©termin√© par les param√®tres de l'APN avec lequel la demande d'activation de la session est arriv√©e.  Environ 99% des utilisateurs de donn√©es mobiles utilisent un acc√®s Internet r√©gulier.  Ce sont internet.mts.ru, internet.beeline.ru, etc., des points d'acc√®s bien connus.  Dans le cas de l'acc√®s √† Internet, GGSN √©met des adresses selon le principe DHCP classique √† partir des sous-r√©seaux gris sp√©cifi√©s dans les param√®tres.  Lors de l'acc√®s au r√©seau public, ils sont ferm√©s par le NAT classique (ou plut√¥t, par sa version, qui est PAT). <br><br>  Mais GGSN est capable de plus.  Pour s√©lectionner une adresse IP, il peut faire une demande AAA au serveur d'autorisation (Radius par exemple).  Cette logique est configur√©e pour des APN individuels en fonction de leur objectif.  Le cas le plus simple est le service de fourniture d'une adresse IP publique permanente.  Ces adresses sont, en r√®gle g√©n√©rale, attribu√©es aux abonn√©s dans la facturation de l'op√©rateur (BSS), et selon l'architecture informatique, elles se retrouvent dans une base de donn√©es particuli√®re, accessible par la demande GGSN.  Du fait qu'il conna√Æt le MSISDN (num√©ro de t√©l√©phone) de l'abonn√©, qui sera contenu dans la demande, une telle base de donn√©es sera assez simple et ne pourra contenir qu'un tas de num√©ros et d'adresses.  De plus, si le client pr√©voit d'utiliser une carte SIM pour connecter plusieurs appareils (si la carte SIM est situ√©e dans le routeur WiFi du bureau distant, par exemple), ce tableau peut √©galement contenir ce que l'on appelle la ¬´route encadr√©e¬ª - le pr√©fixe de r√©seau situ√© ¬´ pour ¬ªune carte SIM, qui sera annonc√©e √† tous les appareils du r√©seau √† l'aide de protocoles de routage dynamique. <br><br><h3>  Pas un seul GGSN </h3><br>  En plus d'√©mettre des adresses, il est √©galement n√©cessaire de fournir du trafic d'abonn√© aux r√©seaux clients, chacun √† lui.  Ici, tout fonctionne beaucoup plus traditionnellement.  Sur GGSN, le trafic sp√©cialis√© pour travailler avec VPN APN est rout√© vers un routeur distinct du r√©seau de l'op√©rateur (il peut √™tre appel√© diff√©remment, parfois c'est un routeur VPN), qui √† son tour remplit la fonction d'un PE classique dans le sch√©ma L3VPN.  Il ajoute les √©tiquettes, les en-t√™tes n√©cessaires et c'est tout et envoie tout ce flux de trafic via les routeurs du r√©seau de transport aux liaisons ou tunnels pr√©configur√©s vers le r√©seau du client.  Cette partie est d√©j√† beaucoup plus traditionnelle et souvent d√©crite ailleurs, je ne vais donc pas me concentrer sur elle dans ce document. <br><br>  Compte tenu de tous ces d√©tails, il peut y avoir plusieurs fa√ßons d'organiser un VPN mobile, et ils diff√©reront les uns des autres par une combinaison des fonctionnalit√©s suivantes: <br><br><ul><li>  Les adresses IP, comme d√©j√† d√©crit, peuvent √™tre √©mises dynamiquement (√† chaque fois une adresse diff√©rente d'un sous-r√©seau donn√©) et statiquement (√† chaque fois la m√™me adresse pour un abonn√© particulier), qui est d√©termin√©e par / ou les param√®tres APN et / ou les param√®tres du serveur Radius ; </li><li>  Les adresses IP peuvent √™tre √©mises par un serveur Radius sous le contr√¥le de l'op√©rateur ou sous le contr√¥le du client; </li><li>  Les appareils connect√©s √† un VPN mobile peuvent soit interagir uniquement les uns avec les autres, soit avoir acc√®s √† un r√©seau client L3VPN r√©gulier via une interface directe (port VPN) avec un op√©rateur ou via un tunneling sur Internet; </li><li>  Dans certains cas, l'utilisation d'un nom d'utilisateur et d'un mot de passe pour activer avec succ√®s une session peut √™tre n√©cessaire, et parfois il n'est m√™me pas n√©cessaire de remplir le champ ¬´APN¬ª. </li></ul><br>  Il existe plusieurs dizaines de ces combinaisons avec diff√©rents types de tunnellisation, √©quilibrant le trafic entre les canaux d'acc√®s au client VPN ¬´principal¬ª et le principe de l'√©mission d'adresses.  Dans la plupart des cas, le sch√©ma g√©n√©ral est le suivant: <br><br><img src="https://habrastorage.org/webt/47/ez/7d/47ez7dugxs7whtjaghvrapuihcs.png"><br><br>  Par cons√©quent, apr√®s un processus assez rapide d'enregistrement sur le r√©seau et d'obtention d'une adresse IP, l'appareil obtient l'acc√®s au r√©seau du client et le r√©seau du client acc√®de √† l'appareil.  Dans le m√™me temps, l'abonn√© est isol√© de tous les autres abonn√©s de l'op√©rateur qui ne sont pas li√©s √† un client particulier, il n'a pas besoin de param√®tres suppl√©mentaires et tout le trafic est envoy√© sur le r√©seau du client sans alternative, o√π il est trait√© conform√©ment aux politiques internes du client. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr444946/">https://habr.com/ru/post/fr444946/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr444936/index.html">Firmware ZXHN H118N de Dom.ru sans soudure et programmeur</a></li>
<li><a href="../fr444938/index.html">Des services utiles et peu publics</a></li>
<li><a href="../fr444940/index.html">Trucs et astuces de Digital Forensics: Comment connecter une image Encase √† la machine virtuelle</a></li>
<li><a href="../fr444942/index.html">Alors que je visitais la l√©gendaire √©cole 42: ¬´piscine¬ª, chats et Internet au lieu des professeurs</a></li>
<li><a href="../fr444944/index.html">Alors que je visitais la l√©gendaire √©cole 42: ¬´piscine¬ª, chats et Internet √† la place des professeurs. 2e partie</a></li>
<li><a href="../fr444950/index.html">Termux √©tape par √©tape (partie 1)</a></li>
<li><a href="../fr444954/index.html">Examen des syst√®mes de gestion vid√©o ouverts</a></li>
<li><a href="../fr444956/index.html">Pour travailler √† v√©lo. Un autre avis</a></li>
<li><a href="../fr444958/index.html">Achetez un appareil √©lectronique et obtenez les donn√©es gratuitement: les informations personnelles restent sur les gadgets donn√©s</a></li>
<li><a href="../fr444960/index.html">Appel dans l'espace lointain: comment la NASA acc√©l√®re la communication interplan√©taire</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>