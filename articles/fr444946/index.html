<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â¬ ğŸ’® â˜¦ï¸ VPN pour les appareils mobiles au niveau du rÃ©seau ğŸ…±ï¸ ğŸ™ ğŸ¤¦ğŸ¼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il y a encore Ã©tonnamment peu de matÃ©riel dans Runet sur un systÃ¨me aussi ancien et simple, mais pratique, sÃ»r et particuliÃ¨rement pertinent dans le c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>VPN pour les appareils mobiles au niveau du rÃ©seau</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/444946/">  Il y a encore Ã©tonnamment peu de matÃ©riel dans Runet sur un systÃ¨me aussi ancien et simple, mais pratique, sÃ»r et particuliÃ¨rement pertinent dans le cadre du dÃ©veloppement des technologies de l'Internet des objets telles que le VPN mobile (rÃ©seau privÃ© virtuel).  Dans cet article, je dÃ©crirai comment et pourquoi vous pouvez configurer l'accÃ¨s Ã  votre rÃ©seau privÃ© Ã  n'importe quel appareil dotÃ© d'une carte SIM sans avoir Ã  configurer de logiciel spÃ©cialisÃ© dessus. <br><img src="https://habrastorage.org/webt/vn/it/qi/vnitqitwtv8qnzwhufihgww6h0g.png"><br><a name="habracut"></a><br><h2>  TÃ¢ches et limitations </h2><br>  Pour commencer, je rÃ©pondrai Ã  la question Â«pourquoi?Â».  Le VPN en tant que technologie est utilisÃ© pour rÃ©soudre une variÃ©tÃ© de problÃ¨mes de rÃ©seau, unis par une caractÃ©ristique commune - le transfert isolÃ© de donnÃ©es entre deux appareils via un grand nombre de nÅ“uds intermÃ©diaires.  Sur cette base, des solutions plus complexes sont dÃ©jÃ  en cours d'Ã©laboration et les tÃ¢ches trÃ¨s diffÃ©rentes sont rÃ©solues.  Dans le cas habituel qui est habituel pour tout le monde, un rÃ©seau d'opÃ©rateur de ligne fixe est utilisÃ© pour construire un VPN (il y a du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">matÃ©riel formidable pour</a> ceux qui le souhaitent) ou de nombreux protocoles rÃ©seau diffÃ©rents (GRE, IPSec, L2TP et autres - le mÃªme auteur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Ã  ce sujet</a> ) et les produits logiciels qui travaillent avec eux (Cisco AnyConnect, OpenVPN, TOR - eh bien, vous le savez vous-mÃªme), mais leur utilisation sur un terminal spÃ©cifique en fait immÃ©diatement ressortir un certain nombre d'exigences, dont l'Ã©chec entraÃ®ne certaines restrictions. <br><br>  La premiÃ¨re limitation sÃ©rieuse est que l'appareil doit pouvoir fonctionner avec au moins un de ces protocoles au niveau matÃ©riel et logiciel.  Ceci est le plus souvent dÃ©terminÃ© par un logiciel facile Ã  trouver pour un ordinateur portable ou un smartphone, mais il y a des cas oÃ¹ la tÃ¢che est confrontÃ©e Ã  un appareil trop simple d'un point de vue matÃ©riel, ou son logiciel a des limites: le compteur d'eau veut utiliser un VPN pour transmettre son malheureux octet de lectures une fois par mois pas moins que vous ne souhaitez utiliser un VPN pour modifier votre profil LinkedIn. <br><br>  Une autre limitation importante est le besoin de personnalisation.  Cela fonctionne Ã  la fois pour les appareils Â«stupidesÂ» du premier paragraphe, et pour les smartphones et ordinateurs classiques pour lesquels la restriction prÃ©cÃ©dente est inconnue.  Et si avec le premier tout est relativement simple et dÃ©pend du temps passÃ© sur la configuration, alors avec le second il y a des options.  Souvent, les organisations utilisent des VPN Ã  des fins de sÃ©curitÃ© pour empÃªcher le terminal de service d'accÃ©der au rÃ©seau public sans protection appropriÃ©e de l'entreprise ou de transfÃ©rer des donnÃ©es de service via des canaux publics.  Les utilisateurs finaux, cependant, peuvent pour une raison quelconque se dÃ©connecter ou oublier d'activer le VPN, ce qui peut laisser de nombreux systÃ¨mes de sÃ©curitÃ© de l'entreprise. <br><br>  Ces deux restrictions peuvent Ãªtre facilement supprimÃ©es si l'accÃ¨s au VPN est fourni au niveau du rÃ©seau.  Dans le cas des communications mobiles, cela peut Ãªtre mis en Å“uvre en utilisant le "VPN mobile".  Un appareil de toute complexitÃ© capable de transmettre des donnÃ©es les transmettra au bon rÃ©seau.  Peu importe les paramÃ¨tres dÃ©finis sur l'appareil, si le rÃ©seau est correctement configurÃ©, il les transfÃ©rera dans tous les cas oÃ¹ vous le souhaitez, et nulle part ailleurs. <br><br>  Et en bonus, l'appareil recevra une adresse du rÃ©seau interne, configurÃ©e Ã  distance, et l'accÃ¨s ne pourra Ãªtre obtenu qu'Ã  partir de ce rÃ©seau (ou physiquement).  Pour une certaine classe d'appareils, c'est trÃ¨s important. <br><br><h2>  Comment Ã§a marche </h2><br><h3>  PS Core </h3><br>  Il semblerait que le VPN soit un service classique de tous les opÃ©rateurs de tÃ©lÃ©communications pour le segment B2B, et pourquoi, alors, se concentrer sur cela?  Le problÃ¨me est de savoir comment le rÃ©seau de donnÃ©es est organisÃ© pour les appareils connectÃ©s via GPRS, HSPA, LTE ou toute autre technologie de communication mobile.  Il n'y a pas de vlan familier Ã  tous les administrateurs rÃ©seau, il n'y a pas de commutateurs, il n'y a mÃªme pas de routeurs dans leur sens habituel.  Mais il existe un rÃ©seau d'accÃ¨s radio (RAN) et un noyau de paquets (PS Core). <br><br><img src="https://habrastorage.org/webt/_d/yn/mx/_dynmxtvymlk1yu5fwschjzwlsa.png"><br>  <i>Un schÃ©ma simplifiÃ© d'un rÃ©seau de paquets d'un opÃ©rateur mobile.</i>  <i>C'est lÃ©gÃ¨rement diffÃ©rent pour LTE, mais la signification gÃ©nÃ©rale reste la mÃªme.</i> <br><br>  En gÃ©nÃ©ral, chaque appareil possÃ©dant une carte SIM enregistrÃ©e dans le rÃ©seau de paquets (ayant passÃ© la procÃ©dure de connexion GPRS ou similaire), avant de commencer Ã  transfÃ©rer des donnÃ©es quelque part, doit lancer la crÃ©ation d'une session de transfert de donnÃ©es (contexte PDP) sur le routeur principal du rÃ©seau de paquets, GGSN .  Les dÃ©tails et le but de ces processus sont trÃ¨s bien dÃ©crits ici dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cet article</a> .  Ce qui est important pour nous: lors du lancement d'une session, la demande Ã  GGSN, entre autres, inclut des paramÃ¨tres que beaucoup ont vu sur leurs tÃ©lÃ©phones ou mÃªme traitÃ©s lors de la configuration, par exemple, de modems usb.  Ce sont trois champs: APN, identifiant et mot de passe.  L'APN (point d'accÃ¨s) est une entitÃ© trÃ¨s importante dans la logique du GGSN: selon l'APN avec lequel la session est initiÃ©e, le GGSN agit de diffÃ©rentes maniÃ¨res.  Ã€ la suite du succÃ¨s du traitement d'une demande d'utilisateur, le GGSN doit activer une session de transfert de donnÃ©es et informer l'appareil de ses paramÃ¨tres, en particulier, l'adresse IP et les adresses DNS donnÃ©es Ã  l'appareil.  Il existe un certain nombre de caractÃ©ristiques trÃ¨s importantes: <br><br><ul><li>  Dans une demande d'ouverture de session, l'appareil ne demande jamais quelle adresse IP il souhaite recevoir; </li><li>  En plus des champs "APN", "login" et "mot de passe" spÃ©cifiÃ©s dans les paramÃ¨tres de l'appareil, la demande Ã  GGSN transfÃ¨re Ã©galement le numÃ©ro de tÃ©lÃ©phone (MSISDN) de l'abonnÃ© (ci-aprÃ¨s "l'abonnÃ©" est l'utilisateur final, un appareil avec une carte SIM, et Â«ClientÂ» - l'organisation cliente du service, qui comprend les abonnÃ©s); </li><li>  Lorsqu'une session est activÃ©e, GGSN crÃ©e un enregistrement de la nouvelle adresse IP dans sa table de routage.  Tous les abonnÃ©s sur le GGSN sont indiquÃ©s par des entrÃ©es dans la table de routage avec le prÃ©fixe / 32, c'est-Ã -dire  1 abonnÃ© - 1 entrÃ©e dans le tableau.  GGSN est un routeur trÃ¨s productif; </li><li>  Le rÃ©seau d'un opÃ©rateur peut, Ã  diffÃ©rentes Ã©tapes (Ã  la fois sur SGSN et GGSN), pour diverses raisons, modifier le champ APN dans une demande d'ouverture de session.  Cela permet dans certains cas de rÃ©duire, et dans certains cas d'exclure complÃ¨tement les paramÃ¨tres rÃ©seau sur les appareils avec une carte SIM. </li></ul><br>  Sur les trois premiers points, la question se pose immÃ©diatement: quel type d'adresse IP est dÃ©livrÃ©e Ã  l'abonnÃ©? <br>  Ceci est dÃ©terminÃ© par les paramÃ¨tres de l'APN avec lequel la demande d'activation de la session est arrivÃ©e.  Environ 99% des utilisateurs de donnÃ©es mobiles utilisent un accÃ¨s Internet rÃ©gulier.  Ce sont internet.mts.ru, internet.beeline.ru, etc., des points d'accÃ¨s bien connus.  Dans le cas de l'accÃ¨s Ã  Internet, GGSN Ã©met des adresses selon le principe DHCP classique Ã  partir des sous-rÃ©seaux gris spÃ©cifiÃ©s dans les paramÃ¨tres.  Lors de l'accÃ¨s au rÃ©seau public, ils sont fermÃ©s par le NAT classique (ou plutÃ´t, par sa version, qui est PAT). <br><br>  Mais GGSN est capable de plus.  Pour sÃ©lectionner une adresse IP, il peut faire une demande AAA au serveur d'autorisation (Radius par exemple).  Cette logique est configurÃ©e pour des APN individuels en fonction de leur objectif.  Le cas le plus simple est le service de fourniture d'une adresse IP publique permanente.  Ces adresses sont, en rÃ¨gle gÃ©nÃ©rale, attribuÃ©es aux abonnÃ©s dans la facturation de l'opÃ©rateur (BSS), et selon l'architecture informatique, elles se retrouvent dans une base de donnÃ©es particuliÃ¨re, accessible par la demande GGSN.  Du fait qu'il connaÃ®t le MSISDN (numÃ©ro de tÃ©lÃ©phone) de l'abonnÃ©, qui sera contenu dans la demande, une telle base de donnÃ©es sera assez simple et ne pourra contenir qu'un tas de numÃ©ros et d'adresses.  De plus, si le client prÃ©voit d'utiliser une carte SIM pour connecter plusieurs appareils (si la carte SIM est situÃ©e dans le routeur WiFi du bureau distant, par exemple), ce tableau peut Ã©galement contenir ce que l'on appelle la Â«route encadrÃ©eÂ» - le prÃ©fixe de rÃ©seau situÃ© Â« pour Â»une carte SIM, qui sera annoncÃ©e Ã  tous les appareils du rÃ©seau Ã  l'aide de protocoles de routage dynamique. <br><br><h3>  Pas un seul GGSN </h3><br>  En plus d'Ã©mettre des adresses, il est Ã©galement nÃ©cessaire de fournir du trafic d'abonnÃ© aux rÃ©seaux clients, chacun Ã  lui.  Ici, tout fonctionne beaucoup plus traditionnellement.  Sur GGSN, le trafic spÃ©cialisÃ© pour travailler avec VPN APN est routÃ© vers un routeur distinct du rÃ©seau de l'opÃ©rateur (il peut Ãªtre appelÃ© diffÃ©remment, parfois c'est un routeur VPN), qui Ã  son tour remplit la fonction d'un PE classique dans le schÃ©ma L3VPN.  Il ajoute les Ã©tiquettes, les en-tÃªtes nÃ©cessaires et c'est tout et envoie tout ce flux de trafic via les routeurs du rÃ©seau de transport aux liaisons ou tunnels prÃ©configurÃ©s vers le rÃ©seau du client.  Cette partie est dÃ©jÃ  beaucoup plus traditionnelle et souvent dÃ©crite ailleurs, je ne vais donc pas me concentrer sur elle dans ce document. <br><br>  Compte tenu de tous ces dÃ©tails, il peut y avoir plusieurs faÃ§ons d'organiser un VPN mobile, et ils diffÃ©reront les uns des autres par une combinaison des fonctionnalitÃ©s suivantes: <br><br><ul><li>  Les adresses IP, comme dÃ©jÃ  dÃ©crit, peuvent Ãªtre Ã©mises dynamiquement (Ã  chaque fois une adresse diffÃ©rente d'un sous-rÃ©seau donnÃ©) et statiquement (Ã  chaque fois la mÃªme adresse pour un abonnÃ© particulier), qui est dÃ©terminÃ©e par / ou les paramÃ¨tres APN et / ou les paramÃ¨tres du serveur Radius ; </li><li>  Les adresses IP peuvent Ãªtre Ã©mises par un serveur Radius sous le contrÃ´le de l'opÃ©rateur ou sous le contrÃ´le du client; </li><li>  Les appareils connectÃ©s Ã  un VPN mobile peuvent soit interagir uniquement les uns avec les autres, soit avoir accÃ¨s Ã  un rÃ©seau client L3VPN rÃ©gulier via une interface directe (port VPN) avec un opÃ©rateur ou via un tunneling sur Internet; </li><li>  Dans certains cas, l'utilisation d'un nom d'utilisateur et d'un mot de passe pour activer avec succÃ¨s une session peut Ãªtre nÃ©cessaire, et parfois il n'est mÃªme pas nÃ©cessaire de remplir le champ Â«APNÂ». </li></ul><br>  Il existe plusieurs dizaines de ces combinaisons avec diffÃ©rents types de tunnellisation, Ã©quilibrant le trafic entre les canaux d'accÃ¨s au client VPN Â«principalÂ» et le principe de l'Ã©mission d'adresses.  Dans la plupart des cas, le schÃ©ma gÃ©nÃ©ral est le suivant: <br><br><img src="https://habrastorage.org/webt/47/ez/7d/47ez7dugxs7whtjaghvrapuihcs.png"><br><br>  Par consÃ©quent, aprÃ¨s un processus assez rapide d'enregistrement sur le rÃ©seau et d'obtention d'une adresse IP, l'appareil obtient l'accÃ¨s au rÃ©seau du client et le rÃ©seau du client accÃ¨de Ã  l'appareil.  Dans le mÃªme temps, l'abonnÃ© est isolÃ© de tous les autres abonnÃ©s de l'opÃ©rateur qui ne sont pas liÃ©s Ã  un client particulier, il n'a pas besoin de paramÃ¨tres supplÃ©mentaires et tout le trafic est envoyÃ© sur le rÃ©seau du client sans alternative, oÃ¹ il est traitÃ© conformÃ©ment aux politiques internes du client. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr444946/">https://habr.com/ru/post/fr444946/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr444936/index.html">Firmware ZXHN H118N de Dom.ru sans soudure et programmeur</a></li>
<li><a href="../fr444938/index.html">Des services utiles et peu publics</a></li>
<li><a href="../fr444940/index.html">Trucs et astuces de Digital Forensics: Comment connecter une image Encase Ã  la machine virtuelle</a></li>
<li><a href="../fr444942/index.html">Alors que je visitais la lÃ©gendaire Ã©cole 42: Â«piscineÂ», chats et Internet au lieu des professeurs</a></li>
<li><a href="../fr444944/index.html">Alors que je visitais la lÃ©gendaire Ã©cole 42: Â«piscineÂ», chats et Internet Ã  la place des professeurs. 2e partie</a></li>
<li><a href="../fr444950/index.html">Termux Ã©tape par Ã©tape (partie 1)</a></li>
<li><a href="../fr444954/index.html">Examen des systÃ¨mes de gestion vidÃ©o ouverts</a></li>
<li><a href="../fr444956/index.html">Pour travailler Ã  vÃ©lo. Un autre avis</a></li>
<li><a href="../fr444958/index.html">Achetez un appareil Ã©lectronique et obtenez les donnÃ©es gratuitement: les informations personnelles restent sur les gadgets donnÃ©s</a></li>
<li><a href="../fr444960/index.html">Appel dans l'espace lointain: comment la NASA accÃ©lÃ¨re la communication interplanÃ©taire</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>