<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§Ωüèª ü§æüèæ ‚õπüèæ Menulis API dengan Python (dengan Flask dan RapidAPI) üßëüèΩ‚Äçü§ù‚ÄçüßëüèΩ ü§∫ üõÅ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Jika Anda membaca artikel ini, Anda mungkin sudah terbiasa dengan kemungkinan yang terbuka menggunakan API (Application Programming Interface). 

 Den...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Menulis API dengan Python (dengan Flask dan RapidAPI)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/skillbox/blog/464705/"><img src="https://habrastorage.org/getpro/habr/post_images/ba3/254/0ba/ba32540bab550e3f4f1f33db01f28d00.jpg"><br><br>  Jika Anda membaca artikel ini, Anda mungkin sudah terbiasa dengan kemungkinan yang terbuka menggunakan API (Application Programming Interface). <br><br>  Dengan menambahkan salah satu dari banyak API terbuka ke aplikasi Anda, Anda dapat memperluas fungsionalitas aplikasi ini atau menambahnya dengan data yang diperlukan.  Tetapi bagaimana jika Anda mengembangkan fitur unik yang ingin Anda bagikan dengan komunitas? <br><a name="habracut"></a><br>  Jawabannya sederhana: Anda perlu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">membuat API Anda sendiri</a> . <br><br>  Terlepas dari kenyataan bahwa pada awalnya itu tampak seperti tugas yang menakutkan, pada kenyataannya, semuanya sederhana.  Kami akan menunjukkan kepada Anda bagaimana melakukan ini dengan Python. <br><br><h3>  Apa yang Anda butuhkan untuk memulai </h3><br>  Untuk mengembangkan API, Anda perlu: <br><br><ul><li>  Python 3 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Flask</a> - kerangka kerja sederhana dan mudah digunakan untuk membuat aplikasi web; </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Flask-RESTful</a> adalah ekstensi untuk Flask yang memungkinkan Anda mengembangkan REST API dengan cepat dan dengan konfigurasi minimal. </li></ul><br>  Instalasi dilakukan dengan perintah: <br><br><pre><code class="python hljs">pip install flask-restful</code> </pre> <br><blockquote>  <b>Pemrograman intensif intensif gratis yang disarankan untuk pemula:</b> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pengembangan bot Telegram di C #</a> - 26-28 Agustus.  <i>Intensif gratis yang memungkinkan Anda untuk memahami cara kerja bot asisten, dalam fitur bekerja dengan API Telegram dan nuansa lainnya.</i>  <i>Tiga peserta terbaik akan menerima 30.000 rubel dari Skillbox</i> . <br></blockquote>  <b>Sebelum Anda mulai</b> <br><br>  Kami akan mengembangkan API <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">RESTful dengan fungsionalitas CRUID</a> dasar. <br><br>  Untuk memahami sepenuhnya masalahnya, mari kita lihat dua istilah yang disebutkan di atas. <br><br>  <b>Apa itu REST?</b> <br><br>  REST API (Representational State Transfer) adalah API yang menggunakan permintaan HTTP untuk bertukar data. <br><br>  API REST harus memenuhi kriteria tertentu: <br><br><ul><li>  Arsitektur client-server: klien berinteraksi dengan antarmuka pengguna, dan server berinteraksi dengan backend dan data warehouse.  Klien dan server bersifat independen, salah satunya dapat diganti secara terpisah dari yang lain. </li><li>  Stateless - tidak ada data klien yang disimpan di server.  Status sesi disimpan di sisi klien. </li><li>  Cacheability - Klien dapat menyimpan respons server untuk meningkatkan kinerja secara keseluruhan. </li></ul><br>  <b>Apa itu CRUD?</b> <br><br>  <b>CRUD</b> adalah konsep pemrograman yang menjelaskan empat tindakan dasar (buat, baca, perbarui, dan hapus). <br><br>  Di REST API, jenis permintaan dan metode permintaan bertanggung jawab atas tindakan seperti memposting, mendapatkan, menempatkan, menghapus. <br><br>  Sekarang setelah kami mengetahui persyaratan dasarnya, Anda dapat mulai membuat API. <br><br><h3>  Pengembangan </h3><br>  Mari kita buat repositori kutipan tentang kecerdasan buatan.  AI adalah salah satu teknologi yang paling cepat berkembang saat ini, dan Python adalah alat yang populer untuk bekerja dengan AI. <br><br>  Dengan API ini, pengembang Python dapat dengan cepat mendapatkan informasi tentang AI dan terinspirasi oleh perkembangan baru.  Jika pengembang memiliki pemikiran yang berharga tentang topik ini, ia akan dapat menambahkannya ke repositori. <br><br>  Mari kita mulai dengan mengimpor modul yang diperlukan dan mengkonfigurasi Flask: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> flask <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Flask <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> flask_restful <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Api, Resource, reqparse <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> random app = Flask(__name__) api = Api(app)</code> </pre> <br>  Dalam cuplikan ini, Labu, Api, dan Sumberdaya adalah kelas yang kita butuhkan. <br><br>  Reqparse adalah antarmuka parsing permintaan Flask-RESTful ... Anda juga akan memerlukan modul acak untuk menampilkan kutipan acak. <br><br>  Sekarang kita akan membuat repositori kutipan AI. <br><br>  Setiap entri repo akan berisi: <br><br><ul><li>  ID digital </li><li>  nama penulis kutipan; </li><li>  kutipan </li></ul><br>  Karena ini hanyalah contoh untuk pelatihan, kami akan menyimpan semua entri dalam daftar Python.  Dalam aplikasi nyata, kita kemungkinan besar akan menggunakan database. <br><br><pre> <code class="python hljs">ai_quotes = [ { <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">"Kevin Kelly"</span></span>, <span class="hljs-string"><span class="hljs-string">"quote"</span></span>: <span class="hljs-string"><span class="hljs-string">"The business plans of the next 10,000 startups are easy to forecast: "</span></span> + <span class="hljs-string"><span class="hljs-string">"Take X and add AI."</span></span> }, { <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">"Stephen Hawking"</span></span>, <span class="hljs-string"><span class="hljs-string">"quote"</span></span>: <span class="hljs-string"><span class="hljs-string">"The development of full artificial intelligence could "</span></span> + <span class="hljs-string"><span class="hljs-string">"spell the end of the human race‚Ä¶ "</span></span> + <span class="hljs-string"><span class="hljs-string">"It would take off on its own, and re-design "</span></span> + <span class="hljs-string"><span class="hljs-string">"itself at an ever increasing rate. "</span></span> + <span class="hljs-string"><span class="hljs-string">"Humans, who are limited by slow biological evolution, "</span></span> + <span class="hljs-string"><span class="hljs-string">"couldn't compete, and would be superseded."</span></span> }, { <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">"Claude Shannon"</span></span>, <span class="hljs-string"><span class="hljs-string">"quote"</span></span>: <span class="hljs-string"><span class="hljs-string">"I visualize a time when we will be to robots what "</span></span> + <span class="hljs-string"><span class="hljs-string">"dogs are to humans, "</span></span> + <span class="hljs-string"><span class="hljs-string">"and I'm rooting for the machines."</span></span> }, { <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">"Elon Musk"</span></span>, <span class="hljs-string"><span class="hljs-string">"quote"</span></span>: <span class="hljs-string"><span class="hljs-string">"The pace of progress in artificial intelligence "</span></span> + <span class="hljs-string"><span class="hljs-string">"(I'm not referring to narrow AI) "</span></span> + <span class="hljs-string"><span class="hljs-string">"is incredibly fast. Unless you have direct "</span></span> + <span class="hljs-string"><span class="hljs-string">"exposure to groups like Deepmind, "</span></span> + <span class="hljs-string"><span class="hljs-string">"you have no idea how fast ‚Äî it is growing "</span></span> + <span class="hljs-string"><span class="hljs-string">"at a pace close to exponential. "</span></span> + <span class="hljs-string"><span class="hljs-string">"The risk of something seriously dangerous "</span></span> + <span class="hljs-string"><span class="hljs-string">"happening is in the five-year timeframe."</span></span> + <span class="hljs-string"><span class="hljs-string">"10 years at most."</span></span> }, { <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-string"><span class="hljs-string">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">"Geoffrey Hinton"</span></span>, <span class="hljs-string"><span class="hljs-string">"quote"</span></span>: <span class="hljs-string"><span class="hljs-string">"I have always been convinced that the only way "</span></span> + <span class="hljs-string"><span class="hljs-string">"to get artificial intelligence to work "</span></span> + <span class="hljs-string"><span class="hljs-string">"is to do the computation in a way similar to the human brain. "</span></span> + <span class="hljs-string"><span class="hljs-string">"That is the goal I have been pursuing. We are making progress, "</span></span> + <span class="hljs-string"><span class="hljs-string">"though we still have lots to learn about "</span></span> + <span class="hljs-string"><span class="hljs-string">"how the brain actually works."</span></span> }, { <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-string"><span class="hljs-string">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">"Pedro Domingos"</span></span>, <span class="hljs-string"><span class="hljs-string">"quote"</span></span>: <span class="hljs-string"><span class="hljs-string">"People worry that computers will "</span></span> + <span class="hljs-string"><span class="hljs-string">"get too smart and take over the world, "</span></span> + <span class="hljs-string"><span class="hljs-string">"but the real problem is that they're too stupid "</span></span> + <span class="hljs-string"><span class="hljs-string">"and they've already taken over the world."</span></span> }, { <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-string"><span class="hljs-string">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">"Alan Turing"</span></span>, <span class="hljs-string"><span class="hljs-string">"quote"</span></span>: <span class="hljs-string"><span class="hljs-string">"It seems probable that once the machine thinking "</span></span> + <span class="hljs-string"><span class="hljs-string">"method had started, it would not take long "</span></span> + <span class="hljs-string"><span class="hljs-string">"to outstrip our feeble powers‚Ä¶ "</span></span> + <span class="hljs-string"><span class="hljs-string">"They would be able to converse "</span></span> + <span class="hljs-string"><span class="hljs-string">"with each other to sharpen their wits. "</span></span> + <span class="hljs-string"><span class="hljs-string">"At some stage therefore, we should "</span></span> + <span class="hljs-string"><span class="hljs-string">"have to expect the machines to take control."</span></span> }, { <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">"Ray Kurzweil"</span></span>, <span class="hljs-string"><span class="hljs-string">"quote"</span></span>: <span class="hljs-string"><span class="hljs-string">"Artificial intelligence will reach "</span></span> + <span class="hljs-string"><span class="hljs-string">"human levels by around 2029. "</span></span> + <span class="hljs-string"><span class="hljs-string">"Follow that out further to, say, 2045, "</span></span> + <span class="hljs-string"><span class="hljs-string">"we will have multiplied the intelligence, "</span></span> + <span class="hljs-string"><span class="hljs-string">"the human biological machine intelligence "</span></span> + <span class="hljs-string"><span class="hljs-string">"of our civilization a billion-fold."</span></span> }, { <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-string"><span class="hljs-string">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sebastian Thrun"</span></span>, <span class="hljs-string"><span class="hljs-string">"quote"</span></span>: <span class="hljs-string"><span class="hljs-string">"Nobody phrases it this way, but I think "</span></span> + <span class="hljs-string"><span class="hljs-string">"that artificial intelligence "</span></span> + <span class="hljs-string"><span class="hljs-string">"is almost a humanities discipline. It's really an attempt "</span></span> + <span class="hljs-string"><span class="hljs-string">"to understand human intelligence and human cognition."</span></span> }, { <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-string"><span class="hljs-string">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">"Andrew Ng"</span></span>, <span class="hljs-string"><span class="hljs-string">"quote"</span></span>: <span class="hljs-string"><span class="hljs-string">"We're making this analogy that AI is the new electricity."</span></span> + <span class="hljs-string"><span class="hljs-string">"Electricity transformed industries: agriculture, "</span></span> + <span class="hljs-string"><span class="hljs-string">"transportation, communication, manufacturing."</span></span> } ]</code> </pre> <br>  Sekarang kita perlu membuat Kutipan kelas sumber daya, yang akan menentukan operasi titik akhir API kita.  Empat metode harus dideklarasikan di dalam kelas: get, post, put, delete. <br><br>  <b>Mari kita mulai dengan metode GET.</b> <br><br>  Itu memungkinkan untuk mendapatkan penawaran spesifik dengan menetapkan ID atau kutipan acak jika ID tidak ditentukan. <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Quote</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Resource)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, id=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> id == <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> random.choice(ai_quotes), <span class="hljs-number"><span class="hljs-number">200</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> quote <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ai_quotes: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(quote[<span class="hljs-string"><span class="hljs-string">"id"</span></span>] == id): <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> quote, <span class="hljs-number"><span class="hljs-number">200</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Quote not found"</span></span>, <span class="hljs-number"><span class="hljs-number">404</span></span></code> </pre> <br>  Metode GET mengembalikan kutipan acak jika ID berisi nilai default, yaitu  Saat memanggil metode, tidak ada ID yang ditetapkan. <br><br>  Jika ditentukan, metode mencari di antara tanda kutip dan menemukan yang berisi ID yang ditentukan.  Jika tidak ada yang ditemukan, pesan "Penawaran tidak ditemukan, 404" ditampilkan. <br><br>  Ingat: metode ini mengembalikan status HTTP 200 jika permintaan berhasil dan 404 jika catatan tidak ditemukan. <br><br>  Sekarang mari kita buat metode POST untuk menambahkan kutipan baru ke repositori <br><br>  Ini akan menerima pengidentifikasi setiap kutipan baru saat Anda mengetik.  Selain itu, POST akan menggunakan reqparse untuk mem-parsing parameter yang akan masuk dalam tubuh permintaan (penulis dan teks kutipan). <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">post</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, id)</span></span></span><span class="hljs-function">:</span></span> parser = reqparse.RequestParser() parser.add_argument(<span class="hljs-string"><span class="hljs-string">"author"</span></span>) parser.add_argument(<span class="hljs-string"><span class="hljs-string">"quote"</span></span>) params = parser.parse_args() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> quote <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ai_quotes: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(id == quote[<span class="hljs-string"><span class="hljs-string">"id"</span></span>]): <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">f"Quote with id </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{id}</span></span></span><span class="hljs-string"> already exists"</span></span>, <span class="hljs-number"><span class="hljs-number">400</span></span> quote = { <span class="hljs-string"><span class="hljs-string">"id"</span></span>: int(id), <span class="hljs-string"><span class="hljs-string">"author"</span></span>: params[<span class="hljs-string"><span class="hljs-string">"author"</span></span>], <span class="hljs-string"><span class="hljs-string">"quote"</span></span>: params[<span class="hljs-string"><span class="hljs-string">"quote"</span></span>] } ai_quotes.append(quote) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> quote, <span class="hljs-number"><span class="hljs-number">201</span></span></code> </pre> <br>  Dalam kode di atas, metode POST menerima ID penawaran.  Kemudian, menggunakan reqparse, ia mendapatkan penulis dan kutipan dari kueri, menyimpannya di kamus params. <br><br>  Jika kutipan dengan ID yang ditentukan sudah ada, maka metode ini menampilkan pesan dan kode 400 yang sesuai. <br><br>  Jika kutipan dengan ID yang ditentukan belum dibuat, metode membuat catatan baru dengan ID dan penulis yang ditentukan, serta parameter lainnya.  Dia kemudian menambahkan entri ke daftar ai_quotes dan mengembalikan entri dengan kutipan baru bersama dengan kode 201. <br><br>  Sekarang buat metode PUT untuk mengubah kutipan yang ada di repositori. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">put</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, id)</span></span></span><span class="hljs-function">:</span></span> parser = reqparse.RequestParser() parser.add_argument(<span class="hljs-string"><span class="hljs-string">"author"</span></span>) parser.add_argument(<span class="hljs-string"><span class="hljs-string">"quote"</span></span>) params = parser.parse_args() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> quote <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ai_quotes: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(id == quote[<span class="hljs-string"><span class="hljs-string">"id"</span></span>]): quote[<span class="hljs-string"><span class="hljs-string">"author"</span></span>] = params[<span class="hljs-string"><span class="hljs-string">"author"</span></span>] quote[<span class="hljs-string"><span class="hljs-string">"quote"</span></span>] = params[<span class="hljs-string"><span class="hljs-string">"quote"</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> quote, <span class="hljs-number"><span class="hljs-number">200</span></span> quote = { <span class="hljs-string"><span class="hljs-string">"id"</span></span>: id, <span class="hljs-string"><span class="hljs-string">"author"</span></span>: params[<span class="hljs-string"><span class="hljs-string">"author"</span></span>], <span class="hljs-string"><span class="hljs-string">"quote"</span></span>: params[<span class="hljs-string"><span class="hljs-string">"quote"</span></span>] } ai_quotes.append(quote) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> quote, <span class="hljs-number"><span class="hljs-number">201</span></span></code> </pre> <br>  Metode PUT, mirip dengan contoh sebelumnya, mengambil ID dan input dan mem-parsing parameter kutipan menggunakan reqparse. <br><br>  Jika ada kutipan dengan ID yang ditentukan, metode akan memperbaruinya dengan parameter baru dan kemudian menampilkan penawaran yang diperbarui dengan kode 200. Jika tidak ada kutipan dengan ID yang ditentukan, catatan baru akan dibuat dengan kode 201. <br><br>  Akhirnya, mari kita buat metode DELETE untuk menghapus kutipan yang tidak lagi menginspirasi. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">delete</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, id)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> ai_quotes ai_quotes = [qoute <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> qoute <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ai_quotes <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> qoute[<span class="hljs-string"><span class="hljs-string">"id"</span></span>] != id] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">f"Quote with id </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{id}</span></span></span><span class="hljs-string"> is deleted."</span></span>, <span class="hljs-number"><span class="hljs-number">200</span></span></code> </pre> <br>  Metode ini mendapatkan ID kutipan saat Anda mengetik dan memperbarui daftar ai_quotes menggunakan daftar umum. <br><br>  Sekarang kita telah membuat semua metode, yang perlu kita lakukan hanyalah menambahkan sumber daya ke API, mengatur jalur dan menjalankan Flask. <br><br><pre> <code class="python hljs">api.add_resource(Quote, <span class="hljs-string"><span class="hljs-string">"/ai-quotes"</span></span>, <span class="hljs-string"><span class="hljs-string">"/ai-quotes/"</span></span>, <span class="hljs-string"><span class="hljs-string">"/ai-quotes/&lt;int:id&gt;"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">'__main__'</span></span>: app.run(debug=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)</code> </pre> <br>  Layanan REST API kami siap! <br><br>  Selanjutnya, kita dapat menyimpan kode di file app.py dengan menjalankannya di konsol menggunakan perintah: <br><br><pre> <code class="python hljs">python3 app.py</code> </pre> <br>  Jika semuanya baik-baik saja, maka kita mendapatkan sesuatu seperti ini: <br><br>  <i>* Mode debug: aktif</i> <i><br></i>  <i>* Berjalan pada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">127.0.0.1</a> : 5000 / (Tekan CTRL + C untuk berhenti)</i> <i><br></i>  <i>* Restart dengan stat</i> <i><br></i>  <i>* Debugger aktif!</i> <i><br></i>  <i>* PIN debugger: XXXXXXX</i> <br><br>  <b>Pengujian API</b> <br><br>  Setelah API dibuat, itu perlu diuji. <br><br>  Ini dapat dilakukan dengan menggunakan utilitas konsol ikal atau klien Insomnia REST atau dengan menerbitkan API ke API Cepat. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/07d/0ba/ac3/07d0baac377bd2cd2667b7c457740e64.png"><br><br>  <b>Publikasikan API kami</b> <br><br>  RapidAPI adalah pasar terbesar di dunia dengan lebih dari 10.000 API (dan sekitar 1 juta pengembang). <br><br>  RapidAPI tidak hanya menyediakan antarmuka tunggal untuk bekerja dengan API pihak ketiga, tetapi juga memberi Anda kemampuan untuk dengan cepat dan mudah menerbitkan API Anda sendiri. <br><br>  Untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">melakukan ini</a> , Anda harus mempublikasikannya terlebih dahulu di beberapa server di jaringan.  Dalam kasus kami, kami akan menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Heroku</a> .  Bekerja dengannya seharusnya tidak menimbulkan kesulitan ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Anda dapat mempelajari lebih lanjut tentang dia di sini</a> ). <br><br>  <b>Bagaimana cara mempublikasikan API Anda di Heroku</b> <br><br>  <i><b>1. Instal Heroku.</b></i> <br><br>  Langkah pertama adalah mendaftar dan menginstal Heroku Command Line Interface (CLI).  Ini berfungsi di Ubuntu 16+. <br><br>  <i>sudo jepret instal heroku --classic</i> <br><br>  Kemudian masuk: <br><br>  <i>login heroku</i> <br><br>  <i><b>2. Tambahkan file yang diperlukan.</b></i> <br><br>  Sekarang kita perlu menambahkan file untuk publikasi ke folder di aplikasi kita: <br><br><ul><li>  requirement.txt dengan daftar modul Python yang diperlukan; </li><li>  Procfile, yang menunjukkan perintah mana yang harus dijalankan untuk meluncurkan aplikasi; </li><li>  .gitignore - untuk mengecualikan file yang tidak diperlukan di server. </li></ul><br>  File requirement.txt akan berisi baris-baris berikut: <br><br><ul><li>  labu </li><li>  labu-nyenyak </li><li>  gunicorn </li></ul><br>  Harap dicatat: kami menambahkan gunicorn (Python WSGI HTTP Server) ke daftar, karena kami perlu menjalankan aplikasi kami di server. <br><br>  Procfile akan berisi: <br><br>  <i>web: aplikasi gunicorn: app</i> <br><br>  Isi .gitignore: <br><br><pre> <code class="1c hljs">*.pyc __pycache__/</code> </pre> <br>  Sekarang setelah file dibuat, mari inisialisasi git repo dan komit: <br><br><pre> <code class="plaintext hljs">git init git add git commit -m "First API commit"</code> </pre> <br>  <i><b>3. Buat aplikasi Heroku baru.</b></i> <br><br><pre> <code class="plaintext hljs">heroku create</code> </pre> <br>  Kami mengirim cabang utama ke repo Heroku jarak jauh: <br><br><pre> <code class="plaintext hljs">git push heroku master</code> </pre> <br>  Sekarang Anda bisa mulai dengan membuka Layanan API menggunakan perintah: <br><br><pre> <code class="plaintext hljs">heroku ps:scale web=1 heroku open</code> </pre><br>  API akan tersedia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">di-random-heroku-name.herokuapp.com/ai-quotes Anda</a> . <br><br>  <b>Cara menambahkan API Python Anda ke pasar RapidAPI</b> <br><br>  Setelah layanan API dipublikasikan di Heroku, Anda dapat menambahkannya ke Rapid API.  Berikut adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi terperinci</a> tentang topik ini. <br><br>  <i><b>1. Buat akun RapidAPI.</b></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f3a/35d/013/f3a35d01372d9c998e7508a59b9a7d69.png"><br><br>  Daftarkan akun gratis - ini dapat dilakukan menggunakan Facebook, Google, GitHub. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4be/9c2/c7d/4be9c2c7da982571aa16f7e715784409.png"><br><br>  <i><b>2. Tambahkan API ke panel kontrol.</b></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b38/733/cc5/b38733cc584694eabd37b360a44d42ea.png"><br><br>  <i><b>3. Selanjutnya, masukkan informasi umum tentang API Anda.</b></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/414/804/fd7/414804fd7b343aeb691fed695f16e392.png"><br><br>  <i><b>4. Setelah mengklik "Tambahkan API" halaman baru muncul di mana Anda dapat memasukkan informasi tentang API kami.</b></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b39/9dd/c4d/b399ddc4d329fab9e95cf77f34dbd583.png"><br><br>  <i><b>5. Sekarang Anda dapat memasukkan titik akhir API secara manual, atau mengunduh file <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sombong</a> menggunakan OpenAPI.</b></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3f7/1e6/950/3f71e695060c691e115bc4c54b9f08d8.png"><br><br>  Nah, sekarang kita perlu mengatur titik akhir API kami di halaman Titik Akhir.  Dalam kasus kami, titik akhir sesuai dengan konsep CRUD (dapatkan, posting, masukkan, hapus). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/42a/c79/eb7/42ac79eb7ba7699e71d93bf79030d0b6.png"><br><br>  Selanjutnya, Anda perlu membuat titik akhir GET AI Quote, yang menampilkan kutipan acak (jika ID default) atau kutipan untuk ID yang ditentukan. <br><br>  Untuk membuat titik akhir, klik tombol "Buat Titik Akhir". <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a7b/82b/ef1/a7b82bef117a91a931584c6c07c63a89.png"><br><br>  Ulangi proses ini untuk semua titik akhir API lainnya.  Itu saja!  Selamat, Anda telah menerbitkan API Anda! <br><br>  Jika semuanya baik-baik saja, halaman API akan terlihat seperti ini: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/83e/14e/200/83e14e2002bd3a6b85148557c79cb050.png"><br><br><h3>  Kesimpulan </h3><br>  Dalam artikel ini, kami mengeksplorasi proses pembuatan Layanan API RESTful Anda sendiri dengan Python, bersamaan dengan proses penerbitan API ke cloud Heroku dan menambahkannya ke direktori RapidAPI. <br><br>  Tetapi dalam versi uji, hanya prinsip dasar pengembangan API yang ditampilkan - nuansa seperti keamanan, toleransi kesalahan dan skalabilitas tidak dipertimbangkan. <br><br>  Saat mengembangkan API nyata, semua ini harus diperhitungkan. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id464705/">https://habr.com/ru/post/id464705/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id464687/index.html">Jika Anda ingin menyelamatkan dunia, veganisme bukanlah suatu pilihan</a></li>
<li><a href="../id464689/index.html">Konten Panda Frontend Meetup # 22: plugin, data canggih, pengujian, deklaratif Angular</a></li>
<li><a href="../id464691/index.html">Pertempuran dunia maya terjadi, atau Bagaimana Pusat Keamanan Pakar PT melacak para penyerang</a></li>
<li><a href="../id464695/index.html">Model pembelajaran mesin yang diinterpretasikan. Bagian 1</a></li>
<li><a href="../id464701/index.html">Situs startup yang efektif: bagaimana pelanggan, mitra, dan investor menyukai satu situs</a></li>
<li><a href="../id464709/index.html">Hidup dan hidup: virus ransomware pada tahun 2019</a></li>
<li><a href="../id464711/index.html">Peri gigi tidak bekerja di sini: struktur enamel gigi buaya dan nenek moyang prasejarah mereka</a></li>
<li><a href="../id464713/index.html">Algoreve: bagaimana programer mengadakan pesta</a></li>
<li><a href="../id464715/index.html">Visualisasi grafik besar untuk yang terkecil</a></li>
<li><a href="../id464719/index.html">Manajemen Sasaran Organisasi: Sasaran dan Insinyur (Bagian 3)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>