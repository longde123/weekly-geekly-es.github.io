<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§´ üë∞ üë®üèæ‚Äçüî¨ ‚ÄúFui muito negativo em rela√ß√£o √†s corotinas‚Äù: Artyom Zinnatullin no desenvolvimento do Android üöö üçü ‚ìÇÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Entre os desenvolvedores do Android, Artyom Zinnatullin √© t√£o respeitado que voc√™ pode compor um an√°logo de "fatos sobre Chuck Norris" sobre ele - alg...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>‚ÄúFui muito negativo em rela√ß√£o √†s corotinas‚Äù: Artyom Zinnatullin no desenvolvimento do Android</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jugru/blog/437948/"><img src="https://habrastorage.org/webt/jw/rj/ax/jwrjax9dcgvxn3uvakuy9veflvu.jpeg"><br><br>  Entre os desenvolvedores do Android, <b>Artyom Zinnatullin</b> √© t√£o respeitado que voc√™ pode compor um an√°logo de "fatos sobre Chuck Norris" sobre ele - algo como isto: <br><br><ul><li>  Artyom √© t√£o severo que, quando o v√™, o pr√≥prio github fica verde (quem de n√≥s pode se orgulhar de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tal</a> cronograma de contribui√ß√µes?) </li><li>  Artyom √© t√£o duro que, para ele, o git √© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um mensageiro</a> . </li><li>  Artyom √© t√£o severo que, no contexto de suas aplica√ß√µes, √© um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">podcast</a> . </li></ul><br>  Quando o entrevistamos em nossa confer√™ncia Mobius, ele foi destinado a uma transmiss√£o on-line.  Mas, vendo como eles se referem a ele no bate-papo do Android, decidimos que tamb√©m poderia ser do interesse de muitos no Habr√©, e fizemos uma vers√£o em texto para voc√™ (tamb√©m anexamos a grava√ß√£o de v√≠deo). <br><br>  Como viver com um projeto em um milh√£o de linhas de c√≥digo?  Qual √© a desvantagem do corotin Kotlin?  O que h√° de errado com o Google?  Como o desenvolvimento em S√£o Francisco √© diferente do russo?  Sobre o que o Mobius falou?  Sob o corte - sobre tudo isso. <br><a name="habracut"></a><br><iframe width="560" height="315" src="https://www.youtube.com/embed/3VzT_IFtf5Q" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <b>Evgeny Trifonov</b> : Nesse Mobius, eu perdi sua palestra ‚ÄúAndroid constr√≥i na Lyft‚Äù, mas depois vi uma multid√£o de pessoas desejando fazer uma pergunta na √°rea de discuss√£o.  E eu queria esclarecer: mas, afinal, a maioria dos espectadores n√£o est√° trabalhando em um projeto gigante como o Lyft, essa experi√™ncia foi relevante para eles? <br><br>  <b>Artyom</b> : Isso √© uma coisa interessante.  O esbo√ßo original do relat√≥rio em minha cabe√ßa e como eu o implementei s√£o muito diferentes, gra√ßas ao seu elegante comit√™ de programa. <br><br>  Inicialmente, eu ia contar como tudo come√ßou na Lyft, por que chegamos a certas solu√ß√µes t√©cnicas.  Ele conversou com Sergey Boishtyan, do comit√™ do programa, por duas horas, ouviu e disse: "Legal, √© claro, mas voc√™ fez a palestra".  E, no final, percebi que esse relat√≥rio, √© claro, √© interessante de ouvir, mas na verdade n√£o √© relevante para ningu√©m. <br><br>  E ent√£o refiz, mudando a √™nfase para abordagens fundamentais de engenharia para a escolha de sistemas de montagem, outros sistemas.  Eu n√£o tinha um objetivo de dizer quais ferramentas usamos especificamente.  N√£o quero que algu√©m pegue e comece a us√°-los √†s cegas e depois me escreva cartas formid√°veis ‚Äã‚Äãde que nem tudo funciona como eu lhe disse.  Eu queria transmitir exatamente as pr√°ticas de engenharia sobre como fazer uma escolha e o que √© importante na minha opini√£o (naturalmente, subjetiva).  Portanto, espero que, no final, a experi√™ncia seja relevante para mais pessoas, e n√£o apenas "o cara da Lyft apareceu e disse alguma coisa". <br><br>  <b>Oleg <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">olegchir</a> Chirukhin</b> : Existem escolhas incomuns da Lyft que s√£o dif√≠ceis de serem feitas por outras pessoas? <br><br>  <b>Artyom</b> : Sim, claro.  Temos dois sistemas de constru√ß√£o no projeto ao mesmo tempo, n√£o recomendo absolutamente ningu√©m <i>(risos)</i> . <br><br>  √â muito doloroso de manter: voc√™ constantemente persegue dois coelhos com uma cajadada, em ambos, algo n√£o funciona at√© o fim.  Mas esse √© o nosso estado atual, t√£o historicamente, porque um sistema de constru√ß√£o come√ßou a calar parte de tarefas, tivemos que iniciar um segundo.  Eu falei sobre como evitar isso e migrar corretamente para um deles. <br><br>  <b>Oleg</b> : E que tipo de constru√ß√£o de sistemas? <br><br>  <b>Artyom</b> : Usamos Gradle e Buck, e eu falei sobre como chegar ao Bazel pelo Google. <br><br>  <b>Oleg</b> : Esse √© algum tipo de movimento em dire√ß√£o ao mal: do bonito Gradle a Bazel, no qual n√£o existem depend√™ncias normais. <br><br>  <b>Artyom</b> : Agora h√° mais ou menos.  Bem, sim, √© claro, existem trocas e, √© claro, a Gradle tem seus m√©ritos.  Tudo depende do tipo de projeto.  Alguns Gradle ser√£o mais adequados que Buck e Bazel, porque eles t√™m alguns pontos fundamentais que n√£o ser√£o coletados gradualmente dentro do mesmo m√≥dulo, mas Gradle ser√°, e para muitos isso √© muito importante.  E √© legal que Gradle possa fazer isso. <br><br>  Outra coisa √© que, quando voc√™ adiciona m√≥dulos - mais, mais m√≥dulos, oitocentos, mil -, o Gradle √© t√£o reprojetado que desacelera linearmente a montagem em alguns lugares.  Mas parece-me que Gradle pode consertar tudo isso se a comunidade exercer press√£o sobre eles - o que talvez eu esteja fazendo.  Vamos ver  <i>(nota: alguns dias ap√≥s esta entrevista, Artyom escreveu um longo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">post</a> sobre os problemas de Gradle)</i> <br><br>  <b>Oleg:</b> Ou seja, Bazel apenas porque eu quero suportar um grande n√∫mero de m√≥dulos? <br><br>  <b>Artyom</b> : Digamos que, no nosso caso, n√£o o "queremos", mas dividir o projeto em m√≥dulos permite que nossos neg√≥cios se movam mais rapidamente.  Basicamente, pelo que entendi, isso √© isolamento para que n√£o funcione espaguete, o que √© dif√≠cil de manter.  Os m√≥dulos d√£o mais controle sobre quais partes do c√≥digo interagem com as quais.  Temos quase um milh√£o de linhas de c√≥digo.  Se estivesse em um m√≥dulo, eu teria que fazer espaguete.  Porque no topo da linguagem - Java, Kotlin - ser√° necess√°rio encerrar algo para proibir chamadas entre pacotes, entre os quais ningu√©m esperava.  Al√©m disso, surgir√° a quest√£o de que Gradle n√£o utilizar√° tanto c√≥digo em um m√≥dulo.  Ele n√£o ser√° coletado em paralelo, montado de forma incremental dentro do m√≥dulo. <br><br>  Cada solu√ß√£o tem vantagens e desvantagens.  No nosso caso, parece-me que esta √© a solu√ß√£o certa, mas h√° um problema - no momento, oferecemos suporte a dois sistemas de compila√ß√£o. <br><br>  <b>Oleg</b> : E o que √© melhor para centenas de m√≥dulos: monorepo ou muitos reposit√≥rios? <br><br>  <b>Artyom</b> : Este √© um ponto muito dolorido.  Provavelmente, um reposit√≥rio √© melhor do ponto de vista de que voc√™ n√£o precisa pensar em vers√£o e n√£o existe essa depend√™ncia quando voc√™ clona uma d√∫zia de reposit√≥rios para fazer uma altera√ß√£o e, em seguida, abre uma solicita√ß√£o pull e uma d√∫zia depois dela.  O "atrito" √© removido do sistema e as pessoas n√£o t√™m medo de alterar o c√≥digo.  Para eles, surge uma atomicidade de mudan√ßas: tudo √© agrupado em um projeto, e as mudan√ßas de um m√≥dulo s√£o automaticamente transferidas para outros sem seu consentimento expl√≠cito.  Ao mesmo tempo, todas as verifica√ß√µes que voc√™ escreveu automaticamente no IC ser√£o executadas e verificar√£o se o c√≥digo est√° compilado, testado e tudo isso. <br><br>  <b>Oleg</b> : E se voc√™ n√£o perceber que, como em algum Chrome, os galhos mudar√£o por dois minutos enquanto voc√™ bebe ch√°? <br><br>  <b>Artyom</b> : Sim, claro, h√° uma possibilidade.  Mas aqui, provavelmente, a quest√£o j√° est√° no tamanho do produto: o Chrome precisa conter tanto c√≥digo?  Talvez valha a pena destacar algumas partes em instrumentos separados, que elas ser√£o periodicamente refor√ßadas quando ocorrerem grandes mudan√ßas neles?  Esta √© provavelmente uma pergunta para a organiza√ß√£o do projeto.  Exemplo legal, a prop√≥sito.  Eu tenho uma pergunta semelhante: correspond√™ncia com os caras do Yandex.Browser, onde eles tamb√©m t√™m plugues grandes. <br><br>  O Chrome pode ser dividido em v√°rios componentes, e se voc√™ usar um V8 - eu n√£o sou um grande especialista, mas, pelo que entendi, poderia ser um projeto separado em geral, certo?  E por que, ent√£o, a GUI deve saber sobre o mecanismo, remont√°-lo toda vez e pensar no c√≥digo-fonte em algum lugar pr√≥ximo?  Bazel, a prop√≥sito, tamb√©m ap√≥ia isso. <br><br>  Em geral, agora todos os grandes sistemas de compila√ß√£o - que Gradle, que Buck, que Bazel - suportam coisas como comp√≥sitos quando voc√™ se refere, por exemplo, a outro assembly Bazel.  Essa √© uma situa√ß√£o complicada, mas, no entanto, isso funciona, permite remover parte dos arquivos do reposit√≥rio e reduzir o tamanho.  O IDE, por exemplo, enlouquecer√° ao indexar todos esses arquivos, por isso quero separ√°-los de alguma forma do componente geral do projeto. <br><br>  Mas estamos longe disso.  Parece-me que podemos calcular com calma outros cinco anos.  √â improv√°vel que cheguemos a um checkout de dois minutos ainda.  N√≥s n√£o temos muitas pessoas. <br><br>  <b>Eugene</b> : O Lyft ainda tem suas especificidades, al√©m de dois sistemas de constru√ß√£o? <br><br>  <b>Artyom</b> : Sim, existem algumas hist√≥rias at√≠picas l√°.  Aconteceu que as pessoas que vieram para a empresa (do Google, Facebook, em todos os lugares) odeiam mono-reposit√≥rios.  Como resultado, n√≥s da Lyft temos tr√™s reposit√≥rios mono: Android, iOS e L5 (esses s√£o nossos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">carros aut√¥nomos</a> ). <br><br>  E tudo o resto tem mais de 1.500 reposit√≥rios git: para todos os microsservi√ßos, para todas as bibliotecas separadamente.  Este √© historicamente o caso.  Isso tem um pre√ßo enorme que pagamos: empurrar as mudan√ßas atrav√©s delas √© realmente dif√≠cil.  Por outro lado, ao trabalhar com cada um deles, voc√™ tem clone instant√¢neo do git, impulso instant√¢neo do git, tudo √© muito r√°pido, o IDE indexa por segundo.  Eu posso dizer que esta √© realmente uma parte interessante.  Dos caras de San Francisco, eu esperaria um √∫nico reposit√≥rio. <br><br>  <b>Oleg</b> : E quando um desses reposit√≥rios separados √© atualizado - a API muda, por exemplo - como essa altera√ß√£o se aplica ao restante da empresa? <br><br>  <b>Artyom:</b> D√≥i.  <i>(risos)</i> Bem, eu n√£o sou desenvolvedor de back-end no sentido de n√£o escrever back-end de recursos, escrevo back-end de infraestrutura - eles geralmente s√£o bastante aut√¥nomos nesse sentido. <br><br>  Como regra, isso √© apenas um monte de com√≠cios, intera√ß√£o cruzada e planejamento. <br><br>  <b>Oleg:</b> Ent√£o os com√≠cios fazem parte do sistema de montagem?  (risos) <br><br>  <b>Artyom</b> : Sim, primeiro precisamos montar um com√≠cio, depois montar um reposit√≥rio.  Al√©m disso, infelizmente, historicamente, temos muitos desses microsservi√ßos - este √© o Python, que tamb√©m tem suas pr√≥prias piadas. <br><br>  <b>Oleg</b> : Alguma antipatia por Python escorregou. <br><br>  <b>Artyom</b> : N√£o gosto de digita√ß√£o din√¢mica.  Python, n√£o Python - n√£o faz diferen√ßa, mas a digita√ß√£o din√¢mica √© uma coisa dolorida. <br><br><img src="https://habrastorage.org/webt/u9/sf/06/u9sf06jtant0vryrcaqy1xpx1uo.jpeg"><br><br>  <b>Eugene</b> : E escorregou "para uma empresa de S√£o Francisco", e √© curioso perguntar isso: mas em termos de desenvolvimento, as empresas de S√£o Francisco diferem das empresas da R√∫ssia, h√° uma diferen√ßa not√°vel? <br><br>  <b>Artyom</b> : Uma diferen√ßa muito grande.  N√£o sou muito f√£ de classificar dessa maneira, mas parece-me que aqui √© uma escola de engenharia mais correta. <br><br>  <b>Oleg</b> : Aqui - onde est√°? <br><br>  <b>Artyom</b> : Na R√∫ssia, nos pa√≠ses da antiga URSS.  As pessoas prestam mais aten√ß√£o aos aspectos t√©cnicos de como os componentes do sistema funcionam.  E nos Estados Unidos, muitas vezes acontece que algumas bibliotecas resolvem um problema, e as pessoas nem olham como ela √© implementada.  Como regra, eles absolutamente n√£o se importam com a redu√ß√£o da velocidade ou com o uso incorreto. <br><br>  Vou entrevistar muitas pessoas l√°, porque isso faz parte do trabalho, e o n√≠vel geral de conhecimento, talvez, ainda seja menor.  H√° algo para mudar.  Toda vez que uma pessoa vem do Leste Europeu, torna-se mais interessante durante as entrevistas, porque as pessoas n√£o t√™m medo de resistir, de discutir em algum lugar.  Embora os candidatos dos EUA muitas vezes possam n√£o responder a perguntas ou responder "N√£o me lembro quando o usei pela √∫ltima vez".  Para perguntas como "Como funciona uma solicita√ß√£o HTTP?"  ou "Qual formato de dados voc√™ escolher√°?"  eles n√£o podem dar respostas normais de engenharia, mas dizem: "Bem, eu usei isso nos √∫ltimos cinco anos".  Legal, √© claro, mas o senhor n√£o puxa. <br><br>  Por outro lado, existem projetos que levaram anos para serem comparados com o que estamos fazendo aqui.  As pessoas produzem mais produtos de massa e simplesmente h√° mais escala.  Por exemplo, Chrome ou Uber - eles j√° t√™m mais de mil m√≥dulos l√°.  Esta √© apenas a escala dos problemas.  Digamos no Uber com menos de trezentos desenvolvedores do Android.  Surge a pergunta: por que?  <i>(risos)</i> Mas, no entanto, eles conseguiram fazer esse colosso funcionar, constantemente liberado.  Eu diria que esses problemas s√£o resolvidos com menos frequ√™ncia aqui. <br><br>  Aqui o Yandex √© um bom exemplo.  Eu tenho um amigo no Yandex.Maps: dez pessoas fazem um aplicativo Android.  No Google, provavelmente cem est√£o sentados.  E, ao mesmo tempo, o Yandex.Mart tem mais funcionalidade.  Essa √© a diferen√ßa, na minha opini√£o. <br><br>  <b>Eugene</b> : Al√©m disso, o Valley tamb√©m est√° associado a start-ups, e elas t√™m uma abordagem de "mova-se r√°pido e quebre as coisas", e parece que isso tamb√©m deve afetar o desenvolvimento: viva no limite, use o mais recente.  Isso √© verdade? <br><br>  <b>Artyom</b> : Eu n√£o trabalhei em startups, Lyft √© dif√≠cil chamar assim: j√° existem tr√™s mil e tr√™s pessoas, em algum lugar mais de mil delas s√£o engenheiros.  Ou seja, √© uma empresa j√° formada. <br><br>  √â uma tecnologia de ponta que raramente √© usada.  Se a tecnologia √© sensacionalista, ent√£o sim.  Se a tecnologia √© um nicho, mas legal, muitas vezes n√£o.  At√© que todas as confer√™ncias falem sobre isso, poucas pessoas o usar√£o. <br><br>  Mas, ao mesmo tempo, o que eu realmente amo (em San Francisco e em parte no Valley) - muitos problemas s√£o resolvidos devido ao fato de as empresas estarem fisicamente pr√≥ximas.  Muitas vezes, voc√™ escreve para algu√©m em uma sala de bate-papo: ‚ÄúVamos almo√ßar juntos em nossa casa ou em seu escrit√≥rio e decidimos, faremos algumas perguntas‚Äù; e ent√£o uma vez - um projeto de c√≥digo aberto ou solicita√ß√£o de recebimento aparece em outro projeto, algo fixo. <br><br>  O que √© interessante: as pessoas frequentemente discutem coisas que realmente n√£o devem ser discutidas na NDA.  Mas √© assim que todo o Vale se move, no final, todo mundo entende para onde o resto est√° se movendo, e todo o setor caminha junto.  Digamos, os mobilistas da Lyft e da Uber falam constantemente sobre coisas t√©cnicas, porque usamos c√≥digo aberto da Uber.  E, √© claro, existem especialistas diretamente hardcore em algumas tecnologias.  Isso tamb√©m √© legal: voc√™ pode simplesmente cruzar com eles. <br><br>  Eu amo isso, e isso n√£o foi suficiente para mim em algumas cidades onde eu morava.  Aqui em S√£o Petersburgo, havia um grupo de usu√°rios Java muito legal (eu ainda n√£o sei como √© agora): voc√™ vem depois do trabalho, e Shipilev tira seu c√©rebro, e algo est√° bom! <br><br>  E a√≠ aparece novamente: por exemplo, tamb√©m possui seu pr√≥prio Java User Group, e muitas vezes surgem caras, digamos, da Oracle, que filmou um novo JDBC Reativo.  E voc√™ senta, argumenta, porque algum l√≠der do Projeto Reator ou l√≠der Reativo na Primavera est√° sentado no mesmo lugar, uma discuss√£o quente est√° acontecendo, e isso √© legal. <br><br>  <b>Oleg</b> : Vou perguntar sobre outra coisa: olhei para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">o reposit√≥rio</a> Mainframer e Rust √© usado l√°.  Por que tudo isso est√° escrito n√£o no Javka aben√ßoado, mas em algum tipo de Ferrugem? <br><br>  <b>Artyom</b> : Recentemente, passei a considerar que o programa deveria ter uma quantidade m√≠nima de recursos.  Ou seja, quero estar muito perto de como o ferro digere bytes.  E em Java, muitas coisas est√£o acontecendo por a√≠ (nem estou falando sobre coleta de lixo), ou seja, JIT e tudo isso.  Eu realmente gosto que o Java agora esteja se movendo para o fato de que tamb√©m haver√° compila√ß√£o antecipada.  Parece-me que ser√° muito legal, por exemplo, iniciar o lan√ßamento de um microsservi√ßo baixando do cache sua compila√ß√£o antecipada, o que originalmente aconteceu em outras m√°quinas, e iniciando-o muito rapidamente, sem aquecimento.  Isso √© legal, mas o Java tem um pre√ßo.  N√£o posso simplesmente pedir √†s pessoas que est√£o construindo um projeto iOS que tenham Java em seus sistemas. <br><br>  O mainframer foi originalmente escrito no dialeto Bash.  Mas eu queria reescrev√™-lo em uma linguagem de sistema para obter multithreading normal, a capacidade de escrever testes de unidade normais e n√£o apenas testes de integra√ß√£o no topo do utilit√°rio ... <br><br>  <b>Oleg</b> : E pode-se usar, por exemplo, Python. <br><br>  <b>Artyom</b> : Sim.  Mas ent√£o surge a quest√£o com o fato de que, em primeiro lugar, √© uma digita√ß√£o din√¢mica e, em segundo lugar ... <br><br>  <b>Oleg</b> : Tamb√©m no Bash, digita√ß√£o din√¢mica. <br><br>  <b>Artyom</b> : Ent√£o, eu queria reescrev√™-lo.  Al√©m disso, h√° um problema com o fato de o Python agora ter dois: no macOS, por padr√£o o segundo, e quase todo no Linux agora √© o terceiro.  H√° todo tipo de piada.  Se eu precisar de algum tipo de depend√™ncia para ligar, pedirei √†s pessoas que executem pip?  Ou vou ter que bater nela? <br><br>  Eu queria usar uma linguagem de sistema que requer zero depend√™ncias, para que eu possa colocar um bin√°rio que pesa, condicionalmente, menos de um megabyte e trabalhe com sobrecarga m√≠nima. <br><br>  <b>Oleg</b> : Voc√™ pode pegar Golang, pelo menos tem um coletor de lixo. <br><br>  <b>Artyom</b> : √â exatamente por isso que eu queria experimentar o Rust.  E funcionou.  Al√©m disso, Golang est√° meio triste com os gen√©ricos. <br><br>  <b>Eugene</b> : Desde que come√ßaram a discutir linguagens ... No contexto do desenvolvimento do Android, a pergunta "Kotlin ou Java" j√° est√° cansada, mas ainda assim eu vou perguntar para passar para a pr√≥xima pergunta. <br><br>  <b>Artyom</b> : Bem, Kotlin, √© claro. <br><br>  <b>Eugene</b> : Agora a pergunta que realmente interessa.  Recentemente, em Kotlin, as corotinas tornaram-se est√°veis ‚Äã‚Äãe as vozes "Hooray, vamos nos afastar do RxJava" s√£o ouvidas.  Portanto, quando vejo uma pessoa na minha frente que √© muito pr√≥xima ao RxJava, quero imediatamente perguntar sua opini√£o sobre as corotinas. <br><br>  <b>Artyom</b> : Eu fui muito negativo em rela√ß√£o √†s corotinas.  Em princ√≠pio, ainda √© principalmente negativo, mas isso mudou em parte a longa conversa com <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Roma Elizarov</a> , que est√° trabalhando neles. <br><br>  Como usu√°rio de programas, quero que eles sejam o menos bloqueadores poss√≠vel, que usem os recursos da maneira mais correta poss√≠vel.  Por isso, quero dizer paralelismo e o fato de que eles usam as APIs corretas do sistema operacional para n√£o bloquear o acesso √† rede ou aos arquivos - h√° muitos problemas com isso nos sistemas operacionais, mas, no entanto, existem essas APIs.  O que exatamente isso resolve?  Como usu√°rio, isso n√£o importa para mim - se apenas os desenvolvedores resolverem esse problema de uma maneira que os torne confort√°veis.  N√£o tenho grandes problemas com isso.  E esta √© a vis√£o de Roma Elizarov.  Depois dessa conversa, eu de alguma forma deixei para l√°. <br><br>  Antes disso, como meu amigo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Arthur Dremov</a> , parecia um retrocesso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">para mim</a> depois de v√°rios anos usando Java na produ√ß√£o: o c√≥digo novamente se torna imperativo, impuro, perde a compreens√£o do pipeline, novamente se torna uma bagun√ßa, que o compilador se transforma em uma bagun√ßa ass√≠ncrona para voc√™. <br><br>  Eu n√£o uso corotinas, mas todos os exemplos que estou observando agora mudaram para uma abordagem estruturada, quando voc√™ nem v√™ qual trecho de c√≥digo √© corotina.  Para ser sincero, estou com muito medo de olhar para isso.  Como eu abro a solicita√ß√£o pull no GitHub, alguns m√©todos s√£o chamados para fazer upload da foto e do perfil, um deles vai para a rede e o outro para o SQLite local, e aqui o SQLite local pode ser facilmente bloqueado.  N√£o vejo isso no c√≥digo, porque as corotinas s√£o feitas para que voc√™ n√£o a veja.  Talvez seja bom, mas para mim isso ainda √© menos do design, porque nas abordagens de Rx √© muito √≥bvio: voc√™ entende se isso faz parte do pipeline s√≠ncrono ou n√£o. <br><br>  Talvez essa seja minha √∫nica reclama√ß√£o para as corotinas: quero ver quando ocorre a minha assincronia e quando n√£o.  Idealmente, quero que as pessoas escrevam um c√≥digo mais funcional quando houver pequenas pe√ßas reutiliz√°veis ‚Äã‚Äãou pelo menos test√°veis ‚Äã‚Äãque combinem com outras.  E voltamos ao fato de incorporar tudo na l√≥gica e, em seguida, o compilador apenas o inverte. <br><br>  <b>Oleg</b> : Deixe-me dar uma pequena oposi√ß√£o.  O c√≥digo legado √© muito mais que novo.  E se usarmos algumas coisas como trabalhar com uma rede, trabalhar com arquivos e assim por diante, ningu√©m reescrever√° tudo isso rapidamente, por exemplo, usando o RxJava.  E se tivermos rotinas autom√°ticas, podemos, por exemplo, rastrear todos os syscalls, agrup√°-los automaticamente e envi√°-los para trancar l√°, no estacionamento. <br><br>  <b>Artyom</b> : √â verdade que, em qualquer caso, voc√™ ter√° que chamar fun√ß√µes do contexto de corutin.  Mas este √© um pensamento interessante, sim. <br><br>  <b>Oleg</b> : Talvez eles devam ser combinados de alguma forma?  A API de n√≠vel superior estar√° no RxJava e a API de n√≠vel inferior nas corotinas. <br><br>  <b>Artyom</b> : Sim, agora existem essas mudan√ßas.  Mas ent√£o surge a pergunta, porque, no momento, o RxJava pode fazer tudo o que as corotinas fazem, e as corotinas n√£o podem fazer tudo o que o RxJava faz.       ,    ‚Äî .  ,  ,    ,     -  Rx  Kotlin.    .     forEach    - map,        . , ,   Java-      ,     .         . <br><br>   ,   Kotlin  ‚Äî  .   ,    Go  ,    ,   API,   ,   :       .   , ,  ,    ,      legacy,   ,   .  ,      Java   Kotlin ‚Äî  legacy,     ,     .   ,  .   - ,  . <br><br> ,      ,     .   ,      ,    ,      ‚Äî    .       . <br><br><img src="https://habrastorage.org/webt/1u/1f/ef/1u1fefbs3dvxrvd8brcinbvw3ue.jpeg"><br><br> <b></b> :   ,  .   ,    ,  :       Android-? ,         . <br><br> <b></b> :  ‚Ä¶  .   ,     Android-   .     ,        .    ,       :    ,    .    RxJava    ,        :   -          .    ,  ,  . <br><br>  ,     iOS.    ,     Lyft iOS-      dependency injection  RxSwift.    2019-.    iOS-,     ,    , clean,   .   , Android    ‚Äî     . <br><br> , ,     ‚Äî    Google.      ¬´  opinionated,  ,  :   ,     ,    ¬ª.         ‚Äî ,   , . <br><br>    ,     ¬´RxJava ‚Äî  ,  ...¬ª      : ¬´,    LiveData¬ª.  ,  ‚Äî       RxJava,  ,   . ,   ,  Google ,    . <br><br>     : ¬´,  Google  MVVM¬ª.       ,   MVVM     ,   ,    ,  MVVM  .       ,    Google. <br><br>  ,     ,   scope .          . <br><br>        : , Room        .  - Architecture Components ‚Äî    ,         .  Google   ,      ?     . <br><br> <b>:</b> ,          . ,      .   ! <br><br> <b>:</b>   . <br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O pr√≥ximo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mobius</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ser√° realizado </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">em S√£o Petersburgo, de 22 a 23 de maio</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Agora, seu programa ainda n√£o foi anunciado, mas este √© o momento mais lucrativo para comprar um ingresso: em 1¬∫ de fevereiro, os pre√ßos dos ingressos subir√£o. </font><font style="vertical-align: inherit;">E tamb√©m, como o programa ainda n√£o foi conclu√≠do, o momento tamb√©m √© adequado para entrarmos nele: estamos em pleno andamento </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aceitando pedidos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de relat√≥rios. </font><font style="vertical-align: inherit;">Todas as informa√ß√µes sobre a confer√™ncia e os ingressos est√£o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no site</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt437948/">https://habr.com/ru/post/pt437948/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt437938/index.html">Doze maneiras de entender que voc√™ est√° em realidade virtual</a></li>
<li><a href="../pt437940/index.html">Outro GitHub: Reposit√≥rios sobre Ci√™ncia de Dados, Visualiza√ß√£o de Dados e Aprendizado Profundo</a></li>
<li><a href="../pt437942/index.html">O que h√° de novo no Swift 5?</a></li>
<li><a href="../pt437944/index.html">Matem√°tica da pele: epiderme crescendo com base na modelagem matem√°tica</a></li>
<li><a href="../pt437946/index.html">Conta Admin@kremlin.ru encontrada em milhares de bancos de dados MongoDB</a></li>
<li><a href="../pt437950/index.html">"Prepare" corretamente o prot√≥tipo. Tecnologias de Prototipagem de Casos</a></li>
<li><a href="../pt437952/index.html">Como testar no AutoCar: MindMap, an√°lise de c√≥digo est√°tico e MockServer</a></li>
<li><a href="../pt437956/index.html">"Implementando o Splunk 7" - o primeiro livro do Splunk em russo</a></li>
<li><a href="../pt437958/index.html">Autoriza√ß√£o na ESIA em um servidor de terminal com assinatura digital de acordo com GOST-2012</a></li>
<li><a href="../pt437960/index.html">Conselho do diretor t√©cnico de uma empresa de TI para capacitar os graduados</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>