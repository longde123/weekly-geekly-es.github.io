<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฆ ๐ ๐ ุชูุฏูู InterSystems API Manager ๐ค ๐๐ฟ ๐ค๐ผ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููุฏ ุฃุตุฏุฑูุง ูุคุฎุฑูุง InterSystems API Manager (IAM) ุ ููู ูููู ุฌุฏูุฏ ูู InterSystems IRIS Data Platform ุงูุฐู ูููุฑ ุงููุฑุงูุจุฉ ูุงูุชุญูู ููุฑุงูุจุฉ ุงูุญุฑูุฉ ูู / ุฅูู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุชูุฏูู InterSystems API Manager</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/intersystems/blog/475670/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ููุฏ ุฃุตุฏุฑูุง ูุคุฎุฑูุง InterSystems API Manager (IAM) ุ ููู ูููู ุฌุฏูุฏ ูู InterSystems IRIS Data Platform ุงูุฐู ูููุฑ ุงููุฑุงูุจุฉ ูุงูุชุญูู ููุฑุงูุจุฉ ุงูุญุฑูุฉ ูู / ุฅูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุงูููุจ ุถูู ุงูุจููุฉ ุงูุชุญุชูุฉ ูุชูููููุฌูุง ุงููุนูููุงุช. </p><br><p style=";text-align:right;direction:rtl">  ูู ูุฐู ุงูููุงูุฉ ุ ุณุฃูุถุญ ูู ููููุฉ ุชูููู IAM ูุนุฑุถ ุจุนุถ ุงูููุฒุงุช ุงููุซูุฑุฉ ุงููุชุงุญุฉ ูู ูุน IAM.  ูุณูุญ ูู InterSystems API Manager ุจูุง ููู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุดุงูุฏ ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุ ูููู ูู ูุณุชุฎุฏู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุ ููุง ูู ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุฃูุซุฑ ุดููุนูุง ุ ูุชูู ุงูุชู ุชุญุชุงุฌ ุฅูู ุชุญุณูู. </li><li style=";text-align:right;direction:rtl">  ุชุญูู ูู ูู ูุณุชุฎุฏู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ูููุฏ ุงุณุชุฎุฏุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ูู ูููุฏ ุงููุตูู ุงูุจุณูุทุฉ ุฅูู ุงููููุฏ ุจูุงุกู ุนูู ุงูุทูุจ - ูุฏูู ุนูุงุตุฑ ุชุญูู ูุงุจูุฉ ููุชุฎุตูุต ูููููู ุงูุงุณุชุฌุงุจุฉ ุจุณุฑุนุฉ ููุชุบูุฑุงุช ูู ุฃููุงุท ุงุณุชููุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช. </li><li style=";text-align:right;direction:rtl">  ูู ุจุญูุงูุฉ ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ูู ุฎูุงู ุขููุงุช ุงูุฃูุงู ุงููุฑูุฒูุฉ ูุซู OAuth2.0 ุฃู LDAP ุฃู ูุตุงุฏูุฉ ุฑูุฒ ุงูููุชุงุญ. </li><li style=";text-align:right;direction:rtl">  ุชุจุณูุท ุนูู ุงููุทูุฑูู ุงูุฎุงุฑุฌููู ูุชุฒููุฏูู ุจุชุฌุฑุจุฉ ููุชุงุฒุฉ ูุน API ูู ุฎูุงู ูุชุญ ุจูุงุจุฉ ุฎุงุตุฉ ูููุทูุฑูู. </li><li style=";text-align:right;direction:rtl">  ูููุงุณ API ูุงูุชุฃูุฏ ูู ุงูุญุฏ ุงูุฃุฏูู ูู ุงูุชุฃุฎูุฑ ูู ุงูุงุณุชุฌุงุจุฉ. </li></ul><br><p style=";text-align:right;direction:rtl">  ุชุนุฏ ุฅุฏุงุฑุฉ ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุถุฑูุฑูุฉ ููุงูุชูุงู ุฅูู ุจููุฉ SOA ุฃู ุจููุฉ ุงูุฎุฏูุงุช ุงููุตุบุฑุฉ ุ ููุง ูุณูู ุงูุชูุงูู ุจูู ุงูุฎุฏูุงุช ุงููุฑุฏูุฉ (ุงูุตุบูุฑุฉ) ุ ููุง ูุฌุนููุง ูู ูุชูุงูู ุฌููุน ุงููุณุชููููู ุงูุฎุงุฑุฌููู ูุงูุฏุงุฎูููู.  ูุชูุฌุฉ ูุฐูู ุ ุฃุตุจุญุช ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุฌุฏูุฏุฉ ุฃุณูู ูู ุงูุฅูุดุงุก ูุงูุตูุงูุฉ ูุงูุงุณุชููุงู. </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุชุณุชุฎุฏู InterSystems IRIS ุจุงููุนู ุ ููููู ุฅุถุงูุฉ ุฎูุงุฑ IAM ุฅูู ุงูุชุฑุฎูุต ุงูุฎุงุต ุจู.  ูุนุฏ ุฎูุงุฑ IAM ูุฌุงูููุง ูุนููุงุก InterSystems IRIS ุ ูููู ูุจุฏุก ุงุณุชุฎุฏุงู IAM ุ ุชุญุชุงุฌ ุฅูู ุทูุจ ููุชุงุญ ุชุฑุฎูุต ุฌุฏูุฏ ูู InterSystems. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูู ุชูู ุชุณุชุฎุฏู InterSystems IRIS ุจุงููุนู ูููุช ุชุฎุทุท ููุท ูุชุฌุฑุจุฉ InterSystems API Manager ุ ูุงุชุตู ุจู InterSystems. </p><br><h1 id="nachalo-raboty-i-ustanovka" style=";text-align:right;direction:rtl">  ุงูุจุฏุก ูุงูุชุซุจูุช </h1><br><p style=";text-align:right;direction:rtl">  ูููู ูุนููุงุก InterSystems IAM ุชูุฒูู ูุณู "ุชูุฒูุน ุงูุจุฑุงูุฌ" ูู ูููุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">WRC</a> ูุชุดุบููู ูุญุงููุฉ Docker.  ุงูุญุฏ ุงูุฃุฏูู ููุชุทูุจุงุช ุงููุธุงู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุนุงูู ุงููููุงุก</a> 04.17.0+. </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุนุงูู ุงููููุงุก ูุคูู</a> 1.12.0+. </li><li style=";text-align:right;direction:rtl">  InterSystems IRIS 2019.1.1+. </li></ul><br><p style=";text-align:right;direction:rtl">  ูู ุงูุจุฏุงูุฉ ุ ุชุญุชุงุฌ ุฅูู ุชูุฒูู ุตูุฑุฉ Docker (ููู! ุงูุฃุฑุดูู ูุน WRC ููุณ ุตูุฑุฉ Docker ุ ุชุญุชุงุฌ ุฅูู ูููุง ุ ุฏุงุฎู ุตูุฑุฉ Docker): </p><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">docker load -i iam_image.tar</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุณูุฌุนู ูุฐุง ุงูุฃูุฑ ุตูุฑุฉ IAM ูุชุงุญุฉ ููุงุณุชุฎุฏุงู ูุงุญููุง ุนูู ุงูุฎุงุฏู ุงูุฎุงุต ุจู.  ูุนูู IAM ูุญุงููุฉ ูููุตูุฉ ุ ุญุชู ุชุชููู ูู ุชูุณูุน ูุทุงููุง ุจุดูู ูุณุชูู ุนู InterSystems IRIS.  ูุชุดุบูู IAM ุ ุชุญุชุงุฌ ุฅูู ุงููุตูู ุฅูู InterSystems IRIS ูุชูุฒูู ุงูุชุฑุฎูุต. </p><br><p style=";text-align:right;direction:rtl">  ุชูููู InterSystems IRIS: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ุจุชุดุบูู ุชุทุจูู ุงูููุจ <code>/api/IAM</code> </li><li style=";text-align:right;direction:rtl">  ุชูููู <code>IAM</code> ุงููุณุชุฎุฏู </li><li style=";text-align:right;direction:rtl">  ุชุบููุฑ ูููุฉ <code>IAM</code> ูุณุชุฎุฏู <code>IAM</code> </li></ul><br><p style=";text-align:right;direction:rtl">  ุงูุขู ูู ุจุชุดุบูู ุญุงููุฉ IAM.  ุณุชุฌุฏ ูู ุงูุฃุฑุดูู ูุตูุต <code>iam-setup</code> ููุธุงูู ุงูุชุดุบูู Windows ู Unix (ู Mac).  ุณุชุณุงุนุฏู ูุฐู ุงูุจุฑุงูุฌ ุงููุตูุฉ ูู ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุจุดูู ุตุญูุญ ุ ููุง ูุณูุญ ูุญุงููุฉ IAM ุจุงูุงุชุตุงู ุจู InterSystems IRIS.  ูููุง ููู ูุซุงู ุนูู ุจุฑูุงูุฌ ูุตู ุนูู ูุธุงู Mac: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">source ./iam-setup.sh Welcome to the InterSystems IRIS and InterSystems API Manager (IAM) setup script. This script sets the ISC_IRIS_URL environment variable that is used by the IAM container to get the IAM license key from InterSystems IRIS. Enter the full image repository, name and tag for your IAM docker image: intersystems/iam:0.34-1-1 Enter the IP address for your InterSystems IRIS instance. The IP address has to be accessible from within the IAM container, therefore, do not use "localhost" or "127.0.0.1" if IRIS is running on your local machine. Instead use the public IP address of your local machine. If IRIS is running in a container, use the public IP address of the host environment, not the IP address of the IRIS container. xxx.xxx.xxx.xxx Enter the web server port for your InterSystems IRIS instance: 52773 Enter the password for the IAM user for your InterSystems IRIS instance: Re-enter your password: Your inputs are: Full image repository, name and tag for your IAM docker image: intersystems/iam:0.34-1-1 IP address for your InterSystems IRIS instance: xxx.xxx.xxx.xxx Web server port for your InterSystems IRIS instance: 52773 Would you like to continue with these inputs (y/n)? y Getting IAM license using your inputs... Successfully got IAM license! The ISC_IRIS_URL environment variable was set to: http://IAM:****************@xxx.xxx.xxx.xxx:52773/api/iam/license WARNING: The environment variable is set for this shell only! To start the services, run the following command in the top level directory: docker-compose up -d To stop the services, run the following command in the top level directory: docker-compose down URL for the IAM Manager portal: http://localhost:8002</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุง ุชุฑูู ุ ุงุณู ุงูุตูุฑุฉ ุจุงููุงูู ูุนููุงู IP ููููุฐ InterSystems IRIS ููููุฉ ุงููุฑูุฑ ููุณุชุฎุฏู IAM ูู ูู ูุง ุชุญุชุงุฌู ููุจุฏุก. </p><br><p style=";text-align:right;direction:rtl">  ุจุฏูุงู ูู ุชุดุบูู ุงูุจุฑูุงูุฌ ุงููุตู ุ ููููู ุชุนููู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูุฏูููุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">ISC_IAM_IMAGE=intersystems/iam:0.34-1-1 ISC_IRIS_URL=http://IAM:&lt;PASS&gt;@&lt;IP&gt;:&lt;PORT&gt;/api/iam/license</code> </pre> <br><h1 id="zapusk" style=";text-align:right;direction:rtl">  ุฅุทูุงู </h1><br><p style=";text-align:right;direction:rtl">  ุงูุขู ูู ุจุชุดุบูู IAM ุนู ุทุฑูู ุชุดุบูู ุงูุฃูุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">docker-compose up -d</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููู ูุฐุง ุงูุฃูุฑ ุจุชูุธูู ุญุงููุงุช IAM ููุถูู ุจุฏุก ุชุดุบูู ูู ุดูุก ุจุดูู ุตุญูุญ.  ูุชู ูุญุต ุญุงูุฉ ุงูุญุงููุงุช ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">docker ps</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุชุญ <code>localhost:8002</code> ูุงุฌูุฉ ุงููุณุคูู ูู ุงููุณุชุนุฑุถ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/feb/7c8/83c/feb7c883ce4240a907f3a16e40c5bd37.png"></p><br><p style=";text-align:right;direction:rtl">  ุญุชู ุงูุขู ุ ุฅูู ูุงุฑุบ ูุฃูู ูููุน ุฌุฏูุฏ ุชูุงููุง.  ููุบูุฑู.  ูุฏุนู IAM ููููู ูุณุงุญุงุช ุงูุนูู ูุชูุณูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุฅูู ูุญุฏุงุช ู / ุฃู ูุฑู.  ุงูุชูู ุฅูู ูุณุงุญุฉ ุงูุนูู "ุงูุชุฑุงุถู" ุงูุชู ุณูุณุชุฎุฏููุง ูู ุชุฌุงุฑุจูุง. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/92a/89f/ec2/92a89fec21308f5a8818a667f74124a4.png" alt="ุดุฑูุท ุฃุฏูุงุช ูุณุงุญุฉ ุงูุนูู ุงูุงูุชุฑุงุถู"></p><br><p style=";text-align:right;direction:rtl">  ูุง ูุฒุงู ุนุฏุฏ ุทูุจุงุช ูุณุงุญุฉ ุงูุนูู ูุฐู ุตูุฑูุง ุ ูููู ุณุชุญุตู ุนูู ููุฑุฉ ุนู ุงูููุงููู ุงูุฃุณุงุณูุฉ ูู IAM ูู ุงููุงุฆูุฉ ุงูููุฌูุฏุฉ ุนูู ุงููุณุงุฑ.  ุฃูู ุนูุตุฑูู: ุงูุฎุฏูุงุช ูุงูุทุฑู ููุง ุงูุฃูุซุฑ ุฃูููุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฎุฏูุฉ - API ุ ูุงูุชู ูุฑูุฏ ุฃู ูููุฑ ุงููุตูู ุฅูู ุงููุณุชููููู.  ูุจุงูุชุงูู ุ ูุฅู REST API ูู InterSystems IRIS ูู ุฎุฏูุฉ ุ ูุซู Google API ุ ุฅุฐุง ููุช ุชุฑุบุจ ูู ุงุณุชุฎุฏุงููุง. </li><li style=";text-align:right;direction:rtl">  ููุฑุฑ ุงูุทุฑูู ุงูุฎุฏูุฉ ุงูุชู ูุฌุจ ุฅุนุงุฏุฉ ุชูุฌูู ุงูุทูุจุงุช ุงููุงุฑุฏุฉ ุฅูููุง.  ูุญุชูู ูู ูุณุงุฑ ุนูู ูุฌููุนุฉ ูุญุฏุฏุฉ ูู ุงูุดุฑูุท ุ ูุฅุฐุง ุชู ุงุณุชููุงุฆูุง ุ ูุณูุชู ุฅุฑุณุงู ุงูุทูุจ ุฅูู ุงูุฎุฏูุฉ ุงูููุงุจูุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ูุฏ ูุชุทุงุจู ุงููุณุงุฑ ูุน ุนููุงู IP ุฃู ูุฌุงู ุงููุฑุณู ุฃู ุทุฑู HTTP ุฃู ุฃุฌุฒุงุก ูู URI ุฃู ูุฒูุฌ ูู ูุฐู ุงูุฃูุซูุฉ. </li></ul><br><h2 id="servis" style=";text-align:right;direction:rtl">  ุฎุฏูุฉ </h2><br><p style=";text-align:right;direction:rtl">  ูููู ุจุฅูุดุงุก ุฎุฏูุฉ IRS InterSystems ุ ูุน ุงูููู ุงูุชุงููุฉ: </p><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><thead><tr><th>  ุงููุฌุงู </th><th>  ูููุฉ </th><th>  ูุตู </th></tr></thead><tbody><tr><td>  ุงุณู </td><td>  ูุฒุญูุฉ </td><td>  ุงุณู ุงูุฎุฏูุฉ </td></tr><tr><td>  ูุถูู </td><td>  IP </td><td>  InterSystems IRIS server host or ip </td></tr><tr><td>  ูููุงุก </td><td>  52773 </td><td>  InterSystems IRIS Server Web Port </td></tr><tr><td>  ูุณุงุฑ </td><td>  / api / atelier </td><td>  ูุณุงุฑ ุงูุฌุฐุฑ </td></tr><tr><td>  ุจุฑูุชูููู </td><td>  HTTP </td><td>  ุจุฑูุชูููู </td></tr></tbody></table></div><br><p style=";text-align:right;direction:rtl">  ุงุชุฑู ุงูููู ุงููุชุจููุฉ ุงูุชุฑุงุถููุง.  ุงููุฑ ููู ุงูุฒุฑ " <code>Create</code> ูุงูุชุจ ูุนุฑู ุงูุฎุฏูุฉ ุงูุชู ุชู ุฅูุดุงุคูุง. </p><br><h2 id="marshrut" style=";text-align:right;direction:rtl">  ุทุฑูู </h2><br><p style=";text-align:right;direction:rtl">  ุงูุขู ูููู ุจุฅูุดุงุก ูุณุงุฑ: </p><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><thead><tr><th>  ุงููุฌุงู </th><th>  ูููุฉ </th><th>  ูุตู </th></tr></thead><tbody><tr><td>  ูุณุงุฑ </td><td>  / api / atelier </td><td>  ูุณุงุฑ ุงูุฌุฐุฑ </td></tr><tr><td>  ุจุฑูุชูููู </td><td>  HTTP </td><td>  ุจุฑูุชูููู </td></tr><tr><td>  service.id </td><td>  ุชูุฌูู ูู 3 </td><td>  ุงูุฎุฏูุฉ (ูุนุฑู ูู ุงูุฎุทูุฉ ุงูุณุงุจูุฉ) </td></tr></tbody></table></div><br><p style=";text-align:right;direction:rtl">  ุงุชุฑู ุงูููู ุงููุชุจููุฉ ุงูุชุฑุงุถููุง.  ุงููุฑ ููู ุงูุฒุฑ " <code>Create</code> ูุงูุชุจ ูุนุฑู ุงููุณุงุฑ ุงูุฐู ุชู ุฅูุดุงุคู.  ุจุดูู ุงูุชุฑุงุถู ุ ูุณุชูุน IAM ููุทูุจุงุช ุงููุงุฑุฏุฉ ุนูู ุงููููุฐ 8000. ุงูุขู ุ <code>/api/atelier</code> ุฅุนุงุฏุฉ ุชูุฌูู ุงูุทูุจุงุช ุงููุฑุณูุฉ ุฅูู <code>http://localhost:8000</code> ูุชุจุฏุฃ ุจู <code>/api/atelier</code> ุฅูู InterSystems IRIS. </p><br><h2 id="testirovanie" style=";text-align:right;direction:rtl">  ุชุฌุฑูุจ </h2><br><p style=";text-align:right;direction:rtl">  ุฏุนููุง ูุญุงูู ุฅูุดุงุก ุทูุจ ูู ุนููู REST (ุฃุณุชุฎุฏู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุณุงุนู ุงูุจุฑูุฏ</a> ). </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/b83/f1c/480/b83f1c4808a89dc680168ae06248aefe.png" alt="ุทูุจ ุจููุฉ ูู ุณุงุนู ุงูุจุฑูุฏ"></p><br><p style=";text-align:right;direction:rtl">  ุณูุฑุณู ุทูุจ GET ุฅูู <code>http://localhost:8000/api/atelier/</code> (ูุง ุชูุณ <code>/</code> ูู ุงูููุงูุฉ) ูุณูุญุตู ุนูู ุงุณุชุฌุงุจุฉ ูู InterSystems IRIS.  ููุฑ ูู ุทูุจ ูู ุฎูุงู IAM ุจุฌูุน ุงูููุงููุณ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฑูุฒ ุญุงูุฉ HTTP. </li><li style=";text-align:right;direction:rtl">  ุชุฃุฎูุฑ. </li><li style=";text-align:right;direction:rtl">  ูุฑุงูุจุฉ (ุฅุฐุง ุชู ุชูููููุง). </li></ul><br><p style=";text-align:right;direction:rtl">  ููุฏ ุชูุฏูุช ุจุทูุจุงุช ููููุฉ (ุจูุง ูู ุฐูู ุทูุจูู ูููุงุท ููุงูุฉ ุบูุฑ ููุฌูุฏุฉ ุ ูุซู / api / atelier / est /) ุ ุชููู ุงููุชุงุฆุฌ ูุฑุฆูุฉ ุนูู ุงูููุฑ ูู ููุญุฉ ุงูููุงุฏุฉ: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/a88/413/318/a88413318fa2bfe01827af2d6ee3d925.png" alt="ููุญุฉ ุงูููุงุฏุฉ ูุน ุจุนุถ ุงูููุงููุณ"></p><br><h1 id="rabota-s-plaginami" style=";text-align:right;direction:rtl">  ุงูุนูู ูุน ุงูุฅุถุงูุงุช </h1><br><p style=";text-align:right;direction:rtl">  ุงูุขู ุจุนุฏ ุฃู ุชู ุชูููู ุงููุณุงุฑ ุ ูููููุง ุงูุชุญูู ูู API ุงูุฎุงุตุฉ ุจูุง.  ูููููุง ุฅุถุงูุฉ ููุฒุงุช ุชููู ุฎุฏูุงุชูุง. </p><br><p style=";text-align:right;direction:rtl">  ุงูุทุฑููุฉ ุงูุฃูุซุฑ ุดููุนูุง ูุชุบููุฑ ุณููู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ูู ุฅุถุงูุฉ ูููู ุฅุถุงูู.  ุชุนูู ุงูุฅุถุงูุงุช ุนูู ุนุฒู ุงููุธุงุฆู ุงููุฑุฏูุฉ ููููู ุชูุตูููุง ุจู IAM ุนูู ุงููุณุชูู ุงูุนุงููู ูููุท ููููุงูุงุช ุงููุฑุฏูุฉ ุ ูุซู ุงููุณุชุฎุฏู (ูุฌููุนุฉ ุงููุณุชุฎุฏููู) ุฃู ุงูุฎุฏูุฉ ุฃู ุงูุทุฑูู.  ุณูุจุฏุฃ ุจุฅุถุงูุฉ ุงููููู ุงูุฅุถุงูู "ุงูุญุฏ ูู ุงูุฃุณุนุงุฑ" ุฅูู ุงููุณุงุฑ.  ูุฅูุดุงุก ุงุชุตุงู ุจูู ุงููููู ุงูุฅุถุงูู ูุงูุทุฑูู ุ ูุญุชุงุฌ ุฅูู ูุนุฑู ูุฑูุฏ (ID) ูููุณุงุฑ. </p><br><h2 id="ogranichenie-kolichestva-zaprosov" style=";text-align:right;direction:rtl">  ุญุฏ ุงูุทูุจ </h2><br><p style=";text-align:right;direction:rtl">  ุงููุฑ ููู ุงูููููุงุช ุงูุฅุถุงููุฉ ูู ุงููุงุฆูุฉ ุนูู ุงูุดุฑูุท ุงูุฌุงูุจู ุงูุฃูุณุฑ.  ุชุฑู ุฌููุน ุงูุฅุถุงูุงุช ุงููุดุทุฉ ุนูู ูุฐู ุงูุดุงุดุฉ ุ ูููู ูุธุฑูุง ูุฃู ุฎุงุฏู IAM ุงูุฌุฏูุฏ ุ ููุง ุชูุฌุฏ ุฅุถุงูุงุช ูุดุทุฉ ุญุชู ุงูุขู.  ุงูุชูู ุฅูู ุงูุฎุทูุฉ ุงูุชุงููุฉ ุจุงูููุฑ ููู "ูููู ุฅุถุงูู". </p><br><p style=";text-align:right;direction:rtl">  ููุน ุงููููู ุงูุฅุถุงูู ุงูุฐู ูุญุชุงุฌ ุฅููู ูู ูุฆุฉ "ุงูุชุญูู ูู ุญุฑูุฉ ุงููุฑูุฑ" ููุณูู "ุชุญุฏูุฏ ุงูุณุนุฑ".  ุงุฎุชุฑู.  ููุงู ุจุนุถ ุงูุฅุนุฏุงุฏุงุช ุงูููููุฉ ุงูุชู ููููู ุถุจุทูุง ููุง ุ ููููุง ููุชููู ููุท ุจุญูููู: </p><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><thead><tr><th>  ุงููุฌุงู </th><th>  ูููุฉ </th><th>  ูุตู </th></tr></thead><tbody><tr><td>  route_id </td><td>  ุงููููุฉ </td><td>  ูุนุฑู ุงูุทุฑูู </td></tr><tr><td>  config.minute </td><td>  5 </td><td>  ุนุฏุฏ ุงูุทูุจุงุช ูู ุงูุฏูููุฉ </td></tr></tbody></table></div><br><p style=";text-align:right;direction:rtl">  ูุฐุง ูู ุดูุก.  ุชู ุชูููู ุงูุจุฑูุงูุฌ ุงููุณุงุนุฏ ููุดุท.  ุฃูุงุญุธ ุฃูู ูููููุง ุงุฎุชูุงุฑ ูุชุฑุงุช ุฒูููุฉ ูุฎุชููุฉ ุ ูุซู ุงูุฏูููุฉ ุฃู ุงูุณุงุนุฉ ุฃู ุงูููู.  ูููู ุฏูุฌ ุงูุฅุนุฏุงุฏุงุช (ุนูู ุณุจูู ุงููุซุงู ุ 1000 ุทูุจ ูู ุงูุณุงุนุฉ ููู ููุณ ุงูููุช 100 ุทูุจ ูู ุงูุฏูููุฉ).  ุงุฎุชุฑุช ุงูุฏูุงุฆู ุ ูุฃู ูุฐุง ูุฌุนู ูู ุงูุณูู ุงูุชุญูู ูู ุงูุจุฑูุงูุฌ ุงููุณุงุนุฏ. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุจุฅุฑุณุงู ุงูุทูุจ ููุณู ูุฑุฉ ุฃุฎุฑู ุฅูู ุณุงุนู ุงูุจุฑูุฏ ุ ุณุชุฑู ุฃู ุงูุงุณุชุฌุงุจุฉ ูุชู ุฅุฑุฌุงุนูุง ุจุฑุฃุณูู ุฅุถุงูููู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  XRateLimit ุงูุญุฏ ุงูุฃูุตู ููุฏูููุฉ: 5 </li><li style=";text-align:right;direction:rtl">  XRateLimit ุจูู ุงูุฏูุงุฆู: 4 </li></ul><br><p style=";text-align:right;direction:rtl">  ูุฐุง ูุฎุจุฑ ุงูุนููู ุฃูู ููููู ุชูุฏูู ูุง ูุตู ุฅูู 5 ุทูุจุงุช ูู ุงูุฏูููุฉ ููู ุงููุชุฑุฉ ุงูุฒูููุฉ ุงูุญุงููุฉ ููููู ุชูุฏูู 4 ุทูุจุงุช ุฅุถุงููุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/78b/0af/c02/78b0afc0269baad6b56ea4059dbdefe7.png" alt="ุงูุญุฏ ุงูุฃูุตู ููุณุฑุนุฉ"></p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุจุชูุฏูู ุงูุทูุจ ููุณู ูุฑุงุฑูุง ูุชูุฑุงุฑูุง ุ ูุณูู ุชููุฏ ูู ุงูููุงูุฉ ุงูุญุตุต ุงููุชุงุญุฉ ุ ูุจุฏูุงู ูู ุฐูู ุณุชุชููู ุฑูุฒ ุญุงูุฉ HTTP 429 ูุน ูุต ุงูุงุณุชุฌุงุจุฉ ุงูุชุงูู: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/dcb/421/6bc/dcb4216bcf373f51ffe49d56d8bef8b4.png" alt="ุชุฌุงูุฒ API"></p><br><p style=";text-align:right;direction:rtl">  ุงูุชุธุฑ ููุฏุฉ ุฏูููุฉ ูุณุชุชููู ูู ุฅุฑุณุงู ุงูุทูุจุงุช ูุฑุฉ ุฃุฎุฑู. </p><br><p style=";text-align:right;direction:rtl">  ูุฐู ุขููุฉ ููุงุฆูุฉ ุชุชูุญ ูู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุญูุงูุฉ ุงูุฎูููุฉ ูู ุชุตุงุนุฏ ุงูุญูู. </li><li style=";text-align:right;direction:rtl">  ุฃุฎุจุฑ ุงูุนููุงุก ุจุนุฏุฏ ุงูุทูุจุงุช ุงูุชู ูููููู ุชูุฏูููุง. </li><li style=";text-align:right;direction:rtl">  ููุฏ API. </li></ul><br><p style=";text-align:right;direction:rtl">  ููููู ุชุนููู ููู ูููุงุตู ุฒูููุฉ ูุฎุชููุฉ ูุจุงูุชุงูู ุชุณููู ุญุฑูุฉ ูุฑูุฑ ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ููุชุฑุฉ ุฒูููุฉ ูุนููุฉ.  ูููุชุฑุถ ุฃูู ุชุณูุญ ุจู 600 ุทูุจ ูู ุงูุณุงุนุฉ ุนูู ุทุฑูู ูุญุฏุฏ.  ููุงู ูุง ูุนุฏูู 10 ุทูุจุงุช ูู ุงูุฏูููุฉ.  ูููู ูุง ุดูุก ูููุน ุงูุนููู ูู ุฅููุงู ุฌููุน ุงูุทูุจุงุช ุงูู 600 ูู ุงูุฏูููุฉ ุงูุฃููู ูู ุงูุณุงุนุฉ.  ุฑุจูุง ูุฐุง ูู ูุง ุชุญุชุงุฌู.  ูุฏ ุชุฑุบุจ ูู ุชุญููู ุญูููุฉ ุฃูุซุฑ ุงุชุณุงููุง ูู ุบุถูู ุณุงุนุฉ.  ูู ุฎูุงู ุชุนููู ูููุฉ ุงูุญูู <code>config.minute</code> ุฅูู 20 ุ ูุฅูู ุชุถูู ุฃู ุงููุณุชุฎุฏููู ูุง ููุฏููู ุฃูุซุฑ ูู 20 ุทูุจูุง ูู ุงูุฏูููุฉ ู 600 ุทูุจูุง ูู ุงูุณุงุนุฉ.  ูุณูุญ ุฐูู ุจุงูููุฒุงุช ุงูุตุบูุฑุฉ ูู ุงููุงุตู ุงูุฒููู ุงูุฏููู ููุงุฑูุฉู ุจุชูุงุฑ ูุชูุณุท โโูุจูุบ 10 ุทูุจุงุช ูู ุงูุฏูููุฉ ุ ููู ูุง ูููู ูููุณุชุฎุฏููู ุงุณุชุฎุฏุงู ุงูุญุตุฉ ุจุงูุณุงุนุฉ ููุฏุฉ ุฏูููุฉ ูุงุญุฏุฉ.  ุณูุญุชุงุฌูู ุงูุขู ุฅูู 30 ุฏูููุฉ ุนูู ุงูุฃูู ูุงุณุชุฎุฏุงู ุฌููุน ุงุณุชูุณุงุฑุงุชูู.  ุณูุชููู ุงูุนููุงุก ุฑุคูุณูุง ุฅุถุงููุฉ ููู ูุงุตู ุฒููู ูุญุฏุฏ ุ ุนูู ุณุจูู ุงููุซุงู: </p><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><thead><tr><th>  ุฑุฃุณ HTTP </th><th>  ูููุฉ </th></tr></thead><tbody><tr><td>  X-RateLimit ุญุฏูุฏ ุณุงุนุฉ </td><td>  600 </td></tr><tr><td>  X-RateLimit-ุงููุชุจููุฉ ุณุงุนุฉ </td><td>  595 </td></tr><tr><td>  X-RateLimit ุญุฏูุฏ ุฏูููุฉ </td><td>  20 </td></tr><tr><td>  X-RateLimit-ุงููุชุจููุฉ ุฏูููุฉ </td><td>  16 </td></tr></tbody></table></div><br><p style=";text-align:right;direction:rtl">  ุจุงูุทุจุน ุ ููุงู ุงูุนุฏูุฏ ูู ุงูุทุฑู ุงููุฎุชููุฉ ูุชุฎุตูุต ุญุฏูุฏ ุงูุงุณุชุนูุงู ุจูุงุกู ุนูู ูุง ุชุฑูุฏ ุชุญูููู. </p><br><h1 id="vyvody" style=";text-align:right;direction:rtl">  ุงููุชุงุฆุฌ </h1><br><p style=";text-align:right;direction:rtl">  ูุฐุง ูู ุงูููุงู ุงูุฐู ุณุฃูุชูู ููู ุ ูุฃุนุชูุฏ ุฃู ุงููุงุฏุฉ ูุงููุฉ ููููุงู ุงูุฃูู ุญูู InterSystems API Manager.  ุงุณุชุฎุฏููุง ูุงุญุฏูุง ููุท ูู ุฃูุซุฑ ูู 40 ููุญููุง.  ููููู ุงูููุงู ุจุงูุนุฏูุฏ ูู ุงูุฃุดูุงุก ุงููุซูุฑุฉ ููุงูุชูุงู ุจุงุณุชุฎุฏุงู IAM: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅุถุงูุฉ ุขููุฉ ุงููุตุงุฏูุฉ ุงููุฑูุฒูุฉ ูุฌููุน ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุฎุงุตุฉ ุจู. </li><li style=";text-align:right;direction:rtl">  ูู ุจุชูุณูุน ูุทุงู ุงูุญูู ุจุงุณุชุฎุฏุงู ุงูููุงุฒู ุฅูู ุงูุนุฏูุฏ ูู ุงูุฎุฏูุงุช. </li><li style=";text-align:right;direction:rtl">  ุฃุถู ูุธุงุฆู ุฌุฏูุฏุฉ ูุฅุตูุงุญ ุงูุฃุฎุทุงุก ูุฌูููุฑ ุงูุงุฎุชุจุงุฑ ูุจู ุงูุชุฑููุฉ ุงููุงููุฉ. </li><li style=";text-align:right;direction:rtl">  ููุฑ ูููุทูุฑูู ุงูุฏุงุฎูููู ูุงูุฎุงุฑุฌููู ุจูุงุจุฉ ุฅููุชุฑูููุฉ ูุฎุตุตุฉ ูุชูุซูู ุฌููุน ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช. </li><li style=";text-align:right;direction:rtl">  ุชุทูุจ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุชูููู ุฒูู ุงุณุชุฌุงุจุฉ ุงูุงุณุชุฌุงุจุฉ ูุชูููู ุญูู ุงููุงุฌูุฉ ุงูุฎูููุฉ ูููุธุงู. </li></ul><br><h1 id="ssylki" style=";text-align:right;direction:rtl">  ูุฑุงุฌุน </h1><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจูุงู ุตุญูู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุฏูุฉ ุงูููุฏูู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุฏูู ุฃูุซุฑ ุชูุตููุง</a> </li><li style=";text-align:right;direction:rtl">  <a href="">ุงููุซุงุฆู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชูููู ููุงุฒู ุงูุชุญููู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุณุฌูู ูุฏูุฉ ุนุจุฑ ุงูููุจ ุนู ุฅุฏุงุฑุฉ API</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar475670/">https://habr.com/ru/post/ar475670/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar475658/index.html">ููุงุฐุง ุชุฐูุจ ุฅูู DevOpsDaysุ ูููุงุฐุง ูุฐุง ููุณ ูุคุชูุฑ DevOps ุขุฎุฑ</a></li>
<li><a href="../ar475660/index.html">ูููุฉ ุฌุฏูุฏุฉ ูู ุญูุงุฆุจ ุงูุธูุฑ: ุชุนุฑู ุนูู ูููุฐุฌ ุดุงุดุฉ ุงูุจูุณู - ุชุฌุฑุจุฉ LED ูุงูุทุจุงุนุงุชู</a></li>
<li><a href="../ar475662/index.html">ุฃุฎุทุฑ ุงูุฃุฎุทุงุก ูู ุญูุงุชู ุงูููููุฉ ููุจุฑูุฌ (ูู ุงูููุช ุงูุญุงูู)</a></li>
<li><a href="../ar475666/index.html">50 ูุตุงุฆุญ UX ูู ุงููุงูุน ุงูุงูุชุฑุงุถู</a></li>
<li><a href="../ar475668/index.html">ุญุฑู ุฎุงุฑุฌ. ุงุณุชุฑุฏุงุฏ. ุงูุจุฏุก ูู ุฌุฏูุฏ. ุฃู ูุงุ</a></li>
<li><a href="../ar475672/index.html">ูุชุงุจุฉ ูุญุงุฏุซุฉ ูู ุจูุซูู ูุฌุงูุบู</a></li>
<li><a href="../ar475674/index.html">ุญูู ุณูู ุงูุนูู ุนู ุจุนุฏ ุชูุงูุง ุฏูู ุตูุฑุฉ ูู ุงูุดุงุทุฆ</a></li>
<li><a href="../ar475676/index.html">ููููุง ูุฏููุนุฉ ุงูุจุตูุฑุฉ: ุชุญูููุงุช ูุชูุฏูุฉ ูุฅุฏุงุฑุฉ ุฏูุฑุฉ ุญูุงุฉ ููุงุฐุฌ ุงูุชุนูู ุขูุฉ</a></li>
<li><a href="../ar475678/index.html">ููู ูุนูู ูุฒูุฏู ุงูุญููุจ ููุญู ุงูุฃููุฉ ุจุงูููุจููุชุฑ</a></li>
<li><a href="../ar475684/index.html">Pythonetc compilation ุ ุฃูุชูุจุฑ 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>