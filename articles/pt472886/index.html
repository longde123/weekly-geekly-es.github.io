<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👈🏻 🙎 🐴 Como implementar um analisador estático no desenvolvimento para que todos fiquem felizes? 👨🏿‍🔧 🤚🏾 🔹</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="No processo, muitas vezes nos perguntam: como implementar um analisador estático no desenvolvimento para que tudo esteja bem. Já falamos sobre por que...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como implementar um analisador estático no desenvolvimento para que todos fiquem felizes?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/solarsecurity/blog/472886/">  No processo, muitas vezes nos perguntam: como implementar um analisador estático no desenvolvimento para que <s>tudo esteja</s> bem.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Já falamos</a> sobre por que um analisador estático é necessário para o desenvolvimento seguro.  Este artigo será útil se você estiver escolhendo um analisador estático ou se já planeja implementá-lo.  Como configurar o processo para que as vulnerabilidades descobertas no código sejam finalmente corrigidas?  Neste artigo, tentaremos ajudá-lo a lidar com esse problema. <br><img src="https://habrastorage.org/webt/2h/4w/jw/2h4wjwfsffswqnrutggcpp6ffny.jpeg" alt="imagem"><br><a name="habracut"></a><br><h2>  O que está por vir? </h2><br>  A implementação do analisador de forma que as vulnerabilidades sejam corrigidas de maneira estável não é uma questão rápida.  Por experiência, podemos dizer que leva de algumas semanas a vários meses.  Se você estiver implementando o analisador em uma grande empresa, prepare-se para uma série de aprovações.  Afinal, são centenas de bases de código que precisam ser analisadas e dezenas de equipes com suas próprias ordens de desenvolvimento. <br><img src="https://habrastorage.org/webt/gt/wz/za/gtwzza9gewij7jpijyxxdi2wcue.jpeg" alt="imagem"><br>  Para adicionar um novo estágio de desenvolvimento - análise estática, você terá que estudar como o processo de cada equipe funciona e propor uma solução que seja conveniente para todos.  Nas pequenas empresas, a ordem de desenvolvimento estabelecida pode não existir.  A implementação do analisador pode ser uma desculpa para construir um processo.  Para que a integração seja mais suave, recomendamos que você descubra qual analisador possui os recursos para isso. <br><br><h2>  Quais são as opções de integração? </h2><br>  Normalmente, o analisador assume uma interface não gráfica (CLI, REST) ​​para integração em qualquer processo.  Existem analisadores com integrações prontas: com ferramentas de construção e ambientes de desenvolvimento, com sistemas de controle de versão (Git, SVN), servidores de CI / CD (Jenkins, TeamCity, TFS), sistemas de gerenciamento de projetos (Jira) e gerenciamento de usuários (Active Directory).  Quanto mais útil para sua empresa, mais fácil será configurar tudo. <br><br><h2>  Como você pode construir um processo? </h2><br>  Considere a situação padrão: os departamentos envolvidos são segurança da informação, gerenciamento de liberação e desenvolvimento.  Como regra, o cliente da implementação do analisador é a segurança da informação (IS).  A tarefa é concordar com quem, quando e o que fará.  Distinguimos as seguintes etapas: <b>iniciar a análise, processar os resultados da análise, criar uma solicitação para corrigir a vulnerabilidade, corrigir a vulnerabilidade, verificar a correção</b> .  Considere cada etapa com mais detalhes. <br><br><h4>  Etapa 1. Execute a análise </h4><br>  Você pode executar a análise manual ou automaticamente.  As abordagens têm seus prós e contras. <br><br>  <b><i>Manualmente</i></b> <br><br>  Ele próprio lembrou-se do analisador, baixou o código pessoalmente e foi ver os resultados. <br><br><img src="https://habrastorage.org/webt/fc/ab/z9/fcabz9damhixs1mgkftrpplwuhi.jpeg" alt="imagem"><br><br>  Se houver cerca de uma dúzia de projetos na empresa e um oficial de segurança estiver encarregado de monitorar a segurança, esse cenário é possível.  Se houver cerca de cem projetos, você precisará configurar a automação. <br><br>  <b><i>Automatizado</i></b> <br><br>  Decida com que frequência e em que momento você precisará analisar o código.  Por exemplo, antes de entrar em um ambiente produtivo, de acordo com um determinado cronograma (uma vez por semana) ou após cada alteração. <br><br>  Se o aplicativo raramente for atualizado, mas você também precisar monitorar sua segurança, configure a análise se houver alguma alteração. <br><br>  Se muitas pessoas trabalham no código, muitas ramificações são criadas, as mudanças geralmente ocorrem - é melhor analisar com frequência, mas não interfere no desenvolvimento.  Por exemplo, no momento da criação de uma solicitação de mesclagem com a ramificação principal ou quando o status da tarefa nessa ramificação é alterado.  A integração com um sistema de controle de versão ou com um sistema de gerenciamento de projetos o ajudará com isso.  A integração com o CI / CD fará da análise uma das etapas de compilação. <br><br>  Defina a programação para que você tenha tempo para processar os resultados. <br><br><h4>  Etapa 2. Processar os resultados da análise </h4><br>  Não instrua os desenvolvedores a corrigir imediatamente todas as vulnerabilidades encontradas.  Deixe o oficial de segurança verificá-los primeiro.  Os resultados da primeira análise podem parecer deploráveis: dezenas de vulnerabilidades críticas, centenas de menos críticas e milhares de falsos positivos.  O que fazer aqui?  Recomendamos corrigir as vulnerabilidades gradualmente.  O objetivo final é alcançar a ausência de vulnerabilidades no código antigo e no novo.  No estágio inicial, verifique as vulnerabilidades críticas (ainda inseguras com elas) e novas (o novo código é mais fácil de corrigir). <br><br>  Use filtros.  Classifique as vulnerabilidades por gravidade, idioma, arquivo e diretório.  Ferramentas mais avançadas mostrarão vulnerabilidades apenas no novo código, ocultarão vulnerabilidades em bibliotecas de terceiros.  Os filtros foram aplicados, mas ainda existem muitas vulnerabilidades? <br><br>  Veja as vulnerabilidades mais prováveis.  Existem analisadores que avaliam a probabilidade de um falso positivo.  Se houver muitas vulnerabilidades e o nível de criticidade for quase o mesmo para todos, filtre os resultados usando essa métrica.  Então você processa rapidamente as vulnerabilidades mais prováveis ​​(veja a captura de tela abaixo). <br><br><img src="https://habrastorage.org/webt/zg/og/vg/zgogvgu-uyncnk_q4-zw_ztbnlk.png" alt="imagem"><br><br>  Use status de verificação.  Para capturar os resultados da verificação, geralmente os analisadores se oferecem para trabalhar com status da vulnerabilidade: confirmar ou rejeitar como um falso positivo.  Como regra, o trabalho realizado deve ser preservado durante a nova verificação. <br><br><h4>  Etapa 3. Crie uma solicitação de correção de vulnerabilidade </h4><br>  Se o desenvolvedor iniciar a análise de seu código e corrigir imediatamente as vulnerabilidades, é claro que você não precisará criar solicitações desnecessárias. <br><br>  Se o oficial de segurança revisar e verificar os resultados, para a correção adicional das vulnerabilidades confirmadas, geralmente é necessário definir uma tarefa.  Temos enfrentado repetidamente o fato de que foi nessa etapa que surgiram dificuldades. <br><br>  <b><i>Formulário de solicitação</i></b> <br><br>  Existem empresas nas quais grandes tarefas para o estágio são fixadas no sistema de gerenciamento de projetos (por exemplo, Jira).  E para subtarefas e bugs, por exemplo, os problemas do GitLab são usados, acesso ao qual apenas o líder da equipe e sua equipe têm acesso.  Também acontece que a montagem é impossível sem criar uma tarefa separada no sistema de gerenciamento de projetos.  O analisador pode ter integrações com as quais você pode criar as consultas necessárias imediatamente na interface. <br><br>  Freqüentemente, na mesma empresa com vários grupos de desenvolvimento, cada um deles tem seu próprio procedimento para implementar tarefas de trabalho.  E você precisa se adaptar a todos.  Surgem perguntas: <br><br><ul><li>  <b>Vale a pena alocar um projeto separado para corrigir vulnerabilidades ou criar tarefas nas existentes?</b> </li><li>  <b>A vulnerabilidade é um bug familiar ou uma nova entidade?</b> </li><li>  <b>Criar uma tarefa separada para cada vulnerabilidade ou agrupar outras semelhantes?</b> </li><li>  <b>O que devo fornecer como descrição do problema: um link para uma vulnerabilidade na interface do analisador ou um local no código e descrever brevemente o problema?</b> </li><li>  <b>E o desenvolvedor precisa acessar os resultados - basta enviar um relatório em PDF com o texto “consulte</b>  <b>página 257 "e basta?</b> </li></ul><br>  Obviamente, depende de como o processo da equipe é ajustado, quais sistemas de rastreamento de erros são usados. <br><br>  Se o código for escrito por contratados para os quais o acesso aos sistemas internos é mínimo, um esquema com um relatório em PDF é adequado.  Normalmente, para um relatório, você pode selecionar vulnerabilidades que são do seu interesse e enviá-las imediatamente para o endereço desejado na interface do analisador. <br><br>  Se uma empresa não puder dar um único passo sem criar um projeto para um determinado tipo de tarefas com uma certa quantidade de recursos, você deverá procurar uma ferramenta com integração ao seu sistema.  As integrações mais flexíveis gerarão uma descrição da tarefa para você (elas nem esquecerão o link para o código-fonte no sistema de controle de versão) e permitirão que você preencha todos os campos obrigatórios.  Escolha o tipo de tarefa, especifique o pai, os artistas e até a versão de lançamento. <br><br>  <b><i>Custos e condições de trabalho</i></b> <br><br>  Se a equipe decidiu fazer uma avaliação dos custos de mão-de-obra para cada tarefa, a tarefa de corrigir a vulnerabilidade precisa ser feita da mesma maneira.  Ao longo do caminho, os desenvolvedores verificam as vulnerabilidades.  Às vezes, nesta etapa, verifica-se que a vulnerabilidade é falsa ou impossível de explorar. <br><br>  Mas, como regra, os recursos ainda não são suficientes para corrigir imediatamente todas as vulnerabilidades.  Portanto, também é necessário coordenar suas prioridades. <br><br>  As tarefas foram determinadas pelos custos e prioridades de mão-de-obra - então os responsáveis ​​pelas datas de lançamento (este pode ser o gerente do projeto ou o mesmo líder da equipe) decidem o que corrigir e quando.  Inicialmente, usando o analisador, recomendamos que você não adie a versão, se nem todas as vulnerabilidades estiverem corrigidas. <br><br><h4>  Etapa 4. Corrija as vulnerabilidades </h4><br>  Como alocar recursos adequadamente: conectar novas pessoas ou confiar àqueles que já estão envolvidos no desenvolvimento é uma questão orçamentária.  Uma coisa é verdadeira: se a empresa alocar recursos para a instalação do analisador, você precisa se preparar para os custos de correção de vulnerabilidades.  Uma maneira possível é estabelecer a porcentagem de tempo para corrigir vulnerabilidades como um trabalho com dívida técnica. <br><br>  Existem dois cenários: corrija imediatamente no processo de desenvolvimento ou a pedido de um oficial de segurança.  Corrigir vulnerabilidades durante o desenvolvimento é um cenário ideal.  Encontrado imediatamente - corrigido imediatamente.  O desenvolvedor verifica sua ramificação de recursos antes de solicitar uma mesclagem com a ramificação principal.  Isso também pode ser automatizado por meio de integrações: com o ambiente de desenvolvimento, com ferramentas de construção, sistema de controle de versão ou com CI / CD. <br><br>  Outro cenário é analisar o principal ramo de desenvolvimento após todas as alterações.  Um oficial de segurança ou líder de equipe analisa os resultados e cria tarefas para corrigir vulnerabilidades.  Este cenário é mais demorado.  Na entrada do desenvolvedor está o código fonte, a tarefa de correção e os resultados da análise.  Para um desenvolvedor, a tarefa de corrigir uma vulnerabilidade não é muito diferente de corrigir um bug. <br><br><h4>  Etapa 5. Verifique a correção </h4><br>  Você precisa garantir que a vulnerabilidade seja realmente corrigida e que uma nova não apareça em seu lugar.  Existem resultados da análise do código corrigido.  O que procurar?  Número de arquivo e linha da vulnerabilidade?  Ou pesquise pelo nome da vulnerabilidade?  É possível e assim.  Mas se o código fosse alterado, a linha com a vulnerabilidade poderia mudar e ainda haveria muitas ocorrências de uma vulnerabilidade.  Alguns analisadores podem mostrar vulnerabilidades "corrigidas".  Concorde, para que você possa verificar a correção da vulnerabilidade mais rapidamente (veja a captura de tela). <br><br><img src="https://habrastorage.org/webt/ri/tj/km/ritjkmpavf823csfk5oj84auyp8.png" alt="imagem"><br><br><h2>  Exemplos </h2><br>  Aqui estão dois cenários possíveis. <br><br><h4>  Cenário 1 </h4><br>  A equipe usa Git para controle de versão, Jira para gerenciamento de projetos e tarefas.  Jenkins configura o cronograma de compilação.  Por exemplo, uma vez por dia, se houver alterações na ramificação.  Como uma etapa adicional, o início do analisador é indicado. <br><br>  O oficial de segurança analisa os resultados da análise da ramificação principal (mestre ou desenvolvimento) e os desenvolvedores revisam suas ramificações de recursos. <br><br>  Os desenvolvedores corrigem vulnerabilidades, se necessário.  Se o analisador puder filtrar vulnerabilidades sob demanda: mostre apenas novas vulnerabilidades ou não em bibliotecas de terceiros, mostre vulnerabilidades em um diretório ou arquivo específico - o desenvolvedor poderá visualizar rapidamente os resultados que lhe interessam.  Portanto, a probabilidade de correção é maior. <br><br>  O oficial de segurança analisa os resultados da análise da filial principal.  Usando a integração com o Jira, o oficial de segurança cria tarefas de gerenciamento de vulnerabilidades a partir da interface do analisador.  Em seguida, é a coordenação de prazos e prioridades. <br><br>  Quando a vulnerabilidade é corrigida e o novo código passa por todos os estágios internos de desenvolvimento (revisão do líder da equipe, usuário e teste de regressão), o oficial de segurança deve garantir que a vulnerabilidade não esteja mais lá.  O autor fecha a tarefa concluída. <br><br><h4>  Cenário 2 </h4><br>  O código da empresa é escrito por um grupo de contratados.  O Timlid interage com os desenvolvedores por email e usa o GitLab para controle de versão.  Os contratados não têm acesso aos sistemas internos de gerenciamento de projetos (Jira). <br><br>  O oficial de segurança ou o próprio líder da equipe revisa os resultados da análise do principal ramo de desenvolvimento.  Os contratados não têm acesso ao analisador.  Se houver vulnerabilidades que precisem ser corrigidas, o oficial de segurança envia um relatório em PDF com os resultados da análise ao líder da equipe ou imediatamente ao desenvolvedor. <br><br>  No relatório, o desenvolvedor descobre onde a vulnerabilidade é encontrada, em que consiste e como pode ser corrigida.  É importante que, para as vulnerabilidades associadas ao fluxo de dados inseguros (por exemplo, injeção SQL), o esquema de distribuição seja descarregado no relatório: da fonte de dados ao seu uso na chamada de função / método (veja a captura de tela). <br><br><img src="https://habrastorage.org/webt/zy/tt/c7/zyttc7e3851qk7zjdg0hkpm_nzg.png" alt="imagem"><br><br>  Após corrigir a vulnerabilidade, o líder da equipe informa ao oficial de segurança que é hora de verificar os resultados da nova varredura. <br><br><h2>  O que mais é importante? </h2><br>  Estabelecer a interação entre segurança e desenvolvimento da informação.  É importante que ambas as partes estejam interessadas em corrigir vulnerabilidades.  Bem, se serão não apenas pedidos, mas também comunicação ao vivo. <br><br>  Não negligencie as funções de usuário.  Um bom analisador deve ter a capacidade de diferenciar direitos.  É improvável que um contratado precise de direitos de administrador ou dos resultados de uma análise de sistemas internos.  Para editar os resultados - para alterar a criticidade e o status - é suficiente permitir ao oficial de segurança e ao líder da equipe.  O princípio dos privilégios mínimos não foi cancelado. <br><br>  Se a empresa for grande e usar um sistema de gerenciamento de usuários (por exemplo, Active Directory), considere ferramentas com integração pronta.  Você poderá reutilizar as funções e grupos aceitos na empresa e conceder a eles os direitos necessários. <br><br><h2>  Conclusão </h2><br>  Depois de escolher um analisador, prepare-se para o fato de ele ainda precisar ser implementado corretamente.  Não tenha medo de reuniões e coordenação com os participantes: quanto melhor você entender no processo, mais útil será o resultado.  É importante que o cenário de trabalho não seja apenas aprovado, mas também comece a seguir. <br><br>  <b>Publicado por Elizaveta Kharlamova, Analista Líder, Solar appScreener</b> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt472886/">https://habr.com/ru/post/pt472886/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt472870/index.html">Por que o Agile fica parado sem transformar as ferramentas de arquitetura e desenvolvimento - apresentação da conferência</a></li>
<li><a href="../pt472872/index.html">Como aumentar a inicialização para 50 funcionários sem perder a cultura</a></li>
<li><a href="../pt472874/index.html">História da nave estelar: através de torres de água para as estrelas</a></li>
<li><a href="../pt472876/index.html">Cachoeira da complexidade e arquitetura sob demanda</a></li>
<li><a href="../pt472884/index.html">Como os estereótipos de um desenvolvedor iniciante colapsam no início do jogo</a></li>
<li><a href="../pt472890/index.html">DeepPavlov para desenvolvedores: # 1 ferramentas de PNL e crie chatbots</a></li>
<li><a href="../pt472892/index.html">Por que antivírus tradicionais não são adequados para nuvens públicas. E o que fazer?</a></li>
<li><a href="../pt472894/index.html">DartUP 2019: conferência sobre Dart and Flutter em São Petersburgo em 23 de novembro</a></li>
<li><a href="../pt472896/index.html">Helicóptero de uma impressora: pela primeira vez, os cientistas “imprimiram” um estojo grande de um motor de helicóptero</a></li>
<li><a href="../pt472902/index.html">Windows para IoT: Suporte aprimorado a hardware e novos recursos de dispositivos inteligentes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>