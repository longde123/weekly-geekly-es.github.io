<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏼‍🎤 🧑🏼‍🤝‍🧑🏻 🏵️ Ekstensi untuk chrome: kreasi, publikasi, pengalaman 💅🏻 👩🏼‍🎨 🔟</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam mencari platform baru untuk kegiatan, saya menarik perhatian pada "widget" chrome, yang telah saya gunakan untuk waktu yang lama, tetapi tidak p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ekstensi untuk chrome: kreasi, publikasi, pengalaman</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/431830/"> Dalam mencari platform baru untuk kegiatan, saya menarik perhatian pada "widget" chrome, yang telah saya gunakan untuk waktu yang lama, tetapi tidak pernah menganggap hal itu penting.  Saya langsung ingin mencoba menerapkan sesuatu. <br><br>  Idenya adalah untuk membuat task manager untuk pengembang (dan tidak hanya), yang akan selalu ada.  Seharusnya ditampilkan tiket <i>trello</i> dan <i>jira</i> saat ini, permintaan ke <i>gitlab</i> , dll.  Ini adalah hal-hal yang biasanya saya cari dengan mengetikkan kata kunci di bilah alamat browser, seperti "jira PM-20". <br><br><img src="https://habrastorage.org/webt/uk/1y/qz/uk1yqzybao8vdhc0styudgtb9r0.png"><br>  <font color="gray"><i>Ekstensi Chrome</i></font> <br><a name="habracut"></a><br>  Saya tahu pasti bahwa ekstensi browser adalah halaman html reguler yang didukung oleh skrip js.  Tetapi dia tidak tahu bagaimana cara membuatnya.  Hal pertama yang Google berikan kepada saya tentang masalah ini adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel tentang media</a> , bukan dokumentasi resmi.  Itu bahkan lebih baik karena  itu adalah artikel ulasan widget paling sederhana dari ide hingga publikasi. <br><br>  Artikel itu memberi saya ide bahwa pengembangan "widget" tidak terlalu rumit.  Saya segera mulai membuat "hello world!". <br><br><h1>  Struktur </h1><br><img src="https://habrastorage.org/webt/qy/ur/1k/qyur1knwe_yms0xfwkfgshzy63a.png"><br><br>  Ternyata Anda perlu membuat <i>mainfest.json</i> di root proyek.  Ini menjelaskan ekstensi: nama, deskripsi, penulis, ikon, izin, dll.  Saya membuat versi pertama tanpa mempelajari dokumentasi. <br><br><img src="https://habrastorage.org/webt/ui/yf/q5/uiyfq5fyk9jngrs9wct5qfyf7sg.png"><br>  <font color="grey"><i>Manifes pertama. Json</i></font> <br><br>  Ekstensi memungkinkan Anda untuk menjalankan skrip-js di latar belakang, yang melakukan sesuatu bahkan ketika pengguna tidak menggunakannya.  Saya merasakan fungsi ini sangat dangkal, hanya untuk memahami bagaimana ia bisa bekerja.  Dia hanya mengubah judul di widget &lt;h1&gt;. <br><br>  Yang menarik bagi saya adalah halaman html itu sendiri, yang ditampilkan ketika saya mengklik ikon di browser, itu disebut <i>popup.html</i> di manifes saya. <br><br>  <font color="blue"><i>Omong-</i></font> omong, halaman ini dapat dibuka di browser seperti situs mana pun, hanya ekstensi chrome, misalnya <font color="blue"><i>ekstensi chrome: // id- widget-in-webstore / popup.html,</i></font> akan digunakan sebagai "protokol".  Dengan demikian, Anda dapat melihat kode sumber ekstensi apa pun yang telah Anda instal. <br><br>  Ini bekerja dengan cara yang sama seperti situs web mana pun, dengan pengecualian beberapa fitur, misalnya: tautan klik hanya berfungsi dengan <i>target = "_ blank"</i> .  Ada batasan teknis yang dikendalikan oleh pengembang, misalnya, <i>Kebijakan Keamanan Konten</i> atau <i>izin</i> untuk fungsionalitas browser, yang diminta dari pengguna. <br><br><h1>  Jalankan ekstensi </h1><br>  Setelah membuat folder dengan <i>manifest.json</i> dan <i>popup.html</i> di dalamnya, Anda sudah bisa meluncurkannya sebagai widget.  Halaman <i>chrome: // extensions chrome: // extensions</i> memiliki tombol <i>unduh ekstensi unduhan</i> .  Menggunakannya, pilih foldernya <br><br><img src="https://habrastorage.org/webt/jg/nc/ha/jgnchavdydr1i6hp1ymjeawu3w4.png"><br><br>  dan ekstensi segera ditampilkan dalam daftar "widget" di sebelah bilah alamat. <br><br>  Mulai saat ini, ekstensi sudah dapat diuji: ubah <i>popup.html</i> , dan lihat perubahan dengan <i>membuka kembali</i> "widget" dengan mengklik ikonnya. <br><br><h1>  Terbitkan ke webstore </h1><br>  Untuk mulai dengan, kemampuan untuk mempublikasikan 20 ekstensi pertama biaya <b>$ 5</b> .  Ini terjadi di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dasbor</a> webstore, untuk ini Anda perlu mengisi arsip zip dari isi folder ekstensi dan mengerjakan teks iklan dan gambar. <br><br><img src="https://habrastorage.org/webt/hi/wi/mx/hiwimxrg4wexfpgqrokedvq3qnm.png"><br>  <font color="grey"><i>Bersiap untuk menerbitkan ekstensi</i></font> <br><br>  Bagian pertama dari deskripsi ekstensi akan ditampilkan dari properti <i>deskripsi</i> dari manifes ekstensi, sisanya ditambahkan ke deskripsi terperinci dalam manajemen ekstensi di webstore. <br><br>  Ekstensi memiliki pengaturan penerbitan yang fleksibel: Anda dapat memilih wilayah di dunia untuk publikasi, serta visibilitas ekstensi. <br><br><img src="https://habrastorage.org/webt/tm/uq/ly/tmuqlyxnqnmgrpm0znpaatcubru.png"><br><br>  Harus diingat bahwa jika Anda memilih untuk hanya mempublikasikan Federasi Rusia, maka di negara lain ekstensi tidak akan muncul.  Saya menemukan ini ketika di Thailand: Saya tidak mengerti mengapa, setelah 2 hari, ekstensi tidak dicari di toko, bahkan dengan nama langsungnya. <br><br><h1>  Opsi lanjutan </h1><br>  Saya menjelaskan langkah-langkah yang diperlukan untuk menerbitkan ekstensi sederhana agar prosesnya jelas.  Sekarang saya ingin menyoroti beberapa detail untuk menulis "widget" yang lebih kompleks. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qq/gw/_j/qqgw_jneinomo-x5se1kxul67qk.png"></div><br>  Inti dari ekstensi saya adalah menggunakan API orang lain untuk mendapatkan informasi.  Untuk melakukan ini, saya memerlukan setidaknya penyimpanan lokal untuk mengingat token otorisasi. <br><br>  Saya menggunakan <i>"izin": ["penyimpanan"]</i> di manifes saya. <br><br><h2>  OAuth2 </h2><br>  Dalam kebanyakan kasus, pengembang API menawarkan protokol OAuth2 untuk otorisasi. <br><br>  Jika Anda tidak terbiasa dengan protokol ini: ia menawarkan proses otentikasi dan otorisasi aplikasi yang aman atas nama pengguna tanpa akses ke login / kata sandi dari aplikasi ini. <br><br>  Protokol menjelaskan beberapa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">metode untuk otorisasi</a> .  Idealnya, Anda harus menggunakan <b>Alur Kode Otorisasi,</b> yang menganggap aplikasi memiliki <i>backend</i> ;  API mengarahkan pengguna dengan kode Auth ke aplikasi, dan aplikasi di backend menukarnya dengan token. <br><br>  Ada juga <i>Aliran Implisit yang</i> disederhanakan yang memungkinkan Anda untuk masuk tanpa backend: setelah otorisasi, API mengarahkan pengguna ke aplikasi dengan token di URL. <br><br>  Bagaimana cara menggunakan otorisasi "redirect" ini dalam ekstensi chrome?  Mulai situs web?  Ternyata itu tidak perlu. <br><br><h3>  Tongkat saya </h3><br>  Awalnya, saya mulai berintegrasi dengan Gitlalb dan Trello.  Dengan Gitlab, semuanya ternyata “sederhana”: Anda mengirim pengguna ke panel admin ke Gitlab-nya sehingga ia membuat token dan memberikannya kepada Anda.  Saya tidak perlu repot dengan pendekatan ini untuk waktu yang lama, saya hanya membuat bidang untuk memasukkan token dan menjelaskan cara mendapatkannya. <br><br>  Trello menyediakan OAuth2, saya segera menyadari bahwa itu memiliki <i>aliran implisit</i> , tetapi agak aneh: token ditampilkan pada halaman / setujui mereka di formulir ini <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ob/km/s3/obkms3gmcyih9glliorcwlcyk6y.png"></div><br>  Tanpa semakin dalam, saya juga membuat bidang input token di ekstensi saya dan menjelaskan kepada pengguna cara melakukannya. <br><br><h3>  Jalan yang benar </h3><br>  Seperti biasa, keputusan yang baik tidak segera datang.  Saya menemukan ketika saya mulai integrasi dengan Jira, yang hanya memiliki Aliran Kode Otorisasi. <br><br>  Entah bagaimana saya menemukan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">chrome.identity</a> : fungsionalitas browser yang telah menerapkan semua "kruk" untuk otorisasi.  Fungsionalitas ini membutuhkan penyertaan <i>identitas</i> dalam izin nyata.  Saya menambahkan manifes saya: <i>"izin": ["penyimpanan", "identitas"]</i> . <br><br>  Seperti yang saya katakan: setiap ekstensi memiliki URL seperti <i>chrome-extension: // &lt;id&gt; /</i> .  Alamat semacam itu tidak cocok untuk apa pun, tetapi <i>chrome.identity</i> menyediakan URL nyata <font color="blue"><i>https: // &lt;app-id&gt; .chromiumapp.org / *</i></font> , yang dapat diteruskan ke API dengan OAuth2 sebagai redirectUrl.  API, setelah otorisasi, akan mengirim pengguna ke sana dengan parameter tambahan, baik itu kode auth atau token, dan chrome akan mengambilnya dan meneruskan ekstensi ke js-callback Anda. <br><br>  Untuk melakukan ini, gunakan chrome.identity.launchWebAuthFlow (), yang membuka halaman otorisasi API di jendela baru: <br><br><pre><code class="plaintext hljs">chrome.identity.launchWebAuthFlow( { 'url': JiraApi.url(), 'interactive': true }, jira.callback() );</code> </pre> <br>  Saya akan langsung mengatakan: jendela ini tidak persis seperti jendela browser utama, yang akan menimbulkan pertanyaan bagi saya jika saya adalah pengguna biasa, karena  sepertinya semacam blok phishing, bukan jendela.  Mungkin ini hanya persepsi saya, mungkin ini hanya di <abbr title="Linux Mint">OS</abbr> saya. <br><br><img src="https://habrastorage.org/webt/4i/n5/ld/4in5ldmxa9aanys9f9oq2bwdo2u.png"><br>  <font color="gray"><i>Jendela otorisasi chrome.identity.launchWebAuthFlow</i></font> <br><br><h2>  Pilihan lain </h2><br>  Ketika gagasan menerapkan fungsi apa pun muncul, saya sarankan google chrome API, karena  sudah memiliki banyak fitur serupa yang akan memudahkan pekerjaan Anda.  Misalnya, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">manifes penuh.json</a> mengesankan: <br><br><pre> <code class="plaintext hljs">{ // Required "app": { "background": { // Optional "scripts": ["background.js"] } }, "manifest_version": 2, "name": "My App", "version": "versionString", // Recommended "default_locale": "en", "description": "A plain text description", "icons": {...}, // Optional "action_handlers": ["new_note"], "author": ..., "automation": ..., "bluetooth": { "uuids": ["1105", "1006"] }, "commands": {...}, "current_locale": ..., "event_rules": [{...}], "externally_connectable": { "matches": ["*://*.example.com/*"] }, "file_handlers": {...}, "file_system_provider_capabilities": { "configurable": true, "multiple_mounts": true, "source": "network" }, "import": [{"id": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"}], "key": "publicKey", "kiosk": { "always_update": ..., "required_platform_version": ... }, "kiosk_enabled": true, "kiosk_only": true, "kiosk_secondary_apps": ..., "minimum_chrome_version": "versionString", "nacl_modules": [...], "oauth2": ..., "offline_enabled": true, "optional_permissions": ["tabs"], "permissions": ["tabs"], "platforms": ..., "requirements": {...}, "sandbox": [...], "short_name": "Short Name", "signature": ..., "sockets": { "tcp": { "connect": "*" }, "udp": { "send": "*" } }, "storage": { "managed_schema": "schema.json" }, "system_indicator": ..., "update_url": "http://path/to/updateInfo.xml", "url_handlers": {...}, "usb_printers": { "filters": [...] }, "version_name": "aString", "webview": {...} }</code> </pre><br>  Berurusan dengan semua fitur sebelumnya mungkin terlalu boros.  jumlah mereka yang sangat besar. <br><br>  Selain itu, hanya sisi js dari ekstensi itu sendiri yang dapat tumbuh hingga ukuran besar. <br><br><img src="https://habrastorage.org/webt/ei/k1/9y/eik19yftcv2f-rm1uodd98dpblo.png"><br>  <font color="gray"><i>Skema saya saat ini</i></font> <br><br><h1>  Promosi </h1><br>  Yang sedikit layak disebut adalah promosi perluasannya.  Fitur "widget" adalah mereka ditujukan untuk pengguna desktop, yang dalam beberapa tahun terakhir berhasil menjadi minoritas. <br><br>  Saya mencoba iklan kontekstual dan iklan media sosial.  Punya sedikit pengalaman dan nol konversi. <br><br><h2>  Iklan kontekstual </h2><br>  Pengalaman saya sejauh ini terbatas pada satu platform, saya tidak dapat berbicara untuk yang lain, tetapi saya pikir hal yang sama ada di sana. <br><br>  Ternyata Anda tidak dapat menargetkan perangkat dan browser di iklan kontekstual Yandex.  Jadi, jika ekstensi Anda hanya untuk chrome, orang-orang yang duduk di browser lain yang transisinya hanya akan membawa kerugian tambahan harus menampilkan iklan. <br><br>  Saya tidak ingin membuat situs terpisah untuk ekstensi saya, jadi saya mengiklankan halamannya di webstore.  Kerugian dari pendekatan ini adalah Anda hanya dapat mempercayai statistik akun iklan dan tidak dapat melihat bagaimana perilaku pengguna di halaman yang diiklankan. <br><br><h2>  Jejaring sosial </h2><br>  Mereka hanya termasuk dalam kategori situs di mana desktop adalah minoritas yang sekarat. <br><br>  Vkontakte menyediakan penargetan untuk versi mobile dan versi lengkap dari situs webnya.  Tapi tanda centang ini disembunyikan di bagian paling akhir pengaturan, saya pribadi tidak menyadarinya sebelum saya membocorkan anggaran dan melihat liputan menyedihkan dalam statistik <br><br><img src="https://habrastorage.org/webt/uv/8-/ck/uv8-ckxr9iw4i_znpploac-1cyy.png"><br><br>  Bahkan, tampilan seluler jauh lebih besar hari itu <br><br><h1>  Pikiran akhirnya </h1><br>  Saya percaya bahwa ekstensi adalah alat yang ampuh untuk orang yang bekerja di Internet, karena  di browser kami menghabiskan banyak waktu, yang kadang-kadang kami ingin mengoptimalkan.  Misalnya, widget penerjemah Google yang menerjemahkan teks ketika menyorot adalah contoh optimisasi yang baik.  Solusi untuk masalah sejumlah besar tab terbuka "nanti" Saya juga memutuskan menggunakan widget. <br><br>  Menulis ekstensi memberi Anda pengalaman dalam mempelajari bagian bawah laut gunung es "Chrome" dan menulis "frontend" (terutama jika Anda seorang pengembang backend).  Ekstensi dapat ditulis pada JS Bereaksi yang sama tempat Anda dapat menyebar ke aplikasi menulis untuk perangkat seluler.  Proses penulisan keduanya sangat mirip. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id431830/">https://habr.com/ru/post/id431830/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id431820/index.html">Mulai ke ISS dan pengereman di asteroid</a></li>
<li><a href="../id431822/index.html">Sumber tertutup de facto: argumen untuk perangkat lunak yang jelas</a></li>
<li><a href="../id431824/index.html">Informasi tentang smartphone dari Yandex secara tidak sengaja dibuka di situs web M.Video beberapa hari sebelum presentasi</a></li>
<li><a href="../id431826/index.html">Mulai dengan Bereaksi dan Bootstrap dalam 2 hari. Hari nomor 1</a></li>
<li><a href="../id431828/index.html">Acara digital di Moskow dari 3 hingga 9 Desember</a></li>
<li><a href="../id431834/index.html">Lebih banyak kopi, lebih sedikit kafein: Intel 9th ​​Gen (bagian 4)</a></li>
<li><a href="../id431836/index.html">Intisari bahan-bahan segar dari dunia front-end untuk minggu terakhir No. 341 (26 November - 2 Desember 2018)</a></li>
<li><a href="../id431838/index.html">3CX WebMeeting Video Conferencing - Panduan Lengkap</a></li>
<li><a href="../id431840/index.html">Dibuat pemutar vinil modular pertama, dicetak pada printer 3D, berencana untuk memproduksi kit DIY</a></li>
<li><a href="../id431842/index.html">0xc00007b atau menginstal driver dari bawah program</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>