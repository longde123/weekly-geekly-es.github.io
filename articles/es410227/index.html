<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòë üö∑ üåã Pi-Sonos v2.0 o la evoluci√≥n de la radio por Internet en la Raspberry Pi ü§≤üèø ‚òÆÔ∏è üëêüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Como sabes, no hay l√≠mite para la perfecci√≥n. Incluso para ac√∫stica port√°til casera, cuya audiencia de usuarios incluye solo una persona. Una persona ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pi-Sonos v2.0 o la evoluci√≥n de la radio por Internet en la Raspberry Pi</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/410227/"><img src="https://habrastorage.org/webt/gd/g9/zx/gdg9zxcp2lrffn69l2p0nfjlp5k.png" alt="imagen" align="left">  Como sabes, no hay l√≠mite para la perfecci√≥n.  Incluso para ac√∫stica port√°til casera, cuya audiencia de usuarios incluye solo una persona.  Una persona muy exigente y a veces tercamente man√≠aca.  Despu√©s del lanzamiento de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">primera publicaci√≥n</a> sobre Pi-Sonos, pasaron casi 5 meses.  Durante este tiempo, el software dentro de esta ac√∫stica logr√≥ cambiar dram√°ticamente dos veces.  La raz√≥n de los cambios fueron los consejos √∫tiles de los habitantes de Habrach y su propia experiencia de usuario. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Un poco de historia para aquellos que son demasiado flojos para leer o que ya han olvidado el primer art√≠culo.</b> <div class="spoiler_text">  Pi-Sonos es una ac√∫stica compacta hecha en casa, cuya creaci√≥n se inspir√≥ en Sonos Play 1. El objetivo de esta ac√∫stica era, en primer lugar, reproducir m√∫sica de las estaciones de radio por Internet.  Al crearlo, pongo el minimalismo y la conveniencia a la vanguardia: lo enchuf√© a una toma de corriente y luego, en cualquier lugar de la casa, controlo la m√∫sica desde su tel√©fono inteligente / computadora / tableta. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">¬øDe qu√© trata este art√≠culo?</b> <div class="spoiler_text">  En primer lugar, sobre la perseverancia y la curiosidad en el camino hacia el ideal.  Bajo el corte, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">nombre de usuario</a> , no habr√° una soluci√≥n para ning√∫n problema global, ni una descripci√≥n de una nueva tecnolog√≠a √∫nica.  El art√≠culo solo presenta una comparaci√≥n de los centros de medios populares para Raspberry Pi, revela sus ventajas y desventajas, as√≠ como mi visi√≥n personal del marco √≥ptimo para una radio por Internet.  De hecho, mientras desarrollaba mi propio software para la columna, solo repet√≠ parcialmente el camino de los creadores de Volumio, d√°ndome cuenta desde cero de una de sus funciones (l√©ase: "invent√≥ otra bicicleta"). <br>  A pesar de que el art√≠culo aborda el tema del desarrollo de software, no contiene c√≥digo, porque el prop√≥sito del art√≠culo es describir la idea y la funcionalidad, y no el proceso de su implementaci√≥n.  Si el tema del c√≥digo es interesante para los residentes, intentar√© dominar un art√≠culo separado que describa el proceso de desarrollo. <br></div></div><br>  Inicialmente, el software de relleno para ac√∫stica era <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">OSMC</a> , pero las personas sabias en los comentarios llamaron la atenci√≥n sobre el hecho de que Kodi (tambi√©n conocido como OSMC) es demasiado audaz como el "cerebro" para una estaci√≥n de radio por Internet.  Es demasiado inteligente y grande, solo para proyectos de audio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Volumio es</a> mejor.  En realidad, result√≥ de esa manera.  Volumio es m√°s liviano, agudizado por la interfaz web y tiene una API m√°s avanzada y f√°cil de desarrollar.  Adem√°s, no es necesario que un cable HDMI sobresalga por detr√°s, porque Volumio es totalmente personalizable en cualquier navegador. <br><br>  Sin embargo, Volumio tambi√©n mostr√≥ un par de deficiencias importantes que me llevaron a seguir investigando.  Este es, en primer lugar, el tiempo de descarga y, en segundo lugar, la falta de reproducci√≥n autom√°tica.  Despu√©s de estudiar la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">documentaci√≥n oficial</a> (de la cual se puede entender que Volumio es un complemento en mpd (Music Player Daemon)), decid√≠ que era hora de escribir mi propio contenedor llamado RPi-Radio en js que resolver√≠a estos problemas.  Su parte del servidor se ejecuta en Node.js, y la parte del cliente (GUI) que usa React.js ha estado lista desde OSMC, solo necesitaba ser ajustada.  Ahora se ve en la pantalla del tel√©fono inteligente: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/te/nz/am/tenzamoyba4r-l2y4ypzu3zpt68.jpeg"></div><br>  A continuaci√≥n se muestra una placa que muestra claramente las desventajas y ventajas de cada uno de los marcos. <br><table><tbody><tr><th>  Criterio </th><th>  <nobr>OSMC</nobr> </th><th>  <nobr>Volumio</nobr> </th><th>  <nobr>RPi-Radio</nobr> </th></tr><tr><td>  Tiempo de carga </td><td>  <nobr>35 segundos</nobr> </td><td>  <nobr>45 segundos</nobr> </td><td>  <nobr>20 segundos</nobr> </td></tr><tr><td>  Inicio Auto Play </td><td>  <nobr>no *</nobr> </td><td>  <nobr>no *</nobr> </td><td>  <nobr>si</nobr> </td></tr><tr><td>  El n√∫mero de cintas de la pantalla principal de la GUI "nativa" en el tel√©fono inteligente para seleccionar una estaci√≥n de radio de la lista de favoritos ** </td><td>  <nobr>5 + 1 desplazamiento</nobr> </td><td>  <nobr>4 4</nobr> </td><td>  <nobr>1</nobr> </td></tr><tr><td>  La necesidad de un monitor, teclado y mouse *** </td><td>  <nobr>si</nobr> </td><td>  <nobr>no</nobr> </td><td>  <nobr>no</nobr> </td></tr><tr><td>  Gesti√≥n web </td><td>  <nobr>parcial</nobr> </td><td>  <nobr>completar</nobr> </td><td>  <nobr>parcial</nobr> </td></tr><tr><td>  Edici√≥n de la lista de estaciones </td><td>  <nobr>m√°s o menos</nobr> </td><td>  <nobr>las normas</nobr> </td><td>  <nobr>m√°s o menos</nobr> </td></tr><tr><td>  F√°cil configuraci√≥n inicial </td><td>  <nobr>m√°s o menos</nobr> </td><td>  <nobr>genial</nobr> </td><td>  <nobr>mediocre</nobr> </td></tr><tr><td>  Integraci√≥n con la GUI de mi tel√©fono inteligente </td><td>  <nobr>con muletas</nobr> </td><td>  <nobr>con muletas</nobr> </td><td>  <nobr>fuera de la caja</nobr> </td></tr><tr><td>  Conveniencia de uso diario </td><td>  <nobr>‚òÜ</nobr> </td><td>  <nobr>‚òÜ‚òÜ</nobr> </td><td>  <nobr>‚òÜ‚òÜ‚òÜ</nobr> </td></tr></tbody></table>  <b>* en</b> realidad s√≠, pero necesita hacer una muleta y palma de su inicio Raspbian;  en el caso de OSMC, la muleta est√° escrita en python, y en el caso de Volumio, en js o bash.  Pero en ambos casos, todav√≠a no funciona como nos gustar√≠a. <br>  <b>**</b> para OSMC y Volumio, estos son par√°metros muy importantes, porque todos estos desplazamientos de tap deben realizarse cada vez que enciende la columna.  Para RPi-Radio, este par√°metro, aunque m√≠nimo, todav√≠a no es tan importante, ya que la columna comienza a reproducirse cuando se enciende. <br>  <b>*** Me</b> refiero a la conexi√≥n f√≠sica del monitor, el teclado y el mouse con la Raspberry Pi, es decir,  aquellos casos en los que no hay forma de evitar la interfaz web incorporada o la conexi√≥n ssh. <br><br><div class="spoiler">  <b class="spoiler_title">Debajo de este spoiler hay una explicaci√≥n detallada de cada uno de los puntos de comparaci√≥n.</b> <div class="spoiler_text"> Un tiempo de arranque de 20 segundos es, en mi opini√≥n, el m√≠nimo que se puede lograr sin sumergirse en la locura de optimizar Raspbian para este proyecto.  Ese es el tiempo que le toma a Malinka cargar el sistema operativo e iniciar el servicio mpd.  Probablemente, este resultado puede mejorarse si reemplaza microSDHC con microSDXC con una velocidad de lectura / escritura m√°s alta (comprobar√© si es posible).  Sorprendentemente, Volumio, pretendiendo ser ligero y √°gil, tarda m√°s en cargar que el monstruo recolector OSMC.  45 segundos de espera est√°n m√°s all√° del umbral de operaci√≥n c√≥moda, y esta fue la raz√≥n principal para abandonar Volumio. <br><br>  La reproducci√≥n autom√°tica est√° presente en mpd fuera de la caja, no tuve que hacer nada para activarla, ¬°convenientemente!  En Volumio, aunque es un contenedor de mpd, esta funci√≥n se estrangul√≥ en aras de un hermoso sonido de saludo.  Como ya escrib√≠, puedes hacer un script y ponerlo en el inicio.  La situaci√≥n es similar para OSMC. <br><br>  OSMC tiene la mayor parte de la interacci√≥n del usuario a trav√©s del monitor: hay una interfaz hermosa, la capacidad de ver videos, fotos, leer noticias y ver el clima; hay muchas cosas que mi columna nunca har√° en mi vida. <br><br>  Pero la administraci√≥n web de OSMC es muy limitada y ni siquiera puede configurar de forma remota la lista de sus estaciones favoritas en el complemento de Radio, solo a trav√©s del monitor.  En Volumio, por el contrario, todo es solo a trav√©s de la interfaz web.  La edici√≥n de la lista de estaciones es m√°s conveniente en el navegador en la computadora de escritorio / port√°til, pero tambi√©n es posible en el tel√©fono inteligente si lo desea.  Con RPi-Radio, solo puede seleccionar una estaci√≥n y ajustar el sonido a trav√©s de la interfaz web.  La lista de estaciones y, de hecho, todo lo dem√°s debe hacerse a trav√©s de la consola a trav√©s de ssh.  La lista de estaciones es la m√°s dif√≠cil: si OSMC y Volumio tienen sus propias bibliotecas extensas de estaciones de radio por Internet, entonces en RPi-Radio tuve que ingresar manualmente las direcciones de mis estaciones favoritas en formato JSON.  Inconvenientemente, pero solo una (o varias) veces en la vida. <br><br>  Con la configuraci√≥n inicial, OSMC es lo peor.  Primero debe conectar un monitor a la "frambuesa" y configurar el complemento de Radio, luego debe configurar la salida de sonido al IQAudio DAC externo (el mismo que el de la placa Suptronics X400) a trav√©s de la consola o mediante ssh.  RPi-Radio tiene la misma configuraci√≥n de DAC, pero al menos todo lo dem√°s tambi√©n se hace a trav√©s de ssh.  El l√≠der en esta categor√≠a, por supuesto, es Volumio: para emitir sonido a trav√©s de un DAC externo, solo necesita seleccionar el elemento apropiado de la lista desplegable en el men√∫ de configuraci√≥n.  Hay una comparaci√≥n incluso en el sitio web oficial de Suptronics (http://www.suptronics.com/xseries/x400.html) <br><br>  La GUI en RPi-Radio es una p√°gina web simple implementada en React.js.  La parte del servidor, que es responsable de la interacci√≥n entre la GUI del cliente y mpd, se ejecuta en Node.js y es un servidor HTTP y WebSocket simple basado en la <code>Socket.io</code> + <code>http</code> + <code>express</code> .  Se ejecuta en Raspbian como un servicio cuando el sistema se enciende inmediatamente despu√©s de que se inicia el servicio mpd y utiliza el m√≥dulo <code>mpc-js</code> para controlar mpd.  La GUI del cliente es accesible para cualquier navegador en mi red dom√©stica simplemente por ip o nombre de host "raspberry".  Perfecto <br></div></div><br>  Las fuentes de RPi-Radio se publican en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Github</a> .  En el mismo repositorio, en los brunches correspondientes, puede encontrar ambas adaptaciones de GUI para trabajar con OSMC y Volumio. <br><br>  El resultado de mis ejercicios, RPi-Radio, est√° m√°s all√° del alcance de una simple adici√≥n a una sola columna.  Este es un tipo de soluci√≥n preparada que convierte no solo el Raspberry Pi en un receptor de radio por Internet, sino tambi√©n cualquier dispositivo con salida de audio, acceso a Internet y la capacidad de ejecutar mpd y Node.js.  La principal ventaja de este sistema es la falta de todo lo que es superfluo.  En realidad, como se hizo en Sonos, en el ideal que me esfuerzo por lograr. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es410227/">https://habr.com/ru/post/es410227/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es410217/index.html">¬°S√© saludable! Con el internet de las cosas ...</a></li>
<li><a href="../es410219/index.html">Ocho latidos: acerca de los sonidos en los viejos juegos</a></li>
<li><a href="../es410221/index.html">Elegir un proyector de cine en casa</a></li>
<li><a href="../es410223/index.html">Minero de Nueva York obligado a desconectar equipos debido a interferencia con la red T-Mobile</a></li>
<li><a href="../es410225/index.html">Preg√∫ntele a Ethan: ¬øLa luz siempre se mueve a la misma velocidad?</a></li>
<li><a href="../es410229/index.html">La actividad f√≠sica d√©bil se ha asociado con tejido nervioso debilitado y riesgo de demencia.</a></li>
<li><a href="../es410231/index.html">La luz tenue lo hace m√°s tonto y el parpadeo cura el Alzheimer en la frecuencia correcta</a></li>
<li><a href="../es410233/index.html">Valery Litvin, CTO Cyber ‚Äã‚Äã‚Ä¢ Fund, ‚ÄúBlockchain. La brecha de plantilla es una introducci√≥n popular a la tecnolog√≠a blockchain y la criptoeconom√≠a "</a></li>
<li><a href="../es410235/index.html">El entusiasta enfrenta 15 meses de c√°rcel por extraer CD de restauraci√≥n de Dell gratis</a></li>
<li><a href="../es410237/index.html">Los padres no deben espiar a sus hijos.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>