<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘©ğŸ¼â€ğŸ¤â€ğŸ‘¨ğŸ½ ğŸ•˜ ğŸ‘©ğŸ»â€ğŸ³ Encapsuleur Etherblade.net et substitution d'importation pour les composants rÃ©seau (deuxiÃ¨me partie) ğŸ§œ ğŸ— ğŸ‘©ğŸ½â€ğŸ”§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans le premier article, je voulais montrer que le dÃ©veloppement FPGA est une tÃ¢che intÃ©ressante, et la mise en Å“uvre d'un encapsulateur de flux est u...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Encapsuleur Etherblade.net et substitution d'importation pour les composants rÃ©seau (deuxiÃ¨me partie)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/484108/"><img src="https://habrastorage.org/webt/sb/gp/m_/sbgpm_3myxkg6cknsoshl2_ll-m.jpeg" alt="image"><br><br>  Dans le <a href="https://habr.com/en/post/439540/">premier article,</a> je voulais montrer que le dÃ©veloppement FPGA est une tÃ¢che intÃ©ressante, et la mise en Å“uvre d'un encapsulateur de flux est un projet assez simple qui pourrait trÃ¨s bien servir de projet acadÃ©mique pour des Ã©tudiants seniors ou des Ã©tudiants diplÃ´mÃ©s. <br><br>  MÃªme si la conception matÃ©rielle ne vaut que pour le plaisir, dans cet article, je veux prÃªter attention Ã  la valeur pratique de cette leÃ§on.  En particulier, notre conversation portera sur la faÃ§on de crÃ©er une infrastructure rÃ©seau pour les opÃ©rateurs de tÃ©lÃ©communications en utilisant l'encapsuleur Etherblade.net implÃ©mentÃ© sur FPGA. <br><br>  Ce texte est un aperÃ§u des technologies de rÃ©seau et afin d'intÃ©grer un sujet aussi vaste dans le cadre d'un article, j'ai dÃ©cidÃ© de l'Ã©crire dans le contexte d'un plan d'action ou, si vous le souhaitez, la rÃ©ponse Ã  la question suivante - Â«Comment remplacer l'Ã©quipement utilisant FPGA et open source aussi efficacement que possible de Cisco et Juniper. " <br>  CommenÃ§ons donc. <br><a name="habracut"></a><br><h3>  Le concept de SDN (mise en rÃ©seau dÃ©finie par logiciel) contre les grands fournisseurs </h3><br>  Traditionnellement, depuis des dÃ©cennies, les Ã©quipements rÃ©seau sont fabriquÃ©s par des gÃ©ants tels que Cisco et Juniper.  Aujourd'hui, les grands opÃ©rateurs de rÃ©seau dÃ©veloppant leur propre Ã©quipement de rÃ©seau deviennent la nouvelle norme.  L'objectif qu'ils souhaitent atteindre est l'indÃ©pendance vis-Ã -vis des fournisseurs de composants et un meilleur contrÃ´le de l'infrastructure. <br><br>  En Russie, pour des raisons politiques, cette approche associÃ©e au remplacement de produits tiers par des systÃ¨mes avec un pourcentage plus Ã©levÃ© de composants intellectuels dÃ©veloppÃ©s localement (blocs de propriÃ©tÃ© intellectuelle ou noyaux IP) est gÃ©nÃ©ralement appelÃ©e substitution Ã  l'importation. <br><br>  Il faut comprendre que les grandes entreprises disposent d'une Ã©norme quantitÃ© de ressources d'ingÃ©nierie et s'appuient sur un modÃ¨le de dÃ©veloppement intÃ©grÃ© verticalement.  Et qu'en est-il des fabricants relativement petits? <br><br>  Le manque de ressources peut Ãªtre compensÃ© par l'open source.  Et le manque d'intÃ©gration verticale avec une rÃ©partition correcte des sous-tÃ¢ches entre les petits acteurs. <br><br>  L'architecture des pÃ©riphÃ©riques rÃ©seau traditionnellement produite par les grands fournisseurs est facilement segmentÃ©e.  Afin de parallÃ©liser le processus et de mettre en Ã©vidence des sous-tÃ¢ches individuelles, le concept de SDN (mise en rÃ©seau dÃ©finie par logiciel) suggÃ¨re de segmenter l'architecture des pÃ©riphÃ©riques rÃ©seau en niveaux, en particulier, en sÃ©parant le niveau de gestion du rÃ©seau (plan de contrÃ´le) du niveau des pÃ©riphÃ©riques de transfert de donnÃ©es (plan de donnÃ©es). <br><br>  Je note qu'aujourd'hui le SDN est devenu un puissant outil de marketing pour les grands fournisseurs qui le prÃ©sentent comme un ensemble de Â«nouvelles fonctionnalitÃ©sÂ» utiles Ã  l'utilisateur final.  Ce qui est drÃ´le, c'est que, historiquement, comme je l'ai dÃ©jÃ  notÃ©, le concept de SDN a Ã©tÃ© crÃ©Ã© juste en contraste avec les gÃ©ants de l'industrie. <br><br>  SDN propose donc un modÃ¨le d'architecture d'un routeur rÃ©seau sous une forme dÃ©montÃ©e.  Notre tÃ¢che est d'identifier la composante qui nous intÃ©resse dans ce modÃ¨le et de commencer Ã  le dÃ©velopper. <br><br><h3>  Â«CommenÃ§ons petitÂ» - encapsulation sur les routeurs et superposition SDN </h3><br>  Il est naturel de rÃ©pondre Ã  tous les besoins du monde en une seule fois.  Ainsi, lors de la construction de grands systÃ¨mes, il est logique de commencer petit et de rendre le systÃ¨me extensible, afin que des fonctionnalitÃ©s supplÃ©mentaires puissent Ãªtre introduites en intÃ©grant des blocs supplÃ©mentaires ou en modifiant ceux qui existent.  Par les mots Â«commencer petitÂ», je veux dire la sÃ©lection d'une fonction de rÃ©seau complÃ¨te suffisante pour construire un systÃ¨me qui fonctionne. <br><br>  Dans le projet Etherblade.net, en tant que telles fonctions, il a Ã©tÃ© dÃ©cidÃ© de mettre en place un mÃ©canisme d'encapsulation du trafic rÃ©seau. <br><br>  L'encapsulation dans les rÃ©seaux est une chose ordinaire.  DÃ©composons le routeur et examinons comment ses composants correspondent aux composants du modÃ¨le SDN et dÃ©terminons la place que l'encapsulation prend dans les deux modÃ¨les. <br><br>  Par exemple, prenez l'un des routeurs indiquÃ©s dans la figure au tout dÃ©but de l'article et dÃ©crivez-le dans la figure ci-dessous - mais dÃ©jÃ  sous une forme Â«prÃ©parÃ©eÂ». <br>  Dans la mÃªme figure, nous contrastons le routeur avec un Â«modÃ¨le SDN de superpositionÂ» alternatif qui offre des fonctionnalitÃ©s similaires. <br><br><img src="https://habrastorage.org/webt/st/1-/qn/st1-qn0wsbuo99dme1p6ind1zts.jpeg" alt="image"><br><br>  <i>Le niveau supÃ©rieur (vert) est le plan de contrÃ´le / orchestration SDN.</i>  Il s'agit du cerveau du systÃ¨me, en fait du microprocesseur sur lequel le logiciel rÃ©seau de contrÃ´le est exÃ©cutÃ©.  Dans les routeurs traditionnels, ce composant est intÃ©grÃ©.  Dans SDN, cette fonctionnalitÃ© est gÃ©nÃ©ralement transfÃ©rÃ©e vers un Â«contrÃ´leur d'orchestrationÂ» externe - un ordinateur qui dessert de nombreux pÃ©riphÃ©riques rÃ©seau. <br><br>  <i>Niveau moyen (bleu) - chemin de transfert.</i>  Le rÃ´le principal de ce niveau est la fourniture de transport rÃ©seau (commutation / routage du trafic).  Dans les routeurs traditionnels - cette fonctionnalitÃ© est implÃ©mentÃ©e comme une unitÃ© de commutation interne.  Dans notre modÃ¨le Â«SDN-overlayÂ», le rÃ´le de ce composant de Â«commutationÂ» peut Ãªtre complÃ¨tement rÃ©duit en connectant directement les pÃ©riphÃ©riques pÃ©riphÃ©riques (whitebox) au rÃ©seau de transport. <br><br>  <i>InfÃ©rieur (orange) - bord / niveau d'accÃ¨s.</i>  Sur ces composants, toutes les manipulations du trafic rÃ©seau telles que l'encapsulation et les autres conversions de protocole se produisent.  Ce niveau est caractÃ©risÃ© par une vitesse de traitement Ã©levÃ©e et une fonctionnalitÃ© dÃ©terministe - un endroit idÃ©al pour ASIC / FPGA.  Dans les routeurs traditionnels, cette fonctionnalitÃ© est implÃ©mentÃ©e sur des modules linÃ©aires (linecards), dans SDN ce sont les soi-disant Â«dispositifs de boÃ®te blancheÂ». <br><br>  Ainsi, en rÃ©sumant ce qui prÃ©cÃ¨de, nous pouvons dire que Etherblade.net est essentiellement un projet de dÃ©veloppement de dispositifs Â«whiteboxÂ» pour Â«SDN-overlayÂ». <br><br><h3>  Â«Forward to data centers !!!Â» - encapsulateur en fonction de NFV (virtualisation de la fonction rÃ©seau) </h3><br>  AprÃ¨s avoir compris Ã  quoi ressemble le systÃ¨me que nous dÃ©veloppons, il est logique de parler des options pour son incarnation physique. <br><br><img src="https://habrastorage.org/webt/dy/2f/bo/dy2fbobgp1h95wrlb5ix7oufqsc.jpeg" alt="image"><br><br>  <i>Sur la gauche se trouve un encapsulateur Etherblade en tant que pÃ©riphÃ©rique CPE sÃ©parÃ© (version campus).</i>  <i>Ã€ droite, l'encapsuleur Etherblade implÃ©mentÃ© Ã  l'intÃ©rieur du serveur (option pour les centres de donnÃ©es).</i> <br><br>  Il est intÃ©ressant qu'en implÃ©mentant un encapsulateur sur une carte avec une interface PCIe et en Â«cachantÂ» cette carte Ã  l'intÃ©rieur du serveur, nous pouvons rÃ©ellement crÃ©er l'illusion de virtualiser cette fonction rÃ©seau.  Cette approche est appelÃ©e NFV - virtualisation des fonctions rÃ©seau. <br><br>  Le concept de NFV implique de se dÃ©barrasser des pÃ©riphÃ©riques rÃ©seau externes tels que les pare-feu, les Ã©quilibreurs de charge, etc. en raison de la virtualisation de leurs fonctions Ã  l'intÃ©rieur des serveurs.  L'implÃ©mentation de l'encapsuleur en tant que fonction NFV nous permet de nous dÃ©barrasser des routeurs physiques Â«pÃ©riphÃ©riquesÂ». <br><br>  Ainsi, NFV est Ã  la mode et pratique.  La difficultÃ© est qu'en termes de conception matÃ©rielle, limiter PCIe n'est pas aussi simple que Ethernet.  Si Ethernet est un protocole sÃ©rie, PCIe est un protocole transactionnel complexe avec de nombreux Ã©tats finaux (essentiellement une pile rÃ©seau implÃ©mentÃ©e dans le matÃ©riel).  N'oubliez pas que le systÃ¨me d'exploitation nÃ©cessite les pilotes appropriÃ©s pour fonctionner avec le pÃ©riphÃ©rique PCIe. <br><br>  L'une des solutions les plus Ã©lÃ©gantes au problÃ¨me est l'utilisation de cartes FPGA, similaires Ã  celle prÃ©sentÃ©e au tout dÃ©but de l'article.  La figure suivante montre l'architecture de la carte et les deux options pour implÃ©menter l'encapsuleur dessus. <br><br><img src="https://habrastorage.org/webt/0e/t0/qh/0et0qhecnnikyxlobefzsm4fqju.jpeg" alt="image"><br><br>  Comme vous pouvez le voir, cette carte FPGA dispose de cartes rÃ©seau Â«externesÂ», qui sont essentiellement des convertisseurs entre Ethernet et PCIe.  Ainsi, la mise en Å“uvre de l'encapsuleur sur de tels appareils permet d'obtenir NFV Â«dÃ¨s la sortie de l'emballageÂ» - sans problÃ¨mes inutiles avec PCIe et les pilotes d'Ã©criture. <br><br><h3>  Du Â«privÃ© au gÃ©nÃ©ralÂ» - crÃ©ation d'un rÃ©fÃ©rentiel ouvert de cÅ“urs IP de rÃ©seau </h3><br>  On ne peut pas Ãªtre en dÃ©saccord avec le fait qu'aujourd'hui il existe de nombreux ASIC rÃ©seau spÃ©cialisÃ©s (par exemple, de Broadcom) qui peuvent traduire un tel projet dans une autre histoire de la sÃ©rie "Enjoying Working with FPGA".  Le scepticisme est appropriÃ© dans ce cas, cependant, je tiens Ã  vous rappeler que le projet Etherblade.net ne se limite pas Ã  la crÃ©ation d'un pÃ©riphÃ©rique rÃ©seau distinct.  Le principal objectif d'Etherblade.net est de crÃ©er un rÃ©fÃ©rentiel ouvert de cÅ“urs IP paramÃ©trÃ©s et documentÃ©s. <br><br>  Ce rÃ©fÃ©rentiel peut devenir une base efficace pour crÃ©er toute une gamme de pÃ©riphÃ©riques rÃ©seau (y compris les plus exotiques), qui Ã  leur tour peuvent Ãªtre mis en Å“uvre Ã  la fois sur FPGA et sous la forme d'ASIC. <br><br>  Sur cela - je termine.  Dans le prochain article, nous passerons directement Ã  la conception matÃ©rielle, mais pour l'instant je vous invite Ã  vous familiariser avec le projet plus prÃ¨s de <a href="https://etherblade.net/">etherblade.net</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr484108/">https://habr.com/ru/post/fr484108/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr484094/index.html">CrÃ©ez un jeu de tir zombie Ã  la troisiÃ¨me personne avec DOTS</a></li>
<li><a href="../fr484096/index.html">La bataille des deux Yakozun, ou Cassandra vs HBase. ExpÃ©rience de l'Ã©quipe Sberbank</a></li>
<li><a href="../fr484100/index.html">Utilisation de l'interface dans le SDK Google Maps pour Android</a></li>
<li><a href="../fr484102/index.html">PHP vs Python vs Ruby on Rails: comparaison dÃ©taillÃ©e</a></li>
<li><a href="../fr484106/index.html">MVCC dans PostgreSQL-6. Le vide</a></li>
<li><a href="../fr484112/index.html">Est-il possible de pirater un avion</a></li>
<li><a href="../fr484114/index.html">Une sÃ©lection de 143 traductions de l'essai de Paul Graham (sur 184)</a></li>
<li><a href="../fr484118/index.html">32 janvier</a></li>
<li><a href="../fr484120/index.html">Les compÃ©tences les plus recherchÃ©es du mÃ©tier d'ingÃ©nieur informatique</a></li>
<li><a href="../fr484124/index.html">Nikolai Prokhorov: Â«En Finlande, il y avait un Ã©norme dÃ©partement de Vneshtorg, qui fournissait nos voitures Ã  l'Ã©trangerÂ»</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>