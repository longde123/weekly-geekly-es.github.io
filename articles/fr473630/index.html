<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🦒 🚵🏼 🙏🏻 Meilleures pratiques et outils pour développer des applications iOS 🤵🏾 🤚🏿 👩🏽‍⚕️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Lors du développement d'applications mobiles, j'ai dû créer des projets à partir de zéro plus d'une fois. Dans le même temps, mon équipe et moi avons ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Meilleures pratiques et outils pour développer des applications iOS</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/473630/"> Lors du développement d'applications mobiles, j'ai dû créer des projets à partir de zéro plus d'une fois.  Dans le même temps, mon équipe et moi avons toujours passé beaucoup de temps sur la configuration de base du projet, comme l'intégration d'outils tiers, la configuration de la structure du projet, l'écriture de classes de base, l'intégration de bibliothèques externes, etc. <br><br>  J'ai décidé que le temps de lancement du projet pouvait être réduit et que la majeure partie du processus pouvait être automatisée.  Dans le même temps, j'ai rassemblé les meilleures pratiques et outils que nous avons utilisés, et préparé <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">un modèle de projet</a> que nous utilisons lors du démarrage de nouveaux projets.  Un tel modèle devrait permettre au développeur de gagner du temps pour configurer un nouveau projet, ainsi que de fournir une structure de projet commune à laquelle chaque membre de l'équipe s'habituera, afin que vous n'ayez plus à penser et à étudier la structure d'un nouveau projet pour lui.  Maintenant c'est toujours pareil. <br><br>  Chaque outil ou approche ajouté au modèle mérite un article distinct, mais je voudrais essayer de résumer chaque paragraphe et expliquer brièvement pourquoi je les ai inclus dans cet article. <br><a name="habracut"></a><br><h3>  Cocoapods </h3><br>  Je ne pense pas que Cocoapods nécessite une soumission.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Il s'agit d'une</a> bibliothèque de gestion des dépendances externes pour les projets iOS.  Il existe depuis longtemps et est fiable et éprouvé sur le terrain dans des milliers (voire des millions) de projets.  Il existe également des gestionnaires de dépendance alternatifs, par exemple: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Carthage</a> , mais j'ai décidé de continuer avec Cocoapods, car il a la plus large gamme de projets open source pris en charge.  L'utilisation de Cocoapods est très simple et est livrée avec un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">index de recherche</a> qui facilite la recherche de packages pouvant être utiles à tout moment. <br><br>  Un projet de modèle est fourni avec un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Podfile</a> simple qui contient Swiftlint et R.swift.  Le modèle comprend également un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">gemfile</a> pour gérer la version des Cocoapods utilisée pour la gestion des dépendances.  Cette solution est souvent ignorée par les développeurs, mais elle évite les problèmes qui surviennent lorsque les développeurs de votre équipe installent des dépendances à l'aide de différentes versions de Cocoapods.  Gemfile utilise de force la même version de Cocoapods pour toute l'équipe. <br><br><h3>  Swiftlint </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Swiftlint</a> est un outil très utile pour appliquer certaines règles et style d'écriture pour chaque développeur de la même équipe.  Ce système pourrait être considéré comme un système de vérification de code automatisé qui avertit le développeur des moments dangereux, tels que, par exemple, les lancements de force, les essais de force, etc., mais en plus de ce qui précède, ce système applique un style général d'écriture de code, de surveillance de sorte que tous les développeurs suivent les mêmes règles associées au "style de code", par exemple: les retraits ou les intervalles.  Cette approche présente d'énormes avantages, non seulement pour gagner du temps sur la vérification du code, mais aussi pour rendre les fichiers de projet reconnaissables, ce qui augmente leur lisibilité et, par conséquent, leur compréhension par tous les membres de l'équipe de développement.  Ce <a href="">lien</a> fournit une liste de toutes les règles.  Dans le modèle Swiftlint, il est installé à l'aide de Cocoapods et est inclus dans l'étape "Phases de compilation", il affichera donc un avertissement au développeur chaque fois que le projet est compilé. <br><br><h3>  R.swift </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">R.swift</a> est un outil permettant d'obtenir des ressources fortement typées et remplies automatiquement, telles que des images, des segments de police et des localisations.  Il effectue toutes les actions ci-dessus en analysant le projet et en créant les classes nécessaires pour obtenir des ressources.  Le plus grand avantage de cette bibliothèque est que lorsqu'elle utilise des ressources, elle crée du code de programme: <br><br><ul><li>  <b>Entièrement typé</b> - moins de transtypages et d'hypothèses sur la méthode qui sera retournée </li><li>  <b>Temps de compilation vérifié</b> - plus de lignes non valides qui empêchent l'application de s'exécuter pendant l'exécution du code </li><li>  <b>Autocompleted</b> - pas besoin de deviner à nouveau l' <i>image</i> nom <i>/ nib / storyboard</i> </li></ul><br>  Considérez le code suivant à l'aide de l'API de chaîne officielle: <br><br><pre><code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> icon = <span class="hljs-type"><span class="hljs-type">UIImage</span></span>(named: “custom-icon”)</code> </pre> <br>  Si vous avez fait une erreur dans le nom de l'image, vous obtiendrez zéro.  Si un membre de votre équipe change le nom de la ressource d'image, ce code renverra zéro ou son exécution sera arrêtée si vous forcez l'image à se développer.  Lorsque vous utilisez R.swift, cela ressemble à ceci: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> icon = <span class="hljs-type"><span class="hljs-type">R</span></span>.image.customIcon()</code> </pre><br>  Vous pouvez maintenant être sûr que l'icône existe vraiment (le compilateur vous avertira si ce n'est pas le cas, grâce aux vérifications de temps de compilation), et vous serez sûr de ne pas faire de faute de frappe au nom de l'icône, car vous utiliserez la saisie semi-automatique. <br><br>  R.swift est installé à l'aide de Cocoapods et s'intègre au modèle dans la phase de compilation et générera des classes de shell Swift pour chaque compilation.  Cela signifie que si vous ajoutez un fichier / image / localisation / police / couleur / stylo, etc., tout cela sera disponible via R.swift après la compilation du projet. <br><br><h3>  Fichier AppDelegate séparé pour les tests </h3><br>  Très souvent, ils oublient la bonne pratique d'utiliser une classe TestAppDelegate distincte lors de l'exécution des tests.  Pourquoi est-ce une bonne idée?  En règle générale, la classe AppDelegate fait beaucoup de travail au démarrage de l'application.  Il peut avoir une logique de configuration de fenêtre, configurer l'affichage de base de l'interface utilisateur de l'application, exécuter une logique d'enregistrement pour recevoir des notifications, avoir un code de configuration de connexion à la base de données et même parfois passer des appels à l'API du serveur.  Les tests unitaires ne devraient pas avoir d'effets secondaires.  Vous ne voulez vraiment pas faire d'appels API aléatoires et personnaliser l'intégralité de la structure de l'interface utilisateur de votre application juste pour exécuter des tests unitaires? <br><br>  TestAppDelegate est également un choix approprié pour obtenir le code que vous souhaitez exécuter une seule fois pendant l'exécution de la suite de tests.  Il peut contenir du code qui génère des objets fictifs, des talons de demande de réseau, etc. <br><br>  Le modèle contient le fichier main.swift, qui est le principal point d'entrée de l'application.  Il existe des méthodes dans ce fichier qui testent l'environnement de l'application, et s'il s'agit d'un environnement de test, elles appellent TestAppDelegate. <br><br><h3>  Indicateurs de profilage des performances du compilateur </h3><br>  Swift est un langage génial, plus facile à utiliser et plus sécurisé que Objective-C (IMO).  Mais quand il a été introduit pour la première fois, il avait un gros défaut - le temps de compilation.  À l'époque où je travaillais sur un projet dans Swift, qui avait environ 40 000 lignes de code Swift (un projet de taille moyenne).  Le code était très lourd, avec des paramètres et une inférence de type, et la compilation d'un assemblage propre a pris près de 5 minutes.  Si vous apportez des modifications, même minimes, le projet est recompilé et il faut environ 2 minutes pour voir les modifications.  Ce fut l'une des pires expériences que j'ai jamais vécues, et à cause de cela, j'ai presque arrêté d'utiliser Swift. <br><br>  Ensuite, la seule solution était d'essayer de profiler le temps de compilation du projet et de changer votre code pour que le compilateur fonctionne plus rapidement.  Pour aider à résoudre de tels problèmes, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Apple introduit des indicateurs de compilation non officiels</a> qui avertissent le développeur qu'il faut trop de temps pour compiler le corps de la méthode ou déterminer le type d'expression.  J'ai ajouté ces drapeaux au projet de modèle pour vous avertir du long temps de compilation de votre application. <br><br>  De nos jours, le temps de compilation a considérablement diminué, et les développeurs doivent très rarement optimiser leur code juste pour réduire le temps de compilation.  Mais il vaut toujours mieux tout savoir à l'avance que d'essayer de résoudre ce problème lorsque le projet devient trop important. <br><br><h3>  Configurations Dev / Staging / Production </h3><br>  Une autre bonne approche (ou, pourrait-on dire, une nécessité) consiste à avoir une configuration et des variables d'environnement distinctes pour les environnements de développement, les tests finaux et la publication d'applications.  Actuellement, presque toutes les applications devraient fonctionner avec un serveur, et généralement ces serveurs sont déployés dans plusieurs environnements.  L'environnement de développement est utilisé pour un déploiement quotidien par les développeurs pour tester leur code.  L'environnement de test final est utilisé pour créer des versions stables ou pour les tests par les testeurs et les clients. <br><br>  Une façon de prendre en charge plusieurs environnements dans un projet iOS consiste à ajouter des configurations au niveau du projet. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c43/dfd/1e9/c43dfd1e9219cb12b1a7a64c8753a1d0.png" alt="image"><br>  <i>Configurations au niveau du projet</i> <br><br>  Après avoir défini les configurations, vous pouvez créer un fichier Configuration.plist contenant des variables pour chaque environnement. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/07e/c6a/01a/07ec6a01adefb9cd9ead37330a0f971b.png" alt="image"><br>  <i>Configuration.plist</i> <br><br>  Lors du démarrage d'un projet, il est possible d'indiquer quelle configuration doit être utilisée.  Vous pouvez le faire dans un diagramme d'assemblage. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0a7/4e1/76d/0a74e176d5bf9a23e631c1b79d1a0f28.png" alt="image"><br><br>  Vous devez ensuite ajouter une autre propriété au fichier de projet Info.plist.  La valeur de cette propriété sera dynamiquement substituée lors de l'exécution au nom de la configuration actuelle. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1ff/c1b/672/1ffc1b67277e5872652b294be87ce310.png" alt="image"><br>  <i>Tout cela est préconfiguré dans le modèle.</i> <br><br>  Il ne reste plus qu'à écrire une classe capable d'extraire ces variables au moment de l'exécution, selon la configuration sélectionnée dans le schéma d'assemblage.  Le modèle contient la classe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ConfigurationManager</a> , qui peut récupérer des variables pour l'environnement actuel.  Vous pouvez également vérifier l'implémentation de cette classe sur Github pour voir comment cela fonctionne. <br><br><h3>  Lisezmoi </h3><br>  Chaque projet doit contenir un fichier Lisez-moi, qui contient au moins des instructions pour l'installation des dépendances et le démarrage du projet.  Il doit également contenir des descriptions de l'architecture et des modules du projet.  Malheureusement, les développeurs n'aiment pas écrire de documentation (le fichier Lisezmoi fait partie de ce travail), et j'ai vu un projet qui a été développé pendant des mois, et il avait même un fichier Lisezmoi.  Pour supprimer la charge de l'écriture d'un fichier readme, le modèle contient un <a href="">fichier readme standard</a> qui couvre l'installation et la structure du projet.  Lors de la configuration d'un nouveau projet à l'aide de modèles, vous incluez automatiquement le fichier Lisez-moi. <br><br><h3>  Gitignore </h3><br>  Actuellement, la plupart des projets utilisent GIT comme système de contrôle de version.  Lors de l'utilisation de GIT, les développeurs ne veulent pas ignorer certains fichiers ou dossiers du projet, tels que le dossier de génération ou le dossier de données dérivé.  Pour éviter au développeur d'avoir à trouver un fichier gitignore adapté à son projet iOS, le modèle contient le gitignore standard fourni par les membres de Github. <br><br><h3>  Classes de base pour gérer les liens externes et les notifications </h3><br>  De nos jours, presque toutes les applications doivent gérer les liens externes et les notifications.  Pour ce faire, le développeur doit écrire du code standard dans la classe AppDelegate.  Ce modèle contient une description de la façon de procéder, il <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">contient</a> également <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">des classes de base</a> qui facilitent l'utilisation des liens externes et des notifications. <br><br><h3>  Conclusion </h3><br>  Pour résumer, le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">modèle</a> décrit contient les meilleures approches et intègre des outils tiers utiles.  Tout cela devrait permettre à votre équipe de gagner du temps consacré à la mise en place d'un nouveau projet et de fournir une base commune et solide pour le reste du projet.  <i>Laissez ce modèle vous servir, vous et votre équipe, pour le bénéfice!</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr473630/">https://habr.com/ru/post/fr473630/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr473610/index.html">Analyse de la nouvelle console Web Plesk Obsidian</a></li>
<li><a href="../fr473612/index.html">Traité sur la broche. Réflexions sur la configuration et l'utilisation des broches en C ++ pour les microcontrôleurs (en utilisant CortexM comme exemple)</a></li>
<li><a href="../fr473614/index.html">Le livre «Head First. Kotlin »</a></li>
<li><a href="../fr473626/index.html">«Le développeur veut acheter un avion dans trois ans. Ma tâche est de l'aider »- Denis Pushkin sur la motivation Skyeng</a></li>
<li><a href="../fr473628/index.html">C ++ au service de l'orthodontie: entretien avec Mikhail Matrosov, développeur CAO chez Align Technology</a></li>
<li><a href="../fr473632/index.html">Nous avons vu un article sur Habr</a></li>
<li><a href="../fr473634/index.html">Les lobbies de Comcast interdisent le cryptage DNS</a></li>
<li><a href="../fr473636/index.html">Télécharger 16 Go de torrent via tablette avec 4 Go d'espace libre</a></li>
<li><a href="../fr473638/index.html">Shader n'est pas magique. Écriture de shaders dans Unity. Présentation</a></li>
<li><a href="../fr473640/index.html">Coucher de soleil Big Data</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>