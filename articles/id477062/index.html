<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>❄️ 🤜🏾 🎰 Cara kerja kompiler yang mengoptimalkan 🏐 ☝🏾 👡</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mengoptimalkan kompiler adalah dasar dari perangkat lunak modern: mereka memungkinkan pemrogram untuk menulis kode dalam bahasa yang mereka pahami, ke...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cara kerja kompiler yang mengoptimalkan</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/477062/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/uc/uq/bo/ucuqbo4tluzynnptop1pdmdvjhc.jpeg"></div><br>  Mengoptimalkan kompiler adalah dasar dari perangkat lunak modern: mereka memungkinkan pemrogram untuk menulis kode dalam bahasa yang mereka pahami, kemudian mengubahnya menjadi kode yang dapat dieksekusi secara efisien oleh peralatan.  Tugas mengoptimalkan kompiler adalah untuk memahami apa program input yang Anda lakukan dan membuat program output yang melakukan hal yang sama, hanya lebih cepat. <br><br>  Pada artikel ini, kita akan melihat beberapa teknik inferensi dasar dalam mengoptimalkan kompiler: bagaimana merancang program yang dengannya kompiler dapat bekerja dengan mudah;  pengurangan apa yang dapat dilakukan dalam program Anda dan bagaimana menggunakannya untuk mengurangi dan mempercepatnya. <br><a name="habracut"></a><br>  Pengoptimal program dapat dijalankan di mana saja: sebagai langkah dalam proses kompilasi yang besar ( <a href="https://www.lightbend.com/blog/scala-inliner-optimizer">Scala Optimizer</a> );  sebagai program terpisah, diluncurkan setelah kompiler dan sebelum eksekusi ( <a href="https://www.guardsquare.com/en/products/proguard">Proguard</a> );  atau sebagai bagian dari lingkungan runtime yang mengoptimalkan program selama pelaksanaannya ( <a href="https://aboullaite.me/understanding-jit-compiler-just-in-time-compiler/">JVM JIT compiler</a> ).  Keterbatasan dalam SEO bervariasi tergantung pada situasi, tapi masalahnya adalah sama: untuk mengambil program sumber dan mengubah output, yang melakukan hal yang sama, tapi lebih cepat. <br><br>  Pertama, kita akan melihat beberapa contoh optimisasi rancangan program, sehingga Anda memahami apa yang biasanya dilakukan pengoptimal dan bagaimana melakukannya secara manual.  Kemudian kami akan mempertimbangkan beberapa cara untuk mempresentasikan program, dan akhirnya kami akan menganalisis algoritma dan teknik yang dengannya Anda dapat menganalisis program dan kemudian membuatnya lebih kecil dan lebih cepat. <br><br><h2>  Program konsep </h2><br>  Semua contoh akan diberikan di Jawa.  Bahasa ini sangat umum dan dikompilasi menjadi assembler yang relatif sederhana - <a href="https://en.wikipedia.org/wiki/Java_bytecode">Java Bytecode</a> .  Jadi kami akan membuat fondasi yang baik, berkat itu kami dapat menjelajahi teknik optimisasi kompilasi menggunakan contoh nyata yang dapat dieksekusi.  Semua teknik yang dijelaskan di bawah ini berlaku di hampir semua bahasa pemrograman lainnya. <br><br>  Pertama, pertimbangkan konsep program.  Ini berisi berbagai logika, mendaftarkan hasil standar di dalam proses dan mengembalikan hasil yang dihitung.  Program itu sendiri tidak masuk akal, tetapi akan digunakan sebagai ilustrasi tentang apa yang dapat dioptimalkan sambil mempertahankan perilaku yang ada: <br><br><pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> count = <span class="hljs-number"><span class="hljs-number">0</span></span>, total = <span class="hljs-number"><span class="hljs-number">0</span></span>, multiplied = <span class="hljs-number"><span class="hljs-number">0</span></span>; Logger logger = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PrintLogger(); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(count &lt; n){ count += <span class="hljs-number"><span class="hljs-number">1</span></span>; multiplied *= count; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (multiplied &lt; <span class="hljs-number"><span class="hljs-number">100</span></span>) logger.log(count); total += ackermann(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>); total += ackermann(multiplied, n); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> d1 = ackermann(n, <span class="hljs-number"><span class="hljs-number">1</span></span>); total += d1 * multiplied; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> d2 = ackermann(n, count); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (count % <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>) total += d2; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> total; } <span class="hljs-comment"><span class="hljs-comment">// https://en.wikipedia.org/wiki/Ackermann_function static int ackermann(int m, int n){ if (m == 0) return n + 1; else if (n == 0) return ackermann(m - 1, 1); else return ackermann(m - 1, ackermann(m, n - 1)); } interface Logger{ public Logger log(Object a); } static class PrintLogger implements Logger{ public PrintLogger log(Object a){ System.out.println(a); return this; } } static class ErrLogger implements Logger{ public ErrLogger log(Object a){ System.err.println(a); return this; } }</span></span></code> </pre> <br>  Untuk saat ini, kami menganggap bahwa program ini adalah semua yang kami miliki, tidak ada bagian lain dari kode yang menyebutnya.  Itu hanya memasukkan data ke <code>main</code> , mengeksekusi, dan mengembalikan hasilnya.  Sekarang mari kita optimalkan program ini. <br><br><h2>  Contoh Pengoptimalan </h2><br><h4>  Pemain dan inlining </h4><br>  Anda mungkin telah memperhatikan bahwa variabel <code>logger</code> memiliki tipe yang tidak akurat: terlepas dari label <code>Logger</code> , berdasarkan kode, kita dapat menyimpulkan bahwa ini adalah subkelas khusus - <code>PrintLogger</code> : <br><br><pre> <code class="java hljs">- Logger logger = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PrintLogger(); + PrintLogger logger = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PrintLogger();</code> </pre> <br>  Sekarang kita tahu bahwa <code>logger</code> adalah <code>PrintLogger</code> , dan kita tahu bahwa memanggil <code>logger.log</code> dapat memiliki implementasi tunggal.  Anda dapat sebaris: <br><br><pre> <code class="java hljs">- <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (multiplied &lt; <span class="hljs-number"><span class="hljs-number">100</span></span>) logger.logcount(); + <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (multiplied &lt; <span class="hljs-number"><span class="hljs-number">100</span></span>) System.out.println(count);</code> </pre> <br>  Ini akan mengurangi program dengan menghapus kelas <code>ErrLogger</code> tidak perlu yang tidak digunakan, serta dengan menghapus berbagai metode <code>log</code> <code>public Logger</code> , karena kami sebariskan ke satu tempat panggilan. <br><br><h2>  konstanta koagulasi </h2><br>  Selama eksekusi program, <code>count</code> dan <code>total</code> perubahan, tetapi <code>multiplied</code> tidak: itu dimulai pada <code>0</code> dan dikalikan setiap kali melalui <code>multiplied = multiplied * count</code> , tetap sama dengan <code>0</code> .  Jadi, Anda bisa menggantinya di seluruh program dengan <code>0</code> : <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n)</span></span></span></span>{ - <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> count = <span class="hljs-number"><span class="hljs-number">0</span></span>, total = <span class="hljs-number"><span class="hljs-number">0</span></span>, multiplied = <span class="hljs-number"><span class="hljs-number">0</span></span>; + <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> count = <span class="hljs-number"><span class="hljs-number">0</span></span>, total = <span class="hljs-number"><span class="hljs-number">0</span></span>; PrintLogger logger = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PrintLogger(); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(count &lt; n){ count += <span class="hljs-number"><span class="hljs-number">1</span></span>; - multiplied *= count; - <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (multiplied &lt; <span class="hljs-number"><span class="hljs-number">100</span></span>) System.out.println(count); + <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-number"><span class="hljs-number">0</span></span> &lt; <span class="hljs-number"><span class="hljs-number">100</span></span>) logger.log(count); total += ackermann(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>); - total += ackermann(multiplied, n); + total += ackermann(<span class="hljs-number"><span class="hljs-number">0</span></span>, n); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> d1 = ackermann(n, <span class="hljs-number"><span class="hljs-number">1</span></span>); - total += d1 * multiplied; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> d2 = ackermann(n, count); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (count % <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>) total += d2; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> total; }</code> </pre> <br>  Akibatnya, kita melihat bahwa <code>d1 * multiplied</code> selalu <code>0</code> , yang berarti <code>total += d1 * multiplied</code> tidak melakukan apa-apa dan dapat dihapus: <br><br><pre> <code class="java hljs">- total += d1 * multiplied</code> </pre><br><h4>  Penghapusan Kode Mati </h4><br>  Setelah <code>multiplied</code> dan menyadari bahwa <code>total += d1 * multiplied</code> tidak melakukan apa-apa, Anda dapat menghapus definisi <code>int d1</code> : <br><br><pre> <code class="java hljs">- <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> d1 = ackermann(n, <span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre> <br>  Ini bukan lagi bagian dari program, dan karena <code>ackermann</code> adalah fungsi murni, menghapus instalan tidak akan mempengaruhi hasil program. <br><br>  Demikian pula, setelah inlining <code>logger.log</code> sendiri <code>logger</code> tidak lagi digunakan dan dapat dihapus: <br><br><pre> <code class="java hljs">- PrintLogger logger = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PrintLogger();</code> </pre><br><h4>  Pemindahan Cabang </h4><br>  Sekarang transisi kondisional pertama dalam siklus kita tergantung pada <code>0 &lt; 100</code> .  Karena ini selalu benar, Anda dapat menghapus kondisinya: <br><br><pre> <code class="java hljs">- <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-number"><span class="hljs-number">0</span></span> &lt; <span class="hljs-number"><span class="hljs-number">100</span></span>) System.out.println(count); + System.out.println(count);</code> </pre> <br>  Transisi bersyarat apa pun yang selalu benar dapat sejalan dengan tubuh kondisi, dan untuk transisi yang selalu salah, Anda dapat menghapus kondisi bersama tubuhnya. <br><br><h4>  Perhitungan sebagian </h4><br>  Sekarang kami menganalisis tiga panggilan yang tersisa ke <code>ackermann</code> : <br><br><pre> <code class="java hljs"> total += ackermann(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>); total += ackermann(<span class="hljs-number"><span class="hljs-number">0</span></span>, n); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> d2 = ackermann(n, count);</code> </pre><br><ul><li>  Yang pertama memiliki dua argumen konstan.  Fungsi murni, dan sementara menghitung <code>ackermann(2, 2)</code> harus sama dengan <code>7.</code> </li><li>  Panggilan kedua memiliki satu argumen konstan <code>0</code> dan satu tidak diketahui <code>n</code> .  Anda dapat meneruskannya ke definisi <code>ackermann</code> , dan ternyata ketika <code>m</code> adalah <code>0</code> , fungsi selalu mengembalikan <code>n + 1.</code> <br></li><li>  Dalam panggilan ketiga, kedua argumen tidak diketahui: <code>n</code> dan <code>count</code> .  Mari kita biarkan mereka di tempat untuk saat ini. <br></li></ul><br>  Mengingat bahwa banding ke <code>ackermann</code> didefinisikan sebagai berikut: <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ackermann</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> m, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (m == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (n == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ackermann(m - <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ackermann(m - <span class="hljs-number"><span class="hljs-number">1</span></span>, ackermann(m, n - <span class="hljs-number"><span class="hljs-number">1</span></span>)); }</code> </pre> <br>  Anda dapat menyederhanakannya untuk: <br><br><pre> <code class="java hljs">- total += ackermann(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>); + total += <span class="hljs-number"><span class="hljs-number">7</span></span> - total += ackermann(<span class="hljs-number"><span class="hljs-number">0</span></span>, n); + total += n + <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> d2 = ackermann(n, count);</code> </pre><br><h4>  akhir pengiriman </h4><br>  Definisi <code>d2</code> hanya digunakan dalam <code>if (count % 2 == 0)</code> kondisional <code>if (count % 2 == 0)</code> .  Karena perhitungan <code>ackermann</code> bersih, Anda dapat mentransfer panggilan ini ke <code>ackermann</code> kondisional sehingga tidak diproses sampai digunakan: <br><br><pre> <code class="java hljs">- <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> d2 = ackermann(n, count); - <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (count % <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>) total += d2; + <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (count % <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>) { + <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> d2 = ackermann(n, count); + total += d2; + }</code> </pre> <br>  Ini akan menghindari setengah panggilan ke <code>ackermann(n, count)</code> , mempercepat eksekusi program. <br><br>  Sebagai perbandingan, fungsi <code>System.out.println</code> tidak bersih, yang berarti tidak dapat ditransfer di dalam atau di luar lompatan bersyarat tanpa mengubah semantik program. <br><br><h2>  Hasil yang Dioptimalkan </h2><br>  Setelah mengumpulkan semua optimasi, kami mendapatkan kode sumber berikut: <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> count = <span class="hljs-number"><span class="hljs-number">0</span></span>, total = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(count &lt; n){ count += <span class="hljs-number"><span class="hljs-number">1</span></span>; System.out.println(count); total += <span class="hljs-number"><span class="hljs-number">7</span></span>; total += n + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (count % <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>) { total += d2; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> d2 = ackermann(n, count); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> total; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ackermann</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> m, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (m == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (n == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ackermann(m - <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ackermann(m - <span class="hljs-number"><span class="hljs-number">1</span></span>, ackermann(m, n - <span class="hljs-number"><span class="hljs-number">1</span></span>)); }</code> </pre> <br>  Meskipun kami telah dioptimalkan secara manual, semua ini dapat dilakukan secara otomatis.  Berikut ini adalah hasil dekompilasi pengoptimal prototipe yang saya tulis untuk program JVM: <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> var0)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Demo.PrintLogger(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> var1 = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> var3; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> var2 = <span class="hljs-number"><span class="hljs-number">0</span></span>; var2 &lt; var0; var2 = var3) { System.out.println(var3 = <span class="hljs-number"><span class="hljs-number">1</span></span> + var2); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> var10000 = var3 % <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> var7 = var1 + <span class="hljs-number"><span class="hljs-number">7</span></span> + var0 + <span class="hljs-number"><span class="hljs-number">1</span></span>; var1 = var10000 == <span class="hljs-number"><span class="hljs-number">0</span></span> ? var7 + ackermann(var0, var3) : var7; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> var1; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ackermann__I__TI1__I</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> var0)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (var0 == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ackermann(var0 - <span class="hljs-number"><span class="hljs-number">1</span></span>, var0 == <span class="hljs-number"><span class="hljs-number">0</span></span> ? <span class="hljs-number"><span class="hljs-number">1</span></span> : ackermann__I__TI1__I(var0 - <span class="hljs-number"><span class="hljs-number">1</span></span>);); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ackermann</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> var0, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> var1)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (var0 == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> var1 + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> var1 == <span class="hljs-number"><span class="hljs-number">0</span></span> ? ackermann__I__TI1__I(var0 - <span class="hljs-number"><span class="hljs-number">1</span></span>) : ackermann(var0 - <span class="hljs-number"><span class="hljs-number">1</span></span>, ackermann(var0, var1 - <span class="hljs-number"><span class="hljs-number">1</span></span>)); } <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PrintLogger</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Demo</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Logger</span></span></span><span class="hljs-class"> </span></span>{} <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Logger</span></span></span><span class="hljs-class"> </span></span>{}</code> </pre> <br>  Kode yang didekompilasi sedikit berbeda dari versi yang dioptimalkan secara manual.  Sesuatu yang tidak dapat dioptimalkan oleh kompiler (misalnya, panggilan yang tidak digunakan untuk <code>new PrintLogger</code> ), tetapi sesuatu dilakukan dengan sedikit berbeda (misalnya, <code>ackermann</code> dan <code>ackermann__I__TI1__I</code> ).  Tetapi untuk sisanya, pengoptimal otomatis melakukan hal yang sama seperti yang saya lakukan, menggunakan logika yang tertanam di dalamnya. <br><br>  Muncul pertanyaan: bagaimana? <br><br><h2>  Tampilan menengah </h2><br>  Jika Anda mencoba membuat pengoptimal Anda sendiri, pertanyaan pertama yang muncul mungkin yang paling penting: apa itu "program"? <br><br>  Tidak diragukan lagi, Anda terbiasa menulis dan mengubah program dalam bentuk kode sumber.  Anda pasti mengeksekusi mereka dalam bentuk binari yang dikompilasi, bahkan mungkin men-debug binari.  Anda mungkin menemukan program dalam bentuk <a href="https://ru.wikipedia.org/wiki/%25D0%2590%25D0%25B1%25D1%2581%25D1%2582%25D1%2580%25D0%25B0%25D0%25BA%25D1%2582%25D0%25BD%25D0%25BE%25D0%25B5_%25D1%2581%25D0%25B8%25D0%25BD%25D1%2582%25D0%25B0%25D0%25BA%25D1%2581%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25BE%25D0%25B5_%25D0%25B4%25D0%25B5%25D1%2580%25D0%25B5%25D0%25B2%25D0%25BE">pohon sintaksis</a> , <a href="https://en.wikipedia.org/wiki/Three-address_code">kode tiga-alamat</a> , <a href="https://en.wikipedia.org/wiki/A-normal_form">A-Normal</a> , <a href="https://en.wikipedia.org/wiki/Continuation-passing_style">Gaya Berlanjut Kelanjutan,</a> atau <a href="https://ru.wikipedia.org/wiki/SSA">Penugasan Statis Tunggal</a> . <br><br>  Ada seluruh kebun binatang dari berbagai representasi program.  Di sini kita akan membahas cara paling penting untuk mewakili "program" di dalam optimizer. <br><br><h2>  Kode sumber </h2><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ackermann</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> m, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (m == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (n == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ackermann(m - <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ackermann(m - <span class="hljs-number"><span class="hljs-number">1</span></span>, ackermann(m, n - <span class="hljs-number"><span class="hljs-number">1</span></span>)); }</code> </pre> <br>  Kode sumber yang tidak dikompilasi juga merupakan representasi dari program Anda.  Ini relatif kompak, dapat dibaca manusia, tetapi memiliki dua kelemahan: <br><br><ul><li>  Kode sumber berisi semua detail nama dan pemformatan, yang penting bagi programmer, tetapi tidak berguna untuk komputer. <br></li><li>  Ada banyak program yang lebih keliru dalam bentuk kode sumber daripada yang benar, dan selama optimasi, Anda perlu memastikan bahwa program Anda dikonversi dari kode sumber input yang benar ke kode sumber keluaran yang benar. <br></li></ul><br>  Faktor-faktor ini menyulitkan pengoptimal untuk bekerja dengan program dalam bentuk kode sumber.  Ya, Anda <i>dapat</i> mengonversi program seperti itu, misalnya, menggunakan <a href="https://ru.wikipedia.org/wiki/%25D0%25A0%25D0%25B5%25D0%25B3%25D1%2583%25D0%25BB%25D1%258F%25D1%2580%25D0%25BD%25D1%258B%25D0%25B5_%25D0%25B2%25D1%258B%25D1%2580%25D0%25B0%25D0%25B6%25D0%25B5%25D0%25BD%25D0%25B8%25D1%258F">ekspresi reguler untuk</a> mengidentifikasi dan mengganti pola.  Namun, yang pertama dari dua faktor membuatnya sulit untuk mengidentifikasi dengan andal pola dengan banyak detail asing.  Dan faktor kedua sangat meningkatkan kemungkinan menjadi bingung dan mendapatkan program yang salah. <br><br>  Pembatasan ini dapat diterima untuk konverter program yang dijalankan di bawah pengawasan manusia, misalnya, ketika Anda dapat menggunakan <a href="https://github.com/facebook/codemod">Codemod</a> untuk <a href="https://github.com/facebook/codemod">memperbaiki</a> dan mengubah basis kode.  Namun, Anda tidak dapat menggunakan kode sumber sebagai model utama pengoptimal otomatis. <br><br><h2>  Pohon sintaksis abstrak </h2><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ackermann</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> m, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (m == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (n == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ackermann(m - <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ackermann(m - <span class="hljs-number"><span class="hljs-number">1</span></span>, ackermann(m, n - <span class="hljs-number"><span class="hljs-number">1</span></span>)); } IfElse( cond = BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"m"</span></span>), <span class="hljs-string"><span class="hljs-string">"="</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">0</span></span>)), then = Return(BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"n"</span></span>), <span class="hljs-string"><span class="hljs-string">"+"</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">1</span></span>)), <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> = IfElse( cond = BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"n"</span></span>), <span class="hljs-string"><span class="hljs-string">"="</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">0</span></span>)), then = Return(Call(<span class="hljs-string"><span class="hljs-string">"ackermann"</span></span>, BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"m"</span></span>), <span class="hljs-string"><span class="hljs-string">"-"</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">1</span></span>)), Literal(<span class="hljs-number"><span class="hljs-number">1</span></span>)), <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> = Return( Call( <span class="hljs-string"><span class="hljs-string">"ackermann"</span></span>, BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"m"</span></span>), <span class="hljs-string"><span class="hljs-string">"-"</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">1</span></span>)), Call(<span class="hljs-string"><span class="hljs-string">"ackermann"</span></span>, Ident(<span class="hljs-string"><span class="hljs-string">"m"</span></span>), BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"n"</span></span>), <span class="hljs-string"><span class="hljs-string">"-"</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">1</span></span>))) ) ) ) )</code> "), "=", Literal ( <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ackermann</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> m, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (m == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (n == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ackermann(m - <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ackermann(m - <span class="hljs-number"><span class="hljs-number">1</span></span>, ackermann(m, n - <span class="hljs-number"><span class="hljs-number">1</span></span>)); } IfElse( cond = BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"m"</span></span>), <span class="hljs-string"><span class="hljs-string">"="</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">0</span></span>)), then = Return(BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"n"</span></span>), <span class="hljs-string"><span class="hljs-string">"+"</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">1</span></span>)), <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> = IfElse( cond = BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"n"</span></span>), <span class="hljs-string"><span class="hljs-string">"="</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">0</span></span>)), then = Return(Call(<span class="hljs-string"><span class="hljs-string">"ackermann"</span></span>, BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"m"</span></span>), <span class="hljs-string"><span class="hljs-string">"-"</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">1</span></span>)), Literal(<span class="hljs-number"><span class="hljs-number">1</span></span>)), <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> = Return( Call( <span class="hljs-string"><span class="hljs-string">"ackermann"</span></span>, BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"m"</span></span>), <span class="hljs-string"><span class="hljs-string">"-"</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">1</span></span>)), Call(<span class="hljs-string"><span class="hljs-string">"ackermann"</span></span>, Ident(<span class="hljs-string"><span class="hljs-string">"m"</span></span>), BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"n"</span></span>), <span class="hljs-string"><span class="hljs-string">"-"</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">1</span></span>))) ) ) ) )</code> ", BinOp (Ident ( "m"), "-", Literal ( <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ackermann</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> m, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (m == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (n == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ackermann(m - <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ackermann(m - <span class="hljs-number"><span class="hljs-number">1</span></span>, ackermann(m, n - <span class="hljs-number"><span class="hljs-number">1</span></span>)); } IfElse( cond = BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"m"</span></span>), <span class="hljs-string"><span class="hljs-string">"="</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">0</span></span>)), then = Return(BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"n"</span></span>), <span class="hljs-string"><span class="hljs-string">"+"</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">1</span></span>)), <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> = IfElse( cond = BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"n"</span></span>), <span class="hljs-string"><span class="hljs-string">"="</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">0</span></span>)), then = Return(Call(<span class="hljs-string"><span class="hljs-string">"ackermann"</span></span>, BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"m"</span></span>), <span class="hljs-string"><span class="hljs-string">"-"</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">1</span></span>)), Literal(<span class="hljs-number"><span class="hljs-number">1</span></span>)), <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> = Return( Call( <span class="hljs-string"><span class="hljs-string">"ackermann"</span></span>, BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"m"</span></span>), <span class="hljs-string"><span class="hljs-string">"-"</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">1</span></span>)), Call(<span class="hljs-string"><span class="hljs-string">"ackermann"</span></span>, Ident(<span class="hljs-string"><span class="hljs-string">"m"</span></span>), BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"n"</span></span>), <span class="hljs-string"><span class="hljs-string">"-"</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">1</span></span>))) ) ) ) )</code> </pre><br><img src="https://habrastorage.org/getpro/habr/post_images/e01/019/324/e0101932411807ddb7abb9c120033f58.png"><br><br>  Abstract Syntax Trees (AST) adalah format perantara lain yang umum.  Mereka terletak pada langkah berikutnya dari tangga abstraksi dibandingkan dengan kode sumber.  Biasanya, AST membuang semua pemformatan kode sumber, indentasi, dan komentar, tetapi tetap menggunakan nama-nama variabel lokal yang dibuang dalam representasi yang lebih abstrak. <br><br>  Seperti kode sumber, AST menderita dari kemungkinan pengkodean informasi yang tidak perlu yang tidak mempengaruhi semantik sebenarnya dari program.  Sebagai contoh, dua fragmen kode berikut secara semantik identik;  mereka hanya berbeda dalam nama variabel lokal, tetapi masih memiliki AST yang berbeda: <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ackermannA</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> m, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> p = n; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> q = m; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (q == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> p + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (p == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ackermannA(q - <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ackermannA(q - <span class="hljs-number"><span class="hljs-number">1</span></span>, ackermannA(q, p - <span class="hljs-number"><span class="hljs-number">1</span></span>)); } Block( Assign(<span class="hljs-string"><span class="hljs-string">"p"</span></span>, Ident(<span class="hljs-string"><span class="hljs-string">"n"</span></span>)), Assign(<span class="hljs-string"><span class="hljs-string">"q"</span></span>, Ident(<span class="hljs-string"><span class="hljs-string">"m"</span></span>)), IfElse( cond = BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"q"</span></span>), <span class="hljs-string"><span class="hljs-string">"=="</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">0</span></span>)), then = Return(BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"p"</span></span>), <span class="hljs-string"><span class="hljs-string">"+"</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">1</span></span>)), <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> = IfElse( cond = BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"p"</span></span>), <span class="hljs-string"><span class="hljs-string">"=="</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">0</span></span>)), then = Return(Call(<span class="hljs-string"><span class="hljs-string">"ackermann"</span></span>, BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"q"</span></span>), <span class="hljs-string"><span class="hljs-string">"-"</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">1</span></span>)), Literal(<span class="hljs-number"><span class="hljs-number">1</span></span>)), <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> = Return( Call( <span class="hljs-string"><span class="hljs-string">"ackermann"</span></span>, BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"q"</span></span>), <span class="hljs-string"><span class="hljs-string">"-"</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">1</span></span>)), Call(<span class="hljs-string"><span class="hljs-string">"ackermann"</span></span>, Ident(<span class="hljs-string"><span class="hljs-string">"q"</span></span>), BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"p"</span></span>), <span class="hljs-string"><span class="hljs-string">"-"</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">1</span></span>))) ) ) ) ) ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ackermannB</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> m, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> r = n; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> s = m; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (s == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (r == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ackermannB(s - <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ackermannB(s - <span class="hljs-number"><span class="hljs-number">1</span></span>, ackermannB(s, r - <span class="hljs-number"><span class="hljs-number">1</span></span>)); } Block( Assign(<span class="hljs-string"><span class="hljs-string">"r"</span></span>, Ident(<span class="hljs-string"><span class="hljs-string">"n"</span></span>)), Assign(<span class="hljs-string"><span class="hljs-string">"s"</span></span>, Ident(<span class="hljs-string"><span class="hljs-string">"m"</span></span>)), IfElse( cond = BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"s"</span></span>), <span class="hljs-string"><span class="hljs-string">"=="</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">0</span></span>)), then = Return(BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"r"</span></span>), <span class="hljs-string"><span class="hljs-string">"+"</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">1</span></span>)), <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> = IfElse( cond = BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"r"</span></span>), <span class="hljs-string"><span class="hljs-string">"=="</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">0</span></span>)), then = Return(Call(<span class="hljs-string"><span class="hljs-string">"ackermann"</span></span>, BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"s"</span></span>), <span class="hljs-string"><span class="hljs-string">"-"</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">1</span></span>)), Literal(<span class="hljs-number"><span class="hljs-number">1</span></span>)), <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> = Return( Call( <span class="hljs-string"><span class="hljs-string">"ackermann"</span></span>, BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"s"</span></span>), <span class="hljs-string"><span class="hljs-string">"-"</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">1</span></span>)), Call(<span class="hljs-string"><span class="hljs-string">"ackermann"</span></span>, Ident(<span class="hljs-string"><span class="hljs-string">"s"</span></span>), BinOp(Ident(<span class="hljs-string"><span class="hljs-string">"r"</span></span>), <span class="hljs-string"><span class="hljs-string">"-"</span></span>, Literal(<span class="hljs-number"><span class="hljs-number">1</span></span>))) ) ) ) ) )</code> </pre> <br>  Poin kuncinya adalah bahwa walaupun AST memiliki struktur pohon, mereka mengandung node yang berperilaku semantik tidak seperti pohon: nilai-nilai <code>Ident("r")</code> dan <code>Ident("s")</code> ditentukan bukan oleh isi dari sub-sub-sub mereka, tetapi oleh upstream <code>Assign("r", ...)</code> node-node) <code>Assign("r", ...)</code> dan <code>Assign("s", ...)</code> .  Bahkan, ada hubungan semantik tambahan antara <code>Ident</code> dan <code>Assign</code> yang sama pentingnya dengan tepi dalam struktur pohon AST: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a17/62a/9a0/a1762a9a0a21d0b0e4fac6afb4f23335.png"><br><br>  Koneksi ini membentuk struktur grafik umum, termasuk siklus dengan adanya definisi fungsi rekursif. <br><br><h2>  Bytecode </h2><br>  Karena kami memilih Java sebagai bahasa utama, program yang dikompilasi disimpan sebagai Java bytecode dalam file .class. <br><br>  Ingat fungsi <code>ackermann</code> kami: <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ackermann</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> m, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (m == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (n == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ackermann(m - <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ackermann(m - <span class="hljs-number"><span class="hljs-number">1</span></span>, ackermann(m, n - <span class="hljs-number"><span class="hljs-number">1</span></span>)); }</code> </pre> <br>  Ini mengkompilasi bytecode ini: <br><br><pre> <code class="java hljs"> <span class="hljs-number"><span class="hljs-number">0</span></span>: iload_0 <span class="hljs-number"><span class="hljs-number">1</span></span>: ifne <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>: iload_1 <span class="hljs-number"><span class="hljs-number">5</span></span>: iconst_1 <span class="hljs-number"><span class="hljs-number">6</span></span>: iadd <span class="hljs-number"><span class="hljs-number">7</span></span>: ireturn <span class="hljs-number"><span class="hljs-number">8</span></span>: iload_1 <span class="hljs-number"><span class="hljs-number">9</span></span>: ifne <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span>: iload_0 <span class="hljs-number"><span class="hljs-number">13</span></span>: iconst_1 <span class="hljs-number"><span class="hljs-number">14</span></span>: isub <span class="hljs-number"><span class="hljs-number">15</span></span>: iconst_1 <span class="hljs-number"><span class="hljs-number">16</span></span>: invokestatic ackermann:(II)I <span class="hljs-number"><span class="hljs-number">19</span></span>: ireturn <span class="hljs-number"><span class="hljs-number">20</span></span>: iload_0 <span class="hljs-number"><span class="hljs-number">21</span></span>: iconst_1 <span class="hljs-number"><span class="hljs-number">22</span></span>: isub <span class="hljs-number"><span class="hljs-number">23</span></span>: iload_0 <span class="hljs-number"><span class="hljs-number">24</span></span>: iload_1 <span class="hljs-number"><span class="hljs-number">25</span></span>: iconst_1 <span class="hljs-number"><span class="hljs-number">26</span></span>: isub <span class="hljs-number"><span class="hljs-number">27</span></span>: invokestatic ackermann:(II)I <span class="hljs-number"><span class="hljs-number">30</span></span>: invokestatic ackermann:(II)I <span class="hljs-number"><span class="hljs-number">33</span></span>: ireturn</code> </pre> <br>  Java Virtual Machine (JVM), yang menjalankan bytecode Java, adalah mesin dengan kombinasi tumpukan dan register: ada tumpukan operan (STACK) di mana nilai dimanipulasi, dan array variabel lokal (LOCALS) di mana nilai-nilai ini dapat disimpan.  Fungsi dimulai dengan parameter N di slot N pertama variabel lokal.  Ketika dijalankan, fungsi memindahkan data ke stack, beroperasi pada mereka, menempatkan mereka kembali ke dalam variabel, memanggil <code>return</code> untuk mengembalikan nilai ke pemanggil dari tumpukan operan. <br><br>  Jika Anda memberi anotasi bytecode di atas untuk mewakili nilai yang bergerak antara stack dan tabel variabel lokal, itu akan terlihat seperti ini: <br><br><pre> <code class="java hljs"> BYTECODE LOCALS STACK |a0|a1| | <span class="hljs-number"><span class="hljs-number">0</span></span>: iload_0 |a0|a1| |a0| <span class="hljs-number"><span class="hljs-number">1</span></span>: ifne <span class="hljs-number"><span class="hljs-number">8</span></span> |a0|a1| | <span class="hljs-number"><span class="hljs-number">4</span></span>: iload_1 |a0|a1| |a1| <span class="hljs-number"><span class="hljs-number">5</span></span>: iconst_1 |a0|a1| |a1| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">6</span></span>: iadd |a0|a1| |v1| <span class="hljs-number"><span class="hljs-number">7</span></span>: ireturn |a0|a1| | <span class="hljs-number"><span class="hljs-number">8</span></span>: iload_1 |a0|a1| |a1| <span class="hljs-number"><span class="hljs-number">9</span></span>: ifne <span class="hljs-number"><span class="hljs-number">20</span></span> |a0|a1| | <span class="hljs-number"><span class="hljs-number">12</span></span>: iload_0 |a0|a1| |a0| <span class="hljs-number"><span class="hljs-number">13</span></span>: iconst_1 |a0|a1| |a0| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">14</span></span>: isub |a0|a1| |v2| <span class="hljs-number"><span class="hljs-number">15</span></span>: iconst_1 |a0|a1| |v2| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">16</span></span>: invokestatic ackermann:(II)I |a0|a1| |v3| <span class="hljs-number"><span class="hljs-number">19</span></span>: ireturn |a0|a1| | <span class="hljs-number"><span class="hljs-number">20</span></span>: iload_0 |a0|a1| |a0| <span class="hljs-number"><span class="hljs-number">21</span></span>: iconst_1 |a0|a1| |a0| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">22</span></span>: isub |a0|a1| |v4| <span class="hljs-number"><span class="hljs-number">23</span></span>: iload_0 |a0|a1| |v4|a0| <span class="hljs-number"><span class="hljs-number">24</span></span>: iload_1 |a0|a1| |v4|a0|a1| <span class="hljs-number"><span class="hljs-number">25</span></span>: iconst_1 |a0|a1| |v4|a0|a1| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">26</span></span>: isub |a0|a1| |v4|a0|v5| <span class="hljs-number"><span class="hljs-number">27</span></span>: invokestatic ackermann:(II)I |a0|a1| |v4|v6| <span class="hljs-number"><span class="hljs-number">30</span></span>: invokestatic ackermann:(II)I |a0|a1| |v7| <span class="hljs-number"><span class="hljs-number">33</span></span>: ireturn |a0|a1| |</code> </pre> <br>  Di sini, menggunakan <code>a0</code> dan <code>a1</code> mempresentasikan argumen untuk fungsi, yang disimpan dalam tabel LOCALS di awal fungsi.  <code>1</code> mewakili konstanta yang dimuat melalui <code>iconst_1</code> , dan dari <code>v1</code> ke <code>v7</code> , nilai tengah yang dihitung.  Ada tiga instruksi untuk mengembalikan <code>v1</code> , <code>v3</code> dan <code>v7</code> .  Fungsi ini tidak mendefinisikan variabel lokal lainnya, jadi array LOCALS hanya menyimpan argumen input. <br><br>  Di atas, kami melihat dua varian fungsi kami - <code>ackermannA</code> dan <code>ackermannB</code> .  Jadi mereka mencari bytecode: <br><br><pre> <code class="java hljs"> BYTECODE LOCALS STACK |a0|a1| | <span class="hljs-number"><span class="hljs-number">0</span></span>: iload_1 |a0|a1| |a1| <span class="hljs-number"><span class="hljs-number">1</span></span>: istore_2 |a0|a1|a1| | <span class="hljs-number"><span class="hljs-number">2</span></span>: iload_0 |a0|a1|a1| |a0| <span class="hljs-number"><span class="hljs-number">3</span></span>: istore_3 |a0|a1|a1|a0| | <span class="hljs-number"><span class="hljs-number">4</span></span>: iload_3 |a0|a1|a1|a0| |a0| <span class="hljs-number"><span class="hljs-number">5</span></span>: ifne <span class="hljs-number"><span class="hljs-number">12</span></span> |a0|a1|a1|a0| | <span class="hljs-number"><span class="hljs-number">8</span></span>: iload_2 |a0|a1|a1|a0| |a1| <span class="hljs-number"><span class="hljs-number">9</span></span>: iconst_1 |a0|a1|a1|a0| |a1| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">10</span></span>: iadd |a0|a1|a1|a0| |v1| <span class="hljs-number"><span class="hljs-number">11</span></span>: ireturn |a0|a1|a1|a0| | <span class="hljs-number"><span class="hljs-number">12</span></span>: iload_2 |a0|a1|a1|a0| |a1| <span class="hljs-number"><span class="hljs-number">13</span></span>: ifne <span class="hljs-number"><span class="hljs-number">24</span></span> |a0|a1|a1|a0| | <span class="hljs-number"><span class="hljs-number">16</span></span>: iload_3 |a0|a1|a1|a0| |a0| <span class="hljs-number"><span class="hljs-number">17</span></span>: iconst_1 |a0|a1|a1|a0| |a0| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">18</span></span>: isub |a0|a1|a1|a0| |v2| <span class="hljs-number"><span class="hljs-number">19</span></span>: iconst_1 |a0|a1|a1|a0| |v2| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">20</span></span>: invokestatic ackermannA:(II)I |a0|a1|a1|a0| |v3| <span class="hljs-number"><span class="hljs-number">23</span></span>: ireturn |a0|a1|a1|a0| | <span class="hljs-number"><span class="hljs-number">24</span></span>: iload_3 |a0|a1|a1|a0| |a0| <span class="hljs-number"><span class="hljs-number">25</span></span>: iconst_1 |a0|a1|a1|a0| |a0| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">26</span></span>: isub |a0|a1|a1|a0| |v4| <span class="hljs-number"><span class="hljs-number">27</span></span>: iload_3 |a0|a1|a1|a0| |v4|a0| <span class="hljs-number"><span class="hljs-number">28</span></span>: iload_2 |a0|a1|a1|a0| |v4|a0|a1| <span class="hljs-number"><span class="hljs-number">29</span></span>: iconst_1 |a0|a1|a1|a0| |v4|a0|a1| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">30</span></span>: isub |a0|a1|a1|a0| |v4|a0|v5| <span class="hljs-number"><span class="hljs-number">31</span></span>: invokestatic ackermannA:(II)I |a0|a1|a1|a0| |v4|v6| <span class="hljs-number"><span class="hljs-number">34</span></span>: invokestatic ackermannA:(II)I |a0|a1|a1|a0| |v7| <span class="hljs-number"><span class="hljs-number">37</span></span>: ireturn |a0|a1|a1|a0| |</code> | a0 | <code class="java hljs"> BYTECODE LOCALS STACK |a0|a1| | <span class="hljs-number"><span class="hljs-number">0</span></span>: iload_1 |a0|a1| |a1| <span class="hljs-number"><span class="hljs-number">1</span></span>: istore_2 |a0|a1|a1| | <span class="hljs-number"><span class="hljs-number">2</span></span>: iload_0 |a0|a1|a1| |a0| <span class="hljs-number"><span class="hljs-number">3</span></span>: istore_3 |a0|a1|a1|a0| | <span class="hljs-number"><span class="hljs-number">4</span></span>: iload_3 |a0|a1|a1|a0| |a0| <span class="hljs-number"><span class="hljs-number">5</span></span>: ifne <span class="hljs-number"><span class="hljs-number">12</span></span> |a0|a1|a1|a0| | <span class="hljs-number"><span class="hljs-number">8</span></span>: iload_2 |a0|a1|a1|a0| |a1| <span class="hljs-number"><span class="hljs-number">9</span></span>: iconst_1 |a0|a1|a1|a0| |a1| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">10</span></span>: iadd |a0|a1|a1|a0| |v1| <span class="hljs-number"><span class="hljs-number">11</span></span>: ireturn |a0|a1|a1|a0| | <span class="hljs-number"><span class="hljs-number">12</span></span>: iload_2 |a0|a1|a1|a0| |a1| <span class="hljs-number"><span class="hljs-number">13</span></span>: ifne <span class="hljs-number"><span class="hljs-number">24</span></span> |a0|a1|a1|a0| | <span class="hljs-number"><span class="hljs-number">16</span></span>: iload_3 |a0|a1|a1|a0| |a0| <span class="hljs-number"><span class="hljs-number">17</span></span>: iconst_1 |a0|a1|a1|a0| |a0| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">18</span></span>: isub |a0|a1|a1|a0| |v2| <span class="hljs-number"><span class="hljs-number">19</span></span>: iconst_1 |a0|a1|a1|a0| |v2| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">20</span></span>: invokestatic ackermannA:(II)I |a0|a1|a1|a0| |v3| <span class="hljs-number"><span class="hljs-number">23</span></span>: ireturn |a0|a1|a1|a0| | <span class="hljs-number"><span class="hljs-number">24</span></span>: iload_3 |a0|a1|a1|a0| |a0| <span class="hljs-number"><span class="hljs-number">25</span></span>: iconst_1 |a0|a1|a1|a0| |a0| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">26</span></span>: isub |a0|a1|a1|a0| |v4| <span class="hljs-number"><span class="hljs-number">27</span></span>: iload_3 |a0|a1|a1|a0| |v4|a0| <span class="hljs-number"><span class="hljs-number">28</span></span>: iload_2 |a0|a1|a1|a0| |v4|a0|a1| <span class="hljs-number"><span class="hljs-number">29</span></span>: iconst_1 |a0|a1|a1|a0| |v4|a0|a1| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">30</span></span>: isub |a0|a1|a1|a0| |v4|a0|v5| <span class="hljs-number"><span class="hljs-number">31</span></span>: invokestatic ackermannA:(II)I |a0|a1|a1|a0| |v4|v6| <span class="hljs-number"><span class="hljs-number">34</span></span>: invokestatic ackermannA:(II)I |a0|a1|a1|a0| |v7| <span class="hljs-number"><span class="hljs-number">37</span></span>: ireturn |a0|a1|a1|a0| |</code> | a0 | <code class="java hljs"> BYTECODE LOCALS STACK |a0|a1| | <span class="hljs-number"><span class="hljs-number">0</span></span>: iload_1 |a0|a1| |a1| <span class="hljs-number"><span class="hljs-number">1</span></span>: istore_2 |a0|a1|a1| | <span class="hljs-number"><span class="hljs-number">2</span></span>: iload_0 |a0|a1|a1| |a0| <span class="hljs-number"><span class="hljs-number">3</span></span>: istore_3 |a0|a1|a1|a0| | <span class="hljs-number"><span class="hljs-number">4</span></span>: iload_3 |a0|a1|a1|a0| |a0| <span class="hljs-number"><span class="hljs-number">5</span></span>: ifne <span class="hljs-number"><span class="hljs-number">12</span></span> |a0|a1|a1|a0| | <span class="hljs-number"><span class="hljs-number">8</span></span>: iload_2 |a0|a1|a1|a0| |a1| <span class="hljs-number"><span class="hljs-number">9</span></span>: iconst_1 |a0|a1|a1|a0| |a1| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">10</span></span>: iadd |a0|a1|a1|a0| |v1| <span class="hljs-number"><span class="hljs-number">11</span></span>: ireturn |a0|a1|a1|a0| | <span class="hljs-number"><span class="hljs-number">12</span></span>: iload_2 |a0|a1|a1|a0| |a1| <span class="hljs-number"><span class="hljs-number">13</span></span>: ifne <span class="hljs-number"><span class="hljs-number">24</span></span> |a0|a1|a1|a0| | <span class="hljs-number"><span class="hljs-number">16</span></span>: iload_3 |a0|a1|a1|a0| |a0| <span class="hljs-number"><span class="hljs-number">17</span></span>: iconst_1 |a0|a1|a1|a0| |a0| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">18</span></span>: isub |a0|a1|a1|a0| |v2| <span class="hljs-number"><span class="hljs-number">19</span></span>: iconst_1 |a0|a1|a1|a0| |v2| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">20</span></span>: invokestatic ackermannA:(II)I |a0|a1|a1|a0| |v3| <span class="hljs-number"><span class="hljs-number">23</span></span>: ireturn |a0|a1|a1|a0| | <span class="hljs-number"><span class="hljs-number">24</span></span>: iload_3 |a0|a1|a1|a0| |a0| <span class="hljs-number"><span class="hljs-number">25</span></span>: iconst_1 |a0|a1|a1|a0| |a0| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">26</span></span>: isub |a0|a1|a1|a0| |v4| <span class="hljs-number"><span class="hljs-number">27</span></span>: iload_3 |a0|a1|a1|a0| |v4|a0| <span class="hljs-number"><span class="hljs-number">28</span></span>: iload_2 |a0|a1|a1|a0| |v4|a0|a1| <span class="hljs-number"><span class="hljs-number">29</span></span>: iconst_1 |a0|a1|a1|a0| |v4|a0|a1| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">30</span></span>: isub |a0|a1|a1|a0| |v4|a0|v5| <span class="hljs-number"><span class="hljs-number">31</span></span>: invokestatic ackermannA:(II)I |a0|a1|a1|a0| |v4|v6| <span class="hljs-number"><span class="hljs-number">34</span></span>: invokestatic ackermannA:(II)I |a0|a1|a1|a0| |v7| <span class="hljs-number"><span class="hljs-number">37</span></span>: ireturn |a0|a1|a1|a0| |</code> | a0 | <code class="java hljs"> BYTECODE LOCALS STACK |a0|a1| | <span class="hljs-number"><span class="hljs-number">0</span></span>: iload_1 |a0|a1| |a1| <span class="hljs-number"><span class="hljs-number">1</span></span>: istore_2 |a0|a1|a1| | <span class="hljs-number"><span class="hljs-number">2</span></span>: iload_0 |a0|a1|a1| |a0| <span class="hljs-number"><span class="hljs-number">3</span></span>: istore_3 |a0|a1|a1|a0| | <span class="hljs-number"><span class="hljs-number">4</span></span>: iload_3 |a0|a1|a1|a0| |a0| <span class="hljs-number"><span class="hljs-number">5</span></span>: ifne <span class="hljs-number"><span class="hljs-number">12</span></span> |a0|a1|a1|a0| | <span class="hljs-number"><span class="hljs-number">8</span></span>: iload_2 |a0|a1|a1|a0| |a1| <span class="hljs-number"><span class="hljs-number">9</span></span>: iconst_1 |a0|a1|a1|a0| |a1| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">10</span></span>: iadd |a0|a1|a1|a0| |v1| <span class="hljs-number"><span class="hljs-number">11</span></span>: ireturn |a0|a1|a1|a0| | <span class="hljs-number"><span class="hljs-number">12</span></span>: iload_2 |a0|a1|a1|a0| |a1| <span class="hljs-number"><span class="hljs-number">13</span></span>: ifne <span class="hljs-number"><span class="hljs-number">24</span></span> |a0|a1|a1|a0| | <span class="hljs-number"><span class="hljs-number">16</span></span>: iload_3 |a0|a1|a1|a0| |a0| <span class="hljs-number"><span class="hljs-number">17</span></span>: iconst_1 |a0|a1|a1|a0| |a0| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">18</span></span>: isub |a0|a1|a1|a0| |v2| <span class="hljs-number"><span class="hljs-number">19</span></span>: iconst_1 |a0|a1|a1|a0| |v2| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">20</span></span>: invokestatic ackermannA:(II)I |a0|a1|a1|a0| |v3| <span class="hljs-number"><span class="hljs-number">23</span></span>: ireturn |a0|a1|a1|a0| | <span class="hljs-number"><span class="hljs-number">24</span></span>: iload_3 |a0|a1|a1|a0| |a0| <span class="hljs-number"><span class="hljs-number">25</span></span>: iconst_1 |a0|a1|a1|a0| |a0| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">26</span></span>: isub |a0|a1|a1|a0| |v4| <span class="hljs-number"><span class="hljs-number">27</span></span>: iload_3 |a0|a1|a1|a0| |v4|a0| <span class="hljs-number"><span class="hljs-number">28</span></span>: iload_2 |a0|a1|a1|a0| |v4|a0|a1| <span class="hljs-number"><span class="hljs-number">29</span></span>: iconst_1 |a0|a1|a1|a0| |v4|a0|a1| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">30</span></span>: isub |a0|a1|a1|a0| |v4|a0|v5| <span class="hljs-number"><span class="hljs-number">31</span></span>: invokestatic ackermannA:(II)I |a0|a1|a1|a0| |v4|v6| <span class="hljs-number"><span class="hljs-number">34</span></span>: invokestatic ackermannA:(II)I |a0|a1|a1|a0| |v7| <span class="hljs-number"><span class="hljs-number">37</span></span>: ireturn |a0|a1|a1|a0| |</code> | a0 | <code class="java hljs"> BYTECODE LOCALS STACK |a0|a1| | <span class="hljs-number"><span class="hljs-number">0</span></span>: iload_1 |a0|a1| |a1| <span class="hljs-number"><span class="hljs-number">1</span></span>: istore_2 |a0|a1|a1| | <span class="hljs-number"><span class="hljs-number">2</span></span>: iload_0 |a0|a1|a1| |a0| <span class="hljs-number"><span class="hljs-number">3</span></span>: istore_3 |a0|a1|a1|a0| | <span class="hljs-number"><span class="hljs-number">4</span></span>: iload_3 |a0|a1|a1|a0| |a0| <span class="hljs-number"><span class="hljs-number">5</span></span>: ifne <span class="hljs-number"><span class="hljs-number">12</span></span> |a0|a1|a1|a0| | <span class="hljs-number"><span class="hljs-number">8</span></span>: iload_2 |a0|a1|a1|a0| |a1| <span class="hljs-number"><span class="hljs-number">9</span></span>: iconst_1 |a0|a1|a1|a0| |a1| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">10</span></span>: iadd |a0|a1|a1|a0| |v1| <span class="hljs-number"><span class="hljs-number">11</span></span>: ireturn |a0|a1|a1|a0| | <span class="hljs-number"><span class="hljs-number">12</span></span>: iload_2 |a0|a1|a1|a0| |a1| <span class="hljs-number"><span class="hljs-number">13</span></span>: ifne <span class="hljs-number"><span class="hljs-number">24</span></span> |a0|a1|a1|a0| | <span class="hljs-number"><span class="hljs-number">16</span></span>: iload_3 |a0|a1|a1|a0| |a0| <span class="hljs-number"><span class="hljs-number">17</span></span>: iconst_1 |a0|a1|a1|a0| |a0| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">18</span></span>: isub |a0|a1|a1|a0| |v2| <span class="hljs-number"><span class="hljs-number">19</span></span>: iconst_1 |a0|a1|a1|a0| |v2| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">20</span></span>: invokestatic ackermannA:(II)I |a0|a1|a1|a0| |v3| <span class="hljs-number"><span class="hljs-number">23</span></span>: ireturn |a0|a1|a1|a0| | <span class="hljs-number"><span class="hljs-number">24</span></span>: iload_3 |a0|a1|a1|a0| |a0| <span class="hljs-number"><span class="hljs-number">25</span></span>: iconst_1 |a0|a1|a1|a0| |a0| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">26</span></span>: isub |a0|a1|a1|a0| |v4| <span class="hljs-number"><span class="hljs-number">27</span></span>: iload_3 |a0|a1|a1|a0| |v4|a0| <span class="hljs-number"><span class="hljs-number">28</span></span>: iload_2 |a0|a1|a1|a0| |v4|a0|a1| <span class="hljs-number"><span class="hljs-number">29</span></span>: iconst_1 |a0|a1|a1|a0| |v4|a0|a1| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">30</span></span>: isub |a0|a1|a1|a0| |v4|a0|v5| <span class="hljs-number"><span class="hljs-number">31</span></span>: invokestatic ackermannA:(II)I |a0|a1|a1|a0| |v4|v6| <span class="hljs-number"><span class="hljs-number">34</span></span>: invokestatic ackermannA:(II)I |a0|a1|a1|a0| |v7| <span class="hljs-number"><span class="hljs-number">37</span></span>: ireturn |a0|a1|a1|a0| |</code> </pre> <br>  Karena kode sumber mengambil dua argumen dan menempatkannya dalam variabel lokal, bytecode memiliki instruksi yang sesuai untuk memuat nilai argumen dari indeks LOCAL 0 dan 1 dan menyimpannya di bawah indeks 2 dan 3. Namun, bytecode tidak tertarik pada nama-nama variabel lokal Anda: ia bekerja dengan oleh mereka secara eksklusif seperti dengan indeks dalam array LOCALS.  Oleh karena itu, <code>ackermannA</code> dan <code>ackermannB</code> akan memiliki bytecode yang identik.  Ini logis, karena mereka secara semantik setara! <br><br>  Namun, <code>ackermannA</code> dan <code>ackermannB</code> tidak dikompilasi ke dalam bytecode yang sama dengan <code>ackermann</code> asli: meskipun bytecode diabstraksi dari nama-nama variabel lokal, itu masih tidak sepenuhnya abstrak dari memuat dan menyimpan ke / dari variabel-variabel ini.  Masih penting bagi kita bagaimana nilai-nilai bergerak bersama LOKAL dan STACK, meskipun mereka tidak mempengaruhi perilaku aktual program. <br><br>  Selain kurangnya abstraksi dari pemuatan / penghematan, bytecode memiliki kelemahan lain: seperti kebanyakan perakit linier, ia sangat dioptimalkan dalam hal kekompakan, dan bisa sangat sulit untuk memodifikasinya ketika datang ke optimasi. <br><br>  Untuk membuatnya lebih jelas, mari kita lihat bytecode dari fungsi <code>ackermann</code> asli: <br><br><pre> <code class="java hljs"> BYTECODE LOCALS STACK |a0|a1| | <span class="hljs-number"><span class="hljs-number">0</span></span>: iload_0 |a0|a1| |a0| <span class="hljs-number"><span class="hljs-number">1</span></span>: ifne <span class="hljs-number"><span class="hljs-number">8</span></span> |a0|a1| | <span class="hljs-number"><span class="hljs-number">4</span></span>: iload_1 |a0|a1| |a1| <span class="hljs-number"><span class="hljs-number">5</span></span>: iconst_1 |a0|a1| |a1| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">6</span></span>: iadd |a0|a1| |v1| <span class="hljs-number"><span class="hljs-number">7</span></span>: ireturn |a0|a1| | <span class="hljs-number"><span class="hljs-number">8</span></span>: iload_1 |a0|a1| |a1| <span class="hljs-number"><span class="hljs-number">9</span></span>: ifne <span class="hljs-number"><span class="hljs-number">20</span></span> |a0|a1| | <span class="hljs-number"><span class="hljs-number">12</span></span>: iload_0 |a0|a1| |a0| <span class="hljs-number"><span class="hljs-number">13</span></span>: iconst_1 |a0|a1| |a0| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">14</span></span>: isub |a0|a1| |v2| <span class="hljs-number"><span class="hljs-number">15</span></span>: iconst_1 |a0|a1| |v2| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">16</span></span>: invokestatic ackermann:(II)I |a0|a1| |v3| <span class="hljs-number"><span class="hljs-number">19</span></span>: ireturn |a0|a1| | <span class="hljs-number"><span class="hljs-number">20</span></span>: iload_0 |a0|a1| |a0| <span class="hljs-number"><span class="hljs-number">21</span></span>: iconst_1 |a0|a1| |a0| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">22</span></span>: isub |a0|a1| |v4| <span class="hljs-number"><span class="hljs-number">23</span></span>: iload_0 |a0|a1| |v4|a0| <span class="hljs-number"><span class="hljs-number">24</span></span>: iload_1 |a0|a1| |v4|a0|a1| <span class="hljs-number"><span class="hljs-number">25</span></span>: iconst_1 |a0|a1| |v4|a0|a1| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">26</span></span>: isub |a0|a1| |v4|a0|v5| <span class="hljs-number"><span class="hljs-number">27</span></span>: invokestatic ackermann:(II)I |a0|a1| |v4|v6| <span class="hljs-number"><span class="hljs-number">30</span></span>: invokestatic ackermann:(II)I |a0|a1| |v7| <span class="hljs-number"><span class="hljs-number">33</span></span>: ireturn |a0|a1| |</code> </pre> <br>  Apakah perubahan kotor: biarkan fungsi panggilan <code>30: invokestatic ackermann:(II)I</code> tidak menggunakan argumen pertama mereka.  Dan kemudian panggilan ini dapat diganti dengan panggilan setara <code>30: invokestatic ackermann2:(I)I</code> , yang hanya membutuhkan satu argumen.  Ini adalah optimasi umum, yang memungkinkan menggunakan "penghapusan kode mati" untuk membuang kode apa pun yang digunakan untuk menghitung argumen pertama <code>30: invokestatic ackermann:(II)I</code> <br><br>  Untuk melakukan ini, kita tidak hanya perlu mengganti instruksi <code>30</code> , tetapi juga perlu melihat daftar instruksi dan memahami di mana argumen pertama dihitung ( <code>v4</code> dalam <code>STACK</code> ), dan juga menghapusnya.  Kami kembali dari instruksi <code>30</code> hingga <code>22</code> , dan dari <code>22</code> hingga <code>21</code> dan <code>20</code> .  Versi terakhir: <br><br><pre> <code class="java hljs"> BYTECODE LOCALS STACK |a0|a1| | <span class="hljs-number"><span class="hljs-number">0</span></span>: iload_0 |a0|a1| |a0| <span class="hljs-number"><span class="hljs-number">1</span></span>: ifne <span class="hljs-number"><span class="hljs-number">8</span></span> |a0|a1| | <span class="hljs-number"><span class="hljs-number">4</span></span>: iload_1 |a0|a1| |a1| <span class="hljs-number"><span class="hljs-number">5</span></span>: iconst_1 |a0|a1| |a1| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">6</span></span>: iadd |a0|a1| |v1| <span class="hljs-number"><span class="hljs-number">7</span></span>: ireturn |a0|a1| | <span class="hljs-number"><span class="hljs-number">8</span></span>: iload_1 |a0|a1| |a1| <span class="hljs-number"><span class="hljs-number">9</span></span>: ifne <span class="hljs-number"><span class="hljs-number">20</span></span> |a0|a1| | <span class="hljs-number"><span class="hljs-number">12</span></span>: iload_0 |a0|a1| |a0| <span class="hljs-number"><span class="hljs-number">13</span></span>: iconst_1 |a0|a1| |a0| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">14</span></span>: isub |a0|a1| |v2| <span class="hljs-number"><span class="hljs-number">15</span></span>: iconst_1 |a0|a1| |v2| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">16</span></span>: invokestatic ackermann:(II)I |a0|a1| |v3| <span class="hljs-number"><span class="hljs-number">19</span></span>: ireturn |a0|a1| | - <span class="hljs-number"><span class="hljs-number">20</span></span>: iload_0 |a0|a1| | - <span class="hljs-number"><span class="hljs-number">21</span></span>: iconst_1 |a0|a1| | - <span class="hljs-number"><span class="hljs-number">22</span></span>: isub |a0|a1| | <span class="hljs-number"><span class="hljs-number">23</span></span>: iload_0 |a0|a1| |a0| <span class="hljs-number"><span class="hljs-number">24</span></span>: iload_1 |a0|a1| |a0|a1| <span class="hljs-number"><span class="hljs-number">25</span></span>: iconst_1 |a0|a1| |a0|a1| <span class="hljs-number"><span class="hljs-number">1</span></span>| <span class="hljs-number"><span class="hljs-number">26</span></span>: isub |a0|a1| |a0|v5| <span class="hljs-number"><span class="hljs-number">27</span></span>: invokestatic ackermann:(II)I |a0|a1| |v6| - <span class="hljs-number"><span class="hljs-number">30</span></span>: invokestatic ackermann:(II)I |a0|a1| |v7| + <span class="hljs-number"><span class="hljs-number">30</span></span>: invokestatic ackermann2:(I)I |a0|a1| |v7| <span class="hljs-number"><span class="hljs-number">33</span></span>: ireturn |a0|a1| |</code> </pre> <br>  Kita masih bisa membuat perubahan sederhana ke fungsi <code>ackermann</code> sederhana.  Namun dalam fungsi besar yang digunakan dalam proyek-proyek nyata, itu akan jauh lebih sulit untuk membuat berbagai, perubahan saling terkait.  Secara umum, setiap perubahan semantik kecil untuk program Anda mungkin memerlukan banyak perubahan sepanjang bytecode. <br><br>  Anda mungkin memperhatikan bahwa kami membuat perubahan yang dijelaskan di atas dengan menganalisis nilai dalam LOCAL dan STACK: kami mengamati bagaimana <code>v4</code> diteruskan ke instruksi <code>30</code> dari instruksi <code>22</code> , dan <code>22</code> mengambil data ke <code>a0</code> dan <code>1</code> , yang berasal dari instruksi <code>21</code> dan <code>20</code> .  Nilai-nilai ini ditransfer antara LOCALS dan STACK sesuai dengan prinsip grafik: dari instruksi yang menghitung nilai ke tempat penggunaan selanjutnya. <br><br>  Seperti pasangan <code>Ident</code> / <code>Assign</code> dalam AST kami, nilai-nilai yang dikirimkan antara LOCALS dan STACK membentuk grafik antara titik-titik perhitungan nilai-nilai dan titik-titik penggunaannya.  Jadi mengapa kita tidak mulai bekerja langsung dengan grafik? <br><br><h2>  Grafik Aliran Data </h2><br>  Grafik aliran data adalah tingkat abstraksi berikutnya setelah bytecode.  Jika kami memperluas pohon sintaks kami dengan hubungan <code>Ident</code> / <code>Assign</code> , atau jika kami melacak bagaimana bytecode memindahkan nilai antara LOCALS dan STACK, kami dapat membuat grafik.  Untuk fungsi <code>ackermann</code> tampilannya seperti ini: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5ad/217/5f7/5ad2175f73cf13fa7e47fb521a9aab1a.png"><br><br>  Tidak seperti AST atau Java stack-bytecode bytecode, grafik aliran data tidak menggunakan konsep "variabel lokal": sebaliknya, grafik berisi koneksi langsung antara setiap nilai dan di mana ia digunakan.  Ketika menganalisis bytecode, seringkali perlu untuk menginterpretasikan secara LOCAL dan STACK secara abstrak untuk memahami bagaimana nilai bergerak;  Analisis AST melibatkan pelacakan pohon dan bekerja dengan tabel simbol yang berisi asosiasi <code>Assign</code> / <code>Ident</code> ;  dan menganalisis grafik aliran data sering kali merupakan pelacakan transisi secara langsung - gagasan murni "nilai-nilai bergerak" tanpa sekam menyajikan program. <br><br>  <code>ackermann</code> juga lebih mudah untuk dimanipulasi daripada bytecode linier: mengganti sebuah node dengan <code>ackermann</code> dengan <code>ackermann2</code> dan <code>ackermann2</code> salah satu argumen hanya mengubah simpul grafik (ditandai dengan warna hijau) dan menghapus salah satu tautan input bersama dengan node transit (ditandai dengan warna merah): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b70/c2d/90d/b70c2d90d886bd7c90cdfbb3cb03b42d.png"><br><br>  Seperti yang Anda lihat, perubahan kecil dalam program (mengganti <code>ackermann(int n, int m)</code> dengan <code>ackermann2(int m)</code> ) berubah menjadi perubahan yang relatif terlokalisasi dalam grafik aliran data. <br><br>  Secara umum, bekerja dengan grafik jauh lebih mudah dibandingkan dengan bytecode linear atau AST: hanya menganalisis dan perubahan. <br><br>  Tidak ada banyak detail dalam uraian grafik ini: selain representasi fisik aktual dari grafik, ada banyak cara lain untuk memodelkan kontrol keadaan dan aliran, yang lebih sulit untuk bekerja dengan dan di luar ruang lingkup artikel.  Saya juga menghilangkan sejumlah detail tentang mengubah grafik, misalnya, menambahkan dan menghapus tautan, transisi maju dan mundur, transisi horizontal dan vertikal (lebar dan kedalaman), dll. Jika Anda mempelajari algoritma, maka semua ini harus Anda ketahui . <br><br>  Akhirnya, kami menghilangkan algoritma konversi dari bytecode linier ke grafik, dan kemudian dari grafik kembali ke bytecode.  Ini sendiri merupakan tugas yang menarik, tetapi kami serahkan kepada Anda untuk belajar mandiri. <br><br><h2>  Analisis </h2><br>  Setelah kami mendapatkan ide program, kami perlu menganalisanya: cari tahu beberapa fakta yang memungkinkan Anda mengubah program tanpa mengubah perilakunya.  Banyak optimasi yang dibahas di atas didasarkan pada analisis program: <br><br><ul><li>  Konstan lipat: Apakah hasil dari ekspresi bekerja dengan nilai konstan yang diketahui?  Apakah perhitungan ekspresi murni? <br></li><li>  Ketik casting dan inlining: adalah metode panggilan ketik tipe dengan implementasi tunggal dari metode yang disebut? <br></li><li>  :     ? <br></li><li>   :    «»?    -     ?  ? <br></li><li>  :  ,        ? <br></li></ul><br>       ,    ,      ,      .       , ,   ,       . <br><br> , , ,  —      ,       .              . <br><br><h2>   (Inference Lattice) </h2><br>    ,       .  , «»  -    : <br><br><ul><li>   <code>Integer</code> ? <code>String</code> ? <code>Array[Float]</code> ? <code>PrintLogger</code> ? <br></li><li>  <code>CharSequence</code> ?      <code>String</code> ,     -  <code>StringBuilder</code> ? <br></li><li>   <code>Any</code> ,     ,    ? <br></li></ul><br>             : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/258/4b1/b4d/2584b1b4d5769ebd78d1dcd84e4f686a.png"><br><br>        :   ,    <code>"hello"</code>   <code>String</code> ,    <code>String</code>   <code>CharSequence</code> .        <code>"hello"</code> ,      (Singleton Type) — .    : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/416/872/547/416872547323d84b9b682852ea1f4dcc.png"><br><br>       ,  ,      .   ,   .   ,        , , <code>String</code>  <code>StringBuilder</code> ,    ,       : <code>CharSequence</code> .   ,    <code>0</code> ,  <code>1</code> ,  <code>2</code> ,    ,   <code>Integer</code> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/76a/79c/cc2/76a79ccc288b609397bdc4013a33f7b5.png"><br><br>      , ,     : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/479/112/0ef/4791120ef75231854b348596b49ab700.png"><br><br>   ,    ,        .  ,     . <br><br><h2>  count </h2><br>      <code>main</code> : <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> count = <span class="hljs-number"><span class="hljs-number">0</span></span>, multiplied = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(count &lt; n){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (multiplied &lt; <span class="hljs-number"><span class="hljs-number">100</span></span>) logger.log(count); count += <span class="hljs-number"><span class="hljs-number">1</span></span>; multiplied *= count; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ...; }</code> </pre> <br>      <code>ackermann</code> ,    <code>count</code> , <code>multiplied</code>  <code>logger</code> .     : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/383/aa5/a19/383aa5a19df21ddbbe6f13555fb4ea1d.png"><br><br>  ,  <code>count</code>   <code>0</code>  <code>block0</code> .      <code>block1</code> ,   ,    <code>count &lt; n</code> :  ,    <code>block3</code>  <code>return</code> ,    <code>block2</code> ,   <code>count</code>  <code>1</code>     <code>count</code> ,    <code>block1</code>   .      ,  <code>&lt;</code>   <code>false</code> ,     <code>block3</code>   . <br><br>   ? <br><br><ul><li>   <code>block0</code> .  ,  <code>count = 0.</code> <br></li><li>   <code>block1</code> ,   ,   <code>n</code> (  ,      <code>Integer</code> ),     ,   <code>if</code> .   <code>block2</code>  <code>block3.</code> </li><li>  <code>block3</code> ,   ,    <code>block1b</code> ,      <code>block2</code> ,   ,     <code>block1c</code> .  ,  <code>block2</code>  <code>count</code> ,    1      <code>count.</code> </li><li>  ,  <code>count</code>    <code>0</code>  <code>1</code> :        <code>count</code>  <code>Integer.</code> </li><li>  :   <code>block1</code>   <code>n</code>  <code>count</code>  <code>Integer</code> . <br></li><li>    <code>block2</code> ,  <code>count</code>   <code>Integer + 1 -&gt; Integer</code> .   ,  <code>count</code>  <code>Integer</code> ,    . <br></li></ul><br><h2>  multiplied </h2><br>      ,   <code>multiplied</code> : <br><br><ul><li>   <code>block0</code> .  ,  <code>multiplied</code>   <code>0.</code> <br></li><li>   <code>block1</code> ,     ,      .   <code>block2</code>  <code>block3</code> (  ). <br></li><li>  <code>block2</code> ,    <code>block2</code> ( <code>0</code> )  <code>count</code> (    <code>Integer</code> ).  <code>0 * Integer -&gt; 0</code> ,   <code>multiplied</code>   <code>0.</code> <br></li><li>    <code>block1</code>  <code>block2</code> . <code>multiplied</code>     <code>0</code> ,    . <br></li></ul><br>  <code>multiplied</code>   <code>0</code> ,  , : <br><br><ul><li> <code>multiplied &lt; 100</code>    <code>true.</code> <br></li><li> <code>if (multiplied &lt; 100) logger.log(count);</code>    <code>logger.log(count)</code> . <br></li><li>    ,    <code>multiplied</code> ,     ,      <code>0</code> . <br></li></ul><br>    : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e9f/5f2/e95/e9f5f2e95c4dc3bfc64d54834c2a19ea.png"><br><br>     : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fd4/625/fdb/fd4625fdb669e5d9e0c4d28a71e67f85.png"><br><br>       : <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> count = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(count &lt; n){ logger.log(count); count += <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ...; }</code> </pre> <br>       ,      ,   ,  ,      . <br><br>  <code>multiplied -&gt; 0</code>      , ,   .  ,     ,      .         ,           . <br><br>     ,       .  : <br><br><ul><li>              . <br></li><li>        . <br></li><li>             . <br></li><li>        :        . <br></li></ul><br>        <code>count</code> ,   <code>multiplied</code> .    ,  <code>multiplied</code>   <code>count</code> ,  <code>count</code>    <code>multiplied</code> .        ,      . <br><br>  ,   —  :       ,      .  ,      ( )      .          . <br><br>         <code>while</code> ,    ,    <code>O(  )</code> .     (,       )    ,     ,    . <br><br>           ,    . <br><br><h2>    </h2><br>        ,        .      ,   ,                 ,    ,           . <br><br><h2>    </h2><br>       .    : <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> called(n, <span class="hljs-number"><span class="hljs-number">0</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">called</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> y)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x * y; }</code> </pre> <br>         : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/45a/a32/471/45aa32471c28271c2755e5494a590891.png"><br><br>    <code>main</code> : <br><br><ul><li>  <code>main(n)</code> <br><ul><li>  <code>called(n, 0)</code> <br><ul><li>  <code>x * y</code>  <code>x = n</code>  <code>y = 0</code> </li><li> <code>n * 0</code>  <code>0</code> </li></ul></li><li> <code>called(n, 0)</code>  <code>0</code> </li></ul></li><li> <code>main(n)</code>  <code>0</code> <br></li></ul><br>        ,    ,     .              . <br><br>  ,  <code>called(n, 0)</code>  <code>0</code> ,         : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3e8/484/17d/3e848417db361dae9f39425ddeed1a13.png"><br><br>    : <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre> <br>     :  A  B,  C,  D,  D     C, B, D  A.    A  B  B  A,   A   A,    ,     ! <br><br><h2>    </h2><br>    ,    Java: <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Any </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">factorial</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (n == <span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n * factorial(n - <span class="hljs-number"><span class="hljs-number">1</span></span>); } }</code> </pre> <br>   <code>n</code>    <code>int</code> ,      <code>Any</code> :     .  ,  <code>factorial</code>  <code>int</code> ( <code>Integer</code>   ).        <code>factorial</code> ,      <code>factorial</code>      <code>factorial</code> ,      !         ? <br><br><h2>   Bottom </h2><br>        <code>Bottom</code> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/abe/520/44e/abe52044e569bfe201c2d0f6998761ec.png"><br><br>   «   ,  ,      ».  <code>Bottom</code>      <code>factorial</code> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/50b/347/73b/50b34773b36ec9470e3bdb03efaec5eb.png"><br><br><ul><li>   <code>block0</code> . <code>n</code>   <code>Integer</code> , <code>1</code>  <code>1</code> ,   <code>n == 1</code>  ,      <code>true</code>  <code>false</code> . <br></li><li>  <code>true</code>  : <code>return</code>  <code>1</code> . <br></li><li>   <code>false</code>  <code>n - 1</code>  <code>n</code>   <code>Integer</code> . <br></li><li> <code>factorial</code> —   ,      <code>Bottom</code> . <br></li><li> <code>*</code>  <code>n: Integer</code>  <code>factorial</code> : <code>Bottom</code>   <code>Bottom</code> . <br></li><li> <code>return</code>  <code>Bottom</code> . </li><li>   <code>factorial</code>  <code>1</code>  <code>Bottom</code> ,           <code>1</code> . <br></li><li>  <code>1</code>      <code>factorial</code> ,      <code>Bottom</code> . <br></li><li> <code>Integer * 1</code>  <code>Integer</code> . <br></li><li> <code>return</code>   <code>Integer</code> . </li><li> <code>factorial</code>   <code>Integer</code>  <code>1</code> ,        <code>Integer</code> . <br></li><li> <i></i>    <code>factorial</code> ,      <code>Integer</code> .  <code>*</code>  <code>n: Integer</code>  <code>factorial: Integer</code> ,    <code>Integer</code> ,     . <br></li></ul><br>     <code>factorial</code>   <code>Integer</code> ,   ,        . <br><br>     ,        .           <code>Bottom</code> ,     ,                   . <br><br>     <code>*</code>  : <br><br><ol><li> <code>(n: Integer) * (factorial: Bottom)</code> <br> </li><li> <code>(n: Integer) * (factorial: 1)</code> <br> </li><li> <code>(n: Integer) * (factorial: Integer)</code> <br> </li></ol><br>        <code>multiplied</code>  ,        <code>O(  )</code> .            , , . <br><br><h2>     </h2><br>     —   ,     «  ».      ,        (« »),  ,        (« »).     . <br><br>        <code>main</code> : <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> count = <span class="hljs-number"><span class="hljs-number">0</span></span>, total = <span class="hljs-number"><span class="hljs-number">0</span></span>, multiplied = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(count &lt; n){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (multiplied &gt; <span class="hljs-number"><span class="hljs-number">100</span></span>) count += <span class="hljs-number"><span class="hljs-number">1</span></span>; count += <span class="hljs-number"><span class="hljs-number">1</span></span>; multiplied *= <span class="hljs-number"><span class="hljs-number">2</span></span>; total += <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> count; }</code> </pre> <br>     ,       <code>if (multiplied &gt; 100)</code>   <code>multiplied *= count</code>  <code>multiplied *= 2</code> .        . <br><br><h2>       </h2><br>   ,       : <br><br><ul><li> <code>multiplied &gt; 100</code>    <code>true</code> ,  <code>count += 1</code>     («»). <br></li><li> <code>total</code>    ,       («»). <br></li></ul><br>  ,    : <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> count = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(count &lt; n){ count += <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> count; }</code> </pre> <br>   ,     . <br><br>      : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0f1/2a1/af5/0f12a1af57586674b9e1a7fb1ae13c86.png"><br><br>    ,    ,    :   <code>block0</code> ,   <code>block1</code> ,    ,    <code>block1b</code> ,    ,    <code>block1c</code> ,   ,      <code>return</code>  <code>block3</code> . <br><br><h2>      </h2><br>        ,     <code>multiplied -&gt; 0</code> ,   : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/92a/1dd/f90/92a1ddf903dcc52cc9966220c56db876.png"><br><br>   : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/906/1ef/09c/9061ef09c209275be5158a8b3184a5bc.png"><br><br>  ,     <code>block1b</code> ( <code>0 &gt; 100</code> )    <code>true</code> .   <code>false</code>   <code>block1c</code> <i></i>     (   <code>if</code> ): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/587/21e/8e4/58721e8e43fb326379c796593f9bd2a7.png"><br><br> ,   « » <code>total</code>  <code>&gt;</code> ,  - ,         ,    .   ,       <code>return</code> ,   <i></i>    : <code>&gt;</code> , <code>100</code> , <code>0</code>  <code>block1b</code> , <code>total</code> , <code>0</code> ,  <code>+ 1</code> ,   <code>total</code>  <code>block0</code>  <code>block2</code> .   : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/55b/508/e16/55b508e164d0c4421aa525dcab56e122.png"><br><br>      «» : <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> count = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(count &lt; n){ count += <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> count; }</code> </pre><br><h2>  Kesimpulan </h2><br>          : <br><br><ul><li>    -. <br></li><li> ,         . <br></li><li>   ,               .           . <br></li><li>   : «»      «»   , , . <br></li><li>      :   ,      . <br></li><li>         ,         . <br></li></ul><br>  ,         ,       . <br><br>        ,     .     .    ,    : <br><br><ul><li> <a href="https://www.amazon.com/Engineering-Compiler-Keith-Cooper/dp/012088478X">Engineering a Compiler by Keith D Cooper &amp; Linda Torczon</a> <br></li><li> <a href="https://www.researchgate.net/profile/Cliff_Click/publication/2394127_Combining_Analyses_Combining_Optimizations/links/0a85e537233956f6dd000000.pdf">Combining Analyses, Combining Optimizations by Cliff Noel Click Jr.</a> <br></li><li> <a href="https://www.amazon.com/Advanced-Compiler-Design-Implementation-Muchnick/dp/1558603204">Advanced Compiler Design and Implementation by Steven Muchnick</a> <br></li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id477062/">https://habr.com/ru/post/id477062/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id477050/index.html">Black Friday 2019 untuk pengawasan video dan cloud.</a></li>
<li><a href="../id477052/index.html">Reaktor, WebFlux, Kotlin Coroutines, atau Asynchrony dengan Contoh Sederhana</a></li>
<li><a href="../id477054/index.html">Webasto Mengumumkan Sistem Baterai Otomotif Modular</a></li>
<li><a href="../id477058/index.html">Enterprise Agile Russia di Raiffeisenbank 26/11 + Broadcast</a></li>
<li><a href="../id477060/index.html">DataArt akan menyelenggarakan kuliah terbuka oleh Andrei Terekhov, Kepala Departemen Pemrograman Sistem, Matmekh, Universitas Negeri St. Petersburg</a></li>
<li><a href="../id477072/index.html">Pengembangan Pelanggan atau bagaimana meluncurkan produk tanpa kegagalan?</a></li>
<li><a href="../id477074/index.html">Utas Ariadne: bagaimana jatuh cinta dengan JSR-133. Laporan Yandex</a></li>
<li><a href="../id477078/index.html">WebStorm 2019.3: peluncuran lebih cepat, peningkatan dukungan untuk Vue.js dan peningkatan lainnya</a></li>
<li><a href="../id477082/index.html">Kongres A.S. vs. Zuckerberg: apa yang dilakukan pembuat kebijakan terhadap libra stabil dari Facebook</a></li>
<li><a href="../id477084/index.html">Otak perusahaan. Bagian 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>