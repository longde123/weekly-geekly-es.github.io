<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏂🏽 👩🏽‍🎓 👧🏿 Intelligentes Gewächshaus im Telegramm 👨🏿‍🎨 🐷 🕙</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Guten Tag. Auf unserer Website befindet sich ein Gewächshaus. Das Hauptproblem ist die Überhitzung bei heißem Wetter in erster Linie für den sibirisch...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Intelligentes Gewächshaus im Telegramm</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/400499/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guten Tag. </font><font style="vertical-align: inherit;">Auf unserer Website befindet sich ein Gewächshaus. </font><font style="vertical-align: inherit;">Das Hauptproblem ist die Überhitzung bei heißem Wetter </font><font style="vertical-align: inherit;">in erster Linie für den sibirischen Frühling konzipiert. </font><font style="vertical-align: inherit;">Der einzige Ausweg besteht darin, Türen und Fenster ständig zu öffnen / schließen, um die Temperatur aufrechtzuerhalten. </font><font style="vertical-align: inherit;">Dies ist jedoch nicht immer möglich. </font><font style="vertical-align: inherit;">Und wenn dies nicht getan wird, steigt die Temperatur auf +50 Grad, was eindeutig nicht gut ist. </font><font style="vertical-align: inherit;">Und abends kann alles eingefroren werden. </font><font style="vertical-align: inherit;">Und so begann seine Automatisierung.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/dad/e37/ae3/dade37ae3afba69377f7d7ac53a94b3b.jpg" alt="image"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zuerst haben wir einen Raspberry Pi 2 gekauft. Nachdem wir uns damit befasst haben, haben wir den DS18B20-Sensor für diesen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel angeschlossen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dann wurden zwei Gebrauchtwagenfenster gekauft. Wie alle Gleichstrommotoren bewegen sie sich entsprechend der Polarität. Deshalb schließen wir zwei Relais an jeden Motor an: eines zum Öffnen, das andere zum Schließen. Wir verbinden diese Relais bereits über Transistoren mit den GPIO-Ports selbst. Und wir speisen das Ganze mit einer 12V Batterie. Um die Motoren nicht zu verbrennen, wurden an den äußersten Positionen des Fensters Endschalter installiert, und wenn das Fenster geöffnet / geschlossen wurde, wurde das Netzwerk vollständig zerrissen. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/976/39f/9d2/97639f9d24e51af037d3baca1200359e.jpg" alt="image"><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/1ec/ed9/824/1eced98242cb39b2a74d3d8babb31a19.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für die Kommunikation verwenden wir den TP-LINK WiFi-Adapter mit der fortschrittlichen Double Square-Antenne für den zuverlässigen Empfang von </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WIFI-Nachbarn</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Heim-WIFI-Router, der sich in einer Entfernung von 40 Metern befindet. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/a7a/c93/db7/a7ac93db7ed2017891be1ded712e1e25.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt schreiben wir ein Programm zur Steuerung dieser Laufwerke. </font><font style="vertical-align: inherit;">Python wurde ausgewählt, da es Raspberry Pi und speziell GPIO-Ports normal unterstützt. </font><font style="vertical-align: inherit;">Um das Fenster zu öffnen, müssen wir +3,3 V an den Transistor anlegen, der das Relais aktiviert, und dann beginnt er, das Fenster zu öffnen. </font><font style="vertical-align: inherit;">Um es zu schließen, machen wir dasselbe, nur in diesem Fall ist unser Relais gegenüber dem Antrieb angeschlossen. </font><font style="vertical-align: inherit;">Aber bei Raspberry legen wir einfach Strom an den einen oder anderen Port an. </font><font style="vertical-align: inherit;">Wir haben beschlossen, dass wir bei einer Temperatur von mehr als 26 ° C das Fenster für 1 Sekunde öffnen. </font><font style="vertical-align: inherit;">Dann warten wir 3 Minuten. </font><font style="vertical-align: inherit;">Wenn es wieder heiß ist, öffnen Sie das zweite Fenster innerhalb einer Sekunde. </font><font style="vertical-align: inherit;">Wir warten wieder 3 Minuten und machen es noch einmal. </font><font style="vertical-align: inherit;">Das gleiche gilt für das Schließen, nur hier sollte die Temperatur unter 24 Grad liegen. </font><font style="vertical-align: inherit;">Und hier ist der Code:</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">temp.py.</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> RPi.GPIO <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> GPIO
<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time
<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os
<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> datetime<font></font>
<font></font>
GPIO.setmode(GPIO.BOARD)<font></font>
GPIO.cleanup()<font></font>
GPIO.setup(<span class="hljs-number"><span class="hljs-number">31</span></span>, GPIO.OUT)<font></font>
GPIO.setup(<span class="hljs-number"><span class="hljs-number">33</span></span>, GPIO.OUT)<font></font>
GPIO.setup(<span class="hljs-number"><span class="hljs-number">35</span></span>, GPIO.OUT)<font></font>
GPIO.setup(<span class="hljs-number"><span class="hljs-number">37</span></span>, GPIO.OUT)<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment"># </span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">gettemp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> os.path.isdir(<span class="hljs-string"><span class="hljs-string">"id "</span></span>): <span class="hljs-comment"><span class="hljs-comment">#  ,   </span></span>
    tfile2=open(<span class="hljs-string"><span class="hljs-string">"/sys/bus/w1/devices/id "</span></span>)<font></font>
    ttext2=tfile2.read()<font></font>
    tfile2.close()<font></font>
    temp2=ttext2.split(<span class="hljs-string"><span class="hljs-string">"\n"</span></span>)[<span class="hljs-number"><span class="hljs-number">1</span></span>].split(<span class="hljs-string"><span class="hljs-string">" "</span></span>)[<span class="hljs-number"><span class="hljs-number">9</span></span>]<font></font>
    t2=float(temp2[<span class="hljs-number"><span class="hljs-number">2</span></span>:])/<span class="hljs-number"><span class="hljs-number">1000</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> t2
  <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-comment"><span class="hljs-comment"># ,   </span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">'File not found'</span></span>)<font></font>
    t2==<span class="hljs-number"><span class="hljs-number">24</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> t2<font></font>
<font></font>
t2=<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-comment"><span class="hljs-comment">#    </span></span>
<span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>:  <font></font>
t2=gettemp()<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>    t2&lt;<span class="hljs-number"><span class="hljs-number">24</span></span>: <span class="hljs-comment"><span class="hljs-comment">#   24,      </span></span><font></font>
 <font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">37</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)
        <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"close1"</span></span>)<font></font>
        time.sleep(<span class="hljs-number"><span class="hljs-number">1</span></span>)<font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">37</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)<font></font>
<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span>  t2&gt;<span class="hljs-number"><span class="hljs-number">26</span></span>: <span class="hljs-comment"><span class="hljs-comment">#  26,      </span></span>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">35</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)
        <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"open1"</span></span>)<font></font>
        time.sleep(<span class="hljs-number"><span class="hljs-number">2</span></span>)<font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">35</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)<font></font>
        <font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-comment"><span class="hljs-comment">#   </span></span>
        <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"none1"</span></span>)<font></font>
  time.sleep(<span class="hljs-number"><span class="hljs-number">180</span></span>)<span class="hljs-comment"><span class="hljs-comment"># 3 </span></span><font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">#  </span></span><font></font>
t2=gettemp()<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">#   ,    .</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>    t2&lt;<span class="hljs-number"><span class="hljs-number">24</span></span>:<font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">33</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)
        <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"close2"</span></span>)<font></font>
        time.sleep(<span class="hljs-number"><span class="hljs-number">1</span></span>)<font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">33</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)<font></font>
<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span>  t2&gt;<span class="hljs-number"><span class="hljs-number">26</span></span>:<font></font>
  <font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">31</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)
        <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"open2"</span></span>)<font></font>
        time.sleep(<span class="hljs-number"><span class="hljs-number">1</span></span>)<font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">31</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)<font></font>
     <font></font>
<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>:
        <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"none2"</span></span>)<font></font>
<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">#  3 </span></span>
  time.sleep(<span class="hljs-number"><span class="hljs-number">180</span></span>)
</code></pre><br>
</div></div><br>
<br>
<b>     ,    .</b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem wir Apache auf der Raspbian-Distribution installiert hatten, konnten wir die Seite einen Monat lang nicht über das Internet erreichen. Was einfach nicht. Ports einrichten, öffnen, nichts half. Darüber hinaus funktionierte alles im lokalen Netzwerk. Dann haben wir die traurige Wahrheit erfahren: Wir stehen hinter NAT. Und unser Betreiber bietet keine dedizierten IP-Dienste an (Mitarbeiter von Hello to Telecom Region). Durch viele Problemumgehungen sortiert, aber es wurde nichts daraus. Ich habe versucht, eine Webschnittstelle auf dem Hosting zu erstellen, benötige aber auch IP, um die Datenbank zu synchronisieren. Der IPv6-Broker war zu diesem Zeitpunkt bereits geschlossen. Und ein VPN zu machen ist teuer, weil Sie alles kostenlos wollen. Und dann entschieden sie sich für den Telegramm-Bot. Wie sich herausstellte, gibt es zwei Modi: ständige Serverabfrage und direktes Senden von Nachrichten an uns. Die erste Option war geeignet, weil benötigt uns keine IP-Adresse. Beim Stöbern im Internet fand ich eine Bibliothek:pytelegrambotapi. Und machen Sie sich daran, Code zu schreiben. Es stimmte, es gab Probleme. Die kaum gefundene MySQL-Bibliothek weigerte sich, in die Datenbank zu schreiben, las aber alles normal daraus. Ich musste eine Krücke bauen: Daten in eine im RAM gespeicherte Datei übertragen, dann ein Bash-Skript ausführen, das die Daten liest und in der Datenbank speichert.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir machen die Datei config.ini, wir werfen sie dort hin:</font></font><br>
<br>
<pre><code class="hljs pgsql">[mysql]<font></font>
host = localhost<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">database</span></span> = telegram
<span class="hljs-keyword"><span class="hljs-keyword">user</span></span> = root
<span class="hljs-keyword"><span class="hljs-keyword">password</span></span> = secret</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vergessen Sie nicht, die Daten durch Ihre eigenen zu ersetzen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erstellen Sie eine python_mysql_dbconfig.py-Datei mit den folgenden Inhalten:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> configparser <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ConfigParser<font></font>
 <font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">read_db_config</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(filename=</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'config.ini'</span></span></span></span><span class="hljs-function"><span class="hljs-params">, section=</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'mysql'</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span>
    <span class="hljs-string"><span class="hljs-string">""" Read database configuration file and return a dictionary object
    :param filename: name of the configuration file
    :param section: section of database configuration
    :return: a dictionary of database parameters
    """</span></span>
    <span class="hljs-comment"><span class="hljs-comment"># create parser and read ini configuration file</span></span><font></font>
    parser = ConfigParser()<font></font>
    parser.read(filename)<font></font>
 <font></font>
    <span class="hljs-comment"><span class="hljs-comment"># get section, default to mysql</span></span><font></font>
    db = {}<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> parser.has_section(section):<font></font>
        items = parser.items(section)<font></font>
        <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> items:<font></font>
            db[item[<span class="hljs-number"><span class="hljs-number">0</span></span>]] = item[<span class="hljs-number"><span class="hljs-number">1</span></span>]
    <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>:
        <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> Exception(<span class="hljs-string"><span class="hljs-string">'{0} not found in the {1} file'</span></span>.format(section, filename))<font></font>
 <font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> db</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir müssen auch die Datei python_mysql_connect2.py mit folgendem Inhalt erstellen:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> mysql.connector <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> MySQLConnection, Error
<span class="hljs-keyword"><span class="hljs-keyword">from</span></span> python_mysql_dbconfig <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> read_db_config<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">connect</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span>
    <span class="hljs-string"><span class="hljs-string">""" Connect to MySQL database """</span></span><font></font>
<font></font>
    db_config = read_db_config()<font></font>
<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>:<font></font>
        print(<span class="hljs-string"><span class="hljs-string">'Connecting to MySQL database...'</span></span>)<font></font>
        conn = MySQLConnection(**db_config)<font></font>
<font></font>
        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> conn.is_connected():<font></font>
            print(<span class="hljs-string"><span class="hljs-string">'connection established.'</span></span>)
        <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>:<font></font>
            print(<span class="hljs-string"><span class="hljs-string">'connection failed.'</span></span>)<font></font>
<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> Error <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> error:<font></font>
        print(error)<font></font>
<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span>:<font></font>
        conn.close()<font></font>
        print(<span class="hljs-string"><span class="hljs-string">'Connection closed.'</span></span>)<font></font>
<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">'__main__'</span></span>:<font></font>
    connect()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt haben wir alles für die Arbeit mit der Datenbank vorbereitet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie uns ein wenig von der Datenbank abschweifen und direkt mit der Kommunikation mit dem Bot fortfahren. </font><font style="vertical-align: inherit;">Nun, wie immer, schreibe @BotFather und nimm ihm ein Zeichen. </font><font style="vertical-align: inherit;">Erstellen Sie die Datei config.py und schreiben Sie zwei Zeilen hinein:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># -*- coding: utf-8 -*-</span></span>
token = <span class="hljs-string"><span class="hljs-string">' '</span></span>
</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe beschlossen, drei Funktionen im Bot zu implementieren:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Temperatur bekommen</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schnappschüsse machen</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fensterverwaltung</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Mit dem ersten ist alles einfach, auf Anfrage lesen wir die Temperaturdatei und senden sie an den Benutzer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit Bildern schwieriger. Ich verwende das Motion-Dienstprogramm. Bitten Sie in seinen Parametern darum, Bilder in einem Ordner im RAM abzulegen. Nehmen wir an, alle 30 Sekunden. Und wir machen Dateien mit identischen Namen, und sie ersetzen sich einfach gegenseitig. Und dann senden wir auf Anfrage die Datei an den Benutzer.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun, das dritte, komplexeste Modul: Fensterverwaltung. </font><font style="vertical-align: inherit;">Meine Hauptaufgabe: Damit die Automatisierung funktioniert, können wir sie bei Bedarf ausschalten. </font><font style="vertical-align: inherit;">Ich habe es so gemacht. </font><font style="vertical-align: inherit;">Erstellt eine weitere Datei im RAM. </font><font style="vertical-align: inherit;">Wenn wir eine Anfrage zum Öffnen / Schließen, leichten Öffnen, Schließen des Fensters oder Ein- / Ausschalten der Automatisierung senden, schreibt der Bot die Befehlsnummer in diese Datei. </font><font style="vertical-align: inherit;">Alle fünf Sekunden liest das Fensterverwaltungsprogramm diese Datei und führt sie aus, wenn sie den Befehl erkennt. </font><font style="vertical-align: inherit;">Nach der Ausführung wird in dieselbe Datei geschrieben, dass alles gut gelaufen ist. </font><font style="vertical-align: inherit;">Der Bot liest die Datei erneut und benachrichtigt uns, dass der Befehl ausgeführt wurde. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun, jetzt der Quellcode. </font><font style="vertical-align: inherit;">Erstens das gleiche Programm zum Öffnen von Fenstern, das nur für einen Bot (temp.py) wiederholt wurde:</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">temp.py.</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> RPi.GPIO <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> GPIO
<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time
<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os
<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> datetime<font></font>
<font></font>
GPIO.setmode(GPIO.BOARD)<font></font>
GPIO.cleanup()<font></font>
GPIO.setup(<span class="hljs-number"><span class="hljs-number">31</span></span>, GPIO.OUT)<font></font>
GPIO.setup(<span class="hljs-number"><span class="hljs-number">33</span></span>, GPIO.OUT)<font></font>
GPIO.setup(<span class="hljs-number"><span class="hljs-number">35</span></span>, GPIO.OUT)<font></font>
GPIO.setup(<span class="hljs-number"><span class="hljs-number">37</span></span>, GPIO.OUT)<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">#  ,    </span></span>
f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/wind'</span></span>, <span class="hljs-string"><span class="hljs-string">'w'</span></span>)<font></font>
f.write(<span class="hljs-string"><span class="hljs-string">'OK'</span></span>)<font></font>
f.close()<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">#,   </span></span>
f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/pos'</span></span>, <span class="hljs-string"><span class="hljs-string">'w'</span></span>)<font></font>
f.write(<span class="hljs-string"><span class="hljs-string">'1'</span></span>)<font></font>
f.close()<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment"># </span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">gettemp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> os.path.isdir(<span class="hljs-string"><span class="hljs-string">"/sys/bus/w1/devices/id "</span></span>): <span class="hljs-comment"><span class="hljs-comment">#  ,   </span></span>
    tfile2=open(<span class="hljs-string"><span class="hljs-string">"/sys/bus/w1/devices/id /w1_slave"</span></span>)<font></font>
    ttext2=tfile2.read()<font></font>
    tfile2.close()<font></font>
    temp2=ttext2.split(<span class="hljs-string"><span class="hljs-string">"\n"</span></span>)[<span class="hljs-number"><span class="hljs-number">1</span></span>].split(<span class="hljs-string"><span class="hljs-string">" "</span></span>)[<span class="hljs-number"><span class="hljs-number">9</span></span>]<font></font>
    t2=float(temp2[<span class="hljs-number"><span class="hljs-number">2</span></span>:])/<span class="hljs-number"><span class="hljs-number">1000</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> t2
  <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-comment"><span class="hljs-comment"># ,   </span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">'File not found'</span></span>)<font></font>
    t2==<span class="hljs-number"><span class="hljs-number">24</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> t2<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">#   </span></span>
i=<span class="hljs-number"><span class="hljs-number">1</span></span>
<span class="hljs-comment"><span class="hljs-comment"># </span></span>
t2=<span class="hljs-number"><span class="hljs-number">24</span></span><font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">#   </span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">info</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span>
    f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/wind'</span></span>)<font></font>
    com = f.read()<font></font>
    f.close()<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> com<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment"># ,   </span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ans</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span>
    f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/wind'</span></span>, <span class="hljs-string"><span class="hljs-string">'w'</span></span>)<font></font>
    f.write(<span class="hljs-string"><span class="hljs-string">'OK'</span></span>)<font></font>
    f.close()<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"OK"</span></span>)<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment"># </span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rob</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span><font></font>
    c = info()<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> c==<span class="hljs-string"><span class="hljs-string">"10"</span></span>:<font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">37</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)
        <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"close1"</span></span>)<font></font>
        time.sleep(<span class="hljs-number"><span class="hljs-number">3</span></span>)<font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">37</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)<font></font>
        ans()<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> c==<span class="hljs-string"><span class="hljs-string">"11"</span></span>:<font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">35</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)
        <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"open1"</span></span>)<font></font>
        time.sleep(<span class="hljs-number"><span class="hljs-number">2</span></span>)<font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">35</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)<font></font>
        ans()<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> c==<span class="hljs-string"><span class="hljs-string">"12"</span></span>:<font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">37</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)
        <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"close1"</span></span>)<font></font>
        time.sleep(<span class="hljs-number"><span class="hljs-number">3</span></span>)<font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">37</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)<font></font>
        ans()<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> c==<span class="hljs-string"><span class="hljs-string">"13"</span></span>:<font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">35</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)
        <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"open1"</span></span>)<font></font>
        time.sleep(<span class="hljs-number"><span class="hljs-number">1</span></span>)<font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">35</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)<font></font>
        ans()<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> c==<span class="hljs-string"><span class="hljs-string">"20"</span></span>:<font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">33</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)
        <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"close2"</span></span>)<font></font>
        time.sleep(<span class="hljs-number"><span class="hljs-number">3</span></span>)<font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">33</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)<font></font>
        ans()<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> c==<span class="hljs-string"><span class="hljs-string">"21"</span></span>:<font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">31</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)
        <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"open2"</span></span>)<font></font>
        time.sleep(<span class="hljs-number"><span class="hljs-number">3</span></span>)<font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">31</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)<font></font>
        ans()<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> c==<span class="hljs-string"><span class="hljs-string">"22"</span></span>:<font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">33</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)
        <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"close2"</span></span>)<font></font>
        time.sleep(<span class="hljs-number"><span class="hljs-number">1</span></span>)<font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">33</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)<font></font>
        ans()<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> c==<span class="hljs-string"><span class="hljs-string">"23"</span></span>:<font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">31</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)
        <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"open2"</span></span>)<font></font>
        time.sleep(<span class="hljs-number"><span class="hljs-number">1</span></span>)<font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">31</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)<font></font>
        ans()<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> c==<span class="hljs-string"><span class="hljs-string">"30"</span></span>:
        <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> i<font></font>
        i=<span class="hljs-number"><span class="hljs-number">0</span></span><font></font>
        ans()<font></font>
        f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/pos'</span></span>, <span class="hljs-string"><span class="hljs-string">'w'</span></span>)<font></font>
        f.write(<span class="hljs-string"><span class="hljs-string">'0'</span></span>)<font></font>
        f.close()<font></font>
        print(<span class="hljs-string"><span class="hljs-string">'30'</span></span>)
        <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> i<font></font>
        i=<span class="hljs-number"><span class="hljs-number">0</span></span><font></font>
        ans()<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> c==<span class="hljs-string"><span class="hljs-string">"31"</span></span>:<font></font>
        f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/pos'</span></span>, <span class="hljs-string"><span class="hljs-string">'w'</span></span>)<font></font>
        f.write(<span class="hljs-string"><span class="hljs-string">'1'</span></span>)<font></font>
        f.close()<font></font>
        print(<span class="hljs-string"><span class="hljs-string">'31'</span></span>)
        <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> i<font></font>
        i=<span class="hljs-number"><span class="hljs-number">1</span></span><font></font>
        ans()<font></font>
        <font></font>
<span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>:<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">#   </span></span><font></font>
 rob()<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">#,   </span></span>
 <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> i==<span class="hljs-number"><span class="hljs-number">1</span></span>:<font></font>
<font></font>
  gettemp()<font></font>
<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>    t2&lt;<span class="hljs-number"><span class="hljs-number">24</span></span>:<font></font>
 <font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">37</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)
        <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"close1"</span></span>)<font></font>
        time.sleep(<span class="hljs-number"><span class="hljs-number">1</span></span>)<font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">37</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)<font></font>
<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span>  t2&gt;<span class="hljs-number"><span class="hljs-number">26</span></span>:<font></font>
<font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">35</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)
        <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"open1"</span></span>)<font></font>
        time.sleep(<span class="hljs-number"><span class="hljs-number">2</span></span>)<font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">35</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)<font></font>
<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>:
        <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"none1"</span></span>)<font></font>
       <font></font>
  <span class="hljs-comment"><span class="hljs-comment"># 3 ,       </span></span>
  j=<span class="hljs-number"><span class="hljs-number">0</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(j&lt;<span class="hljs-number"><span class="hljs-number">36</span></span>):<font></font>
      rob()<font></font>
      time.sleep(<span class="hljs-number"><span class="hljs-number">5</span></span>)<font></font>
      j=j+<span class="hljs-number"><span class="hljs-number">1</span></span>
      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> i==<span class="hljs-number"><span class="hljs-number">0</span></span>:
          <span class="hljs-keyword"><span class="hljs-keyword">break</span></span><font></font>
  gettemp()<font></font>
<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>    t2&lt;<span class="hljs-number"><span class="hljs-number">24</span></span>:<font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">33</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)
        <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"close2"</span></span>)<font></font>
        time.sleep(<span class="hljs-number"><span class="hljs-number">1</span></span>)<font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">33</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)<font></font>
       <font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span>  t2&gt;<span class="hljs-number"><span class="hljs-number">26</span></span>:<font></font>
  <font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">31</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)
        <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"open2"</span></span>)<font></font>
        time.sleep(<span class="hljs-number"><span class="hljs-number">1</span></span>)<font></font>
        GPIO.output(<span class="hljs-number"><span class="hljs-number">31</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)<font></font>
<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>:<font></font>
<font></font>
        <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"none2"</span></span>)<font></font>
<font></font>
  j=<span class="hljs-number"><span class="hljs-number">0</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(j&lt;<span class="hljs-number"><span class="hljs-number">36</span></span>):<font></font>
      rob()<font></font>
      time.sleep(<span class="hljs-number"><span class="hljs-number">5</span></span>)<font></font>
      j=j+<span class="hljs-number"><span class="hljs-number">1</span></span>
      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> i==<span class="hljs-number"><span class="hljs-number">0</span></span>:
          <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>
</code></pre><br>
<br>
</div></div> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber jetzt reden wir über den Bot selbst. Wie gesagt, ich benutze die PyTelegramBotApi-Bibliothek. Wenn Sie sich der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dokumentation auf GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zuwenden </font><font style="vertical-align: inherit;">, können Sie verstehen, dass der Bot Handler verwendet, um Befehle zu verarbeiten. Handler ist ein Ereignis in unserem Programm, das eine Aktion definiert. In unserem Fall ist dies eine bestimmte Phrase in der Nachricht. Und Action ist alles, was wir in Python tun können. In diesem Fall senden wir dem Benutzer einige Informationen an den Benutzer oder schreiben Befehle für Windows in eine Datei. Grundsätzlich besteht unser Programm aus diesen Handlern und dem Server Polling-Befehl.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber ich habe auch eine weitere interessante Sache geschrieben und hinzugefügt: den Autorisierungsblock. </font><font style="vertical-align: inherit;">Nun, wie der Name schon sagt, soll es unser Gewächshaus vor unbefugtem Zugriff schützen. </font><font style="vertical-align: inherit;">Es funktioniert einfach. </font><font style="vertical-align: inherit;">Wenn Sie sich zum ersten Mal mit dem Bot verbinden, werden Sie nach einem Passwort gefragt. </font><font style="vertical-align: inherit;">Wenn wir es richtig eingeben, fügt uns der Bot der Datenbank hinzu und bei den nächsten Verbindungen müssen wir uns nicht mehr anmelden. </font><font style="vertical-align: inherit;">Der Bot erkennt uns anhand der Chat-ID. </font><font style="vertical-align: inherit;">Wir speichern die Chat-ID des letzten Benutzers in einer Variablen, um die Datenbank nicht ständig abzurufen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erstellen Sie nun die Datei daba.py und schreiben Sie Folgendes:</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">daba.py.</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> mysql.connector <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> MySQLConnection, Error
<span class="hljs-keyword"><span class="hljs-keyword">from</span></span> python_mysql_dbconfig <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> read_db_config
<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getkey</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#   </span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>:<font></font>
        dbconfig = read_db_config()<font></font>
        conn = MySQLConnection(**dbconfig)<font></font>
        cursor = conn.cursor()<font></font>
        cursor.execute(<span class="hljs-string"><span class="hljs-string">"SELECT key2 FROM tkey where id=0"</span></span>)<font></font>
<font></font>
        row = cursor.fetchone()<font></font>
<font></font>
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> row<font></font>
        print(row)<font></font>
  <font></font>
<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> Error <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> e:<font></font>
        print(e)<font></font>
<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span>:<font></font>
        cursor.close()<font></font>
        conn.close()<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sendup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#    ( )</span></span><font></font>
    stime=time.time()<font></font>
    query = <span class="hljs-string"><span class="hljs-string">"INSERT INTO uptime(datetime, also) "</span></span> \
    <span class="hljs-string"><span class="hljs-string">"VALUES(now(), 20)"</span></span><font></font>
    args=(stime)<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>:<font></font>
        dbconfig = read_db_config()<font></font>
        conn = MySQLConnection(**dbconfig)<font></font>
        cursor = conn.cursor()<font></font>
        cursor.execute(query)<font></font>
<font></font>
        row = cursor.fetchone()<font></font>
<font></font>
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>(row)<font></font>
        print(row)<font></font>
  <font></font>
<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> Error <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> e:<font></font>
        print(e)<font></font>
<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span>:<font></font>
        cursor.close()<font></font>
        conn.close()<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getid</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(idi)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#   id   </span></span>
    query=<span class="hljs-string"><span class="hljs-string">"SELECT accecpt FROM users WHERE chatid ='"</span></span>+str(idi)+<span class="hljs-string"><span class="hljs-string">"'"</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>:<font></font>
        dbconfig = read_db_config()<font></font>
        conn = MySQLConnection(**dbconfig)<font></font>
        cursor = conn.cursor()<font></font>
        cursor.execute(query)<font></font>
<font></font>
        row = cursor.fetchone()<font></font>
        <span class="hljs-comment"><span class="hljs-comment">#print (str(row))</span></span>
        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> str(row)==<span class="hljs-string"><span class="hljs-string">"None"</span></span>:
            <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>;
            <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-number"><span class="hljs-number">0</span></span>)
        <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>:
            <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span>;<font></font>
<font></font>
  <font></font>
<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> Error <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> e:<font></font>
        print(e)<font></font>
<font></font>
    <span class="hljs-comment"><span class="hljs-comment">#finally:</span></span>
        <span class="hljs-comment"><span class="hljs-comment">#cursor.close()</span></span>
        <span class="hljs-comment"><span class="hljs-comment">#conn.close()</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">newuser</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(idi)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#    </span></span>
    query = (<span class="hljs-string"><span class="hljs-string">"INSERT INTO users SET `chatid`='12345'"</span></span>)
    <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>:<font></font>
        dbconfig = read_db_config()<font></font>
        conn = MySQLConnection(**dbconfig)<font></font>
        cursor = conn.cursor()<font></font>
        cursor.execute(query)<font></font>
<font></font>
        row = cursor.fetchone()<font></font>
<font></font>
        print(row)<font></font>
  <font></font>
<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> Error <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> e:<font></font>
        print(e)<font></font>
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>(e)<font></font>
<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span>:<font></font>
        cursor.close()<font></font>
        conn.close()<font></font>
<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">'__main__'</span></span>:<font></font>
    query_with_fetchone()<font></font>
</code></pre><br>
</div></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie uns auch gleich einige weitere Hilfsskripte erstellen. </font><font style="vertical-align: inherit;">Erstellen Sie eine newuser.sh-Datei und schreiben Sie darauf:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-meta"><span class="hljs-meta">#!/bin/bash</span></span><font></font>
a=`cat /mnt/raw/user`<font></font>
cat /dev/null &gt; /mnt/raw/user<font></font>
<font></font>
mysql -u root -pkoshak &lt;&lt; EOF<font></font>
use telegram;<font></font>
INSERT INTO users(chatid) VALUES(<span class="hljs-string"><span class="hljs-string">'$a'</span></span>);<font></font>
EOF<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erstellen Sie zwei Skripte zum Starten des Bots und des Windows-Programms:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-meta"><span class="hljs-meta">#!/bin/bash</span></span><font></font>
i=0<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">while</span></span> [ <span class="hljs-variable"><span class="hljs-variable">$i</span></span> = 0 ]
<span class="hljs-keyword"><span class="hljs-keyword">do</span></span>
<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> New python<font></font>
sleep 5<font></font>
python3 bot.py<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">done</span></span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und noch eins:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-meta"><span class="hljs-meta">#!/bin/bash</span></span><font></font>
i=0<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">while</span></span> [ <span class="hljs-variable"><span class="hljs-variable">$i</span></span> = 0 ]
<span class="hljs-keyword"><span class="hljs-keyword">do</span></span>
<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> New python<font></font>
sleep 5<font></font>
python3 temp.py<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">done</span></span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 "Warum machen wir das?" </font><font style="vertical-align: inherit;">du fragst. </font><font style="vertical-align: inherit;">Und hier ist die Tatsache, dass das Programm manchmal aufgrund einer instabilen Internetverbindung oder eines Fehlers auf dem Telegrammserver abstürzen kann. </font><font style="vertical-align: inherit;">Und das Skript treibt es in einem ewigen Zyklus an: Es flog heraus - es startete nach 5 Sekunden wieder. </font><font style="vertical-align: inherit;">Und für Fenster habe ich es für jeden Feuerwehrmann getan: Plötzlich stürzt das Programm aufgrund einer Fehlfunktion ab, aber wir sind nicht im Gewächshaus, wir kehren zurück und wir werden Tomatensuppe oder Tomateneis haben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun und das Wichtigste ist das Bot-Skript selbst:</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bot.py</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># -*- coding: utf-8 -*-</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> config
<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> telebot
<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> subprocess
<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time
<span class="hljs-keyword"><span class="hljs-keyword">from</span></span> telebot <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> types
<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> datetime
<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os
<span class="hljs-keyword"><span class="hljs-keyword">from</span></span> daba <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> getkey
<span class="hljs-keyword"><span class="hljs-keyword">from</span></span> daba <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sendup
<span class="hljs-keyword"><span class="hljs-keyword">from</span></span> daba <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> getid
<span class="hljs-comment"><span class="hljs-comment">#from daba import newuser</span></span>
<span class="hljs-comment"><span class="hljs-comment">#from temp import tep</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment"># </span></span>
f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/user'</span></span>, <span class="hljs-string"><span class="hljs-string">'tw'</span></span>, encoding=<span class="hljs-string"><span class="hljs-string">'utf-8'</span></span>)<font></font>
f.close()<font></font>
<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">global</span></span> par<font></font>
par=<span class="hljs-number"><span class="hljs-number">0</span></span><font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">#   </span></span>
<span class="hljs-keyword"><span class="hljs-keyword">global</span></span> a<font></font>
a=<span class="hljs-string"><span class="hljs-string">"  .    /auth []"</span></span><font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">#  </span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_temp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> os.path.isdir(<span class="hljs-string"><span class="hljs-string">"/sys/bus/w1/devices/id "</span></span>):<font></font>
<font></font>
    tfile2=open(<span class="hljs-string"><span class="hljs-string">"/sys/bus/w1/devices/id /w1_slave"</span></span>)<font></font>
    ttext2=tfile2.read()<font></font>
    tfile2.close()<font></font>
    temp2=ttext2.split(<span class="hljs-string"><span class="hljs-string">"\n"</span></span>)[<span class="hljs-number"><span class="hljs-number">1</span></span>].split(<span class="hljs-string"><span class="hljs-string">" "</span></span>)[<span class="hljs-number"><span class="hljs-number">9</span></span>]<font></font>
    t2=float(temp2[<span class="hljs-number"><span class="hljs-number">2</span></span>:])/<span class="hljs-number"><span class="hljs-number">1000</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> t2<font></font>
<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>:
    <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">'File not found'</span></span>)<font></font>
  <font></font>
<span class="hljs-comment"><span class="hljs-comment">#</span></span>
keyword=str(getkey())[<span class="hljs-number"><span class="hljs-number">2</span></span>:<span class="hljs-number"><span class="hljs-number">-3</span></span>]<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment"># </span></span><font></font>
bot = telebot.TeleBot(config.token)<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (sendup())
<span class="hljs-comment"><span class="hljs-comment">#  </span></span><font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">######################### ##########################################</span></span>
markup2 = types.ReplyKeyboardMarkup(row_width=<span class="hljs-number"><span class="hljs-number">1</span></span>, resize_keyboard=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) <span class="hljs-comment"><span class="hljs-comment">#, ,     </span></span>
markdown = types.ReplyKeyboardHide() <span class="hljs-comment"><span class="hljs-comment">#</span></span>
itembtn5 = types.KeyboardButton(<span class="hljs-string"><span class="hljs-string">' '</span></span>) <span class="hljs-comment"><span class="hljs-comment">#  5</span></span>
markup2.add(itembtn5) <span class="hljs-comment"><span class="hljs-comment">#   </span></span>
<span class="hljs-comment"><span class="hljs-comment">######################### ##########################################</span></span><font></font>
<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">#########################  ##########################################</span></span>
markup = types.ReplyKeyboardMarkup(row_width=<span class="hljs-number"><span class="hljs-number">3</span></span>, resize_keyboard=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) <span class="hljs-comment"><span class="hljs-comment">#, ,     </span></span>
itembtn1 = types.KeyboardButton(<span class="hljs-string"><span class="hljs-string">'  '</span></span>) <span class="hljs-comment"><span class="hljs-comment">#  1</span></span>
itembtn4 = types.KeyboardButton(<span class="hljs-string"><span class="hljs-string">'  '</span></span>)<font></font>
itembtn2 = types.KeyboardButton(<span class="hljs-string"><span class="hljs-string">'  '</span></span>) <span class="hljs-comment"><span class="hljs-comment">#  2</span></span>
markup.add(itembtn1, itembtn4, itembtn2) <span class="hljs-comment"><span class="hljs-comment">#   </span></span>
<span class="hljs-comment"><span class="hljs-comment">#########################  ##########################################</span></span><font></font>
<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">######################### ##########################################</span></span><font></font>
<font></font>
markup3 = types.ReplyKeyboardMarkup(row_width=<span class="hljs-number"><span class="hljs-number">2</span></span>, resize_keyboard=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) <span class="hljs-comment"><span class="hljs-comment">#, ,     </span></span>
itembtn10 = types.KeyboardButton(<span class="hljs-string"><span class="hljs-string">'   '</span></span>) <span class="hljs-comment"><span class="hljs-comment">#  10</span></span>
itembtn11 = types.KeyboardButton(<span class="hljs-string"><span class="hljs-string">'️  '</span></span>)<font></font>
itembtn12 = types.KeyboardButton(<span class="hljs-string"><span class="hljs-string">' '</span></span>)<font></font>
markup3.add(itembtn10, itembtn11, itembtn12) <span class="hljs-comment"><span class="hljs-comment">#   </span></span><font></font>
<font></font>
markup4 = types.ReplyKeyboardMarkup(row_width=<span class="hljs-number"><span class="hljs-number">2</span></span>, resize_keyboard=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) <span class="hljs-comment"><span class="hljs-comment">#, ,     </span></span>
itembtn13 = types.KeyboardButton(<span class="hljs-string"><span class="hljs-string">'   '</span></span>) <span class="hljs-comment"><span class="hljs-comment">#  13</span></span>
markup4.add(itembtn13, itembtn11, itembtn12) <span class="hljs-comment"><span class="hljs-comment">#   </span></span><font></font>
<font></font>
markup5 = types.ReplyKeyboardMarkup(row_width=<span class="hljs-number"><span class="hljs-number">2</span></span>, resize_keyboard=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) <span class="hljs-comment"><span class="hljs-comment">#, ,     </span></span>
itembtn14 = types.KeyboardButton(<span class="hljs-string"><span class="hljs-string">'  '</span></span>) <span class="hljs-comment"><span class="hljs-comment">#  14</span></span>
itembtn15 = types.KeyboardButton(<span class="hljs-string"><span class="hljs-string">'  '</span></span>) <span class="hljs-comment"><span class="hljs-comment">#  15</span></span>
itembtn16 = types.KeyboardButton(<span class="hljs-string"><span class="hljs-string">'️ '</span></span>) <span class="hljs-comment"><span class="hljs-comment">#  16</span></span>
markup5.add(itembtn14, itembtn15, itembtn16) <span class="hljs-comment"><span class="hljs-comment">#   </span></span><font></font>
<font></font>
markup6 = types.ReplyKeyboardMarkup(row_width=<span class="hljs-number"><span class="hljs-number">2</span></span>, resize_keyboard=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) <span class="hljs-comment"><span class="hljs-comment">#, ,     </span></span>
itembtn17 = types.KeyboardButton(<span class="hljs-string"><span class="hljs-string">'️   '</span></span>) <span class="hljs-comment"><span class="hljs-comment">#  17</span></span>
itembtn18 = types.KeyboardButton(<span class="hljs-string"><span class="hljs-string">'️   '</span></span>) <span class="hljs-comment"><span class="hljs-comment">#  18</span></span>
itembtn19 = types.KeyboardButton(<span class="hljs-string"><span class="hljs-string">'   '</span></span>) <span class="hljs-comment"><span class="hljs-comment">#  19</span></span>
itembtn20 = types.KeyboardButton(<span class="hljs-string"><span class="hljs-string">'   '</span></span>) <span class="hljs-comment"><span class="hljs-comment"># 20</span></span>
itembtn21 = types.KeyboardButton(<span class="hljs-string"><span class="hljs-string">'️ '</span></span>) <span class="hljs-comment"><span class="hljs-comment">#  21</span></span>
markup6.add(itembtn17, itembtn18, itembtn19, itembtn20, itembtn21) <span class="hljs-comment"><span class="hljs-comment">#   </span></span><font></font>
<font></font>
markup7 = types.ReplyKeyboardMarkup(row_width=<span class="hljs-number"><span class="hljs-number">2</span></span>, resize_keyboard=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) <span class="hljs-comment"><span class="hljs-comment">#, ,     </span></span>
itembtn22 = types.KeyboardButton(<span class="hljs-string"><span class="hljs-string">'️   '</span></span>) <span class="hljs-comment"><span class="hljs-comment">#  22</span></span>
itembtn23 = types.KeyboardButton(<span class="hljs-string"><span class="hljs-string">'️   '</span></span>) <span class="hljs-comment"><span class="hljs-comment">#  23</span></span>
itembtn24 = types.KeyboardButton(<span class="hljs-string"><span class="hljs-string">'   '</span></span>) <span class="hljs-comment"><span class="hljs-comment"># 24</span></span>
itembtn25 = types.KeyboardButton(<span class="hljs-string"><span class="hljs-string">'   '</span></span>) <span class="hljs-comment"><span class="hljs-comment"># 25</span></span>
markup7.add(itembtn22, itembtn23, itembtn24, itembtn25, itembtn21) <span class="hljs-comment"><span class="hljs-comment">#   </span></span>
<span class="hljs-comment"><span class="hljs-comment">######################### ##########################################</span></span>
bot.send_message(<span class="hljs-number"><span class="hljs-number">45215125</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>)<span class="hljs-comment"><span class="hljs-comment">#   chat-id</span></span><font></font>
<font></font>
<font></font>
    <font></font>
<span class="hljs-comment"><span class="hljs-comment">#   </span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pos</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span>
    f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/pos'</span></span>)<font></font>
    com = f.read()<font></font>
    f.close()<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> com<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">#</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">avtor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(idi)</span></span></span><span class="hljs-function">:</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> par<span class="hljs-comment"><span class="hljs-comment">#      </span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> par==idi:
            <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>:<span class="hljs-comment"><span class="hljs-comment">#    ,    ,  0</span></span>
            <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> getid(str(idi))==<span class="hljs-number"><span class="hljs-number">20</span></span>:<font></font>
                par=idi<span class="hljs-comment"><span class="hljs-comment">#   </span></span>
                <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>
            <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>:<span class="hljs-comment"><span class="hljs-comment">#     </span></span>
                bot.send_message(idi, <span class="hljs-string"><span class="hljs-string">"  .    /auth []"</span></span>, reply_markup=markup2)
                <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>    <font></font>
        <font></font>
<font></font>
<font></font>
<span class="hljs-meta"><span class="hljs-meta">@bot.message_handler(regexp=" ")</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">auth</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(message)</span></span></span><span class="hljs-function">:</span></span>
    bot.send_message(message.chat.id, <span class="hljs-string"><span class="hljs-string">" /auth []"</span></span>)<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment"># </span></span>
<span class="hljs-meta"><span class="hljs-meta">@bot.message_handler(commands=['auth'])</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start2</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(message)</span></span></span><span class="hljs-function">:</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> message.text[<span class="hljs-number"><span class="hljs-number">6</span></span>:]==keyword:<span class="hljs-comment"><span class="hljs-comment">#   </span></span>
      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> getid(str(message.chat.id))==<span class="hljs-number"><span class="hljs-number">20</span></span>:<span class="hljs-comment"><span class="hljs-comment">#    ,         20</span></span>
        bot.send_message(message.chat.id, <span class="hljs-string"><span class="hljs-string">"  "</span></span>)
      <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>:
        <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> par<font></font>
        bot.send_message(message.chat.id, <span class="hljs-string"><span class="hljs-string">""</span></span>, reply_markup=markup)<font></font>
        par=message.chat.id<font></font>
        <span class="hljs-comment"><span class="hljs-comment"># chat-id   </span></span>
        f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/user'</span></span>, <span class="hljs-string"><span class="hljs-string">'w'</span></span>)<font></font>
        f.write(str(message.chat.id))<font></font>
        f.close()<font></font>
        os.system(<span class="hljs-string"><span class="hljs-string">'newuser.sh'</span></span>)
        <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (message.chat.id)
        <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (par)
    <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>:<font></font>
        bot.send_message(message.chat.id, <span class="hljs-string"><span class="hljs-string">""</span></span>)
        <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (keyword)
        <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (message.text[<span class="hljs-number"><span class="hljs-number">6</span></span>:])
        <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (message.chat.id)<font></font>
<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">#  /start</span></span>
<span class="hljs-meta"><span class="hljs-meta">@bot.message_handler(commands=['start'])</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(message)</span></span></span><span class="hljs-function">:</span></span>
     <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> par
     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> avtor(message.chat.id)!=<span class="hljs-number"><span class="hljs-number">0</span></span>:
         <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (par)<font></font>
         bot.send_message(message.chat.id, <span class="hljs-string"><span class="hljs-string">"   .    /auth []"</span></span>, reply_markup=markup2)
     <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>:<font></font>
	     bot.send_message(message.chat.id, <span class="hljs-string"><span class="hljs-string">"   .  /help,  ,    ."</span></span>)<font></font>
<font></font>
<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">#   - /help</span></span>
<span class="hljs-meta"><span class="hljs-meta">@bot.message_handler(commands=['help'])</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">help</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(message)</span></span></span><span class="hljs-function">:</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> avtor(message.chat.id)==<span class="hljs-number"><span class="hljs-number">0</span></span>:<font></font>
     mas=<span class="hljs-string"><span class="hljs-string">'       . \n    ,    :  \n   - /help \n       :)'</span></span><font></font>
     bot.send_message(message.chat.id, mas, reply_markup=markup)<font></font>
     <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (message.chat.id, message.text)<font></font>
<font></font>
	<font></font>
 <font></font>
<span class="hljs-comment"><span class="hljs-comment">#     </span></span>
<span class="hljs-meta"><span class="hljs-meta">@bot.message_handler(commands=['show'])</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">show</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(message)</span></span></span><span class="hljs-function">:</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> avtor(message.chat.id)==<span class="hljs-number"><span class="hljs-number">0</span></span>:<font></font>
     mas=<span class="hljs-string"><span class="hljs-string">' '</span></span><font></font>
     bot.send_message(message.chat.id, mas, reply_markup=markup)<font></font>
     <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (message.chat.id, message.text)<font></font>
<font></font>
<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment"># </span></span>
<span class="hljs-meta"><span class="hljs-meta">@bot.message_handler(regexp="  ")</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">temp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(message)</span></span></span><span class="hljs-function">:</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> avtor(message.chat.id)==<span class="hljs-number"><span class="hljs-number">0</span></span>:<font></font>
     tp=get_temp()<font></font>
     mas=<span class="hljs-string"><span class="hljs-string">'    : '</span></span>+str(tp)+<span class="hljs-string"><span class="hljs-string">'°C'</span></span><font></font>
     bot.send_message(message.chat.id, mas)<font></font>
     <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (message.chat.id, message.text)<font></font>
    <font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment"># </span></span>
<span class="hljs-meta"><span class="hljs-meta">@bot.message_handler(regexp="  ")</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">photo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(message)</span></span></span><span class="hljs-function">:</span></span> 
     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> avtor(message.chat.id)==<span class="hljs-number"><span class="hljs-number">0</span></span>: <font></font>
         path=<span class="hljs-string"><span class="hljs-string">'/mnt/raw/photo/foto.jpg'</span></span> <span class="hljs-comment"><span class="hljs-comment">#    </span></span>
         <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>:<font></font>
             f = open(path, <span class="hljs-string"><span class="hljs-string">'rb'</span></span>) <span class="hljs-comment"><span class="hljs-comment">#  - </span></span>
             bot.send_photo(message.chat.id, f) <span class="hljs-comment"><span class="hljs-comment"># </span></span>
             <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (message.chat.id, message.text)
         <span class="hljs-keyword"><span class="hljs-keyword">except</span></span>:<font></font>
             bot.send_message(message.chat.id, <span class="hljs-string"><span class="hljs-string">"  :("</span></span>)<font></font>
<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">#   </span></span>
<span class="hljs-meta"><span class="hljs-meta">@bot.message_handler(regexp="  ")</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">windows</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(message)</span></span></span><span class="hljs-function">:</span></span>
   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> avtor(message.chat.id)==<span class="hljs-number"><span class="hljs-number">0</span></span>:
       <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"window"</span></span>)
       <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (pos())
       <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> str(pos())[<span class="hljs-number"><span class="hljs-number">0</span></span>]==<span class="hljs-string"><span class="hljs-string">'1'</span></span>:<font></font>
           bot.send_message(message.chat.id, <span class="hljs-string"><span class="hljs-string">""</span></span>, reply_markup=markup3)<span class="hljs-comment"><span class="hljs-comment">#  ,      « »</span></span>
       <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <font></font>
           bot.send_message(message.chat.id, <span class="hljs-string"><span class="hljs-string">""</span></span>, reply_markup=markup4)<span class="hljs-comment"><span class="hljs-comment">#     </span></span><font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment"># </span></span>
<span class="hljs-meta"><span class="hljs-meta">@bot.message_handler(regexp=" ")</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">windows</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(message)</span></span></span><span class="hljs-function">:</span></span>
   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> avtor(message.chat.id)==<span class="hljs-number"><span class="hljs-number">0</span></span>:<font></font>
       bot.send_message(message.chat.id, <span class="hljs-string"><span class="hljs-string">""</span></span>,  reply_markup=markup)<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment"># </span></span>
<span class="hljs-meta"><span class="hljs-meta">@bot.message_handler(regexp="   ")</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">windows</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(message)</span></span></span><span class="hljs-function">:</span></span>
   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> avtor(message.chat.id)==<span class="hljs-number"><span class="hljs-number">0</span></span>:<font></font>
       f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/wind'</span></span>, <span class="hljs-string"><span class="hljs-string">'w'</span></span>)<span class="hljs-comment"><span class="hljs-comment"># </span></span>
       f.write(<span class="hljs-string"><span class="hljs-string">'30'</span></span>)<span class="hljs-comment"><span class="hljs-comment">#   ,     30</span></span>
       f.close()<span class="hljs-comment"><span class="hljs-comment"># </span></span>
       k=<span class="hljs-string"><span class="hljs-string">"No"</span></span><span class="hljs-comment"><span class="hljs-comment">#  </span></span>
       <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> k[<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>]!=<span class="hljs-string"><span class="hljs-string">"OK"</span></span>:<span class="hljs-comment"><span class="hljs-comment">#  </span></span>
           time.sleep(<span class="hljs-number"><span class="hljs-number">5</span></span>)<span class="hljs-comment"><span class="hljs-comment"># 5 </span></span>
           f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/wind'</span></span>)<span class="hljs-comment"><span class="hljs-comment"># </span></span>
           k = f.read()<span class="hljs-comment"><span class="hljs-comment"># </span></span>
           f.close()<span class="hljs-comment"><span class="hljs-comment">#</span></span>
           print(k[<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>])<font></font>
       bot.send_message(message.chat.id, <span class="hljs-string"><span class="hljs-string">""</span></span>,  reply_markup=markup4)<font></font>
<font></font>
<span class="hljs-meta"><span class="hljs-meta">@bot.message_handler(regexp="   ")</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">windows</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(message)</span></span></span><span class="hljs-function">:</span></span>
   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> avtor(message.chat.id)==<span class="hljs-number"><span class="hljs-number">0</span></span>:<font></font>
       f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/wind'</span></span>, <span class="hljs-string"><span class="hljs-string">'w'</span></span>)<font></font>
       f.write(<span class="hljs-string"><span class="hljs-string">'31'</span></span>)<font></font>
       f.close()<font></font>
       k=<span class="hljs-string"><span class="hljs-string">"No"</span></span>
       <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> k[<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>]!=<span class="hljs-string"><span class="hljs-string">"OK"</span></span>:<font></font>
           time.sleep(<span class="hljs-number"><span class="hljs-number">5</span></span>)           <font></font>
           f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/wind'</span></span>)<font></font>
           k = f.read()<font></font>
           f.close()<font></font>
           print(k[<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>])<font></font>
       bot.send_message(message.chat.id, <span class="hljs-string"><span class="hljs-string">""</span></span>,  reply_markup=markup3)<font></font>
<font></font>
<span class="hljs-meta"><span class="hljs-meta">@bot.message_handler(regexp="️  ")</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">windows</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(message)</span></span></span><span class="hljs-function">:</span></span>
   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> avtor(message.chat.id)==<span class="hljs-number"><span class="hljs-number">0</span></span>:<font></font>
       bot.send_message(message.chat.id, <span class="hljs-string"><span class="hljs-string">""</span></span>,  reply_markup=markup5)<font></font>
<font></font>
<span class="hljs-meta"><span class="hljs-meta">@bot.message_handler(regexp="️ ")</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">windows</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(message)</span></span></span><span class="hljs-function">:</span></span>
   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> avtor(message.chat.id)==<span class="hljs-number"><span class="hljs-number">0</span></span>:
       <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> str(pos())[<span class="hljs-number"><span class="hljs-number">0</span></span>]==<span class="hljs-string"><span class="hljs-string">'1'</span></span>:<font></font>
           bot.send_message(message.chat.id, <span class="hljs-string"><span class="hljs-string">""</span></span>, reply_markup=markup3)
       <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <font></font>
           bot.send_message(message.chat.id, <span class="hljs-string"><span class="hljs-string">""</span></span>, reply_markup=markup4)<font></font>
<font></font>
<span class="hljs-meta"><span class="hljs-meta">@bot.message_handler(regexp="️ ")</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">windows</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(message)</span></span></span><span class="hljs-function">:</span></span>
   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> avtor(message.chat.id)==<span class="hljs-number"><span class="hljs-number">0</span></span>:<font></font>
       bot.send_message(message.chat.id, <span class="hljs-string"><span class="hljs-string">""</span></span>,  reply_markup=markup5)<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">#  </span></span>
<span class="hljs-meta"><span class="hljs-meta">@bot.message_handler(regexp="  ")</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">windows</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(message)</span></span></span><span class="hljs-function">:</span></span>
   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> avtor(message.chat.id)==<span class="hljs-number"><span class="hljs-number">0</span></span>:<font></font>
       bot.send_message(message.chat.id, <span class="hljs-string"><span class="hljs-string">""</span></span>,  reply_markup=markup6)
<span class="hljs-meta"><span class="hljs-meta">@bot.message_handler(regexp="  ")</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">windows</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(message)</span></span></span><span class="hljs-function">:</span></span>
   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> avtor(message.chat.id)==<span class="hljs-number"><span class="hljs-number">0</span></span>:<font></font>
       bot.send_message(message.chat.id, <span class="hljs-string"><span class="hljs-string">""</span></span>,  reply_markup=markup7)<font></font>
<font></font>
<span class="hljs-meta"><span class="hljs-meta">@bot.message_handler(regexp="️   ")</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">windows</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(message)</span></span></span><span class="hljs-function">:</span></span>
   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> avtor(message.chat.id)==<span class="hljs-number"><span class="hljs-number">0</span></span>:<font></font>
       f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/wind'</span></span>, <span class="hljs-string"><span class="hljs-string">'w'</span></span>)<font></font>
       f.write(<span class="hljs-string"><span class="hljs-string">'11'</span></span>)<font></font>
       f.close()<font></font>
       k=<span class="hljs-string"><span class="hljs-string">"No"</span></span>
       <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> k[<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>]!=<span class="hljs-string"><span class="hljs-string">"OK"</span></span>:<font></font>
           time.sleep(<span class="hljs-number"><span class="hljs-number">5</span></span>)           <font></font>
           f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/wind'</span></span>)<font></font>
           k = f.read()<font></font>
           f.close()<font></font>
           print(k[<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>])<font></font>
       bot.send_message(message.chat.id, <span class="hljs-string"><span class="hljs-string">""</span></span>,  reply_markup=markup6)<font></font>
<font></font>
<span class="hljs-meta"><span class="hljs-meta">@bot.message_handler(regexp="️   ")</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">windows</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(message)</span></span></span><span class="hljs-function">:</span></span>
   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> avtor(message.chat.id)==<span class="hljs-number"><span class="hljs-number">0</span></span>:<font></font>
       f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/wind'</span></span>, <span class="hljs-string"><span class="hljs-string">'w'</span></span>)<font></font>
       f.write(<span class="hljs-string"><span class="hljs-string">'10'</span></span>)<font></font>
       f.close()<font></font>
       k=<span class="hljs-string"><span class="hljs-string">"No"</span></span>
       <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> k[<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>]!=<span class="hljs-string"><span class="hljs-string">"OK"</span></span>:<font></font>
           time.sleep(<span class="hljs-number"><span class="hljs-number">5</span></span>)           <font></font>
           f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/wind'</span></span>)<font></font>
           k = f.read()<font></font>
           f.close()<font></font>
           print(k[<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>])<font></font>
       bot.send_message(message.chat.id, <span class="hljs-string"><span class="hljs-string">""</span></span>,  reply_markup=markup6)<font></font>
<font></font>
<span class="hljs-meta"><span class="hljs-meta">@bot.message_handler(regexp="   ")</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">windows</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(message)</span></span></span><span class="hljs-function">:</span></span>
   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> avtor(message.chat.id)==<span class="hljs-number"><span class="hljs-number">0</span></span>:<font></font>
       f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/wind'</span></span>, <span class="hljs-string"><span class="hljs-string">'w'</span></span>)<font></font>
       f.write(<span class="hljs-string"><span class="hljs-string">'13'</span></span>)<font></font>
       f.close()<font></font>
       k=<span class="hljs-string"><span class="hljs-string">"No"</span></span>
       <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> k[<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>]!=<span class="hljs-string"><span class="hljs-string">"OK"</span></span>:<font></font>
           time.sleep(<span class="hljs-number"><span class="hljs-number">5</span></span>)           <font></font>
           f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/wind'</span></span>)<font></font>
           k = f.read()<font></font>
           f.close()<font></font>
           print(k[<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>])<font></font>
       bot.send_message(message.chat.id, <span class="hljs-string"><span class="hljs-string">""</span></span>,  reply_markup=markup6)<font></font>
<font></font>
<span class="hljs-meta"><span class="hljs-meta">@bot.message_handler(regexp="   ")</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">windows</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(message)</span></span></span><span class="hljs-function">:</span></span>
   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> avtor(message.chat.id)==<span class="hljs-number"><span class="hljs-number">0</span></span>:<font></font>
       f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/wind'</span></span>, <span class="hljs-string"><span class="hljs-string">'w'</span></span>)<font></font>
       f.write(<span class="hljs-string"><span class="hljs-string">'12'</span></span>)<font></font>
       f.close()<font></font>
       k=<span class="hljs-string"><span class="hljs-string">"No"</span></span>
       <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> k[<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>]!=<span class="hljs-string"><span class="hljs-string">"OK"</span></span>:<font></font>
           time.sleep(<span class="hljs-number"><span class="hljs-number">5</span></span>)           <font></font>
           f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/wind'</span></span>)<font></font>
           k = f.read()<font></font>
           f.close()<font></font>
           print(k[<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>])<font></font>
       bot.send_message(message.chat.id, <span class="hljs-string"><span class="hljs-string">""</span></span>,  reply_markup=markup6)<font></font>
<font></font>
<span class="hljs-meta"><span class="hljs-meta">@bot.message_handler(regexp="️   ")</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">windows</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(message)</span></span></span><span class="hljs-function">:</span></span>
   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> avtor(message.chat.id)==<span class="hljs-number"><span class="hljs-number">0</span></span>:<font></font>
       f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/wind'</span></span>, <span class="hljs-string"><span class="hljs-string">'w'</span></span>)<font></font>
       f.write(<span class="hljs-string"><span class="hljs-string">'21'</span></span>)<font></font>
       f.close()<font></font>
       k=<span class="hljs-string"><span class="hljs-string">"No"</span></span>
       <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> k[<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>]!=<span class="hljs-string"><span class="hljs-string">"OK"</span></span>:<font></font>
           time.sleep(<span class="hljs-number"><span class="hljs-number">5</span></span>)           <font></font>
           f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/wind'</span></span>)<font></font>
           k = f.read()<font></font>
           f.close()<font></font>
           print(k[<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>])<font></font>
       bot.send_message(message.chat.id, <span class="hljs-string"><span class="hljs-string">""</span></span>,  reply_markup=markup7)<font></font>
<font></font>
<span class="hljs-meta"><span class="hljs-meta">@bot.message_handler(regexp="️   ")</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">windows</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(message)</span></span></span><span class="hljs-function">:</span></span>
   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> avtor(message.chat.id)==<span class="hljs-number"><span class="hljs-number">0</span></span>:<font></font>
       f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/wind'</span></span>, <span class="hljs-string"><span class="hljs-string">'w'</span></span>)<font></font>
       f.write(<span class="hljs-string"><span class="hljs-string">'20'</span></span>)<font></font>
       f.close()<font></font>
       k=<span class="hljs-string"><span class="hljs-string">"No"</span></span>
       <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> k[<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>]!=<span class="hljs-string"><span class="hljs-string">"OK"</span></span>:<font></font>
           time.sleep(<span class="hljs-number"><span class="hljs-number">5</span></span>)           <font></font>
           f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/wind'</span></span>)<font></font>
           k = f.read()<font></font>
           f.close()<font></font>
           print(k[<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>])<font></font>
       bot.send_message(message.chat.id, <span class="hljs-string"><span class="hljs-string">""</span></span>,  reply_markup=markup7)<font></font>
<font></font>
<span class="hljs-meta"><span class="hljs-meta">@bot.message_handler(regexp="   ")</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">windows</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(message)</span></span></span><span class="hljs-function">:</span></span>
   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> avtor(message.chat.id)==<span class="hljs-number"><span class="hljs-number">0</span></span>:<font></font>
       f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/wind'</span></span>, <span class="hljs-string"><span class="hljs-string">'w'</span></span>)<font></font>
       f.write(<span class="hljs-string"><span class="hljs-string">'23'</span></span>)<font></font>
       f.close()<font></font>
       k=<span class="hljs-string"><span class="hljs-string">"No"</span></span>
       <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> k[<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>]!=<span class="hljs-string"><span class="hljs-string">"OK"</span></span>:<font></font>
           time.sleep(<span class="hljs-number"><span class="hljs-number">5</span></span>)           <font></font>
           f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/wind'</span></span>)<font></font>
           k = f.read()<font></font>
           f.close()<font></font>
           print(k[<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>])<font></font>
       bot.send_message(message.chat.id, <span class="hljs-string"><span class="hljs-string">""</span></span>,  reply_markup=markup7)<font></font>
<font></font>
<span class="hljs-meta"><span class="hljs-meta">@bot.message_handler(regexp="   ")</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">windows</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(message)</span></span></span><span class="hljs-function">:</span></span>
   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> avtor(message.chat.id)==<span class="hljs-number"><span class="hljs-number">0</span></span>:<font></font>
       f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/wind'</span></span>, <span class="hljs-string"><span class="hljs-string">'w'</span></span>)<font></font>
       f.write(<span class="hljs-string"><span class="hljs-string">'22'</span></span>)<font></font>
       f.close()<font></font>
       k=<span class="hljs-string"><span class="hljs-string">"No"</span></span>
       <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> k[<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>]!=<span class="hljs-string"><span class="hljs-string">"OK"</span></span>:<font></font>
           time.sleep(<span class="hljs-number"><span class="hljs-number">5</span></span>)           <font></font>
           f = open(<span class="hljs-string"><span class="hljs-string">'/mnt/raw/wind'</span></span>)<font></font>
           k = f.read()<font></font>
           f.close()<font></font>
           print(k[<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>])<font></font>
       bot.send_message(message.chat.id, <span class="hljs-string"><span class="hljs-string">""</span></span>,  reply_markup=markup7)<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">#  ,   </span></span>
<span class="hljs-meta"><span class="hljs-meta">@bot.message_handler(content_types=["text"])</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">repeat_all_messages</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(message)</span></span></span><span class="hljs-function">:</span></span>
   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> avtor(message.chat.id)==<span class="hljs-number"><span class="hljs-number">0</span></span>:<font></font>
         bot.send_message(message.chat.id, <span class="hljs-string"><span class="hljs-string">"    .  /help,    "</span></span>)
         <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (message.chat.id, message.text)<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">#     </span></span>
<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">'__main__'</span></span>:<font></font>
        bot.polling()</code></pre><br>
<br>
</div></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vergessen Sie nicht, hier die Sensor-ID, die Chat-ID und den Pfad zum Abschnitt im RAM anzugeben. </font><font style="vertical-align: inherit;">Jetzt haben wir fast alles fertig. </font><font style="vertical-align: inherit;">Herunterladen diese </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dump</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und eine Datenbank auf dem </font><font style="vertical-align: inherit;">Server füllen, und vergessen Sie nicht die Partition in dem RAM zu montieren, denkt 10MB genug von ihrer Kehle. </font><font style="vertical-align: inherit;">Wir starten zwei unserer Starter-Skripte und freuen uns. </font><font style="vertical-align: inherit;">Das Standardkennwort lautet telbot. </font><font style="vertical-align: inherit;">Ändern Sie es in der Datenbank-Schlüsseltabelle.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SMS informieren</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ebenso SMS-Informationen bei Überhitzung. </font><font style="vertical-align: inherit;">Erstellen Sie die Datei sms.py:</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sms.py</font></font></b><div class="spoiler_text"><pre><code class="hljs python"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/env python</span></span>
<span class="hljs-comment"><span class="hljs-comment"># -*- coding: utf8 -*-</span></span>
 
<span class="hljs-string"><span class="hljs-string">"""   .. t_aleksandr_v@inbox.ru 17.02.2015 """</span></span>
 
<span class="hljs-string"><span class="hljs-string">"""        sms.ru """</span></span>
<span class="hljs-string"><span class="hljs-string">"""   :"""</span></span>
 
<span class="hljs-string"><span class="hljs-string">""" -i  --idsender - id   sms.ru"""</span></span>
<span class="hljs-string"><span class="hljs-string">""" -t  --to -      79219996660"""</span></span>
<span class="hljs-string"><span class="hljs-string">""" -s  --subject -    """</span></span>
 
 
<span class="hljs-keyword"><span class="hljs-keyword">from</span></span> urllib2 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> urlopen
<span class="hljs-keyword"><span class="hljs-keyword">from</span></span> optparse <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> OptionParser
 
 
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sendsms</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(idsender,subject,to)</span></span></span><span class="hljs-function">:</span></span>
 
    subject = subject.replace(<span class="hljs-string"><span class="hljs-string">" "</span></span>,<span class="hljs-string"><span class="hljs-string">"+"</span></span>)
    url=<span class="hljs-string"><span class="hljs-string">"http://sms.ru/sms/send?api_id=%s&amp;text=%s&amp;to=%s"</span></span> %(idsender,subject,to)
    res=urlopen(url)
 
<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">'__main__'</span></span>:
 
    parser = OptionParser()
 
    parser.add_option(<span class="hljs-string"><span class="hljs-string">"-i"</span></span>, <span class="hljs-string"><span class="hljs-string">"-- "</span></span>, dest=<span class="hljs-string"><span class="hljs-string">"idsender"</span></span>, default=<span class="hljs-string"><span class="hljs-string">" "</span></span>, help=<span class="hljs-string"><span class="hljs-string">"ID user on sms.ru"</span></span>, metavar=<span class="hljs-string"><span class="hljs-string">"IDSENDER"</span></span>)
    parser.add_option(<span class="hljs-string"><span class="hljs-string">"-t"</span></span>, <span class="hljs-string"><span class="hljs-string">"-- "</span></span>, dest=<span class="hljs-string"><span class="hljs-string">"to"</span></span>, default=<span class="hljs-string"><span class="hljs-string">" "</span></span>, help=<span class="hljs-string"><span class="hljs-string">"to telephone number"</span></span>, metavar=<span class="hljs-string"><span class="hljs-string">"TO"</span></span>)
    parser.add_option(<span class="hljs-string"><span class="hljs-string">"-s"</span></span>, <span class="hljs-string"><span class="hljs-string">"--temperatyra 32"</span></span>, dest=<span class="hljs-string"><span class="hljs-string">"subject"</span></span>, default=<span class="hljs-string"><span class="hljs-string">"Jara tut, otkroy okno"</span></span>, help=<span class="hljs-string"><span class="hljs-string">"Name of subject"</span></span>, metavar=<span class="hljs-string"><span class="hljs-string">"SUBJECT"</span></span>)
 
    (options, args) = parser.parse_args()
 
    sendsms(options.idsender,options.subject,options.to)</code></pre><br>
<br>
</div></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir registrieren uns auf sms.ru und nehmen dort den API-Schlüssel im Abschnitt für Programmierer. </font><font style="vertical-align: inherit;">Vergessen Sie auch nicht, Ihre Telefonnummer im Skript anzugeben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Programm zur Verwaltung von Fenstern deklarieren wir eine Variable:</font></font><br>
<br>
<pre><code class="hljs">Vr=0</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fügen Sie dann diesen Code in die Perpetual-Schleife ein:</font></font><br>
<br>
<pre><code class="hljs pgsql">d = datetime.today()<font></font>
V = d.strftime(<span class="hljs-string"><span class="hljs-string">'%H'</span></span>)<font></font>
V = <span class="hljs-type"><span class="hljs-type">int</span></span>(V)
 <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>    (t2&gt;<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> Vr!=V): <font></font>
        print (V)<font></font>
        Vr=V<font></font>
        os.<span class="hljs-keyword"><span class="hljs-keyword">system</span></span>(<span class="hljs-string"><span class="hljs-string">'/home/samba/sms.py'</span></span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Moment ist die Schwellentemperatur 32, bei hohen Temperaturen wird einmal pro Stunde eine SMS gesendet, bis sie abfällt. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pläne für die Zukunft, eine geregelte Heizung zu installieren und automatisch zu gießen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vielen Dank an alle, die bis zum Ende gelesen haben.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de400499/">https://habr.com/ru/post/de400499/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de400489/index.html">MediaTek stellt den MT2533D-Chipsatz vor: Neueste Technologie für intelligente Headsets, Kopfhörer und Lautsprecher</a></li>
<li><a href="../de400491/index.html">Ich hasse es, wenn mich jemand behandelt</a></li>
<li><a href="../de400493/index.html">Informationen zur Verwendung des kognitiven Systems von IBM Watson Analytics zur Analyse von Herzleistungsdaten</a></li>
<li><a href="../de400495/index.html">Die Wahl zwischen visueller und Textprogrammierung für Kinder</a></li>
<li><a href="../de400497/index.html">Die Welle geht über den Horizont hinaus: die sowjetische troposphärische Funkrelais-Kommunikationsleitung "Nord"</a></li>
<li><a href="../de400501/index.html">Ein vor zwei Tagen entdeckter Asteroid flog in die Nähe der Erde</a></li>
<li><a href="../de400503/index.html">Acht-Bit-Witze 3</a></li>
<li><a href="../de400505/index.html">Wie stehe ich auf und gähne, um eine Investition zu bekommen? Tipps vom Jedi Venture Market</a></li>
<li><a href="../de400507/index.html">Pentagon hat den Schwarm von 103 Drohnen erfolgreich getestet</a></li>
<li><a href="../de400509/index.html">Schwierigkeiten bei der Gründung von Robotikclubs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>