<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧑🏿‍🤝‍🧑🏿 🔯 🆖 Wie wir von Windows Corporate weggelaufen sind 🤩 👩🏿‍🎨 🏙️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="So kam es, dass in unserem Unternehmen C # als Hauptsprache für die Backend-Entwicklung ausgewählt wurde. Übrigens waren wir mit dieser Wahl immer zuf...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie wir von Windows Corporate weggelaufen sind</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/419975/"><p>  So kam es, dass in unserem Unternehmen C # als Hauptsprache für die Backend-Entwicklung ausgewählt wurde.  Übrigens waren wir mit dieser Wahl immer zufrieden, und als MS mit der Entwicklung der .net Core-Plattform begann, wurde sie noch interessanter, da C # gut ist, C # unter Linux jedoch noch besser. </p><br><p>  Ich werde den Übergangspfad zur plattformübergreifenden Entwicklung nicht beschreiben, da so viele bereits den Übergangspfad von Framework zu Core eingeschlagen haben. </p><br><p>  Ich werde mich auf einen Punkt konzentrieren.  Docker hat uns unter anderem dazu gedrängt, unsere Anwendungen für Linux zu hosten, weil ich mich wirklich dem Jugendstrom der Containerisierung von allem anschließen wollte, was möglich war. </p><br><p>  Da wir ein Unternehmen entwickeln, mussten wir auch Linux mit Pass-Through-Windows-Authentifizierung ausführen.  Eigentlich war dies der Anstoß zum Schreiben des Artikels.  Da die Informationen sehr schwierig waren, in getrennten Teilen und mit vielen Menschen zu kommunizieren, schien die Idee, alles, was Sie brauchen, an einem Ort zu sammeln und eine Arbeitsoption zu beschreiben, nett zu sein. </p><a name="habracut"></a><br><p>  Als Lösung wurde unter nginx mit Kerberos-Authentifizierung eine Reverse-Proxy-Option ausgewählt.  Damit Genossen aus verschiedenen Projekten die Lösung nutzen konnten, wurde beschlossen, das Docker-Image abzulegen, das das Grundproblem lösen und von anderen geerbt oder unverändert verwendet werden konnte. </p><br><p>  Damit Kerberos funktioniert, mussten Sie Nginx mit zusätzlichen Modulen erstellen. <br>  Infolgedessen sind wir zu einem solchen Team gekommen.  Alles wird in zwei Aufrufen zusammengeschustert, um weniger Ebenen zu erstellen. </p><br><p>  Werfen wir einen Blick auf unsere Docker-Datei.  Wir werden auf einem sehr kompakten Bild mit alpinen basieren </p><br><pre><code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> alpine:<span class="hljs-number"><span class="hljs-number">3.7</span></span></code> </pre> <br><p>  Als nächstes ziehen wir die erforderlichen Pakete, die Quellen von Nginx und das erforderliche Modul spnego-http-auth-nginx-module fest.  Das Ergebnis ist so etwas wie dieser Befehl </p><br><pre> <code class="hljs powershell">ENV NGINX_VERSION <span class="hljs-number"><span class="hljs-number">1.15</span></span>.<span class="hljs-number"><span class="hljs-number">1</span></span> RUN set <span class="hljs-literal"><span class="hljs-literal">-ex</span></span> \ &amp;&amp; apk add -<span class="hljs-literal"><span class="hljs-literal">-no</span></span><span class="hljs-literal"><span class="hljs-literal">-cache</span></span> \ git \ krb5 \ krb5<span class="hljs-literal"><span class="hljs-literal">-dev</span></span> \ ca<span class="hljs-literal"><span class="hljs-literal">-certificates</span></span> \ libressl \ pcre \ zlib \ &amp;&amp; apk add -<span class="hljs-literal"><span class="hljs-literal">-no</span></span><span class="hljs-literal"><span class="hljs-literal">-cache</span></span> -<span class="hljs-literal"><span class="hljs-literal">-virtual</span></span> .build<span class="hljs-literal"><span class="hljs-literal">-deps</span></span> \ build<span class="hljs-literal"><span class="hljs-literal">-base</span></span> \ linux<span class="hljs-literal"><span class="hljs-literal">-headers</span></span> \ libressl<span class="hljs-literal"><span class="hljs-literal">-dev</span></span> \ pcre<span class="hljs-literal"><span class="hljs-literal">-dev</span></span> \ wget \ zlib<span class="hljs-literal"><span class="hljs-literal">-dev</span></span> \ &amp;&amp; cd /tmp \ &amp;&amp; wget http://nginx.org/download/nginx-<span class="hljs-variable"><span class="hljs-variable">$</span></span>{NGINX_VERSION}.tar.gz \ &amp;&amp; tar xzf nginx-<span class="hljs-variable"><span class="hljs-variable">$</span></span>{NGINX_VERSION}.tar.gz \ &amp;&amp; git clone https://github.com/stnoonan/spnego<span class="hljs-literal"><span class="hljs-literal">-http</span></span><span class="hljs-literal"><span class="hljs-literal">-auth</span></span><span class="hljs-literal"><span class="hljs-literal">-nginx</span></span><span class="hljs-literal"><span class="hljs-literal">-module</span></span>.git nginx-<span class="hljs-variable"><span class="hljs-variable">$</span></span>{NGINX_VERSION}/spnego<span class="hljs-literal"><span class="hljs-literal">-http</span></span><span class="hljs-literal"><span class="hljs-literal">-auth</span></span><span class="hljs-literal"><span class="hljs-literal">-nginx</span></span><span class="hljs-literal"><span class="hljs-literal">-module</span></span></code> </pre> <br><p>  Dieser Block wurde separat zugewiesen, damit diese Schicht beim Zusammensetzen aus dem Cache entnommen werden kann, da sie die längste Zeit ist. </p><br><p>  Mit den nächsten Befehlen erstellen wir Nginx und bereinigen es, damit das Bild nicht umsonst anschwillt </p><br><pre> <code class="hljs powershell">RUN cd /tmp/nginx-<span class="hljs-variable"><span class="hljs-variable">$</span></span>{NGINX_VERSION} \ &amp;&amp; ./configure \ \ -<span class="hljs-literal"><span class="hljs-literal">-prefix</span></span>=/etc/nginx \ -<span class="hljs-literal"><span class="hljs-literal">-sbin</span></span><span class="hljs-literal"><span class="hljs-literal">-path</span></span>=/usr/sbin/nginx \ -<span class="hljs-literal"><span class="hljs-literal">-conf</span></span><span class="hljs-literal"><span class="hljs-literal">-path</span></span>=/etc/nginx/nginx.conf \ -<span class="hljs-literal"><span class="hljs-literal">-error</span></span><span class="hljs-literal"><span class="hljs-literal">-log</span></span><span class="hljs-literal"><span class="hljs-literal">-path</span></span>=/var/log/nginx/error.log \ -<span class="hljs-literal"><span class="hljs-literal">-pid</span></span><span class="hljs-literal"><span class="hljs-literal">-path</span></span>=/var/run/nginx.pid \ -<span class="hljs-literal"><span class="hljs-literal">-lock</span></span><span class="hljs-literal"><span class="hljs-literal">-path</span></span>=/var/run/nginx.lock \ -<span class="hljs-literal"><span class="hljs-literal">-user</span></span>=nginx \ -<span class="hljs-literal"><span class="hljs-literal">-group</span></span>=nginx \ -<span class="hljs-literal"><span class="hljs-literal">-with</span></span><span class="hljs-literal"><span class="hljs-literal">-threads</span></span> \ -<span class="hljs-literal"><span class="hljs-literal">-with</span></span><span class="hljs-operator"><span class="hljs-operator">-file</span></span><span class="hljs-literal"><span class="hljs-literal">-aio</span></span> \ -<span class="hljs-literal"><span class="hljs-literal">-with</span></span><span class="hljs-literal"><span class="hljs-literal">-http_ssl_module</span></span> \ -<span class="hljs-literal"><span class="hljs-literal">-with</span></span><span class="hljs-literal"><span class="hljs-literal">-http_v2_module</span></span> \ -<span class="hljs-literal"><span class="hljs-literal">-with</span></span><span class="hljs-literal"><span class="hljs-literal">-http_realip_module</span></span> \ -<span class="hljs-literal"><span class="hljs-literal">-with</span></span><span class="hljs-literal"><span class="hljs-literal">-http_addition_module</span></span> \ -<span class="hljs-literal"><span class="hljs-literal">-with</span></span><span class="hljs-literal"><span class="hljs-literal">-http_sub_module</span></span> \ -<span class="hljs-literal"><span class="hljs-literal">-with</span></span><span class="hljs-literal"><span class="hljs-literal">-http_dav_module</span></span> \ -<span class="hljs-literal"><span class="hljs-literal">-with</span></span><span class="hljs-literal"><span class="hljs-literal">-http_flv_module</span></span> \ -<span class="hljs-literal"><span class="hljs-literal">-with</span></span><span class="hljs-literal"><span class="hljs-literal">-http_mp4_module</span></span> \ -<span class="hljs-literal"><span class="hljs-literal">-with</span></span><span class="hljs-literal"><span class="hljs-literal">-http_gunzip_module</span></span> \ -<span class="hljs-literal"><span class="hljs-literal">-with</span></span><span class="hljs-literal"><span class="hljs-literal">-http_gzip_static_module</span></span> \ -<span class="hljs-literal"><span class="hljs-literal">-with</span></span><span class="hljs-literal"><span class="hljs-literal">-http_auth_request_module</span></span> \ -<span class="hljs-literal"><span class="hljs-literal">-with</span></span><span class="hljs-literal"><span class="hljs-literal">-http_random_index_module</span></span> \ -<span class="hljs-literal"><span class="hljs-literal">-with</span></span><span class="hljs-literal"><span class="hljs-literal">-http_secure_link_module</span></span> \ -<span class="hljs-literal"><span class="hljs-literal">-with</span></span><span class="hljs-literal"><span class="hljs-literal">-http_slice_module</span></span> \ -<span class="hljs-literal"><span class="hljs-literal">-with</span></span><span class="hljs-literal"><span class="hljs-literal">-http_stub_status_module</span></span> \ -<span class="hljs-literal"><span class="hljs-literal">-http</span></span><span class="hljs-literal"><span class="hljs-literal">-log</span></span><span class="hljs-literal"><span class="hljs-literal">-path</span></span>=/var/log/nginx/access.log \ -<span class="hljs-literal"><span class="hljs-literal">-http</span></span><span class="hljs-literal"><span class="hljs-literal">-client</span></span><span class="hljs-literal"><span class="hljs-literal">-body</span></span><span class="hljs-literal"><span class="hljs-literal">-temp</span></span><span class="hljs-literal"><span class="hljs-literal">-path</span></span>=/var/cache/nginx/client_temp \ -<span class="hljs-literal"><span class="hljs-literal">-http</span></span><span class="hljs-literal"><span class="hljs-literal">-proxy</span></span><span class="hljs-literal"><span class="hljs-literal">-temp</span></span><span class="hljs-literal"><span class="hljs-literal">-path</span></span>=/var/cache/nginx/proxy_temp \ -<span class="hljs-literal"><span class="hljs-literal">-http</span></span><span class="hljs-literal"><span class="hljs-literal">-fastcgi</span></span><span class="hljs-literal"><span class="hljs-literal">-temp</span></span><span class="hljs-literal"><span class="hljs-literal">-path</span></span>=/var/cache/nginx/fastcgi_temp \ -<span class="hljs-literal"><span class="hljs-literal">-http</span></span><span class="hljs-literal"><span class="hljs-literal">-uwsgi</span></span><span class="hljs-literal"><span class="hljs-literal">-temp</span></span><span class="hljs-literal"><span class="hljs-literal">-path</span></span>=/var/cache/nginx/uwsgi_temp \ -<span class="hljs-literal"><span class="hljs-literal">-http</span></span><span class="hljs-literal"><span class="hljs-literal">-scgi</span></span><span class="hljs-literal"><span class="hljs-literal">-temp</span></span><span class="hljs-literal"><span class="hljs-literal">-path</span></span>=/var/cache/nginx/scgi_temp \ -<span class="hljs-literal"><span class="hljs-literal">-with</span></span><span class="hljs-literal"><span class="hljs-literal">-mail</span></span> \ -<span class="hljs-literal"><span class="hljs-literal">-with</span></span><span class="hljs-literal"><span class="hljs-literal">-mail_ssl_module</span></span> \ -<span class="hljs-literal"><span class="hljs-literal">-with</span></span><span class="hljs-literal"><span class="hljs-literal">-stream</span></span> \ -<span class="hljs-literal"><span class="hljs-literal">-with</span></span><span class="hljs-literal"><span class="hljs-literal">-stream_ssl_module</span></span> \ -<span class="hljs-literal"><span class="hljs-literal">-with</span></span><span class="hljs-literal"><span class="hljs-literal">-stream_realip_module</span></span> \ -<span class="hljs-literal"><span class="hljs-literal">-add</span></span><span class="hljs-literal"><span class="hljs-literal">-module</span></span>=spnego<span class="hljs-literal"><span class="hljs-literal">-http</span></span><span class="hljs-literal"><span class="hljs-literal">-auth</span></span><span class="hljs-literal"><span class="hljs-literal">-nginx</span></span><span class="hljs-literal"><span class="hljs-literal">-module</span></span> \ &amp;&amp; make <span class="hljs-literal"><span class="hljs-literal">-j</span></span><span class="hljs-variable"><span class="hljs-variable">$</span></span>(getconf _NPROCESSORS_ONLN) \ &amp;&amp; make install \ &amp;&amp; sed <span class="hljs-literal"><span class="hljs-literal">-i</span></span> <span class="hljs-literal"><span class="hljs-literal">-e</span></span> <span class="hljs-string"><span class="hljs-string">'s/#access_log logs\/access.log main;/access_log \/dev\/stdout;/'</span></span> <span class="hljs-literal"><span class="hljs-literal">-e</span></span> <span class="hljs-string"><span class="hljs-string">'s/#error_log logs\/error.log notice;/error_log stderr notice;/'</span></span> /etc/nginx/nginx.conf \ &amp;&amp; adduser <span class="hljs-literal"><span class="hljs-literal">-D</span></span> nginx \ &amp;&amp; mkdir <span class="hljs-literal"><span class="hljs-literal">-p</span></span> /var/cache/nginx \ &amp;&amp; apk del .build<span class="hljs-literal"><span class="hljs-literal">-deps</span></span> \ &amp;&amp; rm <span class="hljs-literal"><span class="hljs-literal">-rf</span></span> /tmp/*</code> </pre> <br><p>  Und damit dies alles Sinn macht, erhöhen Sie Nginx </p><br><pre> <code class="hljs objectivec"><span class="hljs-built_in"><span class="hljs-built_in">CMD</span></span> [<span class="hljs-string"><span class="hljs-string">"nginx"</span></span>, <span class="hljs-string"><span class="hljs-string">"-g"</span></span>, <span class="hljs-string"><span class="hljs-string">"daemon off;"</span></span>]</code> </pre> <br><p>  Wir können davon ausgehen, dass das Image fertig ist. Jetzt stellen wir sicher, dass unser Server Benutzer autorisieren kann. </p><br><p>  Um dies zu tun, müssen Sie einen Domain-Administrator finden. Ich hatte großes Glück mit ihm - der Typ reagierte schnell und tat sehr schnell, was er gefragt wurde.  Und Sie müssen Folgendes tun. <br>  Angenommen, der Hostname auf dem Hostcomputer lautet "Host-Linux" und Ihre Domain lautet "DOMAIN.LOCAL". <br>  In der Domäne müssen Sie einen Computer mit dem Namen "Host-Linux" starten und ein Konto erstellen, an das wir ihn binden, z. B. "Host-Linux-Benutzer".  Als nächstes müssen wir einen SPN erstellen und eine Keytab-Datei generieren, die wir beim Anheben des Containers benötigen. </p><br><p>  Unser Team stellte sich als so etwas heraus </p><br><pre> <code class="hljs pgsql">C:\Windows\system32&gt;ktpass -princ HTTP/HOST-LINUX.<span class="hljs-keyword"><span class="hljs-keyword">domain</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>@<span class="hljs-keyword"><span class="hljs-keyword">DOMAIN</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">LOCAL</span></span> -mapuser host-linux-<span class="hljs-keyword"><span class="hljs-keyword">user</span></span>@<span class="hljs-keyword"><span class="hljs-keyword">DOMAIN</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">LOCAL</span></span> -pass yourpassword -cryptoAll -ptype KRB5_NT_PRINCIPAL -<span class="hljs-keyword"><span class="hljs-keyword">out</span></span> C:\<span class="hljs-keyword"><span class="hljs-keyword">Temp</span></span>\web.keytab</code> </pre> <br><p>  Nachdem ich die Datei erhalten hatte, konnte ich experimentieren.  Als Ergebnis habe ich die folgende nginx.conf erhalten </p><br><pre> <code class="hljs pgsql">http { #Whatever <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> there <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-keyword"><span class="hljs-keyword">server</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">listen</span></span> <span class="hljs-number"><span class="hljs-number">80</span></span>; server_name localhost; #Here kerberos stuff starts auth_gss <span class="hljs-keyword"><span class="hljs-keyword">on</span></span>; auth_gss_realm <span class="hljs-keyword"><span class="hljs-keyword">DOMAIN</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">LOCAL</span></span>; #Keytab file <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> the mounted folder auth_gss_keytab /home/spnego/config/web.keytab; auth_gss_service_name HTTP/HOST-LINUX.<span class="hljs-keyword"><span class="hljs-keyword">domain</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>; auth_gss_allow_basic_fallback <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>; #Here kerberos stuff ends <span class="hljs-keyword"><span class="hljs-keyword">location</span></span> / { root html; <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span>.html <span class="hljs-keyword"><span class="hljs-keyword">index</span></span>.htm; } #bla-bla-bla</code> </pre> <br><p>  Damit nun alles startet, müssen Sie beim Anheben des Containers die aktuelle nginx.conf ablegen und in die empfangene web.keytab einspeisen.  Verwenden Sie dazu Docker-Compose-Magie </p><br><pre> <code class="hljs powershell">version: <span class="hljs-string"><span class="hljs-string">"2"</span></span> services: nginx<span class="hljs-literal"><span class="hljs-literal">-spnego</span></span>: image: fclmman/alpine<span class="hljs-literal"><span class="hljs-literal">-nginx</span></span><span class="hljs-literal"><span class="hljs-literal">-spnego</span></span> <span class="hljs-comment"><span class="hljs-comment">#  .   ports: - 80:80 - 5010:5010 - 443:443 - 8001:8001 #   web.keytab,       volumes: - ./config:/home/spnego/config - ./config/nginx.conf:/etc/nginx/nginx.conf</span></span></code> </pre> <br><p>  Gehen wir zu dem Verzeichnis, in dem wir docker-compose.yml haben.  In unserem Fall sollte sich im selben Ordner das Verzeichnis ./config mit den Dateien nginx.conf und web.keytab befinden.  Führen Sie den Befehl aus </p><br><pre> <code class="hljs powershell">docker<span class="hljs-literal"><span class="hljs-literal">-compose</span></span> <span class="hljs-operator"><span class="hljs-operator">-f</span></span> ./docker<span class="hljs-literal"><span class="hljs-literal">-compose</span></span>.yml up <span class="hljs-literal"><span class="hljs-literal">-d</span></span></code> </pre> <br><p>  Der Behälter erhob sich und starb nicht.  Dies gibt Hoffnung auf Erfolg. </p><br><p>  Öffnen wir den Browser auf dem Windows-Domänencomputer. </p><br><p>  Öffnen Sie auf einer Registerkarte chrome: // net-internals / und notieren Sie die Anfragen, die wir haben.  Öffnen Sie auf einer anderen Registerkarte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">http: // host-linux: 80 /</a> .  Kehren wir zu chrome: // net-internals / zurück und sehen uns die Ergebnisse an. </p><br><pre> <code class="hljs vbscript">#    negotiate t= <span class="hljs-number"><span class="hljs-number">3</span></span> [st= <span class="hljs-number"><span class="hljs-number">3</span></span>] HTTP_TRANSACTION_READ_RESPONSE_HEADERS --&gt; HTTP/<span class="hljs-number"><span class="hljs-number">1.1</span></span> <span class="hljs-number"><span class="hljs-number">401</span></span> Unauthorized <span class="hljs-built_in"><span class="hljs-built_in">Server</span></span>: nginx/<span class="hljs-number"><span class="hljs-number">1.15</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>: Fri, <span class="hljs-number"><span class="hljs-number">10</span></span> Aug <span class="hljs-number"><span class="hljs-number">2018</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span>:<span class="hljs-number"><span class="hljs-number">15</span></span>:<span class="hljs-number"><span class="hljs-number">54</span></span> GMT Content-Type: text/html Content-Length: <span class="hljs-number"><span class="hljs-number">597</span></span> Connection: keep-alive WWW-Authenticate: Negotiate t= <span class="hljs-number"><span class="hljs-number">4</span></span> [st= <span class="hljs-number"><span class="hljs-number">4</span></span>] HTTP_TRANSACTION_SEND_REQUEST_HEADERS --&gt; <span class="hljs-keyword"><span class="hljs-keyword">GET</span></span> / HTTP/<span class="hljs-number"><span class="hljs-number">1.1</span></span> Host: host-linux Connection: keep-alive Pragma: no-cache Cache-Control: no-cache Authorization: Negotiate #    Upgrade-Insecure-Requests: <span class="hljs-number"><span class="hljs-number">1</span></span> User-Agent: Mozilla/<span class="hljs-number"><span class="hljs-number">5.0</span></span> (Windows NT <span class="hljs-number"><span class="hljs-number">6.3</span></span>; Win64; x64) AppleWebKit/<span class="hljs-number"><span class="hljs-number">537.36</span></span> (KHTML, like Gecko) Chrome/<span class="hljs-number"><span class="hljs-number">67.0</span></span><span class="hljs-number"><span class="hljs-number">.3396</span></span><span class="hljs-number"><span class="hljs-number">.99</span></span> Safari/<span class="hljs-number"><span class="hljs-number">537.36</span></span> Accept: text/html,application/xhtml+xml,application/xml;q=<span class="hljs-number"><span class="hljs-number">0.9</span></span>,image/webp,image/apng,*/*;q=<span class="hljs-number"><span class="hljs-number">0.8</span></span> Accept-Encoding: gzip, deflate Accept-Language: ru-RU,ru;q=<span class="hljs-number"><span class="hljs-number">0.9</span></span>,en-US;q=<span class="hljs-number"><span class="hljs-number">0.8</span></span>,en;q=<span class="hljs-number"><span class="hljs-number">0.7</span></span> t= <span class="hljs-number"><span class="hljs-number">4</span></span> [st= <span class="hljs-number"><span class="hljs-number">4</span></span>] -HTTP_TRANSACTION_SEND_REQUEST t= <span class="hljs-number"><span class="hljs-number">4</span></span> [st= <span class="hljs-number"><span class="hljs-number">4</span></span>] +HTTP_TRANSACTION_READ_HEADERS [dt=<span class="hljs-number"><span class="hljs-number">47</span></span>] t= <span class="hljs-number"><span class="hljs-number">4</span></span> [st= <span class="hljs-number"><span class="hljs-number">4</span></span>] HTTP_STREAM_PARSER_READ_HEADERS [dt=<span class="hljs-number"><span class="hljs-number">47</span></span>] t=<span class="hljs-number"><span class="hljs-number">51</span></span> [st=<span class="hljs-number"><span class="hljs-number">51</span></span>] HTTP_TRANSACTION_READ_RESPONSE_HEADERS --&gt; HTTP/<span class="hljs-number"><span class="hljs-number">1.1</span></span> <span class="hljs-number"><span class="hljs-number">200</span></span> OK <span class="hljs-built_in"><span class="hljs-built_in">Server</span></span>: nginx/<span class="hljs-number"><span class="hljs-number">1.15</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>: Fri, <span class="hljs-number"><span class="hljs-number">10</span></span> Aug <span class="hljs-number"><span class="hljs-number">2018</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span>:<span class="hljs-number"><span class="hljs-number">15</span></span>:<span class="hljs-number"><span class="hljs-number">54</span></span> GMT Content-Type: text/html Content-Length: <span class="hljs-number"><span class="hljs-number">612</span></span> Last-Modified: Fri, <span class="hljs-number"><span class="hljs-number">10</span></span> Aug <span class="hljs-number"><span class="hljs-number">2018</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">21</span></span>:<span class="hljs-number"><span class="hljs-number">36</span></span> GMT Connection: keep-alive WWW-Authenticate: Negotiate #   ETag: <span class="hljs-string"><span class="hljs-string">"5b6d8350-264"</span></span> Accept-Ranges: bytes</code> </pre> <br><p>  Als Ergebnis sehen wir, dass die Operation erfolgreich war, und wir sehen den Nginx-Begrüßungsbildschirm. <br>  Es lohnt sich, eine Klarstellung zu machen, alles wird nur mit dem Hostnamen funktionieren, aber so wie ich es richtig verstehe, haben wir die Kerberos daran gebunden. </p><br><p>  Vielen Dank für Ihre Aufmerksamkeit, wenn Sie bis zu diesem Ort lesen, und ich hoffe wirklich, dass der Artikel nützlich sein wird. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de419975/">https://habr.com/ru/post/de419975/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de419963/index.html">Wir stellen eine "intelligente" Steuerung für die Klimaanlage des ESP8266 her</a></li>
<li><a href="../de419965/index.html">Konfigurationsfunktionen für ExtremeXOS-Switches</a></li>
<li><a href="../de419969/index.html">Verschleierung in Ruby. Verstecke auch Klassen vor der obersten Ebene</a></li>
<li><a href="../de419971/index.html">Das Raketenlabor repariert, erweitert und beschleunigt</a></li>
<li><a href="../de419973/index.html">Digitale Veranstaltungen in Moskau vom 13. bis 19. August</a></li>
<li><a href="../de419977/index.html">Forscher: Nicht alle Autopiloten der Stufe 2 funktionieren gleich gut, aber Fortschritte sind offensichtlich</a></li>
<li><a href="../de419979/index.html">Wie Python hilft, Finanzberater zu ersetzen</a></li>
<li><a href="../de419981/index.html">Nachtleben Himmel oder auf der Suche nach Perseid</a></li>
<li><a href="../de419983/index.html">Die Verdauung von frischen Materialien aus der Welt des Frontends für die letzte Woche Nr. 326 (6. - 12. August 2018)</a></li>
<li><a href="../de419985/index.html">Klats, klats: die Geschichte von Cherry, die für Tastaturschalter berühmt wurde</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>