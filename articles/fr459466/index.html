<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêò ‚ôâÔ∏è üë®üèø‚Äçüöí Lua √† Moscou 2019: entretien avec Roberto Ierusalimschy üéÖüèæ üòù üíõ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il y a quelque temps, le cr√©ateur du langage de programmation Lua, Roberto Ierusalimschy, a visit√© notre bureau de Moscou. Nous lui avons √©galement po...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lua √† Moscou 2019: entretien avec Roberto Ierusalimschy</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/459466/"><img src="https://habrastorage.org/webt/ng/7_/qz/ng7_qz-_skqhbze6n-v272bpohu.jpeg"><br><br>  Il y a quelque temps, le cr√©ateur du langage de programmation Lua, Roberto Ierusalimschy, a visit√© notre bureau de Moscou.  Nous lui avons √©galement pos√© quelques questions que nous avons pr√©par√©es avec la participation des utilisateurs de Habr.com.  Et enfin, nous aimerions partager la version int√©grale de cette interview. <br><a name="habracut"></a><br>  <b>- Commen√ßons par quelques questions philosophiques.</b>  <b>Imaginez, si vous recr√©iez Lua √† partir de z√©ro, quelles trois choses changeriez-vous dans Lua?</b> <br><br>  - Ouah!  C'est une question difficile.  Il y a tellement d'histoire int√©gr√©e dans la cr√©ation et le d√©veloppement de la langue.  Ce n'√©tait pas comme une grosse d√©cision √† la fois.  Il y a des regrets, dont plusieurs que j'ai eu l'occasion de corriger au fil des ans.  Les gens s'en plaignent tout le temps √† cause de la compatibilit√©.  Nous l'avons fait plusieurs fois.  Je ne pense qu'√† de petites choses. <br><br>  <b>- Global par d√©faut?</b>  <b>Pensez-vous que c'est la voie?</b> <br><br>  - Peut-ƒôtre.  Mais c'est tr√®s difficile pour les langages dynamiques.  Peut-√™tre que la solution sera de n'avoir aucun d√©faut par d√©faut, mais il serait alors difficile d'utiliser des variables. <br><br>  Par exemple, vous devrez d√©clarer en quelque sorte toutes les biblioth√®ques standard.  Vous voulez une ligne unique, <code>print(sin(x))</code> , puis vous devrez d√©clarer 'print' et aussi d√©clarer 'sin'.  Il est donc assez √©trange d'avoir des d√©clarations pour ce genre de scripts tr√®s courts. <br><br>  Tout ce qui est plus grand ne devrait avoir aucun d√©faut, je pense.  Local-by-default n'est pas la solution, il n'existe pas.  C'est seulement pour les affectations, pas pour l'usage.  Quelque chose que nous attribuons, puis nous utilisons et ensuite assignons, et il y a une erreur - compl√®tement mystifiante. <br><br>  Peut-√™tre que global-by-default n'est pas parfait, mais pour s√ªr local-by-default n'est pas une solution.  Je pense qu'une sorte de d√©claration, peut-√™tre une d√©claration facultative ... Nous avons souvent eu cette proposition - une sorte de d√©claration globale.  Mais au final, je pense que le probl√®me est que les gens demandent de plus en plus et nous abandonnons. <br><br>  (sarcastique) Oui, nous allons faire une d√©claration globale - ajouter ceci et cela et cela, √©teindre cela, et √† la fin nous comprenons que la conclusion finale ne satisfera pas la plupart des gens et nous ne mettrons pas toutes les options que tout le monde veut, donc on ne met rien.  Au final, le mode strict est un compromis raisonnable. <br><br>  Il y a ce probl√®me: le plus souvent, nous utilisons des champs √† l'int√©rieur des modules par exemple, alors vous avez √† nouveau les m√™mes probl√®mes.  Ce n'est qu'un cas tr√®s sp√©cifique d'erreurs que la solution g√©n√©rale devrait probablement inclure.  Je pense donc que si vous le voulez vraiment, vous devez utiliser un langage typ√© statiquement. <br><br>  <b>- Global-by-default est √©galement pratique pour les petits fichiers de configuration.</b> <br><br>  - Oui, exactement, pour les petits scripts et ainsi de suite. <br><br>  <b>- Pas de compromis ici?</b> <br><br>  - Non, il y a toujours des compromis.  Il y a un compromis entre les petits scripts et les vrais programmes ou quelque chose comme √ßa. <br><br>  <b>- Donc, nous revenons √† la premi√®re grande question: trois choses que vous changeriez si vous en aviez l'occasion.</b>  <b>√Ä mon avis, vous √™tes tr√®s satisfait de ce que nous avons actuellement, n'est-ce pas?</b> <br><br>  - Eh bien, ce n'est pas un grand changement, mais quand m√™me ... Notre mauvaise dette qui est devenue un grand changement est nulle dans les tableaux.  C'est quelque chose que je regrette vraiment.  J'ai fait ce genre d'impl√©mentation, une sorte de hack ... Avez-vous vu ce que j'ai fait?  J'ai envoy√© une version de Lua il y a environ six mois ou un an qui avait z√©ro dans les tableaux. <br><br>  <b>- Des valeurs nulles?</b> <br><br>  - Exactement.  Je pense que cela s'appelait nils dans les tableaux - ce qu'on appelle null.  Nous avons pirat√© la grammaire pour la rendre quelque peu compatible. <br><br>  <b>- Pourquoi est-il n√©cessaire?</b> <br><br>  - Je suis vraiment convaincu que c'est tout un probl√®me de trous ... Je pense que la plupart des probl√®mes de nils dans les tableaux dispara√Ætraient, si nous pouvions avoir [nils dans les tableaux] ... Parce que le probl√®me exact n'est pas nils dans les tableaux.  Les gens disent que nous ne pouvons pas avoir de nils dans les tableaux, donc nous devrions avoir des tableaux s√©par√©s des tables.  Mais le vrai probl√®me est que nous ne pouvons pas avoir de nils dans les tableaux!  Le probl√®me vient donc des tables, pas de la fa√ßon dont nous repr√©sentons les tableaux.  Si nous pouvions avoir nils dans les tableaux, alors nous aurions nils dans les tableaux sans rien d'autre.  C'est donc quelque chose que je regrette vraiment, et beaucoup de gens ne comprennent pas comment les choses changeraient si Lua autorisait des nils dans les tableaux. <br><br>  <b>- Puis-je vous raconter une histoire sur Tarantool?</b>  <b>Nous avons en fait notre propre impl√©mentation de null, qui est un CDATA vers un pointeur nul.</b>  <b>Nous l'utilisons lorsque des lacunes dans la m√©moire sont n√©cessaires.</b>  <b>Pour remplir des arguments de position lorsque nous faisons des appels √† distance, etc.</b>  <b>Mais nous en souffrons g√©n√©ralement car CDATA est toujours converti en ¬´vrai¬ª.</b>  <b>Donc, les nils dans les tableaux r√©soudraient beaucoup de nos probl√®mes.</b> <br><br>  - Ouais, je sais.  C'est exactement mon point - cela r√©soudrait beaucoup de probl√®mes pour beaucoup de gens, mais il y a un gros probl√®me de compatibilit√©.  Nous n'avons pas l'√©nergie de publier une version si incompatible, puis de briser la communaut√© et d'avoir une documentation diff√©rente pour Lua 5 et Lua 6, etc.  Mais peut-√™tre qu'un jour nous le publierons.  Mais c'est vraiment un grand changement.  Je pense que cela aurait d√ª √™tre comme √ßa depuis le d√©but - si c'√©tait le cas, ce serait un changement trivial dans la langue, sauf pour la compatibilit√©.  Il casse beaucoup de programmes, de mani√®re tr√®s subtile. <br><br>  <b>- Quels sont les inconv√©nients, sauf pour la compatibilit√©?</b> <br><br>  - Outre la compatibilit√©, l'inconv√©nient est que nous aurions besoin de deux nouvelles op√©rations, deux nouvelles fonctions.  Comme ¬´supprimer la cl√©¬ª, car affecter nil ne supprimerait pas la cl√©, nous aurions donc une sorte d'op√©ration primitive pour supprimer la cl√© et la supprimer vraiment de la table.  Et 'test' pour v√©rifier o√π distinguer exactement entre z√©ro et absent.  Nous avons donc besoin de deux fonctions primitives. <br><br>  <b>- Avez-vous analys√© l'impact de cela sur des impl√©mentations r√©elles?</b> <br><br>  - Oui, nous avons sorti une version de Lua avec √ßa.  Et comme je l'ai dit, cela casse le code de nombreuses mani√®res subtiles.  Il y a des gens qui font table.insert (f (x)) - un appel √† une fonction.  Et c'est expr√®s, c'est par conception que lorsqu'une fonction ne veut rien ins√©rer, elle retourne nil.  Donc au lieu d'une coche distincte "est-ce que je veux ins√©rer?", Alors j'appelle un table.insert, et sachant que s'il est nul, il ne sera pas ins√©r√©.  Comme tout dans chaque langue, un bogue devient une fonctionnalit√©, et les gens utilisent la fonctionnalit√© - mais si vous la changez, vous cassez le code. <br><br>  <b>- Et un nouveau type de vide?</b>  <b>Comme nul, mais nul?</b> <br><br>  - Oh non, c'est un cauchemar.  Vous venez de reporter le probl√®me, si vous en mettez un autre, alors vous en avez besoin d'un autre et d'un autre et d'un autre.  Ce n'est pas la solution.  Le principal probl√®me - enfin, pas le principal, mais l'un des probl√®mes - est que z√©ro est d√©j√† ancr√© dans de nombreux endroits de la langue.  Par exemple, un exemple tr√®s typique.  Nous disons: vous devez √©viter les nils dans les tableaux, les trous.  Mais ensuite, nous avons des fonctions qui renvoient nil et quelque chose apr√®s nil, nous obtenons donc un code d'erreur.  Donc, cette construction elle-m√™me suppose ce que nil repr√©sente ... Par exemple, si je veux faire une liste des retours de cette fonction, juste pour capturer tous ces retours. <br><br>  <b>- C'est pourquoi vous avez un hack pour √ßa.</b>  <b>:)</b> <br><br>  - Exactement, mais vous n'avez pas besoin d'utiliser des hacks pour un probl√®me aussi primitif et √©vident.  Mais la fa√ßon dont les biblioth√®ques sont construites ... J'y ai d√©j√† pens√© - peut-√™tre que les biblioth√®ques devraient retourner false au lieu de nil - mais c'est une solution √† moiti√© cuite, elle ne r√©sout qu'une petite partie du probl√®me.  Le vrai probl√®me, comme je l'ai dit, est que nous devrions avoir z√©ro dans les tableaux.  Sinon, nous ne devrions peut-√™tre pas utiliser nils aussi souvent que nous le faisons actuellement.  C'est un peu d√©sordonn√©.  Donc, si vous cr√©ez un void, ces fonctions renverraient toujours un nil, et nous aurions toujours ce probl√®me √† moins que nous ne cr√©ons un nouveau type et les fonctions renverraient void au lieu de nil. <br><br>  <b>- Void pourrait √™tre utilis√© pour indiquer explicitement que la cl√© doit √™tre conserv√©e dans une table - cl√© avec une valeur nulle.</b>  <b>Et rien ne peut agir comme avant.</b> <br><br>  - Oui, c'est ce que je veux dire.  Toutes les fonctions des biblioth√®ques doivent renvoyer void ou nil. <br><br>  <b>- Ils peuvent toujours retourner nul, pourquoi pas?</b> <br><br>  - Parce que nous aurions toujours le probl√®me de ne pas pouvoir capturer certaines fonctions. <br><br>  <b>- Mais il n'y aura pas de premi√®re cl√©, seulement une deuxi√®me cl√©.</b> <br><br>  - Non, il n'y aura pas de deuxi√®me cl√©, car le comptage sera erron√© et vous aurez un trou dans le tableau. <br><br>  <b>- Oui, alors tu dis que tu as besoin d'une fausse m√©tam√©thode?</b> <br><br>  - Oui.  Mon r√™ve est quelque chose comme √ßa: <br><br> <code>{f(x)}</code> <br> <br>  Vous devez capturer tous les retours de la fonction <code>f(x)</code> .  Et puis je peux faire <code>%x</code> ou <code>#x</code> , et cela me donnera le nombre de retours de la fonction.  C'est ce qu'un langage raisonnable devrait faire.  Donc, cr√©er un vide ne r√©soudra pas cela, √† moins d'avoir une r√®gle tr√®s stricte selon laquelle les fonctions ne doivent jamais retourner nulles, mais alors pourquoi avons-nous besoin de z√©ro?  Nous devrions peut-√™tre l'√©viter. <br><br>  <b>- Roberto, y aura-t-il un support d'analyse statique beaucoup plus fort pour Lua?</b>  <b>Comme "Lua Check on steroids."</b>  <b>Je sais que cela ne r√©soudra pas tous les probl√®mes, bien s√ªr.</b>  <b>Vous dites que c'est une fonctionnalit√© pour 6.0, si jamais, non?</b>  <b>Donc, si dans un 5.x il y aura un outil d'analyse statique puissant - si des heures et des ann√©es-homme √©taient investies - cela aiderait-il vraiment?</b> <br><br>  - Non, je pense qu'un outil d'analyse statique vraiment puissant s'appelle ... syst√®me de type!  Si vous voulez un outil vraiment puissant, vous devez utiliser un langage typ√© statiquement, quelque chose comme Haskell ou m√™me quelque chose avec des types d√©pendants.  Ensuite, vous aurez des outils d'analyse vraiment puissants. <br><br>  <b>- Mais tu n'as pas Lua.</b> <br><br>  - Exactement, Lua est pour ... <br><br>  <b>- Impr√©cis?</b>  <b>J'ai vraiment appr√©ci√© votre photo de girafe sur les types statiques et dynamiques.</b> <br><br>  - Oui, ma derni√®re diapositive. <br><br><img src="https://habrastorage.org/webt/ch/po/as/chpoaszqoikzai3b3hcmymonqv0.jpeg"><br>  <i>La derni√®re diapositive du discours de Roberto Ierusalimschy "Pourquoi (et pourquoi pas) Lua?"</i> <i><br></i>  <i>√† la conf√©rence Lua √† Moscou 2019</i> <br><br>  <b>- Pour notre prochaine question pr√©par√©e, revenons √† cette image.</b>  <b>Si je comprends bien, votre position est que Lua est un petit outil pratique et pratique pour r√©soudre des t√¢ches pas tr√®s importantes.</b> <br><br>  - Non, je pense que vous pouvez faire de grandes t√¢ches, mais pas avec une analyse statique.  Je crois fermement aux tests.  Soit dit en passant, je ne suis pas d'accord avec vous sur la couverture, votre avis est que nous ne devrions pas poursuivre la couverture ... Je veux dire, je suis enti√®rement d'accord que la couverture n'implique pas un test complet, mais la non-couverture implique un test de z√©ro pour cent.  J'ai donc parl√© d'une salle de test - vous √©tiez l√† √† Stockholm.  J'ai donc commenc√© mon test avec [quelques] bugs - c'est la chose la plus √©trange - l'un d'eux √©tait c√©l√®bre, l'autre √©tait compl√®tement non c√©l√®bre.  C'est quelque chose de compl√®tement cass√© dans un fichier d'en-t√™te de Microsoft, C et C ++.  Je recherche donc sur le Web et personne ne s'en soucie ni ne le remarque. <br><br>  Par exemple, il existe une fonction math√©matique, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">modf ()</a> , o√π vous devez passer un pointeur sur un double car il renvoie deux doubles.  Nous traduisons la partie enti√®re du nombre ou la partie fractionnaire.  Cela fait donc longtemps partie d'une biblioth√®que standard.  Puis est venu C 99, et vous avez besoin de cette fonction pour les flotteurs.  Et le fichier d'en-t√™te de Microsoft a simplement conserv√© cette fonction et en a d√©clar√© une autre en tant que macro.  Donc, il a mis celui-ci en caract√®res de type.  Donc, il a jet√© le double pour flotter, ok, puis il a jet√© le pointeur pour doubler pour que le pointeur flotte! <br><br>  <b>- Quelque chose ne va pas sur cette image.</b> <br><br>  - Il s'agit d'un fichier d'en-t√™te de Visual C ++ et Visual C 2007. Je veux dire, si vous avez appel√© cette fonction une fois, avec tous les param√®tres, et v√©rifi√© les r√©sultats - ce serait faux √† moins que ce ne soit z√©ro.  Sinon, toute autre valeur sera erron√©e.  Vous n'utiliseriez jamais cette fonction.  Couverture z√©ro.  Et puis il y a beaucoup de discussions sur les tests ... Je veux dire, appelez simplement une fonction une fois, v√©rifiez les r√©sultats!  Donc √ßa y est, √ßa y est depuis longtemps, depuis de nombreuses ann√©es personne ne s'en souciait.  Un tr√®s c√©l√®bre √©tait √† Apple.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Quelque chose comme</a> " <code>if‚Ä¶ what‚Ä¶ goto‚Ä¶ ok</code> ", c'√©tait quelque chose comme √ßa.  Quelqu'un a mis une autre d√©claration ici.  Et puis tout allait bien.  Et il y a eu beaucoup de discussions que vous devriez avoir les r√®gles, les crochets devraient √™tre obligatoires dans votre style, etc., etc.  Personne n'a mentionn√© qu'il y avait beaucoup d'autres ifs ici.  Cela n'a jamais √©t√© ex√©cut√© ... <br><br>  <b>- Il y a aussi un probl√®me de s√©curit√© pour autant que je m'en souvienne.</b> <br><br>  - Oui, exactement.  Parce qu'ils testaient seulement des cas approuv√©s.  Ils ne testaient rien, car tout serait approuv√©.  Cela signifie qu'il n'y a pas un seul cas de test dans l'application de s√©curit√© qui v√©rifie si elle refuse une connexion ou quoi que ce soit qu'elle devrait refuser.  Alors tout le monde discute et dit qu'ils devraient avoir des crochets ... Ils devraient avoir des tests, des tests minimum!  Parce que personne n'a jamais test√© cela, c'est ce que je veux dire par couverture.  C'est incroyable de voir comment les gens ne font pas de tests de base.  Parce que s'ils faisaient tous les tests de base, alors bien s√ªr, c'est un cauchemar de faire toute la couverture et d'ex√©cuter toutes les lignes, etc.  Les gens n√©gligent m√™me les tests de base, la couverture est donc au moins √† peu pr√®s minimale.  C'est une fa√ßon d'attirer l'attention sur certaines parties du programme que vous avez oubli√©es.  C'est une sorte de guide pour am√©liorer un peu vos tests. <br><br>  <b>- Quelle est la couverture des tests dans Tarantool?</b>  <b>83%!</b>  <b>Roberto, quelle est la couverture du test Lua?</b> <br><br>  - Environ 99,6.  Combien de lignes de code avez-vous?  Un million, des centaines de milliers?  Ce sont des nombres √©normes.  Un pour cent de cent mille, c'est mille lignes de code qui n'ont jamais √©t√© test√©es.  Vous ne l'avez pas ex√©cut√© du tout.  Vos utilisateurs ne testent rien. <br><br>  <b>- Il y a donc 17% des fonctionnalit√©s de Tarantool qui ne sont pas utilis√©es actuellement?</b> <br><br>  - Je ne sais pas si vous voulez tout d√©compresser o√π nous en √©tions ... Je pense que l'un des probl√®mes avec les langages dynamiques (et les langages statiques d'ailleurs) est que les gens ne testent pas les trucs.  M√™me si vous avez un langage statique, √† moins que vous n'ayez quelque chose - pas m√™me comme Haskell, mais Coq, - un syst√®me de preuve, vous changez cela pour ceci ou cela.  Aucun outil d'analyse statique ne peut d√©tecter ces erreurs, vous avez donc besoin de tests.  Et si vous avez les tests, vous d√©tectez des probl√®mes globaux, renommez les fautes d'orthographe, etc.  Tous ces types d'erreurs.  Vous devriez avoir ces tests de toute fa√ßon, peut-√™tre que parfois c'est un peu plus difficile √† d√©boguer, parfois ce n'est pas le cas - cela d√©pend de la langue et du type de bogue.  Mais le probl√®me est qu'aucun outil d'analyse statique ne peut vous permettre d'√©viter les tests.  Les tests, par contre ... eh bien, ils ne prouvent jamais l'absence d'erreur, mais je me sens beaucoup plus en s√©curit√© apr√®s tous les tests. <br><br>  <b>- Nous avons une question sur le test des modules Lua.</b>  <b>En tant que d√©veloppeur, je souhaite tester certaines fonctions locales qui pourront √™tre utilis√©es ult√©rieurement.</b>  <b>La question est: nous voulons avoir une couverture d'environ 99%, mais pour l'API produite par ce module, le nombre de cas fonctionnels qu'il devrait produire est bien inf√©rieur √† la fonctionnalit√© qu'il prend en charge en interne.</b> <br><br>  - Pourquoi √ßa, d√©sol√©? <br><br>  <b>- Certaines fonctionnalit√©s ne sont pas accessibles par l'interface publique.</b> <br><br>  - S'il y a une fonctionnalit√© qui n'est pas accessible par l'interface publique, elle ne devrait pas √™tre l√†, effacez-la.  Effacez ce code. <br><br>  <b>- Tue-le?</b> <br><br>  - Oui, parfois je fais √ßa √† Lua.  Il y avait une certaine couverture de code, je ne pouvais pas y arriver ou l√† ou l√†, alors j'ai pens√© que c'√©tait impossible et j'ai simplement supprim√© le code.  Ce n'est pas si courant, mais c'est arriv√© plus d'une fois.  Ces cas √©taient impossibles √† se produire, vous venez de mettre une affirmation pour expliquer pourquoi cela ne peut pas se produire.  Si vous ne pouvez pas acc√©der √† vos fonctions √† partir de l'API publique, elle ne devrait pas y √™tre.  Nous devons coder l'API publique avec une entr√©e incorrecte, ce qui est essentiel pour les tests. <br><br>  <b>- Supprimez le code, la suppression est bonne, elle r√©duit la complexit√©.</b>  <b>Une complexit√© r√©duite augmente la maintenabilit√© et la stabilit√©.</b>  <b>Restez simple.</b> <br><br>  - Oui, la programmation extr√™me avait cette r√®gle.  Si ce n'est pas dans un test, alors il n'existe pas. <br><br>  <b>- Quelles langues vous ont inspir√© lorsque vous avez cr√©√© Lua?</b>  <b>Quels paradigmes ou sp√©cialit√©s fonctionnelles ou parties de ces langues avez-vous aim√©?</b> <br><br>  - J'ai con√ßu Lua dans un but tr√®s pr√©cis, ce n'√©tait pas un projet acad√©mique.  C'est pourquoi quand vous me demandez si je le recr√©erais, je dis qu'il y a beaucoup de trucs historiques sur la langue.  Je n'ai pas commenc√© par 'Laissez-moi cr√©er le langage que je veux ou veux utiliser ou tout le monde a besoin etc.  Mon probl√®me √©tait ¬´Ce programme a besoin ici d'un langage de configuration pour les g√©ologues et les ing√©nieurs, et j'ai besoin de cr√©er un petit langage qu'ils pourraient utiliser avec une interface facile.  C'est pourquoi l'API a toujours fait partie int√©grante du langage, car il est plus facile √† int√©grer.  C'√©tait le but.  Ce que j'avais dans mon pass√©, c'est beaucoup de langues diff√©rentes √† l'√©poque ... une dizaine.  Si vous voulez tout l'arri√®re-plan ... <br><br>  <b>- Je m'int√©ressais aux langues que vous vouliez inclure dans Lua.</b> <br><br>  - Je recevais des choses de plusieurs langues diff√©rentes, quel que soit le probl√®me que je rencontrais.  La plus grande inspiration √©tait le langage Modula pour la syntaxe, mais sinon, c'est difficile √† dire car il y a tellement de langues.  Certaines choses venaient d'AWK, c'√©tait une autre petite inspiration.  Bien s√ªr, Scheme et Lisp ... J'ai toujours √©t√© fascin√© par Lisp depuis que j'ai commenc√© √† programmer. <br><br>  <b>- Et toujours pas de macros √† Lua!</b> <br><br>  - Oui, il y a beaucoup de diff√©rence de syntaxe.  Fortran, je pense, √©tait la premi√®re langue ... non, la premi√®re langue que j'ai apprise √©tait l'assemblage, puis est venu le fortran.  J'ai √©tudi√©, mais je n'ai jamais utilis√© CLU.  J'ai fait beaucoup de programmation avec Smalltalk, SNOBOL.  J'ai aussi √©tudi√©, mais je n'ai jamais utilis√© Icon, c'est aussi tr√®s int√©ressant.  Beaucoup venaient de Pascal et C. Au moment o√π j'ai cr√©√© Lua, le C ++ √©tait d√©j√† trop complexe pour moi - et c'√©tait avant les mod√®les, etc.  C'√©tait en 1991, et en 1993, Lua a commenc√©. <br><br>  <b>- L'Union sovi√©tique est tomb√©e et vous avez commenc√© √† cr√©er Lua.</b>  <b>:) Vous ennuyiez-vous avec des points-virgules et des objets lorsque vous avez commenc√© √† travailler sur Lua?</b>  <b>Je m'attendrais √† ce que Lua ait une syntaxe similaire √† C, car il est int√©gr√© √† C. Mais ...</b> <br><br>  - Oui, je pense que c'est une bonne raison de ne pas avoir de syntaxe similaire - donc vous ne les m√©langez pas, ce sont deux langues diff√©rentes. <br><br>  C'est quelque chose de vraiment dr√¥le et c'est li√© √† la r√©ponse que vous ne m'avez pas permis [√† la conf√©rence] de donner sur des tableaux √† partir de 1. Ma r√©ponse √©tait trop longue. <br><br>  Quand nous avons commenc√© Lua, le monde √©tait diff√©rent, tout n'√©tait pas comme C.  Java et JavaScript n'existaient pas, Python en √©tait √† ses balbutiements et avait une version inf√©rieure √† 1.0.  Il n'y avait donc pas cette chose quand tous les langages sont cens√©s √™tre en C.  C n'√©tait qu'une des nombreuses syntaxes disponibles. <br><br>  Et les tableaux √©taient exactement les m√™mes.  C'est tr√®s dr√¥le que la plupart des gens ne s'en rendent pas compte.  Il y a de bonnes choses √† propos des tableaux √† base z√©ro ainsi que des tableaux √† base unique. <br><br>  Le fait est que la plupart des langages populaires sont bas√©s sur z√©ro √† cause de C. Ils √©taient en quelque sorte inspir√©s par C. Et le plus dr√¥le est que C n'a pas d'indexation.  Vous ne pouvez donc pas dire que les index C sont des tableaux √† partir de z√©ro, car il n'y a pas d'op√©ration d'indexation.  C a une arithm√©tique de pointeur, donc z√©ro en C n'est pas un index, c'est un d√©calage.  Et en tant que d√©calage, ce doit √™tre un z√©ro - pas parce qu'il a de meilleures propri√©t√©s math√©matiques ou parce qu'il est plus naturel, peu importe. <br><br>  Et tous ces langages qui ont copi√© C, ils ont des index et n'ont pas d'arithm√©tique de pointeur.  Java, JavaScript, etc., etc.  - aucun d'eux n'a d'arithm√©tique de pointeur.  Ils ont donc simplement copi√© le z√©ro, mais c'est une op√©ration compl√®tement diff√©rente.  Ils ont mis z√©ro pour aucune raison - c'est comme un culte du fret. <br><br>  <b>- Vous dites que c'est logique si vous avez un langage int√©gr√© en C pour le faire avec une syntaxe de type C.</b>  <b>Mais si vous avez un langage C-embarqu√©, je suppose que vous avez des programmeurs C qui veulent que le code soit en C et pas un autre langage, qui ressemble √† C, mais pas C. Donc, les utilisateurs de Lua n'ont jamais √©t√© cens√©s utiliser C tous les jours?</b>  <b>Pourquoi?</b> <br><br>  - Qui utilise C tous les jours? <br><br>  <b>- Programmeurs syst√®me.</b> <br><br>  - Exactement.  C'est le probl√®me, trop de gens utilisent C, mais ne devraient pas √™tre autoris√©s √† l'utiliser.  Les programmeurs doivent √™tre certifi√©s pour utiliser C. Pourquoi le logiciel est-il si cass√©?  Tous ces hacks envahissant le monde, tous ces probl√®mes de s√©curit√©.  La moiti√© au moins est due √† C. Il est vraiment difficile de programmer en C. <br><br>  <b>- Mais Lua est en C.</b> <br><br>  - Oui, et c'est ainsi que nous avons appris √† quel point il est difficile de programmer en C. Vous avez des d√©bordements de tampon, vous avez des d√©bordements d'entier qui provoquent des d√©bordements de tampon ... Il suffit d'obtenir un seul programme C que vous pouvez √™tre s√ªr qu'aucune arithm√©tique ne va mal si les gens mettent n'importe quel nombre n'importe o√π et tout est v√©rifi√©.  L√† encore, de vrais probl√®mes de portabilit√© - peut-√™tre que parfois, dans un processeur, cela fonctionne, mais cela arrive √† l'autre processeur ... C'est fou. <br><br>  Par exemple, tr√®s r√©cemment, nous avons eu un probl√®me.  Comment savez-vous que votre programme C ne fait pas de d√©bordement de pile?  Je veux dire la profondeur de pile, pas le d√©bordement de pile parce que vous avez envahi ... Combien d'appels avez-vous le droit de faire dans un programme C? <br><br>  <b>- D√©pend de la taille d'une pile.</b> <br><br>  - Exactement.  Que dit la norme √† ce sujet?  Si vous codez en C et puis vous faites cette fonction qui appelle cette fonction qui appelle cette fonction ... combien d'appels pouvez-vous faire? <br><br>  <b>- 16 mille?</b> <br><br>  - Je me trompe peut-√™tre, mais je pense que la norme ne dit rien √† ce sujet. <br><br>  <b>- Je pense qu'il n'y a rien dans la norme car elle d√©pend trop de la taille.</b> <br><br>  - Bien s√ªr, cela d√©pend de la taille de chaque fonction.  Il peut s'agir d'√©normes tableaux automatiques dans le cadre des fonctions ... Donc, la norme ne dit rien et il n'y a aucun moyen de v√©rifier si un appel sera valide.  Vous pouvez donc avoir un seul probl√®me si vous avez des appels en trois √©tapes, il peut se bloquer et √™tre toujours un programme C valide.  Correct selon la norme - bien qu'il ne soit pas correct car il se bloque.  Il est donc tr√®s difficile de programmer en C, car il y en a tellement ... Un autre bon exemple: quel est le r√©sultat lorsque vous soustrayez deux pointeurs?  Personne ici ne travaille avec C? <br><br>  <b>- Non, alors ne les grille pas.</b>  <b>Mais C ++ prend en charge diff√©rents types.</b> <br><br>  - Non, C ++ a le m√™me probl√®me. <br><br>  <b>- Quel est le type de d√©claration?</b>  <b><code>ptrdiff_t</code> ?</b> <br><br>  - Exactement, <code>ptrdiff_t</code> est un type sign√©.  Donc, g√©n√©ralement, si vous avez une m√©moire standard de la taille de votre mot et que vous soustrayez deux pointeurs dans cet espace, vous ne pouvez pas repr√©senter toutes les tailles dans le type sign√©.  Alors, que dit la norme √† ce sujet? <br><br>  Lorsque vous soustrayez deux pointeurs, si la r√©ponse tient dans un diff de pointeur, c'est la r√©ponse.  Sinon, vous avez un comportement ind√©fini.  Et comment savoir si cela convient?  Non.  Donc, chaque fois que vous soustrayez deux pointeurs, vous savez g√©n√©ralement que ce n'est pas standard, que si vous pointez sur quelque chose de plus grand qu'au moins 2 octets, alors la plus grande taille serait la moiti√© de la taille de la m√©moire, donc tout va bien. <br><br>  Vous ne rencontrez donc un probl√®me que si vous pointez sur des octets ou des caract√®res.  Mais lorsque vous faites cela, vous avez un vrai probl√®me, vous ne pouvez pas faire de l'arithm√©tique du pointeur sans vous soucier d'avoir une cha√Æne plus grande que la moiti√© de la m√©moire.  Et puis je ne peux pas simplement calculer la taille et stocker dans un type de pointeur diff car c'est faux. <br><br>  C'est ce que je veux dire √† propos d'un programme C ou C ++ s√©curis√© qui est vraiment s√ªr. <br><br>  <b>- Avez-vous envisag√© d'impl√©menter Lua dans une autre langue?</b>  <b>Le changer de C √† autre chose?</b> <br><br>  - Lorsque nous avons commenc√©, j'ai envisag√© le C ++, mais comme je l'ai dit, j'ai abandonn√© son utilisation en raison de la complexit√© - Je ne peux pas apprendre tout le langage.  Il devrait √™tre utile d'avoir des trucs en C ++ mais ... m√™me aujourd'hui, je ne vois aucun langage qui ferait l'affaire. <br><br>  <b>- Pouvez-vous expliquer pourquoi?</b> <br><br>  - Parce que je n'ai pas d'alternative.  Je peux seulement expliquer pourquoi contre d'autres langues.  Je ne dis pas que C est parfait ou m√™me bon, mais c'est le meilleur.  Pour expliquer pourquoi, je dois le comparer avec d'autres langues. <br><br>  <b>- Et JVM?</b> <br><br>  - Oh, JVM.  Allez, il ne tient pas dans la moiti√© du mat√©riel ... La portabilit√© est la principale raison, mais aussi les performances.  Dans JVM, c'est un peu mieux que .NET, mais ce n'est pas si diff√©rent.  Beaucoup de choses que Lua fait nous ne pouvons pas faire avec JVM.  Vous ne pouvez pas contr√¥ler le garbage collector par exemple.  Vous devez utiliser le garbage collector JVM car vous ne pouvez pas avoir un autre garbage collector impl√©ment√© au-dessus de JVM.  JVM est √©galement un grand consommateur de m√©moire.  Quand un programme Java commence √† dire bonjour, c'est comme 10 Mo environ.  La portabilit√© est un probl√®me non pas parce qu'elle n'a pas √©t√© port√©e, mais parce qu'elle ne peut pas l'√™tre. <br><br>  <b>- Qu'en est-il des modifications JVM comme Mobile JVM?</b> <br><br>  - Ce n'est pas JVM, c'est une blague.  C'est comme une micro √©dition de Java, pas Java. <br><br>  <b>- Et les autres langages statiques comme Go ou Oberon?</b>  <b>Pourraient-ils √™tre la base de Lua si vous l'avez cr√©√© aujourd'hui?</b> <br><br>  - Oberon ... peut-√™tre, √ßa d√©pend ... Allez, encore une fois, a un ramasse-miettes et a un temps d'ex√©cution trop grand pour Lua.  Oberon serait une option, mais Oberon a des choses tr√®s √©tranges, comme vous n'avez presque pas de constantes, si je me souviens bien.  Oui, je pense qu'ils ont supprim√© const de Pascal √† Oberon.  J'avais un livre sur Oberon et j'ai ador√© Oberon.  Son <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">syst√®me</a> √©tait incroyable, c'est vraiment quelque chose. <br><br>  Je me souviens qu'en 1994, j'ai vu une d√©monstration d'Oberon et de Self.  Vous connaissez-vous?  C'est un langage dynamique tr√®s int√©ressant avec des compilateurs jit etc ... J'ai vu ces d√©mos √† une semaine d'intervalle, et Self √©tait tr√®s intelligent, ils ont utilis√© certaines techniques de dessins anim√©s pour masquer la lenteur des op√©rations.  Parce que quand vous avez ouvert quelque chose, c'√©tait comme "woop!"  - d'abord, il diminue un peu, puis se d√©veloppe avec quelques effets.  Il a √©t√© tr√®s bien impl√©ment√©, ces techniques qu'ils ont utilis√©es pour simuler le mouvement ... <br><br>  Puis une semaine plus tard, nous avons vu une d√©mo d'Oberon, il fonctionnait comme 1/10 <sup>e</sup> de mat√©riel pour Self - il y avait cette tr√®s vieille petite machine.  √Ä Oberon, vous cliquez puis vous bougez, tout fonctionne imm√©diatement, tout le syst√®me √©tait si l√©ger. <br><br>  Mais pour moi, c'est trop minimaliste, ils ont supprim√© les constantes et les types de variantes. <br><br>  <b>- Haskell?</b> <br><br>  - Je ne connais pas Haskell ni comment impl√©menter Lua dans Haskell. <br><br>  <b>- Et quelle est votre attitude vis-√†-vis des langages comme Python ou R ou Julia comme base pour les futures impl√©mentations de Lua?</b> <br><br>  - Je pense que chacun d'eux a ses utilisations. <br><br>  R semble √™tre bon pour les statistiques.  C'est tr√®s sp√©cifique au domaine, fait par des gens de la r√©gion, c'est donc une force. <br><br>  Python est bien, mais j'ai eu des probl√®mes personnels avec.  Je pensais l'avoir mentionn√© dans mon discours ou dans l'interview.  Cette chose de ne pas conna√Ætre la langue enti√®re ou de ne pas l'utiliser, l'erreur de sous-ensemble. <br><br>  Nous utilisons Python dans nos cours, en enseignant la programmation de base - juste une petite partie, des boucles et des entiers.  Tout le monde √©tait content, puis ils ont dit que ce serait bien d'avoir des applications graphiques, donc nous avions besoin d'une biblioth√®que graphique.  Et presque toutes les biblioth√®ques graphiques, vous obtenez l'API ... Mais je ne connais pas assez Python, c'est un truc tr√®s avanc√©.  Il a l'illusion que c'est facile et j'ai toutes ces biblioth√®ques pour tout, mais c'est facile ou vous avez tout. <br><br>  Donc, quand vous commencez √† utiliser la langue, alors vous commencez: oh, je dois apprendre la POO, l'h√©ritage, quoi que ce soit d'autre.  Chaque biblioth√®que.  Il semble que les auteurs soient fiers d'utiliser des fonctionnalit√©s de langage plus avanc√©es dans leur API pour montrer que je ne sais pas quoi.  Appels de fonction, types standard, etc.  Vous avez cet objet, puis si vous voulez autre chose, vous devez cr√©er un autre objet ... <br><br>  M√™me la correspondance de motifs, vous pouvez faire des choses simples, mais g√©n√©ralement la correspondance de motifs standard n'est pas quelque chose que vous faites.  Vous effectuez une correspondance, un objet renvoie un r√©sultat, puis vous appelez des m√©thodes sur ce r√©sultat d'objet pour obtenir le r√©sultat r√©el de la correspondance.  Parfois, il existe un moyen plus simple √† utiliser, mais ce n'est pas √©vident, ce n'est pas la fa√ßon dont la plupart des gens utilisent. <br><br>  Un autre exemple: j'enseignais un cours sur la correspondance de motifs et je voulais utiliser la syntaxe de type Perl, et je ne pouvais pas utiliser Lua √† cause d'une syntaxe compl√®tement diff√©rente.  J'ai donc pens√© que Python serait l'exemple parfait.  Mais en Python, il existe des fonctions directes pour certaines choses de base, mais pour tout ce qui est plus complexe, vous devez conna√Ætre les objets et les m√©thodes, etc.  Je voulais juste faire quelque chose et avoir le r√©sultat. <br><br>  <b>- Qu'avez-vous fini par utiliser?</b> <br><br>  - J'ai utilis√© Python et leur ai expliqu√©.  Mais m√™me Perl est beaucoup plus simple, vous faites le match et les r√©sultats sont de 1 $, 2 $, 3 $, c'est beaucoup plus facile, mais je n'ai pas le courage d'utiliser Perl, alors ... <br><br>  <b>- J'utilisais Python depuis deux ans avant de remarquer qu'il y avait des d√©corateurs.</b>  <b>(question de Yaroslav Dynnikov de l'√©quipe Tarantool)</b> <br><br>  - Oui, et lorsque vous souhaitez utiliser une biblioth√®que, vous devez apprendre ce genre de choses et vous ne comprenez pas l'API, etc.  Python donne l'illusion que c'est facile mais c'est assez complexe. <br><br>  ... Et Julia, je ne connais pas grand-chose √† Julia, mais cela m'a rappel√© LuaJIT dans le sens o√π cela ressemble parfois √† la fiert√© de l'utilisateur.  Vous pouvez avoir de tr√®s bons r√©sultats, mais vous devez vraiment comprendre ce qui se passe.  Ce n'est pas comme si vous √©criviez du code et obteniez de bons r√©sultats.  Non, vous √©crivez du code et parfois les r√©sultats sont bons, parfois ils sont horribles.  Et lorsque les r√©sultats sont horribles, vous avez beaucoup de bons outils qui vous montrent le langage interm√©diaire qui a √©t√© g√©n√©r√© une fois, vous le v√©rifiez et ensuite vous parcourez tout ce code presque assembleur.  Ensuite, vous vous rendez compte: oh, ce n'est pas l'optimisation √† cause de cela.  C'est le probl√®me des programmeurs, ils aiment les jeux et parfois ils aiment les trucs parce que c'est difficile, pas parce que c'est facile. <br><br>  Je ne sais pas grand chose sur Julia, mais j'ai vu une fois en parler.  Et le gars qui parlait, c'√©tait lui qui avait ce point de vue: voyez comme c'est sympa, nous avons √©crit ce programme et c'est parfait.  Je ne me souviens pas de grand chose, quelque chose sur la multiplication matricielle je suppose.  Et puis les flotteurs sont parfaits, puis les doubles sont parfaits, et ensuite ils mettent des [nombres] complexes ... et ce fut une trag√©die.  Comme cent fois plus lentement. <br><br>  (sarcastique) ¬´Voyez comme c'est agr√©able, nous avons cet outil, nous pouvons voir l'ensemble de l'assemblage [listage], et ensuite vous allez changer cela et cela et cela.  Voyez √† quel point c'est efficace ¬ª.  Oui, je vois, je peux programmer directement en assembleur. <br><br>  Mais ce n'√©tait qu'un discours.  J'ai √©tudi√© un peu de R et j'ai une certaine exp√©rience utilisateur avec Python pour les petites choses. <br><br>  <b>- Que pensez-vous d'Erlang?</b> <br><br>  - Erlang est une langue amusante.  Il a de tr√®s bonnes utilisations, la tol√©rance aux pannes est vraiment int√©ressante.  Mais ils pr√©tendent que c'est un langage fonctionnel et l'id√©e du langage fonctionnel est que vous n'avez pas d'√©tat. <br><br>  Et Erlang a un √©norme √©tat cach√© dans les messages envoy√©s et non encore re√ßus.  Donc, chaque petit processus est compl√®tement fonctionnel mais le programme lui-m√™me est compl√®tement non fonctionnel. <br><br>  C'est un g√¢chis de donn√©es cach√©es qui est bien pire que les variables globales car s'il s'agissait de variables globales, vous les imprimeriez.  Messages qui sont l'√©tat r√©el de votre syst√®me.  √Ä chaque instant, quel est l'√©tat du syst√®me?  Il y a tous ces messages envoy√©s ici et l√†.  C'est compl√®tement non fonctionnel, du tout. <br><br>  <b>- Erlang ment donc sur la fonctionnalit√© et Python sur la simplicit√©.</b>  <b>Sur quoi ment Lua?</b> <br><br>  - Lua ment un peu sur sa petite taille.  C'est encore plus petit que la plupart des autres langues, mais si vous voulez une tr√®s petite langue, alors Lua est plus grande que vous ne le souhaitez. <br><br>  <b>- Qu'est-ce qu'une petite langue alors?</b> <br><br>  - Forth est, j'aime Forth. <br><br>  <b>- Y a-t-il une place pour une version plus petite de Lua?</b> <br><br>  - Peut-√™tre, mais c'est difficile.  J'adore les tables mais les tables ne sont pas tr√®s petites.  Si vous voulez repr√©senter de petites choses, l'id√©e derri√®re les tables ne vous conviendra pas.  Ce serait la syntaxe de Lua, nous l'appellerions Lua mais ce n'est pas Lua. <br><br>  Ce serait comme la micro √©dition Java.  Vous l'appelez Java mais a-t-il du multi-threading?  Non, non.  At-il une r√©flexion?  Non, non.  Alors pourquoi l'utiliser?  Il a une syntaxe de Java, le m√™me type de syst√®me mais ce n'est pas du tout Java.  C'est un langage diff√©rent qui est plus facile √† apprendre si vous connaissez Java mais ce n'est pas Java. <br><br>  Si vous voulez faire un petit langage qui ressemble √† Lua mais Lua sans tables ne l'est pas ... Vous devriez probablement avoir √† d√©clarer des tables, quelque chose comme FFI pour pouvoir √™tre petit. <br><br>  <b>- Y a-t-il des adaptations plus petites de Lua?</b> <br><br>  - Peut-√™tre, je ne sais pas. <br><br>  <b>- Lua est-il pr√™t pour une programmation fonctionnelle pure?</b>  <b>Pouvez-vous le faire avec Lua?</b> <br><br>  - Bien s√ªr que vous le pouvez.  Ce n'est pas particuli√®rement efficace, mais seul Haskell est vraiment efficace pour cela.  Si vous commencez √† utiliser des monades et des trucs comme √ßa, cr√©ez de nouvelles fonctions, composez des fonctions etc ... Vous pouvez le faire avec Lua, cela fonctionne assez raisonnablement, mais vous avez besoin de techniques d'impl√©mentation diff√©rentes des langages imp√©ratifs normaux pour faire quelque chose de vraiment efficace. <br><br> <b>‚Äî Actually, there is a library for functional programming in Lua.</b> <br><br> ‚Äî Yes, it's reasonable and usable, if you do really need performance; you can do a lot of stuff with it. I love functional stuff and I do it all the time. <br><br> <b>‚Äî My question is more about the garbage collector, because we only have only mutable objects and we have to use them efficiently. Will Lua be good for that?</b> <br><br> ‚Äî I think a new incarnation of garbage collector will help a lot, but again‚Ä¶ <br><br> <b>‚Äî Young die young? The one that seems to work with young objects?</b> <br><br> ‚Äî Exactly, yes. But as I said even with the standard garbage collector we don't have optimal performance but it can be reasonable. More often you don't even need that performance for most actions unless you are writing servers and having big operations. <br><br> <b>‚Äî What functional programming tasks do you perform in Lua?</b> <br><br> ‚Äî A simple example. My book, I'm writing my own format and I have a formatter that transforms that in LaTex or DocBook. It's completely functional, it has a big pattern matching‚Ä¶ It's slightly inspired by LaTex but much more uniformed. There's @ symbol instead of backslash, a name of a macro and one single argument in curly brackets. So I have gsub that recognizes this kind of stuff and then it calls a function, the function does something and returns something. It's all functional, just functions on top of functions on top of functions, and the final function gives a big result. <br><br> <b>‚Äî Why don't you program with LaTeX?</b> <br><br> ‚Äî Plain LaTeX? First, it's too tricky for a lot of stuff and so difficult. I have several things that I don't know how to do in LaTex. For example, I want to put a piece of inline code inside a text. Then there is a slash verb, standard stuff. But slash verb gives fixed space. And the space between stuff is never right. All real spaces are variable, it depends on how the line is adjusted, so it expands in some spaces and compacts in others depending on a lot of stuff. And those spaces are fixed, so sometimes they look too large, sometimes too small. It also depends on what you put in code. <br><br> <b>‚Äî But you still render your own format to LaTeX?</b> <br><br> ‚Äî Yes, but with a lot of preprocessing. I write my own verb but then it changes and becomes not a verb but a lot of stuff. For example, when I write 3+1 I write a very small space here. In verb, if I don't put any space here, it shrinks, and if I do, it's too large. So I do the preprocessing, inserting a variable space. It's very small but can be a little larger if it needs to adjust. But if I put 'and' after 1 then I put a larger space. This function here does all that. This is a small example but there are other things‚Ä¶ <br><br> <b>‚Äî Do you have a source?</b> <br><br> ‚Äî I do have the source, it is in the <a href="">git</a> . The program's called <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2html</a> . The current version only generates HTML‚Ä¶ Sorry, that's a kind of a mess. I created it for a book but also another one for the manual. The one in the git is for the manual. But the other one is more complicated and not public, I can't make it public. But the main problem is that TeX is not there. It's almost impossible to process TeX files without TeX itself. <br><br> <b>‚Äî Is it not machine-readable?</b> <br><br> ‚Äî Yes, it's not machine-readable. I mean, it is readable because TeX reads it. It's so hard to test, so many strange rules etc. So this is much more uniformed and as I said I generate DocBook format, sometimes I need it. That started when I had this contract for a book. <br><br> <b>‚Äî So you use 2html to generate DocBook?</b> <br><br> ‚Äî Yes, it generates DocBook directly. <br><br> <b>‚Äî Ok, thank you very much for the interview!</b> <br><br><hr><br> If you have any more questions, you can ask them in the <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Lua Mailing List</a> . See you soon! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr459466/">https://habr.com/ru/post/fr459466/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr459456/index.html">Dagaz: √©pisodes (partie 1)</a></li>
<li><a href="../fr459458/index.html">ok.tech: Explication des donn√©es # 2</a></li>
<li><a href="../fr459460/index.html">Les difficult√©s de travailler avec Redux et leur solution</a></li>
<li><a href="../fr459462/index.html">SEO pour Yandex. Recherchez tout?</a></li>
<li><a href="../fr459464/index.html">Lua √† Moscou 2019: entretien avec Roberto J√©rusalem</a></li>
<li><a href="../fr459470/index.html">Partie 4: Toujours en cours d'ex√©cution Linux sur RISC-V RISC-V</a></li>
<li><a href="../fr459472/index.html">Heroku + Docker + Spring Boot</a></li>
<li><a href="../fr459474/index.html">Comment faire du texte parfaitement tap√© en une seconde: une macro dans Word pour ceux qui √©crivent beaucoup</a></li>
<li><a href="../fr459478/index.html">Mon exp√©rience dans la cr√©ation d'une application multi-thread pour travailler avec des sauvegardes</a></li>
<li><a href="../fr459480/index.html">Vivaldi: Comment le navigateur gagne-t-il de l'argent?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>