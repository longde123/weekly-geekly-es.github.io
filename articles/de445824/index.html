<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧥 🧚 ☘️ Codegenerierung in Dart. Teil 1. Grundlagen 😕 🌽 🍏</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Es ist bekannt, dass es für einen Programmierer sehr gut ist, faul zu sein , denn mit weniger mehr zu erreichen, ist der Schlüssel zum Fortschritt . N...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Codegenerierung in Dart. Teil 1. Grundlagen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/445824/"><p>  Es ist bekannt, dass es für einen Programmierer sehr gut ist, <em>faul zu sein</em> , denn <strong>mit weniger mehr zu erreichen, ist der Schlüssel zum Fortschritt</strong> .  Niemand mag es, immer und immer wieder dasselbe zu tun.  Das ist anstrengend, langweilig und überhaupt nicht kreativ.  Wenn wir dieselbe Aktion wiederholen, machen wir oft Fehler, aber zum Glück gibt es diejenigen, die wirklich gut und effektiv sind, um ähnliche Aufgaben auszuführen.  Und das sind <em>COMPUTER</em> ! </p><br><p><img src="https://habrastorage.org/webt/sq/tf/ig/sqtfigma3ayrwlvkcxmgypagupc.jpeg" alt="https://yougottobekidding.wordpress.com/2012/02/18/geeks-and-repetitive-tasks/"></p><br><p>  Heutzutage ist die <strong>Codegenerierung die Fähigkeit, die Arbeit in kürzester Zeit zu erledigen</strong> .  Die Grundidee ist einfach: Finden Sie ein Muster in denselben und langwierigen Teilen des Codes, die Sie immer wieder schreiben müssen, erstellen Sie ein Werkzeug zur Generierung, führen Sie es aus und sehen Sie, wie die Magie geschieht! </p><br><p> In der Welt der Android-Entwicklung sind solche Tools jedem Entwickler bekannt.  Dies ist Nachrüstung und Dolch und Raum.  Was ist mit Dart?  Und nicht weniger wichtige Frage: Was brauchen wir, um unsere eigenen Tools für die Codegenerierung zu erstellen? <a name="habracut"></a></p><br><h1 id="dart-i-kodogeneraciya-dostupnye-instrumenty">  Dart- und Codegenerierung: erschwingliche Tools </h1><br><p>  Um ein Tool zur Codegenerierung zu erstellen, benötigen wir die folgenden zwei Pakete: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">source_gen</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">build_runner</a> </li></ul><br><h2 id="source_gen">  source_gen </h2><br><p>  Dieses Paket bietet eine praktische API zum Generieren von Code.  Dies ist eine Abstraktion einiger Low-Level-Dart-Pakete wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Analyzer</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Build</a> .  Obwohl die Verwendung dieses Pakets optional ist, können Sie sich vor vielen Schwierigkeiten schützen. </p><br><p>  source_gen bietet zwei abstrakte Generatorklassen, die dem <em>Besuchermuster</em> folgen: </p><br><ul><li> <code>Generator</code> : Wenn Sie diese Klasse erben, wird jedes Element Ihres Codes besucht.  Somit haben Sie die volle Kontrolle darüber, was mit jedem besuchten Knoten oder Element zu tun ist. </li><li>  <code>GeneratorForAnnotation</code> : Diese Klasse ähnelt einem einfachen Generator, aber wenn Sie diese Klasse erben, geben Sie auch "Annotation" an.  Daher werden nur Knoten besucht, die mit dieser Anmerkung versehen sind.  Der Rest des Codes wird ignoriert. </li></ul><br><p>  Sie müssen auch den <code>Builder</code> konfigurieren, der den Generator umhüllt.  Es gibt drei Möglichkeiten: </p><br><ul><li>  Wenn Sie einen <code>partial</code> des Codes schreiben möchten, sollten Sie <code>SharedPartBuilder</code> wählen.  Mit "part" können Sie die Bibliothek in mehrere Dart-Dateien aufteilen.  <code>SharedPartBuilder</code> erstellt eine Datei mit der Erweiterung <code>.g.dart</code> . </li><li>  Sie können <code>PartBuilder</code> auch verwenden, wenn Sie den "part" -Ansatz verwenden möchten, aber mehr Kontrolle über die Erweiterung der generierten Datei benötigen, z. B. <code>.my_file.dart</code> . </li><li>  Wenn Sie eine eigenständige Bibliothek schreiben möchten, die importiert werden kann, verwenden Sie <code>LibraryBuilder</code> . </li></ul><br><h2 id="build_runner">  build_runner </h2><br><p>  Mit diesem Tool können Sie den Generator in der Entwicklungsphase ausführen.  Es kann über die Befehlszeile aufgerufen werden: </p><br><pre> <code class="bash hljs">pub run build_runner &lt;<span class="hljs-built_in"><span class="hljs-built_in">command</span></span>&gt;</code> </pre> <br><p>  Anstelle von <code>&lt;command&gt;</code> kann sein: </p><br><ul><li>  <code>build</code> : Startet die Generierung einmal. </li><li>  <code>watch</code> : Startet einen Daemon, der Änderungen in Dateien verfolgt und bei Bedarf mit der Generierung beginnt. </li><li>  <code>serve</code> : Ähnlich wie Watch, aber es startet wie ein Entwicklungsserver. </li><li>  <code>test</code> : Startet die Generierung einmal, erstellt ein freigegebenes Ausgabeverzeichnis und führt dann den <code>pub run test --precompiled &lt;merged-output-dir&gt;</code> . </li></ul><br><p>  Damit <code>source_gen</code> funktioniert, müssen Sie auch eine <code>buil.yaml</code> Datei erstellen, die die Details der Konfiguration des Codegenerators angibt. </p><br><h1 id="ispolzovanie-kodogeneracii-v-dart">  Verwenden der Codegenerierung in Dart </h1><br><p>  Die Codegenerierung wird in vielen bekannten Bibliotheken für Dart verwendet: </p><br><ul><li>  <a href="">built_value</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">json_serializable</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kiwi</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hubschrauber</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Moor</a> (Anmerkung des Übersetzers) </li></ul><br><h1 id="dalee">  Mehr ... </h1><br><p>  Der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">zweite Teil</a> zeigt, wie Sie mithilfe von Anmerkungen und Codegenerierung alle <code>TODO</code> in der Anwendung <code>TODO</code> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de445824/">https://habr.com/ru/post/de445824/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de445808/index.html">Wir hassen und jagen: das gefährliche Leben eines Virus-Crackers, der sich mächtige Feinde macht</a></li>
<li><a href="../de445814/index.html">Wie ein Lieferroboter die kulinarischen Gewohnheiten amerikanischer Studenten verändert hat</a></li>
<li><a href="../de445816/index.html">Wie wir Server-Rendering gesehen haben und was daraus wurde</a></li>
<li><a href="../de445820/index.html">MVCC-3. Zeilenversionen</a></li>
<li><a href="../de445822/index.html">Warum Jaop? Warum Schläger?</a></li>
<li><a href="../de445826/index.html">Wir gehen mit Bedacht durch die Stadt - 2: Gehen wir mit dem genetischen Algorithmus im Kreis durch die Stadt</a></li>
<li><a href="../de445828/index.html">Chinesisches Sonnenspektrum</a></li>
<li><a href="../de445832/index.html">Strahlung: der unsichtbare Mörder und seine Töchter oder ein bisschen über Radon</a></li>
<li><a href="../de445834/index.html">Entwicklung der Fähigkeit zur Verwendung von Gruppierung und Datenvisualisierung in Python</a></li>
<li><a href="../de445838/index.html">Robotik für Kinder: Roboteraugen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>