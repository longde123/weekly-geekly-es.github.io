<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⚒️ 👷 👺 Bagaimana PVS-Studio ternyata lebih penuh perhatian daripada tiga setengah programmer ♒️ ㊙️ 👌🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="PVS-Studio, seperti penganalisa kode statis lainnya, sering menghasilkan positif palsu. Tapi jangan buru-buru menganggap tanggapan aneh itu salah. Ini...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bagaimana PVS-Studio ternyata lebih penuh perhatian daripada tiga setengah programmer</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/427309/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8e1/207/92e/8e120792e15aa808598ab23995db53ab.png" alt="Bagaimana PVS-Studio lebih memperhatikan dari tiga programmer"></div><br>  PVS-Studio, seperti penganalisa kode statis lainnya, sering menghasilkan positif palsu.  Tapi jangan buru-buru menganggap tanggapan aneh itu salah.  Ini adalah cerita pendek tentang bagaimana PVS-Studio kembali menjadi lebih memperhatikan beberapa orang. <br><br>  Pengguna menulis untuk mendukung kami, mengklaim bahwa penganalisa segera menghasilkan empat positif palsu per baris kode.  Surat itu, yang ditulis dalam dukungan, awalnya datang ke Yevgeny Ryzhkov, yang, setelah membacanya dengan lancar dan tidak memperhatikan umpan balik yang aneh, segera mengirimkannya ke pengembang utama Svyatoslav Razmyslov.  Eugene tidak mengintip ke dalam kode, jadi akan adil untuk menghitungnya hanya untuk setengah programmer :). <br><a name="habracut"></a><br><br>  Svyatoslav membaca surat itu dan meragukan bahwa penganalisa itu bisa sangat keliru.  Karena itu, dia datang kepada saya untuk konsultasi.  Svyatoslav memiliki harapan bahwa mata saya telah diatur dan saya akan melihat sesuatu yang memberi tahu saya mengapa penganalisa mengeluarkan semua pesan aneh ini.  Sayangnya, saya hanya mengkonfirmasi bahwa pesannya sangat aneh dan tidak seharusnya.  Namun, apa alasan terjadinya mereka, saya tidak bisa perhatikan.  Diputuskan untuk membuka tugas di bugtracker dan mulai memahami apa yang salah. <br><br>  Dan hanya ketika Svyatoslav mulai membuat contoh-contoh sintetis untuk menjelaskan secara rinci masalah dalam penelusur bug, wawasan muncul padanya.  Sekarang mari kita lihat apakah Anda dapat dengan cepat menemukan alasan mengapa penganalisa menampilkan 4 pesan. <br><br>  Ini adalah teks surat itu, diterbitkan dengan izin dari penulis.  Dan gambar penjelasan yang dilampirkan pada surat itu. <br><br>  Peringatan V560 di sini semuanya salah.  Berjalan dengan versi PVS-Studio terbaru untuk penggunaan pribadi.  Pada dasarnya, pernyataan "JIKA" benar.  Yang luar dilakukan untuk kecepatan - yang dalam masih dibutuhkan dan yang tidak selalu benar atau salah. <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e83/c09/3d7/e83c093d7e29c109f3ecd693c7941a5d.png" alt="Sepucuk surat"></div><br><br>  Sekarang, pembaca yang budiman, waktu Anda untuk menguji diri sendiri!  Lihat kesalahannya? <br><br>  Waktu Anda untuk penuh perhatian.  Dan unicorn akan menunggu sebentar. <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fbc/493/aec/fbc493aec04fd30214afa75a79e6f388.png" alt="Unicorn menunggu"></div><br><br>  Setelah bagian pengantar artikel, kemungkinan besar banyak menemukan kesalahan.  Ketika dikonfigurasi untuk menemukan kesalahan, itu ditemukan.  Jauh lebih sulit untuk melihat kesalahan setelah membaca surat itu, yang disebut “false positive” :). <br><br>  Sekarang penjelasan bagi mereka yang terlalu malas untuk mencari bug.  Pertimbangkan kondisinya lagi: <br><br><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!((ch &gt;= <span class="hljs-number"><span class="hljs-number">0x0FF10</span></span>) &amp;&amp; (ch &lt;= <span class="hljs-number"><span class="hljs-number">0x0FF19</span></span>)) || ((ch &gt;= <span class="hljs-number"><span class="hljs-number">0x0FF21</span></span>) &amp;&amp; (ch &lt;= <span class="hljs-number"><span class="hljs-number">0x0FF3A</span></span>)) || ((ch &gt;= <span class="hljs-number"><span class="hljs-number">0x0FF41</span></span>) &amp;&amp; (ch &lt;= <span class="hljs-number"><span class="hljs-number">0x0FF5A</span></span>)))</code> </pre> <br>  Penulis kode berencana untuk memverifikasi bahwa karakter tidak termasuk dalam salah satu dari tiga rentang. <br><br>  Kesalahannya adalah bahwa operator NOT logis (!) Berlaku hanya untuk subekspresi pertama. <br><br>  Jika kondisinya terpenuhi: <br><br><pre> <code class="cpp hljs">!((ch &gt;= <span class="hljs-number"><span class="hljs-number">0x0FF10</span></span>) &amp;&amp; (ch &lt;= <span class="hljs-number"><span class="hljs-number">0x0FF19</span></span>))</code> </pre> <br>  maka evaluasi ekspresi terganggu sesuai dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">evaluasi hubung singkat</a> .  Jika kondisi tidak terpenuhi, maka nilai variabel <i>ch</i> terletak pada kisaran [0xFF10..0xFF19].  Dengan demikian, empat perbandingan lebih lanjut tidak masuk akal.  Semuanya akan salah atau benar. <br><br>  Sekali lagi.  Lihat, jika <i>ch</i> terletak di kisaran <i>[0xFF10..0xFF19]</i> dan perhitungan berlanjut, maka: <br><br><ul><li>  ch&gt; = 0x0FF21 - selalu salah </li><li>  ch &lt;= 0x0FF3A - selalu benar </li><li>  ch&gt; = 0x0FF41 - selalu salah </li><li>  ch &lt;= 0x0FF5A - selalu benar </li></ul><br>  Inilah yang diperingatkan oleh penganalisa PVS-Studio. <br><br>  Jadi, penganalisa statis ternyata lebih perhatian daripada pengguna dan dua setengah programmer dari tim kami. <br><br>  Untuk memperbaiki situasi, Anda perlu menambahkan tanda kurung: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!(((ch &gt;= <span class="hljs-number"><span class="hljs-number">0x0FF10</span></span>) &amp;&amp; (ch &lt;= <span class="hljs-number"><span class="hljs-number">0x0FF19</span></span>)) || ((ch &gt;= <span class="hljs-number"><span class="hljs-number">0x0FF21</span></span>) &amp;&amp; (ch &lt;= <span class="hljs-number"><span class="hljs-number">0x0FF3A</span></span>)) || ((ch &gt;= <span class="hljs-number"><span class="hljs-number">0x0FF41</span></span>) &amp;&amp; (ch &lt;= <span class="hljs-number"><span class="hljs-number">0x0FF5A</span></span>))))</code> </pre> <br>  Atau tulis ulang kondisinya: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (((ch &lt; <span class="hljs-number"><span class="hljs-number">0x0FF10</span></span>) || (ch &gt; <span class="hljs-number"><span class="hljs-number">0x0FF19</span></span>)) &amp;&amp; ((ch &lt; <span class="hljs-number"><span class="hljs-number">0x0FF21</span></span>) || (ch &gt; <span class="hljs-number"><span class="hljs-number">0x0FF3A</span></span>)) &amp;&amp; ((ch &lt; <span class="hljs-number"><span class="hljs-number">0x0FF41</span></span>) || (ch &gt; <span class="hljs-number"><span class="hljs-number">0x0FF5A</span></span>)))</code> </pre> <br>  Namun, saya tidak bisa merekomendasikan menggunakan salah satu opsi ini.  Saya akan menulis ini untuk mempermudah membaca kode: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> isLetterOrDigit = (ch &gt;= <span class="hljs-number"><span class="hljs-number">0x0FF10</span></span> &amp;&amp; ch &lt;= <span class="hljs-number"><span class="hljs-number">0x0FF19</span></span>) <span class="hljs-comment"><span class="hljs-comment">// 0..9 || (ch &gt;= 0x0FF21 &amp;&amp; ch &lt;= 0x0FF3A) // A..Z || (ch &gt;= 0x0FF41 &amp;&amp; ch &lt;= 0x0FF5A); // a..z if (!isLetterOrDigit)</span></span></code> </pre> <br>  Perhatikan bahwa saya menghapus beberapa tanda kurung.  Seperti yang baru saja kita lihat, sejumlah besar kurung tidak membantu untuk menghindari kesalahan sama sekali.  Kurung harus membuatnya lebih mudah untuk membaca kode, tidak lebih rumit.  Pemrogram mengingat dengan baik bahwa prioritas perbandingan = &lt;, =&gt; lebih tinggi daripada operator &amp;&amp;.  Karena itu, tanda kurung tidak diperlukan di sini.  Tetapi jika Anda bertanya prioritas mana yang &amp;&amp; atau ||, banyak yang akan bingung.  Karenanya, untuk menentukan urutan perhitungan &amp;&amp;, ||  kurung lebih baik untuk diletakkan. <br><br>  Mengapa lebih baik menulis ||  di awal saya jelaskan di artikel " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Masalah utama pemrograman, refactoring dan semua itu</a> " (lihat bab: Sejajarkan jenis kode yang sama dengan "tabel"). <br><br>  Terima kasih atas perhatiannya.  Unduh dan mulai gunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PVS-Studio</a> .  Ini akan membantu mengidentifikasi banyak kesalahan dan kerentanan potensial pada tahap paling awal. <br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/ts/z9/km/tsz9kmyjtteajhd4x1au60rsrvq.png" align="left"></a> </p><br><br>  Jika Anda ingin berbagi artikel ini dengan audiens yang berbahasa Inggris, silakan gunakan tautan ke terjemahan: Andrey Karpov.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagaimana PVS-Studio Terbukti Lebih Penuh Perhatian Daripada Tiga Setengah Programer</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id427309/">https://habr.com/ru/post/id427309/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id427297/index.html">Apache Ignite + Apache Spark Data Frames: bersama-sama lebih menyenangkan</a></li>
<li><a href="../id427299/index.html">Mari kita cari yang lain untuk dikoleksi? Konstruktor 3 in 1 "Armada Lunar"</a></li>
<li><a href="../id427301/index.html">GitHub menabrak basis data</a></li>
<li><a href="../id427303/index.html">Memperlambat Windows Bagian 2: Membuat Proses</a></li>
<li><a href="../id427307/index.html">Praktik pengujian backend Java + Diasuransikan</a></li>
<li><a href="../id427311/index.html">Bagaimana menjadi datacenter jika Anda berusia di atas 40 dan Anda bukan seorang programmer</a></li>
<li><a href="../id427313/index.html">Bagaimana SoftBank menginvestasikan $ 50 miliar setahun di perusahaan rintisan dan mengapa hal itu membingungkan para investor</a></li>
<li><a href="../id427315/index.html">Ruang baca atau pilihan literatur profesional</a></li>
<li><a href="../id427317/index.html">Untuk menjadi sukses di bidang IT atau apa yang membunuh IT'shnikov?</a></li>
<li><a href="../id427319/index.html">Programmer perekrutan Gentleman UE4, bagian 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>