<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêâ üë©üèº‚Äçüåæ ‚õ≥Ô∏è Deja el concurso ATM Alone en PHDays 8 üåæ üî´ üòº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En Positive Hack Days 8, una vez m√°s se celebr√≥ la vieja competencia para hackear Leave ATM Alone ATMs. Hab√≠a dos cajeros autom√°ticos a disposici√≥n de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Deja el concurso ATM Alone en PHDays 8</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pt/blog/412735/">  En Positive Hack Days 8, una vez m√°s se celebr√≥ la vieja competencia para hackear Leave ATM Alone ATMs.  Hab√≠a dos cajeros autom√°ticos a disposici√≥n de los participantes, el hardware fue provisto por nuestro socio bancario de seguridad Alfa-Bank.  Especialmente para la competencia, configuramos cajeros autom√°ticos y les pusimos vulnerabilidades.  En 15 minutos fue necesario evitar el equipo de protecci√≥n y extraer dinero del dispositivo.  El fondo de premios ascendi√≥ a 40 000 ‚ÇΩ.  Unos 40 participantes vinieron para tratar de eludir la defensa.  Leonid Krolle, organizador del concurso y especialista del departamento de investigaci√≥n de seguridad de sistemas bancarios de Positive Technologies, cont√≥ c√≥mo era y analiz√≥ las tareas en detalle. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/lu/c9/cf/luc9cf7_e31tyqi6v7ejrodfxly.png"></a> <br><br>  <i>Deje a los concursantes de ATM solo</i> <br><br>  A disposici√≥n de los participantes hab√≠a dos cajeros autom√°ticos.  En uno de ellos, se instala el software de control de aplicaciones de nuestros socios, lo que impide el lanzamiento de aplicaciones no confiables.  No le permite ejecutar ninguna aplicaci√≥n que necesite para retirar efectivo (¬°hola, Cutlet Maker, BubbleMaker y nemagiya!). <br><br>  El segundo cajero autom√°tico est√° conectado a trav√©s de la red para probar el procesamiento, lo que le permite realizar una operaci√≥n de extracci√≥n de efectivo (que est√° disponible en el cajero autom√°tico).  Sin embargo, el procesamiento env√≠a una se√±al para emitir desde el casete en el que no hay dinero.  Por lo tanto, la tarea de los participantes es sustituir la respuesta de procesamiento para emitir dinero del cassette correcto. <br><br>  Los cables de conexi√≥n del cajero autom√°tico y el procesamiento de prueba se encuentran en el exterior, con la capacidad de conectarse a ellos mediante un cable de red (LAN). <br><br>  Los jugadores se llevaron todo el dinero retirado del sistema. <a name="habracut"></a><br><br><img src="https://habrastorage.org/webt/vh/g8/io/vhg8iogibjgk2plut3n6lmlxywu.png"><br><br>  <i>Cajeros autom√°ticos en dos d√≠as del foro: estaban tristes y solitarios</i> <br><br><h2>  Control de la aplicaci√≥n </h2><br>  Hay varias formas de verificar si una aplicaci√≥n coincide con una lista blanca dada, desde verificar la ruta al archivo ejecutable o su hash hasta analizar la firma digital y la extensi√≥n.  Las herramientas de control de aplicaciones se utilizan con mayor frecuencia para proporcionar protecci√≥n adicional para las computadoras cliente (proh√≠ben el lanzamiento de software que no figura en la lista blanca) y proporcionan seguridad para sistemas aislados, como los cajeros autom√°ticos, que no implican una intervenci√≥n operativa constante. <br><br>  Si la lista negra de extensiones que deben bloquearse es m√°s o menos universal y es f√°cil de configurar, entonces la lista blanca de lo que se permite ejecutar es redundante de forma predeterminada: a menudo incluye todas las aplicaciones del sistema operativo en el momento de la configuraci√≥n. <br><br>  En los √∫ltimos a√±os, se han descrito muchos m√©todos para omitir el control de aplicaciones utilizando las herramientas de Microsoft Windows (por ejemplo, "rundll32", "regsvr32"), un bloqueo simple que interrumpe el funcionamiento normal del sistema operativo.  Por lo tanto, ajustar el control de la aplicaci√≥n es un trabajo complejo y minucioso, cuyo resultado fue entregado a los participantes del concurso de rasgado.  Tenga en cuenta que en el mundo real, los atacantes no tienen tanto tiempo para eludir el control de la aplicaci√≥n. <br><br><h2>  Primer dia de competencia </h2><br><img src="https://habrastorage.org/webt/xt/t6/f3/xtt6f3h0h1wgy5oy1ccte4rbqri.png"><br><br>  <i>La verdad de la vida :)</i> <br><br>  El comienzo del primer d√≠a de la competencia estuvo marcado por una gran cantidad de participantes en el foro que intentaron sortear el control de la aplicaci√≥n y reemplazar la respuesta de procesamiento, m√°s de 40 personas en total. <br><br><img src="https://habrastorage.org/webt/yl/tq/96/yltq96ue_yjtqhenqxfjvzweoic.png"><br><br>  <i>Primeros participantes</i> <br><br>  En total, se asignaron 15 minutos para omitir la protecci√≥n en un cajero autom√°tico con control de la aplicaci√≥n: durante este tiempo, tuvo que lograr ejecutar su c√≥digo.  Desafortunadamente, el primer d√≠a, todos los intentos de los participantes para lanzar su exploit fallaron.  Sin embargo, un participante logr√≥ encontrar un dispositivo extra√±o instalado en un cajero autom√°tico.  Era un skimmer, un lector port√°til en miniatura que se puede conectar a un cajero autom√°tico.  Dichos dispositivos ayudan a los estafadores a robar datos de tarjetas bancarias: detalles, c√≥digo PIN: toda la informaci√≥n registrada en la banda magn√©tica. <br><br><img src="https://habrastorage.org/webt/sz/kd/sk/szkdskly0ge1n-elb3hiaz5d3ku.png"><br><br>  <i>Skimmer</i> <br><br>  Despu√©s de detectar el skimmer, fue necesario extraer los datos de la tarjeta: durante la preparaci√≥n de la competencia, los organizadores escribieron un volcado de una tarjeta inexistente con un cierto n√∫mero all√≠. <br><br><div class="spoiler">  <b class="spoiler_title">Hablemos un poco sobre la preparaci√≥n de un skimmer para una competencia.</b> <div class="spoiler_text">  El skimmer consiste en una cabeza magn√©tica para leer y un dispositivo para grabar una pista de audio (a veces con Wi-Fi o Bluetooth).  Esta instancia puede realizarse sobre la base de una grabadora de reproductor Explay o una grabadora de voz USB similar.  Ejemplos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> .  En t√©rminos de tama√±o, simplemente encajan en la superposici√≥n del anti-skimmer y todav√≠a hay espacio para una bater√≠a, ya que el mini de Frankenstein tuvo que prepararse y revivirse: se realiz√≥ una prueba de rendimiento en un dispositivo similar de otro modelo de cajero autom√°tico.  Para ahorrar espacio, la almohadilla de montaje del puerto USB est√° recortada, por lo que tuve que hacer el adaptador yo mismo. <br><br><img src="https://habrastorage.org/webt/e7/eu/ux/e7euux45y66_irhfyfm6te8sphy.png"><br><br>  <i>Hacer un adaptador</i> <br><br>  Probamos la inclusi√≥n correcta del reproductor skimmer de acuerdo con las instrucciones del jugador de Internet (no hab√≠a signos en los botones, ya que permanec√≠an en el estuche) y anotamos la tarjeta y el n√∫mero que los participantes ten√≠an que quitar del skimmer. <br><br><img src="https://habrastorage.org/webt/vw/cc/o7/vwcco7dgqrukqqn6gvzkty9x-14.png"><br><br>  As√≠ es como se ve una tarjeta con polvo magn√©tico aplicado </div></div><br>  La informaci√≥n en la banda magn√©tica de la tarjeta se graba utilizando la codificaci√≥n de frecuencia F / 2F (con lo que se come y c√≥mo se puede decodificar, lea <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> ) y representa caracteres alfanum√©ricos en codificaci√≥n de 7 bits o caracteres digitales en codificaci√≥n de 5 bits.  Para determinar los errores de lectura, se utiliza la verificaci√≥n de redundancia de paridad y longitudinal (o control de espera longitudinal - LRC). <br><br>  Los datos en cualquier pista deben comenzar con el inicio del s√≠mbolo de servicio y finalizar con el final del s√≠mbolo de servicio.  Estos s√≠mbolos se eligen de tal manera que le permitan determinar el comienzo de un bloque de informaci√≥n √∫til, determinar la direcci√≥n de lectura de la tarjeta e incluso el formato de codificaci√≥n de la informaci√≥n (5 bits o 7 bits). <br><br>  Los caracteres de control est√°n dise√±ados para controlar hardware y no se pueden usar para transmitir informaci√≥n (contenido de datos).  Los separadores se utilizan para separar los campos de datos en el mapa. <br><br>  En una codificaci√≥n de 7 bits, los caracteres [\] est√°n reservados para caracteres nacionales adicionales y no deben usarse como parte del intercambio internacional de informaci√≥n, el car√°cter # est√° reservado para caracteres gr√°ficos adicionales arbitrarios. <br>  Aqu√≠ hay un ejemplo de c√≥mo se ver√≠a: <br><br>  - pista est√°ndar ISO 2: <br><br>  <b>; XXXXXXXXXXXXXXXX = YYYYYYYYYYYYYYYYY? Z</b> - 37 caracteres <br><br>  X ... X - n√∫mero de tarjeta, Z - LRC (los datos comienzan con el car√°cter inicial y terminan con el car√°cter final, el n√∫mero de tarjeta es de 16 d√≠gitos, LRC est√° presente) <br><br><img src="https://habrastorage.org/webt/zt/l7/tm/ztl7tmpmtzjao3ulrofqqbnlv80.png"><br><br>  <i>El momento de la prueba y el vertido.</i> <br><br>  De hecho, puede copiar datos del reproductor en forma de un archivo MP3, encontrar d√≥nde est√° grabada la pista, ampliarla en el editor de audio y analizarla poco a poco, pero existen m√©todos m√°s simples. <br><br>  Por ejemplo: <br><br><ul><li>  SWipe es una aplicaci√≥n para leer tarjetas de banda magn√©tica a trav√©s de un puerto de audio. </li><li>  Decodificador de banda magn√©tica.  Un programa para decodificar una tarjeta de banda magn√©tica, recibiendo los datos brutos de la banda magn√©tica a trav√©s de la tarjeta de sonido. </li></ul><br>  Le permiten convertir de manera m√°s o menos precisa los datos de la pista de audio a ASCII (datos descifrados). <br><br>  Despu√©s de aproximadamente una hora, se proporcionaron los datos de la tarjeta grabada en el skimmer.  El Premio de Honor de la simpat√≠a del espectador encontr√≥ a su due√±o.  ¬°Felicitaciones a Maxim Vikhlyantsev! <br><br>  El resto de los participantes continuaron luchando por los premios principales cargados en los cajeros autom√°ticos :) Alguien intent√≥ piratear la defensa, pero tambi√©n hubo quienes estaban cansados ‚Äã‚Äãy perdieron la esperanza de un enriquecimiento r√°pido.  Sin embargo, el primer d√≠a fue tormentoso, aunque el premio mayor permaneci√≥ con los organizadores ... <br><br><img src="https://habrastorage.org/webt/a7/jv/qk/a7jvqksrhcpyx7mhu-l7uzuy1_m.png"><br><br><h2>  Segundo dia </h2><br><img src="https://habrastorage.org/webt/6t/st/ep/6tstepatpvygffsz1gjbyaxk6x0.png"><br><br>  <i>Segu√≠a siendo el m√°s persistente.</i> <br><br>  En el segundo d√≠a de la competencia en el campo por pirater√≠a de cajeros autom√°ticos, uno podr√≠a observar a todos los mismos participantes.  La perseverancia y la perseverancia al tratar de encontrar un vector para eludir la protecci√≥n no fue en vano, y aqu√≠: Stanislav Povolotsky eludi√≥ la defensa de manera segura y, al ejecutar un c√≥digo sin firmar, gan√≥ el premio en efectivo en el primer cajero autom√°tico. <br><br><img src="https://habrastorage.org/webt/sn/9s/wd/sn9swddlya06o70a50iycymfvkg.png"><br><br>  <i>Demostraci√≥n de un trabajo exitoso</i> <br><br>  La esencia del ataque a la red en el segundo cajero autom√°tico fue la siguiente: en el cajero autom√°tico hab√≠a una computadora port√°til con software instalado que emulaba el procesamiento. <br><br><img src="https://habrastorage.org/webt/c2/rk/_i/c2rk_ihnvcu7psjkghgf_srh6iw.png"><br><br>  <i>Emulador de procesamiento</i> <br><br>  El emulador se configur√≥ para emitir dinero con cualquier tarjeta insertada, sin un c√≥digo PIN, pero el cassette cuyo comando envi√≥ el emulador en respuesta a la solicitud estaba vac√≠o.  Para resolver este problema, era necesario: <br><br><ul><li>  interceptar el paquete de respuesta del emulador de procesamiento; </li><li>  desmonte el paquete y forme el suyo, solo con el n√∫mero de cartucho correcto; </li><li>  inserte una tarjeta y, cuando env√≠e una solicitud de procesamiento, responda al cajero autom√°tico con los datos modificados; </li><li>  utilizando las herramientas tcpdump, wireshark, scapy o ettercap, realice un ataque de repetici√≥n o un ataque de suplantaci√≥n de identidad con datos modificados para responder al cajero autom√°tico. </li></ul><br>  tcpdump es una utilidad UNIX que tiene un clon para Windows y le permite interceptar y analizar el tr√°fico de red que pasa a trav√©s de la computadora en la que se ejecuta este programa. <br><br>  wireshark es una utilidad similar, solo que m√°s "cargada", con una GUI. <br><br>  scapy es una biblioteca interactiva de shell y software para manipular paquetes de red en el lenguaje de programaci√≥n Python. <br><br>  ettercap es una utilidad para analizar el tr√°fico de red que pasa a trav√©s de una interfaz de computadora, pero con funcionalidad adicional.  El programa le permite realizar ataques como "hombre en el medio" para obligar a otra computadora a transmitir paquetes no al enrutador, sino al atacante. <br><br><img src="https://habrastorage.org/webt/4_/zf/gq/4_zfgqlxjev9u55wt0dz4tojhz0.png"><br><br>  <i>En realidad, nada cambia</i> <br><br>  Con un enfoque tan dif√≠cil, los participantes tuvieron dificultades, pero los superaron.  El equipo recibi√≥ el premio por falsificar la respuesta del procesamiento en el segundo cajero autom√°tico: Informaci√≥n y P√∫blico, Centro de Seguridad y Uzbekist√°n.  Con lo que los felicitamos!  La lista completa de ganadores se encuentra en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">la p√°gina del concurso</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es412735/">https://habr.com/ru/post/es412735/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es412721/index.html">Tres esperanzas de la humanidad para el descubrimiento de extraterrestres</a></li>
<li><a href="../es412723/index.html">Buscando un nuevo color de mil millones de d√≥lares</a></li>
<li><a href="../es412725/index.html">C√≥mo hacer que su infraestructura de TI sea aburrida</a></li>
<li><a href="../es412727/index.html">¬øC√≥mo elegir una herramienta para la creaci√≥n de prototipos en 2018?</a></li>
<li><a href="../es412729/index.html">RGPD. ¬øEs necesario realizarlo en Rusia?</a></li>
<li><a href="../es412737/index.html">Protecci√≥n de datos personales de 3.000 millones de personas: similitudes y diferencias en la legislaci√≥n de los pa√≠ses BRICS</a></li>
<li><a href="../es412739/index.html">Perro pastor</a></li>
<li><a href="../es412741/index.html">C√≥mo dejar de temer que la inteligencia artificial te dejar√° sin trabajo</a></li>
<li><a href="../es412743/index.html">Profesi√≥n: detective cibern√©tico</a></li>
<li><a href="../es412747/index.html">MIS Almacenamiento de datos m√©dicos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>