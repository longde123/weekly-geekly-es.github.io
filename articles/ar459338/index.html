<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕑 ✊🏽 🥠 استخدام المدقق كوسيلة للنمذجة السريعة لمشاريع RTL. مقدمة ل UVM 🤱🏽 👩‍👩‍👦‍👦 🐡</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="توضح هذه المقالة تثبيت واستخدام البرامج المجانية لنمذجة الدوائر المنطقية الرقمية في فيريلوج كبديل للمنتجات التجارية Incisve من Cadense و ModelSim من M...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>استخدام المدقق كوسيلة للنمذجة السريعة لمشاريع RTL. مقدمة ل UVM</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459338/" style=";text-align:right;direction:rtl">  توضح هذه المقالة تثبيت واستخدام البرامج المجانية لنمذجة الدوائر المنطقية الرقمية في فيريلوج كبديل للمنتجات التجارية Incisve من Cadense و ModelSim من MentorGraphics.  مقارنة بين المحاكاة في ModelSim و Verilator.  كما سيتم النظر في منهجية التحقق العالمية ، UVM. <br><br><h2 style=";text-align:right;direction:rtl">  SystemC UVM تثبيت البرامج </h2><br><h3 style=";text-align:right;direction:rtl">  1. المزيل </h3><br>  إحدى لغات وصف الأجهزة هي فيريلوج.  يمكنك كتابة وحدة نمطية بهذه اللغة. <br><br>  على سبيل المثال ، هناك مخطط العداد: <br><br><img src="https://habrastorage.org/webt/s6/a7/9i/s6a79i89t6vzfl-a6dqeiwi5fh8.png" alt="صورة"><br><br>  سيبدو الرمز الخاص به كما يلي: <br><br><pre style=";text-align:right;direction:rtl"><code class="cpp hljs">reg [<span class="hljs-number"><span class="hljs-number">3</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>]counter; always @(posedge clk <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> posedge reset)   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(reset)    counter &lt;= <span class="hljs-number"><span class="hljs-number">4'</span></span>d0;   <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>    counter &lt;= counter + <span class="hljs-number"><span class="hljs-number">1'</span></span>d1;</code> </pre> <br>  بعد المحاكاة ، نحصل على الطول الموجي: <br><br><img src="https://habrastorage.org/webt/m5/-o/mg/m5-omg9r-4_fzvo1momfxt7wq-8.png" alt="صورة"><br><br>  يمكن ملاحظة أن القيمة التالية ، أكثر من القيمة السابقة ، سيتم كتابتها إلى سجلات العدادات على طول جبهة تردد الساعة. <br><br>  يمكن أن تحتوي الوحدة النمطية المكتوبة على بنية أكثر تعقيدًا ، وسيكون من الصعب التحقق يدويًا من جميع حالات.  سنحتاج الاختبار الآلي.  لهذا ، من الضروري تطوير بيئة اختبار بإحدى لغات البرمجة.  ستمنحنا بيئة الاختبار الفرصة لإجراء فحص وظيفي كامل للجهاز. <br><br>  لاختبار رمز المشروع ، بالإضافة إلى لغات مثل Verilog و SystemVerilog و Python (لنماذج الكتابة) ، يمكنك استخدام لغة <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SystemC</a> .  SystemC هي لغة تصميم وتحقق على مستوى النظام للنماذج على مستوى النظام يتم تنفيذها كمكتبة مفتوحة المصدر لـ C ++. <br><br>  إحدى طرق التحقق من وحدات Verilog باستخدام SystemC هي ترجمة ملفات verilog إلى C ++.  ساعدنا في هذا Verilator. <br><br>  Verilator هو أسرع جهاز محاكاة Verilog HDL والذي يتجاوز معظم أجهزة المحاكاة التجارية.  يقوم Verilator بتجميع SystemVerilog الذي تم توليفه (عادة لا يكون هذا رمز اختبار) ، وكذلك بعض عبارات SystemVerilog و Synthesis في كود C ++ أو SystemC واحد أو متعدد الخيوط.  تم تصميم Verilator للمشاريع الكبيرة التي يكون فيها أداء المحاكاة أمرًا بالغ الأهمية وهو مناسب بشكل خاص لإنشاء نماذج للمعالجات القابلة للتنفيذ لفرق تطوير البرامج المدمجة.  يستخدم Verilator لمحاكاة العديد من تصميمات العبّارات الكبيرة للغاية والتي تقدر بعدة ملايين من الدولارات مع الآلاف من الوحدات ، ويدعمه العديد من مزودي تقنية IP ، بما في ذلك IP from Arm وجميع مزودي خدمة RISC-V IP الشهير. <br><a name="habracut"></a><br>  قد لا يكون Verilator هو الخيار الأفضل إذا كنت تتوقع استبدالًا كامل الميزات لـ NC-Verilog أو VCS أو محاكي Verilog تجاري آخر أو محاكي سلوكيات Verilog لمشروع صغير جدًا.  ومع ذلك ، إذا كنت تبحث عن طريقة لمنفذ Verilog إلى C ++ أو SystemC ، وكان فريقك حرًا في كتابة رمز C ++ فقط ، فهذا مترجم Verilog مجاني لك. <br><br>  لتثبيت أحدث إصدار على أوبونتو: قم بتنزيل الأرشيف <a href="">من الرابط من الموقع الرسمي</a> . <br><br>  تعيين: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#sudo apt-get install make autoconf g++ flex bison # Prerequisites unsetenv VERILATOR_ROOT # For csh; ignore error if on bash unset VERILATOR_ROOT # For bash tar xvzf verilator*.t*gz cd verilator* ./configure make sudo make install</span></span></code> </pre> <br><h3 style=";text-align:right;direction:rtl">  2. موجة GTK </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/adc/de9/6c3/adcde96c392048d083337f797505b1fc.gif" alt="صورة"><br>  GTKWave هو عارض شكل كامل الميزات ويسمح لك أيضًا بتحويل الملفات من تنسيق vcd إلى fst ، وهو أكثر ملاءمة وأسرع. <br><br>  تعيين: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">sudo apt-get install gtkwave</code> </pre> <br><h3 style=";text-align:right;direction:rtl">  3. النظام </h3><br>  لغة لتصميم نماذج على مستوى النظام والتحقق منها يتم تنفيذها في شكل مكتبة C ++ مفتوحة المصدر. <br><br>  كما ذكرنا سابقًا ، يدعم verilator systemc ، لذلك تحتاج إلى إنشاء مشروع يتم فيه وصف معيار الاختبار على systemc ، والملفات المصدر على verilog المركب.  للقيام بذلك ، نحتاج إلى مكتبات مترجم g ++ التي تقدمها Accelera.  Accellera Systems Initiative هي منظمة مستقلة غير ربحية مكرسة لإنشاء ودعم وتعزيز وترويج معايير التصميم على مستوى النظام والمحاكاة والتحقق للاستخدام في صناعة الإلكترونيات العالمية. <br><br>  قم بتنزيل الأرشيف: <br>  <a href="">http://accellera.org/images/downloads/standards/systemc/systemc-2.3.1a.tar.gz</a> <br><br>  تعيين: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">tar -xvf systemc-2.3.1a.tar.gz <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> systemc-2.3.1a mkdir objdir sudo ./configure --prefix=/usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/systemc-2.3.1a/ sudo make sudo make install <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ../</code> </pre> <br><h3 style=";text-align:right;direction:rtl">  4. UVM ل SYSTEMC </h3><br>  ستستعرض هذه المقالة مشروعًا يقوم بتنفيذ أدوات التحقق من UVM.  التحقق هو تأكيد لمطابقة المنتج النهائي مع المتطلبات المرجعية المحددة مسبقًا.  يمكن أن تكون إحدى أدوات التحقق الخاصة بها بمثابة اختبارات.  لتشغيل تسلسلات الاختبار على نماذج من الأجهزة الحقيقية على مستوى أوصاف RTL ، من الضروري تطوير بيئة اختبار. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">UVM</a> - (منهجية التحقق العالمي) هي منهجية تحقق عالمية ، وهي معيار يتيح التطوير وإعادة الاستخدام الفعال لبيئات التحقق من صحة كتلة IP.  UVM هي منهجية تحقق تشمل مهامها تنظيم بيئة فعالة حول الوحدة قيد الاختبار.  مزاياه: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  هيكل واضح في شكل كتل مخصصة تحديد محددة </li><li style=";text-align:right;direction:rtl">  الأهداف؛ </li><li style=";text-align:right;direction:rtl">  القدرة على إعادة استخدام الكتل في المشاريع اللاحقة ؛ </li><li style=";text-align:right;direction:rtl">  أقصى أتمتة ممكنة للتحقق ؛ </li><li style=";text-align:right;direction:rtl">  معلومات الإبلاغ الأكثر اكتمالا التي تسمح ، عند حدوث خطأ ، بتحديد أسبابها بأسرع ما يمكن وبدقة واقتراح الحلول. </li></ul><br>  تتكون منهجيات UVM من جزأين: مجموعة من القواعد لبناء بيئة اختبار ومكتبة للفراغات الكتلية للتحقق منها ، على سبيل المثال ، مولد نص ، جامع إحصائيات ، إلخ.  تتمثل الميزة الرئيسية لـ UVM في تعدد الاستخدامات والتوافق مع بيئات الجهات الخارجية. <br><br>  نظرًا لأن systemc يدعم منهجية UVM ، دعنا ننتقل إلى تثبيت المكتبات اللازمة. <br><br>  قم بتنزيل الأرشيف: <br><br>  <a href="">https://www.accellera.org/images/downloads/drafts-review/uvm-systemc-1.0-beta2.tar.gz</a> <br><br>  تعيين: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">tar -xvf uvm-systemc-1.0-beta2.tar.gz <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> uvm-systemc-1.0-beta2/ mkdir objdir sudo ./configure --prefix=/usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/systemc_uvm/ --with-systemc=/usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/systemc-2.3.1a sudo make sudo make install</code> </pre><br>  نخلق تحالفًا: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">sudo mkdir /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/uvm_systemc_aliance</code> </pre> <br>  انسخ محتويات المجلدين / usr / local / uvm_systemc_aliance / و /usr/local/systemc-2.3.1/ إلى هذا المجلد <br><br>  قم بتنزيل المشروع النهائي على الرابط: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://github.com/paprikun/SYSTEMC/</a> <br><br>  افتح المجلد أمثلة verilator. <br>  يحتوي مجلد rtl على وصف للجهاز.  في هذا المثال ، إنه جهاز تحكم PWM. <br>  في ملف sim مجلد makefile لبناء المشروع. <br>  في مجلد السل هو رمز المدقق.  يحتوي المجلد tb / uvm على مثال لبيئة uvm.  الملف الرئيسي هو نقطة دخول في الاختبار ؛ فهو يربط الجهاز قيد الاختبار ببيئة uvm. <br>  نحن نحاول إنشاء المشروع من مجلد sim باستخدام الأمر make all.  نرى خطأ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">/usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/uvm_systemc_aliance//include/systemc.h:120:16: error: <span class="hljs-string"><span class="hljs-string">'std::gets'</span></span> has not been declared using std::gets;</code> </pre> <br>  نقوم بإصلاحه عن طريق استبدال السطر 120: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> defined(__cplusplus) &amp;&amp; (__cplusplus &lt; 201103L) using std::gets; #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span></span></code> </pre> <br>  مرة أخرى ، نحاول تشغيل testbench وتعثر عند التحذير: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">/usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/uvm_systemc_aliance//include/sysc/packages/boost/get_pointer.hpp:21:40: warning: <span class="hljs-string"><span class="hljs-string">'template&lt;class&gt; class std::auto_ptr'</span></span> is deprecated [-Wdeprecated-declarations] template&lt;class T&gt; T * get_pointer(std::auto_ptr&lt;T&gt; const&amp; p)</code> </pre> <br>  تغيير auto_ptr إلى unique_ptr. <br><br><h2 style=";text-align:right;direction:rtl">  مشروع التجميع والمحاكاة </h2><br>  الآن بعد أن تم تثبيت المكتبات وتشغيلها ، نقوم ببناء المشروع: اجعل الكل.  يجب أن يظهر الملف القابل للتنفيذ simu في مجلد sim.  هذا كائن تم إنشاؤه بواسطة برنامج التحويل البرمجي.  نبدأ ذلك مع فريق ./simu.  يجب أن يظهر التالي: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">SystemC 2.3.1-Accellera --- Jun 28 2019 11:39:29 Copyright (c) 1996-2014 by all Contributors, ALL RIGHTS RESERVED Universal Verification Methodology <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> SystemC (UVM-SystemC) Version: 1.0-beta2 Date: 2018-10-24 Copyright (c) 2006 - 2018 by all Contributors See NOTICE file <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> all Contributors ALL RIGHTS RESERVED Licensed under the Apache License, Version 2.0 UVM_INFO @ 0 s: reporter [RNTST] Running <span class="hljs-built_in"><span class="hljs-built_in">test</span></span> ... simulation real time = 9 sec UVM_INFO uvm_default_report_server.cpp(666) @ 179490249010 ps: reporter [UVM/REPORT/SERVER] --- UVM Report Summary --- ** Report counts by severity UVM_INFO : 1 UVM_WARNING : 0 UVM_ERROR : 0 UVM_FATAL : 0 ** Report counts by id [RNTST] 1 UVM_INFO @ 179490249010 ps: reporter [FINISH] UVM-SystemC phasing completed; simulation finished</code> </pre><br>  عند انتهاء المحاكاة ، ينتهي تسجيل wafeform.  يمكن فتح ملف simu.vcd باستخدام gtkwave: <br><br><img src="https://habrastorage.org/webt/xv/9m/ka/xv9mkaqsrcrvfczarjl5rz29i88.png"><br><br>  لعرض الإشارات على اليسار ، حدد SystemC ، ثم اضغط على مفتاح Shift وحدد أي إشارات ، وانقر فوق "إلحاق".  تظهر تلميحات الأدوات على شريط الأدوات عند التمرير.  التمرير الماوس يعمل ، تحتاج إلى الاستمرار في التحول أو cntrl. <br><br>  هناك أيضًا طرق لتحويل هذا الملف إلى ملف أصغر آخر. <br><br>  إذا كان هناك modelsim سوف تفعل التحويل.  في المحطة ، أدخل أمر vsim.  في الموديلات الطرفية: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">vcd2wlf simu.vcd simu.wlf</code> </pre> <br>  أو باستخدام gtkwave في محطة لينكس: <br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">vcd2lxt simu.vcd simu.lxt vcd2lxt2 simu.vcd simu.lxt2</code> </pre> <br>  لمقارنة وقت المحاكاة ، تم إنشاء مشروع مماثل ، ولكن بالفعل من أجل <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Modelsim</a> .  نماذج المجلدim_example.  بالمثل خلق بيئة UVM.  بناء الجملة يشبه على الرغم من أن لغات مختلفة.  إذا قمت بتثبيت Modelsim بدعم uvm ، يمكنك تشغيل الأمر make all. <br><br>  بالإضافة إلى البيئة في كلا المشروعين ، تم إجراء محاكاة في الوقت الفعلي للقياسات. <br><br>  بمرور الوقت ، ظهر الفرق: <br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  الأربعاء </td><td>  wafeform </td><td>  قيادة لتشغيل </td><td>  وقت المحاكاة (بالثانية) </td></tr><tr><td>  Modelsim </td><td>  نعم </td><td>  اجعل sim TRACE = 1 </td><td>  18 </td></tr><tr><td>  Verilator </td><td>  نعم </td><td>  اجعل sim TRACE = 1 </td><td>  9 </td></tr><tr><td>  Modelsim </td><td>  لا </td><td>  اجعل sim TRACE = 0 </td><td>  10 </td></tr><tr><td>  Verilator </td><td>  لا </td><td>  اجعل sim TRACE = 0 </td><td>  4 </td></tr></tbody></table></div><br>  كما ترون من الجدول ، فإن ميزة التحقق هي ميزة.  يتم تقديم البيانات لجهاز الكمبيوتر مع 8GB من ذاكرة الوصول العشوائي ، معالج 8 النواة ، 800 ميغاهيرتز ، وتحميل جوهر واحد. <br><br>  مقارنة حجم الملف: <br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  simu.vcd </td><td>  807.7 ميغابايت </td></tr><tr><td>  simu.wlf (تم إنشاء التحويل في Verilator) </td><td>  41 ميغابايت </td></tr><tr><td>  simu.wlf (تم إنشاؤه في modelsim) </td><td>  9.3 ميغابايت </td></tr><tr><td>  simu.lxt </td><td>  128 ميغابايت </td></tr><tr><td>  simu.lxt2 </td><td>  162 ميغابايت </td></tr></tbody></table></div><br>  هنا تفقد أداة التحقق ، ولكن يمكنك تجربة إنشاء أشكال موجية وعمق التتبع ، فترة التسجيل (يمكن تبديل بداية ونهاية تسجيل الموجي).  الملف الذي يجب العمل به يرجع إليك. <br><br>  أثناء الاختبار ، بالإضافة إلى وقت المحاكاة نفسها ، تم العثور على تباين في قراءة بيانات الإدخال من الناقل في.  إذا تغيرت البيانات من الحافلة في أثناء clk الأمامية ، وقراءة Modelsim البيانات بعد الجبهة ، verilator قبل: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">input clk; input [<span class="hljs-number"><span class="hljs-number">7</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] in; reg [<span class="hljs-number"><span class="hljs-number">7</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>] in_last_ ; ... always @(posedge clk) begin ... in_last_ &lt;= in; ... end</code> </pre><br><img src="https://habrastorage.org/webt/nc/ky/9r/ncky9rwjfvckf6hetlogg-futqa.png" alt="صورة"><br><br>  أثناء الاختبار ، يجب أخذ هذه النقطة في الاعتبار ، لأن جزءًا من بيئة الاختبار لمحاكاة مختلفة سيعمل بشكل مختلف. <br><br>  أيضًا ، لا يأخذ verilator في الاعتبار الحالة "x" للإشارة ويترجم كل شيء إلى "0" ؛ <br><br><h2 style=";text-align:right;direction:rtl">  اختبار الأشعة فوق البنفسجية </h2><br>  النظر في بيئة الاختبار ، المجلد tb / uvm. <br><br>  UVM testbench هي البيئة فوق الجهاز.  في هذا المثال ، يكون الجهاز وحدة تحكم PWM.  مخطط بيئة UVM: <br><br><img src="https://habrastorage.org/webt/94/tp/ox/94tpox5qii7r4qqaaakc_fbqrd4.png" alt="صورة"><br><br>  كما ترون في المخطط ، يتكون UVM من كتل (فئات).  كل كتلة تؤدي وظائفها.  يوضح المثال أحد المخططات المحتملة لبيئة الاختبار.  يتوافق اسم ووظائف كل فئة مع الفصل الذي ورثته منه.  دعونا نفكر في كل فصل بمزيد من التفصيل. <br><br>  بيئة ملف env.h أو env.svh.  هذه فئة يمكن أن تحتوي على فئة أو أكثر من فئات الوكلاء ، حيث يتم توصيل ثلاث فئات: جهاز التسلسل ، برنامج التشغيل ، جهاز العرض.  لا يوجد أي وكيل في المثال ، لكن وظيفته مطبقة في فئة env.  للاختبار نحتاج إلى كتابة بعض تسلسل الإجراءات - التسلسل. <br><br>  دعنا ننتقل إلى رمز بدء التسلسل: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">sequence_[n]-&gt;start(sqr, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>);</code> </pre> <br>  Sequencer (sequencer) - ملف sequncer.h.  في فيريلوج النظام ، اتضح لاستخدام جهاز التسلسل الافتراضي.  فئة تحتوي على تسلسل واحد أو أكثر (تسلسل) (ملفات sequence_a.h ، sequence_a.svh).  كل تسلسل هو سلسلة من الإجراءات.  قد يكون أحد هذه الإجراءات إرسال معاملة.  المعاملة - نقل البيانات من فئة إلى أخرى.  الفئة التي يتم وصف المعاملات بها هي bus_trans.  فيما يلي وصف لفئتين ، لكل منها أيديولوجيًا وظائفها الخاصة: برنامج التشغيل والشاشة. <br><br>  سائق - ملف drv.h ، drv.svh.  فئة تتلقى معاملات من جهاز تسلسل وترجمتها إلى إشارات.  يعمل السائق كمساعد جهاز التسلسل بمستوى أقل.  النظر في إرسال حزمة واحدة. <br><br>  يفتح Sequence نافذة معاملة ، ويكتشف برنامج التشغيل هذا الحدث ويبدأ في تلقي البيانات.  التسلسل ينتظر استجابة من السائق.  يحاكي برنامج التشغيل إشارات الجهاز ، ثم يشير إلى جهاز التسلسل بأنه يمكن إغلاق النافذة.  الفكرة هي أن جهاز التسلسل يعمل على مستوى عالٍ ، وأن السائق في مستوى أدنى. <br><br>  يتم توصيل الإشارات عبر ناقل واجهة الجهاز.  يتم وصف الواجهة في الملفات vip_if.h ، vip_if.svh. <br><br>  بعد ذلك ، تحتاج إلى التحقق مما إذا كانت إشارات الإخراج تتطابق مع الإشارات المتوقعة.  هناك حلان: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  كتابة نموذج للجهاز </li><li style=";text-align:right;direction:rtl">  التحقق من إشارة من خلال وكيل UVM </li></ul><br>  في المثال ، يعتبر الخيار الثاني.  لاختبار الجهاز على المستوى الوظيفي ، من الضروري مقارنة الإخراج مع المتوقع.  كان متطلب الجهاز هو صحة دورة واجب الإشارة المحددة وفترة الإشارة.  لمراقبة إشارات الإخراج ، تتم كتابة فئة جديدة - مراقب (ملف monitor.h ، monitor.svh).  عادة ، في بيئة اختبار ، تقوم الشاشة بنقل الإشارات في المعاملة (إلى مستوى أعلى) ويتم إرسالها إلى لوحة المقارنة من فئة المقارنة. <br><br>  في هذا المثال ، يتم فحص الإشارات على الفور.  في حالة وجود تعارض بين القيمة المتوقعة والقياس ، يتوقف الاختبار. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar459338/">https://habr.com/ru/post/ar459338/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar459326/index.html">القياس التلقائي وإدارة الموارد في Kubernetes (تقرير المراجعة والفيديو)</a></li>
<li><a href="../ar459328/index.html">الأفضل في فئتها مقابل المال - Mpow A5 (059)</a></li>
<li><a href="../ar459330/index.html">Bitrix للمبرمج والمدير: الحب والكراهية</a></li>
<li><a href="../ar459334/index.html">YouTrack 2019.2: شعار على مستوى النظام وتحسينات على صفحة قائمة المهام وخيارات بحث جديدة والمزيد</a></li>
<li><a href="../ar459336/index.html">عش وتعلم. جزء 1. المدرسة والتوجيه المهني</a></li>
<li><a href="../ar459340/index.html">تنظيم مشروع ML مع المحيط</a></li>
<li><a href="../ar459342/index.html">ذاكرة التخزين المؤقت عن بُعد لنظام التشغيل iOS ، وتبديل الميزات ، والسمات الداكنة ، والوظيفة المطوّرة للمطور - الإبلاغ مع Avito iOS Meetup # 7</a></li>
<li><a href="../ar459344/index.html">مقاييس DevOps - حيث يمكن الحصول على بيانات العمليات الحسابية</a></li>
<li><a href="../ar459346/index.html">حول العالم مع كتاب الكتروني: ONYX BOOX James Cook 2 Review</a></li>
<li><a href="../ar459348/index.html">تجاوز مصادقة أخرى في شبكات Wi-Fi العامة</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>