<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏻‍💼 🎟️ 🔇 Ajout et configuration de la base de données 1C sur le serveur 🛷 💿 🍰</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour, chère. 
 Cette note est un indice pour moi et le reste. 
 Ces informations sont utiles pour les débutants pour créer et optimiser la base de ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ajout et configuration de la base de données 1C sur le serveur</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/389119/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bonjour, chère. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette note est un indice pour moi et le reste. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces informations sont utiles pour les débutants pour créer et optimiser la base de données 1C sur le serveur SQL</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque vous n'avez pas d'expérience de travail avec le côté serveur de 1C, alors quand un tel désir et / ou besoin apparaît, il y a quelques nuances et évidences. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est regrettable que même une quête aussi simple que le choix d'un serveur sous 1C ne garantisse pas le succès, et vous pouvez rencontrer ses performances extrêmement lentes. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, au stade de découvrir ce qui ne va pas, et vous devrez peut-être comprendre dans quel ordre et quoi faire. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous commençons. N'oubliez pas de sauvegarder les données. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mon serveur est la lame du serveur lame «437507-B21 - HP BLc3000 Configure-to-order Enclosure», qui est basé sur la norme Windows Server 2012 R2 et SQL 2012. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La lame elle-même est connectée au stockage de fichiers (SHD) et au réseau via le périphérique HP WS -CBS3020-HPQ qui lit un commutateur SAN de 4 Go.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le stockage est basé sur le HP StorageWorks HSV300. </font><font style="vertical-align: inherit;">Appelez ça EVA. </font><font style="vertical-align: inherit;">Il dispose de 8 segments de 6 disques de 600 Go chacun (total 48 pièces de rechange Fibre Channel Dual Port 15K: 495808-001), connectés via Fibre Channel. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La lame elle-même a une configuration de 2 processeurs physiques avec 4 cœurs sur un processeur AMD Quad-Core Opteron (tm) 2354, avec 16 Go (667 MHz) de RAM installés et 2 disques durs SAS 6G DP 10K 300 Go (pièces de rechange 507284-001 ) dans le miroir.</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Photos du matériel du rack de serveur</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/getpro/geektimes/post_images/ce3/ab0/761/ce3ab07619cbf6853ae212f1c1b03874.jpg" alt="image"><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/a9d/e23/62d/a9de2362d686f294987e1f59d04c4402.jpg" alt="image"><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/e9c/a19/b84/e9ca19b84eaf60d22b1e4f3187d10693.jpg" alt="image"><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/956/a60/e08/956a60e0873b32264682729155d1dd49.jpg" alt="image"><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/9d9/258/d02/9d9258d02715bbdc873495c23aa7e869.jpg" alt="image"><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/b03/8e9/4bb/b038e94bb705b18c29e4d389bc4c5e83.jpg" alt="image"><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/535/bf8/bb8/535bf8bb860613fe176b87b0769b406b.jpg" alt="image"><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/3fd/e66/6d4/3fde666d43d88bc09149ec0250604886.jpg" alt="image"><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/2d3/8b5/056/2d38b50563f23b121bbf45ae875744ac.jpg" alt="image"><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/131/3c9/c76/1313c9c764ecab7a378b7b3e07e7944e.jpg" alt="image"><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/8a5/cb2/4f7/8a5cb24f7a664fd249154d86b45b9420.jpg" alt="image"><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/b3c/4a5/f6f/b3c4a5f6f7cf9aa72ee59f8693595495.jpg" alt="image"><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/67e/2ba/122/67e2ba122f48f5cdeaf931406aa62cbc.jpg" alt="image"><br>
</div></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez avoir d'autres boîtes de réception, ce n'est pas important (maintenant). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons pris un approvisionnement complet d'USP (il comprend 10 licences client, un serveur (seulement 32 bits) et des configurations de ZUP, UT, Accounting et UTP lui-même. Il est à noter que les franchisés voulaient inclure des livraisons distinctes dans tout, et il est préférable d'utiliser CORP à la fois. L'analyse a montré que c'est superflu, et il est moins coûteux de prendre une configuration intégrée. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors du choix du matériel, il est important que vous vous souveniez que dans la version client-serveur de 1C, vous avez besoin de la fréquence maximale du processeur, ainsi que de la fréquence de la mémoire (rappelez-vous cela, en choisissant le matériel). Hyper trading et toutes sortes d'état C1-2-3 est meilleur de dans le BIOS.) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est également nécessaire de distribuer «physiquement» le fichier de base de données (MDF) et le journal (LDF) pour séparer les disques durs et non logiques.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et si pour la version du fichier, il est optimal de recommander SSD, alors ici, tout n'est pas si évident. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Allez sur le forum Gilev pour vous familiariser avec les "énigmes" qui surviennent dans le but d'améliorer les performances 1C. Beaucoup de choses intéressantes. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans mon cas, mes collègues administrateurs m'ont donné une lame sur un serveur lame, avec 2 processeurs physiques AMD Quad-Core Opteron (tm) 2354, avec 16 Go (667 MHz). Système sur 2 disques dans le miroir. Les disques pour la base ont été alloués par Fibre chanel, sur HP EVA. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, je cherche une configuration différente, mais pour l'instant je dois vivre avec ça.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et maintenant au stade de la mise en œuvre, tout en analysant comment transférer les données d'un autre système ERP, le programmeur 1C a attiré mon attention sur la lenteur du travail et la longue conservation des documents. </font><font style="vertical-align: inherit;">Autrement dit, le système n'a pas encore été utilisé, mais il ralentit et meurt déjà, et la reconduction est 3 fois plus lente qu'une personne sur un ordinateur portable, et les gens devront également travailler avec cela (3-4 principales et 25-40 feuilles de temps). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pas une commande. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il a recommandé d'utiliser le test Gilev (son site est facilement google), qui dispose de services d'assistance complets et d'informations. </font><font style="vertical-align: inherit;">Dont j'ai profité. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le test a montré que tout va mal et que le nombre recommandé d'utilisateurs est manquant. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après avoir regardé de plus près, j'ai réalisé que la base et le journal sont au moins sur des disques différents - mais logiques.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et pour résoudre ce problème, j'ai pris des captures d'écran et ce mémo pour l'avenir pour moi et les autres:</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mémo</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/getpro/geektimes/post_images/0a6/032/8d1/0a60328d18883632935f5cadc6d78f7e.png" alt="image"><br>
    SQL server management studio.        .<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/b79/8c5/67f/b798c567fe7ec9c6f0a426026810bc50.png" alt="image"><br>
   Simple<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/2c6/265/a85/2c6265a85195498dd993e0ce0ea7860e.png" alt="image"><br>
     1  <br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/c42/6e4/cae/c426e4caef5577ef27b0ee7898f9451b.png" alt="image"><br>
   .     .<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/da2/090/719/da2090719ae352302f927b638bcaf454.png" alt="image"><br>
 .  .    .<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/c7d/177/c9e/c7d177c9e1f86205a78d6191c5755c20.png" alt="image"><br>
 .    ,    127.0.0.1 —   .<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/2a6/e34/0f3/2a6e340f3951be09b457586891574991.png" alt="image"><br>
   <br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/9e0/a16/fef/9e0a16fef8ed6b6fa035f5399f4b2940.png" alt="image"><br>
     (   ,  )<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/fc5/3c4/f5f/fc53c4f5f119923bcdc44cda30bf455e.png" alt="image"><br>
  .       8.3<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/705/b48/e69/705b48e69e23b093634aaa380f6d96e9.png" alt="image"><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/748/bb4/879/748bb4879e061f4f571312a9cd9876fb.png" alt="image"><br>
<br>
 :<br>
     ,            —  ,          ,         !!!<br>
</div></div><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/06f/cf7/556/06fcf75560bc076786f91810477a42e1.png" alt="image"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le résultat du test. </font><font style="vertical-align: inherit;">Tout est encore mauvais, mais le nombre d'utilisateurs recommandé est plus que nécessaire, ce qui est bien. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai également testé en utilisant la partition logique sur le miroir du disque principal dans la lame et la partition sur le stockage EVA.</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Résultats des tests</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/getpro/geektimes/post_images/3e7/eab/ce9/3e7eabce9643d4335afa1f187110ae91.png" alt="image"><br>
        SAS 10K,     EVA  SAS  15K<br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/c39/1ab/ca4/c391abca45b4b60f271e6bab6236093e.png" alt="image"><br>
         SAS 10K,     EVA  SAS  15K<br>
</div></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Conclusion: le </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
tri d'une base de données SQL sur différents lecteurs est très important! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la version la plus minimale, la base peut être basée sur le lecteur logique du disque physique principal avec le système, et le journal doit être déplacé vers un lecteur distinct (dans les commentaires, ils ont donné des informations selon lesquelles il est préférable sur le SSD). La </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
meilleure option consiste à allouer la base et le journal à des disques physiques séparés. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme indiqué dans les commentaires, il est logique de supprimer la base de données TEMP de SQL elle-même, car 1C l'utilise activement pendant le fonctionnement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS Dans le processus de recherche de la vérité, le système a été complètement cloné sur un SSD distinct (c'est-à-dire que les disques avec la base et le journal étaient logiques). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Malgré le i7-4790 avec 32 Go de DDR3, les performances d'un disque et d'un serveur normaux ne s'améliorent pas.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La création de disques sur un disque RAM a également donné de mauvais résultats, impossible à distinguer du travail sur des disques simples. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En outre, des informations pour vous aider - Effector Saver vous permet d'enregistrer des 1 de la base </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
de </font><font style="vertical-align: inherit;">données de </font><font style="vertical-align: inherit;">sauvegarde.Tout le reste n'a pas de sens, car dans mon cas, les licences logicielles s'envolent lors du transfert vers un autre matériel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De l'extra. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous souhaitez donner aux </font><font style="vertical-align: inherit;">utilisateurs de domaine en toute impunité pour créer une base de </font><font style="vertical-align: inherit;">données signifie 1C, le domaine compte de service du serveur 1C font uchetku ayant le droit de créer la base de </font><font style="vertical-align: inherit;">données sans assez sysadmin, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
alors que le </font><font style="vertical-align: inherit;">nom d' </font><font style="vertical-align: inherit;">utilisateur et mot de </font><font style="vertical-align: inherit;">passe dans les propriétés de la base de connaissances ne sont pas nécessaires pour écrire ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bonne chance!</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr389119/">https://habr.com/ru/post/fr389119/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr389107/index.html">Revue vidéo de l'ultrabook Dell XPS 13</a></li>
<li><a href="../fr389109/index.html">Bateau blindé 2016: combats de robots. Nouvelle saison</a></li>
<li><a href="../fr389113/index.html">Le SSD le plus spacieux du monde: 13 To de Fixstars</a></li>
<li><a href="../fr389115/index.html">Il est proposé de développer des organes et des tissus humains pour la transplantation chez les animaux.</a></li>
<li><a href="../fr389117/index.html">L'imprimante 3D Ripple Maker transfère l'image ou le texte souhaité sur la surface de la mousse de café</a></li>
<li><a href="../fr389121/index.html">Firefox 46 prendra en charge plusieurs moniteurs avec différentes densités de pixels</a></li>
<li><a href="../fr389123/index.html">Méthodes de débogage d'un logiciel de microcontrôleur dans un entraînement électrique</a></li>
<li><a href="../fr389125/index.html">Galactosismologie: comment les galaxies naines composées de matière noire laissent des traces dans le gaz interstellaire</a></li>
<li><a href="../fr389127/index.html">Marketing agressif ou en quoi la motivation d'un arc lumineux au poignet ("babioles") diffère de la motivation d'un bracelet de fitness</a></li>
<li><a href="../fr389129/index.html">Nouveau microcontrôleur domestique de contrôle moteur K1921VK01T de OJSC NIIET</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>