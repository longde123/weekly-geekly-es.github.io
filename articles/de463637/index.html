<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèÇüèΩ üï¶ üë±üèø Testen Sie Ihre Infrastruktur als Code mit Pulumi. Teil 2 üòÅ ‚¨ÜÔ∏è üó®Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo an alle. Heute teilen wir Ihnen den letzten Teil des Artikels ‚ÄûTesten der Infrastruktur als Code mit Pulumi‚Äú mit , dessen √úbersetzung speziell f...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Testen Sie Ihre Infrastruktur als Code mit Pulumi. Teil 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/463637/">  Hallo an alle.  Heute teilen wir Ihnen den letzten Teil des Artikels <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">‚ÄûTesten der Infrastruktur als Code mit Pulumi‚Äú mit</a> , dessen √úbersetzung speziell f√ºr Studenten des Kurses <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">‚ÄûDevOps Practices and Tools‚Äú erstellt wurde</a> . <br><br><img src="https://habrastorage.org/webt/g4/jj/lj/g4jjljt7hq9sghcsyni-lkchyqc.png"><br><br><h3>  Bereitstellungstests </h3><br>  Der getestete Teststil ist ein leistungsstarker Ansatz, mit dem wir eine wei√üe Box testen k√∂nnen, um die Innenseiten unseres Infrastrukturcodes zu √ºberpr√ºfen.  Es schr√§nkt jedoch etwas ein, was wir √ºberpr√ºfen k√∂nnen.  Tests werden auf der Grundlage eines von Pulumi vor der direkten Bereitstellung erstellten In-Memory-Bereitstellungsplans durchgef√ºhrt. Daher kann die Bereitstellung selbst nicht getestet werden.  F√ºr solche F√§lle verf√ºgt Pulumi √ºber ein Integrationstest-Framework.  Und diese beiden Ans√§tze arbeiten hervorragend zusammen! <br><a name="habracut"></a><br>  Das Pulumi-Integrationstest-Framework ist in Go geschrieben und mit seiner Hilfe testen wir den gr√∂√üten Teil unseres internen Codes.  Wenn der zuvor diskutierte Unit-Test-Ansatz eher dem White-Box-Test √§hnelte, ist der Integrationstest eine Black-Box.  (Es gibt auch Optionen f√ºr gr√ºndliche interne Tests.) Dieses Framework wurde erstellt, um das gesamte Pulumi-Programm zu √ºbernehmen und verschiedene Lebenszyklusvorg√§nge auszuf√ºhren, z. B. das Bereitstellen eines neuen Stacks von Grund auf, das Aktualisieren mit Variationen und das L√∂schen, m√∂glicherweise mehrmals.  Wir f√ºhren sie regelm√§√üig (zum Beispiel nachts) und als Stresstest durch. <br><br>  (Wir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">arbeiten daran, sicherzustellen,</a> dass √§hnliche Integrationstestfunktionen im SDK der Muttersprache verf√ºgbar sind. Sie k√∂nnen das Go-Integrationstest-Framework unabh√§ngig von der Sprache verwenden, in der Ihr Pulumi-Programm geschrieben ist.) <br><br>  Wenn Sie das Programm mit diesem Framework ausf√ºhren, k√∂nnen Sie Folgendes √ºberpr√ºfen: <br><br><ul><li>  Ihr Projektcode ist syntaktisch korrekt und funktioniert fehlerfrei. </li><li>  Die Konfigurationseinstellungen f√ºr Stapel und Geheimnisse funktionieren und werden korrekt interpretiert. </li><li>  Ihr Projekt kann erfolgreich bei Ihrem ausgew√§hlten Cloud-Anbieter bereitgestellt werden. </li><li>  Ihr Projekt kann erfolgreich vom Ausgangszustand auf N andere Zust√§nde aktualisiert werden. </li><li>  Ihr Projekt kann erfolgreich zerst√∂rt und von Ihrem Cloud-Anbieter gel√∂scht werden. </li></ul><br>  Wie wir bald sehen werden, kann dieses Framework auch zur Durchf√ºhrung der Laufzeitvalidierung verwendet werden. <br><br><h4>  Einfacher Integrationstest </h4><br>  Um dies in Aktion zu sehen, werden wir uns das <code>pulumi/examples</code> Repository <code>pulumi/examples</code> , da unser Team und die Pulumi-Community es verwenden, um ihren eigenen Pool von Anfragen, Commits und n√§chtlichen Builds zu testen. <br><br>  Im Folgenden finden Sie einen vereinfachten Test unseres <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Beispiels, in dem der S3-Bucket und einige andere Objekte bereitgestellt werden</a> : <br><br><h4>  example_test.go: </h4><br><pre> <code class="javascript hljs">package test <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ( <span class="hljs-string"><span class="hljs-string">"os"</span></span> <span class="hljs-string"><span class="hljs-string">"path"</span></span> <span class="hljs-string"><span class="hljs-string">"testing"</span></span> <span class="hljs-string"><span class="hljs-string">"github.com/pulumi/pulumi/pkg/testing/integration"</span></span> ) func TestExamples(t *testing.T) { <span class="hljs-attr"><span class="hljs-attr">awsRegion</span></span> := os.Getenv(<span class="hljs-string"><span class="hljs-string">"AWS_REGION"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> awsRegion == <span class="hljs-string"><span class="hljs-string">""</span></span> { awsRegion = <span class="hljs-string"><span class="hljs-string">"us-west-1"</span></span> } cwd, <span class="hljs-attr"><span class="hljs-attr">_</span></span> := os.Getwd() integration.ProgramTest(t, &amp;integration.ProgramTestOptions{ <span class="hljs-attr"><span class="hljs-attr">Quick</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">SkipRefresh</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">Dir</span></span>: path.Join(cwd, <span class="hljs-string"><span class="hljs-string">".."</span></span>, <span class="hljs-string"><span class="hljs-string">".."</span></span>, <span class="hljs-string"><span class="hljs-string">"aws-js-s3-folder"</span></span>), <span class="hljs-attr"><span class="hljs-attr">Config</span></span>: map[string]string{ <span class="hljs-string"><span class="hljs-string">"aws:region"</span></span>: awsRegion, }, }) }</code> </pre> <br>  Dieser Test durchl√§uft den grundlegenden Lebenszyklus des Erstellens, <code>aws-js-s3-folder</code> und Zerst√∂rens des Stapels f√ºr den <code>aws-js-s3-folder</code> .  Es dauert ungef√§hr eine Minute, um den bestandenen Test zu melden: <br><br><pre> <code class="javascript hljs">$ go test . PASS ok ... <span class="hljs-number"><span class="hljs-number">43.993</span></span>s</code> </pre> <br>  Es gibt viele M√∂glichkeiten, das Verhalten dieser Tests anzupassen.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Eine</a> vollst√§ndige Liste der Optionen finden Sie in der <code>ProgramTestOptions</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Struktur</a> .  Sie k√∂nnen beispielsweise den Jaeger-Endpunkt f√ºr die Ablaufverfolgung (Ablaufverfolgung) konfigurieren, angeben, dass der Test w√§hrend eines negativen Tests <code>ExpectFailure</code> ( <code>ExpectFailure</code> ), eine Reihe von ‚Äû√Ñnderungen‚Äú auf das Programm f√ºr aufeinanderfolgende <code>EditDirs</code> ( <code>EditDirs</code> ) <code>EditDirs</code> und vieles mehr.  Lassen Sie uns sehen, wie Sie sie zum √úberpr√ºfen der Anwendungsbereitstellung verwenden. <br><br><h4>  √úberpr√ºfen der Ressourceneigenschaften </h4><br>  Die oben erw√§hnte Integration stellt sicher, dass unser Programm "funktioniert" - es st√ºrzt nicht ab.  Was aber, wenn wir die Eigenschaften des resultierenden Stapels √ºberpr√ºfen m√∂chten?  Zum Beispiel, dass bestimmte Arten von Ressourcen vorbereitet wurden (oder nicht) und dass sie bestimmte Attribute haben. <br><br>  Mit <code>ExtraRuntimeValidation</code> Parameter <code>ExtraRuntimeValidation</code> f√ºr <code>ProgramTestOptions</code> k√∂nnen wir den von Pulumi nach der Bereitstellung aufgezeichneten Status (Status nach der Bereitstellung) anzeigen, um zus√§tzliche √úberpr√ºfungen durchf√ºhren zu k√∂nnen.  Dies umfasst eine vollst√§ndige Momentaufnahme des Status des resultierenden Stapels, einschlie√ülich Konfiguration, exportierter Ausgabewerte, aller Ressourcen und ihrer Eigenschaftswerte sowie aller Abh√§ngigkeiten zwischen Ressourcen. <br><br>  Um ein grundlegendes Beispiel daf√ºr zu sehen, √ºberpr√ºfen wir, ob unser Programm einen <b>S3-Bucket erstellt</b> : <br><br><pre> <code class="javascript hljs"> integration.ProgramTest(t, &amp;integration.ProgramTestOptions{ <span class="hljs-comment"><span class="hljs-comment">// as before... ExtraRuntimeValidation: func(t *testing.T, stack integration.RuntimeValidationStackInfo) { var foundBuckets int for _, res := range stack.Deployment.Resources { if res.Type == "aws:s3/bucket:Bucket" { foundBuckets++ } } assert.Equal(t, 1, foundBuckets, "Expected to find a single AWS S3 Bucket") }, })</span></span></code> </pre> <br>  Wenn wir jetzt den Go-Test ausf√ºhren, werden nicht nur die zahlreichen Lebenszyklus-Tests durchlaufen, sondern nach erfolgreicher Bereitstellung des Stacks wird auch eine zus√§tzliche √úberpr√ºfung des resultierenden Status durchgef√ºhrt. <br><br><h3>  Laufzeit-Tests </h3><br>  Bisher befassten sich alle Tests ausschlie√ülich mit dem Bereitstellungsverhalten und dem Pulumi-Ressourcenmodell.  Was ist, wenn Sie √ºberpr√ºfen m√∂chten, ob Ihre vorbereitete Infrastruktur wirklich funktioniert?  Wenn beispielsweise die virtuelle Maschine ausgef√ºhrt wird, enth√§lt der S3-Bucket das, was wir erwarten, und so weiter. <br><br>  M√∂glicherweise haben Sie bereits herausgefunden, wie das geht: Die Option <code>ProgramTestOptions</code> f√ºr <code>ProgramTestOptions</code> ist hierf√ºr eine gro√üartige Gelegenheit.  Zu diesem Zeitpunkt f√ºhren Sie einen beliebigen Go-Test mit Zugriff auf den vollst√§ndigen Status der Ressourcen Ihres Programms durch.  Dieser Status enth√§lt Informationen wie IP-Adressen von virtuellen Maschinen, URLs und alles, was f√ºr die reale Interaktion mit den empfangenen Cloud-Anwendungen und der empfangenen Infrastruktur erforderlich ist. <br><br>  Unser Testprogramm exportiert beispielsweise eine <code>webEndpoint</code> Bucket-Eigenschaft namens <code>websiteUrl</code> . <code>websiteUrl</code> ist die vollst√§ndige URL, unter der wir das angepasste <code>webEndpoint</code> <code>websiteUrl</code> k√∂nnen.  Obwohl wir in die Statusdatei eintauchen k√∂nnten, um den <code>bucket</code> zu finden und diese Eigenschaft direkt zu lesen, exportieren unsere Stapel in vielen F√§llen n√ºtzliche Eigenschaften wie diese, die wir bequem √ºberpr√ºfen k√∂nnen: <br><br><pre> <code class="javascript hljs">integration.ProgramTest(t, &amp;integration.ProgramTestOptions{ <span class="hljs-comment"><span class="hljs-comment">// as before ... ExtraRuntimeValidation: func(t *testing.T, stack integration.RuntimeValidationStackInfo) { url := "http://" + stack.Outputs["websiteUrl"].(string) resp, err := http.Get(url) if !assert.NoError(t, err) { return } if !assert.Equal(t, 200, resp.StatusCode) { return } defer resp.Body.Close() body, err := ioutil.ReadAll(resp.Body) if !assert.NoError(t, err) { return } assert.Contains(t, string(body), "Hello, Pulumi!") }, })</span></span></code> </pre> <br>  Wie bei unseren vorherigen Laufzeitpr√ºfungen wird diese Pr√ºfung unmittelbar nach dem Anheben des Stapels durchgef√ºhrt, und dies alles als Reaktion auf einen einfachen Aufruf zum <code>go test</code> .  Und dies ist nur die Spitze des Eisbergs - alle Go-Testfunktionen, die Sie in Code schreiben k√∂nnen, sind verf√ºgbar. <br><br><h3>  Kontinuierliche Infrastrukturintegration </h3><br>  Es ist gut, Tests auf einem Laptop ausf√ºhren zu k√∂nnen, wenn viele √Ñnderungen an der Infrastruktur vorgenommen werden, um sie zu testen, bevor sie an Code√ºberpr√ºfungen gesendet werden.  Wir und viele unserer Kunden testen die Infrastruktur jedoch in verschiedenen Phasen des Entwicklungslebenszyklus: <br><br><ul><li>  In jedem offenen Pool die Anforderung f√ºr den Test vor der Fusion. </li><li>  √úberpr√ºfen Sie als Antwort auf jedes Commit, ob die Zusammenf√ºhrung korrekt durchgef√ºhrt wurde. </li><li>  In regelm√§√üigen Abst√§nden, zum Beispiel nachts oder w√∂chentlich f√ºr zus√§tzliche Tests. </li><li>  Im Rahmen von Leistungstests oder Stresstests, die normalerweise √ºber einen langen Zeitraum durchgef√ºhrt werden und Tests parallel ausf√ºhren und / oder dasselbe Programm mehrmals bereitstellen. </li></ul><br>  F√ºr jeden von ihnen unterst√ºtzt Pulumi die Integration in Ihr bevorzugtes kontinuierliches Integrationssystem.  Durch die kontinuierliche Integration erhalten Sie f√ºr Ihre Infrastruktur dieselbe Testabdeckung wie f√ºr Anwendungssoftware. <br><br>  Pulumi unterst√ºtzt g√§ngige CI-Systeme.  Hier sind einige davon: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">AWS Code Services</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Azure DevOps</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">CircleCI</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Github-Aktionen</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Gitlab ci</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Google Cloud Build</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Travis</a> </li></ul><br>  Weitere Informationen finden Sie in der Dokumentation zur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">kontinuierlichen Lieferung</a> . <br><br><h3>  Verg√§ngliche Umgebungen </h3><br>  Eine sehr leistungsstarke Funktion, die sich √∂ffnet, ist die M√∂glichkeit, kurzlebige Umgebungen ausschlie√ülich zum Zweck von Abnahmetests bereitzustellen.  Das Pulumi- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Projekt- und Stack-</a> Konzept ist so konzipiert, dass vollst√§ndig isolierte und unabh√§ngige Umgebungen in wenigen einfachen CLI-Befehlen oder √ºber ein Integrationstest-Framework problemlos bereitgestellt und zerst√∂rt werden k√∂nnen. <br><br>  Wenn Sie GitHub verwenden, bietet Pulumi die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GitHub-App an</a> , mit der Sie Akzeptanztests mit dem Anforderungspool in Ihrer CI-Pipeline verbinden k√∂nnen.  Installieren Sie einfach die Anwendung im GitHub-Repository, und Pulumi f√ºgt Ihrem CI und dem Pool von Anforderungen Informationen zur Infrastrukturvorschau, zu Aktualisierungen und Testergebnissen hinzu: <br><br><img src="https://habrastorage.org/webt/bg/tw/gd/bgtwgdjexhumpc3jct7ier8uc6k.png"><br><br>  Wenn Sie Pulumi f√ºr Ihre grundlegenden Abnahmetests verwenden, verf√ºgen Sie √ºber neue Automatisierungsfunktionen, die die Teamleistung verbessern und Vertrauen in die Qualit√§t der √Ñnderungen geben. <br><br><h3>  Zusammenfassung </h3><br>  In diesem Artikel haben wir gesehen, dass uns bei der Verwendung allgemeiner Programmiersprachen viele Softwareentwicklungsmethoden zur Verf√ºgung stehen, die bei der Entwicklung unserer Anwendungen hilfreich waren.  Dazu geh√∂ren Unit-Tests, Integrationstests und deren Interaktion zur Durchf√ºhrung umfangreicher Laufzeit-Tests.  Tests k√∂nnen einfach bei Bedarf oder in Ihrem CI-System ausgef√ºhrt werden. <br><br>  <b>Pulumi</b> ist Open Source Software, kostenlos zu verwenden und funktioniert mit Ihren bevorzugten Programmiersprachen und Clouds - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">probieren Sie es noch heute aus</a> ! <br><br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Der erste Teil</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de463637/">https://habr.com/ru/post/de463637/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de463623/index.html">Wir werden aus dem Dschungel der Tests ausgew√§hlt: Wir bauen einen kurzen Weg von den Vorrichtungen zum Testen</a></li>
<li><a href="../de463625/index.html">Netzwerk√ºberwachung und Erkennung abnormaler Netzwerkaktivit√§ten mithilfe von Flowmon Networks-L√∂sungen</a></li>
<li><a href="../de463627/index.html">Assembler-Codegenerator-Bibliothek f√ºr AVR-Mikrocontroller. Teil 4</a></li>
<li><a href="../de463629/index.html">Konfigurieren von NextCloud + ONLYOFFICE auf demselben Server mit Docker</a></li>
<li><a href="../de463631/index.html">Dialoge √ºber Briefe</a></li>
<li><a href="../de463639/index.html">Nun, Apple BLEee</a></li>
<li><a href="../de463647/index.html">Videos und Berichte mit SmartMail Meetup: Frontend</a></li>
<li><a href="../de463649/index.html">Analytischer Hinweis. √úberpr√ºfung der Anordnung des Energieministeriums der Russischen F√∂deration vom 6. November 2018 N 1015</a></li>
<li><a href="../de463651/index.html">Diskrete Mathematik f√ºr WMS: Algorithmus zum Komprimieren von Waren in Zellen (Teil 2)</a></li>
<li><a href="../de463653/index.html">Einschr√§nkungen von 16-Bit-Spielen und deren Wiederherstellung in Unity</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>