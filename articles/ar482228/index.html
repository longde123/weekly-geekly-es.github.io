<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ง ๐ก ๐ ููุชุจ "ุขูุฉ ุญุงุณุจุฉ" ูู C #. ุงูุฌุฒุก ุงูุฃูู. ุญุณุงุจ ุงููููุฉ ูุงููุดุชูุงุช ูุงูุชุจุณูุท ูุงูุฃูุฒ ุงูุฃุฎุฑู ๐ฉ๐ปโ๐ง ๐ด๓ง๓ข๓ฅ๓ฎ๓ง๓ฟ ๐ฃ๐ฟ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุชุญูุฉ! 

 ูุณุจุจ ูุง ุ ุชุฑุชุจุท ุงูุญุงุณุจุฉ ุงูุฎุงุตุฉ ุจูุง ุจุดูุก ูุฌุจ ุนูู ูู ูุจุชุฏุฆ ุฃู ููุชุจู. ุฑุจูุง ูุฃู ุฃุฌูุฒุฉ ุงูููุจููุชุฑ ุชุงุฑูุฎูุง ููุฐุง ุงูุบุฑุถ ุชู ุฅูุดุงุคูุง ูุญุณุงุจ. ููููุง ุณููุชุจ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ููุชุจ "ุขูุฉ ุญุงุณุจุฉ" ูู C #. ุงูุฌุฒุก ุงูุฃูู. ุญุณุงุจ ุงููููุฉ ูุงููุดุชูุงุช ูุงูุชุจุณูุท ูุงูุฃูุฒ ุงูุฃุฎุฑู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482228/" style=";text-align:right;direction:rtl">  ุชุญูุฉ! <br><br>  ูุณุจุจ ูุง ุ ุชุฑุชุจุท ุงูุญุงุณุจุฉ ุงูุฎุงุตุฉ ุจูุง ุจุดูุก ูุฌุจ ุนูู ูู ูุจุชุฏุฆ ุฃู ููุชุจู.  ุฑุจูุง ูุฃู ุฃุฌูุฒุฉ ุงูููุจููุชุฑ ุชุงุฑูุฎูุง ููุฐุง ุงูุบุฑุถ ุชู ุฅูุดุงุคูุง ูุญุณุงุจ.  ููููุง ุณููุชุจ ุขูุฉ ุญุงุณุจุฉ ุตุนุจุฉ ุ ูููุณ sympy ุจุงูุทุจุน ุ ูููู ููููู ูุงุฏุฑูู ุนูู ุงูููุงู ุจุงูุนูููุงุช ุงูุฌุจุฑูุฉ ุงูุฃุณุงุณูุฉ ุ ูุซู ุงูุชูุงูุฒ ุ ูุงูุจุณุงุทุฉ ุ ูููุฒุงุช ูุซู ุงูุชุฌููุน ูุชุณุฑูุน ุงูุนูููุงุช ุงูุญุณุงุจูุฉ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูููุฉ ุฃูู ูู ุงููุงุก!</b>  <b class="spoiler_title">ูุง ูู ุงูููุงู ุญููุ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ููุง ุณูููู ุณุทุญููุง ุญูู ุฅูุดุงุก ุชุนุจูุฑ ุ ูุงูุชุญููู ูู ุณูุณูุฉ ุ ูุงุณุชุจุฏุงู ูุชุบูุฑ ุ ููุดุชู ุชุญูููู ุ ูุญู ุนุฏุฏููุง ููุนุงุฏูุฉ ูุนููุฉ ุ ูุน ุงูุชูุฏูู ุฅูู ุชูุณูู LaTeX ุ ูุงูุฃุฑูุงู ุงููุนูุฏุฉ ุ ููุธุงุฆู ุงูุชุฌููุน ุ ูุชุจุณูุท ุงูุฃููุงุณ ุงูููุณุนุฉ ุ ู blah blah blah.  ุฑุจูุง ููุณ ูู ููุงู ูุงุญุฏ. <br>  <i>ุจุงููุณุจุฉ ูุฃููุฆู ุงูุฐูู ูุญุชุงุฌูู ุฅูู ุงุณุชูุณุงุฎ ุดูุก ูุง ุจุดูู ุนุงุฌู ุ <a href="https://github.com/Angourisoft/MathS" rel="nofollow">ุฑุงุจุท ุฅูู ุงููุณุชูุฏุน</a> .</i> <br></div></div><br>  ูุญู ูุฃุฎุฐ ูููุงุช ุชุนุฑูู ุงูุงุฑุชุจุงุท ุงููุชุจููุฉ ูู ุงูุนุงู ุงูุฌุฏูุฏ ุ ููุงุฏูุง! <br><a name="habracut"></a><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูู ูู ูุฐุง ุงูููุงู ูุ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ุฃุนุชูุฏ ุฃู ูุฐุง ุงูููุงู ูุฏ ูููู ูููุฏูุง ูููุจุชุฏุฆูู ุ ูููู ุฑุจูุง ุฃููุฆู ุงูุฐูู ูุฏููู ุฎุจุฑุฉ ุฃูุจุฑ ุณูุฌุฏูู ุฃูุถูุง ุดูุฆูุง ูุซูุฑูุง ููุงูุชูุงู.  ููุน ุฐูู ุ ุขูู ุฃู ุฃูุชุจ ููุงููุง ุญุชู ูููู ูุฑุงุกุชู ุฏูู ุฃู ูููู ูุจุฑูุฌูุง ุนูู ุงูุฅุทูุงู. <br></div></div><br><h2 style=";text-align:right;direction:rtl">  ุชุฌููุน ุงูุชุนุจูุฑ </h2><br><h3 style=";text-align:right;direction:rtl">  ูุง ูู ุงูุชุนุจูุฑุ </h3><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุนูุฏูุง ููุช ุตุบูุฑุง ...</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ุซู ุจุงูุทุจุน ุฃุฑุฏุช ุฃู ุฃูุชุจ ุขูุฉ ุญุงุณุจุฉ.  ูุงุฐุง ููุจุบู ุฃู ูููู ูุงุฏุฑุง ุนูู ุงูููุงู ุจูุ  ุฃุฑุจุน ุนูููุงุช ุฃุณุงุณูุฉ ุ ููู ุญูุซ ุงููุจุฏุฃ ุฃูุซุฑ ูู ุฐูู ุจูุซูุฑ.  ูุฐูู ุ ูุงูุช ูููุชู ูู ุญุณุงุจ ูููุฉ ุชุนุจูุฑ ุงูุณูุณูุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ "1 + (3/4 - (5 + 3 * 1))".  ุฃุฎุฐุช ุงูุฏูููู ุงูููุถู ูุฏู ุ ููุชุจุช ุงููุญูู ุงููุบูู ุ ุงูุฐู ุฐูุจ ุฃููุงู ุจุดูู ูุชูุฑุฑ ุฅูู ุฃููุงุณ ุ ุซู ุงุณุชุจุฏู ุงูุชุนุจูุฑ ุงูููุฌูุฏ ุจูู ููุณูู ุจูููุฉ ุ ูุฃุฒู ุงูุฃููุงุณ.  ูู ุงูุฃุณุงุณ ุ ุทุฑููุฉ ุนูู ุฌูุฏุฉ ุจุงููุณุจุฉ ูู ูู ุฐูู ุงูููุช. <br></div></div><br>  ุจุงูุทุจุน ุ ูุฐุง ููุณ ุฎุท.  ูู ุงููุงุถุญ ุฃู ุงูุตูุบุฉ ุงูุฑูุงุถูุฉ ูู ุฅูุง ุดุฌุฑุฉ ุฃู ูููุฉ ุ ูููุง ูุชููู ุนูุฏ ุงูุจุฏุงูุฉ.  ุฃู ุฃู ูู ุนูุฏุฉ ุ ูู ุนูุฏุฉ ูู ูุฐู ุงูุดุฌุฑุฉ ุ ูู ููุน ูู ุงูุชุดุบูู ุ ูุชุบูุฑ ุ ุฃู ุซุงุจุช. <br><br><img src="https://habrastorage.org/webt/ih/id/g2/ihidg2enlm7vi-es5t5agdoplks.png"><br><br>  ุงูุนูููุฉ ุฅูุง ูุธููุฉ ุฃู ูุดุบู ุ ูู ุญูุซ ุงููุจุฏุฃ ุ ุชูุฑูุจูุง ููุณ ุงูุดูุก.  ุฃุทูุงููุง ูู ุญุฌุฌ ุฏุงูุฉ (ุนุงูู). <br><br><h3 style=";text-align:right;direction:rtl">  ูุฆุฉ ุงูุชุณูุณู ุงููุฑูู ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุฎุงุตุฉ ุจู </h3><br>  ุจุงูุทุจุน ุ ูููู ุฃู ูููู ุฃู ุชูููุฐ.  ููุน ุฐูู ุ ูุฅู ุงูููุฑุฉ ูู ุฃูู ุฅุฐุง ูุงูุช ุงูุดุฌุฑุฉ ุชุชููู ููุท ูู ุงูุนูุฏ ูุงูุฃูุฑุงู ุ ูุณุชููู ูุฎุชููุฉ.  ูุฐูู ุ ุฃูุง ุฃุณูู ูุฐู "ุงูุฃุดูุงุก" - ุงูููุงูุงุช.  ูุฐูู ุ ุณุชููู ุงูุทุจูุฉ ุงูุนููุง ูู ููุงู ุงูุทุจูุฉ ุงููุฌุฑุฏุฉ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุฌุฑุฏุฉุ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ููุง ูุนูู ุงูุฌููุน ูู ุชุนูู ุงููุบุฉ ุงูุฃุณุงุณู ุ ูุฅู ุงููุตู ุงูุชุฌุฑูุฏู ุฌูุฏ ูุฃูู ููุฎุต ุจุนุถ ุงููุฆุงุช ูู ูุงุญูุฉ ุ ููู ูุงุญูุฉ ุฃุฎุฑู ูุณูุญ ูู ุจูุตู ููุทู ูุณููู ุจุนุถ ุงูุฃุดูุงุก.  ูุง ูููู ุฅูุดุงุก ูุงุฆู ูู ูุฆุฉ ูุฌุฑุฏุฉ ุ ูููู ูููู ูุฑูุซู. <br></div></div><br>  ูุณุชููู ููุงู ุฃูุถูุง ุฃุฑุจุน ูุฆุงุช ูุชุชุงููุฉ: NumberEntity ู VariableEntity ู OperatorEntity ู FunctionEntity. <br><br><h3 style=";text-align:right;direction:rtl">  ููููุฉ ุจูุงุก ุชุนุจูุฑุ </h3><br>  ุฃููุงู ุ ุณูููู ุจุจูุงุก ุชุนุจูุฑ ูู ุงูููุฏ ุ ุฃู <br><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">var x = new VariableEntity("x"); var expr = x * x + 3 * x + 12;</code> </pre> <br>  ุฅุฐุง ุฃุนููุช ูุฆุฉ VariableEntity ูุงุฑุบุฉ ุ ูุฅู ูุซู ูุฐุง ุงูููุฏ ุณูู ูุฑููู ุฎุทุฃ ุ ูููููู ุฅููู ูุง ูุนุฑููู ููููุฉ ุงูุถุฑุจ ูุงูุฌูุน. <br><br><h5 style=";text-align:right;direction:rtl">  ุงูุบุงูุจุฉ ูุดุบูู </h5><br>  ููุฒุฉ ูููุฉ ููููุฏุฉ ููุบุงูุฉ ููุนุธู ุงููุบุงุช ุ ููุง ูุชูุญ ูู ุชุฎุตูุต ุชูููุฐ ุงูุนูููุงุช ุงูุญุณุงุจูุฉ.  ูุชู ุชูููุฐู ุจุดูู ูุฎุชูู ุจูุงุกู ุนูู ุงููุบุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุชุทุจูู ูู C # <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> YourClass <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> +(YourClass a, YourClass b) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> YourClass(a.ToString() + b.ToString()); }</code> </pre><br>  <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/operator-overloading" rel="nofollow">ุชุนุฑู ุนูู ุงููุฒูุฏ ุญูู ุชุฌุงูุฒ ุงูุนุจุงุฑุงุช ูู C #</a> <br>  ูุชู ุชุทุจูู ุงูููุช <a href="" rel="nofollow">ููุง</a> . <br><br><h5 style=";text-align:right;direction:rtl">  (ุบูุฑ) ุตุจ ูุงุถุญ </h5><br>  ูู ุงููุบุงุช ุงููุชุฑุฌูุฉ ูุซู C # ุ ุนุงุฏุฉ ูุง ูููู ูุฐุง ุงูุดูุก ููุฌูุฏูุง ููุณูุญ ูู ุจุฅููุงุก ุงูููุน ุฅุฐุง ูุฒู ุงูุฃูุฑ ุฏูู ุงูุงุชุตุงู ุจู myvar.ToAnotherType ().  ูุฐูู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุณูููู ูู ุงูููุงุณุจ ุงููุชุงุจุฉ <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">NumberEntity myvar = 3;</code> </pre><br>  ุจุฏูุง ูู ุงููุนุชุงุฏ <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">NumberEntity myvar = new NumberEntity(3);</code> </pre><br>  <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/user-defined-conversion-operators" rel="nofollow">ุงููุฒูุฏ ุนู ุตุจ ุงูููุน ูู C #</a> <br>  ูุชู ุชุทุจูู ุงูููุช ุนูู <a href="" rel="nofollow">ูุฐุง</a> ุงูุฎุท. <br><br><h5 style=";text-align:right;direction:rtl">  ุชุนููู </h5><br>  ุชุญุชูู ูุฆุฉ ุงูููุงู ุนูู ุญูู ุชุงุจุน - ูุฐู ูุฌุฑุฏ ูุงุฆูุฉ ุจุงูููุงู ุ ููู ุงููุณูุทุงุช ููุฐุง ุงูููุงู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฃููุงุฑ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ูู ุงููุงูุน ุ ูููู ุฃู ุชุญุชูู ูุฆุชุงู ููุท ูู ุงููุงุฆูุงุช ุนูู ุงูุฃุทูุงู: OperatorEntity ู FunctionEntity.  ูุฐุง ุ ูู ุญูุซ ุงููุจุฏุฃ ุ ููููู ุฅูุดุงุก ููุน ูู NodeEntity ูุชุฑุซ ูุงุชูู ุงููุฆุชูู ููู ุ ูุฅูุดุงุก LeafEntity ููุฑุงุซุฉ VariableEntity ู NumberEntity ููู. <br><img src="https://habrastorage.org/webt/ft/i6/kj/fti6kj3h23-tmsd8g30gyyqtyks.png"><br></div></div><br>  ุนูุฏูุง ูุณูู ูุธููุฉ ุฃู ูุดุบู ุ ูุฌุจ ุฃู ููุดุฆ ููุงููุง ุฌุฏูุฏูุง ุ ููุถุน ููู ุงูุฃุทูุงู ุงูุฐูู ูุทูู ุนูููู ุงููุธููุฉ ุฃู ุงููุดุบู.  ุนูู ุณุจูู ุงููุซุงู ุ ูุฌุจ ุฃู ูุจุฏู ุงููุจูุบ ูุธุฑููุง ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Entity <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> +(Entity a, Entity b){ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> res = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OperatorEntity(<span class="hljs-string"><span class="hljs-string">"+"</span></span>); res.Children.Add(a); res.Children.Add(b); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> res; }</code> </pre><br>  ูุฐุง ูู ุ ุงูุขู ุฅุฐุง ูุงู ูุฏููุง ููุงู x ูููุงู 3 ุ ูุณูู ุชูุฑุฌุน x + 3 ุฌููุฑ ุนุงูู ุงูุชุดุบูู sum ูุน ุทูููู: 3 ู x.  ูุฐูู ุ ูููููุง ุจูุงุก ุงูุฃุดุฌุงุฑ ุงูุชุนุจูุฑ. <br><br>  ุงุณุชุฏุนุงุก ุงููุธููุฉ ุฃุจุณุท ูููุณุช ุฌูููุฉ ููุง ูู ุงูุญุงู ูุน ุงููุดุบู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Entity </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Sin</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Entity a</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> res = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FunctionEntity(<span class="hljs-string"><span class="hljs-string">"sin"</span></span>); res.Children.Add(a); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> res; }</code> </pre><br>  ูุนููุฉ ูู ุงูููุช ุชููุฐ <a href="" rel="nofollow">ููุง</a> . <br><br>  ุญุณูุง ุ ููุฏ ุตูุนูุง ุดุฌุฑุฉ ุชุนุจูุฑ. <br><br><h2 style=";text-align:right;direction:rtl">  ุงุณุชุจุฏุงู ูุชุบูุฑ </h2><br>  ูู ุดูุก ุจุณูุท ููุบุงูุฉ ููุง.  ูุฏููุง ููุงู - ูุชุญูู ููุง ุฅุฐุง ูุงู ูุชุบูุฑูุง ูู ุญุฏ ุฐุงุชู ุ ูุฅุฐุง ูุงู ุงูุฃูุฑ ูุฐูู ุ ูุฅููุง ูุฑุฌุน ุงููููุฉ ุ ูุฅูุง ูุฅููุง ููุงุฌู ุงูุฃุทูุงู. <br><br>  <a href="" rel="nofollow">ูููู ูุฐุง ุงูููู</a> ุงูุถุฎู ุงููููู ูู 48 ุณุทุฑูุง ุจุชูููุฐ ูุซู ูุฐู ุงููุธููุฉ ุงููุนูุฏุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ุญุณุงุจ ุงููููุฉ </h2><br>  ูู ุงููุงูุน ุ ููุงุฐุง ูู ูุฐุง.  ูู ุงูููุชุฑุถ ููุง ุฅุถุงูุฉ ููุน ูู ุงูุทุฑููุฉ ุฅูู ุงูููุงู <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Entity </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Eval</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (IsLeaf) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MathFunctions.InvokeEval(Name, Children); }</code> </pre><br>  ุงููุฑูุฉ ูู ุชุชุบูุฑ ุ ููู ุจุงููุณุจุฉ ููู ุดูุก ุขุฎุฑ ุ ูุฏููุง ุญุณุงุจ ูุฎุตุต.  ูุฑุฉ ุฃุฎุฑู ุ ุณุฃูุฏู ูุฌุฑุฏ ูุซุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Entity </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Eval</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">List&lt;Entity&gt; args</span></span></span><span class="hljs-function">)</span></span> { MathFunctions.AssertArgs(args.Count, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r = args[<span class="hljs-number"><span class="hljs-number">0</span></span>].Eval(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (r <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> NumberEntity) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NumberEntity(Number.Sin((r <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> NumberEntity).Value)); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r.Sin(); }</code> </pre><br>  ุฅุฐุง ูุงูุช ุงููุณูุทุฉ ุฑูููุง ุ ูุณููุชุฌ ุฏุงูุฉ ุฑูููุฉ ุ ูุฅูุง ูุฅููุง ุณูุฑุฌุนูุง ููุง ูุงูุช. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุนุฏุฏุ </h3><br>  ูุฐุง ูู ุฃุจุณุท ูุญุฏุฉ ุ ุฑูู.  ูููู ุฅุฌุฑุงุก ุงูุนูููุงุช ุงูุญุณุงุจูุฉ ุนูููุง.  ุจุดูู ุงูุชุฑุงุถู ุ ุฅูู ูุนูุฏ.  ูุฏูู ุฃูุถูุง ุนูููุงุช ูุซู Sin ู Cos ูุจุนุถ ุงูุนูููุงุช ุงูุฃุฎุฑู ุงููุญุฏุฏุฉ. <br><br>  ุฅุฐุง ูุงูุช ููุชูุฉ ุ ูุชู ูุตู ุงูุฑูู <a href="" rel="nofollow">ููุง</a> . <br><br><h2 style=";text-align:right;direction:rtl">  ูุดุชู </h2><br>  ูููู ูุฃู ุดุฎุต ุญุณุงุจ ุงููุดุชู ุนุฏุฏููุง ุ ููุฐู ุงููุธููุฉ ููุชูุจุฉ ุญููุง ูู ุณุทุฑ ูุงุญุฏ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">double</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Derivative</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Func&lt;</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; f, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x</span></span></span><span class="hljs-function">)</span></span> =&gt; (f(x + <span class="hljs-number"><span class="hljs-number">1.0e-5</span></span>) - f(x)) * <span class="hljs-number"><span class="hljs-number">1.0e+5</span></span>;</code> </pre><br>  ููู ุจุงูุทุจุน ูุฑูุฏ ูุดุชููุง ุชุญูููููุง.  ูุธุฑูุง ูุฃู ูุฏููุง ุจุงููุนู ุดุฌุฑุฉ ุชุนุจูุฑ ุ ูููููุง ุงุณุชุจุฏุงู ูู ุนูุฏุฉ ุจุดูู ูุชูุฑุฑ ููููุง ููุงุนุฏุฉ ุงูุชูุงูุฒ.  ูุฌุจ ุฃู ูุนูู ุดูุก ูุซู ูุฐุง: <br><br><img src="https://habrastorage.org/webt/6g/7t/6c/6g7t6ctcfoill4nroqcknz6gaa4.png"><br><br>  ููุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ููู ูุชู ุชูููุฐ ุงููุจูุบ ูู ุงูููุฏ ุงูุฎุงุต ุจู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Entity </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Derive</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">List&lt;Entity&gt; args, VariableEntity variable</span></span></span><span class="hljs-function">)</span></span> { MathFunctions.AssertArgs(args.Count, <span class="hljs-number"><span class="hljs-number">2</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> a = args[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> b = args[<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a.Derive(variable) + b.Derive(variable); }</code> </pre><br>  ููู ุงูุนูู <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Entity </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Derive</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">List&lt;Entity&gt; args, VariableEntity variable</span></span></span><span class="hljs-function">)</span></span> { MathFunctions.AssertArgs(args.Count, <span class="hljs-number"><span class="hljs-number">2</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> a = args[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> b = args[<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a.Derive(variable) * b + b.Derive(variable) * a; }</code> </pre><br>  ูููุง ูู ุงูุญู ูู ุญุฏ ุฐุงุชู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Entity </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Derive</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">VariableEntity x</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (IsLeaf) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> VariableEntity &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Name == x.Name) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NumberEntity(<span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NumberEntity(<span class="hljs-number"><span class="hljs-number">0</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MathFunctions.InvokeDerive(Name, Children, x); }</code> </pre><br>  ูุฐู ูู ุทุฑููุฉ ุงูููุงู.  ูููุง ูุฑู ุ ุชุญุชูู ุงููุฑูุฉ ุนูู ุญุงูุชูู ููุท - ุฅูุง ุฃูู ูุชุบูุฑ ูููููุง ูู ุฎูุงูู ุงูุชูููุฒ ุ ุซู ูุดุชููุง ูู 1 ุ ุฃู ูููู ุซุงุจุชูุง (ุฑูู ุฃู VariableEntity) ุ ุซู ูุดุชูู ูู 0 ุฃู ุนูุฏุฉ ุ ุซู ููุงู ูุฑุฌุน ุจุงูุงุณู (InvokeDerive ูุดูุฑ ุฅูู ูุงููุณ ุงููุธุงุฆู ุ ุญูุซ ููุฌุฏ ุงููุฑุบูุจ ููู (ุนูู ุณุจูู ุงููุซุงู ุ ุงููุฌููุน ุฃู ุงูุฌูุจ)). <br><br>  ูุงุญุธ ุฃููู ูุง ุฃุชุฑู ุดูุฆูุง ูุซู dy / dx ููุง ูุฃููู ุนูู ุงูููุฑ ุฃู ูุดุชู ุงููุชุบูุฑ <b>ูุง</b> ููุฑูู ูู 0. ููู ููุง <a href="https://habr.com/ru/post/150043/">ูุชู ุจุดูู</a> ูุฎุชูู. <br><br>  ููุตู ูู ุงูุชูุงูุฒ ูู <a href="" rel="nofollow">ููู ูุงุญุฏ</a> ุ ูููู ููุณ ูู ุงูุถุฑูุฑู ุฃูุซุฑ. <br><br><h2 style=";text-align:right;direction:rtl">  ุชุจุณูุท ุงูุชุนุจูุฑ.  ุฃููุงุท </h2><br>  ุชุจุณูุท ุงูุชุนุจูุฑ ุจุดูู ุนุงู ููุณ ุชุงููุงู ูู ุญูุซ ุงููุจุฏุฃ.  ุญุณููุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ุฃู ุงูุชุนุจูุฑ ุฃุจุณุท: <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.439ex" height="2.78ex" viewBox="0 -935.7 3202.9 1197.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-32" x="809" y="513"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-2212" x="1248" y="0"></use><g transform="translate(2249,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-32" x="706" y="513"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-1"> x ^ 2 - y ^ 2 </script>  ุฃู <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="14.27ex" height="2.66ex" viewBox="0 -832 6143.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMATHI-78" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-2212" x="1184" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMATHI-79" x="2184" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-29" x="2682" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-28" x="3071" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMATHI-78" x="3461" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-2B" x="4256" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMATHI-79" x="5256" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-29" x="5754" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> (x - y) (x + y) </script>  ุ  ููููุง ููุชุฒู ุจุจุนุถ ุงูุฃููุงุฑ ุ ูุนูู ุฃุณุงุณูุง ูุฑูุฏ ุฃู ูุฌุนู ุชูู ุงูููุงุนุฏ ุงูุชู ุชุจุณุท ุงูุชุนุจูุฑ ุจุฏูุฉ. <br><br>  ูู ุงููููู ุฃู ููุชุจ ูู ูู Eval ุฃูู ุฅุฐุง ูุงู ูุฏููุง ุงููุจูุบ ุ ููุงู ุงูุฃุทูุงู ูุนูููู ุ ูุณูููู ุจูุฑุฒ ุฃุฑุจุนุฉ ุฎูุงุฑุงุช ุ ูุฅุฐุง ูุงู ููุงู ุดูุก ูุชุณุงูู ูู ููุงู ูุง ุ ูุณูุชุฎูุต ูู ุงูุนุงูู ... ููู ุจุงูุทุจุน ูุง ุฃุฑูุฏ ุงูููุงู ุจุฐูู.  ูุฐูู ุ ููููู ุชุฎููู ูุธุงู ุงูููุงุนุฏ ูุงูุฃููุงุท.  ุฅุฐู ูุงุฐุง ูุฑูุฏุ  ุดูุก ูุซู ุจูุงุก ุงูุฌููุฉ ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">{ any1 / (any2 / any3) -&gt; any1 * any3 / any2 }, { const1 * var1 + const2 * var1 -&gt; (const1 + const2) * var1 }, { any1 + any1 * any2 -&gt; any1 * (Num(1) + any2) },</code> </pre><br>  ูููุง ููู ูุซุงู ุนูู ุงูุดุฌุฑุฉ ุงูุชู ุชู ูููุง ุงูุนุซูุฑ ุนูู ุงูุดุฌุฑุฉ ุงููุฑุนูุฉ (ูุญุงุทุฉ ุจุฏุงุฆุฑุฉ ุจุงูููู ุงูุฃุฎุถุฑ) ูุงูุชู ุชุชุทุงุจู ูุน ุงูููุท any1 + const1 * any1 (any1 ุงูููุฌูุฏ ูุญุงุท ุจุฏุงุฆุฑุฉ ุจุงูููู ุงูุจุฑุชูุงูู). <br><br><img src="https://habrastorage.org/webt/fe/jp/-l/fejp-l9krgdtvhw8d-ccpcekuko.png"><br><br>  ููุง ุชุฑูู ุ ูู ุงูููู ุจุงููุณุจุฉ ููุง ูู ุจุนุถ ุงูุฃุญูุงู ุฃู ูุชูุฑุฑ ููุณ ุงูููุงู ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุชูุตูุฑ ุงูุชุนุจูุฑ x + a * x ุ ูุญู ุจุญุงุฌุฉ ุฅูู ุฃู ูููู x ููุงู ุ ูุฃู x + a * y ูู ุชุนุฏ ูุฎูุถุฉ.  ูุฐูู ุ ูุญุชุงุฌ ุฅูู ุนูู ุฎูุงุฑุฒููุฉ ูุง ุชุชุญูู ููุท ูู ุชุทุงุจู ุงูุดุฌุฑุฉ ูุน ุงูููุท ุ ูููู ุฃูุถูุง <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุญูู ูู ุฃู ููุท ุงูููุงู ููุณู ูุทุงุจู ุงูููุงู ููุณู. </li><li style=";text-align:right;direction:rtl">  ููุชุงุจุฉ ูุง ูุชูุงูู ูุน ูุง ุ ุซู ุจุฏููุง. </li></ol><br>  ููุทุฉ ุงูุฏุฎูู ุชุจุฏู ูุซู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">internal</span></span></span><span class="hljs-function"> Dictionary&lt;</span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function">, Entity&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EqFits</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Entity tree</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> res = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, Entity&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!tree.PatternMakeMatch(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, res)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> res; }</code> </pre><br>  ููู tree.PaternMakeMatch ุ ูููุฃ ุงููุงููุณ ุจุดูู ูุชูุฑุฑ ุจุงูููุงุชูุญ ูููููุง.  ูููุง ููู ูุซุงู ุนูู ูุงุฆูุฉ ุจุงูููุงูุงุช ุฐุงุช ุงูููุท: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Pattern any1 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Pattern(<span class="hljs-number"><span class="hljs-number">100</span></span>, PatType.COMMON); <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Pattern any2 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Pattern(<span class="hljs-number"><span class="hljs-number">101</span></span>, PatType.COMMON); <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Pattern const1 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Pattern(<span class="hljs-number"><span class="hljs-number">200</span></span>, PatType.NUMBER); <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Pattern const2 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Pattern(<span class="hljs-number"><span class="hljs-number">201</span></span>, PatType.NUMBER); <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Pattern func1 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Pattern(<span class="hljs-number"><span class="hljs-number">400</span></span>, PatType.FUNCTION);</code> </pre><br>  ุนูุฏูุง ููุชุจ any1 * const1 - func1 ููุง ุฅูู ุฐูู ุ ุณูููู ููู ุนูุฏุฉ ุฑูู - ูุฐุง ูู ุงูููุชุงุญ.  ุจูุนูู ุขุฎุฑ ุ ุนูุฏ ููุก ุงููุงููุณ ุ ุณุชุธูุฑ ูุฐู ุงูุฃุฑูุงู ูููุงุชูุญ: 100 ุ 101 ุ 200 ุ 201 ุ 400 ... ูุนูุฏ ุจูุงุก ุดุฌุฑุฉ ุ ุณููุธุฑ ูู ุงููููุฉ ุงูููุงุจูุฉ ููููุชุงุญ ููุณุชุจุฏููุง. <br><br>  ููุฐุช <a href="https://github.com/Angourisoft/MathS/tree/master/AngouriMath/Functions/Evaluation/Patterns" rel="nofollow">ููุง</a> . <br><br><h2 style=";text-align:right;direction:rtl">  ุชุจุณูุท.  ูุฑุฒ ุงูุดุฌุฑุฉ </h2><br>  ูู <a href="https://habr.com/ru/post/150043/">ุงูููุงูุฉ</a> ุงูุชู ุฎุงุทุจุชูุง ุจุงููุนู ุ ูุฑุฑ ุงููุคูู ุฃู ููุนู ุฐูู ุจุจุณุงุทุฉ ุ ููุฑุฒูุง ุนููููุง ุญุณุจ ุชุฌุฒุฆุฉ ุงูุดุฌุฑุฉ.  ุชููู ูู ุชูููู ู-ุฃ ุ ุจ + ุฌ + ุจ ูุชุญููู 2 ุจ + ุฌ.  ููููุง ุ ุจุงูุทุจุน ุ ูุฑูุฏ ุฃูุถูุง ุชุฎููุถ (x + y) + x * y - 3 * x ุ ูุจุตูุฑุฉ ุนุงูุฉ ุงูุฃุดูุงุก ุงูุฃูุซุฑ ุชุนููุฏูุง. <br><br><h5 style=";text-align:right;direction:rtl">  ุฃููุงุท ูุง ุชุนููุ </h5><br>  ุจุดูู ุนุงู ุ ูุง ูุนููุงู ูู ูุจู ุ ุงูุฃููุงุท ุดูุก ุฑุงุฆุน ุจุดูู ูุธูุน.  ุณูุณูุญ ูู ุจุชูููู ุงููุฑู ุจูู ุงููุฑุจุนุงุช ุ ููุฌููุน ูุฑุจุน ุงูุฌูุจ ูุฌูุจ ุงูุชูุงู ุ ูุงูุฃุดูุงุก ุงููุนูุฏุฉ ุงูุฃุฎุฑู.  ููู ุงููุฎูู ุงูุฃููู ุ (((((x + 1) + 1) + 1) + 1) ุ ูู ูููู ุ ูุฃู ุงููุงุนุฏุฉ ุงูุฑุฆูุณูุฉ ููุง ูู ุชุจุงุฏููุฉ ุงููุตุทูุญุงุช.  ูุฐูู ุ ูุฅู ุงูุฎุทูุฉ ุงูุฃููู ูู ุนุฒู "ุงูุฃุทูุงู ุงูุฎุทููู". <br><br><h5 style=";text-align:right;direction:rtl">  "ุงูุฃุทูุงู ุงูุฎุทููู" </h5><br>  ูู ุงููุงูุน ุ ููู ุนูุฏุฉ ูู ุงููุจูุบ ุฃู ุงููุฑู (ูุจุงูููุงุณุจุฉ ุ ุงูููุชุฌ / ุงููุณูุฉ) ุ ูุฑูุฏ ุงูุญุตูู ุนูู ูุงุฆูุฉ ุจุงููุตุทูุญุงุช (ุงูุนูุงูู). <br><br><img src="https://habrastorage.org/webt/-x/ku/yw/-xkuywdj1ovbr9rsam0lrhhcw0q.png"><br><br>  ูุฐุง ูุงุถุญ ูู ุงูุฃุณุงุณ.  ุฏุน ุฏุงูุฉ LinearChildren (ุนูุฏุฉ ุงูููุงู) ุชูุฑุฌุน ูุงุฆูุฉ ุ ุซู ููุธุฑ ุฅูู ุงูุทูู ูู ุงูุนูุฏุฉ. ุงูุฃุทูุงู: ุฅุฐุง ูู ููู ุงูุทูู ุนุจุงุฑุฉ ุนู ูุจูุบ ุ ููู ุจูุชูุฌุฉ. ุฅุถุงูุฉ (ุชุงุจุน) ุ ูุฅูุง ูุงูุชูุฌุฉ .AddRange (LinearChildren (ุชุงุจุน)). <br><br>  ููุณุช ุฃุฌูู ุทุฑููุฉ ุชููุฐ <a href="" rel="nofollow">ููุง</a> . <br><br><h5 style=";text-align:right;direction:rtl">  ุชุฌููุน ุงูุฃุทูุงู </h5><br>  ุฅุฐู ูุฏููุง ูุงุฆูุฉ ุจุงูุฃุทูุงู ุ ููู ูุงุฐุง ุจุนุฏุ  ูููุชุฑุถ ุฃู ูุฏููุง ุฎุทูุฆุฉ (x) + x + y + sin (x) + 2 * x.  ูู ุงููุงุถุญ ุ ุณุชุชููู ุฎูุงุฑุฒููุฉ ูุฏููุง ุฎูุณ ูุตูู.  ุจุนุฏ ุฐูู ุ ูุฑูุฏ ุงูุชุฌููุน ุญุณุจ ุงูุชุดุงุจู ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุจุฏู x ููุฃูู 2 * x ุฃูุซุฑ ูู sin (x). <br><br>  ููุง ูุฌููุนุฉ ุฌูุฏุฉ: <br><br><img src="https://habrastorage.org/webt/s6/qz/eo/s6qzeoeqfech1ow5c8n_nciq9ek.png"><br><br>  ุญูุซ ุฃู ุงูุฃููุงุท ุงูููุฌูุฏุฉ ููู ุณูู ุชุชุฃููู ุฃูุซุฑ ูุน ุชุญููู 2 * x + x ุฅูู 3 * x. <br><br>  ูุฐุง ูู ุ ูุญู ูุฌูุน ุฃููุงู ุจุนุถ ุงูุนูุงุตุฑ ุ ุซู ูููู ุจุชุฌููุน MultiHang - ุชุญููู ูุฌููุน n-ary ุฅูู ุซูุงุฆู. <br><br><h5 style=";text-align:right;direction:rtl">  ุชุฌุฒุฆุฉ ุงูุนูุฏุฉ </h5><br>  ูู ูุงุญูุฉ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMATHI-78" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-3"> x </script>  ู <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.861ex" height="2.298ex" viewBox="0 -780.1 3815 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-D7" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-2B" x="1000" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-31" x="2001" y="0"></use><g transform="translate(2501,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ุฏ</text></g><g transform="translate(2813,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ู</text></g><g transform="translate(3176,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ู</text></g><g transform="translate(3643,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ุง</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-4"> ร + 1 ุฏููุง</script>  ูุฌุจ ุฃู ุชูุถุน ูู ูุฌููุนุฉ ูุงุญุฏุฉ.  ูู ูุงุญูุฉ ุฃุฎุฑู ุ ุฅู ูุฌุฏุช <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.754ex" height="1.455ex" viewBox="0 -520.7 2046.9 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-2217" x="751" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMATHI-78" x="1474" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-5"> a * x </script>  ูุถุนุช ูู ูุฌููุนุฉ ูุงุญุฏุฉ ูุน <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.492ex" height="2.66ex" viewBox="0 -832 4517.4 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMATHI-79" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-2217" x="719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-28" x="1442" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMATHI-78" x="1831" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-2B" x="2626" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-31" x="3627" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-29" x="4127" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-6"> y * (x + 1) </script>  ูุนูู ูู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฃููุงุฑ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุชููุฑ ูู ุฐูู ุ ุซู <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="35.74ex" height="2.762ex" viewBox="0 -831.5 15388.2 1189" role="img" focusable="false" style="vertical-align: -0.83ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-2217" x="751" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMATHI-78" x="1474" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-2B" x="2269" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMATHI-79" x="3269" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-2217" x="3989" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-28" x="4712" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMATHI-78" x="5101" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-2B" x="5896" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-31" x="6897" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-29" x="7397" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-3D" x="8065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-28" x="9121" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMATHI-61" x="9510" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-2B" x="10262" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMATHI-79" x="11263" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-29" x="11760" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-2217" x="12372" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMATHI-78" x="13095" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-2B" x="13889" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMATHI-79" x="14890" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-7"> a * x + y * (x + 1) = (a + y) * x + y </script>  .  ุนูู ุงูุฑุบู ูู ุฃูู ูุจุฏู ูู ุ ุฅูุง ุฃู ูุฐุง ููุณ ุจุงูุฃูุฑ ุงูุณูู ุ ูุจุงูุชุฃููุฏ ููุณ ุถุฑูุฑููุง.  ุนูู ุฃู ุญุงู ุ ุงูุชุจุณูุท ููุณ ุจุงูุฃูุฑ ุงููุงุถุญ ุ ููุฐุง ุจุงูุชุฃููุฏ ููุณ ูู ุฃูู ูุง ููุชุจ ุนูุฏ ูุชุงุจุฉ "ุขูุฉ ุญุงุณุจุฉ". <br></div></div><br>  ูุฐูู ุ ูููู ุจุชูููุฐ ุงููุฑุฒ ูุชุนุฏุฏ ุงููุณุชููุงุช.  ุฃููุงู ุ ูุญู ูุฏุนู ุฐูู <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.861ex" height="2.298ex" viewBox="0 -780.1 3815 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-D7" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-2B" x="1000" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-31" x="2001" y="0"></use><g transform="translate(2501,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ุฏ</text></g><g transform="translate(2813,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ู</text></g><g transform="translate(3176,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ู</text></g><g transform="translate(3643,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ุง</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-8"> ร + 1 ุฏููุง</script>  - ููุณ ุงูุดูุก.  ูุฑุชุจุฉ ุ ูุฏุฃุช.  ุซู ูุฏุนู ุฐูู <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.861ex" height="2.298ex" viewBox="0 -780.1 3815 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-D7" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-2B" x="1000" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-31" x="2001" y="0"></use><g transform="translate(2501,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ุฏ</text></g><g transform="translate(2813,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ู</text></g><g transform="translate(3176,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ู</text></g><g transform="translate(3643,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ุง</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-9"> ร + 1 ุฏููุง</script>  ูุง ูููู ุฅูุง ุฃู ุชูุถุน ูุน ุงูุขุฎุฑูู <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.861ex" height="2.298ex" viewBox="0 -780.1 3815 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-D7" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-2B" x="1000" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-31" x="2001" y="0"></use><g transform="translate(2501,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ุฏ</text></g><g transform="translate(2813,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ู</text></g><g transform="translate(3176,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ู</text></g><g transform="translate(3643,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ุง</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-10"> ร + 1 ุฏููุง</script>  .  ูุงูุขู ูุฏููุง <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.566ex" height="2.66ex" viewBox="0 -832 4549.4 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-2217" x="751" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-28" x="1474" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMATHI-78" x="1863" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-2B" x="2658" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-31" x="3659" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-29" x="4159" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-11"> a * (x + 1) </script>  ู <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.492ex" height="2.66ex" viewBox="0 -832 4517.4 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMATHI-79" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-2217" x="719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-28" x="1442" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMATHI-78" x="1831" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-2B" x="2626" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-31" x="3627" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-29" x="4127" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-12"> y * (x + 1) </script>  ุชุนุงููุช ุฃุฎูุฑุง.  ููุฐุช ุจูู ุจุณุงุทุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">internal</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Hash</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">SortLevel level</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> FunctionEntity) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Name + <span class="hljs-string"><span class="hljs-string">"_"</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Join(<span class="hljs-string"><span class="hljs-string">"_"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> child <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> Children <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> child.Hash(level)); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> NumberEntity) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> level == SortLevel.HIGH_LEVEL ? <span class="hljs-string"><span class="hljs-string">""</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Name + <span class="hljs-string"><span class="hljs-string">" "</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> VariableEntity) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"v_"</span></span> + Name; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (level == SortLevel.LOW_LEVEL ? <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Name + <span class="hljs-string"><span class="hljs-string">"_"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span>) + <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Join(<span class="hljs-string"><span class="hljs-string">"_"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> child <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> Children <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> child.Hash(level) != <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> child.Hash(level)); }</code> </pre><br>  ููุง ุชุฑูู ุ ุชุคุซุฑ ุงููุธููุฉ ุนูู ุงููุฑุฒ ุจุฃู ุทุฑููุฉ (ุจุงูุทุจุน ุ ุจุณุจุจ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.418ex" height="2.66ex" viewBox="0 -832 1902 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMATHI-66" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-28" x="550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMATHI-78" x="940" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMAIN-29" x="1512" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-13"> f (x) </script>  ูุน <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMATHI-78" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-14"> x </script>  ุนูููุง ุบูุฑ ูุชุตู ูู ุงูุญุงูุฉ ุงูุนุงูุฉ).  ูุซู ูุชุบูุฑ ุ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/482228/&amp;xid=25657,15700023,15700186,15700190,15700259,15700271,15700302&amp;usg=ALkJrhisRzK5bnfdFxgVuEk6rjVXhxupBA#MJMATHI-78" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-15"> x </script>  ูุน <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.723ex" height="2.298ex" viewBox="0 -780.1 311.2 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ุฐ</text></g></svg></span><script type="math/tex" id="MathJax-Element-16"> ุฐ </script>  ุญุณููุง ุ ูุง ููุฌุญ ุงูุงุฎุชูุงุท.  ููู ุงูุซูุงุจุช ูุงููุดุบููู ูุง ุชุคุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุนูู ุฌููุน ุงููุณุชููุงุช.  ูู ูุฐุง ุงูุชุฑุชูุจ ุ ูุฅู ุนูููุฉ ุงูุชุจุณูุท ููุณูุง <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Entity </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Simplify</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> level</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//      :   ,   ,     . . var stage1 = this.InnerSimplify(); Entity res = stage1; for (int i = 0; i &lt; level; i++) { //     .    -  x  x+1 (  ),  -  x-1  x+1 (,   ),  -  x+1  x+1 ( ). switch (i) { case 0: res = res.Sort(SortLevel.HIGH_LEVEL); break; case 2: res = res.Sort(SortLevel.MIDDLE_LEVEL); break; case 4: res = res.Sort(SortLevel.LOW_LEVEL); break; } //    . res = TreeAnalyzer.Replace(Patterns.CommonRules, res).InnerSimplify(); } return res; }</span></span></code> </pre><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฃููุงุฑ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ูู ูุฐุง ูู ุฃูุถู ุชูููุฐุ  ูุดู ูู ุงูุฑุณุงุฆู ุงูุฎุงุตุฉ ุ ูุฑุจูุง ุณูููู ููุงู ุฃููุงุฑ ุฃูุถู.  ููุฏ ููุฑุช ููุชุฑุฉ ุทูููุฉ ูู ููููุฉ ุงูููุงู ุจุฐูู ุจุทุฑููุฉ ุฌูููุฉ ูุฏุฑ ุงูุฅููุงู ุ ุฑุบู ุฃููุง ูู ุฑุฃูู ุฃุจุนุฏ ูุง ุชููู ุนู "ุฌูููุฉ". <br></div></div><br>  ุฃูุฑุฒ ุงูุดุฌุฑุฉ <a href="" rel="nofollow">ููุง</a> . <br><br><h2 style=";text-align:right;direction:rtl">  "ุชุฌููุน" ูู ุงููุธุงุฆู </h2><br>  ูู ุนูุงูุงุช ุงูุชุจุงุณ - ูุฃูู ููุณ ูู ููุฏ IL ููุณู ุ ูููู ููุท ูู ูุฌููุนุฉ ุณุฑูุนุฉ ููุบุงูุฉ ูู ุงูุชุนูููุงุช.  ููู ุงูุฃูุฑ ุจุณูุท ููุบุงูุฉ. <br><br><h5 style=";text-align:right;direction:rtl">  ูุดููุฉ ุจุฏููุฉ </h5><br>  ูุญุณุงุจ ูููุฉ ุฏุงูุฉ ุ ูุญุชุงุฌ ููุท ุฅูู ุงุณุชุฏุนุงุก ุงูุฅุญูุงู ุงููุชุบูุฑ ู eval ุ ุนูู ุณุจูู ุงููุซุงู <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> x = MathS.Var(<span class="hljs-string"><span class="hljs-string">"x"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> expr = x * x + <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> result = expr.Substitute(x, <span class="hljs-number"><span class="hljs-number">5</span></span>).Eval();</code> </pre><br>  ูููู ูุนูู ุจุจุทุก ุ ุญูุงูู 1.5 ูููุฑูุซุงููุฉ ููู ุฌูุจ. <br><br><h5 style=";text-align:right;direction:rtl">  ุชุนูููุงุช </h5><br>  ูุชุณุฑูุน ุนูููุฉ ุงูุญุณุงุจ ุ ูููู ุจุฅุฌุฑุงุก ุนูููุฉ ุญุณุงุจูุฉ ุนูู ุงูููุฏุณ ุ ููู: <br><br>  1) ููุฏ ุชูุตููุง ุฅูู ูุฆุฉ FastExpression ุ ูุงูุชู ุณุชุญุชูู ุนูู ูุงุฆูุฉ ุจุงูุชุนูููุงุช <br><br>  2) ุนูุฏ ุงูุชุฌููุน ุ ูุชู ุชูุฏูุณ ุงูุชุนูููุงุช ุจุงูุชุฑุชูุจ ุงูุนูุณู ุ ุฃู ุฅุฐุง ูุงูุช ููุงู ุฏุงูุฉ x * x + sin (x) + 3 ุ ูุฅู ุงูุชุนูููุงุช ุณุชููู ูุซู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">PUSHVAR 0 //    0 - x CALL 6 //    6 -  PUSHCONST 3 CALL 0 //    0 -  PUSHVAR 0 PUSHVAR 0 CALL 2 CALL 0</code> </pre><br>  ุจุนุฏ ุฐูู ุ ุนูุฏ ุงูุงุชุตุงู ุ ูููู ุจุชุดุบูู ูุฐู ุงูุชุนูููุงุช ููุนูุฏ ุงูุฑูู. <br><br>  ูุซุงู ุนูู ุชูููุฐ ุชุนูููุฉ ุงููุจูุบ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">internal</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Sumf</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Stack&lt;Number&gt; stack</span></span></span><span class="hljs-function">)</span></span> { Number n1 = stack.Pop(); Number n2 = stack.Pop(); stack.Push(n1 + n2); }</code> </pre><br>  ุชู ุชุฎููุถ ุงุณุชุฏุนุงุก ุงูุฌูุจ ูู 1500ns ุฅูู 60ns (ูุธุงู Complex.Sin ูุนูู ููุฏุฉ 30ns). <br>  ูุชู ุชุทุจูู ุงูููุช <a href="https://github.com/Angourisoft/MathS/tree/master/AngouriMath/Functions/Evaluation/Compilation" rel="nofollow">ููุง</a> . <br><br>  ููู ุ ูุจุฏู ุฃู ูู ุดูุก ุงูุขู.  ุนูู ุงูุฑุบู ูู ุฃูู ูุง ูุฒุงู ููุงู ุดูุก ูุฌุจ ุฃู ุฃุฎุจุฑ ุนูู ุ ุฅูุง ุฃูู ูุจุฏู ูู ุฃู ุญุฌู ููุงูุฉ ูุงุญุฏุฉ ูููู.  ูู ููุงู ูู ููุชู ุจุงูุชููุฉุ  ููู: ุชุญููู ูู ุณูุณูุฉ ุ ูุงูุชูุณูู ูู ุงููุงุชูุณ ุ ุฌุฒุก ูุง ูุชุฌุฒุฃ ูุนูู ุ ูุบูุฑูุง ูู ุงูุฃุดูุงุก ุงูุฌูุฏุฉ. <br><br>  <a href="https://github.com/Angourisoft/MathS" rel="nofollow">ุฑุจุท ุฅูู ูุณุชูุฏุน</a> ูุน ูู ุฑูุฒ ุ ููุฐูู ุงูุงุฎุชุจุงุฑุงุช ูุงูุนููุงุช. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฃููุงุฑ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ูู ุงููุงูุน ุ ูุง ุฒูุช ุฃุนูู ูู ูุฐุง ุงููุดุฑูุน.  ูุชู ุชูุฒูุนู ุชุญุช MIT (ุฃู ุ ุงูุนู ูุง ุชุฑูุฏ ูุนู) ุ ููู ูุตุจุญ ูุบูููุง ุฃู ุชุฌุงุฑููุง.  ุนูุงูุฉ ุนูู ุฐูู ุ ุฅุฐุง ูุงูุช ููุงู ุฃููุงุฑ ููุชุญุณูู ูุงููุณุงููุฉ ุ ูุฅู ุทูุจุงุช ุงูุณุญุจ ููุถุน ุชุฑุญูุจ ูุจูุฑ. <br></div></div><br>  ุดูุฑุง ูุงูุชูุงููู! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar482228/">https://habr.com/ru/post/ar482228/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar482218/index.html">ุฌุงูุง ุฏุงูุฌุณุช ูู 27 ุฏูุณูุจุฑ</a></li>
<li><a href="../ar482220/index.html">ุชูุทูู ุนูุงูุฉ Aruco</a></li>
<li><a href="../ar482222/index.html">ุชุทุจูู ุงูููุจ ุนูู Kotlin + Spring Boot + Vue.js (ุฅุถุงูุฉ)</a></li>
<li><a href="../ar482224/index.html">ุนูุฏูุง ูุญุชุงุฌ ุงููุตูู ุฅูู ุฃู ูููู ูุจุฑูุฌูุง ููููุงู</a></li>
<li><a href="../ar482226/index.html">ุฃูุถู 20 ุชุทุจูููุง ูุง ูููู ูููุฏู ุงูุฑุนุงูุฉ ุงูุตุญูุฉ ุฃู ูููุชูุง</a></li>
<li><a href="../ar482230/index.html">ูุนุฑูุฉ ุฎูุงุฏู ุงูููุจ. ุงูุฌุฒุก 2 - ุณููุงุฑูู HTTPS ุงููุงูุนู:</a></li>
<li><a href="../ar482232/index.html">StackOverflow ูู ุฃูุซุฑ ูู ูุฌุฑุฏ ูุณุชูุฏุน ููุฅุฌุงุจุงุช ุนูู ุงูุฃุณุฆูุฉ ุงูุบุจูุฉ</a></li>
<li><a href="../ar482234/index.html">ุงูุฑูููุฉ ุฅูู ุงูููุฐุฌุฉ ูุงููุฎุชูุทุฉ ูู PADS ุงูููููุฉ</a></li>
<li><a href="../ar482240/index.html">ูููู ุจุชูููู ุฃูู ุฃุฌูุฒุฉ TP-Link ูุน Wi-Fi 6: ุฌูุงุฒ ุงูุชูุฌูู Archer AX6000 ููุญูู Archer TX3000E</a></li>
<li><a href="../ar482244/index.html">ูุชุงุฆุฌ ุงุฎุชุจุงุฑ ุงููุงููุฑุง ุงูุนููุงุก: iPhone ุ Pixel ุ Huawei ุ Samsung</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>