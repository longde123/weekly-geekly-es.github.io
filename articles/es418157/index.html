<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëçüèø üçñ üë®‚Äçüë©‚Äçüë¶ El libro "Objetos elegantes. Edici√≥n Java ¬ª üòû üçñ üêøÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola habrozhiteli! Este libro revisa seriamente la esencia y los principios de la programaci√≥n orientada a objetos (OOP) y puede llamarse metaf√≥ricame...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>El libro "Objetos elegantes. Edici√≥n Java ¬ª</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/418157/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/w_/ty/kk/w_tykkzjrz7fxozztm-4tp4asci.jpeg" align="left" alt="imagen"></a>  Hola habrozhiteli!  Este libro revisa seriamente la esencia y los principios de la programaci√≥n orientada a objetos (OOP) y puede llamarse metaf√≥ricamente la "OOP Lobachevsky".  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Egor Bugaenko</a> , un desarrollador con 20 a√±os de experiencia, analiza cr√≠ticamente los dogmas de OOP y ofrece mirar este paradigma de una manera completamente nueva.  Entonces, √©l estigmatiza los m√©todos est√°ticos, captadores, establecedores, m√©todos mutables, creyendo que esto es malo.  Para un programador novato, este volumen puede convertirse en iluminaci√≥n o conmoci√≥n, y para un programador experimentado es una lectura obligatoria. <br><br><h3>  Extracto "No utilizar m√©todos est√°ticos" </h3><br>  Ah, m√©todos est√°ticos ... Uno de mis temas favoritos.  Me tom√≥ varios a√±os darme cuenta de lo importante que es este problema.  Ahora lamento todo el tiempo que pas√© escribiendo software de procedimiento en lugar de software orientado a objetos.  Estaba ciego, pero ahora lo he visto.  Los m√©todos est√°ticos son tan grandes, si no un problema mayor en OOP que tener una constante NULL.  Los m√©todos est√°ticos, en principio, no deber√≠an haber estado en Java, y en otros lenguajes orientados a objetos, pero, por desgracia, est√°n all√≠.  No deber√≠amos saber cosas como la palabra clave est√°tica en Java, pero, por desgracia, son forzadas ... No s√© qui√©n las trajo a Java, pero son pura maldad ... M√©todos est√°ticos, no los autores de esta caracter√≠stica.  Eso espero. <br><a name="habracut"></a><br>  Veamos qu√© son los m√©todos est√°ticos y por qu√© a√∫n los creamos.  Digamos que necesito la funcionalidad de cargar una p√°gina web a trav√©s de solicitudes HTTP.  Creo tal "clase": <br><br><pre><code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">WebPage</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">read</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">String uri</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//  HTTP- //     UTF8- } }</span></span></code> </pre> <br>  Es muy conveniente usarlo: <br><br><pre> <code class="hljs pgsql">String html = WebPage.<span class="hljs-keyword"><span class="hljs-keyword">read</span></span>("http://www.java.com");</code> </pre> <br>  El m√©todo read () pertenece a la clase de m√©todos a los que me opongo.  Sugiero usar un objeto en su lugar (tambi√©n cambi√© el nombre del m√©todo de acuerdo con las recomendaciones de la secci√≥n 2.4): <br><br><pre> <code class="hljs java"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WebPage</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String uri; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">content</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  HTTP- //     UTF8- } }</span></span></code> </pre> <br>  Aqu√≠ se explica c√≥mo usarlo: <br><br><pre> <code class="hljs vbscript"><span class="hljs-built_in"><span class="hljs-built_in">String</span></span> html = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WebPage(<span class="hljs-string"><span class="hljs-string">"http://www.java.com"</span></span>) .content();</code> </pre> <br>  Puedes decir que no hay mucha diferencia entre ellos.  Los m√©todos est√°ticos funcionan a√∫n m√°s r√°pido porque no necesitamos crear un nuevo objeto cada vez que necesitamos descargar una p√°gina web.  Simplemente llame al m√©todo est√°tico, har√° el trabajo, obtendr√° el resultado y continuar√° funcionando. No hay necesidad de meterse con los objetos y el recolector de basura.  Adem√°s, podemos agrupar varios m√©todos est√°ticos en una clase de utilidad y nombrarla, por ejemplo, WebUtils. <br><br>  Estos m√©todos ayudar√°n a cargar p√°ginas web, obtener informaci√≥n estad√≠stica, determinar el tiempo de respuesta, etc. Habr√° muchos m√©todos en ellos, y usarlos es simple e intuitivo.  Adem√°s, c√≥mo aplicar m√©todos est√°ticos tambi√©n es intuitivo.  Todos entienden c√≥mo funcionan.  Simplemente escriba WebPage.read () y, ¬°lo adivin√≥!  - la p√°gina ser√° le√≠da.  Le dimos instrucciones a la computadora y la ejecuta. Simple y claro, ¬øverdad?  Y no! <br><br>  Los m√©todos est√°ticos en cualquier contexto son un indicador inequ√≠voco de un mal programador que no tiene idea de la POO.  No hay justificaci√≥n para aplicar m√©todos est√°ticos en ninguna situaci√≥n.  Cuidar el rendimiento no cuenta.  Los m√©todos est√°ticos son una burla de un paradigma orientado a objetos.  Existen en Java, Ruby, C ++, PHP y otros lenguajes.  Desafortunadamente  No podemos descartarlos, no podemos reescribir todas las bibliotecas de c√≥digo abierto llenas de m√©todos est√°ticos, pero podemos dejar de usarlas en nuestro c√≥digo. <br><br>  Debemos dejar de usar m√©todos est√°ticos. <br><br>  Ahora echemos un vistazo desde varias posiciones diferentes y discutamos sus defectos pr√°cticos.  Puedo generalizarlos de antemano: los m√©todos est√°ticos degradan el mantenimiento del software.  Esto no deber√≠a sorprenderte.  Todo se reduce a la mantenibilidad. <br><br><h3>  Objetivo versus pensamiento inform√°tico </h3><br>  Inicialmente, llam√© a esta subsecci√≥n Objetivo versus pensamiento procesal, pero luego la renombr√©.  "Pensamiento procesal" significa casi lo mismo, pero la frase "pensar como una computadora" describe mejor el problema. Heredamos esta forma de pensar de los primeros lenguajes de programaci√≥n como Assembly, C, COBOL, Basic, Pascal y muchos otros.  La base del paradigma es que la computadora funciona para nosotros y le decimos qu√© hacer, d√°ndole instrucciones expl√≠citas, por ejemplo: <br><br><pre> <code class="hljs cmake"> CMP AX, BX JNAE <span class="hljs-keyword"><span class="hljs-keyword">greater</span></span> MOV CX, BX RET <span class="hljs-keyword"><span class="hljs-keyword">greater</span></span>: MOV CX, AX RET</code> </pre> <br>  Esta es una "rutina" de ensamblador para el procesador Intel 8086. Encuentra y devuelve el mayor de los dos n√∫meros.  Los colocamos en los registros AX y BX, respectivamente, y el resultado cae en el registro CX.  Aqu√≠ est√° exactamente el mismo c√≥digo C: <br><br><pre> <code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">max</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (a &gt; b) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> b; }</code> </pre> <br>  "¬øQu√© tiene de malo eso?"  - usted pregunta  Nada ... Todo est√° bien con este c√≥digo, funciona como deber√≠a, as√≠ es como funcionan todas las computadoras.  Esperan que les demos instrucciones de que seguir√°n uno tras otro. Durante muchos a√±os escribimos programas de esta manera.  La ventaja de este enfoque es que nos mantenemos cerca del procesador, dirigiendo su movimiento adicional.  Estamos al tim√≥n y la computadora sigue nuestras instrucciones.  Le decimos a la computadora c√≥mo encontrar el mayor de los dos n√∫meros.  Tomamos decisiones, √©l las sigue.  El flujo de ejecuci√≥n siempre es consistente, desde el comienzo del script hasta su final. <br><br>  Este tipo lineal de pensamiento se llama "pensar como una computadora".  La computadora en alg√∫n momento comienza a ejecutar instrucciones y en alg√∫n punto termina de hacerlo.  Al escribir c√≥digo en C, nos vemos obligados a pensar de esta manera.  Los operadores separados por punto y coma van de arriba a abajo.  Este estilo se hereda del ensamblador. <br>  Aunque los lenguajes de un nivel m√°s alto que el ensamblador tienen procedimientos, subrutinas y otros mecanismos de abstracci√≥n, no eliminan una forma consistente de pensar. El programa todav√≠a se ejecuta de arriba a abajo.  No hay nada de malo en este enfoque cuando se escriben programas peque√±os, pero a mayor escala es dif√≠cil pensar as√≠. <br><br>  Eche un vistazo al mismo c√≥digo escrito en el lenguaje de programaci√≥n funcional Lisp: <br><br><pre> <code class="hljs lisp">(<span class="hljs-name"><span class="hljs-name">defun</span></span> max (<span class="hljs-name"><span class="hljs-name">ab</span></span>) (<span class="hljs-name"><span class="hljs-name">if</span></span> (<span class="hljs-name"><span class="hljs-name">&gt;</span></span> ab) ab))</code> </pre> <br>  ¬øPuedes decir d√≥nde comienza y termina la ejecuci√≥n de este c√≥digo?  No  No sabemos c√≥mo obtendr√° el procesador el resultado o c√≥mo funcionar√° la funci√≥n if.  Estamos muy distantes del procesador.  Pensamos como una funci√≥n, no como una computadora.  Cuando necesitamos algo nuevo, lo definimos: <br><br><pre> <code class="hljs lisp">(<span class="hljs-name"><span class="hljs-name">def</span></span> x (<span class="hljs-name"><span class="hljs-name">max</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span>))</code> </pre> <br>  Definimos, no damos instrucciones al procesador.  Con esta l√≠nea unimos x a (max 5 9).  No le pedimos a la computadora que calcule el mayor de los dos n√∫meros.  Simplemente decimos que x es el mayor de los dos n√∫meros.  No controlamos c√≥mo y cu√°ndo se calcular√°.  Tenga en cuenta que esto es importante: x es el mayor de los n√∫meros.  La relaci√≥n "es" ("ser", "ser") es la diferencia entre un paradigma de programaci√≥n funcional, l√≥gico y orientado a objetos de un paradigma de procedimiento. <br><br>  Con una mentalidad inform√°tica, estamos a la cabeza y controlamos el flujo de instrucciones.  Con una forma de pensar orientada a objetos, simplemente determinamos qui√©n es qui√©n y los dejamos interactuar cuando lo necesitan.  As√≠ es como deber√≠a ser el c√°lculo del mayor de dos n√∫meros en OOP: <br><br><pre> <code class="hljs java"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Max</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Number</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Number a; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Number b; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Max</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Number left, Number right)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.a = left; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.b = right; } }</code> </pre> <br>  Y as√≠ lo usar√©: <br><br><pre> <code class="hljs pgsql">Number x = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Max(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>);</code> </pre> <br>  Mira, no estoy calculando el mayor de los dos n√∫meros.  Determino que x es el mayor de los dos n√∫meros.  Realmente no me importa lo que hay dentro del objeto de la clase Max y c√≥mo implementa exactamente la interfaz Number.  No doy instrucciones al procesador con respecto a este c√°lculo.  Acabo de instanciar el objeto.  Esto es muy similar a def en Lisp .. En este sentido, OOP es muy similar a la programaci√≥n funcional. <br><br>  En contraste, los m√©todos est√°ticos en OOP son los mismos que las subrutinas en C o ensamblador.  No est√°n relacionados con OOP y nos obligan a escribir c√≥digo de procedimiento en sintaxis orientada a objetos.  Aqu√≠ est√° el c√≥digo Java: <br><br><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">int</span></span> x = Math.max(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>);</code> </pre> <br>  Esto es completamente incorrecto y no debe usarse en un dise√±o orientado a objetos real. <br><br><h3>  Estilo declarativo versus imperativo </h3><br>  La programaci√≥n imperativa "describe los c√°lculos en t√©rminos de operadores que cambian el estado de un programa". La programaci√≥n declarativa, por otro lado, "expresa la l√≥gica del c√°lculo sin describir el flujo de su ejecuci√≥n" (cito Wikipedia).  De hecho, hablamos de esto en el transcurso de varias p√°ginas anteriores.  La programaci√≥n imperativa es similar a lo que hacen las computadoras: ejecutar instrucciones secuencialmente.  La programaci√≥n declarativa est√° m√°s cerca de la forma natural de pensar en la que tenemos entidades y relaciones entre ellos.  Obviamente, la programaci√≥n declarativa es un enfoque m√°s poderoso, pero un enfoque imperativo es m√°s comprensible para los programadores de procedimientos.  ¬øPor qu√© el enfoque declarativo es m√°s poderoso?  No cambie, y despu√©s de algunas p√°ginas llegamos al punto. <br><br>  ¬øQu√© tiene que ver todo esto con los m√©todos est√°ticos?  No importa si es un m√©todo u objeto est√°tico, todav√≠a tenemos que escribir if (a&gt; b) en alg√∫n lugar, ¬øverdad?  Si exactamente.  Tanto el m√©todo est√°tico como el objeto son solo un contenedor en la instrucci√≥n if, que realiza la tarea de comparar a con b.  La diferencia es c√≥mo esta funcionalidad es utilizada por otras clases, objetos y m√©todos.  Y esta es una diferencia significativa.  Consid√©ralo con un ejemplo. <br>  Digamos que tengo un intervalo limitado a dos enteros, y un entero que deber√≠a caer en √©l. Tengo que asegurarme de que sea as√≠.  Esto es lo que tengo que hacer si el m√©todo max () es est√°tico: <br><br><pre> <code class="hljs pgsql"><span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">int</span></span> <span class="hljs-keyword"><span class="hljs-keyword">between</span></span>(<span class="hljs-type"><span class="hljs-type">int</span></span> l, <span class="hljs-type"><span class="hljs-type">int</span></span> r, <span class="hljs-type"><span class="hljs-type">int</span></span> x) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Math.min(Math.max(l, x), r); }</code> </pre> <br>  Necesitamos crear otro m√©todo est√°tico, entre (), que use los dos m√©todos est√°ticos disponibles, Math.min () y Math.max ().  Solo hay una forma de hacerlo: un enfoque imperativo, ya que el valor se calcula de inmediato.  Cuando hago una llamada, obtengo inmediatamente el resultado: <br><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> y = Math.between(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>); <span class="hljs-comment"><span class="hljs-comment">//  9</span></span></code> </pre> <br>  Obtengo el n√∫mero 9 justo despu√©s de llamar entre ().  Cuando se realiza la llamada, mi procesador comenzar√° inmediatamente a trabajar en este c√°lculo.  Este es un enfoque imperativo.  ¬øY c√≥mo se ve el enfoque declarativo? <br><br>  Aqu√≠, eche un vistazo: <br><br><pre> <code class="hljs java"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Between</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Number</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Number num; Between(Number left, Number right, Number x) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.num = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Min(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Max(left, x), right); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">intValue</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.num.intValue(); } }</code> </pre> <br>  As√≠ es como lo usar√©: <br><br><pre> <code class="hljs javascript"><span class="hljs-built_in"><span class="hljs-built_in">Number</span></span> y = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Between(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>); <span class="hljs-comment"><span class="hljs-comment">//   !</span></span></code> </pre> <br>  Siente la diferencia?  Ella es extremadamente importante.  Este estilo ser√° declarativo, porque no le digo al procesador que los c√°lculos deben hacerse de inmediato.  Simplemente determin√© qu√© era y dej√© que el usuario decidiera cu√°ndo (y si era necesario) calcular la variable y utilizando el m√©todo intValue ().  Tal vez nunca se calcular√° y mi procesador nunca sabr√° cu√°l es el n√∫mero 9. Todo lo que hice fue declarar qu√© es.  Reci√©n anunciado.  Todav√≠a no he dado ning√∫n trabajo al procesador.  Como se indica en la definici√≥n, expres√≥ la l√≥gica sin describir el proceso. <br><br>  Ya escucho: ‚ÄúOk, te entiendo.  Hay dos enfoques: declarativo y de procedimiento, pero ¬øpor qu√© el primero es mejor que el segundo?  Mencion√© anteriormente que es obvio que el enfoque declarativo es m√°s poderoso, pero no explic√≥ por qu√©.  Ahora que hemos examinado ambos enfoques con ejemplos, discutiremos las ventajas de un enfoque declarativo. <br><br>  En primer lugar, es m√°s r√°pido.  A primera vista, puede parecer m√°s lento.  Pero si observa m√°s de cerca, quedar√° claro que, de hecho, es m√°s r√°pido, ya que la optimizaci√≥n del rendimiento est√° completamente en nuestras manos.  De hecho, llevar√° m√°s tiempo crear una instancia de la clase Between que llamar al m√©todo est√°tico between (), al menos en la mayor√≠a de los lenguajes de programaci√≥n disponibles al momento de escribir este libro. Realmente espero que tengamos un lenguaje en el futuro cercano en el que crear instancias de un objeto ser√° tan r√°pido como llamar a un m√©todo.  Pero a√∫n no hemos llegado a √©l.  Es por eso que el enfoque declarativo es m√°s lento ... cuando el camino de ejecuci√≥n es simple y directo. <br><br>  Si estamos hablando de una simple llamada a un m√©todo est√°tico, entonces ser√° m√°s r√°pido que crear una instancia de un objeto y llamar a sus m√©todos.  Pero si tenemos muchos m√©todos est√°ticos, se los llamar√° secuencialmente al resolver el problema, y ‚Äã‚Äãno solo para trabajar en los resultados que realmente necesitamos.  ¬øQu√© tal esto? <br><br><pre> <code class="hljs pgsql"><span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> doIt() { <span class="hljs-type"><span class="hljs-type">int</span></span> x = Math.<span class="hljs-keyword"><span class="hljs-keyword">between</span></span>(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-comment"><span class="hljs-comment">/*  ? */</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println("x=" + x); } }</code> </pre> <br>  En este ejemplo, calculamos x independientemente de si necesitamos su valor o no ... El procesador encontrar√° el valor 9 en ambos casos. ¬øFuncionar√° el siguiente m√©todo con el enfoque declarativo tan r√°pido como el anterior? <br><br><pre> <code class="hljs pgsql"><span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> doIt() { <span class="hljs-type"><span class="hljs-type">Integer</span></span> x = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Between</span></span>(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-comment"><span class="hljs-comment">/*  ? */</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println("x=" + x); } }</code> </pre> <br>  Creo que el c√≥digo declarativo ser√° m√°s r√°pido.  Est√° mejor optimizado.  Y no le dice al procesador qu√© hacer. Por el contrario, le permite decidir cu√°ndo y d√≥nde se necesita realmente el resultado: los c√°lculos se realizan a pedido. <br><br>  La conclusi√≥n es que el enfoque declarativo es m√°s r√°pido porque es √≥ptimo.  Este es el primer argumento a favor de un enfoque declarativo en comparaci√≥n con el imperativo en la programaci√≥n orientada a objetos.  El estilo imperativo definitivamente no tiene cabida en OOP, y la primera raz√≥n para esto es la optimizaci√≥n del rendimiento. No debe decir que cuanto m√°s controla la optimizaci√≥n del c√≥digo, m√°s se sigue.  En lugar de dejar la optimizaci√≥n del proceso de c√°lculo al compilador, la m√°quina virtual o el procesador, lo hacemos nosotros mismos. <br><br>  El segundo argumento es el polimorfismo.  En pocas palabras, el polimorfismo es la capacidad de romper dependencias entre bloques de c√≥digo.  Supongamos que quiero cambiar el algoritmo para determinar si un n√∫mero cae en un cierto intervalo.  Es bastante primitivo en s√≠ mismo, pero quiero cambiarlo.  No quiero usar las clases Max y Min.  Y quiero que realice una comparaci√≥n usando las declaraciones if-then-else. Aqu√≠ se explica c√≥mo hacerlo declarativamente: <br><br><pre> <code class="hljs axapta"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Between</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Number</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Number num; Between(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> left, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> right, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Min(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Max(left, x), right)); } Between(Number number) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.num = number; } }</code> </pre> <br>  Esta es la misma clase Entre que en el ejemplo anterior, pero con un constructor adicional.  Ahora puedo usarlo con otro algoritmo: <br><br><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">Integer</span></span> x = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Between</span></span>( <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> IntegerWithMyOwnAlgorithm(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>) );</code> </pre> <br>  Probablemente este no sea el mejor ejemplo, ya que la clase Between es muy primitiva, pero espero que entiendan lo que quiero decir.  La clase Between es muy f√°cil de separar de las clases Max y Min, ya que son clases.  En la programaci√≥n orientada a objetos, un objeto es un ciudadano completo, pero el m√©todo est√°tico no lo es.  Podemos pasar el objeto como argumento al constructor, pero no podemos hacer lo mismo con el m√©todo est√°tico.  En OOP, los objetos est√°n asociados con objetos, se comunican con objetos e intercambian datos con ellos.  Para separar completamente un objeto de otros objetos, debemos asegurarnos de que no utilice el nuevo operador en ninguno de sus m√©todos (ver secci√≥n 3.6), as√≠ como en el constructor principal. <br><br>  Perm√≠tanme repetir: para separar completamente un objeto de otros objetos, solo debe asegurarse de que el nuevo operador no se utilice en ninguno de sus m√©todos, incluido el constructor principal. <br><br>  ¬øSe puede hacer el mismo desacoplamiento y refactorizaci√≥n con un fragmento de c√≥digo imperativo? <br><br><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">int</span></span> y = Math.<span class="hljs-keyword"><span class="hljs-keyword">between</span></span>(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>);</code> </pre> <br>  No, no puedes.  El m√©todo static between () utiliza dos m√©todos est√°ticos, min () y max (), y no puede hacer nada hasta que lo reescriba por completo.  ¬øY c√≥mo puedes reescribirlo?  ¬øPasar el cuarto par√°metro al nuevo m√©todo est√°tico? <br><br>  ¬øQu√© tan feo se ver√°?  Pienso muy <br><br>  Aqu√≠ est√° mi segundo argumento a favor de un estilo de programaci√≥n declarativo: reduce la cohesi√≥n de los objetos y lo hace muy elegante. Sin mencionar el hecho de que menos cohesi√≥n significa m√°s mantenibilidad. <br><br>  El tercer argumento a favor de la superioridad del enfoque declarativo sobre el imperativo: el enfoque declarativo habla de los resultados, mientras que el imperativo explica la √∫nica forma de obtenerlos.  El segundo enfoque es mucho menos intuitivo que el primero.  Primero debo "ejecutar" el c√≥digo en mi cabeza para entender qu√© resultado esperar.  Aqu√≠ hay un enfoque imperativo: <br><br><pre> <code class="hljs pgsql">Collection&lt;<span class="hljs-type"><span class="hljs-type">Integer</span></span>&gt; evens = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> LinkedList&lt;&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-type"><span class="hljs-type">int</span></span> number : numbers) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (number % <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>) { evens.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(number); } }</code> </pre> <br>  Para comprender lo que hace este c√≥digo, tengo que revisarlo, visualizar este ciclo. De hecho, tengo que hacer lo que hace el procesador: revisar toda la matriz de n√∫meros y poner los n√∫meros pares en la nueva lista.  Aqu√≠ est√° el mismo algoritmo, escrito en un estilo declarativo: <br><br><pre> <code class="hljs pgsql">Collection&lt;<span class="hljs-type"><span class="hljs-type">Integer</span></span>&gt; evens = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Filtered( numbers, <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Predicate&lt;<span class="hljs-type"><span class="hljs-type">Integer</span></span>&gt;() { @Override <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">boolean</span></span> suitable(<span class="hljs-type"><span class="hljs-type">Integer</span></span> number) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> number % <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>; } } );</code> </pre> <br>  Este c√≥digo est√° mucho m√°s cerca del idioma ingl√©s que el anterior.  Dice lo siguiente: "evens es una colecci√≥n filtrada que incluye solo aquellos elementos que son pares".  No s√© exactamente c√≥mo la clase Filtered crea una colecci√≥n: ¬øutiliza una declaraci√≥n for u otra cosa?  Todo lo que necesito saber al leer este c√≥digo es que la colecci√≥n se ha filtrado.  Los detalles de implementaci√≥n est√°n ocultos y el comportamiento se expresa. <br><br>  Me doy cuenta de que para algunos lectores de este libro fue m√°s f√°cil percibir el primer fragmento ... Es un poco m√°s corto y muy similar a lo que ves a diario en el c√≥digo con el que est√°s tratando.  Te aseguro que esto es una cuesti√≥n de costumbre.  Este es un sentimiento enga√±oso.  Comience a pensar en t√©rminos de objetos y su comportamiento, en lugar de algoritmos y su ejecuci√≥n, y obtendr√° una verdadera percepci√≥n.  El estilo declarativo se relaciona directamente con los objetos y su comportamiento, y el imperativo, con los algoritmos y su ejecuci√≥n. <br><br>  Si encuentra este c√≥digo feo, pruebe Groovy, por ejemplo: <br><br><pre> <code class="hljs scala"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">evens</span></span></span><span class="hljs-function"> </span></span>= <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">Filtered</span></span>( numbers, { <span class="hljs-type"><span class="hljs-type">Integer</span></span> number -&gt; number % <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span> } );</code> </pre> <br>  El cuarto argumento es la integridad del c√≥digo.  Eche otro vistazo a los dos fragmentos anteriores.  Tenga en cuenta que en el segundo fragmento declaramos pares como un operador: pares = filtrado (...).  Esto significa que todas las l√≠neas de c√≥digo responsables de calcular esta colecci√≥n est√°n una al lado de la otra y no se pueden separar por error.  Por el contrario, en el primer fragmento no hay un "pegado" obvio de las l√≠neas.  Puede cambiar f√°cilmente su orden por error y el algoritmo se romper√°. <br><br>  En un c√≥digo tan simple, este es un peque√±o problema, ya que el algoritmo es obvio.  Pero si el fragmento del c√≥digo imperativo es mayor, digamos 50 l√≠neas, puede ser dif√≠cil entender qu√© l√≠neas de c√≥digo est√°n relacionadas entre s√≠. Discutimos el problema de la concatenaci√≥n temporal un poco antes, durante la discusi√≥n de los objetos inmutables. El estilo de programaci√≥n declarativa tambi√©n ayuda a eliminar esta concatenaci√≥n. , por lo que se mejora la mantenibilidad. <br><br>  Probablemente todav√≠a haya argumentos, pero he citado el m√°s importante, desde mi punto de vista, de aquellos relacionados con la POO.  Espero haber podido convencerte de que el estilo declarativo es lo que necesitas.  Algunos de ustedes pueden decir: ‚ÄúS√≠, entiendo lo que quieres decir.  Combinar√© enfoques declarativos e imperativos cuando sea apropiado.  Usar√© objetos donde tenga sentido, y m√©todos est√°ticos cuando necesite hacer algo r√°pido r√°pidamente, como calcular el mayor de dos n√∫meros. ".." ¬°No, te equivocas! "  - Te responder√©.  No debes combinarlos. Nunca uses un estilo imperativo.  Esto no es un dogma. Tiene una explicaci√≥n muy pragm√°tica. <br><br>  El estilo imperativo no se puede combinar con el declarativo puramente t√©cnico.      ,   ‚Äî      . <br><br> ,       ‚Äî max()  min().     ,     .      ,  ,    ..         ‚Äî   Between,     between().     ? , ,   ,   ,  .       .    ,        Between.  ,      - ,        . <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los m√©todos est√°ticos recuerdan el c√°ncer de un software orientado a objetos: una vez que les permita establecerse en el c√≥digo, no podremos deshacernos de ellos; su colonia solo crecer√°. Simplemente om√≠talos en principio.</font></font><br><br> ¬´    ! ‚Äî  . ‚Äî   ?¬ª    ‚Ä¶   ,     .   - ,     - (     ). ,    ,   ‚Äî .    ,     ..           ,         .    ,    , ‚Äî  ,   ,     ,       .  ,   Apache Commons    FileUtils.readLines(),       .        : <br><br><pre> <code class="hljs java"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FileLines</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Iterable</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">String</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> File file; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Iterator&lt;String&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">iterator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Arrays.asList( FileUtils.readLines(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.file) ).iterator(); } }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ahora, para leer todas las l√≠neas de un archivo de texto, nuestra aplicaci√≥n tendr√° que hacer lo siguiente: </font></font><br><br><pre> <code class="hljs lisp">Iterable&lt;String&gt; lines = new FileLines(<span class="hljs-name"><span class="hljs-name">f</span></span>)<span class="hljs-comment"><span class="hljs-comment">;</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solo se llamar√° a un m√©todo est√°tico dentro de la clase FileLines y con el tiempo podremos deshacernos de √©l. </font><font style="vertical-align: inherit;">O nunca suceder√°. </font><font style="vertical-align: inherit;">Pero la conclusi√≥n es que en nuestro c√≥digo, los m√©todos est√°ticos no se llamar√°n a ninguna parte, excepto a un lugar: la clase FileLines. </font><font style="vertical-align: inherit;">Entonces aislamos a los muertos, lo que nos permite tratar con ellos gradualmente.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Clases de utilidad </font></font></h3><br>   -      ,     ,      (    -)..  ,  java.lang.Math ‚Äî   -.      Java, Ruby ,  ,      .     ?       .   1.1           ,   ‚Äî   . -   , : <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Math { private Math() { //   } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">int</span></span> max(<span class="hljs-type"><span class="hljs-type">int</span></span> a, <span class="hljs-type"><span class="hljs-type">int</span></span> b) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (a &lt; b) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> b; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a; } }</code> </pre> <br>    ,   -,    ,   ,     .   , ,   ,     . <br><br> - ‚Äî      - . - ‚Äî        ‚Äî    .   ,    ,      . - ‚Äî    ..    . <br><br><h3>  ¬´¬ª </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El patr√≥n Singleton es una t√©cnica popular que dice ser un reemplazo para los m√©todos est√°ticos. De hecho, solo habr√° un m√©todo est√°tico en la clase, y el singleton casi se ver√° como un objeto real. Sin embargo, √©l no es:</font></font><br><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Math</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Math INSTANCE = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Math(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Math</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Math </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getInstance</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Math.INSTANCE; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">max</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (a &lt; b) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> b; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a; } }</code> </pre> <br>     .     Math,   INSTANCE..      ,   getInstance().   ,       .      INSTANCE ‚Äî  getInstance(). <br><br> ¬´¬ª    ,      .    ,     .      ,   .  , , ,      ,     -,      .     - Math,    ,     : <br><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Math</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Math</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">max</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (a &lt; b) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> b; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a; } }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> As√≠ es como se usar√° el m√©todo max (): </font></font><br><br><pre> <code class="hljs swift"><span class="hljs-type"><span class="hljs-type">Math</span></span>.<span class="hljs-built_in"><span class="hljs-built_in">max</span></span>(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>); <span class="hljs-comment"><span class="hljs-comment">// - Math.getInstance().max(5, 9); // </span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cual es la diferencia </font><font style="vertical-align: inherit;">Parece que la segunda l√≠nea es m√°s larga, pero hace lo mismo. </font><font style="vertical-align: inherit;">¬øPor qu√© reinventar singleton si ya ten√≠amos m√©todos est√°ticos y clases de utilidad? </font><font style="vertical-align: inherit;">A menudo hago esta pregunta en entrevistas con programadores de Java. </font><font style="vertical-align: inherit;">Lo primero que escucho generalmente en respuesta es: "Singleton le permite encapsular un estado".</font></font> Por ejemplo: <br><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">User</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> User INSTANCE = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> User(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String name; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">User</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> User </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getInstance</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> User.INSTANCE; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getName</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setName</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">String txt</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = txt; } }</code> </pre> <br>    ,           .     ¬´,     ¬ª.       -,    , -  . .. ,           -: ¬´  ¬ª..    .      ..  -,    ,     : <br><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">User</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> String name; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">User</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getName</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> User.name; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setName</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">String txt</span></span></span><span class="hljs-function">)</span></span> { User.name = txt; } }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esta clase de utilidad almacena el estado, y no hay diferencia entre ella y el singleton mencionado. Entonces, ¬øcu√°l es el problema? ¬øY cu√°l es la respuesta correcta? La √∫nica respuesta verdadera es que un singleton es una dependencia que se puede romper, y una clase de utilidad es una conexi√≥n estrecha codificada que no se puede romper. En otras palabras, la ventaja de los singletones es que puede agregarles el m√©todo setInstance () junto con getInstance (). Esta respuesta es correcta, aunque la escucho con poca frecuencia. Supongamos que uso singleton de la siguiente manera:</font></font><br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">Math</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.getInstance</span></span>()<span class="hljs-selector-class"><span class="hljs-selector-class">.max</span></span>(5, 9);</code> </pre> <br>      Math.  ,  Math ‚Äî ,    .       ,         Math ,     .         ,    .    ,  , ,       -,     .  ,   ,   Math.max()     -.    ?   : <br><br><pre> <code class="hljs cmake"><span class="hljs-keyword"><span class="hljs-keyword">Math</span></span> <span class="hljs-keyword"><span class="hljs-keyword">math</span></span> = new FakeMath(); <span class="hljs-keyword"><span class="hljs-keyword">Math</span></span>.setInstance(<span class="hljs-keyword"><span class="hljs-keyword">math</span></span>);</code> </pre> <br>  ¬´¬ª      ,    .   :    -  ,     .  -   ‚Äî     . - ‚Äî     ‚Äî    . <br><br> ,   ?   -,     ,   . ? ,      ‚Äî  ,  ,  ..       .      .    ,        : <br><br><pre> <code class="hljs mel">#include &lt;stdio&gt; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> line = <span class="hljs-number"><span class="hljs-number">0</span></span>; void echo(char* <span class="hljs-keyword"><span class="hljs-keyword">text</span></span>) { printf(<span class="hljs-string"><span class="hljs-string">"[%d] %s\n"</span></span>, ++line, <span class="hljs-keyword"><span class="hljs-keyword">text</span></span>); }</code> </pre> <br>      echo(),    line.    line          *.-..   .   Java  ,         .  Java,    Ruby     --,   . ?         .    .      .   . ,         .   ,      ,    GOTO. <br><br> ,       , -      Java,     ¬´¬ª..      - ,      .      . <br>    .   . <br><br> ¬´  ? ‚Äî  . ‚Äî   ,           ,    ?¬ª ,   ,      ,        .    -  .    ? ! <br><br>      ,     . <br><br> ,      ,         ..   .  .     ,    .   ,     :    ,    ,     . . , ,      ,       .      ,   ‚Äî  ,      2.1. <br><br>     .     . <br><br><h3>   </h3><br>     :            ,        ()? ,    ,     ,      .. ,    ?      Lisp, Clojure  Haskell  Java  C++? <br><br>  ,       : <br><br><pre> <code class="hljs java"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Max</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Number</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> a; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> b; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Max</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> left, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> right)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.a = left; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.b = right; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">intValue</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.a &gt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.b ? <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.a : <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.b; } }</code> </pre> <br>      : <br><br><pre> <code class="hljs pgsql">Number x = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Max(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>);</code> </pre> <br>        Lisp ,      : <br><br><pre> <code class="hljs lisp">(<span class="hljs-name"><span class="hljs-name">defn</span></span> max (<span class="hljs-name"><span class="hljs-name">ab</span></span>) (<span class="hljs-name"><span class="hljs-name">if</span></span> (<span class="hljs-name"><span class="hljs-name">&gt;</span></span> ab) ab))</code> </pre> <br> ,    ?   Lisp  . <br><br>       ,     ,    ‚Äî  .   -   ,      -  -,   .   ,  -  Java,     ,  Java  ,     -.  ‚Äî  ,   .    . <br><br>  ,   -        .  -,    Java,   (   ) ,    .    . <br><br><h3>   </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parece que acu√±√© el t√©rmino. Los decoradores enlazables son simplemente objetos envolventes sobre otros objetos. Son decoradores, un patr√≥n bien conocido de dise√±o orientado a objetos, pero se vuelven compostables cuando los combinamos en estructuras multicapa, por ejemplo:</font></font><br><br><pre> <code class="hljs lisp">names = new Sorted( <span class="hljs-name"><span class="hljs-name">new</span></span> Unique( <span class="hljs-name"><span class="hljs-name">new</span></span> Capitalized( <span class="hljs-name"><span class="hljs-name">new</span></span> Replaced( <span class="hljs-name"><span class="hljs-name">new</span></span> FileNames( <span class="hljs-name"><span class="hljs-name">new</span></span> Directory( <span class="hljs-string"><span class="hljs-string">"/var/users/*.xml"</span></span> ) ), <span class="hljs-string"><span class="hljs-string">"([^.]+)\\.xml"</span></span>, <span class="hljs-string"><span class="hljs-string">"$1"</span></span> ) ) ) )<span class="hljs-comment"><span class="hljs-comment">;</span></span></code> </pre> <br>  ,    ,     -.   ,     3.2.    ,     names,        ,     ,    .   ,    ,      ,   .    . <br><br>          ? ,  ,    ,       . <br><br>  ,     .  Directory, FileNames, Replaced, Capitalized, Unique  Sorted ‚Äî ,        .      .       . <br><br>      ,      (   ).  , Unique ‚Äî  Iterable,     .  FileNames ‚Äî    ,    . <br>      -       .       ,     ..  -    app.run(),      .          if, for, switch  while.   ,    . <br><br>  if   Java      ,   .       Java ,      If?     : <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">float</span></span> rate; <span class="hljs-attribute"><span class="hljs-attribute">if</span></span> (client.age() &gt; <span class="hljs-number"><span class="hljs-number">65</span></span>){ <span class="hljs-attribute"><span class="hljs-attribute">rate</span></span> = <span class="hljs-number"><span class="hljs-number">2</span></span>.<span class="hljs-number"><span class="hljs-number">5</span></span>; } <span class="hljs-section"><span class="hljs-section">else</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">rate</span></span> = <span class="hljs-number"><span class="hljs-number">3</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre> <br>     - : <br><br><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">float</span></span> rate = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">If</span></span>( client.age() &gt; <span class="hljs-number"><span class="hljs-number">65</span></span>, <span class="hljs-number"><span class="hljs-number">2.5</span></span>, <span class="hljs-number"><span class="hljs-number">3.0</span></span> );</code> </pre> <br>    ? <br><br><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">float</span></span> rate = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">If</span></span>( <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Greater(client.age(), <span class="hljs-number"><span class="hljs-number">65</span></span>), <span class="hljs-number"><span class="hljs-number">2.5</span></span>, <span class="hljs-number"><span class="hljs-number">3.0</span></span> );</code> </pre> <br>  ,  : <br><br><pre> <code class="hljs lisp">float rate = new If( <span class="hljs-name"><span class="hljs-name">new</span></span> GreaterThan( <span class="hljs-name"><span class="hljs-name">new</span></span> AgeOf(<span class="hljs-name"><span class="hljs-name">client</span></span>), <span class="hljs-number"><span class="hljs-number">65</span></span> ), <span class="hljs-number"><span class="hljs-number">2.5</span></span>, <span class="hljs-number"><span class="hljs-number">3.0</span></span> )<span class="hljs-comment"><span class="hljs-comment">;</span></span></code> </pre> <br>    -   .     ‚Äî  ,   rate. <br><br>    ,      ,      .   if, for, switch  while.    If, For, Switch  While.  ? <br><br>       ,      .    .            .   ,    .. ,            . <br>   ,  -  ‚Äî       . <br><br>       ?  ,   :        .     ,        .             .     .      ,    ‚Äî  . <br><br>  :           static ‚Äî      ,     ,  . <br><br>  ¬ªSe puede encontrar m√°s informaci√≥n sobre el libro en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el sitio web del editor</a> <br><br>    20%   ‚Äî <b>Java</b> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es418157/">https://habr.com/ru/post/es418157/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es418147/index.html">Silencio de las ejecuciones de Ruby: Transactional Rails / PostgreSQL Thriller</a></li>
<li><a href="../es418149/index.html">Phishing con etiqueta de t√≠tulo</a></li>
<li><a href="../es418151/index.html">Introducci√≥n a la tarea de reconocer las emociones.</a></li>
<li><a href="../es418153/index.html">Kolesa Android Meetup Video: Acerca de MVVM, Antipatterns y Desarrollo modular</a></li>
<li><a href="../es418155/index.html">Diodo LED Diodo Zener</a></li>
<li><a href="../es418159/index.html">D√≥nde ir al dise√±ador: prestigiosos premios de Rusia, Europa del Este y los pa√≠ses de la CEI</a></li>
<li><a href="../es418161/index.html">En Stanford, se desarrollaron bater√≠as de transmisi√≥n a temperatura ambiente</a></li>
<li><a href="../es418163/index.html">Pruebas de producci√≥n: Netflix Chaos Automation Platform</a></li>
<li><a href="../es418165/index.html">Cuasar, Sobaken y Alima√±as: revelando detalles de la actual campa√±a de espionaje cibern√©tico</a></li>
<li><a href="../es418167/index.html">ScadaPy: agregue el protocolo IEC 60870-5-104</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>