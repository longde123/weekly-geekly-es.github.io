<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ÜñÔ∏è ü•ã üßùüèª Utilisation de la carte de rechargement Firefly-RK3288 avec le SoC RockChip RK3288 Capteur thermique num√©rique Microchip I2C - MCP9808 üßúüèø üë©üèΩ‚Äçü§ù‚Äçüë®üèª üòÖ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recharge Firefly-RK3288 
 En choisissant une carte de d√©veloppement pour les exp√©riences, le choix s'est port√© sur un mod√®le plut√¥t sophistiqu√© du fab...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Utilisation de la carte de rechargement Firefly-RK3288 avec le SoC RockChip RK3288 Capteur thermique num√©rique Microchip I2C - MCP9808</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/412763/"><h4>  Recharge Firefly-RK3288 </h4><br>  En choisissant une carte de d√©veloppement pour les exp√©riences, le choix s'est port√© sur un mod√®le plut√¥t sophistiqu√© du fabricant chinois T-Chip.  Ils vendent des produits sous la marque Firefly.  Ils se sp√©cialisent dans les cartes avec des syst√®mes bas√©s sur la puce RockChip.  RK3288 est la solution 32 bits la plus productive de cette soci√©t√© chinoise.  Le SoC de RockChip et Allwinner se compare favorablement aux puces Broadcom de RaspberryPi non seulement dans leurs meilleures fonctionnalit√©s, mais aussi dans la technologie de production - 28 nm contre 40 nm.  Mais bien s√ªr, dans ce cas, les Chinois sont plus chers.  Le RK3399 n'a pas choisi un syst√®me 64 bits encore plus raide, y compris parce qu'il y a des raisons de croire qu'il est d√©j√† nettement plus chaud.  Alors que le RK3288 n'est pas tr√®s chaud sous charge, m√™me sans l'utilisation de radiateurs. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Page produit</a> .  Les principaux param√®tres mat√©riels de l'appareil: 4 c≈ìurs ARM Cortex-A17 1,8 GHz (certaines sources insistent sur le fait qu'il s'agit de Cortex-A12 ou A15, mais ce n'est pas particuli√®rement important), 2 Go DDR3 double canal, 16 Go eMMC drive, gigabit Ethernet. <br><br><img width="600" src="https://habrastorage.org/webt/ee/lp/f7/eelpf7dgaktdk_ojo6co3fzpe_u.jpeg" alt="Vue g√©n√©rale"><br><br>  Je l'ai achet√© sur Ebay, c'√©tait presque le seul endroit o√π ces planches peuvent √™tre command√©es en Russie.  La boutique en ligne du Firefly chinois lui-m√™me n'envoie pas en Russie.  Non envoy√© en Russie et en Indiegogo.  Ce qui est dr√¥le, dans la liste des pays √† envoyer, ces gens √©tranges auraient m√™me des √©tats qui n'existent pas :).  Le vendeur d'Ebay a envoy√© une carte en bonne configuration - une carte, une alimentation (vous avez besoin de 12V 1.5A, envoy√©e comme il se doit avec une marge de 2A), un foulard avec une antenne, des panneaux acryliques du bo√Ætier avec des attaches.  L'adaptateur est vrai pour une prise am√©ricaine, mais tout le monde devrait avoir un adaptateur de randonn√©e :). <br><a name="habracut"></a><br>  Comme les cartes CubieBoard de CubieTech, qui sont mieux connues sur le march√© russe, Firefly fournit un bon support d'information.  Des images du syst√®me d'exploitation, des diagrammes de brochage et plus sont fournis.  Le firmware Ubuntu 14 pour Firefly m√©rite des √©loges.  Il fonctionne de mani√®re stable, avec une faible consommation de m√©moire.  Bureau graphique - LXDE.  Le rendu de l'interface ne semble pas parfaitement rapide, mais il est assez correct.  Soit dit en passant, un lien utile sur la fa√ßon de prendre des captures d'√©cran dans LXDE: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Lxde wiki</a> .  D'autres informations utiles sont comment r√©gler l'heure: en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">utilisant dpkg-reconfigure tzdata</a> .  Oui, vous ne devinerez jamais ce qui, dans n'importe quel shell Linux, se fait de mani√®re non triviale. <br><br><img width="700" src="https://habrastorage.org/webt/uy/6y/hj/uy6yhjt7lgnmbfrndloylwd-vtw.jpeg"><br><br>  La planche a une structure sandwich (style sandwich).  La carte m√®re contient SoC RockChip, RAM et un disque Samsung, Ethernet de Realtek, ainsi qu'une alimentation active et une puce de surveillance.  La carte principale contient tout le reste: le contr√¥leur de sortie HDMI Lontium (seulement deux sorties), l'entr√©e HDMI Toshiba, le pont JMicron USB-SATA, la puce Ampak pour les interfaces sans fil.  Deux parties sont connect√©es via un emplacement MXM3.0 relativement standard (module PCI Express mobile).  La carte a de nombreuses interfaces, ainsi que quatre blocs principaux de broches, un total de 184 broches.  De plus, le constructeur n'a pas l√©sin√© sur les connecteurs m√®res, c'est certainement plus s√ªr, √©tant donn√© que m√™me plusieurs lignes √©lectriques 12V sont divorc√©es. <br><br><h4>  Mode de d√©marrage et firmware </h4><br>  La premi√®re chose √† faire avec les planches est de les flasher.  Pour une interaction occasionnelle avec les cartes de d√©veloppement, l'IoT et tout cela, il est plus pratique d'avoir un syst√®me Linux sur votre ordinateur.  Je l'ai traditionnellement Linux Fedora 64bit, pour toutes les 26e version.  L'instruction officielle pour mettre la carte en mode de d√©marrage et flasher l'image du syst√®me d'exploitation: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Flash Image</a> . <br><br>  √âtant <b>donn√© que l'utilitaire de mise √† niveau de RockChip upgrade_tool n√©cessite l'installation de d√©pendances</b> .  Et toutes les versions de la distribution Linux sur le PC h√¥te ne disent pas lesquelles. <br>  Je veux partager mon algorithme d'actions pour r√©ussir le transfert de la carte pour d√©marrer et remplir l'image du syst√®me d'exploitation: <br><br><pre><code class="bash hljs">1.  . 2.     ( micro USB - USB). 3.        : -     RECOVER -   RESET -      RECOVER 4.  -   Linux Upgrade Tool (     ): - [user@nb-linuxfedora data-arm]$ unzip Linux_Upgrade_Tool_v1.24.zip - [user@nb-linuxfedora data-arm]$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> Linux_Upgrade_Tool_v1.24/ - [user@nb-linuxfedora Linux_Upgrade_Tool_v1.24]$ sudo mv upgrade_tool /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/bin/ - [user@nb-linuxfedora Linux_Upgrade_Tool_v1.24]$ sudo chown root:root /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/bin/upgrade_tool - [user@nb-linuxfedora Linux_Upgrade_Tool_v1.24]$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/bin/ - [user@nb-linuxfedora bin]$ -  ,    upgrade_tool      5.  Linux Upgrade Tool   &lt;update&gt;.img   (         ): [user@nb-linuxfedora bin]<span class="hljs-comment"><span class="hljs-comment"># sudo upgrade_tool -  ,       ,      Fedora,    .   Fedora 26       . ,   : libudev.so.1, libstdc++.so.6.          Linux    ,   Fedora : [user@linux]# dnf install libudev.so.1 installing: libcap-2.25-5.fc26.i686.rpm libgpg-error-1.25-2.fc26.i686.rpm xz-libs-5.2.3-2.fc26.i686.rpm systemd-libs-233-6.fc26.i686.rpm libgcc-7.2.1-2.fc26.i686.rpm libselinux-2.6-7.fc26.i686.rpm lz4-libs-1.8.0-1.fc26.i686.rpm libgcrypt-1.7.8-1.fc26.i686.rpm libsepol-2.6-2.fc26.i686.rpm pcre-8.41-1.fc26.i686.rpm [user@linux]# dnf install libstdc++.so.6 installing: libstdc++.i686 7.2.1-2.fc26   -   : [user@nb-linuxfedora bin]# sudo upgrade_tool : List of rockusb connected DevNo=1 Vid=0x2207,Pid=0x320a,LocationID=302 Loader Found 1 rockusb,Select input DevNo,Rescan press &lt;R&gt;,Quit press &lt;Q&gt;:1  "1"      .    uf. Rockusb&gt;uf Firefly-RK3288-Reload_DualBoot_201612101121.img : Loading firmware... Support Type:RK32 FW Ver:5.0.00 FW Time:2016-12-10 11:21:47 Loader ver:2.30 Loader Time:2016-10-13 10:04:54 ( ...) Upgrade firmware ok. Rockusb&gt;q</span></span></code> </pre> <br><h4>  Utiliser </h4><br>  Une fois le micrologiciel Firefly-RK3288 Reload r√©ussi, d√©branchez le c√¢ble USB.  Et vous pouvez connecter un moniteur, un clavier, une souris.  Et installez lui-m√™me le compilateur g ++.  Ubuntu LXDE pour Firefly dispose d'un bon ensemble de logiciels minimalement suffisant.  Bien s√ªr, le plus utile dans cette situation est le terminal.  Il y a aussi un moniteur syst√®me simple, un √©diteur de texte Leafpad, un clavier √† l'√©cran, un gestionnaire de fichiers, un lecteur multim√©dia, un navigateur Chromium et plus encore. <br><br>  Quelques captures d'√©cran: <br><br><img width="700" src="https://habrastorage.org/webt/bx/xn/t8/bxxnt8pcvxmkxqmz3rkbice0pek.png" alt="image"><blockquote>  Terminal et Leafpad </blockquote><img width="700" src="https://habrastorage.org/webt/98/k9/zv/98k9zv9chislx_pdeu8asthqrwy.png" alt="image"><blockquote>  Informations sur la version </blockquote>  Bien s√ªr, ne pouvait pas se passer d'une mouche dans la pommade.  La carte fonctionne en interne avec une r√©solution d'image Full HD et les captures d'√©cran sont enregistr√©es dans la m√™me r√©solution.  Mais sur la sortie HDMI, une image dans la r√©solution de seulement HD ready est envoy√©e au moniteur.  Par cons√©quent, l'image n'est bien s√ªr pas assez claire.  Mais une telle image fera l'affaire. <br><br><img width="700" src="https://habrastorage.org/webt/he/b1/io/heb1io1mnhkco0f5-xsqmhvocvg.jpeg" alt="image"><blockquote>  Un couple de films de bonne qualit√© n'est pas un probl√®me pour le RK3288, l'utilisation du processeur est d'environ 50%. </blockquote><h4>  Utilisation de p√©riph√©riques I2C et de broches GPIO </h4><br>  L'une des caract√©ristiques les plus pr√©cieuses de ces cartes est peut-√™tre la connexion de p√©riph√©riques via le bus I2C, √† l'aide de GPIO et d'autres interfaces.  Firefly RK3288 Reload poss√®de quatre bus I2C, m√™me cinq, mais le bus z√©ro est utilis√© pour les besoins internes de la carte, et les quatre autres - de 1 √† 4 sont divorc√©s pour √™tre utilis√©s par l'utilisateur. <br><br>  Le r√©seau poss√®de suffisamment d'informations g√©n√©rales sur l'utilisation de l'interface I2C.  Pour interagir avec les appareils I2C via le terminal, je recommande cet article: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">¬´I2C sur Cubieboard avec Lubuntu¬ª</a> , ils y utilisent un ¬´cube¬ª, mais ce n'est pas important. <br><br>  Et pour vous connecter aux p√©riph√©riques I2C par programmation, en utilisant la virtualisation de fichiers des bus I2C, vous pouvez recommander ceci: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">¬´Interfa√ßage avec les p√©riph√©riques I2C¬ª</a> . <br>  En tant que p√©riph√©rique, I2C a utilis√© un capteur de temp√©rature Microchip - MCP9808.  Sur le site Web du fabricant, il est facile de trouver une bonne sp√©cification de l'appareil.  Il s'agit de l'un des capteurs de la plus haute qualit√© et le plus cher du march√©, nettement plus rapide et plus pr√©cis que les capteurs des s√©ries TI et NXP LM. <br><br><img width="700" src="https://habrastorage.org/webt/dk/mu/gp/dkmugpu7y9cddhjucq0qldby3lm.jpeg" alt="image"><br><br>  J'ai utilis√© ce capteur d√©j√† soud√© √† la mini-carte CJMCU-9808.  Tout aussi avec Ebay - les capteurs et le c√¢blage Dupont - pour se passer de la soudure.  La connexion est assez simple: VCC - √† 3,3 V, GND - √† la terre, SCL et SDA impl√©mentent en fait le bus I2C (lignes d'horloge et donn√©es, respectivement), les broches A0 A1 A2 sp√©cifient une partie de l'adresse 7 bits du p√©riph√©rique I2C, ALERT peut, en principe, non utilisation, mais la ligne d'alarme sera encore impliqu√©e.  Sur la photo, le capteur de temp√©rature est connect√© au bus I2C 1, tous les contacts d'adresse sont tir√©s √† la masse, ce qui signifie un 0 logique dans le bit d'adresse correspondant, si le c√¢blage d'adresse est branch√© sur une alimentation de 3,3 V, alors ce bit sera logique 1. L'adresse de base de la puce MCP9808 est b0011 et en outre A2 A1 A0.  Seulement sept bits, dans ce cas - b0011000, c'est-√†-dire en hexad√©cimal - 0x18. <br><br>  Ainsi, l'utilitaire de console produira: <br><br><pre> <code class="bash hljs">root@firefly:/home/firefly<span class="hljs-comment"><span class="hljs-comment"># i2cdetect -y -r 1 0 1 2 3 4 5 6 7 8 9 abcdef 00: -- -- -- -- -- -- -- -- -- -- -- -- UU 10: -- -- -- -- -- -- -- -- 18 -- -- -- -- -- -- -- 20: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 30: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 40: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 50: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 60: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 70: -- -- -- -- -- -- -- --</span></span></code> </pre> <br>  On peut voir que sur le bus I2C num√©ro 1, il y a quelque chose avec l'adresse 0x18. <br><br>  Appeler: <br>  root @ firefly: / home / firefly # i2cget -y 1 0x18 0x05 w <br>  donnera, par exemple: 0xbc01 (ce qui signifie une temp√©rature de 27,75 C). <br><br>  Param√®tres du programme i2cget: 1 - num√©ro de bus;  0x18 - adresse connect√©e au bus d'appareil;  0x05 - enregistrer l'adresse (dans ce cas, la temp√©rature);  w - indique que le registre stocke 2 octets. <br><br>  Bien s√ªr, vous pouvez utiliser plus compl√®tement MCP9808 √† partir de votre propre programme C ++.  Gardez √† l'esprit que le contenu du registre de temp√©rature - 0xbc01 - est invers√©, c'est-√†-dire qu'il peut √™tre repr√©sent√© comme 0x01bc.  Le premier octet 0x01 contient trois bits de la cause de l'alarme, un bit du signe et quatre bits hauts de la temp√©rature.  Le deuxi√®me octet 0xbc contient les huit bits inf√©rieurs de la temp√©rature.  Microchip code le contenu du registre de temp√©rature en utilisant la m√©thode du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">format de compl√©ment √† deux</a> .  Le douzi√®me bit d'un registre √† deux octets code un caract√®re.  S'il est √©gal √† 0, la temp√©rature est positive.  Si le onzi√®me bit est 1, alors √† la temp√©rature ambiante calcul√©e, vous devez ajouter 2 au degr√© de 7 degr√©s Celsius - 2 ^ 7 (128 C), si - est √©gal √† 0, alors - rien ne doit √™tre ajout√©.  De m√™me, 1 dans le dixi√®me bit ajoutera 2 ^ 6 (64 C).  Et ainsi de suite, 1 dans le quatri√®me bit ajoutera 2 ^ 0 (1 C).  1 dans le troisi√®me bit ajoutera 2 ^ -1 (0,5 C).  1 dans le dernier bit z√©ro ajoutera 2 ^ -4 (0,0625 C).  Si le bit du signe (12) est 1, alors le <s>probl√®me est venu dans la maison, la</s> temp√©rature est n√©gative.  Et le d√©cryptage du registre est quelque peu compliqu√©.  Conform√©ment aux principes du format de compl√©ment √† deux, vous devez d'abord inverser les bits.  Ensuite, vous devez en ajouter un au bit le moins utilis√©, car  les valeurs n√©gatives ne sont pas cod√©es avec 0, mais avec -1.  Lors de la configuration du capteur de temp√©rature par d√©faut, la pr√©cision maximale est utilis√©e - jusqu'√† 0,0625 C. Dans ce cas, vous devez en ajouter un au dernier bit, qui est responsable de 0,0625 C. Autrement dit,  vous pouvez simplement ajouter 1 √† la valeur du registre de temp√©rature.  Si, par exemple, pour augmenter la vitesse, r√©duisez la pr√©cision de la mesure de temp√©rature √† l'aide du registre de configuration.  Ensuite, √† une temp√©rature n√©gative, vous devrez en ajouter un au bit le plus ancien ou ajouter un nombre correspondant √† ce bit.  Il faut ensuite traduire les bits en valeur de temp√©rature de la m√™me mani√®re que dans le cas positif. <br><br><h4>  Ligne GPIO et ALARM </h4><br><img width="330" src="https://habrastorage.org/webt/mc/le/cz/mcleczzcj2kplwqmwjybi9bjj34.jpeg" alt="image"><img width="330" src="https://habrastorage.org/webt/oh/iu/xn/ohiuxnx2h7fjljkxpuar9ipfhpa.jpeg" alt="image"><br><br>  Vous pouvez utiliser la ligne ALARME du capteur.  Y compris en utilisant l'une des lignes GPIO de Firefly.  Sur la photo, bien s√ªr, √©tamez et br√ªlez avec une LED archa√Øque et une r√©sistance, mais ici le principe lui-m√™me est important.  Comment utiliser GPIO est bien d√©crit dans un autre article sur Habr√©: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Linux: boutons, LED et GPIO</a> .  Mais comme il est correctement not√©, il est difficile de d√©terminer le num√©ro Gpio √† exporter pour une utilisation future.  Pour voir quelles lignes de Gpio sont occup√©es et lesquelles ne le sont pas, vous pouvez utiliser la commande: <br><br><pre> <code class="bash hljs">root@firefly:/home/firefly<span class="hljs-comment"><span class="hljs-comment"># cat /sys/kernel/debug/gpio &gt; /home/firefly/_temp/temp</span></span></code> </pre> <br>  L'√©quipe <br><br><pre> <code class="bash hljs">firefly@firefly:~$ dmesg</code> </pre> <br>  affiche √©galement des informations sur Gpio. <br><br>  L'√©tude a montr√© qu'il est possible d'exporter, par exemple, la broche GPIO num√©ro 262. Ce qui est indiqu√© sur la carte et dans la sp√©cification comme GPIO8 A6.  Parce que  dans cette carte, comme d'habitude, les blocs GPIO contiennent chacun 32 √©l√©ments.  On peut supposer que, peut-√™tre, la formule magique est la suivante: 32 * num√©ro de bloc GPIO + num√©ro du suffixe.  Donc, nous pouvons simplement obtenir 32 * 8 + 6 = 262. Maintenant, au d√©but du programme, nous pouvons fournir une alimentation de 3,3 V √† ce Gpio 262, et lorsque nous le quittons, arr√™tez de le faire. <br><br>  La sp√©cification pour MCP9808 indique que la ligne ALARME sur elle est √† drain ouvert, c'est-√†-dire  stock ouvert.  Cela signifie que lorsqu'une alarme se produit, cette ligne est court-circuit√©e √† la masse, sinon elle n'est pas court-circuit√©e.  La n√©cessit√© d'utiliser une r√©sistance est √©galement soulign√©e.  En pratique, il a √©t√© v√©rifi√© que cela est vraiment n√©cessaire, sinon, avec le passage du courant, l'int√©rieur du capteur sera chauff√© √† des temp√©ratures √©lev√©es.  Le sch√©ma suivant est montr√© sur la photo: GPIO est connect√© en s√©rie √† la LED, r√©sistance, drain ouvert (ALARME) du capteur.  Il reste √† utiliser le registre de configuration MCP9808 pour fixer les limites de temp√©rature admissibles.  Au-del√†, une alarme se d√©clenche.  Vous pouvez d√©finir deux niveaux de temp√©rature trop √©lev√©e et un niveau trop bas.  En g√©n√©ral, pour travailler avec ce capteur num√©rique, vous devez bien s√ªr lire attentivement les sp√©cifications, passer en mode de configuration, revenir en mode de travail, etc.  Ainsi, lorsque la temp√©rature d√©passe les limites d√©finies, le courant passe par le contact ALARME et allume la LED. <br><br><h4>  En conclusion </h4><br>  Je voudrais mentionner une astuce utile pour contr√¥ler la lueur des LED int√©gr√©es dans les cartes de d√©veloppement.  Les manuels de Cubieboard 6 montrent comment allumer LED1: <br><br><pre> <code class="bash hljs"><span class="hljs-variable"><span class="hljs-variable">$echo</span></span> default-on &gt; /sys/class/leds/led1-GPIOB9/trigger</code> </pre> <br>  Et comment √©teindre LED1: <br><br><pre> <code class="bash hljs"><span class="hljs-variable"><span class="hljs-variable">$echo</span></span> none &gt; /sys/class/leds/led1-GPIOB9/trigger</code> </pre> <br>  Sur cette base, il a √©t√© d√©couvert comment contr√¥ler les LED du Firefly 3288 Reload. <br>  Allumer la LED personnalis√©e jaune (en fait une LED bleue): <br><br><pre> <code class="bash hljs">root@firefly:/home/firefly<span class="hljs-comment"><span class="hljs-comment"># echo default-on &gt; /sys/class/leds/firefly:yellow:user/trigger</span></span></code> </pre> <br>  D√©sactiver cette LED: <br><br><pre> <code class="bash hljs">root@firefly:/home/firefly<span class="hljs-comment"><span class="hljs-comment"># echo none &gt; /sys/class/leds/firefly:yellow:user/trigger</span></span></code> </pre> <br><h4>  Pr√©cautions </h4><br>  Lors de la conception de cartes de d√©veloppement, il est important de faire preuve de prudence.  Le codage, bien s√ªr, a lieu sur un PC, avec beaucoup de d√©sir et de compilation crois√©e aussi.  Ensuite, le code source est compil√© sur une cible sp√©cifique ou un fichier ex√©cutable pr√™t √† l'emploi est transf√©r√© sur la carte.  Et si les cartes sp√©cialis√©es sont largement con√ßues pour utiliser toutes sortes d'interfaces.  Oui, et ils ne sont g√©n√©ralement pas tr√®s chers.  Sur les PC co√ªteux eux-m√™mes, il n'est pas recommand√© d'utiliser des bus I2C, des lignes GPIO et autres.  Cela peut entra√Æner des pannes informatiques d√©sagr√©ables.  Au moins, les utilitaires de console comme i2cget en avertissent explicitement, citant certains mod√®les d'ordinateurs portables endommag√©s √† titre d'exemple. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr412763/">https://habr.com/ru/post/fr412763/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr412751/index.html">Calvitie: Th√©orie et pratique du traitement, partie 1 "Ma dihydrotestost√©rone, mon ennemi"</a></li>
<li><a href="../fr412753/index.html">Lancer l'affichage sur STM32 via LTDC ... sur les registres</a></li>
<li><a href="../fr412755/index.html">Telegram a publi√© le serveur proxy MTProto officiel</a></li>
<li><a href="../fr412757/index.html">Ampoules LED au Japon</a></li>
<li><a href="../fr412759/index.html">Nouveau serveur proxy MTProto de Telegram</a></li>
<li><a href="../fr412765/index.html">Introduction au nouveau syst√®me de cartes de tuiles Unity</a></li>
<li><a href="../fr412767/index.html">Examen de la conf√©rence CMG Impact 2016</a></li>
<li><a href="../fr412769/index.html">J'ai fait PWA et l'ai mis dans trois app stores. Et voici ce que j'ai d√©couvert</a></li>
<li><a href="../fr412773/index.html">Astro-a√©rospatiale de Minsk</a></li>
<li><a href="../fr412775/index.html">Exp√©rience personnelle: passer du d√©veloppement C de bas niveau √† la programmation Java</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>