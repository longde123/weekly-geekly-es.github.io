<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕍 🕝 ⚽️ EcmaScript 10-今年的JavaScript（ES2019） 🕦 😘 🎆</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="JS标准化已转换为一年的更新周期，从今年初开始是周年纪念的最佳时机-第十届EcmaScript！ 


 ES 9是该规范的当前版本 。 


 ES 10仍然是草案 。 


 到目前为止， 第 4 阶段 ＃仅有一些建议。 


 第三阶段 -一打！ 


 在我看来，其中最有趣的是＃类的私有字段...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>EcmaScript 10-今年的JavaScript（ES2019）</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/437806/"><p>  JS标准化已转换为一年的更新周期，从今年初开始是周年纪念的最佳时机-第十届EcmaScript！ </p><br><p> <em>ES</em> 9是<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">该规范</a>的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">当前版本</a> 。 </p><br><p>  <em>ES</em> 10仍然是<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">草案</a> 。 </p><br><p> 到目前为止， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><em>第</em> <strong>4</strong> <em>阶段</em> <sup>＃</sup></a>仅有一些建议。 </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><em>第三阶段</em></a> -一打！ </p><br><p> 在我看来，其中最有趣的是<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><sup>＃</sup>类的私有字段，</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">脚本的shebang语法<sup>＃</sup></a> ， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">任意精度的数量<sup>＃</sup></a> ， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">对全局上下文的访问权<sup>＃</sup></a>和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">动态导入<sup>＃</sup></a> 。 </p><br><p><br><img src="https://habrastorage.org/webt/j-/g9/na/j-g9nan1y54iew_qzum-eodzfgw.png" alt="KDPV：黄色磁铁在监视器屏幕上刻有“ JS ES10”字样-来自kasper.green＆elfafeya.art"><br>  <sup>图片提供者：kasper.green;</sup>  <sup>黄色磁铁：elfafeya.art和kasper.green</sup> </p><a name="habracut"></a><br><h2 id="soderzhanie"> 目录内容 </h2><br><h3 id="pyat-stadiysup-suppyat-stadiy">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">五个阶段</a> </h3><br><h3 id="stage-4--finalsup-sup-stage-4">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">阶段4-决赛<sup>＃</sup></a> </h3><br><p> • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code><strong>catch</strong></code>参数已成为可选的<sup>＃</sup></a> ； </p><br><p>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code><strong>Symbol().description</strong></code> -符号<sup>＃</sup>的描述的访问器</a> ； </p><br><p>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code><strong>' EcmaScript'</strong></code> -改进了与<strong>JSON</strong>格式<sup>＃的</sup>兼容性</a> ； </p><br><p>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code><strong>.toString()</strong></code> -原型方法已更新<sup>＃</sup></a> 。 </p><br><p>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code><strong>Object.fromEntries()</strong></code> -从成对的数组中创建一个对象<code><strong>Object.fromEntries()</strong></code> \ value <sup>＃</sup></a> ; </p><br><p>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code><strong>.flat()</strong></code>和<strong><code>.flatMap()</code></strong>是原型<strong><code>.flatMap()</code></strong>方法</a> 。 </p><br><hr><br><h3 id="stage-3--pre-releasesup-sup-stage-3">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">阶段3-预发布</a> </h3><br><p>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code><strong>#</strong></code> -通过octotorp <sup>＃</sup> ，所有内容在班级中都是私有的</a> ； </p><br><p>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code><strong>#!/usr/bin/env node</strong></code> -脚本的shebang语法<sup>＃</sup></a> ; </p><br><p>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code><strong>BigInt()</strong></code> -一个新的原语，用于任意精度的数字<sup>＃</sup></a> ； </p><br><p>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code><strong>globalThis</strong></code> –一种访问全局上下文的新方法</a> 。 </p><br><p>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code><strong>import(dynamic)</strong></code> -动态导入<sup>＃</sup></a> ； </p><br><p>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code><strong>import.meta</strong></code>有关已加载模块<sup>＃的</sup>元信息</a> ； </p><br><p>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code><strong>JSON.stringify()</strong></code> -修复<sup>＃</sup>方法</a> ； </p><br><p>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code><strong>RegExp</strong></code>弃用的功能<sup>＃</sup></a> ； </p><br><p>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code><strong>.trimStart()</strong></code>和<strong><code>.trimEnd()</code></strong> -原型字符串方法</a> </p><br><p>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code><strong>.matchAll()</strong></code> -具有全局标志<sup>＃的</sup> <strong><code>.match()</code></strong></a> ； </p><br><h3 id="itogisup-supitogi">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">结果<sup>＃</sup></a> </h3><br><hr><br><h2 id="pyat-stadiy"> 五个阶段 </h2><br><p>  <sub><em>阶段</em></sub> <strong>0</strong> ↓ <strong>Strawman Basting</strong> <strong>一个</strong>想法，可以通过<strong>Babel-</strong> plugin实现。 </p><br><p>  <sub><em>阶段</em></sub> <strong>1</strong> ↓ <strong>提案</strong> <sup><strong>提案</strong></sup>可行性的验证。 </p><br><p>  <sub><em>第二阶段</em></sub> ↓ <strong>草案</strong> <sup><strong>草案</strong></sup>开始制定规范。 </p><br><p>  <sub><em>阶段</em></sub> <strong>3</strong> ↓ <strong>候选</strong> <sup><strong>候选</strong></sup>预览规范。 </p><br><p>  <sub><em>阶段</em></sub> <strong>4</strong> ֍已<strong>完成</strong>今年规范<sup><strong>的</strong></sup>最终版本已完成。 </p><br><hr><br><p> 我们将只考虑<em>第</em> <strong>4</strong> <em>阶段</em> -事实上的标准。 </p><br><p>  <em>第三阶段</em> -即将成为其中的一部分。 </p><br><hr><br><p></p><br><h2 id="-stage-4">  ֍第四阶段 </h2><br><p> 这些更改已经是标准的。 </p><br><h3 id="neobyazatelnyy-argument-u-catch">  <code>catch</code>可选参数 </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://github.com/tc39/proposal-optional-catch-binding</a> </p><br><p> 在<em>ES</em> 10之前，即使未使用<code>catch</code>需要使用必需的参数来收集错误信息： </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isValidJSON</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">text</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(text); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>(unusedVariable) { <span class="hljs-comment"><span class="hljs-comment">//    return false; } }</span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/ez/l2/2d/ezl22di9ciu-4g60nlqyuqne7lk.png"><br>  <sup><em>Edge</em>尚未升级到<em>ES</em> 10，并且可能因错误而崩溃。</sup> </p><br><p> 从<em>ES</em> 10版本开始，可以省略括号，并且<code>catch</code>将像<code>try</code>一样变成两滴水。 </p><br><p><img src="https://habrastorage.org/webt/yi/ia/qg/yiiaqgiclyxz_i7bf3gq14dj-8m.png"><br>  <sup>我的Chrome已更新为<em>ES</em> 10，在某些地方已更新为<em>Stage</em> <strong>3</strong> 。</sup>  <sup>进一步的屏幕截图将来自<em>Chrome</em></sup> </p><br><div class="spoiler">  <b class="spoiler_title">源代码</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isValidJSON</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">text</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(text); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> { <span class="hljs-comment"><span class="hljs-comment">//   return false; } }</span></span></code> </pre> </div></div><br><p><br></p><br><h2 id="dostup-k-opisaniyu-simvolnoy-ssylki"> 访问符号链接描述 </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://tc39.github.io/proposal-Symbol-description/</a> </p><br><p> 可以使用toString（）方法间接获得符号链接描述： </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> symbol_link = <span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>(<span class="hljs-string"><span class="hljs-string">"Symbol description"</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>(symbol_link) <span class="hljs-comment"><span class="hljs-comment">// "Symbol(Symbol description)"</span></span></code> </pre> <br><p> 从<em>ES</em> 10开始，字符的描述属性为只读。 它使您无需手鼓跳舞就能获得符号的描述： </p><br><pre> <code class="javascript hljs">symbol_link.description <span class="hljs-comment"><span class="hljs-comment">// "Symbol description"</span></span></code> </pre> <br><p> 如果未指定描述，它将返回<code>undefined</code> ： </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> without_description_symbol_link = <span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>() without_description_symbol_link.description <span class="hljs-comment"><span class="hljs-comment">// undefined const empty_description_symbol_link = Symbol('') empty_description_symbol_link.description // ""</span></span></code> </pre> <br><p><br></p><br><h3 id="stroki-ecmascript-sovmestimye-s-json"> 与JSON兼容的EcmaScript字符串 </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://github.com/tc39/proposal-json-superset</a> </p><br><p>  EcmaScript在其第十版之前声称<em>JSON</em>是<code>JSON.parse</code>的子集，但事实并非如此。 </p><br><p>  <em>JSON</em>行可以包含非屏蔽行分隔符<strong><code>U+2028</code></strong> <sup><em>LINE SEPARATOR</em></sup>和段落<strong><code>U+2029</code></strong> <sup><em>PARAGRAPH SEPARATOR</em></sup> 。 </p><br><p>  <em>ECMAScript排到</em>第十个版本-不。 </p><br><p> 如果在<em>Edge中</em>使用字符串<code>"\u2029"</code>调用<code>eval()</code> ， <br> 它的行为就像我们进行了换行一样-在代码中间： </p><br><p><img src="https://habrastorage.org/webt/vc/yg/-v/vcyg-vy7larz8y4kswiqinjhfh4.png"></p><br><p></p><br><p> 使用<em>ES</em> 10系列-一切都很好： </p><br><p><img src="https://habrastorage.org/webt/tc/he/tm/tchetmze4axxtp5wghm7pmz-0xc.png"></p><br><p><br></p><br><h3 id="dorabotka-prototipnogo-metoda-tostring"> 原型<code>.toString()</code>方法的细化 </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">http://tc39.github.io/Function-prototype-toString-revision/</a> </p><br><div class="spoiler">  <b class="spoiler_title">改变目标</b> <div class="spoiler_text"><ul><li> 删除向后不兼容的要求： </li></ul><br><blockquote> 如果实现无法创建满足这些条件的源代码字符串，则它必须返回一个字符串，eval将为该字符串引发语法错误的异常。 </blockquote><br><ul><li><p> 阐明“功能等效”的要求； </p><br></li><li><p> 标准化内置函数和宿主对象的字符串表示形式； </p><br></li><li><p> 根据对象的“实际特征”阐明表示要求； </p><br></li><li><p> 确保字符串的解析包含与原始字符串相同的函数主体和参数列表； </p><br></li><li><p> 对于使用ECMAScript代码定义的函数，toString应该返回源文本的片段，从对应于相应语法构造的第一个标记的开头到最后一个标记的结尾； </p><br></li><li><p> 对于内置的功能对象，toString不应返回任何内容，而NativeFunction则应； </p><br></li><li><p> 对于未使用ECMAScript代码定义的被调用对象，toString必须返回NativeFunction； </p><br></li><li><p> 对于动态创建的函数（函数或生成器构造函数），toString必须合成源文本； </p><br></li><li><p> 对于所有其他对象，toString应该抛出TypeError异常。 </p><br></li></ul></div></div><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//   function () { console.log('My Function!'); }.toString(); // function () { console.log('My Function!'); } //     Number.parseInt.toString(); // function parseInt() { [native code] } //     function () { }.bind(0).toString(); // function () { [native code] } //     Symbol.toString(); // function Symbol() { [native code] } //     Function().toString(); // function anonymous() {} //    - function* () { }.toString(); // function* () { } // .call   ,   ,  Function.prototype.toString.call({}); // Function.prototype.toString requires that 'this' be a Function"</span></span></code> </pre> <br><p><br></p><br><h3 id="sozdanie-obekta-metodom-objectfromentries"> 使用<code>Object.fromEntries()</code>方法创建对象 </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://github.com/tc39/proposal-object-from-entries</a> </p><br><p>  <sup><em>适用于Chrome</em></sup> </p><br><p> 来自<code>lodash</code>的<code>_.fromPairs</code>的<code>lodash</code> ： </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.fromEntries([[<span class="hljs-string"><span class="hljs-string">'key_1'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>], [<span class="hljs-string"><span class="hljs-string">'key_2'</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>]]) <span class="hljs-comment"><span class="hljs-comment">// {key_1: 1; key_2: 2}</span></span></code> </pre> <br><p><br></p><br><h3 id="odnomernye-massivy-s-flat-i-flatmap"> 具有<code>.flat()</code>和<code>.flatMap()</code>一维数组 </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://github.com/tc39/proposal-flatMap</a> </p><br><p>  <sup><em>适用于Chrome</em></sup> </p><br><p> 该数组获取了原型<code>.flat()</code>和<code>.flatMap()</code> ，它们通常与<em>lodash</em>实现相似，但仍存在一些差异。 可选参数-设置最大树遍历深度： </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> deep_deep_array = [ <span class="hljs-string"><span class="hljs-string">'≥0 —  '</span></span>, [ <span class="hljs-string"><span class="hljs-string">'≥1 —  '</span></span>, [ <span class="hljs-string"><span class="hljs-string">'≥2 —  '</span></span>, [ <span class="hljs-string"><span class="hljs-string">'≥3 —  '</span></span>, [ <span class="hljs-string"><span class="hljs-string">'≥4 —  '</span></span> ] ] ] ] ] <span class="hljs-comment"><span class="hljs-comment">// 0 —     deep_deep_array.flat(0) //  ["≥0 —  ", Array(2)] // 1 —    deep_deep_array.flat() //  [" ", " ", Array(2)] deep_deep_array.flat(2) //  [" ", " ", " ", Array(2)] deep_deep_array.flat(100500) // [" ", " ", " ", " ", " "]</span></span></code> </pre> <br><p>  <code>.flatMap()</code>等效于连续调用<code>.map().flat()</code> 。 传递给该方法的回调函数应返回一个数组，该数组将成为普通平面数组的一部分： </p><br><pre> <code class="javascript hljs">[<span class="hljs-string"><span class="hljs-string">'Hello'</span></span>, <span class="hljs-string"><span class="hljs-string">'World'</span></span>].flatMap(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">word</span></span></span><span class="hljs-function"> =&gt;</span></span> [...word]) <span class="hljs-comment"><span class="hljs-comment">// ["H", "e", "l", "l", "o", "W", "o", "r", "l", "d"]</span></span></code> </pre> <br><p> 仅使用<code>.flat()</code>和<code>.map()</code> ，可以将示例重写如下： </p><br><pre> <code class="javascript hljs"> [<span class="hljs-string"><span class="hljs-string">'Hello'</span></span>, <span class="hljs-string"><span class="hljs-string">'World'</span></span>].map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">word</span></span></span><span class="hljs-function"> =&gt;</span></span> [...word]).flat() <span class="hljs-comment"><span class="hljs-comment">// ["H", "e", "l", "l", "o", "W", "o", "r", "l", "d"]</span></span></code> </pre> <br><p> 另请注意，与<code>.flat()</code>不同， <code>.flat()</code>没有爬网深度设置。 因此，仅第一层将被粘合。 </p><br><p></p><br><hr><br><p><br></p><br><h2 id="-stage-3">  ֍第三阶段 </h2><br><p> 从草案状态中出现的提案，但尚未进入标准的最终版本。 </p><br><h3 id="privatnyestaticheskiepublichnye-metodysvoystvaatributy-u-klassov"> 私有\静态\公共方法\属性\类的属性 </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://github.com/tc39/proposal-class-fields</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://github.com/tc39/proposal-private-methods</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://github.com/tc39/proposal-static-class-features</a> <br></p><br><p> 在某些语言中，已达成协议，要求在可见的空间中调用私有方法<sup>（“ <strong>_</strong> ”-这样的一段，您可能会以错误的名称-下划线知道此符号）</sup> 。 </p><br><p> 例如，像这样： </p><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AdultContent</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $_age = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $_content = <span class="hljs-string"><span class="hljs-string">'…is dummy example content (•)(•) —3 (.)(.) only for adults…'</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($age)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_age = $age; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($name)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>($name === <span class="hljs-string"><span class="hljs-string">'content'</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">" (age: "</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_age.<span class="hljs-string"><span class="hljs-string">") → "</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_getContent().<span class="hljs-string"><span class="hljs-string">"\r\n"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'without info'</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_getContent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_contentIsAllowed()) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_content; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'Sorry. Content not for you.'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_contentIsAllowed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_age &gt;= <span class="hljs-number"><span class="hljs-number">18</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__toString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;content; } } <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"&lt;pre&gt;"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> strval(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AdultContent(<span class="hljs-number"><span class="hljs-number">10</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// (age: 10) → Sorry. Content not for you echo strval(new AdultContent(25)); // (age: 25) → …is dummy example content (•)(•) —3 only for adults… $ObjectAdultContent = new AdultContent(32); echo $ObjectAdultContent-&gt;content; // (age: 32) → …is dummy example content (•)(•) —3 only for adults… </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span></span></code> </pre><br><p> 让我提醒您-这只是一个协议。 没有什么可以阻止将前缀用于其他目的，使用其他前缀或根本不使用前缀。 </p><br><p>  <sup>就个人而言，我对使用可见空间作为返回<code>this</code>函数的前缀的想法印象深刻。</sup>  <sup>因此，它们可以组合成一个调用链。</sup> </p><br><p>  <em>EcmaScript</em>规范的开发人员走得更远，并将<strong>前缀octotorp</strong> <sup>（“ <strong>＃</strong> ” –</sup> <strong>晶格</strong> <sup>，哈希）</sup>作为语法的一部分。 </p><br><p>  <em>ES</em> 10上的先前示例可以重写如下： </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AdultContent</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//    #age = 0 #adult_content = '…is dummy example content (•)(•) —3 (.)(.) only for adults…' constructor(age) { this.#setAge(age) } //    static #userIsAdult(age) { return age &gt; 18 } //   get content () { return `(age: ${this.#age}) → ` + this.#allowed_content } //   get #allowed_content() { if(AdultContent.userIsAdult(this.age)){ return this.#adult_content } else { return 'Sorry. Content not for you.' } } //   #setAge(age) { this.#age = age } toString () { return this.#content } } const AdultContentForKid = new AdultContent(10) console.log(String(AdultContentForKid)) // (age: 10) → Sorry. Content not for you. console.log(AdultContentForKid.content) // (age: 10) → Sorry. Content not for you. const AdultContentForAdult = new AdultContent(25) console.log(String(AdultContentForAdult)) // (age: 25) → …is dummy example content (•)(•) —3 (.)(.) only for adults… console.log(AdultContentForAdult.content) // (age: 25) → …is dummy example content (•)(•) —3 (.)(.) only for adults…</span></span></code> </pre><br><p> 该示例不必要地复杂，无法一次演示私有属性，方法和属性。 但总的来说，与PHP版本相比，JS的简洁性令您大开眼界。 没有专用函数_...为您服务，在行的末尾没有分号，并且有一个点（而不是“-&gt;”）可以更深入地进入对象。 </p><br><p> 命名吸气剂。 对于动态名称，代理对象。 </p><br><p> 似乎有些琐事，但是切换到JS后，越来越少希望返回PHP。 </p><br><p> 顺便说一句，专用访问器仅在Babel 7.3.0及更高版本中可用。 </p><br><p> 在撰写本文时，npmjs.com的最新版本是7.2.2。 </p><br><p> 期待第四阶段！ </p><br><p><br></p><br><h3 id="shebang-grammatika"> 舍邦文法 </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://github.com/tc39/proposal-hashbang</a> </p><br><p>  Hashbang是Unix熟悉的为可执行文件指定解释器的一种方式： </p><br><pre> <code class="javascript hljs"><span class="hljs-meta"><span class="hljs-meta">#!/usr/bin/env node //   'use strict'; console.log(1);</span></span></code> </pre> <br><pre> <code class="javascript hljs"><span class="hljs-meta"><span class="hljs-meta">#!/usr/bin/env node //   export {}; console.log(1);</span></span></code> </pre> <br><p>  <sup><em>Chrome</em> <code>SyntaxError: Invalid or&amp;nbsp;unexpected token</code>在类似的<code>SyntaxError: Invalid or&amp;nbsp;unexpected token</code>上<code>SyntaxError: Invalid or&amp;nbsp;unexpected token</code></sup> <br><br></p><br><h3 id="bolshie-chisla-s-bigint">  BigInt大数字 </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://github.com/tc39/proposal-bigint</a> </p><br><div class="spoiler">  <b class="spoiler_title">浏览器支持</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/2z/zx/yy/2zzxyyqe3q713u_6bpsgfa0uwyo.png" alt="浏览器对BigInt（）原语的支持"></p></div></div><br><p> 可在JavaScript中安全使用的最大整数（2⁵³-1）： </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">Number</span></span>.MAX_SAFE_INTEGER) <span class="hljs-comment"><span class="hljs-comment">// 9007199254740991</span></span></code> </pre> <br><p>  BigInt需要使用任意精度数字。 </p><br><p> 可以通过几种方式声明此类型： </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//  'n'       910000000000000100500n // 910000000000000100500n //      BigInt()   BigInt( 910000000000000200500 ) // 910000000000000200500n //     -  BigInt( "910000000000000300500" ) // 910000000000000300500n //      1642  BigInt( "" ) \\</span></span></code> </pre> <br><p> 这是一个新的原始类型： </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> <span class="hljs-number"><span class="hljs-number">123</span></span>; <span class="hljs-comment"><span class="hljs-comment">// → 'number' typeof 123n; // → 'bigint'</span></span></code> </pre> <br><p> 可以与普通数字进行比较： </p><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">42</span></span>n === BigInt(<span class="hljs-number"><span class="hljs-number">42</span></span>); <span class="hljs-comment"><span class="hljs-comment">// → true 42n == 42; // → true</span></span></code> </pre> <br><p> 但是数学运算必须在一种类型内进行： </p><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">20000000000000</span></span>n/<span class="hljs-number"><span class="hljs-number">20</span></span>n <span class="hljs-comment"><span class="hljs-comment">// 1000000000000n 20000000000000n/20 // Uncaught TypeError: Cannot mix BigInt and other types, use explicit conversions</span></span></code> </pre><br><p> 支持一元减，一元加返回错误： </p><br><pre> <code class="javascript hljs"> <span class="hljs-number"><span class="hljs-number">-2</span></span>n <span class="hljs-comment"><span class="hljs-comment">// -2n +2n // Uncaught TypeError: Cannot convert a BigInt value to a number</span></span></code> </pre><br><p></p><br><h3 id="globalthis--novyy-sposob-dostupa-k-globalnomu-kontekstu">  <code>globalThis</code>访问全局上下文的新方法 </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://github.com/tc39/proposal-global</a> </p><br><p>  <sup><em>适用于Chrome</em></sup> </p><br><p> 由于全局范围的实现取决于特定的引擎，因此您必须在执行以下操作之前： </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> getGlobal = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> self !== <span class="hljs-string"><span class="hljs-string">'undefined'</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> <span class="hljs-built_in"><span class="hljs-built_in">window</span></span> !== <span class="hljs-string"><span class="hljs-string">'undefined'</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> global !== <span class="hljs-string"><span class="hljs-string">'undefined'</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> global; } <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>(<span class="hljs-string"><span class="hljs-string">'unable to locate global object'</span></span>); };</code> </pre> <br><p> 甚至这个选项也不能保证一切都会确定。 </p><br><p>  <code>globalThis</code>是所有平台访问全局范围的常用方式： </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//      globalThis.Array(1,2,3) // [1, 2, 3] //        globalThis.myGLobalSettings = { it_is_cool: true } //        globalThis.myGLobalSettings // {it_is_cool: true}</span></span></code> </pre> <br><p><br></p><br><h3 id="dinamicheskiy-importdynamic"> 动态<code>import(dynamic)</code> </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://github.com/tc39/proposal-dynamic-import</a> </p><br><div class="spoiler">  <b class="spoiler_title">浏览器支持</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/lx/66/nh/lx66nhte2i7jlnuuq_tdtpn-vdw.png" alt="浏览器对动态导入的支持"></p></div></div><br><p> 我想要导入行中的变量使用动态导入，这成为可能： </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span>(<span class="hljs-string"><span class="hljs-string">`./language-packs/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${navigator.language}</span></span></span><span class="hljs-string">.js`</span></span>)</code> </pre> <br><p> 动态导入是异步操作。 返回一个承诺，该承诺在加载模块后将其返回到回调函数。 </p><br><p> 因此，您可以加载模块-必要时推迟： </p><br><pre> <code class="javascript hljs">element.addEventListener(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> () =&gt; { <span class="hljs-comment"><span class="hljs-comment">//   await    const module = await import(`./events_scripts/supperButtonClickEvent.js`) module.clickEvent() })</span></span></code> </pre> <br><p> 从句法上讲，这看起来像是对<code>import()</code>函数的调用，但是它并不继承自<code>Function.prototype</code> ，这意味着它将无法通过<code>call</code>或<code>apply</code>调用成功： </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span>.call(<span class="hljs-string"><span class="hljs-string">"example this"</span></span>, <span class="hljs-string"><span class="hljs-string">"argument"</span></span>) <span class="hljs-comment"><span class="hljs-comment">// Uncaught SyntaxError: Unexpected identifier</span></span></code> </pre> <br><p><br></p><br><h3 id="importmeta--meta-informaciya-o-zagruzhaemom-module">  import.meta-有关已加载模块的元信息。 </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://github.com/tc39/proposal-import-meta</a> </p><br><p>  <sup><em>适用于Chrome</em></sup> </p><br><p> 在已加载模块的代码中，可以获得有关它的信息。 现在，这只是模块加载的地址： </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">import</span></span>.meta); <span class="hljs-comment"><span class="hljs-comment">// { url: "file:///home/user/my-module.js" }</span></span></code> </pre> <br><p><br></p><br><h3 id="fiks-metoda-jsonstringify">  <code>JSON.stringify()</code>方法<code>JSON.stringify()</code> </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://github.com/tc39/proposal-well-formed-stringify</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">RFC 8259的8.1</a>节要求在封闭的生态系统之外交换的<em>JSON</em>文本使用UTF-8进行编码，但是JSON.stringify可以返回包含未以UTF-8表示的代码点的字符串（特别是替代代码点）从U + D800到U + DFFF） </p><br><p> 因此，处理JSON.stringify（）之后的行<code>\uDF06\uD834</code>变成<code>\\udf06\\ud834</code> ： </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/*         */</span></span> <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify(<span class="hljs-string"><span class="hljs-string">'\uDF06\uD834'</span></span>) <span class="hljs-string"><span class="hljs-string">'"\\udf06\\ud834"'</span></span> <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify(<span class="hljs-string"><span class="hljs-string">'\uDEAD'</span></span>) <span class="hljs-string"><span class="hljs-string">'"\\udead"'</span></span></code> </pre> <br><p> 事实并非如此，新规范对此进行了修复。  <sup><em>Edge</em>和<em>Chrome</em>已经更新。</sup> </p><br><p><br></p><br><h3 id="ustarevshie-vozmozhnosti-regexp"> 不推荐使用的RegExp功能 </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://github.com/tc39/proposal-regexp-legacy-features</a> </p><br><p> 遗留<em>RegExp</em>函数的规范，例如<code>RegExp.$1</code>和<code>RegExp.prototype.compile()</code>方法。 </p><br><p><br></p><br><h3 id="prototipnye-metody-strok-trimstart-i-trimend"> 原型字符串方法<code>.trimStart()</code>和<code>.trimEnd()</code> </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://github.com/tc39/proposal-string-left-right-trim</a> </p><br><p>  <sup><em>适用于Chrome</em></sup> </p><br><p> 与方法<code>.padStart()</code>和<code>.padEnd()</code>类似，分别在行的开头和结尾处截断空白： </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> one = <span class="hljs-string"><span class="hljs-string">" hello and let "</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> two = <span class="hljs-string"><span class="hljs-string">"us begin. "</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log( one.trimStart() + two.trimEnd() ) <span class="hljs-comment"><span class="hljs-comment">// "hello and let us begin."</span></span></code> </pre> <br><p><br></p><br><h3 id="matchall--novyy-prototipnyy-metod-strok">  .matchAll（）是新的原型字符串方法。 </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://github.com/tc39/proposal-string-matchall</a> </p><br><p>  <sup><em>适用于Chrome</em></sup> </p><br><p> 类似于<code>.match()</code>方法，其<code>g</code>标志处于打开状态，但返回一个迭代器： </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> string_for_searh = <span class="hljs-string"><span class="hljs-string">'olololo'</span></span> <span class="hljs-comment"><span class="hljs-comment">//         string_for_searh.match(/o/) // ["o", index: 0, input: "olololo", groups: undefined] //       string_for_searh.match(/o/g) // ["o", "o", "o", "o"] //   string_for_searh.matchAll(/o/) // {_r: /o/g, _s: "olololo"} //        , //      .match    for(const item of string_for_searh.matchAll(/o/)) { console.log(item) } // ["o", index: 0, input: "olololo", groups: undefined] // ["o", index: 2, input: "olololo", groups: undefined] // ["o", index: 4, input: "olololo", groups: undefined] // ["o", index: 6, input: "olololo", groups: undefined]</span></span></code> </pre> <br><p> 参数必须是正则表达式，否则将引发异常： </p><br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">'olololo'</span></span>.matchAll(<span class="hljs-string"><span class="hljs-string">'o'</span></span>) <span class="hljs-comment"><span class="hljs-comment">// Uncaught TypeError: o is not a regexp!</span></span></code> </pre> <br><p><br></p><br><hr><br><p><br></p><br><h2 id="itogi"> 总结 </h2><br><p>  <em>第四阶段</em>带来了更多的外观变化。 兴趣是<em>阶段</em> <strong>3</strong> 。  <em>Chrome中的</em>大多数建议已经实现，并且对象的属性确实值得期待。 </p><br><p></p><br><hr><br><p></p><br><h2 id="ispravleniya-v-state"> 文章中的更正 </h2><br><p><br> 如果您发现文章中的错误，错误或需要补充的地方，可以给我写<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">一封个人信息</a> ，但是最好自己使用文章存储库<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://github.com/KasperGreen/es10</a> 。 为了做出积极的贡献，我将授予KDPV黄色磁铁奖章。 </p><br><h2 id="materialy-po-teme"> 相关资料 </h2><br><p> <sup><img src="https://habrastorage.org/storage3/2e2/522/737/2e2522737ec404a9f76047e108dfaea0.gif" alt="英文材料"></sup>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Ecma-262标准的当前版本</a> </p><br><p> <sup><img src="https://habrastorage.org/storage3/2e2/522/737/2e2522737ec404a9f76047e108dfaea0.gif" alt="英文材料"></sup>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Ecma-262标准的下一版本的草案</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ECMAScript</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">JavaScript中新的＃个私有类字段</a> </p><br><p> <sup><img src="https://habrastorage.org/storage2/c57/b92/af4/c57b92af4ee0d37f787c211a068b1b95.png" alt="关于哈布雷的文章"></sup>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ES7，ES8和ES9标准概述</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">舍邦</a> </p><br><p> <sup><img src="https://habrastorage.org/storage2/c57/b92/af4/c57b92af4ee0d37f787c211a068b1b95.png" alt="关于哈布雷的文章"></sup>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">BigInt-JavaScript中的长算术</a> </p><br><p> <sup><img src="https://habrastorage.org/storage2/c57/b92/af4/c57b92af4ee0d37f787c211a068b1b95.png" alt="关于哈布雷的文章"></sup>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">JavaScript模块路径</a> </p><br><p> <sup><img src="https://habrastorage.org/storage3/2e2/522/737/2e2522737ec404a9f76047e108dfaea0.gif" alt="英文材料"></sup>  <a href="">为什么不私人x</a> </p><br><p> <sup><img src="https://habrastorage.org/storage2/c57/b92/af4/c57b92af4ee0d37f787c211a068b1b95.png" alt="关于哈布雷的文章"></sup>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ECMAScript建议：Array.prototype。{Flat，flatMap}</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">公私课领域</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">JavaScript：整体优势</a> </p><br><hr><br><h3 id="upd-mart">  UPD（3月）： </h3><br><h4 id="smenili-status-na-stage-4"> 将状态更改为<em>Stage</em> - <strong>4</strong> ： </h4><br><p>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code><strong>.trimStart()</strong></code>和<strong><code>.trimEnd()</code></strong> -原型字符串方法</a> </p><br><p>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code><strong>.matchAll()</strong></code> -具有全局标志<sup>＃的</sup> <strong><code>.match()</code></strong></a> ； <br></p><br><p><img src="https://habrastorage.org/webt/nt/a4/y7/nta4y72u_f_kgtwon8jio9ghiwg.png" alt="带有黄色磁铁的替代KDPV，来自elfafeya.art"><br>  <sup>图片提供者：kasper.green;</sup>  <sup>黄色磁铁：elfafeya.art和kasper.green</sup> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN437806/">https://habr.com/ru/post/zh-CN437806/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN437794/index.html">快速可靠的数据备份到云2</a></li>
<li><a href="../zh-CN437796/index.html">AlphaStar是否已将超人速度实现为模拟训练错误的补丁？</a></li>
<li><a href="../zh-CN437800/index.html">但是在分析团队中：起飞之前</a></li>
<li><a href="../zh-CN437802/index.html">创新云技术：灾难性云</a></li>
<li><a href="../zh-CN437804/index.html">我可以在服务器上使用Redux吗？</a></li>
<li><a href="../zh-CN437808/index.html">性能和火焰图</a></li>
<li><a href="../zh-CN437810/index.html">企业现实</a></li>
<li><a href="../zh-CN437812/index.html">Xcode 10.2，macOS Mojave 10.14.4，iOS 12.1和其他Beta</a></li>
<li><a href="../zh-CN437814/index.html">Xcode 10.2，macOS Mojave 10.14.4，iOS 12.1和其他测试版</a></li>
<li><a href="../zh-CN437816/index.html">MPLS无处不在。 Yandex.Cloud网络基础架构如何</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>