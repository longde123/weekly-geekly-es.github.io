<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>❇️ 🧛 🤱🏿 Führen Sie die Desktop-Software auf dem Mikrocontroller aus 🧙🏿 🕠 🤴🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Embox nahm am TechTrain IT Festival teil. Wie beim ersten Mal haben wir die Eisenstücke mitgebracht und unsere Erfolge live gezeigt. Wir haben bereits...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Führen Sie die Desktop-Software auf dem Mikrocontroller aus</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/embox/blog/466379/"><img src="https://habrastorage.org/webt/hd/do/8b/hddo8b7znwo2uxyl3nocsgfxlye.png" align="right" width="320"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Embox</a> nahm am <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">TechTrain</a> IT Festival teil.  Wie beim <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ersten Mal haben wir</a> die Eisenstücke mitgebracht und unsere Erfolge live gezeigt.  Wir haben bereits über einige auf dem Habré geschrieben, aber man weiß nie wer :).  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">VoIP-Telefon</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Qt</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">OpenCV</a> wurden gezeigt, alle basierend auf STM32F7-Discovery.  Zusätzlich zum Stand haben wir drei Berichte erstellt.  Ich habe bereits Ideen des ersten über das offene Projekt auf einem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Habr beschrieben</a>  In diesem Artikel möchte ich die Ideen eines anderen Berichts erläutern, der als <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"Starten der Desktop-Software auf Mikrocontrollern" bezeichnet wurde</a> .  Wenn ich diese Gelegenheit nutze, erzähle ich Ihnen ein wenig über meine Gefühle bezüglich des Festivals. <a name="habracut"></a><br><br><h2>  TechTrain </h2><br>  Lassen Sie mich zunächst ein wenig über das Festival selbst erzählen.  Wer nicht interessiert ist, kann sofort zum Abschnitt „Starten der Desktop-Software auf dem Mikrocontroller“ zurückspulen. <br><br>  Das erste, was mir beim Festival aufgefallen ist, waren viele Leute.  Wir sind es leid, am Stand zu stehen, zu sprechen, eine Suche durchzuführen und zu kommunizieren.  Auf der anderen Seite war es sehr lustig und interessant, und vor allem haben wir viele positive Emotionen bekommen, zum Beispiel haben uns mehrere Leute gesagt, dass wir einen guten Blog im Hub haben :).  Die Festivalteilnehmer kamen aus verschiedenen Tätigkeitsbereichen und nicht einmal aus der IT, da der Slogan des Festivals "ein großartiges Festival für Entwickler, Ingenieure und Sympathisanten" lautet.  Es gab viele Kinder, ein Junge am Ende des Festivals zog eine Robotermaschine vom Stand und spielte damit.  Weder der Junge noch der Roboter wurden verletzt. <br><br>  Um die Breite des Publikums verständlicher zu machen, werde ich es anders veranschaulichen.  Auf dem Festival wurden viele Aktivitäten durchgeführt, eine davon war eine Suche.  Die Teilnehmer der Quest mussten zu den Ständen gehen, die erfundenen Aufgaben erledigen und einen Ausdruck erhalten.  Dafür hat jemand sogar einen ganzen Quadrocopter bekommen.  Aber jetzt geht es nicht darum.  Wir waren auch einer der Orte, an denen man ein Siegel bekommen konnte.  Wir hatten Aufgaben vorbereitet, einschließlich Fragen.  Die Fragen zu Open Source-Software und eingebetteten Systemen waren einfach.  Aber das Kontingent war so unterschiedlich, dass einige die Einfachheit der Frage ablehnten, während andere in eine Betäubung gerieten.  Das letzte Mal haben wir natürlich geholfen, erzählt (oder Google vorgeschlagen) über Dinge wie: "Wer sind die Schöpfer der C-Sprache", "Was ist berühmt für Linus Torvalds", "Was ist der Unterschied zwischen einem Mikroprozessor und einem Mikrocontroller" oder "Was ist ein Cross-Compiler".  Infolgedessen blieb niemand ohne Druck.  Übrigens war es ein wenig seltsam, aber verdächtig viele leicht zu entschlüsseln "GNU - GNU ist nicht Unix".  Wahrscheinlich für Stallman vorbereitet.  :) :) <br><br>  Der zweite folgt aus dem ersten.  Es gab Unterhaltung für ein sehr breites Publikum.  Zum Beispiel brachte Habr einen Sandkasten mit.  Es war zwar keine lokale Sandbox, in der man eine Einladung für einen Artikel erhalten konnte, aber es war möglich, sich darin zu suhlen.  Über Einladungen im Sandkasten habe ich nicht nachgedacht zu fragen, vielleicht haben sie wie in einem echten Sandkasten gegeben.  Es gab einen Club <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">alter Computer</a> , auf denen man spielen konnte, was viele taten.  Es gab Spielautomaten aus dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Museum der sowjetischen Spielautomaten</a> .  Die Sberbank bot einen Entspannungsbereich, in dem man auch schon in der Spielstation spielen konnte.  Es gab traditionelle Ja-IT-Kicker und viele andere Unterhaltungen.  Leider mussten wir arbeiten, daher spreche ich nur über das, was von unserem Stand aus sichtbar war. <br><br>  Die dritte und wahrscheinlich wichtigste Sache war, dass es den Organisatoren gelang, Vertreter praktisch aller Bereiche zu sammeln, von der Webentwicklung über verteilte Systeme bis hin zu Embedded-Systemen.  Von Entwicklern und anderen Technikern bis hin zu Mitarbeitern, die sich nur dafür interessieren, zum Beispiel Gamer (schließlich war es möglich, sich in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Romero</a> selbst zu hacken) oder DIY-Enthusiasten.  Es gab QS von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">COMAQA, es</a> gab Teamleiter von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Burning Lead</a> .  Es gab Gemeinden verschiedener Städte (Rostow, Twer, Krasnodar).  Infolgedessen waren die Berichte und Stände thematisch sehr unterschiedlich.  Unser Stand befand sich beispielsweise zwischen der Community der Teamleiter Burning Lead und dem Stand des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">St. Petersburg Club of IT Directors</a> . <br><br>  Infolgedessen näherten sich Menschen mit sehr unterschiedlichen Hintergründen unserem Stand, es gab Webentwickler und Dotnet-Wangen, es gab JS und Pluspunkte.  Jemand erinnerte sich, dass er noch an der Universität etwas am AVR gemacht hatte, jemand sagte, dass er Spaß mit RaPi oder Arduino hatte.  Es gab viele DotNet-Küken, viele fragten sich, ob wir ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">.NET Micro Framework hatten</a> .  Wir haben uns sogar überlegt, ihn nicht zu uns zu ziehen.  Erwartungsgemäß gab es viele Fragen zu Rust.  Kurz gesagt, meiner Meinung nach ist es den Organisatoren gelungen, die Idee des Festivals „Finde heraus, was andere leben!“ Ganz gut umzusetzen.  Wie bei jedem Festival geht es auch hier darum, andere zu sehen und sich zu zeigen :). <br><br>  Ja, Fotos werden hier nicht gegeben.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Einige Bilder</a> , darunter mit einem lebenden Jungen Volodya, können in unserer Gruppe angesehen werden.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Natürlich</a> versprachen sie in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">der Techtrain-Gruppe, eine</a> Reihe hochwertiger Fotos, mehr zu posten. <br><br><h2>  Starten Sie die Desktop-Software auf einem Mikrocontroller </h2><br>  Mein Bericht war eine Art Zusammenfassung der Ergebnisse einiger unserer Arbeiten zum Starten von Desktop-Software ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Qt</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">OpenCV</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">pjsip</a> ).  Der Bericht richtet sich an die breite Öffentlichkeit.  Für einen Habr werde ich versuchen, viele Details zu reduzieren, und für notwendige Dinge werde ich den Link oder die Schlüsselwörter für die Suche geben. <br><br>  Zunächst werde ich eine Art Agenda geben.  In der Tat wird es 3 Teile geben.  Zunächst werde ich die Schwierigkeiten beim Übertragen von Desktop-Software auf Mikrocontroller erläutern und dabei den Unterschied zwischen dem Mikrocontroller und dem Mikroprozessor erläutern.  Ich beantworte auch eine wichtige Frage, z. <s>B. Ziegenbajan</s> , warum Desktop-Software auf einem Mikrocontroller ausgeführt wird, und schließlich erkläre ich Ihnen, wie wir die Kosten für die Übertragung dieser "Desktop" -Software auf Mikrocontroller erheblich senken konnten. <br><br><h3>  Was ist der Unterschied zwischen Mikrocontrollern und Mikroprozessoren? </h3><br>  Eine unserer Fragen zur Suche klang also und vielleicht erschien unter dem Einfluss dieser ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel über einen typischen Programmierer, der</a> erklärte, wie sie sich unterscheiden.  Ich bin mit allem in dem Artikel einverstanden, aber wir werden versuchen, es in unseren eigenen Worten zu erklären und einige andere Akzente zu setzen. <br><br>  Was ist eine Micro Controller Unit (MCU)?  Wenn Sie sich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wikipedia</a> ansehen, können Sie verstehen, dass ein Mikrocontroller ein System auf einem Chip ist, dh ein Prozessor und Peripheriegeräte befinden sich in einem Chip. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Der Begriff System-on-a-Chip (System-on-a-Chip, SoC)</a> ist ein umfassenderes Konzept als ein Mikrocontroller.  Dies ist eine solche elektronische Schaltung, die in einen einzelnen Chip integriert ist, der einen Mikroprozessor (CPU) und Peripheriegeräte enthält.  In jedem Mobiltelefon befindet sich ein Chip, in dem sich neben mehreren Prozessorkernen eine Reihe von Peripheriegeräten befinden.  Sogar x86-Prozessoren enthalten jetzt Bridges und sogar GPU.  Ich möchte mich aber nicht auf eine klare Klassifizierung konzentrieren, sondern auf die Merkmale.  Jeder kennt diese Systeme auf einem Chip: <br><ul><li>  Verbrauchen Sie weniger </li><li>  Sind billiger </li><li>  Weniger produktiv </li></ul><br>  Nicht jeder weiß, dass sie durch die Reduzierung der Anzahl der Kontakte noch zuverlässiger sind und möglicherweise einen größeren Temperaturbereich haben. <br><br>  Der Mikrocontroller ist noch stärker integriert und enthält auch Speicher (RAM und ROM), der auch als Peripherie bezeichnet wird.  Dementsprechend bleiben die Eigenschaften erhalten, verbrauchen noch weniger, kosten noch weniger, noch weniger produktiv, noch zuverlässiger. <br><br>  Ich möchte ausführlicher über „noch weniger produktiv“ sprechen.  Tatsache ist, dass es einerseits richtig ist, eine moderne Allzweck-CPU oder einen SoC zu verwenden und eine deutlich höhere Leistung im sogenannten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DMIPS zu</a> erzielen.  Aber wenn Sie darüber nachdenken, warum so eine Leistung?  Als Beispiel gebe ich die Quake and Doom-Spiele (deren Schöpfer John Romero beim Festival war), sie haben auf dem Pentium MMX großartig funktioniert.  Die Leistung von Systemen, die auf dieser CPU basieren, wird jedoch bereits von Top-End-Mikrocontrollern blockiert.  Ich meine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">STM32F7</a> oder sogar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">STM32H7</a> .  Das heißt, basierend auf diesen MCUs ist es durchaus möglich, Anwendungen auf Doom- und Quake-Ebene auszuführen, was Ihrer Meinung nach überhaupt nicht schlecht ist. <br><br>  Lassen Sie uns über eine weitere Funktion der MCU sprechen - den internen Speicher.  Sie befindet sich, wie gesagt, direkt auf dem Chip und ist dementsprechend sehr schnell.  Aber sie ist natürlich nicht genug.  Aber wie wenig?  Der Mikrocontroller STM32F769 enthält 2 MB Flash (ROM) und 512 + 16 + 4 kB SRAM (RAM).  Darüber hinaus verfügt die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">STM32F769i-Disco-Karte</a> beispielsweise auch über einen externen Speicher (128-Mbit-SDRAM und 512-Mbit-Quad-SPI-Flash-Speicher), der direkt angesprochen wird.  Ich spreche nicht einmal über die Möglichkeit, eine SD-Karte oder einen USB-Anschluss anzuschließen.  Wenn Sie sich an den berühmten Satz erinnern, dass 640 KB für alle ausreichen sollten, stellt sich die vernünftige Frage: Warum ist moderne Desktop-Software so gefräßig?  Beispielsweise verbraucht ein Taschenrechner in Windows 10 im Standby-Betrieb bis zu 16 MB Speicher. <br><br>  Fahren wir mit der nächsten Funktion der MCU fort, dem Vorhandensein eines ROM.  Tatsächlich enthalten Systeme mit einer CPU auch ein ROM, die Ausführung beginnt damit, und das BIOS startet, aber der Rest der Software wird in den RAM geladen und von dort ausgeführt.  In eingebetteten Systemen ist es üblich, Code direkt auszuführen, der als eXecute-In-Place (XIP) bezeichnet wird. Linux unterstützt diesen Modus übrigens auch, aber die Hauptsache ist, alles in den Hauptspeicher zu laden und ihn sogar dann auszuführen.  Die Möglichkeit, direkt vom ROM aus auszuführen, ist aus zwei Gründen wichtig: Die erste ist die Harvard-Architektur. Durch die Trennung von Befehlsbus und Datenbus können Sie die Geschwindigkeit der Programmausführung erhöhen.  das zweite - natürlich wird weniger Speicher verschwendet, da zumindest ein Codesegment nirgendwo anders kopiert werden muss. <br><br>  Ein weiteres wichtiges Merkmal der MCU ist das Fehlen eines Moduls wie der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MMU</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dh</a> Mikrocontroller bieten keine Hardwareunterstützung für die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Verwaltung des virtuellen Speichers</a> .  In der MCU haben nicht alle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MPUs</a> , und der Code wird im selben Adressraum ausgeführt. Daher ist es schwierig, eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vollständige Fork ()</a> zu organisieren.  Aber fork () selbst, wie wir im Artikel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">„fork () vs.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vfork () ”ist ein</a> ziemlich schwerer Systemaufruf und kann aufgrund seiner Funktionalität in vielen Fällen durch vfork () oder posix_spawn () ersetzt werden. <br><br>  Zusammenfassend lässt sich sagen, wie sich Mikrocontroller von Mikroprozessoren unterscheiden: <br>  In Bezug auf Hardware: <br><ul><li>  Mikrocontroller verfügen über alle erforderlichen Peripheriegeräte einschließlich Speicher </li><li>  Mikrocontroller haben deutlich weniger Speicher </li><li>  Mikrocontroller haben keine Hardware-MMU </li><li>  Mikrocontroller haben eine niedrigere Taktrate und möglicherweise eine andere Prozessorarchitektur (Geschenkarchitektur) </li></ul><br><br>  In Bezug auf Verbrauchereigenschaften: <br><ul><li>  Mikrocontroller verbrauchen weniger Energie, können mit Batterie arbeiten </li><li>  Mikrocontroller sind billiger </li><li>  Mikrocontroller sind zuverlässiger </li><li>  Mikrocontroller sind weniger produktiv </li></ul><br><br><h3>  Warum Desktop-Software auf einem Mikrocontroller ausführen? </h3><br>  Daher sind MCUs weniger produktiv und ursprünglich für Steuerungsaufgaben vorgesehen (und vorgesehen).  Warum also Software ausführen, die für eine andere Klasse von Systemen entwickelt wurde?  Nun, auch wenn ihre Leistung für solche Aufgaben bereits ausreicht, können diese Aufgaben jedoch auf herkömmliche Weise für Mikrocontroller gelöst werden.  Das heißt, verschiedene kleine RTOS zu verwenden oder Code von Grund auf neu zu schreiben, was als Bare-Metal bezeichnet wird.  Es gibt eine offensichtliche Antwort: Anfangs waren die Verwaltungsaufgaben sehr einfach, jetzt steigen die Anforderungen an die Funktionalität rasant.  Selbst von einer schäbigen Glühbirne, die sie über das Internet kontrollieren wollen, spreche ich nicht über den Wasserkocher. Sie werden wahrscheinlich bald die Zusammensetzung des Tees entsprechend der Stimmung des Besitzers auswählen und die optimale Menge Wasser auf die optimale Temperatur erwärmen, um die Umweltsituation zu verbessern.  :) :) <br><br>  Daher ist es nicht verwunderlich, dass ständig versucht wird, die bereits entwickelte Software in Mikrocontrollern zu verwenden.  Einer der ersten und weithin bekannten Versuche, Linux auf kleinen Plattformen auszuführen, ist beispielsweise ucLinux, jetzt ist es der NOMMU-Modus, hauptsächlich Linux.  Die Idee war, Linux auf Hardwareplattformen ohne MMU auszuführen, aber wir haben herausgefunden, dass dies einer der Hauptunterschiede zwischen der CPU und der MCU ist. <br><br>  Kurz gesagt, die Vorteile der Verwendung von vorgefertigter Software: <br><ul><li>  Entwicklungskosten reduzieren </li><li>  Kürzere Markteinführungszeit </li><li>  Fehler im Code reduzieren.  Vorgefertigte Software ist zuverlässiger. </li></ul><br><br><h3>  Wie wir es bei Embox machen </h3><br>  Hier verstehen Sie, dass Sie sehr lange sprechen können, aber ich werde erneut versuchen, die Hauptpunkte in einer Arbeit und auf zugängliche Weise zu skizzieren. <br><br>  Der erste.  Embox verwendet das Mybuild-Build-System mit einer eigenen Sprache zur Beschreibung von Modulen und Systemen. Wir haben darüber im Artikel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">„Mybuild - ein Build-System für modulare Anwendungen“ geschrieben</a> .  Mit diesem Build-System können Sie nichts Überflüssiges in das Image aufnehmen, sondern nur das, was erforderlich ist.  Sie können die Systemmerkmale wirklich optimieren, um beispielsweise PJSIP auf STM32F7 auszuführen. Wir haben die Anzahl der Ethernet-Pakete auf 16 begrenzt, indem Sie einfach eine Zeile in die Konfigurationsdatei für das System geschrieben haben <br><pre><code class="cpp hljs">include embox.net.skbuff(amount_skb=<span class="hljs-number"><span class="hljs-number">16</span></span>)</code> </pre> <br>  Mybuild analysiert Abhängigkeiten und generiert verschiedene Artefakte, darunter Header-Dateien, Linker-Skripte und Makefiles.  All dies ermöglicht es, den Speicherbedarf erheblich zu reduzieren und die Teile, die überhaupt nicht verwendet werden, nicht einzubeziehen. <br><br>  Der zweite.  Offensichtlich muss Embox POSIX unterstützen und es wird unterstützt.  Darüber hinaus haben wir unsere eigene Standardbibliothek implementiert, da diese je nach Konfiguration des Systems ebenfalls neu erstellt werden muss. <br><br>  Der dritte.  Statische Verknüpfung.  Um Probleme mit einem einzelnen Adressraum zu vermeiden, die Bildgröße zu reduzieren und nur die erforderlichen Teile einzuschließen, verwenden wir einen statischen Link.  In verschiedenen Phasen werden verschiedene Teile des Systems zusammengesetzt, aber schließlich wird alles (der Kernel, alle Subsysteme, Bibliotheken und Anwendungen) zu einem einzigen Image verknüpft.  Es enthält alle Informationen zu allen Zeichen im Bild.  Und obwohl wir auf den ersten Blick viele Anwendungen mit Standardeintrittspunkten für int main (..) haben, sind dies im resultierenden Bild verschiedene Zeichen, die über die Befehlszeile auf dem System verfügbar sind. <br><br>  Viertens.  Wir mussten eine Laufzeit für C ++ implementieren, da viele gängige Anwendungen und Bibliotheken Vorteile nutzen. <br><br>  Fünftens.  Wir haben die Möglichkeit hinzugefügt, das Build-System zu verwenden <br><pre> <code class="bash hljs"> ./configure; make; make install</code> </pre> <br>  Nachdem Sie die Quelle von irgendwoher heruntergeladen und die erforderlichen Patches angewendet haben. <br><br><h3>  Fazit </h3><br>  Heute sind die funktionalen Anforderungen an Systeme, die zuvor an Mikrocontrollern gestellt wurden, erheblich gestiegen.  Es wird erwartet, dass Steuerungssysteme mit universellen Systemen kompatibel sind.  Die Eigenschaften von Mikrocontrollern sind ebenfalls erheblich gewachsen, sodass Sie Software mit den entsprechenden Funktionen darauf ausführen können.  In der Vergangenheit wurde Software für Mikrocontroller zu Optimierungszwecken für eine bestimmte Aufgabe geschrieben. Mit zunehmenden funktionalen Anforderungen müssen jedoch Ansätze aus der Welt der universellen Systeme angewendet werden, die die Zuverlässigkeit von Software erheblich erhöhen können, nämlich die Wiederverwendung von Modulen und die verteilte Entwicklung.  Universelle Software berücksichtigt zwar nicht die Merkmale eingebetteter Systeme, verfügt jedoch über eine wesentlich größere und gut funktionierende Funktionalität.  Daher bietet die Verwendung von Desktop-Software auf Mikrocontrollern einen Gewinn.  Einerseits können Sie eine billigere, zuverlässigere und kostengünstigere Hardwareplattform verwenden, andererseits werden die Kosten für die Entwicklung solcher Systeme erheblich reduziert. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de466379/">https://habr.com/ru/post/de466379/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de466365/index.html">Entwicklung eines monolithischen Unix-ähnlichen Betriebssystems - Erste Schritte (1)</a></li>
<li><a href="../de466367/index.html">Android API-Level, Abwärts- und Vorwärtskompatibilität</a></li>
<li><a href="../de466371/index.html">Die drei wichtigsten Verkaufsbedenken bei der Arbeit mit Trendtechnologien</a></li>
<li><a href="../de466373/index.html">Python TamTam Bot Entwicklung</a></li>
<li><a href="../de466375/index.html">Museum DataArt. KUVT2 - lernen und spielen</a></li>
<li><a href="../de466381/index.html">Wie sich Era LED-Lampen im Jahr 2019 verändert haben</a></li>
<li><a href="../de466383/index.html">Cryptocurrency Ocean: Überprüfung der 50 besten Projekte mit CoinMarketCap</a></li>
<li><a href="../de466385/index.html">Nachrichtenbroker verstehen. Erlernen der Mechanismen des Messaging über ActiveMQ und Kafka. Kapitel 1</a></li>
<li><a href="../de466397/index.html">Wir programmieren die Kassiererin neu und drucken darauf Keanu Reeves. Teil 2. PC-Software</a></li>
<li><a href="../de466401/index.html">Ein bisschen Finanzmathematik: Berechnung von Inflation und Zinsen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>