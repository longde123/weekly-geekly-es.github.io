<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë§ üëÉüèø ‚òùÔ∏è Gera√ß√£o de texto em russo por modelos üë®üèº‚Äçüé® üìÄ ‚úäüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Quando eu estava come√ßando a trabalhar no meu jogo de texto, decidi que uma de suas principais caracter√≠sticas deveria ser belas descri√ß√µes art√≠sticas...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Gera√ß√£o de texto em russo por modelos</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/471278/">  Quando eu estava come√ßando a trabalhar no meu jogo de texto, decidi que uma de suas principais caracter√≠sticas deveria ser belas descri√ß√µes art√≠sticas das a√ß√µes dos personagens.  Em parte, eu queria "salvar", porque n√£o sabia como agend√°-lo.  Salvar n√£o funcionou, mas resultou na biblioteca Python ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">github</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pypi</a> ) para gerar textos, levando em considera√ß√£o a depend√™ncia das palavras e seus recursos gramaticais. <br><br>  Por exemplo, no modelo: <br><blockquote> <b>[Her√≥i] [passou | her√≥i]</b> passou por um p√°tio discreto e de repente <b>[notou | her√≥i]</b> crian√ßas brincando.  Eles corriam com espadas de madeira, paus e m√°scaras de monstros.  De repente, um dos jogadores parou, colocou <b>[toy | hero.weapon | vn] [hero.weapon | vn]</b> , gritou: ‚Äú <b>[eu | her√≥i] [grande | her√≥i] [her√≥i]</b> !  Pegue!  - e correu para a "besta".  Ca√≠ram no ch√£o, pularam os bra√ßos e as pernas e depois se levantaram, tiraram as m√°scaras e riram.  <b>[Grunhido | her√≥i]</b> e <b>[ele mesmo | her√≥i] [Her√≥i]</b> , mas n√£o <b>[</b> come√ßou <b>| her√≥i]</b> <b>dirigido</b> ao pequenino. </blockquote>  Podemos obter o seguinte texto (as palavras em mudan√ßa est√£o em negrito): <br><blockquote>  <b>Hallr</b> <b>passou</b> por um p√°tio discreto e de repente <b>notou</b> crian√ßas brincando.  Eles corriam com espadas de madeira, paus e m√°scaras de monstros.  De repente, um dos jogadores parou, <b>estendeu uma espada dourada de brinquedo</b> e gritou: ‚Äú <b>Eu sou um √≥timo Hallr</b> !  Pegue!  - e correu para a "besta".  Ca√≠ram no ch√£o, pularam os bra√ßos e as pernas e depois se levantaram, tiraram as m√°scaras e riram.  <b>O</b> <b>pr√≥prio</b> <b>Hallr</b> <b>riu</b> , mas n√£o foi para o pequeno. </blockquote>  Ou assim: <br><blockquote>  <b>Fievara</b> <b>passou</b> por um p√°tio discreto e de repente <b>notou</b> crian√ßas brincando.  Eles corriam com espadas de madeira, paus e m√°scaras de monstros.  De repente, um dos jogadores parou, <b>colocou um brinquedo de catarro</b> e gritou: ‚Äú <b>Eu sou o grande Fievara</b> !  Pegue!  - e correu para a "besta".  Ca√≠ram no ch√£o, pularam os bra√ßos e as pernas e depois se levantaram, tiraram as m√°scaras e riram.  <b>A</b> <b>pr√≥pria</b> <b>Fievara</b> <b>resmungou</b> , mas n√£o foi para o pequeno. </blockquote><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Reservas para casais</b> <div class="spoiler_text">  <b>Isen√ß√£o de responsabilidade 1</b> .  Eu n√£o sou linguista e a biblioteca foi escrita "para trabalhar" e n√£o "para corresponder exatamente a todas as regras da l√≠ngua".  Portanto, pe√ßo desculpas antecipadamente por imprecis√µes na terminologia ou por uma interpreta√ß√£o incompleta das regras do idioma russo. <br><br>  <b>Isen√ß√£o 2</b> .  A biblioteca foi desenvolvida h√° cerca de 5 anos, agora podem aparecer meios alternativos de gera√ß√£o de texto (ou aumentar para um estado normal).  Por exemplo, algo interessante pode estar no software para localiza√ß√£o. <br></div></div><br><h2>  Sobre a complexidade da gera√ß√£o de texto </h2><br>  A l√≠ngua russa √© complexa em muitos de seus aspectos.  Em particular, as palavras t√™m um grande n√∫mero de formas morfol√≥gicas.  Por exemplo, os adjetivos podem ter uma forma completa e curta, variando por sexo, n√∫mero, caso, anima√ß√£o e grau de compara√ß√£o.  A escolha de um formul√°rio espec√≠fico depende de outras palavras na frase.  Dizemos "mulher bonita", mas "homem bonito".  A palavra ‚Äúbonito‚Äù neste caso depende das palavras ‚Äúhomem‚Äù / ‚Äúmulher‚Äù - sua forma √© determinada pelo g√™nero da palavra principal. <br><br>  Portanto, as dificuldades come√ßam quando tentamos entrar em contato com algu√©m com base em seu sexo.  Ao compilar textos para sites, cartas, jogos, √© preciso criar uma reda√ß√£o muito clara (evitando o sexo do usu√°rio), escrever v√°rios textos ao mesmo tempo ou usar linguagens de marca√ß√£o de v√°rios graus de versatilidade. <br><br>  Eu queria algo mais do que uma simples depend√™ncia do g√™nero do jogador, e mesmo assim os pr√≥prios usu√°rios poderiam adicionar novos textos (e o usu√°rio "m√©dio" √© bastante analfabeto, como todos sabemos :-)).  Portanto, n√£o encontrando o software certo, decidi fazer isso sozinho. <br><br><h2>  Recursos da biblioteca </h2><br>  O UTG (gerador de texto universal - n√£o √© um nome muito modesto) permite criar modelos para gerar texto com o seguinte: <br><br><ul><li>  vari√°veis ‚Äã‚Äã(por exemplo, nome do personagem); </li><li>  depend√™ncias de palavras em vari√°veis ‚Äã‚Äã(por exemplo, um adjetivo em um substantivo); </li><li>  Depend√™ncias de algumas vari√°veis ‚Äã‚Äãem outras; </li><li>  Propriedades expl√≠citas de palavras e vari√°veis ‚Äã‚Äã(por exemplo, voc√™ pode especificar que o nome do caractere seja inserido no caso pai); </li></ul><br>  Ao gerar texto a partir de um modelo: <br><br><ul><li>  As propriedades necess√°rias da palavra principal s√£o transferidas para palavras dependentes.  Por exemplo, o sexo de um substantivo √© transferido para o adjetivo. </li><li>  A forma das palavras dependentes √© consistente com os n√∫meros (levando em considera√ß√£o a forma das palavras dependentes). </li><li>  As preposi√ß√µes s√£o modificadas se necess√°rio (por exemplo, sobre mim / sobre voc√™), o pretexto para isso deve ser marcado. </li></ul><br>  Adicionalmente implementado: <br><br><ul><li>  Um dicion√°rio para armazenar as palavras necess√°rias. </li><li>  Um reposit√≥rio de modelos para armazen√°-los por tipo e escolher aleat√≥rios. </li></ul><br>  A biblioteca ‚Äúsabe‚Äù sobre a exist√™ncia de substantivos, adjetivos, pronomes, verbos, partic√≠pios, n√∫meros, preposi√ß√µes e ‚Äúaspas‚Äù (texto imut√°vel). <br><br>  As seguintes propriedades das palavras s√£o levadas em considera√ß√£o: parte da fala, caso, anima√ß√£o, n√∫mero, g√™nero, forma verbal, hora, pessoa, tipo, categoria de adjetivo, grau de adjetivo, grau de adjetivo, categoria de pronome, voz, forma de preposi√ß√£o, forma adjetiva, forma de partic√≠pio, forma substantiva ( al√©m da forma normal, os substantivos t√™m uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">contagem</a> ). <br><br><h2>  Formato do modelo e exemplo de uso </h2><br>  Vejamos um modelo simples: <br><blockquote>  Ontem <b>[mob] [mordido | mob] [her√≥i | ext]</b> . </blockquote>  Dependendo dos valores das vari√°veis, o modelo pode aparecer como uma frase: <br><blockquote>  Ontem, uma hiena mordeu Hallre. </blockquote>  so e so: <br><blockquote>  Os vaga-lumes morderam um fantasma ontem. </blockquote>  Considere o modelo em mais detalhes: <br><br><ul><li> <code></code> - texto simples. </li><li>  <code>[mob]</code> - uma vari√°vel, em vez da qual o nome do monstro √© substitu√≠do. </li><li>  <code>[|mob]</code> - uma palavra dependente de uma vari√°vel, parte de suas propriedades ser√° alterada dependendo das propriedades do nome do monstro (por exemplo, um n√∫mero).  O gerador de texto reconhece automaticamente as propriedades da forma da palavra e tenta salv√°-las (por exemplo, o tempo decorrido ser√° reconhecido e salvo, para que voc√™ n√£o precise especific√°-lo). </li><li>  <code>[hero|]</code> - uma vari√°vel, em vez da qual o nome do her√≥i √© substitu√≠do.  Al√©m disso, √© indicado que o nome deve estar no caso acusativo. </li></ul><br><div class="spoiler">  <b class="spoiler_title">Mais modelos de amostra.</b> <div class="spoiler_text">  Alguns exemplos t√©cnicos podem ser encontrados em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">testes</a> . <br><br>  Se voc√™ estiver interessado em mais exemplos, poder√° v√™-los no site de brinquedos.  Um link para ele pode ser encontrado vasculhando meu perfil ou escrevendo em um site pessoal. <br></div></div><br>  As palavras vari√°veis ‚Äã‚Äãe dependentes no modelo s√£o destacadas de forma id√™ntica e t√™m o seguinte formato: <br><br><ul><li>  <code>[</code> - colchete de abertura. </li><li>  <code></code> dependente de palavra ou identificador de vari√°vel.  O gerador primeiro verifica a presen√ßa de uma vari√°vel com esse nome; se n√£o houver, a palavra √© pesquisada no dicion√°rio. </li><li> <code>|</code>  - barra vertical - separador, necess√°rio se especificarmos propriedades adicionais. </li><li>  <code> </code> da vari√°vel - a vari√°vel da qual o formato da palavra depende pode estar ausente. </li><li> <code>|</code>  - barra vertical - separador, necess√°rio se especificarmos propriedades adicionais. </li><li>  <code>   </code> - uma descri√ß√£o da forma exigida da palavra (mai√∫sculas e min√∫sculas, sexo e assim por diante).  Uma lista deles pode ser encontrada nas p√°ginas do projeto no github e pypi. </li><li>  <code>]</code> √â o colchete de fechamento. </li></ul><br>  Voc√™ pode especificar quaisquer propriedades adicionais que desejar, elas ser√£o aplicadas na ordem da defini√ß√£o, por exemplo: <br><br> <code>[ 1| 2|,| 3|,,]</code> <br> <br>  Na maioria dos casos, os seguintes formatos s√£o suficientes: <br><br><ul><li>  <code>[]</code> - insira uma vari√°vel na forma normal (por exemplo, um substantivo no caso nominativo do singular). </li><li>  <code>[|]</code> - insira uma vari√°vel com as propriedades especificadas. </li><li>  <code>[|]</code> - insira uma palavra, combinando-a com uma vari√°vel (por exemplo, o adjetivo "beautiful" com um substantivo em gender e case). </li><li>  <code>[||]</code> - insira uma palavra, combinando-a com uma vari√°vel e especificando propriedades adicionais. </li></ul><br>  Observe: <br><br><ul><li>  A especifica√ß√£o de propriedades para palavras e vari√°veis ‚Äã‚Äã√© v√°lida apenas no local de inser√ß√£o; portanto, para obter a frase "her√≥i bonito", devemos indicar o caso acusativo explicitamente para duas palavras: <code>[|hero|] [hero|]</code> . </li><li>  O gerador de texto pode "adivinhar" as propriedades da palavra por sua forma, por exemplo, na frase <code>[hero] [|hero]</code> voc√™ pode omitir o tempo do verbo. </li><li>  As propriedades especificadas posteriormente substituem as propriedades especificadas anteriormente.  Por exemplo, na frase <code>[|hero] [hero|]</code> , o acusativo do adjetivo n√£o ser√° estabelecido, pois ser√° substitu√≠do pelo caso nominativo do vari√°vel her√≥i. </li><li>  Uma lista de propriedades de palavras pode ser encontrada nas p√°ginas da biblioteca no github e pypi. </li></ul><br><div class="spoiler">  <b class="spoiler_title">Exemplo de c√≥digo</b> <div class="spoiler_text">  Necess√°rio Python 3 <br><br>  Instala√ß√£o <br><br><pre> <code class="bash hljs">pip install utg python -m unittest discover utg</code> </pre><br>  C√≥digo <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> utg <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> relations <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> utg <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> dictionary <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> utg <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> words <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> utg <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> templates <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> utg <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> constructors <span class="hljs-comment"><span class="hljs-comment">####################################### #     ####################################### coins_forms = [#   '', '', '', '', '', '', #   '', '', '', '', '', '', #   (  , #     autofill_missed_forms) '', '', '', '', '', ''] # : ,   coins_properties = words.Properties(r.ANIMALITY.INANIMATE, r.GENDER.FEMININE) #      ,    coins_word = words.Word(type=r.WORD_TYPE.NOUN, forms=coins_forms, properties=coins_properties) #        . #      , #          : # - utg.data.WORDS_CACHES # - utg.data.INVERTED_WORDS_CACHES ############################## #     ############################## #       # (     utg.data.WORDS_CACHES[r.WORD_TYPE.VERB]) action_forms = (['', '', '', '', ''] + [''] * 15) # : ,   action_properties = words.Properties(r.ASPECT.PERFECTIVE, r.VOICE.DIRECT) action_word = words.Word(type=r.WORD_TYPE.VERB, forms=action_forms, properties=action_properties) #       (  ) action_word.autofill_missed_forms() ############################################## #       ############################################## test_dictionary = dictionary.Dictionary(words=[coins_word, action_word]) ################ #   ################ template = templates.Template() # externals ‚Äî  ,      template.parse('[Npc] [|npc] [hero|] [coins] [|coins|].', externals=('hero', 'npc', 'coins')) ############################## #    ############################## hero_forms = ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''] # : ,   hero_properties = words.Properties(r.ANIMALITY.ANIMATE, r.GENDER.MASCULINE) hero = words.WordForm(words.Word(type=r.WORD_TYPE.NOUN, forms=hero_forms, properties=hero_properties)) npc_forms = ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''] # : ,   npc_properties = words.Properties(r.ANIMALITY.ANIMATE, r.GENDER.FEMININE) npc = words.WordForm(words.Word(type=r.WORD_TYPE.NOUN, forms=npc_forms, properties=npc_properties)) ########################## #   ########################## result = template.substitute(externals={'hero': hero, 'npc': npc, 'coins': constructors.construct_integer(125)}, dictionary=test_dictionary) ########################## #  ########################## result == '   125 .'</span></span></code> </pre></div></div><br><h2>  Sobre dicion√°rios </h2><br>  Como voc√™ deve ter notado, o UTG requer a forma√ß√£o de um dicion√°rio.  Isso √© feito "pelas m√£os", pois no momento do desenvolvimento: <br><br><ul><li>  N√£o encontrei dicion√°rios morfol√≥gicos qualitativos geralmente acess√≠veis. </li><li>  A biblioteca de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pymorphy</a> ainda era a primeira vers√£o e, muitas vezes, era <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">apertada</a> (especialmente no caso acusativo), motivo pelo qual tive que abandon√°-la. </li></ul><br>  Se voc√™ deseja usar um gerador com muitas palavras, antes de conduzi-lo manualmente, tente usar o pymorphy2 ou procure um dicion√°rio pronto e exporte-o. <br><br><h2>  Total </h2><br>  Espero que a biblioteca seja √∫til. <br><br>  Se voc√™ tem id√©ias para o seu desenvolvimento (ou, melhor ainda, um desejo de participar) - escreva em uma mensagem pessoal, fa√ßa solicita√ß√µes, publique bugs no github. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt471278/">https://habr.com/ru/post/pt471278/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt471264/index.html">Escolhendo uma alternativa ao Mailchimp: por que mudar e qual produto escolher</a></li>
<li><a href="../pt471266/index.html">O futuro est√° aqui ou codificado diretamente no navegador</a></li>
<li><a href="../pt471268/index.html">Entendendo os Corretores de Mensagens. Aprendendo a mec√¢nica das mensagens atrav√©s do ActiveMQ e Kafka. Cap√≠tulo 2. ActiveMQ</a></li>
<li><a href="../pt471270/index.html">Automatizamos o recebimento de dados na velocidade de carregamento de um site do Google PageSpeed ‚Äã‚ÄãInsights [modelo]</a></li>
<li><a href="../pt471272/index.html">Os benef√≠cios da digita√ß√£o forte em C ++: experi√™ncia pr√°tica</a></li>
<li><a href="../pt471282/index.html">√Ä procura de pneumonia em raios-x com Fast.ai</a></li>
<li><a href="../pt471288/index.html">Criando o rosto de um personagem para o jogo "OnAir"</a></li>
<li><a href="../pt471294/index.html">Poemas sobre Haskell, C ++ e programadores</a></li>
<li><a href="../pt471296/index.html">Lean Manufacturing - uma ferramenta para a efici√™ncia</a></li>
<li><a href="../pt471298/index.html">Bieber e Bilan acenam com uma caneta. AI agora est√° cantando m√∫sicas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>