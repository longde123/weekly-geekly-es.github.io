<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üï¥Ô∏è üç± ‚úäüèæ Erstellen eines BEM-Projekts mit Webpack üôãüèª üå™Ô∏è üë∞</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Der Artikel konzentriert sich auf die Zusammenstellung von BEM-Projekten mit dem Webpack-Bundler. Ich werde ein Beispiel f√ºr eine Konfiguration zeigen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Erstellen eines BEM-Projekts mit Webpack</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/447560/"><p>  Der Artikel konzentriert sich auf die Zusammenstellung von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">BEM-Projekten</a> mit dem Webpack-Bundler.  Ich werde ein Beispiel f√ºr eine Konfiguration zeigen, ohne Leser mit unn√∂tigen Entit√§ten zu laden. </p><br><p>  Das Material ist f√ºr diejenigen geeignet, die gerade erst anfangen, sich mit BEM vertraut zu machen.  Zun√§chst werden wir die theoretischen Aspekte der Methodik ansprechen und im Abschnitt ‚ÄûPraxis‚Äú zeigen, wie sie angewendet werden k√∂nnen. </p><a name="habracut"></a><br><h3 id="nemnogo-teorii">  Ein bisschen Theorie </h3><br><p>  Wenn Sie zum ersten Mal von BEM h√∂ren und es selbst kennenlernen m√∂chten, bewahren Sie die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentation auf</a> . </p><br><p>  <strong>BEM</strong> ist eine Methode, mit der Projekte jeder Gr√∂√üenordnung organisiert werden.  Yandex entwickelte es und verwendete es zun√§chst nur f√ºr die Arbeit seiner Dienste, sp√§ter wurde es jedoch √∂ffentlich ver√∂ffentlicht. </p><br><p>  BEM steht f√ºr "Block, Element, Modifier". </p><br><p>  <strong>Block</strong> ist eine Entit√§t mit einer autonomen Architektur, die wiederverwendet werden kann.  Ein Block kann seine eigenen Elemente enthalten. </p><br><p>  <strong>Ein Element</strong> ist ein integraler Bestandteil eines Blocks.  Ein Element kann nur innerhalb des √ºbergeordneten Blocks verwendet werden. </p><br><p>  <strong>Ein Modifikator</strong> ist eine Entit√§t, die die Anzeige, den Status oder das Verhalten eines Blocks √§ndert. </p><br><p>  Diese Komponenten liegen der Methodik zugrunde.  Sie bieten Sch√∂nheit und bequeme Codetrennung.  Weitere Details zu ihrem Ger√§t finden Sie in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentation</a> . </p><br><p>  Die BEM-Dokumentation ist ausf√ºhrlich geschrieben.  Es gibt jedoch ein ‚ÄûAber‚Äú: eine hohe Schwelle f√ºr den Materialeintritt.  Wenn die Grundlagen des Layouts durch Lesen einer Seite der Dokumentation herausgefunden werden k√∂nnen, ist das Problem beim Zusammenstellen des Projekts komplizierter. </p><br><p>  Warum ging es darum, das Projekt zusammenzustellen?  Bei der Arbeit an einem Gro√üprojekt steht jeder vor dem Problem, Code zu organisieren.  Es ist unpraktisch, den gesamten Code eines gro√üen Projekts in einer Datei zu speichern.  Das Aufteilen von Code in mehrere Dateien und das anschlie√üende manuelle Kompilieren ist ebenfalls kein guter Ausweg.  Um dieses Problem zu l√∂sen, werden Kollektoren oder <em>B√ºndler</em> verwendet, die die Konvertierung des <em>Projektquellcodes</em> in Code automatisieren, der bereit ist, an die Produktion gesendet zu werden. </p><br><p>  Ich m√∂chte Sie daran erinnern: Es wird weiterhin davon ausgegangen, dass die Leser √ºber grundlegende Webpack-Kenntnisse verf√ºgen.  Wenn Sie noch nicht mit ihm gearbeitet haben, empfehle ich Ihnen, sich zuerst mit diesem Tool <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vertraut</a> zu machen. </p><br><p>  Die BEM-Dokumentation enth√§lt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Empfehlungen</a> f√ºr die Montage von Projekten.  Als Beispiele werden nur zwei Optionen angeboten: Montage mit ENB und Gulp. </p><br><p>  <strong>ENB</strong> ist ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dienstprogramm,</a> das speziell f√ºr die <strong>Erstellung von</strong> BEM-Projekten entwickelt wurde.  Sie ist in der Lage, sofort mit BEM-Entit√§ten zu arbeiten.  Aber schauen Sie sich den Code an.  Auf den ersten Blick kann er einen unvorbereiteten Entwickler demotivieren: </p><br><div class="spoiler">  <b class="spoiler_title">make.js</b> <div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> techs = { <span class="hljs-comment"><span class="hljs-comment">// essential fileProvider: require('enb/techs/file-provider'), fileMerge: require('enb/techs/file-merge'), // optimization borschik: require('enb-borschik/techs/borschik'), // css postcss: require('enb-postcss/techs/enb-postcss'), postcssPlugins: [ require('postcss-import')(), require('postcss-each'), require('postcss-for'), require('postcss-simple-vars')(), require('postcss-calc')(), require('postcss-nested'), require('rebem-css'), require('postcss-url')({ url: 'rebase' }), require('autoprefixer')(), require('postcss-reporter')() ], // js browserJs: require('enb-js/techs/browser-js'), // bemtree // bemtree: require('enb-bemxjst/techs/bemtree'), // bemhtml bemhtml: require('enb-bemxjst/techs/bemhtml'), bemjsonToHtml: require('enb-bemxjst/techs/bemjson-to-html') }, enbBemTechs = require('enb-bem-techs'), levels = [ { path: 'node_modules/bem-core/common.blocks', check: false }, { path: 'node_modules/bem-core/desktop.blocks', check: false }, { path: 'node_modules/bem-components/common.blocks', check: false }, { path: 'node_modules/bem-components/desktop.blocks', check: false }, { path: 'node_modules/bem-components/design/common.blocks', check: false }, { path: 'node_modules/bem-components/design/desktop.blocks', check: false }, 'common.blocks', 'desktop.blocks' ]; module.exports = function(config) { const isProd = process.env.YENV === 'production'; config.nodes('*.bundles/*', function(nodeConfig) { nodeConfig.addTechs([ // essential [enbBemTechs.levels, { levels: levels }], [techs.fileProvider, { target: '?.bemjson.js' }], [enbBemTechs.bemjsonToBemdecl], [enbBemTechs.deps], [enbBemTechs.files], // css [techs.postcss, { target: '?.css', oneOfSourceSuffixes: ['post.css', 'css'], plugins: techs.postcssPlugins }], // bemtree // [techs.bemtree, { sourceSuffixes: ['bemtree', 'bemtree.js'] }], // bemhtml [techs.bemhtml, { sourceSuffixes: ['bemhtml', 'bemhtml.js'], forceBaseTemplates: true, engineOptions : { elemJsInstances : true } }], // html [techs.bemjsonToHtml], // client bemhtml [enbBemTechs.depsByTechToBemdecl, { target: '?.bemhtml.bemdecl.js', sourceTech: 'js', destTech: 'bemhtml' }], [enbBemTechs.deps, { target: '?.bemhtml.deps.js', bemdeclFile: '?.bemhtml.bemdecl.js' }], [enbBemTechs.files, { depsFile: '?.bemhtml.deps.js', filesTarget: '?.bemhtml.files', dirsTarget: '?.bemhtml.dirs' }], [techs.bemhtml, { target: '?.browser.bemhtml.js', filesTarget: '?.bemhtml.files', sourceSuffixes: ['bemhtml', 'bemhtml.js'], engineOptions : { elemJsInstances : true } }], // js [techs.browserJs, { includeYM: true }], [techs.fileMerge, { target: '?.js', sources: ['?.browser.js', '?.browser.bemhtml.js'] }], // borschik [techs.borschik, { source: '?.js', target: '?.min.js', minify: isProd }], [techs.borschik, { source: '?.css', target: '?.min.css', minify: isProd }] ]); nodeConfig.addTargets([/* '?.bemtree.js', */ '?.html', '?.min.css', '?.min.js']); }); };</span></span></code> </pre> <br><p>  <em>Code aus dem √∂ffentlichen Repository von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">project-stub</a> .</em> </p></div></div><br><p>  Der ENB-Konfigurationscode wird offensichtlich f√ºr diejenigen kompliziert sein, die gerade erst anfangen, BEM zu verwenden. </p><br><p>  Die Dokumentation enth√§lt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vorgefertigte Einstellungen f√ºr den Kollektor</a> . Sie k√∂nnen verwendet werden, ohne auf die Details der Baugruppe einzugehen.  Aber was ist, wenn Sie wie ich ein vollst√§ndiges Bild davon haben m√∂chten, was mit dem Projekt w√§hrend des Builds passiert? </p><br><p>  Die BEM-Dokumentation erkl√§rt den Montageprozess in der Theorie gut, es gibt jedoch nur wenige praktische Beispiele und sie sind nicht immer f√ºr ein klares Verst√§ndnis des Prozesses geeignet.  Um dieses Problem zu l√∂sen, werde ich versuchen, ein elementares BEM-Projekt mit Webpack zu erstellen. </p><br><h3 id="praktika">  √úbe </h3><br><p>  Zuvor erw√§hnte ich, dass die Codetrennung und die Organisation der Assemblierung die Arbeit mit dem Projekt vereinfachten.  Im folgenden Beispiel stellen wir die Codetrennung mithilfe von BEM und deren Zusammenstellung mithilfe von Webpack bereit. </p><br><p>  Wir m√∂chten die einfachste Konfiguration erhalten, die Montagelogik sollte linear und intuitiv sein.  Lassen Sie uns eine Seite mit einem BEM-Block zusammenstellen, der zwei Technologien enth√§lt: CSS und JS. </p><br><p>  Sie k√∂nnen HTML-Code mit einem DIV mit der Klasse "block" schreiben und alle Technologien manuell verbinden.  Bei Verwendung der BEM-Klassennamen und der entsprechenden <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dateistruktur</a> versto√üen wir nicht gegen die Prinzipien der Methodik. </p><br><p>  Ich habe folgenden Projektbaum: </p><br><pre> <code class="bash hljs">‚îú‚îÄ‚îÄ desktop <span class="hljs-comment"><span class="hljs-comment">#   "desktop" ‚îÇ ‚îî‚îÄ‚îÄ block #  "block" ‚îÇ ‚îú‚îÄ‚îÄ block.css # CSS-  "block" ‚îÇ ‚îî‚îÄ‚îÄ block.js # JS-  "block" ‚îú‚îÄ‚îÄ dist # ,      ‚îú‚îÄ‚îÄ pages # ,       JS- ‚îÇ ‚îú‚îÄ‚îÄ index.html # ,     ‚îÇ ‚îî‚îÄ‚îÄ index.js #      index.html ‚îî‚îÄ‚îÄ webpack.config.js # - Webpack</span></span></code> </pre> <br><p>  Die erste Zeile bezieht sich auf die √úberschreibungsebene von "Desktop".  In der BEM-Terminologie sind <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Neudefinitionsebenen</a> Verzeichnisse, die ihre eigenen Blockimplementierungen enthalten.  Beim Zusammenstellen eines Projekts fallen Implementierungen aus allen Neudefinitionsebenen in einer bestimmten Reihenfolge in das endg√ºltige Paket. </p><br><p>  Zum Beispiel haben wir eine Neudefinitionsstufe von "Desktop", in der Blockimplementierungen f√ºr Desktop-Ger√§te gespeichert sind.  Wenn wir das Projekt durch ein Layout f√ºr mobile Ger√§te erg√§nzen m√ºssen, reicht es aus, eine neue Ebene der Neudefinition von "mobil" zu erstellen und es mit neuen Implementierungen derselben Bl√∂cke zu f√ºllen.  Der Vorteil dieses Ansatzes besteht darin, dass wir auf einer neuen Ebene der Neudefinition den Code, der bereits auf "Desktop" vorhanden ist, nicht duplizieren m√ºssen, da er automatisch eine Verbindung herstellt. </p><br><p>  Hier ist die Webpack-Konfiguration: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// webpack.config.js //    const path = require('path'); const opy = require('copy-webpack-plugin'); module.exports = { //  entry  output -       entry: path.resolve(__dirname, "pages", "index.js"), output: { filename: 'index.js', path: path.join(__dirname, 'dist') }, module: { rules: [ //    CSS- { test: /\.css$/, loader: 'style-loader!css-loader' } ] }, plugins: [ new opy([ //  HTML-      { from: path.join(__dirname, 'pages'), test: /\.html$/, to: path.join(__dirname, "dist") } ]) ] }</span></span></code> </pre> <br><p>  Hier geben wir die Datei <code>/pages/index.js</code> als Einstiegspunkt an, f√ºgen Loader f√ºr CSS-Stile hinzu und kopieren <code>/pages/index.html</code> nach <code>/dist/index.html</code> . </p><br><div class="spoiler">  <b class="spoiler_title">index.html</b> <div class="spoiler_text"><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"block"</span></span></span><span class="hljs-tag">&gt;</span></span>Hello, World!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"index.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">block.css</b> <div class="spoiler_text"><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.block</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: red; <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">24px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">text-align</span></span>: center; }</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">block.js</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementsByClassName(<span class="hljs-string"><span class="hljs-string">'block'</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>].innerHTML += <span class="hljs-string"><span class="hljs-string">" [This text is added by block.js!]"</span></span></code> </pre> </div></div><br><p>  Das Beispiel verwendet eine √úberschreibungsebene und einen Block.  Die Aufgabe besteht darin, die Seite so zusammenzustellen, dass die Technologien (css, js) unseres Blocks damit verbunden sind. </p><br><p>  Um Technologien zu verbinden, verwenden wir <code>require()</code> : </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// index.js require('../desktop/block/block.js'); require('../desktop/block/block.css');</span></span></code> </pre> <br><p>  Starten Sie Webpack und sehen Sie, was passiert.  √ñffnen Sie <code>index.html</code> aus dem Ordner <code>./dist</code> : </p><br><div class="spoiler">  <b class="spoiler_title">Seite Screenshot</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/jt/hn/mi/jthnmiunob5petfsjxx6aktp9wy.png"></p></div></div><br><p>  Blockstile wurden geladen, Javascript funktionierte erfolgreich.  Jetzt k√∂nnen wir die gesch√§tzten Buchstaben "BEM" zu Recht zu unserem Projekt hinzuf√ºgen. </p><br><p>  Zun√§chst wurde BEM f√ºr die Arbeit mit gro√üen Projekten entwickelt.  Stellen wir uns vor, unser Designer hat es versucht und auf der Seite ist jetzt nicht ein Block, sondern hundert.  Nach dem vorherigen Szenario verbinden wir die Technologien jedes Blocks manuell mit <code>require()</code> .  Das hei√üt, in index.js werden mindestens hundert zus√§tzliche Codezeilen angezeigt. </p><br><p>  Zus√§tzliche Codezeilen, die h√§tten vermieden werden k√∂nnen, sind schlecht.  Nicht verwendeter Code ist noch schlimmer.  Was ist, wenn auf unserer Seite nur 10 der verf√ºgbaren Bl√∂cke oder 20 oder 53 verf√ºgbar sind?  Der Entwickler muss zus√§tzliche Arbeit leisten: Er muss sich genau darauf konzentrieren, welche Bl√∂cke auf der Seite verwendet werden, und sie manuell verbinden und trennen, um unn√∂tigen Code im endg√ºltigen Bundle zu vermeiden. </p><br><p>  Gl√ºcklicherweise kann diese Arbeit Webpack anvertraut werden. </p><br><p>  Der optimale Aktionsalgorithmus zur Automatisierung dieses Prozesses: </p><br><ol><li>  W√§hlen Sie aus dem vorhandenen HTML-Code Klassen aus, die der BEM-Benennung entsprechen. </li><li>  Rufen Sie basierend auf den Klassen die Liste der auf der Seite verwendeten BEM-Entit√§ten ab. </li><li>  √úberpr√ºfen Sie, ob Verzeichnisse verwendeter Bl√∂cke, Elemente und Modifikatoren auf Neudefinitionsebenen vorhanden sind. </li><li>  Verbinden Sie die Technologie dieser Entit√§ten mit dem Projekt, indem Sie die entsprechenden <code>require()</code> Ausdr√ºcke hinzuf√ºgen. </li></ol><br><p>  Zun√§chst habe ich mich entschlossen zu pr√ºfen, ob es f√ºr diese Aufgabe fertige Bootloader gibt.  Ich habe kein Modul gefunden, das alle notwendigen Funktionen in einer Flasche bietet.  Aber ich bin auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">bemdecl-to-fs-loader gesto√üen</a> , der BEM-Deklarationen in <code>require()</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">-Ausdr√ºcke</a> konvertiert.  Es basiert auf Neudefinitionsebenen und Technologien, die in der Projektdateistruktur verf√ºgbar sind. </p><br><blockquote>  <strong>BEM-Deklaration</strong> - Eine Liste der auf der Seite verwendeten BEM-Entit√§ten.  Lesen Sie mehr dar√ºber in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentation</a> . </blockquote><p>  Ein Link fehlt - Konvertieren von HTML in ein Array von BEM-Entit√§ten.  Diese Aufgabe wird vom Modul <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">html2bemjson</a> gel√∂st. </p><br><blockquote>  <strong>bemjson</strong> - Daten, die die Struktur der zuk√ºnftigen Seite widerspiegeln.  Normalerweise werden sie von der bem-xjst-Vorlagen-Engine zum Erstellen von Seiten verwendet.  Die Syntax von bemjson √§hnelt der Syntax von Deklarationen, aber die Deklaration enth√§lt nur eine Liste der verwendeten Entit√§ten, w√§hrend bemjson auch deren Reihenfolge widerspiegelt. </blockquote><p>  bemjson ist keine Deklaration, daher konvertieren wir sie zuerst in das Deklarationsformat f√ºr die √úbertragung an bemdecl-to-fs-loader.  Verwenden Sie f√ºr diese Aufgabe das Modul aus dem SDK: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">bemjson-to-decl</a> .  Da es sich um regul√§re NodeJS-Module handelt, nicht um Webpack-Loader, m√ºssen Sie einen Wrapper-Loader erstellen.  Danach k√∂nnen wir sie zum Konvertieren in Webpack verwenden. </p><br><p>  Wir erhalten den folgenden Bootloader-Code: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> html2bemjson = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"html2bemjson"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> bemjson2decl = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"bemjson-to-decl"</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> content </span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (content == <span class="hljs-literal"><span class="hljs-literal">null</span></span> &amp;&amp; content == <span class="hljs-string"><span class="hljs-string">""</span></span>) callback(<span class="hljs-string"><span class="hljs-string">"html2bemdecl requires a valid HTML."</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> callback = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.async(); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> bemjson = html2bemjson.convert( content ); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> decl = bemjson2decl.convert( bemjson ); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(decl); <span class="hljs-comment"><span class="hljs-comment">//     callback(null, decl); }</span></span></code> </pre> <br><p>  Um die Installation des Bootloaders zu vereinfachen und in Zukunft Zeit zu sparen, habe ich das Modul auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">NPM</a> heruntergeladen. </p><br><p>  Lassen Sie uns den Bootloader in unserem Projekt installieren und √Ñnderungen an der Webpack-Konfiguration vornehmen: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> webpack = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'webpack'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> path = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'path'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> opy = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'copy-webpack-plugin'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = { <span class="hljs-attr"><span class="hljs-attr">entry</span></span>: path.resolve(__dirname, <span class="hljs-string"><span class="hljs-string">"pages"</span></span>, <span class="hljs-string"><span class="hljs-string">"index.js"</span></span>), <span class="hljs-attr"><span class="hljs-attr">output</span></span>: { <span class="hljs-attr"><span class="hljs-attr">filename</span></span>: <span class="hljs-string"><span class="hljs-string">'index.js'</span></span>, <span class="hljs-attr"><span class="hljs-attr">path</span></span>: path.join(__dirname, <span class="hljs-string"><span class="hljs-string">'dist'</span></span>) }, <span class="hljs-attr"><span class="hljs-attr">module</span></span>: { <span class="hljs-attr"><span class="hljs-attr">rules</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.html$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">use</span></span>: [ { <span class="hljs-comment"><span class="hljs-comment">//    bemdecl-to-fs-loader loader: 'bemdecl-to-fs-loader', //       options: { levels: ['desktop'], extensions: ['css', 'js'] } }, //      html2bemdecl-loader { loader: 'html2bemdecl-loader' } ] }, { test: /\.css$/, loader: 'style-loader!css-loader' } ] }, plugins: [ new opy([ { from: path.resolve(__dirname, 'pages'), test: /\.html$/, to: path.resolve(__dirname, "dist") } ]) ] }</span></span></code> </pre> <br><p>  Der <code>bemdecl-to-fs-loader</code> bootloader <code>levels</code> gibt an, welche √úberschreibungsebenen in welcher Reihenfolge verwendet werden sollen.  Die <code>extensions</code> geben die Dateitechnologie-Erweiterungen an, die in unserem Projekt verwendet werden. </p><br><p>  Anstatt Technologien manuell zu verbinden, f√ºgen wir daher nur eine HTML-Datei hinzu.  Alle notwendigen Konvertierungen werden automatisch durchgef√ºhrt. </p><br><p>  Ersetzen wir den Inhalt von index.js durch die Zeile: </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./index.html'</span></span>);</code> </pre> <br><p>  F√ºhren Sie nun Webpack aus.  Beim Zusammenbau wird die Linie angezeigt: </p><br><pre> <code class="javascript hljs">[ BemEntityName { <span class="hljs-attr"><span class="hljs-attr">block</span></span>: <span class="hljs-string"><span class="hljs-string">'block'</span></span> } ]</code> </pre> <br><p>  Dies bedeutet, dass die Bildung der Erkl√§rung erfolgreich war.  Wir sehen uns direkt die Ausgabe von Webpack an: </p><br><pre> <code class="plaintext hljs"> Entrypoint main = index.js [0] ./pages/index.js 24 bytes {0} [built] [1] ./pages/index.html 74 bytes {0} [built] [2] ./desktop/block/block.css 1.07 KiB {0} [built] [3] ./node_modules/css-loader/dist/cjs.js!./desktop/block/block.css 217 bytes {0} [built] [7] ./desktop/block/block.js 93 bytes {0} [built] + 3 hidden modules</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Seite Screenshot</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/7d/vj/9c/7dvj9c2y_s3w28rncbsfa1yem2m.png"></p></div></div><br><p>  Wir haben ein Ergebnis erhalten, das mit dem vorherigen identisch ist, mit dem Unterschied, dass alle Blocktechnologien automatisch verbunden wurden.  Im Moment reicht es aus, dem HTML-Code eine BEM-benannte Klasse hinzuzuf√ºgen, diesen HTML-Code mit <code>require()</code> und das entsprechende Verzeichnis mit den Verbindungstechnologien zu erstellen. </p><br><p>  Wir haben also eine Dateistruktur, die der BEM-Methodik entspricht, sowie einen Mechanismus zum automatischen Verbinden von Blocktechnologien. </p><br><p>  Ausgehend von den Mechanismen und Entit√§ten der Methodik haben wir eine √§u√üerst einfache, aber effektive Webpack-Konfiguration erstellt.  Ich hoffe, dieses Beispiel hilft jedem, der mit BEM vertraut wird, die Grundprinzipien f√ºr die Erstellung von BEM-Projekten besser zu verstehen. </p><br><h3 id="poleznye-ssylki">  N√ºtzliche Links </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GitHub-Projekt-Repository</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Vollst√§ndiger BEM-Leitfaden</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Empfehlungen f√ºr die Montage von BEM-Projekten</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Eine andere M√∂glichkeit, ein BEM-Projekt mit Webpack zu erstellen</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de447560/">https://habr.com/ru/post/de447560/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de447548/index.html">Wie gerechtfertigt ist die Einf√ºhrung von VDI in kleinen und mittleren Unternehmen?</a></li>
<li><a href="../de447552/index.html">So optimieren Sie Katalogabschnitte in einem Online-Shop: Schritt-f√ºr-Schritt-Anleitung</a></li>
<li><a href="../de447554/index.html">√úbersicht √ºber die neuen Funktionen von NestJS 6</a></li>
<li><a href="../de447556/index.html">Mypy-Erweiterung mit Plugins</a></li>
<li><a href="../de447558/index.html">Virtuelle Realit√§t - Spiel, Behandlung, Leben. VR-Technologie im Dienste der Rehabilitationsmedizin</a></li>
<li><a href="../de447562/index.html">Einf√ºhrung in das Reverse Engineering: Hacking-Spieldatenformat</a></li>
<li><a href="../de447564/index.html">√Ñnderungen der Repository-Autorisierung auf GitLab.com</a></li>
<li><a href="../de447566/index.html">Wissenschaftler zeigten zuerst ein echtes "Foto" eines Schwarzen Lochs</a></li>
<li><a href="../de447568/index.html">Interview mit dem Astronauten Alexander Laveikin √ºber Weltraumkino, √úberladungen von 20 Einheiten und sanfte Landung</a></li>
<li><a href="../de447570/index.html">GoLand 2019.1: Codeleistungsanalyse, Smart Step Into, Refactoring der Extraktschnittstelle, Nilness Analyzer und mehr</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>