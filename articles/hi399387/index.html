<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯдХ ЁЯС╕ЁЯП╗ ЁЯЩМЁЯП╗ рдШрд░ рдХрд╛ рдмрдирд╛ рдзреВрдореНрд░рдкрд╛рди рдорд╢реАрди тПк ЁЯСиЁЯП╝тАНЁЯПн ЁЯХ╖я╕П</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рд╕реНрдЯреАрдордкрдВрдХ рдХреЙрд╕рдкреНрд▓реЗ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХ рдзреВрдореНрд░рдкрд╛рди рдорд╢реАрди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдереА (рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ, рдмрд┐рдирд╛ рдзреБрдПрдВ рдХреЗ рд╕реНрдЯреАрдордкрдВрдХ?), рд▓реЗрдХрд┐рди рдпрд╣ рдкреНрд░рджрд░реНрд╢рди рдХреЗ рд╕реНрдерд╛рди рдкрд░ рдирд╣реАрдВ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдШрд░ рдХрд╛ рдмрдирд╛ рдзреВрдореНрд░рдкрд╛рди рдорд╢реАрди</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/399387/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реНрдЯреАрдордкрдВрдХ рдХреЙрд╕рдкреНрд▓реЗ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХ рдзреВрдореНрд░рдкрд╛рди рдорд╢реАрди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдереА (рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ, рдмрд┐рдирд╛ рдзреБрдПрдВ рдХреЗ рд╕реНрдЯреАрдордкрдВрдХ?), рд▓реЗрдХрд┐рди рдпрд╣ рдкреНрд░рджрд░реНрд╢рди рдХреЗ рд╕реНрдерд╛рди рдкрд░ рдирд╣реАрдВ рдерд╛ред </font><font style="vertical-align: inherit;">рджреЛ рдмрд╛рд░ рд╕реЛрдЪрдиреЗ рдХреЗ рдмрд┐рдирд╛, рдореИрдВрдиреЗ рддрд╛рдкрдорд╛рди рдирд┐рдпрдВрддреНрд░рдг, рд░рд┐рдореЛрдЯ рдХрдВрдЯреНрд░реЛрд▓ (рдИрдПрд╕рдкреА -12 рдИ рдирд┐рдпрдВрддреНрд░рдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛) рдФрд░ рдмреИрдЯрд░реА рдкрд╛рд╡рд░ рдХреЗ рд╕рд╛рде, рдЕрдкрдиреА рдЫреЛрдЯреА рд╕реА рдзреВрдореНрд░рдкрд╛рди рдорд╢реАрди рдмрдирд╛рдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ред </font><font style="vertical-align: inherit;">рдореИрдВрдиреЗ рддрд╛рдкрдорд╛рди рдорд╛рдк рдХреЗ рд╕рд╛рде рдкрд╣рд▓реЗ рд╕реЗ рд╡рд░реНрдгрд┐рдд рдзреБрдВрдз рдХреЗ рдЖрдзрд╛рд░ рдХреЗ рд░реВрдк рдореЗрдВ рд▓рд┐рдпрд╛, рд▓реЗрдХрд┐рди рдкреНрд░рджрд░реНрд╢рди рдореЗрдВ рд╕реБрдзрд╛рд░ рдХреЗ рд▓рд┐рдП рд╕рд░реНрдХрд┐рдЯ рдХреЛ рдереЛрдбрд╝рд╛ рдЬрдЯрд┐рд▓ рдХрд┐рдпрд╛ред</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Wt7n2YoJos8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рдмрд╕реЗ рдХрдард┐рди рддрддреНрд╡ рдкреНрд░реЛрдкрд▓реАрди рдЧреНрд▓рд╛рдЗрдХреЛрд▓ рдХреЗ рд╕рд╛рде рдЧреНрд▓рд┐рд╕рд░реЙрд▓ рдХреЗ рдорд┐рд╢реНрд░рдг рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд░реНрдкрд┐рд▓ рдФрд░ рдПрдХ рдлрд╝реАрдб рдкреНрд░рдгрд╛рд▓реА рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдерд╛ред рдХреБрдЫ рдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рдмрд╛рдж, рд╡рд╣ рд▓рдЧрднрдЧ 12 рдорд┐рдореА рдХреЗ рд╡реНрдпрд╛рд╕ рдХреЗ рд╕рд╛рде рдЫрд╣-рдореЛрдбрд╝ рд╡рд╛рд▓реЗ рд╕рд░реНрдкрд┐рд▓ рдкрд░ рд░реБрдХ рдЧрдпрд╛, рдПрдХ "рдмреЗрдиреА" рд╕реЗ рдШрд╛рд╡, 0.29 рдХреЗ рд╡реНрдпрд╛рд╕ рдХреЗ рд╕рд╛рде 7 рдЯрд╛рдЗрдЯреЗрдирд┐рдпрдо рдирд╕реЛрдВ рдХрд╛ рдПрдХ рд░реЗрдЯрд┐рдиреНрдпреВред рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдПрдХ рдореЛрдЯреА рддрд╛рд░ рд▓реЗрдирд╛ рдФрд░ "рдкрд┐рдЧрдЯреЗрд▓" рдХреЗ рдмрд┐рдирд╛ рдХрд░рдирд╛ рдмреЗрд╣рддрд░ рд╣реЛрдЧрд╛, рд▓реЗрдХрд┐рди рд╣рд╛рде рдореЗрдВ рд╕рд╛рдордЧреНрд░реА рдХрд╛ рдПрдХ рд╕реАрдорд┐рдд рдЪрдпрди рдерд╛ред рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк рд╕рд░реНрдкрд┐рд▓ рдореЗрдВ рд▓рдЧрднрдЧ рдЖрдзрд╛ рдУрдо рдХрд╛ рдкреНрд░рддрд┐рд░реЛрдз рд╣реЛрддрд╛ рд╣реИ, рдЬреЛ 240 рд╡рд╛рдЯ рдХреЗ 12 рд╡реЛрд▓реНрдЯ рдХреЗ рд▓рд┐рдП рд╕реИрджреНрдзрд╛рдВрддрд┐рдХ рд╢рдХреНрддрд┐ рджреЗрддрд╛ рд╣реИ (рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рддрд╛рдк рд╢рдХреНрддрд┐ рдХрдо рд╣реЛрдЧреА, рддрд╛рдкрдорд╛рди рдХреЛ 210-230 рдбрд┐рдЧреНрд░реА рдкрд░ рд░рдЦрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреЗ рдХрд╛рд░рдг)ред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдкрд┐рдЧрдЯреЗрд▓ рдФрд░ рд╡рд╛рдЗрдВрдбрд┐рдВрдЧ рдореЗрдВ рдореБрдбрд╝рдиреЗ рдХреЗ рдмрд╛рдж рд╕рд░реНрдкрд┐рд▓ рддрд╛рд░ (рдпрд╣ рдПрдХ рдЫреЛрдЯреЗ рд╡реНрдпрд╛рд╕ рдХреА рдЯреНрдпреВрдм рдкрд░ рд╣рд╡рд╛ рджреЗрдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЯрд╛рдЗрдЯреЗрдирд┐рдпрдо рдмрд╣реБрдд рд▓реЛрдЪрджрд╛рд░ рд╣реИ), рдХрд╛рд░реНрдмрдирд┐рдХ рд╕рдВрджреВрд╖рдХ (рдЙрдВрдЧрд▓рд┐рдпреЛрдВ рдФрд░ рдЗрд╕реА рддрд░рд╣ рд╕реЗ рдЧреНрд░реАрд╕) рдХреЛ рдЦрддреНрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмреИрдЯрд░реА рд╕реЗ рд▓рд╛рд▓ рдЧрд░реНрдореА рдореЗрдВ 12 рд╡реЛрд▓реНрдЯ рдХреА рдЖрдкреВрд░реНрддрд┐ (рдХреБрд▓реНрд▓рд╛) рдХрд░рдирд╛ рдмреЗрд╣рддрд░ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдЕрдВрджрд░ рдПрдХ рд╕рд░реНрдкрд┐рд▓ рдХреЗ рд╕рд╛рде рдЗрдВрдЬрди рддреЗрд▓ рд╕реЗ рднрд░реА рддрд╛рдВрдмреЗ рдХреА рдЯреНрдпреВрдм рдХреЗ рд░реВрдк рдореЗрдВ рдПрдХ рд╣реАрдЯрд░ рдмрдирд╛рдиреЗ рдХрд╛ рд╡рд┐рдЪрд╛рд░ рдерд╛, рдЬреЛ рд╣реАрдЯрд┐рдВрдЧ рдХреА рд▓рдЧрднрдЧ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдПрдХрд░реВрдкрддрд╛ рдХреА рдЧрд╛рд░рдВрдЯреА рджреЗрдЧрд╛ рдФрд░ рдмрд╣реБрдд рдЕрдзрд┐рдХ рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рд╣реАрдЯрд░ рдмрдирд╛ рджреЗрдЧрд╛, рд▓реЗрдХрд┐рди рдЗрд╕рдореЗрдВ рдХреЛрдИ рдЖрд╡рд╢реНрдпрдХ рд╕рд╛рдордЧреНрд░реА рдирд╣реАрдВ рдереА ред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореБрдЭреЗ рджреНрд░рд╡ рдХреА рдЖрдкреВрд░реНрддрд┐ рдХреЗ рд╕рд╛рде рдЯрд┐рдВрдХрд░ рдХрд░рдирд╛ рдкрдбрд╝рд╛, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдПрдХ рддрд░рдл, рдирд┐рд░рдВрддрд░ рдФрд░ рд╕рдорд╛рди рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП, рдФрд░ рджреВрд╕рд░реА рдУрд░, рдмрд╣реБрдд рдЕрдзрд┐рдХ рдирд╣реАрдВред рд╣рд╛рде рдореЗрдВ рдПрдХ рдкрд╛рдиреА рдХрд╛ рдкрдВрдк рдерд╛, рдЬрд┐рд╕рдХрд╛ рдХреЛрдИ рдкреНрд░рд╡рд╛рд╣ рдирд┐рдпрдВрддреНрд░рдг рдирд╣реАрдВ рдерд╛, рдЗрд╕рд▓рд┐рдП рдореИрдВ рдЕрдЧрд▓реЗ рдбрд┐рдЬрд╛рдЗрди рдкрд░ рдмрд╕ рдЧрдпрд╛ - рдПрдХ рдЫрд┐рджреНрд░рд┐рдд рд╕рд┐рд▓рд┐рдХреЙрди рдЯреНрдпреВрдм рдЬрд┐рд╕рдореЗрдВ 5 рдорд┐рдореА (1.2 рдорд┐рдореА рдбреНрд░рд┐рд▓ рдХреЗ рд╕рд╛рде рдбреЗрдврд╝ рджрд░реНрдЬрди рдЫреЗрдж) рд╣реЛрддреЗ рд╣реИрдВ, рдЬреЛ рдХрдкрд╛рд╕ рдКрди рдХреЗ рд╕рд╛рде рд▓рд┐рдкрдЯреЗ рд╣реЛрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдХреЗ рд╢реАрд░реНрд╖ рдкрд░ рдПрдХ рд╕рд░реНрдкрд┐рд▓ рд╕реНрдерд┐рдд рд╣реЛрддрд╛ рд╣реИред рдЪреВрдВрдХрд┐ рдкрдВрдк рдХрдкрд╛рд╕ рдХреЗ рдКрди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкреНрд░рд╡рд╛рд╣рд┐рдд рд╣реЛрдиреЗ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдмрд╣реБрдд рдЕрдзрд┐рдХ рддрд░рд▓ рдкрджрд╛рд░реНрде рдЪрд▓рд╛рддрд╛ рд╣реИ, рдЯреНрдпреВрдм рдХрд╛ рдЕрдВрдд рдЙрд╕реА рдЯреИрдВрдХ рдореЗрдВ рдЬрд╛рддрд╛ рд╣реИ рдЬрд╣рд╛рдВ рдкрдВрдк рд╕рдВрд░рдЪрдирд╛ рдХреЛ рдЙрдард╛рддрд╛ рд╣реИред рдЯреИрдВрдХ рдЕрдкрдиреЗ рдЖрдк рдореЗрдВ рдкреНрд░рд┐рдВрдЯрд░ рдкрд░ рдЫрдкреА рдПрдХ рд╕реНрдпрд╛рд╣реА рдлреИрд▓ рд╕реНрдпрд╛рд╣реАрдЬреЗрдЯ рд╣реИ, рдЬреЛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рд░реНрдкрд┐рд▓ рдХреЗ рдиреАрдЪреЗ рд╕реНрдерд┐рдд рд╣реИ рдФрд░ рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЗрд╕рд╕реЗ рдирд┐рдХрд▓рдиреЗ рд╡рд╛рд▓реА рддрд░рд▓ рдХреА рдмреВрдВрджреЛрдВ рдХреЛ рдПрдХрддреНрд░рд┐рдд рдХрд░рддрд╛ рд╣реИред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореБрдЭреЗ рдХрд╣рдирд╛ рд╣реЛрдЧрд╛ рдХрд┐ рд╕рд░реНрдкрд┐рд▓ рдХреЗ рдвреАрд▓реЗ рдлрд┐рдЯ рдХрдкрд╛рд╕ рдХреЗ рд▓рд┐рдП (рдпрд╛ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдмрд╣реБрдд рд▓рдВрдмреЗ рд╕рдордп рддрдХ рд╕рд░реНрдкрд┐рд▓ рдкрд░ рд╣реЛрддрд╛ рд╣реИ рдЬреЛ рддрд░рд▓ рдХреЗ рд╕рдВрдкрд░реНрдХ рдореЗрдВ рдирд╣реАрдВ рдЖрддреЗ рд╣реИрдВ) рдЕрд╕рдорд╛рди рд╣реАрдЯрд┐рдВрдЧ рдХрд╛ рдХрд╛рд░рдг рдмрдирддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдЬрд▓рддреА рд╣реБрдИ рдЧрдВрдз рд╣реЛрддреА рд╣реИ рдФрд░ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЖрдЧ рд▓рдЧ рд╕рдХрддреА рд╣реИред рдЗрд╕ рд╡рдЬрд╣ рд╕реЗ, рд╢рдХреНрддрд┐ рдХреЛ рд╕реАрдорд┐рдд рдХрд░рддреЗ рд╣реБрдП, рдмрд╣реБрдд рдмрдбрд╝реЗ рдпрд╛ рд▓рдВрдмреЗ рд╕рд░реНрдкрд┐рд▓ рдмрдирд╛рдирд╛ рдЕрд╕рдВрднрд╡ рд╣реИред рдЗрд╕рд▓рд┐рдП, рдХрд╛рд░реНрдпрдкреНрд░рдгрд╛рд▓реА рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдереА - рдЯреНрдпреВрдм рдореЗрдВ рдПрдХ рдЫреЗрдж рдкрд░ рдХрдкрд╛рд╕ рдКрди рдХрд╛ рдПрдХ рдЖрдпрдд рдШрд╛рд╡ рд╣реЛрддрд╛ рд╣реИ (рдпрд╣ рд╡реИрдкрд░реНрд╕ рдХреЗ рд▓рд┐рдП рджреБрдХрд╛рдиреЛрдВ рдореЗрдВ рдЗрд╕ рддрд░рд╣ рд╕реЗ рдмреЗрдЪрд╛ рдЬрд╛рддрд╛ рд╣реИ), рдлрд┐рд░ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк рдЯреНрдпреВрдм рдХреЗ рд╕рд╛рде рдХрдкрд╛рд╕ рд╕рд┐рд▓реЗрдВрдбрд░ рдХреЛ рдПрдХ рд╕рд░реНрдкрд┐рд▓ рдореЗрдВ рдЦрд░рд╛рдм рдХрд░ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреИрд╕реЗ рдХрд┐ рдереНрд░реЗрдб рдХреЗ рд░реВрдк рдореЗрдВред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЙрдиреНрд╣реЛрдВрдиреЗ рдПрдХ рдкреНрд░рд╢рдВрд╕рдХ рдХреЗ рд░реВрдк рдореЗрдВ 12-рд╡реЛрд▓реНрдЯ рдЯрд░рдмрд╛рдЗрди рд▓рд┐рдпрд╛, рдЬрд┐рд╕реЗ рд╢реМрдХ рдиреЗ рдХрд┐рд╕реА рддрд░рд╣ рдорд╛рддреНрд░ рдкреИрд╕реЗ рдХреЗ рд▓рд┐рдП рдмреЗрдЪ рджрд┐рдпрд╛ред рдкрдВрдк рдПрдХ рдЪреАрдиреА рдкрд╛рдиреА рдХрд╛ рдкрдВрдк рд╣реИ (рдЗрд╕ рддрдереНрдп рдХреЗ рдХрд╛рд░рдг рдХрд┐ рдпрд╣ 6 рд╡реЛрд▓реНрдЯ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдореБрдЭреЗ рдкрдВрдЦреЗ рдХреЗ рд╕рдорд╛рдирд╛рдВрддрд░ рдЬреБрдбрд╝рд╛ рд╣реБрдЖ рдПрдХ рдФрд░ рдбреАрд╕реА-рдбреАрд╕реА рдХрдирд╡рд░реНрдЯрд░ LM2596 рдореЗрдВ рдЬреЛрдбрд╝рдирд╛ рдерд╛)ред рдорд╢реАрди 40C рдХреА рд░реЗрдЯрд┐рдВрдЧ рдХреЗ рд╕рд╛рде 2.6 рдПрдореНрдкреАрдпрд░-рдШрдВрдЯреЗ рдХреА 3S Li-Pol рдмреИрдЯрд░реА рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЪрд╛рд▓рд┐рдд рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдбреНрд░рд╛рдЗрд╡рд┐рдВрдЧ:</font></font><br>
<br>
<img src="https://habrastorage.org/files/2b8/a22/240/2b8a22240b0d48dcaf608ba38136eff5.png" alt="рдЫрд╡рд┐"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдирд┐рдпрдВрддреНрд░рдг рдХреЛрдб рдХрд╛ рдПрдХ рдЯреБрдХрдбрд╝рд╛ (рдмрд▓реНрдХрд┐ рдореЛрдЯреЗ рд╕рдорд╛рдпреЛрдЬрди, рдореИрдВ рдкреАрдЖрдИрдбреА тАЛтАЛрдирд┐рдпрдВрддреНрд░рдХ рдФрд░ рдЗрд╕рдХреА рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЗ рд╕рд╛рде рдЧрдбрд╝рдмрдбрд╝ рдирд╣реАрдВ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛), рд╣рдо рд╣реАрдЯрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдЕрдВрддрд░рд╛рд▓ (10-20 рдорд┐рд▓реАрд╕реЗрдХрдВрдб рдореЗрдВ рдЕрдиреБрд╢рдВрд╕рд┐рдд) рдХреЗ рд╕рд╛рде рдкрд▓реНрд╕_рд╣реЗрдЯ_рдХреЛрдЗрд▓ () рдлрд╝рдВрдХреНрд╢рди рдХрд╣рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЕрдзрд┐рдХ рд╕рдЯреАрдХ рд╕рдорд╛рдпреЛрдЬрди рдХреЗ рд▓рд┐рдП - рдЖрдкрдХреЛ рдХрдо рд╕реЗ рдХрдо рдПрдХ рджреВрд╕рд░реЗ рдПрдбреАрд╕реА (рдмреИрдЯрд░реА рд╡реЛрд▓реНрдЯреЗрдЬ рдХреЛ рдорд╛рдкрдиреЗ рдХреЗ рд▓рд┐рдП) рдФрд░ рд╡рд╛рдИрдлрд╛рдИ рд╕реЗ рдПрдХ рдЕрд▓рдЧ рдирд┐рдпрдВрддреНрд░рдХ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ (рдЬреИрд╕рд╛ рдХрд┐ рдореИрдВрдиреЗ mods рдореЗрдВ stm32 рдФрд░ arduino рдорд┐рдиреА рдкреНрд░реЛ рдкрд░ vaping рдХреЗ рд▓рд┐рдП рд╡рд░реНрдгрд┐рдд рдХрд┐рдпрд╛ рд╣реИ)ред </font><font style="vertical-align: inherit;">рд╣реАрдЯрд░ рд╕реЗ рдХреБрдЫ рд╕реЗрдХрдВрдб рдкрд╣рд▓реЗ рдкрдВрдк рдХреЗ рд╕рд╛рде рдкрдВрдЦреЗ рдХреЛ рдЪрд╛рд▓реВ рдХрд░рдирд╛ рдФрд░ рдЕрдкреНрд░рд┐рдп рдШрдЯрдирд╛рдУрдВ рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕реЗ рдПрдХ рджрд░реНрдЬрди рд╕реЗрдХрдВрдб рдмрд╛рдж рдмрдВрдж рдХрд░рдирд╛ рдмреЗрд╣рддрд░ рд╣реИред</font></font><br>
<br>
<pre><code class="hljs cs"><span class="hljs-comment"><span class="hljs-comment">// Measure coil resistance (and put it into coil_input)</span></span>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> TEST_RESISTOR 25</span></span>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> HALF_PULSE_RANGE 1.6</span></span>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> STOP_PULSE_RANGE 1.7</span></span><font></font>
<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">float</span></span> coil_input_zero = <span class="hljs-number"><span class="hljs-number">0.001</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">float</span></span> coil_input_zero, batt_input, coil_resist;<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">measure_coil</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {
  <span class="hljs-comment"><span class="hljs-comment">// Measure battery voltage (only possible when heater on)</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (digitalRead(HEATER) == HIGH)<font></font>
    batt_input = analogRead(A0);<font></font>
<font></font>
  <span class="hljs-comment"><span class="hljs-comment">// Turn off heater</span></span>
  analogWrite(HEATER, <span class="hljs-number"><span class="hljs-number">0</span></span>);<font></font>
  digitalWrite(HEATER, LOW);<font></font>
  delayMicroseconds(<span class="hljs-number"><span class="hljs-number">10</span></span>);<font></font>
  <font></font>
  digitalWrite(TESTPIN, HIGH);<font></font>
  delayMicroseconds(<span class="hljs-number"><span class="hljs-number">10</span></span>);<font></font>
  coil_input = analogRead(A0);<font></font>
  digitalWrite(TESTPIN, LOW);<font></font>
  delayMicroseconds(<span class="hljs-number"><span class="hljs-number">10</span></span>);
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (coil_input_zero == <span class="hljs-number"><span class="hljs-number">0.001</span></span>)<font></font>
    coil_input_zero = coil_input;<font></font>
<font></font>
  coil_resist = TEST_RESISTOR * ((<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>) coil_input / (<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>) batt_input - <span class="hljs-number"><span class="hljs-number">1</span></span>);<font></font>
} <span class="hljs-comment"><span class="hljs-comment">// void measure_coil()</span></span><font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">// Make coil heating pulse with thermocontrol</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pulse_heat_coil</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> pulse_delay</span></span></span><span class="hljs-function">)</span></span> {
  <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> curr = (<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>) coil_input / (<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>) coil_input_zero;<font></font>
  <font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((coil_input &lt; <span class="hljs-number"><span class="hljs-number">1023</span></span>) &amp;&amp; (curr &lt; STOP_PULSE_RANGE)) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (curr &gt; HALF_PULSE_RANGE)<font></font>
      analogWrite(HEATER, PWMRANGE / <span class="hljs-number"><span class="hljs-number">2</span></span>);
    <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> 
      analogWrite(HEATER, PWMRANGE<span class="hljs-number"><span class="hljs-number">-1</span></span>);<font></font>
    delay(pulse_delay - <span class="hljs-number"><span class="hljs-number">1</span></span>);<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    analogWrite(HEATER, <span class="hljs-number"><span class="hljs-number">0</span></span>);<font></font>
    digitalWrite(HEATER, LOW);<font></font>
    delay(pulse_delay - <span class="hljs-number"><span class="hljs-number">1</span></span>);<font></font>
  }<font></font>
<font></font>
  delayMicroseconds(<span class="hljs-number"><span class="hljs-number">50</span></span>);<font></font>
  measure_coil();<font></font>
} <span class="hljs-comment"><span class="hljs-comment">// void pulse_heat_coil(int pulse_delay)</span></span></code></pre><br>
</div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi399387/">https://habr.com/ru/post/hi399387/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi399377/index.html">рд╢реАрд░реНрд╖ 10 рдмреНрд▓реИрдХ рдлреНрд░рд╛рдЗрдбреЗ рд╕реМрджреЗ</a></li>
<li><a href="../hi399379/index.html">рд╡рд┐рд╢реНрд╡ рдорд╣рд╛рдорд╛рд░реА рдХрд╛ рдЗрддрд┐рд╣рд╛рд╕, рднрд╛рдЧ 2</a></li>
<li><a href="../hi399381/index.html">рдиреНрдпреВрдпреЙрд░реНрдХ рдЯрд╛рдЗрдореНрд╕: рдлреЗрд╕рдмреБрдХ рдЪреАрди рд▓реМрдЯрдиреЗ рдХреЗ рд▓рд┐рдП рд╕реЗрдВрд╕рд░рд╢рд┐рдк рдЯреВрд▓ рдмрдирд╛рдПрдЧрд╛</a></li>
<li><a href="../hi399383/index.html">MIT рдХреГрддреНрд░рд┐рдо рдирд╛рдпрд▓реЙрди рдорд╛рдВрд╕рдкреЗрд╢реА рдлрд╛рдЗрдмрд░ рдмрдирд╛рддрд╛ рд╣реИ</a></li>
<li><a href="../hi399385/index.html">рдЗрд▓реЗрдХреНрдЯреНрд░реЛрдореИрдХреЗрдирд┐рдХрд▓ рдбрд┐рдЬрд╛рдЗрдирд░ рд░реЙрдмрд░реНрдЯреНрд╕-рдПрдХреНрд╕рдПрдХреНрд╕рдЖрдИ</a></li>
<li><a href="../hi399389/index.html">рдПрдХ рд╡рд┐рджреЗрд╢реА рдЕрдВрддрд░рд┐рдХреНрд╖ рдпрд╛рди рдХреИрд╕реЗ рдХрд╛рдо рдХрд░ рд╕рдХрддрд╛ рд╣реИ?</a></li>
<li><a href="../hi399391/index.html">рдЪрд╛рд░-рдмрд┐рдЯ рдХрд╛рд░реНрдбрдмреЛрд░реНрдб рдФрд░ рдмреЙрд▓ рдХреИрд▓рдХреБрд▓реЗрдЯрд░</a></li>
<li><a href="../hi399395/index.html">рд╕реНрдЯреАрдо рдСрдЯрдо рд╕реЗрд▓ рдФрд░ рдкрд╣рд▓рд╛ рд╕реНрдЯреАрдо рдЕрд╡рд╛рд░реНрдб</a></li>
<li><a href="../hi399397/index.html">48GII рдореЗрдВ HP 39GS рдкреНрд░реЛрдЧреНрд░рд╛рдореЗрдмрд▓ рдХреИрд▓рдХреБрд▓реЗрдЯрд░ рдХрд╛ рд░реАрдореЗрдХ</a></li>
<li><a href="../hi399399/index.html">рдПрдЪрдЖрдИрд╡реА рдХреА рд╕рдлрд▓рддрд╛: рдирдП рдПрдВрдЯреАрдмреЙрдбреА рд╕рднреА рдЬреНрдЮрд╛рдд рд╡рд╛рдпрд░рд╕ рдЙрдкрднреЗрджреЛрдВ рдХрд╛ 98% рдмреНрд▓реЙрдХ рдХрд░рддреЗ рд╣реИрдВ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>