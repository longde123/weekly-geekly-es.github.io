<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧖🏿 🚠 💃🏼 محطة الطقس على اردوينو من الألف إلى الياء الجزء 3 ♈️ 🖐🏾 🕟</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="يتبع. الجزء السابق . 


 جدول المحتويات: 


- الجزء 1. المتطلبات. اختيار الحديد. مخطط عام 
- الجزء 2. البرمجيات. الوحدة المركزية والحديد 
- الجزء 3. ا...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>محطة الطقس على اردوينو من الألف إلى الياء الجزء 3</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/425953/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  يتبع.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الجزء السابق</a> . </p><br><p style=";text-align:right;direction:rtl">  جدول المحتويات: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الجزء 1. المتطلبات.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">اختيار الحديد.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">مخطط عام</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الجزء 2. البرمجيات.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الوحدة المركزية والحديد</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الجزء 3. الوحدة المركزية والبرمجيات</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الجزء 4. نافذة الاستشعار</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الجزء 5. MySQL و PHP و WWW و Android</a> </li></ul><br><h1 id="centralnyy-blok-programmnoe-obespechenie" style=";text-align:right;direction:rtl">  الوحدة المركزية.  البرمجيات </h1><br><p style=";text-align:right;direction:rtl">  أخيرًا ، وصلنا إلى الجزء الأكثر صعوبة لأي مبرمج - لوصف ما فعله هناك بمصطلحات بشرية. </p><br><p style=";text-align:right;direction:rtl"> الكود المصدري للخادم هو حوالي 1300 سطر ، بما في ذلك المسافة البادئة ، ولكن هذا لا ينبغي أن يخيفك.  يتم تزويد النص المصدر بتعليقات تفصيلية ، وفي هذا الصدد ، لن أخطئ إذا قلت إن مصادري موصوفة بشكل أفضل من أي مصادر أخرى يمكنك العثور عليها فقط.  ستجد في التعليقات الموجودة مباشرة في شفرة المصدر جميع نقاط التوصيل لتوصيل الوحدات وجميع الروابط الضرورية للوثائق الخارجية.  السر بسيط - لقد كتبت تعليقات لنفسي باستمرار ، "في سياق المسرحية" ، لذلك لم أواجه أي صعوبات في التوثيق. </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  كما كتبت بالفعل ، يمكنك البدء دون وجود جميع الوحدات في متناول اليد.  على سبيل المثال ، يمكنك البدء دون الحاجة إلى وحدة راديو أو ESP8266.  قد يكون مستشعر الضغط الجوي BMP180 مفقودًا أيضًا.  أضف لاحقًا.  صحيح ، في هذه الحالة ، (قد) يجب عليك التعليق بشكل مستقل في رسم تلك الأقسام من التعليمات البرمجية المسؤولة عن التفاعل مع الكتل المفقودة ، ولكن على الأرجح لن يكون هذا مطلوبًا.  الشيء الرئيسي هو أن شيئًا ما قد تجمع واكتسب ، على الأقل ، من الأفضل الاستمرار. </p><br><p style=";text-align:right;direction:rtl">  على وجه التحديد ، في هذه المرحلة من القصة ، لم نقم بتجميع وحدة بدون نوافذ (خارجية) حتى الآن وليس لدينا خادم الويب الخاص بنا بقاعدة بيانات ، لا نحتاجها بعد (ولكن إذا كان الأمر كذلك ، فقم بتوصيلها على الفور حتى لا تضطر إلى الحفر) </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  وحدة راديو nRF24L01 + </li><li style=";text-align:right;direction:rtl">  وحدة WiFi ESP8266. </li></ul><br><p style=";text-align:right;direction:rtl">  ومع ذلك ، ربما سأبدأ بـ ESP8266 ، باعتباره الأكثر إشكالًا في برمجة الوحدة وتشغيلها.  يكمن السبب في تنوع أداء الوحدات نفسها وبرامجها الثابتة. </p><br><p style=";text-align:right;direction:rtl">  كما كتبت البرامج الثابتة القياسية AT لذلك ، هناك عدد من العيوب: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  لا تزال رطبة (اعتبارًا من عام 2016) </li><li style=";text-align:right;direction:rtl">  لم أتمكن من العثور على مكتبة عادية لـ Arduino للتحكم في وحدة ESP8266 باستخدام أوامر AT ، كان علي "المزرعة الجماعية" بنفسي. </li></ul><br><p style=";text-align:right;direction:rtl">  لم أصدر رمز ESP8266 في مكتبة منفصلة ، ولكن ببساطة كتبت الوظائف اللازمة ، لذلك خرج الرسم لفترة طويلة.  علاوة على ذلك ، قمت بتنفيذ الوظيفة التي أحتاجها فقط.  جميع البرمجة لـ ESP باستخدام أوامر AT ترجع إلى تحليل السلاسل وتعيين التأخير بين الأوامر. </p><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">يمكنك العثور على الكود المصدري وتنزيله للخادم (الوحدة المركزية) server.ino هنا</a> . </p><br><p style=";text-align:right;direction:rtl"> بعد ذلك أضع البرامج الثابتة لـ ESP8266 في ملف <code>firmware/AT23-SDK101-nocloud.bin</code> والوثائق الخاصة بالفضول موجودة في نفس الدليل.  من خلال وميض البرامج الثابتة المشار إليها ، يمكنك التأكد من أن الرسم الخاص بي سيعمل مع WiFi كما كان مقصودًا.  لم أجرب مع البرامج الثابتة AT الأخرى.  الحقيقة هي أنني تمكنت من العثور على البرامج الثابتة "المتقدمة" <strong>غير</strong> AT ، وحتى المشاركة قليلاً في إنشائها ، وهو مناسب تمامًا لأغراضنا ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">هنا هو رابط خاص</a> ).  ومع ذلك ، كما يحدث في كثير من الأحيان ، حدث كل شيء بعد اكتمال العمل على النسخة الحالية من محطة الطقس ، لذلك تقرر تركها كما هي. </p><br><p style=";text-align:right;direction:rtl">  لذلك ، في البداية عليك وميض البرامج الثابتة AT المحددة.  لا يوجد شيء معقد ، ولكنه بسيط أيضًا.  يتم وصف كيفية القيام بذلك كثيرًا على الشبكة - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ESP8266 - توصيل وتحديث البرامج الثابتة</a> . </p><br><p style=";text-align:right;direction:rtl">  نظرًا لأن محول USB-TTL الخاص بي لم يكن لديه ما يكفي من الطاقة الحالية وانقطع منفذ USB باستمرار (هذا هو الدور!) ، فقد قمت بتوصيل الوحدة كهربائياً لبرامجها الثابتة باستخدام طريقة "Arduino كمحول بسيط من USB إلى Serial TTL". </p><br><p style=";text-align:right;direction:rtl">  نظرًا لأنني أعمل على نظام Linux ، كنت <code>esptool.py</code> باستخدام <code>esptool.py</code> .  من أجل راحة البرامج الثابتة ، أنا "nakolhozil" لوحة مساعدة صغيرة مع مفاتيح (غير موصوفة هنا). </p><br><p style=";text-align:right;direction:rtl">  بعد التفليش ، تحتاج إلى ضبط سرعة المنفذ على 57600 (نظرًا لأن SoftSerial ، تكون سرعة المنفذ عند 115200 كبيرة ولا تضمن التشغيل المستقر) باستخدام الأمر </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs dos"><span class="hljs-built_in"><span class="hljs-built_in">AT</span></span>+UART_DEF=<span class="hljs-number"><span class="hljs-number">57600</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  بعد ذلك ، تحتاج إلى تعديل مكتبات Arduino IDE القياسية قليلاً ، أي في ملف <code>arduino/hardware/arduino/avr/libraries/SoftwareSerial/SoftwareSerial.h</code> ، قم بتغيير السطر المقابل إلى </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs cpp"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _SS_MAX_RX_BUFF 128 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">// RX buffer size</span></span></span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  في ملف <code>arduino/hardware/arduino/avr/cores/arduino/HardwareSerial.h</code> بتغيير الأسطر المقابلة إلى </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs cs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> SERIAL_TX_BUFFER_SIZE 128 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> SERIAL_RX_BUFFER_SIZE 128</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  وفي الملف <code>arduino/hardware/arduino/avr/cores/arduino/USBAPI.h</code> بتغيير الخط المقابل إلى </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs cs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> SERIAL_BUFFER_SIZE 128</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  بالمعنى الدقيق للكلمة ، هذا خطأ ، لأنه  عند تحديث Arduino SDK ، من المرجح أن تتم الكتابة فوق هذه الملفات وسيتعين عليك تكرار جميع التصحيحات مرة أخرى.  في العلم ، يجب أن نخترع مكتبتنا الخاصة التي تتعامل مع القيم المحددة (إن أمكن) ، ولكن هذا ليس للجميع. </p><br><p style=";text-align:right;direction:rtl">  بطريقة أو بأخرى ، انتهت التلاعبات الأولية. </p><br><p style=";text-align:right;direction:rtl">  الآن ننتقل مباشرة إلى رمز الوحدة المركزية (الخادم) <a href="">server.ino</a> </p><br><p style=";text-align:right;direction:rtl">  في الأسطر الأولى ، يجب عليك تغيير إعدادات الوصول لنقطة WiFi الخاصة بك </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs vbscript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-built_in"><span class="hljs-built_in">String</span></span> SSID = <span class="hljs-string"><span class="hljs-string">"..."</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-built_in"><span class="hljs-built_in">String</span></span> PASSWORD = <span class="hljs-string"><span class="hljs-string">"..."</span></span>;</code> </pre> <br><p style=";text-align:right;direction:rtl">  العمل مع خادم الويب سيتم مناقشته بالتفصيل لاحقًا. </p><br><p style=";text-align:right;direction:rtl">  فيما يلي تعريفات تصحيح (تعليق): </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs smalltalk">//<span class="hljs-symbol"><span class="hljs-symbol">#define</span></span> <span class="hljs-type"><span class="hljs-type">DEBUG</span></span> //<span class="hljs-symbol"><span class="hljs-symbol">#define</span></span> <span class="hljs-type"><span class="hljs-type">DEBUG_RF</span></span> //<span class="hljs-symbol"><span class="hljs-symbol">#define</span></span> <span class="hljs-type"><span class="hljs-type">DEBUG_ESP</span></span> //<span class="hljs-symbol"><span class="hljs-symbol">#define</span></span> <span class="hljs-type"><span class="hljs-type">DEBUG_LOG_SD</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  إذا حدث خطأ ما ، يمكنك دائمًا إلغاء تعليقهم ، وإعادة تجميع الرسم وإعادة تحميله والحصول على المزيد من معلومات التصحيح في وحدة التحكم أو كتابتها إلى ملف على بطاقة SD.  ويمكنك أن تعلق فقط ما تحتاجه.  على سبيل المثال ، الوحدة النمطية nRF24L01 +؟  ثم فك التعليق DEBUG_RF فقط ، إلخ. </p><br><p style=";text-align:right;direction:rtl">  فيما يلي تعليقات مكثفة مع pinouts ، التهيئة ، ووصف مفصل للمحيط بأكمله. </p><br><p style=";text-align:right;direction:rtl">  هنا يمكنك تغيير رقم قناة الراديو لـ nRF24L01 + </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs cs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> RF_CHANNEL 73</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  يأتي بعد ذلك <code>void setup()</code> ، والذي تم توضيحه من التعليقات التفصيلية هناك.  حسنًا ، ثم <code>void loop()</code> ، لا يتم النظر في رمز العمل مع خادم الويب حتى الآن. </p><br><p style=";text-align:right;direction:rtl">  بعد ملء الرسم التخطيطي ، ستعود وحدتك المركزية إلى الحياة وتظهر لك شيئًا ، ولكن ليس على الفور ، ولكن بعد 10 دقائق - القيمة <code>DELAY_LOCAL_SENSOR</code> .  يمكنك تغييره بالطبع. <br>  يجب أن تُظهر الشاشة: درجة حرارة الغرفة والرطوبة (بيانات من مستشعر DHT11) والضغط الجوي (من BMP180). </p><br><p style=";text-align:right;direction:rtl">  الوظائف التالية هي المسؤولة عن العرض على شاشة LCD 16 × 4: </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">void</span></span> lcdClearRow(<span class="hljs-type"><span class="hljs-type">int</span></span> <span class="hljs-keyword"><span class="hljs-keyword">row</span></span>) //     ,   <span class="hljs-type"><span class="hljs-type">void</span></span> lcdPrintOutdoor(<span class="hljs-type"><span class="hljs-type">int</span></span> temperature, <span class="hljs-type"><span class="hljs-type">int</span></span> humidity, <span class="hljs-type"><span class="hljs-type">float</span></span> voltage) //     ,   <span class="hljs-type"><span class="hljs-type">void</span></span> lcdPrintHome(<span class="hljs-type"><span class="hljs-type">int</span></span> temperature, <span class="hljs-type"><span class="hljs-type">int</span></span> humidity, <span class="hljs-type"><span class="hljs-type">int</span></span> pressure) <span class="hljs-type"><span class="hljs-type">void</span></span> lcdPrintInfo(<span class="hljs-type"><span class="hljs-type">char</span></span> <span class="hljs-keyword"><span class="hljs-keyword">info</span></span>[LCD_MAX_COLS]) <span class="hljs-type"><span class="hljs-type">void</span></span> lcdPrintStatus() <span class="hljs-type"><span class="hljs-type">void</span></span> lcdPrintLastSensorTime()</code> </pre> <br><p style=";text-align:right;direction:rtl">  تصميم شاشة LCD1604 على النحو التالي. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/5j/ub/5i/5jub5itnl0k6wamohdusvk4_cea.png" alt="تصميم شاشة LCD1604"></p><br><p style=";text-align:right;direction:rtl">  يطبع الخط الأول (العلوي) رمزًا منمقًا (رجل يمشي) مصمم للإشارة إلى الطقس في الشارع (خرج في الشارع ، نزل في الشارع).  لقد توصلت إلى الرمز بنفسي ، لذلك إذا كانت لديك فكرة أفضل (والتي تناسب 5 × 8 بكسل) ، فيمكنك تحديدها في التعليقات (كمصفوفة بايت).  يمكنك ممارسة فن البكسل هنا <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Custom Character Generator لوحدات HD44780 LCD</a> .  في نفس الخط ، تتم طباعة جهد وحدة النافذة. </p><br><p style=";text-align:right;direction:rtl">  يطبع السطر الثاني "الطقس في المنزل" والضغط الجوي.  رمز المنزل قياسي ومفهوم للجميع. </p><br><p style=";text-align:right;direction:rtl">  في السطر الثالث ، يطبع <code>lcdPrintLastSensorTime()</code> مقدار الوقت (بالثواني) من لحظة أخذ آخر قراءات <code>lcdPrintLastSensorTime()</code> الاستشعار ، على التوالي في الشارع ، ويفصل بينها فاصلة ، المنزل.  من المفيد أن تعرف على وجه اليقين أن محطة الأرصاد الجوية لا تعرض حالة الطقس بالأمس.  في الواقع ، هذه معلومات تصحيح الأخطاء ويمكن إزالتها في الإصدار النهائي. </p><br><p style=";text-align:right;direction:rtl">  وفي السطر الأخير من الشاشة باستخدام وظيفة <code>lcdPrintStatus()</code> ، تتم طباعة معلومات الحالة ، حيث </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  s عبارة عن مستشعر ضغط محلي </li><li style=";text-align:right;direction:rtl">  e هي وحدة ESP8266 </li><li style=";text-align:right;direction:rtl">  أنا اتصال WiFi </li><li style=";text-align:right;direction:rtl">  w هو توفر خادم الويب </li><li style=";text-align:right;direction:rtl">  ل - ملف الدخول على بطاقة SD </li></ul><br><p style=";text-align:right;direction:rtl">  بعد كل من هذه الحروف التقليدية سيكون هناك علامة زائد أو ناقص ، مما يعني عدم وجود أخطاء أو وجودها ، مشاكل في تشغيل الوحدات المقابلة. </p><br><p style=";text-align:right;direction:rtl">  بالعودة إلى مسألة اختيار الحديد ، سأشرح مزايا اختيار شاشة عرض LCD1604 على شاشة رسومية.  والحقيقة هي أن وحدات LCD1604 التي تم شراؤها من بائعين مختلفين في معظم الحالات ستكون هي نفسها ويمكن التنبؤ بها فيما يتعلق بالاتصال وسهلة البرمجة.  ما لا يمكن قوله عن العروض الرسومية ، على الرغم من أنه يمكنك الرسم والعرض عليها أكثر من ذلك بكثير.  إن وضوح صورة من مسافة عدة أمتار أفضل مرة أخرى مع عرض النص ، نعم ، على الشاشة الرسومية يمكنك إنشاء خط أكبر ، ولكن بعد ذلك ما هو الحجم المناسب لك؟ </p><br><p style=";text-align:right;direction:rtl">  التالي.  بمجرد ملء الرسم التخطيطي والتأكد من أن كل شيء يعمل كما ينبغي ، يمكنك إعادة توصيل "اللوحة الأم" Arduino Mega بمصدر طاقة خارجي.  أو اتركه كما هو ، متصلاً بـ USB للكمبيوتر لإلقاء نظرة على كل هذا الجمال في وحدة تحكم التصحيح. </p><br><p style=";text-align:right;direction:rtl">  إذا لم يكن لديك كل الكتل مجمعة ، فيمكنك التعليق على الكود غير الضروري.  على الرغم من أنني أكرر ، يجب أن تعمل على هذا النحو ، فقط احصل على رسائل خطأ في وحدة التحكم.  كيف تتجنب هذا؟ </p><br><p style=";text-align:right;direction:rtl">  على سبيل المثال ، لم تقم بشراء مستشعر ضغط جوي BMP180.  في مخطط <a href="">server.ino</a> ، نبحث عن الخطوط المسؤولة عن ربط المكتبات المقابلة ، في حالتنا </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs css"><span class="hljs-selector-id"><span class="hljs-selector-id">#include</span></span> &lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">Wire</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.h</span></span>&gt; <span class="hljs-selector-id"><span class="hljs-selector-id">#include</span></span> &lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">Adafruit_Sensor</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.h</span></span>&gt; <span class="hljs-selector-id"><span class="hljs-selector-id">#include</span></span> &lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">Adafruit_BMP085_U</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.h</span></span>&gt;</code> </pre> <br><p style=";text-align:right;direction:rtl">  التعليق على هذه الكتلة. </p><br><p style=";text-align:right;direction:rtl">  بعد ذلك ، في Arduino IDE ، نبدأ في تجميع الكود (وليس البرامج الثابتة) ونلقي نظرة على الخطوط التي يقسم المترجم عليها.  نعلق على هذه السطور.  نكرر العملية حتى يتم جمع الكود بشكل طبيعي ، دون أخطاء.  قبل التحرير ، من الممارسات الجيدة إنشاء نسخة من الرسم التخطيطي بحيث لا يكرر كل العمليات مرة أخرى عند وصول المستشعر المطلوب من الصين المشمسة. </p><br><p style=";text-align:right;direction:rtl">  يتم توفير روابط إلى المكتبات المستخدمة في التعليمات البرمجية المصدر.  إذا لم يكن هناك مثل هذا الرابط ، فقد تم استخدام مكتبة Arduino IDE القياسية. </p><br><p style=";text-align:right;direction:rtl">  فقط في حالة ، يتم <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">تخزين</a> جميع المكتبات (باستثناء المكتبات القياسية) التي استخدمتها <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">في دليل المكتبات</a> .  بالمعنى الدقيق للكلمة ، هذا خطأ.  يجب عليك تنزيل أحدث إصدارات المكتبات من مستودعاتها الرسمية (مع أخطاء ثابتة ، وميزات جديدة) ، ولكن في حالة صعوبة العثور عليها ، سواء تم حذفها بالفعل أو أن الإصدارات القديمة غير مدعومة ، فقط في هذه الحالة قمت بحفظ جميع المكتبات المستخدمة. </p><br><p style=";text-align:right;direction:rtl">  التالي هو تجميع محول الطاقة ، لذلك خرج هذا الجزء قصيرًا حتى لا يختلط. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar425953/">https://habr.com/ru/post/ar425953/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar425939/index.html">DataIncrement - إضافة إلى ميزات phpMyAdmin</a></li>
<li><a href="../ar425943/index.html">Kotlin: حفر أعمق. المنشئون والمبدعون</a></li>
<li><a href="../ar425945/index.html">نصائح للاستخدام المهني لبرنامج RecyclerView. الجزء الأول</a></li>
<li><a href="../ar425947/index.html">راتاتوي الشركات</a></li>
<li><a href="../ar425951/index.html">كيفية اختراق البلوكتشين والعملات المشفرة: 6 هجمات ناجحة "51 في المئة"</a></li>
<li><a href="../ar425955/index.html">8 أخطاء تجريبية مثيرة للاهتمام لنظام التشغيل iOS 12 وكيف بحثنا عنها</a></li>
<li><a href="../ar425957/index.html">دراجات الغاز أو عمليات البحث عن المنتجات الغريبة (التجارة الإلكترونية)</a></li>
<li><a href="../ar425959/index.html">بعض النصائح الزاويّة</a></li>
<li><a href="../ar425961/index.html">"تعلم الربيع درس هراء" - جوش لونغ ، المبشر الرئيسي في الربيع في المطبخ الداخلي للمشروع</a></li>
<li><a href="../ar425963/index.html">محطة الطقس على اردوينو من الألف إلى الياء. الجزء 4</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>