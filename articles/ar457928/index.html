<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐊 🚭 🎋 الترتيب العميق لمقارنة صورتين 🉑 ↙️ 🎀</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="مرحبا يا هبر! أقدم إليكم ترجمة مقال "تشابه الصورة باستخدام الترتيب العميق" من تأليف أكارش زينغادي. 

 خوارزمية الترتيب العميق 
 لم يتم تقديم مفهوم " ت...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>الترتيب العميق لمقارنة صورتين</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457928/" style=";text-align:right;direction:rtl">  مرحبا يا هبر!  أقدم إليكم ترجمة مقال <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">"تشابه الصورة باستخدام الترتيب العميق" من</a> تأليف أكارش زينغادي. <br><br><h2 style=";text-align:right;direction:rtl">  خوارزمية الترتيب العميق </h2><br>  لم يتم تقديم مفهوم " <i>تشابه صورتين</i> " ، لذلك دعونا نقدم هذا المفهوم على الأقل في إطار المقال. <br><br>  <b>تشابه صورتين</b> هو نتيجة لمقارنة صورتين وفقًا لمعايير معينة.  يحدد المقياس الكمي درجة التشابه بين مخططات الشدة لصورتين.  باستخدام مقياس التشابه ، تتم مقارنة بعض الميزات التي تصف الصور.  كمقياس للتشابه ، مسافة هامينغ ، المسافة الإقليدية ، مسافة مانهاتن ، إلخ. <br><a name="habracut"></a><br>  <b>التصنيف العميق</b> - يدرس تشابه الصورة المحبب بدقة ، ويميز نسبة تشابه الصورة المقسومة بدقة باستخدام مجموعة من ثلاثة توائم. <br><br><h3 style=";text-align:right;direction:rtl">  ما هو الثلاثي؟ </h3><br>  يحتوي الثلاثي على صورة الطلب ، الصورة الإيجابية والسلبية.  حيث الصورة الإيجابية تشبه صورة طلب أكثر من صورة سلبية. <br><br>  <b>مثال على مجموعة من ثلاثة توائم:</b> <br><br><img src="https://cdn-images-1.medium.com/max/1000/0*vw4M7uZ5exyLZfLv." alt="صورة"><br><br>  السطر الأول والثاني والثالث يتوافق مع صورة الطلب.  السطر الثاني (الصور الإيجابية) أشبه بالصور المطلوبة من الصور الثالثة (الصور السلبية). <br><br><h3 style=";text-align:right;direction:rtl">  تصنيف العمارة شبكة العمارة </h3><br>  تتكون الشبكة من 3 أجزاء: أخذ العينات الثلاثية ، ConvNet وطبقة التصنيف. <br>  تقبل الشبكة ثلاثة توائم من الصور كمدخلات.  تحتوي صورة ثلاثية واحدة على صورة طلب <math> </math> $ inline $ p_i $ inline $   صورة إيجابية <math> </math> $ inline $ p_i ^ + $ inline $   والصورة السلبية <math> </math> $ inline $ p_i ^ - $ inline $   التي تنتقل بشكل مستقل إلى ثلاث شبكات عصبية عميقة متطابقة. <br><br>  طبقة الترتيب الأعلى - تقيم وظيفة الخسارة الثلاثية.  يتم تصحيح هذا الخطأ في الطبقات السفلية من أجل تقليل وظيفة الخسارة. <br><img src="https://cdn-images-1.medium.com/max/1000/0*ICR1FjUFC8xHXoh1." alt="صورة"><br><br>  دعونا الآن نلقي نظرة فاحصة على الطبقة الوسطى: <br><br><img src="https://cdn-images-1.medium.com/max/1000/0*tOd5HC3R-kFqobpM." alt="صورة"><br><br>  ConvNet يمكن أن يكون أي شبكة عصبية عميقة (هذه المادة سوف يناقش أحد تنفيذ الشبكة العصبية التلافيفية VGG16).  تحتوي ConvNet على طبقات تلافيفية ، وطبقة تجمع الأقصى ، وطبقات التطبيع المحلية ، وطبقات متصلة بالكامل. <br>  يستقبل الجزءان الآخران صوراً ذات معدل أخذ عينات مخفض وينفذان مرحلة الالتواء وتجمع أقصى.  بعد ذلك ، تتم مرحلة التطبيع للأجزاء الثلاثة وفي النهاية يتم دمجها بطبقة خطية مع التطبيع اللاحق. <br><br><h3 style=";text-align:right;direction:rtl">  تشكيل ثلاثي </h3><br>  هناك عدة طرق لإنشاء ملف ثلاثي ، على سبيل المثال ، استخدام تقييم خبير.  ولكن هذه المقالة سوف تستخدم الخوارزمية التالية: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  كل صورة في الفصل تشكل صورة طلب. </li><li style=";text-align:right;direction:rtl">  كل صورة ، باستثناء صورة الطلب ، ستشكل صورة إيجابية.  ولكن يمكنك تحديد عدد الصور الإيجابية لكل طلب صورة </li><li style=";text-align:right;direction:rtl">  يتم تحديد صورة سلبية بشكل عشوائي من أي فئة ليست فئة صورة طلب </li></ol><br><h3 style=";text-align:right;direction:rtl">  وظيفة فقدان ثلاثية </h3><br>  الهدف من ذلك هو تدريب وظيفة تقوم بتعيين مسافة صغيرة للصور الأكثر تشابهًا وواحدة كبيرة للصور المختلفة.  يمكن التعبير عن ذلك على النحو التالي: <br><img src="https://cdn-images-1.medium.com/max/1000/0*kC_DghyAeP7ulsGL." alt="صورة"><br>  حيث <b>l</b> هي معامل الخسارة بالنسبة للثلاثة توائم ، <b>g</b> هي معامل الفجوة بين المسافة بين أزواج من الصور: ( <math> </math> $ inline $ p_i $ inline $   . <math> </math> $ inline $ p_i ^ + $ inline $   ) و ( <math> </math> $ inline $ p_i $ inline $   . <math> </math> $ inline $ p_i ^ - $ inline $   ) ، وظيفة <b>f</b> - التضمين التي تعرض الصورة في المتجه ، <math> </math> $ inline $ p_i $ inline $   هي صورة الطلب ، <math> </math> $ inline $ p_i ^ + $ inline $   هي صورة إيجابية ، <math> </math> $ inline $ p_i ^ - $ inline $   هي صورة سلبية ، و <b>D</b> هي المسافة الإقليدية بين نقطتين إقليدية. <br><br><h3 style=";text-align:right;direction:rtl">  تنفيذ خوارزمية الترتيب العميق </h3><br>  التنفيذ مع Keras. <br><br>  تستخدم ثلاث شبكات متوازية للاستعلام ، الصورة الإيجابية والسلبية. <br><br>  هناك ثلاثة أجزاء رئيسية للتنفيذ ، وهي: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  تنفيذ ثلاث شبكات عصبية متعددة المقياس </li><li style=";text-align:right;direction:rtl">  تنفيذ وظيفة الخسارة </li><li style=";text-align:right;direction:rtl">  الجيل الثلاثي </li></ol><br>  تعلم ثلاث شبكات عميقة متوازية تستهلك الكثير من موارد الذاكرة.  بدلاً من ثلاث شبكات عميقة متوازية تتلقى صورة طلب ، صورة إيجابية وسلبية ، سيتم تغذية هذه الصور بالتسلسل إلى شبكة عصبية عميقة واحدة عند إدخال شبكة عصبية.  سوف يحتوي الموتر الذي تم نقله إلى طبقة الفقد على مرفق صورة في كل صف.  يتوافق كل سطر مع كل صورة إدخال في حزمة.  نظرًا لأن الصورة المطلوبة والصورة الموجبة والصورة السلبية يتم إرسالها بالتتابع ، فسوف يتوافق السطر الأول مع صورة الطلب ، والثاني للصورة الموجبة ، والثالث للصورة الموجبة ، ثم يتكرر حتى نهاية الرزمة.  وبالتالي ، فإن طبقة الترتيب تتلقى تضمينًا لجميع الصور.  بعد ذلك ، يتم حساب وظيفة الخسارة. <br><br>  لتنفيذ طبقة التصنيف ، نحتاج إلى كتابة دالة الخسارة الخاصة بنا ، والتي ستحسب المسافة الإقليدية بين صورة الطلب والصورة الإيجابية ، وكذلك المسافة الإقليدية بين صورة الطلب والصورة السلبية. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">تنفيذ وظيفة حساب الخسارة</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"><code class="python hljs">_EPSILON = K.epsilon() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_loss_tensor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(y_true, y_pred)</span></span></span><span class="hljs-function">:</span></span> y_pred = K.clip(y_pred, _EPSILON, <span class="hljs-number"><span class="hljs-number">1.0</span></span>-_EPSILON) loss = tf.convert_to_tensor(<span class="hljs-number"><span class="hljs-number">0</span></span>,dtype=tf.float32) <span class="hljs-comment"><span class="hljs-comment"># initialise the loss variable to zero g = tf.constant(1.0, shape=[1], dtype=tf.float32) # set the value for constant 'g' for i in range(0,batch_size,3): try: q_embedding = y_pred[i+0] # procure the embedding for query image p_embedding = y_pred[i+1] # procure the embedding for positive image n_embedding = y_pred[i+2] # procure the embedding for negative image D_q_p = K.sqrt(K.sum((q_embedding - p_embedding)**2)) # calculate the euclidean distance between query image and positive image D_q_n = K.sqrt(K.sum((q_embedding - n_embedding)**2)) # calculate the euclidean distance between query image and negative image loss = (loss + g + D_q_p - D_q_n ) # accumulate the loss for each triplet except: continue loss = loss/(batch_size/3) # Average out the loss zero = tf.constant(0.0, shape=[1], dtype=tf.float32) return tf.maximum(loss,zero)</span></span></code> </pre> <br></div></div><br>  يجب أن يكون حجم الحزمة دائمًا مضاعفًا 3. حيث أن الثلاثي يحتوي على 3 صور ، ويتم إرسال الصور الثلاثية بالتتابع (نرسل كل صورة إلى شبكة عصبية عميقة بالتسلسل) <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">بقية الكود هنا</a> <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">مراجع</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  [1] التعرف على الكائنات من ميزات النطاق المحلي الثابتة - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">www.cs.ubc.ca/~lowe/papers/iccv99.pdf</a> <br><br>  [2] رسم بياني للتدرجات الموجهة للكشف عن الإنسان - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">courses.engr.illinois.edu/ece420/fa2017/hog_for_human_detection.pdf</a> <br><br>  [3] تعلم تشابه الصور ذي الحبيبات الدقيقة مع الترتيب <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">العميق- static.googleusercontent.com/media/research.google.com/en//pubs/archive/42945.pdf</a> <br><br>  [4] تصنيف ImageNet مع الشبكات العصبية التلافيفية <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">العميقة- papers.nips.cc/paper/4824-imagenet-classification- with-deep-convolutional-</a> neural- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">networks.pdf</a> <br><br>  [5] التسرب: طريقة بسيطة لمنع الشبكات العصبية من التحليق - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">www.cs.toronto.edu/~hinton/absps/JMLRdropout.pdf</a> <br><br>  [6] ImageNet: قاعدة بيانات الصور الهرمية على نطاق واسع- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">www.image-net.org/papers/imagenet_cvpr09.pdf</a> <br><br>  [7] البحث السريع عن الصور ذات الاستطاعة المتعددة ، الجرافيك. washington.edu/projects/query/mrquery.pdf <br><br>  [8] استرجاع الصور على نطاق واسع مع متجهات فيشر المضغوطة- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">citeseerx.ist.psu.edu/viewdoc/download؟doi=10.1.1.401.9140&amp;rep=rep1&amp;type=pdf</a> <br><br>  [9] ما وراء حقائب الميزات: مطابقة الهرم المكاني للتعرف على فئات المشهد <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الطبيعي- ieeexplore.ieee.org/document/1641019</a> <br><br>  [10] تحسين العينات المتسقة ، Minhash الموزون و L1 Sketching- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">static.googleusercontent.com/media/research.google.com/en//pubs/archive/36928.pdf</a> <br><br>  [11] التعلم عبر الإنترنت على نطاق واسع عن تشابه الصور من خلال الترتيب- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">jmlr.csail.mit.edu/papers/volume11/chechik10a/chechik10a.pdf</a> <br><br>  [12] تعلم تشابه الصور ذي الحبيبات الدقيقة مع الترتيب <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">العميق- users.eecs.northwestern.edu/~jwa368/pdfs/deep_ranking.pdf</a> <br><br>  [13] تشابه الصورة باستخدام Deep Rating- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">medium.com/@akarshzingade/image-similarity-using-deep-ranking-c1</a> يتعرض <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">3855978</a> <br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar457928/">https://habr.com/ru/post/ar457928/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar457904/index.html">الراديو الذري - أول بث موسيقي على الإطلاق</a></li>
<li><a href="../ar457906/index.html">يعتقد الأطباء أنه في المستقبل القريب ، ستظهر أجهزة صنع اللقاحات في المنازل والصيدليات</a></li>
<li><a href="../ar457910/index.html">WebFPGA - تطوير Verilog في المتصفح</a></li>
<li><a href="../ar457916/index.html">حل WorldSkills مهام وحدة الشبكة في اختصاص "التقييم القطري المشترك". الجزء 2 - الإعداد الأساسي</a></li>
<li><a href="../ar457926/index.html">مقارنة شهادة Agile ، الجزء 1 - ICAgile و Scrum.org و ScrumAlliance و PMI</a></li>
<li><a href="../ar457930/index.html">ثابت ديناميكي كتابة à la بيثون</a></li>
<li><a href="../ar457932/index.html">تحليل مسابقة IDS Bypass في الايجابية Hack Days 9</a></li>
<li><a href="../ar457936/index.html">نحن ندعوك لحضور مؤتمر Zabbix الأول في روسيا</a></li>
<li><a href="../ar457940/index.html">كيفية النظير في الطرف المقابل</a></li>
<li><a href="../ar457942/index.html">ما تعلمته عن التحسين في بيثون</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>