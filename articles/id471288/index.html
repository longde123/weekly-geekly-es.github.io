<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐸 🦎 ☪️ Membuat wajah karakter untuk game "OnAir" 🖖🏿 🅾️ 👨🏿‍💻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Selamat siang Nama saya Daria, saya seniman 3d di studio produksi RainStyle. Kami saat ini sedang mengembangkan game horor Sci-fi yang disebut "On Air...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Membuat wajah karakter untuk game "OnAir"</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/471288/">  Selamat siang  Nama saya Daria, saya seniman 3d di studio produksi RainStyle.  Kami saat ini sedang mengembangkan game horor Sci-fi yang disebut <b>"On Air"</b> . <br><br><img src="https://habrastorage.org/webt/kx/a4/x0/kxa4x0nk1p-invxwlnmddbywfkm.png" alt="gambar"><br><br>  Permainan ini bercerita tentang peristiwa misterius yang terjadi dengan tokoh utama, yang secara tidak sengaja menginap di hotel American Algol.  Kejadian ini benar-benar akan mengubah hidupnya dan membuatnya menghadapi hal yang tidak diketahui. <br><a name="habracut"></a><br>  Ini adalah proyek game pertama kami dan di dalamnya kami mencoba untuk mencapai realisme maksimum karakter, menyampaikan emosi dan karakter mereka.  Oleh karena itu, untuk membuatnya, diputuskan untuk menggunakan teknologi pemindaian wajah.  Sebagai bagian dari tujuan proyek, kita membutuhkan dua derajat detail untuk karakter: untuk rendering - untuk sinematik dan poli rendah - untuk digunakan dalam game itu sendiri. <br><br>  Game On Air sedang dikembangkan di Unreal Engine 4. Kami berencana untuk menulis beberapa artikel di mana kami akan menjelaskan secara rinci tahapan persiapan karakter. <br><br>  Saat ini, kami sedang membuat versi demo permainan, yang akan segera muncul di Steam.  Pada artikel ini saya akan berbicara tentang tahap awal menciptakan wajah karakter utama permainan kami. <br><br><img src="https://habrastorage.org/webt/-e/ce/rh/-ecerhoq3v8iuxdyublvhwuwfd8.png" alt="gambar"><br><br><h4>  Bagian 1 </h4><br>  Gambar di bawah ini menunjukkan beberapa emosi yang kami terima setelah memproses pindaian. <br><br><img src="https://habrastorage.org/webt/fd/tc/wt/fdtcwtsvrpdodfwomu8r6_np_g4.png" alt="gambar"><br><br>  Pada dasarnya mereka dilebih-lebihkan dan sepertinya tidak realistis.  Ini dilakukan dengan sengaja.  Faktanya adalah bahwa dasar dari metode menciptakan wajah ini adalah prinsip pencampuran bentuk-bentuk "Bentuk campuran".  Artinya, masing-masing emosi ini akan diterapkan bukan dalam bentuk "murni", tetapi dalam kombinasi dengan yang lain.  Saya akan berbicara lebih banyak tentang ini di akhir artikel.  Pertama, Anda perlu mencari tahu apa yang harus dilakukan dengan kepala yang dipindai dan bagaimana kami dapat menggunakannya.  Jelas, topologi pemindaian tidak memungkinkan menggunakannya sebagai model, tetapi dengan memanggang peta normal kita mendapatkan fitur utama wajah, keriput, pori-pori, benjolan atau bekas luka.  Juga dari pemindaian kita dapat mengekstraksi tekstur warna dasar. <br><br><img src="https://habrastorage.org/webt/4l/ex/lr/4lexlrzmipmxepu4d2uqhs1ocgw.png" alt="gambar"><br><br>  Program Wrap 3.3 akan membantu kami dalam hal ini.  Ini banyak digunakan untuk memproses model yang dipindai.  Dengan bantuannya, kami akan memproyeksikan model kepala masa depan kami ke pindaian. <br><br><h4>  Bagian 2 </h4><br>  Pertama, Anda perlu membuat apa yang disebut mesh dasar.  Artinya, ekspresi wajah netral yang akan mendasari semua emosi.  Pemindaian emosi netral kami terlihat seperti ini: <br><br><img src="https://habrastorage.org/webt/bf/zm/9r/bfzm9rnkwmw7whotrzfbolxmcym.png" alt="gambar"><br><br>  Program Wrap 3.3 memiliki sistem simpul, yaitu, semua fungsi disajikan dalam bentuk simpul (simpul) yang dihubungkan bersama oleh sebuah rantai. <br><br>  Pemilihan node dilakukan menggunakan tombol Tab.  Menggunakan node LoadGeom dan LoadImage, pemindaian dengan emosi netral dan tekstur yang sesuai dimuat.  Untuk melakukan ini, tentukan path di jendela Nama File.  Dalam pengaturan simpul "LoadGeom", Anda dapat memilih berbagai mode untuk menampilkan geometri (fungsi rangka gambar dinonaktifkan pada gambar di bawah).  Di sini Anda juga dapat mengubah warna geometri (tidak berfungsi jika teksturnya terhubung), koordinat dan skala. <br><br><img src="https://habrastorage.org/webt/jj/sa/ck/jjsacktagmrzkvs25xuhzuq0fos.png" alt="gambar"><br><br>  Selanjutnya, Anda perlu memuat jala dasar, yang akan diproyeksikan ke pemindaian ini.  Anda dapat menemukannya di tab "Galeri".  Di sini ada banyak emosi siap pakai.  Dalam hal ini, saya memilih Basemesh. <br><br><img src="https://habrastorage.org/webt/-v/lc/b7/-vlcb7otf7kgk5o4zzbnwhdkvq4.png" alt="gambar"><br><br>  Basemesh harus dicocokkan dengan pemindaian.  Untuk melakukan ini, Anda dapat menggunakan sumbu koordinat. <br><br>  Untuk memproyeksikan mesh dasar ke pemindaian, saya menggunakan simpul Pembungkus.  Saat Anda mengarahkan mouse di atas simpul, petunjuk ditampilkan: simpul pertama, Geometri mengambang - untuk geometri yang diproyeksikan, simpul kedua, geometri Fixet - untuk objek tetap yang diproyeksikan geometri (dalam kasus kami, ini adalah pemindaian dengan emosi netral). <br><br><img src="https://habrastorage.org/webt/xd/y0/mc/xdy0mcmzi9irpyydokryacbctla.png" alt="gambar"><br><br>  Untuk memulai perhitungan, perlu menandai poin pada kedua model yang akan saling berhubungan.  Untuk ini, Pilih titik node digunakan, yang terhubung ke node yang sesuai dari model.  Setelah memilih simpul ini, pergi ke tab Editor Visual.  Fungsi Sync views yang disertakan memungkinkan Anda untuk menyinkronkan kamera untuk jendela kiri dan kanan. <br><br><img src="https://habrastorage.org/webt/8f/ow/uc/8fowucelwz7738je5jm2xp9gkxc.png" alt="gambar"><br><br>  Jika model yang diproyeksikan berisi poligon yang harus tetap ada, Anda harus memilihnya menggunakan fungsi Select Polygons.  Jika tidak, artefak dapat muncul terkait dengan detail internal mesh. <br><br><img src="https://habrastorage.org/webt/jr/zv/dz/jrzvdzuikyktk64wpo_cs4n62yi.png" alt="gambar"><br><br>  Untuk menggunakan simpul Pilih Poligon, gunakan tab Editor Visual.  Di sini Anda dapat memilih poligon yang Model dari galeri dibagi menjadi polygroup, ini menyederhanakan tugas: mereka dapat dipilih atau tidak dipilih pada panel atas. <br><br>  Saya menyoroti bagian internal tenggorokan, lubang hidung, kelopak mata yang ekstrem dan leher bagian bawah. <br><br><img src="https://habrastorage.org/webt/2v/nj/97/2vnj97z73izx0zdbnvvlefk4aja.png" alt="gambar"><br><br><img src="https://habrastorage.org/webt/so/ps/rc/sopsrc9xofh9bcneqnj8grhh2lm.png" alt="gambar"><br><br>  Setelah itu, model akan diproyeksikan dengan benar. <br><br><img src="https://habrastorage.org/webt/i2/52/78/i25278qwzpx0x0a-s13wj4vn8wk.png" alt="gambar"><br><br>  Juga, untuk rincian lebih lanjut, Anda bisa menggunakan simpul Subdivide.  Terhubung ke basis mesh dan semua node di bawah terhubung ke simpul yang lebih rendah (Output). <br><br><img src="https://habrastorage.org/webt/u7/s-/dd/u7s-ddnr9ctkghve6wicg-x7qic.png" alt="gambar"><br><br>  Selanjutnya, panggang tekstur dari pemindaian ke jala dasar.  Untuk ini, simpul Transfer Texture digunakan.  Node geometri sumber terhubung ke model yang akan dipanggang teksturnya.  Dalam kasus kami, ini adalah pemindaian.  Node geometri Target terhubung ke basis mesh, tetapi tidak ke node LoadGeom, tetapi ke node Wrapping, karena kita akan menggunakan geometri yang sudah dimodifikasi dan diproyeksikan. <br><br><img src="https://habrastorage.org/webt/em/vj/ra/emvjrap3jv0drbe42u8lxjspjn8.png" alt="gambar"><br><br>  Dalam pengaturan simpul ini, Anda dapat memilih kualitas tekstur yang dipanggang.  Setelah itu, ada baiknya menambahkan simpul Extrapolate Image untuk mengisi tempat transparan, dan menyimpan tekstur yang dihasilkan menggunakan simpul Save Image dan menekan tombol Compute current frame.  Geometri disimpan dengan cara yang sama menggunakan simpul Simpan Geom. <br><br><img src="https://habrastorage.org/webt/q8/ol/xq/q8olxqwsxreywugalgqd5gfh1ek.png" alt="gambar"><br><br><h4>  Bagian 3 </h4><br>  Setelah kami mendapatkan emosi dan tekstur netral untuk itu, kami dapat beralih ke mendapatkan geometri untuk emosi lain.  Untuk melakukan ini, muat model pemindaian dan Basemesh dengan tekstur. <br><br><img src="https://habrastorage.org/webt/sd/ey/nx/sdeynxlfx4nmbc9hefsxeq_y-v4.png" alt="gambar"><br><br>  Selanjutnya, Anda perlu menyelaraskan Basemesh sesuai dengan pemindaian.  Sebagai permulaan, Anda dapat membandingkan model yang kira-kira menggunakan sumbu koordinat. <br><br><img src="https://habrastorage.org/webt/oh/ka/7x/ohka7x47eywbrue0da6kbhgc9e4.png" alt="gambar"><br><br>  Sebuah simpul yang memungkinkan Anda untuk menyelaraskan model relatif lebih akurat satu sama lain - Penyelarasan Kaku.  Node geometri Terapung menghubungkan geometri yang perlu disejajarkan.  Dalam simpul geometri tetap, masing-masing, akan ada geometri statis (dalam kasus kami, ini adalah pemindaian). <br><br><img src="https://habrastorage.org/webt/-1/8f/an/-18fanskyoz3mzz3ispdjlsgt9k.png" alt="gambar"><br><br>  Saat menggunakan simpul Penyelarasan Kaku, Anda harus menggunakan simpul Poin Pilih: <br><br><img src="https://habrastorage.org/webt/yx/nk/yz/yxnkyzv8vfifpocy9rezqo77sbq.png" alt="gambar"><br><br>  Model saya memiliki penanda kontrol yang menyederhanakan tugas memilih poin.  Untuk menyelaraskan model dengan saling menghormati, poin harus ditempatkan pada bagian-bagian wajah yang sedikit berubah ketika menggambarkan emosi tertentu.  Dalam hal emosi ini, ini adalah dahi, bagian atas hidung, leher, dll.  Juga, disarankan untuk menempatkan titik di semua sisi model (yaitu, misalnya, tidak hanya di wajah, tetapi juga di belakang kepala dan telinga). <br><br><img src="https://habrastorage.org/webt/qy/88/yf/qy88yf5dndsigcayzn7cruu1m-4.png" alt="gambar"><br><br>  Akibatnya, kami mendapatkan model yang selaras satu sama lain: <br><br><img src="https://habrastorage.org/webt/bx/l9/ao/bxl9aog0pbuv2bap92i0sysyi9g.png" alt="gambar"><br><br>  Dalam pengaturan node Alignment Kaku, ada fungsi "Match skale".  Ini digunakan jika model perlu diskalakan juga. <br><br>  Setelah itu, Anda dapat mulai memproyeksikan mesh dasar ke pemindaian.  Untuk ini, kita akan menggunakan simpul Pembungkus Aliran Optik.  Ini memungkinkan Anda untuk menyelaraskan geometri sesuai dengan tekstur pemindaian.  Pada saat yang sama, tekstur emosi yang dihasilkan sepenuhnya akan bertepatan dengan tekstur dasar mesh, dengan pengecualian kerutan, kerutan, dan perubahan lainnya.  Semua penyimpangan kulit dan pori-pori saat menggunakan metode ini tetap ada. <br><br><img src="https://habrastorage.org/webt/mb/7m/iv/mb7mivt59e9su6kjmrpk1hnugwa.png" alt="gambar"><br><br>  Sebelum menggunakan aliran optik, seperti pada kasus pertama, simpul Select Polygons digunakan: <br><br><img src="https://habrastorage.org/webt/ju/4v/to/ju4vto3ddusr5jsvugf6odd_qbi.png" alt="gambar"><br><br>  Dengan demikian, bagian kepala yang tetap akan tetap di tempatnya. <br><br>  Anda juga dapat menggunakan simpul Select Points.  Inilah poin-poin pada bagian-bagian wajah yang bergerak: <br><br><img src="https://habrastorage.org/webt/ph/3h/gw/ph3hgwcigqpzp7k8phlpe-n-d78.png" alt="gambar"><br><br>  Selanjutnya, buka pengaturan aliran optik.  Kamera yang dapat disesuaikan muncul di jendela Editor Visual di sekitar model. <br><br><img src="https://habrastorage.org/webt/kf/lk/gs/kflkgszewb1rqqb5mruaw2fpo38.png" alt="gambar"><br><br>  Di bagian atas ada menu drop-down yang dapat digunakan untuk melihat dari kamera.  Ada 13 secara default. Anda perlu mengaturnya agar wajah benar-benar pas ke dalam bingkai. <br><br><img src="https://habrastorage.org/webt/nk/rz/da/nkrzdal-nf0bmdccxubbr2jfgnk.png" alt="gambar"><br><br>  Atas rekomendasi pengembang, saya meninggalkan hampir semua pengaturan secara default dengan pengecualian parameter final Resolution dan Optical smoothness flow: <br><br><img src="https://habrastorage.org/webt/rs/og/t3/rsogt301d29-fmdkw3-w_ikb4f8.png" alt="gambar"><br><br>  Setelah itu, Anda dapat mengklik Hitung dan lihat hasilnya: <br><br><img src="https://habrastorage.org/webt/oq/sh/wv/oqshwvwqspwpktcdmrtcdaan0ru.png" alt="gambar"><br><br>  Setelah jaring diproyeksikan ke pemindaian, Anda perlu memanggang tekstur.  ini dilakukan sesuai dengan prinsip yang sama seperti pada bagian pertama artikel: <br><br><img src="https://habrastorage.org/webt/5q/i3/ua/5qi3uariv6ry89ideprjf9yonmo.png" alt="gambar"><br><br>  Akibatnya, jika Anda menggabungkan tekstur yang dihasilkan dengan tekstur jala dasar, beberapa detail akan ditambahkan, tetapi pada saat yang sama, titik kontrol akan bertepatan: <br><br><img src="https://habrastorage.org/webt/fs/ws/tk/fswstkeyd2cmmu2xdzdja_3ffbg.png" alt="gambar"><br><br>  Setelah itu, tekstur dan geometri yang dihasilkan dapat disimpan. <br><br><img src="https://habrastorage.org/webt/fg/o1/sz/fgo1szpef_fqluip7uf4uqgehko.png" alt="gambar"><br><br>  Hasilnya, kami mendapat jalinan emosi baru dengan tekstur. <br><br><h4>  Bagian 4 </h4><br>  Metode Blend bentuk memungkinkan Anda untuk "mencampur emosi".  Untuk melakukan ini, muat jerat yang sudah diterima di simpul bentuk Blend. <br><br><img src="https://habrastorage.org/webt/jl/fi/i2/jlfii24nzvg4ptcyfl7bawhwbbc.png" alt="gambar"><br><br>  Saya memasukkan emosi netral ke simpul pertama.  Memindahkan slider dalam pengaturan node, Anda dapat memilih seberapa kuat emosi ini atau itu akan diekspresikan.  Agar metode ini berfungsi, model harus memiliki topologi yang sama. <br><br><img src="https://habrastorage.org/webt/zx/0k/o5/zx0ko5teguiqiogh4qcsc8cyw_u.png" alt="gambar"><br><br><img src="https://habrastorage.org/webt/vi/ld/uq/vilduqi1jwtzgr662xx4nsyh85q.png" alt="gambar"><br><br><h4>  Hasil </h4><br>  Proses di atas hanya sebagian kecil dari pekerjaan yang sangat produktif.  Setelah menerima model kepala LowPoly, perlu untuk membuat peta normal, kekasaran, bawah permukaan, dll., Serta mengonfigurasi shader (dalam kasus kami, kami mengonfigurasi shader untuk render dan untuk engine).  Mata, pakaian, dan rambut juga dibuat secara terpisah.  Perlu juga dicatat bahwa hanya tiga orang yang melakukan tugas ini.  Ini adalah pengalaman pertama kami dalam menciptakan karakter yang sangat detail.  Kami puas dengan hasilnya, tetapi kami akan berusaha lebih keras. <br><br><img src="https://habrastorage.org/webt/25/wo/-m/25wo-m_68qxmzq4wtff-2px721u.jpeg" alt="gambar"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id471288/">https://habr.com/ru/post/id471288/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id471268/index.html">Memahami broker pesan. Mempelajari mekanisme pengiriman pesan melalui ActiveMQ dan Kafka. Bab 2. ActiveMQ</a></li>
<li><a href="../id471270/index.html">Kami mengotomatiskan penerimaan data pada kecepatan memuat situs dari Google PageSpeed ​​Insights [templat]</a></li>
<li><a href="../id471272/index.html">Manfaat mengetik kuat di C ++: pengalaman langsung</a></li>
<li><a href="../id471278/index.html">Pembuatan teks dalam bahasa Rusia berdasarkan templat</a></li>
<li><a href="../id471282/index.html">Mencari pneumonia di rontgen dengan Fast.ai</a></li>
<li><a href="../id471294/index.html">Puisi tentang Haskell, C ++ dan programmer</a></li>
<li><a href="../id471296/index.html">Lean Manufacturing - Alat untuk Efisiensi</a></li>
<li><a href="../id471298/index.html">Bieber dan Bilan melambaikan pena. AI sekarang menyanyikan lagu-lagu</a></li>
<li><a href="../id471300/index.html">Bereaksi: Mengangkat status membunuh aplikasi Anda</a></li>
<li><a href="../id471302/index.html">Verifikasi Pengguna di Cina dan Kredit Sosial</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>