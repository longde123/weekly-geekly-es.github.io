<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üñêÔ∏è üí± ‚òéÔ∏è Wie ich Spring Framework studiere (Hilfe f√ºr Anf√§nger ist die Arbeit der Anf√§nger selbst) üë©üèº‚Äçüç≥ üë©üèΩ üò∂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Guten Tag! 

 Ich habe mir zum Ziel gesetzt, das Spring-Framework f√ºr die Java-Sprache zu lernen. W√§hrend des Studiums beschloss ich, den Lernalgorith...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie ich Spring Framework studiere (Hilfe f√ºr Anf√§nger ist die Arbeit der Anf√§nger selbst)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/420901/">  Guten Tag! <br><br>  Ich habe mir zum Ziel gesetzt, das Spring-Framework f√ºr die Java-Sprache zu lernen.  W√§hrend des Studiums beschloss ich, den Lernalgorithmus von Richard Feynman selbst zu √ºberpr√ºfen: Organisieren, Vereinfachen, Trainieren eines anderen.  Im Allgemeinen begann ich im Fr√ºhjahr, eine Reihe von Kurzstunden f√ºr Anf√§nger aufzunehmen.  F√ºr diejenigen, die wiederholen m√∂chten, habe ich den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Quellcode ausgelegt</a> . <br><a name="habracut"></a><br><h2>  Lektion 01. IoC verstehen </h2><br>  Lassen Sie uns also Dichter zusammenbringen, sie komponieren und uns ihre Gedichte vorlesen. <br><br>  Deklarieren Sie zun√§chst die Schnittstelle, die die Verse <i>src \ main \ java \ spring \ interfaces \ Lyricist.java</i> generiert <i>:</i> <br><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> spring.intarfaces; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Lyricist</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Generate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; }</code> </pre> <br>  Wir implementieren diese Schnittstelle in der <i>Klasse src \ main \ java \ spring \ impls \ Mayakovsky.java</i> : <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> spring.impls; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> spring.intarfaces.Lyricist; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Mayakovsky</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Lyricist</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Generate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">" \r\n"</span></span> + <span class="hljs-string"><span class="hljs-string">" \r\n"</span></span> + <span class="hljs-string"><span class="hljs-string">" \r\n"</span></span> + <span class="hljs-string"><span class="hljs-string">"   ?"</span></span>; } }</code> </pre><br>  Wir werden schreiben, dass wir ein bestimmtes Mayakovsky-Objekt in der XML-Konfigurationsdatei <i>src \ main \ resources \ ApplicationContext.xml</i> erstellen werden: <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">beans</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.springframework.org/schema/beans"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xsi:schemaLocation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bean</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LyricistBean1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"spring.impls.Mayakovsky"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">beans</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Assoziierte ID LyricistBean1 mit Mayakovsky Klassenname.  Fast alles ist fertig, nur die aufrufende Klasse <i>src \ main \ java \ spring \ main \ Start.java fehlt</i> : <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> spring.main; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.ApplicationContext; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.ConfigurableApplicationContext; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.support.ClassPathXmlApplicationContext; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> spring.intarfaces.Lyricist; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Start</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ ApplicationContext context = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ClassPathXmlApplicationContext(<span class="hljs-string"><span class="hljs-string">"ApplicationContext.xml"</span></span>); Lyricist lyr1 = context.getBean(<span class="hljs-string"><span class="hljs-string">"LyricistBean1"</span></span>, Lyricist.class); System.out.println(lyr1.Generate()); ((ConfigurableApplicationContext) context).close();<span class="hljs-comment"><span class="hljs-comment">//    } }</span></span></code> </pre><br>  In der Start-Klasse haben wir unsere Konfigurationsdatei gelesen und eine Instanz des Dichters namens bean LyricistBean1 erstellt.  Ich habe eine Kopie des Dichters Mayakovsky bekommen.  Die Funktion Generate () hat uns unsterbliche Zeichenfolgen zur√ºckgegeben: <br><blockquote>  Und Sie <br>  Nocturne spielen <br>  k√∂nnten <br>  auf einer Abflussrohrfl√∂te? </blockquote><h2>  Lektion 02. Ausw√§hlen einer Instanz, die √ºber die Konfigurationsdatei erstellt werden soll </h2><br>  Nehmen wir an, ein Freund hat uns geholfen und eine weitere Implementierung unserer Lyricist <i>src \ main \ java \ spring \ impls \ Poushkin.java-Schnittstelle bereitgestellt</i> : <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> spring.impls; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> spring.intarfaces.Lyricist; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Poushkin</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Lyricist</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Generate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"   :\r\n"</span></span> + <span class="hljs-string"><span class="hljs-string">"   ,\r\n"</span></span> + <span class="hljs-string"><span class="hljs-string">"  ,\r\n"</span></span> + <span class="hljs-string"><span class="hljs-string">"   ."</span></span>; } }</code> </pre><br>  √Ñndern Sie in der Konfigurationsdatei ApplicationContext.xml Mayakovsky in Poushkin. <br><br>  F√ºhren Sie das Programm aus.  Wir <u>erhalten ein</u> v√∂llig anderes Ergebnis, <u>ohne es neu aufzubauen</u> : <br><blockquote>  Ich erinnere mich an einen wundervollen Moment <br>  Du bist vor mir erschienen <br>  Wie eine fl√ºchtige Vision <br>  Wie ein Genie von purer Sch√∂nheit. </blockquote><h2>  Lektion 03. Beans im Code, nicht in der Konfigurationsdatei </h2><br>  Angenommen, wir m√∂chten <s>dem Schicksal</s> der Konfigurationsdatei nicht die Wahl der Klasse des Dichters geben. <br><br>  √Ñndern Sie die Klasse Poushkin.java <br><br><ol><li>  Import importieren Bibliothek importieren org.springframework.stereotype.Component; </li><li>  F√ºgen Sie die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">Komponentenanmerkung</a> ("LyricistBean1") vor die Klassendeklaration ein </li></ol><br>  Also haben wir Spring angedeutet, dass wir Poushkin in Form des ersten Dichters sehen wollen und nicht jemand anderen. <br><br>  Die Konfigurationsdatei ApplicationContext.xml muss noch leicht repariert werden: <br><br>  1. F√ºgen Sie den Namespace-Kontext hinzu: xmlns: context = " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">www.springframework.org/schema/context</a> "; <br><br>  2. L√∂schen Sie die unn√∂tige Zeile: /&gt; <br><br>  3. F√ºgen Sie stattdessen einen Befehl hinzu, um dem Programm automatisch Beans aus allen Klassen im Verzeichnis spring.impls hinzuzuf√ºgen: <br><br>  &lt;context: component-scan base-package = "spring.impls" /&gt; <br><br>  Daher sollte die Datei ApplicationContext.xml folgenderma√üen aussehen: <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">beans</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.springframework.org/schema/beans"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:context</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.springframework.org/schema/context"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xsi:schemaLocation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">context:component-scan</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">base-package</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"spring.impls"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">beans</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Wir fangen an.  Wir erhalten das gleiche Ergebnis wie in der vorherigen Lektion. <br><br><h2>  Lektion 04. Konfigurationsklasse </h2><br>  Lassen Sie uns die XML-Datei insgesamt loswerden. <br><br>  Alle Einstellungen k√∂nnen auch in der Java-Klasse sein.  Manchmal ist es bequem. <br><br>  F√ºgen Sie unserem Programm eine spezielle Konfigurationsklasse <i>src \ main \ java \ spring \ main \ LyricistConfiguration.java hinzu</i> : <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> spring.main; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.annotation.ComponentScan; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.annotation.Configuration; <span class="hljs-meta"><span class="hljs-meta">@ComponentScan</span></span>(basePackages = { <span class="hljs-string"><span class="hljs-string">"spring.impls"</span></span> }) <span class="hljs-meta"><span class="hljs-meta">@Configuration</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LyricistConfiguration</span></span></span><span class="hljs-class"> </span></span>{ }</code> </pre><br>  @ComponentScan zeigt an, in welchem ‚Äã‚ÄãVerzeichnis nach Beans gesucht werden soll. <br>  @Configuration meldet, dass unsere Klasse eine spezielle Konfiguration ist. <br><br>  Das war's, die XML-Datei wird nicht mehr ben√∂tigt.  Es bleibt, diese Nachricht unserer Hauptklasse zu melden: <br><br><ol><li>  Erg√§nzen Sie es mit dem erforderlichen Import <i>import org.springframework.context.annotation.AnnotationConfigApplicationContext;</i> </li><li>  Ersetzen Sie die Kontexterstellungszeile <br>  <i>ApplicationContext context = new AnnotationConfigApplicationContext (LyricistConfiguration.class);</i> </li></ol><br>  Daher sollte die <i>Datei</i> main <i>src \ main \ java \ spring \ main \ Start.java folgenderma√üen</i> aussehen: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> spring.main; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.ApplicationContext; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.ConfigurableApplicationContext; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.annotation.AnnotationConfigApplicationContext; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> spring.intarfaces.Lyricist; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Start</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ ApplicationContext context = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AnnotationConfigApplicationContext(LyricistConfiguration.class); Lyricist lyr1 = context.getBean(<span class="hljs-string"><span class="hljs-string">"LyricistBean1"</span></span>, Lyricist.class); System.out.println(lyr1.Generate()); ((ConfigurableApplicationContext) context).close();<span class="hljs-comment"><span class="hljs-comment">//    } }</span></span></code> </pre><br>  Alles beginnt und produziert immer noch unsterbliche Puschkin-Linien.  Alles arbeitet.  Aber schon ohne xml. <br><br><h2>  Lektion 05. Singleton und Prototyp </h2><br>  Entdecken Sie die Funktionen der Konfigurationsdatei.  Kehren wir daher ab der zweiten Lektion zum Projekt zur√ºck.  Versuchen wir, zwei Instanzen der Poushkin-Klasse in Start.java zu erstellen und sicherzustellen, dass der gro√üe Dichter derselbe ist: <br><br><pre> <code class="hljs pgsql"> Lyricist lyr1 = context.getBean("LyricistBean1", Lyricist.<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(lyr1.Generate()); <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(lyr1.hashCode()); Lyricist lyr2 = context.getBean("LyricistBean1", Lyricist.<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(lyr2.Generate()); <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(lyr2.hashCode());</code> </pre><br>  Und die Verse sind die gleichen und der Hash-Code f√§llt ab.  Alles ist in Ordnung. <br><br>  F√ºgen Sie unserem Projekt einen einfachen B√ºrger hinzu, der keine Verse <i>src \ main \ java \ spring \ impls \ SimpleMan.java schreibt</i> : <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> spring.impls; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> spring.intarfaces.Lyricist; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleMan</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Lyricist</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Generate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"  ,   "</span></span>; } }</code> </pre><br>  Registrieren Sie die Klasse in der Konfigurationsdatei (unmittelbar nach dem ersten Bin). <pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bean</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LyricistBean2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"spring.impls.SimpleMan"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br><br>  Wir versuchen zu schaffen <br><br><pre> <code class="hljs pgsql"> Lyricist lyr1 = context.getBean("LyricistBean2", Lyricist.<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(lyr1.Generate()); <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(lyr1.hashCode()); Lyricist lyr2 = context.getBean("LyricistBean2", Lyricist.<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(lyr2.Generate()); <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(lyr2.hashCode());</code> </pre><br>  Der B√ºrger ist die ganze Zeit derselbe.  Das Durcheinander ... <br><br>  √Ñndern Sie die Registrierung der Bean in der Konfigurationsdatei, indem Sie das Zauberwort scope = "prototype" hinzuf√ºgen. <br><br>  Infolgedessen sieht die Datei <i>src \ main \ resources \ ApplicationContext.xml folgenderma√üen</i> aus: <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">beans</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.springframework.org/schema/beans"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xsi:schemaLocation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bean</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LyricistBean1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"spring.impls.Poushkin"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">scope</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"singleton"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bean</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LyricistBean2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"spring.impls.SimpleMan"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">scope</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"prototype"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">beans</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Jetzt ist alles in Ordnung.  Die B√ºrger sind jedes Mal anders.  Aber Puschkin ist immer allein. <br><br>  Aufmerksame Leute bemerkten, dass der Einstellungsbereich = "Singleton" im ersten Bin hinzugef√ºgt wurde, aber diese Einstellung wird standardm√§√üig verwendet, sodass Sie sie nicht schreiben k√∂nnen. <br><br>  Das ist alles f√ºr heute.  Wenn dieser Beitrag moderiert wird und ich Zeit und Energie habe, wird es eine Fortsetzung √ºber AOP, JDBC, Transaktionen, MVC und andere Weisheiten geben. <br><br>  Gr√º√üe, Vladimir </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de420901/">https://habr.com/ru/post/de420901/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de420889/index.html">Die milit√§rische Minenerkennungstechnologie hilft Robomobilen beim Navigieren auf allen Stra√üen</a></li>
<li><a href="../de420891/index.html">Migration zu JUnit 5 in 10 min. Testzeit mit Extensions messen</a></li>
<li><a href="../de420893/index.html">Franchise-Verpackung A bis B.</a></li>
<li><a href="../de420895/index.html">Wie ich ein Ger√§t (JTAG-Emulator BH-USB-560v2) √ºber U-Boot wiederbelebt habe</a></li>
<li><a href="../de420897/index.html">PyBullet Verst√§rkungstraining</a></li>
<li><a href="../de420903/index.html">Implementierung von ERP: Wie man nicht versagt</a></li>
<li><a href="../de420905/index.html">Wie intelligente Beleuchtung in Russland eingef√ºhrt wird und wie lange es dauern wird</a></li>
<li><a href="../de420907/index.html">Von NOKLA bis Xiaomi: Die Entwicklung der chinesischen Mobiltelefone</a></li>
<li><a href="../de420909/index.html">Russische Fernsehunternehmen werfen Yandex Piraterie vor</a></li>
<li><a href="../de420913/index.html">F√ºhren Sie Kubernetes in LXC aus</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>