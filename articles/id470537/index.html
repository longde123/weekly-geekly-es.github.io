<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🖖🏿 👩‍💼 ☠️ Paket validasi baru untuk Bereaksi pada Mobx @ quantumart / mobx-form-validation-kit 😽 🔶 🆒</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Selamat siang 
 Hari ini saya ingin berbicara tentang paket baru untuk validasi asinkron dalam proyek yang didasarkan pada Bereaksi , Mobx dan ditulis...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Paket validasi baru untuk Bereaksi pada Mobx @ quantumart / mobx-form-validation-kit</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470537/">  Selamat siang <br>  Hari ini saya ingin berbicara tentang paket baru untuk validasi asinkron dalam proyek yang didasarkan pada <i>Bereaksi</i> , <i>Mobx</i> dan ditulis dalam <i>naskah</i> . <br>  Pengembangan Frontend Modern melibatkan sejumlah besar logika ketika mengisi halaman dengan dokumen, kuesioner dan dokumen untuk pinjaman, pesanan pembayaran, halaman pendaftaran di situs.  Beban logis utama jatuh pada pemeriksaan validasi.  Pengembang <i>sudut</i> memikirkan hal ini dan menawarkan pengembang untuk menggunakan mekanisme <b>FormControl bawaan</b> untuk tujuan ini, yang, meskipun memiliki sejumlah kelemahan, masih lebih baik daripada tidak adanya solusi seperti pada <i>React</i> .  Situasi ini diperumit oleh fakta bahwa tren perkembangan <i>React</i> saat ini melibatkan penggunaan mobx untuk mengatur logika bisnis. <br>  Menghadapi masalah ini, kami menyelesaikan semuanya dengan menulis sebuah paket: <i><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">@ quantumart / mobx-form-validation-kit</a></b></i> <br><br>  Keuntungan paket: <br><ul><li> Seluruhnya di <i>TypeScript</i> </li><li>  Kompatibel dengan Mobx (versi 4, yang mendukung, favorit semua orang, IE10) </li><li>  Dirancang untuk bekerja dalam <i>React</i> (dapat digunakan dalam proyek tanpa bereaksi) </li><li>  Dirancang untuk validasi asinkron </li><li>  Mudah ditanamkan dalam proyek yang sudah ada. </li></ul><br>  Instruksi untuk bekerja dengan paket di bawah potongan. <br><a name="habracut"></a><br><br>  Pada awalnya kami akan menjelaskan fungsionalitas dari paket <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kit @ quantumart / mobx-form-validation</a></i> , di akhir artikel kami akan menulis halaman yang berfungsi penuh dengan contoh formulir pendaftaran di situs. <br><br><h2>  Kontrol formulir </h2><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">@ quantumart / mobx-form-validation-kit</a></i> memungkinkan Anda membuat lapisan antara sumber data dan formulir untuk ditampilkan.  Yang, pada gilirannya, memungkinkan Anda untuk memvalidasinya dan, jika perlu, mengubah data sebelum sampai ke objek asli. <br><img src="https://habrastorage.org/webt/ng/tj/qw/ngtjqwnwm_yh1bkjtiwn6o41pwk.png"><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pustaka @ quantumart / mobx-form-validation-kit</a></i> berisi tiga kelas utama (komponen validasi) untuk mengelola formulir: <br><ul><li>  <b>FormGroup</b> - memungkinkan Anda untuk menggabungkan komponen validasi bersama.  Kelas diketik, dan memungkinkan Anda untuk membuat ulang antarmuka dengan daftar bidang sebagai parameter umum.  Apa pun terdaftar secara default, sangat disarankan untuk tidak menggunakannya tanpa mengetik, tetapi ada kemungkinan. </li><li>  <b>FormControl</b> - digunakan untuk memvalidasi bidang tertentu, kelas yang paling umum digunakan.  Kelas diketik, dan mengambil sebagai generik parameter jenis variabel yang harus disimpan.  Secara default, string terdaftar, karena  defaultnya adalah string, sebagai opsi paling pribadi untuk formulir. </li><li>  <b>FormArray</b> - memungkinkan Anda untuk membuat dan mengelola berbagai komponen validasi. </li></ul><br>  Selain itu, ada kelas abstrak dasar <br><ul><li>  <b>AbstractControl</b> - kelas dasar untuk semua kelas validasi yang terdaftar, tidak diketik. </li><li>  <b>FormAbstractControl</b> - kelas dasar untuk <b>FormGroup</b> dan <b>FormArray</b> , tidak diketik. </li><li>  <b>FormAbstractGroup</b> - bukan kelas dasar yang diketik untuk FormControl, berisi tautan ke elemen html yang sedang dirender. </li></ul><br>  Praktik terbaik untuk membuat formulir validasi adalah gagasan berikut. <br>  Objek tipe satu <b>FormGroup</b> dibuat pada formulir dan bidang sudah terdaftar di dalamnya <br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormGroup&lt;IUserInfo&gt;({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name, [], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name = v) ), <span class="hljs-attr"><span class="hljs-attr">surname</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.surname, [], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.surname = v) ) <span class="hljs-comment"><span class="hljs-comment">// … });</span></span></code> </pre> <br>  <b>FormGroup</b> mendukung bersarang, mis. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormGroup&lt;IUserInfo&gt;({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name, [], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name = v) ), <span class="hljs-attr"><span class="hljs-attr">surname</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.surname, [], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.surname = v) ) passport: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormGroup&lt;IPassport &gt;({ <span class="hljs-attr"><span class="hljs-attr">number</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.passport.number, [], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.passport.number = v) ), <span class="hljs-comment"><span class="hljs-comment">// … }) // … });</span></span></code> </pre><br>  Anda bisa menambahkan <b>FormArray</b> , yang pada gilirannya bisa dilewati tipe <b>FormControl</b> dan atau seluruh <b>FormGroup</b> membuat objek kompleksitas dan struktur apa pun. <br><ul><li>  FormArray &lt;FormControl&gt; <br>  FormArray &lt;FormGroup&gt; <br><br>  <b>FormControl</b> sendiri mengambil set parameter berikut ke dalam konstruktor <br><ul><li>  <b>value</b> : TEntity adalah nilai awal yang diketik. </li><li>  <b>validator</b> : ValidatorFunctionFormControlHandler [] - satu set validator. </li><li>  <b>callbackValidValue</b> : UpdateValidValueHandler |  null - fungsi panggil balik yang nilai terakhir terakhir dilewatkan.  Itu disebut setiap kali nilai di FormControl berubah dan nilai ini melewati validasi yang dijelaskan. </li><li>  <b>aktifkan</b> : (() =&gt; boolean) |  null - fungsi akan mengaktifkan / menonaktifkan validasi berdasarkan kondisi (selalu diaktifkan secara default).  Misalnya, validitas tanggal akhir layanan tidak perlu diperiksa jika kotak centang "Tidak Terbatas" tidak dicentang.  Akibatnya, cukup dengan memasukkan fungsi di sini yang memeriksa keadaan bidang yang <i>dapat diamati yang</i> bertanggung jawab atas kotak centang "Tidak Terbatas", Anda dapat secara otomatis mematikan semua validasi yang terkait dengan bidang untuk memeriksa tanggal, daripada mendaftarkan logika ini di masing-masing validasi bidang tanggal. </li><li>  <b>additionalData</b> : TAdditionalData |  null - blok dengan informasi tambahan memungkinkan Anda untuk menambahkan informasi tambahan ke <b>FormControl</b> tertentu dan menggunakannya nanti, misalnya, untuk visualisasi.  Ini nyaman jika ada pembangun untuk <b>FormControl</b> di mana Anda perlu mengurai informasi tertentu, dan tidak meneruskan informasi ini melalui bundel data yang kompleks ke kontrol untuk visualisasi.  Meskipun saya tidak dapat memberikan skenario aplikasi yang tepat dan tidak dapat disangkal, lebih baik memiliki kesempatan seperti itu daripada menderita tanpanya. </li></ul><br>  Ada satu batasan yang dimiliki oleh <i>Angular</i> <i>FormControl</i> : tidak perlu menggunakan kembali objek pada formulir yang berbeda.  Yaitu  Anda bisa membuat <b>pembuat</b> FormGroup dan membuat objek Anda sendiri di setiap halaman.  Tetapi menggunakan satu objek per sekelompok halaman adalah praktik yang buruk. <br>  Selain itu, <b>FormControl</b> diinisialisasi dengan nilai tunggal, dan jika nilai ini diubah, nilai baru tidak akan masuk ke <b>FormControl</b> .  Ini dilakukan dengan sengaja, karena, seperti yang telah ditunjukkan oleh praktik, untuk beberapa alasan, semua orang dengan keras kepala berusaha untuk mengedit objek asli dengan melewati validasi, dan bukan nilai di <b>FormControl</b> .  Cukup berikan nilai baru ke bidang nilai <b>FormControl</b> untuk memodifikasi objek asli. <br>  <b>FormGroup</b> menerima set parameter berikut di konstruktor: <br><ul><li>  <b>kontrol</b> : TControls - objek yang diwarisi dari <b>AbstractControls</b> .  Bahkan, cukup buat <i>antarmuka yang</i> diwarisi dari <b>AbstractControls</b> di mana Anda menghitung bidang tipe <b>FormGroup</b> , <b>FormControl</b> , <b>FormArray</b> .  Anda tentu saja dapat mengatur tipe ke <i>apa saja</i> , tetapi kemudian semua keuntungan dari <i>TypeScript</i> akan hilang. </li><li>  <b>validator</b> : ValidatorFunctionFormGroupHandler [] - satu set validator untuk nilai grup.  Misalnya, Anda bisa membuat <b>FormGroup yang</b> berisi dua nilai - tanggal minimum dan maksimum, untuk kontrol pemilihan periode.  Di validator inilah Anda harus melewati fungsi / fungsi memeriksa rentang tanggal.  Misalnya, tanggal mulai tidak lebih besar dari tanggal akhir </li><li>  <b>aktifkan</b> : (() =&gt; boolean) |  null - fungsi akan mengaktifkan / menonaktifkan validasi berdasarkan kondisi (selalu diaktifkan secara default).  Harus dipahami bahwa menerapkan fungsi validasi ke grup menonaktifkan validasi di level seluruh grup.  Misalnya, kami memiliki kotak pilihan untuk dokumen identitas.  Anda dapat membuat beberapa <b>FormGroup</b> dengan kumpulan bidang dokumen yang berbeda: paspor, SIM, paspor pelaut, dll. ... Dalam fungsi ini, periksa nilai dropdown, dan jika nilai yang dipilih tidak sesuai dengan grup ini, semua pemeriksaan validasi dinonaktifkan.  Lebih tepatnya, grup akan dianggap valid, terlepas dari nilai-nilai di dalamnya. </li></ul><br>  Mari kita bicara tentang bidang <b>FormControl</b> , termasuk keberadaan <b>FormGroup</b> dan <b>FormArray</b> . <br><ul><li>  <b>ControlTypes</b> - jenis kontrol (Kontrol | Grup | Array) </li><li>  <b>pemrosesan</b> : boolean - dalam proses analisis.  Karena  Validasi asinkron didukung, misalnya, yang memerlukan permintaan server.  Status pemindaian saat ini dapat ditemukan di bidang ini. <br>  Selain itu, <b>FormGroup</b> dan <b>FormArray</b> mendukung metode <b>tunggu</b> , yang memungkinkan Anda menunggu pemeriksaan selesai.  Misalnya, ketika Anda mengklik tombol "kirim data", Anda harus mendaftarkan desain berikut. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">await</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form.wait(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form.invalid) { …</code> </pre> <br></li><li>  <b>dinonaktifkan</b> : boolean - pengecekan kesalahan dinonaktifkan (kontrol selalu valid) </li><li>  <b>aktif</b> : boolean - pengecekan kesalahan diaktifkan.  Tergantung pada hasil dari fungsi aktivasi.  Nilai ini sangat nyaman digunakan untuk menyembunyikan sekelompok bidang pada formulir dan tidak menulis fungsi logika bisnis tambahan dan duplikat. </li><li>  <b>tidak valid</b> : boolean;  - untuk <b>FormControl</b> - berarti bidang tersebut berisi kesalahan validasi.  Untuk <b>FormGroup</b> dan <b>FormArray, itu</b> berarti kontrol grup itu sendiri mengandung kesalahan, atau salah satu bidang yang bersarang (pada level bersarang mana saja) mengandung kesalahan validasi.  Yaitu  untuk memeriksa validitas seluruh formulir, cukup melakukan satu cek yang tidak valid atau valid dari FormGroup atas. </li><li>  <b>valid</b> : boolean - for <b>FormControl</b> - berarti bidang tersebut tidak mengandung kesalahan validasi.  Untuk FormGroup dan FormArray, itu berarti kontrol grup itu sendiri tidak mengandung kesalahan dan tidak ada bidang yang bersarang (pada tingkat bersarang apa pun) yang mengandung kesalahan validasi. </li><li>  <b>murni</b> : boolean - nilai di lapangan, setelah inisialisasi dengan nilai default, tidak berubah. </li><li>  <b>kotor</b> : boolean - nilai di lapangan, setelah inisialisasi dengan nilai default, berubah. </li><li>  <b>tak tersentuh</b> : boolean - untuk <b>FormControl</b> - berarti bidang (mis. input) tidak dalam fokus.  Untuk FormGroup dan FormArray berarti bahwa tidak ada FormControl yang bersarang dalam fokus.  Nilai false di bidang ini berarti bahwa fokus tidak hanya ditetapkan, tetapi juga dihapus dari bidang. </li><li>  <b>menyentuh</b> : boolean - Untuk <b>FormControl</b> - berarti bidang (misalnya, input) dalam fokus.  Untuk <b>FormGroup</b> dan <b>FormArray</b> , itu berarti salah satu <b>FormControls</b> bersarang berada dalam fokus.  Nilai true dalam bidang ini berarti bahwa fokus tidak hanya ditetapkan, tetapi juga dihapus dari bidang. </li><li>  <b>terfokus</b> : boolean - untuk <b>FormControl</b> - berarti bidang tersebut (misalnya input) sekarang dalam fokus.  Untuk <b>FormGroup</b> dan <b>FormArray</b> , itu berarti bahwa salah satu <b>FormControls</b> bersarang sekarang dalam fokus. </li><li>  <b>kesalahan</b> : ValidationEvent [] - bidang berisi kesalahan validasi.  Tidak seperti bidang yang terdaftar, array ini mengandung kesalahan <b>FormControl</b> , atau <b>FormGroup</b> , atau <b>FormArray</b> , yaitu  kesalahan kontrol ini, dan tidak semua bersarang.  Mempengaruhi bidang yang valid / tidak valid </li><li>  <b>peringatan</b> : ValidationEvent [] - bidang berisi pesan Peringatan.  Tidak seperti bidang yang terdaftar, array ini mengandung kesalahan FormControl, atau FormGroup, atau FormArray, yaitu  pesan dari kontrol ini, tetapi tidak semua terlampir.  Tidak memengaruhi bidang yang valid / tidak valid </li><li>  <b>informationMessages</b> : ValidationEvent [] - bidang berisi pesan informasi.  Tidak seperti bidang yang terdaftar, array ini mengandung kesalahan FormControl, atau FormGroup, atau FormArray, yaitu  pesan dari kontrol ini, tetapi tidak semua terlampir.  Tidak memengaruhi bidang yang valid / tidak valid </li><li>  <b>sukses</b> : ValidationEvent - bidang berisi pesan validitas tambahan.  Tidak seperti bidang yang terdaftar, array ini mengandung kesalahan FormControl, atau FormGroup, atau FormArray, yaitu  pesan dari kontrol ini, tetapi tidak semua terlampir.  Tidak memengaruhi bidang yang valid / tidak valid </li><li>  <b>maxEventLevel ()</b> - tingkat maksimum pesan validasi saat ini di lapangan. </li><li>  Metode akan mengembalikan salah satu nilai enum, dalam prioritas berikutnya. <br><ol><li>  ValidationEventTypes.Error; </li><li>  ValidasiEventTypes.Warning; </li><li>  ValidationEventTypes.Info; </li><li>  ValidationEventTypes. Berhasil; </li></ol><br></li><li>  <b>serverErrors</b> : string [] - setelah mengirim pesan ke server, ada baiknya juga untuk memeriksa validitas formulir di server.  Akibatnya, server dapat mengembalikan kesalahan dari pemeriksaan formulir akhir, dan array <b>serverErrors</b> dimaksudkan untuk kesalahan ini.  Fitur utama dari <b>serverErrors</b> adalah pembersihan otomatis pesan validasi ketika fokus hilang dari bidang di mana kesalahan server diberikan, dan kesalahan server juga dihapus jika bidang telah diubah. </li><li>  onChange: Delegasi - sebagai tambahan dari mekanisme <i>mobx</i> standar - <i>reaksi,</i> Anda dapat menggunakan delegate dan menambahkan fungsi callback ke dalamnya, yang dipanggil saat data berubah. </li><li>  <b>setDirty</b> (kotor: boolean): void - metode ini akan memungkinkan Anda untuk mengubah nilai dari bidang yang <b>masih asli</b> / <b>kotor</b> </li><li>  <b>setTouched</b> (disentuh: boolean): void;  - metode ini akan memungkinkan Anda untuk mengubah nilai bidang yang <b>belum tersentuh</b> / <b>tersentuh</b> </li><li>  <b>buang</b> (): batal;  - diperlukan untuk memanggil kontrol yang bertanggung jawab atas halaman di componentWillUnmount. </li></ul><br><br>  Ini adalah bidang yang umum untuk semua kontrol, tetapi setiap kontrol juga memiliki bidang yang unik untuk jenisnya. <br>  <b>Kontrol formulir</b> <br><ul><li>  <b>nilai</b> - berisi nilai bidang saat ini.  Anda juga dapat menetapkan nilai baru untuk bidang ini. </li></ul><br><br>  <b>FormGroup</b> dan <b>FormArray</b> berisi <br><ul><li>  <b>tunggu</b> - metode ini memungkinkan Anda untuk mengharapkan akhir dari semua (validasi) termasuk bersarang </li><li>  <i>allControls ()</i> - metode ini memungkinkan Anda untuk mendapatkan satu set lengkap semua FormControl termasuk bersarang di tingkat yang berbeda.  Yaitu  pada kenyataannya, ia memperluas objek FormGroup multilevel, yang juga bisa berisi FormGroup, menjadi satu daftar besar yang hanya terdiri dari FormControl.  Fungsionalitas ini diperlukan jika kami ingin menemukan elemen yang tidak valid pertama dan fokus padanya <br>  kode, dalam hal ini, akan terlihat seperti ini: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">await</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form.wait(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form.invalid) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form.setTouched(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> firstError = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form.allControls().find(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">c</span></span></span><span class="hljs-function"> =&gt;</span></span> c.invalid &amp;&amp; !!c.element); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!!firstError) { firstError.element.focus(); } } ...</code> </pre> <br></li></ul><br><br><h2>  Validasi </h2><br>  Tentu saja, selain kontrol yang memungkinkan Anda bekerja dengan data, kami membutuhkan validasi sendiri.  Paket <i><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">@ quantumart / mobx-form-validation-kit</a></b></i> secara alami berisi sejumlah validasi yang telah ditentukan, dan juga mendukung pembuatan validasi kustom. <br>  Contoh pengaturan validasi untuk <b>FormControl</b> untuk bidang usia. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl&lt;number&gt;( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.age, [required(), minValue(<span class="hljs-number"><span class="hljs-number">18</span></span>, <span class="hljs-string"><span class="hljs-string">"    18 ."</span></span>, ValidationEventTypes.Warning)], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.age = v) )</code> </pre> <br>  Setiap validasi dengan parameter terbaru membutuhkan: <br><ul><li>  Pesan - Pesan validasi. </li><li>  eventType - tingkat pesan.  4 tingkat pesan didukung. <br><ol><li>  Kesalahan - kesalahan </li><li>  Peringatan - peringatan </li><li>  Info - Pesan Informasi </li><li>  Sukses - pesan tentang validitas.  Misalnya, Anda dapat memverifikasi bahwa kata sandi itu sangat kompleks. </li></ol><br></li></ul><br>  Paket berisi set validasi berikut: <br><ul><li>  <b>diperlukan</b> (... - bidang wajib diisi </li><li>  <b>notEmptyOrSpaces</b> (... - bidang tidak kosong dan tidak hanya berisi spasi. Bahkan, diperlukan, dengan mempertimbangkan larangan ruang. </li><li>  <b>pola</b> (regExp: RegExp, ... - parameter pertama adalah ekspresi reguler yang harus cocok dengan bidang. Kesalahan dihasilkan jika tidak ada pencocokan pola. </li><li>  <b>invertPattern</b> (regExp: RegExp, ... - parameter pertama adalah ekspresi reguler yang tidak cocok dengan bidang. Kesalahan dihasilkan jika ada kecocokan pola. </li><li>  <b>minLength</b> (minlength: number, .... - parameter pertama adalah panjang minimum teks inklusif. Kesalahan dihasilkan jika panjangnya kurang dari yang dikirim. </li><li>  <b>maxLength</b> (maxlength: number, .... - parameter pertama adalah panjang maksimum teks inklusif. Kesalahan dikeluarkan jika panjangnya lebih panjang dari yang dikirim. </li><li>  <b>absoluteLength</b> (length: number, .... - parameter pertama adalah panjang teks yang tepat. Kesalahan akan terjadi jika panjangnya tidak cocok dengan yang ditentukan. </li><li>  <b>minValue</b> (min: TEntity | (() =&gt; TEntity), ... - validasi ini hanya ditujukan untuk angka dan tanggal. Kesalahan ditetapkan jika nilainya kurang dari yang ditentukan. Keunikan validasi adalah kemampuan untuk menerima tidak hanya nilai tertentu, tetapi juga fungsi, yang berarti bahwa jika Anda membaca nilai dalam fungsi ini dari bidang @observable objek, validasi itu sendiri akan dimulai kembali tidak hanya ketika bidang di mana validasi digantung diubah, tetapi juga ketika "bidang tertaut" diubah.  pertama kecuali bidang tag yang dibaca sebagai nilai @observable. </li><li>  <b>maxValue</b> (maks: TEntity | (() =&gt; TEntity), ... - validasi ini hanya ditujukan untuk angka dan tanggal. Kesalahan diatur jika nilainya lebih besar dari yang ditentukan. Fitur validasi adalah kemampuan untuk menerima tidak hanya nilai tertentu, tetapi juga fungsi, yang berarti bahwa jika Anda membaca nilai dalam fungsi ini dari bidang @observable objek, validasi itu sendiri akan dimulai kembali tidak hanya ketika bidang di mana validasi digantung diubah, tetapi juga ketika "bidang tertaut" diubah.  pertama kecuali bidang tag yang dibaca sebagai nilai @observable </li><li>  <b>notContainSpaces</b> (... - tidak seperti notEmptyOrSpaces, kesalahan akan dikeluarkan jika nilainya bahkan mengandung setidaknya satu spasi. </li><li>  <b>bandingkan</b> (ekspresi: (nilai: TEntity) =&gt; boolean (... - menulis fungsi validasi Anda sendiri menghasilkan banyak kode salin-rekat, pembungkus ini dikembangkan untuk menghilangkan masalah ini. Fungsi validasi ini menerima fungsi sebagai parameter pertama, yang pada gilirannya melewati nilai saat ini) bidang, yang memungkinkan Anda untuk membuat pemeriksaan kompleks, misalnya, menghitung hash untuk TIN atau nomor paspor, dan kemudian mengembalikan true / false. Kesalahan akan ditampilkan jika centang mengembalikan false. </li><li>  <b>isEqual</b> (nilai: string ... - cek kecocokan string sederhana. </li></ul><br>  Berikut ini menjelaskan fungsi pembungkus yang mengontrol aliran pemicu validasi. <br>  Perlu dicatat bahwa set validasi diteruskan ke <b>FormControl</b> , <b>FormGroup</b> , <b>FormArray</b> diluncurkan dalam satu array dan pada kenyataannya tidak memiliki urutan eksekusi.  Sebagai hasil dari pekerjaan, kita akan memiliki <i>kesalahan di</i> bidang, <i>peringatan</i> , <i>informasi Pesan</i> , array <i>sukses yang</i> terdiri dari kesalahan, peringatan, digabungkan menjadi satu array, dll ... <br>  Seringkali pelanggan hanya ingin melihat satu kesalahan, dan tidak sekaligus.  Selain itu, TOR dapat dirancang sehingga satu pemeriksaan dilakukan hanya setelah yang sebelumnya telah berlalu. <br>  Untuk mengatasi masalah ini, <b>wrapperSequentialCheck</b> digunakan.  Panggilan dan aplikasinya tidak berbeda dari validator fungsi biasa, tetapi pada input itu menerima array validator yang akan diluncurkan secara berurutan, mis.  Validasi berikutnya hanya dimulai setelah yang sebelumnya berlalu tanpa kesalahan. <br>  Fungsi pembungkus kedua adalah fungsi kontrol aliran validasi.  <b>wrapperActivateValidation sebagai</b> parameter pertama menerima fungsi di mana perlu untuk mendaftarkan kondisi untuk aktivasi validasi.  Berbeda dengan fungsi aktifkan yang diteruskan ke FormControl, pemeriksaan ini dirancang untuk logika yang lebih kompleks.  Misalkan kita memiliki pembangun bersama untuk seluruh bentuk pembayaran <b>FormGroup</b> , dan terlebih lagi, hanya ada satu metode di server yang menerima kumpulan bidang yang sama.  Tetapi tangkapannya adalah meskipun bentuknya satu, tergantung pada "jenis pembayaran" kami menunjukkan kumpulan bidang yang berbeda kepada pengguna.  Jadi <b>wrapperActivateValidation</b> memungkinkan <b>Anda</b> untuk menulis logika di mana berbagai pemeriksaan akan dilakukan tergantung pada jenis pembayaran. <br>  Penggunaan pembungkus akan terlihat seperti fungsi biasa. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.megapole, [wrapperActivateValidation(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.info.A === <span class="hljs-number"><span class="hljs-number">10</span></span>, [ required(), pattern(<span class="hljs-regexp"><span class="hljs-regexp">/\^d{10}$/</span></span>) ]), wrapperActivateValidation(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.info.A === <span class="hljs-number"><span class="hljs-number">20</span></span>, [ wrapperSequentialCheck([ notContainSpaces(), pattern(<span class="hljs-regexp"><span class="hljs-regexp">/\^d{20}$/</span></span>) ]) ])], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.megapole = v) )</code> </pre><br>  Contoh ini menunjukkan bahwa pemeriksaan <i>wajib (), pola (/ \ ^ d {10} $ /) hanya</i> akan dilakukan dengan <i>this.info.A === 10</i> , dan jika <i>this.info.A === 20</i> , kemudian <i>notContainSpaces (), validasi pola (/ \ ^ d {20} $ /)</i> akan berfungsi, selain itu, validasi ini akan bekerja secara berurutan, tidak seperti kasus pertama. <br><br>  Secara alami, saatnya akan tiba ketika set validasi standar tidak lagi cukup. <br>  Maka Anda harus menulis fungsi asinkron Anda sendiri.  Untungnya, ini dilakukan tanpa kesulitan khusus. <br>  <b>FormControl</b> awalnya dipertajam oleh fungsi validasi asinkron, yang mungkin ingin pergi ke server untuk data, dan jawaban ini perlu menunggu.  Dan sebagai hasilnya, semua validasi tidak sinkron. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkValueOnServer</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">control: FormControl</span></span></span><span class="hljs-function">): </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Promise</span></span></span><span class="hljs-function">&lt;</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ValidationEvent</span></span></span><span class="hljs-function">[]&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (control.value == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> []; } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> result = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> sendToServer(control.value); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (result.errorMessage) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ { <span class="hljs-attr"><span class="hljs-attr">message</span></span>: result.errorMessage, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: ValidationEventTypes.Error, }, ]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> []; }</code> </pre> <br>  Di sini Anda perlu memperhatikan dua objek. <br>  Pertama, kami selalu memikirkan array.  Yaitu  bahkan, Anda dapat mengembalikan beberapa pesan kesalahan sekaligus, jika diinginkan. <br>  Titik kedua adalah objek yang dikembalikan, ia memiliki set bidang berikut. <br><ul><li>  <b>key</b> ?: string - bidang opsional, memungkinkan Anda menentukan "kunci" untuk validasi tertentu.  Untuk semua tombol dasar, kunci tersebut unik dan cocok dengan namanya.  Anda mungkin ingin menggunakan kunci untuk membuat daftar sebagai reaksi, tetapi seperti yang telah ditunjukkan oleh praktik, ini adalah ide yang buruk.  Di masa depan, dalam contoh, saya akan menunjukkan bahwa lebih baik menggunakan pesan, dan tidak menyentuh tombol sama sekali.  Bagaimanapun, seperti di Angunar, tetapi kebutuhannya telah berkurang, pada kenyataannya, menjadi 0. </li><li>  <b>message</b> : string - pesan validasi.  Bidang wajib. </li><li>  <b>type</b> : ValidationEventTypes - tipe pesan. <br><ol><li>  Kesalahan - kesalahan </li><li>  Peringatan - peringatan </li><li>  Info - Pesan Informasi </li><li>  Sukses - pesan tentang validitas.  Misalnya, Anda dapat memverifikasi bahwa kata sandi itu sangat kompleks. </li></ol><br></li><li>  <b>additionalData</b> ?: ada - informasi tambahan yang dapat dikirim bersama dengan validasi, jika perlu.  Ini bisa berupa markup html tambahan atau gaya tertentu.  Secara umum, Anda bisa memasukkan semuanya ke dalam apa saja. </li></ul><br><br><h2>  Ekstensi </h2><br>  Sihir apa pun didasarkan pada hal-hal sepele.  Dan dalam hal ini, agar pengaturan fokus berfungsi, mendapatkan perubahan dari bidang memerlukan penautan <b>FormControl</b> di bidang input tertentu. <br>  Karena  <b>FormControl</b> tidak membatasi pengembang dalam jenis data yang divalidasi, karena keserbagunaannya, perlu untuk mengorbankan sedikit penerapan pada elemen reaksi. <br>  Pada saat yang sama, untuk input dan textarea dimungkinkan untuk membuat fungsi sederhana dari pengikatan data ke elemen, untuk komponen lain, prosesor masih harus melakukan upaya minimal untuk mengganti data. <br><br>  Untuk input, pengikatan elemen ke <b>FormControl</b> (nama) akan terlihat seperti ini. <br>  <b>&lt;input type = "text" {... InputFormControl.bindActions (controls.name)} /&gt;</b> <br>  Untuk textarea, mengikat akan seperti ini <br>  <b>&lt;textarea {... TextAreaFormControl.bindActions (controls.name)} /&gt;</b> <br><br>  <b>InputFormControl.bindActions</b> dan <b>TextAreaFormControl.bindActions</b> menerima dua parameter: <br><ul><li>  <b>formControl</b> : FormControl - sebenarnya FormControl yang akan digunakan untuk mengikat.  Wajib. </li><li>  <b>acara</b> ?  - Parameter opsional yang berisi daftar fungsi yang dapat dipanggil jika Anda perlu menyesuaikannya.   ,  <b>bindActions</b>  -   Element,   ,     element     <b>FormControl</b> -,   .    .         event.     . <br><ul><li> ref </li><li> onChange </li><li> onBlur </li><li> onFocus </li></ul><br></li></ul><br>      ,      <b>FormControl</b> -   . <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormGroup&lt;IUserInfo&gt;({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name, [], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name = v) ) });</code> </pre> <br>       <i>this.userInfo.name</i> ,    <b>FormControl</b>    .                 <b>FormControl.for</b> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormGroup&lt;IUserInfo&gt;({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: FormControl.for(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo, <span class="hljs-string"><span class="hljs-string">'name'</span></span>, []) });</code> </pre> <br>   ,        name <i>name</i>  . ,     TypeScript,  <i>name</i> ,    .         <i>userInfo</i> —    . <br><br>     —   .  :) <br><br><h2>  Contoh </h2><br>     React   TypeScript   mobx. <br>       . <br> <i>npm install @quantumart/mobx-form-validation-kit</i> <br><br><div class="spoiler"> <b class="spoiler_title">  ,      </b> <div class="spoiler_text">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="></a> : <br><br>   ,     <br> <i>npm init –y <br> npm install --save-dev webpack webpack-cli <br> npm install --save react react-dom <br> npm install --save-dev @types/react @types/react-dom <br> npm install --save-dev typescript ts-loader source-map-loader</i> <br><br>  <i>tsconfig.json</i> <br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"compilerOptions"</span></span>: { <span class="hljs-string"><span class="hljs-string">"outDir"</span></span>: <span class="hljs-string"><span class="hljs-string">"./dist/"</span></span>, <span class="hljs-string"><span class="hljs-string">"sourceMap"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"noImplicitAny"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"module"</span></span>: <span class="hljs-string"><span class="hljs-string">"commonjs"</span></span>, <span class="hljs-string"><span class="hljs-string">"target"</span></span>: <span class="hljs-string"><span class="hljs-string">"es6"</span></span>, <span class="hljs-string"><span class="hljs-string">"jsx"</span></span>: <span class="hljs-string"><span class="hljs-string">"react"</span></span>, <span class="hljs-string"><span class="hljs-string">"experimentalDecorators"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"emitDecoratorMetadata"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> } }</code> </pre><br>     <br><ul><li> src\components\Hello.tsx </li><li> src\index.tsx </li><li> index.html </li><li> src\assets\global.scss </li></ul><br><br> src\components\ <i>Hello.tsx</i> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Hello</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> Hello from TypeScript and React! </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } }</code> </pre><br> src\ <i>index.tsx</i> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> ReactDOM <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react-dom"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Hello } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./components/Hello"</span></span>; ReactDOM.render( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Hello</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">, document.getElementById("example") );</span></span></code> </pre> <br> <i>index.html</i> <br><pre> <code class="javascript hljs">&lt;!DOCTYPE html&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">html</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">head</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"UTF-8"</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">title</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Hello React!</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">title</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">head</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">body</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"example"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- Dependencies --&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"./node_modules/react/umd/react.development.js"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="undefined"></span><span class="hljs-tag"><span class="xml"><span class="undefined"></span><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"./node_modules/react-dom/umd/react-dom.development.js"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="undefined"></span><span class="hljs-tag"><span class="xml"><span class="undefined"></span><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- Main --&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"./dist/main.js"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="undefined"></span><span class="hljs-tag"><span class="xml"><span class="undefined"></span><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">body</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">html</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> src\assets\global.scss .row { display: inline; }</span></span></code> </pre> <br><br>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="></a> <br>   webpack-dev-server <br> <i>npm install --save-dev webpack-dev-server <br> npm install --save-dev awesome-typescript-loader <br> npm install --save-dev html-webpack-plugin <br></i> <br>   <i>webpack.config.js</i> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> path = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'path'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> HtmlWebpackPlugin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'html-webpack-plugin'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = { <span class="hljs-attr"><span class="hljs-attr">entry</span></span>: <span class="hljs-string"><span class="hljs-string">'./src/index.tsx'</span></span>, <span class="hljs-attr"><span class="hljs-attr">resolve</span></span>: { <span class="hljs-attr"><span class="hljs-attr">extensions</span></span>: [<span class="hljs-string"><span class="hljs-string">'.ts'</span></span>, <span class="hljs-string"><span class="hljs-string">'.tsx'</span></span>, <span class="hljs-string"><span class="hljs-string">'.js'</span></span>] }, <span class="hljs-attr"><span class="hljs-attr">output</span></span>: { <span class="hljs-attr"><span class="hljs-attr">path</span></span>: path.join(__dirname, <span class="hljs-string"><span class="hljs-string">'/dist'</span></span>), <span class="hljs-attr"><span class="hljs-attr">filename</span></span>: <span class="hljs-string"><span class="hljs-string">'bundle.min.js'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">module</span></span>: { <span class="hljs-attr"><span class="hljs-attr">rules</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.tsx?$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'awesome-typescript-loader'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.(scss|css)?$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">use</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'style-loader'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'css-loader'</span></span>, <span class="hljs-attr"><span class="hljs-attr">options</span></span>: { <span class="hljs-attr"><span class="hljs-attr">importLoaders</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, }, }, { <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'sass-loader'</span></span>, <span class="hljs-attr"><span class="hljs-attr">options</span></span>: { <span class="hljs-attr"><span class="hljs-attr">sourceMap</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> } }, ], }, ] }, <span class="hljs-attr"><span class="hljs-attr">plugins</span></span>: [ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HtmlWebpackPlugin({ <span class="hljs-attr"><span class="hljs-attr">template</span></span>: <span class="hljs-string"><span class="hljs-string">'./index.html'</span></span> }) ] }</code> </pre><br>   ,  mobx  React. <br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"mobx"</span></span>: <span class="hljs-string"><span class="hljs-string">"4"</span></span>, <span class="hljs-string"><span class="hljs-string">"mobx-react"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.1.1"</span></span>,</code> </pre><br> C IE10   mobx,  4  ,        package.json. <br>    <br><pre> <code class="javascript hljs"> <span class="hljs-string"><span class="hljs-string">"style-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^0.23.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"css-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"node-sass"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.12.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"sass-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^7.1.0"</span></span></code> </pre><br>    <br> <i>npm install</i> <br><br>     ,     . <br> <i>npm install @quantumart/mobx-form-validation-kit</i> <br>      <br><img src="https://habrastorage.org/webt/et/ta/rp/ettarpotjc8felvv-fwwc9wyjiy.png"><br><br>  <i>package.json</i>   <br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"ttt"</span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"main"</span></span>: <span class="hljs-string"><span class="hljs-string">"index.js"</span></span>, <span class="hljs-string"><span class="hljs-string">"scripts"</span></span>: { <span class="hljs-string"><span class="hljs-string">"start"</span></span>: <span class="hljs-string"><span class="hljs-string">"webpack-dev-server --mode development --open"</span></span>, <span class="hljs-string"><span class="hljs-string">"test"</span></span>: <span class="hljs-string"><span class="hljs-string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></span> }, <span class="hljs-string"><span class="hljs-string">"keywords"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"license"</span></span>: <span class="hljs-string"><span class="hljs-string">"MIT"</span></span>, <span class="hljs-string"><span class="hljs-string">"devDependencies"</span></span>: { <span class="hljs-string"><span class="hljs-string">"@types/react"</span></span>: <span class="hljs-string"><span class="hljs-string">"^16.9.5"</span></span>, <span class="hljs-string"><span class="hljs-string">"@types/react-dom"</span></span>: <span class="hljs-string"><span class="hljs-string">"^16.9.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"awesome-typescript-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^5.2.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"html-webpack-plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.2.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"source-map-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^0.2.4"</span></span>, <span class="hljs-string"><span class="hljs-string">"ts-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.2.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"typescript"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.6.3"</span></span>, <span class="hljs-string"><span class="hljs-string">"webpack"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.41.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"webpack-cli"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.3.9"</span></span> }, <span class="hljs-string"><span class="hljs-string">"dependencies"</span></span>: { <span class="hljs-string"><span class="hljs-string">"@quantumart/mobx-form-validation-kit"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.0.8"</span></span>, <span class="hljs-string"><span class="hljs-string">"mobx"</span></span>: <span class="hljs-string"><span class="hljs-string">"4"</span></span>, <span class="hljs-string"><span class="hljs-string">"mobx-react"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.1.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"react"</span></span>: <span class="hljs-string"><span class="hljs-string">"^16.10.2"</span></span>, <span class="hljs-string"><span class="hljs-string">"react-dom"</span></span>: <span class="hljs-string"><span class="hljs-string">"^16.10.2"</span></span>, <span class="hljs-string"><span class="hljs-string">"webpack-dev-server"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.8.2"</span></span>, <span class="hljs-string"><span class="hljs-string">"style-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^0.23.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"css-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"node-sass"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.12.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"sass-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^7.1.0"</span></span> } }</code> </pre> <br>   <br> <i>npm run start</i> <br><br>        <br> <i>Hello from TypeScript and React!</i> <br></div></div><br><br>   <i>Hello</i>   .     <i>RegistrationStore</i>    <i>RegistrationStore.ts</i> <br> src\RegistrationStore.ts <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observable } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RegistrationStore</span></span></span><span class="hljs-class"> </span></span>{ @observable public userInfo = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span> }; } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> registrationStore = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RegistrationStore();</code> </pre><br>    Hello.ts,  . <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observer } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx-react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { registrationStore } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"../RegistrationStore"</span></span>; @observer <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Hello</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ private changeName = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event: React.ChangeEvent&lt;HTMLInputElement&gt;</span></span></span><span class="hljs-function">) =&gt;</span></span> { registrationStore.userInfo.name = event.target.value; }; render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;React.Fragment&gt; &lt;h1&gt;, {registrationStore.userInfo.name}&lt;/h1&gt; &lt;div className="row"&gt; &lt;span&gt;:&lt;/span&gt; &lt;input type="text" value={registrationStore.userInfo.name} onChange={this.changeName} /&gt; &lt;/div&gt; &lt;/React.Fragment&gt; ); } }</code> </pre><br>      ,  Store   Mobx.                 input. <br>     ,  .      ,       .     «»            .          ,       . <br>        <br> <i><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">@quantumart/mobx-form-validation-kit</a></b></i> <br><br>     -   . <br> stc/ErrorWraper.tsx <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observer } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx-react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { FormControl } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"@quantumart/mobx-form-validation-kit"</span></span>; interface Props { <span class="hljs-attr"><span class="hljs-attr">formControl</span></span>: FormControl; } @observer <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ErrorWraper</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Props</span></span></span><span class="hljs-class">&gt; </span></span>{ render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> {this.props.children} {this.props.formControl.errors.map(error =&gt; ( </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">key</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{error.message}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"error"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> {error.message} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> ))} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } }</code> </pre> <br>     ,     -,   . <br><br>  Hello.tsx    . <br> - —    changeName.      <i>{...InputFormControl.bindActions(controls.name)}</i> .            . <br> - –     input,       input ,  ,  ,     . <br> - –       <i>form</i>  <i>store</i> , ,  ,  componentWillUnmount  <i>registrationStore.form.dispose()</i> .     mobx    <b>FromControl</b>         . <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observer } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx-react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { registrationStore } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"../RegistrationStore"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { ErrorWraper } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"../ErrorWraper"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { InputFormControl } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"@quantumart/mobx-form-validation-kit"</span></span>; @observer <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Hello</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(props: any) { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(props); registrationStore.initForm(); } componentWillUnmount() { registrationStore.form.dispose(); } render() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> controls = registrationStore.form.controls; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;React.Fragment&gt; &lt;h1&gt;, {registrationStore.userInfo.name}&lt;/h1&gt; &lt;div className="row"&gt; &lt;span&gt;:&lt;/span&gt; &lt;ErrorWraper formControl={controls.name}&gt; &lt;input type="text" {...InputFormControl.bindActions(controls.name)} /&gt; &lt;/ErrorWraper&gt; &lt;/div&gt; &lt;/React.Fragment&gt; ); } }</code> </pre><br>      RegistrationStore.ts. <br>    . <br>   ( )      userInfo,        form.         -    userInfo. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observable } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { FormControl, FormGroup, AbstractControls } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"@quantumart/mobx-form-validation-kit"</span></span>; interface IUserInfo extends AbstractControls { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: FormControl; } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RegistrationStore</span></span></span><span class="hljs-class"> </span></span>{ @observable public userInfo = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span> }; @observable public form: FormGroup&lt;IUserInfo&gt;; public initForm(): <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormGroup&lt;IUserInfo&gt;({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name, [], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name = v) ) }); } } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> registrationStore = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RegistrationStore();</code> </pre></li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id470537/">https://habr.com/ru/post/id470537/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id470521/index.html">Dirilis 3CX V16 Pembaruan 3 dan aplikasi seluler 3CX baru untuk Android</a></li>
<li><a href="../id470525/index.html">Windows di browser tanpa registrasi dan SMS - ikhtisar klien HTML5 RDP</a></li>
<li><a href="../id470529/index.html">Bagaimana kami menerjemahkan proyek lawas ke GraphQL</a></li>
<li><a href="../id470531/index.html">Neurofisiologis membahas proyek Neuralink dan berbicara tentang kerja otak “dengan jari”</a></li>
<li><a href="../id470535/index.html">Cara Membuat Grafik Batang Menggunakan Python</a></li>
<li><a href="../id470541/index.html">Dasar-dasar bekerja dengan Neo4j di browser</a></li>
<li><a href="../id470543/index.html">Bagaimana kami menempatkan manajemen infrastruktur di Terraform - dan mulai hidup</a></li>
<li><a href="../id470547/index.html">Taskcls seledri: dekorator baru, fitur baru</a></li>
<li><a href="../id470549/index.html">TSMC berharap untuk mengikuti hukum Moore selama beberapa dekade mendatang</a></li>
<li><a href="../id470553/index.html">Euler-Poisson terpisahkan. Detail tentang metode perhitungan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>