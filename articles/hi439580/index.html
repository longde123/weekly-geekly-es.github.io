<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯЩЕЁЯП╗ ЁЯХ┤я╕П ЁЯУ╗ рд╡рд┐рдВрдбреЛрдЬ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП ReactOS рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ ЁЯУ╜я╕П ЁЯНи ЁЯд▓ЁЯП┐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдЖрдкрдХрд╛ рджрд┐рди рд╢реБрдн рд╣реЛ! 


 рдореЗрд░рд╛ рдирд╛рдо рд╕реНрдЯреЗрдирд┐рд╕реНрд▓рд╛рд╡ рд╣реИ рдФрд░ рдореБрдЭреЗ рдХреЛрдб рд▓рд┐рдЦрдирд╛ рдкрд╕рдВрдж рд╣реИред рдпрд╣ рд╣реИрдмрд░ рдкрд░ рдореЗрд░рд╛ рдкрд╣рд▓рд╛ рдЕрдВрдЧреНрд░реЗрдЬреА рд▓реЗрдЦ рд╣реИ рдЬрд┐рд╕реЗ рдореИрдВрдиреЗ рдХрдИ рдХрд╛рд░рдгреЛрдВ рд╕реЗ рдмрдирд╛рдпрд╛ рд╣реИ: 


- рд╣реИ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рд╡рд┐рдВрдбреЛрдЬ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП ReactOS рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/reactos/blog/439580/"><p>  рдЖрдкрдХрд╛ рджрд┐рди рд╢реБрдн рд╣реЛ! <img src="https://habrastorage.org/getpro/habr/post_images/557/a3f/dcf/557a3fdcfb649e6bb0e97231ccf30af2.png" alt="рдЫрд╡рд┐" align="right"></p><br><p>  рдореЗрд░рд╛ рдирд╛рдо рд╕реНрдЯреЗрдирд┐рд╕реНрд▓рд╛рд╡ рд╣реИ рдФрд░ рдореБрдЭреЗ рдХреЛрдб рд▓рд┐рдЦрдирд╛ рдкрд╕рдВрдж рд╣реИред  рдпрд╣ рд╣реИрдмрд░ рдкрд░ рдореЗрд░рд╛ рдкрд╣рд▓рд╛ рдЕрдВрдЧреНрд░реЗрдЬреА рд▓реЗрдЦ рд╣реИ рдЬрд┐рд╕реЗ рдореИрдВрдиреЗ рдХрдИ рдХрд╛рд░рдгреЛрдВ рд╕реЗ рдмрдирд╛рдпрд╛ рд╣реИ: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реИрдмрд░ рдЕрдм рдЕрдВрдЧреНрд░реЗрдЬреА рдореЗрдВ рд╣реИ</a> </li><li>  ReactOS рд╣рдм рдореЗрдВ рддрдХрдиреАрдХреА рд▓реЗрдЦреЛрдВ рдХреА рдХрдореА </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЧреАрдХрдЯрд╛рдЗрдореНрд╕ рдХреА</a> рд╣рд╛рд▓ рд╣реА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдореЗрдВ рд╣реИрдмрд░ рдореЗрдВ рд╡рд╛рдкрд╕реА</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">ReactOS рдореЗрдВ ReactOS</a> рдХреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдирд┐рд░реНрдорд╛рдг рдХреА</a> рд╕рдВрднрд╛рд╡рдирд╛ </li><li>  рд░рд┐рдПрдХреНрдЯреЛрд╕ рдореЗрдВ рд╕рдорд╕реНрдпрд╛ рдХреЛ рдареАрдХ рдХрд░рдиреЗ рдХрд╛ рдХрд╛рдлреА рджрд┐рд▓рдЪрд╕реНрдк рдорд╛рдорд▓рд╛ рдЬрд┐рд╕рдореЗрдВ рдореИрдВ рд╕реАрдзреЗ рд╢рд╛рдорд┐рд▓ рдерд╛ </li></ul><br><p>  рдпрд╣ рд▓реЗрдЦ рд░реВрд╕реА рдкрд░ рдореЗрд░реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкрд╣рд▓реЗ</a> рд▓реЗрдЦ рдХрд╛ рдЕрдВрдЧреНрд░реЗрдЬреА рд╕рдВрд╕реНрдХрд░рдг рд╣реИред </p><br><p> рдореБрдЭреЗ рдЗрд╕ рдХрд╣рд╛рдиреА рдореЗрдВ рдореБрдЦреНрдп рдЖрдВрдХрдбрд╝реЗ рдкреЗрд╢ рдХрд░рдиреЗ рджреЛ, рдЬрд┐рдиреНрд╣реЛрдВрдиреЗ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдмрдЧ рдХреЛ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдЧрд┐рдЯ рдХреЛ рд░реЛрдХрдиреЗ рд╕реЗ рд░реЛрдХ рджрд┐рдпрд╛ рдерд╛ - рдлреНрд░реЗрдВрдЪ рдбреЗрд╡рд▓рдкрд░ рд╣рд░рдореЗрд╕ рдмреЗрд▓реЗрд╕реНрдХрд╛-рдореЛрдЯреЛ (рдпрд╛ рд╕рд┐рд░реНрдл <code>hbelusca</code> рдЙрдкрдирд╛рдо рдХреЗ рд╕рд╛рде рд╣рд░реНрдореАрд╕) рдФрд░ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдореБрдЭреЗ ( <code>x86corez</code> рдЙрдкрдирд╛рдо рдХреЗ рд╕рд╛рде)ред </p><br><p>  рдХрд╣рд╛рдиреА рд░рд┐рдПрдХреНрдЯреНрд╕ рдбреЗрд╡рд▓рдкрдореЗрдВрдЯ рдЖрдИрдЖрд░рд╕реА рдЪреИрдирд▓ рдХреЗ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕рдВрджреЗрд╢реЛрдВ рд╕реЗ рд╢реБрд░реВ рд╣реЛрддреА рд╣реИ: </p><br><pre> <code class="html hljs xml">Jun 03 18:52:56 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> Anybody want to work on some small problem? If so, can someone figure out why this problem https://jira.reactos.org/browse/CORE-12931 happens on ReactOS? :D Jun 03 18:53:13 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> That would help having a good ROS self-hosting system with git support. Jun 03 18:53:34 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> (the git assertion part only).</code> </pre> <a name="habracut"></a><br><h2 id="debriefing">  рдбреАрдмреНрд░реАрдлрд┐рдВрдЧ </h2><br><p>  рдЪреВрдВрдХрд┐ ReactOS рд▓рдХреНрд╖реНрдп рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо Windows Server 2003 рд╣реИ, Git рд╕рдВрд╕реНрдХрд░рдг 2.10.0 рдХреЛ рдЬрд╛рдВрдЪ рдХреЗ рд▓рд┐рдП рдЪреБрдирд╛ рдЧрдпрд╛ рдерд╛ - рдпрд╣ Windows XP рдФрд░ 2003 рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рд╡рд╛рд▓рд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрдВрддрд┐рдо рд╣реИ</a> ред </p><br><p>  рд░рд┐рдПрдХреНрдЯреЛрд╕ рдХрдорд╛рдВрдб рдкреНрд░реЙрдореНрдкреНрдЯ рдореЗрдВ рдкрд░реАрдХреНрд╖рдг рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рд╕рдорд╕реНрдпрд╛ рдХреЗ рдмрд╛рд╣рд░реА рд▓рдХреНрд╖рдг рдмрд▓реНрдХрд┐ рдЕрд╕реНрдкрд╖реНрдЯ рдереЗред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЬрдм рдЖрдк рдЕрддрд┐рд░рд┐рдХреНрдд рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рдмрд┐рдирд╛ рдЧрд┐рдЯ рдЪрд▓рд╛рддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ рдХрдВрд╕реЛрд▓ рдореЗрдВ рдорджрдж рд╕рдВрджреЗрд╢ рдХреЛ рдмрд┐рдирд╛ рдХрд┐рд╕реА рд╕рдорд╕реНрдпрд╛ рдХреЗ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдПрдХ рдмрд╛рд░ рдЬрдм рдЖрдк <code>git clone</code> рдпрд╛ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рд╕рд┐рд░реНрдл <code>git --version</code> рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ рддреЛ рдЬреНрдпрд╛рджрд╛рддрд░ рдорд╛рдорд▓реЛрдВ рдореЗрдВ рдХрдВрд╕реЛрд▓ рдЦрд╛рд▓реА рд╣реА рд░рд╣рддрд╛ рд╣реИред  рдХрднреА-рдХрднреА рдпрд╣ рдПрдХ рдЬреЛрд░ рдХреЗ рд╕рд╛рде рдПрдХ рдЯреВрдЯрд╛ рд╣реБрдЖ рд╕рдВрджреЗрд╢ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИ: </p><br><pre> <code class="html hljs xml">git.exe clone -v "https://github.com/minoca/os.git" "C:\Documents and Settings\Administrator\Bureau\minocaos" A ssertionfailed ! P rogram : C : \ P rogram F iles \ G it \ mingw 3 2 \ bin \ git . exe F ile : exec _ cmd . c , L ine 2 3 E xpression : argv 0 _ path This application has requested the Runtime to terminate in an unusual way. Please contact the application's support team for more information.</code> </pre> <br><p>  рд╕реМрднрд╛рдЧреНрдп рд╕реЗ рдЧрд┐рдЯ рдПрдХ рдУрдкрди рд╕реЛрд░реНрд╕ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рд╣реИ, рдФрд░ рдЗрд╕рдиреЗ рд╣рдорд╛рд░реА рдЬрд╛рдВрдЪ рдореЗрдВ рдмрд╣реБрдд рдорджрдж рдХреАред  рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдХреЛрдб рдмреНрд▓реЙрдХ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдирд╛ рдмрд╣реБрдд рдореБрд╢реНрдХрд┐рд▓ рдирд╣реАрдВ рдерд╛, рдЬрд╣рд╛рдВ рдмрд┐рдирд╛ рдЕрдкрд╡рд╛рдж рдХреЗ рдЕрдкрд╡рд╛рдж рд╣реБрдЖ: <a href="">https://github.com/git-for-windows/git/blob/4cde6287b84b8f4c5ccb4062617171a2f3d7fc78/exec_cmd.c#L23</a> </p><br><pre> <code class="plaintext hljs">char *system_path(const char *path) { /* snip */ #ifdef RUNTIME_PREFIX assert(argv0_path); // it asserts here assert(is_absolute_path(argv0_path)); /* snip */ #endif strbuf_addf(&amp;d, "%s/%s", prefix, path); return strbuf_detach(&amp;d, NULL); }</code> </pre> <br><p>  рдФрд░ <code>argv0_path</code> рд╡реИрд░рд┐рдПрдмрд▓ рдорд╛рди рдЗрд╕ рдХреЛрдб рджреНрд╡рд╛рд░рд╛ рд╕реМрдВрдкрд╛ рдЧрдпрд╛ рд╣реИ: </p><br><pre> <code class="plaintext hljs">const char *git_extract_argv0_path(const char *argv0) { const char *slash; if (!argv0 || !*argv0) return NULL; slash = find_last_dir_sep(argv0); if (slash) { argv0_path = xstrndup(argv0, slash - argv0); return slash + 1; } return argv0; }</code> </pre> <br><p>  рдПрдХ рдмрд╛рд░ рдЬрдм рдореИрдВрдиреЗ рдпрд╣ рд╕рд╛рд░реА рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░ рд▓реА рддреЛ рдореИрдВрдиреЗ рдЖрдИрдЖрд░рд╕реА рдЪреИрдирд▓ рдХреЛ рдХреБрдЫ рд╕рдВрджреЗрд╢ рднреЗрдЬреЗ: </p><br><pre> <code class="html hljs xml">Jun 03 19:04:36 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> hbelusca: https://github.com/git-for-windows/git/blob/4cde6287b84b8f4c5ccb4062617851a2f3d7fc78/exec_cmd.c#L23 Jun 03 19:04:41 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> assertion is here Jun 03 19:04:57 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> yes I know, I've seen the code yesterday. The question is why it's FALSE on ROS but TRUE on Windows. Jun 03 19:06:02 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> argv0_path = xstrndup(argv0, slash - argv0); Jun 03 19:06:22 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> xstrndup returns NULL %-) Jun 03 19:06:44 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> ok, so what's the values of argv0 and slash on windows vs. on ROS? :P Jun 03 19:08:48 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> good question!</code> </pre> <br><p>  рдЪрд░ рдирд╛рдо рд╕реЗ рдкрддрд╛ рдЪрд▓рддрд╛ рд╣реИ рдХрд┐ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдореВрд▓реНрдп <code>argv[0]</code> рд╕реЗ рд▓рд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ - рдЖрдорддреМрд░ рдкрд░ рдЗрд╕рдореЗрдВ рд╢реВрдиреНрдп рд╕реВрдЪрдХрд╛рдВрдХ рдореЗрдВ рдирд┐рд╖реНрдкрд╛рджрди рдпреЛрдЧреНрдп рдирд╛рдо рд╣реЛрддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдмрд╛рдж рдореЗрдВ рд╕рдм рдХреБрдЫ рдЗрддрдирд╛ рд╕реНрдкрд╖реНрдЯ рдирд╣реАрдВ рдерд╛ ... </p><br><pre> <code class="html hljs xml">Jun 03 20:15:21 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> hbelusca: surprise... git uses its own xstrndup implementation Jun 03 20:15:35 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> so I can't simply hook it xD Jun 03 20:15:56 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> well, with such a name "xstrndup" it's not surprising it's its own implementation Jun 03 20:16:04 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> probably I would need an user-mode debugger... like OllyDbg Jun 03 20:16:09 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> that's everything but standardized function. Jun 03 20:16:24 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> x86corez: ollydbg should work on ROS. Jun 03 20:16:30 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mjansen</span></span></span><span class="hljs-tag">&gt;</span></span> what are you breaking today? Jun 03 20:16:44 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> mjansen: https://jira.reactos.org/browse/CORE-12931 Jun 03 20:16:51 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> (of course if you also are able to compile that git with symbols and all the stuff, it would be very nice)</code> </pre> <br><h2 id="action">  рдХрд╛рд░реНрдп </h2><br><p>  рдЙрд╕рдХреЗ рдмрд╛рдж рдореИрдВрдиреЗ рд╕реАрдзреЗ рд╕реНрд░реЛрдд рд╕реЗ рдЧрд┐рдЯ рдХреЛ рд╕рдВрдХрд▓рд┐рдд рдХрд░рдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛, рдЗрд╕рд▓рд┐рдП рдореИрдВ рдХрдВрд╕реЛрд▓ рдкрд░ рд╕реАрдзреЗ "рдордХреНрдЦреА рдкрд░" рдмреНрдпрд╛рдЬ рдХреЗ рдЪрд░ рдкреНрд░рд┐рдВрдЯ рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛ рдЬрд╛рдКрдВрдЧрд╛ред  рдореИрдВрдиреЗ рдЗрд╕ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЪрд░рдг-рджрд░-рдЪрд░рдг рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдХрд╛ рдкрд╛рд▓рди рдХрд┐рдпрд╛ рд╣реИ</a> рдФрд░ рд╕рдВрдЧрдд рдЧрд┐рдЯ рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рд╕рдВрдХрд▓рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдореИрдВрдиреЗ рдЗрд╕ рд╢рд╛рдЦрд╛ рдХрд╛ рдЪрдпрди рдХрд┐рдпрд╛ рд╣реИ: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://github.com/git-for-windows/git/tree/v2.10.0-rc2</a> </p><br><p>  Mingw32 рдЯреВрд▓рдХрд┐рди рдХреА рд╕реНрдерд╛рдкрдирд╛ рд╕реБрдЪрд╛рд░реВ рд░реВрдк рд╕реЗ рд╣реБрдИ рдФрд░ рдореИрдВрдиреЗ рдЕрднреА рдирд┐рд░реНрдорд╛рдг рд╢реБрд░реВ рдХрд┐рдпрд╛ред  рд╣рд╛рд▓рд╛рдБрдХрд┐ рдЗрд╕ рддрд░рд╣ рдХреЗ рд╕реНрдЯреЗрдк-рдмрд╛рдп-рд╕реНрдЯреЗрдк рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓реНрд╕ рдореЗрдВ рд▓рдЧрднрдЧ рд╣рдореЗрд╢рд╛ рдЕрдирдХрдореНрдлрд░реНрдЯреЗрдмрд▓ рдиреБрдХрд╕рд╛рди рд╣реЛрддреЗ рд╣реИрдВ, рдФрд░ рдореИрдВрдиреЗ рддреБрд░рдВрдд рдЙрдирдореЗрдВ рд╕реЗ рдПрдХ рдХрд╛ рд╕рд╛рдордирд╛ рдХрд┐рдпрд╛: </p><br><p><img src="https://habrastorage.org/webt/st/xy/yz/stxyyzihtz6c7qlzohax-u7nofc.png" alt="рдЫрд╡рд┐"></p><br><p>  рдкрд░реАрдХреНрд╖рдг рдФрд░ рддреНрд░реБрдЯрд┐ рдХреЗ рд╕рд╛рде-рд╕рд╛рде рд╣реЙрд▓ (рдЖрдИрдЖрд░рд╕реА рдЪреИрдирд▓) рд╕реЗ рд╕рдВрдХреЗрдд рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, рд╕рднреА рд╕рдВрдХрд▓рди рд╕рдордп рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЛ рдареАрдХ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред  рдЕрдЧрд░ рдХреЛрдИ рдореЗрд░реЗ рдХрджрдореЛрдВ рдХрд╛ рдЕрдиреБрд╕рд░рдг рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реИ, рддреЛ рдпрд╣рд╛рдВ рдХрдВрдкрд╛рдЗрд▓рд░ рдХреЛ рдЦреБрд╢ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрд▓рдЧ рддрд░реАрдХрд╛ рд╣реИ: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://pastebin.com/ZiA9MaKt</a> </p><br><p>  рдЖрд░рдВрднреАрдХрд░рдг рдХреЗ рджреМрд░рд╛рди рдХрдИ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдХреЙрд▓ рдХрд░рдиреЗ рдФрд░ рдмрдЧ рдХреЛ рдЖрд╕рд╛рдиреА рд╕реЗ рдкреБрди: рдкреЗрд╢ рдХрд░рдиреЗ рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ рдХрдИ рдбрд┐рдмрдЧ рдкреНрд░рд┐рдВрдЯ рдХреЛ <code>main()</code> рдлрд╝рдВрдХреНрд╢рди рдХреА рд╢реБрд░реБрдЖрдд рдореЗрдВ рдбрд╛рд▓рдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛, рдЬреЛ рдЧрд┐рдЯ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ <code>common-main.c</code> <code>main()</code> рд╕реА рдореЗрдВ рд╕реНрдерд┐рдд рд╣реИ: </p><br><pre> <code class="plaintext hljs">int main(int argc, const char **argv) { /* * Always open file descriptors 0/1/2 to avoid clobbering files * in die(). It also avoids messing up when the pipes are dup'ed * onto stdin/stdout/stderr in the child processes we spawn. */ //DebugBreak(); printf("sanitize_stdfds(); 1\n"); sanitize_stdfds(); printf("git_setup_gettext(); 1\n"); git_setup_gettext(); /* * Always open file descriptors 0/1/2 to avoid clobbering files * in die(). It also avoids messing up when the pipes are dup'ed * onto stdin/stdout/stderr in the child processes we spawn. */ printf("sanitize_stdfds(); 2\n"); sanitize_stdfds(); printf("git_setup_gettext(); 2\n"); git_setup_gettext(); printf("before argv[0] = %s\n", argv[0]); argv[0] = git_extract_argv0_path(argv[0]); printf("after argv[0] = %s\n", argv[0]); restore_sigpipe_to_default(); printf("restore_sigpipe_to_default(); done\n"); return cmd_main(argc, argv); }</code> </pre> <br><p>  рдореБрдЭреЗ рдирд┐рдореНрди рдЖрдЙрдЯрдкреБрдЯ рдорд┐рд▓рд╛ рд╣реИ: </p><br><pre> <code class="html hljs xml">C:\&gt;git --version sanitize_stdfds(); 1 git_setup_gettext(); 1 sanitize_stdfds(); 2 git_setup_gettext(); 2 before argv[0] = git after argv[0] = git restore_sigpipe_to_default(); done A ssertionfailed ! (cutted a part of error message which is the same as the one above)</code> </pre> <br><p>  рдХреЛрдИ рдпрд╣ рдорд╛рди рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдпрд╣рд╛рдБ рд╕рдм рдХреБрдЫ рдареАрдХ рд╣реИ, <code>argv[0]</code> рдорд╛рди рд╕рд╣реА рд╣реИред  рдореБрдЭреЗ рдбрд┐рдмрдЧрд░ рдХреЗ рдЕрдВрджрд░ git рдЪрд▓рд╛рдиреЗ рдХрд╛ рд╡рд┐рдЪрд╛рд░ рдЖрдпрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП OllyDbg, рд▓реЗрдХрд┐рди рдХреБрдЫ рдЧрд▓рдд рд╣реБрдЖ ... </p><br><pre> <code class="html hljs xml">Jun 04 01:54:46 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sanchaez</span></span></span><span class="hljs-tag">&gt;</span></span> now please try gdb/ollydbg in ROS Jun 04 01:58:11 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sanchaez</span></span></span><span class="hljs-tag">&gt;</span></span> you have gdb in RosBE Jun 04 01:58:20 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sanchaez</span></span></span><span class="hljs-tag">&gt;</span></span> just in case :p Jun 04 01:59:45 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> ollydbg says "nope" with MEMORY_MANAGEMENT bsod Jun 04 02:00:07 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> !bc 0x0000001A Jun 04 02:00:08 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hTechBot</span></span></span><span class="hljs-tag">&gt;</span></span> KeBugCheck( MEMORY_MANAGEMENT ); Jun 04 02:00:13 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> :/ Jun 04 02:00:49 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sanchaez</span></span></span><span class="hljs-tag">&gt;</span></span> welp Jun 04 02:00:56 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sanchaez</span></span></span><span class="hljs-tag">&gt;</span></span> you only have one option now :D</code> </pre> <br><p>  рдФрд░ рдпрд╣реАрдВ рдкрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" class="user_link">рд╕рд╛рдВрдЪреЗрдЬ</a> рдиреЗ рдПрдХ рдЙрддреНрдХреГрд╖реНрдЯ рд╡рд┐рдЪрд╛рд░ рд╕реБрдЭрд╛рдпрд╛ рдЬреЛ рдХрдИ рдЪреАрдЬреЛрдВ рдкрд░ рдкреНрд░рдХрд╛рд╢ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" class="user_link">рдбрд╛рд▓рддрд╛ рд╣реИ</a> ! </p><br><p><img src="https://habrastorage.org/webt/ox/hf/wq/oxhfwqsbyw35bsylutipsffvaao.png" alt="рдЫрд╡рд┐"></p><br><p>  рдЕрднрд┐рдХрдерди рдЕрдм рдирд╣реАрдВ рд╣реБрдЖ, рдФрд░ git рдиреЗ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдЗрд╕рдХрд╛ рд╕рдВрд╕реНрдХрд░рдг рдореБрджреНрд░рд┐рдд рдХрд┐рдпрд╛ред </p><br><pre> <code class="html hljs xml">Jun 04 02:23:40 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> it prints! Jun 04 02:23:44 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> but only in gdb Jun 04 02:23:53 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> oh Jun 04 02:24:00 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> C:\git/git.exe Jun 04 02:24:13 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> I wonder whether it's the same in windows, or not.</code> </pre> <br><p>  рдорд╛рдорд▓рд╛ рдореГрдд рдХреЗрдВрджреНрд░ рд╕реЗ рдЪрд▓рд╛ рдЧрдпрд╛, рдФрд░ рдореИрдВрдиреЗ рдХрдорд╛рдВрдб рдкреНрд░реЙрдореНрдкреНрдЯ рдореЗрдВ рдЧрд┐рдЯ рдЪрд▓рд╛рдиреЗ рдХреЗ рд╡рд┐рднрд┐рдиреНрди рддрд░реАрдХреЛрдВ рдХреА рдХреЛрд╢рд┐рд╢ рдХреА, рдФрд░ рд╕рд╣реА рддрд░реАрдХрд╛ рдкрд╛рдпрд╛! </p><br><p><img src="https://habrastorage.org/webt/es/bq/a4/esbqa41d5zj__3yoapc4yfbshhc.png" alt="рдЫрд╡рд┐"></p><br><p>  рдпрд╣ рд╕рдорд╕реНрдпрд╛ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдереА рдХрд┐ рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рдкрд░ git рдиреЗ рдкреВрд░реНрдг рдкрде рдХреА рдЕрдкреЗрдХреНрд╖рд╛ рдХреА рдереАред  рдЗрд╕рд▓рд┐рдП рдореИрдВрдиреЗ рд╡рд┐рдВрдбреЛрдЬ рдкрд░ рдЗрд╕рдХреЗ рдбрд┐рдмрдЧ рдЖрдЙрдЯрдкреБрдЯ рдХреА рддреБрд▓рдирд╛ рдХреАред  рдирддреАрдЬреЛрдВ рдиреЗ рдореБрдЭреЗ рдереЛрдбрд╝рд╛ рд╣реИрд░рд╛рди рдХрд░ рджрд┐рдпрд╛ред </p><br><p><img src="https://habrastorage.org/webt/ke/iv/9s/keiv9szbiznf4nsahh8fwkg3m2e.png" alt="рдЫрд╡рд┐"></p><br><p>  рдХрд┐рд╕реА рдХрд╛рд░рдг рд╕реЗ <code>argv[0]</code> рдорд╛рди рдореЗрдВ git.exe рдмрд╛рдЗрдирд░реА рдХреЗ рд▓рд┐рдП рдкреВрд░реНрдг рдкрде рд╕рдорд╛рд╣рд┐рдд рд╣реИред </p><br><pre> <code class="html hljs xml">Jun 05 23:01:44 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> x86corez: can you try to run git also by not using cmd.exe? Jun 05 23:02:05 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> (to exclude the possibility it's cmd that doesn't call Createprocess with a complete path) Jun 05 23:02:09 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> while I think it should... Jun 05 23:02:30 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> not using cmd... moment Jun 05 23:02:55 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> x86corez: alternatively, on windows, try starting git using our own cmd.exe :)</code> </pre> <br><p>  рд╣реЗрдореАрдЬрд╝ рдиреЗ рдпрд╣ рдЬрд╛рдВрдЪрдиреЗ рдХрд╛ рд╕реБрдЭрд╛рд╡ рджрд┐рдпрд╛ рдХрд┐ рдХреНрдпрд╛ рд░рд┐рдПрдХреНрдЯреЛрд╕ cmd.exe рдПрдХ рджреЛрд╖реА рдШрдЯрдХ рд╣реИ ... </p><br><p><img src="https://habrastorage.org/webt/_l/nd/od/_lndodcrwgvabcw9ho1r-g0ns5m.png" alt="рдЫрд╡рд┐"></p><br><p>  рд▓реЗрдХрд┐рди рдЗрд╕ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рдиреЗ рдкреБрд╖реНрдЯрд┐ рдХреА рдХрд┐ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдорд╕реНрдпрд╛ рдХрд╣реАрдВ рдФрд░ рд╣реИред </p><br><pre> <code class="html hljs xml">Jun 05 23:04:38 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> ROS cmd is not guilty Jun 05 23:07:57 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> If there was a possibility to consult the received path, before looking at the contents of argvs... ? Jun 05 23:08:30 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> dump contents of actual command line? Jun 05 23:08:39 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> yeah Jun 05 23:09:39 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> The thing you retrieve using GetCommandLineW Jun 05 23:10:03 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> (which is, after simplifications, basically : NtCurrentPeb()-&gt;ProcessParameters-&gt;CommandLine ) Jun 05 23:10:59 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> Also I was thinking it could be a side-effect of having (or not having) git path into the env-vars.... Jun 05 23:12:17 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> hbelusca, command line is "git --version" Jun 05 23:12:34 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> Always? Jun 05 23:12:39 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> Yes, even on Windows Jun 05 23:15:13 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> ok but then it would be nice if these different results are at least the same on Windows and on ROS, so that we can 100% exclude problems outside of msvcrt.</code> </pre> <br><p>  рдЕрдВрддрд┐рдо рд╡рд┐рдХрд▓реНрдк рд╡рд┐рдВрдбреЛрдЬ рдореЗрдВ ReactOS msvcrt.dll рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рдирд╛ рдерд╛ред  рдореИрдВрдиреЗ рдлрд╝рд╛рдЗрд▓ рдХреЛ рдЙрд╕реА рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рд░рдЦрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХреА рдЬрд╣рд╛рдБ git.exe рд╕реНрдерд┐рдд рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕рд╕реЗ рдХреЛрдИ рдорджрдж рдирд╣реАрдВ рдорд┐рд▓реАред  рдорд╛рд░реНрдХ рдиреЗ рдПрдХ .local рдлрд╝рд╛рдЗрд▓ рдЬреЛрдбрд╝рдиреЗ рдХрд╛ рд╕реБрдЭрд╛рд╡ рджрд┐рдпрд╛: </p><br><pre> <code class="html hljs xml">Jun 05 22:59:01 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mjansen</span></span></span><span class="hljs-tag">&gt;</span></span> x86corez: add .local file next to msvcrt.dll ;) Jun 05 22:59:47 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mjansen</span></span></span><span class="hljs-tag">&gt;</span></span> exename.exe.local Jun 05 23:00:17 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> just an empty file? Jun 05 23:00:21 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mjansen</span></span></span><span class="hljs-tag">&gt;</span></span> yea Jun 05 23:00:49 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> mjansen: do we support these .local files? Jun 05 23:00:52 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mjansen</span></span></span><span class="hljs-tag">&gt;</span></span> we dont Jun 05 23:00:54 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mjansen</span></span></span><span class="hljs-tag">&gt;</span></span> windows does Jun 05 23:15:48 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> moment... I'll try with .local Jun 05 23:18:43 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> mjansen: I've created git.exe.local but it still doesn't load msvcrt.dll in this directory</code> </pre> <br><p>  рд▓реЗрдХрд┐рди рдХрд┐рд╕реА рдХрд╛рд░рдг рд╕реЗ рдпрд╣ рд╡рд┐рдзрд┐ рднреА рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддреА рдереАред  рд╢рд╛рдпрдж рдпрд╣ рддрдереНрдп рдХрд┐ рдореИрдВрдиреЗ рд╡рд┐рдВрдбреЛрдЬ (2008 R2) рдХреЗ рд╕рд░реНрд╡рд░ рд╕рдВрд╕реНрдХрд░рдг рдкрд░ рд╕рднреА рдкреНрд░рдпреЛрдЧ рдХрд┐рдПред </p><br><p>  рдЖрдЦрд┐рд░реА рд╡рд┐рдЪрд╛рд░ рд╣рд░реНрдореАрд╕ рдиреЗ рд╕реБрдЭрд╛рдпрд╛ рдерд╛: </p><br><pre> <code class="html hljs xml">Jun 05 23:19:28 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> last solution: patch "msvcrt" name within git and perhaps other mingwe dlls ^^ Jun 05 23:20:12 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> good idea about patching!</code> </pre> <br><p>  рдЗрд╕рд▓рд┐рдП рдореИрдВрдиреЗ <code>msvcrt</code> рдХреА рд╕рднреА рдШрдЯрдирд╛рдУрдВ рдХреЛ WinHex рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ msvcrd рдХреЗ рд╕рд╛рде <code>msvcrd</code> рдмрджрд▓ рджрд┐рдпрд╛, рдФрд░ рддрджрдиреБрд╕рд╛рд░ ReactOS msvcrt.dll рдХрд╛ рдирд╛рдо рдмрджрд▓ рджрд┐рдпрд╛, рдФрд░ рдпрд╣рд╛рдВ рд╣рдо рд╣реИрдВ: </p><br><p><img src="https://habrastorage.org/webt/9l/8z/si/9l8zsinphrucuzluxoqbuz67ar8.png" alt="рдЫрд╡рд┐"></p><br><pre> <code class="html hljs xml">Jun 05 23:23:29 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> Yes! guilty is msvcrt :) Jun 05 23:25:37 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> ah, so as soon as git uses our msvcrt we get the problem on windows. Jun 05 23:25:38 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> hbelusca, mjansen, https://image.prntscr.com/image/FoOWnrQ4SOGMD-66DLW16Q.png Jun 05 23:25:58 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> aha and it asserts <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">3</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Jun</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">05</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">23:26:03</span></span></span><span class="hljs-tag"> &lt;</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> (it shows the assertion now)</code> </pre> <br><p>  рдмрдЧ рдмрди рдЧрдпрд╛ рдЕрдм рд╣рдо рдПрдХ рд╣реА рдЬреЛрд░ рдорд╛рд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╡рд┐рдВрдбреЛрдЬ рдореЗрдВ!  рдФрд░ рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рд╣рдорд╛рд░реА рд╕рдорд╕реНрдпрд╛рдУрдВ рдХрд╛ рд╕реНрд░реЛрдд ReactOS msvcrt рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ рд╕реЗ рдПрдХ рд╣реИред </p><br><p>  рдпрд╣ рднреА рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реИ рдХрд┐ рдЕрднрд┐рдХрдерди рд╕рдВрджреЗрд╢ рд╡рд┐рдВрдбреЛрдЬ рдореЗрдВ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </p><br><pre> <code class="html hljs xml">Jun 05 23:26:13 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> but it prints text and correctly. Jun 05 23:26:20 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> oh Jun 05 23:26:33 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> and on ROS it doesn't print in most cases xD Jun 05 23:26:38 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> so also it excludes another hypothesis, namely that it could have been a bug in our msvcrt/crt Jun 05 23:26:56 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> So possibly a strange bug in our console</code> </pre> <br><p>  рдЗрд╕рд▓рд┐рдП, рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ msvcrt рдореЗрдВ рдПрдкреАрдЖрдИ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдЦреЛрдЬрдирд╛ рдкрдбрд╝рд╛ рдЬреЛ рд╡рд░реНрддрдорд╛рди рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рдкреВрд░рд╛ рд░рд╛рд╕реНрддрд╛ рджреЗрддрд╛ рд╣реИред  рдореИрдВ рдереЛрдбрд╝рд╛ рд╕рд╛ googled рдФрд░ рд╕рдорд╕реНрдпрд╛ <code>_pgmptr</code> рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд╕рд╛рде рд╣реИред </p><br><pre> <code class="html hljs xml">Jun 06 00:07:43 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> https://msdn.microsoft.com/en-us/library/tza1y5f7.aspx Jun 06 00:07:57 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> When a program is run from the command interpreter (Cmd.exe), _pgmptr is automatically initialized to the full path of the executable file. Jun 06 00:08:01 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> this ^^) Jun 06 00:08:50 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> That's what GetModuleFileName does. Jun 06 00:09:04 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> yeah Jun 06 00:10:30 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> Of course in ROS msvcrt we don't do this, but instead we initialize pgmptr to what argv[0] could be. Jun 06 00:11:08 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> That's one thing. Jun 06 00:11:34 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> The other thing is that nowhere it appears (in MS CRT from VS, or in wine) that argv is initialized using pgmptr. Jun 06 00:13:33 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> hbelusca, I've checked argv[0] in some ROS command line tools, running them in Windows Jun 06 00:13:56 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> they all interpret argv[0] as command line, not full path Jun 06 00:14:04 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> so... I think it's git specific behaviour Jun 06 00:14:16 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> or specific mingw compiler settings Jun 06 00:28:12 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> x86corez: I'm making a patch for our msvcrt, would be nice if you could test it :) Jun 06 00:28:21 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> I'll test it</code> </pre> <br><p>  рд╣реЗрдореАрдЬрд╝ рдиреЗ рдкреИрдЪ рдХрд╛ рдПрдХ рд▓рд┐рдВрдХ рднреЗрдЬрд╛, рдореИрдВрдиреЗ рдЗрд╕реЗ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдФрд░ рд╕рд┐рд╕реНрдЯрдо рдХреЛ рдлрд┐рд░ рд╕реЗ рдмрдирд╛рдпрд╛, рдФрд░ рдЗрди рдЪрд╛рд▓реЛрдВ рдХреЗ рдмрд╛рдж рдореВрд▓ рд╕рдорд╕реНрдпрд╛ рдЬрд╛рджреБрдИ рд░реВрдк рд╕реЗ рдЧрд╛рдпрдм рд╣реЛ рдЧрдИ! </p><br><p><img src="https://habrastorage.org/webt/jp/yy/5p/jpyy5pmeuypncrl9ahuf4szvnxe.png" alt="рдЫрд╡рд┐"></p><br><pre> <code class="html hljs xml">Jun 06 00:34:26 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> hbelusca, IT WORKS! Jun 06 00:35:10 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> LOL Jun 06 00:35:18 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> So it seems that something uses pgmptr to rebuild an argv. Jun 06 00:35:52 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> I've even able to clone :) Jun 06 00:36:19 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> \o/ Jun 06 00:36:21 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">gigaherz</span></span></span><span class="hljs-tag">&gt;</span></span> 2.10.0-rc2? not the release? Jun 06 00:36:24 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> ok I'm gonna commit that stuff. Jun 06 00:36:43 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> x86corez: gonna have ROS self-hosting <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">33</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Jun</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">06</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">00:36:48</span></span></span><span class="hljs-tag"> &lt;</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> yeah! Jun 06 00:37:01 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> gigaherz: I've built that from sources Jun 06 00:37:37 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">gigaherz</span></span></span><span class="hljs-tag">&gt;</span></span> oh, for testing this bug? o_O Jun 06 00:37:50 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sanchaez</span></span></span><span class="hljs-tag">&gt;</span></span> yes, you missed the fun :p Jun 06 00:39:46 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> git 2.10.0-windows.1 (release) works too! Jun 06 00:39:54 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">encoded</span></span></span><span class="hljs-tag">&gt;</span></span> commit!!!</code> </pre> <br><h2 id="afterword">  рдЕрдВрддрднрд╛рд╖рдг </h2><br><p>  рдЙрд╕ рдиреЗ рдХрд╣рд╛, рдПрдХ рдФрд░ рдмрдЧ рдЬреЛ рдЕрдкреНрд░рддреНрдпрдХреНрд╖ рд░реВрдк рд╕реЗ рд░рд┐рдПрдХреНрдЯреЛрд╕ рдХреЛ рдмрдирд╛рдиреЗ рд╕реЗ рд░реЛрдХрддрд╛ рд╣реИ рд╕рд╛рдореВрд╣рд┐рдХ рдкреНрд░рдпрд╛рд╕реЛрдВ рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдордЬрд╝реЗрджрд╛рд░ рд╕рдВрдпреЛрдЧ рдпрд╣ рддрдереНрдп рд╣реИ рдХрд┐ рдПрдХ рдФрд░ рдмрдЧ рдкрд╣рд▓реЗ рдПрдХ рд╣реА msvcrt рдбрд╛рдпрдиреЗрдорд┐рдХ рд▓рд╛рдЗрдмреНрд░реЗрд░реА (рдЕрд░реНрдерд╛рдд <code>qsort</code> рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ) рдореЗрдВ <code>qsort</code> рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдЬреЛ рдХрд┐ ReactOS рдореЗрдВ USB рдбреНрд░рд╛рдЗрд╡рд░реЛрдВ рдХреЛ рд╕рдВрдХрд▓рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рджреЗрддрд╛ рдерд╛ред </p><br><p>  рдореИрдВ рд╡рд┐рднрд┐рдиреНрди рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рднрд╛рд╖рд╛рдУрдВ рдореЗрдВ рд▓рд┐рдЦрд┐рдд рдХрдИ рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рдХреЗ рд╡рд┐рдХрд╛рд╕ рдореЗрдВ рднрд╛рдЧ рд▓реЗрддрд╛ рд╣реВрдВ, рджреЛрдиреЛрдВ рдмрдВрдж рдФрд░ рдЦреБрд▓рд╛ рд╕реНрд░реЛрддред  рдореИрдВ 2014 рд╕реЗ рд░рд┐рдПрдХреНрдЯреЛрд╕ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рдпреЛрдЧрджрд╛рди рдХрд░ рд░рд╣рд╛ рд╣реВрдВ, рд▓реЗрдХрд┐рди рдореИрдВрдиреЗ рд╕рдХреНрд░рд┐рдп рд░реВрдк рд╕реЗ рдорджрдж рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░ рджрд┐рдпрд╛ рдФрд░ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдХреЗрд╡рд▓ 2017 рдореЗрдВ рдХреЛрдб рд▓рд┐рдЦрдирд╛ рд╢реБрд░реВ рдХрд┐рдпрд╛ред рдпрд╣ рдЗрд╕ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдПрдХ рд╕рдВрдкреВрд░реНрдг рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рд╣реИ!  рдЖрдк рдЙрд╕ рдкрд░рд┐рдгрд╛рдо рдХрд╛ рдПрдХ рдмрдбрд╝рд╛ рдкреИрдорд╛рдиреЗ рдорд╣рд╕реВрд╕ рдХрд░рддреЗ рд╣реИрдВ рдЬрд┐рд╕рдореЗрдВ рдкреНрд░рдпрд╛рд╕реЛрдВ рдХрд╛ рдирд┐рд╡реЗрд╢ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рд╕рд╛рде рд╣реА рд╕рд╛рде рдПрдХ рд╕реБрдЦрдж рдПрд╣рд╕рд╛рд╕ рднреА рдерд╛ рдХрд┐ рдПрдХ рдХрдо рдмрдЧ рд╣реИ!  :) </p><br><p>  рдХрд┐рд╕реА рдХреЛ рдЖрд╢реНрдЪрд░реНрдп рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдореИрдВ рд░рд┐рдПрдХреНрдЯреЛрд╕ рдореЗрдВ рдпреЛрдЧрджрд╛рди рдХреНрдпреЛрдВ рдХрд░ рд░рд╣рд╛ рд╣реВрдВ рдФрд░ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рд▓рд┐рдирдХреНрд╕ рдирд╣реАрдВред  рдЗрд╕рд▓рд┐рдП рдРрддрд┐рд╣рд╛рд╕рд┐рдХ рд░реВрдк рд╕реЗ рдЬреНрдпрд╛рджрд╛рддрд░ рдорд╛рдорд▓реЛрдВ рдореЗрдВ рдореИрдВ рд╡рд┐рдВрдбреЛрдЬ рдХреЗ рд▓рд┐рдП рдХрд╛рд░реНрдпрдХреНрд░рдо рд▓рд┐рдЦрддрд╛ рд╣реВрдВ рдФрд░ рдореЗрд░реА рдкрд╕рдВрджреАрджрд╛ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рднрд╛рд╖рд╛ рдбреЗрд▓реНрдлреА рд╣реИред  рд╢рд╛рдпрдж рдЗрд╕реАрд▓рд┐рдП Win32 рдПрдкреАрдЖрдИ рдХреЗ рд╕рд╛рде рд╡рд┐рдВрдбреЛрдЬ рдПрдирдЯреА рдХрд╛ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдореЗрд░реЗ рд▓рд┐рдП рдмрд╣реБрдд рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ, рдФрд░ рдореБрдлреНрдд рд╡рд┐рдВрдбреЛрдЬ рдХреЗ рд░рд┐рдПрдХреНрдЯреЛрд╕ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдкреБрд░рд╛рдиреЗ рд╕рдкрдиреЗ рдХреЛ рд╕рдЪ рдХрд░ рджреЗрддрд╛ рд╣реИ - рдпрд╣ рдЖрдкрдХреЛ рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдХрд┐ рдЕрднреНрдпрд╛рд╕ рдореЗрдВ рд╣реБрдб рдХреЗ рддрд╣рдд рд╕рдм рдХреБрдЫ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред </p><br><p>  рдореБрдЭреЗ рдЙрдореНрдореАрдж рд╣реИ рдХрд┐ рдЖрдкрдХреЛ рдпрд╣рд╛рдВ рдореЗрд░рд╛ рдкрд╣рд▓рд╛ рдЕрдВрдЧреНрд░реЗрдЬреА рд▓реЗрдЦ рдкрд╕рдВрдж рдЖрдпрд╛ред  рдореБрдЭреЗ рдЖрдкрдХреА рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рд╣реИ! </p><br><h3 id="links">  рд▓рд┐рдВрдХ </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">JIRA рдмрдЧ рдЯреНрд░реИрдХрд░ рдореЗрдВ рдЯрд┐рдХрдЯ</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">MSDN рдкрд░ <code>_pgmptr</code> API рд╡рд┐рд╡рд░рдг</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЬрд┐рд╕ рдХрдореЗрдЯреА рдиреЗ рдмрдЧ рдХреЛ рдареАрдХ рдХрд┐рдпрд╛</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЗрд╕ рд▓реЗрдЦ рдХрд╛ рд░реВрд╕реА рд╕рдВрд╕реНрдХрд░рдг</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi439580/">https://habr.com/ru/post/hi439580/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi439570/index.html">рдЬреНрдпреВрдкрд┐рдЯрд░ рд╕реЗрд▓ рдЯреИрдЧреНрд╕ рдХреЛ рд╕рдВрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдИрдкреАрдереЙрди рдЬрд╛рджреВ</a></li>
<li><a href="../hi439572/index.html">рдЗрд▓реЗрдХреНрдЯреНрд░реЙрдирд┐рдХ рдЙрдкрдХрд░рдг рдХрд╛ рдХрдВрдкреНрдпреВрдЯрд░ рдПрдбреЗрдб рдбрд┐рдЬрд╛рдЗрди</a></li>
<li><a href="../hi439574/index.html">рд╕реНрдорд╛рд░реНрдЯрдХрд╛рд░реНрдб I2C рдкреНрд░реЛрдЯреЛрдХреЙрд▓ред рдПрдХреНрд╕рдЪреЗрдВрдЬ APDU I2C рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрдорд╛рдВрдб рдХрд░рддрд╛ рд╣реИ</a></li>
<li><a href="../hi439576/index.html">рдкрд╛рдпрдерди рд╕рд╛рдХреНрд╖рд╛рддреНрдХрд╛рд░ рдХрд╛ рдПрдХ рд╡реНрдпрд╛рдкрдХ рдЕрд╡рд▓реЛрдХрдиред рдпреБрдХреНрддрд┐рдпрд╛рдБ рдФрд░ рдЪрд╛рд▓реЗрдВ</a></li>
<li><a href="../hi439578/index.html">рдкрд░рд┐рд╡рд░реНрддрди рдФрд░ рдЕрдиреНрдп рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд╕рд╡рд╛рд▓ рдкрд░</a></li>
<li><a href="../hi439584/index.html">рдкреЛрд░реНрдЯреЗрдмрд▓ рдмрд┐рдЬрд▓реА рдХреА рдЖрдкреВрд░реНрддрд┐ рдХреА рдкреБрдирд░реНрд╡рд┐рдЪрд╛рд░ рдХреЗ рд░реВрдк рдореЗрдВ Lenergy рдкрд░рд┐рдпреЛрдЬрдирд╛</a></li>
<li><a href="../hi439586/index.html">рдЪрд░рдо рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдкрд░рд┐рд╕рд░ рдХреА рдиреАрдВрд╡ рдХреЗ рд░реВрдк рдореЗрдВ SPBm рдкреНрд░реЛрдЯреЛрдХреЙрд▓</a></li>
<li><a href="../hi439588/index.html">ESET рдиреЗ DanaBot рдЯреНрд░реЛрдЬрди рдХреЗ рдирдП рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреА рдЦреЛрдЬ рдХреА</a></li>
<li><a href="../hi439590/index.html">рдпреЛрдЧреНрдпрддрд╛: рд╕рдКрджреА рдФрд░ рдУрдорд╛рди рд░рд╛рд╖реНрдЯреНрд░реАрдп рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ CTF 2019</a></li>
<li><a href="../hi439592/index.html">рдиреИрддрд┐рдХ рдЧрддрд┐рд╡рд┐рдзрд┐ рд╕реНрд╡рдЪрд╛рд▓рди</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>