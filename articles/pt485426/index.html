<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòù üë∫ üèä Carros na Holanda: estat√≠sticas e informa√ß√µes para 2019 üßëüèº‚Äçü§ù‚Äçüßëüèº üì¶ üë©</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Oi Habr. 

 Este artigo √© uma continua√ß√£o do ciclo sobre infraestrutura de bicicletas na Holanda . Desta vez, vamos falar sobre carros. 



 Recenteme...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Carros na Holanda: estat√≠sticas e informa√ß√µes para 2019</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485426/">  Oi Habr. <br><br>  Este artigo √© uma continua√ß√£o do ciclo sobre <a href="https://habr.com/ru/post/447632/">infraestrutura de bicicletas na Holanda</a> .  Desta vez, vamos falar sobre carros. <br><br><img src="https://habrastorage.org/webt/i3/fd/s1/i3fds1r7l7th2ifpcf7ksl91ufa.jpeg"><br><br>  Recentemente, em um dos projetos, consegui acessar dados de uma c√¢mera que reconhece os n√∫meros dos carros.  Conhecendo o n√∫mero, voc√™ pode obter muitas informa√ß√µes adicionais.  Mas, ent√£o, pareceu um pouco desses dados, tornou-se interessante processar todo o banco de dados de carros holandeses como um todo, j√° que era oficialmente aberto <a href="https://opendata.rdw.nl/browse%3Fcategory%3DVoertuigen%26provenance%3Dofficial">ao p√∫blico</a> . <br><br>  Os resultados pareciam interessantes o suficiente para serem compartilhados com os leitores.  Ainda assim, a Holanda est√° entre os 10 principais pa√≠ses em termos de qualidade de vida, por isso foi muito interessante ver o que os holandeses andam al√©m de bicicletas. <br><br>  Continua sob o corte. <br><a name="habracut"></a><br><h2>  Dados de origem </h2><br>  As estat√≠sticas s√£o divididas em duas partes - testes locais e dados gerais.  No primeiro caso, uma c√¢mera de vigil√¢ncia profissional AXIS foi usada como fonte de dados, com capacidade de reconhecimento integrado de placas.  O n√∫mero em si n√£o √© t√£o interessante para as estat√≠sticas, as informa√ß√µes adicionais que podem ser obtidas s√£o muito mais interessantes.  E isso √© feito na Holanda simplesmente, no site rdw.nl, para qualquer n√∫mero, voc√™ pode obter informa√ß√µes sobre o carro gratuitamente enviando uma solicita√ß√£o GET simples (por exemplo, voc√™ pode ver o n√∫mero aleat√≥rio <a href="">H789GF</a> ).  Muitos dados est√£o sendo retornados, incluindo o ano de fabrica√ß√£o, capacidade, custo do cat√°logo, etc. E isso j√° √© mais interessante. <br><br>  E, finalmente, na segunda parte, toda a base ser√° considerada.  Para n√£o tornar os gr√°ficos muito volumosos, apenas as informa√ß√µes de 2019 s√£o consideradas - as marcas e modelos de carros mais atuais registrados no ano passado. <br><br>  Ent√£o, vamos come√ßar. <br><br><h2>  Dados locais </h2><br>  Como mencionado acima, no primeiro caso, foi usada uma c√¢mera de vigil√¢ncia AXIS, que tem a capacidade de reconhecer os n√∫meros dos carros.  A c√¢mera √© instalada na entrada do centro do escrit√≥rio.  Os dados aqui s√£o, obviamente, pequenos, mas o interesse deles √© que sejam dados reais das m√°quinas usadas por pessoas comuns, representantes da classe m√©dia, onde os trabalhadores de TI podem ser inclu√≠dos.  Os caminh√µes tamb√©m poderiam estar na lista, mas n√£o havia muitos deles; eu n√£o fiz nenhum filtro especial nesses modelos. <br><br>  Nos tr√™s dias de trabalho da c√¢mera, foram coletados 370 registros, nos quais havia aproximadamente 100 carros.  A partir de tudo isso, um conjunto de dados foi constru√≠do com a seguinte apar√™ncia: <br><br><pre><code class="xml hljs">car_id,datetime,manufacturer,model,year,price 3,2020-01-23 16:57:26,PEUGEOT,PEUGEOT 206,2004.0, 3,2020-01-23 16:57:26,PEUGEOT,PEUGEOT 206,2004.0, 26,2020-01-23 16:41:39,NISSAN,NISSAN NISSAN JUKE,2012.0,25965.0 26,2020-01-23 16:41:39,NISSAN,NISSAN NISSAN JUKE,2012.0,25965.0 26,2020-01-23 16:41:39,NISSAN,NISSAN NISSAN JUKE,2012.0,25965.0 26,2020-01-23 16:41:38,NISSAN,NISSAN NISSAN JUKE,2012.0,25965.0 21,2020-01-23 16:30:33,BMW,BMW 5ER REIHE,2004.0, 21,2020-01-23 16:30:33,BMW,BMW 5ER REIHE,2004.0, 21,2020-01-23 16:30:32,BMW,BMW 5ER REIHE,2004.0, 47,2020-01-23 16:24:55,VOLVO,VOLVO 240 POLAR U9,1993.0, 47,2020-01-23 16:24:54,VOLVO,VOLVO 240 POLAR U9,1993.0,</code> </pre> <br>  Os nomes dos campos, acho, s√£o claros sem coment√°rios.  Matr√≠culas removidas por motivos de privacidade, no entanto, para nossa an√°lise, elas n√£o s√£o necess√°rias. <br><br>  Vamos ver quais dados podem ser extra√≠dos usando Python e Pandas.  Quem n√£o estiver interessado no c√≥digo pode rolar o texto imediatamente para os gr√°ficos. <br><br>  Conecte os componentes necess√°rios e carregue o conjunto de dados no Pandas: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> matplotlib.pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt df = pd.read_csv(<span class="hljs-string"><span class="hljs-string">"license_plates.csv"</span></span>, quotechar=<span class="hljs-string"><span class="hljs-string">'"'</span></span>)</code> </pre> <br>  Como estamos interessados ‚Äã‚Äãem modelos de carros, selecionamos o subconjunto necess√°rio e removemos duplicatas (para cada passagem do carro, a c√¢mera gera 3-4 eventos).  Para a conveni√™ncia de exibir gr√°ficos, classificamos o conjunto de dados por modelo de carro. <br><br><pre> <code class="python hljs">df_cars = df[[<span class="hljs-string"><span class="hljs-string">'car_id'</span></span>, <span class="hljs-string"><span class="hljs-string">'manufacturer'</span></span>, <span class="hljs-string"><span class="hljs-string">'model'</span></span>, <span class="hljs-string"><span class="hljs-string">'year'</span></span>, <span class="hljs-string"><span class="hljs-string">'price'</span></span>]] df_cars = df_cars.drop_duplicates() df_cars[<span class="hljs-string"><span class="hljs-string">'year'</span></span>] = df_cars[<span class="hljs-string"><span class="hljs-string">"year"</span></span>].map(int) df_cars[<span class="hljs-string"><span class="hljs-string">'price'</span></span>] = df_cars[<span class="hljs-string"><span class="hljs-string">"price"</span></span>].map(get_rounded, na_action=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>).astype(<span class="hljs-string"><span class="hljs-string">'Int64'</span></span>) df_cars[<span class="hljs-string"><span class="hljs-string">'car'</span></span>] = df_cars[<span class="hljs-string"><span class="hljs-string">'model'</span></span>] + <span class="hljs-string"><span class="hljs-string">'/'</span></span> + df_cars[<span class="hljs-string"><span class="hljs-string">'year'</span></span>].apply(str) df_cars = df_cars.sort_values(<span class="hljs-string"><span class="hljs-string">'manufacturer'</span></span>, ascending=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, inplace=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>)</code> </pre> <br>  Escrevemos uma fun√ß√£o auxiliar de extra√ß√£o de dados na forma de um histograma: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">extract_as_hist</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(dataframe, param: str)</span></span></span><span class="hljs-function">:</span></span> g = dataframe.groupby([param]) msg_count = g.size().reset_index(name=<span class="hljs-string"><span class="hljs-string">'counts'</span></span>) grouped = g.mean().reset_index() grouped[<span class="hljs-string"><span class="hljs-string">'counts'</span></span>] = msg_count[<span class="hljs-string"><span class="hljs-string">'counts'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> grouped[param].values, grouped[<span class="hljs-string"><span class="hljs-string">'counts'</span></span>].values</code> </pre> <br>  Agora voc√™ pode prosseguir para o mais interessante - os gr√°ficos reais. <br><br><h3>  Fabricante </h3><br>  Voc√™ pode ver os dados nos fabricantes: <br><br><pre> <code class="python hljs">manufacturer, manufacturer_cnt = extract_as_hist(df_cars, <span class="hljs-string"><span class="hljs-string">'manufacturer'</span></span>) plt.gca().invert_yaxis() plt.xticks(np.arange(min(manufacturer_cnt)<span class="hljs-number"><span class="hljs-number">-2</span></span>, max(manufacturer_cnt)+<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1.0</span></span>)) plt.barh(manufacturer, manufacturer_cnt, label=<span class="hljs-string"><span class="hljs-string">'Car Manufacturer'</span></span>)</code> </pre> <br>  Gr√°fico: <br><br><img src="https://habrastorage.org/webt/rt/nl/wn/rtnlwntqqhzibbzgxzb7wv7tql4.png"><br><br>  A Volkswagen √© eliminada em primeiro lugar com uma margem percept√≠vel, a segunda √© dividida igualmente pela BMW, Mercedes e Volvo.  Nem um √∫nico VAZ foi observado durante o teste;) <br><br><h3>  Ano de fabrica√ß√£o </h3><br>  Eu n√£o vou dar o c√≥digo, √© o mesmo.  Agende imediatamente: <br><br><img src="https://habrastorage.org/webt/-g/0f/0g/-g0f0ghldz5njj0pwlse3yvdnoo.png"><br><br>  Como voc√™ pode ver, a maioria das pessoas dirige carros h√° menos de cinco anos, embora os carros de 10 anos n√£o sejam ex√≥ticos.  Existem at√© algumas raridades de 1993 e 1994.  Acabou sendo o VOLVO 240 POLAR U9 e o BMW 325I CABRIOLET E2, respectivamente. <br><br><h3>  Pre√ßos </h3><br>  Vou lhe dar um gr√°fico imediatamente: <br><br><img src="https://habrastorage.org/webt/vp/2b/gi/vp2bgi_pp6pyeslh1vxqro0bns4.png"><br><br>  Vemos que a maior parte do carro tem um pico muito claro a um pre√ßo m√©dio de cerca de 30 mil euros.  A parte superior da parte superior √© ocupada pelo TESLA MODEL X 2018 (120K) e PORSCHE CAYENNE DIESEL 2014 (115K).  O carro mais barato - 2012 PEUGEOT 107 para 5K. <br><br>  Obviamente, √© imposs√≠vel extrair mais de um conjunto de dados de 100 m√°quinas - a sele√ß√£o √© muito pequena.  Vamos para a pr√≥xima etapa - consideraremos os dados de todo o pa√≠s. <br><br><h2>  Dados gerais para a Holanda </h2><br>  Primeiro, voc√™ precisa baixar o banco de dados inteiro, o que nos permitir√° extrair muito mais dados.  Os arquivos est√£o dispon√≠veis na <a href="https://opendata.rdw.nl/browse%3Fcategory%3DVoertuigen%26provenance%3Dofficial">p√°gina RDW</a> , o tamanho do arquivo CSV necess√°rio √© de aproximadamente 7 GB. <br><br>  O c√≥digo aqui √© praticamente o mesmo, n√£o vou repetir, iremos direto aos resultados.  Todos os gr√°ficos est√£o relacionados aos dados de 2019; em outros anos, quem desejar pode imprimi-los por conta pr√≥pria.  No total, 672 mil carros foram registrados durante o ano, o que √© bastante, considerando que toda a popula√ß√£o da Holanda √© de 17 milh√µes de pessoas. <br><br><h3>  Fabricante </h3><br>  A lista geral √© bastante longa; vamos obter os 30 primeiros. <br><br><img src="https://habrastorage.org/webt/6a/w4/bq/6aw4bqs8orle5a1lem81gyy-hco.png"><br><br>  Como no teste local, a Volkswagen ocupa o primeiro lugar por uma ampla margem.  O restante √© vis√≠vel no gr√°fico.  O interessante √© que a Tesla pode ser notada, que entrou com bastante confian√ßa nos 10 melhores carros comprados em 2019. <br><br>  A prop√≥sito, se voc√™ aumentar outra parte do cronograma, poder√° ver que em 2019 em Lland Lada e UAZ foram comprados ou importados, com um total de cerca de 10 pe√ßas: <br><br><img src="https://habrastorage.org/webt/wc/mc/mk/wcmcmkvwz3qgn-kwq6qcape1yem.png"><br><br>  Se algu√©m n√£o acredita - <a href="">UAZ BUKHANKA</a> , importado em maio de 2019, o pre√ßo do cat√°logo √© 32385 Euros (provavelmente n√£o entendo algo aqui no pre√ßo, tudo bem).  No total, na Holanda, durante todos os anos, foram registrados at√© 732 carros LADA: <br><br><img src="https://habrastorage.org/webt/4n/6t/uv/4n6tuveq4nllyjxjoh1xh99oyhy.png"><br><br><h3>  Modelo </h3><br>  Aqui os resultados foram inesperados.  O primeiro lugar em 2019 √© ocupado pelo Tesla Model 3, dos quais quase 30 mil foram registrados.  O restante √© vis√≠vel no gr√°fico. <br><br><img src="https://habrastorage.org/webt/e3/xs/zz/e3xszzd32ozum3xwm_zmwqnp9u4.png"><br><br>  Aqui, √© claro, apenas parte da programa√ß√£o, o conjunto seria muito longo. <br><br><h3>  Cor </h3><br>  Existem poucas op√ß√µes em termos de cores, tudo fica claro a partir da imagem, mesmo sem tradu√ß√£o. <br><br><img src="https://habrastorage.org/webt/c6/gd/ag/c6gdagqhfxy0_xeos6epf__m87o.png"><br><br>  O cinza vem primeiro, depois o preto e o branco e, em geral, a escolha das cores √© pequena.  By the way, aerografia e v√°rias obras de arte n√£o s√£o aceitas na Holanda a partir da palavra "completamente", esses carros nas ruas nunca foram encontrados sequer uma vez. <br><br><h3>  Pre√ßo </h3><br>  A categoria seguinte e bastante interessante √© o pre√ßo. <br><br><img src="https://habrastorage.org/webt/es/a1/79/esa179sgcjczmndgbd1npvh8yjq.png"><br><br>  Como no teste local, os dados s√£o semelhantes - o pico cai nos carros a um custo de 20 a 30K.  O gr√°fico continua √† direita e mais al√©m - os tr√™s primeiros s√£o ocupados por <a href="">VOLKSWAGEN TOUAREG</a> , <a href="">CAPRON T66</a> e <a href="">AUDI A6 3.0 TDI</a> a um pre√ßo de 8,8 milh√µes de euros. <br><br><h3>  Tipo de carro </h3><br>  Essa categoria acabou sendo bastante interessante. <br><br><img src="https://habrastorage.org/webt/l2/lr/sm/l2lrsmyelcfwmmp1ljoydr7fna0.png"><br><br>  O topo √© bem √≥bvio - stationwagen (station wagon), hatchback, MPV (station wagon) e sedan.  Outra coisa √© curiosa - as categorias de "limusine" (42 carros), "carro funer√°rio" (47 carros) e "ambul√¢ncia" (153 carros).  E isso tudo est√° na categoria de ‚Äúcarros pessoais‚Äù (provavelmente essas 47 pessoas ganham dinheiro extra em seu tempo livre transportando um carro f√∫nebre, √© dif√≠cil dizer).  By the way, se algu√©m estiver interessado em como √© um carro f√∫nebre de passageiros (na R√∫ssia eu nunca vi tais, embora eu possa n√£o ter prestado aten√ß√£o), a foto abaixo do spoiler: <br><div class="spoiler">  <b class="spoiler_title">Foto</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/4v/4g/ow/4v4gowoawyagzjdrxg15kvufcfk.png"><br>  <i>Fonte: Google</i> </div></div><br>  Conforme sugerido nos coment√°rios, uma categoria bastante popular de carros pessoais √© o "campista" ( <a href="https://nl.wikipedia.org/wiki/Kampeerauto">kampeerwagen</a> ), 5604 deles foram registrados em 2019. <br><br>  Nisto terminarei com os gr√°ficos, ainda havia id√©ias para ver o peso ou a pot√™ncia, mas o artigo j√° √© muito longo. <br><br><h2>  Conclus√µes </h2><br>  Francamente, eu n√£o sou especialista em carros, ent√£o n√£o haver√° conclus√µes separadas.  O conjunto de dados est√° dispon√≠vel para todos que desejam, eles podem coletar estat√≠sticas por conta pr√≥pria, existem fragmentos de c√≥digo-chave no texto. <br><br>  Se algu√©m tiver dados para outros pa√≠ses, seria interessante comparar. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt485426/">https://habr.com/ru/post/pt485426/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt485398/index.html">Antipatterns do PostgreSQL: acerte o dicion√°rio pesado JOIN</a></li>
<li><a href="../pt485404/index.html">Percebemos o efeito visual do filme "The Matrix"</a></li>
<li><a href="../pt485416/index.html">Maneiras pr√°ticas de mapear dados no Kotlin</a></li>
<li><a href="../pt485418/index.html">PHPUnit. "Como fa√ßo para testar meu maldito controlador" ou testar se h√° d√∫vidas</a></li>
<li><a href="../pt485424/index.html">Como eu ensino crian√ßas Python</a></li>
<li><a href="../pt485428/index.html">O misterioso programa LyX. Parte 5</a></li>
<li><a href="../pt485430/index.html">Editor de texto multiusu√°rio simples com criptografia de ponta a ponta</a></li>
<li><a href="../pt485438/index.html">Testando componentes da interface do usu√°rio do React</a></li>
<li><a href="../pt485448/index.html">Outro r√°dio FM no RDA5807 executando o Arduino</a></li>
<li><a href="../pt485450/index.html">O que h√° de novo no SObjectizer-5.7.0 e o que est√° aguardando este projeto a seguir?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>