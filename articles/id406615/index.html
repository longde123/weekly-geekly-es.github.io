<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏽‍🎓 😔 🎦 Lokalisasi dan navigasi di ROS menggunakan rtabmap 🙎 💍 ⏮️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Selamat siang, para pembaca yang budiman. Dalam artikel terakhir saya, saya berbicara tentang dua algoritma SLAM yang dirancang untuk kamera kedalaman...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lokalisasi dan navigasi di ROS menggunakan rtabmap</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/406615/"> Selamat siang, para pembaca yang budiman.  Dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel terakhir saya,</a> saya berbicara tentang dua algoritma SLAM yang dirancang untuk kamera kedalaman: rtabmap dan RGBD-SLAM.  Kemudian kami mencoba hanya membangun peta area.  Pada artikel ini saya akan berbicara tentang kemungkinan pelokalan dan navigasi robot menggunakan algoritma rtabmap.  Yang tertarik, silakan, di bawah kucing. <a name="habracut"></a><br><br><h2>  Lokalisasi di rtabmap dengan visualisasi di rviz </h2><br>  Untuk memulainya, jika master ROS tidak berjalan, kemudian jalankan: <br><br><pre><code class="bash hljs">roscore</code> </pre> <br>  Jalankan driver untuk kamera: <br><br><pre> <code class="bash hljs">roslaunch freenect_launch freenect.launch depth_registration:=<span class="hljs-literal"><span class="hljs-literal">true</span></span></code> </pre><br>  Jalankan rtabmap untuk membangun peta dengan visualisasi di rviz dan menghapus peta lama: <br><br><pre> <code class="bash hljs">roslaunch rtabmap_ros rtabmap.launch rtabmap_args:=<span class="hljs-string"><span class="hljs-string">"--delete_db_on_start"</span></span> rtabmapviz:=<span class="hljs-literal"><span class="hljs-literal">false</span></span> rviz:=<span class="hljs-literal"><span class="hljs-literal">true</span></span></code> </pre><br>  Ketika prosedur pembuatan peta selesai, kami keluar dari program menggunakan Ctrl + C untuk menyimpan peta dan memulai ulang rtabmap dalam mode lokalisasi: <br><br><pre> <code class="bash hljs">roslaunch rtabmap_ros rtabmap.launch localization:=<span class="hljs-literal"><span class="hljs-literal">true</span></span> rtabmapviz:=<span class="hljs-literal"><span class="hljs-literal">false</span></span> rviz:=<span class="hljs-literal"><span class="hljs-literal">true</span></span></code> </pre><br><img src="https://habrastorage.org/webt/59/e2/5f/59e25fd086528490614987.png" alt="gambar"><br><br>  Untuk menampilkan peta di rviz, Anda perlu mengklik tanda centang di item Unduh Peta pada tampilan MapCloud: <br><br><img src="https://habrastorage.org/webt/59/e2/5f/59e25fd045bc6400228733.png" alt="gambar"><br><br><img src="https://habrastorage.org/webt/59/e2/5f/59e25fd1d6bb8858008322.png" alt="gambar"><br><br>  Pindahkan kamera ke tempat robot berada di peta di rviz.  Setelah itu, transformasi antara sistem koordinat / peta → / odom akan dipublikasikan. <br><br><img src="https://habrastorage.org/webt/59/e2/5f/59e25fd1d99dc995715331.png" alt="gambar"><br><br><h2>  Pembuatan peta dan navigasi menggunakan rtabmap menggunakan Turtlebot sebagai contoh </h2><br>  Pembuatan peta dan lokalisasi robot menggunakan metode rtabmap dapat dicoba pada simulator robot Turtlebot.  Rtabmap memiliki paket khusus untuk ini.  Untuk informasi tambahan, saya memberikan tautan ke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sumber</a> materi.  Pertama, instal paket yang diperlukan: <br><br><pre> <code class="bash hljs">sudo apt-get install ros-&lt;ros_version&gt;-turtlebot-bringup ros-&lt;ros_version&gt;-turtlebot-navigation ros-&lt;ros_version&gt;-rtabmap-ros</code> </pre> <br>  Secara default, driver OpenNI2 digunakan, yang ditentukan dalam file 3dsensor.launch (TURTLEBOT_3D_SENSOR = asus_xtion_pro).  Dalam percobaan saya, saya menggunakan kamera Microsoft Kinect.  Mari kita instal driver untuk itu dalam variabel TURTLEBOT_3D_SENSOR: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">'export TURTLEBOT_3D_SENSOR=kinect'</span></span> &gt;&gt; ~/.bashrc <span class="hljs-built_in"><span class="hljs-built_in">source</span></span> ~/.bashrc</code> </pre><br>  Kami sekarang akan mulai membangun peta menggunakan paket khusus untuk simulator Turtlebot di rtabmap_ros: <br><br><pre> <code class="bash hljs">roslaunch turtlebot_bringup minimal.launch roslaunch rtabmap_ros demo_turtlebot_mapping.launch args:=<span class="hljs-string"><span class="hljs-string">"--delete_db_on_start"</span></span> rgbd_odometry:=<span class="hljs-literal"><span class="hljs-literal">true</span></span> roslaunch rtabmap_ros demo_turtlebot_rviz.launch</code> </pre><br>  Kita akan melihat di jendela rviz: <br><br><img src="https://habrastorage.org/webt/59/d9/53/59d953961dbc6275024888.png"><br><br>  Dan sekarang dengan awan titik-titik dari kamera Kinect: <br><br><img src="https://habrastorage.org/webt/59/d9/53/59d9539757bb2665816204.png" alt="gambar"><br><br>  Anda akan melihat peta dua dimensi, peta tiga dimensi, dan beberapa lagi keluaran topik yang diperlukan untuk navigasi.  Selain itu, tampilan rviz standar dan tambahan khusus untuk rtabmap (Peta Lokal, Peta Global, Rtabmap Cloud) ditampilkan di panel tampilan di sebelah kiri. <br><br><img src="https://habrastorage.org/webt/59/d9/53/59d9539049268830880844.png" alt="gambar"><br><br>  Mari kita gerakkan kamera di luar angkasa dan setelah beberapa saat kita akan melihat: <br><br><img src="https://habrastorage.org/webt/59/d9/53/59d95396613cc070253628.png" alt="gambar"><br><br>  Secara default, rtabmap menggunakan database yang sama setiap kali demo_turtlebot_rviz.launch dijalankan.  Untuk menghapus peta yang lama dan mulai membangun peta lagi (dari awal yang bersih), Anda dapat menghapus secara manual database yang disimpan dalam file ~ / .ros / rtabmap.db, atau jalankan demo_turtlebot_rviz.launch dengan argumen argumen: = "- delete_db_on_start". <br><br>  Jalankan pembangunan peta tanpa menghapus basis data: <br><br><pre> <code class="bash hljs">roslaunch rtabmap_ros demo_turtlebot_mapping.launch</code> </pre><br>  Setelah membangun peta, hasilnya akan terlihat seperti ini: <br><br><img src="https://habrastorage.org/webt/59/d9/53/59d953946cae1684531288.png" alt="gambar"><br><br><h2>  Lokalisasi dengan Turtlebot </h2><br>  Sekarang kita memiliki peta yang disimpan dalam database di file ~ / .ros / rtabmap.db.  Mulai kembali demo_turtlebot_mapping.launch dalam mode pelokalan dengan lokalisasi: = true: <br><br><pre> <code class="bash hljs">roslaunch rtabmap_ros demo_turtlebot_mapping.launch rgbd_odometry:=<span class="hljs-literal"><span class="hljs-literal">true</span></span> localization:=<span class="hljs-literal"><span class="hljs-literal">true</span></span></code> </pre><br>  Kita akan melihat gambar berikut: <br><br><img src="https://habrastorage.org/webt/59/d9/53/59d9539257ec4673381767.png" alt="gambar"><br><br>  Pindahkan Kinect ke samping.  Robot akan menentukan lokasi barunya begitu mendeteksi loop (penutupan loop): <br><br><img src="https://habrastorage.org/webt/59/d9/53/59d95393c5b9f963421118.png" alt="gambar"><br><br>  Deteksi loop yang berhasil akan memakan waktu, jadi bersabarlah. <br>  Ini bekerja sangat cepat: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/FyH_zLts3FE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br><h2>  Navigasi mandiri dengan Turtlebot </h2><br>  Sekarang setelah peta dibuat, Anda dapat mencoba navigasi offline pada peta yang diketahui menggunakan tumpukan Navigasi.  Untuk melakukan ini, cukup tunjukkan untuk robot target saat ini di peta di rviz, ke arah mana robot harus bergerak dalam mode offline.  Segala sesuatu yang lain akan diurus oleh tumpukan Navigasi.  Untuk memulai, cukup klik tombol Goal 2D di rviz <br><br><img src="https://habrastorage.org/webt/4s/uz/il/4suzil33ww1jexedq2saq_vnzgm.png" alt="gambar"><br><br>  dan tunjukkan tujuannya dengan mengklik di tempat sewenang-wenang di peta <br><br><img src="https://habrastorage.org/webt/59/d9/53/59d95390e6e70146482426.png" alt="gambar"><br><br>  Tambahkan tampilan Pose dengan memilih topik "/ move_base / current_goal" untuknya dan tampilan Path dengan memilih topik "/ move_base / NavfnROS / plan".  Anda akan melihat jalur yang direncanakan (garis hijau di peta) dan target yang ditetapkan, ditandai dengan panah merah: <br><br><img src="https://habrastorage.org/webt/59/d9/53/59d95391b10bb368580803.png" alt="gambar"><br><br>  Paket move_base bertanggung jawab untuk mengendalikan robot menuju target.  Ini akan menerbitkan perintah gerak seperti geometry_msgs / Twist ke topik / mobile_base / commands / velocity: <br><br><pre> <code class="bash hljs">rostopic <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> /mobile_base/commands/velocity</code> </pre><br>  Informasi tambahan tentang bekerja dengan tumpukan Navigasi dapat ditemukan dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tutorial</a> di halaman turtlebot_navigation resmi.  Ada juga <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tutorial</a> untuk menggunakan rtabmap di robot Anda sendiri. <br><br>  Jadi, kali ini kami dapat melokalkan robot pada peta yang dibuat sebelumnya dan belajar cara menetapkan tujuan untuk robot sehingga dapat bergerak ke arah itu secara offline.  Semoga sukses dalam eksperimen dan sampai jumpa lagi! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id406615/">https://habr.com/ru/post/id406615/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id406601/index.html">Supersimetri dan masalah hierarki pengukur</a></li>
<li><a href="../id406603/index.html">Menunggu: Mi Mix 2, "Android murni" dan fasilitas lainnya dari Xiaomi</a></li>
<li><a href="../id406605/index.html">PocketBook Merayakan Dasawarsa dan Meluncurkan Pembaca Emas Kolektor</a></li>
<li><a href="../id406609/index.html">Tiga iPhone, jam dan TV. Apa yang ditunjukkan pada presentasi Apple</a></li>
<li><a href="../id406613/index.html">Hambatan air TEPCO</a></li>
<li><a href="../id406617/index.html">Persimpangan jalan. Bab 6</a></li>
<li><a href="../id406619/index.html">Persimpangan jalan. Bab 7 dan 8</a></li>
<li><a href="../id406621/index.html">Tesla Model X Test Drive</a></li>
<li><a href="../id406623/index.html">Tinjau iPhone X dalam hal AR / VR</a></li>
<li><a href="../id406631/index.html">Pria yang menciptakan lebah pembunuh</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>